<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="vue," />





  <link rel="alternate" href="/atom.xml" title="DaliBlogs" type="application/atom+xml" />






<meta name="description" content="å‚è€ƒé“¾æ¥ https:&#x2F;&#x2F;mp.weixin.qq.com&#x2F;s&#x2F;MchD5YiXvuIjhvkj86hTlg ç»„ä»¶é€šä¿¡æ–¹å¼props&#x2F;@on+$emité€šè¿‡ props å¯ä»¥æŠŠçˆ¶ç»„ä»¶çš„æ¶ˆæ¯ä¼ é€’ç»™å­ç»„ä»¶ï¼š 123456789&#x2F;&#x2F; parent.vue    &lt;child :title&#x3D;&quot;title&quot;&gt;&lt;&#x2F;child&gt;">
<meta property="og:type" content="article">
<meta property="og:title" content="34æ¡æˆ‘èƒ½å‘Šè¯‰ä½ çš„Vueä¹‹å®æ“ç¯‡">
<meta property="og:url" content="http://yoursite.com/2021/01/21/34%E6%9D%A1%E6%88%91%E8%83%BD%E5%91%8A%E8%AF%89%E4%BD%A0%E7%9A%84Vue%E4%B9%8B%E5%AE%9E%E6%93%8D%E7%AF%87/index.html">
<meta property="og:site_name" content="DaliBlogs">
<meta property="og:description" content="å‚è€ƒé“¾æ¥ https:&#x2F;&#x2F;mp.weixin.qq.com&#x2F;s&#x2F;MchD5YiXvuIjhvkj86hTlg ç»„ä»¶é€šä¿¡æ–¹å¼props&#x2F;@on+$emité€šè¿‡ props å¯ä»¥æŠŠçˆ¶ç»„ä»¶çš„æ¶ˆæ¯ä¼ é€’ç»™å­ç»„ä»¶ï¼š 123456789&#x2F;&#x2F; parent.vue    &lt;child :title&#x3D;&quot;title&quot;&gt;&lt;&#x2F;child&gt;">
<meta property="article:published_time" content="2021-01-21T02:51:01.000Z">
<meta property="article:modified_time" content="2022-05-09T07:23:02.960Z">
<meta property="article:author" content="Dali">
<meta property="article:tag" content="vue">
<meta name="twitter:card" content="summary">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'åšä¸»'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2021/01/21/34æ¡æˆ‘èƒ½å‘Šè¯‰ä½ çš„Vueä¹‹å®æ“ç¯‡/"/>





  <title>34æ¡æˆ‘èƒ½å‘Šè¯‰ä½ çš„Vueä¹‹å®æ“ç¯‡ | DaliBlogs</title>
  








<meta name="generator" content="Hexo 4.2.1"></head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">DaliBlogs</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            é¦–é¡µ
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            å…³äº
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            æ ‡ç­¾
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            åˆ†ç±»
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            å½’æ¡£
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            æœç´¢
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="æœç´¢..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2021/01/21/34%E6%9D%A1%E6%88%91%E8%83%BD%E5%91%8A%E8%AF%89%E4%BD%A0%E7%9A%84Vue%E4%B9%8B%E5%AE%9E%E6%93%8D%E7%AF%87/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Dali">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/header.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DaliBlogs">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">34æ¡æˆ‘èƒ½å‘Šè¯‰ä½ çš„Vueä¹‹å®æ“ç¯‡</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2021-01-21T10:51:01+08:00">
                2021-01-21
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/vue/" itemprop="url" rel="index">
                    <span itemprop="name">vue</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>å‚è€ƒé“¾æ¥ <a href="https://mp.weixin.qq.com/s/MchD5YiXvuIjhvkj86hTlg" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/MchD5YiXvuIjhvkj86hTlg</a></p>
<h2 id="ç»„ä»¶é€šä¿¡æ–¹å¼"><a href="#ç»„ä»¶é€šä¿¡æ–¹å¼" class="headerlink" title="ç»„ä»¶é€šä¿¡æ–¹å¼"></a>ç»„ä»¶é€šä¿¡æ–¹å¼</h2><h3 id="props-on-emit"><a href="#props-on-emit" class="headerlink" title="props/@on+$emit"></a>props/@on+$emit</h3><p>é€šè¿‡ <code>props</code> å¯ä»¥æŠŠçˆ¶ç»„ä»¶çš„æ¶ˆæ¯ä¼ é€’ç»™å­ç»„ä»¶ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; parent.vue    </span><br><span class="line">&lt;child :title&#x3D;&quot;title&quot;&gt;&lt;&#x2F;child&gt;</span><br><span class="line">&#x2F;&#x2F; child.vue</span><br><span class="line">props: &#123;</span><br><span class="line">    title: &#123;</span><br><span class="line">        type: String,</span><br><span class="line">        default: &#39;&#39;,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è€Œé€šè¿‡ <code>@on+$emit</code> ç»„åˆå¯ä»¥å®ç°å­ç»„ä»¶ç»™çˆ¶ç»„ä»¶ä¼ é€’ä¿¡æ¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; parent.vue</span><br><span class="line">&lt;child @changeTitle&#x3D;&quot;changeTitle&quot;&gt;&lt;&#x2F;child&gt;</span><br><span class="line">&#x2F;&#x2F; child.vue</span><br><span class="line">this.$emit(&#39;changeTitle&#39;, &#39;bubuzou.com&#39;)</span><br></pre></td></tr></table></figure>

<a id="more"></a>

<h3 id="attrså’Œlisteners"><a href="#attrså’Œlisteners" class="headerlink" title="attrså’Œlisteners"></a>attrså’Œlisteners</h3><p><code>Vue_2.4</code> ä¸­æ–°å¢çš„ <code>$attrs/$listeners</code> å¯ä»¥è¿›è¡Œè·¨çº§çš„ç»„ä»¶é€šä¿¡ã€‚<code>$attrs</code> åŒ…å«äº†çˆ¶çº§ä½œç”¨åŸŸä¸­ä¸ä½œä¸º <code>prop</code> çš„å±æ€§ç»‘å®šï¼ˆ<code>class</code> å’Œ <code>style</code> é™¤å¤–ï¼‰ï¼Œå¥½åƒå¬èµ·æ¥æœ‰äº›ä¸å¥½ç†è§£ï¼Ÿæ²¡äº‹ï¼Œçœ‹ä¸‹ä»£ç å°±çŸ¥é“æ˜¯ä»€ä¹ˆæ„æ€äº†ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; çˆ¶ç»„ä»¶ index.vue</span><br><span class="line">&lt;list class&#x3D;&quot;list-box&quot; title&#x3D;&quot;æ ‡é¢˜&quot; desc&#x3D;&quot;æè¿°&quot; :list&#x3D;&quot;list&quot;&gt;&lt;&#x2F;list&gt;</span><br><span class="line">&#x2F;&#x2F; å­ç»„ä»¶ list.vue</span><br><span class="line">props: &#123;</span><br><span class="line">    list: [],</span><br><span class="line">&#125;,</span><br><span class="line">mounted() &#123;</span><br><span class="line">    console.log(this.$attrs)  &#x2F;&#x2F; &#123;title: &quot;æ ‡é¢˜&quot;, desc: &quot;æè¿°&quot;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨ä¸Šé¢çš„çˆ¶ç»„ä»¶ <code>index.vue</code> ä¸­æˆ‘ä»¬ç»™å­ç»„ä»¶ <code>list.vue</code> ä¼ é€’äº†4ä¸ªå‚æ•°ï¼Œä½†æ˜¯åœ¨å­ç»„ä»¶å†…éƒ¨ <code>props</code> é‡Œåªå®šä¹‰äº†ä¸€ä¸ª <code>list</code>ï¼Œé‚£ä¹ˆæ­¤æ—¶ <code>this.$attrs</code> çš„å€¼æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿé¦–å…ˆè¦å»é™¤ <code>props</code> ä¸­å·²ç»ç»‘å®šäº†çš„ï¼Œç„¶åå†å»é™¤ <code>class</code> å’Œ <code>style</code>ï¼Œæœ€åå‰©ä¸‹ <code>title</code> å’Œ <code>desc</code> ç»“æœå’Œæ‰“å°çš„æ˜¯ä¸€è‡´çš„ã€‚åŸºäºä¸Šé¢ä»£ç çš„åŸºç¡€ä¸Šï¼Œæˆ‘ä»¬åœ¨ç»™ å­ç»„ä»¶<code>list.vue</code> ä¸­åŠ ä¸€ä¸ªå­ç»„ä»¶ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; å­™å­ç»„ä»¶ detail.vue</span><br><span class="line">&lt;detail v-bind&#x3D;&quot;$attrs&quot;&gt;&lt;&#x2F;detial&gt;</span><br><span class="line">&#x2F;&#x2F; ä¸å®šä¹‰propsï¼Œç›´æ¥æ‰“å° $attrs</span><br><span class="line">mounted() &#123;</span><br><span class="line">    console.log(this.$attrs)  &#x2F;&#x2F; &#123;title: &quot;æ ‡é¢˜&quot;, desc: &quot;æè¿°&quot;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨å­ç»„ä»¶ä¸­æˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ª <code>v-bind=&quot;$attrs&quot;</code> å¯ä»¥æŠŠçˆ¶çº§ä¼ è¿‡æ¥çš„å‚æ•°ï¼Œå»é™¤ <code>props</code>ã€<code>class</code> å’Œ <code>style</code> ä¹‹åå‰©ä¸‹çš„ç»§ç»­å¾€ä¸‹çº§ä¼ é€’ï¼Œè¿™æ ·å°±å®ç°äº†è·¨çº§çš„ç»„ä»¶é€šä¿¡ã€‚</p>
<p><code>$attrs</code> æ˜¯å¯ä»¥è¿›è¡Œè·¨çº§çš„å‚æ•°ä¼ é€’ï¼Œå®ç°çˆ¶åˆ°å­çš„é€šä¿¡ï¼›åŒæ ·çš„ï¼Œé€šè¿‡ <code>$listeners</code> ç”¨ç±»ä¼¼çš„æ“ä½œæ–¹å¼å¯ä»¥è¿›è¡Œè·¨çº§çš„äº‹ä»¶ä¼ é€’ï¼Œå®ç°å­åˆ°çˆ¶çš„é€šä¿¡ã€‚<code>$listeners</code> åŒ…å«äº†çˆ¶ä½œç”¨åŸŸä¸­ä¸å« <code>.native</code> ä¿®é¥°çš„ <code>v-on</code> äº‹ä»¶ç›‘å¬å™¨ï¼Œé€šè¿‡ <code>v-on=&quot;$listeners&quot;</code> ä¼ é€’åˆ°å­ç»„ä»¶å†…éƒ¨ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;list @change&#x3D;&quot;change&quot; @update.native&#x3D;&quot;update&quot;&gt;&lt;&#x2F;list&gt;</span><br><span class="line">&#x2F;&#x2F; å­ç»„ä»¶ list.vue</span><br><span class="line">&lt;detail v-on&#x3D;&quot;$listeners&quot;&gt;&lt;&#x2F;detail&gt;</span><br><span class="line">&#x2F;&#x2F; å­™å­ç»„ä»¶ detail.vue</span><br><span class="line">mounted() &#123;</span><br><span class="line">    this.$listeners.change()</span><br><span class="line">    this.$listeners.update() &#x2F;&#x2F; TypeError: this.$listeners.update is not a function</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="provide-injectç»„åˆæ‹³"><a href="#provide-injectç»„åˆæ‹³" class="headerlink" title="provide/injectç»„åˆæ‹³"></a>provide/injectç»„åˆæ‹³</h3><p><code>provide/inject</code> ç»„åˆä»¥å…è®¸ä¸€ä¸ªç¥–å…ˆç»„ä»¶å‘å…¶æ‰€æœ‰å­å­™åä»£æ³¨å…¥ä¸€ä¸ªä¾èµ–ï¼Œå¯ä»¥æ³¨å…¥å±æ€§å’Œæ–¹æ³•ï¼Œä»è€Œå®ç°è·¨çº§çˆ¶å­ç»„ä»¶é€šä¿¡ã€‚åœ¨å¼€å‘é«˜é˜¶ç»„ä»¶å’Œç»„ä»¶åº“çš„æ—¶å€™å°¤å…¶å¥½ç”¨ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; çˆ¶ç»„ä»¶ index.vue</span><br><span class="line">data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">        title: &#39;bubuzou.com&#39;,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">provide() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">        detail: &#123;</span><br><span class="line">            title: this.title,</span><br><span class="line">            change: (val) &#x3D;&gt; &#123;</span><br><span class="line">                console.log( val )</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; å­™å­ç»„ä»¶ detail.vue</span><br><span class="line">inject: [&#39;detail&#39;],</span><br><span class="line">mounted() &#123;</span><br><span class="line">    console.log(this.detail.title)  &#x2F;&#x2F; bubuzou.com</span><br><span class="line">    this.detail.title &#x3D; &#39;hello world&#39;  &#x2F;&#x2F; è™½ç„¶å€¼è¢«æ”¹å˜äº†ï¼Œä½†æ˜¯çˆ¶ç»„ä»¶ä¸­ title å¹¶ä¸ä¼šé‡æ–°æ¸²æŸ“</span><br><span class="line">    this.detail.change(&#39;æ”¹å˜åçš„å€¼&#39;)  &#x2F;&#x2F; æ‰§è¡Œè¿™å¥åå°†æ‰“å°ï¼šæ”¹å˜åçš„å€¼ </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<blockquote>
<p><code>provide</code> å’Œ <code>inject</code> çš„ç»‘å®šå¯¹äºåŸå§‹ç±»å‹æ¥è¯´å¹¶ä¸æ˜¯å¯å“åº”çš„ã€‚è¿™æ˜¯åˆ»æ„ä¸ºä¹‹çš„ã€‚ç„¶è€Œï¼Œå¦‚æœä½ ä¼ å…¥äº†ä¸€ä¸ªå¯ç›‘å¬çš„å¯¹è±¡ï¼Œé‚£ä¹ˆå…¶å¯¹è±¡çš„ property è¿˜æ˜¯å¯å“åº”çš„ã€‚è¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆåœ¨å­™å­ç»„ä»¶ä¸­æ”¹å˜äº† <code>title</code>ï¼Œä½†æ˜¯çˆ¶ç»„ä»¶ä¸ä¼šé‡æ–°æ¸²æŸ“çš„åŸå› ã€‚</p>
</blockquote>
<h3 id="EventBus"><a href="#EventBus" class="headerlink" title="EventBus"></a>EventBus</h3><p>ä»¥ä¸Šä¸‰ç§æ–¹å¼éƒ½æ˜¯åªèƒ½ä»çˆ¶åˆ°å­æ–¹å‘æˆ–è€…å­åˆ°çˆ¶æ–¹å‘è¿›è¡Œç»„ä»¶çš„é€šä¿¡ï¼Œè€Œæˆ‘å°±æ¯”è¾ƒç‰›é€¼äº†ğŸ˜€ï¼Œæˆ‘è¿˜èƒ½è¿›è¡Œå…„å¼Ÿç»„ä»¶ä¹‹é—´çš„é€šä¿¡ï¼Œç”šè‡³ä»»æ„2ä¸ªç»„ä»¶é—´é€šä¿¡ã€‚åˆ©ç”¨ <code>Vue</code> å®ä¾‹å®ç°ä¸€ä¸ª <code>EventBus</code> è¿›è¡Œä¿¡æ¯çš„å‘å¸ƒå’Œè®¢é˜…ï¼Œå¯ä»¥å®ç°åœ¨ä»»æ„2ä¸ªç»„ä»¶ä¹‹é—´é€šä¿¡ã€‚æœ‰ä¸¤ç§å†™æ³•éƒ½å¯ä»¥åˆå§‹åŒ–ä¸€ä¸ª <code>eventBus</code> å¯¹è±¡ï¼š</p>
<ol>
<li><p>é€šè¿‡å¯¼å‡ºä¸€ä¸ª <code>Vue</code> å®ä¾‹ï¼Œç„¶åå†éœ€è¦çš„åœ°æ–¹å¼•å…¥ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; eventBus.js</span><br><span class="line">import Vue from &#39;vue&#39;</span><br><span class="line">export const EventBus &#x3D; new Vue()</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ <code>EventBus</code> è®¢é˜…å’Œå‘å¸ƒæ¶ˆæ¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">import &#123;EventBus&#125; from &#39;..&#x2F;utils&#x2F;eventBus.js&#39;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; è®¢é˜…å¤„</span><br><span class="line">EventBus.$on(&#39;update&#39;, val &#x3D;&gt; &#123;&#125;)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; å‘å¸ƒå¤„</span><br><span class="line">EventBus.$emit(&#39;update&#39;, &#39;æ›´æ–°ä¿¡æ¯&#39;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>åœ¨ <code>main.js</code> ä¸­åˆå§‹åŒ–ä¸€ä¸ªå…¨å±€çš„äº‹ä»¶æ€»çº¿ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; main.js</span><br><span class="line">Vue.prototype.$eventBus &#x3D; new Vue()</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; éœ€è¦è®¢é˜…çš„åœ°æ–¹</span><br><span class="line">this.$eventBus.$on(&#39;update&#39;, val &#x3D;&gt; &#123;&#125;)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; éœ€è¦å‘å¸ƒä¿¡æ¯çš„åœ°æ–¹</span><br><span class="line">this.$eventBus.$emit(&#39;update&#39;, &#39;æ›´æ–°ä¿¡æ¯&#39;)</span><br></pre></td></tr></table></figure>

</li>
</ol>
<p>å¦‚æœæƒ³è¦ç§»é™¤äº‹ä»¶ç›‘å¬ï¼Œå¯ä»¥è¿™æ ·æ¥ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">this.$eventBus.$off(&#39;update&#39;, &#123;&#125;)</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä»‹ç»äº†ä¸¤ç§å†™æ³•ï¼Œæ¨èä½¿ç”¨ç¬¬äºŒç§å…¨å±€å®šä¹‰çš„æ–¹å¼ï¼Œå¯ä»¥é¿å…åœ¨å¤šå¤„å¯¼å…¥ <code>EventBus</code> å¯¹è±¡ã€‚è¿™ç§ç»„ä»¶é€šä¿¡æ–¹å¼åªè¦è®¢é˜…å’Œå‘å¸ƒçš„é¡ºåºå¾—å½“ï¼Œä¸”äº‹ä»¶åç§°ä¿æŒå”¯ä¸€æ€§ï¼Œç†è®ºä¸Šå¯ä»¥åœ¨ä»»ä½• 2 ä¸ªç»„ä»¶ä¹‹é—´è¿›è¡Œé€šä¿¡ï¼Œç›¸å½“çš„å¼ºå¤§ã€‚ä½†æ˜¯æ–¹æ³•è™½å¥½ï¼Œå¯ä¸è¦æ»¥ç”¨ï¼Œå»ºè®®åªç”¨äºç®€å•ã€å°‘é‡ä¸šåŠ¡çš„é¡¹ç›®ä¸­ï¼Œå¦‚æœåœ¨ä¸€ä¸ªå¤§å‹ç¹æ‚çš„é¡¹ç›®ä¸­æ— ä¼‘æ­¢çš„ä½¿ç”¨è¯¥æ–¹æ³•ï¼Œå°†ä¼šå¯¼è‡´é¡¹ç›®éš¾ä»¥ç»´æŠ¤ã€‚</p>
<h3 id="Vuexè¿›è¡Œå…¨å±€çš„æ•°æ®ç®¡ç†"><a href="#Vuexè¿›è¡Œå…¨å±€çš„æ•°æ®ç®¡ç†" class="headerlink" title="Vuexè¿›è¡Œå…¨å±€çš„æ•°æ®ç®¡ç†"></a>Vuexè¿›è¡Œå…¨å±€çš„æ•°æ®ç®¡ç†</h3><p><code>Vuex</code> æ˜¯ä¸€ä¸ªä¸“é—¨æœåŠ¡äº <code>Vue.js</code> åº”ç”¨çš„çŠ¶æ€ç®¡ç†å·¥å…·ã€‚é€‚ç”¨äºä¸­å¤§å‹åº”ç”¨ã€‚<code>Vuex</code> ä¸­æœ‰ä¸€äº›ä¸“æœ‰æ¦‚å¿µéœ€è¦å…ˆäº†è§£ä¸‹ï¼š</p>
<ul>
<li><code>State</code>ï¼šç”¨äºæ•°æ®çš„å­˜å‚¨ï¼Œæ˜¯ <code>store</code> ä¸­çš„å”¯ä¸€æ•°æ®æºï¼›</li>
<li><code>Getter</code>ï¼šç±»ä¼¼äºè®¡ç®—å±æ€§ï¼Œå°±æ˜¯å¯¹ <code>State</code> ä¸­çš„æ•°æ®è¿›è¡ŒäºŒæ¬¡çš„å¤„ç†ï¼Œæ¯”å¦‚ç­›é€‰å’Œå¯¹å¤šä¸ªæ•°æ®è¿›è¡Œæ±‚å€¼ç­‰ï¼›</li>
<li><code>Mutation</code>ï¼šç±»ä¼¼äº‹ä»¶ï¼Œæ˜¯æ”¹å˜ <code>Store</code> ä¸­æ•°æ®çš„å”¯ä¸€é€”å¾„ï¼Œåªèƒ½è¿›è¡ŒåŒæ­¥æ“ä½œï¼›</li>
<li><code>Action</code>ï¼šç±»ä¼¼ <code>Mutation</code>ï¼Œé€šè¿‡æäº¤ <code>Mutation</code> æ¥æ”¹å˜æ•°æ®ï¼Œè€Œä¸ç›´æ¥æ“ä½œ <code>State</code>ï¼Œå¯ä»¥è¿›è¡Œå¼‚æ­¥æ“ä½œï¼›</li>
<li><code>Module</code>ï¼šå½“ä¸šåŠ¡å¤æ‚çš„æ—¶å€™ï¼Œå¯ä»¥æŠŠ <code>store</code> åˆ†æˆå¤šä¸ªæ¨¡å—ï¼Œä¾¿äºç»´æŠ¤ï¼›</li>
</ul>
<p>å¯¹äºè¿™å‡ ä¸ªæ¦‚å¿µæœ‰å„ç§å¯¹åº”çš„ <code>map</code> è¾…åŠ©å‡½æ•°ç”¨æ¥ç®€åŒ–æ“ä½œï¼Œæ¯”å¦‚ <code>mapState</code>ï¼Œå¦‚ä¸‹ä¸‰ç§å†™æ³•å…¶å®æ˜¯ä¸€ä¸ªæ„æ€ï¼Œéƒ½æ˜¯ä¸ºäº†ä» <code>state</code> ä¸­è·å–æ•°æ®ï¼Œå¹¶ä¸”é€šè¿‡è®¡ç®—å±æ€§è¿”å›ç»™ç»„ä»¶ä½¿ç”¨ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">computed: &#123;</span><br><span class="line">    count() &#123;</span><br><span class="line">        return this.$store.state.count</span><br><span class="line">    &#125;,</span><br><span class="line">    ...mapState(&#123;</span><br><span class="line">        count: state &#x3D;&gt; state.count</span><br><span class="line">    &#125;),</span><br><span class="line">    ...mapState([&#39;count&#39;]),</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<p>åˆæ¯”å¦‚ <code>mapMutations</code>ï¼Œ ä»¥ä¸‹ä¸¤ç§å‡½æ•°çš„å®šä¹‰æ–¹å¼è¦å®ç°çš„åŠŸèƒ½æ˜¯ä¸€æ ·çš„ï¼Œéƒ½æ˜¯è¦æäº¤ä¸€ä¸ª <code>mutation</code> å»æ”¹å˜ <code>state</code> ä¸­çš„æ•°æ®ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">methods: &#123;</span><br><span class="line">    increment() &#123;</span><br><span class="line">        this.$store.commit(&#39;increment&#39;)</span><br><span class="line">    &#125;,</span><br><span class="line">    ...mapMutations([&#39;increment&#39;]),</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ¥ä¸‹æ¥å°±ç”¨ä¸€ä¸ªæç®€çš„ä¾‹å­æ¥å±•ç¤º <code>Vuex</code> ä¸­ä»»æ„2ä¸ªç»„ä»¶é—´çš„çŠ¶æ€ç®¡ç†ã€‚1ã€ æ–°å»º <code>store.js</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#39;vue&#39;</span><br><span class="line">import Vuex from &#39;vuex&#39;</span><br><span class="line">Vue.use(Vuex)</span><br><span class="line">    </span><br><span class="line">export default new Vuex.Store(&#123;</span><br><span class="line">    state: &#123;</span><br><span class="line">        count: 0,</span><br><span class="line">    &#125;,</span><br><span class="line">    mutations: &#123;</span><br><span class="line">        increment(state) &#123;</span><br><span class="line">            state.count++</span><br><span class="line">        &#125;,</span><br><span class="line">        decrement(state) &#123;</span><br><span class="line">            state.count--</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>2ã€ åˆ›å»ºä¸€ä¸ªå¸¦ <code>store</code> çš„ <code>Vue</code> å®ä¾‹</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#39;vue&#39;</span><br><span class="line">import App from &#39;.&#x2F;App.vue&#39;</span><br><span class="line">import router from &#39;.&#x2F;router&#39;</span><br><span class="line">import store from &#39;.&#x2F;utils&#x2F;store&#39;</span><br><span class="line">    </span><br><span class="line">new Vue(&#123;</span><br><span class="line">    router,</span><br><span class="line">    store,</span><br><span class="line">    render: h &#x3D;&gt; h(App)</span><br><span class="line">&#125;).$mount(&#39;#app&#39;)</span><br></pre></td></tr></table></figure>

<p>3ã€ ä»»æ„ç»„ä»¶ <code>A</code> å®ç°ç‚¹å‡»é€’å¢</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;p @click&#x3D;&quot;increment&quot;&gt;click to incrementï¼š&#123;&#123;count&#125;&#125;&lt;&#x2F;p&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123;mapState, mapMutations&#125; from &#39;vuex&#39;</span><br><span class="line">export default &#123;</span><br><span class="line">    computed: &#123;</span><br><span class="line">        ...mapState([&#39;count&#39;])</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">        ...mapMutations([&#39;increment&#39;])</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<p>4ã€ ä»»æ„ç»„ä»¶ <code>B</code> å®ç°ç‚¹å‡»é€’å‡</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;p @click&#x3D;&quot;decrement&quot;&gt;click to decrementï¼š&#123;&#123;count&#125;&#125;&lt;&#x2F;p&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123;mapState, mapMutations&#125; from &#39;vuex&#39;</span><br><span class="line">export default &#123;</span><br><span class="line">    computed: &#123;</span><br><span class="line">        ...mapState([&#39;count&#39;])</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">        ...mapMutations([&#39;decrement&#39;])</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<p>ä»¥ä¸Šåªæ˜¯ç”¨æœ€ç®€å•çš„ <code>vuex</code> é…ç½®å»å®ç°ç»„ä»¶é€šä¿¡ï¼Œå½“ç„¶çœŸå®é¡¹ç›®ä¸­çš„é…ç½®è‚¯å®šä¼šæ›´å¤æ‚ï¼Œæ¯”å¦‚éœ€è¦å¯¹ <code>State</code> æ•°æ®è¿›è¡ŒäºŒæ¬¡ç­›é€‰ä¼šç”¨åˆ° <code>Getter</code>ï¼Œç„¶åå¦‚æœéœ€è¦å¼‚æ­¥çš„æäº¤é‚£ä¹ˆéœ€è¦ä½¿ç”¨<code>Action</code>ï¼Œå†æ¯”å¦‚å¦‚æœæ¨¡å—å¾ˆå¤šï¼Œå¯ä»¥å°† <code>store</code> åˆ†æ¨¡å—è¿›è¡ŒçŠ¶æ€ç®¡ç†ã€‚å¯¹äº <code>Vuex</code> æ›´å¤šå¤æ‚çš„æ“ä½œè¿˜æ˜¯å»ºè®®å»çœ‹Vuex å®˜æ–¹æ–‡æ¡£ï¼Œç„¶åå¤šå†™ä¾‹å­ã€‚</p>
<h3 id="Vue-observableå®ç°mini-vuex"><a href="#Vue-observableå®ç°mini-vuex" class="headerlink" title="Vue.observableå®ç°mini vuex"></a>Vue.observableå®ç°mini vuex</h3><p>è¿™æ˜¯ä¸€ä¸ª <code>Vue2.6</code> ä¸­æ–°å¢çš„ <code>API</code>ï¼Œç”¨æ¥è®©ä¸€ä¸ªå¯¹è±¡å¯ä»¥å“åº”ã€‚æˆ‘ä»¬å¯ä»¥åˆ©ç”¨è¿™ä¸ªç‰¹ç‚¹æ¥å®ç°ä¸€ä¸ªå°å‹çš„çŠ¶æ€ç®¡ç†å™¨ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; store.js</span><br><span class="line">import Vue from &#39;vue&#39;</span><br><span class="line"> </span><br><span class="line">export const state &#x3D; Vue.observable(&#123;</span><br><span class="line">    count: 0,</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">export const mutations &#x3D; &#123;</span><br><span class="line">    increment() &#123;</span><br><span class="line">        state.count++</span><br><span class="line">    &#125;</span><br><span class="line">    decrement() &#123;</span><br><span class="line">        state.count--</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;&#x2F; parent.vue</span><br><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;p&gt; count &lt;&#x2F;p&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123; state &#125; from &#39;..&#x2F;store&#39;</span><br><span class="line">export default &#123;</span><br><span class="line">    computed: &#123;</span><br><span class="line">        count() &#123;</span><br><span class="line">            return state.count</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line">&#x2F;&#x2F; child.vue</span><br><span class="line">import  &#123; mutations &#125; from &#39;..&#x2F;store&#39;</span><br><span class="line">export default &#123;</span><br><span class="line">    methods: &#123;</span><br><span class="line">        handleClick() &#123;</span><br><span class="line">            mutations.increment()</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="refs-children-parent-root"><a href="#refs-children-parent-root" class="headerlink" title="refs/children/parent/root"></a>refs/children/parent/root</h3><p>é€šè¿‡ç»™å­ç»„ä»¶å®šä¹‰ <code>ref</code> å±æ€§å¯ä»¥ä½¿ç”¨ <code>$refs</code> æ¥ç›´æ¥æ“ä½œå­ç»„ä»¶çš„æ–¹æ³•å’Œå±æ€§ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;child ref&#x3D;&quot;list&quot;&gt;&lt;&#x2F;child&gt;</span><br></pre></td></tr></table></figure>

<p>æ¯”å¦‚å­ç»„ä»¶æœ‰ä¸€ä¸ª <code>getList</code> æ–¹æ³•ï¼Œå¯ä»¥é€šè¿‡å¦‚ä¸‹æ–¹å¼è¿›è¡Œè°ƒç”¨ï¼Œå®ç°çˆ¶åˆ°å­çš„é€šä¿¡ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">this.$refs.list.getList()</span><br></pre></td></tr></table></figure>

<p>é™¤äº† <code>$refs</code> å¤–ï¼Œå…¶ä»–3ä¸ªéƒ½æ˜¯è‡ª <code>Vue</code> å®ä¾‹åˆ›å»ºåå°±ä¼šè‡ªåŠ¨åŒ…å«çš„å±æ€§ï¼Œä½¿ç”¨å’Œä¸Šé¢çš„ç±»ä¼¼</p>
<h2 id="8ç±»å¯ä»¥æŒæ¡çš„ä¿®é¥°ç¬¦"><a href="#8ç±»å¯ä»¥æŒæ¡çš„ä¿®é¥°ç¬¦" class="headerlink" title="8ç±»å¯ä»¥æŒæ¡çš„ä¿®é¥°ç¬¦"></a>8ç±»å¯ä»¥æŒæ¡çš„ä¿®é¥°ç¬¦</h2><h3 id="è¡¨å•ä¿®é¥°ç¬¦"><a href="#è¡¨å•ä¿®é¥°ç¬¦" class="headerlink" title="è¡¨å•ä¿®é¥°ç¬¦"></a>è¡¨å•ä¿®é¥°ç¬¦</h3><p>è¡¨å•ç±»çš„ä¿®é¥°ç¬¦éƒ½æ˜¯å’Œ <code>v-model</code> æ­é…ä½¿ç”¨çš„ï¼Œæ¯”å¦‚ï¼š<code>v-model.lazy</code>ã€<code>v-model.trim</code> ä»¥åŠ <code>v-model.number</code> ç­‰ã€‚</p>
<ul>
<li><p><code>.lazy</code>ï¼šå¯¹è¡¨å•è¾“å…¥çš„ç»“æœè¿›è¡Œå»¶è¿Ÿå“åº”ï¼Œé€šå¸¸å’Œ <code>v-model</code> æ­é…ä½¿ç”¨ã€‚æ­£å¸¸æƒ…å†µä¸‹åœ¨ <code>input</code> é‡Œè¾“å…¥å†…å®¹ä¼šåœ¨ <code>p</code> æ ‡ç­¾é‡Œå®æ—¶çš„å±•ç¤ºå‡ºæ¥ï¼Œä½†æ˜¯åŠ ä¸Š <code>.lazy</code> ååˆ™éœ€è¦åœ¨è¾“å…¥æ¡†å¤±å»ç„¦ç‚¹çš„æ—¶å€™æ‰è§¦å‘å“åº”ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;input type&#x3D;&quot;text&quot; v-model.lazy&#x3D;&quot;name&quot; &#x2F;&gt;</span><br><span class="line">&lt;p&gt; name &lt;&#x2F;p&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>.trim</code>ï¼šè¿‡æ»¤è¾“å…¥å†…å®¹çš„é¦–å°¾ç©ºæ ¼ï¼Œè¿™ä¸ªå’Œç›´æ¥æ‹¿åˆ°å­—ç¬¦ä¸²ç„¶åé€šè¿‡ <code>str.trim()</code> å»é™¤å­—ç¬¦ä¸²é¦–å°¾ç©ºæ ¼æ˜¯ä¸€ä¸ªæ„æ€ã€‚</p>
</li>
<li><p><code>.number</code>ï¼šå¦‚æœè¾“å…¥çš„ç¬¬ä¸€ä¸ªå­—ç¬¦æ˜¯æ•°å­—ï¼Œé‚£å°±åªèƒ½è¾“å…¥æ•°å­—ï¼Œå¦åˆ™ä»–è¾“å…¥çš„å°±æ˜¯æ™®é€šå­—ç¬¦ä¸²ã€‚</p>
</li>
</ul>
<h3 id="äº‹ä»¶ä¿®é¥°ç¬¦"><a href="#äº‹ä»¶ä¿®é¥°ç¬¦" class="headerlink" title="äº‹ä»¶ä¿®é¥°ç¬¦"></a>äº‹ä»¶ä¿®é¥°ç¬¦</h3><p><code>Vue</code> çš„äº‹ä»¶ä¿®é¥°ç¬¦æ˜¯ä¸“é—¨ä¸º <code>v-on</code> è®¾è®¡çš„ï¼Œå¯ä»¥è¿™æ ·ä½¿ç”¨ï¼š<code>@click.stop=&quot;handleClick&quot;</code>ï¼Œè¿˜èƒ½ä¸²è”ä½¿ç”¨ï¼š<code>@click.stop.prevent=&quot;handleClick&quot;</code>ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;div @click&#x3D;&quot;doDiv&quot;&gt;</span><br><span class="line">    click div</span><br><span class="line">    &lt;p @click&#x3D;&quot;doP&quot;&gt;click p&lt;&#x2F;p&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li><p><code>.stop</code>ï¼šé˜»æ­¢äº‹ä»¶å†’æ³¡ï¼Œå’ŒåŸç”Ÿ <code>event.stopPropagation()</code> æ˜¯ä¸€æ ·çš„æ•ˆæœã€‚å¦‚ä¸Šä»£ç ï¼Œå½“ç‚¹å‡» <code>p</code> æ ‡ç­¾çš„æ—¶å€™ï¼Œ<code>div</code> ä¸Šçš„ç‚¹å‡»äº‹ä»¶ä¹Ÿä¼šè§¦å‘ï¼ŒåŠ ä¸Š <code>.stop</code> åäº‹ä»¶å°±ä¸ä¼šå¾€çˆ¶çº§ä¼ é€’ï¼Œé‚£çˆ¶çº§çš„äº‹ä»¶å°±ä¸ä¼šè§¦å‘äº†ã€‚</p>
</li>
<li><p><code>.prevent</code>ï¼šé˜»æ­¢é»˜è®¤äº‹ä»¶ï¼Œå’ŒåŸç”Ÿçš„ <code>event.preventDefault()</code> æ˜¯ä¸€æ ·çš„æ•ˆæœã€‚æ¯”å¦‚ä¸€ä¸ªå¸¦æœ‰ <code>href</code> çš„é“¾æ¥ä¸Šæ·»åŠ äº†ç‚¹å‡»äº‹ä»¶ï¼Œé‚£ä¹ˆäº‹ä»¶è§¦å‘çš„æ—¶å€™ä¹Ÿä¼šè§¦å‘é“¾æ¥çš„è·³è½¬ï¼Œä½†æ˜¯åŠ ä¸Š <code>.prevent</code> åå°±ä¸ä¼šè§¦å‘é“¾æ¥è·³è½¬äº†ã€‚</p>
</li>
<li><p><code>.capture</code>ï¼šé»˜è®¤çš„äº‹ä»¶æµæ˜¯ï¼šæ•è·é˜¶æ®µ-ç›®æ ‡é˜¶æ®µ-å†’æ³¡é˜¶æ®µï¼Œå³äº‹ä»¶ä»æœ€å…·ä½“ç›®æ ‡å…ƒç´ å¼€å§‹è§¦å‘ï¼Œç„¶åå¾€ä¸Šå†’æ³¡ã€‚è€ŒåŠ ä¸Š <code>.capture</code> ååˆ™æ˜¯åè¿‡æ¥ï¼Œå¤–å±‚å…ƒç´ å…ˆè§¦å‘äº‹ä»¶ï¼Œç„¶åå¾€æ·±å±‚ä¼ é€’ã€‚</p>
</li>
<li><p><code>.self</code>ï¼šåªè§¦å‘è‡ªèº«çš„äº‹ä»¶ï¼Œä¸ä¼šä¼ é€’åˆ°çˆ¶çº§ï¼Œå’Œ <code>.stop</code> çš„ä½œç”¨æœ‰ç‚¹ç±»ä¼¼ã€‚</p>
</li>
<li><p><code>.once</code>ï¼šåªä¼šè§¦å‘ä¸€æ¬¡è¯¥äº‹ä»¶ã€‚</p>
</li>
<li><p><code>.passive</code>ï¼šå½“é¡µé¢æ»šåŠ¨çš„æ—¶å€™å°±ä¼šä¸€ç›´è§¦å‘ <code>onScroll</code> äº‹ä»¶ï¼Œè¿™ä¸ªå…¶å®æ˜¯å­˜åœ¨æ€§èƒ½é—®é¢˜çš„ï¼Œå°¤å…¶æ˜¯åœ¨ç§»åŠ¨ç«¯ï¼Œå½“ç»™ä»–åŠ ä¸Š <code>.passive</code> åè§¦å‘çš„å°±ä¸ä¼šé‚£ä¹ˆé¢‘ç¹äº†ã€‚</p>
</li>
<li><p><code>.native</code>ï¼šç°åœ¨åœ¨ç»„ä»¶ä¸Šä½¿ç”¨ <code>v-on</code> åªä¼šç›‘å¬è‡ªå®šä¹‰äº‹ä»¶ (ç»„ä»¶ç”¨ <code>$emit</code> è§¦å‘çš„äº‹ä»¶)ã€‚å¦‚æœè¦ç›‘å¬æ ¹å…ƒç´ çš„åŸç”Ÿäº‹ä»¶ï¼Œå¯ä»¥ä½¿ç”¨ <code>.native</code> ä¿®é¥°ç¬¦ï¼Œæ¯”å¦‚å¦‚ä¸‹çš„ <code>el-input</code>ï¼Œå¦‚æœä¸åŠ  <code>.native</code> å½“å›è½¦çš„æ—¶å€™å°±ä¸ä¼šè§¦å‘ <code>search</code> å‡½æ•°ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-input type&#x3D;&quot;text&quot; v-model&#x3D;&quot;name&quot; @keyup.enter.native&#x3D;&quot;search&quot;&gt;&lt;&#x2F;el-input&gt;</span><br></pre></td></tr></table></figure>



</li>
</ul>
<blockquote>
<p>ä¸²è”ä½¿ç”¨äº‹ä»¶ä¿®é¥°ç¬¦çš„æ—¶å€™ï¼Œéœ€è¦æ³¨æ„å…¶é¡ºåºï¼ŒåŒæ ·2ä¸ªä¿®é¥°ç¬¦è¿›è¡Œä¸²è”ä½¿ç”¨ï¼Œé¡ºåºä¸åŒï¼Œç»“æœå¤§ä¸ä¸€æ ·ã€‚<code>@click.prevent.self</code> ä¼šé˜»æ­¢æ‰€æœ‰çš„ç‚¹å‡»äº‹ä»¶ï¼Œè€Œ <code>@click.self.prevent</code> åªä¼šé˜»æ­¢å¯¹è‡ªèº«å…ƒç´ çš„ç‚¹å‡»ã€‚</p>
</blockquote>
<h3 id="é¼ æ ‡æŒ‰é’®ä¿®é¥°ç¬¦"><a href="#é¼ æ ‡æŒ‰é’®ä¿®é¥°ç¬¦" class="headerlink" title="é¼ æ ‡æŒ‰é’®ä¿®é¥°ç¬¦"></a>é¼ æ ‡æŒ‰é’®ä¿®é¥°ç¬¦</h3><ul>
<li><code>.left</code>ï¼šé¼ æ ‡å·¦é”®ç‚¹å‡»ï¼›</li>
<li><code>.right</code>ï¼šé¼ æ ‡å³é”®ç‚¹å‡»ï¼›</li>
<li><code>.middle</code>ï¼šé¼ æ ‡ä¸­é”®ç‚¹å‡»ï¼›</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;button @click.right&#x3D;&quot;shout(1)&quot;&gt;ok&lt;&#x2F;button&gt;</span><br></pre></td></tr></table></figure>

<h3 id="é”®ç›˜æŒ‰é”®ä¿®é¥°ç¬¦"><a href="#é”®ç›˜æŒ‰é”®ä¿®é¥°ç¬¦" class="headerlink" title="é”®ç›˜æŒ‰é”®ä¿®é¥°ç¬¦"></a>é”®ç›˜æŒ‰é”®ä¿®é¥°ç¬¦</h3><p><code>Vue</code> æä¾›äº†ä¸€äº›å¸¸ç”¨çš„æŒ‰é”®ç ï¼š</p>
<p>//æ™®é€šé”®</p>
<ul>
<li><code>.enter</code></li>
<li><code>.tab</code></li>
<li><code>.delete</code> (æ•è·â€œåˆ é™¤â€å’Œâ€œé€€æ ¼â€é”®)</li>
<li><code>.esc</code></li>
<li><code>.space</code></li>
<li><code>.up</code></li>
<li><code>.down</code></li>
<li><code>.left</code></li>
<li><code>.right</code></li>
</ul>
<p>//ç³»ç»Ÿä¿®é¥°é”®</p>
<ul>
<li>ctrl</li>
<li>alt</li>
<li>meta</li>
<li>shift</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;input type&#x3D;&quot;text&quot; @keyup.enter&#x3D;&quot;shout(4)&quot;&gt;</span><br></pre></td></tr></table></figure>

<p>ä¹Ÿå¯ä»¥é€šè¿‡å…¨å±€ config.keyCodes å¯¹è±¡è‡ªå®šä¹‰æŒ‰é”®ä¿®é¥°ç¬¦åˆ«åï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; å¯ä»¥ä½¿ç”¨ &#96;v-on:keyup.f1&#96;</span><br><span class="line">Vue.config.keyCodes.f1 &#x3D; 112</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬ä»ä¸Šé¢çœ‹åˆ°ï¼Œé”®åˆ†æˆäº†æ™®é€šå¸¸ç”¨çš„é”®å’Œç³»ç»Ÿä¿®é¥°é”®ï¼ŒåŒºåˆ«æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ<br>å½“æˆ‘ä»¬å†™å¦‚ä¸‹ä»£ç çš„æ—¶å€™,æˆ‘ä»¬ä¼šå‘ç°å¦‚æœ<strong>ä»…ä»…</strong>ä½¿ç”¨ç³»ç»Ÿä¿®é¥°é”®æ˜¯æ— æ³•è§¦å‘keyupäº‹ä»¶çš„ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;input type&#x3D;&quot;text&quot; @keyup.ctrl&#x3D;&quot;shout(4)&quot;&gt;</span><br></pre></td></tr></table></figure>

<p>é‚£è¯¥å¦‚ä½•å‘¢ï¼Ÿæˆ‘ä»¬éœ€è¦å°†ç³»ç»Ÿä¿®é¥°é”®å’Œå…¶ä»–é”®ç é“¾æ¥èµ·æ¥ä½¿ç”¨ï¼Œæ¯”å¦‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;input type&#x3D;&quot;text&quot; @keyup.ctrl.67&#x3D;&quot;shout(4)&quot;&gt;</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·å½“æˆ‘ä»¬åŒæ—¶æŒ‰ä¸‹ctrl+cæ—¶ï¼Œå°±ä¼šè§¦å‘keyupäº‹ä»¶ã€‚<br>å¦ï¼Œå¦‚æœæ˜¯é¼ æ ‡äº‹ä»¶ï¼Œé‚£å°±å¯ä»¥å•ç‹¬ä½¿ç”¨ç³»ç»Ÿä¿®é¥°ç¬¦ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;button @mouseover.ctrl&#x3D;&quot;shout(1)&quot;&gt;ok&lt;&#x2F;button&gt;</span><br><span class="line">&lt;button @mousedown.ctrl&#x3D;&quot;shout(1)&quot;&gt;ok&lt;&#x2F;button&gt;</span><br><span class="line">&lt;button @click.ctrl.67&#x3D;&quot;shout(1)&quot;&gt;ok&lt;&#x2F;button&gt;</span><br></pre></td></tr></table></figure>

<p>å¤§æ¦‚æ˜¯ä»€ä¹ˆæ„æ€å‘¢ï¼Œå°±æ˜¯ä½ ä¸èƒ½<strong>å•æ‰‹æŒ‡ä½¿ç”¨ç³»ç»Ÿä¿®é¥°é”®çš„ä¿®é¥°ç¬¦</strong>ï¼ˆæœ€å°‘ä¸¤ä¸ªæ‰‹æŒ‡ï¼Œå¯ä»¥å¤šä¸ªï¼‰ã€‚ä½ å¯ä»¥ä¸€ä¸ªæ‰‹æŒ‡æŒ‰ä½ç³»ç»Ÿä¿®é¥°é”®ä¸€ä¸ªæ‰‹æŒ‡æŒ‰ä½å¦å¤–ä¸€ä¸ªé”®æ¥å®ç°é”®ç›˜äº‹ä»¶ã€‚ä¹Ÿå¯ä»¥ç”¨ä¸€ä¸ªæ‰‹æŒ‡æŒ‰ä½ç³»ç»Ÿä¿®é¥°é”®ï¼Œå¦ä¸€åªæ‰‹æŒ‰ä½é¼ æ ‡æ¥å®ç°é¼ æ ‡äº‹ä»¶ã€‚</p>
<p>å¦å¤–ï¼Œä½ ä¹Ÿå¯ä»¥ç›´æ¥å°† <code>KeyboardEvent.key</code> æš´éœ²çš„ä»»æ„æœ‰æ•ˆæŒ‰é”®åè½¬æ¢ä¸º <code>kebab-case</code> æ¥ä½œä¸ºä¿®é¥°ç¬¦ï¼Œæ¯”å¦‚å¯ä»¥é€šè¿‡å¦‚ä¸‹çš„ä»£ç æ¥æŸ¥çœ‹å…·ä½“æŒ‰é”®çš„é”®åæ˜¯ä»€ä¹ˆï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;input @keyup&#x3D;&quot;onKeyUp&quot;&gt;</span><br><span class="line">onKeyUp(event) &#123;</span><br><span class="line">    console.log(event.key)  &#x2F;&#x2F; æ¯”å¦‚é”®ç›˜çš„æ–¹å‘é”®å‘ä¸‹å°±æ˜¯ ArrowDown</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="exactä¿®é¥°ç¬¦"><a href="#exactä¿®é¥°ç¬¦" class="headerlink" title=".exactä¿®é¥°ç¬¦"></a>.exactä¿®é¥°ç¬¦</h3><p><code>.exact</code> ä¿®é¥°ç¬¦å…è®¸ä½ æ§åˆ¶ç”±ç²¾ç¡®çš„ç³»ç»Ÿä¿®é¥°ç¬¦ç»„åˆè§¦å‘çš„äº‹ä»¶ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- å³ä½¿ Alt æˆ– Shift è¢«ä¸€åŒæŒ‰ä¸‹æ—¶ä¹Ÿä¼šè§¦å‘ --&gt;</span><br><span class="line">&lt;button v-on:click.ctrl&#x3D;&quot;onClick&quot;&gt;A&lt;&#x2F;button&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- æœ‰ä¸”åªæœ‰ Ctrl è¢«æŒ‰ä¸‹çš„æ—¶å€™æ‰è§¦å‘ --&gt;</span><br><span class="line">&lt;button v-on:click.ctrl.exact&#x3D;&quot;onCtrlClick&quot;&gt;A&lt;&#x2F;button&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- æ²¡æœ‰ä»»ä½•ç³»ç»Ÿä¿®é¥°ç¬¦è¢«æŒ‰ä¸‹çš„æ—¶å€™æ‰è§¦å‘ --&gt;</span><br><span class="line">&lt;button v-on:click.exact&#x3D;&quot;onClick&quot;&gt;A&lt;&#x2F;button&gt;</span><br></pre></td></tr></table></figure>



<h3 id="syncä¿®é¥°ç¬¦"><a href="#syncä¿®é¥°ç¬¦" class="headerlink" title=".syncä¿®é¥°ç¬¦"></a>.syncä¿®é¥°ç¬¦</h3><p><code>.sync</code> ä¿®é¥°ç¬¦å¸¸è¢«ç”¨äºå­ç»„ä»¶æ›´æ–°çˆ¶ç»„ä»¶æ•°æ®ã€‚ç›´æ¥çœ‹ä¸‹é¢çš„ä»£ç ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;çˆ¶äº²ç»„ä»¶</span><br><span class="line">&lt;comp :myMessage&#x3D;&quot;bar&quot; @update:myMessage&#x3D;&quot;func&quot;&gt;&lt;&#x2F;comp&gt;</span><br><span class="line">&#x2F;&#x2F;js</span><br><span class="line">data()&#123;</span><br><span class="line">	return&#123;</span><br><span class="line">		bar:&quot;modeå€¼&quot;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;,</span><br><span class="line">func(e)&#123;</span><br><span class="line"> this.bar &#x3D; e;</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;&#x2F;å­ç»„ä»¶js</span><br><span class="line">func2()&#123;</span><br><span class="line">  this.$emit(&#39;update:myMessage&#39;,params);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç°åœ¨è¿™ä¸ª.syncä¿®é¥°ç¬¦å°±æ˜¯ç®€åŒ–äº†ä¸Šé¢çš„æ­¥éª¤</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;çˆ¶ç»„ä»¶</span><br><span class="line">&lt;comp :myMessage.sync&#x3D;&quot;bar&quot;&gt;&lt;&#x2F;comp&gt; </span><br><span class="line">&#x2F;&#x2F;å­ç»„ä»¶</span><br><span class="line">this.$emit(&#39;update:myMessage&#39;,params);</span><br></pre></td></tr></table></figure>



<blockquote>
<ol>
<li>ä½¿ç”¨syncçš„æ—¶å€™ï¼Œå­ç»„ä»¶ä¼ é€’çš„äº‹ä»¶åå¿…é¡»ä¸ºupdate:valueï¼Œå…¶ä¸­valueå¿…é¡»ä¸å­ç»„ä»¶ä¸­propsä¸­å£°æ˜çš„åç§°å®Œå…¨ä¸€è‡´(å¦‚ä¸Šä¾‹ä¸­çš„myMessageï¼Œä¸èƒ½ä½¿ç”¨my-message)</li>
<li>æ³¨æ„å¸¦æœ‰ .sync ä¿®é¥°ç¬¦çš„ v-bind ä¸èƒ½å’Œè¡¨è¾¾å¼ä¸€èµ·ä½¿ç”¨ (ä¾‹å¦‚ v-bind:title.sync=â€doc.title + â€˜!â€™â€ æ˜¯æ— æ•ˆçš„)ã€‚å–è€Œä»£ä¹‹çš„æ˜¯ï¼Œä½ åªèƒ½æä¾›ä½ æƒ³è¦ç»‘å®šçš„å±æ€§åï¼Œç±»ä¼¼ v-modelã€‚</li>
<li>å°† v-bind.sync ç”¨åœ¨ä¸€ä¸ªå­—é¢é‡çš„å¯¹è±¡ä¸Šï¼Œä¾‹å¦‚ v-bind.sync=â€{ title: doc.title }â€ï¼Œæ˜¯æ— æ³•æ­£å¸¸å·¥ä½œçš„ï¼Œå› ä¸ºåœ¨è§£æä¸€ä¸ªåƒè¿™æ ·çš„å¤æ‚è¡¨è¾¾å¼çš„æ—¶å€™ï¼Œæœ‰å¾ˆå¤šè¾¹ç¼˜æƒ…å†µéœ€è¦è€ƒè™‘ã€‚</li>
</ol>
</blockquote>
<p>å¦‚æœéœ€è¦è®¾ç½®å¤šä¸ª <code>prop</code>ï¼Œæ¯”å¦‚ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;child :name.sync&#x3D;&quot;name&quot; :age.sync&#x3D;&quot;age&quot; :sex.sync&#x3D;&quot;sex&quot;&gt;&lt;&#x2F;child&gt;</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥é€šè¿‡ <code>v-bind.sync</code> ç®€å†™æˆè¿™æ ·ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;child v-bind.sync&#x3D;&quot;person&quot;&gt;&lt;&#x2F;child&gt;</span><br><span class="line">person: &#123;</span><br><span class="line">    name: &#39;bubuzou&#39;,</span><br><span class="line">    age: 21,</span><br><span class="line">    sex: &#39;male&#39;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>Vue</code> å†…éƒ¨ä¼šè‡ªè¡Œè¿›è¡Œè§£ææŠŠ <code>person</code> å¯¹è±¡é‡Œçš„æ¯ä¸ªå±æ€§éƒ½ä½œä¸ºç‹¬ç«‹çš„ <code>prop</code> ä¼ é€’è¿›å»ï¼Œå„è‡ªæ·»åŠ ç”¨äºæ›´æ–°çš„ <code>v-on</code> ç›‘å¬å™¨ã€‚è€Œä»å­ç»„ä»¶è¿›è¡Œæ›´æ–°çš„æ—¶å€™è¿˜æ˜¯ä¿æŒä¸å˜ï¼Œæ¯”å¦‚ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">this.$emit(&#39;update:name&#39;, &#39;hello&#39;)</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">åœ¨ Vue ä¸­ï¼Œæœ‰å‡ ä¸ªçº¦å®šçš„è§„åˆ™ï¼š</span><br><span class="line"></span><br><span class="line">ç»„ä»¶ä¸èƒ½ç›´æ¥ä¿®æ”¹ props å¤–éƒ¨æ•°æ®</span><br><span class="line">$emit å¯ä»¥è§¦å‘å½“å‰å®ä¾‹ä¸Šçš„äº‹ä»¶ï¼Œå¹¶ä¸”ä¼ é€’å‚æ•°ç»™ç›‘å¬å™¨å›è°ƒã€‚</span><br><span class="line">$event å¯ä»¥è·å– $emit çš„å‚æ•°ã€‚</span><br><span class="line"></span><br><span class="line">&lt;button @click&#x3D;&quot;money-&#x3D;100&quot;&gt;</span><br><span class="line">    &lt;span&gt; èŠ±äº† 100&lt;&#x2F;span&gt;</span><br><span class="line">&lt;&#x2F;button&gt;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br><span class="line">å­ç»„ä»¶ä½¿ç”¨ $emit è§¦å‘äº‹ä»¶ï¼Œå¯ä»¥å†™æˆ</span><br><span class="line">&lt;button @click&#x3D;&quot;$emit (&#39;update:money&#39;,money-100)&quot;&gt;&lt;&#x2F;button&gt;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br><span class="line">çˆ¶ç»„ä»¶ä½¿ç”¨ $event æ¥æ”¶ä¼ é€’çš„å‚æ•°ï¼Œè·å–å­ç»„ä»¶äº‹ä»¶çš„ç»“æœã€‚</span><br><span class="line">&lt;child :money&#x3D;&quot;total&quot; v-on:update:money&#x3D;&quot;total &#x3D; $event&quot; &#x2F;&gt;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br><span class="line">ä½¿ç”¨ .sync ä¹‹å</span><br><span class="line">&lt;child :money.sync&#x3D;&quot;total&quot; &#x2F;&gt;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br><span class="line">v-model ä¸ .sync çš„åŒºåˆ«</span><br><span class="line">éƒ½æ˜¯ç”¨æ¥å®ç°çˆ¶å­ç»„ä»¶ä¹‹é—´çš„æ•°æ®åŒå‘é€šä¿¡ï¼Œä½†æ˜¯ v-model å¸¸ç”¨äºè¡¨å•å…ƒç´ ï¼Œä¹Ÿå°±æ˜¯è¾“å…¥ç±»å…ƒç´ ï¼Œinputï¼Œå•é€‰å¤šé€‰æ¡†ï¼Œselectæ¡†ï¼Œå¤šè¡Œè¾“å…¥ç­‰ï¼Œ.sync å¸¸ç”¨äºå­ç»„ä»¶æ•°æ®æ”¹å˜é€šè¿‡ props ä¼ é€’æ›´æ–°åˆ°çˆ¶ç»„ä»¶ä¸­ï¼Œæ‰€ä»¥ï¼Œ.sync ä¸é™åˆ¶æ ‡ç­¾ã€‚</span><br></pre></td></tr></table></figure>



<h3 id="prop"><a href="#prop" class="headerlink" title=".prop"></a>.prop</h3><p>è¦å­¦ä¹ è¿™ä¸ªä¿®é¥°ç¬¦ï¼Œæˆ‘ä»¬é¦–å…ˆè¦ææ‡‚ä¸¤ä¸ªä¸œè¥¿çš„åŒºåˆ«ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Propertyï¼šèŠ‚ç‚¹å¯¹è±¡åœ¨å†…å­˜ä¸­å­˜å‚¨çš„å±æ€§ï¼Œå¯ä»¥è®¿é—®å’Œè®¾ç½®ã€‚</span><br><span class="line">Attributeï¼šèŠ‚ç‚¹å¯¹è±¡çš„å…¶ä¸­ä¸€ä¸ªå±æ€§( property )ï¼Œå€¼æ˜¯ä¸€ä¸ªå¯¹è±¡ã€‚</span><br><span class="line">å¯ä»¥é€šè¿‡ç‚¹è®¿é—®æ³• document.getElementById(&#39;xx&#39;).attributes æˆ–è€… document.getElementById(&#39;xx&#39;).getAttributes(&#39;xx&#39;) è¯»å–ï¼Œé€šè¿‡document.getElementById(&#39;xx&#39;).setAttribute(&#39;xx&#39;,value) æ–°å¢å’Œä¿®æ”¹ã€‚</span><br><span class="line">åœ¨æ ‡ç­¾é‡Œå®šä¹‰çš„æ‰€æœ‰å±æ€§åŒ…æ‹¬ HTML å±æ€§å’Œè‡ªå®šä¹‰å±æ€§éƒ½ä¼šåœ¨ attributes å¯¹è±¡é‡Œä»¥é”®å€¼å¯¹çš„æ–¹å¼å­˜åœ¨ã€‚</span><br></pre></td></tr></table></figure>

<p>å…¶å®attributeå’Œpropertyä¸¤ä¸ªå•è¯ï¼Œç¿»è¯‘å‡ºæ¥éƒ½æ˜¯å±æ€§ï¼Œä½†æ˜¯ã€Šjavascripté«˜çº§ç¨‹åºè®¾è®¡ã€‹å°†å®ƒä»¬ç¿»è¯‘ä¸ºç‰¹æ€§å’Œå±æ€§ï¼Œä»¥ç¤ºåŒºåˆ†</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;input id&#x3D;&quot;uid&quot; title&#x3D;&quot;title1&quot; value&#x3D;&quot;1&quot; :index&#x3D;&quot;index&quot;&gt;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;è¿™é‡Œçš„id,value,styleéƒ½å±äºproperty</span><br><span class="line">&#x2F;&#x2F;indexå±äºattribute</span><br><span class="line">&#x2F;&#x2F;idã€titleç­‰æ—¢æ˜¯å±æ€§ï¼Œä¹Ÿæ˜¯ç‰¹æ€§ã€‚ä¿®æ”¹å±æ€§ï¼Œå…¶å¯¹åº”çš„ç‰¹æ€§ä¼šå‘ç”Ÿæ”¹å˜ï¼›ä¿®æ”¹ç‰¹æ€§ï¼Œå±æ€§ä¹Ÿä¼šæ”¹å˜</span><br><span class="line">&#x2F;&#x2F;input.index &#x3D;&#x3D;&#x3D; undefined</span><br><span class="line">&#x2F;&#x2F;input.attributes.index &#x3D;&#x3D;&#x3D; this.index</span><br></pre></td></tr></table></figure>

<p>ä»ä¸Šé¢æˆ‘ä»¬å¯ä»¥çœ‹åˆ°å¦‚æœç›´æ¥ä½¿ç”¨v-bindç»‘å®šï¼Œåˆ™é»˜è®¤ä¼šç»‘å®šåˆ°domèŠ‚ç‚¹çš„attributeã€‚<br>ä¸ºäº†</p>
<ul>
<li>é€šè¿‡è‡ªå®šä¹‰å±æ€§å­˜å‚¨å˜é‡ï¼Œé¿å…æš´éœ²æ•°æ®</li>
<li>é˜²æ­¢æ±¡æŸ“ HTML ç»“æ„</li>
</ul>
<p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¿™ä¸ªä¿®é¥°ç¬¦ï¼Œå¦‚ä¸‹</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;input id&#x3D;&quot;uid&quot; title&#x3D;&quot;title1&quot; value&#x3D;&quot;1&quot; :index.prop&#x3D;&quot;index&quot;&gt;</span><br><span class="line">&#x2F;&#x2F;input.index &#x3D;&#x3D;&#x3D; this.index</span><br><span class="line">&#x2F;&#x2F;input.attributes.index &#x3D;&#x3D;&#x3D; undefined</span><br></pre></td></tr></table></figure>

<h3 id="camel"><a href="#camel" class="headerlink" title=".camel"></a>.camel</h3><p>ç”±äºHTML ç‰¹æ€§æ˜¯ä¸åŒºåˆ†å¤§å°å†™çš„ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;svg :viewBox&#x3D;&quot;viewBox&quot;&gt;&lt;&#x2F;svg&gt;</span><br></pre></td></tr></table></figure>

<p>å®é™…ä¸Šä¼šæ¸²æŸ“ä¸º</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;svg viewbox&#x3D;&quot;viewBox&quot;&gt;&lt;&#x2F;svg&gt;</span><br></pre></td></tr></table></figure>

<p>è¿™å°†å¯¼è‡´æ¸²æŸ“å¤±è´¥ï¼Œå› ä¸º SVG æ ‡ç­¾åªè®¤ viewBoxï¼Œå´ä¸çŸ¥é“ viewbox æ˜¯ä»€ä¹ˆã€‚<br>å¦‚æœæˆ‘ä»¬ä½¿ç”¨.camelä¿®é¥°ç¬¦ï¼Œé‚£å®ƒå°±ä¼šè¢«æ¸²æŸ“ä¸ºé©¼å³°åã€‚<br>å¦ï¼Œå¦‚æœä½ ä½¿ç”¨å­—ç¬¦ä¸²æ¨¡ç‰ˆï¼Œåˆ™æ²¡æœ‰è¿™äº›é™åˆ¶ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">new Vue(&#123;</span><br><span class="line">  template: &#39;&lt;svg :viewBox&#x3D;&quot;viewBox&quot;&gt;&lt;&#x2F;svg&gt;&#39;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>



<h2 id="ç¼–å†™å¯å¤ç”¨æ¨¡å—çš„æ–¹å¼"><a href="#ç¼–å†™å¯å¤ç”¨æ¨¡å—çš„æ–¹å¼" class="headerlink" title="ç¼–å†™å¯å¤ç”¨æ¨¡å—çš„æ–¹å¼"></a>ç¼–å†™å¯å¤ç”¨æ¨¡å—çš„æ–¹å¼</h2><h3 id="é€šè¿‡è‡ªå®šä¹‰æŒ‡ä»¤æ§åˆ¶æƒé™æŒ‰é’®çš„æ˜¾ç¤ºå’Œéšè—"><a href="#é€šè¿‡è‡ªå®šä¹‰æŒ‡ä»¤æ§åˆ¶æƒé™æŒ‰é’®çš„æ˜¾ç¤ºå’Œéšè—" class="headerlink" title="é€šè¿‡è‡ªå®šä¹‰æŒ‡ä»¤æ§åˆ¶æƒé™æŒ‰é’®çš„æ˜¾ç¤ºå’Œéšè—"></a>é€šè¿‡è‡ªå®šä¹‰æŒ‡ä»¤æ§åˆ¶æƒé™æŒ‰é’®çš„æ˜¾ç¤ºå’Œéšè—</h3><p>é™¤äº† <code>Vue</code> å†…ç½®çš„ä¸€äº›æŒ‡ä»¤æ¯”å¦‚ <code>v-model</code>ã€<code>v-if</code> ç­‰ï¼Œ<code>Vue</code> è¿˜å…è®¸æˆ‘ä»¬è‡ªå®šä¹‰æŒ‡ä»¤ã€‚åœ¨ <code>Vue2.0</code> ä¸­ï¼Œä»£ç å¤ç”¨å’ŒæŠ½è±¡çš„ä¸»è¦å½¢å¼æ˜¯ç»„ä»¶ã€‚ç„¶è€Œï¼Œæœ‰çš„æƒ…å†µä¸‹ï¼Œä½ ä»ç„¶éœ€è¦å¯¹æ™®é€š <code>DOM</code> å…ƒç´ è¿›è¡Œåº•å±‚æ“ä½œï¼Œè¿™æ—¶å€™å°±ä¼šç”¨åˆ°è‡ªå®šä¹‰æŒ‡ä»¤ã€‚æ¯”å¦‚æˆ‘ä»¬å¯ä»¥é€šè¿‡è‡ªå®šä¹‰ä¸€ä¸ªæŒ‡ä»¤æ¥æ§åˆ¶æŒ‰é’®çš„æƒé™ã€‚æˆ‘ä»¬æœŸæœ›è®¾è®¡ä¸€ä¸ªå¦‚ä¸‹å½¢å¼çš„æŒ‡ä»¤æ¥æ§åˆ¶æŒ‰é’®æƒé™ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;button v-auth&#x3D;&quot;[&#39;user&#39;]&quot;&gt;æäº¤&lt;&#x2F;button&gt;</span><br></pre></td></tr></table></figure>

<p>é€šè¿‡åœ¨æŒ‰é’®çš„æŒ‡ä»¤é‡Œä¼ å…¥ä¸€ç»„æƒé™ï¼Œå¦‚æœè¯¥æŒ‰é’®åªæœ‰ <code>admin</code> æƒé™æ‰å¯ä»¥æäº¤ï¼Œè€Œæˆ‘ä»¬ä¼ å…¥ä¸€ä¸ªåˆ«çš„æƒé™ï¼Œæ¯”å¦‚ <code>user</code>ï¼Œé‚£è¿™ä¸ªæŒ‰é’®å°±ä¸åº”è¯¥æ˜¾ç¤ºäº†ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬å»æ³¨å†Œä¸€ä¸ªå…¨å±€çš„æŒ‡ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; auth.js</span><br><span class="line">const AUTH_LIST &#x3D; [&#39;admin&#39;]</span><br><span class="line"></span><br><span class="line">function checkAuth(auths) &#123;</span><br><span class="line">    return AUTH_LIST.some(item &#x3D;&gt; auths.includes(item))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function install(Vue, options &#x3D; &#123;&#125;) &#123;</span><br><span class="line">    Vue.directive(&#39;auth&#39;, &#123;</span><br><span class="line">        inserted(el, binding) &#123;</span><br><span class="line">            if (!checkAuth(binding.value)) &#123;</span><br><span class="line">                el.parentNode &amp;&amp; el.parentNode.removeChild(el)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default &#123; install &#125;</span><br></pre></td></tr></table></figure>

<p>ç„¶åæˆ‘ä»¬éœ€è¦åœ¨ <code>main.js</code> é‡Œé€šè¿‡å®‰è£…æ’ä»¶çš„æ–¹å¼æ¥å¯ç”¨è¿™ä¸ªæŒ‡ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">import Auth from &#39;.&#x2F;utils&#x2F;auth&#39;</span><br><span class="line">Vue.use(Auth)</span><br></pre></td></tr></table></figure>



<h3 id="ä½¿ç”¨è¿‡æ»¤å™¨"><a href="#ä½¿ç”¨è¿‡æ»¤å™¨" class="headerlink" title="ä½¿ç”¨è¿‡æ»¤å™¨"></a>ä½¿ç”¨è¿‡æ»¤å™¨</h3><p><code>Vue</code> æä¾›äº†è‡ªå®šä¹‰è¿‡æ»¤å™¨çš„åŠŸèƒ½ï¼Œä¸»è¦åº”ç”¨åœºæ™¯æ˜¯æƒ³è¦å°†æ•°æ®ä»¥æŸç§æ ¼å¼å±•ç¤ºå‡ºæ¥ï¼Œè€ŒåŸå§‹æ•°æ®åˆä¸ç¬¦åˆè¿™ç§æ ¼å¼çš„æ—¶å€™ã€‚æ¯”å¦‚æœ‰ä¸€ç»„å…³äºäººçš„æ•°æ®ï¼Œå¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[&#123;</span><br><span class="line">    name: &#39;å¼ èŒ‚&#39;,</span><br><span class="line">    population: &#39;young&#39;,</span><br><span class="line">&#125;, &#123;</span><br><span class="line">    name: &#39;ç‹ä¸½&#39;,</span><br><span class="line">    population: &#39;middle&#39;,</span><br><span class="line">&#125;, &#123;</span><br><span class="line">    name: &#39;éƒé¹ç¨‹&#39;,</span><br><span class="line">    population: &#39;child&#39;,</span><br><span class="line">&#125;]</span><br></pre></td></tr></table></figure>

<p>å…¶ä¸­æœ‰ä¸€é¡¹æ˜¯å…³äºæŒ‰ç…§å¹´é¾„åˆ’åˆ†çš„ç¾¤ä½“ç±»å‹ <code>population</code>ï¼Œè€Œå®ƒæ˜¯ç”¨ <code>code</code> è¿›è¡Œæ ‡è¯†çš„ï¼Œæˆ‘ä»¬å¸Œæœ›åœ¨å±•ç¤ºçš„æ—¶å€™èƒ½å¤Ÿæ˜¾ç¤ºæˆå¯¹åº”çš„ä¸­æ–‡æ„æ€ï¼Œæ¯”å¦‚ <code>young</code> æ˜¾ç¤ºæˆé’å¹´ã€‚é‚£æˆ‘ä»¬å°±å¯ä»¥å®šä¹‰ä¸€ä¸ªå¦‚ä¸‹çš„å±€éƒ¨è¿‡æ»¤å™¨ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">export default &#123;</span><br><span class="line">    filters: &#123;</span><br><span class="line">        popuFilters(value) &#123;</span><br><span class="line">            if (!value) &#123; return &#39;æœªçŸ¥&#39; &#125;</span><br><span class="line">            let index &#x3D; [&#39;child&#39;, &#39;lad&#39;, &#39;young&#39;, &#39;middle&#39;, &#39;wrinkly&#39;].indexOf(value)</span><br><span class="line">            return index &gt; 0 &amp;&amp; [&#39;å„¿ç«¥&#39;, &#39;å°‘å¹´&#39;, &#39;é’å¹´&#39;, &#39;ä¸­å¹´&#39;, &#39;è€å¹´&#39;][index] || &#39;æœªçŸ¥&#39;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨è¿‡æ»¤å™¨çš„æ—¶å€™åªè¦åœ¨ <code>template</code> ä¸­è¿™æ ·ä½¿ç”¨å³å¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;p&gt; item.population | popuFilters &lt;&#x2F;p&gt;</span><br></pre></td></tr></table></figure>



<h3 id="è‡ªå®šä¹‰æ’ä»¶"><a href="#è‡ªå®šä¹‰æ’ä»¶" class="headerlink" title="è‡ªå®šä¹‰æ’ä»¶"></a>è‡ªå®šä¹‰æ’ä»¶</h3><p>åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å°è£…çš„å†…å®¹å¯èƒ½ä¸éœ€è¦ä½¿ç”¨è€…å¯¹å…¶å†…éƒ¨ä»£ç ç»“æ„è¿›è¡Œäº†è§£ï¼Œå…¶åªéœ€è¦ç†Ÿæ‚‰æˆ‘ä»¬æä¾›å‡ºæ¥çš„ç›¸åº”æ–¹æ³•å’Œ <code>api</code> å³å¯ï¼Œè¿™éœ€è¦æˆ‘ä»¬æ›´ç³»ç»Ÿæ€§çš„å°†å…¬ç”¨éƒ¨åˆ†é€»è¾‘å°è£…æˆæ’ä»¶ï¼Œæ¥ä¸ºé¡¹ç›®æ·»åŠ å…¨å±€åŠŸèƒ½ï¼Œæ¯”å¦‚å¸¸è§çš„ <code>loading</code> åŠŸèƒ½ã€å¼¹æ¡†åŠŸèƒ½ç­‰ã€‚</p>
<p>å¼€å‘ <code>Vue</code> çš„æ’ä»¶åº”è¯¥æš´éœ²ä¸€ä¸ª <code>install</code> æ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ <code>Vue</code> æ„é€ å™¨ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå¯é€‰çš„é€‰é¡¹å¯¹è±¡ã€‚å¯ä»¥é€šè¿‡å¦‚ä¸‹4ç§æ–¹å¼æ¥è‡ªå®šä¹‰æ’ä»¶ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">MyPlugin.install &#x3D; function (Vue, options) &#123;</span><br><span class="line">  &#x2F;&#x2F; 1. æ·»åŠ å…¨å±€æ–¹æ³•æˆ– property</span><br><span class="line">  Vue.myGlobalMethod &#x3D; function () &#123;</span><br><span class="line">    &#x2F;&#x2F; é€»è¾‘...</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F; 2. æ·»åŠ å…¨å±€èµ„æº</span><br><span class="line">  Vue.directive(&#39;my-directive&#39;, &#123;</span><br><span class="line">    bind (el, binding, vnode, oldVnode) &#123;</span><br><span class="line">      &#x2F;&#x2F; é€»è¾‘...</span><br><span class="line">    &#125;</span><br><span class="line">    ...</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F; 3. æ³¨å…¥ç»„ä»¶é€‰é¡¹</span><br><span class="line">  Vue.mixin(&#123;</span><br><span class="line">    created: function () &#123;</span><br><span class="line">      &#x2F;&#x2F; é€»è¾‘...</span><br><span class="line">    &#125;</span><br><span class="line">    ...</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F; 4. æ·»åŠ å®ä¾‹æ–¹æ³•</span><br><span class="line">  Vue.prototype.$myMethod &#x3D; function (methodOptions) &#123;</span><br><span class="line">    &#x2F;&#x2F; é€»è¾‘...</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç„¶åéœ€è¦åœ¨å…¥å£æ–‡ä»¶ï¼Œæ¯”å¦‚ <code>main.js</code> ä¸­æ³¨å†Œæ’ä»¶ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">import MyPlugin from &#39;.&#x2F;plugins&#x2F;plugins.js&#39;</span><br><span class="line">Vue.use(MyPlugin)</span><br></pre></td></tr></table></figure>



<h2 id="3ç§æ–¹å¼æ‰‹å†™ä¼˜é›…ä»£ç "><a href="#3ç§æ–¹å¼æ‰‹å†™ä¼˜é›…ä»£ç " class="headerlink" title="3ç§æ–¹å¼æ‰‹å†™ä¼˜é›…ä»£ç "></a>3ç§æ–¹å¼æ‰‹å†™ä¼˜é›…ä»£ç </h2><p>å¹³æ—¶å†™é¡¹ç›®çš„æ—¶å€™æˆ‘ä»¬éƒ½æ˜¯åœ¨ç¬¬ä¸€æ—¶é—´å®Œæˆéœ€æ±‚åŠŸèƒ½çš„å¼€å‘ã€ææµ‹ä¿®æ”¹ <code>bug</code> ç­‰ï¼Œç„¶åå¼€å¼€å¿ƒå¿ƒçš„ç­‰å¾…ç€å‘å¸ƒç”Ÿäº§ä»¥ä¸ºæ²¡å•¥äº‹æƒ…äº†ã€‚å…¶å®å›è¿‡å¤´æ¥ç»†ç»†çš„çœ‹æˆ‘ä»¬å¹³æ—¶å†™çš„ä»£ç ï¼Œå¯èƒ½ä¼šå‘ç°å¾ˆå¤šåœ°æ–¹éƒ½æ˜¯å€¼å¾—ä¼˜åŒ–çš„ï¼Œæ¯”å¦‚å¯¹äºå¾ˆå¤šé‡å¤æ€§å¾ˆå¼ºçš„ä»£ç ï¼Œæ¯”å¦‚å¯¹äºæŸäº›å†™å¾—å¾ˆç¹æ‚çš„åœ°æ–¹ã€‚ä¼˜é›…çš„ä»£ç å¯ä»¥åŒ–æœºæ¢°ä¸ºè‡ªåŠ¨ã€åŒ–ç¹ä¸ºç®€ï¼Œçœ‹äººå¼€äº†å¦‚æ²æ˜¥é£ï¼Œå¿ƒæƒ…å¤§å¥½ã€‚è¿™é‡Œåˆ—äº†å‡ ä¸ªåœ¨ <code>Vue</code> ä¸­ä¸€å®šä¼šé‡åˆ°çš„é—®é¢˜ï¼Œç„¶åé€šè¿‡ä¼˜é›…çš„æ–¹å¼è¿›è¡Œè§£å†³ã€‚</p>
<h3 id="è‡ªåŠ¨åŒ–å¯¼å…¥å¤šä¸ªè·¯ç”±æ–‡ä»¶"><a href="#è‡ªåŠ¨åŒ–å¯¼å…¥å¤šä¸ªè·¯ç”±æ–‡ä»¶" class="headerlink" title="è‡ªåŠ¨åŒ–å¯¼å…¥å¤šä¸ªè·¯ç”±æ–‡ä»¶"></a>è‡ªåŠ¨åŒ–å¯¼å…¥å¤šä¸ªè·¯ç”±æ–‡ä»¶</h3><p>åœ¨å¼€å‘ä¸€ä¸ªç¨å¾®å¤§ç‚¹çš„é¡¹ç›®çš„æ—¶å€™ï¼Œä¼šä¹ æƒ¯å°†è·¯ç”±æŒ‰ç…§æ¨¡å—æ¥åˆ’åˆ†ï¼Œç„¶åå°±å¯èƒ½ä¼šå‡ºç°å¦‚ä¸‹è¿™ç§ä»£ç ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; router.js</span><br><span class="line">import Vue from &#39;vue&#39;</span><br><span class="line">import Router from &#39;vue-router&#39;</span><br><span class="line">&#x2F;&#x2F; å¯¼å…¥äº†ä¸€å¤§å †è·¯ç”±æ–‡ä»¶</span><br><span class="line">import mediator from &#39;.&#x2F;mediator&#39;</span><br><span class="line">import judges from &#39;.&#x2F;judges&#39;</span><br><span class="line">import disputeMediation from &#39;.&#x2F;disputeMediation&#39;</span><br><span class="line">import onlineMediation from &#39;.&#x2F;onlineMediation&#39;</span><br><span class="line">import useraction from &#39;.&#x2F;useraction&#39;</span><br><span class="line">import organcenter from &#39;.&#x2F;organcenter&#39;</span><br><span class="line">import admin from &#39;.&#x2F;admin&#39;</span><br><span class="line"></span><br><span class="line">let routeList &#x3D; []</span><br><span class="line">routeList.push(mediator, judges, disputeMediation, onlineMediation, useraction, organcenter, admin)</span><br><span class="line"> </span><br><span class="line">export default new Router(&#123;</span><br><span class="line">    mode: &#39;history&#39;,</span><br><span class="line">    routes: routeList,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>å…¶å®çœŸå®çš„è¿œè¿œä¸æ­¢è¿™ä¹ˆç‚¹ï¼Œå°±æˆ‘æœ¬åœ°é¡¹ç›®è€Œè¨€å°±æœ‰20å‡ ä¸ªè·¯ç”±æ–‡ä»¶ï¼Œå†™äº†ä¸€å¤§å †çš„å¯¼å…¥ä»£ç ï¼Œæ˜¾å¾—å¾ˆè‡ƒè‚¿ï¼Œæ›´æ— å¥ˆçš„æ˜¯æ¯å½“éœ€è¦æ–°å¢ä¸€ä¸ªè·¯ç”±æ¨¡å—ï¼Œè¿˜å¾—å†æ¬¡ <code>import</code> å†æ¬¡ <code>push</code>ï¼Œé‚£ä¹ˆæœ‰æ²¡æœ‰ä»€ä¹ˆåŠæ³•å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿç­”æ¡ˆè‡ªç„¶æ˜¯æœ‰çš„ã€‚</p>
<p>åˆ©ç”¨ <code>webpack</code> çš„ <code>require.context</code> å°±å¯ä»¥å¾ˆä¼˜é›…çš„è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä½¿ç”¨è¯­æ³•å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">require.context(</span><br><span class="line">    directory,  &#x2F;&#x2F; æœç´¢çš„ç›®å½•</span><br><span class="line">    useSubdirectories &#x3D; true,  &#x2F;&#x2F; æ˜¯å¦æœç´¢å­ç›®å½•</span><br><span class="line">    regExp &#x3D; &#x2F;^\.\&#x2F;.*$&#x2F;,  &#x2F;&#x2F; åŒ¹é…çš„ç›®æ ‡æ–‡ä»¶æ ¼å¼</span><br><span class="line">    mode &#x3D; &#39;sync&#39;  &#x2F;&#x2F; åŒæ­¥è¿˜æ˜¯å¼‚æ­¥</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>æœ‰äº†è¿™ä¸ªè¯­æ³•ï¼Œæˆ‘ä»¬å°±èƒ½å¾ˆå®¹æ˜“çš„å†™å‡ºä¸‹é¢çš„ä»£ç ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#39;vue&#39;</span><br><span class="line">import Router from &#39;vue-router&#39;</span><br><span class="line"></span><br><span class="line">let routeList &#x3D; []</span><br><span class="line">let importAll &#x3D; require.context(&#39;@&#x2F;publicResource&#x2F;router&#39;, false, &#x2F;\.js$&#x2F;)</span><br><span class="line">importAll.keys().map(path &#x3D;&gt; &#123;</span><br><span class="line">    &#x2F;&#x2F; å› ä¸º index.js ä¹Ÿåœ¨ @&#x2F;publicResource&#x2F;router ç›®å½•ä¸‹ï¼Œæ‰€ä»¥éœ€è¦æ’é™¤</span><br><span class="line">    if (!path.includes(&#39;index.js&#39;)) &#123;          </span><br><span class="line">        &#x2F;&#x2F;å…¼å®¹å¤„ç†ï¼š.default è·å– ES6 è§„èŒƒæš´éœ²çš„å†…å®¹; åè€…è·å– commonJS è§„èŒƒæš´éœ²çš„å†…å®¹</span><br><span class="line">        let router &#x3D; importAll(path).default || importAll(path)</span><br><span class="line">        routeList(router)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"> </span><br><span class="line">export default new Router(&#123;</span><br><span class="line">    mode: &#39;history&#39;,</span><br><span class="line">    routes: routeList,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>å…¶å®ä¸ä»…ä»…åªæ˜¯ç”¨åœ¨å¯¼å…¥è·¯ç”±æ¨¡å—è¿™é‡Œï¼Œå¯¹äºé¡¹ç›®é‡Œä»»ä½•éœ€è¦å¯¼å…¥å¤§é‡æœ¬åœ°æ¨¡å—çš„åœ°æ–¹éƒ½å¯ä»¥ä½¿ç”¨è¿™ç§æ–¹å¼æ¥è§£å†³ã€‚</p>
<h3 id="æ¨¡å—åŒ–æ³¨å†Œæ’ä»¶ï¼ˆelement-uiï¼‰"><a href="#æ¨¡å—åŒ–æ³¨å†Œæ’ä»¶ï¼ˆelement-uiï¼‰" class="headerlink" title="æ¨¡å—åŒ–æ³¨å†Œæ’ä»¶ï¼ˆelement-uiï¼‰"></a>æ¨¡å—åŒ–æ³¨å†Œæ’ä»¶ï¼ˆelement-uiï¼‰</h3><p>ç›¸ä¿¡å†™ <code>Vue</code> çš„åŒå­¦ä»¬éƒ½çŸ¥é“ <code>element-ui</code> è¿™ä¸ªç»„ä»¶åº“ï¼Œåœ¨ä½¿ç”¨è¿™ä¸ªç»„ä»¶åº“çš„æ—¶å€™å¤§éƒ¨åˆ†éƒ½æ˜¯åªä½¿ç”¨æŸäº›ä¸ªåˆ«çš„ç»„ä»¶ï¼Œæ‰€ä»¥åŸºæœ¬ä¸Šéƒ½æ˜¯æŒ‰éœ€å¼•å…¥éœ€è¦çš„ç»„ä»¶ï¼Œç„¶åå°±æœ‰å¦‚ä¸‹ä¸€å †<code>Vue.use()</code> çš„ä»£ç ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; main.js</span><br><span class="line">import Vue from &#39;vue&#39;</span><br><span class="line">import &#123;</span><br><span class="line">    Input,</span><br><span class="line">    Radio,</span><br><span class="line">    RadioGroup,</span><br><span class="line">    Checkbox,</span><br><span class="line">    CheckboxGroup,</span><br><span class="line">    Select</span><br><span class="line">    &#x2F;&#x2F; è¿˜æœ‰å¾ˆå¤šç»„ä»¶</span><br><span class="line">&#125; from &#39;element-ui&#39;</span><br><span class="line"></span><br><span class="line">Vue.use(Input)</span><br><span class="line">Vue.use(Radio)</span><br><span class="line">Vue.use(RadioGroup)</span><br><span class="line">Vue.use(Checkbox)</span><br><span class="line">Vue.use(CheckboxGroup)</span><br><span class="line">Vue.use(Select)</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·å†™æ˜¯æ²¡ä»»ä½•é—®é¢˜çš„ï¼Œå°±æ˜¯çœ‹ç€ä¸å¤Ÿç®€æ´èˆ’æœï¼Œé‚£æ›´ä¼˜é›…çš„åšæ³•æ˜¯æŠŠè¿™å—é€»è¾‘æŠ½åˆ°ä¸€ä¸ªæ–‡ä»¶é‡Œï¼Œç„¶åé€šè¿‡æ³¨å†Œæ’ä»¶çš„æ–¹å¼æ¥ä½¿ç”¨ä»–ä»¬ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; elementComponent.js</span><br><span class="line">import &#123;</span><br><span class="line">    Input,</span><br><span class="line">    Radio,</span><br><span class="line">    RadioGroup,</span><br><span class="line">    Checkbox,</span><br><span class="line">    CheckboxGroup,</span><br><span class="line">    Select</span><br><span class="line">    &#x2F;&#x2F; è¿˜æœ‰å¾ˆå¤šç»„ä»¶</span><br><span class="line">&#125; from &#39;element-ui&#39;</span><br><span class="line"></span><br><span class="line">const components &#x3D; &#123;</span><br><span class="line">    Input,</span><br><span class="line">    Radio,</span><br><span class="line">    RadioGroup,</span><br><span class="line">    Checkbox,</span><br><span class="line">    CheckboxGroup,</span><br><span class="line">    Select</span><br><span class="line">&#125;</span><br><span class="line">function install(Vue)&#123;</span><br><span class="line">    Object.keys(components).forEach(key &#x3D;&gt; Vue.use(components[key]))</span><br><span class="line">&#125;</span><br><span class="line">export default &#123; install &#125;</span><br></pre></td></tr></table></figure>

<p>ç„¶ååœ¨ <code>main.js</code> é‡Œä½¿ç”¨è¿™ä¸ªæ’ä»¶ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; main.js</span><br><span class="line">import Vue from &#39;vue&#39;</span><br><span class="line">import elementComponent from &#39;.&#x2F;config&#x2F;elementComponent&#39;</span><br><span class="line">Vue.use(elementComponent)</span><br></pre></td></tr></table></figure>

<h3 id="ä¼˜é›…å¯¼å‡ºè¯·æ±‚æ¥å£"><a href="#ä¼˜é›…å¯¼å‡ºè¯·æ±‚æ¥å£" class="headerlink" title="ä¼˜é›…å¯¼å‡ºè¯·æ±‚æ¥å£"></a>ä¼˜é›…å¯¼å‡ºè¯·æ±‚æ¥å£</h3><p>ä¸çŸ¥é“å¤§ä¼™æ˜¯å¦‚ä½•å®šä¹‰è¯·æ±‚æ¥å£çš„ï¼Œå°±æˆ‘ç›®å‰è¿™ä¸ªé¡¹ç›®è€Œè¨€ï¼Œæ˜¯è¿™ä¹ˆåšçš„ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; api.js</span><br><span class="line">import http from &#39;.&#x2F;config&#x2F;httpServer.js&#39;</span><br><span class="line"></span><br><span class="line"> &#x2F;* ç™»å…¥é¡µé¢è·å–å…¬é’¥ *&#x2F;</span><br><span class="line">export const getPublicKey &#x3D; (data) &#x3D;&gt; &#123;</span><br><span class="line">    return http(&#123; url: &#39;&#x2F;userGateway&#x2F;user&#x2F;getPublicKey&#39; &#125;, data)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; ç”¨æˆ·ç™»å½•</span><br><span class="line">export const login &#x3D; data &#x3D;&gt; &#123;</span><br><span class="line">    return http(&#123; url: &#39;&#x2F;userGateway&#x2F;userSentry&#x2F;login&#39; &#125;, data)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; éªŒè¯ç ç™»å½•</span><br><span class="line">export const loginByCode &#x3D; data &#x3D;&gt; &#123;</span><br><span class="line">    return http(&#123; url: &#39;&#x2F;userGateway&#x2F;userSentry&#x2F;loginByCode&#39; &#125;, data)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨ç»„ä»¶ä¸­ä½¿ç”¨æ¥å£ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">import &#123; getPublicKey &#125; from &#39;.&#x2F;config&#x2F;api.js&#39;</span><br><span class="line">export default &#123;</span><br><span class="line">    mounted() &#123;</span><br><span class="line">        getPublicKey().then(res &#x3D;&gt; &#123;</span><br><span class="line">            &#x2F;&#x2F; xxx</span><br><span class="line">        &#125;).catch(err &#x3D;&gt; &#123;</span><br><span class="line">            &#x2F;&#x2F; xxx</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<p>è¿™ä¸€åˆ‡éƒ½å¾ˆæ­£å¸¸ï¼Œä½†ï¼Œæˆ‘ä»¬è¿™ä¸ªé¡¹ç›®æ€»å…±æœ‰200å¤šä¸ªæ¥å£ï¼ŒæŒ‰ç…§ä¸Šé¢è¿™ç§å®šä¹‰æ–¹å¼çš„è¯ï¼Œä¸€ä¸ªæ¥å£å®šä¹‰åŠ ä¸Šç©ºè¡Œéœ€è¦å ç”¨ 5 è¡Œï¼Œæ‰€ä»¥å¦‚æœæŠŠå…¨éƒ¨æ¥å£éƒ½å®šä¹‰åˆ°è¿™ä¸ª <code>api.js</code> é‡Œéœ€è¦å ç”¨ 1000 è¡Œå·¦å³ï¼Œçœ‹äº†å®åœ¨è®©äººå¿ƒå¾ˆæ…Œå‘€ã€‚æ‰€ä»¥è§‰å¾—åº”è¯¥è¿™ä¸ªåœ°æ–¹åº”è¯¥å¯ä»¥ä¼˜åŒ–ä¸€ä¸‹ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;userGateway&#x2F;user&#x2F;getPublicKey</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢è¿™æ˜¯ä¸€ä¸ªåç«¯ç»™æ¥å£è·¯å¾„ï¼Œæ–œæ†æŠŠè¿™ä¸ªè·¯å¾„åˆ’åˆ†æˆ 3 ä¸ªå­ä¸²ï¼Œè€Œæœ€åä¸€ä¸ªå­ä¸²å¿…å®šæ˜¯å”¯ä¸€çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä»ä¸­åšæ–‡ç« ã€‚äºæ˜¯ä¹å°±æœ‰äº†ä¸‹é¢çš„ä»£ç ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; api.js</span><br><span class="line">const apiList &#x3D; [</span><br><span class="line">    &#39;&#x2F;userGateway&#x2F;user&#x2F;getPublicKey&#39;,  &#x2F;&#x2F; ç™»å…¥é¡µé¢è·å–å…¬é’¥</span><br><span class="line">    &#39;&#x2F;userGateway&#x2F;userSentry&#x2F;login&#39;,  &#x2F;&#x2F; ç”¨æˆ·ç™»å½•</span><br><span class="line">    &#39;&#x2F;userGateway&#x2F;userSentry&#x2F;loginByCode&#39;,  &#x2F;&#x2F; éªŒè¯ç ç™»å½•</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line">let apiName, API &#x3D; &#123;&#125;</span><br><span class="line">apiList.forEach(path &#x3D;&gt; &#123;</span><br><span class="line">    &#x2F;&#x2F; ä½¿ç”¨æ­£åˆ™å–åˆ°æ¥å£è·¯å¾„çš„æœ€åä¸€ä¸ªå­ä¸²ï¼Œæ¯”å¦‚: getPublicKey</span><br><span class="line">    apiName &#x3D; &#x2F;(?&lt;&#x3D;\&#x2F;)[^&#x2F;]+$&#x2F;.exec(path)[0]      </span><br><span class="line">    API[apiName] &#x3D; (data) &#x3D;&gt; &#123;</span><br><span class="line">        return http(&#123;url: path&#125;, data)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line">export &#123; API &#125;</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·å¤§æ¦‚å°±æŠŠå®šä¹‰ä¸€ä¸ªæ¥å£éœ€è¦å ç”¨ 5 è¡Œç¼©å°åˆ°åªéœ€è¦ 1 è¡Œäº†ï¼Œå¤§å¤§å‡å°äº†æ–‡ä»¶å†…å®¹ã€‚åœ¨æµè§ˆè¿™ä¸ªæ–‡ä»¶çš„æ—¶å€™ï¼Œæˆ‘çš„é¼ æ ‡æ»šè½®ä¹Ÿä¸ä¼šä¸€ç›´åœ¨æ»šæ»šæ»šäº†ã€‚</p>
<p>å¦‚æœæ˜¯è¿™æ ·å®šä¹‰æ¥å£çš„è¯ï¼Œé‚£åœ¨ä½¿ç”¨çš„æ—¶å€™è¿˜éœ€è¦åšç‚¹å˜åŒ–çš„ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">import &#123; API &#125; from &#39;.&#x2F;config&#x2F;api.js&#39;</span><br><span class="line">export default &#123;</span><br><span class="line">    mounted() &#123;</span><br><span class="line">        API.getPublicKey().then(res &#x3D;&gt; &#123;</span><br><span class="line">            &#x2F;&#x2F; xxx</span><br><span class="line">        &#125;).catch(err &#x3D;&gt; &#123;</span><br><span class="line">            &#x2F;&#x2F; xxx</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>



<h2 id="4ç§-eventä¼ å‚æ–¹å¼"><a href="#4ç§-eventä¼ å‚æ–¹å¼" class="headerlink" title="4ç§$eventä¼ å‚æ–¹å¼"></a>4ç§$eventä¼ å‚æ–¹å¼</h2><p>åœ¨è¿›è¡Œå®é™…é¡¹ç›®å¼€å‘çš„æ—¶å€™ç»å¸¸ä¼šéœ€è¦é€šè¿‡äº‹ä»¶ä¼ é€’å‚æ•°ï¼Œè¿™é‡Œæ€»ç»“äº†4ç§åº”ç”¨åœºæ™¯ã€‚</p>
<h3 id="ç”¨äºç»„ä»¶é€šä¿¡"><a href="#ç”¨äºç»„ä»¶é€šä¿¡" class="headerlink" title="ç”¨äºç»„ä»¶é€šä¿¡"></a>ç”¨äºç»„ä»¶é€šä¿¡</h3><p>æ¯”å¦‚å­ç»„ä»¶é€šè¿‡ <code>$emit</code> æ¥è°ƒç”¨çˆ¶ç»„ä»¶æ–¹æ³•çš„æ—¶å€™ï¼Œå¯ä»¥åœ¨çˆ¶ç»„ä»¶ä¸­ç”¨ <code>$event</code> æ¥æ”¶åˆ°ä»å­ç»„ä»¶ä¼ é€’è¿‡æ¥çš„å‚æ•°ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; å­ç»„ä»¶</span><br><span class="line">&lt;button @click&#x3D;&quot;$emit(&#39;changeText&#39;, &#39;18px&#39;)&quot;&gt;ç‚¹å‡»åŠ å¤§å­—å·&lt;&#x2F;button&gt;</span><br><span class="line">&#x2F;&#x2F; çˆ¶ç»„ä»¶</span><br><span class="line">&lt;blog-post @changeText&#x3D;&quot;changeText(&#39;article&#39;, $event)&quot;&gt;&lt;&#x2F;blog-post&gt;</span><br><span class="line">changeText(type, value) &#123;</span><br><span class="line">    console.log(type, value)  &#x2F;&#x2F; &#39;article&#39; &#39;18px&#39;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¦‚æœå­ç»„ä»¶ä¼ é€’è¿‡æ¥çš„å‚æ•°æœ‰å¤šä¸ªï¼Œè¿™ä¸ªæ—¶å€™ç”¨ <code>$event</code> å°±ä¸å¤ªè¡Œäº†ï¼Œæ­¤æ—¶å¯ä»¥ç”¨<code>arguments</code> ä»£æ›¿ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; å­ç»„ä»¶</span><br><span class="line">&lt;button @click&#x3D;&quot;$emit(&#39;changeText&#39;, &#39;red&#39;, &#39;18px&#39;)&quot;&gt;ç‚¹å‡»æ”¹å˜æ ·å¼&lt;&#x2F;button&gt;</span><br><span class="line">&#x2F;&#x2F; çˆ¶ç»„ä»¶</span><br><span class="line">&lt;blog-post @changeText&#x3D;&quot;changeText(...arguments, &#39;article&#39;)&quot;&gt;&lt;&#x2F;blog-post&gt;</span><br><span class="line">changeText(...value) &#123;</span><br><span class="line">    console.log( value )  &#x2F;&#x2F; [&#39;red&#39;, &#39;18px&#39;, &#39;article&#39;]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="ä¼ é€’åŸç”ŸDOMäº‹ä»¶å¯¹è±¡"><a href="#ä¼ é€’åŸç”ŸDOMäº‹ä»¶å¯¹è±¡" class="headerlink" title="ä¼ é€’åŸç”ŸDOMäº‹ä»¶å¯¹è±¡"></a>ä¼ é€’åŸç”ŸDOMäº‹ä»¶å¯¹è±¡</h3><p>æ¯”å¦‚æˆ‘ä»¬éœ€è¦è·å–åˆ°å½“å‰çš„ç‚¹å‡»å…ƒç´ ï¼Œå°±å¯ä»¥é€šè¿‡ç»™ç‚¹å‡»äº‹ä»¶ä¼ é€’ <code>$event</code> å‚æ•°ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;button @click&#x3D;&quot;submit(&#39;first&#39;, $event)&quot;&gt;æäº¤&lt;&#x2F;button&gt;</span><br><span class="line">submit(type, event) &#123;</span><br><span class="line">    const target &#x3D; event.target.tagName</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ç”¨äºç¬¬ä¸‰æ–¹ç±»åº“äº‹ä»¶å›è°ƒ"><a href="#ç”¨äºç¬¬ä¸‰æ–¹ç±»åº“äº‹ä»¶å›è°ƒ" class="headerlink" title="ç”¨äºç¬¬ä¸‰æ–¹ç±»åº“äº‹ä»¶å›è°ƒ"></a>ç”¨äºç¬¬ä¸‰æ–¹ç±»åº“äº‹ä»¶å›è°ƒ</h3><p>æ¯”å¦‚æœ‰ä¸€ä¸ªç»„ä»¶é‡Œä½¿ç”¨äº†å¥½å‡ ä¸ª <code>element-ui</code> çš„åˆ†é¡µç»„ä»¶ï¼Œæ¯ä¸ªåˆ†é¡µéƒ½æœ‰ä¸€ä¸ª <code>current-change</code> äº‹ä»¶ï¼Œç”¨æ¥å¤„ç†å½“åˆ†é¡µæ”¹å˜ä¹‹åçš„äº‹æƒ…ï¼Œè¿™æ ·çš„è¯æˆ‘ä»¬å°±éœ€è¦å†™å¤šä¸ªå›è°ƒå‡½æ•°ï¼Œä½†æ˜¯å¦‚æœç”¨ä»¥ä¸‹æ–¹å¼ï¼Œæˆ‘ä»¬å°±ä¹Ÿå¯ä»¥åªå†™ä¸€ä¸ªå‡½æ•°ï¼Œé€šè¿‡ <code>type</code> æ¥åˆ¤æ–­æ˜¯å“ªä¸ªåˆ†é¡µçš„å›è°ƒï¼Œè€Œ <code>$event</code>åˆ™ç”¨æ¥ä¼ é€’ <code>current-change</code> å›è°ƒé»˜è®¤çš„å‚æ•°ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; é¡µé¢åˆ—è¡¨çš„åˆ†é¡µ</span><br><span class="line">&lt;el-pagination </span><br><span class="line">    @current-change&#x3D;&quot;changePage(&#39;main&#39;, $event)&quot;&gt;</span><br><span class="line">&lt;&#x2F;el-pagination&gt;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; å¼¹çª—Aåˆ—è¡¨çš„åˆ†é¡µ</span><br><span class="line">&lt;el-pagination </span><br><span class="line">    @current-change&#x3D;&quot;changePage(&#39;modalA&#39;, $event)&quot;&gt;</span><br><span class="line">&lt;&#x2F;el-pagination&gt;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; å¼¹çª—Båˆ—è¡¨çš„åˆ†é¡µ</span><br><span class="line">&lt;el-pagination </span><br><span class="line">    @current-change&#x3D;&quot;changePage(&#39;modalB&#39;, $event)&quot;&gt;</span><br><span class="line">&lt;&#x2F;el-pagination&gt;</span><br><span class="line">changePage(type, page) &#123;</span><br><span class="line">    const types &#x3D; [&#39;main&#39;, &#39;modalA&#39;, &#39;modalB&#39;]</span><br><span class="line">    types[type] &amp;&amp; (this[types[type]].pageIndex &#x3D; page) &amp;&amp; this.getList(type)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ä½¿ç”¨ç®­å¤´å‡½æ•°å¤„ç†"><a href="#ä½¿ç”¨ç®­å¤´å‡½æ•°å¤„ç†" class="headerlink" title="ä½¿ç”¨ç®­å¤´å‡½æ•°å¤„ç†"></a>ä½¿ç”¨ç®­å¤´å‡½æ•°å¤„ç†</h3><p>å¯¹äºç¬¬ä¸‰ç§åœºæ™¯ï¼Œä½¿ç”¨ç¬¬ä¸‰æ–¹ç±»åº“ç»„ä»¶çš„æ—¶å€™ï¼Œéœ€è¦ç»™äº‹ä»¶å›è°ƒå¢åŠ é¢å¤–çš„å‚æ•°ï¼Œå¦‚æœé»˜è®¤çš„å›è°ƒå‚æ•°åªæœ‰1ä¸ªé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨ä¸Šé¢çš„é‚£ç§æ–¹å¼ï¼Œä½†æ˜¯å¦‚æœå›è°ƒå‚æ•°æœ‰å¤šä¸ªçš„è¯ï¼Œç”¨ <code>$event</code> å°±ä¸å¥½å¤„ç†äº†ï¼Œå¯ä»¥ä½¿ç”¨ç®­å¤´å‡½æ•°ã€‚æ¯”å¦‚æ–‡ä»¶ä¸Šä¼ çš„æ—¶å€™ï¼Œæœ‰ä¸ª <code>on-change</code> å±æ€§ï¼Œå½“æ–‡ä»¶å˜åŒ–çš„æ—¶å€™å°±ä¼šè§¦å‘å›è°ƒï¼Œæ­£å¸¸æƒ…å†µä¸‹æˆ‘ä»¬è¿™æ ·å†™æ˜¯æ²¡é—®é¢˜çš„ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-upload :on-change&#x3D;&quot;changeFile&quot;&gt;</span><br><span class="line">    &lt;el-button&gt;ä¸Šä¼ &lt;&#x2F;el-button&gt;</span><br><span class="line">&lt;&#x2F;el-upload&gt;</span><br><span class="line">changeFile(file, fileList) &#123;&#125;</span><br></pre></td></tr></table></figure>

<p>ä½†æ˜¯å¦‚æœä¸€ä¸ªç»„ä»¶é‡Œæœ‰å¤šä¸ªæ–‡ä»¶ä¸Šä¼ ï¼Œè€Œæˆ‘ä»¬åˆä¸æƒ³å†™å¤šä¸ª <code>changeFile</code>ï¼Œé‚£å°±éœ€è¦ä¼ é€’é¢å¤–çš„å‚æ•° <code>type</code> äº† ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-upload :on-change&#x3D;&quot;(file, fileList) &#x3D;&gt; changeFile(&#39;org&#39;, file, fileList)&quot;&gt;</span><br><span class="line">    &lt;el-button&gt;ä¸Šä¼ &lt;&#x2F;el-button&gt;</span><br><span class="line">&lt;&#x2F;el-upload&gt;</span><br><span class="line">changeFile(type, file, fileList) &#123;&#125;</span><br></pre></td></tr></table></figure>



<h2 id="3ç§æ·±å…¥watchçš„ç”¨æ³•"><a href="#3ç§æ·±å…¥watchçš„ç”¨æ³•" class="headerlink" title="3ç§æ·±å…¥watchçš„ç”¨æ³•"></a>3ç§æ·±å…¥watchçš„ç”¨æ³•</h2><h3 id="ç«‹å³æ‰§è¡Œ"><a href="#ç«‹å³æ‰§è¡Œ" class="headerlink" title="ç«‹å³æ‰§è¡Œ"></a>ç«‹å³æ‰§è¡Œ</h3><p><code>watch</code> æ˜¯ <code>Vue</code> ä¸­çš„ä¾¦å¬å™¨ï¼Œå¯ä»¥ä¾¦å¬ä¸€ä¸ª <code>Vue</code> å®ä¾‹ä¸Šçš„æ•°æ®ï¼Œå½“æ•°æ®å˜åŠ¨çš„æ—¶å€™ï¼Œå°±ä¼šè§¦å‘è¯¥ä¾¦å¬å™¨ã€‚æ‰€ä»¥ä»–çš„åº”ç”¨åœºæ™¯å°±æ˜¯ï¼šå½“æŸä¸ªæ•°æ®å˜åŠ¨åéœ€è¦åšä»€ä¹ˆçš„æ—¶å€™å°±å¯ä»¥ä½¿ç”¨<code>watch</code> å•¦ã€‚å¯¹äº <code>watch</code>ï¼Œå¹³å¸¸æˆ‘ä»¬å†™å¾—æœ€å¤šçš„ä¼°è®¡æ˜¯å¦‚ä¸‹è¿™ç§å†™æ³•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">watch: &#123;</span><br><span class="line">    list: function(val) &#123;</span><br><span class="line">        this.getMsg()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¦‚æœæˆ‘ä»¬å¸Œæœ›ç»„ä»¶åˆå§‹åŒ–çš„æ—¶å€™å°±æ‰§è¡Œä¸€æ¬¡ <code>getMsg</code> æ–¹æ³•ï¼Œå¯ä»¥ç›´æ¥åœ¨ <code>mounted</code> é‡Œè°ƒç”¨ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mounted() &#123;</span><br><span class="line">    this.getMsg()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å…¶å®ï¼Œè¿˜æœ‰ä¸€ç§æ›´åŠ ç®€ä¾¿çš„å†™æ³•ï¼Œé€šè¿‡ç»™ <code>watch</code> è®¾ç½® <code>immediate: true</code> ï¼Œå³å¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">watch: &#123;</span><br><span class="line">    list: &#123;</span><br><span class="line">        handler(val) &#123;  &#x2F;&#x2F; æ³¨æ„åˆ«å†™é”™æˆ handle</span><br><span class="line">            this.getMsg()</span><br><span class="line">        &#125;,</span><br><span class="line">        immediate: true</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="æ·±åº¦ç›‘å¬"><a href="#æ·±åº¦ç›‘å¬" class="headerlink" title="æ·±åº¦ç›‘å¬"></a>æ·±åº¦ç›‘å¬</h3><p>ä¾¦å¬å™¨å¯¹äºå±æ€§å˜æ›´åä¼šè‡ªåŠ¨è°ƒç”¨ä¸€æ¬¡ï¼Œä½†æ˜¯ä»…é™äºè¯¥å±æ€§æœ¬èº«ï¼Œå¦‚æœå˜æ›´çš„æ˜¯å±æ€§çš„å±æ€§ï¼Œåˆ™ä¸ä¼šè§¦å‘ä¾¦å¬å›è°ƒï¼Œå¦‚æœæƒ³è¦å®ç°è¿™ä¸ªåŠŸèƒ½å¯ä»¥ç»™ <code>watch</code> åŠ ä¸Š â€˜deep: trueâ€™ å³å¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">watch: &#123;</span><br><span class="line">    obj: &#123;</span><br><span class="line">        handler(val) &#123; &#x2F;&#x2F; do something &#125;,</span><br><span class="line">        deep: true</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,</span><br><span class="line">mounted() &#123;</span><br><span class="line">    this.obj.name &#x3D; &#39;bubuzou&#39;  &#x2F;&#x2F; å°†è§¦å‘ handler</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="å¤šä¸ªhandlers"><a href="#å¤šä¸ªhandlers" class="headerlink" title="å¤šä¸ªhandlers"></a>å¤šä¸ªhandlers</h3><p>å®é™…ä¸Šï¼Œ<code>watch</code> å¯ä»¥è®¾ç½®ä¸ºæ•°ç»„ï¼Œæ”¯æŒç±»å‹ä¸º <code>String</code>ã€<code>Object</code> å’Œ <code>Function</code>ã€‚è§¦å‘åï¼Œå¤šä¸ªå¤„ç†å‡½æ•°éƒ½å°†è¢«è°ƒç”¨ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">watch: &#123;</span><br><span class="line">    obj: [</span><br><span class="line">        &#39;print&#39;,</span><br><span class="line">        &#123;</span><br><span class="line">            handler: &#39;print&#39;,</span><br><span class="line">            deep: true</span><br><span class="line">        &#125;,</span><br><span class="line">        function(val, oldValue) &#123;</span><br><span class="line">            console.log(val)</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;,</span><br><span class="line">methods: &#123;</span><br><span class="line">    print() &#123;</span><br><span class="line">        console.log(this.obj)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="watchè¯¦è§£"><a href="#watchè¯¦è§£" class="headerlink" title="watchè¯¦è§£"></a>watchè¯¦è§£</h3><p>handlerï¼šç›‘å¬æ•°ç»„æˆ–å¯¹è±¡çš„å±æ€§æ—¶ç”¨åˆ°çš„æ–¹æ³•</p>
<p>deepï¼šæ·±åº¦ç›‘å¬ï¼Œä¸ºäº†å‘ç°å¯¹è±¡å†…éƒ¨å€¼çš„å˜åŒ–ï¼Œå¯ä»¥åœ¨é€‰é¡¹å‚æ•°ä¸­æŒ‡å®š deep:true ã€‚æ³¨æ„ç›‘å¬æ•°ç»„çš„å˜åŠ¨ä¸éœ€è¦è¿™ä¹ˆåšã€‚</p>
<p>immediate: åœ¨é€‰é¡¹å‚æ•°ä¸­æŒ‡å®š immediate: true å°†ç«‹å³ä»¥è¡¨è¾¾å¼çš„å½“å‰å€¼è§¦å‘å›è°ƒ</p>
<p>tips: åªè¦betä¸­çš„å±æ€§å‘ç”Ÿå˜åŒ–ï¼ˆå¯è¢«ç›‘æµ‹åˆ°çš„ï¼‰ï¼Œä¾¿ä¼šæ‰§è¡Œhandlerå‡½æ•°ï¼›å¦‚æœæƒ³ç›‘æµ‹å…·ä½“çš„å±æ€§å˜åŒ–ï¼Œå¦‚pokerHistoryå˜åŒ–æ—¶ï¼Œæ‰æ‰§è¡Œhandlerå‡½æ•°ï¼Œåˆ™å¯ä»¥åˆ©ç”¨è®¡ç®—å±æ€§computedåšä¸­é—´å±‚ã€‚</p>
<p>watch ä¸èƒ½æ£€æµ‹ä»¥ä¸‹å˜åŠ¨çš„æ•°ç»„ï¼š</p>
<ul>
<li>å½“ä½ åˆ©ç”¨ç´¢å¼•ç›´æ¥è®¾ç½®ä¸€ä¸ªé¡¹æ—¶ï¼Œä¾‹å¦‚ï¼šthis.demo[1] = 5</li>
<li>å½“ä½ ä¿®æ”¹æ•°ç»„çš„é•¿åº¦æ—¶ï¼Œä¾‹å¦‚ï¼šthis.demo.length = 2</li>
</ul>
<h4 id="1ã€æ™®é€šçš„watch"><a href="#1ã€æ™®é€šçš„watch" class="headerlink" title="1ã€æ™®é€šçš„watch"></a>1ã€æ™®é€šçš„watch</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      frontPoints: 0</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,</span><br><span class="line">watch: &#123;</span><br><span class="line">    frontPoints(newValue, oldValue) &#123;</span><br><span class="line">      console.log(newValue)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="2ã€æ•°ç»„çš„watch"><a href="#2ã€æ•°ç»„çš„watch" class="headerlink" title="2ã€æ•°ç»„çš„watch"></a>2ã€æ•°ç»„çš„watch</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">data() &#123;</span><br><span class="line"> return &#123;</span><br><span class="line"> ã€€ã€€winChips: new Array(11).fill(0)</span><br><span class="line"> &#125;</span><br><span class="line">&#125;,</span><br><span class="line">watch: &#123;</span><br><span class="line">  winChips: &#123;</span><br><span class="line">     handler(newValue, oldValue) &#123;</span><br><span class="line">       for (let i &#x3D; 0; i &lt; newValue.length; i++) &#123;</span><br><span class="line">       if (oldValue[i] !&#x3D; newValue[i]) &#123;</span><br><span class="line">          console.log(newValue)ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span><br><span class="line">         &#125;	</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;,ã€€</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="3ã€å¯¹è±¡çš„watch"><a href="#3ã€å¯¹è±¡çš„watch" class="headerlink" title="3ã€å¯¹è±¡çš„watch"></a>3ã€å¯¹è±¡çš„watch</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">data() &#123;</span><br><span class="line">ã€€ã€€return &#123;</span><br><span class="line">ã€€ã€€ã€€ã€€bet: &#123;</span><br><span class="line">ã€€ã€€ã€€ã€€ã€€ã€€pokerState: 53,</span><br><span class="line">ã€€ã€€ã€€ã€€ã€€ã€€pokerHistory: &#39;local&#39;</span><br><span class="line">ã€€ã€€ã€€ã€€&#125;</span><br><span class="line"> &#125;</span><br><span class="line">&#125;,</span><br><span class="line">watch: &#123;</span><br><span class="line">ã€€ã€€bet: &#123;</span><br><span class="line">ã€€ã€€ã€€ã€€handler(newValue, oldValue) &#123;</span><br><span class="line">ã€€ã€€ã€€ã€€ã€€ã€€console.log(newValue)ã€€ã€€ã€€ã€€</span><br><span class="line">   		&#125;,</span><br><span class="line">ã€€ã€€	  deep: true</span><br><span class="line">ã€€ã€€&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="4ã€å¯¹è±¡å…·ä½“å±æ€§çš„watchï¼»æ´»ç”¨computedï¼½"><a href="#4ã€å¯¹è±¡å…·ä½“å±æ€§çš„watchï¼»æ´»ç”¨computedï¼½" class="headerlink" title="4ã€å¯¹è±¡å…·ä½“å±æ€§çš„watchï¼»æ´»ç”¨computedï¼½"></a>4ã€å¯¹è±¡å…·ä½“å±æ€§çš„watchï¼»æ´»ç”¨computedï¼½</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">data() &#123;</span><br><span class="line">ã€€ã€€return &#123;</span><br><span class="line">ã€€ã€€ã€€ã€€bet: &#123;</span><br><span class="line">ã€€ã€€ã€€ã€€ã€€ã€€pokerState: 53,</span><br><span class="line">ã€€ã€€ã€€ã€€ã€€ã€€pokerHistory: &#39;local&#39;</span><br><span class="line">ã€€ã€€ã€€ã€€&#125; </span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br><span class="line">computed: &#123;</span><br><span class="line">ã€€ã€€pokerHistory() &#123;</span><br><span class="line">ã€€ã€€ã€€ã€€return this.bet.pokerHistory</span><br><span class="line">ã€€ã€€&#125;</span><br><span class="line">&#125;,</span><br><span class="line">watch: &#123;</span><br><span class="line">ã€€ã€€pokerHistory(newValue, oldValue) &#123;</span><br><span class="line">ã€€ã€€ã€€ã€€console.log(newValue)</span><br><span class="line">ã€€ã€€&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="5ã€å¯¹è±¡æ•°ç»„çš„watch"><a href="#5ã€å¯¹è±¡æ•°ç»„çš„watch" class="headerlink" title="5ã€å¯¹è±¡æ•°ç»„çš„watch"></a>5ã€å¯¹è±¡æ•°ç»„çš„watch</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">        demo:[</span><br><span class="line">             &#123;</span><br><span class="line">                  name:&#39;å¼ ä¸‰&#39;,</span><br><span class="line">                  age:18</span><br><span class="line">             &#125;,</span><br><span class="line">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€&#123;</span><br><span class="line">                  name:&#39;æå››&#39;,</span><br><span class="line">                  age:20</span><br><span class="line">             &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,</span><br><span class="line">watch: &#123;</span><br><span class="line">    demo: &#123;</span><br><span class="line">      handler (val) &#123;</span><br><span class="line">        console.log(val)</span><br><span class="line">      &#125;,</span><br><span class="line">      &#x2F;&#x2F; è¿™é‡Œæ˜¯å…³é”®ï¼Œä»£è¡¨é€’å½’ç›‘å¬ demo çš„å˜åŒ–</span><br><span class="line">      deep: true</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>



<h4 id="6ã€watchå’Œcomputedå„è‡ªå¤„ç†çš„æ•°æ®å…³ç³»åœºæ™¯ä¸åŒ"><a href="#6ã€watchå’Œcomputedå„è‡ªå¤„ç†çš„æ•°æ®å…³ç³»åœºæ™¯ä¸åŒ" class="headerlink" title="6ã€watchå’Œcomputedå„è‡ªå¤„ç†çš„æ•°æ®å…³ç³»åœºæ™¯ä¸åŒ"></a>6ã€watchå’Œcomputedå„è‡ªå¤„ç†çš„æ•°æ®å…³ç³»åœºæ™¯ä¸åŒ</h4><p>watchæ“…é•¿å¤„ç†çš„åœºæ™¯ï¼šä¸€ä¸ªæ•°æ®å½±å“å¤šä¸ªæ•°æ®<br>computedæ“…é•¿å¤„ç†çš„åœºæ™¯ï¼šä¸€ä¸ªæ•°æ®å—å¤šä¸ªæ•°æ®å½±å“</p>
<h4 id="7ã€methodå’Œcomputedè§¦å‘æ¡ä»¶ä¸åŒ"><a href="#7ã€methodå’Œcomputedè§¦å‘æ¡ä»¶ä¸åŒ" class="headerlink" title="7ã€methodå’Œcomputedè§¦å‘æ¡ä»¶ä¸åŒ"></a>7ã€methodå’Œcomputedè§¦å‘æ¡ä»¶ä¸åŒ</h4><p>computedåªæä¾›äº†ç¼“å­˜çš„å€¼ï¼Œè€Œæ²¡æœ‰é‡æ–°è®¡ç®—<br>åªæœ‰ç¬¦åˆï¼š1.å­˜åœ¨ä¾èµ–å‹æ•°æ® 2.ä¾èµ–å‹æ•°æ®å‘ç”Ÿæ”¹å˜è¿™ä¸¤ä¸ªæ¡ä»¶,computedæ‰ä¼šé‡æ–°è®¡ç®—ã€‚<br>è€Œmethodsä¸‹çš„æ•°æ®ï¼Œæ˜¯æ¯æ¬¡éƒ½ä¼šè¿›è¡Œè®¡ç®—çš„</p>
<h2 id="4ä¸ªå…¶ä»–å¼€å‘å°æŠ€å·§"><a href="#4ä¸ªå…¶ä»–å¼€å‘å°æŠ€å·§" class="headerlink" title="4ä¸ªå…¶ä»–å¼€å‘å°æŠ€å·§"></a>4ä¸ªå…¶ä»–å¼€å‘å°æŠ€å·§</h2><h3 id="è°ƒè¯•templateï¼ˆä¸æ¨èï¼‰"><a href="#è°ƒè¯•templateï¼ˆä¸æ¨èï¼‰" class="headerlink" title="è°ƒè¯•templateï¼ˆä¸æ¨èï¼‰"></a>è°ƒè¯•templateï¼ˆä¸æ¨èï¼‰</h3><p>åœ¨å¼€å‘è°ƒè¯•çš„æ—¶å€™ç»å¸¸ä¼šéœ€è¦é€šè¿‡ <code>console.log</code> æ¥æ‰“å°å‡ºæŸä¸ªæ•°æ®å¯¹è±¡æ¥æŸ¥çœ‹å…¶å†…éƒ¨çš„ç»“æ„æˆ–è€…å­—æ®µå€¼ï¼Œä½†æ˜¯è¿™æ ·åšè‚¯å®šä¸å¿…åœ¨ <code>template</code> é‡Œå°†å…¶è¾“å‡ºæ›´ç›´æ¥ã€‚æ¯”å¦‚æœ‰è¿™æ ·ä¸€ä¸ªæ•°æ®ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">obj: &#123;</span><br><span class="line">    name: &#39;bubuzou&#39;,</span><br><span class="line">    age: 21,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨æ¨¡æ¿ä¸­å±•ç¤ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;p&gt; obj &lt;&#x2F;p&gt;</span><br></pre></td></tr></table></figure>

<p>é¡µé¢æ¸²æŸ“å®Œæˆåä¼šçœ‹åˆ°ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123; &quot;name&quot;: &quot;bubuzou&quot;, &quot;age&quot;: 21 &#125;</span><br></pre></td></tr></table></figure>

<p>å¯¹äºè¿™æ ·çš„æ¸²æŸ“ç»“æœè™½ç„¶æ²¡ä»€ä¹ˆé—®é¢˜ï¼Œä½†æ˜¯å¦‚æœè¿™ä¸ª <code>obj</code> æ˜¯å±‚çº§å¾ˆæ·±ä¸”å­—æ®µå¾ˆå¤šçš„æ•°æ®ï¼Œæ˜¾ç¤ºå‡ºæ¥å°±ä¼šä¸€å †æ•°æ®ç ¸åœ¨ä¸€å—ï¼Œä¸æ¯«æ²¡æœ‰é˜…è¯»ä½“éªŒã€‚</p>
<p>å› æ­¤åŸºäºè¿™ä¸ªèƒŒæ™¯ï¼Œæˆ‘ä»¬å¯ä»¥å°† <code>console.log</code> æŒ‚è½½åœ¨ <code>Vue</code> çš„å®ä¾‹åŸå‹ä¸Šï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; main.js</span><br><span class="line">Vue.prototype.$log &#x3D; window.console.log</span><br></pre></td></tr></table></figure>

<p>ç„¶åå°±å¯ä»¥å¼€å¼€å¿ƒå¿ƒåœ¨æ¨¡æ¿ä¸­ä½¿ç”¨ä»–äº†ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;p&gt; $log( obj ) &lt;&#x2F;p&gt;</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·ä¼šåœ¨æµè§ˆå™¨æ§åˆ¶å°è¾“å‡ºå½“å‰çš„æ•°æ®å¯¹è±¡ï¼Œåœ¨æ˜¾ç¤ºæ•ˆæœä¸Šå’Œ <code>console.log</code> ç›´æ¥æ‰“å°åˆ«æ— äºŒè‡´ã€‚</p>
<p>ä½†è¯´äº†è¿™ä¹ˆå¤šï¼Œä½¿ç”¨ <code>Vue</code> è¿›è¡Œå¼€å‘è°ƒè¯•è¿˜æ˜¯å¼ºçƒˆæ¨èå®˜æ–¹çš„vue-devtools å·¥å…·ï¼Œè°ç”¨è°çŸ¥é“ã€‚</p>
<h3 id="ç›‘å¬å­ç»„ä»¶çš„é’©å­å‡½æ•°"><a href="#ç›‘å¬å­ç»„ä»¶çš„é’©å­å‡½æ•°" class="headerlink" title="ç›‘å¬å­ç»„ä»¶çš„é’©å­å‡½æ•°"></a>ç›‘å¬å­ç»„ä»¶çš„é’©å­å‡½æ•°</h3><p>é€šå¸¸å¦‚æœæˆ‘ä»¬æƒ³åœ¨å­ç»„ä»¶é’©å­å‡½æ•°è§¦å‘çš„æ—¶å€™é€šçŸ¥çˆ¶ç»„ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·åšï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; parent.vue</span><br><span class="line">&lt;child @mounted&#x3D;&quot;doSomething&quot;&gt;&lt;&#x2F;child&gt;</span><br><span class="line">&#x2F;&#x2F; child.vue</span><br><span class="line">this.$emit(&#39;mounted&#39;)</span><br></pre></td></tr></table></figure>

<p>å…¶å®è¿˜æœ‰ä¸€ç§æ›´åŠ ç®€å•çš„å†™æ³•ï¼Œé‚£å°±æ˜¯ä½¿ç”¨ <code>hookEvent</code>ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;child @hook:mounted&#x3D;&quot;doSomething&quot;&gt;&lt;&#x2F;child&gt;</span><br></pre></td></tr></table></figure>

<p>é’©å­å‡½æ•°é™¤äº†ä»¥ä¸Šç”¨æ³•ï¼Œè¿˜å¯ä»¥é€šè¿‡åŠ¨æ€æ³¨å†Œåšä¸€äº›åˆ«çš„äº‹æƒ…ï¼Œæ¯”å¦‚ç»„ä»¶é”€æ¯å‰è¿›è¡Œèµ„æºçš„é‡Šæ”¾ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">mounted() &#123;</span><br><span class="line">    let setIntervalId &#x3D; setInterval(() &#x3D;&gt; &#123;</span><br><span class="line">        console.log(888);</span><br><span class="line">    &#125;, 1000)</span><br><span class="line">    </span><br><span class="line">    this.$once(&quot;hook:beforeDestroy&quot;, () &#x3D;&gt; &#123;</span><br><span class="line">        clearInterval(setIntervalId)</span><br><span class="line">        setIntervalId &#x3D; null</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="è·¯ç”±å‚æ•°è§£è€¦"><a href="#è·¯ç”±å‚æ•°è§£è€¦" class="headerlink" title="è·¯ç”±å‚æ•°è§£è€¦"></a>è·¯ç”±å‚æ•°è§£è€¦</h3><p>å‚æ•°è§£è€¦ï¼Œå•¥æ„æ€å‘¢ï¼Ÿåˆ«ç€æ€¥ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹æ¯”å¦‚å¯¹äºè¿™ä¹ˆä¸€ä¸²è·¯ç”±ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">const router &#x3D; [&#123;</span><br><span class="line">    path: &#39;&#x2F;home&#x2F;:type&#x2F;:id&#39;,</span><br><span class="line">    name: &#39;Home&#39;,</span><br><span class="line">    component: Home,</span><br><span class="line">&#125;]</span><br></pre></td></tr></table></figure>

<p>å½“å‰é¡µé¢çš„è·¯å¾„æ˜¯ <code>http://xxx/detail/preview/21?sex=male</code>ï¼Œå¹³æ—¶æˆ‘ä»¬å†™ä»£ç çš„æ—¶å€™æˆ–å¤šæˆ–å°‘çš„ä¼šå†™å‡ºè¿™ç§ä»£ç ï¼Œåœ¨ç»„ä»¶é‡Œä½¿ç”¨ <code>$route</code> ç»™ç»„ä»¶ä¼ å‚æ•°ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">mounted() &#123;</span><br><span class="line">    if (this.$route.params.type &#x3D;&#x3D;&#x3D; &#39;preview&#39;) &#123;</span><br><span class="line">        this.isPreview &#x3D; true</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        this.isPreview &#x3D; false</span><br><span class="line">    &#125;</span><br><span class="line">    this.id &#x3D; this.$route.params.id</span><br><span class="line">    this.sex &#x3D; this.$route.query.sex</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·å­å†™æœ¬èº«æ²¡ä»€ä¹ˆé—®é¢˜ï¼Œå°±æ˜¯ä¼šä½¿å¾—ç»„ä»¶å’Œè·¯ç”±é«˜åº¦è€¦åˆï¼Œè®©ç»„ä»¶åªèƒ½åœ¨å«æœ‰ç‰¹å®š <code>URL</code> çš„é¡µé¢ä¸­ä½¿ç”¨ï¼Œé™åˆ¶äº†ç»„ä»¶çš„é€šç”¨æ€§ã€‚å…¶å®ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ <code>props</code> ä¼ å‚ï¼Œæ¥è§£è€¦è·¯ç”±å‚æ•°ï¼Œå°†ä¸Šé¢çš„è·¯ç”±é…ç½®æ”¹æˆå¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">const router &#x3D; [&#123;</span><br><span class="line">    path: &#39;&#x2F;home&#x2F;:type&#x2F;:id&#39;,</span><br><span class="line">    name: &#39;Home&#39;,</span><br><span class="line">    component: Home,</span><br><span class="line">    props: (route) &#x3D;&gt; (&#123;</span><br><span class="line">        type: route.params.type,</span><br><span class="line">        id: route.params.id,</span><br><span class="line">        sex: route.query.sex,</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;]</span><br></pre></td></tr></table></figure>

<p>ç„¶ååœ¨ç»„ä»¶ <code>props</code> åŠ ä¸Šå‚æ•°ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">props: [&#39;type&#39;, &#39;id&#39;, &#39;sex&#39;]</span><br></pre></td></tr></table></figure>

<p>ç»„ä»¶é‡Œä½¿ç”¨å‚æ•°çš„æ—¶å€™å°±ä¸éœ€è¦ç”¨ <code>this.$route</code>ï¼Œè€Œæ˜¯å¯ä»¥ç›´æ¥ <code>this.type</code> å³å¯ã€‚è¿™æ ·ä¸€æ¥ï¼Œè¿™ä¸ªç»„ä»¶å°±å¯ä»¥åœ¨ä»»ä½•åœ°æ–¹ä½¿ç”¨äº†ã€‚</p>
<h3 id="æ·±åº¦ä½œç”¨é€‰æ‹©å™¨"><a href="#æ·±åº¦ä½œç”¨é€‰æ‹©å™¨" class="headerlink" title="æ·±åº¦ä½œç”¨é€‰æ‹©å™¨"></a>æ·±åº¦ä½œç”¨é€‰æ‹©å™¨</h3><p>å½“ç»™ <code>style</code> åŠ ä¸Š <code>scoped</code>ï¼Œé¡µé¢æ¸²æŸ“å®Œæˆåä¼šç»™ <code>html</code> å’Œ <code>css</code> é€‰æ‹©å™¨åŠ ä¸Šå“ˆå¸Œå€¼ç”¨äºè¡¨ç¤ºå”¯ä¸€æ€§ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class&#x3D;&quot;home&quot; data-v-fae5bece&gt;</span><br><span class="line">    &lt;button data-v-fae5bece class&#x3D;&quot;el-button el-button-primary&quot;&gt;æäº¤&lt;&#x2F;button&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line">.home .el-button[data-v-fae5bece] &#123;</span><br><span class="line">    font-size: 20px;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¯¹äºåœ¨ <code>style</code> ä¸­è¢«åŠ äº† <code>scoped</code> çš„ç»„ä»¶ï¼Œå…¶æ ·å¼å°†åªèƒ½ä½œç”¨äºç»„ä»¶å†…éƒ¨ï¼Œä¸ä¼šå¯¹å…¶å­ç»„ä»¶é€ æˆå½±å“ã€‚æ¯”å¦‚æœ‰è¿™æ ·ä¸€ä¸ªç»„ä»¶ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; çˆ¶ç»„ä»¶</span><br><span class="line">&lt;div class&#x3D;&quot;home&quot;&gt;</span><br><span class="line">    &lt;el-button type&#x3D;&quot;primary&quot;&gt;çˆ¶æŒ‰é’®&lt;&#x2F;button&gt;</span><br><span class="line">    &lt;child&gt;&lt;&#x2F;child&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang&#x3D;&quot;scss&quot; scoped&gt;</span><br><span class="line">.home .el-button &#123;</span><br><span class="line">    font-size: 20px;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br><span class="line">&#x2F;&#x2F; å­ç»„ä»¶</span><br><span class="line">&lt;div class&#x3D;&quot;child&quot;&gt;</span><br><span class="line">    &lt;el-button type&#x3D;&quot;primary&quot;&gt;å­æŒ‰é’®&lt;&#x2F;button&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure>

<p>å½“é¡µé¢æ¸²æŸ“å‡ºæ¥åï¼Œä¼šæ˜¯å¦‚ä¸‹ç»“æœï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class&#x3D;&quot;home&quot; data-v-fae5bece&gt;</span><br><span class="line">    &lt;button data-v-fae5bece class&#x3D;&quot;el-button el-button-primary&quot;&gt;çˆ¶æŒ‰é’®&lt;&#x2F;button&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;child&quot; data-v-fae5bece&gt;</span><br><span class="line">        &lt;button class&#x3D;&quot;el-button el-button-primary&quot;&gt;å­æŒ‰é’®&lt;&#x2F;button&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure>

<p>æ ¹æ®ä¸Šé¢çš„ <code>html</code>ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ° <code>.home .el-button[data-v-fae5bece]</code> è¿™ä¸ªé€‰æ‹©å™¨ä½œç”¨ä¸åˆ°å­æŒ‰é’®è¿™ä¸ª <code>button</code>ã€‚</p>
<p>åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬æœ‰æ—¶å€™éœ€è¦è®©çˆ¶ç»„ä»¶çš„æ ·å¼èƒ½ä½œç”¨åˆ°å­ç»„ä»¶ï¼Œå³ä½¿çˆ¶ç»„ä»¶çš„ <code>style</code> ä¸ŠåŠ äº† <code>scoped</code>ï¼Œé‚£è¿™ä¸ªæ—¶å€™å°±éœ€è¦ç”¨åˆ°æ·±åº¦ä½œç”¨é€‰æ‹©å™¨ <code>&gt;&gt;&gt;</code>ï¼Œæ¯”å¦‚åœ¨åˆšåˆšçš„ä¾‹å­ä¸Šå¯ä»¥ç»™çˆ¶ç»„ä»¶æ ·å¼åŠ ä¸Šæ·±åº¦ä½œç”¨é€‰æ‹©å™¨ã€‚</p>
<blockquote>
<p>æ·±åº¦ä½œç”¨é€‰æ‹©å™¨ä¼šè¢« <code>Vue Loader</code> å¤„ç†ï¼Œä¸”åªèƒ½åœ¨æœ‰é¢„å¤„ç†å™¨çš„åœ°æ–¹ä½¿ç”¨ã€‚ç”±äºæŸäº›é¢„å¤„ç†å™¨æ¯”å¦‚ <code>Sass</code> ä¸èƒ½æ­£ç¡®è§£æ <code>&gt;&gt;&gt;</code>ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å®ƒçš„åˆ«åï¼š<code>/deep/</code> æˆ– <code>::v-deep</code> æ¥æ›¿ä»£ã€‚</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;style lang&#x3D;&quot;scss&quot; scoped&gt;</span><br><span class="line">.home &#123;</span><br><span class="line">    &#x2F;deep&#x2F; .el-button &#123;</span><br><span class="line">        font-size: 20px;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<p>åŠ ä¸Šæ·±åº¦ä½œç”¨é€‰æ‹©å™¨åï¼Œé€‰æ‹©å™¨ä¼šç”±åŸæ¥çš„ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.home .el-button[data-v-fae5bece] &#123;&#125;</span><br></pre></td></tr></table></figure>

<p>å˜æˆå¦‚ä¸‹çš„ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.home[data-v-fae5bece] .el-button &#123;&#125;</span><br></pre></td></tr></table></figure>
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/vue/" rel="tag"># vue</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2021/01/19/vue%E4%B9%8B%E9%A1%B6%E9%83%A8%E8%BF%9B%E5%BA%A6%E6%9D%A1/" rel="next" title="vueä¹‹é¡¶éƒ¨è¿›åº¦æ¡">
                <i class="fa fa-chevron-left"></i> vueä¹‹é¡¶éƒ¨è¿›åº¦æ¡
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2021/02/01/js%E4%B9%8B%E5%9B%BE%E7%89%87%E6%87%92%E5%8A%A0%E8%BD%BD/" rel="prev" title="jsä¹‹å›¾ç‰‡æ‡’åŠ è½½">
                jsä¹‹å›¾ç‰‡æ‡’åŠ è½½ <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            æ–‡ç« ç›®å½•
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            ç«™ç‚¹æ¦‚è§ˆ
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/header.jpg"
                alt="Dali" />
            
              <p class="site-author-name" itemprop="name">Dali</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">175</span>
                  <span class="site-state-item-name">æ—¥å¿—</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">76</span>
                  <span class="site-state-item-name">åˆ†ç±»</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">163</span>
                  <span class="site-state-item-name">æ ‡ç­¾</span>
                </a>
              </div>
            

          </nav>

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#ç»„ä»¶é€šä¿¡æ–¹å¼"><span class="nav-number">1.</span> <span class="nav-text">ç»„ä»¶é€šä¿¡æ–¹å¼</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#props-on-emit"><span class="nav-number">1.1.</span> <span class="nav-text">props&#x2F;@on+$emit</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#attrså’Œlisteners"><span class="nav-number">1.2.</span> <span class="nav-text">attrså’Œlisteners</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#provide-injectç»„åˆæ‹³"><span class="nav-number">1.3.</span> <span class="nav-text">provide&#x2F;injectç»„åˆæ‹³</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#EventBus"><span class="nav-number">1.4.</span> <span class="nav-text">EventBus</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Vuexè¿›è¡Œå…¨å±€çš„æ•°æ®ç®¡ç†"><span class="nav-number">1.5.</span> <span class="nav-text">Vuexè¿›è¡Œå…¨å±€çš„æ•°æ®ç®¡ç†</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Vue-observableå®ç°mini-vuex"><span class="nav-number">1.6.</span> <span class="nav-text">Vue.observableå®ç°mini vuex</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#refs-children-parent-root"><span class="nav-number">1.7.</span> <span class="nav-text">refs&#x2F;children&#x2F;parent&#x2F;root</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#8ç±»å¯ä»¥æŒæ¡çš„ä¿®é¥°ç¬¦"><span class="nav-number">2.</span> <span class="nav-text">8ç±»å¯ä»¥æŒæ¡çš„ä¿®é¥°ç¬¦</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#è¡¨å•ä¿®é¥°ç¬¦"><span class="nav-number">2.1.</span> <span class="nav-text">è¡¨å•ä¿®é¥°ç¬¦</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#äº‹ä»¶ä¿®é¥°ç¬¦"><span class="nav-number">2.2.</span> <span class="nav-text">äº‹ä»¶ä¿®é¥°ç¬¦</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#é¼ æ ‡æŒ‰é’®ä¿®é¥°ç¬¦"><span class="nav-number">2.3.</span> <span class="nav-text">é¼ æ ‡æŒ‰é’®ä¿®é¥°ç¬¦</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#é”®ç›˜æŒ‰é”®ä¿®é¥°ç¬¦"><span class="nav-number">2.4.</span> <span class="nav-text">é”®ç›˜æŒ‰é”®ä¿®é¥°ç¬¦</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#exactä¿®é¥°ç¬¦"><span class="nav-number">2.5.</span> <span class="nav-text">.exactä¿®é¥°ç¬¦</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#syncä¿®é¥°ç¬¦"><span class="nav-number">2.6.</span> <span class="nav-text">.syncä¿®é¥°ç¬¦</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#prop"><span class="nav-number">2.7.</span> <span class="nav-text">.prop</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#camel"><span class="nav-number">2.8.</span> <span class="nav-text">.camel</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ç¼–å†™å¯å¤ç”¨æ¨¡å—çš„æ–¹å¼"><span class="nav-number">3.</span> <span class="nav-text">ç¼–å†™å¯å¤ç”¨æ¨¡å—çš„æ–¹å¼</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#é€šè¿‡è‡ªå®šä¹‰æŒ‡ä»¤æ§åˆ¶æƒé™æŒ‰é’®çš„æ˜¾ç¤ºå’Œéšè—"><span class="nav-number">3.1.</span> <span class="nav-text">é€šè¿‡è‡ªå®šä¹‰æŒ‡ä»¤æ§åˆ¶æƒé™æŒ‰é’®çš„æ˜¾ç¤ºå’Œéšè—</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ä½¿ç”¨è¿‡æ»¤å™¨"><span class="nav-number">3.2.</span> <span class="nav-text">ä½¿ç”¨è¿‡æ»¤å™¨</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#è‡ªå®šä¹‰æ’ä»¶"><span class="nav-number">3.3.</span> <span class="nav-text">è‡ªå®šä¹‰æ’ä»¶</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3ç§æ–¹å¼æ‰‹å†™ä¼˜é›…ä»£ç "><span class="nav-number">4.</span> <span class="nav-text">3ç§æ–¹å¼æ‰‹å†™ä¼˜é›…ä»£ç </span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#è‡ªåŠ¨åŒ–å¯¼å…¥å¤šä¸ªè·¯ç”±æ–‡ä»¶"><span class="nav-number">4.1.</span> <span class="nav-text">è‡ªåŠ¨åŒ–å¯¼å…¥å¤šä¸ªè·¯ç”±æ–‡ä»¶</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#æ¨¡å—åŒ–æ³¨å†Œæ’ä»¶ï¼ˆelement-uiï¼‰"><span class="nav-number">4.2.</span> <span class="nav-text">æ¨¡å—åŒ–æ³¨å†Œæ’ä»¶ï¼ˆelement-uiï¼‰</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ä¼˜é›…å¯¼å‡ºè¯·æ±‚æ¥å£"><span class="nav-number">4.3.</span> <span class="nav-text">ä¼˜é›…å¯¼å‡ºè¯·æ±‚æ¥å£</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4ç§-eventä¼ å‚æ–¹å¼"><span class="nav-number">5.</span> <span class="nav-text">4ç§$eventä¼ å‚æ–¹å¼</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#ç”¨äºç»„ä»¶é€šä¿¡"><span class="nav-number">5.1.</span> <span class="nav-text">ç”¨äºç»„ä»¶é€šä¿¡</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ä¼ é€’åŸç”ŸDOMäº‹ä»¶å¯¹è±¡"><span class="nav-number">5.2.</span> <span class="nav-text">ä¼ é€’åŸç”ŸDOMäº‹ä»¶å¯¹è±¡</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ç”¨äºç¬¬ä¸‰æ–¹ç±»åº“äº‹ä»¶å›è°ƒ"><span class="nav-number">5.3.</span> <span class="nav-text">ç”¨äºç¬¬ä¸‰æ–¹ç±»åº“äº‹ä»¶å›è°ƒ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ä½¿ç”¨ç®­å¤´å‡½æ•°å¤„ç†"><span class="nav-number">5.4.</span> <span class="nav-text">ä½¿ç”¨ç®­å¤´å‡½æ•°å¤„ç†</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3ç§æ·±å…¥watchçš„ç”¨æ³•"><span class="nav-number">6.</span> <span class="nav-text">3ç§æ·±å…¥watchçš„ç”¨æ³•</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#ç«‹å³æ‰§è¡Œ"><span class="nav-number">6.1.</span> <span class="nav-text">ç«‹å³æ‰§è¡Œ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#æ·±åº¦ç›‘å¬"><span class="nav-number">6.2.</span> <span class="nav-text">æ·±åº¦ç›‘å¬</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#å¤šä¸ªhandlers"><span class="nav-number">6.3.</span> <span class="nav-text">å¤šä¸ªhandlers</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#watchè¯¦è§£"><span class="nav-number">6.4.</span> <span class="nav-text">watchè¯¦è§£</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1ã€æ™®é€šçš„watch"><span class="nav-number">6.4.1.</span> <span class="nav-text">1ã€æ™®é€šçš„watch</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2ã€æ•°ç»„çš„watch"><span class="nav-number">6.4.2.</span> <span class="nav-text">2ã€æ•°ç»„çš„watch</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3ã€å¯¹è±¡çš„watch"><span class="nav-number">6.4.3.</span> <span class="nav-text">3ã€å¯¹è±¡çš„watch</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4ã€å¯¹è±¡å…·ä½“å±æ€§çš„watchï¼»æ´»ç”¨computedï¼½"><span class="nav-number">6.4.4.</span> <span class="nav-text">4ã€å¯¹è±¡å…·ä½“å±æ€§çš„watchï¼»æ´»ç”¨computedï¼½</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5ã€å¯¹è±¡æ•°ç»„çš„watch"><span class="nav-number">6.4.5.</span> <span class="nav-text">5ã€å¯¹è±¡æ•°ç»„çš„watch</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#6ã€watchå’Œcomputedå„è‡ªå¤„ç†çš„æ•°æ®å…³ç³»åœºæ™¯ä¸åŒ"><span class="nav-number">6.4.6.</span> <span class="nav-text">6ã€watchå’Œcomputedå„è‡ªå¤„ç†çš„æ•°æ®å…³ç³»åœºæ™¯ä¸åŒ</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7ã€methodå’Œcomputedè§¦å‘æ¡ä»¶ä¸åŒ"><span class="nav-number">6.4.7.</span> <span class="nav-text">7ã€methodå’Œcomputedè§¦å‘æ¡ä»¶ä¸åŒ</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4ä¸ªå…¶ä»–å¼€å‘å°æŠ€å·§"><span class="nav-number">7.</span> <span class="nav-text">4ä¸ªå…¶ä»–å¼€å‘å°æŠ€å·§</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#è°ƒè¯•templateï¼ˆä¸æ¨èï¼‰"><span class="nav-number">7.1.</span> <span class="nav-text">è°ƒè¯•templateï¼ˆä¸æ¨èï¼‰</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ç›‘å¬å­ç»„ä»¶çš„é’©å­å‡½æ•°"><span class="nav-number">7.2.</span> <span class="nav-text">ç›‘å¬å­ç»„ä»¶çš„é’©å­å‡½æ•°</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#è·¯ç”±å‚æ•°è§£è€¦"><span class="nav-number">7.3.</span> <span class="nav-text">è·¯ç”±å‚æ•°è§£è€¦</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#æ·±åº¦ä½œç”¨é€‰æ‹©å™¨"><span class="nav-number">7.4.</span> <span class="nav-text">æ·±åº¦ä½œç”¨é€‰æ‹©å™¨</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Dali</span>

  
</div>


  <div class="powered-by">ç”± <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> å¼ºåŠ›é©±åŠ¨</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">ä¸»é¢˜ &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Gemini</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  
  

  

  

  

</body>
</html>
