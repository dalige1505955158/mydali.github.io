<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />





  <link rel="alternate" href="/atom.xml" title="DaliBlogs" type="application/atom+xml" />






<meta property="og:type" content="website">
<meta property="og:title" content="DaliBlogs">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="DaliBlogs">
<meta property="article:author" content="Dali">
<meta name="twitter:card" content="summary">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'åšä¸»'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/"/>





  <title>DaliBlogs</title>
  








<meta name="generator" content="Hexo 4.2.1"></head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">DaliBlogs</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            é¦–é¡µ
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            å…³äº
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            æ ‡ç­¾
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            åˆ†ç±»
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            å½’æ¡£
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            æœç´¢
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="æœç´¢..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/09/10/%E5%B0%8F%E7%A8%8B%E5%BA%8F%E4%B9%8Bwx-request%E5%B0%81%E8%A3%85/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Dali">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/header.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DaliBlogs">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/09/10/%E5%B0%8F%E7%A8%8B%E5%BA%8F%E4%B9%8Bwx-request%E5%B0%81%E8%A3%85/" itemprop="url">å°ç¨‹åºä¹‹wx-requestå°è£…</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2020-09-10T18:19:40+08:00">
                2020-09-10
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="å¾®ä¿¡è¯·æ±‚-Promise-åŒ–"><a href="#å¾®ä¿¡è¯·æ±‚-Promise-åŒ–" class="headerlink" title="å¾®ä¿¡è¯·æ±‚ Promise åŒ–"></a>å¾®ä¿¡è¯·æ±‚ Promise åŒ–</h2><h3 id="2-1-ä½¿ç”¨ç°æˆçš„åº“"><a href="#2-1-ä½¿ç”¨ç°æˆçš„åº“" class="headerlink" title="2.1 ä½¿ç”¨ç°æˆçš„åº“"></a>2.1 ä½¿ç”¨ç°æˆçš„åº“</h3><p>å®‰è£… Promise åº“ wx-promise-proï¼Œè®°å¾—ä¸€å®šè¦å¸¦ <code>-s</code> æˆ– <code>--production</code>ï¼Œè¦ä¸ç„¶æ— æ³•æ„å»ºæˆåŠŸã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i -S wx-promise-pro</span><br></pre></td></tr></table></figure>

<p>ç„¶ååœ¨ <code>app.js</code> ä¸­ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">import &#123; promisifyAll &#125; from &#39;wx-promise-pro&#39;</span><br><span class="line"></span><br><span class="line">promisifyAll()  &#x2F;&#x2F; promisify all wx api</span><br><span class="line"></span><br><span class="line">App(&#123; ... &#125;)</span><br></pre></td></tr></table></figure>

<p>ä¹‹åå°±å¯ä»¥æ­£å¸¸ä½¿ç”¨äº†ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">wx.pro.showLoading(&#123;</span><br><span class="line">    title: &#39;åŠ è½½ä¸­&#39;,</span><br><span class="line">    mask: true</span><br><span class="line">&#125;)</span><br><span class="line">  .then(() &#x3D;&gt; console.log(&#39;in promise ~&#39;))</span><br></pre></td></tr></table></figure>

<h3 id="2-2-è‡ªå·±å®ç°"><a href="#2-2-è‡ªå·±å®ç°" class="headerlink" title="2.2 è‡ªå·±å®ç°"></a>2.2 è‡ªå·±å®ç°</h3><p>å…¶å®æˆ‘ä»¬å¯ä»¥è‡ªå·±æ¥å®ç°ä¸€ä¸ªè¿™æ ·çš„åº“ï¼ŒåŸç†å¾ˆç®€å•ï¼Œä»¥åŸç”Ÿ API çš„ wx.request ä¸ºä¾‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; åŸç”Ÿ API ä½¿ç”¨æ–¹å¼</span><br><span class="line">wx.request(&#123;</span><br><span class="line">    url: &#39;&#39;,     &#x2F;&#x2F; è¯·æ±‚çš„ url</span><br><span class="line">    data: &#123;&#125;,    &#x2F;&#x2F; å‚æ•°</span><br><span class="line">    method: &#39;&#39;,  &#x2F;&#x2F; postã€get</span><br><span class="line">    success: res &#x3D;&gt; &#123;</span><br><span class="line">        &#x2F;&#x2F; è¯·æ±‚æˆåŠŸå›è°ƒå‡½æ•°ï¼Œresä¸ºå›è°ƒå‚æ•°</span><br><span class="line">    &#125;,</span><br><span class="line">    fail: res &#x3D;&gt; &#123;</span><br><span class="line">        &#x2F;&#x2F; è¯·æ±‚å¤±è´¥å›è°ƒå‡½æ•°ï¼Œresä¸ºå›è°ƒå‚æ•°</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>å¦‚æœæˆ‘ä»¬å°†å…¶ Promise åŒ–ï¼Œåº”è¯¥çš„è°ƒç”¨æ–¹å¼å¸Œæœ›æ˜¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; Promise åŒ–åçš„æœŸæœ›ä½¿ç”¨æ–¹å¼</span><br><span class="line">wx.pro.request(&#123;</span><br><span class="line">    url: &#39;&#39;,     &#x2F;&#x2F; è¯·æ±‚çš„ url</span><br><span class="line">    data: &#123;&#125;,    &#x2F;&#x2F; å‚æ•°</span><br><span class="line">    method: &#39;&#39;   &#x2F;&#x2F; postã€get</span><br><span class="line">&#125;)</span><br><span class="line">  .then(res &#x3D;&gt; &#123;</span><br><span class="line">      &#x2F;&#x2F; è¯·æ±‚æˆåŠŸå›è°ƒå‡½æ•°ï¼Œresä¸ºå›è°ƒå‚æ•°</span><br><span class="line">  &#125;)</span><br><span class="line">  .catch(res &#x3D;&gt; &#123;</span><br><span class="line">      &#x2F;&#x2F; è¯·æ±‚å¤±è´¥å›è°ƒå‡½æ•°ï¼Œresä¸ºå›è°ƒå‚æ•°</span><br><span class="line">  &#125;)</span><br></pre></td></tr></table></figure>

<p>å¹¶ä¸” <code>then</code> å‡½æ•°è¿”å›çš„æ˜¯ä¸€ä¸ª Promise å¯¹è±¡ï¼Œè®©è¿™ä¸ªå‡½æ•°å¯ä»¥ä¸æ–­é“¾å¼è°ƒç”¨ä¸‹å»ï¼Œæ‰€ä»¥é¦–å…ˆéœ€è¦ <code>new</code> å‡ºæ¥ä¸€ä¸ª Promise å¯¹è±¡ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">function request(opt) &#123;</span><br><span class="line">    return new Promise((resolve, reject) &#x3D;&gt; &#123;</span><br><span class="line">        wx.request(&#123;</span><br><span class="line">            ...opt,</span><br><span class="line">            success: res &#x3D;&gt; &#123; resolve(res)&#125;,</span><br><span class="line">            fail: res &#x3D;&gt; &#123;reject(res)&#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œä»£ç æˆ‘ä»¬å¯ä»¥è¿›ä¸€æ­¥æ”¹è¿›ï¼Œç”±äº <code>success</code>ã€<code>fail</code> è¿™é‡Œä¼ å…¥çš„å‚æ•°åªæ˜¯ç”±<code>resolve</code>ã€<code>reject</code> æ–¹æ³•æ‰§è¡Œäº†ä¸‹ï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥ä¼ å…¥ <code>resolve</code>ã€<code>reject</code> æ–¹æ³•å³å¯ã€‚</p>
<p>å¦å¤–ï¼Œç”±äºå…¶ä»–å°ç¨‹åºåŸç”Ÿ API æ ¼å¼ä¸€è‡´ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä½¿ç”¨æŸ¯é‡ŒåŒ–æ–¹æ³•ï¼Œæ¥å°†å…¶ä»–éœ€è¦è¿›è¡Œ Promise åŒ–çš„ API è¿›è¡Œå¤„ç†ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">function promisify(api) &#123;</span><br><span class="line">    return (opt &#x3D; &#123;&#125;) &#x3D;&gt; &#123;</span><br><span class="line">        return new Promise((resolve, reject) &#x3D;&gt; &#123;</span><br><span class="line">            api(&#123;</span><br><span class="line">                ...opt,</span><br><span class="line">                fail: reject,</span><br><span class="line">                success: resolve</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç„¶åï¼Œå°†æŸ¯é‡ŒåŒ–æ–¹æ³•æ‰§è¡Œçš„ç»“æœä½œä¸ºæ–°çš„ Promise åŒ–çš„ API æŒ‚è½½åˆ° <code>wx.pro</code> å¯¹è±¡ä¸Šï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; å°†æŒ‡å®š API è¿›è¡Œ Promise åŒ–</span><br><span class="line">wx.pro.request &#x3D; promisify(wx.request)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; ä½¿ç”¨</span><br><span class="line">wx.pro.request(&#123;...&#125;)</span><br><span class="line">    .then(...)</span><br></pre></td></tr></table></figure>

<p>ç„¶åä¸ºäº†æ–¹ä¾¿æˆ‘ä»¬ä½¿ç”¨å…¶ä»–æ–¹æ³•ï¼Œå¯ä»¥å¾ªç¯å°† <code>wx</code> å¯¹è±¡ä¸Šå¯ä»¥è¢« Promise åŒ–çš„æ–¹æ³•æ¯”å¦‚ <code>request</code>ã€<code>scanCode</code>ã€<code>showToast</code>ã€<code>getUserInfo</code> ç­‰ä¸€ä¸€æŒ‚è½½åˆ° <code>wx.pro</code> å¯¹è±¡ä¸Šï¼Œä½¿ç”¨æ—¶å¯ä»¥ç›´æ¥<code>wx.pro.xx</code>ï¼Œç”±äºè¿™ä¸ªæ–¹æ³•æ‰§è¡Œè¿”å›çš„æ˜¯ä¸€ä¸ª Promise å¯¹è±¡ï¼Œå› æ­¤å¯ä»¥åƒå…¶å®ƒ Promise åŒ–çš„å¯¹è±¡é‚£æ ·ä½¿ç”¨ã€‚</p>
<p>äº‹å®ä¸Šï¼Œä¸çŸ¥ä¸è§‰ï¼Œæˆ‘ä»¬å°±è‡ªå·±å®ç°äº† <code>wx-promise-pro</code> çš„æºç ï¼Œè¿™ä¸ªåº“çš„æ ¸å¿ƒä»£ç ä¹Ÿå°±æ˜¯ä¸Šé¢é‚£è¿™å‡ è¡Œ ğŸ¥³</p>
<h3 id="2-3-åœ¨é¡¹ç›®ä¸­ä½¿ç”¨"><a href="#2-3-åœ¨é¡¹ç›®ä¸­ä½¿ç”¨" class="headerlink" title="2.3 åœ¨é¡¹ç›®ä¸­ä½¿ç”¨"></a>2.3 åœ¨é¡¹ç›®ä¸­ä½¿ç”¨</h3><p>æœ‰äº†ä¸Šé¢çš„å·¥å…·åï¼Œæˆ‘ä»¬å¯ä»¥å°†å…¶ä½¿ç”¨åœ¨é¡¹ç›®ä¸­ï¼Œä¸ºäº†ä¸åœ¨é¡¹ç›®ä¸­éå¸ƒ <code>wx.request</code> æˆ– <code>wx.pro.request</code> è¿™é‡Œå¯ä»¥ç®€å•è¿›è¡Œå°è£…ï¼Œæ–°å»ºä¸¤ä¸ªæ–‡ä»¶å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; utils&#x2F;api&#x2F;fetch.js å°è£…è¯·æ±‚æ–¹æ³•ã€è¯·æ±‚æ‹¦æˆªå™¨</span><br><span class="line"></span><br><span class="line">const app &#x3D; getApp()</span><br><span class="line"></span><br><span class="line">const BaseUrl &#x3D; &#39;http:&#x2F;&#x2F;172.0.0.1:7300&#x2F;mock&#39;</span><br><span class="line"></span><br><span class="line">const TokenWhiteList &#x3D; [</span><br><span class="line">    &#39;&#x2F;app&#x2F;user&#x2F;get-by-code&#39;     &#x2F;&#x2F; ä¸éœ€è¦é‰´æƒçš„apiæ‰‹åŠ¨æ·»åŠ åˆ°è¿™é‡Œ</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line">&#x2F;**</span><br><span class="line"> * è®¾ç½®è¯·æ±‚æ‹¦æˆªå™¨</span><br><span class="line"> * @param params è¯·æ±‚å‚æ•°</span><br><span class="line"> *&#x2F;</span><br><span class="line">const fetch &#x3D; (params &#x3D; &#123;&#125;) &#x3D;&gt; &#123;</span><br><span class="line">    &#x2F;&#x2F; æ‹¦æˆªå™¨é€»è¾‘</span><br><span class="line">    if (!TokenWhiteList.includes(params.url)) &#123;</span><br><span class="line">        params.header &#x3D; &#123;</span><br><span class="line">            &#39;content-type&#39;: &#39;application&#x2F;json&#39;,             &#x2F;&#x2F; é»˜è®¤å€¼</span><br><span class="line">            &#39;token&#39;: app.globalData.token || &#39;&#39;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    if (params.url.startsWith(&#39;&#x2F;&#39;)) &#123;    &#x2F;&#x2F; æ‹¼æ¥å®Œæ•´URL</span><br><span class="line">        params.url &#x3D; BaseUrl + params.url</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; è¿”å›promise</span><br><span class="line">    return wx.pro.request(&#123; ...params &#125;)</span><br><span class="line">      .then((&#123; data: &#123; code, message, data &#125; &#125;) &#x3D;&gt; &#123;</span><br><span class="line">          &#x2F;&#x2F; ... å„ç§å¼‚å¸¸æƒ…å†µçš„é€»è¾‘å¤„ç†</span><br><span class="line">          &#x2F;&#x2F; ä¸åç«¯çº¦å®š code 20000 æ—¶æ­£å¸¸è¿”å›</span><br><span class="line">          if (code &#x3D;&#x3D;&#x3D; 20000) return Promise.resolve(data)</span><br><span class="line">          return Promise.reject(message)</span><br><span class="line">      &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export &#123; fetch &#125;</span><br></pre></td></tr></table></figure>

<p>ç„¶åå†å°†æ‰€æœ‰ API å°è£…åˆ°å•ç‹¬çš„æ–‡ä»¶ä¸­é›†ä¸­ç®¡ç†ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; utils&#x2F;api&#x2F;apis.js å°è£…æ‰€æœ‰è¯·æ±‚ API</span><br><span class="line"></span><br><span class="line">import &#123; fetch &#125; from &#39;.&#x2F;fetch&#39;</span><br><span class="line"></span><br><span class="line">&#x2F;* æ ¹æ®å¾®ä¿¡codeè·å–ç”¨æˆ·ä¿¡æ¯ *&#x2F;</span><br><span class="line">const appUserGetByCode &#x3D; (&#123; code &#125; &#x3D; &#123;&#125;) &#x3D;&gt; fetch(&#123;</span><br><span class="line">    url: &#39;&#x2F;app&#x2F;user&#x2F;get-by-code&#39;,</span><br><span class="line">    data: &#123; code &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">&#x2F;* æ‰«ç ç™»å½• *&#x2F;</span><br><span class="line">const appUserQrLogin &#x3D; (&#123; qrCode &#125; &#x3D; &#123;&#125;) &#x3D;&gt; fetch(&#123;</span><br><span class="line">    method: &#39;POST&#39;,</span><br><span class="line">    url: &#39;&#x2F;app&#x2F;user&#x2F;qr-login&#39;,</span><br><span class="line">    data: &#123; qrCode &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">&#x2F;* ä¸ªäººä¿¡æ¯ *&#x2F;</span><br><span class="line">const appUserInfo &#x3D; () &#x3D;&gt; fetch(&#123;</span><br><span class="line">    url: &#39;&#x2F;app&#x2F;user&#x2F;info&#39;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">&#x2F;* ç³»ç»Ÿå‚æ•°è·å–ï¼Œæ•°æ®å­—å…¸ *&#x2F;</span><br><span class="line">const appSysParamListByParam &#x3D; () &#x3D;&gt; fetch(&#123;</span><br><span class="line">    url: &#39;&#x2F;app&#x2F;sys-param&#x2F;list-by-param&#39;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">&#x2F;* æ•°æ®å­—å…¸æ‰€æœ‰ *&#x2F;</span><br><span class="line">const appSysParamListAll &#x3D; () &#x3D;&gt; fetch(&#123;</span><br><span class="line">    url: &#39;&#x2F;app&#x2F;sys-param&#x2F;list-all&#39;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">export &#123;</span><br><span class="line">    appSysParamListAll,   &#x2F;&#x2F; æ•°æ®å­—å…¸æ‰€æœ‰</span><br><span class="line">    appSysParamListByParam,   &#x2F;&#x2F; ç³»ç»Ÿå‚æ•°è·å–ï¼Œæ•°æ®å­—å…¸</span><br><span class="line">    appUserGetByCode,   &#x2F;&#x2F; æ ¹æ®å¾®ä¿¡codeè·å–ç”¨æˆ·ä¿¡æ¯</span><br><span class="line">    appUserQrLogin,   &#x2F;&#x2F; æ‰«ç ç™»å½•</span><br><span class="line">    appUserInfo   &#x2F;&#x2F; ä¸ªäººä¿¡æ¯</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨è¦ä½¿ç”¨ API çš„åœ°æ–¹å°±å¯ä»¥è¿™æ ·å¼•å…¥ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">import * as Api from &#39;..&#x2F;..&#x2F;utils&#x2F;api&#x2F;apis.js&#39;   &#x2F;&#x2F; ç›¸å¯¹è·¯å¾„</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; ä½¿ç”¨æ–¹å¼</span><br><span class="line">Api.appSysParamListAll()</span><br><span class="line">  .then((&#123; dataList &#125;) &#x3D;&gt; this.upData(&#123; sysParamList: dataList &#125;))</span><br><span class="line">  .then(() &#x3D;&gt; &#123;</span><br><span class="line">      const keyList &#x3D; this.data.sysParamList.map(T &#x3D;&gt; T.key)</span><br><span class="line">      this.upData(&#123;</span><br><span class="line">          keyList,</span><br><span class="line">          formData: &#123; keys: keyList &#125;</span><br><span class="line">      &#125;)</span><br><span class="line">  &#125;)</span><br></pre></td></tr></table></figure>

<p>å‚è€ƒé“¾æ¥ï¼š<a href="https://mp.weixin.qq.com/s/PqSlKWOaWXLdEJ7SvrIy0Q" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/PqSlKWOaWXLdEJ7SvrIy0Q</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/09/10/%E5%B0%8F%E7%A8%8B%E5%BA%8F%E4%B9%8Bwx-upData/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Dali">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/header.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DaliBlogs">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/09/10/%E5%B0%8F%E7%A8%8B%E5%BA%8F%E4%B9%8Bwx-upData/" itemprop="url">å°ç¨‹åºä¹‹wx-upData</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2020-09-10T18:09:20+08:00">
                2020-09-10
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/soft/" itemprop="url" rel="index">
                    <span itemprop="name">soft</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>é‰´äºåœ¨ä¸‹ä½¿ç”¨å¾®ä¿¡å°ç¨‹åºå¼€å‘æ—¶ä½¿ç”¨ <code>setData</code> çš„è¹©è„šä½“éªŒï¼Œå¼€å‘äº†ä¸ªåº“å‡½æ•° <code>wx-updata</code>ï¼Œé¡¹ç›®ä¸Šçº¿ä¹‹åï¼Œæˆ‘æŠŠè¿™ä¸ªè‡ªç”¨çš„åº“å‡½æ•°æ•´ç†æ”¾åˆ° Github ä¸Šå¼€æºå‡ºæ¥ wx-updataï¼Œè¿™ä¸ªåº“å‡½æ•°åœ¨å¼€å‘çš„æ—¶å€™å¯¹æˆ‘å¾ˆæœ‰å¸®åŠ©ï¼Œå¸Œæœ›ä¹Ÿå¯ä»¥å¸®åˆ°å¤§å®¶ ????</p>
<p>å¦‚æœå¤§å®¶åœ¨ä½¿ç”¨ä¸­é‡åˆ°äº†é—®é¢˜ï¼Œå¯ä»¥ç»™æˆ‘æ prï¼Œæ issueï¼Œä¸€èµ·æ¥æ”¹å–„å°ç¨‹åºå¼€å‘ä½“éªŒåŠ æ²¹ï½</p>
<ol>
<li><code>wx-updata</code> ç‰ˆæœ¬ 0.0.10</li>
<li>Github åœ°å€ï¼š<a href="https://github.com/SHERlocked93/wx-updata" target="_blank" rel="noopener">https://github.com/SHERlocked93/wx-updata</a></li>
<li>å°ç¨‹åºä»£ç ç‰‡æ®µé¢„è§ˆåœ°å€ï¼š<a href="https://developers.weixin.qq.com/s/CcXdO1mc73jD" target="_blank" rel="noopener">https://developers.weixin.qq.com/s/CcXdO1mc73jD</a></li>
<li>å°ç¨‹åºä»£ç ç‰‡æ®µä»£ç åœ°å€ï¼š<a href="https://github.com/SHERlocked93/wx-updata-demo" target="_blank" rel="noopener">https://github.com/SHERlocked93/wx-updata-demo</a></li>
</ol>
<h2 id="1-setData-ä¸æ–¹ä¾¿çš„åœ°æ–¹"><a href="#1-setData-ä¸æ–¹ä¾¿çš„åœ°æ–¹" class="headerlink" title="1. setData ä¸æ–¹ä¾¿çš„åœ°æ–¹"></a><strong>1. setData ä¸æ–¹ä¾¿çš„åœ°æ–¹</strong></h2><p>ä½ åœ¨ä½¿ç”¨ <code>setData</code> çš„æ—¶å€™ï¼Œæ˜¯ä¸æ˜¯æœ‰æ—¶å€™è§‰å¾—å¾ˆéš¾å—ï¼Œä¸¾ä¸ªç®€å•çš„ä¾‹å­ï¼š</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä½ çš„ data</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">data: &#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    name: <span class="string">'èœ¡ç¬”å°æ–°'</span>,</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    info: &#123; height: <span class="number">140</span>, color: <span class="string">'é»„è‰²'</span> &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¦‚æœè¦ä¿®æ”¹ <code>info.height</code> ä¸º 155ï¼Œä½¿ç”¨ <code>setData</code> è¦æ€ä¹ˆåšå‘¢ï¼š</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¿™æ ·ä¼šæŠŠ info é‡Œå…¶ä»–å±æ€§æ•´ä¸è§äº†</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">this.setData(&#123; info: &#123; height: <span class="number">155</span> &#125; &#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½ éœ€è¦å–å‡º info å¯¹è±¡ï¼Œä¿®æ”¹åæ•´ä¸ª setData</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> &#123; info &#125; = this.data</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">info.height = <span class="number">155</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">this.setData(&#123; info &#125;)</span><br></pre></td></tr></table></figure>

<p>ä¼¼ä¹å¹¶ä¸å¤ªå¤æ‚ï¼Œä½†å¦‚æœ <code>data</code> æ˜¯ä¸ªå¾ˆå¤§çš„å¯¹è±¡ï¼Œè¦æŠŠæ¯”è¾ƒæ·±ä¸”ä¸åŒçš„å¯¹è±¡ã€æ•°ç»„é¡¹æŒ¨ä¸ªæ”¹å˜ï¼š</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">data: &#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    name: <span class="string">'èœ¡ç¬”å°æ–°'</span>,</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    info: &#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        height: <span class="number">140</span>, color: <span class="string">'é»„è‰²'</span>,</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        desc: [&#123; age: <span class="number">8</span> &#125;, <span class="string">'æœ€å–œæ¬¢å¤§è±¡ä¹‹æ­Œ'</span>, <span class="string">'é“ä»”'</span>, &#123; dog: <span class="string">'å°ç™½'</span>, color: <span class="string">'ç™½è‰²'</span> &#125;]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ¯”å¦‚æŸä¸ªéœ€æ±‚ï¼Œéœ€è¦æŠŠ <code>info.height</code> æ”¹ä¸º 155ï¼ŒåŒæ—¶æ”¹å˜ <code>info.desc</code> æ•°ç»„çš„ç¬¬ 0 é¡¹çš„ <code>age</code> ä¸º 12ï¼Œç¬¬ 3 é¡¹çš„ <code>color</code> ä¸ºç°è‰²å‘¢ï¼Ÿ</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å…ˆå–å‡ºè¦æ”¹å˜çš„å¯¹è±¡ï¼Œæ”¹å˜æ•°å­—å setData å›å»</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> &#123; info &#125; = this.data</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">info.height = <span class="number">155</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">info.desc[<span class="number">0</span>].age = <span class="number">12</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">info.desc[<span class="number">3</span>].color = <span class="string">'ç°è‰²'</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">this.setData(&#123; info &#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// æˆ–è€…åƒæŸäº›æ–‡ç« é‡Œä»‹ç»çš„ï¼Œè¿™æ ·å¯è¯»æ€§å·®ï¼Œä¹Ÿä¸å¤ªå®ç”¨</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">this.setData(&#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="string">'info.height'</span>: <span class="number">155</span>,</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="string">'info.desc[0].age'</span>: <span class="number">12</span>,</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="string">'info.desc[3].color'</span>: <span class="string">'ç°è‰²'</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢è¿™ä¸¤ç§æ–¹æ³•ï¼Œæ˜¯æˆ‘ä»¬å¹³å¸¸å°ç¨‹åºé‡Œç»å¸¸ç”¨çš„ï¼Œå’Œå…¶ä»– Web ç«¯çš„æ¡†æ¶ç›¸æ¯”ï¼Œå°±å¾ˆè¹©è„šï¼Œä¸€ç§æµ“æµ“çš„åŠæˆå“æ„Ÿæ‰‘é¢è€Œæ¥ï¼Œæœ‰æ²¡æœ‰è¿™æ ·ä¸€ä¸ªæ–¹æ³•ï¼š</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">this.upData(&#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    info: &#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        height: <span class="number">155</span>,</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        desc: [&#123; age: <span class="number">12</span> &#125;, , , &#123; color: <span class="string">'ç°è‰²'</span> &#125;]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>è¿™ä¸ªæ–¹æ³•ä¼šå¸®æˆ‘ä»¬æ·±åº¦æ”¹å˜åµŒå¥—å¯¹è±¡é‡Œå¯¹åº”çš„å±æ€§å€¼ï¼Œè·³è¿‡æ•°ç»„é¡¹é‡Œä¸æƒ³æ”¹å˜çš„ï¼Œåªè®¾ç½®æˆ‘ä»¬æä¾›äº†çš„å±æ€§å€¼ã€æ•°ç»„é¡¹ï¼Œå²‚ä¸æ˜¯çœç•¥äº†ä¸€å¤§å †è¹©è„šçš„ä»£ç ï¼Œè€Œä¸”å¯è¯»æ€§ä¹Ÿæä½³å‘¢ã€‚</p>
<p>è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘åœ¨ä¸Šçº¿çš„é¡¹ç›®ä¸­ä½¿ç”¨ wx-updataï¼Œè€Œä¸æ˜¯ <code>setData</code></p>
<h2 id="2-wx-updata-çš„ä¼˜ç‚¹"><a href="#2-wx-updata-çš„ä¼˜ç‚¹" class="headerlink" title="2. wx-updata çš„ä¼˜ç‚¹"></a><strong>2. wx-updata çš„ä¼˜ç‚¹</strong></h2><ol>
<li>æ”¯æŒ <code>setData</code> å¯¹è±¡è‡ªåŠ¨åˆå¹¶ï¼Œä¸ç”¨å†™è¹©è„šçš„å¯¹è±¡è·¯å¾„äº† ????</li>
<li>æ”¯æŒå¯¹è±¡ä¸­åµŒå¥—æ•°ç»„ï¼Œæ•°ç»„ä¸­åµŒå¥—å¯¹è±¡ï¼›</li>
<li>å¦‚æœæ•°ç»„çš„æŸä¸ªå€¼ä½ ä¸å¸Œæœ›è¦†ç›–ï¼Œè¯·ä½¿ç”¨æ•°ç»„ç©ºä½æ¥è·³è¿‡è¿™ä¸ªæ•°ç»„é¡¹ï¼Œæ¯”å¦‚ <code>[1,,3]</code> è¿™ä¸ªæ•°ç»„ä¸­é—´å°±æ˜¯æ•°ç»„ç©ºä½ï¼›</li>
<li>å¦‚æœæ•°ç»„ç©ºä½ä½ çš„ <code>Eslint</code> æŠ¥é”™ï¼Œå¯ä»¥ä½¿ç”¨ <code>wx-updata</code> æä¾›çš„ Empty æ¥ä»£æ›¿ï¼š<code>[1, Empty, 3]</code></li>
</ol>
<h2 id="3-wx-updata-å®‰è£…"><a href="#3-wx-updata-å®‰è£…" class="headerlink" title="3. wx-updata å®‰è£…"></a><strong>3. wx-updata å®‰è£…</strong></h2><blockquote>
<p>ä½ ä¹Ÿå¯ä»¥ç›´æ¥æŠŠ <code>dist</code> ç›®å½•ä¸‹çš„ <code>wx-updata.js</code> æ‹·è´åˆ°é¡¹ç›®é‡Œä½¿ç”¨</p>
</blockquote>
<p>ä½¿ç”¨ <code>npm</code>ã€<code>yarn</code> å®‰è£…æ–¹å¼ï¼š</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ npm i -S wx-updata</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># or</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">$ yarn add wx-updata</span><br></pre></td></tr></table></figure>

<p>ç„¶åï¼š</p>
<ol>
<li>æŠŠå¾®ä¿¡å¼€å‘è€…å·¥å…·é¢æ¿å³ä¾§çš„ <code>è¯¦æƒ… - æœ¬åœ°è®¾ç½® - ä½¿ç”¨npmæ¨¡å—</code> æŒ‰é’®æ‰“å¼€ï¼›</li>
<li>ç‚¹å‡»å¾®ä¿¡å¼€å‘è€…å·¥å…·é¢æ¿å·¥å…·æ çš„ <code>å·¥å…· - æ„å»ºnpm</code>ï¼›</li>
</ol>
<p>æ„å»ºåæˆåŠŸç”Ÿæˆ <code>miniprogram_npm</code> æ–‡ä»¶å¤¹å°±å¯ä»¥æ­£å¸¸ä½¿ç”¨äº†</p>
<h2 id="4-wx-updata-ä½¿ç”¨æ–¹æ³•"><a href="#4-wx-updata-ä½¿ç”¨æ–¹æ³•" class="headerlink" title="4. wx-updata ä½¿ç”¨æ–¹æ³•"></a><strong>4. wx-updata ä½¿ç”¨æ–¹æ³•</strong></h2><h3 id="ä½¿ç”¨æ–¹å¼ä¸€"><a href="#ä½¿ç”¨æ–¹å¼ä¸€" class="headerlink" title="ä½¿ç”¨æ–¹å¼ä¸€"></a><strong>ä½¿ç”¨æ–¹å¼ä¸€</strong></h3><p>å¯ä»¥ä½¿ç”¨ç›´æ¥æŒ‚è½½åˆ° <code>Page</code> ä¸Šçš„æ–¹å¼ï¼Œè¿™æ ·å°±å¯ä»¥åœ¨ <code>Page</code> å®ä¾‹ä¸­åƒä½¿ç”¨ <code>setData</code> ä¸€æ ·ä½¿ç”¨ <code>upData</code> äº†</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// app.js</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; updataInit &#125; from <span class="string">'./miniprogram_npm/wx-updata/index'</span>  <span class="comment">// ä½ çš„åº“æ–‡ä»¶è·¯å¾„</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">App(&#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    onLaunch() &#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        Page = updataInit(Page, &#123; debug: <span class="literal">true</span> &#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// é¡µé¢ä»£ç ä¸­</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">this.upData(&#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    info: &#123; height: <span class="number">155</span> &#125;,</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    desc: [&#123; age: <span class="number">13</span> &#125;, <span class="string">'å¸…å“¥'</span>],</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    family: [, , [, , , &#123; color: <span class="string">'ç°è‰²'</span> &#125;]]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="ä½¿ç”¨æ–¹å¼äºŒ"><a href="#ä½¿ç”¨æ–¹å¼äºŒ" class="headerlink" title="ä½¿ç”¨æ–¹å¼äºŒ"></a><strong>ä½¿ç”¨æ–¹å¼äºŒ</strong></h3><p>æœ‰çš„æ¡†æ¶å¯èƒ½åœ¨ <code>Page</code> å¯¹è±¡ä¸Šè¿›è¡Œäº†è¿›ä¸€æ­¥ä¿®æ”¹ï¼Œç›´æ¥æ›¿æ¢ <code>Page</code> çš„æ–¹å¼å¯èƒ½å°±ä¸å¤ªå¥½äº†ï¼Œ<code>wx-updata</code> åŒæ ·æš´éœ²äº†å·¥å…·æ–¹æ³•ï¼Œç”¨æˆ·å¯ä»¥åœ¨é¡µé¢ä»£ç ä¸­ç›´æ¥ä½¿ç”¨å·¥å…·æ–¹æ³•è¿›è¡Œå¤„ç†ï¼š</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é¡µé¢ä»£ç ä¸­</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; objToPath &#125; from <span class="string">'./miniprogram_npm/wx-updata/index'</span>  <span class="comment">// ä½ çš„åº“æ–‡ä»¶è·¯å¾„</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Page(&#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    data: &#123; a: &#123; b: <span class="number">2</span>&#125;, c: [<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]&#125;,</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// è‡ªå·±å°è£…ä¸€ä¸‹</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    upData(data) &#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> this.setData(objToPath(data))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// ä½ çš„æ–¹æ³•ä¸­æˆ–ç”Ÿå‘½å‘¨æœŸå‡½æ•°</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    yourMethod() &#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        this.upData(&#123; a: &#123; b: <span class="number">7</span>&#125;, c: [<span class="number">8</span>,,<span class="number">9</span>]&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="ä½¿ç”¨-Empty-ä»£æ›¿æ•°ç»„ç©ºä½"><a href="#ä½¿ç”¨-Empty-ä»£æ›¿æ•°ç»„ç©ºä½" class="headerlink" title="ä½¿ç”¨ Empty ä»£æ›¿æ•°ç»„ç©ºä½"></a><strong>ä½¿ç”¨ Empty ä»£æ›¿æ•°ç»„ç©ºä½</strong></h3><p>å¯ä»¥ä½¿ç”¨ <code>wx-updata</code> æä¾›çš„ Empty æ¥ä»£æ›¿æ•°ç»„ç©ºä½ï¼Œç”±äº Empty æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ª Symbolï¼Œæ‰€ä»¥åªèƒ½ä½¿ç”¨ <code>wx-updata</code> å¯¼å‡ºçš„ï¼Œè€Œä¸èƒ½è‡ªå·±æ–°å»ºã€‚</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é¡µé¢ä»£ç ä¸­</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; Empty &#125; from <span class="string">'./miniprogram_npm/wx-updata/index'</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">this.upData(&#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    info: &#123; height: <span class="number">155</span> &#125;,</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    desc: [&#123; age: <span class="number">13</span> &#125;, <span class="string">'å¸…å“¥'</span>],</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    family: [Empty, Empty, [Empty, Empty, Empty, &#123; color: <span class="string">'ç°è‰²'</span> &#125;]]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h2 id="5-wx-updata-ç›¸å…³-API"><a href="#5-wx-updata-ç›¸å…³-API" class="headerlink" title="5. wx-updata ç›¸å…³ API"></a><strong>5. wx-updata ç›¸å…³ API</strong></h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Page.prototype.upData(Object data, Function callback)</span><br></pre></td></tr></table></figure>

<ol>
<li><code>data</code>ï¼šä½ å¸Œæœ›è®¾ç½®çš„ data</li>
<li><code>callback</code>ï¼šè·Ÿ setData ç¬¬äºŒä¸ªå‚æ•°ä¸€æ ·ï¼Œå¼•èµ·ç•Œé¢æ›´æ–°æ¸²æŸ“å®Œæ¯•åçš„å›è°ƒå‡½æ•°</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">updataInit(Page, config)</span><br></pre></td></tr></table></figure>

<ol>
<li><code>Page</code>ï¼šé¡µé¢å¯¹è±¡ï¼Œéœ€è¦åœ¨ <code>app.js</code> ä¸­è°ƒç”¨ï¼›</li>
<li><code>config</code>ï¼šè‹¥æä¾›é…ç½®å‚æ•° <code>{ debug: true }</code>ï¼Œä¼šå°†è·¯å¾„åŒ–åçš„ data æ‰“å°å‡ºæ¥ï¼Œå¸®åŠ©ç”¨æˆ·è¿›è¡Œè°ƒè¯•ï¼›</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">objToPath(Object data)</span><br></pre></td></tr></table></figure>

<ol>
<li><code>data</code>ï¼šä½ å¸Œæœ›è®¾ç½®çš„ data å¯¹è±¡</li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/09/10/Vue%E6%95%B0%E6%8D%AE%E6%9B%B4%E6%96%B0%E4%BD%86%E9%A1%B5%E9%9D%A2%E6%B2%A1%E6%9C%89%E6%9B%B4%E6%96%B0%E7%9A%847%E7%A7%8D%E6%83%85%E5%86%B5/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Dali">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/header.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DaliBlogs">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/09/10/Vue%E6%95%B0%E6%8D%AE%E6%9B%B4%E6%96%B0%E4%BD%86%E9%A1%B5%E9%9D%A2%E6%B2%A1%E6%9C%89%E6%9B%B4%E6%96%B0%E7%9A%847%E7%A7%8D%E6%83%85%E5%86%B5/" itemprop="url">Vueæ•°æ®æ›´æ–°ä½†é¡µé¢æ²¡æœ‰æ›´æ–°çš„7ç§æƒ…å†µ</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2020-09-10T17:27:58+08:00">
                2020-09-10
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/vue/" itemprop="url" rel="index">
                    <span itemprop="name">vue</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="Vue-setä¸-vue-setåœ¨ä½¿ç”¨ä¸­çš„åŒºåˆ«"><a href="#Vue-setä¸-vue-setåœ¨ä½¿ç”¨ä¸­çš„åŒºåˆ«" class="headerlink" title="Vue.setä¸ vue.$setåœ¨ä½¿ç”¨ä¸­çš„åŒºåˆ«"></a>Vue.setä¸ vue.$setåœ¨ä½¿ç”¨ä¸­çš„åŒºåˆ«</h3><p>Vue.set å¯ä»¥è®¾ç½®å®ä¾‹åˆ›å»ºä¹‹åæ·»åŠ çš„å±æ€§ï¼Œå¦‚sexï¼Œè€Œthis.$set/vue.$set/vm.$setåªèƒ½è®¾ç½®å®ä¾‹åˆ›å»ºåå­˜åœ¨çš„å±æ€§ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line"><span class="keyword">var</span> data = &#123;</span><br><span class="line">    name: <span class="string">"ç®€ä¹¦"</span>,</span><br><span class="line">    age: <span class="string">'3'</span>,</span><br><span class="line">    info: &#123;</span><br><span class="line">        content: <span class="string">'my name is test'</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;   </span><br><span class="line"><span class="keyword">var</span> key = <span class="string">'content'</span>;</span><br><span class="line"><span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">    el:<span class="string">'#app'</span>,</span><br><span class="line">    data: data,</span><br><span class="line">    ready: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        Vue.set(data,<span class="string">'sex'</span>, <span class="string">'ç”·'</span>)</span><br><span class="line">        <span class="keyword">this</span>.$<span class="keyword">set</span>('sex', 'å¥³')</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>



<h3 id="Vue-æ— æ³•æ£€æµ‹å¯¹è±¡-property-çš„æ·»åŠ æˆ–ç§»é™¤"><a href="#Vue-æ— æ³•æ£€æµ‹å¯¹è±¡-property-çš„æ·»åŠ æˆ–ç§»é™¤" class="headerlink" title="Vue æ— æ³•æ£€æµ‹å¯¹è±¡ property çš„æ·»åŠ æˆ–ç§»é™¤"></a>Vue æ— æ³•æ£€æµ‹å¯¹è±¡ property çš„æ·»åŠ æˆ–ç§»é™¤</h3><p>åŸå› ï¼šå®˜æ–¹ - ç”±äº JavaScriptï¼ˆES5ï¼‰ çš„é™åˆ¶ï¼ŒVue.js <strong>ä¸èƒ½æ£€æµ‹åˆ°å¯¹è±¡å±æ€§çš„æ·»åŠ æˆ–åˆ é™¤</strong>ã€‚å› ä¸º Vue.js åœ¨åˆå§‹åŒ–å®ä¾‹æ—¶å°†å±æ€§è½¬ä¸º getter/setterï¼Œæ‰€ä»¥å±æ€§å¿…é¡»åœ¨ <code>data</code> å¯¹è±¡ä¸Šæ‰èƒ½è®© Vue.js è½¬æ¢å®ƒï¼Œæ‰èƒ½è®©å®ƒæ˜¯å“åº”çš„ã€‚</p>
<p>åœºæ™¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">var vm &#x3D; new Vue(&#123;</span><br><span class="line">  data:&#123;</span><br><span class="line">    obj: &#123;</span><br><span class="line">      id: 001</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  &#x2F;&#x2F; é¡µé¢ä¸ä¼šå˜åŒ–</span><br><span class="line">  template: &#39;&lt;div&gt;&#123;&#123; obj.message &#125;&#125;&lt;&#x2F;div&gt;&#39;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">vm.obj.message &#x3D; &#39;hello&#39; &#x2F;&#x2F; ä¸æ˜¯å“åº”å¼çš„</span><br><span class="line">delete vm.obj.id       &#x2F;&#x2F; ä¸æ˜¯å“åº”å¼çš„</span><br></pre></td></tr></table></figure>

<p>è§£å†³åŠæ³•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; åŠ¨æ€æ·»åŠ  - Vue.set</span><br><span class="line">Vue.set(vm.obj, propertyName, newValue)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; åŠ¨æ€æ·»åŠ  - vm.$set</span><br><span class="line">vm.$set(vm.obj, propertyName, newValue)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; åŠ¨æ€æ·»åŠ å¤šä¸ª</span><br><span class="line">&#x2F;&#x2F; ä»£æ›¿ Object.assign(this.obj, &#123; a: 1, b: 2 &#125;)</span><br><span class="line">this.obj &#x3D; Object.assign(&#123;&#125;, this.obj, &#123; a: 1, b: 2 &#125;)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; åŠ¨æ€ç§»é™¤ - Vue.delete</span><br><span class="line">Vue.delete(vm.obj, propertyName)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; åŠ¨æ€ç§»é™¤ - vm.$delete</span><br><span class="line">vm.$delete(vm.obj, propertyName)</span><br></pre></td></tr></table></figure>


<h3 id="Vue-ä¸èƒ½æ£€æµ‹é€šè¿‡æ•°ç»„ç´¢å¼•ç›´æ¥ä¿®æ”¹ä¸€ä¸ªæ•°ç»„é¡¹"><a href="#Vue-ä¸èƒ½æ£€æµ‹é€šè¿‡æ•°ç»„ç´¢å¼•ç›´æ¥ä¿®æ”¹ä¸€ä¸ªæ•°ç»„é¡¹" class="headerlink" title="Vue ä¸èƒ½æ£€æµ‹é€šè¿‡æ•°ç»„ç´¢å¼•ç›´æ¥ä¿®æ”¹ä¸€ä¸ªæ•°ç»„é¡¹"></a>Vue ä¸èƒ½æ£€æµ‹é€šè¿‡æ•°ç»„ç´¢å¼•ç›´æ¥ä¿®æ”¹ä¸€ä¸ªæ•°ç»„é¡¹</h3><p>åŸå› ï¼šå®˜æ–¹ - ç”±äº JavaScript çš„é™åˆ¶ï¼ŒVue <strong>ä¸èƒ½æ£€æµ‹</strong>æ•°ç»„å’Œå¯¹è±¡çš„å˜åŒ–ï¼›å°¤é›¨æºª - æ€§èƒ½ä»£ä»·å’Œè·å¾—ç”¨æˆ·ä½“éªŒä¸æˆæ­£æ¯”ã€‚</p>
<p>åœºæ™¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">var vm &#x3D; new Vue(&#123;</span><br><span class="line">  data: &#123;</span><br><span class="line">    items: [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line">vm.items[1] &#x3D; &#39;x&#39; &#x2F;&#x2F; ä¸æ˜¯å“åº”æ€§çš„</span><br></pre></td></tr></table></figure>

<p>è§£å†³åŠæ³•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; Vue.set</span><br><span class="line">Vue.set(vm.items, indexOfItem, newValue)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; vm.$set</span><br><span class="line">vm.$set(vm.items, indexOfItem, newValue)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; Array.prototype.splice</span><br><span class="line">vm.items.splice(indexOfItem, 1, newValue)</span><br></pre></td></tr></table></figure>



<h3 id="Vue-ä¸èƒ½ç›‘æµ‹ç›´æ¥ä¿®æ”¹æ•°ç»„é•¿åº¦çš„å˜åŒ–"><a href="#Vue-ä¸èƒ½ç›‘æµ‹ç›´æ¥ä¿®æ”¹æ•°ç»„é•¿åº¦çš„å˜åŒ–" class="headerlink" title="Vue ä¸èƒ½ç›‘æµ‹ç›´æ¥ä¿®æ”¹æ•°ç»„é•¿åº¦çš„å˜åŒ–"></a>Vue ä¸èƒ½ç›‘æµ‹ç›´æ¥ä¿®æ”¹æ•°ç»„é•¿åº¦çš„å˜åŒ–</h3><p>åŸå› ï¼šå®˜æ–¹ - ç”±äº JavaScript çš„é™åˆ¶ï¼ŒVue <strong>ä¸èƒ½æ£€æµ‹</strong>æ•°ç»„å’Œå¯¹è±¡çš„å˜åŒ–ï¼›å°¤é›¨æºª - æ€§èƒ½ä»£ä»·å’Œè·å¾—ç”¨æˆ·ä½“éªŒä¸æˆæ­£æ¯”ã€‚</p>
<p>åœºæ™¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">var vm &#x3D; new Vue(&#123;</span><br><span class="line">  data: &#123;</span><br><span class="line">    items: [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line">vm.items.length &#x3D; 2 &#x2F;&#x2F; ä¸æ˜¯å“åº”æ€§çš„</span><br></pre></td></tr></table></figure>

<p>è§£å†³åŠæ³•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vm.items.splice(newLength)</span><br></pre></td></tr></table></figure>



<h3 id="åœ¨å¼‚æ­¥æ›´æ–°æ‰§è¡Œä¹‹å‰æ“ä½œ-DOM-æ•°æ®ä¸ä¼šå˜åŒ–-nextTick"><a href="#åœ¨å¼‚æ­¥æ›´æ–°æ‰§è¡Œä¹‹å‰æ“ä½œ-DOM-æ•°æ®ä¸ä¼šå˜åŒ–-nextTick" class="headerlink" title="åœ¨å¼‚æ­¥æ›´æ–°æ‰§è¡Œä¹‹å‰æ“ä½œ DOM æ•°æ®ä¸ä¼šå˜åŒ–(nextTick)"></a>åœ¨å¼‚æ­¥æ›´æ–°æ‰§è¡Œä¹‹å‰æ“ä½œ DOM æ•°æ®ä¸ä¼šå˜åŒ–(nextTick)</h3><p>åŸå› ï¼šVue åœ¨æ›´æ–° DOM æ—¶æ˜¯<strong>å¼‚æ­¥</strong>æ‰§è¡Œçš„ã€‚åªè¦ä¾¦å¬åˆ°æ•°æ®å˜åŒ–ï¼ŒVue å°†å¼€å¯ä¸€ä¸ªé˜Ÿåˆ—ï¼Œå¹¶ç¼“å†²åœ¨åŒä¸€äº‹ä»¶å¾ªç¯ä¸­å‘ç”Ÿçš„æ‰€æœ‰æ•°æ®å˜æ›´ã€‚å¦‚æœåŒä¸€ä¸ª watcher è¢«å¤šæ¬¡è§¦å‘ï¼Œåªä¼šè¢«æ¨å…¥åˆ°é˜Ÿåˆ—ä¸­ä¸€æ¬¡ã€‚è¿™ç§åœ¨ç¼“å†²æ—¶å»é™¤é‡å¤æ•°æ®å¯¹äºé¿å…ä¸å¿…è¦çš„è®¡ç®—å’Œ DOM æ“ä½œæ˜¯éå¸¸é‡è¦çš„ã€‚ç„¶åï¼Œåœ¨ä¸‹ä¸€ä¸ªçš„äº‹ä»¶å¾ªç¯â€œtickâ€ä¸­ï¼ŒVue åˆ·æ–°é˜Ÿåˆ—å¹¶æ‰§è¡Œå®é™… (å·²å»é‡çš„) å·¥ä½œã€‚Vue åœ¨å†…éƒ¨å¯¹å¼‚æ­¥é˜Ÿåˆ—å°è¯•ä½¿ç”¨åŸç”Ÿçš„ <code>Promise.then</code>ã€<code>MutationObserver</code> å’Œ <code>setImmediate</code>ï¼Œå¦‚æœæ‰§è¡Œç¯å¢ƒä¸æ”¯æŒï¼Œåˆ™ä¼šé‡‡ç”¨ <code>setTimeout(fn, 0)</code> ä»£æ›¿ã€‚</p>
<p>åœºæ™¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id&#x3D;&quot;example&quot;&gt;&#123;&#123;message&#125;&#125;&lt;&#x2F;div&gt;</span><br><span class="line">var vm &#x3D; new Vue(&#123;</span><br><span class="line">  el: &#39;#example&#39;,</span><br><span class="line">  data: &#123;</span><br><span class="line">    message: &#39;123&#39;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line">vm.message &#x3D; &#39;new message&#39; &#x2F;&#x2F; æ›´æ”¹æ•°æ®</span><br><span class="line">vm.$el.textContent &#x3D;&#x3D;&#x3D; &#39;new message&#39; &#x2F;&#x2F; false</span><br><span class="line">vm.$el.style.color &#x3D; &#39;red&#39; &#x2F;&#x2F; é¡µé¢æ²¡æœ‰å˜åŒ–</span><br></pre></td></tr></table></figure>

<p>è§£å†³åŠæ³•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">var vm &#x3D; new Vue(&#123;</span><br><span class="line">  el: &#39;#example&#39;,</span><br><span class="line">  data: &#123;</span><br><span class="line">    message: &#39;123&#39;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line">vm.message &#x3D; &#39;new message&#39; &#x2F;&#x2F; æ›´æ”¹æ•°æ®</span><br><span class="line">&#x2F;&#x2F;ä½¿ç”¨ Vue.nextTick(callback) callback å°†åœ¨ DOM æ›´æ–°å®Œæˆåè¢«è°ƒç”¨</span><br><span class="line">Vue.nextTick(function () &#123;</span><br><span class="line">  vm.$el.textContent &#x3D;&#x3D;&#x3D; &#39;new message&#39; &#x2F;&#x2F; true</span><br><span class="line">  vm.$el.style.color &#x3D; &#39;red&#39; &#x2F;&#x2F; æ–‡å­—é¢œè‰²å˜æˆçº¢è‰²</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/09/10/vue-skeleton-webpack-plugin/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Dali">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/header.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DaliBlogs">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/09/10/vue-skeleton-webpack-plugin/" itemprop="url">vue-skeleton-webpack-plugin</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2020-09-10T11:51:14+08:00">
                2020-09-10
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/vue/" itemprop="url" rel="index">
                    <span itemprop="name">vue</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h3 id="æ¶æ„å›¾"><a href="#æ¶æ„å›¾" class="headerlink" title="æ¶æ„å›¾"></a>æ¶æ„å›¾</h3><p><img src="/2020/09/10/vue-skeleton-webpack-plugin/image-20200910115921296.png" alt="image-20200910115921296"></p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2020/09/10/vue-skeleton-webpack-plugin/#more" rel="contents">
              é˜…è¯»å…¨æ–‡ &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/09/09/%E5%B0%8F%E7%A8%8B%E5%BA%8F%E4%B9%8B%E9%AA%A8%E6%9E%B6%E5%B1%8F%E7%9A%84%E4%BD%BF%E7%94%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Dali">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/header.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DaliBlogs">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/09/09/%E5%B0%8F%E7%A8%8B%E5%BA%8F%E4%B9%8B%E9%AA%A8%E6%9E%B6%E5%B1%8F%E7%9A%84%E4%BD%BF%E7%94%A8/" itemprop="url">å°ç¨‹åºä¹‹éª¨æ¶å±çš„ä½¿ç”¨</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2020-09-09T15:47:36+08:00">
                2020-09-09
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/soft/" itemprop="url" rel="index">
                    <span itemprop="name">soft</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="è‡ªå®šä¹‰éª¨æ¶å±"><a href="#è‡ªå®šä¹‰éª¨æ¶å±" class="headerlink" title="è‡ªå®šä¹‰éª¨æ¶å±"></a>è‡ªå®šä¹‰éª¨æ¶å±</h3><p>index.wxml:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- ä½œä¸ºç»„ä»¶åœ¨é¡µé¢ä¸­ä½¿ç”¨ --&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">skeleton</span> <span class="attr">selector</span>=<span class="string">"skeleton"</span></span></span><br><span class="line"><span class="tag"></span></span><br><span class="line"><span class="tag"><span class="attr">loading</span>=<span class="string">"spin"</span></span></span><br><span class="line"><span class="tag"></span></span><br><span class="line"><span class="tag"><span class="attr">bgcolor</span>=<span class="string">"#FFF"</span></span></span><br><span class="line"><span class="tag"></span></span><br><span class="line"><span class="tag"><span class="attr">wx:if</span>=<span class="string">"&#123;&#123;showSkeleton&#125;&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">skeleton</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--index.wxml--&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- æ¸²æŸ“çš„æ ¹èŠ‚ç‚¹ï¼ŒåŠ ä¸Š .skeleton --&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"container skeleton"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"userinfo"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">block</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- è¦æ¸²æŸ“çš„åœ†å½¢èŠ‚ç‚¹ï¼ŒåŠ ä¸Š .skeleton-radius --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">image</span> <span class="attr">class</span>=<span class="string">"userinfo-avatar skeleton-radius"</span> <span class="attr">src</span>=<span class="string">"&#123;&#123;userInfo.avatarUrl&#125;&#125;"</span> <span class="attr">mode</span>=<span class="string">"cover"</span>&gt;</span><span class="tag">&lt;/<span class="name">image</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- è¦æ¸²æŸ“çš„çŸ©å½¢èŠ‚ç‚¹ï¼ŒåŠ ä¸Š .skeleton-rect --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">text</span> <span class="attr">class</span>=<span class="string">"userinfo-nickname skeleton-rect"</span>&gt;</span>&#123;&#123;userInfo.nickName&#125;&#125;<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">block</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">style</span>=<span class="string">"margin: 20px 0"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">view</span> <span class="attr">wx:for</span>=<span class="string">"&#123;&#123;lists&#125;&#125;"</span> <span class="attr">wx:key</span>=<span class="string">"&#123;&#123;index&#125;&#125;"</span> <span class="attr">class</span>=<span class="string">"lists"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">icon</span> <span class="attr">type</span>=<span class="string">"success"</span> <span class="attr">size</span>=<span class="string">"20"</span> <span class="attr">class</span>=<span class="string">"list skeleton-radius"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">text</span> <span class="attr">class</span>=<span class="string">"skeleton-rect"</span>&gt;</span>&#123;&#123;item&#125;&#125;<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"usermotto"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">text</span> <span class="attr">class</span>=<span class="string">"user-motto skeleton-rect"</span>&gt;</span>&#123;&#123;motto&#125;&#125;<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">style</span>=<span class="string">"margin-top: 200px;"</span>&gt;</span>aaaaaaaaaaa<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>index.json:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="comment">// å¼•å…¥éª¨æ¶å±ç»„ä»¶</span></span><br><span class="line">  <span class="string">"usingComponents"</span>: &#123;</span><br><span class="line">    <span class="string">"skeleton"</span>: <span class="string">"/component/skeleton/skeleton"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>æœ€åæ¥æ¢ç´¢ä¸€ä¸‹éª¨æ¶å±ç»„ä»¶çš„å®ç°</strong></p>
<p>skeleton.wxml:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- æœ€å¤–å±‚çš„viewç»‘å®šäº†jsä¸­å®šä¹‰çš„å®½ã€é«˜ä»¥åŠèƒŒæ™¯é¢œè‰² --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">style</span>=<span class="string">"width: &#123;&#123;systemInfo.width&#125;&#125;px; height: &#123;&#123;systemInfo.height&#125;&#125;px; background-color: &#123;&#123;bgcolor&#125;&#125;; position: absolute; left:0; top:0; z-index:9998; overflow: hidden;"</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- å¾ªç¯ï¼Œéå†ç»˜åˆ¶çŸ©å½¢èŠ‚ç‚¹ï¼Œå®½é«˜å‚ç…§jsè·å–åˆ°çš„èŠ‚ç‚¹å®½é«˜ï¼Œä»¥ç»å¯¹å®šä½çš„æ–¹å¼å®šä½ --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">wx:for</span>=<span class="string">"&#123;&#123;skeletonRectLists&#125;&#125;"</span> <span class="attr">wx:key</span>=<span class="string">"&#123;&#123;index&#125;&#125;"</span> <span class="attr">class</span>=<span class="string">"&#123;&#123;loading == 'chiaroscuro' ? 'chiaroscuro' : ''&#125;&#125;"</span> <span class="attr">style</span>=<span class="string">"width: &#123;&#123;item.width&#125;&#125;px; height: &#123;&#123;item.height&#125;&#125;px; background-color: rgb(194, 207, 214); position: absolute; left: &#123;&#123;item.left&#125;&#125;px; top: &#123;&#123;item.top&#125;&#125;px"</span>&gt;</span><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- å¾ªç¯ï¼Œéå†ç»˜åˆ¶çŸ©å½¢èŠ‚ç‚¹ï¼Œå®½é«˜å‚ç…§jsè·å–åˆ°çš„èŠ‚ç‚¹å®½é«˜ï¼Œä»¥ç»å¯¹å®šä½çš„æ–¹å¼å®šä½ --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">wx:for</span>=<span class="string">"&#123;&#123;skeletonCircleLists&#125;&#125;"</span> <span class="attr">wx:key</span>=<span class="string">"&#123;&#123;index&#125;&#125;"</span> <span class="attr">class</span>=<span class="string">"&#123;&#123;loading == 'chiaroscuro' ? 'chiaroscuro' : ''&#125;&#125;"</span> <span class="attr">style</span>=<span class="string">"width: &#123;&#123;item.width&#125;&#125;px; height: &#123;&#123;item.height&#125;&#125;px; background-color: rgb(194, 207, 214); border-radius: &#123;&#123;item.width&#125;&#125;px; position: absolute; left: &#123;&#123;item.left&#125;&#125;px; top: &#123;&#123;item.top&#125;&#125;px"</span>&gt;</span><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"spinbox"</span> <span class="attr">wx:if</span>=<span class="string">"&#123;&#123;loading == 'spin'&#125;&#125;"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"spin"</span>&gt;</span><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>skeleton.js:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line">Component(&#123;</span><br><span class="line">  properties: &#123;</span><br><span class="line">    bgcolor: &#123;</span><br><span class="line">      type: <span class="built_in">String</span>,</span><br><span class="line">      value: <span class="string">'#fff'</span></span><br><span class="line">    &#125;,</span><br><span class="line">    selector: &#123;</span><br><span class="line">      type: <span class="built_in">String</span>,</span><br><span class="line">      value: <span class="string">'skeleton'</span></span><br><span class="line">    &#125;,</span><br><span class="line">    loading: &#123;</span><br><span class="line">      type: <span class="built_in">String</span>,</span><br><span class="line">      value: <span class="string">'spin'</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  data: &#123;</span><br><span class="line">    loadingAni: [<span class="string">'spin'</span>, <span class="string">'chiaroscuro'</span>],</span><br><span class="line">    systemInfo: &#123;&#125;,</span><br><span class="line">    skeletonRectLists: [],</span><br><span class="line">    skeletonCircleLists: []</span><br><span class="line">  &#125;,</span><br><span class="line">  attached: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">//é»˜è®¤çš„é¦–å±å®½é«˜ï¼Œé˜²æ­¢å†…å®¹é—ªç°</span></span><br><span class="line">    <span class="keyword">const</span> systemInfo = wx.getSystemInfoSync();</span><br><span class="line">    <span class="keyword">this</span>.setData(&#123;</span><br><span class="line">      systemInfo: &#123;</span><br><span class="line">        width: systemInfo.windowWidth,</span><br><span class="line">        height: systemInfo.windowHeight</span><br><span class="line">      &#125;,</span><br><span class="line">      loading: <span class="keyword">this</span>.data.loadingAni.includes(<span class="keyword">this</span>.data.loading) ? <span class="keyword">this</span>.data.loading : <span class="string">'spin'</span></span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">  ready: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> that = <span class="keyword">this</span>;</span><br><span class="line">    <span class="comment">//ç»˜åˆ¶èƒŒæ™¯</span></span><br><span class="line">    wx.createSelectorQuery().selectAll(<span class="string">`.<span class="subst">$&#123;<span class="keyword">this</span>.data.selector&#125;</span>`</span>).boundingClientRect().exec(<span class="function"><span class="keyword">function</span> (<span class="params">res</span>) </span>&#123;</span><br><span class="line">      that.setData(&#123;</span><br><span class="line">        <span class="string">'systemInfo.height'</span>: res[<span class="number">0</span>][<span class="number">0</span>].height + res[<span class="number">0</span>][<span class="number">0</span>].top</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="comment">//ç»˜åˆ¶çŸ©å½¢</span></span><br><span class="line">    <span class="keyword">this</span>.rectHandle();</span><br><span class="line">    <span class="comment">//ç»˜åˆ¶åœ†å½¢</span></span><br><span class="line">    <span class="keyword">this</span>.radiusHandle();</span><br><span class="line"></span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    rectHandle: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="keyword">const</span> that = <span class="keyword">this</span>;</span><br><span class="line">      <span class="comment">//ç»˜åˆ¶ä¸å¸¦æ ·å¼çš„èŠ‚ç‚¹</span></span><br><span class="line">      wx.createSelectorQuery().selectAll(<span class="string">`.<span class="subst">$&#123;<span class="keyword">this</span>.data.selector&#125;</span> &gt;&gt;&gt; .<span class="subst">$&#123;<span class="keyword">this</span>.data.selector&#125;</span>-rect`</span>).boundingClientRect().exec(<span class="function"><span class="keyword">function</span> (<span class="params">res</span>) </span>&#123;</span><br><span class="line">        that.setData(&#123;</span><br><span class="line">          skeletonRectLists: res[<span class="number">0</span>]</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;);</span><br><span class="line"></span><br><span class="line">    &#125;,</span><br><span class="line">    radiusHandle: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="keyword">const</span> that = <span class="keyword">this</span>;</span><br><span class="line">      wx.createSelectorQuery().selectAll(<span class="string">`.<span class="subst">$&#123;<span class="keyword">this</span>.data.selector&#125;</span> &gt;&gt;&gt; .<span class="subst">$&#123;<span class="keyword">this</span>.data.selector&#125;</span>-radius`</span>).boundingClientRect().exec(<span class="function"><span class="keyword">function</span> (<span class="params">res</span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(res);</span><br><span class="line">        that.setData(&#123;</span><br><span class="line">          skeletonCircleLists: res[<span class="number">0</span>]</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">å¤‡æ³¨ï¼šä¹Ÿå¯ä»¥ä½¿ç”¨ä¸‹é¢è¿™ç§æ–¹å¼æ¥é€‰æ‹©èŠ‚ç‚¹</span><br><span class="line">wx.createSelectorQuery().selectAll(<span class="string">`.<span class="subst">$&#123;<span class="keyword">this</span>.data.selector&#125;</span>-rect`</span>).boundingClientRect().exec...</span><br></pre></td></tr></table></figure>



<h3 id="ä½¿ç”¨npmåŒ…"><a href="#ä½¿ç”¨npmåŒ…" class="headerlink" title="ä½¿ç”¨npmåŒ…"></a>ä½¿ç”¨npmåŒ…</h3><p><a href="https://github.com/jayZOU/skeleton" target="_blank" rel="noopener">https://github.com/jayZOU/skeleton</a></p>
<h3 id="ä¸€ã€å®‰è£…å’Œå¼•å…¥"><a href="#ä¸€ã€å®‰è£…å’Œå¼•å…¥" class="headerlink" title="ä¸€ã€å®‰è£…å’Œå¼•å…¥"></a>ä¸€ã€å®‰è£…å’Œå¼•å…¥</h3><h4 id="1-å®‰è£…ç»„ä»¶ï¼š"><a href="#1-å®‰è£…ç»„ä»¶ï¼š" class="headerlink" title="1.å®‰è£…ç»„ä»¶ï¼š"></a>1.å®‰è£…ç»„ä»¶ï¼š</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save miniprogram-skeleton</span><br></pre></td></tr></table></figure>

<h4 id="2-å¼•å…¥skeletonè‡ªå®šä¹‰ç»„ä»¶"><a href="#2-å¼•å…¥skeletonè‡ªå®šä¹‰ç»„ä»¶" class="headerlink" title="2.å¼•å…¥skeletonè‡ªå®šä¹‰ç»„ä»¶"></a>2.å¼•å…¥skeletonè‡ªå®šä¹‰ç»„ä»¶</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;usingComponents&quot;: &#123;</span><br><span class="line">    &quot;skeleton&quot;: &quot;..&#x2F;miniprogram_npm&#x2F;miniprogram-skeleton&quot;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å°ç¨‹åºä¸­npmçš„é…ç½®åŠä½¿ç”¨ï¼š</strong></p>
<ul>
<li>åœ¨å¾®ä¿¡å¼€å‘è€…å·¥å…·ä¸­ï¼Œè®¾ç½® â€”&gt; é¡¹ç›®è®¾ç½®â€”&gt; å‹¾é€‰ä½¿ç”¨npmæ¨¡å—ã€‚</li>
<li>åœ¨å¾®ä¿¡å¼€å‘è€…å·¥å…·ä¸­ï¼Œå·¥å…· â€”&gt; æ„å»ºnpmï¼Œæ„å»ºå®Œæˆä¼šç”Ÿæˆ <code>miniprogram_npm</code> æ–‡ä»¶å¤¹ï¼Œé¡¹ç›®ç”¨åˆ°çš„npmåŒ…éƒ½åœ¨è¿™é‡Œã€‚</li>
<li>æŒ‰ç…§é¡µé¢çš„ä½¿ç”¨è·¯å¾„ï¼Œä» <code>miniprogram_npm</code> å¼•å…¥éœ€è¦çš„åŒ…ã€‚</li>
</ul>
<h4 id="äºŒã€ä½¿ç”¨æ–¹å¼ä¸è‡ªå®šä¹‰ä½¿ç”¨æ–¹å¼ä¸€æ ·"><a href="#äºŒã€ä½¿ç”¨æ–¹å¼ä¸è‡ªå®šä¹‰ä½¿ç”¨æ–¹å¼ä¸€æ ·" class="headerlink" title="äºŒã€ä½¿ç”¨æ–¹å¼ä¸è‡ªå®šä¹‰ä½¿ç”¨æ–¹å¼ä¸€æ ·"></a>äºŒã€ä½¿ç”¨æ–¹å¼ä¸è‡ªå®šä¹‰ä½¿ç”¨æ–¹å¼ä¸€æ ·</h4><p>ã€‚ã€‚ã€‚</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/09/09/js%E4%B9%8B%E4%BB%8A%E5%A4%A9%E6%98%AF%E6%98%9F%E6%9C%9F%E5%87%A0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Dali">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/header.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DaliBlogs">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/09/09/js%E4%B9%8B%E4%BB%8A%E5%A4%A9%E6%98%AF%E6%98%9F%E6%9C%9F%E5%87%A0/" itemprop="url">jsä¹‹ä»Šå¤©æ˜¯æ˜ŸæœŸå‡ </a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2020-09-09T10:02:30+08:00">
                2020-09-09
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/js/" itemprop="url" rel="index">
                    <span itemprop="name">js</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="åˆå­¦"><a href="#åˆå­¦" class="headerlink" title="åˆå­¦"></a>åˆå­¦</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">function returnWeekday()&#123;</span><br><span class="line">    let string &#x3D; &quot;ä»Šå¤©æ˜¯æ˜ŸæœŸ&quot;;</span><br><span class="line">    let date &#x3D; new Date().getDay();</span><br><span class="line">    if (date &#x3D;&#x3D;&#x3D; 0) &#123;</span><br><span class="line">        string +&#x3D; &quot;æ—¥&quot;;</span><br><span class="line">    &#125; else if (date &#x3D;&#x3D;&#x3D; 1) &#123;</span><br><span class="line">        string +&#x3D; &quot;ä¸€&quot;;</span><br><span class="line">    &#125; else if (date &#x3D;&#x3D;&#x3D; 2) &#123;</span><br><span class="line">        string +&#x3D; &quot;äºŒ&quot;;</span><br><span class="line">    &#125; else if (date &#x3D;&#x3D;&#x3D; 3) &#123;</span><br><span class="line">        string +&#x3D; &quot;ä¸‰&quot;;</span><br><span class="line">    &#125; else if (date &#x3D;&#x3D;&#x3D; 4) &#123;</span><br><span class="line">        string +&#x3D; &quot;å››&quot;;</span><br><span class="line">    &#125; else if (date &#x3D;&#x3D;&#x3D; 5) &#123;</span><br><span class="line">        string +&#x3D; &quot;äº”&quot;;</span><br><span class="line">    &#125; else if (date &#x3D;&#x3D;&#x3D; 6) &#123;</span><br><span class="line">        string +&#x3D; &quot;å…­&quot;;</span><br><span class="line">    &#125;</span><br><span class="line">    return string</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="å…¥é—¨"><a href="#å…¥é—¨" class="headerlink" title="å…¥é—¨"></a>å…¥é—¨</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">function returnWeekday()&#123;</span><br><span class="line">    let string &#x3D; &quot;ä»Šå¤©æ˜¯æ˜ŸæœŸ&quot;;</span><br><span class="line">    let date &#x3D; new Date().getDay();</span><br><span class="line">    switch (date) &#123;</span><br><span class="line">        case 0 :</span><br><span class="line">            string +&#x3D; &quot;æ—¥&quot;;</span><br><span class="line">            break;</span><br><span class="line">        case 1 :</span><br><span class="line">            string +&#x3D; &quot;ä¸€&quot;;</span><br><span class="line">            break;</span><br><span class="line">        case 2 :</span><br><span class="line">            string +&#x3D; &quot;äºŒ&quot;;</span><br><span class="line">            break;</span><br><span class="line">        case 3 :</span><br><span class="line">            string +&#x3D; &quot;ä¸‰&quot;;</span><br><span class="line">            break;</span><br><span class="line">        case 4 :</span><br><span class="line">            string +&#x3D; &quot;å››&quot;;</span><br><span class="line">            break;</span><br><span class="line">        case 5 :</span><br><span class="line">            string +&#x3D; &quot;äº”&quot;;</span><br><span class="line">            break;</span><br><span class="line">        case 6 :</span><br><span class="line">            string +&#x3D; &quot;å…­&quot;;</span><br><span class="line">            break;</span><br><span class="line">    &#125;</span><br><span class="line">    return string</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä¸­çº§"><a href="#ä¸­çº§" class="headerlink" title="ä¸­çº§"></a>ä¸­çº§</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">function returnWeekday()&#123;</span><br><span class="line">    let string &#x3D; &quot;ä»Šå¤©æ˜¯æ˜ŸæœŸ&quot;;</span><br><span class="line">    let date &#x3D; new Date().getDay();</span><br><span class="line">    &#x2F;&#x2F; ä½¿ç”¨æ•°ç»„</span><br><span class="line">    let dateArr &#x3D; [ å¤© , ä¸€ , äºŒ , ä¸‰ , å›› , äº” , å…­ ];</span><br><span class="line">    return string + dateArr[date]</span><br><span class="line">&#125;</span><br><span class="line">console.log(returnWeekday())</span><br><span class="line"></span><br><span class="line">å€˜è‹¥æˆ‘ä»¬çš„æ¯ä¸ª case æ˜¯ä¸è§„å¾‹çš„å­—ç¬¦ä¸²å‘¢ï¼Ÿé‚£æˆ‘ä»¬ä½¿ç”¨å¯¹è±¡ï¼Œæ¯ä¸ª case ä¸ºä¸€ä¸ª key</span><br><span class="line">function returnWeekday()&#123;</span><br><span class="line">    let string &#x3D; &quot;ä»Šå¤©æ˜¯æ˜ŸæœŸ&quot;;</span><br><span class="line">    let date &#x3D; new Date().getDay();</span><br><span class="line">    &#x2F;&#x2F; ä½¿ç”¨å¯¹è±¡</span><br><span class="line">    dateObj &#x3D; &#123; </span><br><span class="line">        0:  å¤© , </span><br><span class="line">        1: &quot;ä¸€&quot;, </span><br><span class="line">        2: &quot;äºŒ&quot;, </span><br><span class="line">        3: &quot;ä¸‰&quot;, </span><br><span class="line">        4: &quot;å››&quot;, </span><br><span class="line">        5: &quot;äº”&quot;, </span><br><span class="line">        6: &quot;å…­&quot;, </span><br><span class="line">    &#125;;</span><br><span class="line">    return string + dateObj[date]</span><br><span class="line">&#125;</span><br><span class="line">console.log(returnWeekday())</span><br><span class="line"></span><br><span class="line">ä½¿ç”¨ charAt å­—ç¬¦æ–¹æ³•</span><br><span class="line">&#x2F;&#x2F; charAt å®šä½æ–¹æ³•</span><br><span class="line">function returnWeekday()&#123;</span><br><span class="line">    return &quot;ä»Šå¤©æ˜¯æ˜ŸæœŸ&quot; + &quot;æ—¥ä¸€äºŒä¸‰å››äº”å…­&quot;.charAt(new Date().getDay());</span><br><span class="line">&#125;</span><br><span class="line">console.log(returnWeekday())</span><br></pre></td></tr></table></figure>



<h3 id="éœ€æ±‚å˜åŠ¨-åŒºåˆ†å·¥ä½œæ—¥å’Œä¼‘æ¯æ—¥"><a href="#éœ€æ±‚å˜åŠ¨-åŒºåˆ†å·¥ä½œæ—¥å’Œä¼‘æ¯æ—¥" class="headerlink" title="éœ€æ±‚å˜åŠ¨(åŒºåˆ†å·¥ä½œæ—¥å’Œä¼‘æ¯æ—¥)"></a>éœ€æ±‚å˜åŠ¨(åŒºåˆ†å·¥ä½œæ—¥å’Œä¼‘æ¯æ—¥)</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">function returnWeekday()&#123;</span><br><span class="line">    let string &#x3D; &quot;ä»Šå¤©æ˜¯æ˜ŸæœŸ&quot;;</span><br><span class="line">    let date &#x3D; new Date().getDay();</span><br><span class="line">    &#x2F;&#x2F; ä½¿ç”¨å¯¹è±¡</span><br><span class="line">    dateObj &#x3D; &#123; </span><br><span class="line">        0: [&#39;å¤©&#39;,&#39;ä¼‘&#39;], </span><br><span class="line">        1: [&quot;ä¸€&quot;,&#39;å·¥&#39;], </span><br><span class="line">        2: [&quot;äºŒ&quot;,&#39;å·¥&#39;], </span><br><span class="line">        3: [&quot;ä¸‰&quot;,&#39;å·¥&#39;], </span><br><span class="line">        4: [&quot;å››&quot;,&#39;å·¥&#39;], </span><br><span class="line">        5: [&quot;äº”&quot;,&#39;å·¥&#39;], </span><br><span class="line">        6: [&quot;å…­&quot;,&#39;ä¼‘&#39;], </span><br><span class="line">    &#125;</span><br><span class="line">    &#x2F;&#x2F; ç±»å‹ï¼Œè¿™é‡Œä¹Ÿå¯ä»¥å¯¹åº”ç›¸å…³æ–¹æ³•</span><br><span class="line">    dayType &#x3D; &#123;</span><br><span class="line">        &#39;ä¼‘&#39;: function()&#123;</span><br><span class="line">            &#x2F;&#x2F; some code</span><br><span class="line">            console.log(&#39;ä¸ºä¼‘æ¯æ—¥&#39;)</span><br><span class="line">        &#125;,</span><br><span class="line">        &#39;å·¥&#39;: function()&#123;</span><br><span class="line">            &#x2F;&#x2F; some code</span><br><span class="line">            console.log(&#39;ä¸ºå·¥ä½œæ—¥&#39;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    let returnData &#x3D; &#123;</span><br><span class="line">         string  : string + dateObj[date][0],</span><br><span class="line">         method  : dayType[dateObj[date][1]]</span><br><span class="line">    &#125;</span><br><span class="line">    return returnData</span><br><span class="line">&#125;;</span><br><span class="line">console.log(returnWeekday().method.call(this))</span><br></pre></td></tr></table></figure>


          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/09/09/js%E6%98%9F%E6%9C%9F%E6%96%B9%E6%B3%95Array/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Dali">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/header.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DaliBlogs">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/09/09/js%E6%98%9F%E6%9C%9F%E6%96%B9%E6%B3%95Array/" itemprop="url">jsæ˜ŸæœŸæ–¹æ³•Array</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2020-09-09T10:01:44+08:00">
                2020-09-09
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/09/09/%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%A6%82%E4%BD%95%E7%94%9F%E6%88%90%E6%B5%B7%E6%8A%A5%E5%88%86%E4%BA%AB%E6%9C%8B%E5%8F%8B%E5%9C%88/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Dali">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/header.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DaliBlogs">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/09/09/%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%A6%82%E4%BD%95%E7%94%9F%E6%88%90%E6%B5%B7%E6%8A%A5%E5%88%86%E4%BA%AB%E6%9C%8B%E5%8F%8B%E5%9C%88/" itemprop="url">å°ç¨‹åºå¦‚ä½•ç”Ÿæˆæµ·æŠ¥åˆ†äº«æœ‹å‹åœˆ</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2020-09-09T09:35:08+08:00">
                2020-09-09
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/soft/" itemprop="url" rel="index">
                    <span itemprop="name">soft</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="éœ€æ±‚"><a href="#éœ€æ±‚" class="headerlink" title="éœ€æ±‚"></a>éœ€æ±‚</h3><p>åˆ©ç”¨å¾®ä¿¡å¼ºå¤§çš„ç¤¾äº¤èƒ½åŠ›é€šè¿‡å°ç¨‹åºè¾¾åˆ°è£‚å˜çš„ç›®çš„ï¼Œæ‹‰å–æ–°ç”¨æˆ·ã€‚<br>ç”Ÿæˆçš„æµ·æŠ¥å¦‚ä¸‹</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/1NOXMW586uvu1YtvSoiajLEyawsNz1JTxLpJb1T6GDwktsib3UBrOEz9KYatzRbhE9fIxjYGteosUh33C4Ysq2icw/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"></p>
<h3 id="éœ€æ±‚åˆ†æ"><a href="#éœ€æ±‚åˆ†æ" class="headerlink" title="éœ€æ±‚åˆ†æ"></a>éœ€æ±‚åˆ†æ</h3><p>1ã€åˆ©ç”¨å°ç¨‹åºå®˜æ–¹æä¾›çš„apiå¯ä»¥ç›´æ¥åˆ†äº«è½¬å‘åˆ°å¾®ä¿¡ç¾¤æ‰“å¼€å°ç¨‹åº<br>2ã€åˆ©ç”¨å°ç¨‹åºç”Ÿæˆæµ·æŠ¥ä¿å­˜å›¾ç‰‡åˆ°ç›¸å†Œåˆ†äº«åˆ°æœ‹å‹åœˆï¼Œç”¨æˆ·é•¿æŒ‰è¯†åˆ«äºŒç»´ç å…³æ³¨å…¬ä¼—å·æˆ–è€…æ‰“å¼€å°ç¨‹åºæ¥è¾¾åˆ°è£‚å˜çš„ç›®çš„</p>
<h3 id="å®ç°æ–¹æ¡ˆ"><a href="#å®ç°æ–¹æ¡ˆ" class="headerlink" title="å®ç°æ–¹æ¡ˆ"></a>å®ç°æ–¹æ¡ˆ</h3><h4 id="ä¸€ã€åˆ†æå¦‚ä½•å®ç°"><a href="#ä¸€ã€åˆ†æå¦‚ä½•å®ç°" class="headerlink" title="ä¸€ã€åˆ†æå¦‚ä½•å®ç°"></a>ä¸€ã€åˆ†æå¦‚ä½•å®ç°</h4><p>ç›¸ä¿¡å¤§å®¶åº”è¯¥éƒ½ä¼šæœ‰ç±»ä¼¼çš„è¿·æƒ‘ï¼Œå°±æ˜¯å¦‚ä½•æŒ‰ç…§äº§å“è®¾è®¡çš„é‚£æ ·ç»˜åˆ¶æˆæµ·æŠ¥ï¼Œå…¶å®å½“æ—¶æˆ‘ä¹Ÿæ˜¯ä¸çŸ¥é“å¦‚ä½•ä¸‹æ‰‹ï¼Œè®¤çœŸæƒ³äº†ä¸‹å¾—é€šè¿‡canvasç»˜åˆ¶æˆå›¾ç‰‡ï¼Œè¿™æ ·ç”¨æˆ·ä¿å­˜è¿™ä¸ªå›¾ç‰‡åˆ°ç›¸å†Œï¼Œå°±å¯ä»¥åˆ†äº«åˆ°æœ‹å‹åœˆäº†ã€‚ä½†æ˜¯è¦ç»˜åˆ¶çš„å›¾ç‰‡ä¸Šé¢ä¸ä»…æœ‰æ–‡å­—è¿˜æœ‰æ•°å­—ã€å›¾ç‰‡ã€äºŒç»´ç ç­‰ä¸”éƒ½æ˜¯æ´»çš„ï¼Œè¿™ä¸ªè¦æ€ä¹ˆåŠ¨æ€ç”Ÿæˆå‘¢ã€‚è®¤çœŸæƒ³äº†ä¸‹ï¼Œéœ€è¦ä¸€ç‚¹ä¸€ç‚¹çš„å°†æ–‡å­—å’Œæ•°å­—ï¼ŒèƒŒæ™¯å›¾ç»˜åˆ¶åˆ°ç”»å¸ƒä¸Šå»ï¼Œè¿™æ ·é€šè¿‡apiæœ€ç»ˆåˆæˆä¸€ä¸ªå›¾ç‰‡å¯¼å‡ºåˆ°æ‰‹æœºç›¸å†Œä¸­ã€‚</p>
<h4 id="äºŒã€éœ€è¦è§£å†³çš„é—®é¢˜"><a href="#äºŒã€éœ€è¦è§£å†³çš„é—®é¢˜" class="headerlink" title="äºŒã€éœ€è¦è§£å†³çš„é—®é¢˜"></a>äºŒã€éœ€è¦è§£å†³çš„é—®é¢˜</h4><p>1ã€äºŒç»´ç çš„åŠ¨æ€è·å–å’Œç»˜åˆ¶ï¼ˆåŒ…æ‹¬å¦‚ä½•ç”Ÿæˆå°ç¨‹åºäºŒç»´ç ã€å…¬ä¼—å·äºŒç»´ç ã€æ‰“å¼€ç½‘é¡µäºŒç»´ç ï¼‰<br>2ã€èƒŒæ™¯å›¾å¦‚ä½•ç»˜åˆ¶ï¼Œè·å–å›¾ç‰‡ä¿¡æ¯<br>3ã€å°†ç»˜åˆ¶å®Œæˆçš„å›¾ç‰‡ä¿å­˜åˆ°æœ¬åœ°ç›¸å†Œ<br>4ã€å¤„ç†ç”¨æˆ·æ˜¯å¦å–æ¶ˆæˆæƒä¿å­˜åˆ°ç›¸å†Œ</p>
<h4 id="ä¸‰ã€å®ç°æ­¥éª¤"><a href="#ä¸‰ã€å®ç°æ­¥éª¤" class="headerlink" title="ä¸‰ã€å®ç°æ­¥éª¤"></a>ä¸‰ã€å®ç°æ­¥éª¤</h4><p><strong>è¿™é‡Œæˆ‘å…·ä½“å†™ä¸‹å›´ç»•ä¸Šé¢æ‰€æå‡ºçš„é—®é¢˜ï¼Œæè¿°å¤§æ¦‚å®ç°çš„è¿‡ç¨‹</strong></p>
<p>â‘ é¦–å…ˆåˆ›å»ºcanvasç”»å¸ƒ,æˆ‘æŠŠç”»å¸ƒå®šä½è®¾æˆè´Ÿçš„,æ˜¯ä¸ºäº†ä¸è®©å®ƒæ˜¾ç¤ºåœ¨é¡µé¢ä¸Š,æ˜¯å› ä¸ºæˆ‘å°è¯•æŠŠcanvasé€šè¿‡åˆ¤æ–­æ¡ä»¶åŠ¨æ€çš„æ˜¾ç¤ºå’Œéšè—,åœ¨ç»˜åˆ¶çš„æ—¶å€™ä¼šå‡ºç°é—®é¢˜,æ‰€ä»¥é‡‡ç”¨äº†è¿™ç§æ–¹æ³•ï¼Œè¿™é‡Œè¿˜æœ‰ä¸€å®šè¦è®¾ç½®ç”»å¸ƒçš„å¤§å°ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;canvas canvas-id&#x3D;&quot;myCanvas&quot; style&#x3D;&quot;width: 690px;height:1085px;position: fixed;top: -10000px;&quot;&gt;&lt;&#x2F;canvas&gt;</span><br></pre></td></tr></table></figure>

<p>â‘¡åˆ›å»ºå¥½ç”»å¸ƒä¹‹åï¼Œå…ˆç»˜åˆ¶èƒŒæ™¯å›¾ï¼Œå› ä¸ºèƒŒæ™¯å›¾æˆ‘æ˜¯æ”¾åœ¨æœ¬åœ°ï¼Œæ‰€ä»¥è·å– <canvas> ç»„ä»¶ canvas-id å±æ€§ï¼Œé€šè¿‡createCanvasContextåˆ›å»ºcanvasçš„ç»˜å›¾ä¸Šä¸‹æ–‡ CanvasContext å¯¹è±¡ã€‚ä½¿ç”¨drawImageç»˜åˆ¶å›¾åƒåˆ°ç”»å¸ƒï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å›¾ç‰‡çš„æœ¬åœ°åœ°å€ï¼Œåé¢ä¸¤ä¸ªå‚æ•°æ˜¯å›¾åƒç›¸å¯¹ç”»å¸ƒå·¦ä¸Šè§’ä½ç½®çš„xè½´å’Œyè½´ï¼Œæœ€åä¸¤ä¸ªå‚æ•°æ˜¯è®¾ç½®å›¾åƒçš„å®½é«˜ã€‚</canvas></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">const ctx &#x3D; wx.createCanvasContext(&#39;myCanvas&#39;)</span><br><span class="line"></span><br><span class="line">ctx.drawImage(&#39;&#x2F;img&#x2F;study&#x2F;shareimg.png&#39;, 0, 0, 690, 1085)</span><br></pre></td></tr></table></figure>

<p>â‘¢åˆ›å»ºå¥½èƒŒæ™¯å›¾åï¼Œåœ¨èƒŒæ™¯å›¾ä¸Šç»˜åˆ¶å¤´åƒï¼Œæ–‡å­—å’Œæ•°å­—ã€‚é€šè¿‡getImageInfoè·å–å¤´åƒçš„ä¿¡æ¯ï¼Œè¿™é‡Œéœ€è¦æ³¨æ„ä¸‹åœ¨è·å–çš„ç½‘ç»œå›¾ç‰‡è¦å…ˆé…ç½®downloadåŸŸåæ‰èƒ½ç”Ÿæ•ˆï¼Œå…·ä½“åœ¨å°ç¨‹åºåå°è®¾ç½®é‡Œé…ç½®ã€‚</p>
<p>è·å–å¤´åƒåœ°å€ï¼Œé¦–å…ˆé‡å–å¤´åƒåœ¨ç”»å¸ƒä¸­çš„å¤§å°ï¼Œå’Œxè½´Yè½´çš„åæ ‡ï¼Œè¿™é‡Œçš„result[0]æ˜¯æˆ‘ç”¨promiseå°è£…è¿”å›çš„ä¸€ä¸ªå›¾ç‰‡åœ°å€</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">let headImg &#x3D; new Promise(function (resolve) &#123;</span><br><span class="line">        wx.getImageInfo(&#123;</span><br><span class="line">          src: &#96;$&#123;app.globalData.baseUrl2&#125;$&#123;that.data.currentChildren.headImg&#125;&#96;,</span><br><span class="line">          success: function (res) &#123;</span><br><span class="line">            resolve(res.path)</span><br><span class="line">          &#125;,</span><br><span class="line">          fail: function (err) &#123;</span><br><span class="line">            console.log(err)</span><br><span class="line">            wx.showToast(&#123;</span><br><span class="line">              title: &#39;ç½‘ç»œé”™è¯¯è¯·é‡è¯•&#39;,</span><br><span class="line">              icon: &#39;loading&#39;</span><br><span class="line">            &#125;)</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;)</span><br><span class="line">      </span><br><span class="line">let avatarurl_width &#x3D; 60, &#x2F;&#x2F;ç»˜åˆ¶çš„å¤´åƒå®½åº¦</span><br><span class="line">    avatarurl_heigth &#x3D; 60, &#x2F;&#x2F;ç»˜åˆ¶çš„å¤´åƒé«˜åº¦</span><br><span class="line">    avatarurl_x &#x3D; 28, &#x2F;&#x2F;ç»˜åˆ¶çš„å¤´åƒåœ¨ç”»å¸ƒä¸Šçš„ä½ç½®</span><br><span class="line">    avatarurl_y &#x3D; 36; &#x2F;&#x2F;ç»˜åˆ¶çš„å¤´åƒåœ¨ç”»å¸ƒä¸Šçš„ä½ç½®</span><br><span class="line">    </span><br><span class="line">    ctx.save(); &#x2F;&#x2F; å…ˆä¿å­˜çŠ¶æ€ å·²ä¾¿äºç”»å®Œåœ†å†ç”¨</span><br><span class="line">    ctx.beginPath(); &#x2F;&#x2F;å¼€å§‹ç»˜åˆ¶</span><br><span class="line">    &#x2F;&#x2F;å…ˆç”»ä¸ªåœ†   å‰ä¸¤ä¸ªå‚æ•°ç¡®å®šäº†åœ†å¿ƒ ï¼ˆx,yï¼‰ åæ ‡  ç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯åœ†çš„åŠå¾„  å››å‚æ•°æ˜¯ç»˜å›¾æ–¹å‘  é»˜è®¤æ˜¯falseï¼Œå³é¡ºæ—¶é’ˆ</span><br><span class="line">    ctx.arc(avatarurl_width &#x2F; 2 + avatarurl_x, avatarurl_heigth &#x2F; 2 + avatarurl_y, avatarurl_width &#x2F; 2, 0, Math.PI * 2, false);</span><br><span class="line">    ctx.clip(); &#x2F;&#x2F;ç”»äº†åœ† å†å‰ªåˆ‡  åŸå§‹ç”»å¸ƒä¸­å‰ªåˆ‡ä»»æ„å½¢çŠ¶å’Œå°ºå¯¸ã€‚ä¸€æ—¦å‰ªåˆ‡äº†æŸä¸ªåŒºåŸŸï¼Œåˆ™æ‰€æœ‰ä¹‹åçš„ç»˜å›¾éƒ½ä¼šè¢«é™åˆ¶åœ¨è¢«å‰ªåˆ‡çš„åŒºåŸŸå†…</span><br><span class="line">    ctx.drawImage(result[0], avatarurl_x, avatarurl_y, avatarurl_width, avatarurl_heigth); &#x2F;&#x2F; æ¨è¿›å»å›¾ç‰‡</span><br></pre></td></tr></table></figure>

<blockquote>
<p>è¿™é‡Œä¸¾ä¸ªä¾‹å­è¯´ä¸‹å¦‚ä½•ç»˜åˆ¶æ–‡å­—ï¼Œæ¯”å¦‚æˆ‘è¦ç»˜åˆ¶å¦‚ä¸‹è¿™ä¸ªâ€œå­—â€ï¼Œéœ€è¦åŠ¨æ€è·å–å‰é¢å­—æ•°çš„æ€»å®½åº¦ï¼Œè¿™æ ·æ‰èƒ½è®¾ç½®â€œå­—â€çš„xè½´åæ ‡ï¼Œè¿™é‡Œæˆ‘æœ¬æ¥æ˜¯æƒ³é€šè¿‡measureTextæ¥æµ‹é‡å­—ä½“çš„å®½åº¦ï¼Œä½†æ˜¯åœ¨iOSç«¯ç¬¬ä¸€æ¬¡è·å–çš„å®½åº¦å€¼ä¸å¯¹ï¼Œå…³äºè¿™ä¸ªé—®é¢˜ï¼Œæˆ‘è¿˜åœ¨å¾®ä¿¡å¼€å‘è€…ç¤¾åŒºæäº†bugï¼Œæ‰€ä»¥æˆ‘æƒ³ç”¨å¦ä¸€ä¸ªæ–¹æ³•æ¥å®ç°ï¼Œå°±æ˜¯å…ˆè·å–æ­£å¸¸æƒ…å†µä¸‹ä¸€ä¸ªå­—çš„å®½åº¦å€¼ï¼Œç„¶åä¹˜ä»¥æ€»å­—æ•°å°±è·å¾—äº†æ€»å®½åº¦ï¼Œäº²è¯•æ˜¯å¯ä»¥çš„ã€‚</p>
</blockquote>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/1NOXMW586uvu1YtvSoiajLEyawsNz1JTxgNlzticcibNAObP0F6iaFVPAjbziauHKauUX5yQJFTXGO5HkMa2cIDOpqw/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">let allReading &#x3D; 97 &#x2F; 6 &#x2F; app.globalData.ratio * wordNumber.toString().length + 325;</span><br><span class="line">ctx.font &#x3D; &#39;normal normal 30px sans-serif&#39;;</span><br><span class="line">ctx.setFillStyle(&#39;#ffffff&#39;)</span><br><span class="line">ctx.fillText(&#39;å­—&#39;, allReading, 150);</span><br></pre></td></tr></table></figure>

<p>â‘£ç»˜åˆ¶å…¬ä¼—å·äºŒç»´ç ï¼Œå’Œè·å–å¤´åƒæ˜¯ä¸€æ ·çš„ï¼Œä¹Ÿæ˜¯å…ˆé€šè¿‡æ¥å£è¿”å›å›¾ç‰‡ç½‘ç»œåœ°å€ï¼Œç„¶åå†é€šè¿‡getImageInfoè·å–å…¬ä¼—å·äºŒç»´ç å›¾ç‰‡ä¿¡æ¯</p>
<p>â‘¤å¦‚ä½•ç»˜åˆ¶å°ç¨‹åºç ï¼Œå…·ä½“å®˜ç½‘æ–‡æ¡£ä¹Ÿç»™å‡ºç”Ÿæˆæ— é™å°ç¨‹åºç æ¥å£ï¼Œé€šè¿‡ç”Ÿæˆçš„å°ç¨‹åºå¯ä»¥æ‰“å¼€ä»»æ„ä¸€ä¸ªå°ç¨‹åºé¡µé¢ï¼Œå¹¶ä¸”äºŒç»´ç æ°¸ä¹…æœ‰æ•ˆï¼Œå…·ä½“è°ƒç”¨å“ªä¸ªå°ç¨‹åºäºŒç»´ç æ¥å£æœ‰ä¸åŒçš„åº”ç”¨åœºæ™¯ï¼Œå…·ä½“å¯ä»¥çœ‹ä¸‹å®˜æ–¹æ–‡æ¡£æ€ä¹ˆè¯´çš„ï¼Œä¹Ÿå°±æ˜¯è¯´å‰ç«¯é€šè¿‡ä¼ é€’å‚æ•°è°ƒå–åç«¯æ¥å£è¿”å›çš„å°ç¨‹åºç ï¼Œç„¶åç»˜åˆ¶åœ¨ç”»å¸ƒä¸Šï¼ˆå’Œä¸Šé¢å†™çš„ç»˜åˆ¶å¤´åƒå’Œå…¬ä¼—å·äºŒç»´ç ä¸€æ ·çš„ï¼‰</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ctx.drawImage(&#39;å°ç¨‹åºç çš„æœ¬åœ°åœ°å€&#39;, xè½´, Yè½´, å®½, é«˜)</span><br></pre></td></tr></table></figure>

<p>â‘¥æœ€ç»ˆç»˜åˆ¶å®ŒæŠŠcanvasç”»å¸ƒè½¬æˆå›¾ç‰‡å¹¶è¿”å›å›¾ç‰‡åœ°å€</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">wx.canvasToTempFilePath(&#123;</span><br><span class="line">    canvasId: &#39;myCanvas&#39;,</span><br><span class="line">    success: function (res) &#123;</span><br><span class="line">      canvasToTempFilePath &#x3D; res.tempFilePath &#x2F;&#x2F; è¿”å›çš„å›¾ç‰‡åœ°å€ä¿å­˜åˆ°ä¸€ä¸ªå…¨å±€å˜é‡é‡Œ</span><br><span class="line">      that.setData(&#123;</span><br><span class="line">        showShareImg: true</span><br><span class="line">      &#125;)</span><br><span class="line">      wx.showToast(&#123;</span><br><span class="line">        title: &#39;ç»˜åˆ¶æˆåŠŸ&#39;,</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;,</span><br><span class="line">    fail: function () &#123;</span><br><span class="line">      wx.showToast(&#123;</span><br><span class="line">        title: &#39;ç»˜åˆ¶å¤±è´¥&#39;,</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;,</span><br><span class="line">    complete: function () &#123;</span><br><span class="line">      wx.hideLoading()</span><br><span class="line">      wx.hideToast()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br></pre></td></tr></table></figure>

<p>â‘¦ä¿å­˜åˆ°ç³»ç»Ÿç›¸å†Œï¼›å…ˆåˆ¤æ–­ç”¨æˆ·æ˜¯å¦å¼€å¯ç”¨æˆ·æˆæƒç›¸å†Œï¼Œå¤„ç†ä¸åŒæƒ…å†µä¸‹çš„ç»“æœã€‚æ¯”å¦‚ç”¨æˆ·å¦‚æœæŒ‰ç…§æ­£å¸¸é€»è¾‘æˆæƒæ˜¯æ²¡é—®é¢˜çš„ï¼Œä½†æ˜¯æœ‰çš„ç”¨æˆ·å¦‚æœç‚¹å‡»äº†å–æ¶ˆæˆæƒè¯¥å¦‚ä½•å¤„ç†ï¼Œå¦‚æœä¸å¤„ç†ä¼šå‡ºç°ä¸€å®šçš„é—®é¢˜ã€‚æ‰€ä»¥å½“ç”¨æˆ·ç‚¹å‡»å–æ¶ˆæˆæƒä¹‹åï¼Œæ¥ä¸ªå¼¹æ¡†æç¤ºï¼Œå½“å®ƒå†æ¬¡ç‚¹å‡»çš„æ—¶å€™ï¼Œä¸»åŠ¨è·³åˆ°è®¾ç½®å¼•å¯¼ç”¨æˆ·å»å¼€å¯æˆæƒï¼Œä»è€Œè¾¾åˆ°ä¿å­˜åˆ°ç›¸å†Œåˆ†äº«æœ‹å‹åœˆçš„ç›®çš„ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; è·å–ç”¨æˆ·æ˜¯å¦å¼€å¯ç”¨æˆ·æˆæƒç›¸å†Œ</span><br><span class="line">    if (!openStatus) &#123;</span><br><span class="line">      wx.openSetting(&#123;</span><br><span class="line">        success: (result) &#x3D;&gt; &#123;</span><br><span class="line">          if (result) &#123;</span><br><span class="line">            if (result.authSetting[&quot;scope.writePhotosAlbum&quot;] &#x3D;&#x3D;&#x3D; true) &#123;</span><br><span class="line">              openStatus &#x3D; true;</span><br><span class="line">              wx.saveImageToPhotosAlbum(&#123;</span><br><span class="line">                filePath: canvasToTempFilePath,</span><br><span class="line">                success() &#123;</span><br><span class="line">                  that.setData(&#123;</span><br><span class="line">                    showShareImg: false</span><br><span class="line">                  &#125;)</span><br><span class="line">                  wx.showToast(&#123;</span><br><span class="line">                    title: &#39;å›¾ç‰‡ä¿å­˜æˆåŠŸï¼Œå¿«å»åˆ†äº«åˆ°æœ‹å‹åœˆå§~&#39;,</span><br><span class="line">                    icon: &#39;none&#39;,</span><br><span class="line">                    duration: 2000</span><br><span class="line">                  &#125;)</span><br><span class="line">                &#125;,</span><br><span class="line">                fail() &#123;</span><br><span class="line">                  wx.showToast(&#123;</span><br><span class="line">                    title: &#39;ä¿å­˜å¤±è´¥&#39;,</span><br><span class="line">                    icon: &#39;none&#39;</span><br><span class="line">                  &#125;)</span><br><span class="line">                &#125;</span><br><span class="line">              &#125;)</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        fail: () &#x3D;&gt; &#123; &#125;,</span><br><span class="line">        complete: () &#x3D;&gt; &#123; &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">      wx.getSetting(&#123;</span><br><span class="line">        success(res) &#123;</span><br><span class="line">          &#x2F;&#x2F; å¦‚æœæ²¡æœ‰åˆ™è·å–æˆæƒ</span><br><span class="line">          if (!res.authSetting[&#39;scope.writePhotosAlbum&#39;]) &#123;</span><br><span class="line">            wx.authorize(&#123;</span><br><span class="line">              scope: &#39;scope.writePhotosAlbum&#39;,</span><br><span class="line">              success() &#123;</span><br><span class="line">                openStatus &#x3D; true</span><br><span class="line">                wx.saveImageToPhotosAlbum(&#123;</span><br><span class="line">                  filePath: canvasToTempFilePath,</span><br><span class="line">                  success() &#123;</span><br><span class="line">                    that.setData(&#123;</span><br><span class="line">                      showShareImg: false</span><br><span class="line">                    &#125;)</span><br><span class="line">                    wx.showToast(&#123;</span><br><span class="line">                      title: &#39;å›¾ç‰‡ä¿å­˜æˆåŠŸï¼Œå¿«å»åˆ†äº«åˆ°æœ‹å‹åœˆå§~&#39;,</span><br><span class="line">                      icon: &#39;none&#39;,</span><br><span class="line">                      duration: 2000</span><br><span class="line">                    &#125;)</span><br><span class="line">                  &#125;,</span><br><span class="line">                  fail() &#123;</span><br><span class="line">                    wx.showToast(&#123;</span><br><span class="line">                      title: &#39;ä¿å­˜å¤±è´¥&#39;,</span><br><span class="line">                      icon: &#39;none&#39;</span><br><span class="line">                    &#125;)</span><br><span class="line">                  &#125;</span><br><span class="line">                &#125;)</span><br><span class="line">              &#125;,</span><br><span class="line">              fail() &#123;</span><br><span class="line">                &#x2F;&#x2F; å¦‚æœç”¨æˆ·æ‹’ç»è¿‡æˆ–æ²¡æœ‰æˆæƒï¼Œåˆ™å†æ¬¡æ‰“å¼€æˆæƒçª—å£</span><br><span class="line">                openStatus &#x3D; false</span><br><span class="line">                console.log(&#39;è¯·è®¾ç½®å…è®¸è®¿é—®ç›¸å†Œ&#39;)</span><br><span class="line">                wx.showToast(&#123;</span><br><span class="line">                  title: &#39;è¯·è®¾ç½®å…è®¸è®¿é—®ç›¸å†Œ&#39;,</span><br><span class="line">                  icon: &#39;none&#39;</span><br><span class="line">                &#125;)</span><br><span class="line">              &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">          &#125; else &#123;</span><br><span class="line">            &#x2F;&#x2F; æœ‰åˆ™ç›´æ¥ä¿å­˜</span><br><span class="line">            openStatus &#x3D; true</span><br><span class="line">            wx.saveImageToPhotosAlbum(&#123;</span><br><span class="line">              filePath: canvasToTempFilePath,</span><br><span class="line">              success() &#123;</span><br><span class="line">                that.setData(&#123;</span><br><span class="line">                  showShareImg: false</span><br><span class="line">                &#125;)</span><br><span class="line">                wx.showToast(&#123;</span><br><span class="line">                  title: &#39;å›¾ç‰‡ä¿å­˜æˆåŠŸï¼Œå¿«å»åˆ†äº«åˆ°æœ‹å‹åœˆå§~&#39;,</span><br><span class="line">                  icon: &#39;none&#39;,</span><br><span class="line">                  duration: 2000</span><br><span class="line">                &#125;)</span><br><span class="line">              &#125;,</span><br><span class="line">              fail() &#123;</span><br><span class="line">                wx.showToast(&#123;</span><br><span class="line">                  title: &#39;ä¿å­˜å¤±è´¥&#39;,</span><br><span class="line">                  icon: &#39;none&#39;</span><br><span class="line">                &#125;)</span><br><span class="line">              &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        fail(err) &#123;</span><br><span class="line">          console.log(err)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>è‡³æ­¤æ‰€æœ‰çš„æ­¥éª¤éƒ½å·²å®ç°ï¼Œåœ¨ç»˜åˆ¶çš„æ—¶å€™ä¼šé‡åˆ°ä¸€äº›å¼‚æ­¥è¯·æ±‚åå°è¿”å›çš„æ•°æ®ï¼Œæ‰€ä»¥æˆ‘ç”¨promiseå’Œasyncå’Œawaitè¿›è¡Œäº†å°è£…ï¼Œç¡®ä¿å¯¼å‡ºçš„å›¾ç‰‡ä¿¡æ¯æ˜¯å®Œæ•´çš„ã€‚åœ¨ç»˜åˆ¶çš„è¿‡ç¨‹ç¡®å®é‡åˆ°ä¸€äº›å‘çš„åœ°æ–¹ã€‚æ¯”å¦‚åˆå¼€å§‹å¯¼å‡ºçš„å›¾ç‰‡æ¯”ä¾‹å¤§å°ä¸å¯¹ï¼Œè¿˜æœ‰ç”¨measureTextæµ‹é‡æ–‡å­—å®½åº¦ä¸å¯¹ï¼Œå¤šæ¬¡ç»˜åˆ¶ï¼ˆå¯èƒ½å—ç½‘ç»œåŸå› ï¼‰æœ‰æ—¶å¯¼å‡ºçš„å›¾ç‰‡ä¸Šçš„æ–‡å­—é¢œè‰²ä¼šæœ‰è¯¯å·®ç­‰ã€‚å¦‚æœä½ ä¹Ÿé‡åˆ°ä¸€äº›æ¯”è¾ƒå‘çš„åœ°æ–¹å¯ä»¥ä¸€èµ·æ¢è®¨ä¸‹åšä¸ªè®°å½•</p>
<p>å‚è€ƒé“¾æ¥ï¼š<a href="https://mp.weixin.qq.com/s/Dsc81YRD5WrI6V105ci4hg" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/Dsc81YRD5WrI6V105ci4hg</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/09/08/%E7%9F%A5%E8%AF%86%E7%82%B9%E9%93%BE%E6%8E%A5/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Dali">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/header.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DaliBlogs">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/09/08/%E7%9F%A5%E8%AF%86%E7%82%B9%E9%93%BE%E6%8E%A5/" itemprop="url">çŸ¥è¯†ç‚¹é“¾æ¥</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2020-09-08T17:12:02+08:00">
                2020-09-08
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%9F%A5%E8%AF%86%E7%82%B9/" itemprop="url" rel="index">
                    <span itemprop="name">çŸ¥è¯†ç‚¹</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>vueç”Ÿå‘½å‘¨æœŸä»æºç çœ‹</p>
<p><a href="https://mp.weixin.qq.com/s/6-WDKTyyDnkbw224WOEpjw" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/6-WDKTyyDnkbw224WOEpjw</a></p>
<p>ä½œä¸ºä¸€ä½Vueå·¥ç¨‹å¸ˆï¼Œè¿™äº›å¼€å‘æŠ€å·§ä½ éƒ½ä¼šå—ï¼Ÿ</p>
<p><a href="https://mp.weixin.qq.com/s/QqMfogiIPLrsSBRUkN_WlQ" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/QqMfogiIPLrsSBRUkN_WlQ</a></p>
<p>å¾ˆå¤šäººä¸çŸ¥é“å¯ä»¥ä½¿ç”¨è¿™ç§ key çš„æ–¹å¼æ¥å¯¹ Vue ç»„ä»¶è¿›è¡Œé‡æ–°æ¸²æŸ“ï¼</p>
<p><a href="https://mp.weixin.qq.com/s/DA2X_aIqBolHSKlYt9aH5Q" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/DA2X_aIqBolHSKlYt9aH5Q</a></p>
<p>Vue.useä¸­éƒ½å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ</p>
<p><a href="https://mp.weixin.qq.com/s/LBaQiq4CVGYXSDC9GgGp4Q" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/LBaQiq4CVGYXSDC9GgGp4Q</a></p>
<p>Vue keep-aliveæ·±å…¥ç†è§£åŠå®è·µæ€»ç»“</p>
<p><a href="https://mp.weixin.qq.com/s/NgrrK_HC_ci_mOd2PiiWxA" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/NgrrK_HC_ci_mOd2PiiWxA</a></p>
<p>Vueä¸­mixinæ€ä¹ˆç†è§£ï¼Ÿ</p>
<p><a href="https://mp.weixin.qq.com/s/0tRYs-tlf8NaWoqu5qvYcw" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/0tRYs-tlf8NaWoqu5qvYcw</a></p>
<p>ä»Vueæºç è§’åº¦æ·±æŒ–Watchã€Computed</p>
<p><a href="https://mp.weixin.qq.com/s/ApYLgnuQ9cxvQrFekAU75w" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/ApYLgnuQ9cxvQrFekAU75w</a></p>
<p>ä»æºç è§£è¯» Vuex æ³¨å…¥ Vue ç”Ÿå‘½å‘¨æœŸçš„è¿‡ç¨‹</p>
<p><a href="https://mp.weixin.qq.com/s/15YA0baY5MGIjG3CkamDyA" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/15YA0baY5MGIjG3CkamDyA</a></p>
<p>ä¸€æ–‡çœ‹æ‡‚Vue3å‘¨è¾¹é…å¥—ç°çŠ¶</p>
<p><a href="https://mp.weixin.qq.com/s/Em_fOGXBzEtQ8UEA2_Bdew" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/Em_fOGXBzEtQ8UEA2_Bdew</a></p>
<p> ä¸ºä½ çš„ Vue.js å•é¡µåº”ç”¨æé€Ÿ</p>
<p><a href="https://mp.weixin.qq.com/s/5DAm7WvU9htzkdYGM5Tmkw" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/5DAm7WvU9htzkdYGM5Tmkw</a></p>
<p>Vueè¶…å¥½ç©çš„æ–°ç‰¹æ€§ï¼šåœ¨CSSä¸­ä½¿ç”¨JSå˜é‡</p>
<p><a href="https://mp.weixin.qq.com/s/DW_G5W3tz1CzbFz4aYDXcA" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/DW_G5W3tz1CzbFz4aYDXcA</a></p>
<p>å‰ç«¯ä¸€é”®æ¢è‚¤çš„Nç§æ–¹æ¡ˆï¼Œè¯·æ”¶ä¸‹</p>
<p><a href="https://mp.weixin.qq.com/s/5rejEt5xvRYTNPFvhLyEoQ" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/5rejEt5xvRYTNPFvhLyEoQ</a></p>
<p>ä¸€ä»½å€¼å¾—æ”¶è—çš„ Git å¼‚å¸¸å¤„ç†æ¸…å•</p>
<p><a href="https://mp.weixin.qq.com/s/GKdhcb0ekirjg4jEwERizA" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/GKdhcb0ekirjg4jEwERizA</a></p>
<p>å‰ç«¯å·¥ç¨‹å¸ˆå¦‚ä½•å¤„ç†10ä¸‡æ¡æ•°æ®</p>
<p><a href="https://mp.weixin.qq.com/s/0duasKMCrIYjwWZvoZikrQ" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/0duasKMCrIYjwWZvoZikrQ</a></p>
<p>é‚£äº›ä¸å¸¸è§ï¼Œä½†å´éå¸¸å®ç”¨çš„csså±æ€§(æ•´ç†ä¸æ˜“)</p>
<p><a href="https://mp.weixin.qq.com/s/yt6dNfSxJZwtMTSrbprquQ" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/yt6dNfSxJZwtMTSrbprquQ</a></p>
<p>ä½ å¯èƒ½ä¸çŸ¥é“çš„15ä¸ªæœ‰ç”¨çš„GithubåŠŸèƒ½</p>
<p><a href="https://mp.weixin.qq.com/s/abeqBYe__mzZ3CVNxbaw5Q" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/abeqBYe__mzZ3CVNxbaw5Q</a></p>
<p>é€šè¿‡äº‹ä¾‹è®²è§£å¦‚æœåœ¨ Vue åˆ›å»ºåŠä½¿ç”¨è¿‡æ»¤å™¨</p>
<p><a href="https://mp.weixin.qq.com/s/Zyzb5f0cNVmcCp2dxcxP-w" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/Zyzb5f0cNVmcCp2dxcxP-w</a></p>
<p>7ä¸ªå¿«é€Ÿå‘ç° bug ç¥ä»™è°ƒè¯•å·¥å…·</p>
<p><a href="https://mp.weixin.qq.com/s/BOJv26_ul3RidiKSECQ_uA" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/BOJv26_ul3RidiKSECQ_uA</a></p>
<p>9ä¸ªå¾ˆæ£’çš„CSSè¾¹æ¡†æŠ€å·§</p>
<p><a href="https://mp.weixin.qq.com/s/dbG4LzlRYNAxXzmvjEBtkw" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/dbG4LzlRYNAxXzmvjEBtkw</a></p>
<p>Vue å¼€å‘å¿…é¡»çŸ¥é“çš„ 36 ä¸ªæŠ€å·§</p>
<p><a href="https://mp.weixin.qq.com/s/lBSvRW72_-RbXUXe7Oce9A" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/lBSvRW72_-RbXUXe7Oce9A</a></p>
<p>åˆ†åˆ†é’Ÿæ•™ä¼šä½ æ­å»ºä¼ä¸šçº§çš„ npm ç§æœ‰ä»“åº“</p>
<p><a href="https://mp.weixin.qq.com/s/otSFSAmedqihFRMUvVHL0Q" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/otSFSAmedqihFRMUvVHL0Q</a></p>
<p>npxï¼Œ ä½ äº†è§£å—ï¼Ÿ</p>
<p><a href="https://mp.weixin.qq.com/s/2FkK_hANiCDhTpikAT7UxA" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/2FkK_hANiCDhTpikAT7UxA</a></p>
<p>5ä¸ªJavaScriptçš„å­—ç¬¦ä¸²å¤„ç†åº“</p>
<p><a href="https://mp.weixin.qq.com/s/1R3jRyH-y8hSVmCIVevKzw" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/1R3jRyH-y8hSVmCIVevKzw</a></p>
<p>JavaScripté—­åŒ…çš„æ·±å…¥ç†è§£</p>
<p><a href="https://mp.weixin.qq.com/s/5FbV4U4AyJAYdCtzgHM9bg" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/5FbV4U4AyJAYdCtzgHM9bg</a></p>
<p>CSSä¸­çš„èƒŒæ™¯ç”¨æ³•å¤§å…¨</p>
<p><a href="https://mp.weixin.qq.com/s/P5BmWbWGjpVKQnttQXi5zQ" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/P5BmWbWGjpVKQnttQXi5zQ</a></p>
<p>107æ¡Javascriptçš„å¸¸ç”¨è¯­å¥</p>
<p><a href="https://mp.weixin.qq.com/s/eB6plUyXqGc1rwX9K9ZGKg" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/eB6plUyXqGc1rwX9K9ZGKg</a></p>
<p>displayçš„32ç§å†™æ³•</p>
<p><a href="https://mp.weixin.qq.com/s/Wk_1prutXU6bvt9gYxKQ2g" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/Wk_1prutXU6bvt9gYxKQ2g</a></p>
<p>60ä¸ªéå¸¸å®ç”¨çš„CSSä»£ç ç‰‡æ®µï¼Œåƒä¸‡è¦æ”¶è—å¥½äº†ï¼</p>
<p><a href="https://mp.weixin.qq.com/s/uOlu39yKWe8B076vEXVPZA" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/uOlu39yKWe8B076vEXVPZA</a></p>
<p>æµè§ˆå™¨ç¼“å­˜æœºåˆ¶</p>
<p><a href="https://mp.weixin.qq.com/s/o0B38SgXj-2tcpPIr-x7Bw" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/o0B38SgXj-2tcpPIr-x7Bw</a></p>
<p>ES6ä¸­å¸¸ç”¨çš„æ•°ç»„æ–¹æ³•æ€»ç»“</p>
<p><a href="https://mp.weixin.qq.com/s/oEwhydO00rx7YtBV1Vz0yA" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/oEwhydO00rx7YtBV1Vz0yA</a></p>
<p>ES6ä¸­å¸¸ç”¨çš„å¯¹è±¡æ–¹æ³•æ€»ç»“</p>
<p><a href="https://mp.weixin.qq.com/s/GbIDW9PnUVi6MGJWL3Y4UQ" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/GbIDW9PnUVi6MGJWL3Y4UQ</a></p>
<p>Vue å¼€å‘å¿…é¡»çŸ¥é“çš„ 36 ä¸ªæŠ€å·§</p>
<p><a href="https://mp.weixin.qq.com/s/dr4c0HWmHsGrrw91l_mk-Q" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/dr4c0HWmHsGrrw91l_mk-Q</a></p>
<p>ES6ä¸­Promiseæ–¹æ³•æ€»ç»“</p>
<p><a href="https://mp.weixin.qq.com/s/1cbG6D1mWbLtUmwu2OIjQA" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/1cbG6D1mWbLtUmwu2OIjQA</a></p>
<p>ä¸€æ–‡ææ‡‚ES6ä¸­çš„æ¨¡å—åŒ–</p>
<p><a href="https://mp.weixin.qq.com/s/p24ZtSV8vGmdUm2lKu5ksg" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/p24ZtSV8vGmdUm2lKu5ksg</a></p>
<p>å†™ç»™åˆä¸­çº§å‰ç«¯çš„é«˜çº§è¿›é˜¶æŒ‡å—ï¼ˆä¸‡å­—é•¿æ–‡ï¼Œå»ºè®®æ”¶è—ï¼‰</p>
<p><a href="https://mp.weixin.qq.com/s/vaVd_laecfCVth0s6SCOfQ" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/vaVd_laecfCVth0s6SCOfQ</a></p>
<p>7ç§ä½ åº”è¯¥çŸ¥é“çš„JavaScriptå¸¸è§çš„é”™è¯¯</p>
<p><a href="https://mp.weixin.qq.com/s/FbMv8YH6AVHxCeBYE1NzRw" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/FbMv8YH6AVHxCeBYE1NzRw</a></p>
<p>JavaScriptçš„6ç§ç»§æ‰¿æ–¹å¼åŠå…¶ä¼˜ç¼ºç‚¹æ±‡æ€»</p>
<p><a href="https://mp.weixin.qq.com/s/CaT3-IeBuLx_ELo2BKMUcg" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/CaT3-IeBuLx_ELo2BKMUcg</a></p>
<p>èƒ½è§£å†³ 80% éœ€æ±‚çš„ 10ä¸ª CSSåŠ¨ç”»åº“</p>
<p><a href="https://mp.weixin.qq.com/s/s4A-KI1FepWcJjmevhJOsA" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/s4A-KI1FepWcJjmevhJOsA</a></p>
<p>CSS calc()å‡½æ•°çš„ç”¨æ³•</p>
<p><a href="https://mp.weixin.qq.com/s/YgRjhS7JX_pIf0oO2mb0zg" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/YgRjhS7JX_pIf0oO2mb0zg</a></p>
<p>10ä¸ªéå¸¸å®ç”¨çš„JSå·¥å…·å‡½æ•°</p>
<p><a href="https://mp.weixin.qq.com/s/FF_-Mi2ntESUCWsEo4BB1Q" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/FF_-Mi2ntESUCWsEo4BB1Q</a></p>
<p>æˆ‘å’Œå¤§ä½¬ä¹‹é—´å·®ä¸€ä¸ªJSå·¥å…·å‡½æ•°å¤§å…¨â€¦</p>
<p><a href="https://mp.weixin.qq.com/s/AdVQxNgj5gB5Z4CmfZX9-g" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/AdVQxNgj5gB5Z4CmfZX9-g</a></p>
<p>é€šè¿‡åˆ é™¤â€œ if-elseâ€è¯­å¥æ¥æ¸…ç†ä»£ç </p>
<p><a href="https://mp.weixin.qq.com/s/LOOU0LPFPQH_jv93mR9KMw" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/LOOU0LPFPQH_jv93mR9KMw</a></p>
<p>15æ¡å€¼å¾—æ”¶è—çš„é«˜æ•ˆJSæŠ€å·§</p>
<p><a href="https://mp.weixin.qq.com/s/EXAh91-qM4TmVm6D9Wxxig" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/EXAh91-qM4TmVm6D9Wxxig</a></p>
<p>JSON.stringify() çš„ 5 ä¸ªç§˜å¯†ç‰¹æ€§</p>
<p><a href="https://mp.weixin.qq.com/s/wVF2VX5BZWLP2TbDWhqVVA" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/wVF2VX5BZWLP2TbDWhqVVA</a></p>
<p>å¤„ç† JSä¸­ undefined çš„ 7 ä¸ªæŠ€å·§</p>
<p><a href="https://mp.weixin.qq.com/s/KZYfxG54WcPnAQhNhBvYsQ" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/KZYfxG54WcPnAQhNhBvYsQ</a></p>
<p>å¦‚ä½•ä¼˜é›…çš„å®ç°ä¸€ä¸ªä¹å®«æ ¼æŠ½å¥–</p>
<p><a href="https://mp.weixin.qq.com/s/z58BmufL_vwCvy4C6NNAjg" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/z58BmufL_vwCvy4C6NNAjg</a></p>
<p>JavaScriptåŸå‹ä¸ç»§æ‰¿çš„ç§˜å¯†</p>
<p><a href="https://mp.weixin.qq.com/s/Jvu48weJiAS1IejVd-QWYQ" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/Jvu48weJiAS1IejVd-QWYQ</a></p>
<p><a href="https://www.cnblogs.com/ayseeing/p/3990815.html" target="_blank" rel="noopener">windowçš„cmdçª—å£è¿è¡Œgit</a></p>
<p><a href="https://www.cnblogs.com/ayseeing/p/3990815.html" target="_blank" rel="noopener">https://www.cnblogs.com/ayseeing/p/3990815.html</a></p>
<p>jsåˆ¤æ–­è‹¹æœæœºå‹</p>
<p><a href="https://www.cnblogs.com/heroine/p/6710848.html" target="_blank" rel="noopener">https://www.cnblogs.com/heroine/p/6710848.html</a></p>
<p>ã€Œå‰ç«¯ç¼–ç¨‹å®æˆ˜ 57ã€HTML+CSS3å®ç°æ•ˆå“åº”ç›’æ¨¡å‹ç‰¹æ•ˆ</p>
<p><a href="https://mp.weixin.qq.com/s/8jDmr5wehAeWg1o1XJaXfQ" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/8jDmr5wehAeWg1o1XJaXfQ</a></p>
<p>æ‰‹æŠŠæ‰‹æ•™ä½ å¦‚ä½•å®ç°å¤§é‡å›¾ç‰‡çš„è‡ªé€‚åº”å›¾ç‰‡é¡µé¢çš„æ’åˆ—</p>
<p><a href="https://mp.weixin.qq.com/s/G95WTM2pNkjkA7Qn8BmArg" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/G95WTM2pNkjkA7Qn8BmArg</a></p>
<p>13 ä¸ª npm å¿«é€Ÿå¼€å‘æŠ€å·§</p>
<p><a href="https://mp.weixin.qq.com/s/tK5X23Osg197gWvE_q_AhA" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/tK5X23Osg197gWvE_q_AhA</a></p>
<p>8ä¸ªChromeé¢æ¿å†…å®¹</p>
<p><a href="https://mp.weixin.qq.com/s/-1jf4c7bYhbn-zKVr74hrw" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/-1jf4c7bYhbn-zKVr74hrw</a></p>
<p>15ä¸ªå‰ç«¯å¿…é¡»æ‡‚çš„linuxå‘½ä»¤</p>
<p><a href="https://mp.weixin.qq.com/s/-b9WxWtWwQMhXZkBMySjkA" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/-b9WxWtWwQMhXZkBMySjkA</a></p>
<p>jså‡½æ•°å¼ç¼–ç¨‹æœ¯è¯­æ€»ç»“</p>
<p><a href="https://mp.weixin.qq.com/s/WA00OYXKv73s7HWrVMOV1Q" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/WA00OYXKv73s7HWrVMOV1Q</a></p>
<p>node å†™çˆ¬è™«ï¼ŒåŸæ¥è¿™ä¹ˆç®€å•</p>
<p><a href="https://mp.weixin.qq.com/s/qfcfW4JXLrRjagTlIZl6mQ" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/qfcfW4JXLrRjagTlIZl6mQ</a></p>
<p>é‡ç£…ï¼šå°ç¨‹åºå¼€æ”¾â€œåˆ†äº«æœ‹å‹åœˆâ€åŠŸèƒ½</p>
<p><a href="https://mp.weixin.qq.com/s/EMULfoSjCf21MVJVhFK2Eg" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/EMULfoSjCf21MVJVhFK2Eg</a></p>
<p>å¼ºçƒˆæ¨ä»‹çš„å‡ ä¸ªå¾®ä¿¡å°ç¨‹åºå¼€å‘å°æŠ€å·§ï¼Œç®€å•åˆå®ç”¨</p>
<p><a href="https://mp.weixin.qq.com/s/CuX3p0hKRHlxDYXyJlJo3g" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/CuX3p0hKRHlxDYXyJlJo3g</a></p>
<p>å¾®ä¿¡æ”¯æŒH5è·³è½¬Appã€è·³è½¬å°ç¨‹åº</p>
<p><a href="https://mp.weixin.qq.com/s/KewfM91K5To1Jj_xMWqqPw" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/KewfM91K5To1Jj_xMWqqPw</a></p>
<p><strong>hookEvent</strong>,åŸæ¥å¯ä»¥è¿™æ ·ç›‘å¬ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ</p>
<p><a href="https://mp.weixin.qq.com/s/KL1jB5UYXNXOOF8gau0sFA" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/KL1jB5UYXNXOOF8gau0sFA</a></p>
<p>18æ¬¾Webpackæ’ä»¶ï¼Œæ€»ä¼šæœ‰ä½ æƒ³è¦çš„ï¼</p>
<p><a href="https://mp.weixin.qq.com/s/GGEmCQVr7ShMcP6_KsmaMQ" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/GGEmCQVr7ShMcP6_KsmaMQ</a></p>
<p>webpackåŸç†</p>
<p><a href="https://mp.weixin.qq.com/s/Arx6XIzPhlUaEPpH_wLMjg" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/Arx6XIzPhlUaEPpH_wLMjg</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/09/08/hexo%E5%9B%BE%E7%89%87%E7%9A%84%E9%82%A3%E4%BA%9B%E4%BA%8B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Dali">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/header.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DaliBlogs">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/09/08/hexo%E5%9B%BE%E7%89%87%E7%9A%84%E9%82%A3%E4%BA%9B%E4%BA%8B/" itemprop="url">hexoå›¾ç‰‡çš„é‚£äº›äº‹</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2020-09-08T11:52:31+08:00">
                2020-09-08
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/mysoft/" itemprop="url" rel="index">
                    <span itemprop="name">mysoft</span>
                  </a>
                </span>

                
                
                  ï¼Œ 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/mysoft/hexo/" itemprop="url" rel="index">
                    <span itemprop="name">hexo</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h3 id="æˆªå›¾å›¾ç‰‡ä¿å­˜"><a href="#æˆªå›¾å›¾ç‰‡ä¿å­˜" class="headerlink" title="æˆªå›¾å›¾ç‰‡ä¿å­˜"></a>æˆªå›¾å›¾ç‰‡ä¿å­˜</h3><p>1ã€å›¾ç‰‡ä¼šè«åçš„ä¸¢å¤±ï¼ˆæ–‡ä»¶çš„ä½ç½®å˜äº†æˆ–è€…å›¾ç‰‡ä¸è§äº†ï¼‰</p>
<p>2ã€åœ¨ä½¿ç”¨QQæˆ–è€…å„ç§æˆªå›¾å·¥å…·ï¼Œéœ€è¦å…ˆä¿å­˜åˆ°æœ¬åœ°ï¼Œç„¶ååœ¨ç²˜è´´è¿‡æ¥(æˆªå›¾å·¥å…·é»˜è®¤å›¾ç‰‡æ˜¯ä¿å­˜åœ¨ç¼“å­˜é‡Œçš„)</p>
<p>  ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä¸Šç½‘æ‰¾äº†å¾ˆå¤šæ–¹æ³•ï¼Œä¸ªäººæ¯”è¾ƒå–œæ¬¢çš„ä¸€ç§è§£å†³æ–¹å¼ï¼Œç°è®°å½•ä¸‹æ¥ï¼Œä¸€æ¥åšä¸ªè®°å½•ï¼›äºŒæ¥å¸Œæœ›èƒ½å¤Ÿå¸®åŠ©å’Œæˆ‘ä¸€æ ·ç¢°åˆ°è¿™ä¸ªé—®é¢˜çš„æœ‹å‹ã€‚</p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2020/09/08/hexo%E5%9B%BE%E7%89%87%E7%9A%84%E9%82%A3%E4%BA%9B%E4%BA%8B/#more" rel="contents">
              é˜…è¯»å…¨æ–‡ &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/10/">10</a><a class="extend next" rel="next" href="/page/2/">&lt;i class&#x3D;&quot;fa fa-angle-right&quot;&gt;&lt;&#x2F;i&gt;</a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/header.jpg"
                alt="Dali" />
            
              <p class="site-author-name" itemprop="name">Dali</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">92</span>
                  <span class="site-state-item-name">æ—¥å¿—</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">47</span>
                  <span class="site-state-item-name">åˆ†ç±»</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">92</span>
                  <span class="site-state-item-name">æ ‡ç­¾</span>
                </a>
              </div>
            

          </nav>

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Dali</span>

  
</div>


  <div class="powered-by">ç”± <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> å¼ºåŠ›é©±åŠ¨</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">ä¸»é¢˜ &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Gemini</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  
  

  

  

  

</body>
</html>
