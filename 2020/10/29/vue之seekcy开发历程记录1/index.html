<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="vue," />





  <link rel="alternate" href="/atom.xml" title="DaliBlogs" type="application/atom+xml" />






<meta name="description" content="Router解决vue路由跳转未匹配路径时出现空白页的问题利用该特性，可以使用下面的代码端解决未匹配路由的问题： 1234567router.beforeEach((to, from, next) &#x3D;&gt; &amp;#123;  if (to.matched.length &#x3D;&#x3D;&#x3D;0) &amp;#123;  &#x2F;&#x2F;如果未匹配到路由    from.path? next(&amp;#123; path:from.path">
<meta property="og:type" content="article">
<meta property="og:title" content="vue之seekcy开发历程记录1">
<meta property="og:url" content="http://yoursite.com/2020/10/29/vue%E4%B9%8Bseekcy%E5%BC%80%E5%8F%91%E5%8E%86%E7%A8%8B%E8%AE%B0%E5%BD%951/index.html">
<meta property="og:site_name" content="DaliBlogs">
<meta property="og:description" content="Router解决vue路由跳转未匹配路径时出现空白页的问题利用该特性，可以使用下面的代码端解决未匹配路由的问题： 1234567router.beforeEach((to, from, next) &#x3D;&gt; &amp;#123;  if (to.matched.length &#x3D;&#x3D;&#x3D;0) &amp;#123;  &#x2F;&#x2F;如果未匹配到路由    from.path? next(&amp;#123; path:from.path">
<meta property="og:image" content="https://img-blog.csdnimg.cn/2020082419134573.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NzA4NDI3NQ==,size_16,color_FFFFFF,t_70#pic_center">
<meta property="og:image" content="http://yoursite.com/2020/10/29/vue%E4%B9%8Bseekcy%E5%BC%80%E5%8F%91%E5%8E%86%E7%A8%8B%E8%AE%B0%E5%BD%951/image-20201102193540065.png">
<meta property="og:image" content="http://yoursite.com/2020/10/29/vue%E4%B9%8Bseekcy%E5%BC%80%E5%8F%91%E5%8E%86%E7%A8%8B%E8%AE%B0%E5%BD%951/image-20201103113345574.png">
<meta property="og:image" content="https://mmbiz.qpic.cn/mmbiz_png/4MXV7svuTWI1DCpR2ibcNHRdddtrc6czxjKO7rwKyUgyZtBCrvxa365vxKamvibPGDEAoEqxdYicWdsCj4nib0siaEA/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1">
<meta property="og:image" content="https://mmbiz.qpic.cn/mmbiz_png/4MXV7svuTWI1DCpR2ibcNHRdddtrc6czxU3WA03eWNCEfpgJtdhXGjCINeTiadxbAMB7lFcd0CAOtX36wysuVTzQ/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1">
<meta property="og:image" content="https://img2018.cnblogs.com/blog/1149000/201901/1149000-20190108162846264-467114685.png">
<meta property="og:image" content="https://img2018.cnblogs.com/blog/1149000/201901/1149000-20190108162728713-1887350521.png">
<meta property="og:image" content="https://images2017.cnblogs.com/blog/1202246/201711/1202246-20171121095445961-1591205997.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20191104102906668.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNjcxOTk2,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img2018.cnblogs.com/blog/935329/201905/935329-20190528164613052-25776252.png">
<meta property="og:image" content="http://yoursite.com/2020/10/29/vue%E4%B9%8Bseekcy%E5%BC%80%E5%8F%91%E5%8E%86%E7%A8%8B%E8%AE%B0%E5%BD%951/require(">
<meta property="og:image" content="http://yoursite.com/2020/10/29/vue%E4%B9%8Bseekcy%E5%BC%80%E5%8F%91%E5%8E%86%E7%A8%8B%E8%AE%B0%E5%BD%951/image-20210311173714259.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20200724183357229.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl8zNjk2NTA3Mg==,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20200724183448993.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl8zNjk2NTA3Mg==,size_16,color_FFFFFF,t_70">
<meta property="article:published_time" content="2020-10-29T09:23:30.000Z">
<meta property="article:modified_time" content="2021-03-30T03:33:56.118Z">
<meta property="article:author" content="Dali">
<meta property="article:tag" content="vue">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://img-blog.csdnimg.cn/2020082419134573.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NzA4NDI3NQ==,size_16,color_FFFFFF,t_70#pic_center">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2020/10/29/vue之seekcy开发历程记录1/"/>





  <title>vue之seekcy开发历程记录1 | DaliBlogs</title>
  








<meta name="generator" content="Hexo 4.2.1"></head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">DaliBlogs</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            归档
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="搜索..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/10/29/vue%E4%B9%8Bseekcy%E5%BC%80%E5%8F%91%E5%8E%86%E7%A8%8B%E8%AE%B0%E5%BD%951/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Dali">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/header.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DaliBlogs">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">vue之seekcy开发历程记录1</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-10-29T17:23:30+08:00">
                2020-10-29
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/vue/" itemprop="url" rel="index">
                    <span itemprop="name">vue</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h2 id="Router"><a href="#Router" class="headerlink" title="Router"></a>Router</h2><h3 id="解决vue路由跳转未匹配路径时出现空白页的问题"><a href="#解决vue路由跳转未匹配路径时出现空白页的问题" class="headerlink" title="解决vue路由跳转未匹配路径时出现空白页的问题"></a>解决vue路由跳转未匹配路径时出现空白页的问题</h3><p>利用该特性，可以使用下面的代码端解决未匹配路由的问题：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">router.beforeEach(<span class="function">(<span class="params">to, <span class="keyword">from</span>, next</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (to.matched.length ===<span class="number">0</span>) &#123;  <span class="comment">//如果未匹配到路由</span></span><br><span class="line">    <span class="keyword">from</span>.path? next(&#123; <span class="attr">path</span>:<span class="keyword">from</span>.path&#125;) : next(<span class="string">'/'</span>);   <span class="comment">//如果上级也未匹配到路由则跳转主页面，如果上级能匹配到则转上级路由</span></span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    next();    <span class="comment">//如果匹配到正确跳转</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<a id="more"></a> 

<p>2.匹配所有路由</p>
<p>路由的匹配规则是按照书写的顺序执行的，第一条匹配成功则不去匹配下一条，利用这一特性，可以在所有匹配路由的下面拦截匹配所有路由：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//创建路由对象并配置路由规则</span></span><br><span class="line"><span class="keyword">let</span> router = <span class="keyword">new</span> VueRouter(&#123;</span><br><span class="line">    routes:[</span><br><span class="line">       &#123;<span class="attr">path</span>:<span class="string">'/'</span>,<span class="attr">redirect</span>:&#123;<span class="attr">name</span>:<span class="string">"home"</span>&#125;&#125;,  <span class="comment">// 重定向到主页</span></span><br><span class="line">       &#123;<span class="attr">name</span>:<span class="string">'home'</span>,<span class="attr">path</span>:<span class="string">'/home'</span>,<span class="attr">component</span>:Home&#125;,</span><br><span class="line">       &#123;<span class="attr">name</span>:<span class="string">'login'</span>,<span class="attr">path</span>:<span class="string">'/login'</span>,<span class="attr">component</span>:Login&#125;,</span><br><span class="line">       &#123;<span class="attr">path</span>:<span class="string">'*'</span>,<span class="attr">component</span>:NotFound&#125;,<span class="comment">//全不匹配的情况下，匹配NotFound组件，路由按顺序从上到下，依次匹配。最后一个*能匹配全部，</span></span><br><span class="line">    ]</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>3.重定向</p>
<p>原理同方法2，只不过在匹配到*时，重定向到根路径：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//创建路由对象并配置路由规则</span></span><br><span class="line"><span class="keyword">let</span> router = <span class="keyword">new</span> VueRouter(&#123;</span><br><span class="line">    routes:[</span><br><span class="line">       &#123;<span class="attr">path</span>:<span class="string">'/'</span>,<span class="attr">redirect</span>:&#123;<span class="attr">name</span>:<span class="string">"home"</span>&#125;&#125;,  <span class="comment">// 重定向到主页</span></span><br><span class="line">       &#123;<span class="attr">name</span>:<span class="string">'home'</span>,<span class="attr">path</span>:<span class="string">'/home'</span>,<span class="attr">component</span>:Home&#125;,</span><br><span class="line">       &#123;<span class="attr">name</span>:<span class="string">'login'</span>,<span class="attr">path</span>:<span class="string">'/login'</span>,<span class="attr">component</span>:Login&#125;,</span><br><span class="line">       &#123;<span class="attr">path</span>:<span class="string">'*'</span>,<span class="attr">redirect</span>:<span class="string">'/'</span>&#125;,<span class="comment">//路由按顺序从上到下，依次匹配。最后一个*能匹配全部，然后重定向到主页面</span></span><br><span class="line">    ]</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>



<p>报错</p>
<p><img src="https://img-blog.csdnimg.cn/2020082419134573.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NzA4NDI3NQ==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<p><a href="mailto:vue-router@3.0">vue-router@3.0</a>版本及以上回调形式已经改成promise api的形式了，返回的是一个promise，如果路由地址跳转相同（<code>重复路由跳转</code>）, 且没有捕获到错误，控制台始终会出现如图所示的警告 （注：3.0以下版本则不会出现以下警告！！！，因路由回调问题…，可以直接降到3.0一下版本）</p>
<p><img src="/2020/10/29/vue%E4%B9%8Bseekcy%E5%BC%80%E5%8F%91%E5%8E%86%E7%A8%8B%E8%AE%B0%E5%BD%951/image-20201102193540065.png" alt="image-20201102193540065"></p>
<p>问题出现原因：<code>重复路由跳转</code>，比如说当前路由是商品详情页面/goodsDetail，但是点击按钮进行this.$router.push操作，要跳转的还是商品详情页面/goodsDetail。</p>
<p>综合解决方案</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">import Router from &#39;vue-router&#39;</span><br><span class="line"></span><br><span class="line">const originalPush &#x3D; Router.prototype.push</span><br><span class="line">Router.prototype.push &#x3D; function push(location) &#123;</span><br><span class="line">  return originalPush.call(this, location).catch(err &#x3D;&gt; err)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">注：官方vue-router@3.0及以上新版本路由默认回调返回的都是promise，原先旧版本的路由回调将废弃！！！！</span><br></pre></td></tr></table></figure>



<h3 id="addRoutes"><a href="#addRoutes" class="headerlink" title="addRoutes"></a>addRoutes</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">this.$router.addRoutes(</span><br><span class="line">    routeData.concat([</span><br><span class="line">        &#123; path: &#39;&#x2F;404&#39;, component: NotFound &#125;,</span><br><span class="line">        &#123; path: &#39;*&#39;, redirect: &#39;&#x2F;404&#39; &#125;</span><br><span class="line">    ])</span><br><span class="line">);</span><br></pre></td></tr></table></figure>







<h2 id="指令（directive）"><a href="#指令（directive）" class="headerlink" title="指令（directive）"></a>指令（directive）</h2><p>全局的自定义指令需要写在 <strong>new Vue()</strong> 的前面</p>
<h3 id="v-focus-自定义指令解决autofocus失效"><a href="#v-focus-自定义指令解决autofocus失效" class="headerlink" title="v-focus(自定义指令解决autofocus失效)"></a>v-focus(自定义指令解决autofocus失效)</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">directives: &#123;</span><br><span class="line">    focus: &#123;</span><br><span class="line">      inserted: function(el) &#123;</span><br><span class="line">        el.querySelector(&quot;input&quot;).focus();</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>

<h3 id="动态指令参数"><a href="#动态指令参数" class="headerlink" title="动态指令参数"></a>动态指令参数</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;div @click&#x3D;&quot;link&quot; v-style:[mystyle]&#x3D;&quot;&#39;100px&#39;&quot;&gt;带参数跳转&lt;&#x2F;div&gt;</span><br><span class="line">js</span><br><span class="line">data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">    	mystyle: &#39;margin&#39;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,</span><br><span class="line"></span><br><span class="line">main.js</span><br><span class="line">Vue.directive(&quot;style&quot;, function (el, binding, vnode) &#123;</span><br><span class="line">    el.style[binding.arg] &#x3D; binding.value </span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="高精度权限控制—自定义指令directive"><a href="#高精度权限控制—自定义指令directive" class="headerlink" title="高精度权限控制—自定义指令directive"></a>高精度权限控制—自定义指令directive</h3><p>我们先在新建个 array.js 文件，用于存放与权限相关的全局函数；</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; array.js</span><br><span class="line">export function checkArray (key) &#123;</span><br><span class="line">  let arr &#x3D; [&#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;4&#39;, &#39;demo&#39;]</span><br><span class="line">  let index &#x3D; arr.indexOf(key)</span><br><span class="line">  if (index &gt; -1) &#123;</span><br><span class="line">    return true &#x2F;&#x2F; 有权限</span><br><span class="line">  &#125; else &#123;</span><br><span class="line">    return false &#x2F;&#x2F; 无权限</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>然后在将 array 文件挂载到全局中:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; main.js</span><br><span class="line">import &#123; checkArray &#125; from &quot;.&#x2F;common&#x2F;array&quot;;</span><br><span class="line">Vue.directive(&quot;permission&quot;, &#123;</span><br><span class="line">  inserted (el, binding) &#123;</span><br><span class="line">    let permission &#x3D; binding.value; &#x2F;&#x2F; 获取到 v-permission的值</span><br><span class="line">    if (permission) &#123;</span><br><span class="line">      let hasPermission &#x3D; checkArray(permission);</span><br><span class="line">      if (!hasPermission) &#123; &#x2F;&#x2F; 没有权限 移除Dom元素</span><br><span class="line">        el.parentNode &amp;&amp; el.parentNode.removeChild(el);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>最后我们在页面中就可以通过自定义指令 v-permission 来判断：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class&#x3D;&quot;btns&quot;&gt;</span><br><span class="line">    &lt;button v-permission&#x3D;&quot;&#39;1&#39;&quot;&gt;权限按钮1&lt;&#x2F;button&gt;  &#x2F;&#x2F; 会显示</span><br><span class="line">    &lt;button v-permission&#x3D;&quot;&#39;2&#39;&quot;&gt;权限按钮2&lt;&#x2F;button&gt;  &#x2F;&#x2F; 无显示</span><br><span class="line">    &lt;button v-permission&#x3D;&quot;&#39;demo&#39;&quot;&gt;权限按钮demo&lt;&#x2F;button&gt; &#x2F;&#x2F; 会显示</span><br><span class="line">&lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure>



<h2 id="修改dev地址为自动获取本地ip"><a href="#修改dev地址为自动获取本地ip" class="headerlink" title="修改dev地址为自动获取本地ip"></a>修改dev地址为自动获取本地ip</h2><p><img src="/2020/10/29/vue%E4%B9%8Bseekcy%E5%BC%80%E5%8F%91%E5%8E%86%E7%A8%8B%E8%AE%B0%E5%BD%951/image-20201103113345574.png" alt="image-20201103113345574"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;* 修改启动时浏览器地址localhost为自动获取本地ip,并以ip为地址 *&#x2F;</span><br><span class="line">const os &#x3D; require(&#39;os&#39;)</span><br><span class="line">let localhost &#x3D; &#39;&#39;</span><br><span class="line">try &#123;</span><br><span class="line">    const network &#x3D; os.networkInterfaces()</span><br><span class="line">    localhost &#x3D; network[Object.keys(network)[0]][1].address</span><br><span class="line">&#125; catch (e) &#123;</span><br><span class="line">    localhost &#x3D; &#39;localhost&#39;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">tips:上述代码有可能获取到127.0.0.1，也有可能获取到ip，建议使用下面的方法</span><br><span class="line">const os &#x3D; require(&#39;os&#39;).networkInterfaces()</span><br><span class="line">function getIP() &#123;</span><br><span class="line">  var interfaces &#x3D; os;</span><br><span class="line">  console.log(interfaces)</span><br><span class="line">  for (var devName in interfaces) &#123;</span><br><span class="line">    var iface &#x3D; interfaces[devName];</span><br><span class="line">    for (var i &#x3D; 0; i &lt; iface.length; i++) &#123;</span><br><span class="line">      var alias &#x3D; iface[i];</span><br><span class="line">      if (alias.family &#x3D;&#x3D;&#x3D; &#39;IPv4&#39; &amp;&amp; alias.address !&#x3D;&#x3D; &#39;127.0.0.1&#39; &amp;&amp; !alias.internal) &#123;</span><br><span class="line">        return alias.address;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">localhost &#x3D; getIP();</span><br></pre></td></tr></table></figure>



<h3 id="在npm-run-dev之后，Vue都做了哪些工作呢"><a href="#在npm-run-dev之后，Vue都做了哪些工作呢" class="headerlink" title="在npm run dev之后，Vue都做了哪些工作呢"></a>在npm run dev之后，Vue都做了哪些工作呢</h3><p><img src="https://mmbiz.qpic.cn/mmbiz_png/4MXV7svuTWI1DCpR2ibcNHRdddtrc6czxjKO7rwKyUgyZtBCrvxa365vxKamvibPGDEAoEqxdYicWdsCj4nib0siaEA/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="图片"></p>
<p>其实很简单，Vue类里面其实就是调用了一个_init方法，这一段代码调用了五个方法，并传入了Vue类。</p>
<p>initMixin，它的作用是给vue的原型链里加入Vue类里调用的_init方法</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/4MXV7svuTWI1DCpR2ibcNHRdddtrc6czxU3WA03eWNCEfpgJtdhXGjCINeTiadxbAMB7lFcd0CAOtX36wysuVTzQ/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="图片"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">stateMixin也和前面的initMixin类似，其实就是往Vue的原型里注入了$data,$props属性，以及$set、$delete 以及 $watch方法。</span><br><span class="line"></span><br><span class="line">eventMixin就是往vue原型链里注入了事件的监听与触发，即我们常用的$emit，$on。</span><br><span class="line"></span><br><span class="line">lifecycleMixin，就是注入了一些生命周期函数。</span><br><span class="line"></span><br><span class="line">renderMixin就和后面的具体编译有关。</span><br></pre></td></tr></table></figure>



<h2 id="打包"><a href="#打包" class="headerlink" title="打包"></a>打包</h2><p>查看三部曲：</p>
<ul>
<li>build文件夹下的utils.js 中 publicPath：” ../../“</li>
<li>config 中的 index.js 中 assetsPublicPath: “./“</li>
<li>webpack.prod.conf.js 中 output模块中添加 publicPath: “./“</li>
</ul>
<p>总结一下，vue里面引用图片在打包后仍能正常使用的正确引用方式：</p>
<ul>
<li><p><strong>html内：</strong>img src以相对路径引入；</p>
</li>
<li><p><strong>css：</strong>style以background属性作为背景图片以相对路径引入，需以类名方式引入，行内样式可能会不生效；</p>
</li>
<li><p><strong>js：</strong>以require(‘…/url’)引入，赋予变量；</p>
</li>
</ul>
<h3 id="js-css找不到"><a href="#js-css找不到" class="headerlink" title="js/css找不到"></a>js/css找不到</h3><p>因为项目打包后的CSS和JS的引用路径是绝对路径，项目部署后会将静态当成根目录，就造成了文件引用路径的错误，解决方法是通过修改配置文件，将绝对路径改为相对路径，从而达到资源的相对引用。</p>
<p>一。<strong>‘/’指的是项目的根目录 ，’./’指的是当前目录</strong></p>
<p>1.publicPath 并不会对生成文件的路径造成影响，主要是对你的页面里面引入的资源的路径做对应的补全，常见的就是css文件里面引入的图片</p>
<p>2.assetsPublicPath属性作用是指定编译发布的根目录</p>
<p>具体操作如下：</p>
<p>1.打开webpack.prod.conf.js；</p>
<p>2.在output模块中添加 publicPath: ‘./‘ ，如下图所示：</p>
<p><img src="https://img2018.cnblogs.com/blog/1149000/201901/1149000-20190108162846264-467114685.png" alt="img"></p>
<h3 id="背景图片找不到"><a href="#背景图片找不到" class="headerlink" title="背景图片找不到"></a>背景图片找不到</h3><p>修改打包后背景图片的引用路径<br>资源内的图片是通过css加载的，CSS代码如：background：url（../ assets / img-bg / buttonbg.png）no-repeat;</p>
<p>但是打包过后的CSS变成了背景：url（../../ static / img / buttonbg.68979b3.png）no-repeat;我们需要修改配置文件，是的CSS代码打包后，资源引用路径还是相对路径;</p>
<p>解决办法：</p>
<p>1.打开build文件夹下的utils.js ;</p>
<p>2.在下图位置添加 publicPath：” ../../</p>
<p> <img src="https://img2018.cnblogs.com/blog/1149000/201901/1149000-20190108162728713-1887350521.png" alt="img"></p>
<h3 id="router-view中的内容显示不出来（关闭路由history模式）"><a href="#router-view中的内容显示不出来（关闭路由history模式）" class="headerlink" title="router-view中的内容显示不出来（关闭路由history模式）"></a>router-view中的内容显示不出来（关闭路由history模式）</h3><p><strong>第二个问题：router-view中的内容显示不出来。</strong>路由history模式。</p>
<p>这个坑是当你使用了路由之后，<strong>在没有后端配合的情况下就手贱打开路由history模式的时候</strong>，打包出来的文件也会是一片空白的情况，</p>
<p>很多人踩这个坑的时候花了很多时间，网上的教程基本上都是说的第一个坑，这个坑很少有人提起。</p>
<p><strong><img src="https://images2017.cnblogs.com/blog/1202246/201711/1202246-20171121095445961-1591205997.png" alt="img"></strong></p>
<p>解决：<code>// mode: &#39;history&#39;,//将这个模式关闭就好</code></p>
<h3 id="打包出错显示空白页，或者Failed-to-load-resource-net-ERR-FILE-NOT-FOUND"><a href="#打包出错显示空白页，或者Failed-to-load-resource-net-ERR-FILE-NOT-FOUND" class="headerlink" title="打包出错显示空白页，或者Failed to load resource: net::ERR_FILE_NOT_FOUND"></a>打包出错显示空白页，或者Failed to load resource: net::ERR_FILE_NOT_FOUND</h3><p>解决办法</p>
<p>​        webpack.prod.conf.js 中output添加参数publicPath:’./‘</p>
<p><img src="https://img-blog.csdnimg.cn/20191104102906668.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNjcxOTk2,size_16,color_FFFFFF,t_70" alt="img"></p>
<h3 id="Vue-elementUI-build打包部署后字体图标丢失，控制台显示文件element-icons-woff和element-icons-ttf文件404"><a href="#Vue-elementUI-build打包部署后字体图标丢失，控制台显示文件element-icons-woff和element-icons-ttf文件404" class="headerlink" title="Vue+elementUI  build打包部署后字体图标丢失，控制台显示文件element-icons.woff和element-icons.ttf文件404"></a>Vue+elementUI  build打包部署后字体图标丢失，控制台显示文件element-icons.woff和element-icons.ttf文件404</h3><p><img src="https://img2018.cnblogs.com/blog/935329/201905/935329-20190528164613052-25776252.png" alt="img"></p>
<p>解决办法</p>
<p>webpack utils.js 修改：（build目录下utils.js）</p>
<p>添加  publicPath: ‘../../‘</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">if (options.extract) &#123;</span><br><span class="line">    return ExtractTextPlugin.extract(&#123;</span><br><span class="line">        use: loaders,</span><br><span class="line">        fallback: &#39;vue-style-loader&#39;,</span><br><span class="line">        publicPath: &#39;..&#x2F;..&#x2F;&#39;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125; else &#123;</span><br><span class="line">	return [&#39;vue-style-loader&#39;].concat(loaders)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="Git"><a href="#Git" class="headerlink" title="Git"></a>Git</h2><blockquote>
<p>You have not concluded your merge (MERGE_HEAD exists). Please, commit your changes before you can merge.</p>
</blockquote>
<h4 id="报错原因"><a href="#报错原因" class="headerlink" title="报错原因"></a>报错原因</h4><p>上一次pull的代码有冲突自动合并失败，在下一次pull之前你没有很好的解决这个冲突</p>
<h4 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h4><p>撤销这次合并</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1、git merge --abort</span><br><span class="line">2、git reset --merge</span><br></pre></td></tr></table></figure>
<p>3、解决冲突<br>4、<code>git add</code>和<code>git commit</code><br>5、 这时候<code>git pull</code>应该就可以使用了</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">## js</span><br><span class="line"></span><br><span class="line">### 采用函数式编程的思想求数组对象中某个属性的值之和</span><br></pre></td></tr></table></figure>
<p>const programmerOutput = [<br>  {<br>    name: ‘Uncle Bobby’,<br>    linesOfCode: 500<br>  }, {<br>    name: ‘Suzie Q’,<br>    linesOfCode: 1500<br>  }, {<br>    name: ‘Jimmy Gosling’,<br>    linesOfCode: 150<br>  }, {<br>    name: ‘Gracie Hopper’,<br>    linesOfCode: 1000<br>  }<br>];</p>
<p>var totalOutput = programmerOutput<br>  .map((programmer) =&gt; programmer.linesOfCode)<br>  .reduce((acc, linesOfCode) =&gt; acc + linesOfCode, 0);</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 使用 Object.assign 设置函数参数的默认对象</span><br><span class="line"></span><br><span class="line">&#96;Object.assign&#96;方法的第一个参数是目标对象，后面的参数都是源对象。</span><br><span class="line"></span><br><span class="line">&#96;Object.assign&#96;方法用于对象的合并，将源对象（source）的所有可枚举属性，复制到目标对象（target）。</span><br><span class="line"></span><br><span class="line">注意，如果目标对象与源对象有同名属性，或多个源对象有同名属性，则后面的属性会覆盖前面的属性。</span><br></pre></td></tr></table></figure>
<p>var menuConfig = {<br>  title: null,<br>  body: ‘Bar’,<br>  buttonText: null,<br>  cancellable: true<br>}</p>
<p>function createMenu(config) {<br>  config.title = config.title || ‘Foo’<br>  config.body = config.body || ‘Bar’<br>  config.buttonText = config.buttonText || ‘Baz’<br>  config.cancellable = config.cancellable === undefined ? config.cancellable : true;</p>
<p>}</p>
<p>//使用Object.assign<br>var menuConfig = {<br>  title: ‘Order’,<br>  // User did not include ‘body’ key<br>  buttonText: ‘Send’,<br>  cancellable: true<br>}</p>
<p>function createMenu(config) {<br>  config = Object.assign({<br>    title: ‘Foo’,<br>    body: ‘Bar’,<br>    buttonText: ‘Baz’,<br>    cancellable: true<br>  }, config);<br>}</p>
<p>createMenu(menuConfig);<br>//{ “title”: “Order”, “body”: “Bar”, “buttonText”: “Send”, “cancellable”: true}</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 判断数组和数组对象中是否有重复值</span><br><span class="line"></span><br><span class="line">数组：</span><br></pre></td></tr></table></figure>
<p>简单方式一<br>const elementsAreEqual = array =&gt; array.some(el =&gt; el === array[0]);<br>elementsAreEqual([9, 8, 7, 7, 5]); // true<br>复杂方式二<br>isRepeat(arr) {<br>            var hash = {};<br>            let that = this;<br>            for (var i in arr) {<br>                if (hash[arr[i]]){<br>                    that.repeatSn = arr[i];<br>                    return true;<br>                }<br>                hash[arr[i]] = true;<br>            }<br>            return false;<br>        },<br>true – 有重复值</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">数组对象</span><br></pre></td></tr></table></figure>
<p>isRepeat(arr) {<br>      for (var i = 0; i &lt; arr.length - 1; i++) {<br>        for (var j = i + 1; j &lt; arr.length; j++) {<br>          if (arr[i].sn === arr[j].sn) {<br>            this.repeatSn=arr[i].sn;<br>            return false;<br>          }<br>        }<br>      }<br>      return true;<br>    },<br>false – 有重复值</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 返回数字数组中的最大值（一个或多个）</span><br></pre></td></tr></table></figure>
<p>const maxElementsFromArray = (array, len = 1) =&gt; […array].sort((x, y) =&gt; y - x).slice(0, len);</p>
<p>maxElementsFromArray([1, 2, 3, 4, 5]); // [5]<br>maxElementsFromArray([7, 8, 9, 10, 10], 2); // [10, 10]</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 论如何优雅的取随机字符串</span><br></pre></td></tr></table></figure>
<p>Math.random().toString(16).substring(2) // 13位<br>Math.random().toString(36).substring(2) // 11位</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 如何优雅的实现金钱格式化</span><br><span class="line"></span><br><span class="line">用正则魔法实现：</span><br></pre></td></tr></table></figure>
<p>var test1 = ‘1234567890’<br>var format = test1.replace(/\B(?=(\d{3})+(?!\d))/g, ‘,’)<br>console.log(format) // 1,234,567,890</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">非正则的优雅实现：</span><br></pre></td></tr></table></figure>
<p> function formatCash(str) {<br>       return str.split(‘’).reverse().reduce((prev, next, index) =&gt; {<br>            return ((index % 3) ? next : (next + ‘,’)) + prev<br>       })<br>}<br>console.log(formatCash(‘1234567890’)) // 1,234,567,890</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 论如何最佳的让两个整数交换数值</span><br></pre></td></tr></table></figure>
<p>a ^= b;<br>b ^= a;<br>a ^= b;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 用最短的代码实现一个长度为m(6)且值都n(8)的数组</span><br></pre></td></tr></table></figure>
<p>Array(6).fill(8)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 短路表达式</span><br></pre></td></tr></table></figure>
<p>var a = b &amp;&amp; 1<br>    // 相当于<br>if (b) {<br>    a = 1<br>} else {<br>    a = b<br>}<br>var a = b || 1<br>    // 相当于<br>if (b) {<br>    a = b<br>} else {<br>    a = 1<br>}</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### js提取字符串中的数字</span><br></pre></td></tr></table></figure>
<p>1.前面带数字,后面非数字,可以直接用parseFloat()函数:<br>var num1 = parseFloat(“2.89元”); //num1 : 2.89</p>
<p>2.像”生于1999年”这样字符串中只含有一个整型数值的字符串,直接使用正则表达式将数字的字符删除掉就行<br>var str1 = ‘生于1999年’;<br>var num1 = str1.replace(/[^\d]/g,’ ‘);</p>
<p>3.对于字符串中含有多数值,使用字符串的match方法,通过正则表达式提取字符串的所有数字(包含整数和小数):<br>var str=”1 plus 2 equal 3”<br>var arr=str.match(/\d+/g)<br>// arr: [‘1’,’2’,’3’]</p>
<p>var str = ‘大米:2.57斤/元,白菜:3.65元/斤’;<br>var arr = str.match(/\d+(.\d+)?/g);<br>// arr: [“2.75”,”3.65”]</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 类型转换那些事</span><br></pre></td></tr></table></figure>
<p>Number(‘324abc’) // NaN<br>只要有一个字符无法转成数值，整个字符串就会被转为NaN</p>
<p>parseInt(‘32a3’) //32<br>逐个解析字符，遇到不能转换的字符就停下来</p>
<p>//对象<br>String({a: 1}) // “[object Object]”<br>String([1, 2, 3]) // “1,2,3”</p>
<p>Boolean(new Boolean(false)) //true</p>
<p>自动转换为布尔值<br>在需要布尔值的地方，就会将非布尔值的参数自动转为布尔值，系统内部会调用Boolean函数<br>可以得出个小结：<br>undefined<br>null<br>false<br>+0<br>-0<br>NaN<br>“”<br>除了上面几种会被转化成false，其他都换被转化成true</p>
<p>自动转换成字符串<br>遇到预期为字符串的地方，就会将非字符串的值自动转为字符串<br>具体规则是：先将复合类型的值转为原始类型的值，再将原始类型的值转为字符串<br>常发生在+运算中，一旦存在字符串，则会进行字符串拼接操作<br>‘5’ + 1 // ‘51’<br>‘5’ + true // “5true”<br>‘5’ + false // “5false”<br>‘5’ + {} // “5[object Object]”<br>‘5’ + [] // “5”<br>‘5’ + function (){} // “5function (){}”<br>‘5’ + undefined // “5undefined”<br>‘5’ + null // “5null”</p>
<p>自动转换成数值<br>除了+有可能把运算子转为字符串，其他运算符都会把运算子自动转成数值<br>‘5’ - ‘2’ // 3<br>‘5’ * ‘2’ // 10<br>true - 1  // 0<br>false - 1 // -1<br>‘1’ - 1   // 0<br>‘5’ * []    // 0<br>false / ‘5’ // 0<br>‘abc’ - 1   // NaN<br>null + 1 // 1<br>undefined + 1 // NaN<br>null转为数值时，值为0 。undefined转为数值时，值为NaN</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 对于如何替换JS字符串中匹配到多处中某一指定节点</span><br></pre></td></tr></table></figure>
<p>const str =”这是主体内容，有很多内容，喜欢看这个内容就关注吧”;<br>const reg = new RegExp(‘内容‘, ‘g‘);<br>let ret;<br>const arr=[];<br>while((ret = reg.exec(str))!==null) {<br>    arr.push({id:ret.index,content:ret.input})<br>}<br>const replaceStr = (strs, index, text,len) =&gt; {<br>    return strs.substring(0, index) + text + strs.substring(index + len);<br>};<br> // 替换文本的第三处“内容”为 “文章”<br>const newVal= replaceStr(str, arr[2].id, ‘文章‘,2);<br>console.log(newVal)  // 这是主体内容，有很多内容，喜欢看这个文章就关注吧</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 打字机动画</span><br></pre></td></tr></table></figure>
<p>(function () {<br>  const container = document.getElementById(‘content’)<br>  const data = ‘与 setTimeout 相比，requestAnimationFrame 最大的优势是 由系统来决定回调函数的执行时机。具体一点讲就是，系统每次绘制之前会主动调用 requestAnimationFrame 中的回调函数，如果系统绘制率是 60Hz，那么回调函数就每16.7ms 被执行一次，如果绘制频率是75Hz，那么这个间隔时间就变成了 1000/75=13.3ms。换句话说就是，requestAnimationFrame 的执行步伐跟着系统的绘制频率走。它能保证回调函数在屏幕每一次的绘制间隔中只被执行一次，这样就不会引起丢帧现象，也不会导致动画出现卡顿的问题。’.split(‘’)<br>  let index = 0<br>  function writing() {<br>        if (index &lt; data.length) {<br>          container.innerHTML += data[index++]<br>          window.requestAnimationFrame(writing)<br>          //减慢速度<br>          setTimeout(() =&gt; {<br>            window.requestAnimationFrame(writing)<br>          }, 200);<br>          //<br>      }<br>  }<br>      writing()<br>})();</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 小技巧</span><br></pre></td></tr></table></figure>
<ol>
<li><p>交换两个变量<br>[x, y] = [y, x];</p>
</li>
<li><p>多条件检查<br>if ([1, ‘one’, 2, ‘two’].indexOf(value) &gt;= 0) {<br> // Execute some code<br>}</p>
</li>
</ol>
<p>if ([1, ‘one’, 2, ‘two’].includes(value)) {<br>    // Execute some code<br>}</p>
<ol start="3">
<li><p>对象属性复制<br>let firstname = ‘Amitav’;<br>let lastname = ‘Mishra’;<br>let obj = {firstname, lastname};</p>
</li>
<li><p>重复一个字符串多次<br>‘sorry\n’.repeat(100);</p>
</li>
<li><p>指数幂<br>const power = 4**3</p>
</li>
<li><p>双非位运算符 (<del>)<br>const floor = ~</del>6.8;</p>
</li>
</ol>
<p>7.找出数组中的最大和最小数字<br>const arr = [2, 8, 15, 4];<br>Math.max(…arr); // 15<br>Math.min(…arr); // 2</p>
<p>8.深拷贝多级对象<br>let obj = {x: 20, y: {z: 30}};<br>//Longhand<br>const makeDeepClone = (obj) =&gt; {<br>  let newObject = {};<br>  Object.keys(obj).map(key =&gt; {<br>    if(typeof obj[key] === ‘object’){<br>      newObject[key] = makeDeepClone(obj[key]);<br>    } else {<br>      newObject[key] = obj[key];<br>    }<br>  });<br> return newObject;<br>}<br>const cloneObj = makeDeepClone(obj);</p>
<p>//Shorthand<br>const cloneObj = JSON.parse(JSON.stringify(obj));</p>
<p>//Shorthand for single level object<br>let obj = {x: 20, y: ‘hello’};<br>const cloneObj = {…obj};</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### !!</span><br></pre></td></tr></table></figure>
<p>如何把一个任意类型的值转换为布尔类型？<br>用！！ 一个！是取非 再一个！又取非 相当于把这个数据转换为boolen类型了</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 数阶乘</span><br></pre></td></tr></table></figure>
<p>const factorialOfNumber = number =&gt;<br>  number &lt; 0<br>    ? (() =&gt; {<br>      throw new TypeError(‘No negative numbers please’);<br>    })()<br>    : number &lt;= 1<br>      ? 1<br>      : number * factorialOfNumber(number - 1);</p>
<p>factorialOfNumber(4); // 24</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 整数转数组</span><br></pre></td></tr></table></figure>
<p>const convertToArray = number =&gt; […<code>${number}</code>].map(el =&gt; parseInt(el))</p>
<p>convertToArray(5678); // [5, 6, 7, 8]</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 检查是否为2的幂数</span><br></pre></td></tr></table></figure>
<p>const isNumberPowerOfTwo = number =&gt; !!number &amp;&amp; (number &amp; (number - 1)) === 0;</p>
<p>isNumberPowerOfTwo(100); // false<br>isNumberPowerOfTwo(128); // true</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 生成一个0-999顺序的列表</span><br></pre></td></tr></table></figure>
<p>Array.from({ length: 1000 }, (v, i) =&gt; i)<br>// [0, 1, 2, 3, 4, 5, 6….999]</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### RGB→转换为十六进制</span><br></pre></td></tr></table></figure>
<p>var rgb2hex = (r, g, b) =&gt; {<br>    return ‘#’+ ((1&lt;&lt;24)+(r&lt;&lt;16)+(g&lt;&lt;8)+b)<br>    .toString(16)//转成16进制，返回字符串<br>    .substr(1);//去除字符串的最高位，返回后面六个字符串<br>}<br>var rgb2hex = (r, g, b) =&gt; ‘#’+ ((1&lt;&lt;24)+(r&lt;&lt;16)+(g&lt;&lt;8)+b).toString(16).substr(1);<br>rgb2hex(76, 11, 181);</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 转换十六进制→RGB</span><br></pre></td></tr></table></figure>
<p>const hex2rgb = hex =&gt; [1, 3, 5].map((h) =&gt; parseInt(hex.substring(h, h + 2), 16));</p>
<p>hex2rgb(“#4c0bb5”);<br>// [76, 11, 181]</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">## vue全局防抖和节流</span><br></pre></td></tr></table></figure>
<p>// 防抖处理-立即执行<br>const on = Vue.prototype.$on<br>Vue.prototype.$on = function (event, func) {<br>  let timer;<br>  let flag = true;<br>  let newFunc = func<br>  if (event == ‘click’) {<br>    newFunc = function () {<br>      if(flag) {<br>        func.apply(this, arguments)<br>        flag = false<br>      }<br>      clearTimeout(timer)<br>      timer = setTimeout(function () {<br>        flag = true<br>      }, 500)<br>    }<br>  }<br>  on.call(this, event, newFunc)<br>}</p>
<p>// 防抖处理 – 最后执行<br>const on = Vue.prototype.$on<br>Vue.prototype.$on = function (event, func) {<br>  let timer<br>  let newFunc = func<br>  if (event === ‘click’) {<br>    newFunc = function () {<br>      clearTimeout(timer)<br>      timer = setTimeout(function () {<br>        func.apply(this, arguments)<br>      }, 500)<br>    }<br>  }<br>  on.call(this, event, newFunc)<br>}</p>
<p>// 节流<br>const on = Vue.prototype.$on<br>Vue.prototype.$on = function (event, func) {<br>  let previous = 0<br>  let newFunc = func<br>  if (event === ‘click’) {<br>    newFunc = function () {<br>      const now = new Date().getTime()<br>      if (previous + 1000 &lt;= now) {<br>        func.apply(this, arguments)<br>        previous = now<br>      }<br>    }<br>  }<br>  on.call(this, event, newFunc)<br>}</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">## 支持webp格式图片</span><br><span class="line"></span><br><span class="line">npm install file-loader</span><br></pre></td></tr></table></figure>
<p>rules中新增</p>
<p>{<br>                test: /.webp$/,<br>                use: [<br>                    {<br>                        loader: ‘file-loader’,<br>                        query: {<br>                            limit: 10000,<br>                            name: utils.assetsPath(‘img/[name].[hash:7].[ext]’)<br>                        }<br>                    }<br>                ]<br>}</p>
<p>服务器可能不支持webp格式图片，做了拦截<br>原来是服务器上面不能解析webp，自己在百度上面上找到了方法解决，在iis的MIME类型中中添加webp</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">## 标签中src循环图片</span><br></pre></td></tr></table></figure>
<img :src="require('../../../static/imgs/board/'+item.url+'.png')" style="width:36px">
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">## 禁止蒙层底部页面跟随滚动</span><br><span class="line"></span><br><span class="line">将页面固定视窗后，内容会回头最顶端，这里我们需要记录一下，同步top值。</span><br></pre></td></tr></table></figure>
let bodyEl = document.body
let top = 0
data() {
    return {
        isFixed: true
    }
},
watch: {
    isFixed() {
        this.stopBodyScroll();
    }
},

<p>function stopBodyScroll (isFixed) {<br>  if (this.isFixed) {<br>    top = window.scrollY<br>    bodyEl.style.position = ‘fixed’<br>    bodyEl.style.top = -top + ‘px’<br>  } else {<br>    bodyEl.style.position = ‘’<br>    bodyEl.style.top = ‘’<br>    window.scrollTo(0, top) // 回到原先的top<br>  }<br>}</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">## css</span><br><span class="line"></span><br><span class="line">css文字超出显示省略号</span><br><span class="line"></span><br><span class="line">### 单号：</span><br></pre></td></tr></table></figure>
<p>white-space:nowrap;<br>overflow:hidden;<br>text-overflow:ellipsis;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### 多行：</span><br></pre></td></tr></table></figure>
<p>word-break: break-all;<br>text-overflow: ellipsis;<br>overflow: hidden;<br>display: -webkit-box;<br>-webkit-line-clamp: 2;<br>-webkit-box-orient: vertical;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 移动端0.5px</span><br></pre></td></tr></table></figure>
<p>/* 底边框 */<br>.b-border {<br>  position: relative;<br>}<br>.b-border:before {<br>  content: ‘’;<br>  position: absolute;<br>  left: 0;<br>  bottom: 0;<br>  width: 100%;<br>  height: 1px;<br>  background: #d9d9d9;<br>  -webkit-transform: scaleY(0.5);<br>  transform: scaleY(0.5);<br>  -webkit-transform-origin: 0 0;<br>  transform-origin: 0 0;<br>}</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### 文字和图片的模糊效果</span><br></pre></td></tr></table></figure>
<p>文字<br>{<br>color: transparent;<br>text-shadow: #111 0 0 5px;<br>}</p>
<p>图片<br>{filter: blur(10px);}</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 多重边框</span><br></pre></td></tr></table></figure>
<p>div {<br>    box-shadow: 0 0 0 6px rgba(0, 0, 0, 0.2), 0 0 0 12px rgba(0, 0, 0, 0.2), 0 0 0 18px rgba(0, 0, 0, 0.2), 0 0 0 24px rgba(0, 0, 0, 0.2);<br>    height: 200px;<br>    margin: 50px auto;<br>    width: 400px<br>}</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">![图片](https:&#x2F;&#x2F;mmbiz.qpic.cn&#x2F;mmbiz_png&#x2F;JIv7z1kbomC1q64N8lmP3G4pmFoVadU1pJSIJvFyqr5aGADc7ibWE0lKAibtUG9bicIMWSCBVd5icJyssbG2JiahpLQ&#x2F;640?wx_fmt&#x3D;png&amp;tp&#x3D;webp&amp;wxfrom&#x3D;5&amp;wx_lazy&#x3D;1&amp;wx_co&#x3D;1)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 不用使用:last-child()&#123;border:none&#125;技巧</span><br></pre></td></tr></table></figure>
<p>ul {<br>    width: 200px;<br>    margin: auto;<br>    list-style: none;<br>    padding: 0;<br>    border: 1px solid red;<br>    text-align: center;<br>}</p>
<p>li + li {<br>    border-top: 1px solid red;<br>}</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">![image-20210326143420979](vue之seekcy开发历程记录1.assets&#x2F;image-20210326143420979.png)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 瀑布流布局</span><br></pre></td></tr></table></figure>
<p>html<br><template><br>    <div class="waterfall"><br>        <div v-for="(item,index) in 20" :style="{height:heights[Math.floor(Math.random()*4)] + 'px',background:colors[Math.floor(Math.random()*12)]}" :key="index"><br>            <br>        </div><br>    </div><br></template></p>
<p>js<br>data() {<br>        return {<br>            //模拟随机高度<br>            heights: [200, 250, 150, 300],<br>            //颜色尽量随机,区别每个模块<br>            colors: [‘#eccf2c’, ‘#b8232c’, ‘#125d9e’, ‘#367945’, ‘#fca91b’, ‘#26ada7’, ‘#77bfbf’, ‘#ff5c87’,<br>                ‘#f40’, ‘#ee2061’, ‘#feee39’, ‘#f5a79a’, ‘#ec70d0’, ‘#b4a1cf’]<br>        }<br>}</p>
<p>css<br>.waterfall {<br>    width: 400px;<br>    margin: 0 auto;<br>    column-count: 3;<br>    column-gap: 10px;<br>}<br>.waterfall &gt; div {<br>    break-inside: avoid;<br>}</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### pointer-events属性</span><br><span class="line"></span><br><span class="line">pointer-events是css3的一个属性，指定在什么情况下元素可以成为鼠标事件的target（包括鼠标的样式）</span><br><span class="line"></span><br><span class="line">属性值：</span><br><span class="line"></span><br><span class="line">- auto——效果和没有定义pointer-events属性相同，鼠标不会穿透当前层。在SVG中，该值和visiblePainted的效果相同。</span><br><span class="line">- none——元素永远不会成为鼠标事件的[target](https:&#x2F;&#x2F;developer.mozilla.org&#x2F;en-US&#x2F;docs&#x2F;Web&#x2F;API&#x2F;event.target)（目标）。但是，当其后代元素的&#96;pointer-events&#96;属性指定其他值时，鼠标事件可以指向后代元素，在这种情况下，鼠标事件将在捕获或冒泡阶段触发父元素的事件侦听器。实际上默  认就可以穿透当前层，因为pointer-events默认为auto</span><br></pre></td></tr></table></figure>
<p>案例一：禁用 a 标签事件效果</p>
<p>在做 tab 切换的时候，当选中当前项，禁用当前标签的事件，只有切换其他 tab 的时候，才重新请求新的数据。</p>
 <!--CSS-->
 <style>
     .active{
         pointer-events: none;
     }
 </style>
 <!--HTML-->
 <ul>
     <li><a class="tab"></a></li>
     <li><a class="tab active"></a></li>
     <li><a class="tab"></a></li>
 </ul>复制代码


<p>案例二：切换开/关按钮状态</p>
<p>点击提交按钮的时候，为了防止用户一直点击按钮，发送请求，当请求未返回结果之前，给按钮增加 pointer-events: none，可以防止这种情况，这种情况在业务中也十分常见。</p>
 <!--CSS-->
<p>.j-pro{ pointer-events: none; }</p>
<!--HTML-->
<p>&lt;button r-model={this.submit()} r-class={“j-pro”: flag}&gt;提交</p>
<!--JS-->
<p>submit: function(){<br>　　this.data.flag = true;<br>　　this.$request(url, {<br>　　　　// … onload: function(json){<br>　　　　　　　　if(json.retCode == 200){<br>　　　　　　　　　　this.data.flag = false;<br>　　　　　　　　} }.bind(this)<br>　　　　// …<br>　　});<br>}<br>案例三：防止透明元素和可点击元素重叠不能点击</p>
<p>一些内容的展示区域，为了实现一些好看的 css 效果，当元素上方有其他元素遮盖，为了不影响下方元素的事件，给被遮盖的元素增加 pointer-events: none; 可以解决。</p>
 <!--CSS-->
<p>.layer{ backround: linear-gradient(180deg, #fff, transparent); }<br>.j-pro{ poninter-events: none; }</p>
<!--HTML-->
<ul>
　　<li class="layer j-pro"></li>
　　<li class="item"></li>
　　<li class="item"></li>
　　<li class="item"></li>
</ul>
参考
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 通过background:linear-gradient写矩形边角</span><br></pre></td></tr></table></figure>
.rect {
    position: absolute;
    width: 200px;
    height: 200px;
    background:
    linear-gradient(to left, red, red) left top no-repeat,
        linear-gradient(to bottom, red, red) left top no-repeat,
        linear-gradient(to left, red, red) right top no-repeat,
        linear-gradient(to bottom, red, red) right top no-repeat,
        linear-gradient(to left, red, red) left bottom no-repeat,
        linear-gradient(to bottom, red, red) left bottom no-repeat,
        linear-gradient(to left, red, red) right bottom no-repeat,
        linear-gradient(to left, red, red) right bottom no-repeat;
    background-size: 10px 40px, 40px 10px, 10px 40px, 40px 10px;
    background-color: #00ff00;
}

<p>scss的混合宏封装<br>@mixin four-corner($color,$width,$height,$bgcolor){<br>    background: linear-gradient(to left, $color, $color) left top no-repeat,<br>        linear-gradient(to bottom, $color, $color) left top no-repeat,<br>        linear-gradient(to left, $color, $color) right top no-repeat,<br>        linear-gradient(to bottom, $color, $color) right top no-repeat,<br>        linear-gradient(to left, $color, $color) left bottom no-repeat,<br>        linear-gradient(to bottom, $color, $color) left bottom no-repeat,<br>        linear-gradient(to left, $color, $color) right bottom no-repeat,<br>        linear-gradient(to left, $color, $color) right bottom no-repeat;<br>    background-size: $height $width, $width $height, $height $width, $width $height;<br>    background-color: $bgcolor;<br>}<br>.rect {<br>     @include four-corner(red,40px,10px,#00ff00);<br>    position: absolute;<br>    width: 200px;<br>    height: 200px;<br>}</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 滚动条的样式</span><br></pre></td></tr></table></figure>
<p>在app.vue中</p>
<p>::-webkit-scrollbar {<br>    width: 20px;//竖直方向的宽度，高度自适应<br>    height: 20px;//水平方向的高度，宽度自适应<br>}<br>::-webkit-scrollbar-thumb {<br>    border-radius: 20px;<br>    background:blue;<br>}<br>::-webkit-scrollbar-track {<br>    border-radius: 0;<br>    background:green;<br>}</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### transition(通过它简单控制css属性的动画效果)</span><br><span class="line"></span><br><span class="line">transition: *property duration timing-function delay*;</span><br><span class="line"></span><br><span class="line">| 值                                                           |                    描述                    |</span><br><span class="line">| :----------------------------------------------------------- | :----------------------------------------: |</span><br><span class="line">| *[transition-property](https:&#x2F;&#x2F;www.runoob.com&#x2F;cssref&#x2F;css3-pr-transition-property.html)* |     指定CSS属性的name，transition效果      |</span><br><span class="line">| *[transition-duration](https:&#x2F;&#x2F;www.runoob.com&#x2F;cssref&#x2F;css3-pr-transition-duration.html)* | transition效果需要指定多少秒或毫秒才能完成 |</span><br><span class="line">| *[transition-timing-function](https:&#x2F;&#x2F;www.runoob.com&#x2F;cssref&#x2F;css3-pr-transition-timing-function.html)* |        指定transition效果的转速曲线        |</span><br><span class="line">| *[transition-delay](https:&#x2F;&#x2F;www.runoob.com&#x2F;cssref&#x2F;css3-pr-transition-delay.html)* |        定义transition效果开始的时候        |</span><br></pre></td></tr></table></figure>
<p>.search{<br>    width:80px;<br>    height:40px;<br>    border-radius:40px;<br>    border:2px solid lightblue;<br>    position: absolute;<br>    right:200px;<br>    outline:none;<br>    text-indent:12px;<br>    color:#666;<br>    font-size:16px;<br>    padding:0;<br>    -webkit-transition:width 5s;<br>    -webkit-transition:height 5s;<br>    -webkit-transition:background-color 5s;<br>    -webkit-transition:color 5s;<br>    -webkit-transition:opacity 5s;<br>}<br>.search:focus{<br>    width:200px;<br>    height: 100px;<br>    background: red;<br>    color:blue;<br>    opacity: 0;<br>}</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 伪元素和伪类</span><br><span class="line"></span><br><span class="line">其中伪类和伪元素的根本区别在于：**它们是否创造了新的元素。**</span><br><span class="line"></span><br><span class="line">伪元素选择符</span><br><span class="line">![在这里插入图片描述](https:&#x2F;&#x2F;img-blog.csdnimg.cn&#x2F;2019052717580919.png?x-oss-process&#x3D;image&#x2F;watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI3Njc0NDM5,size_16,color_FFFFFF,t_70)</span><br><span class="line">伪类：存在DOM文档中，逻辑上存在但在文档树中却无须标识的“幽灵”分类。</span><br><span class="line"></span><br><span class="line">伪类选择符</span><br><span class="line"></span><br><span class="line">![在这里插入图片描述](https:&#x2F;&#x2F;img-blog.csdnimg.cn&#x2F;20190527175840224.png?x-oss-process&#x3D;image&#x2F;watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI3Njc0NDM5,size_16,color_FFFFFF,t_70)</span><br><span class="line"></span><br><span class="line">### 输入框光标的颜色</span><br></pre></td></tr></table></figure>
<p>caret-color: red;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### max() &#x2F; min()</span><br></pre></td></tr></table></figure>
<p>width: max(50vw, 300px);<br>width: min(50vw, 300px);<br>font-size:min(50vw, 300px);</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### clamp() [在定义的 三个值之间，取大小在中间的那个值]</span><br></pre></td></tr></table></figure>
<p>font-size: clamp(1px, 3px, 2px);    //中间值为2px<br>width: clamp(200rem, 25vw, 150px); //在这三个之间取中间值</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 卡券效果制作</span><br><span class="line"></span><br><span class="line">![image-20210311153400216](vue之seekcy开发历程记录1.assets&#x2F;image-20210311153400216.png)</span><br></pre></td></tr></table></figure>

<p class="coupon">
 <span>200</span>优惠券
</p>

<p>.coupon {<br> width: 300px;<br>  height: 100px;<br>  line-height: 100px;<br>  margin: 50px auto;<br>  text-align: center;<br>  position: relative;<br>  background: radial-gradient(circle at right bottom, transparent 10px, #ffffff 0) top right /50% 51px no-repeat,<br>  radial-gradient(circle at left bottom, transparent 10px, #ffffff 0) top left / 50% 51px no-repeat,<br>  radial-gradient(circle at right top, transparent 10px, #ffffff 0) bottom right / 50% 51px no-repeat,<br>  radial-gradient(circle at left top, transparent 10px, #ffffff 0) bottom left / 50% 51px no-repeat;<br>  filter: drop-shadow(2px 2px 2px rgba(0, 0, 0, .2));<br>}<br>.coupon span {<br>  display: inline-block;<br>  vertical-align: middle;<br>  margin-right: 10px;<br>  color: red;<br>  font-size: 50px;<br>  font-weight: 400;<br>}</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">![image-20210311154859537](vue之seekcy开发历程记录1.assets&#x2F;image-20210311154859537.png)</span><br></pre></td></tr></table></figure>
 <div class="quan clear">
            <div class="quanLeft">
                <p class="money">¥ 10</p>
                <p class="tit">美味立享折扣券</p>
                <p class="conts">无满额限制,立减折扣</p>
                <p class="dates">有效期: 2018.8.12 - 2019.8.12</p>
            </div>
            <div class="quanRight">
                <p class="ft">折扣券</p> 
                <p class="sd">官网使用</p>
            </div>
</div>

<p> .quan{<br>            position: relative;<br>            width: 96%;<br>            margin: 5% auto;<br>            padding: 6px;<br>            padding-right:0;<br>            box-sizing: border-box;<br>            background-color: #ff6347;<br>            color: #fff;<br>            background-image: radial-gradient(#fff 35%,#ff6374 35%);<br>            background-size: 17px 17px;<br>            background-position: -9px 0;<br>            background-repeat: repeat-y<br>        }</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">## HTML</span><br><span class="line"></span><br><span class="line">### 浏览器地址栏运行HTML代码</span><br></pre></td></tr></table></figure>
<p>data:text/html,</p><h1>Hello, everybody!</h1><p></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">![图片](https:&#x2F;&#x2F;mmbiz.qpic.cn&#x2F;mmbiz_png&#x2F;JIv7z1kbomC1q64N8lmP3G4pmFoVadU1tagUE9S7wlzyWOBQECxMjZnzia02PUfaMzFtMtLrOdqJcN5JcjZY6xQ&#x2F;640?wx_fmt&#x3D;png&amp;tp&#x3D;webp&amp;wxfrom&#x3D;5&amp;wx_lazy&#x3D;1&amp;wx_co&#x3D;1)</span><br><span class="line"></span><br><span class="line">### 浏览器秒变编辑器</span><br><span class="line"></span><br><span class="line">这个还是在浏览器地址栏上面做文章，将以下代码复制粘贴到浏览器地址栏，运行后浏览器就变成了一个原始简单的编辑器，和window自带的notepad差不多，长见识了吧，话不多说，我们来试试。</span><br></pre></td></tr></table></figure>
<p>data:text/html, <html contenteditable></html></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">![图片](https:&#x2F;&#x2F;mmbiz.qpic.cn&#x2F;mmbiz_gif&#x2F;JIv7z1kbomC1q64N8lmP3G4pmFoVadU1ZHrg2H3oiaF6Ffu76rlWyTSQwM8BHRyAZRy3o1fMpiaqnqibia5DEewxfQ&#x2F;640?wx_fmt&#x3D;gif&amp;tp&#x3D;webp&amp;wxfrom&#x3D;5&amp;wx_lazy&#x3D;1)</span><br><span class="line"></span><br><span class="line">&gt; 归根结底多亏了HTML5中新加的&#96;contenteditable&#96;属性，当元素指定了该属性后，元素的内容成为可编辑状态。</span><br><span class="line"></span><br><span class="line">### 在控制台执行以下代码，将整个页面变得可以编辑。</span><br></pre></td></tr></table></figure>
<p>document.body.contentEditable=’true’;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">![图片](https:&#x2F;&#x2F;mmbiz.qpic.cn&#x2F;mmbiz_gif&#x2F;JIv7z1kbomC1q64N8lmP3G4pmFoVadU11PG17MIGs0MCvicic605XN3OJ7zekILOKsKkg32UcomztFUKoWLZ9xnQ&#x2F;640?wx_fmt&#x3D;gif&amp;tp&#x3D;webp&amp;wxfrom&#x3D;5&amp;wx_lazy&#x3D;1)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">## watch</span><br><span class="line"></span><br><span class="line">#### echarts数据更新页面不更新</span><br><span class="line"></span><br><span class="line">深度监听对象数组</span><br></pre></td></tr></table></figure>
<p>watch: {<br>//监听对象数组的变化<br>bet: {<br>　　　　handler(newValue, oldValue) {<br>　　　　　　console.log(newValue)<br>　　　　},<br>　　　　deep: true<br>　　},<br>//深拷贝<br>　　winChips: {<br>　　　　handler(newValue, oldValue) {<br>　　　　　　for (let i = 0; i &lt; newValue.length; i++) {<br>　　　　　　　　if (oldValue[i] != newValue[i]) {<br>　　　　　　　　　　console.log(newValue)<br>　　　　　　　　}<br>　　　　　　}<br>　　　　},<br>　　　　deep: true<br>　　}<br>}</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">## Promise(C 依赖 B 的结果，D 依赖 ABC 的结果，最终输出 D 的结果)</span><br></pre></td></tr></table></figure>
<p>function A() {<br>    return new Promise(r =&gt; {<br>        let timeObj = setTimeout(() =&gt; {<br>            console.log(‘AAAAAAAAA’);<br>            clearTimeout(timeObj);<br>            r(“a”)<br>        }, 2000);<br>    })<br>}<br>function B() {<br>    return new Promise(r =&gt; {<br>        let timeObj = setTimeout(() =&gt; {<br>            console.log(‘BBBBBBBBBBBB’);<br>            clearTimeout(timeObj)<br>            r(“b”)<br>        }, 2000);<br>    })<br>}<br>function C() {<br>    return new Promise(r =&gt; {<br>        let timeObj = setTimeout(() =&gt; {<br>            console.log(‘CCCCCCCCCCCC’);<br>            clearTimeout(timeObj)<br>            r(“c”)<br>        }, 2000);<br>    })<br>}<br>function D() {<br>    return new Promise(r =&gt; {<br>        let timeObj = setTimeout(() =&gt; {<br>            console.log(‘DDDDDDDDDDDDDD’);<br>            clearTimeout(timeObj)<br>            r(“d1321231”)<br>        }, 2000);<br>    })<br>}<br>async function asyncBC() {<br>    const resb = await B();<br>    const resc = await C(resb);<br>    return {resb,resc}<br>}<br>async function asyncTask() {<br>    const [resa,{resb,resc}]=await Promise.all([A(),asyncBC()])<br>    const resd=await D(resa,resb,resc)<br>    return resd<br>}<br>asyncTask().then(resd=&gt;{<br>    console.log(‘this is D result’,resd);</p>
<p>})</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">## Axios</span><br><span class="line"></span><br><span class="line">Form Data 和 Request Payload 区别</span><br><span class="line"></span><br><span class="line">1. 设置Content-Type: application&#x2F;x-www-form-urlencoded，那么这个请求被认为是表单请求，参数出现在Form Data里，格式为key&#x3D;value&amp;key&#x3D;value&amp;key&#x3D;value…,请求参数应为json对象。</span><br><span class="line">2. 设置Content-Type:application&#x2F;json，或者使用默认的请求头Content-Type:text&#x2F;plain;参数会显示在Request payload块里提交。请求参数应为字符串。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">qs.stringify和json.stringify区别</span><br></pre></td></tr></table></figure>
<p>var a = {name:’hehe’,age:10};<br> qs.stringify(a)<br>// ‘name=hehe&amp;age=10’<br>JSON.stringify(a)<br>// ‘{“name”:”hehe”,”age”:10}’</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">qs.parse()</span><br></pre></td></tr></table></figure>
<p>let url = ‘method=query_sql_dataset_data&amp;projectId=85&amp;appToken=7d22e38e-5717-11e7-907b-a6006ad3dba0’;<br>qs.parse(url);<br>{<br>method:query_sql_dataset_data,<br>projectId:85,<br>appToken:7d22e38e-5717-11e7-907b-a6006ad3dba0<br>}</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">## 结合axiso，elementUI全局loading（部分接口不请求配置）</span><br></pre></td></tr></table></figure>

<p>import axios from ‘axios’;<br>import { Message, Loading } from ‘element-ui’;</p>
<p>// import store from ‘../store’;<br>import qs from ‘qs’;<br>import router from ‘../router’</p>
<p>//全局loading在请求接口时出现，结束时消失<br>let loading;<br>let loadingNum = 0;<br>//开始loading<br>function startLoading() {<br>    if (loadingNum == 0) {<br>        loading = Loading.service({<br>            lock: true,<br>              text: ‘Loading’,<br>              spinner: ‘el-icon-loading’,<br>              background: ‘rgba(0, 0, 0, 0.7)’,<br>              //target: document.querySelector(‘.div1’)<br>        })<br>    }<br>    loadingNum++;<br>}</p>
<p>//结束loading<br>function endLoading() {<br>    loading.close()<br>}</p>
<p>function tryHideLoading() {<br>    if (loadingNum &lt;= 0) return<br>    loadingNum–<br>    if (loadingNum === 0) {<br>        setInterval(() =&gt; {<br>            endLoading()<br>        }, 500);<br>    }<br>}</p>
<p>// 创建axios实例<br>const http = axios.create({<br>    baseURL: ‘/vital-signs/‘,<br>    timeout: 600000,                  // 请求超时时间<br>    transformRequest: obj =&gt; qs.stringify(obj)<br>    // headers: { ‘Content-Type’: ‘application/json’ }<br>});</p>
<p>// request拦截器<br>http.interceptors.request.use(<br>    config =&gt; {<br>        if (config.headers.showLoading !== false) {<br>            startLoading();<br>        }<br>        if (!sessionStorage.getItem(‘token’) &amp;&amp; config.url.indexOf(“login”) == -1) {<br>            Message({<br>                message: “登录信息失效，请重新登录”,<br>                type: ‘error’<br>            });<br>            if (config.url.indexOf(“loginAuto”)!=-1){<br>              return<br>          }<br>            setTimeout(() =&gt; {<br>                router.replace(‘/login’)<br>                location.reload()<br>            }, 2000);<br>        }<br>        config.headers.Authorization = “Bearer “ + sessionStorage.getItem(‘token’);<br>        config.headers.buildId = sessionStorage.getItem(“buildId”) || “200036”;<br>        config.headers.deptId = localStorage.getItem(“departmentId”)<br>        return config;<br>    },<br>    error =&gt; {<br>        tryHideLoading();<br>        Promise.reject(error);<br>    }<br>)</p>
<p>// respone拦截器<br>http.interceptors.response.use(<br>    response =&gt; {<br>        tryHideLoading();<br>        if (response.data.code === 0) {<br>            // console.dir(response);<br>            return Promise.resolve(response);<br>        } else {<br>            Message({<br>                message: response.data.msg,<br>                type: ‘error’,<br>            });<br>            return Promise.reject(response);<br>            // return Promise.resolve(response);<br>        }<br>    },<br>    error =&gt; {<br>        tryHideLoading();<br>        console.dir(error);// for debug<br>        if (error.response) {<br>            if (error.response.status == ‘401’&amp;&amp;sessionStorage.getItem(‘token’)) {<br>                Message({<br>                    message: error.response.data.msg,<br>                    type: ‘error’<br>                });<br>                setTimeout(() =&gt; {<br>                    router.push({ path: “/login” })<br>                }, 3000);</p>
<pre><code>            return;
        } else if (error.response.status == 500) {
            Message({
                message: error.response.data.error,
                type: &apos;error&apos;
            });
        }
    } else {
        let msg = &apos;服务器请求出错&apos;;
        if (error.message.indexOf(&apos;timeout&apos;) !== -1) {
            msg = &apos;请求超时&apos;;
        } else if (error.message.indexOf(&apos;Network Error&apos;) !== -1) {
            msg = &apos;网络出错&apos;;
        }

    }
    return Promise.reject(error);
}</code></pre><p>)</p>
<p>http.postJson = (path, params) =&gt; http({</p>
<pre><code>url: path,
method: &apos;post&apos;,
data: addparams(params),
transformRequest: obj =&gt; JSON.stringify(obj),
headers: { &apos;Content-Type&apos;: &apos;application/json&apos; }</code></pre><p>})</p>
<p>http.put = (path, params) =&gt; http({<br>    url: path,<br>    method: ‘put’,<br>    data: addparams(params),<br>    transformRequest: obj =&gt; JSON.stringify(obj),<br>    headers: { ‘Content-Type’: ‘application/json’ }<br>})</p>
<p>http.uploadFile = (path, params) =&gt; http({<br>    url: path,<br>    method: ‘post’,<br>    data: { file: params.file },<br>    transformRequest: (obj) =&gt; {</p>
<pre><code>},
headers: {
    &apos;Content-Type&apos;: &apos;application/x-www-form-urlencoded&apos;,
    &apos;Authorization&apos;: &quot;Bearer &quot; + sessionStorage.getItem(&apos;token&apos;),
    &apos;buildId&apos;: &quot;200036&quot;
}</code></pre><p>})</p>
<p>http.login = (path, params) =&gt; http({</p>
<pre><code>url: path,
method: &apos;post&apos;,
data: params,


transformRequest: obj =&gt; JSON.stringify(obj),
headers: { &apos;Content-Type&apos;: &apos;application/json&apos; }</code></pre><p>})</p>
<p>function addparams(params) {<br>    //数组不转换<br>    if (params instanceof Array) {<br>        return params<br>    } else if (params instanceof Object){<br>        const pp = {<br>            // timestamp: Date.parse(new Date()) / 1000<br>        }<br>        return Object.assign(pp, params);<br>    }<br>}</p>
<p>/<em>备注：使用create重置过后无法使用all、spread、Cancel、CancelToken、isCancel等方法/,只需要加上一行代码，但以下代码无法在eslint模式下使用，因为在eslint里是不允许对<strong>proto</strong>进行重新赋值的。</em>/</p>
<p>/* eslint-disable no-proto <em>/<br>http.<strong>proto</strong> = axios<br>/</em> eslint-enable */</p>
<p>export default http;</p>
<p>.vue<br>get请求<br> this.$http.get(‘/alarm/getNumOfAlarm/‘,{headers:{showLoading:false},params:{id:id}})<br>                .then(res =&gt; {<br>                    this.remindCount = res.data.data;<br>                })<br> post请求<br>this.$http.post(‘/alarm/getNumOfAlarm/‘,{id:id},{headers:{showLoading:false}})<br>                .then(res =&gt; {<br>                    this.remindCount = res.data.data;<br>                })</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">参考链接</span><br><span class="line"></span><br><span class="line">https:&#x2F;&#x2F;blog.csdn.net&#x2F;lianzhang861&#x2F;article&#x2F;details&#x2F;100019049</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">## 后端要求只传数组，不需要参数名？</span><br><span class="line"></span><br><span class="line">&#96;</span><br></pre></td></tr></table></figure>
<p>在封装好的axios中<br>function addparams(params) {<br>    //数组不转换<br>    if (params instanceof Array) {<br>        return params<br>    } else if (params instanceof Object){<br>    //添加默认参数<br>       const pp = {<br>            clientVersion: ‘1.0’,<br>            sign: ‘string’,<br>            signType: ‘string’,<br>            timestamp: Date.parse(new Date()) / 1000<br>        }<br>        return Object.assign(pp, params);<br>    }<br>}</p>
<p>//使用<br>this.axios.postJson(‘/api/js/stream/streamBreath/‘,  [‘baby_care__11__@<strong>hik</strong>live__null’, ‘baby_care__12__@<strong>dahua</strong>live__null’])<br>    .then(res =&gt; {</p>
<p>})</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">## 增加token和默认参数</span><br></pre></td></tr></table></figure>
<p>service.interceptors.request.use(<br>    config =&gt; {<br>        if (getToken()) {<br>            config.headers[‘X-Auth-Token’] = getToken(); // 让每个请求携带自定义token 请根据实际情况自行修改<br>        }</p>
<pre><code>    if (!config.noparams) {
        if (getBuildInfo()) {
            if (config.method === &apos;post&apos;) {
                console.log(config.data, &apos;post的config.data&apos;);
                config.data = {
                    username: getUserInfo() ? getUserInfo().username : &apos;&apos;,
                    buildId: getBuildInfo() ? getBuildInfo().buildid : &apos;&apos;,
                    ...config.data
                }
                config.params = {
                    username: getUserInfo() ? getUserInfo().username : &apos;&apos;,
                    buildId: getBuildInfo() ? getBuildInfo().buildid : &apos;&apos;
                }
            } else if (config.method === &apos;get&apos;) {
                config.params = {
                    username: getUserInfo() ? getUserInfo().username : &apos;&apos;,
                    buildId: getBuildInfo() ? getBuildInfo().buildid : &apos;&apos;,
                    ...config.params
                }
            }
        }
    }
    return config;
},
error =&gt; {
    // Do something with request error
    console.log(error); // for debug
    Promise.reject(error);
}</code></pre><p>)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">## fetch.js的使用简述</span><br><span class="line"></span><br><span class="line">### 两个参数</span><br><span class="line"></span><br><span class="line">1. 第一个参数是 URL 地址</span><br><span class="line">2. 第二个参数是请求的配置信息，包含headers、请求类型（GET&#x2F;POST）、是否跨域等信息</span><br><span class="line"></span><br><span class="line">### 参数说明</span><br><span class="line"></span><br><span class="line">&#96;&#96;&#96;js</span><br><span class="line">fetch(url, &#123;</span><br><span class="line">	body: JSON.stringify(data), &#x2F;&#x2F; must match &#39;Content-Type&#39; header</span><br><span class="line">	cache: &quot;no-cache&quot;, &#x2F;&#x2F; *default, no-cache, reload, force-cache, only-if-cached</span><br><span class="line">	credentials: &quot;same-origin&quot;, &#x2F;&#x2F; include, same-origin, *omit</span><br><span class="line">	headers: &#123;</span><br><span class="line">		&quot;user-agent&quot;: &quot;Mozilla&#x2F;4.0 MDN Example&quot;,</span><br><span class="line">		&quot;content-type&quot;: &quot;application&#x2F;json&quot;</span><br><span class="line">	&#125;,</span><br><span class="line">	method: &quot;POST&quot;, &#x2F;&#x2F; *GET, POST, PUT, DELETE, etc.</span><br><span class="line">	mode: &quot;cors&quot;, &#x2F;&#x2F; no-cors, cors, *same-origin</span><br><span class="line">	redirect: &quot;follow&quot;, &#x2F;&#x2F; manual, *follow, error</span><br><span class="line">	referrer: &quot;no-referrer&quot; &#x2F;&#x2F; *client, no-referrer</span><br><span class="line">	&#125;)</span><br><span class="line">	.then(response &#x3D;&gt; response.json()) &#x2F;&#x2F; parses response to JSON</span><br><span class="line">	.then(function(myJson) &#123;</span><br><span class="line">		console.log(myJson);</span><br><span class="line">	&#125;);</span><br></pre></td></tr></table></figure>



<h2 id="设置elementUI的Message的全局默认属性"><a href="#设置elementUI的Message的全局默认属性" class="headerlink" title="设置elementUI的Message的全局默认属性"></a>设置elementUI的Message的全局默认属性</h2><p>main.js</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Vue.prototype.Message &#x3D; function (obj) &#123;</span><br><span class="line">    ElementUI.Message(&#123;</span><br><span class="line">        message: obj.message,</span><br><span class="line">        type:obj.type,</span><br><span class="line">        showClose: true</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>plus:消息框多次弹窗解决</p>
<h2 id="全局filters"><a href="#全局filters" class="headerlink" title="全局filters"></a>全局filters</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">新建filters&#x2F;index.js</span><br><span class="line"></span><br><span class="line">const isNullOrEmpty &#x3D; function(val) &#123;</span><br><span class="line">    if (val &#x3D;&#x3D; null || val &#x3D;&#x3D; &quot;&quot; || typeof(val) &#x3D;&#x3D; undefined) &#123;</span><br><span class="line">        return true;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        return false;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">const timeFormat &#x3D; (value, format) &#x3D;&gt; &#123;</span><br><span class="line">    let date &#x3D; new Date(value);</span><br><span class="line">    let y &#x3D; date.getFullYear();</span><br><span class="line">    let m &#x3D; date.getMonth() + 1;</span><br><span class="line">    let d &#x3D; date.getDate();</span><br><span class="line">    let h &#x3D; date.getHours();</span><br><span class="line">    let min &#x3D; date.getMinutes();</span><br><span class="line">    let s &#x3D; date.getSeconds();</span><br><span class="line">    let result &#x3D; &quot;&quot;;</span><br><span class="line">    if (format &#x3D;&#x3D; undefined) &#123;</span><br><span class="line">        result &#x3D; &#96;$&#123;y&#125;-$&#123;m &lt; 10 ? &quot;0&quot; + m : m&#125;-$&#123;d &lt; 10 ? &quot;0&quot; + d : d&#125; $&#123;</span><br><span class="line">        h &lt; 10 ? &quot;0&quot; + h : h</span><br><span class="line">      &#125;:$&#123;min &lt; 10 ? &quot;0&quot; + min : min&#125;:$&#123;s &lt; 10 ? &quot;0&quot; + s : s&#125;&#96;;</span><br><span class="line">    &#125;</span><br><span class="line">    if (format &#x3D;&#x3D; &quot;yyyy-mm-dd&quot;) &#123;</span><br><span class="line">        result &#x3D; &#96;$&#123;y&#125;-$&#123;m &lt; 10 ? &quot;0&quot; + m : m&#125;-$&#123;d &lt; 10 ? &quot;0&quot; + d : d&#125;&#96;;</span><br><span class="line">    &#125;</span><br><span class="line">    if (format &#x3D;&#x3D; &quot;yyyy-mm&quot;) &#123;</span><br><span class="line">        result &#x3D; &#96;$&#123;y&#125;-$&#123;m &lt; 10 ? &quot;0&quot; + m : m&#125;&#96;;</span><br><span class="line">    &#125;</span><br><span class="line">    if (format &#x3D;&#x3D; &quot;mm-dd&quot;) &#123;</span><br><span class="line">        result &#x3D; &#96; $&#123;mm &lt; 10 ? &quot;0&quot; + mm : mm&#125;:$&#123;ddmin &lt; 10 ? &quot;0&quot; + dd : dd&#125;&#96;;</span><br><span class="line">    &#125;</span><br><span class="line">    if (format &#x3D;&#x3D; &quot;hh:mm&quot;) &#123;</span><br><span class="line">        result &#x3D; &#96; $&#123;h &lt; 10 ? &quot;0&quot; + h : h&#125;:$&#123;min &lt; 10 ? &quot;0&quot; + min : min&#125;&#96;;</span><br><span class="line">    &#125;</span><br><span class="line">    if (format &#x3D;&#x3D; &quot;yyyy&quot;) &#123;</span><br><span class="line">        result &#x3D; &#96;$&#123;y&#125;&#96;;</span><br><span class="line">    &#125;</span><br><span class="line">    return result;</span><br><span class="line">&#125;;</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">export &#123;</span><br><span class="line">    isNullOrEmpty,</span><br><span class="line">    timeFormat</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在main.js中引入和注册全局过滤器</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">import * as filters from &#39;..&#x2F;filters&#x2F;index&#39;</span><br><span class="line">Object.keys(filters).forEach(key &#x3D;&gt; &#123;</span><br><span class="line">    Vue.filter(key, filters[key])</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>此时就可以在不同的.vue中使用定义的全局过滤器了</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;span&gt;&#123;date|isNullOrEmpty&#125;是否为空&lt;&#x2F;span&gt;</span><br></pre></td></tr></table></figure>



<p>简易版</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">main.js</span><br><span class="line">Vue.filter(&#39;tofixed&#39;, function (value,num&#x3D;2) &#123;</span><br><span class="line">  if (!value) return 0</span><br><span class="line">  return value.toFixed(num)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>





<h2 id="使用特殊字体（digital等）"><a href="#使用特殊字体（digital等）" class="headerlink" title="使用特殊字体（digital等）"></a>使用特殊字体（digital等）</h2><p>一、CDN引入</p>
<pre><code>&lt;style&gt;
@font-face{
    font-family:QingKe;
    src:url(&quot;https://g.alicdn.com/TSG/damo-static/2019.918.162009/damo/css/font/iozzkhwu.ttf&quot;)
    /* src: url-loader(&quot;@/assets/iozzkhwu.ttf&quot;);  这种方式是错误的*/
}
@font-face{
    font-family:SYHT;
    src: url(&apos;https://tuyu.hnbcdn.com/SHSCN-ELight.eot&apos;);
    src:url(https://tuyu.hnbcdn.com/SHSCN-ELight.eot);
    src:local(&apos;鈽�&apos;),url(https://tuyu.hnbcdn.com/SHSCN-ELight.woff) format(&apos;woff&apos;),url(https://tuyu.hnbcdn.com/SHSCN-ELight.ttf) format(&apos;truetype&apos;),url(https://tuyu.hnbcdn.com/SHSCN-ELight.svg) format(&apos;svg&apos;);font-weight:400;font-style:normal
}
.wenzi{
  font-family: SYHT;
      letter-spacing:3px;
      font-weight: 100;
}
&lt;/style&gt;</code></pre><p>二、assets中引入静态文件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">@font-face &#123;</span><br><span class="line"> font-family: &#39;SHIZHONGZITI&#39;;</span><br><span class="line"> src: url(.&#x2F;assets&#x2F;DIGITAL-7_MONO-WEBFONT.ttf);  </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.teshu &#123;</span><br><span class="line"> font-family: SHIZHONGZITI;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="sass安装失败"><a href="#sass安装失败" class="headerlink" title="sass安装失败"></a>sass安装失败</h2><p>坑四：安装sass失败</p>
<p>由于sass-loader依赖于node-sass，所以按如下顺序分别下载依赖：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">npm install --save-dev node-sass</span><br><span class="line">npm install --save-dev sass-loader</span><br><span class="line"></span><br><span class="line">如果报错，则安装以下版本</span><br><span class="line">&quot;node-sass&quot;: &quot;^4.7.2&quot;,</span><br><span class="line">&quot;sass-loader&quot;: &quot;^6.0.5&quot;,</span><br></pre></td></tr></table></figure>



<h2 id="随机获取布尔值（true-false"><a href="#随机获取布尔值（true-false" class="headerlink" title="随机获取布尔值（true/false"></a><strong>随机获取布尔值（true/false</strong></h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">const randomBoolean &#x3D; () &#x3D;&gt; Math.random() &gt;&#x3D; 0.5;</span><br><span class="line">console.log(randomBoolean());</span><br></pre></td></tr></table></figure>



<h2 id="判断给的日期是否为工作日"><a href="#判断给的日期是否为工作日" class="headerlink" title="判断给的日期是否为工作日"></a><strong>判断给的日期是否为工作日</strong></h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">const isWeekday &#x3D; (date) &#x3D;&gt; date.getDay() % 6 !&#x3D;&#x3D; 0;</span><br><span class="line">console.log(isWeekday(new Date(2021, 0, 11)));</span><br><span class="line">&#x2F;&#x2F; Result: true (Monday)  getDay()&#x3D;[0,1,2,3,4,5,6]</span><br></pre></td></tr></table></figure>



<h2 id="localstorage清除特定的一类"><a href="#localstorage清除特定的一类" class="headerlink" title="localstorage清除特定的一类"></a>localstorage清除特定的一类</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Object.keys(localStorage).forEach(item &#x3D;&gt; item.indexOf(&#39;mine&#39;) !&#x3D;&#x3D; -1 ? localStorage.removeItem(item) : &#39;&#39;);</span><br><span class="line"></span><br><span class="line">删除带mine字段的缓存</span><br></pre></td></tr></table></figure>



<h2 id="布署服务器后刷新404"><a href="#布署服务器后刷新404" class="headerlink" title="布署服务器后刷新404"></a>布署服务器后刷新404</h2><p>参考链接 <a href="https://mp.weixin.qq.com/s/DqS4shzElGQUqwKGD5oweA" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/DqS4shzElGQUqwKGD5oweA</a></p>
<h3 id="为什么history模式下有问题"><a href="#为什么history模式下有问题" class="headerlink" title="为什么history模式下有问题"></a>为什么history模式下有问题</h3><p><code>Vue</code>是属于单页应用（single-page application）</p>
<p>而<code>SPA</code>是一种网络应用程序或网站的模型，所有用户交互是通过动态重写当前页面，前面我们也看到了，不管我们应用有多少页面，构建物都只会产出一个<code>index.html</code></p>
<p>现在，我们回头来看一下我们的<code>nginx</code>配置</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">server &#123;</span><br><span class="line">  listen  80;</span><br><span class="line">  server_name  www.xxx.com;</span><br><span class="line"></span><br><span class="line">  location &#x2F; &#123;</span><br><span class="line">    index  &#x2F;data&#x2F;dist&#x2F;index.html;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>可以根据 <code>nginx</code> 配置得出，当我们在地址栏输入 <code>www.xxx.com</code> 时，这时会打开我们 <code>dist</code>目录下的 <code>index.html</code> 文件，然后我们在跳转路由进入到 <code>www.xxx.com/login</code></p>
<p>关键在这里，当我们在 <code>website.com/login</code> 页执行刷新操作，<code>nginx location</code> 是没有相关配置的，所以就会出现 404 的情况</p>
<h3 id="为什么hash模式下没有问题"><a href="#为什么hash模式下没有问题" class="headerlink" title="为什么hash模式下没有问题"></a>为什么hash模式下没有问题</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">router hash&#96; 模式我们都知道是用符号#表示的，如  &#96;website.com&#x2F;#&#x2F;login&#96;, &#96;hash&#96; 的值为&#96;#&#x2F;login</span><br></pre></td></tr></table></figure>

<p>它的特点在于：<code>hash</code> 虽然出现在 <code>URL</code> 中，但不会被包括在 <code>HTTP</code> 请求中，对服务端完全没有影响，因此改变 <code>hash</code> 不会重新加载页面</p>
<p><code>hash</code> 模式下，仅 <code>hash</code> 符号之前的内容会被包含在请求中，如 <code>website.com/#/login</code> 只有<code>website.com</code> 会被包含在请求中 ，因此对于服务端来说，即使没有配置<code>location</code>，也不会返回404错误</p>
<h3 id="解决方案-1"><a href="#解决方案-1" class="headerlink" title="解决方案"></a>解决方案</h3><p>看到这里我相信大部分同学都能想到怎么解决问题了，</p>
<p>产生问题的本质是因为我们的路由是通过JS来执行视图切换的，</p>
<p>当我们进入到子路由时刷新页面，<code>web</code>容器没有相对应的页面此时会出现404</p>
<p>所以我们只需要配置将任意页面都重定向到 <code>index.html</code>，把路由交由前端处理</p>
<p>对<code>nginx</code>配置文件<code>.conf</code>修改，添加<code>try_files $uri $uri/ /index.html;</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">  listen  80;</span><br><span class="line">  server_name  www.xxx.com;</span><br><span class="line"></span><br><span class="line">  location &#x2F; &#123;</span><br><span class="line">    index  &#x2F;data&#x2F;dist&#x2F;index.html;</span><br><span class="line">    try_files $uri $uri&#x2F; &#x2F;index.html;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>修改完配置文件后记得配置的更新</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nginx -s reload</span><br></pre></td></tr></table></figure>

<p>这么做以后，你的服务器就不再返回 404 错误页面，因为对于所有路径都会返回 <code>index.html</code>文件</p>
<p>为了避免这种情况，你应该在 <code>Vue</code> 应用里面覆盖所有的路由情况，然后在给出一个 404 页面</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">const router &#x3D; new VueRouter(&#123;</span><br><span class="line">  mode: &#39;history&#39;,</span><br><span class="line">  routes: [</span><br><span class="line">    &#123; path: &#39;*&#39;, component: NotFoundComponent &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>



<h2 id="监听页面或者元素的滚动-控制元素的滚动（jquery）"><a href="#监听页面或者元素的滚动-控制元素的滚动（jquery）" class="headerlink" title="监听页面或者元素的滚动/控制元素的滚动（jquery）"></a>监听页面或者元素的滚动/控制元素的滚动（jquery）</h2><ol>
<li>监听页面滚动</li>
</ol>
<p>在生命周期mounted中进行监听滚动：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mounted () &#123;</span><br><span class="line">    window.addEventListener(&#39;scroll&#39;, this.scrollToTop)</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<p>在方法中定义监听滚动执行的方法：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">scrollToTop() &#123;</span><br><span class="line"> 　　var scrollTop &#x3D; window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop;</span><br><span class="line"> 　　console.log(scrollTop)</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>监听某元素滚动</li>
</ol>
<p>tips：监听的这个元素是父级元素，固定高度后overflow:auto,</p>
<p>vue组件中：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id&#x3D;&quot;scrollcont&quot; style&#x3D;&quot;height:350px;overflow:auto;background:red;&quot; @scroll&#x3D;&quot;scrollEvent&quot;&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;read-con&quot; style&#x3D;&quot;height:1000px;margin:10px;background:pink;&quot;&gt;&lt;&#x2F;div&gt;           </span><br><span class="line">&lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure>

<p>在方法中定义scrolldiv，是监听class为read-con滚动以后需要执行的方法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">scrollEvent () &#123;</span><br><span class="line">   let _this &#x3D; this</span><br><span class="line">   let scrollcont &#x3D; _this.$el.querySelector(&#39;#scrollcont&#39;)</span><br><span class="line">   console.log(scrollcont.scrollToTop)</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>vue中控制元素滚动到底部</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">clickMe()&#123;</span><br><span class="line">  let _this &#x3D; this</span><br><span class="line">  let read &#x3D; _this.$el.querySelector(&#39;.test&#39;)  </span><br><span class="line">  &#x2F;&#x2F;返回第一个class为test元素，this.$el.querySelectorAll(&#39;.test&#39;)，返回所有</span><br><span class="line">  read.scrollTop &#x3D; read.scrollHeight</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>



<ol start="4">
<li>jquery控制元素滚动到底部</li>
</ol>
<p>jquery取 scrollHeight, $(“#scrollTopCont”).scrollHeight 拿不到<br>$(“#scrollTopCont”)[0].scrollHeight //取值scrollHeight</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">setTimeout(() &#x3D;&gt; &#123;</span><br><span class="line">   &#x2F;&#x2F; console.log($(&quot;#scrollTopCont&quot;)[0].scrollHeight, );</span><br><span class="line">   $(&quot;#scrollTopCont&quot;).scrollTop($(&quot;#scrollTopCont&quot;)[0].scrollHeight)</span><br><span class="line">&#125;, 100);</span><br></pre></td></tr></table></figure>



<h2 id="上传图片-excel文件到接口"><a href="#上传图片-excel文件到接口" class="headerlink" title="上传图片/excel文件到接口"></a>上传图片/excel文件到接口</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">submitData() &#123;</span><br><span class="line">    const that &#x3D; this;</span><br><span class="line">    const fd &#x3D; new FormData()&#x2F;&#x2F; FormData 对象</span><br><span class="line">    fd.append(&#39;file&#39;, this.fileObj)&#x2F;&#x2F; 文件对象  &#39;upload&#39;是后台接收的参数名</span><br><span class="line">    const config &#x3D; &#123;</span><br><span class="line">        headers: &#123;</span><br><span class="line">        &quot;Content-Type&quot;: &quot;application&#x2F;x-www-form-urlencoded&quot;,</span><br><span class="line">        &quot;Authorization&quot;: localStorage.getItem(&#39;token_IOT&#39;),</span><br><span class="line">        &quot;buildId&quot;: localStorage.getItem(&quot;buildId_IOT&quot;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    axios.post(axiosUrl, fd, config)</span><br><span class="line">    .then(function (response) &#123;</span><br><span class="line"></span><br><span class="line">    &#125;)</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>





<h2 id="preserveWhitespace-去除空格"><a href="#preserveWhitespace-去除空格" class="headerlink" title="preserveWhitespace(去除空格)"></a><strong>preserveWhitespace</strong>(去除空格)</h2><p>场景:开发 vue 代码一般会有空格,这个时候打包压缩如果不去掉空格会加大包的体积<br>配置preserveWhitespace可以减小包的体积</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">rules: [</span><br><span class="line">     &#123;</span><br><span class="line">       test: &#x2F;\.vue$&#x2F;,</span><br><span class="line">       loader: &#39;vue-loader&#39;,</span><br><span class="line">       options: &#123;</span><br><span class="line">         compilerOptions: &#123;</span><br><span class="line">           preserveWhitespace: false</span><br><span class="line">         &#125;</span><br><span class="line">       &#125;</span><br><span class="line">     &#125;,</span><br><span class="line">]</span><br></pre></td></tr></table></figure>



<h2 id="img-加载失败"><a href="#img-加载失败" class="headerlink" title="img 加载失败"></a><strong>img 加载失败</strong></h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; page 代码</span><br><span class="line">&lt;img :src&#x3D;&quot;imgUrl&quot; @error&#x3D;&quot;handleError&quot; alt&#x3D;&quot;&quot;&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default&#123;</span><br><span class="line"> data()&#123;</span><br><span class="line">  return&#123;</span><br><span class="line">   imgUrl:&#39;&#39;</span><br><span class="line">  &#125;</span><br><span class="line"> &#125;,</span><br><span class="line"> methods:&#123;</span><br><span class="line">  handleError(e)&#123;</span><br><span class="line">   e.target.src&#x3D;reqiure(&#39;图片路径&#39;) </span><br><span class="line">  &#125;</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>



<h2 id="require-context"><a href="#require-context" class="headerlink" title="require.context()"></a><strong>require.context()</strong></h2><p>1.场景:如页面需要导入多个组件,原始写法:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">import titleCom from &#39;@&#x2F;components&#x2F;home&#x2F;titleCom&#39;</span><br><span class="line">import bannerCom from &#39;@&#x2F;components&#x2F;home&#x2F;bannerCom&#39;</span><br><span class="line">import cellCom from &#39;@&#x2F;components&#x2F;home&#x2F;cellCom&#39;</span><br><span class="line">components:&#123;titleCom,bannerCom,cellCom&#125;</span><br></pre></td></tr></table></figure>

<p>2.这样就写了大量重复的代码,利用 require.context 可以写成</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">const path &#x3D; require(&#39;path&#39;)</span><br><span class="line">const files &#x3D; require.context(&#39;@&#x2F;components&#x2F;home&#39;, false, &#x2F;\.vue$&#x2F;)</span><br><span class="line">const modules &#x3D; &#123;&#125;</span><br><span class="line">files.keys().forEach(key &#x3D;&gt; &#123;</span><br><span class="line"> const name &#x3D; path.basename(key, &#39;.vue&#39;)</span><br><span class="line"> modules[name] &#x3D; files(key).default || files(key)</span><br><span class="line">&#125;)</span><br><span class="line">components:modules</span><br></pre></td></tr></table></figure>

<p>这样不管页面引入多少组件,都可以使用这个方法</p>
<p>状态管理的modules也可以使用同样的方法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">const modulesFiles &#x3D; require.context(&#39;.&#x2F;modules&#39;, true, &#x2F;\.js$&#x2F;);</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; you do not need &#96;import app from &#39;.&#x2F;modules&#x2F;app&#39;&#96;</span><br><span class="line">&#x2F;&#x2F; it will auto require all vuex module from modules file</span><br><span class="line">const modules &#x3D; modulesFiles.keys().reduce((modules, modulePath) &#x3D;&gt; &#123;</span><br><span class="line">  &#x2F;&#x2F; set &#39;.&#x2F;app.js&#39; &#x3D;&gt; &#39;app&#39;</span><br><span class="line">  const moduleName &#x3D; modulePath.replace(&#x2F;^\.\&#x2F;(.*)\.\w+$&#x2F;, &#39;$1&#39;);</span><br><span class="line">  const value &#x3D; modulesFiles(modulePath);</span><br><span class="line">  modules[moduleName] &#x3D; value.default;</span><br><span class="line">  return modules;</span><br><span class="line">&#125;, &#123;&#125;);</span><br><span class="line">const store &#x3D; new Vuex.Store(&#123;</span><br><span class="line">  modules,</span><br><span class="line">  getters</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>





<p>3.API 方法</p>
<blockquote>
<p>实际上是 webpack 的方法,vue 工程一般基于 webpack,所以可以使用<br>require.context(directory,useSubdirectories,regExp)<br>接收三个参数:<br>directory：说明需要检索的目录<br>useSubdirectories：是否检索子目录<br>regExp: 匹配文件的正则表达式,一般是文件名</p>
</blockquote>
<h2 id="在vue项目中监听键盘事件的方法"><a href="#在vue项目中监听键盘事件的方法" class="headerlink" title="在vue项目中监听键盘事件的方法"></a>在vue项目中监听键盘事件的方法</h2><p>1在main.js文件中写入以下代码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">Vue.prototype.$keyBoard &#x3D; function (vm, methodName, code) &#123;</span><br><span class="line"></span><br><span class="line"> document.onkeydown &#x3D; function () &#123;</span><br><span class="line"></span><br><span class="line">  let key &#x3D; window.event.keyCode;</span><br><span class="line"></span><br><span class="line">  if (key &#x3D;&#x3D; code) &#123;</span><br><span class="line"></span><br><span class="line">   vm[methodName](code); &#x2F;&#x2F; 触发methodName事件</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"> &#125;;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>2在需要监听键盘事件的组件里的mounted 生命周期内写入：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">mounted () &#123;</span><br><span class="line"></span><br><span class="line">  this.$keyBoard(this, &#39;onClickEnter&#39;, 13) &#x2F;&#x2F; 13就是回车键的keycode,这样点击回车就能触发onClickEnter这个事件了</span><br><span class="line"></span><br><span class="line"> &#125;,</span><br></pre></td></tr></table></figure>



<p>3在组件中定义被键盘事件触发的方法：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">methods: &#123;</span><br><span class="line"></span><br><span class="line">  onClickEnter () &#123;</span><br><span class="line"></span><br><span class="line">   alert(&#39;哈哈&#39;)</span><br><span class="line"></span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="使用插件vue-clipboard2复制内容至剪切板-两种使用方法"><a href="#使用插件vue-clipboard2复制内容至剪切板-两种使用方法" class="headerlink" title="使用插件vue-clipboard2复制内容至剪切板(两种使用方法)"></a>使用插件vue-clipboard2复制内容至剪切板(两种使用方法)</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save vue-clipboard2</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#39;vue&#39;</span><br><span class="line">import VueClipboard from &#39;vue-clipboard2&#39;</span><br><span class="line"> </span><br><span class="line">Vue.use(VueClipboard)</span><br></pre></td></tr></table></figure>

<h5 id="方式一"><a href="#方式一" class="headerlink" title="方式一"></a>方式一</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class&#x3D;&quot;container&quot;&gt;</span><br><span class="line">    &lt;input type&#x3D;&quot;text&quot; v-model&#x3D;&quot;message&quot;&gt;</span><br><span class="line">  &lt;button class&#x3D;&quot;fs12&quot;</span><br><span class="line">            v-clipboard:copy&#x3D;&quot;&#39;地址：&#39;+detail.address+&#39;\n姓名：&#39;+detail.name+&#39;\n电话：&#39;+detail.phone&quot;</span><br><span class="line">        v-clipboard:success&#x3D;&quot;onCopy&quot; </span><br><span class="line">        v-clipboard:error&#x3D;&quot;onError&quot;&gt;复制&lt;&#x2F;button&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  export default &#123;</span><br><span class="line">    data() &#123;</span><br><span class="line">      return &#123;</span><br><span class="line">       detail:&#123;</span><br><span class="line">        address:&#39;地址&#39;,</span><br><span class="line">        name:&#39;名字&#39;,</span><br><span class="line">        phone:&#39;1234567&#39;</span><br><span class="line">           &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">      onCopy: function (e) &#123;</span><br><span class="line">        alert(&#39;You just copied: &#39; + e.text)</span><br><span class="line">      &#125;,</span><br><span class="line">      onError: function (e) &#123;</span><br><span class="line">        console.log(e)</span><br><span class="line">        alert(&#39;Failed to copy texts&#39;)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<h5 id="方式二"><a href="#方式二" class="headerlink" title="方式二"></a>方式二</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class&#x3D;&quot;container&quot;&gt;</span><br><span class="line">     &lt;button class&#x3D;&quot;fs12&quot; @click&#x3D;&quot;copyCode&quot;&gt;复制&lt;&#x2F;button&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  export default &#123;</span><br><span class="line">    data() &#123;</span><br><span class="line">      return &#123;</span><br><span class="line">        detail:&#123;</span><br><span class="line">        address:&#39;地址&#39;,</span><br><span class="line">        name:&#39;名字&#39;,</span><br><span class="line">        phone:&#39;1234567&#39;</span><br><span class="line">           &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">    copyCode() &#123;</span><br><span class="line">	this.$copyText(&#96;地址：$&#123;this.detail.address&#125;\n收件人：    $&#123;this.detail.name&#125;\n电话：$&#123;this.detail.phone&#125;&#96;).then(</span><br><span class="line">		        res &#x3D;&gt; &#123;</span><br><span class="line">		          console.log(res)</span><br><span class="line">		          this.$toast(&quot;已成功复制，可直接去粘贴&quot;);</span><br><span class="line">		        &#125;,</span><br><span class="line">		        err &#x3D;&gt; &#123;</span><br><span class="line">		          this.$toast(&quot;复制失败&quot;);</span><br><span class="line">		        &#125;</span><br><span class="line">		      )</span><br><span class="line">		    &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>



<h2 id="在vue中使用vue-qriously生成二维码"><a href="#在vue中使用vue-qriously生成二维码" class="headerlink" title="在vue中使用vue-qriously生成二维码"></a>在vue中使用vue-qriously生成二维码</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">1、安装</span><br><span class="line">npm i  vue-qriously -S</span><br><span class="line"></span><br><span class="line">2、引入</span><br><span class="line">&#x2F;&#x2F;main.js</span><br><span class="line">import Vue from &#39;vue&#39;</span><br><span class="line">import VueQriously from &#39;vue-qriously&#39;</span><br><span class="line">Vue.use(VueQriously)</span><br><span class="line"></span><br><span class="line">3、使用</span><br><span class="line">&#x2F;&#x2F;home.vue</span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;qriously :value&#x3D;&quot;qrcode&quot; :size&#x3D;&quot;200&quot; &#x2F;&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  export default &#123;</span><br><span class="line">    data() &#123;</span><br><span class="line">        return &#123;</span><br><span class="line">            qrcode: &#39;www.baidu.com&#39;</span><br><span class="line">         &#125;</span><br><span class="line">     &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>



<h2 id="使用html2canvas截取图片"><a href="#使用html2canvas截取图片" class="headerlink" title="使用html2canvas截取图片"></a>使用html2canvas截取图片</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">先引入插件</span><br><span class="line">npm install --save html2canvas</span><br><span class="line"></span><br><span class="line">之后在你所需要使用的页面引入</span><br><span class="line">import html2canvas from &quot;html2canvas&quot;</span><br><span class="line"></span><br><span class="line">html</span><br><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;about&quot;&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;imageWrapper&quot; ref&#x3D;&quot;imageWrapper&quot;&gt;</span><br><span class="line">            &lt;div class&#x3D;&quot;success&quot;&gt;</span><br><span class="line">                &lt;div class&#x3D;&quot;img&quot;&gt;</span><br><span class="line">                    &lt;img class&#x3D;&quot;img-icon&quot; src&#x3D;&quot;https:&#x2F;&#x2F;t10.baidu.com&#x2F;it&#x2F;u1&#x3D;1637861796&amp;u2&#x3D;2420578710&amp;fm&#x3D;76&quot;&#x2F;&gt;</span><br><span class="line">                    &lt;p style&#x3D;&quot;font-weight: 600; font-size: 18px&quot;&gt;支付成功&lt;&#x2F;p&gt;</span><br><span class="line">                &lt;&#x2F;div&gt;</span><br><span class="line">            &lt;&#x2F;div&gt;</span><br><span class="line">            &lt;div class&#x3D;&quot;success-detail&quot;&gt;</span><br><span class="line">                &lt;el-row style&#x3D;&quot;margin-top: 10px;&quot;&gt;</span><br><span class="line">                    &lt;el-col :span&#x3D;&quot;5&quot; class&#x3D;&quot;col-left-suc&quot;&gt;收款商家&lt;&#x2F;el-col&gt;</span><br><span class="line">                    &lt;el-col :span&#x3D;&quot;16&quot; class&#x3D;&quot;col-right&quot;&gt;是谁&lt;&#x2F;el-col&gt;</span><br><span class="line">                &lt;&#x2F;el-row&gt;</span><br><span class="line">                &lt;el-row style&#x3D;&quot;margin-top: 10px;&quot;&gt;</span><br><span class="line">                    &lt;el-col :span&#x3D;&quot;5&quot; class&#x3D;&quot;col-left-suc&quot;&gt;费用名称&lt;&#x2F;el-col&gt;</span><br><span class="line">                    &lt;el-col :span&#x3D;&quot;16&quot; class&#x3D;&quot;col-right&quot;&gt;保护费&lt;&#x2F;el-col&gt;</span><br><span class="line">                &lt;&#x2F;el-row&gt;</span><br><span class="line">                &lt;el-row style&#x3D;&quot;margin-top: 10px;&quot;&gt;</span><br><span class="line">                    &lt;el-col :span&#x3D;&quot;5&quot; class&#x3D;&quot;col-left-suc&quot;&gt;缴费金额&lt;&#x2F;el-col&gt;</span><br><span class="line">                    &lt;el-col :span&#x3D;&quot;16&quot; class&#x3D;&quot;col-right&quot;&gt;200元&lt;&#x2F;el-col&gt;</span><br><span class="line">                &lt;&#x2F;el-row&gt;</span><br><span class="line">            &lt;&#x2F;div&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;button&quot;&gt;</span><br><span class="line">            &lt;el-button style&#x3D;&quot;width: 70%;&quot; type&#x3D;&quot;success&quot; size&#x3D;&quot;small&quot; @click&#x3D;&quot;toImage&quot;&gt;生成截图&lt;&#x2F;el-button&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">        &lt;hr&gt;</span><br><span class="line">        &lt;hr&gt;</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">            &lt;img class&#x3D;&quot;real_pic&quot; :src&#x3D;&quot;dataURL&quot; &#x2F;&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">js</span><br><span class="line">&lt;script&gt;</span><br><span class="line">import html2canvas from &#39;html2canvas&#39;</span><br><span class="line">export default &#123;</span><br><span class="line">    data() &#123;</span><br><span class="line">        return &#123;</span><br><span class="line">            dataURL: &#39;&#39;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">        toImage() &#123;</span><br><span class="line">            html2canvas(this.$refs.imageWrapper, &#123;</span><br><span class="line">                backgroundColor: null,&#x2F;&#x2F;设置背景颜色为null</span><br><span class="line">                useCORS:true &#x2F;&#x2F;允许使用跨域资源的图片</span><br><span class="line">            &#125;).then((canvas) &#x3D;&gt; &#123;</span><br><span class="line">                let dataURL &#x3D; canvas.toDataURL(&quot;image&#x2F;png&quot;);</span><br><span class="line">                this.dataURL &#x3D; dataURL;</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">属性链接</span><br><span class="line">https:&#x2F;&#x2F;html2canvas.hertzen.com&#x2F;configuration</span><br></pre></td></tr></table></figure>



<h2 id="document文档加载过程分析"><a href="#document文档加载过程分析" class="headerlink" title="document文档加载过程分析"></a>document文档加载过程分析</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    document.addEventListener(&quot;DOMContentLoaded&quot;, function (event) &#123;</span><br><span class="line">    	console.log(&quot;初始DOM 加载并解析&quot;);</span><br><span class="line">    &#125;);</span><br><span class="line">    window.addEventListener(&quot;load&quot;, function (event) &#123;</span><br><span class="line">    	console.log(&quot;window 所有资源加载完成&quot;);</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    document.onreadystatechange &#x3D; function () &#123;</span><br><span class="line">    	console.log(document.readyState)</span><br><span class="line">   		if (document.readyState &#x3D;&#x3D;&#x3D; &quot;complete&quot;) &#123;</span><br><span class="line">    		console.log(&#39;初始DOM,加载解析完成&#39;)</span><br><span class="line">    	&#125;</span><br><span class="line">    &#125;</span><br><span class="line">    window.addEventListener(&quot;beforeunload&quot;, function (event) &#123;</span><br><span class="line">    	console.log(&#39;即将关闭1&#39;)</span><br><span class="line">    	event.returnValue &#x3D; &quot;\o&#x2F;&quot;;</span><br><span class="line">    &#125;);</span><br><span class="line">    window.addEventListener(&#39;unload&#39;, function (event) &#123;</span><br><span class="line">    	console.log(&#39;即将关闭2&#39;);</span><br><span class="line">    &#125;);</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line">console.log</span><br><span class="line">interactive &#x2F;&#x2F;(index):15</span><br><span class="line">初始DOM 加载并解析 &#x2F;&#x2F;(index):8</span><br><span class="line">complet&#x2F;&#x2F;(index):15 </span><br><span class="line">初始DOM,加载解析完成&#x2F;&#x2F;(index):17 </span><br><span class="line">window 所有资源加载完成&#x2F;&#x2F;(index):11 </span><br><span class="line">&#x2F;&#x2F;点击关闭按钮</span><br><span class="line">即将关闭1</span><br><span class="line">即将关闭2</span><br></pre></td></tr></table></figure>



<h2 id="Object-defineProperty-和Proxy"><a href="#Object-defineProperty-和Proxy" class="headerlink" title="Object.defineProperty,和Proxy"></a>Object.defineProperty,和Proxy</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">相比于Object.defineProperty, Proxy到底有哪些优势。</span><br><span class="line">第一点</span><br><span class="line">Object.defineProperty只能监听到对象属性的读取或者是写入</span><br><span class="line">Proxy除读写外还可以监听对象中属性的删除，对对象当中方法的调用等等。</span><br><span class="line">第二点</span><br><span class="line">对于数组对象进行监视，通常我们想要监视数组的变化，基本要依靠重写数组方法，这也是Vue的实现方式，proxy可以直接监视数组的变化。以往我们想要通过Object.defineProperty去监视数组的操作最常见的方式是重写数组的操作方法，这也是Vue.js中所使用的方式，大体的方式就是通过自定义的方法去覆盖掉数组原型对象上的push，shift之类的方法，以此来劫持对应的方法调用的过程。</span><br></pre></td></tr></table></figure>



<h2 id="Vue-js使用Blob的方式实现excel表格的下载-流文件下载"><a href="#Vue-js使用Blob的方式实现excel表格的下载-流文件下载" class="headerlink" title="Vue.js使用Blob的方式实现excel表格的下载(流文件下载)"></a>Vue.js使用Blob的方式实现excel表格的下载(流文件下载)</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">	&lt;el-button @click&#x3D;&quot;downloadUrl&quot;&gt;导出Excel&lt;&#x2F;el-button&gt;        </span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">import api from &quot;..&#x2F;..&#x2F;api&#x2F;api.js&quot;;</span><br><span class="line">import axios from &quot;axios&quot;;</span><br><span class="line">export default &#123;</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">		pageSize:30,</span><br><span class="line">	&#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  created() &#123;&#125;,</span><br><span class="line">  computed: &#123;&#125;,</span><br><span class="line">  mounted() &#123;&#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    downloadUrl() &#123;</span><br><span class="line">      &#x2F;&#x2F; console.log(api.serverUrl);</span><br><span class="line">      let params &#x3D; &#123;</span><br><span class="line">        pageNum: &quot;1&quot;,</span><br><span class="line">        pageSize: this.pageSize,</span><br><span class="line">        companyId: JSON.parse(sessionStorage.getItem(&quot;companyId&quot;))</span><br><span class="line">      &#125;;</span><br><span class="line">      this.download_accountsDetails_info(params);</span><br><span class="line">    &#125;,</span><br><span class="line">    download_accountsDetails_info(params) &#123;</span><br><span class="line">      return new Promise((resolve, reject) &#x3D;&gt; &#123;</span><br><span class="line">        axios</span><br><span class="line">          .get(api.serverUrl + &quot;&#x2F;order&#x2F;exportOrder&quot;, &#123;</span><br><span class="line">            params: params,</span><br><span class="line">            responseType: &quot;blob&quot; &#x2F;&#x2F; 1.首先设置responseType对象格式为 blob:</span><br><span class="line">          &#125;)</span><br><span class="line">          .then(</span><br><span class="line">            res &#x3D;&gt; &#123;</span><br><span class="line">              &#x2F;&#x2F;resolve(res)</span><br><span class="line">              let blob &#x3D; new Blob([res.data], &#123;</span><br><span class="line">                type: &quot;application&#x2F;vnd.ms-excel&quot;</span><br><span class="line">              &#125;); &#x2F;&#x2F; 2.获取请求返回的response对象中的blob 设置文件类型，这里以excel为例</span><br><span class="line">              let url &#x3D; window.URL.createObjectURL(blob); &#x2F;&#x2F; 3.创建一个临时的url指向blob对象</span><br><span class="line"></span><br><span class="line">              &#x2F;&#x2F; 4.创建url之后可以模拟对此文件对象的一系列操作，例如：预览、下载</span><br><span class="line">              let a &#x3D; document.createElement(&quot;a&quot;);</span><br><span class="line">              a.href &#x3D; url;</span><br><span class="line">              a.download &#x3D; &quot;导出表格.xlsx&quot;;</span><br><span class="line">              a.click();</span><br><span class="line">              &#x2F;&#x2F; 5.释放这个临时的对象url</span><br><span class="line">              window.URL.revokeObjectURL(url);</span><br><span class="line">            &#125;,</span><br><span class="line">            err &#x3D;&gt; &#123;</span><br><span class="line">              resolve(err.response);</span><br><span class="line">            &#125;</span><br><span class="line">          )</span><br><span class="line">          .catch(error &#x3D;&gt; &#123;</span><br><span class="line">            reject(error);</span><br><span class="line">          &#125;);</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>



<h2 id="vue-echarts入门使用"><a href="#vue-echarts入门使用" class="headerlink" title="vue-echarts入门使用"></a>vue-echarts入门使用</h2><p>1、下载(需要同时下载echarts和vue-echarts)</p>
<p>npm</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install echarts vue-echarts</span><br></pre></td></tr></table></figure>

<p>cdn</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src&#x3D;“https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;npm&#x2F;echarts@4.1.0&#x2F;dist&#x2F;echarts.js”&gt;</span><br><span class="line">&lt;script src&#x3D;“https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;npm&#x2F;vue-echarts@4.0.2”&gt;</span><br></pre></td></tr></table></figure>




<p>2、文件内引入使用</p>
<p>*注：这种方式写的时候需要tooltips或者legend这类的时候，都需要import ‘echarts/lib/component/legend’;这样引入一下，不然不会显示出来</p>
<p>// 局部引入vue-echarts</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">import &#39;echarts&#x2F;lib&#x2F;chart&#x2F;line&#39;;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;import ECharts from &#39;vue-echarts&#39;;</span><br><span class="line">import ECharts from &#39;vue-echarts&#x2F;components&#x2F;ECharts.vue&#39;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 手动引入 ECharts 各模块来减小打包体积</span><br><span class="line">import &#39;echarts&#x2F;lib&#x2F;chart&#x2F;bar&#39;</span><br><span class="line">import &#39;echarts&#x2F;lib&#x2F;chart&#x2F;pie&#39;</span><br><span class="line">import &#39;echarts&#x2F;lib&#x2F;chart&#x2F;line&#39;;</span><br><span class="line"></span><br><span class="line">import &#39;echarts&#x2F;lib&#x2F;component&#x2F;tooltip&#39;</span><br><span class="line">import &#39;echarts&#x2F;lib&#x2F;component&#x2F;polar&#39;</span><br><span class="line">import &#39;echarts&#x2F;lib&#x2F;component&#x2F;legend&#39;</span><br><span class="line">import &#39;echarts&#x2F;lib&#x2F;component&#x2F;title.js&#39;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 注册组件后即可使用</span><br><span class="line">Vue.component(&#39;v-chart&#39;, ECharts)</span><br><span class="line">Vue.prototype.$echarts &#x3D; ECharts</span><br></pre></td></tr></table></figure>



<p>3、html部分</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=<span class="string">"charts"</span>&gt;</span><br><span class="line">    &lt;v-chart</span><br><span class="line">      :options=<span class="string">"options"</span></span><br><span class="line">      auto-resize</span><br><span class="line">      style=<span class="string">"width:100%;height:300px;"</span></span><br><span class="line">      /&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>

<p>4、css部分</p>
<p>样式中必须有.echarts宽高的定义，不然会不显示</p>
<style scoped>
.charts{
  width: 100%;
  height: 100%;
}
.echarts {
  width: 100%;
  height: 100%;
}
</style>
<p>5、配置项部分</p>
<p>环形图</p>
<pre><code>options: { // echarts配置项
    tooltip: { show: false }, // 提示框组件，环形图可以不用这个用其他的
    series: [ // 系列列表
      {
        name: &apos;&apos;, // 系列名称
        type: &apos;pie&apos;, // 类型
        data: [3, 12, 4], // 数据，此处可以通过接口获取，使用this.options.series[0].data = 接口返回数据即可
        radius: [&apos;60%&apos;, &apos;81%&apos;], // [内半径， 外半径], 可以是百分数，也可以直接是数值，不用数组只写单个百分数或数值就是正常的饼图
        center: [&apos;50%&apos;, &apos;50%&apos;], // 圆心位置[横坐标，纵坐标]
        label: { // 饼图图形上的文本标签
          show: false,
          lineHeight: 20,
          padding: [0, -100],
          color: &apos;auto&apos;
        },
        labelLine: { // 视觉引导线的长度
          length: 25,
          length2: 100
        },
        itemStyle: {
          // 饼图颜色采用渐变色
          color: (params) =&gt; {
            // 色值数组，从浅色到深色
            const colorList = [
              [&apos;#A5ABFF&apos;, &apos;#6C73FF&apos;],
                 [&apos;#64BAFF&apos;, &apos;#4487FF&apos;],
              [&apos;#53E7C9&apos;, &apos;#29CB98&apos;]
            ];

            let index = params.dataIndex;

            // 柱子个数超过colorList设置的个数，循环使用
            if (index &gt;= colorList.length) {
              index -= colorList.length;
            }

            // 这里的this.$echarts是项目中的echarts示例，改成对应的名字就好
            return new this.$echarts.graphic.LinearGradient(0, 0, 0, 1, [{
              offset: 0,
              color: colorList[index][0]
            }, {
              offset: 1,
              color: colorList[index][1]
            }]);
          }
        },
        emphasis: { // 饼图视觉引导线样式
          label: {
            show: true,
            verticalAlign: &apos;bottom&apos;, // 文字与视觉引导线的底部对齐
            lineHeight: 20,
            // 保证引导线上的文字水平位置正确
            padding: [0, -100],
            formatter: &apos;{b} {gray|{d}%} {gray|{c}}&apos;, // 此处可以参考文档
            rich: {
              gray: {
                color: &apos;#5B6479&apos;
              }
            }
          },
          labelLine: {
            show: true,
            lineStyle: {
              shadowBlur: { // 引导线阴影
                shadowColor: &apos;rgba(58, 120, 214, 0.14)&apos;,
                shadowBlur: 12
              }
            }
          }
        }
      }
    ]
  }</code></pre><h2 id="vue使用鼠标中键，左键，右键事件"><a href="#vue使用鼠标中键，左键，右键事件" class="headerlink" title="vue使用鼠标中键，左键，右键事件"></a>vue使用鼠标中键，左键，右键事件</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;div @click&#x3D;&quot;test(params,$event)&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">test(id,e)&#123;</span><br><span class="line">    if (e.button &#x3D;&#x3D;&#x3D; 0) &#123;</span><br><span class="line">   	    console.log(&#39;左键&#39;)</span><br><span class="line">    &#125;</span><br><span class="line">    if (e.button &#x3D;&#x3D;&#x3D; 1) &#123;</span><br><span class="line">    	console.log(&#39;中键&#39;)</span><br><span class="line">    &#125;</span><br><span class="line">    if (e.button &#x3D;&#x3D;&#x3D; 2) &#123;</span><br><span class="line">    	console.log(&#39;右键&#39;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="animate动画库的数字增长动画组件"><a href="#animate动画库的数字增长动画组件" class="headerlink" title="animate动画库的数字增长动画组件"></a>animate动画库的数字增长动画组件</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">npm install --save animated-number-vue</span><br><span class="line"></span><br><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;animated-number </span><br><span class="line">    :value&#x3D;&quot;value&quot; </span><br><span class="line">    :formatValue&#x3D;&quot;formatToPrice&quot; </span><br><span class="line">    :duration&#x3D;&quot;300&quot;</span><br><span class="line">    &gt;&lt;&#x2F;animated-number&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">import AnimatedNumber from &quot;animated-number-vue&quot;;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  components: &#123;</span><br><span class="line">    AnimatedNumber</span><br><span class="line">  &#125;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      value: 1000</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    formatToPrice(value) &#123;</span><br><span class="line">      return &#96;$ $&#123;value.toFixed(2)&#125;&#96;;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>



<h2 id="vue使用刮刮乐组件"><a href="#vue使用刮刮乐组件" class="headerlink" title="vue使用刮刮乐组件"></a>vue使用刮刮乐组件</h2><p>参考链接：<a href="https://blog.csdn.net/until_you0311/article/details/106276527" target="_blank" rel="noopener">https://blog.csdn.net/until_you0311/article/details/106276527</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">1.使用npm下载安装</span><br><span class="line">npm install lzy-scratch-card --save</span><br><span class="line"></span><br><span class="line">2.vue项目的引用</span><br><span class="line">import scratchCard from &#39;lzy-scratch-card&#39;</span><br><span class="line"></span><br><span class="line">3.vue项目中使用</span><br><span class="line">&lt;scratch-card</span><br><span class="line">        elementId&#x3D;&quot;scratch&quot;</span><br><span class="line">        width&#x3D;&quot;600px&quot;</span><br><span class="line">        height&#x3D;&quot;300px&quot;</span><br><span class="line">        :moveRadius&#x3D;&quot;15&quot;</span><br><span class="line">        :ratio&#x3D;&quot;0.5&quot;</span><br><span class="line">        :startCallback&#x3D;&quot;startCallback&quot;</span><br><span class="line">        :clearCallback&#x3D;&quot;clearCallbackUp&quot;</span><br><span class="line">        coverColor&#x3D;&quot;#222222&quot;</span><br><span class="line">        coverImg&#x3D;&quot;https:&#x2F;&#x2F;liquid-games.oss-cn-beijing.aliyuncs.com&#x2F;single_game_images&#x2F;entertainment&#x2F;scratch_card_mask_up.png&quot;</span><br><span class="line">        :result&#x3D;&quot;result&quot;</span><br><span class="line">      &gt;</span><br><span class="line">&lt;&#x2F;scratch-card&gt;</span><br></pre></td></tr></table></figure>

<p><img src="/2020/10/29/vue%E4%B9%8Bseekcy%E5%BC%80%E5%8F%91%E5%8E%86%E7%A8%8B%E8%AE%B0%E5%BD%951/image-20210311173714259.png" alt="image-20210311173714259"></p>
<h2 id="vue使用滑块验证组件"><a href="#vue使用滑块验证组件" class="headerlink" title="vue使用滑块验证组件"></a>vue使用滑块验证组件</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line">安装</span><br><span class="line">npm install vue-drag-verify --save</span><br><span class="line">npm install font-awesome --save</span><br><span class="line"></span><br><span class="line">html</span><br><span class="line">    &lt;drag-verify </span><br><span class="line">    :width&#x3D;&quot;width&quot; </span><br><span class="line">    :height&#x3D;&quot;height&quot; </span><br><span class="line">    :text&#x3D;&quot;text&quot; </span><br><span class="line">    :success-text&#x3D;&quot;successText&quot; </span><br><span class="line">    :background&#x3D;&quot;background&quot; </span><br><span class="line">    :progress-bar-bg&#x3D;&quot;progressBarBg&quot; </span><br><span class="line">    :completed-bg&#x3D;&quot;completedBg&quot; </span><br><span class="line">    :handler-bg&#x3D;&quot;handlerBg&quot; </span><br><span class="line">    :handler-icon&#x3D;&quot;handlerIcon&quot; </span><br><span class="line">    :text-size&#x3D;&quot;textSize&quot; </span><br><span class="line">    :success-icon&#x3D;&quot;successIcon&quot;</span><br><span class="line">    ref&#x3D;&quot;Verify&quot;</span><br><span class="line">    &gt;</span><br><span class="line">&lt;&#x2F;drag-verify&gt;</span><br><span class="line"></span><br><span class="line">js</span><br><span class="line">import Vue from &#39;vue&#39;</span><br><span class="line">import &#39;font-awesome&#x2F;css&#x2F;font-awesome.min.css&#39;</span><br><span class="line">import dragVerify from &#39;vue-drag-verify&#39;</span><br><span class="line"> </span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;app&#39;,</span><br><span class="line">  components:&#123;</span><br><span class="line">    dragVerify</span><br><span class="line">  &#125;,</span><br><span class="line"> data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      handlerIcon: &quot;fa fa-angle-double-right&quot;,</span><br><span class="line">      successIcon: &quot;fa fa-check&quot;,</span><br><span class="line">      background: &quot;#cccccc&quot;,</span><br><span class="line">      progressBarBg: &quot;#4b0&quot;,</span><br><span class="line">      completedBg: &quot;#66cc66&quot;,</span><br><span class="line">      handlerBg: &quot;#fff&quot;,</span><br><span class="line">      text: &quot;请将滑块拖动到右侧&quot;,</span><br><span class="line">      successText: &quot;验证成功&quot;,</span><br><span class="line">      width: 320,</span><br><span class="line">      height: 42,</span><br><span class="line">      textSize: &quot;18px&quot;,</span><br><span class="line">      isCircle:&#39;true&#39;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">验证</span><br><span class="line"> console.log(this.$refs.Verify.isMoving)</span><br><span class="line"> console.log(this.$refs.Verify.isPassing)</span><br><span class="line"> console.log(this.$refs.Verify.handlerIconClass)</span><br><span class="line">结果</span><br><span class="line">&#x2F;&#x2F;未滑动完打印</span><br><span class="line"> false</span><br><span class="line"> false</span><br><span class="line"> fa fa-check</span><br><span class="line">&#x2F;&#x2F;滑动完成打印</span><br><span class="line"> false</span><br><span class="line"> true</span><br><span class="line"> fa fa-angle-double-right</span><br><span class="line"></span><br><span class="line">插件的各参数</span><br><span class="line">名称 | 类型 | 默认值 | 说明</span><br><span class="line">--- | --- | --- | ---</span><br><span class="line">width | Number | 200 | 组件的宽度</span><br><span class="line">height | Number | 60 | 组件的高度</span><br><span class="line">text | String | swiping to the right side | 提示信息文字</span><br><span class="line">successText | String | success | 验证通过时的提示信息文字</span><br><span class="line">background | String | #ccc | 组件背景色</span><br><span class="line">color | String | #ffffff | 组件文字颜色</span><br><span class="line">progressBarBg | String | #FFFF99 | 拖拽过程中的背景颜色</span><br><span class="line">completedBg | String | #66cc66 | 验证成功的背景颜色</span><br><span class="line">circle | Boolean | true | 设为true,组件为圆形按钮，否则为长方形</span><br><span class="line">handlerIcon | String | - | 拖拽按钮的icon</span><br><span class="line">successIcon | String | - | 验证通过时拖拽按钮的icon</span><br><span class="line">handlerBg | String | #fff | 拖拽按钮的背景色</span><br><span class="line">textSize | String | 20px | 组件的文字大小</span><br></pre></td></tr></table></figure>



<h2 id="vue使用Print-js"><a href="#vue使用Print-js" class="headerlink" title="vue使用Print.js"></a>vue使用Print.js</h2><p>一、vue安装命令：<br>npm install print-js –save</p>
<p>二、引入<br>这个引入不需要在main.js中，直接在使用的.vue中引入即可</p>
<p><img src="https://img-blog.csdnimg.cn/20200724183357229.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl8zNjk2NTA3Mg==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<p>这里颜色虽然是灰色，但是也要添加，否则会报错。</p>
<p>三、编码<br>我这里要打印 html 中的div ，调用函数找到 div 的 id。</p>
<p><img src="https://img-blog.csdnimg.cn/20200724183448993.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl8zNjk2NTA3Mg==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">methods: &#123;</span><br><span class="line">		goPrint()&#123;</span><br><span class="line">                console.log(&#39;打印&#39;)</span><br><span class="line">                printJS(&#123;</span><br><span class="line">                    printable: &#39;printCons&#39;,</span><br><span class="line">                    type: &#39;html&#39;,</span><br><span class="line">                    &#x2F;&#x2F;properties: [</span><br><span class="line">                    &#x2F;&#x2F;    &#123; field: &#39;name&#39;, displayName: &#39;姓名&#39;, columnSize:&#96;50%&#96;&#125;,</span><br><span class="line">                    &#x2F;&#x2F;    &#123; field: &#39;sex&#39;, displayName: &#39;性别&#39;,columnSize:&#96;50%&#96;&#125;,</span><br><span class="line">                    &#x2F;&#x2F;],</span><br><span class="line">                    &#x2F;&#x2F; header: &#96;&lt;p class&#x3D;&quot;custom-p&quot;&gt; 名单 &lt;&#x2F;p&gt;&#96;,</span><br><span class="line">                    &#x2F;&#x2F; style: &#39;#printCons &#123;width: 600px;&#125; .no-print&#123;width: 0px&#125; .itemText1 &#123; width: 200px &#125; .itemText2 &#123; width: 200px &#125; .itemText3 &#123; width: 200px &#125; .itemText4 &#123; width: 200px &#125;&#39;,</span><br><span class="line">                    &#x2F;&#x2F; gridHeaderStyle:&#39;font-size:12px; padding:3px; border:1px solid; font-weight: 100; text-align:left;&#39;,</span><br><span class="line">                    &#x2F;&#x2F; gridStyle:&#39;font-size:12px; padding:3px; border:1px solid; text-align:left;&#39;,</span><br><span class="line">                    &#x2F;&#x2F; repeatTableHeader: true,</span><br><span class="line">                    &#x2F;&#x2F; scanStyles:true,</span><br><span class="line">                    targetStyles: [&#39;*&#39;],</span><br><span class="line">                    ignoreElements:[&#39;no-print&#39;,&#39;bc&#39;,&#39;gb&#39;]</span><br><span class="line">                &#125;)</span><br><span class="line">            &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">printable:要打印的id。</span><br><span class="line">type:可以是 html 、pdf、 json 等。</span><br><span class="line">properties:是打印json时所需要的数据属性。</span><br><span class="line">gridHeaderStyle和gridStyle都是打印json时可选的样式。</span><br><span class="line">repeatTableHeader:在打印JSON数据时使用。设置为时false，数据表标题将仅在第一页显示。</span><br><span class="line">scanStyles:设置为false时，库将不处理应用于正在打印的html的样式。使用css参数时很有用。</span><br><span class="line">targetStyles: [’*’],这样设置继承了页面要打印元素原有的css属性。</span><br><span class="line">style:传入自定义样式的字符串，使用在要打印的html页面 也就是纸上的样子。</span><br><span class="line">ignoreElements：传入要打印的div中的子元素id，使其不打印。非常好用</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">tips：需要强制分页，加一个这样的style即可</span><br><span class="line">page-break-after:always</span><br><span class="line">示例</span><br><span class="line">&lt;div style&#x3D;&quot;page-break-after:always&quot;&gt;我是封面&lt;&#x2F;div&gt;</span><br><span class="line">&lt;div style&#x3D;&quot;page-break-after:always&quot;&gt;我是目录，你不知道我的内容有多长&lt;&#x2F;div&gt;</span><br><span class="line">&lt;div&gt;我是正文，我需要从一个新页面开始展示&lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure>



<h2 id="vue下划线跟随的两种方式"><a href="#vue下划线跟随的两种方式" class="headerlink" title="vue下划线跟随的两种方式"></a>vue下划线跟随的两种方式</h2><h3 id="纯css方式"><a href="#纯css方式" class="headerlink" title="纯css方式"></a>纯css方式</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">html</span><br><span class="line">&lt;div class&#x3D;&quot;main&quot;&gt;</span><br><span class="line">    &lt;div v-for&#x3D;&quot;(nav,index) in navs&quot; :key&#x3D;&quot;index&quot; class&#x3D;&quot;nav&quot;&gt;</span><br><span class="line">    	&lt;div&gt;&#123;&#123;nav.name&#125;&#125;&lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line"></span><br><span class="line">js</span><br><span class="line">navs: [&#123; name: &quot;北京&quot; &#125;, &#123; name: &quot;哈尔滨黑龙江&quot; &#125;, &#123; name: &quot;上海&quot; &#125;, &#123; name: &quot;三个人&quot; &#125;,],</span><br><span class="line"></span><br><span class="line">css</span><br><span class="line">.main &#123;</span><br><span class="line">    position: relative;</span><br><span class="line">    width: fit-content;</span><br><span class="line">    margin: 0 auto;</span><br><span class="line">    text-align: center;</span><br><span class="line">    display: flex;</span><br><span class="line">&#125;</span><br><span class="line">.nav &#123;</span><br><span class="line">    position: relative;</span><br><span class="line">    overflow: hidden;</span><br><span class="line">    padding: 10px;</span><br><span class="line">&#125;</span><br><span class="line">.nav::after &#123;</span><br><span class="line">    content: &quot;&quot;;</span><br><span class="line">    position: absolute;</span><br><span class="line">    bottom: 0;</span><br><span class="line">    left: 100%;</span><br><span class="line">    width: 0;</span><br><span class="line">    height: 2px;</span><br><span class="line">    background-color: #000;</span><br><span class="line">    transition: all 0.3s ease-out;</span><br><span class="line">&#125;</span><br><span class="line">.nav &#123;</span><br><span class="line">  &amp;:hover &#123;</span><br><span class="line">    &amp;::after &#123;</span><br><span class="line">      width: 100%;</span><br><span class="line">      left: 0;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &amp; + .nav::after &#123;</span><br><span class="line">      left: 0;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="js事件方式（高阶用法）"><a href="#js事件方式（高阶用法）" class="headerlink" title="js事件方式（高阶用法）"></a>js事件方式（高阶用法）</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">html</span><br><span class="line">&lt;div class&#x3D;&quot;main&quot; ref&#x3D;&quot;MainHeader&quot;&gt;</span><br><span class="line">            &lt;div v-for&#x3D;&quot;(nav,index) in navs&quot; :key&#x3D;&quot;index&quot; :class&#x3D;&quot;&#123;nav:true,active:index&#x3D;&#x3D;activeNav&#125;&quot;</span><br><span class="line">                @mouseenter&#x3D;&quot;setCurrentNav(index)&quot; @click&#x3D;&quot;setActiveNav(index)&quot; @mouseleave&#x3D;&quot;handleLeaveMainHeader &quot;&gt;</span><br><span class="line">                &lt;div class&#x3D;&quot;nav-title&quot;&gt;&#123;&#123;nav.name&#125;&#125;&lt;&#x2F;div&gt;</span><br><span class="line">            &lt;&#x2F;div&gt;</span><br><span class="line">            &lt;i class&#x3D;&quot;nav-underline&quot; :style&#x3D;&quot;navLineStyle&quot;&gt;&lt;&#x2F;i&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">        </span><br><span class="line">js</span><br><span class="line">data() &#123;</span><br><span class="line">        return &#123;</span><br><span class="line">            activeNav: 0,</span><br><span class="line">            activeNavStyle:&#123;width:0,left:0&#125;,</span><br><span class="line">            currentNav: 0,</span><br><span class="line">            currentNavStyle:&#123;width:0,left:0&#125;,</span><br><span class="line">            navs: [&#123; name: &quot;北京&quot; &#125;, &#123; name: &quot;哈尔滨黑龙江&quot; &#125;, &#123; name: &quot;上海&quot; &#125;, &#123; name: &quot;三个人&quot; &#125;,],</span><br><span class="line">    &#125;,</span><br><span class="line">    computed: &#123;</span><br><span class="line">        navLineStyle() &#123;</span><br><span class="line">            let style &#x3D; this.currentNavStyle || this.activeNavStyle;</span><br><span class="line">            return &#123; width: &#96;$&#123;style.width&#125;px&#96;, left: &#96;$&#123;style.left&#125;px&#96; &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">        handleLeaveMainHeader() &#123;</span><br><span class="line">            &#x2F;&#x2F; 鼠标离开导航栏时，重置下划线状态</span><br><span class="line">            this.currentNavStyle &#x3D; null</span><br><span class="line">        &#125;,</span><br><span class="line">        setActiveNav(index) &#123;</span><br><span class="line">            &#x2F;&#x2F; 点击导航时，设置激活样式</span><br><span class="line">            this.activeNav &#x3D; index</span><br><span class="line">            this.activeNavStyle &#x3D; this.getNavStyle(index)</span><br><span class="line">        &#125;,</span><br><span class="line">        setCurrentNav(index) &#123;</span><br><span class="line">            &#x2F;&#x2F; 鼠标移动到导航时，记录临时状态</span><br><span class="line">            this.currentNav &#x3D; index</span><br><span class="line">            this.currentNavStyle &#x3D; this.getNavStyle(index)</span><br><span class="line">        &#125;,</span><br><span class="line">        getNavStyle(index) &#123; &#x2F;&#x2F; 根据导航的 index 移动下划线</span><br><span class="line">            let childNodes &#x3D; this.$refs.MainHeader.childNodes</span><br><span class="line">            &#x2F;&#x2F; 根据当前导航的宽度，设置下划线的宽度</span><br><span class="line">            let width &#x3D; childNodes[index].clientWidth</span><br><span class="line">            &#x2F;&#x2F; 设置下划线的默认位置</span><br><span class="line">            let left &#x3D; 0</span><br><span class="line">            if (index &gt; 0) &#123;</span><br><span class="line">                &#x2F;&#x2F; 计算左边导航的总宽度，设置为下划线的左移距离</span><br><span class="line">                for (let i &#x3D; 0; i &lt; index; i++) &#123;</span><br><span class="line">                    left +&#x3D; childNodes[i].clientWidth</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            return &#123; width, left &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/vue/" rel="tag"># vue</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2020/10/29/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%AE%BE%E7%BD%AE%E7%9B%B8%E5%85%B3/" rel="next" title="计算机设置相关">
                <i class="fa fa-chevron-left"></i> 计算机设置相关
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2020/10/30/xshell%E4%B9%8B%E5%88%9D%E8%A7%81/" rel="prev" title="xshell之初见">
                xshell之初见 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/header.jpg"
                alt="Dali" />
            
              <p class="site-author-name" itemprop="name">Dali</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">153</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">73</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">154</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Router"><span class="nav-number">1.</span> <span class="nav-text">Router</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#解决vue路由跳转未匹配路径时出现空白页的问题"><span class="nav-number">1.1.</span> <span class="nav-text">解决vue路由跳转未匹配路径时出现空白页的问题</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#addRoutes"><span class="nav-number">1.2.</span> <span class="nav-text">addRoutes</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#指令（directive）"><span class="nav-number">2.</span> <span class="nav-text">指令（directive）</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#v-focus-自定义指令解决autofocus失效"><span class="nav-number">2.1.</span> <span class="nav-text">v-focus(自定义指令解决autofocus失效)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#动态指令参数"><span class="nav-number">2.2.</span> <span class="nav-text">动态指令参数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#高精度权限控制—自定义指令directive"><span class="nav-number">2.3.</span> <span class="nav-text">高精度权限控制—自定义指令directive</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#修改dev地址为自动获取本地ip"><span class="nav-number">3.</span> <span class="nav-text">修改dev地址为自动获取本地ip</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#在npm-run-dev之后，Vue都做了哪些工作呢"><span class="nav-number">3.1.</span> <span class="nav-text">在npm run dev之后，Vue都做了哪些工作呢</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#打包"><span class="nav-number">4.</span> <span class="nav-text">打包</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#js-css找不到"><span class="nav-number">4.1.</span> <span class="nav-text">js&#x2F;css找不到</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#背景图片找不到"><span class="nav-number">4.2.</span> <span class="nav-text">背景图片找不到</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#router-view中的内容显示不出来（关闭路由history模式）"><span class="nav-number">4.3.</span> <span class="nav-text">router-view中的内容显示不出来（关闭路由history模式）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#打包出错显示空白页，或者Failed-to-load-resource-net-ERR-FILE-NOT-FOUND"><span class="nav-number">4.4.</span> <span class="nav-text">打包出错显示空白页，或者Failed to load resource: net::ERR_FILE_NOT_FOUND</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Vue-elementUI-build打包部署后字体图标丢失，控制台显示文件element-icons-woff和element-icons-ttf文件404"><span class="nav-number">4.5.</span> <span class="nav-text">Vue+elementUI  build打包部署后字体图标丢失，控制台显示文件element-icons.woff和element-icons.ttf文件404</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Git"><span class="nav-number">5.</span> <span class="nav-text">Git</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#报错原因"><span class="nav-number">5.0.1.</span> <span class="nav-text">报错原因</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#解决方案"><span class="nav-number">5.0.2.</span> <span class="nav-text">解决方案</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#"><span class="nav-number"></span> <span class="nav-text">Hello, everybody!</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#设置elementUI的Message的全局默认属性"><span class="nav-number">1.</span> <span class="nav-text">设置elementUI的Message的全局默认属性</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#全局filters"><span class="nav-number">2.</span> <span class="nav-text">全局filters</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#使用特殊字体（digital等）"><span class="nav-number">3.</span> <span class="nav-text">使用特殊字体（digital等）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#sass安装失败"><span class="nav-number">4.</span> <span class="nav-text">sass安装失败</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#随机获取布尔值（true-false"><span class="nav-number">5.</span> <span class="nav-text">随机获取布尔值（true&#x2F;false</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#判断给的日期是否为工作日"><span class="nav-number">6.</span> <span class="nav-text">判断给的日期是否为工作日</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#localstorage清除特定的一类"><span class="nav-number">7.</span> <span class="nav-text">localstorage清除特定的一类</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#布署服务器后刷新404"><span class="nav-number">8.</span> <span class="nav-text">布署服务器后刷新404</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#为什么history模式下有问题"><span class="nav-number">8.1.</span> <span class="nav-text">为什么history模式下有问题</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#为什么hash模式下没有问题"><span class="nav-number">8.2.</span> <span class="nav-text">为什么hash模式下没有问题</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#解决方案-1"><span class="nav-number">8.3.</span> <span class="nav-text">解决方案</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#监听页面或者元素的滚动-控制元素的滚动（jquery）"><span class="nav-number">9.</span> <span class="nav-text">监听页面或者元素的滚动&#x2F;控制元素的滚动（jquery）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#上传图片-excel文件到接口"><span class="nav-number">10.</span> <span class="nav-text">上传图片&#x2F;excel文件到接口</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#preserveWhitespace-去除空格"><span class="nav-number">11.</span> <span class="nav-text">preserveWhitespace(去除空格)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#img-加载失败"><span class="nav-number">12.</span> <span class="nav-text">img 加载失败</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#require-context"><span class="nav-number">13.</span> <span class="nav-text">require.context()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#在vue项目中监听键盘事件的方法"><span class="nav-number">14.</span> <span class="nav-text">在vue项目中监听键盘事件的方法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#使用插件vue-clipboard2复制内容至剪切板-两种使用方法"><span class="nav-number">15.</span> <span class="nav-text">使用插件vue-clipboard2复制内容至剪切板(两种使用方法)</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#方式一"><span class="nav-number">15.0.0.1.</span> <span class="nav-text">方式一</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#方式二"><span class="nav-number">15.0.0.2.</span> <span class="nav-text">方式二</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#在vue中使用vue-qriously生成二维码"><span class="nav-number">16.</span> <span class="nav-text">在vue中使用vue-qriously生成二维码</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#使用html2canvas截取图片"><span class="nav-number">17.</span> <span class="nav-text">使用html2canvas截取图片</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#document文档加载过程分析"><span class="nav-number">18.</span> <span class="nav-text">document文档加载过程分析</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Object-defineProperty-和Proxy"><span class="nav-number">19.</span> <span class="nav-text">Object.defineProperty,和Proxy</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Vue-js使用Blob的方式实现excel表格的下载-流文件下载"><span class="nav-number">20.</span> <span class="nav-text">Vue.js使用Blob的方式实现excel表格的下载(流文件下载)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#vue-echarts入门使用"><span class="nav-number">21.</span> <span class="nav-text">vue-echarts入门使用</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#vue使用鼠标中键，左键，右键事件"><span class="nav-number">22.</span> <span class="nav-text">vue使用鼠标中键，左键，右键事件</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#animate动画库的数字增长动画组件"><span class="nav-number">23.</span> <span class="nav-text">animate动画库的数字增长动画组件</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#vue使用刮刮乐组件"><span class="nav-number">24.</span> <span class="nav-text">vue使用刮刮乐组件</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#vue使用滑块验证组件"><span class="nav-number">25.</span> <span class="nav-text">vue使用滑块验证组件</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#vue使用Print-js"><span class="nav-number">26.</span> <span class="nav-text">vue使用Print.js</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#vue下划线跟随的两种方式"><span class="nav-number">27.</span> <span class="nav-text">vue下划线跟随的两种方式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#纯css方式"><span class="nav-number">27.1.</span> <span class="nav-text">纯css方式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#js事件方式（高阶用法）"><span class="nav-number">27.2.</span> <span class="nav-text">js事件方式（高阶用法）</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Dali</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Gemini</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  
  

  

  

  

</body>
</html>
