<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="vue," />





  <link rel="alternate" href="/atom.xml" title="DaliBlogs" type="application/atom+xml" />






<meta name="description" content="Routerhash模式解析url参数123456789101112131415161718&#x2F;&#x2F; 大屏看板页面获取url参数存入localstoragevar url &#x3D; window.location.hash.split(&#39;?&#39;, 2)[1];var theRequest &#x3D; &amp;#123;&amp;#125;;var strs &#x3D; ur">
<meta property="og:type" content="article">
<meta property="og:title" content="vue之seekcy开发历程记录1">
<meta property="og:url" content="http://yoursite.com/2020/10/29/vue%E4%B9%8Bseekcy%E5%BC%80%E5%8F%91%E5%8E%86%E7%A8%8B%E8%AE%B0%E5%BD%951/index.html">
<meta property="og:site_name" content="DaliBlogs">
<meta property="og:description" content="Routerhash模式解析url参数123456789101112131415161718&#x2F;&#x2F; 大屏看板页面获取url参数存入localstoragevar url &#x3D; window.location.hash.split(&#39;?&#39;, 2)[1];var theRequest &#x3D; &amp;#123;&amp;#125;;var strs &#x3D; ur">
<meta property="og:image" content="https://img-blog.csdnimg.cn/2020082419134573.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NzA4NDI3NQ==,size_16,color_FFFFFF,t_70#pic_center">
<meta property="og:image" content="http://yoursite.com/2020/10/29/vue%E4%B9%8Bseekcy%E5%BC%80%E5%8F%91%E5%8E%86%E7%A8%8B%E8%AE%B0%E5%BD%951/image-20201102193540065.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20200717165354889.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MDU3MTMzMQ==,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="http://yoursite.com/2020/10/29/vue%E4%B9%8Bseekcy%E5%BC%80%E5%8F%91%E5%8E%86%E7%A8%8B%E8%AE%B0%E5%BD%951/image-20201103113345574.png">
<meta property="og:image" content="https://mmbiz.qpic.cn/mmbiz_png/4MXV7svuTWI1DCpR2ibcNHRdddtrc6czxjKO7rwKyUgyZtBCrvxa365vxKamvibPGDEAoEqxdYicWdsCj4nib0siaEA/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1">
<meta property="og:image" content="https://mmbiz.qpic.cn/mmbiz_png/4MXV7svuTWI1DCpR2ibcNHRdddtrc6czxU3WA03eWNCEfpgJtdhXGjCINeTiadxbAMB7lFcd0CAOtX36wysuVTzQ/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1">
<meta property="og:image" content="https://img2018.cnblogs.com/blog/1149000/201901/1149000-20190108162846264-467114685.png">
<meta property="og:image" content="https://img2018.cnblogs.com/blog/1149000/201901/1149000-20190108162728713-1887350521.png">
<meta property="og:image" content="https://images2017.cnblogs.com/blog/1202246/201711/1202246-20171121095445961-1591205997.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20191104102906668.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNjcxOTk2,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img2018.cnblogs.com/blog/935329/201905/935329-20190528164613052-25776252.png">
<meta property="og:image" content="https://upload-images.jianshu.io/upload_images/228805-ffd461efeb8a26a2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1184/format/webp">
<meta property="og:image" content="http://yoursite.com/2020/10/29/vue%E4%B9%8Bseekcy%E5%BC%80%E5%8F%91%E5%8E%86%E7%A8%8B%E8%AE%B0%E5%BD%951/image-20210408105614935.png">
<meta property="og:image" content="https://upload-images.jianshu.io/upload_images/228805-e96334b872909dc4.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1184/format/webp">
<meta property="og:image" content="https://upload-images.jianshu.io/upload_images/228805-fce11005e6ee8e2d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1184/format/webp">
<meta property="og:image" content="https://upload-images.jianshu.io/upload_images/228805-8c742e137feb7ce5.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1184/format/webp">
<meta property="og:image" content="https://upload-images.jianshu.io/upload_images/228805-e0ca7e9d694e3f52.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1184/format/webp">
<meta property="og:image" content="https://upload-images.jianshu.io/upload_images/228805-7bb2a59daa90975c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp">
<meta property="og:image" content="https://upload-images.jianshu.io/upload_images/228805-aa15aa1014eadbcf.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp">
<meta property="og:image" content="http://yoursite.com/2020/10/29/vue%E4%B9%8Bseekcy%E5%BC%80%E5%8F%91%E5%8E%86%E7%A8%8B%E8%AE%B0%E5%BD%951/require(">
<meta property="og:image" content="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5fa0e38c036644f2a155b1a6098052e9~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp">
<meta property="og:image" content="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0d6deab20fe948b6956b6c53463aff27~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp">
<meta property="og:image" content="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ce26ef0bfff64250acd186a47c40cbc6~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp">
<meta property="og:image" content="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1d66b9f093d6406aa528a925072d98c4~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp">
<meta property="og:image" content="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9f21b60be3b64d0a974ef7567a212b78~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp">
<meta property="og:image" content="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/31d0d8f969e24c0a9eb0bb5d76a20c84~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp">
<meta property="og:image" content="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7ec2b4a3660346caa84ca333d354b043~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp">
<meta property="og:image" content="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/65f80026e2b147dda922866eee53bbec~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp">
<meta property="og:image" content="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7dbbc591eee144d4ab66f41f94918fa7~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp">
<meta property="og:image" content="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c600eb8683a04e02bc62b396bba9f426~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp">
<meta property="og:image" content="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c7e2b020daa448af90173e5692292feb~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp">
<meta property="og:image" content="http://yoursite.com/2020/10/29/vue%E4%B9%8Bseekcy%E5%BC%80%E5%8F%91%E5%8E%86%E7%A8%8B%E8%AE%B0%E5%BD%951/image-20220801140736957.png">
<meta property="og:image" content="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/815d8c5298634ad2b87636219331e581~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp">
<meta property="og:image" content="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/acd29997ec6d4824be359a9659b949ff~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp">
<meta property="og:image" content="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/72e044e1620f4c7c908ef839a6b32534~tplv-k3u1fbpfcp-no-mark:800:0:0:0.awebp">
<meta property="og:image" content="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0c23be97b6e743bbb983ad67b62c08d2~tplv-k3u1fbpfcp-zoom-in-crop-mark:1304:0:0:0.awebp">
<meta property="og:image" content="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/49d218ca6c084701b324cb9d59ac9203~tplv-k3u1fbpfcp-zoom-in-crop-mark:1304:0:0:0.awebp">
<meta property="og:image" content="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c696b444aae543e9a6ad06d3e8235941~tplv-k3u1fbpfcp-zoom-in-crop-mark:1304:0:0:0.awebp">
<meta property="og:image" content="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/98c36febaa694f31a14af7d07cfd807b~tplv-k3u1fbpfcp-zoom-in-crop-mark:1304:0:0:0.awebp">
<meta property="og:image" content="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0b8648b7133842358d66f0e63ad73374~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp">
<meta property="og:image" content="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a0584fa8937444a48b5c8baf442a1526~tplv-k3u1fbpfcp-zoom-in-crop-mark:1304:0:0:0.awebp">
<meta property="og:image" content="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/af6b10e6fcbb4ec1813a52b5b3f4c51c~tplv-k3u1fbpfcp-zoom-in-crop-mark:1304:0:0:0.awebp">
<meta property="og:image" content="http://yoursite.com/2020/10/29/vue%E4%B9%8Bseekcy%E5%BC%80%E5%8F%91%E5%8E%86%E7%A8%8B%E8%AE%B0%E5%BD%951/image-20220418094123763.png">
<meta property="og:image" content="http://yoursite.com/2020/10/29/vue%E4%B9%8Bseekcy%E5%BC%80%E5%8F%91%E5%8E%86%E7%A8%8B%E8%AE%B0%E5%BD%951/image-20220413171836200.png">
<meta property="og:image" content="http://yoursite.com/2020/10/29/vue%E4%B9%8Bseekcy%E5%BC%80%E5%8F%91%E5%8E%86%E7%A8%8B%E8%AE%B0%E5%BD%951/image-20220418100017750.png">
<meta property="og:image" content="http://yoursite.com/2020/10/29/vue%E4%B9%8Bseekcy%E5%BC%80%E5%8F%91%E5%8E%86%E7%A8%8B%E8%AE%B0%E5%BD%951/image-20220418101513526.png">
<meta property="og:image" content="https://mmbiz.qpic.cn/mmbiz_png/JIv7z1kbomC1q64N8lmP3G4pmFoVadU1pJSIJvFyqr5aGADc7ibWE0lKAibtUG9bicIMWSCBVd5icJyssbG2JiahpLQ/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1">
<meta property="og:image" content="http://yoursite.com/2020/10/29/vue%E4%B9%8Bseekcy%E5%BC%80%E5%8F%91%E5%8E%86%E7%A8%8B%E8%AE%B0%E5%BD%951/image-20210401115059658.png">
<meta property="og:image" content="http://yoursite.com/2020/10/29/vue%E4%B9%8Bseekcy%E5%BC%80%E5%8F%91%E5%8E%86%E7%A8%8B%E8%AE%B0%E5%BD%951/image-20210326143420979.png">
<meta property="og:image" content="https://images2018.cnblogs.com/blog/1245775/201805/1245775-20180523165030020-1621196585.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/2019052717580919.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI3Njc0NDM5,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20190527175840224.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI3Njc0NDM5,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="http://yoursite.com/2020/10/29/vue%E4%B9%8Bseekcy%E5%BC%80%E5%8F%91%E5%8E%86%E7%A8%8B%E8%AE%B0%E5%BD%951/image-20210311153400216.png">
<meta property="og:image" content="http://yoursite.com/2020/10/29/vue%E4%B9%8Bseekcy%E5%BC%80%E5%8F%91%E5%8E%86%E7%A8%8B%E8%AE%B0%E5%BD%951/image-20210311154859537.png">
<meta property="og:image" content="http://yoursite.com/2020/10/29/vue%E4%B9%8Bseekcy%E5%BC%80%E5%8F%91%E5%8E%86%E7%A8%8B%E8%AE%B0%E5%BD%951/image-20210401120037560.png">
<meta property="og:image" content="http://yoursite.com/2020/10/29/vue%E4%B9%8Bseekcy%E5%BC%80%E5%8F%91%E5%8E%86%E7%A8%8B%E8%AE%B0%E5%BD%951/image-20210401120059153.png">
<meta property="og:image" content="https://mmbiz.qpic.cn/mmbiz_gif/QRibyjewM1ID6g2zVJH814ia5VKJZDQSO3T8A5ZchEybDj8BAXDyYCxfJib2MpkNzQoa0z7wcxYicOIR7AtnxicNXEg/640?wx_fmt=gif&tp=webp&wxfrom=5&wx_lazy=1">
<meta property="og:image" content="https://mmbiz.qpic.cn/mmbiz_gif/meG6Vo0MevjHibKAlR5lU2mBVoku5ueQlhky9YhOfQkIsdIXPibDicOxfrc3FnsBTCUyjFJpTh72CV2lkeSicQibL1w/640?wx_fmt=gif&wxfrom=5&wx_lazy=1">
<meta property="og:image" content="https://mmbiz.qpic.cn/mmbiz_gif/lgHVurTfTcyxmRjdKcuADSULxn59Eibxjbg9hCpE0kTzG7hwCqNGUrWSMZRxomMVCHqVXS8RX7ic9gxdib4RVp8EQ/640?wx_fmt=gif&wxfrom=5&wx_lazy=1">
<meta property="og:image" content="https://mmbiz.qpic.cn/mmbiz_gif/meG6Vo0MevjHibKAlR5lU2mBVoku5ueQlhSEKaf25dZzOEapiaIdkkrtM3U7238lwxEwFWdBaysuiaPJ5YlB87vbQ/640?wx_fmt=gif&wxfrom=5&wx_lazy=1">
<meta property="og:image" content="https://mmbiz.qpic.cn/mmbiz_gif/meG6Vo0MevjHibKAlR5lU2mBVoku5ueQl7Dgtd73l8Xw127ZUrmGUGon9dfAkQqIFLbib0jzdoP7ticHCHMlU69Zg/640?wx_fmt=gif&wxfrom=5&wx_lazy=1">
<meta property="og:image" content="https://mmbiz.qpic.cn/mmbiz_gif/meG6Vo0MevjHibKAlR5lU2mBVoku5ueQl7ic2pYicv4RL9g0sGCmrdUqsFDwDMhoz3ltASX4zaDib9YFDziaOuQUYlw/640?wx_fmt=gif&wxfrom=5&wx_lazy=1">
<meta property="og:image" content="https://mmbiz.qpic.cn/mmbiz_gif/meG6Vo0MevjHibKAlR5lU2mBVoku5ueQlYibdpaQrX29unZGuU9CvAbkclnTWGydX1xOz6Do1vG1bxYXcsyv3sBg/640?wx_fmt=gif&wxfrom=5&wx_lazy=1">
<meta property="og:image" content="https://mmbiz.qpic.cn/mmbiz_gif/meG6Vo0MevjHibKAlR5lU2mBVoku5ueQljoQAq3GX5GqhzGibzl8CJ8kJthZ8ECRmlzQeuNlqEkUgj2ia8EibYDIJw/640?wx_fmt=gif&wxfrom=5&wx_lazy=1">
<meta property="og:image" content="https://mmbiz.qpic.cn/mmbiz_gif/meG6Vo0MevjHibKAlR5lU2mBVoku5ueQl6fZkiaicWAKj7ickq7icxhxlno0Q2Vq2WOmdorf2WlRX4SQiceOaNLbZLEQ/640?wx_fmt=gif&wxfrom=5&wx_lazy=1">
<meta property="og:image" content="https://mmbiz.qpic.cn/mmbiz_gif/lgHVurTfTcyxmRjdKcuADSULxn59EibxjeMWgOwWd8FPlxbIj4VoiaqzZ4EicQiay1hhOtKjXWFqLqUuvz5Mu0HUuw/640?wx_fmt=gif&wxfrom=5&wx_lazy=1">
<meta property="og:image" content="https://mmbiz.qpic.cn/mmbiz_gif/meG6Vo0MevjHibKAlR5lU2mBVoku5ueQlLNPjqGs1p83q9ATiaOleLkEqfmSEdibR5fjbufoFQv0QHDCoxxCQXibZA/640?wx_fmt=gif&wxfrom=5&wx_lazy=1">
<meta property="og:image" content="https://mmbiz.qpic.cn/mmbiz_gif/meG6Vo0MevjHibKAlR5lU2mBVoku5ueQl22x19GPl77vpp03dNulzNSsOT14APjuQ7icich9mj4TEib9pVvvYC6lMw/640?wx_fmt=gif&wxfrom=5&wx_lazy=1">
<meta property="og:image" content="https://mmbiz.qpic.cn/mmbiz_gif/meG6Vo0MevjHibKAlR5lU2mBVoku5ueQl75ibETQib59MiaDIPS7CyhRibumwAwWClHHIWGRHgzGPo1Kcus5a1ibCmIg/640?wx_fmt=gif&wxfrom=5&wx_lazy=1">
<meta property="og:image" content="https://mmbiz.qpic.cn/mmbiz_gif/meG6Vo0MevjHibKAlR5lU2mBVoku5ueQlLcPpYkqhIUhltDrh8QIqnl9M9lzFviaasmZWIoj9vCQfXWqvdNE8ibIQ/640?wx_fmt=gif&wxfrom=5&wx_lazy=1">
<meta property="og:image" content="https://mmbiz.qpic.cn/mmbiz_png/JIv7z1kbomC1q64N8lmP3G4pmFoVadU1tagUE9S7wlzyWOBQECxMjZnzia02PUfaMzFtMtLrOdqJcN5JcjZY6xQ/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1">
<meta property="og:image" content="https://mmbiz.qpic.cn/mmbiz_gif/JIv7z1kbomC1q64N8lmP3G4pmFoVadU1ZHrg2H3oiaF6Ffu76rlWyTSQwM8BHRyAZRy3o1fMpiaqnqibia5DEewxfQ/640?wx_fmt=gif&tp=webp&wxfrom=5&wx_lazy=1">
<meta property="og:image" content="https://mmbiz.qpic.cn/mmbiz_gif/JIv7z1kbomC1q64N8lmP3G4pmFoVadU11PG17MIGs0MCvicic605XN3OJ7zekILOKsKkg32UcomztFUKoWLZ9xnQ/640?wx_fmt=gif&tp=webp&wxfrom=5&wx_lazy=1">
<meta property="og:image" content="http://yoursite.com/2020/10/29/vue%E4%B9%8Bseekcy%E5%BC%80%E5%8F%91%E5%8E%86%E7%A8%8B%E8%AE%B0%E5%BD%951/image-20210402171320657.png">
<meta property="og:image" content="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a7ac190b50ef4a7f93a1a528459dfa6c~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp">
<meta property="og:image" content="http://yoursite.com/2020/10/29/vue%E4%B9%8Bseekcy%E5%BC%80%E5%8F%91%E5%8E%86%E7%A8%8B%E8%AE%B0%E5%BD%951/image-20221129181836130.png">
<meta property="og:image" content="http://yoursite.com/2020/10/29/vue%E4%B9%8Bseekcy%E5%BC%80%E5%8F%91%E5%8E%86%E7%A8%8B%E8%AE%B0%E5%BD%951/image-20220804092833798.png">
<meta property="og:image" content="http://yoursite.com/2020/10/29/vue%E4%B9%8Bseekcy%E5%BC%80%E5%8F%91%E5%8E%86%E7%A8%8B%E8%AE%B0%E5%BD%951/image-20220804093317665.png">
<meta property="og:image" content="http://yoursite.com/2020/10/29/vue%E4%B9%8Bseekcy%E5%BC%80%E5%8F%91%E5%8E%86%E7%A8%8B%E8%AE%B0%E5%BD%951/image-20220804093423674.png">
<meta property="og:image" content="http://yoursite.com/2020/10/29/vue%E4%B9%8Bseekcy%E5%BC%80%E5%8F%91%E5%8E%86%E7%A8%8B%E8%AE%B0%E5%BD%951/image-20220804093756104.png">
<meta property="og:image" content="http://yoursite.com/2020/10/29/vue%E4%B9%8Bseekcy%E5%BC%80%E5%8F%91%E5%8E%86%E7%A8%8B%E8%AE%B0%E5%BD%951/image-20220804093929113.png">
<meta property="og:image" content="https://upload-images.jianshu.io/upload_images/4869019-9fc738b61bdc96ab.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp">
<meta property="og:image" content="http://yoursite.com/2020/10/29/vue%E4%B9%8Bseekcy%E5%BC%80%E5%8F%91%E5%8E%86%E7%A8%8B%E8%AE%B0%E5%BD%951/image-20210311173714259.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20200724183357229.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl8zNjk2NTA3Mg==,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20200724183448993.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl8zNjk2NTA3Mg==,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://upload-images.jianshu.io/upload_images/4155235-21dde0c56dbd60d7.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/293/format/webp">
<meta property="og:image" content="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/823343c85ca9463dae034e8afb2de711~tplv-k3u1fbpfcp-watermark.awebp">
<meta property="og:image" content="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/aa3fef0f6da4409fb561b83fcf9c7ccf~tplv-k3u1fbpfcp-zoom-in-crop-mark:1304:0:0:0.awebp">
<meta property="og:image" content="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/03a5b753d4d94ec8bf2d084780cc9e96~tplv-k3u1fbpfcp-zoom-in-crop-mark:1304:0:0:0.awebp">
<meta property="og:image" content="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9146468b89fe403981e976fb4f016e09~tplv-k3u1fbpfcp-zoom-in-crop-mark:1304:0:0:0.awebp">
<meta property="og:image" content="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/113ecc41784e42b3be4f446bde4fc3ca~tplv-k3u1fbpfcp-zoom-in-crop-mark:1304:0:0:0.awebp">
<meta property="og:image" content="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/66d88acafd6747129ff6396ffba149e2~tplv-k3u1fbpfcp-zoom-in-crop-mark:1304:0:0:0.awebp">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20201210145611476.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM5MDI1Njcw,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20201210151638333.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM5MDI1Njcw,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210407175536387.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210407180500474.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3NoaWFpanVhbjE=,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/2021040718111465.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3NoaWFpanVhbjE=,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210407182426657.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3NoaWFpanVhbjE=,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210407182318205.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3NoaWFpanVhbjE=,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210407182556775.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3NoaWFpanVhbjE=,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a6ddc5fb66224f55b0f9486bec198fe7~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp">
<meta property="og:image" content="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1487dbb328024262b048b87faaa8b8f6~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp">
<meta property="og:image" content="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8c9588da13f341e594a8f547c41085f5~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp">
<meta property="og:image" content="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a646cc46bf7a4533a3b142ba35789b64~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp">
<meta property="article:published_time" content="2020-10-29T09:23:30.000Z">
<meta property="article:modified_time" content="2023-01-05T09:53:37.370Z">
<meta property="article:author" content="Dali">
<meta property="article:tag" content="vue">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://img-blog.csdnimg.cn/2020082419134573.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NzA4NDI3NQ==,size_16,color_FFFFFF,t_70#pic_center">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2020/10/29/vue之seekcy开发历程记录1/"/>





  <title>vue之seekcy开发历程记录1 | DaliBlogs</title>
  








<meta name="generator" content="Hexo 4.2.1"></head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">DaliBlogs</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            归档
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="搜索..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/10/29/vue%E4%B9%8Bseekcy%E5%BC%80%E5%8F%91%E5%8E%86%E7%A8%8B%E8%AE%B0%E5%BD%951/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Dali">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/header.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DaliBlogs">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">vue之seekcy开发历程记录1</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-10-29T17:23:30+08:00">
                2020-10-29
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/vue/" itemprop="url" rel="index">
                    <span itemprop="name">vue</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h2 id="Router"><a href="#Router" class="headerlink" title="Router"></a>Router</h2><h3 id="hash模式解析url参数"><a href="#hash模式解析url参数" class="headerlink" title="hash模式解析url参数"></a>hash模式解析url参数</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 大屏看板页面获取url参数存入localstorage</span><br><span class="line">var url &#x3D; window.location.hash.split(&#39;?&#39;, 2)[1];</span><br><span class="line">var theRequest &#x3D; &#123;&#125;;</span><br><span class="line">var strs &#x3D; url.split(&quot;&amp;&quot;);</span><br><span class="line">for (var i &#x3D; 0; i &lt; strs.length; i++) &#123;vs</span><br><span class="line">	theRequest[strs[i].split(&quot;&#x3D;&quot;)[0]] &#x3D; strs[i].split(&quot;&#x3D;&quot;)[1];</span><br><span class="line">&#125;</span><br><span class="line">if (!sessionStorage.getItem(&#39;buildId&#39;)) &#123;</span><br><span class="line">    sessionStorage.setItem(&#39;buildId&#39;, theRequest.buildId || &#39;&#39;)</span><br><span class="line">    localStorage.setItem(&quot;screen_buildId&quot;, theRequest.buildId || &#39;&#39;)</span><br><span class="line">&#125;</span><br><span class="line">if (!sessionStorage.getItem(&#39;token&#39;)) &#123;</span><br><span class="line">    sessionStorage.setItem(&#39;token&#39;, theRequest.token || &#39;&#39;)</span><br><span class="line">    localStorage.setItem(&quot;screen_token&quot;, theRequest.token ? &#39;Bearer&#39; + theRequest.token : &#39;&#39;)</span><br><span class="line">&#125;</span><br><span class="line">if (!localStorage.getItem(&#39;departmentId_patient&#39;)) &#123;</span><br><span class="line">	localStorage.setItem(&quot;departmentId_patient&quot;, theRequest.departmentId || &#39;&#39;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="离开某个路由给提示"><a href="#离开某个路由给提示" class="headerlink" title="离开某个路由给提示"></a>离开某个路由给提示</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">router.beforeEach(async (to, from, next) &#x3D;&gt; &#123;</span><br><span class="line">if (to.path &#x3D;&#x3D; &#39;&#x2F;dashboard&#39;) &#123;</span><br><span class="line">    &#x2F;&#x2F; 当进入这个页面进行记录</span><br><span class="line">    sessionStorage.setItem(&#39;flag&#39;, true)</span><br><span class="line">    next()</span><br><span class="line">  &#125; else &#123;</span><br><span class="line">    if (sessionStorage.getItem(&#39;flag&#39;) &#x3D;&#x3D;&#x3D; &#39;true&#39;) &#123;</span><br><span class="line">      &#x2F;&#x2F; 如果路由发生变化判断信号</span><br><span class="line">      Vue.prototype</span><br><span class="line">        .$confirm(&#39;您确定要退出此页面?&#39;, &#39;提示&#39;, &#123;</span><br><span class="line">          confirmButtonText: &#39;确定&#39;,</span><br><span class="line">          cancelButtonText: &#39;取消&#39;,</span><br><span class="line">          type: &#39;warning&#39;</span><br><span class="line">        &#125;)</span><br><span class="line">        .then(() &#x3D;&gt; &#123;</span><br><span class="line">          next()</span><br><span class="line">          sessionStorage.setItem(&#39;flag&#39;, false)</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">      next()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">)&#125;</span><br></pre></td></tr></table></figure>



<h3 id="解决vue路由跳转未匹配路径时出现空白页的问题"><a href="#解决vue路由跳转未匹配路径时出现空白页的问题" class="headerlink" title="解决vue路由跳转未匹配路径时出现空白页的问题"></a>解决vue路由跳转未匹配路径时出现空白页的问题</h3><p>利用该特性，可以使用下面的代码端解决未匹配路由的问题：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">router.beforeEach(<span class="function">(<span class="params">to, <span class="keyword">from</span>, next</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (to.matched.length ===<span class="number">0</span>) &#123;  <span class="comment">//如果未匹配到路由</span></span><br><span class="line">    <span class="keyword">from</span>.path? next(&#123; <span class="attr">path</span>:<span class="keyword">from</span>.path&#125;) : next(<span class="string">'/'</span>);   <span class="comment">//如果上级也未匹配到路由则跳转主页面，如果上级能匹配到则转上级路由</span></span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    next();    <span class="comment">//如果匹配到正确跳转</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<a id="more"></a> 

<p>2.匹配所有路由</p>
<p>路由的匹配规则是按照书写的顺序执行的，第一条匹配成功则不去匹配下一条，利用这一特性，可以在所有匹配路由的下面拦截匹配所有路由：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//创建路由对象并配置路由规则</span></span><br><span class="line"><span class="keyword">let</span> router = <span class="keyword">new</span> VueRouter(&#123;</span><br><span class="line">    routes:[</span><br><span class="line">       &#123;<span class="attr">path</span>:<span class="string">'/'</span>,<span class="attr">redirect</span>:&#123;<span class="attr">name</span>:<span class="string">"home"</span>&#125;&#125;,  <span class="comment">// 重定向到主页</span></span><br><span class="line">       &#123;<span class="attr">name</span>:<span class="string">'home'</span>,<span class="attr">path</span>:<span class="string">'/home'</span>,<span class="attr">component</span>:Home&#125;,</span><br><span class="line">       &#123;<span class="attr">name</span>:<span class="string">'login'</span>,<span class="attr">path</span>:<span class="string">'/login'</span>,<span class="attr">component</span>:Login&#125;,</span><br><span class="line">       &#123;<span class="attr">path</span>:<span class="string">'*'</span>,<span class="attr">component</span>:NotFound&#125;,<span class="comment">//全不匹配的情况下，匹配NotFound组件，路由按顺序从上到下，依次匹配。最后一个*能匹配全部，</span></span><br><span class="line">    ]</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>3.重定向</p>
<p>原理同方法2，只不过在匹配到*时，重定向到根路径：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//创建路由对象并配置路由规则</span></span><br><span class="line"><span class="keyword">let</span> router = <span class="keyword">new</span> VueRouter(&#123;</span><br><span class="line">    routes:[</span><br><span class="line">       &#123;<span class="attr">path</span>:<span class="string">'/'</span>,<span class="attr">redirect</span>:&#123;<span class="attr">name</span>:<span class="string">"home"</span>&#125;&#125;,  <span class="comment">// 重定向到主页</span></span><br><span class="line">       &#123;<span class="attr">name</span>:<span class="string">'home'</span>,<span class="attr">path</span>:<span class="string">'/home'</span>,<span class="attr">component</span>:Home&#125;,</span><br><span class="line">       &#123;<span class="attr">name</span>:<span class="string">'login'</span>,<span class="attr">path</span>:<span class="string">'/login'</span>,<span class="attr">component</span>:Login&#125;,</span><br><span class="line">       &#123;<span class="attr">path</span>:<span class="string">'*'</span>,<span class="attr">redirect</span>:<span class="string">'/'</span>&#125;,<span class="comment">//路由按顺序从上到下，依次匹配。最后一个*能匹配全部，然后重定向到主页面</span></span><br><span class="line">    ]</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>



<p>报错</p>
<p><img src="https://img-blog.csdnimg.cn/2020082419134573.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NzA4NDI3NQ==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<p><a href="mailto:vue-router@3.0">vue-router@3.0</a>版本及以上回调形式已经改成promise api的形式了，返回的是一个promise，如果路由地址跳转相同（<code>重复路由跳转</code>）, 且没有捕获到错误，控制台始终会出现如图所示的警告 （注：3.0以下版本则不会出现以下警告！！！，因路由回调问题…，可以直接降到3.0一下版本）</p>
<p><img src="/2020/10/29/vue%E4%B9%8Bseekcy%E5%BC%80%E5%8F%91%E5%8E%86%E7%A8%8B%E8%AE%B0%E5%BD%951/image-20201102193540065.png" alt="image-20201102193540065"></p>
<p>问题出现原因：<code>重复路由跳转</code>，比如说当前路由是商品详情页面/goodsDetail，但是点击按钮进行this.$router.push操作，要跳转的还是商品详情页面/goodsDetail。</p>
<p>综合解决方案</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">import Router from &#39;vue-router&#39;</span><br><span class="line"></span><br><span class="line">const originalPush &#x3D; Router.prototype.push</span><br><span class="line">Router.prototype.push &#x3D; function push(location) &#123;</span><br><span class="line">  return originalPush.call(this, location).catch(err &#x3D;&gt; err)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">注：官方vue-router@3.0及以上新版本路由默认回调返回的都是promise，原先旧版本的路由回调将废弃！！！！</span><br></pre></td></tr></table></figure>



<h3 id="addRoutes"><a href="#addRoutes" class="headerlink" title="addRoutes"></a>addRoutes</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">this.$router.addRoutes(</span><br><span class="line">    routeData.concat([</span><br><span class="line">        &#123; path: &#39;&#x2F;404&#39;, component: NotFound &#125;,</span><br><span class="line">        &#123; path: &#39;*&#39;, redirect: &#39;&#x2F;404&#39; &#125;</span><br><span class="line">    ])</span><br><span class="line">);</span><br></pre></td></tr></table></figure>



<h3 id="scrollBehavior"><a href="#scrollBehavior" class="headerlink" title="scrollBehavior"></a>scrollBehavior</h3><p>规则：mounted时期:data数据已经挂在到页面上。beforeUpdate和updated时期：当vue发现data中的数据发生了改变，会触发对应组件的重新渲染而引起滚动失效。</p>
<p>背景：scrollBehavior函数在组件的生命周期mounted后beforeUpdate前执行。</p>
<p>解决：利用setTimeout跳出主线程将回调事件放到队列中。由于mouted比scrollBehavior函数早执行，所以异步请求的回调事件优先进入队列，接下去才是setTimeout的回调事件。根据队列 先进先出的原理。先执行了异步请求回调事件对data中的变量a做赋值操作。此时相当于这已经是个静态页面了,接着我只要执行return { x:0, y: 100 }就可生效</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">强制滚动到页面顶部</span><br><span class="line">export default new Router(&#123;</span><br><span class="line">    scrollBehavior(to,from,position)&#123;</span><br><span class="line">        return new Promise((resolve) &#x3D;&gt; &#123;</span><br><span class="line">            setTimeout(() &#x3D;&gt; &#123;</span><br><span class="line">                console.log(position,&#39;000000000&#39;);</span><br><span class="line">                resolve(&#123; x: 0, y: 0 &#125;);</span><br><span class="line">            &#125;, 100);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">模仿keepalive缓存效果</span><br><span class="line">export default new Router(&#123;</span><br><span class="line">    scrollBehavior(to,from,savedPosition)&#123;</span><br><span class="line">        return new Promise((resolve) &#x3D;&gt; &#123;</span><br><span class="line">          setTimeout(() &#x3D;&gt; &#123;</span><br><span class="line">            let returnData &#x3D; &#123;&#125;</span><br><span class="line">            if(savedPosition)&#123;</span><br><span class="line">                returnData &#x3D; savedPosition</span><br><span class="line">            &#125; else&#123;</span><br><span class="line">                returnData.x &#x3D; 0</span><br><span class="line">                returnData.y &#x3D; 0</span><br><span class="line">            &#125;</span><br><span class="line">            resolve(returnData);</span><br><span class="line">          &#125;, 100);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>描点滚动</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;a href&#x3D;&quot;#mark&quot;&gt;点我去p那里&lt;&#x2F;a&gt;</span><br><span class="line"></span><br><span class="line">&lt;p id&#x3D;&quot;mark&quot;&gt;&lt;&#x2F;p&gt;</span><br></pre></td></tr></table></figure>



<p>模拟流畅锚点滚动</p>
<p><img src="https://img-blog.csdnimg.cn/20200717165354889.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MDU3MTMzMQ==,size_16,color_FFFFFF,t_70" alt="img"></p>
<h2 id="指令（directive）"><a href="#指令（directive）" class="headerlink" title="指令（directive）"></a>指令（directive）</h2><p>全局的自定义指令需要写在 <strong>new Vue()</strong> 的前面</p>
<h3 id="v-focus-自定义指令解决autofocus失效"><a href="#v-focus-自定义指令解决autofocus失效" class="headerlink" title="v-focus(自定义指令解决autofocus失效)"></a>v-focus(自定义指令解决autofocus失效)</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">directives: &#123;</span><br><span class="line">    focus: &#123;</span><br><span class="line">      inserted: function(el) &#123;</span><br><span class="line">        el.querySelector(&quot;input&quot;).focus();</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>

<h3 id="动态指令参数"><a href="#动态指令参数" class="headerlink" title="动态指令参数"></a>动态指令参数</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;div @click&#x3D;&quot;link&quot; v-style:[mystyle]&#x3D;&quot;&#39;100px&#39;&quot;&gt;带参数跳转&lt;&#x2F;div&gt;</span><br><span class="line">js</span><br><span class="line">data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">    	mystyle: &#39;margin&#39;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,</span><br><span class="line"></span><br><span class="line">main.js</span><br><span class="line">Vue.directive(&quot;style&quot;, function (el, binding, vnode) &#123;</span><br><span class="line">    el.style[binding.arg] &#x3D; binding.value </span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="高精度权限控制—自定义指令directive"><a href="#高精度权限控制—自定义指令directive" class="headerlink" title="高精度权限控制—自定义指令directive"></a>高精度权限控制—自定义指令directive</h3><p>我们先在新建个 array.js 文件，用于存放与权限相关的全局函数；</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; array.js</span><br><span class="line">export function checkArray (key) &#123;</span><br><span class="line">  let arr &#x3D; [&#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;4&#39;, &#39;demo&#39;]</span><br><span class="line">  let index &#x3D; arr.indexOf(key)</span><br><span class="line">  if (index &gt; -1) &#123;</span><br><span class="line">    return true &#x2F;&#x2F; 有权限</span><br><span class="line">  &#125; else &#123;</span><br><span class="line">    return false &#x2F;&#x2F; 无权限</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>然后在将 array 文件挂载到全局中:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; main.js</span><br><span class="line">import &#123; checkArray &#125; from &quot;.&#x2F;common&#x2F;array&quot;;</span><br><span class="line">Vue.directive(&quot;permission&quot;, &#123;</span><br><span class="line">  inserted (el, binding) &#123;</span><br><span class="line">    let permission &#x3D; binding.value; &#x2F;&#x2F; 获取到 v-permission的值</span><br><span class="line">    if (permission) &#123;</span><br><span class="line">      let hasPermission &#x3D; checkArray(permission);</span><br><span class="line">      if (!hasPermission) &#123; &#x2F;&#x2F; 没有权限 移除Dom元素</span><br><span class="line">        el.parentNode &amp;&amp; el.parentNode.removeChild(el);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>最后我们在页面中就可以通过自定义指令 v-permission 来判断：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class&#x3D;&quot;btns&quot;&gt;</span><br><span class="line">    &lt;button v-permission&#x3D;&quot;&#39;1&#39;&quot;&gt;权限按钮1&lt;&#x2F;button&gt;  &#x2F;&#x2F; 会显示</span><br><span class="line">    &lt;button v-permission&#x3D;&quot;&#39;2&#39;&quot;&gt;权限按钮2&lt;&#x2F;button&gt;  &#x2F;&#x2F; 无显示</span><br><span class="line">    &lt;button v-permission&#x3D;&quot;&#39;demo&#39;&quot;&gt;权限按钮demo&lt;&#x2F;button&gt; &#x2F;&#x2F; 会显示</span><br><span class="line">&lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure>



<h2 id="修改dev地址为自动获取本地ip"><a href="#修改dev地址为自动获取本地ip" class="headerlink" title="修改dev地址为自动获取本地ip"></a>修改dev地址为自动获取本地ip</h2><p><img src="/2020/10/29/vue%E4%B9%8Bseekcy%E5%BC%80%E5%8F%91%E5%8E%86%E7%A8%8B%E8%AE%B0%E5%BD%951/image-20201103113345574.png" alt="image-20201103113345574"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;* 修改启动时浏览器地址localhost为自动获取本地ip,并以ip为地址 *&#x2F;</span><br><span class="line">const os &#x3D; require(&#39;os&#39;)</span><br><span class="line">let localhost &#x3D; &#39;&#39;</span><br><span class="line">try &#123;</span><br><span class="line">    const network &#x3D; os.networkInterfaces()</span><br><span class="line">    localhost &#x3D; network[Object.keys(network)[0]][1].address</span><br><span class="line">&#125; catch (e) &#123;</span><br><span class="line">    localhost &#x3D; &#39;localhost&#39;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">tips:上述代码有可能获取到127.0.0.1，也有可能获取到ip，建议使用下面的方法</span><br><span class="line">const os &#x3D; require(&#39;os&#39;).networkInterfaces()</span><br><span class="line">function getIP() &#123;</span><br><span class="line">  var interfaces &#x3D; os;</span><br><span class="line">  console.log(interfaces)</span><br><span class="line">  for (var devName in interfaces) &#123;</span><br><span class="line">    var iface &#x3D; interfaces[devName];</span><br><span class="line">    for (var i &#x3D; 0; i &lt; iface.length; i++) &#123;</span><br><span class="line">      var alias &#x3D; iface[i];</span><br><span class="line">      if (alias.family &#x3D;&#x3D;&#x3D; &#39;IPv4&#39; &amp;&amp; alias.address !&#x3D;&#x3D; &#39;127.0.0.1&#39; &amp;&amp; !alias.internal) &#123;</span><br><span class="line">        return alias.address;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">localhost &#x3D; getIP();</span><br></pre></td></tr></table></figure>



<h2 id="在npm-run-dev之后，Vue都做了哪些工作呢"><a href="#在npm-run-dev之后，Vue都做了哪些工作呢" class="headerlink" title="在npm run dev之后，Vue都做了哪些工作呢"></a>在npm run dev之后，Vue都做了哪些工作呢</h2><p><img src="https://mmbiz.qpic.cn/mmbiz_png/4MXV7svuTWI1DCpR2ibcNHRdddtrc6czxjKO7rwKyUgyZtBCrvxa365vxKamvibPGDEAoEqxdYicWdsCj4nib0siaEA/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="图片"></p>
<p>其实很简单，Vue类里面其实就是调用了一个_init方法，这一段代码调用了五个方法，并传入了Vue类。</p>
<p>initMixin，它的作用是给vue的原型链里加入Vue类里调用的_init方法</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/4MXV7svuTWI1DCpR2ibcNHRdddtrc6czxU3WA03eWNCEfpgJtdhXGjCINeTiadxbAMB7lFcd0CAOtX36wysuVTzQ/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="图片"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">stateMixin也和前面的initMixin类似，其实就是往Vue的原型里注入了$data,$props属性，以及$set、$delete 以及 $watch方法。</span><br><span class="line"></span><br><span class="line">eventMixin就是往vue原型链里注入了事件的监听与触发，即我们常用的$emit，$on。</span><br><span class="line"></span><br><span class="line">lifecycleMixin，就是注入了一些生命周期函数。</span><br><span class="line"></span><br><span class="line">renderMixin就和后面的具体编译有关。</span><br></pre></td></tr></table></figure>



<h2 id="打包"><a href="#打包" class="headerlink" title="打包"></a>打包</h2><p>查看三部曲：</p>
<ul>
<li>build文件夹下的utils.js 中 publicPath：” ../../“</li>
<li>config 中的 index.js 中 assetsPublicPath: “./“</li>
<li>webpack.prod.conf.js 中 output模块中添加 publicPath: “./“</li>
</ul>
<p>总结一下，vue里面引用图片在打包后仍能正常使用的正确引用方式：</p>
<ul>
<li><strong>html内：</strong>img src以相对路径引入；</li>
<li><strong>css：</strong>style以background属性作为背景图片以相对路径引入，需以类名方式引入，行内样式可能会不生效；</li>
<li><strong>js：</strong>以require(‘…/url’)引入，赋予变量；</li>
</ul>
<h3 id="在dist文件夹中多打包额外的文件夹"><a href="#在dist文件夹中多打包额外的文件夹" class="headerlink" title="在dist文件夹中多打包额外的文件夹"></a>在dist文件夹中多打包额外的文件夹</h3><ul>
<li>脚手架高的版本</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">在public文件夹中直接添加，会原样复制到dist文件夹中</span><br></pre></td></tr></table></figure>

<ul>
<li>脚手架低的版本</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">在webpackage.dev.conf.js和webpack.prod.conf.js中，找到CopyWebpackPlugin</span><br><span class="line">原来</span><br><span class="line"> new CopyWebpackPlugin([</span><br><span class="line">      &#123;</span><br><span class="line">        from: path.resolve(__dirname, &#39;..&#x2F;static&#39;),</span><br><span class="line">        to: config.build.assetsSubDirectory,</span><br><span class="line">        ignore: [&#39;.*&#39;]</span><br><span class="line">      &#125;,</span><br><span class="line"> ])</span><br><span class="line"> 添加后（report为与static同级的文件夹，from是路径，to是在dist文件夹中的位置）</span><br><span class="line">  new CopyWebpackPlugin([</span><br><span class="line">      &#123;</span><br><span class="line">        from: path.resolve(__dirname, &#39;..&#x2F;static&#39;),</span><br><span class="line">        to: config.build.assetsSubDirectory,</span><br><span class="line">        ignore: [&#39;.*&#39;]</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">          from: path.resolve(__dirname, &#39;..&#x2F;report&#39;),</span><br><span class="line">          &#x2F;&#x2F;to: config.build.assetsSubDirectory,打包到static文件夹中，不写会打包到根目录dist文件夹中</span><br><span class="line">          to: &#39;report&#39;,&#x2F;&#x2F;打包到dist的report文件夹中</span><br><span class="line">          ignore: [&#39;.*&#39;]</span><br><span class="line">      &#125;</span><br><span class="line">])</span><br></pre></td></tr></table></figure>





<h3 id="理不清的assetsSubDirectory-和-assetsPublicPath"><a href="#理不清的assetsSubDirectory-和-assetsPublicPath" class="headerlink" title="理不清的assetsSubDirectory 和 assetsPublicPath"></a>理不清的assetsSubDirectory 和 assetsPublicPath</h3><p><span style="color:red">找不到路径修改assetsPublicPath</span></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">默认</span><br><span class="line">index: path.resolve(__dirname, <span class="string">'../dist/index.html'</span>),</span><br><span class="line">assetsRoot: path.resolve(__dirname, <span class="string">'../dist'</span>),</span><br><span class="line">assetsSubDirectory: <span class="string">'static'</span>,</span><br><span class="line">assetsPublicPath: <span class="string">'/'</span>,</span><br><span class="line">意义</span><br><span class="line">index: 模板</span><br><span class="line">assetRoot: 打包后文件要存放的路径</span><br><span class="line">assetsSubDirectory: 除了 index.html 之外的静态资源要存放的路径，</span><br><span class="line">assetsPublicPath: 代表打包后，index.html里面引用资源的的相对地址</span><br><span class="line">打包后的index.html</span><br><span class="line">&lt;script type=text/javascript src=<span class="regexp">/static/</span>js/manifest<span class="number">.2</span>ae2e69a05c33dfc65f8.js&gt;&lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp">&lt;script type=text/</span>javascript src=<span class="regexp">/static/</span>js/vendor.b54b2f45648e6dbd9a0f.js&gt;&lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp">&lt;script type=text/</span>javascript src=<span class="regexp">/static/</span>js/app.d810b20ae09e6adddc7e.js&gt;&lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">找不到路径修改assetsPublicPath</span></span><br><span class="line"><span class="regexp">assetsPublicPath: './</span><span class="string">',</span></span><br><span class="line"><span class="string">打包后的index.html</span></span><br><span class="line"><span class="string">&lt;script type=text/javascript src=./static/js/manifest.2ae2e69a05c33dfc65f8.js&gt;&lt;/script&gt;</span></span><br><span class="line"><span class="string">&lt;script type=text/javascript src=./static/js/vendor.b54b2f45648e6dbd9a0f.js&gt;&lt;/script&gt;</span></span><br><span class="line"><span class="string">&lt;script type=text/javascript src=./static/js/app.d810b20ae09e6adddc7e.js&gt;&lt;/script&gt;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">修改</span></span><br><span class="line"><span class="string">index: path.resolve(__dirname, '</span>../dist/index.html<span class="string">'),// Paths</span></span><br><span class="line"><span class="string">assetsRoot: path.resolve(__dirname, '</span>../dist<span class="string">'),</span></span><br><span class="line"><span class="string">assetsSubDirectory: '</span>./assets/<span class="string">',</span></span><br><span class="line"><span class="string">assetsPublicPath: '</span>./hello/<span class="string">',</span></span><br><span class="line"><span class="string">打包后的index.html</span></span><br><span class="line"><span class="string">&lt;script type="text/javascript" src="./hello/assets/js/manifest.js"&gt;&lt;/script&gt;</span></span><br><span class="line"><span class="string">&lt;script type="text/javascript" src="./hello/assets/js/vendor.js"&gt;&lt;/script&gt;</span></span><br><span class="line"><span class="string">&lt;script type="text/javascript" src="./hello/assets/js/app.js"&gt;&lt;/script&gt;</span></span><br><span class="line"><span class="string">以上的意义是</span></span><br><span class="line"><span class="string">assetsRoot : 在当前目录的上一级 的dist目录下输出资源文件</span></span><br><span class="line"><span class="string">assetsSubDirectory: 把所有的静态资源打包到 dist下的 assets文件夹下</span></span><br><span class="line"><span class="string">assetsPublicPath :代表生成的index.html文件，里面引入资源时，路径前面要加上 ./hello/,也就是assetsPublicPath的值 ``</span></span><br><span class="line"><span class="string">由此可见 ，我们可以直接 设置 assetsPublicPath为绝对路径，比如自己的线上路径前缀， https://www.yourdomain.com/,则打包后的路径，全部会加上这个 前缀，如果配置package.json的一些参数，就可以放心的把自己html里面的内容复制出来，放在任何地方都可以用了（前提是资源要先上线哦）</span></span><br></pre></td></tr></table></figure>



<h3 id="js-css找不到"><a href="#js-css找不到" class="headerlink" title="js/css找不到"></a>js/css找不到</h3><p>因为项目打包后的CSS和JS的引用路径是绝对路径，项目部署后会将静态当成根目录，就造成了文件引用路径的错误，解决方法是通过修改配置文件，将绝对路径改为相对路径，从而达到资源的相对引用。</p>
<p>一。<strong>‘/’指的是项目的根目录 ，’./’指的是当前目录</strong></p>
<p>1.publicPath 并不会对生成文件的路径造成影响，主要是对你的页面里面引入的资源的路径做对应的补全，常见的就是css文件里面引入的图片</p>
<p>2.assetsPublicPath属性作用是指定编译发布的根目录</p>
<p>具体操作如下：</p>
<p>1.打开webpack.prod.conf.js；</p>
<p>2.在output模块中添加 publicPath: ‘./‘ ，如下图所示：</p>
<p><img src="https://img2018.cnblogs.com/blog/1149000/201901/1149000-20190108162846264-467114685.png" alt="img"></p>
<h3 id="背景图片找不到"><a href="#背景图片找不到" class="headerlink" title="背景图片找不到"></a>背景图片找不到</h3><p>修改打包后背景图片的引用路径<br>资源内的图片是通过css加载的，CSS代码如：background：url（../ assets / img-bg / buttonbg.png）no-repeat;</p>
<p>但是打包过后的CSS变成了背景：url（../../ static / img / buttonbg.68979b3.png）no-repeat;我们需要修改配置文件，是的CSS代码打包后，资源引用路径还是相对路径;</p>
<p>解决办法：</p>
<p>1.打开build文件夹下的utils.js ;</p>
<p>2.在下图位置添加 publicPath：” ../../</p>
<p> <img src="https://img2018.cnblogs.com/blog/1149000/201901/1149000-20190108162728713-1887350521.png" alt="img"></p>
<h3 id="用Nginx做web服务器报错favicon-ico-404-Not-Found-cli3-0"><a href="#用Nginx做web服务器报错favicon-ico-404-Not-Found-cli3-0" class="headerlink" title="用Nginx做web服务器报错favicon.ico 404 (Not Found)(cli3.0)"></a>用Nginx做web服务器报错favicon.ico 404 (Not Found)(cli3.0)</h3><p><a href="https://www.cnblogs.com/goloving/p/9094537.html" target="_blank" rel="noopener">https://www.cnblogs.com/goloving/p/9094537.html</a></p>
<p>现象及原因：</p>
<p>Nginx的error日志中会定期抱怨说没有找到favicon.ico文件？发生这种错误的原因一般是Nginx在根目录上找不到这个文件。</p>
<p>因为当将这个文件放在根目录下的时候，build出来的项目里不会含有favicon.ico文件。而且其放在src/assets下面，bulid出来也没有这个favicon.ico这个文件。</p>
<p>解决办法一：在static目录下添加favicon.ico</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">在static目录下添加favicon.ico</span><br><span class="line"></span><br><span class="line">然后，在index.html入口加上引入的link标签</span><br><span class="line"></span><br><span class="line">&lt;link href&#x3D;&quot;.&#x2F;static&#x2F;favicon.ico&quot; mce_href&#x3D;&quot;.&#x2F;static&#x2F;favicon.ico&quot; rel&#x3D;&quot;icon&quot; type&#x3D;&quot;image&#x2F;x-icon&quot;&gt;</span><br><span class="line"></span><br><span class="line">然后build打包即可，就不会再报这个错误。</span><br></pre></td></tr></table></figure>



<p>解决办法二：直接修改nginx</p>
<p>使用Nginx作为前台服务器，在80端口接收所有的http请求，对本地能缓存的资源直接提供服务，否则转发到upstream上的其他服务器处理，比如转给fastDFS，或者是ATS等等。</p>
<p>所以如果现在在根目录下存放一个ico文件，如何让Nginx直接去本地拿这个文件，而不转发给其他服务器呢？直接在nginx.conf中增加下面一行就可以了：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># set site favicon  </span><br><span class="line">location &#x2F;favicon.ico &#123;  </span><br><span class="line">	root html;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="router-view中的内容显示不出来（关闭路由history模式）"><a href="#router-view中的内容显示不出来（关闭路由history模式）" class="headerlink" title="router-view中的内容显示不出来（关闭路由history模式）"></a>router-view中的内容显示不出来（关闭路由history模式）</h3><p><strong>第二个问题：router-view中的内容显示不出来。</strong>路由history模式。</p>
<p>这个坑是当你使用了路由之后，<strong>在没有后端配合的情况下就手贱打开路由history模式的时候</strong>，打包出来的文件也会是一片空白的情况，</p>
<p>很多人踩这个坑的时候花了很多时间，网上的教程基本上都是说的第一个坑，这个坑很少有人提起。</p>
<p><strong><img src="https://images2017.cnblogs.com/blog/1202246/201711/1202246-20171121095445961-1591205997.png" alt="img"></strong></p>
<p>解决：<code>// mode: &#39;history&#39;,//将这个模式关闭就好</code></p>
<h3 id="打包出错显示空白页，或者Failed-to-load-resource-net-ERR-FILE-NOT-FOUND"><a href="#打包出错显示空白页，或者Failed-to-load-resource-net-ERR-FILE-NOT-FOUND" class="headerlink" title="打包出错显示空白页，或者Failed to load resource: net::ERR_FILE_NOT_FOUND"></a>打包出错显示空白页，或者Failed to load resource: net::ERR_FILE_NOT_FOUND</h3><p>解决办法</p>
<p>​        webpack.prod.conf.js 中output添加参数publicPath:’./‘</p>
<p><img src="https://img-blog.csdnimg.cn/20191104102906668.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNjcxOTk2,size_16,color_FFFFFF,t_70" alt="img"></p>
<h3 id="Vue-elementUI-build打包部署后字体图标丢失，控制台显示文件element-icons-woff和element-icons-ttf文件404"><a href="#Vue-elementUI-build打包部署后字体图标丢失，控制台显示文件element-icons-woff和element-icons-ttf文件404" class="headerlink" title="Vue+elementUI  build打包部署后字体图标丢失，控制台显示文件element-icons.woff和element-icons.ttf文件404"></a>Vue+elementUI  build打包部署后字体图标丢失，控制台显示文件element-icons.woff和element-icons.ttf文件404</h3><p><img src="https://img2018.cnblogs.com/blog/935329/201905/935329-20190528164613052-25776252.png" alt="img"></p>
<p>解决办法</p>
<p>webpack utils.js 修改：（build目录下utils.js）</p>
<p>添加  publicPath: ‘../../‘</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">if (options.extract) &#123;</span><br><span class="line">    return ExtractTextPlugin.extract(&#123;</span><br><span class="line">        use: loaders,</span><br><span class="line">        fallback: &#39;vue-style-loader&#39;,</span><br><span class="line">        publicPath: &#39;..&#x2F;..&#x2F;&#39;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125; else &#123;</span><br><span class="line">	return [&#39;vue-style-loader&#39;].concat(loaders)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="Git"><a href="#Git" class="headerlink" title="Git"></a>Git</h2><h3 id="git-stash暂时保存"><a href="#git-stash暂时保存" class="headerlink" title="git stash暂时保存"></a>git stash暂时保存</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">stash命令：</span><br><span class="line">• 保存现场</span><br><span class="line">• git stash  ----保存</span><br><span class="line">• git stash save ‘name XXX ’ ----给保持增加保存说明</span><br><span class="line">• git stash list ----查看当前list，按照倒数排序，最新添加的排在第一位，索引为0</span><br><span class="line"></span><br><span class="line">• 恢复现场</span><br><span class="line">• git stash pop    ----回到最近一个stash的状态并删除这个stash信息（相当于git stash apply stash@&#123;0&#125; ）</span><br><span class="line">• git stash apply stash@&#123;0&#125; ----回到某个stash状态</span><br><span class="line">• git stash drop stash@&#123;0&#125; ----删除保存的记录</span><br><span class="line">• git stash clear ----删除所有的stash信息</span><br><span class="line"></span><br><span class="line">恢复某个stash中某个文件的修改</span><br><span class="line">tips</span><br><span class="line">&#x2F;&#x2F;查看某个文件的完整路径,手动设置显示宽度</span><br><span class="line">git log --stat&#x3D;200显示全部文件路径</span><br><span class="line"></span><br><span class="line">• git checkout &lt;stash@&#123;n&#125;&gt; -- &lt;file-path&gt;</span><br><span class="line">git checkout stash@&#123;0&#125; -- src&#x2F;App.vue</span><br><span class="line">git checkout stash@&#123;0&#125; -- src&#x2F;main.js</span><br><span class="line">git checkout stash@&#123;0&#125; -- src&#x2F;view&#x2F;home.vue</span><br></pre></td></tr></table></figure>

<p>101477</p>
<h3 id="合并多个-commit-提交记录"><a href="#合并多个-commit-提交记录" class="headerlink" title="合并多个 commit 提交记录"></a>合并多个 commit 提交记录</h3><p>适用场景：提交很多个 commit 记录。但是在最后，提交 PR 之前，有些 <a href="http://mp.weixin.qq.com/s?__biz=MzI0MDQ4MTM5NQ==&mid=2247501314&idx=2&sn=aefe2614bf85f7035a445e59fe9df84f&chksm=e918a31ede6f2a084d39e68721928a416a6a447a0876b74630a4d65011e80e0b1ce65b3ca8a2&scene=21#wechat_redirect" target="_blank" rel="noopener">commit</a> 需要合并起来，或者需要将其删除掉，等等。</p>
<p>首先假设我们有3个 commit </p>
<p>git log查看</p>
<p><img src="https:////upload-images.jianshu.io/upload_images/228805-ffd461efeb8a26a2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1184/format/webp" alt="img"></p>
<p>使用 git rebase -i HEAD~5 查看</p>
<p><img src="/2020/10/29/vue%E4%B9%8Bseekcy%E5%BC%80%E5%8F%91%E5%8E%86%E7%A8%8B%E8%AE%B0%E5%BD%951/image-20210408105614935.png" alt="image-20210408105614935"></p>
<p>我们需要将 <code>2dfbc7e8</code> 和 <code>c4e858b5</code> 合并成一个 commit，那么我们输入如下命令</p>
<p><img src="https:////upload-images.jianshu.io/upload_images/228805-e96334b872909dc4.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1184/format/webp" alt="img"></p>
<p>其中，<code>-i</code> 的参数是不需要合并的 commit 的 hash 值，这里指的是第一条 commit， 接着我们就进入到 <code>vi</code> 的编辑模式</p>
<p><img src="https:////upload-images.jianshu.io/upload_images/228805-fce11005e6ee8e2d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1184/format/webp" alt="img"></p>
<p>可以看到其中分为两个部分，上方未注释的部分是填写要执行的指令，而下方注释的部分则是指令的提示说明。指令部分中由前方的命令名称、commit  hash 和 commit message 组成。</p>
<p>当前我们只要知道 <code>pick</code> 和 <code>squash</code> 这两个命令即可。</p>
<ul>
<li><code>pick</code> 的意思是要会执行这个 commit</li>
<li><code>squash</code> 的意思是这个 commit 会被合并到前一个commit</li>
</ul>
<p>我们将 <code>c4e858b5</code> 这个 commit 前方的命令改成 <code>squash</code> 或 <code>s</code>，然后输入<code>:wq</code>以保存并退出</p>
<p><img src="https:////upload-images.jianshu.io/upload_images/228805-8c742e137feb7ce5.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1184/format/webp" alt="img"></p>
<p>这是我们会看到 commit message 的编辑界面</p>
<p><img src="https:////upload-images.jianshu.io/upload_images/228805-e0ca7e9d694e3f52.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1184/format/webp" alt="img"></p>
<p>其中, 非注释部分就是两次的 commit message, 你要做的就是将这两个修改成新的 commit message。</p>
<p><img src="https:////upload-images.jianshu.io/upload_images/228805-7bb2a59daa90975c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp" alt="img"></p>
<p>git-rebase-commit-message-combination.png</p>
<p>输入<code>wq</code>保存并推出, 再次输入<code>git log</code>查看 commit 历史信息，你会发现这两个 commit 已经合并了。</p>
<p><img src="https:////upload-images.jianshu.io/upload_images/228805-aa15aa1014eadbcf.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp" alt="img"></p>
<p><strong>注意事项</strong>：如果这个过程中有操作错误，可以使用 <code>git rebase --abort</code>来撤销修改，回到没有开始操作合并之前的状态。</p>
<h3 id="使用git-commit-–amend-修改提交信息操作"><a href="#使用git-commit-–amend-修改提交信息操作" class="headerlink" title="使用git commit –amend 修改提交信息操作"></a>使用git commit –amend 修改提交信息操作</h3><p>适用场景：上一次提交遗漏了一些文件，需要补交，但不想多一次commit</p>
<p>1.修改还未push的提交</p>
<blockquote>
<p>//修改文件</p>
<p>XXXXXXXXXX</p>
<p>//使用git add  . 提交需要提交的文件（相当于gitextension中的载入到下方）</p>
<p>git add  . </p>
<p>//编辑提交信息或仍保持上一次commit的message</p>
<p>git commit –amend</p>
<p>或</p>
<p>git commit –amend –no-edit</p>
<p>//保存退出</p>
</blockquote>
<p>2.修改已经push的提交</p>
<blockquote>
<p>//修改文件</p>
<p>XXXXXXXXXX</p>
<p>//使用git add  . 提交需要提交的文件（相当于gitextension中的载入到下方）</p>
<p>git add  . </p>
<p>//编辑提交信息或仍保持上一次commit的message</p>
<p>git commit –amend</p>
<p>或</p>
<p>git commit –amend –no-edit</p>
<p>//保存退出</p>
<p>//强制推送</p>
<p>git push –force-with-lease origin master</p>
</blockquote>
<h3 id="–depth-1，clone最新版本来使用或学习，而不是参与整个项目的开发工作"><a href="#–depth-1，clone最新版本来使用或学习，而不是参与整个项目的开发工作" class="headerlink" title="–depth=1，clone最新版本来使用或学习，而不是参与整个项目的开发工作"></a><strong>–depth=1，clone最新版本来使用或学习，而不是参与整个项目的开发工作</strong></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone http:&#x2F;&#x2F;xxx.xx.xxx&#x2F;xxx --depth&#x3D;1</span><br></pre></td></tr></table></figure>

<p>而如果我们想只克隆某个指定分支(english)的最近一次commit，可以使用下面命令</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone --depth 1  --branch english https:&#x2F;&#x2F;github.com&#x2F;labuladong&#x2F;fucking-algorithm.git</span><br></pre></td></tr></table></figure>

<p>git clone –depth=1后拉取其他分支的方法</p>
<p>上面提到的 git clone –depth=1 操作只会clone一个分支english，如果我们想把其他远程分支(如master)也克隆到本地，我们需要用下面的命令</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git remote set-branches origin &#39;remote_branch_name&#39;</span><br><span class="line">$ git fetch --depth 1 origin remote_branch_name</span><br><span class="line">$ git checkout remote_branch_name</span><br></pre></td></tr></table></figure>



<h3 id="git无法提交代码-error-Failed-at-the-ant-design-pro-1-0-0-lint-staged-script"><a href="#git无法提交代码-error-Failed-at-the-ant-design-pro-1-0-0-lint-staged-script" class="headerlink" title="git无法提交代码( error Failed at the ant-design-pro@1.0.0 lint-staged script.)"></a>git无法提交代码( error Failed at the <a href="mailto:ant-design-pro@1.0.0">ant-design-pro@1.0.0</a> lint-staged script.)</h3><p>报错<br>npm ERR! A complete log of this run can be found in: npm ERR! C:\Users\Administrator\AppData<br>日志报错如下<br>20 error code ELIFECYCLE<br>21 error errno 1<br>22 error <a href="mailto:ant-design-pro@1.0.0">ant-design-pro@1.0.0</a> lint-staged: lint-staged<br>22 error Exit status 1<br>23 error Failed at the <a href="mailto:ant-design-pro@1.0.0">ant-design-pro@1.0.0</a> lint-staged script.<br>23 error This is probably not a problem with npm. There is likely additional logging output above.</p>
<p>在package.json文件中删除这块代码，问题解决</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&quot;husky&quot;: &#123;</span><br><span class="line">    &quot;hooks&quot;: &#123;</span><br><span class="line">      &quot;pre-commit&quot;: &quot;npm run lint-staged&quot;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>



<h3 id="You-have-not-concluded-your-merge-MERGE-HEAD-exists-Please-commit-your-changes-before-you-can-merge"><a href="#You-have-not-concluded-your-merge-MERGE-HEAD-exists-Please-commit-your-changes-before-you-can-merge" class="headerlink" title="You have not concluded your merge (MERGE_HEAD exists). Please, commit your changes before you can merge."></a>You have not concluded your merge (MERGE_HEAD exists). Please, commit your changes before you can merge.</h3><ul>
<li>报错原因</li>
</ul>
<p>上一次pull的代码有冲突自动合并失败，在下一次pull之前你没有很好的解决这个冲突</p>
<ul>
<li>解决方案</li>
</ul>
<p>撤销这次合并</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1、git merge --abort</span><br><span class="line">2、git reset --merge</span><br></pre></td></tr></table></figure>
<p>3、解决冲突<br>4、<code>git add</code>和<code>git commit</code><br>5、 这时候<code>git pull</code>应该就可以使用了</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### error: RPC failed; curl 18 transfer closed with outstanding read data remaining的解决</span><br></pre></td></tr></table></figure>
<p>一，加大缓存区<br>git config –global http.postBuffer 524288000<br>这个大约是500M</p>
<p>查看是否修改成功<br>git config –list</p>
<p>二、少clone一些，–depth 1<br>git clone <a href="https://github.com/flutter/flutter.git" target="_blank" rel="noopener">https://github.com/flutter/flutter.git</a> –depth 1<br>–depth 1的含义是复制深度为1，就是每个文件只取最近一次提交，不是整个历史版本。</p>
<p>三、换协议<br>clone http方式换成SSH的方式，即 https:// 改为 git://<br>例如git clone <a href="https://github.com/flutter/flutter.git" target="_blank" rel="noopener">https://github.com/flutter/flutter.git</a><br>换成git clone git://github.com/flutter/flutter.git</p>
<p>//除了第三种，其他试过都没用，害，也有人说是网速问题！！！</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">## js</span><br><span class="line"></span><br><span class="line">### 数组去重，并集、交集、和差集</span><br></pre></td></tr></table></figure>
<p>数组去重<br>let arr = [3, 5, 2, 2, 5, 5];<br>let setArr = new Set(arr)            // 返回set数据结构Set(3) {3, 5, 2}<br>//方法一 es6的…解构<br>let unique1 = […setArr ];          //去重转数组后 [3,5,2]<br>//方法二 Array.from()解析类数组为数组<br>let unique2 = Array.from(setArr )    //去重转数组后 [3,5,2]</p>
<p>字符串去重<br>let str = “352255”;<br>let unique = […new Set(str)].join(“”); // 352</p>
<p>实现并集、交集、和差集<br>let a = new Set([1, 2, 3]);<br>let b = new Set([4, 3, 2]);<br>// 并集<br>let union = new Set([…a, …b]); // Set {1, 2, 3, 4}<br>// 交集<br>let intersect = new Set([…a].filter(x =&gt; b.has(x))); // set {2, 3}<br>// （a 相对于 b 的）差集<br>let difference = new Set([…a].filter(x =&gt; !b.has(x))); // Set {1}</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 计算多位数组的深度</span><br></pre></td></tr></table></figure>
<p>方法一：<br>s(arr) {<br>      let i = 1;<br>      function l(arr) {<br>        if (arr.find(item =&gt; Array.isArray(item))) {<br>          i += 1;<br>          l(arr.flat())<br>        }<br>      }<br>      l(arr)<br>      console.log(‘000’, i)<br>      return i;<br>}</p>
<p>this.s([1, 3, 3, [4, [6], 7, [5, 6, 7, 43, [23, 4]]], [1, 2]])</p>
<p>方法二：<br>function fn(arr,dep = 0){<br>    if(!Array.isArray(arr)) return dep<br>    return Math.max(…arr.map(d =&gt; fn(d,dep + 1)))<br>}</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### &#96;toString&#96; 方法检查对象的类型</span><br></pre></td></tr></table></figure>
<p>Object.prototype.toString.call([]);<br>// -&gt; ‘[object Array]’</p>
<p>Object.prototype.toString.call(new Date());<br>// -&gt; ‘[object Date]’</p>
<p>Object.prototype.toString.call(null);<br>// -&gt; ‘[object Null]’</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 前端接受后端超过16位的数字会失去精度？</span><br><span class="line"></span><br><span class="line">在其他语言中，例如 Java，Long 类型占用 64 个二进制位，最大值为 9223372036854774807 (2⁶³ — 1)，长度约为 19 位。</span><br><span class="line"></span><br><span class="line">在 JavaScript 中，由于 Number 类型的值也包含小数，所以最大值为 9007199254740993 (2^53 - 1)，长度约为 16 位。</span><br><span class="line"></span><br><span class="line">所以当Java向JSON返回16位以上的Long类型字段时，前端JavaScript获取的数据会因为溢出而失去精度。</span><br><span class="line"></span><br><span class="line">![图片](https:&#x2F;&#x2F;mmbiz.qpic.cn&#x2F;mmbiz_png&#x2F;eXCSRjyNYcZen8zlNhyZw1Aajbg9D2lx8NbxoMM7nINXUapl45VicgtibZmmpdMSVibmF5O9ia0icG2ys9puDb3QIwQ&#x2F;640?wx_fmt&#x3D;png&amp;wxfrom&#x3D;5&amp;wx_lazy&#x3D;1&amp;wx_co&#x3D;1)</span><br><span class="line"></span><br><span class="line">**如何解决这个问题呢？**</span><br><span class="line"></span><br><span class="line">也许我们可以尝试在前端解决这个问题，但我认为我们应该寻求后端工程师的帮助。</span><br><span class="line"></span><br><span class="line">我们应该将可能超出范围的数字类型（Long）变量转换为字符串类型（String）。这个是我的个人处理方法，如果你有更好的解决方案，也请欢迎你在留言区跟我一起来分享讨论，让我们大家一起学习进步。</span><br><span class="line"></span><br><span class="line">### 快速判断数组中有没有重复值</span><br></pre></td></tr></table></figure>
<p>纯数组<br>let arr = [1,2,3,4,5]<br>if((new Set (arr)).size === arr.length){<br>    console.log(‘无重复’)<br>}else{<br>    console.log(‘有重复’)<br>}<br>数组对象<br>items.forEach(item =&gt; {<br>    const result = items.filter(it =&gt; it.id === item.id)<br>        if (result.length &gt; 1) {<br>            return ‘duplicate value exists’;<br>        }<br>        return ‘no duplicates’;<br> })</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### toPrecision 和 toFixed的区别</span><br></pre></td></tr></table></figure>
<p>toFixed（n）<br>返回一个字符串，n指定调用方法的number 小数点四舍五入保留几位。n在0~20之间，超出会报错</p>
<p>toPrecision（n）<br>返回一个字符串，n指定整个调用方法的number四舍五入保留几位（小数点前+小数点后），如果n没有超过number本身的位数，会以科学计数法的方式显示number。n在1~21之间，超出会报错</p>
<p>var number= 123.456789;</p>
<p>number.toFixed(0)     // 123<br>number.toFixed(1)     // 123.5<br>number.toFixed(2)     // 123.46<br>number.toFixed(3)     // 123.457<br>number.toFixed(4)     // 123.4568<br>number.toFixed(5)     // 123.45679<br>number.toFixed(6)     // 123.456789<br>number.toFixed(7)     // 123.4567890<br>number.toFixed(8)     // 123.45678900<br>number.toFixed(9)     // 123.456789000<br>number.toFixed(10)    // 123.4567890000<br>number.toFixed(11)    // 123.45678900000</p>
<p>number.toPrecision()      // 123.456789 没有指定任何位数则直接执行toString()方法<br>number.toPrecision(0)     // 报错 指定整个number为0位，故报错<br>number.toPrecision(1)     // 1e+2  1小于number本身的位数，所以以科学计数法展示<br>number.toPrecision(2)     // 1.2e+2<br>number.toPrecision(3)     // 123<br>number.toPrecision(4)     // 123.5<br>number.toPrecision(5)     // 123.46<br>number.toPrecision(6)     // 123.457<br>number.toPrecision(7)     // 123.4568<br>number.toPrecision(8)     // 123.45679<br>number.toPrecision(9)     // 123.456789<br>number.toPrecision(10)    // 123.4567890<br>number.toPrecision(11)    // 123.45678900</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 总结树状结构的相互转换</span><br><span class="line"></span><br><span class="line">参考链接：https:&#x2F;&#x2F;juejin.cn&#x2F;post&#x2F;7116119122949177357</span><br></pre></td></tr></table></figure>
<p>var  data=[<br>    {<br>        id:1, pid:0, name:’沃尔玛’,<br>        children:[<br>                {<br>                    id:2, pid:1, name:’生鲜区’,<br>                    children:[<br>                        {id:4, pid:2, name:’鱼’},<br>                        {id:5, pid:2, name:’牛肉’}<br>                    ]<br>                },<br>                {<br>                    id:3, pid:1, name:’日用品区’,<br>                    children:[<br>                        {id:6, pid:3, name:’卫生纸’},<br>                        {id:7, pid:3, name:’牙刷’}<br>                    ]<br>                }<br>        ]<br>    }<br>];</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#### 扁平结构变树状</span><br></pre></td></tr></table></figure>
<p>function arrToTree(list, value) {<br>  // 1.定义一个空数组,后续往里面添加树形结构<br>  const arr = []<br>  list.forEach(item =&gt; {<br>  // 2. 筛选满足要求的item<br>    if (item.pid === value) {<br>  // 3.筛选所有孩子,即pid与父级id一致的(外循环走一次,里面走完所有)<br>      const children = arrToTree(list, item.id)<br>  // 4.父级中有孩子,才能加上children属性<br>      if (children.length &gt; 0) {<br>   // 5. 因为需要的树形结构中孩子属性名为children,手动给父级添加一个children属性,并赋值<br>        item.children = children<br>      }<br>   // 6. 把满足要求的一组数据push进去<br>      arr.push(item)<br>    }<br>  })<br>  // 返回树形结构<br>  return arr<br>}</p>
<p>初始调用 arrToTree(list, ‘’)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">#### 树状变扁平</span><br></pre></td></tr></table></figure>
<p>function treeToFlat(arr){<br>  var newArr=[];//申请新数组<br>    for(var i=0;i&lt;arr.length;i++){<br>      if(arr<i>.children){//childrens存在<br>            newArr.push(…treeToFlat(arr[i].children));<br>             //递归，调用treeToFlat方法，并将返回结果push到新数组<br>            delete arr[i].children;//删除原有的childrens属性<br>        }<br>        newArr.push({…arr[i]});//三个点，展开对象，push新对象<br>    }<br>    return newArr;//返回数组<br>}</i></p>
<p>初始调用 treeToFlat(list)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 图片文件转base64格式(实现预览)</span><br></pre></td></tr></table></figure>
<p>fileChange (e) {<br>      // console.log(e.target.files)<br>      if (e.target.files.length === 0) {<br>        // 没有选择图片<br>        this.avatar = ‘’<br>      } else {<br>        // 创建 fr 对象—FileReader构造函数<br>        const fr = new FileReader()<br>        // 读取文件<br>        fr.readAsDataURL(e.target.files[0])<br>        // 监听加载事件,读取成功后执行里面的回调<br>        fr.onload = () =&gt; {<br>        // 将结果赋给xxx<br>          this.avatar = fr.result<br>        }<br>      }<br>},</p>
<p>给input设置change改变事件<br>1设置一个变量接收转换的数据<br>2拿到事件目标,里面有个方法e.target.files是个伪数组.通过e.target.files.length判断用户是否选择了图片<br>3通过new FileReader拿到一个实例<br>4通过 实例名.readAsDataURL 将图片转成base64格式<br>5onload可以监听转换完成后/给声明变量赋值</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 递归深拷贝</span><br></pre></td></tr></table></figure>
<pre><code>let obj = {
     name:&apos;张三&apos;,
     age:20,
     hobby:[&apos;学习&apos;,&apos;上课&apos;,&apos;干饭&apos;],
     student:{
         name:&apos;尼古拉斯赵四&apos;,
         age:38
     }
 }

 //深拷贝函数
 function copy(obj,newObj){
     for(let key in obj ){
         if( obj[key] instanceof Array ){
             newObj[key] = []
             //递归调用 继续深拷贝数组
             copy(obj[key],newObj[key])
         }else if( obj[key] instanceof Object ){
             newObj[key] = {}
             //递归调用 继续深拷贝对象
             copy(obj[key],newObj[key])
         }else{
             newObj[key] = obj[key]
         }
     }
 }

 //开始拷贝
 let newObj = {}
 copy(obj,newObj)</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### 将数组里面的对象转换成我们需要的键值对</span><br></pre></td></tr></table></figure>
<p>我们拿到的数据:arr=[{入职日期:43535,姓名:’jack’,手机号:111111….},{}]<br>需要的上传格式: [{timeOfEntry:43535,username:’jack’,mobile:111111….},{}]<br>     //手动写一个具有对应关系的对象<br>      const userRelations = {<br>        ‘入职日期’: ‘timeOfEntry’,<br>        ‘手机号’: ‘mobile’,<br>        ‘姓名’: ‘username’,<br>        ‘转正日期’: ‘correctionTime’,<br>        ‘工号’: ‘workNumber’<br>      }<br>     //第一个参数是自己写的对应关系对象,第二个参数是原数组<br>     function demandArr(userRelations,arr){<br>      //创建一个空数组<br>      const newArr = []<br>      arr.forEach(item =&gt; {<br>      //创建一个空对象<br>        const obj = {}<br>        //循环数组里的每一个对象<br>        for (const k in item) {<br>          const englishKey = userRelations[k]<br>            obj[englishKey] = item[k]<br>          }<br>         newArr.push(obj)<br>       })<br>      }</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### input框实时转化大小写</span><br><span class="line"></span><br><span class="line">#### 方法一：computed（适用于普通变量，不适用对象的属性变化）</span><br></pre></td></tr></table></figure>
<el-form-item label="设备名称11111" prop="name">
   <el-input v-model.trim="inputValCompute" clearable placeholder="请输入设备名称" style="width:376px">        
</el-input></el-form-item>

<p>computed: {<br>        inputValCompute: {<br>            get() {<br>                return this.testname;<br>            },<br>            set(val) {<br>                this.testname = val.toUpperCase();<br>            },<br>        },<br>    },</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">#### 方法二：@input（通用）</span><br></pre></td></tr></table></figure>
<el-form-item label="设备名称" prop="name">
   <el-input v-model.trim="ruleForm.name" @input="upperCaseChange" clearable placeholder="请输入设备名称" style="width:376px">
   </el-input>
</el-form-item>

<p>upperCaseChange(e){<br>    this.ruleForm.name = e.toUpperCase()<br>},</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### Vue中数字（金额）大小写实时转换</span><br></pre></td></tr></table></figure>
<el-col :span="12">
   <el-form-item :label="$t('不含税金额')" prop="taxNotIncluded">
      <el-input v-model="form.taxNotIncluded" :placeholder="$t('不含税金额')" show-word-limit @input="computeLen1(form.taxNotIncluded)">
   </el-input></el-form-item>
</el-col>

<el-col :span="12">
   <el-form-item :label="$t('不含税金额(大写)')" prop="taxNotIncludedCapital">
      <el-input v-model="form.taxNotIncludedCapital" :placeholder="$t('不含税金额(大写)')" show-word-limit maxlength="32">
   </el-input></el-form-item>
</el-col>


<pre><code>computeLen1(number) {
    let ret = &apos;&apos;
      if (number !== &apos;&apos; &amp;&amp; number != null &amp;&amp; number !== &apos;0&apos;) {
        let unit = &apos;仟佰拾亿仟佰拾万仟佰拾元角分&apos;
        let str = &apos;&apos;
        number += &apos;00&apos;
        const point = number.indexOf(&apos;.&apos;)
        if (point &gt;= 0) {
          number = number.substring(0, point) + number.substr(point + 1, 2)
        }
        unit = unit.substr(unit.length - number.length)
        for (let i = 0; i &lt; number.length; i++) {
          str +=
            &apos;零壹贰叁肆伍陆柒捌玖&apos;.charAt(number.charAt(i)) + unit.charAt(i)
        }
        ret =
          str
            .replace(/零(仟|佰|拾|角)/g, &apos;零&apos;)
            .replace(/(零)+/g, &apos;零&apos;)
            .replace(/零(万|亿|元)/g, &apos;$1&apos;)
            .replace(/(亿)万|(拾)/g, &apos;$1$2&apos;)
            .replace(/^元零?|零分/g, &apos;&apos;)
            .replace(/元$/g, &apos;元&apos;) + &apos;整&apos;
      }
      this.form.taxNotIncludedCapital = ret
  },</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 如何根据条件删除数组中的元素</span><br><span class="line"></span><br><span class="line">延伸：优化10000000条弹幕循环</span><br><span class="line"></span><br><span class="line">https:&#x2F;&#x2F;juejin.cn&#x2F;post&#x2F;7087804464912039944</span><br><span class="line"></span><br><span class="line">**const** arr &#x3D; [1,2,3,4,5,6,7,8]</span><br><span class="line"></span><br><span class="line">删除小于5的</span><br><span class="line"></span><br><span class="line">#### 正序删除</span><br></pre></td></tr></table></figure>
<p>for(let i = 0, len = arr.length; i &lt; len; i++) {<br>    if(arr[i] &lt; 5) {<br>        arr.splice(i, 1)<br>        i–;<br>    }<br>}</p>
<p>// arr = [5, 6, 7, 8] 符合预期</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#### 倒序删除</span><br></pre></td></tr></table></figure>
<p>for(let i = arr.length - 1; i &gt;= 0; i–) {<br>    if(arr[i] &lt; 5) {<br>        arr.splice(i, 1)<br>    }<br>}</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 给定一个不重复的数字数组,输出两两相加等于10的数，最后输出二维组</span><br></pre></td></tr></table></figure>
<p>[1,3,8,9,5,10,2,7,6,4,-2,12] —&gt; [[1,9], [3,7], [8,2], [6,4], [-2,12]]</p>
<p>var a = [1,3,8,9,5,10,2,7,6,4,-2,12],arr = [];<br>for(var i = 0; i &lt; a.length-1; i ++){<br>  for(var j = i+1; j &lt; a.length; j ++) {<br>    if(a[i] + a[j] == 10){arr.push([a[i], a[j]])}<br>  }<br>}</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">###  从 &#96;RGB&#96; 转换为 &#96;HEX&#96;</span><br></pre></td></tr></table></figure>
<p>const rgbToHex = (r,g,b) =&gt; {<br>    const toHex = (num) =&gt; {<br>        const hex = num.toString(16)<br>        return hex.length === 1 ? <code>0${hex}</code> : hex<br>    }<br>    return <code>#${toHex(r)}${toHex(g)}${toHex(b)}</code><br>}<br>console.log(rgbToHex(46,32,67))</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 解决JS动态生成的页面元素jQuery Click无效的方法</span><br></pre></td></tr></table></figure>
<p>常规用法的JS代码如下：<br>$(“.classname”).on(“click”, function (){ //执行操作 });</p>
<p>但是有的时候我们会发现，JS动态生成的页面元素jQuery Click却无效，这个时候就要使用另外一种方法，JS代码如下：</p>
<p>$(document).on(“click”, “.classname”, function(){ //执行操作 });</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 打乱数组</span><br></pre></td></tr></table></figure>
<p>const list = [1, 2, 3, 4, 5, 6, 7, 8, 9];<br>list.sort(() =&gt; {<br>    return Math.random() - 0.5;<br>});</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 复制到剪贴板</span><br></pre></td></tr></table></figure>
<p>const copyToClipboard = (text) =&gt;<br>  navigator.clipboard?.writeText &amp;&amp; navigator.clipboard.writeText（text）。<br>// 测试<br>copyToClipboard(“Hello World!”)。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### 右键复制（插件clipboard）</span><br></pre></td></tr></table></figure>
<p>npm install –save clipboard</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">#### 页面点击元素直接引用</span><br></pre></td></tr></table></figure>
<p>方法一：<br><template><br>    <span></span><br>    &lt;i<br>    class=”el-icon-document”<br>    title=”点击复制”<br>    @click=”copyActiveCode($event,code )”/&gt;<br></template><br>// methods<br>import Clipboard from “clipboard”;<br>copyActiveCode(e, text) {<br>   const clipboard = new Clipboard(e.target, { text: () =&gt; text })<br>   clipboard.on(‘success’, e =&gt; {<br>    this.$message({ type: ‘success’, message: ‘复制成功’ })<br>    // 释放内存<br>    clipboard.off(‘error’)<br>    clipboard.off(‘success’)<br>    clipboard.destroy()<br>   })<br>   clipboard.on(‘error’, e =&gt; {<br>    // 不支持复制<br>    this.$message({ type: ‘waning’, message: ‘该浏览器不支持自动复制’ })<br>    // 释放内存<br>    clipboard.off(‘error’)<br>    clipboard.off(‘success’)<br>    clipboard.destroy()<br>   })<br>   clipboard.onClick(e)<br>  }</p>
<p>方法二<br><template><br>    <span></span><br>    &lt;i<br>    id=”tag-copy” &lt;– 作为选择器的标识使用用class也行 –&gt;<br>    :data-clipboard-text=”code” &lt;– 这里放要复制的内容 –&gt;<br>    class=”el-icon-document”<br>    title=”点击复制”<br>    @click=”copyActiveCode($event,code)”/&gt;<br></template><br>import Clipboard from “clipboard”;<br>// methods<br>copyActiveCode() {<br>   const clipboard = new Clipboard(“#tag-copy”)<br>   clipboard.on(‘success’, e =&gt; {<br>    this.$message({ type: ‘success’, message: ‘复制成功’ })<br>    // 释放内存<br>    clipboard.destroy()<br>   })<br>   clipboard.on(‘error’, e =&gt; {<br>    // 不支持复制<br>    this.$message({ type: ‘waning’, message: ‘该浏览器不支持自动复制’ })<br>    // 释放内存<br>    clipboard.destroy()<br>   })<br>  }</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">#### 点击右键封装使用</span><br></pre></td></tr></table></figure>
<p>util/clipboard.js</p>
<p>import Vue from ‘vue’<br>import Clipboard from ‘clipboard’</p>
<p>function clipboardSuccess() {<br>    Vue.prototype.$message({<br>        message: ‘复制成功’,<br>        // type: ‘success’,<br>        duration: 1500<br>    })<br>}</p>
<p>function clipboardError() {<br>    Vue.prototype.$message({<br>        message: ‘复制失败’,<br>        type: ‘error’<br>    })<br>}</p>
<p>export default function handleClipboard(text, event) {<br>    if (!text) {<br>        return<br>    }<br>    const clipboard = new Clipboard(event.target, {<br>        text: () =&gt; text<br>    })<br>    clipboard.on(‘success’, () =&gt; {<br>        clipboardSuccess()<br>        clipboard.destroy()<br>    })<br>    clipboard.on(‘error’, () =&gt; {<br>        clipboardError()<br>        clipboard.destroy()<br>    })<br>    clipboard.onClick(event)<br>}</p>
<p>页面使用<br>template<br>   &lt;span @contextmenu.prevent.stop=”rightClick(‘123’,$event)”&gt;123</p>
<p>js<br>import clipboard from ‘@/utils/clipboard’</p>
<p>methods<br>rightClick(val,event) {<br>    clipboard(val,event)<br>},</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 检测黑暗模式</span><br></pre></td></tr></table></figure>
<p>const isDarkMode = () =&gt;<br>  window.matchMedia &amp;&amp;<br>  window.matchMedia(“(prefers-color-scheme: dark)”).matches。<br>// 测试<br>console.log(isDarkMode())。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 最简单的滚动到顶部或者底部</span><br></pre></td></tr></table></figure>
<p>const scrollToTop = (element) =&gt;<br>  element.scrollIntoView({ behavior: “smooth”, block: “start” })</p>
<p>const scrollToTop = (element) =&gt;<br>  element.scrollIntoView({ behavior: “smooth”, block: “end” })</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 生成随机颜色</span><br></pre></td></tr></table></figure>
<p>const generateRandomHexColor = () =&gt;<br>  <code>#${Math.floor(Math.random() * 0xffffff) .toString(16)}</code>;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 将字符串中每个值出现次数作为值进行跟踪</span><br></pre></td></tr></table></figure>
<p>let string = ‘kapilalipak’;<br>const table={};<br>for(let char of string) {<br>  table[char]=table[char]+1 || 1;<br>}<br>// 输出<br>{k: 2, a: 3, p: 2, i: 2, l: 2}</p>
<p>作者：华为云开发者社区<br>链接：<a href="https://juejin.cn/post/7068853819135754253" target="_blank" rel="noopener">https://juejin.cn/post/7068853819135754253</a><br>来源：稀土掘金<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 删除对象中的重复值</span><br></pre></td></tr></table></figure>
<p>const array  = [5,4,7,8,9,2,7,5];<br>array.filter((item,idx,arr) =&gt; arr.indexOf(item) === idx);<br>// or<br>const nonUnique = […new Set(array)];<br>// 输出: [5, 4, 7, 8, 9, 2]</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 从数组中过滤出虚假值(0&#96;，&#96;undefined&#96;，&#96;null&#96;，&#96;false&#96;，&#96;&quot;&quot;&#96;，&#96;&#39;&#39;)</span><br></pre></td></tr></table></figure>
<p>const array = [3, 0, 6, 7, ‘’, false];<br>array.filter(Boolean);<br>// 输出<br>(3) [3, 6, 7]</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 声明和初始化数组</span><br></pre></td></tr></table></figure>
<p>const array = Array(5).fill(‘’);<br>// 输出<br>(5) [“”, “”, “”, “”, “”]</p>
<p>const matrix = Array(5).fill(0).map(()=&gt;Array(5).fill(0));<br>// 输出<br>(5) [Array(5), Array(5), Array(5), Array(5), Array(5)]<br>0: (5) [0, 0, 0, 0, 0]<br>1: (5) [0, 0, 0, 0, 0]<br>2: (5) [0, 0, 0, 0, 0]<br>3: (5) [0, 0, 0, 0, 0]<br>4: (5) [0, 0, 0, 0, 0]<br>length: 5</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 使用reduce找出总和、最小值和最大值</span><br></pre></td></tr></table></figure>
<p>array.reduce((a,b) =&gt; a+b);<br>// 输出: 35<br>array.reduce((a,b) =&gt; a&gt;b?a:b);<br>// 输出: 9<br>array.reduce((a,b) =&gt; a&lt;b?a:b);<br>// 输出: 2</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">###  对字符串、数字或对象数组进行排序</span><br></pre></td></tr></table></figure>
<ul>
<li>排序字符串数组<br>const stringArr = [“Joe”, “Kapil”, “Steve”, “Musk”]<br>stringArr.sort();<br>// 输出<br>(4) [“Joe”, “Kapil”, “Musk”, “Steve”]</li>
</ul>
<p>stringArr.reverse();<br>// 输出<br>(4) [“Steve”, “Musk”, “Kapil”, “Joe”]</p>
<ul>
<li>排序数字数组<br>const array  = [40, 100, 1, 5, 25, 10];<br>array.sort((a,b) =&gt; a-b);<br>// 输出<br>(6) [1, 5, 10, 25, 40, 100]</li>
</ul>
<p>array.sort((a,b) =&gt; b-a);<br>// 输出<br>(6) [100, 40, 25, 10, 5, 1]</p>
<ul>
<li>对象数组排序<br>const objectArr = [<br>  { first_name: ‘Lazslo’, last_name: ‘Jamf’     },<br>  { first_name: ‘Pig’,    last_name: ‘Bodine’   },<br>  { first_name: ‘Pirate’, last_name: ‘Prentice’ }<br>];<br>objectArr.sort((a, b) =&gt; a.last_name.localeCompare(b.last_name));<br>// 输出<br>(3) [{…}, {…}, {…}]<br>0: {first_name: “Pig”, last_name: “Bodine”}<br>1: {first_name: “Lazslo”, last_name: “Jamf”}<br>2: {first_name: “Pirate”, last_name: “Prentice”}</li>
</ul>
<p>js字符串对比之localeCompare()方法<br>s提供了字符串的对比方法localeCompare()，该方法返回的是一个数字用来表示一个参考字符串和对比字符串是排序在前，在后或者相同。该方法基本不单独使用，大部分时间是配合字符串排序使用的。</p>
<p>一、语法：<br>string.localeCompare(targetString,locales,options);</p>
<p>二、参数<br>targetString：对比字符串<br>locales：看MDN上的解释是用来表示一种或多种语言或区域的一个符合 BCP 47 标准的字符串或一个字符串数组，我个人的理解是，指定一系列字符的顺序，提供给对比字符串的对比顺序，就好比我们通过26个字母的顺序就知道a，c的排序的顺序。<br>options：是单个活对象组成的多个参数，主要的可以到MDN去查</p>
<p>三、返回值：返回值是一个数字，目前的主流浏览器都返回的是1、0、-1三个值，但是也有其他情况，所以不可以用绝对的值等于1、-1这种去判断返回的结果<br>返回值大于0：说明当前字符串string大于对比字符串targetString<br>返回值小于0：说明当前字符串string小于对比字符串targetString<br>返回值等于0：说明当前字符串string等于对比字符串targetString</p>
<p>四、方法的调用<br>1、方法的单独调用：就是简单的去对比两个字符串，查看其返回值就好。<br>var str = ‘aaa’,<br>    strCom = ‘bbb’,<br>    strCom2 = ‘aaa’;<br>str.localeCompare(strCom); //-1<br>strCom.localeCompare(str); //1<br>str.localeCompare(strCom2); //0<br>2、配合排序的调用：该方法用来单独比较字符串的情况比较少，大多数情况下是配合字符串的排序下使用的。<br>ar strList = [‘cc’, ‘ee’, ‘ca’, ‘aa’];<br>strList.sort((a, b) =&gt; {<br>    return a.localeCompare(b);<br>});<br>console.log(strList);   //[“aa”, “ca”, “cc”, “ee”]</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### Math.trunc（去除小数部分）</span><br><span class="line"></span><br><span class="line">### 可选链少写几个&amp;&amp;</span><br></pre></td></tr></table></figure>
<p>对象<br>if(result.shoppingCartVo &amp;&amp; result.shoppingCartVo.list &amp;&amp; result.shoppingCartVo.list.length){<br>    // 开始做循环操作<br>}<br>简写为<br>if(result.shoppingCartVo?.list){<br>    // 开始循环逻辑，如果用户购物车没有数据，则判断条件会返回undefined，就不会进入判断<br>    console.log(‘~’)<br>}</p>
<p>数组<br>let list = [1,2,3]<br>// 判断list存在，且length属性大于0，且下标为1的元素存在<br>if(list &amp;&amp; list.length &amp;&amp; list[1] !== undefined){<br>    list[1] = ‘hello’<br>}<br>简写为<br>if(list?.[1]){<br>    list[1] = ‘hello’<br>}</p>
<p>函数<br>fn &amp;&amp; fn()<br>简写为<br>fn?.()</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### document.getElementById(&#39;form_scroll&#39;).scrollTop &#x3D; 0手动滑到滚动顶部</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 数组对象去重（根据id）</span><br></pre></td></tr></table></figure>
<p>removeSameArr=(data)=&gt;{<br>        let hash = {};<br>        const newArr = data.reduceRight((item, next) =&gt; {<br>            hash[next.id] ? ‘’ : hash[next.id] = true &amp;&amp; item.push(next);<br>            return item<br>        }, []);<br>        this.setState({<br>            allCrewList: newArr<br>        })<br>    }</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 为什么0.1+0.2不等于0.3</span><br><span class="line"></span><br><span class="line">在&#96;JS&#96;当中，&#96;Number&#96;类型实际上是&#96;double&#96;类型（双精度），因为计算机只认识二进制，在进行运算时，需要将其他进制的数值转换成二进制，然后再进行计算</span><br><span class="line"></span><br><span class="line">小数用二进制表达时是无穷的。</span><br></pre></td></tr></table></figure>
<p>// 将0.1转换成二进制<br>console.log(0.1.toString(2)); // 0.0001100110011001100110011001100110011001100110011001101</p>
<p>// 将0.2转换成二进制<br>console.log(0.2.toString(2));  // 0.001100110011001100110011001100110011001100110011001101</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">双精度浮点数的小数部分最多支持&#96;53&#96;位二进制位，所以两者相加后，因浮点数小数位的限制而截断的二进制数字，再转换为十进制，就成了&#96;0.30000000000000004&#96;，这样在进行算术计算时会产生误差。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 解析get参数(url参数)</span><br></pre></td></tr></table></figure>
<p>const q = {};<br>location.search.replace(/([^?&amp;=]+)=([^&amp;]+)/g,(_,k,v)=&gt;q[k]=v);<br>console.log(q); </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 合并空值运算符(只允许在值为&#96;null&#96;或未定义时使用默认值)</span><br></pre></td></tr></table></figure>
<p>const name = ‘’;</p>
<p>console.log(name || ‘yd’); // yd;<br>console.log(name ?? ‘yd’); // ‘’;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### js字符串提取中文、英文、数字</span><br></pre></td></tr></table></figure>
<ol>
<li><p>提取中文 str.replace(/[^\u4E00-\u9FA5]/g,’’)</p>
</li>
<li><p>提取英文 str.replace(/[^a-zA-Z]/g,’’)</p>
</li>
<li><p>提取数字 str.replace(/[^\d]/g,’’)</p>
</li>
</ol>
<p>4.提取中文和英文，其他的组合以此类推<br>str.replace(/[^\u4E00-\u9FA5a-zA-Z]/g,’’)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### js转中文</span><br></pre></td></tr></table></figure>
<pre><code>/*
    解题思路：将数字每四个拆分一次，每次后面加万，亿，万亿，亿亿作为节权位
    然后单独将每四个数按情况转化为汉字，其他情况按下标即可转化，主要考虑为0的情况，
    当零为后面出现时，直接去除，当在两个大于零的数字中间出现时，将多个零合并为一个零
*/
let numChar=[&apos;零&apos;,&apos;一&apos;,&apos;二&apos;,&apos;三&apos;,&apos;四&apos;,&apos;五&apos;,&apos;六&apos;,&apos;七&apos;,&apos;八&apos;,&apos;九&apos;]
let numUnit=[&apos;&apos;,&apos;十&apos;,&apos;百&apos;,&apos;千&apos;]         //权位
let numSection=[&apos;&apos;,&apos;万&apos;,&apos;亿&apos;,&apos;万亿&apos;,&apos;亿亿&apos;]     //节权位
formatSection=(num)=&gt;{    
    let arr=(num+&apos;&apos;).split(&apos;&apos;).reverse();
    let str=&apos;&apos;
    for(let i=0;i&lt;arr.length;i++){          //将0-9转化为零到九
        let char=arr[i]==0?numChar[0]:numChar[arr[i]]+numUnit[i]   //当数字为0时不加权位，非零加权位 
        str=char+str;
    }
    let s=str.replace(/零+/g,&apos;零&apos;).replace(/零+$/,&apos;&apos;)       //将多个零合并为一个零，并剔除尾端的零
    return s;
}
formatNum=(num,str)=&gt;{      //将字符串按个数拆分
    let len=Math.ceil(str.length/num);
    let arr=[]
    for(let i=0;i&lt;len;i++){
        let reverseStr=str.split(&apos;&apos;).reverse().join(&apos;&apos;)
        let s=reverseStr.slice(i*num,i*num+num).split(&apos;&apos;).reverse().join(&apos;&apos;)
        arr.unshift(s)
    }
    return arr
}
numberTranToCN=(num)=&gt;{
    let arr=formatNum(4,num+&apos;&apos;)         //将数字每四个拆分一次
    let list=[]
    for(let i=0;i&lt;arr.length;i++){
        let str=formatSection(arr[i])
        list.push(str)

    }
    let reverseList=list.reverse();
    for(let j=0;j&lt;reverseList.length;j++){
        reverseList[j]+=numSection[j]
    }
    return reverseList.reverse().join(&apos;&apos;)
}
let str=numberTranToCN(12004004002)
console.log(str)
console.log(&apos;第&apos;+numberTranToCN(&apos;109&apos;)+&apos;名&apos;)
console.log(&apos;第&apos;+numberTranToCN(1090)+&apos;名&apos;)</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### js数字转英文单词</span><br></pre></td></tr></table></figure>
<p>Input: num = 123<br>Output: “One Hundred Twenty Three”<br>Input: num = 1234567<br>Output: “One Million Two Hundred Thirty Four Thousand Five Hundred Sixty Seven”</p>
<p>const numberToWords = function(num) {<br>  let result = toHundreds(num % 1000);<br>  const bigNumbers = [“Thousand”, “Million”, “Billion”];<br>  for (let i = 0; i &lt; 3; ++i) {<br>    num = Math.trunc(num / 1000);<br>    result = num % 1000 !== 0 ? [toHundreds(num % 1000), bigNumbers[i], result].filter(Boolean).join(“ “) : result;<br>  }<br>  return result.length === 0 ? “Zero” : result;<br>}</p>
<p>function toHundreds(num) {<br>  const numbers = [“”, “One”, “Two”, “Three”, “Four”, “Five”, “Six”, “Seven”, “Eight”, “Nine”, “Ten”,<br>    “Eleven”, “Twelve”, “Thirteen”, “Fourteen”, “Fifteen”, “Sixteen”, “Seventeen”, “Eighteen”, “Nineteen”];<br>  const tens = [“”, “”, “Twenty”, “Thirty”, “Forty”, “Fifty”, “Sixty”, “Seventy”, “Eighty”, “Ninety”];<br>  const result = Array(3).fill(“”);<br>  let a = Math.trunc(num / 100), b = num % 100, c = num % 10;<br>  result[0] = a &gt; 0 &amp;&amp; <code>${numbers[a]} Hundred</code>;<br>  result[1] = b &lt; 20 ? numbers[b] : tens[Math.trunc(b / 10)]<br>  result[2] = b &gt;= 20 &amp;&amp; <code>${numbers[c]}</code>;<br>  return result.filter(Boolean).join(“ “);<br>}</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 判断当前浏览器是pc端还是移动端</span><br></pre></td></tr></table></figure>
<script type="text/javascript">
        function browserRedirect() {
            var sUserAgent = navigator.userAgent.toLowerCase();
            var bIsIpad = sUserAgent.match(/ipad/i) == "ipad";
            var bIsIphoneOs = sUserAgent.match(/iphone os/i) == "iphone os";
            var bIsMidp = sUserAgent.match(/midp/i) == "midp";
            var bIsUc7 = sUserAgent.match(/rv:1.2.3.4/i) == "rv:1.2.3.4";
            var bIsUc = sUserAgent.match(/ucweb/i) == "ucweb";
            var bIsAndroid = sUserAgent.match(/android/i) == "android";
            var bIsCE = sUserAgent.match(/windows ce/i) == "windows ce";
            var bIsWM = sUserAgent.match(/windows mobile/i) == "windows mobile";
            document.writeln("您的浏览设备为：");
            if (bIsIpad || bIsIphoneOs || bIsMidp || bIsUc7 || bIsUc || bIsAndroid || bIsCE || bIsWM) {
                document.writeln("phone");
            } else {
                document.writeln("pc");
            }
        }

    browserRedirect();
</script>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### JS实现随机生成指定位数的随机字符串</span><br></pre></td></tr></table></figure>
<p>function randomString(code) {<br>      let len = code<br>      let $chars = ‘ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz123456789’<br>      let maxLen = $chars.length<br>      let pwd = ‘’<br>      for (let i = 0; i &lt; len; i++) {<br>        pwd += $chars.charAt(Math.floor(Math.random() * maxLen ))<br>      }<br>      return pwd<br>}<br>randomString(255)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 快速删除数组中最后一个或几个值&#x2F;快速清空数组(数组对象同样适用)</span><br></pre></td></tr></table></figure>
<p>const array = [1,2,3,4,5];<br>console.log(array); // [1,2,3,4,5];<br>array.length=2;<br>console.log(array); // [1,2];</p>
<p>let arr= [‘a’, ‘b’, ‘c’];<br>arr.length = 0;<br>console.log(arr.length); // Ouput=&gt; 0<br>console.log(arr); // Output=&gt; []</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 合并数组的两种方式(庞大数据建议使用apply)</span><br></pre></td></tr></table></figure>
<p>Array.prototype.concat()<br>const array1 = [‘a’，’b’，’c’];<br>const array2 = [‘a’，’e’，’f’];<br>const array3 = array1.concat(array2);<br>console.log（array3）;<br>//Output=&gt; Array [“ a”，“ b”，“ c”，“ a”，“ e”，“ f”]<br>但是，在处理庞大的数据集时，Array.prototype.concat()并不是最有效的选择，因为这是一个内存密集型任务，因为它会创建一个新数组。</p>
<p>在这种情况下，使用该Array.push.apply(arr1, arr2)方法是更好的选择，因为它合并了两个数组而不创建一个新数组。<br>let list1 = [‘a’, ‘b’, ‘c’];<br>let list2 = [‘a’, ‘e’, ‘f’];<br>list1.push.apply(list1, list2);<br>console.log(list1);<br>//Output=&gt; Array [“a”, “b”, “c”, “a”, “e”, “f”]</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### **in 运算符**</span><br><span class="line"></span><br><span class="line">in运算符能够检查对象或其原型链中是否存在已定义的属性</span><br></pre></td></tr></table></figure>
<p>const car = { make: ‘Honda’, model: ‘Accord’, year: 1998 };<br>console.log(‘make’ in car);<br>// expected output: true<br>delete car.make;<br>if (‘make’ in car === false) {<br>  car.make = ‘Suzuki’;<br>}<br>console.log(car.make);<br>// expected output: “Suzuki”</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">该运算符返回true 或false。</span><br><span class="line"></span><br><span class="line">当使用DOM（文档对象模型）时，此属性将非常有用。</span><br></pre></td></tr></table></figure>
<p>var q= “onrender” in  document.createElement(“div”);<br>if(q){<br>    …<br>}<br>else{<br>    …<br>}</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 使用 es6 语法简化代码逻辑，取字符的第一位和最后一位</span><br></pre></td></tr></table></figure>
<p>let startDay = 0<br>let endDay = 1<br>switch (query.birth) {<br>    case  ’0<del>1‘ :  //当天过生日<br>      startDay = 0<br>      endDay = 1<br>      break<br>    case  ’1</del>8‘ :  //1<del>8天过生日<br>      startDay = 1<br>      endDay = 8<br>      break<br>    case  ’8</del>16‘ :  //8<del>16天过生日<br>      startDay = 8<br>      endDay = 16<br>      break<br>    case  ’16</del>31‘ :  //16<del>31天过生日<br>      startDay = 16<br>      endDay = 31<br>      break<br>    case  ’31</del>999‘ :  //31天以后天过生日<br>      startDay = 31<br>      endDay = 999<br>      break<br>}</p>
<p>es6语法（+号在这里是为了转化成数字）</p>
<p>let [startDay, endDay] = query.birth.split(’~‘).map(it =&gt; +it)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### **强制参数检查**</span><br></pre></td></tr></table></figure>
<p>平常做法<br>function submitName(name) {<br>  if(name=== undefined) {<br>    throw new Error(‘Missing parameter’);<br>  }<br>  return name;<br>}</p>
<p>更简单的做法</p>
<p>mandatory = () =&gt; {<br>  throw new Error(‘Missing parameter’);<br>}</p>
<p>submitName=<br>(name= mandatory()) =&gt; {<br>  return name;<br>}<br>submitName() //执行throw new Error(‘Missing parameter’);</p>
<p>submitName(123) //output 123</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 采用函数式编程的思想求数组对象中某个属性的值之和</span><br></pre></td></tr></table></figure>
<p>const programmerOutput = [<br>  {<br>    name: ‘Uncle Bobby’,<br>    linesOfCode: 500<br>  }, {<br>    name: ‘Suzie Q’,<br>    linesOfCode: 1500<br>  }, {<br>    name: ‘Jimmy Gosling’,<br>    linesOfCode: 150<br>  }, {<br>    name: ‘Gracie Hopper’,<br>    linesOfCode: 1000<br>  }<br>];</p>
<p>var totalOutput = programmerOutput<br>  .map((programmer) =&gt; programmer.linesOfCode)<br>  .reduce((acc, linesOfCode) =&gt; acc + linesOfCode, 0);</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 使用 Object.assign 设置函数参数的默认对象</span><br><span class="line"></span><br><span class="line">&#96;Object.assign&#96;方法的第一个参数是目标对象，后面的参数都是源对象。</span><br><span class="line"></span><br><span class="line">&#96;Object.assign&#96;方法用于对象的合并，将源对象（source）的所有可枚举属性，复制到目标对象（target）。</span><br><span class="line"></span><br><span class="line">注意，如果目标对象与源对象有同名属性，或多个源对象有同名属性，则后面的属性会覆盖前面的属性。</span><br></pre></td></tr></table></figure>
<p>var menuConfig = {<br>  title: null,<br>  body: ‘Bar’,<br>  buttonText: null,<br>  cancellable: true<br>}</p>
<p>function createMenu(config) {<br>  config.title = config.title || ‘Foo’<br>  config.body = config.body || ‘Bar’<br>  config.buttonText = config.buttonText || ‘Baz’<br>  config.cancellable = config.cancellable === undefined ? config.cancellable : true;</p>
<p>}</p>
<p>//使用Object.assign<br>var menuConfig = {<br>  title: ‘Order’,<br>  // User did not include ‘body’ key<br>  buttonText: ‘Send’,<br>  cancellable: true<br>}</p>
<p>function createMenu(config) {<br>  config = Object.assign({<br>    title: ‘Foo’,<br>    body: ‘Bar’,<br>    buttonText: ‘Baz’,<br>    cancellable: true<br>  }, config);<br>}</p>
<p>createMenu(menuConfig);<br>//{ “title”: “Order”, “body”: “Bar”, “buttonText”: “Send”, “cancellable”: true}</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 判断数组和数组对象中是否有重复值</span><br><span class="line"></span><br><span class="line">数组：</span><br></pre></td></tr></table></figure>
<p>简单方式一<br>const elementsAreEqual = array =&gt; array.some(el =&gt; el === array[0]);<br>elementsAreEqual([9, 8, 7, 7, 5]); // true<br>复杂方式二<br>isRepeat(arr) {<br>            var hash = {};<br>            let that = this;<br>            for (var i in arr) {<br>                if (hash[arr[i]]){<br>                    that.repeatSn = arr[i];<br>                    return true;<br>                }<br>                hash[arr[i]] = true;<br>            }<br>            return false;<br>        },<br>true – 有重复值</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">数组对象</span><br></pre></td></tr></table></figure>
<p>isRepeat(arr) {<br>      for (var i = 0; i &lt; arr.length - 1; i++) {<br>        for (var j = i + 1; j &lt; arr.length; j++) {<br>          if (arr[i].sn === arr[j].sn) {<br>            this.repeatSn=arr[i].sn;<br>            return false;<br>          }<br>        }<br>      }<br>      return true;<br>    },<br>false – 有重复值</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 返回数字数组中的最大值（一个或多个）</span><br></pre></td></tr></table></figure>
<p>const maxElementsFromArray = (array, len = 1) =&gt; […array].sort((x, y) =&gt; y - x).slice(0, len);</p>
<p>maxElementsFromArray([1, 2, 3, 4, 5]); // [5]<br>maxElementsFromArray([7, 8, 9, 10, 10], 2); // [10, 10]</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 论如何优雅的取随机字符串</span><br></pre></td></tr></table></figure>
<p>Math.random().toString(16).substring(2) // 13位<br>Math.random().toString(36).substring(2) // 11位</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### **转义HTML特殊字符**</span><br></pre></td></tr></table></figure>
<p>const escape = (str) =&gt; str.replace(/[&amp;&lt;&gt;”‘]/g, (m) =&gt; ({ ‘&amp;’: ‘&amp;’, ‘&lt;’: ‘&lt;’, ‘&gt;’: ‘&gt;’, ‘“‘: ‘&quot;’, “‘“: ‘&#39;’ }[m]))</p>
<p>escape(‘<div class="medium">Hi Medium.</div>‘)<br>// &lt;div class=&quot;medium&quot;&gt;Hi Medium.&lt;/div&amp;gt</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### **大写字符串中每个单词的第一个字符**</span><br></pre></td></tr></table></figure>
<p>const uppercaseWords = (str) =&gt; str.replace(/^(.)|\s+(.)/g, (c) =&gt; c.toUpperCase())</p>
<p>uppercaseWords(‘hello world’); // ‘Hello World’</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### **将字符串转换为camelCase**</span><br></pre></td></tr></table></figure>

<p>const toCamelCase = (str) =&gt; str.trim().replace(/[-<em>\s]+(.)?/g, (</em>, c) =&gt; (c ? c.toUpperCase() : ‘’));</p>
<p>toCamelCase(‘background-color’); // backgroundColor<br>toCamelCase(‘-webkit-scrollbar-thumb’); // WebkitScrollbarThumb<br>toCamelCase(‘_hello_world’); // HelloWorld<br>toCamelCase(‘hello_world’); // helloWorld</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### 面试题--**展平多维数组**</span><br></pre></td></tr></table></figure>
<p>const flat = (arr) =&gt;<br>    [].concat.apply(<br>        [],<br>        arr.map((a) =&gt; (Array.isArray(a) ? flat(a) : a))<br>    )<br>// Or<br>const flat = (arr) =&gt; arr.reduce((a, b) =&gt; (Array.isArray(b) ? […a, …flat(b)] : […a, b]), [])<br>flat([‘cat’, [‘lion’, ‘tiger’]]) // [‘cat’, ‘lion’, ‘tiger’]</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### **获取两个数字之间的随机整数**</span><br></pre></td></tr></table></figure>
<p>const random = (min, max) =&gt; Math.floor(Math.random() * (max - min + 1) + min)</p>
<p>random(1, 50) // 25<br>random(1, 50) // 34</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### **获取参数的平均值**</span><br></pre></td></tr></table></figure>
<p>const average = (…args) =&gt; args.reduce((a, b) =&gt; a + b) / args.length;</p>
<p>average(1, 2, 3, 4, 5);   // 3</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### **将数字截断为固定小数点位数的数字**</span><br></pre></td></tr></table></figure>
<p>const round = (n, d) =&gt; Number(Math.round(n + “e” + d) + “e-“ + d)</p>
<p>round(1.005, 2) //1.01<br>round(1.555, 2) //1.56</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### **计算两个日期之间的不同天数**</span><br></pre></td></tr></table></figure>
<p>const diffDays = (date, otherDate) =&gt; Math.ceil(Math.abs(date - otherDate) / (1000 * 60 * 60 * 24));</p>
<p>diffDays(new Date(“2021-11-3”), new Date(“2022-2-1”))  // 90</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### **从日期获取一年中的哪一天**</span><br></pre></td></tr></table></figure>
<p>const dayOfYear = (date) =&gt; Math.floor((date - new Date(date.getFullYear(), 0, 0)) / (1000 * 60 * 60 * 24))</p>
<p>dayOfYear(new Date()) // 74</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### **.生成随机十六进制颜色**</span><br></pre></td></tr></table></figure>
<p>const randomColor = () =&gt; <code>#${Math.random().toString(16).slice(2, 8).padEnd(6, &#39;0&#39;)}</code></p>
<p>randomColor() // #9dae4f<br>randomColor() // #6ef10e</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### **将RGB颜色转换为十六进制**</span><br></pre></td></tr></table></figure>
<p>const rgbToHex = (r, g, b) =&gt; “#” + ((1 &lt;&lt; 24) + (r &lt;&lt; 16) + (g &lt;&lt; 8) + b).toString(16).slice(1)</p>
<p>rgbToHex(255, 255, 255)  // ‘#ffffff’</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### **清除所有cookies**</span><br></pre></td></tr></table></figure>
<p>const clearCookies = () =&gt; document.cookie.split(‘;’).forEach((c) =&gt; (document.cookie = c.replace(/^ +/, ‘’).replace(/=.*/, <code>=;expires=${new Date().toUTCString()};path=/</code>)))</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### **检测暗模式**</span><br></pre></td></tr></table></figure>
<p>const isDarkMode = window.matchMedia &amp;&amp; window.matchMedia(‘(prefers-color-scheme: dark)’).matches</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### 如何优雅的实现金钱格式化</span><br><span class="line"></span><br><span class="line">用正则魔法实现：</span><br></pre></td></tr></table></figure>
<p>var test1 = ‘1234567890’<br>var format = test1.replace(/\B(?=(\d{3})+(?!\d))/g, ‘,’)<br>console.log(format) // 1,234,567,890</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">非正则的优雅实现：</span><br></pre></td></tr></table></figure>
<p> function formatCash(str) {<br>       return str.split(‘’).reverse().reduce((prev, next, index) =&gt; {<br>            return ((index % 3) ? next : (next + ‘,’)) + prev<br>       })<br>}<br>console.log(formatCash(‘1234567890’)) // 1,234,567,890</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 论如何最佳的让两个整数交换数值</span><br></pre></td></tr></table></figure>
<p>a ^= b;<br>b ^= a;<br>a ^= b;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 用最短的代码实现一个长度为m(6)且值都n(8)的数组</span><br></pre></td></tr></table></figure>
<p>Array(6).fill(8)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 短路表达式</span><br></pre></td></tr></table></figure>
<p>var a = b &amp;&amp; 1<br>    // 相当于<br>if (b) {<br>    a = 1<br>} else {<br>    a = b<br>}<br>var a = b || 1<br>    // 相当于<br>if (b) {<br>    a = b<br>} else {<br>    a = 1<br>}</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### js提取字符串中的数字</span><br></pre></td></tr></table></figure>
<p>1.前面带数字,后面非数字,可以直接用parseFloat()函数:<br>var num1 = parseFloat(“2.89元”); //num1 : 2.89</p>
<p>2.像”生于1999年”这样字符串中只含有一个整型数值的字符串,直接使用正则表达式将数字的字符删除掉就行<br>var str1 = ‘生于1999年’;<br>var num1 = str1.replace(/[^\d]/g,’ ‘);</p>
<p>3.对于字符串中含有多数值,使用字符串的match方法,通过正则表达式提取字符串的所有数字(包含整数和小数):<br>var str=”1 plus 2 equal 3”<br>var arr=str.match(/\d+/g)<br>// arr: [‘1’,’2’,’3’]</p>
<p>var str = ‘大米:2.57斤/元,白菜:3.65元/斤’;<br>var arr = str.match(/\d+(.\d+)?/g);<br>// arr: [“2.75”,”3.65”]</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### console拓展</span><br><span class="line"></span><br><span class="line">console.log()</span><br><span class="line"></span><br><span class="line">![img](https:&#x2F;&#x2F;image.fundebug.com&#x2F;2019-07-19-04.png)</span><br><span class="line"></span><br><span class="line">可以发现两个&#96;console.log&#96;输出的结果展开后都是&#96;[1, 2, 3, 4]&#96;，因为在使用&#96;console.log&#96;打印一个引用类型（比如数组和自定义对象）的对象的时候，展开后获取到的都是数组最新的状态。我们可以使用&#96;JSON.parse(JSON.stringify(...))&#96;来解决这个问题：</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">console.dir()（打印出任何JavaScript对象的属性列表）</span><br></pre></td></tr></table></figure>
<p>console.dir(document.getElementById(‘app’))</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">console.table()（只想查看其中的某些属性）</span><br></pre></td></tr></table></figure>
<p>var site1 = [{ name : “Runoob”, site : “<a href="http://www.runoob.com&quot;" target="_blank" rel="noopener">www.runoob.com&quot;</a> }, { name : “Google”, site : “<a href="http://www.google.com&quot;" target="_blank" rel="noopener">www.google.com&quot;</a> },{ name : “Taobao”, site : “<a href="http://www.taobao.com&quot;" target="_blank" rel="noopener">www.taobao.com&quot;</a> }]<br>console.table(site1,[“name”,”site”]);</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">console.time()和console.timeEnd() （知道一段代码的性能或者一个异步方法需要运行多久）</span><br><span class="line"></span><br><span class="line">默认成对出现，如果需要好几对，可添加参数，例如console.time(‘test’)和console.timeEnd(‘test’)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">console.assert()</span><br><span class="line"></span><br><span class="line">如果你只想在发生错误或特定条件为真&#x2F;假时登录到控制台，那么可以使用&#96;console.assert()&#96;来完成，除非第一个参数为&#96;false&#96;，否则不会将任何内容记录到控制台。</span><br><span class="line"></span><br><span class="line">第一个参数是要检查的布尔条件，后跟0或要打印的多个数据点，最后一个参数是要输出的消息。例如&#96;console.assert(false, &#39;Value was false&#39;)&#96;将输出消息，因为第一个参数是&#96;false&#96;。</span><br></pre></td></tr></table></figure>
<p>const errorMsg = ‘the # is not even’;<br>for (let num = 2; num &lt;= 5; num++) {<br>  console.log(<code>the # is ${num}</code>);<br>  console.assert(num % 2 === 0, { num }, errorMsg);<br>}</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">![图片](https:&#x2F;&#x2F;mmbiz.qpic.cn&#x2F;mmbiz_png&#x2F;ibugX3Hm3p4oAoool2dL1ICjHZ58mia3KWpQB0oO7mqg7LDCmqfFMtga6tLpG2fELR1Y0wgDzpRNKqKbpDziaFnSw&#x2F;640?wx_fmt&#x3D;png&amp;tp&#x3D;wxpic&amp;wxfrom&#x3D;5&amp;wx_lazy&#x3D;1&amp;wx_co&#x3D;1)</span><br><span class="line"></span><br><span class="line">### 类型转换那些事</span><br></pre></td></tr></table></figure>
<p>Number(‘324abc’) // NaN<br>只要有一个字符无法转成数值，整个字符串就会被转为NaN</p>
<p>parseInt(‘32a3’) //32<br>逐个解析字符，遇到不能转换的字符就停下来</p>
<p>//对象<br>String({a: 1}) // “[object Object]”<br>String([1, 2, 3]) // “1,2,3”</p>
<p>Boolean(new Boolean(false)) //true</p>
<p>自动转换为布尔值<br>在需要布尔值的地方，就会将非布尔值的参数自动转为布尔值，系统内部会调用Boolean函数<br>可以得出个小结：<br>undefined<br>null<br>false<br>+0<br>-0<br>NaN<br>“”<br>除了上面几种会被转化成false，其他都换被转化成true</p>
<p>自动转换成字符串<br>遇到预期为字符串的地方，就会将非字符串的值自动转为字符串<br>具体规则是：先将复合类型的值转为原始类型的值，再将原始类型的值转为字符串<br>常发生在+运算中，一旦存在字符串，则会进行字符串拼接操作<br>‘5’ + 1 // ‘51’<br>‘5’ + true // “5true”<br>‘5’ + false // “5false”<br>‘5’ + {} // “5[object Object]”<br>‘5’ + [] // “5”<br>‘5’ + function (){} // “5function (){}”<br>‘5’ + undefined // “5undefined”<br>‘5’ + null // “5null”</p>
<p>自动转换成数值<br>除了+有可能把运算子转为字符串，其他运算符都会把运算子自动转成数值<br>‘5’ - ‘2’ // 3<br>‘5’ * ‘2’ // 10<br>true - 1  // 0<br>false - 1 // -1<br>‘1’ - 1   // 0<br>‘5’ * []    // 0<br>false / ‘5’ // 0<br>‘abc’ - 1   // NaN<br>null + 1 // 1<br>undefined + 1 // NaN<br>null转为数值时，值为0 。undefined转为数值时，值为NaN</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 对于如何替换JS字符串中匹配到多处中某一指定节点</span><br></pre></td></tr></table></figure>
<p>const str =”这是主体内容，有很多内容，喜欢看这个内容就关注吧”;<br>const reg = new RegExp(‘内容‘, ‘g‘);<br>let ret;<br>const arr=[];<br>while((ret = reg.exec(str))!==null) {<br>    arr.push({id:ret.index,content:ret.input})<br>}<br>const replaceStr = (strs, index, text,len) =&gt; {<br>    return strs.substring(0, index) + text + strs.substring(index + len);<br>};<br> // 替换文本的第三处“内容”为 “文章”<br>const newVal= replaceStr(str, arr[2].id, ‘文章‘,2);<br>console.log(newVal)  // 这是主体内容，有很多内容，喜欢看这个文章就关注吧</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 打字机动画</span><br></pre></td></tr></table></figure>
<p>(function () {<br>  const container = document.getElementById(‘content’)<br>  const data = ‘与 setTimeout 相比，requestAnimationFrame 最大的优势是 由系统来决定回调函数的执行时机。具体一点讲就是，系统每次绘制之前会主动调用 requestAnimationFrame 中的回调函数，如果系统绘制率是 60Hz，那么回调函数就每16.7ms 被执行一次，如果绘制频率是75Hz，那么这个间隔时间就变成了 1000/75=13.3ms。换句话说就是，requestAnimationFrame 的执行步伐跟着系统的绘制频率走。它能保证回调函数在屏幕每一次的绘制间隔中只被执行一次，这样就不会引起丢帧现象，也不会导致动画出现卡顿的问题。’.split(‘’)<br>  let index = 0<br>  function writing() {<br>        if (index &lt; data.length) {<br>          container.innerHTML += data[index++]<br>          window.requestAnimationFrame(writing)<br>          //减慢速度<br>          setTimeout(() =&gt; {<br>            window.requestAnimationFrame(writing)<br>          }, 200);<br>          //<br>      }<br>  }<br>      writing()<br>})();</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 小技巧</span><br></pre></td></tr></table></figure>
<ol>
<li><p>交换两个变量<br>[x, y] = [y, x];</p>
</li>
<li><p>多条件检查<br>if ([1, ‘one’, 2, ‘two’].indexOf(value) &gt;= 0) {<br> // Execute some code<br>}</p>
</li>
</ol>
<p>if ([1, ‘one’, 2, ‘two’].includes(value)) {<br>    // Execute some code<br>}</p>
<ol start="3">
<li><p>对象属性复制<br>let firstname = ‘Amitav’;<br>let lastname = ‘Mishra’;<br>let obj = {firstname, lastname};</p>
</li>
<li><p>重复一个字符串多次<br>‘sorry\n’.repeat(100);</p>
</li>
<li><p>指数幂<br>const power = 4**3</p>
</li>
<li><p>双非位运算符 (<del>)<br>const floor = ~</del>6.8;</p>
</li>
</ol>
<p>7.找出数组中的最大和最小数字<br>const arr = [2, 8, 15, 4];<br>Math.max(…arr); // 15<br>Math.min(…arr); // 2</p>
<p>8.深拷贝多级对象<br>let obj = {x: 20, y: {z: 30}};<br>//Longhand<br>const makeDeepClone = (obj) =&gt; {<br>  let newObject = {};<br>  Object.keys(obj).map(key =&gt; {<br>    if(typeof obj[key] === ‘object’){<br>      newObject[key] = makeDeepClone(obj[key]);<br>    } else {<br>      newObject[key] = obj[key];<br>    }<br>  });<br> return newObject;<br>}<br>const cloneObj = makeDeepClone(obj);</p>
<p>//Shorthand<br>const cloneObj = JSON.parse(JSON.stringify(obj));</p>
<p>//Shorthand for single level object<br>let obj = {x: 20, y: ‘hello’};<br>const cloneObj = {…obj};</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### !!</span><br></pre></td></tr></table></figure>
<p>如何把一个任意类型的值转换为布尔类型？<br>用！！ 一个！是取非 再一个！又取非 相当于把这个数据转换为boolen类型了</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 数阶乘</span><br></pre></td></tr></table></figure>
<p>const factorialOfNumber = number =&gt;<br>  number &lt; 0<br>    ? (() =&gt; {<br>      throw new TypeError(‘No negative numbers please’);<br>    })()<br>    : number &lt;= 1<br>      ? 1<br>      : number * factorialOfNumber(number - 1);</p>
<p>factorialOfNumber(4); // 24</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 整数转数组</span><br></pre></td></tr></table></figure>
<p>const convertToArray = number =&gt; […<code>${number}</code>].map(el =&gt; parseInt(el))</p>
<p>convertToArray(5678); // [5, 6, 7, 8]</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 检查是否为2的幂数</span><br></pre></td></tr></table></figure>
<p>const isNumberPowerOfTwo = number =&gt; !!number &amp;&amp; (number &amp; (number - 1)) === 0;</p>
<p>isNumberPowerOfTwo(100); // false<br>isNumberPowerOfTwo(128); // true</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 生成一个0-999顺序的列表</span><br></pre></td></tr></table></figure>
<p>Array.from({ length: 1000 }, (v, i) =&gt; i)<br>// [0, 1, 2, 3, 4, 5, 6….999]</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### RGB→转换为十六进制</span><br></pre></td></tr></table></figure>
<p>var rgb2hex = (r, g, b) =&gt; {<br>    return ‘#’+ ((1&lt;&lt;24)+(r&lt;&lt;16)+(g&lt;&lt;8)+b)<br>    .toString(16)//转成16进制，返回字符串<br>    .substr(1);//去除字符串的最高位，返回后面六个字符串<br>}<br>var rgb2hex = (r, g, b) =&gt; ‘#’+ ((1&lt;&lt;24)+(r&lt;&lt;16)+(g&lt;&lt;8)+b).toString(16).substr(1);<br>rgb2hex(76, 11, 181);</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 转换十六进制→RGB</span><br></pre></td></tr></table></figure>
<p>const hex2rgb = hex =&gt; [1, 3, 5].map((h) =&gt; parseInt(hex.substring(h, h + 2), 16));</p>
<p>hex2rgb(“#4c0bb5”);<br>// [76, 11, 181]</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### JS中如何移除所有的点击事件监听函数的思考</span><br><span class="line"></span><br><span class="line">https:&#x2F;&#x2F;segmentfault.com&#x2F;q&#x2F;1010000023560383</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### mouseout和mouseleave</span><br></pre></td></tr></table></figure>
<p>不论鼠标指针离开被选元素还是任何子元素，都会触发 mouseout 事件。</p>
<p>只有在鼠标指针离开被选元素时，才会触发 mouseleave 事件。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">## vue全局防抖和节流</span><br></pre></td></tr></table></figure>
<p>// 防抖处理-立即执行<br>const on = Vue.prototype.$on<br>Vue.prototype.$on = function (event, func) {<br>  let timer;<br>  let flag = true;<br>  let newFunc = func<br>  if (event == ‘click’) {<br>    newFunc = function () {<br>      if(flag) {<br>        func.apply(this, arguments)<br>        flag = false<br>      }<br>      clearTimeout(timer)<br>      timer = setTimeout(function () {<br>        flag = true<br>      }, 500)<br>    }<br>  }<br>  on.call(this, event, newFunc)<br>}</p>
<p>// 防抖处理 – 最后执行<br>const on = Vue.prototype.$on<br>Vue.prototype.$on = function (event, func) {<br>  let timer<br>  let newFunc = func<br>  if (event === ‘click’) {<br>    newFunc = function () {<br>      clearTimeout(timer)<br>      timer = setTimeout(function () {<br>        func.apply(this, arguments)<br>      }, 500)<br>    }<br>  }<br>  on.call(this, event, newFunc)<br>}</p>
<p>// 节流<br>const on = Vue.prototype.$on<br>Vue.prototype.$on = function (event, func) {<br>  let previous = 0<br>  let newFunc = func<br>  if (event === ‘click’) {<br>    newFunc = function () {<br>      const now = new Date().getTime()<br>      if (previous + 1000 &lt;= now) {<br>        func.apply(this, arguments)<br>        previous = now<br>      }<br>    }<br>  }<br>  on.call(this, event, newFunc)<br>}</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">## 支持webp格式图片</span><br><span class="line"></span><br><span class="line">npm install file-loader</span><br></pre></td></tr></table></figure>
<p>rules中新增</p>
<p>{<br>                test: /.webp$/,<br>                use: [<br>                    {<br>                        loader: ‘file-loader’,<br>                        query: {<br>                            limit: 10000,<br>                            name: utils.assetsPath(‘img/[name].[hash:7].[ext]’)<br>                        }<br>                    }<br>                ]<br>}</p>
<p>服务器可能不支持webp格式图片，做了拦截<br>原来是服务器上面不能解析webp，自己在百度上面上找到了方法解决，在iis的MIME类型中中添加webp</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">## 标签中src循环图片</span><br></pre></td></tr></table></figure>
<img :src="require('../../../static/imgs/board/'+item.url+'.png')" style="width:36px">
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">## 禁止蒙层底部页面跟随滚动</span><br><span class="line"></span><br><span class="line">将页面固定视窗后，内容会回头最顶端，这里我们需要记录一下，同步top值。</span><br></pre></td></tr></table></figure>
let bodyEl = document.body
let top = 0
data() {
    return {
        isFixed: true
    }
},
watch: {
    isFixed() {
        this.stopBodyScroll();
    }
},

<p>function stopBodyScroll (isFixed) {<br>  if (this.isFixed) {<br>    top = window.scrollY<br>    bodyEl.style.position = ‘fixed’<br>    bodyEl.style.top = -top + ‘px’<br>  } else {<br>    bodyEl.style.position = ‘’<br>    bodyEl.style.top = ‘’<br>    window.scrollTo(0, top) // 回到原先的top<br>  }<br>}</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">## css</span><br><span class="line"></span><br><span class="line">### 文字充电效果</span><br><span class="line"></span><br><span class="line">![3.gif](https:&#x2F;&#x2F;p1-juejin.byteimg.com&#x2F;tos-cn-i-k3u1fbpfcp&#x2F;4cfd7d20456c476d80809cfa022722df~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp?)</span><br></pre></td></tr></table></figure>
<p>html</p>
<h1>Lorem ipsum dolor sit amet consectetur adipisicing elit.</h1>

<p>js<br> mounted() {<br>    let progress = 0<br>    function run() {<br>      if (progress &lt; 1) {<br>        progress = parseFloat((progress + 0.01).toFixed(2))<br>        document.querySelector(‘h1’).style.setProperty(‘–progress’, progress)<br>        console.log(progress);<br>        setTimeout(run, 20);<br>      }<br>    }<br>    run()<br>  },</p>
<p>  css<br>  body {<br>  –progress: 0.5;<br>  display: flex;<br>  justify-content: center;<br>  align-items: center;<br>  min-height: 100vh;<br>  background-color: #000;<br>}<br>h1 {<br>  color: #fff;<br>  width: 50%;<br>  margin: 0 auto;<br>  font-family: Helvetica;<br>  font-size: 60px;<br>  letter-spacing: -3px;<br>  background-image: linear-gradient(#fff 50%, #4cd265 50%);<br>  background-clip: text;<br>  color: transparent;<br>  background-image: linear-gradient(<br>    #fff calc(100% - calc(var(–progress) * 100%)),<br>    #4cd265 calc(100% - calc(var(–progress) * 100%))<br>  );<br>  transform: scale(clamp(1, calc((var(–progress)-0.99) * 200), 1.3));<br>  transition: 0.3s transform ease-out;<br>}</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 网站置灰</span><br></pre></td></tr></table></figure>
<p>html.gray-mode { filter: grayscale(.95); -webkit-filter: grayscale(.95); }</p>
<p>拓展<br>blur 模糊-webkit-filter:blur(2px);</p>
<p>brightness 亮度-webkit-filter:brightness(25%);</p>
<p>contrast 对比度-webkit-filter: contrast(50%);</p>
<p>drop-shadow 阴影-webkit-filter: drop-shadow(5px 5px 5px rgba(0, 0, 0, 0.5));</p>
<p>opacity 透明度-webkit-filter: opacity(50%);</p>
<p>grayscale 灰度-webkit-filter: grayscale(80%);</p>
<p>sepia 褐色-webkit-filter: sepia(100%);</p>
<p>invert 反色-webkit-filter: invert(100%);</p>
<p>hue-rotate 色相旋转-webkit-filter:hue-rotate(180deg);</p>
<p>saturate 饱和度-webkit-filter: saturate(1000%);</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### **实现隐藏滚动条同时又可以滚动**</span><br></pre></td></tr></table></figure>
<p>.demo::-webkit-scrollbar {<br>  display: none; /* Chrome Safari */<br>}</p>
<p>.demo {<br>  scrollbar-width: none; /* firefox <em>/<br>  -ms-overflow-style: none; /</em> IE 10+ */<br>  overflow-x: hidden;<br>  overflow-y: auto;<br>}</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### CSS 如何实现毛玻璃效果</span><br></pre></td></tr></table></figure>
<p>.test {<br>            width: 1200px;<br>            height: 800px;<br>            background: url(background.png) no-repeat;<br>        }<br>    .child {<br>            width: 600px;<br>            height: 200px;<br>            position: absolute;<br>            left: 50%;<br>            margin-left: -60px;<br>            top: 50%;<br>            margin-top: -100px;<br>            background-color: rgba(255, 255, 255, .7);<br>            backdrop-filter: blur(10px);<br>        }</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">![image.png](https:&#x2F;&#x2F;p9-juejin.byteimg.com&#x2F;tos-cn-i-k3u1fbpfcp&#x2F;800a863fe097459ba3b85ab9a0cb7517~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp?)</span><br><span class="line"></span><br><span class="line">### PC 端响应式布局方案</span><br><span class="line"></span><br><span class="line">#### flex 布局</span><br><span class="line"></span><br><span class="line">#### 媒体查询</span><br><span class="line"></span><br><span class="line">#### 动态 rem &#x2F; em 方案</span><br><span class="line"></span><br><span class="line">#### Viewport 方案</span><br><span class="line"></span><br><span class="line">#### scale 整体缩放</span><br><span class="line"></span><br><span class="line">详细链接：https:&#x2F;&#x2F;juejin.cn&#x2F;post&#x2F;7155013489394712606</span><br><span class="line"></span><br><span class="line">### vue、Element-UI 图标偶发性乱码问题完美解决</span><br><span class="line"></span><br><span class="line">一、问题描述</span><br><span class="line"></span><br><span class="line">**现象：**使用若依管理系统作为开发框架。开发过程中，图标一直正常。直到打包发布到线上，页面偶发性出现图标乱码问题，再次刷新页面后，又可正常显示。</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">![img](https:&#x2F;&#x2F;img2022.cnblogs.com&#x2F;blog&#x2F;776116&#x2F;202204&#x2F;776116-20220415103732206-1831637180.png)</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">图标乱码</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">**必现步骤：**线上测试环境（即代码build打包发布的环境）使用F12打开调试模式，此时刷新页面，图标乱码。</span><br><span class="line"></span><br><span class="line">**查看此时代码：**浏览器调试面板出现两个图标样式，一个正常，一个乱码。此时使用的是乱码的样式。</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">![img](https:&#x2F;&#x2F;img2022.cnblogs.com&#x2F;blog&#x2F;776116&#x2F;202204&#x2F;776116-20220415103744681-644603606.png)</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">浏览器代码分析</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">检查文件dist&#x2F;css&#x2F;app.xxx.css，发现所有的图标样式content的文本均异常。如：&#96;.el-icon-ice-cream-square:before&#123;content:&quot;&quot;&#125;&#96;。所以我们打包后的样式文件是有问题的。百度资料大多数人说是&#96;sass-dart问题&#96;。</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">![img](https:&#x2F;&#x2F;img2022.cnblogs.com&#x2F;blog&#x2F;776116&#x2F;202204&#x2F;776116-20220415103755475-1886985137.png)</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">打包后的样式文件</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">二、解决方案&#96;(博主建议使用方案2，我没成功，我用方案1成功了)&#96;</span><br><span class="line"></span><br><span class="line">方案1：修改sass为node-sass</span><br></pre></td></tr></table></figure>
<p>大多数人，包括若依开发人员也使用此方法，但我试了之后并没有解决问题。而且node-sass在国内网络环境经常在下载依赖时会出现问题。 和我一样的人直接看【方案2】。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">**（1）卸载sass，安装node-sass**</span><br></pre></td></tr></table></figure>
<p>npm uninstall sass<br>npm install node-sass -D</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>若依官方开发人员也使用此方法，代码提交记录如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">![img](https:&#x2F;&#x2F;img2022.cnblogs.com&#x2F;blog&#x2F;776116&#x2F;202204&#x2F;776116-20220415103931692-867189054.png)</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">**（2）安装后还要记得替换语法。找到项目的::v-deep替换成&#x2F;deep&#x2F;。**</span><br><span class="line"></span><br><span class="line"> ![img](https:&#x2F;&#x2F;img2022.cnblogs.com&#x2F;blog&#x2F;776116&#x2F;202204&#x2F;776116-20220415103944682-578368398.png)</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">![img](https:&#x2F;&#x2F;img2022.cnblogs.com&#x2F;blog&#x2F;776116&#x2F;202204&#x2F;776116-20220415103954461-1113723170.png)</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">代码提交记录地址：</span><br><span class="line">[https:&#x2F;&#x2F;gitee.com&#x2F;y_project&#x2F;RuoYi-Vue&#x2F;commit&#x2F;c6912ca1d5712d29f97600fcebe0411d5d9bd25c](https:&#x2F;&#x2F;links.jianshu.com&#x2F;go?to&#x3D;https%3A%2F%2Fgitee.com%2Fy_project%2FRuoYi-Vue%2Fcommit%2Fc6912ca1d5712d29f97600fcebe0411d5d9bd25c)</span><br><span class="line">[https:&#x2F;&#x2F;gitee.com&#x2F;y_project&#x2F;RuoYi-Vue&#x2F;commit&#x2F;5fcf342f5a08cc7dec3bdd53445c6c5c69c52b80](https:&#x2F;&#x2F;links.jianshu.com&#x2F;go?to&#x3D;https%3A%2F%2Fgitee.com%2Fy_project%2FRuoYi-Vue%2Fcommit%2F5fcf342f5a08cc7dec3bdd53445c6c5c69c52b80) </span><br><span class="line"></span><br><span class="line">方案2：升级sass、配置vue.config.js</span><br><span class="line"></span><br><span class="line">**（1）sass版本升级到1.39.0**</span><br><span class="line"></span><br><span class="line">![img](https:&#x2F;&#x2F;img2022.cnblogs.com&#x2F;blog&#x2F;776116&#x2F;202204&#x2F;776116-20220415104145408-1909919922.png)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">sass版本升级到1.39.0</span><br><span class="line">**（2）vue.config.js 增加css配置，否则会报错**</span><br><span class="line"></span><br><span class="line">![img](https:&#x2F;&#x2F;img2022.cnblogs.com&#x2F;blog&#x2F;776116&#x2F;202204&#x2F;776116-20220415104134688-1371754660.png)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">配置vue.config.js</span><br><span class="line"></span><br><span class="line">为方便复制，代码粘贴如下： </span><br></pre></td></tr></table></figure>
<p>css: {<br>    loaderOptions: {<br>      sass: {<br>        sassOptions: {<br>          outputStyle: ‘expanded’<br>        }<br>      }<br>    }<br>  },</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">**（3）看下效果，完美解决**</span><br><span class="line">重新打包项目&#96;npm run build&#96;,看到原先乱码的文件dist&#x2F;css&#x2F;app.xxx.css不再乱码了，成功解决！</span><br><span class="line"></span><br><span class="line">![img](https:&#x2F;&#x2F;img2022.cnblogs.com&#x2F;blog&#x2F;776116&#x2F;202204&#x2F;776116-20220415104233319-843266185.png)</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">### 改变输入框的光标颜色</span><br></pre></td></tr></table></figure>
<p>caret-color:red</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### flex简单棋盘布局</span><br><span class="line"></span><br><span class="line">![image-20220906181333234](vue之seekcy开发历程记录1.assets&#x2F;image-20220906181333234.png)</span><br></pre></td></tr></table></figure>
<template>
    <div class="temp">
        <div class="box" v-for="item in 4"></div>
    </div>
</template>
<style>

<p>body {<br>    height: 500px;<br>}</p>
<p>.temp {<br>    overflow: auto;<br>    /* basic */<br>    margin: 0 auto;<br>    padding: 0;<br>    height: 100%;<br>    width: 100%;<br>    background-color: pink;</p>
<pre><code>/* flex布局 */
display: flex;
/* 主轴上的对齐方式 */
justify-content: space-between;
/* 换行(类似浮动布局) */
flex-wrap: wrap;
/* 副轴上的对齐方式 */
align-content: space-between;</code></pre><p>}</p>
<p>.box {<br>    border: 2px solid black;<br>    border-radius: 5px;<br>    box-sizing: border-box;<br>    /* calc为CSS3内容 */<br>    width: calc(50% - 16px);<br>    height: calc(50% - 16px);<br>}<br></style><p></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### 将边框设置为两种固定的颜色</span><br><span class="line"></span><br><span class="line">![code.juejin.cn_pen_7149077930851696648 (6).png](https:&#x2F;&#x2F;p6-juejin.byteimg.com&#x2F;tos-cn-i-k3u1fbpfcp&#x2F;df136c72036f49ad91829628faa43ff4~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp?)</span><br></pre></td></tr></table></figure>
<p>width: 200px;<br>height: 100px;<br>background: gray;<br>border-left: 4px solid ;<br>border-image: linear-gradient(0deg, brown, brown 50%, lightblue 50%, lightblue 100%) 2 2 2 2;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 简单的纹理背景</span><br><span class="line"></span><br><span class="line">参考链接：https:&#x2F;&#x2F;juejin.cn&#x2F;post&#x2F;7109703928068964388</span><br><span class="line"></span><br><span class="line">#### background-image的多背景特性</span><br><span class="line"></span><br><span class="line">&#96;background-image&#96; 属性可以为一个元素设置一个或多个背景图像。绘制时图像以 **z轴** 方向堆叠进行。先指定的图像会在后指定的图像上面绘制，因此指定的**第一个图像是最接近用户的**。</span><br><span class="line"></span><br><span class="line">MDN上展示的例子如下：</span><br><span class="line"></span><br><span class="line">&#96;&#96;&#96;css</span><br><span class="line">.example1 &#123;</span><br><span class="line">  width: 400px;</span><br><span class="line">  height: 200px;</span><br><span class="line">  background-image: url(&quot;https:&#x2F;&#x2F;interactive-examples.mdn.mozilla.net&#x2F;media&#x2F;examples&#x2F;lizard.png&quot;),</span><br><span class="line">                    url(&quot;https:&#x2F;&#x2F;interactive-examples.mdn.mozilla.net&#x2F;media&#x2F;examples&#x2F;star.png&quot;);</span><br><span class="line">&#125;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>效果： <img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5fa0e38c036644f2a155b1a6098052e9~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp?" alt="image.png"></p>
<p>除此之外，<code>background-color</code> 会在图像之下绘制，元素的边框<code>border</code>会在图像之上绘制，整体的顺序如下：</p>
<p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0d6deab20fe948b6956b6c53463aff27~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp?" alt="image.png"></p>
<p>之所以可以使用CSS生成丰富的纹理背景，都要归功于<code>background-image</code>的多背景特性，可以说没有这个特性就无法达到我们想要的效果。</p>
<h4 id="利用渐变绘制图像"><a href="#利用渐变绘制图像" class="headerlink" title="利用渐变绘制图像"></a>利用渐变绘制图像</h4><p>CSS3支持渐变函数，可以利用他们绘制出多种多样的图像。常用的渐变函数有：</p>
<ul>
<li><code>linear-gradient()</code> 和 <code>repeating-linear-gradient()</code></li>
<li><code>radial-gradient()</code> 和 <code>repeating-radial-gradient()</code></li>
<li><code>conic-gradient()</code> 和 <code>repeating-conic-gradient()</code></li>
</ul>
<p>下面简单介绍下这些渐变函数。</p>
<h4 id="linear-gradient-和-repeating-linear-gradient"><a href="#linear-gradient-和-repeating-linear-gradient" class="headerlink" title="linear-gradient() 和 repeating-linear-gradient()"></a>linear-gradient() 和 repeating-linear-gradient()</h4><p>即线性渐变与重复线性渐变。<code>linear-gradient()</code> 可以用来创建一个表示两种或多种颜色线性渐变的图片。</p>
<p>关于线性渐变的构成原理这里不再特别说明，可参见<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fzh-CN%2Fdocs%2FWeb%2FCSS%2Fgradient%2Flinear-gradient">MDN 线性渐变的构成 一节</a></p>
<p>在这里我们主要应用的一点特性是：</p>
<blockquote>
<p>如果两个或多个颜色<strong>终止在同一位置</strong>，则在该位置声明的第一个颜色和最后一个颜色之间的过渡<strong>将是一条生硬线。</strong></p>
</blockquote>
<p>利用这条特性，可以<strong>生成颜色界限分明的色块</strong>。</p>
<p>普通的渐变，颜色间会进行自然地过渡：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">background</span>: <span class="selector-tag">linear-gradient</span>(45<span class="selector-tag">deg</span>, <span class="selector-tag">deepskyblue</span>, 50%, <span class="selector-tag">pink</span>);</span><br></pre></td></tr></table></figure>

<p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ce26ef0bfff64250acd186a47c40cbc6~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp?" alt="image.png"></p>
<p>利用上述特性：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">background</span>: <span class="selector-tag">linear-gradient</span>(45<span class="selector-tag">deg</span>, <span class="selector-tag">deepskyblue</span> 50%, <span class="selector-tag">pink</span> 50%);</span><br></pre></td></tr></table></figure>

<p>将生成颜色边界分明而不是过渡效果的色块：</p>
<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1d66b9f093d6406aa528a925072d98c4~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp?" alt="image.png"></p>
<p>灵活运用这点，就可以绘制出各种各样<strong>具有清晰直线边界的图形</strong>。</p>
<p>而 <code>repeating-linear-gradient()</code> 类似于<code>linear-gradient()</code> 函数，它用来创建一个由重复线性渐变组成的图形。当渐变图案无法覆盖整个容器时，该函数会将图案重复以覆盖整个容器，例如：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">background</span>: <span class="selector-tag">repeating-linear-gradient</span>(45<span class="selector-tag">deg</span>, <span class="selector-tag">deepskyblue</span> 0, <span class="selector-tag">deepskyblue</span> 50<span class="selector-tag">px</span>, <span class="selector-tag">pink</span> 50<span class="selector-tag">px</span>, <span class="selector-tag">pink</span> 100<span class="selector-tag">px</span>);</span><br></pre></td></tr></table></figure>

<p>如果是普通的线性渐变，图片会在100px后全部显示为pink；在重复线性渐变中，则会将这个图案铺满容器：</p>
<p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9f21b60be3b64d0a974ef7567a212b78~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp?" alt="image.png"></p>
<h4 id="radial-gradient-和-repeating-radial-gradient"><a href="#radial-gradient-和-repeating-radial-gradient" class="headerlink" title="radial-gradient() 和 repeating-radial-gradient()"></a>radial-gradient() 和 repeating-radial-gradient()</h4><p>即径向渐变与重复径向渐变。区别于上文的线性渐变，径向渐变是由从原点发出的两种或者多种颜色之间的逐步过渡组成。它的形状可以是圆形或椭圆形。</p>
<p>普通的渐变：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">background</span>: <span class="selector-tag">radial-gradient</span>(<span class="selector-tag">deepskyblue</span>, <span class="selector-tag">pink</span>);</span><br></pre></td></tr></table></figure>

<p>效果：</p>
<p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/31d0d8f969e24c0a9eb0bb5d76a20c84~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp?" alt="image.png"></p>
<p>同样，径向渐变也可以生成颜色边界分明而不是过渡效果的色块：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">background</span>: <span class="selector-tag">radial-gradient</span>(<span class="selector-tag">deepskyblue</span> 50%, <span class="selector-tag">pink</span> 50%);</span><br></pre></td></tr></table></figure>

<p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7ec2b4a3660346caa84ca333d354b043~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp?" alt="image.png"></p>
<p>灵活运用这点，就可以绘制出各种各样<strong>具有清晰边界的椭圆or圆、圆环</strong>。</p>
<p>同样的，径向渐变也有重复函数， <code>repeating-radial-gradient()</code> 可以创建重复的径向渐变图案来填满容器，例如：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">background</span>: <span class="selector-tag">repeating-radial-gradient</span>(<span class="selector-tag">deepskyblue</span> 0, <span class="selector-tag">deepskyblue</span> 40<span class="selector-tag">px</span>, <span class="selector-tag">pink</span> 40<span class="selector-tag">px</span>, <span class="selector-tag">pink</span> 80<span class="selector-tag">px</span>);</span><br></pre></td></tr></table></figure>

<p>效果如下：</p>
<p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/65f80026e2b147dda922866eee53bbec~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp?" alt="image.png"></p>
<h4 id="conic-gradient-和-repeating-conic-gradient"><a href="#conic-gradient-和-repeating-conic-gradient" class="headerlink" title="conic-gradient 和 repeating-conic-gradient"></a>conic-gradient 和 repeating-conic-gradient</h4><p>最后的渐变叫做锥形渐变。之所以叫锥形渐变，是因为生成的图案很像圆锥体的俯视图（开始回忆一些高中立体几何知识……）。典型的应用是生成色轮。</p>
<p>简单的渐变：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">background</span>: <span class="selector-tag">conic-gradient</span>(<span class="selector-tag">deepskyblue</span>, <span class="selector-tag">pink</span>, <span class="selector-tag">green</span>);</span><br></pre></td></tr></table></figure>

<p>效果：</p>
<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7dbbc591eee144d4ab66f41f94918fa7~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp?" alt="image.png"></p>
<p>同样的，锥形渐变的边界也可以生成颜色边界分明的色块：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">background</span>: <span class="selector-tag">conic-gradient</span>(<span class="selector-tag">deepskyblue</span> 33%,<span class="selector-tag">pink</span> 33% 66%, <span class="selector-tag">green</span> 66% 100%);</span><br></pre></td></tr></table></figure>

<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c600eb8683a04e02bc62b396bba9f426~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp?" alt="image.png"></p>
<p>利用锥形渐变就可以生成<strong>固定辐射角度的色块。</strong></p>
<p>锥形渐变的重复函数， <code>repeating-conic-gradient()</code> 可以创建重复的锥形渐变图案来填满容器，例如：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">background</span>: <span class="selector-tag">repeating-conic-gradient</span>(<span class="selector-tag">deepskyblue</span> 0 30<span class="selector-tag">deg</span>, <span class="selector-tag">pink</span> 30<span class="selector-tag">deg</span> 60<span class="selector-tag">deg</span>);</span><br></pre></td></tr></table></figure>

<p>效果：</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c7e2b020daa448af90173e5692292feb~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp?" alt="image.png"></p>
<h4 id="举例"><a href="#举例" class="headerlink" title="举例"></a>举例</h4><p><img src="/2020/10/29/vue%E4%B9%8Bseekcy%E5%BC%80%E5%8F%91%E5%8E%86%E7%A8%8B%E8%AE%B0%E5%BD%951/image-20220801140736957.png" alt="image-20220801140736957"></p>
<p>最小单元：</p>
<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/815d8c5298634ad2b87636219331e581~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp?" alt="image.png"></p>
<p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/acd29997ec6d4824be359a9659b949ff~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp?" alt="2022-06-15 14.55.47.gif"></p>
<p>css</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">.zigzag &#123;</span><br><span class="line">  width: 300px;</span><br><span class="line">  height: 150px;</span><br><span class="line">  background: linear-gradient(45deg, #EC173A 25%, transparent 25%) 0 0,</span><br><span class="line">            linear-gradient(135deg, transparent 75%, #EC173A 75%) 0 0,</span><br><span class="line">            linear-gradient(45deg, transparent 75%, #EC173A 75%) -15px 0,</span><br><span class="line">            linear-gradient(135deg, #EC173A 25%, transparent 25%) 15px 0,</span><br><span class="line">            #ECEDDC;</span><br><span class="line">  background-size: 30px 30px;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="前端三大布局，float，flex，grid的介绍"><a href="#前端三大布局，float，flex，grid的介绍" class="headerlink" title="前端三大布局，float，flex，grid的介绍"></a>前端三大布局，float，flex，grid的介绍</h3><p><a href="https://zhuanlan.zhihu.com/p/124284328" target="_blank" rel="noopener">https://zhuanlan.zhihu.com/p/124284328</a></p>
<h3 id="grid布局"><a href="#grid布局" class="headerlink" title="grid布局"></a>grid布局</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br></pre></td><td class="code"><pre><span class="line">一、grid布局概述</span><br><span class="line">grid布局与flex布局对比</span><br><span class="line">grid布局可以为网页提供更强大的布局功能，它与flex布局的区别是。</span><br><span class="line"></span><br><span class="line">flex布局为一维布局，一般一行或一列的布局使用flex布局。</span><br><span class="line">grid布局为二维布局，同时需要兼顾行与列的布局，可以使用gird布局。</span><br><span class="line">如果不考虑兼容问题，flex布局和grid布局可以很好地替代浮动布局。</span><br><span class="line"></span><br><span class="line">grid布局基本概念</span><br><span class="line">grid容器的水平区域成为行（row），垂直区域成为列（column），行与列之间的较差与是单元格（cell），划分网格的线成为网格线（gird line），了解了这些基本概念之后，就可以开始用相应的css属性设置grid容器中的项目了。</span><br><span class="line"></span><br><span class="line">二、grid容器</span><br><span class="line">设置gird容器</span><br><span class="line">通过下面代码可以将一个容器设置成为一个grid容器。</span><br><span class="line"></span><br><span class="line">.container&#123;</span><br><span class="line">    display:grid;</span><br><span class="line">&#125;</span><br><span class="line">gird容器内部的元素称为grid容器的项目，grid项目的float属性会失效，通过grid容器的进一步设置，可以让内部的项目按要求排列。</span><br><span class="line"></span><br><span class="line">grid-template-columns属性与grid-template-rows属性</span><br><span class="line">grid-template-columns可以设置gird容器中的项目有多少列，并指定列的宽度，实例代码如下所示</span><br><span class="line"></span><br><span class="line"> &lt;div class&#x3D;&quot;container&quot;&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;item&quot;&gt;1&lt;&#x2F;div&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;item&quot;&gt;2&lt;&#x2F;div&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;item&quot;&gt;3&lt;&#x2F;div&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;item&quot;&gt;4&lt;&#x2F;div&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;item&quot;&gt;5&lt;&#x2F;div&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;item&quot;&gt;6&lt;&#x2F;div&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;item&quot;&gt;7&lt;&#x2F;div&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;item&quot;&gt;8&lt;&#x2F;div&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;item&quot;&gt;9&lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line">.container&#123;</span><br><span class="line">    display:grid;</span><br><span class="line">    grid-template-columns: 100px 100px 100px;</span><br><span class="line">&#125;</span><br><span class="line">.item&#123;</span><br><span class="line">    border:1px solid red;</span><br><span class="line">&#125;</span><br><span class="line">通过上面的样式设置，可以将grid容器设置成为三列，并将每一列的宽度设置为100px。</span><br><span class="line"></span><br><span class="line">除了设置制定尺寸的像素，还可以通过fr单位设置列宽度的比例。修改上面的grid容器样式如下所示</span><br><span class="line"></span><br><span class="line">.container&#123;</span><br><span class="line">    display:grid;</span><br><span class="line">    grid-template-columns: 1fr 1fr 2fr;</span><br><span class="line">&#125;</span><br><span class="line">可以看到整个gird容器的列被4等分，其中第一列和第二列占1份（1fr），第三列占2份（2fr）。</span><br><span class="line"></span><br><span class="line">gird-template-rows属性可以设置gird容器中的项目有多少行，并指定行的宽度，实例代码如下所示：</span><br><span class="line"></span><br><span class="line">.container&#123;</span><br><span class="line">    display:grid;</span><br><span class="line">    grid-template-columns: 100px 100px 100px;</span><br><span class="line">    grid-template-rows: 100px 100px 100px;</span><br><span class="line">&#125;</span><br><span class="line">通过上面的样式，可以将grid容器设置成为一个三行三列的布局，并且每一个单元格都为100px。</span><br><span class="line"></span><br><span class="line">grid-column-gap属性与grid-row-gap属性</span><br><span class="line">grid-column-gap属性与grid-row-gap属性可以为grid容器的航宇列之间设置间距，示例代码如下所示：</span><br><span class="line"></span><br><span class="line">.container &#123;</span><br><span class="line">    display: grid;</span><br><span class="line">    grid-template-columns: 100px 100px 100px;</span><br><span class="line">    grid-template-rows: 100px 100px 100px;</span><br><span class="line">    grid-row-gap: 20px;</span><br><span class="line">    grid-column-gap: 30px;</span><br><span class="line">&#125;</span><br><span class="line">通过上面的样式，可以将行（row）之间的间距设置为20像素，将列（column）之间的间距设置为30像素。</span><br><span class="line"></span><br><span class="line">justify-items属性与align-items属性</span><br><span class="line">justify-items属性与align-items属性可以设置单元的水平位置和垂直位置，实例代码如下所示：</span><br><span class="line"></span><br><span class="line">.container &#123;</span><br><span class="line">    display: grid;</span><br><span class="line">    grid-template-columns: 100px 100px 100px;</span><br><span class="line">    grid-template-rows: 100px 100px 100px;</span><br><span class="line">    &#x2F;* 在单元格内水平居中 *&#x2F;</span><br><span class="line">    justify-items: center;</span><br><span class="line">    &#x2F;* 在单元格内存执居中 *&#x2F;</span><br><span class="line">    align-items: center;</span><br><span class="line">&#125;</span><br><span class="line">默认的情况下，grid容器单元格内的块元素会适应单元的的宽度和高度，设置justify-items后，单元格内的元素会适应自身内容的宽度，设置align-items后，单元格内的元素会使用内容的高度。</span><br><span class="line"></span><br><span class="line">将justify-items和align-items两个属性设置为center，可以将单元格内的内容垂直水平居中显示。</span><br><span class="line"></span><br><span class="line">justify-content属性与aling-content属性</span><br><span class="line">通过justify-content属性与aling-content属性可以设置整个内容区域在容器里面的水平位置和垂直位置。</span><br><span class="line"></span><br><span class="line">三、grid项目</span><br><span class="line">justify-self属性与align-self属性</span><br><span class="line">justify-self属性可以设置单元格内容的水平位置。</span><br><span class="line">align-self属性可以设置单元内容的垂直位置。</span><br><span class="line">grid-column-start属性与grid-column-end属性</span><br><span class="line">指定左右边框垂直网格线</span><br><span class="line"></span><br><span class="line">grid-row-start属性与grid-row-end属性</span><br><span class="line">指定上下边框水平网格线</span><br><span class="line"></span><br><span class="line">四、课后练习</span><br><span class="line">使用grid布局实现一个圣杯布局效果地址。</span><br><span class="line">结合grid布局和flex布局实现晓舟报告的首页效果地址。</span><br></pre></td></tr></table></figure>

<p>九宫格及常见网站布局使用：<a href="https://blog.csdn.net/h_j_c_123/article/details/91973439" target="_blank" rel="noopener">https://blog.csdn.net/h_j_c_123/article/details/91973439</a></p>
<h3 id="居中布局的七种方式"><a href="#居中布局的七种方式" class="headerlink" title="居中布局的七种方式"></a>居中布局的七种方式</h3><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/72e044e1620f4c7c908ef839a6b32534~tplv-k3u1fbpfcp-no-mark:800:0:0:0.awebp?" alt="艾编程前端博客于2022-05-09 11:51发布的图片"></p>
<h3 id="animation-和-keyframes-属性去实现打字效果"><a href="#animation-和-keyframes-属性去实现打字效果" class="headerlink" title="animation 和 @keyframes 属性去实现打字效果"></a><code>animation</code> 和 <code>@keyframes</code> 属性去实现打字效果</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class&#x3D;&quot;typing&quot;&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;typing-effect&quot;&gt;Typing effect for text&lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line"></span><br><span class="line">css</span><br><span class="line">.typing &#123;</span><br><span class="line">  height: 80vh;</span><br><span class="line">  display: flex;</span><br><span class="line">  align-items: center;</span><br><span class="line">  justify-content: center;</span><br><span class="line">&#125;</span><br><span class="line">.typing-effect &#123;</span><br><span class="line">  width: 22ch;</span><br><span class="line">  white-space: nowrap;</span><br><span class="line">  overflow: hidden;</span><br><span class="line">  border-right: 3px solid;</span><br><span class="line">  font-family: monospace;</span><br><span class="line">  font-size: 2em;</span><br><span class="line">  animation: typing 2s steps(22), effect .5s step-end infinite alternate;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@keyframes typing &#123;</span><br><span class="line">  from &#123;</span><br><span class="line">    width: 0;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@keyframes effect &#123;</span><br><span class="line">  50% &#123;</span><br><span class="line">    border-color: transparent;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="透明图片阴影效果"><a href="#透明图片阴影效果" class="headerlink" title="透明图片阴影效果"></a>透明图片阴影效果</h3><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0c23be97b6e743bbb983ad67b62c08d2~tplv-k3u1fbpfcp-zoom-in-crop-mark:1304:0:0:0.awebp?" alt="Shadow-for-transparent-images.png"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class&#x3D;&quot;transparent-shadow&quot;&gt;</span><br><span class="line">  &lt;div class&#x3D;&quot;margin-right&quot;&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;margin-bottom align-center&quot;&gt;</span><br><span class="line">      box-shadow</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">    </span><br><span class="line">    &lt;img class&#x3D;&quot;box-shadow&quot; src&#x3D;&quot;https:&#x2F;&#x2F;stackdiary.com&#x2F;wp-content&#x2F;uploads&#x2F;2022&#x2F;02&#x2F;logo.png&quot; alt&#x3D;&quot;box-shadow example (transparent)&quot;&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">    </span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;margin-bottom align-center&quot;&gt;</span><br><span class="line">      drop-shadow</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">    </span><br><span class="line">    &lt;img class&#x3D;&quot;drop-shadow&quot; src&#x3D;&quot;https:&#x2F;&#x2F;stackdiary.com&#x2F;wp-content&#x2F;uploads&#x2F;2022&#x2F;02&#x2F;logo.png&quot; alt&#x3D;&quot;drop-shadow example (transparent)&quot;&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line"></span><br><span class="line">css</span><br><span class="line">.transparent-shadow &#123;</span><br><span class="line">  height: 80vh;</span><br><span class="line">  display: flex;</span><br><span class="line">  align-items: center;</span><br><span class="line">  justify-content: center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.margin-right &#123;</span><br><span class="line">  margin-right: 2em;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.margin-bottom &#123;</span><br><span class="line">  margin-bottom: 1em;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.align-center &#123;</span><br><span class="line">  text-align: center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.box-shadow &#123;</span><br><span class="line">  box-shadow: 2px 4px 8px #3723a1;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.drop-shadow &#123;</span><br><span class="line">  filter: drop-shadow(2px 4px 8px #3723a1);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="自定义-Cursor"><a href="#自定义-Cursor" class="headerlink" title="自定义 Cursor"></a>自定义 Cursor</h3><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/49d218ca6c084701b324cb9d59ac9203~tplv-k3u1fbpfcp-zoom-in-crop-mark:1304:0:0:0.awebp?" alt="Set-a-custom-cursor-with-CSS.gif"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class&#x3D;&quot;custom-cursor&quot;&gt;</span><br><span class="line">  &lt;div class&#x3D;&quot;card&quot;&gt;</span><br><span class="line">    Default</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">  </span><br><span class="line">  &lt;div class&#x3D;&quot;card card-image-cursor&quot;&gt;</span><br><span class="line">    Image</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">  </span><br><span class="line">  &lt;div class&#x3D;&quot;card card-emoji-cursor&quot;&gt;</span><br><span class="line">    Emoji</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line"></span><br><span class="line">css</span><br><span class="line">.custom-cursor &#123;</span><br><span class="line">  display: flex;</span><br><span class="line">  height: 80vh;</span><br><span class="line">  align-items: center;</span><br><span class="line">  justify-content: center;</span><br><span class="line">  background: #f3f3f3;</span><br><span class="line">  padding: 0 10px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.card &#123;</span><br><span class="line">    width: 200px;</span><br><span class="line">    height: 200px;display: flex;</span><br><span class="line">    align-items: center;</span><br><span class="line">    justify-content: center;</span><br><span class="line">    background-color: #D29A5A;</span><br><span class="line">    margin-right: 10px;color: #fff;</span><br><span class="line">    font-size: 1.4em;</span><br><span class="line">    text-align: center;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">.card-image-cursor &#123;</span><br><span class="line">  background-color: #D11A5A;</span><br><span class="line">  cursor: url(&quot;https:&#x2F;&#x2F;p1-juejin.byteimg.com&#x2F;tos-cn-i-k3u1fbpfcp&#x2F;0ac1d8cb2b1b46a384e986a7461df26a~tplv-k3u1fbpfcp-watermark.image?&quot;), auto;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.card-emoji-cursor &#123;</span><br><span class="line">  background-color: #D29B22;</span><br><span class="line">  cursor: url(&quot;data:image&#x2F;svg+xml;utf8,&lt;svg xmlns&#x3D;&#39;http:&#x2F;&#x2F;www.w3.org&#x2F;2000&#x2F;svg&#39;  width&#x3D;&#39;48&#39; height&#x3D;&#39;48&#39; viewport&#x3D;&#39;0 0 100 100&#39; style&#x3D;&#39;fill:black;font-size:24px;&#39;&gt;&lt;text y&#x3D;&#39;50%&#39;&gt;🚀&lt;&#x2F;text&gt;&lt;&#x2F;svg&gt;&quot;), auto;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="使用-attr-展示-tooltip"><a href="#使用-attr-展示-tooltip" class="headerlink" title="使用 attr() 展示 tooltip"></a>使用 attr() 展示 tooltip</h3><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c696b444aae543e9a6ad06d3e8235941~tplv-k3u1fbpfcp-zoom-in-crop-mark:1304:0:0:0.awebp?" alt="CSS-tooltip-using-attr-property.gif"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">&lt;h1&gt;</span><br><span class="line">  HTML&#x2F;CSS tooltip</span><br><span class="line">&lt;&#x2F;h1&gt;</span><br><span class="line">&lt;p&gt;</span><br><span class="line">  Hover &lt;span class&#x3D;&quot;tooltip&quot; tooltip-data&#x3D;&quot;Tooltip Content&quot;&gt;Here&lt;&#x2F;span&gt; to see the tooltip.</span><br><span class="line">&lt;&#x2F;p&gt;</span><br><span class="line">&lt;p&gt;</span><br><span class="line">  You can also hover &lt;span class&#x3D;&quot;tooltip&quot; tooltip-data&#x3D;&quot;This is another Tooltip Content&quot;&gt;here&lt;&#x2F;span&gt; to see another example.</span><br><span class="line">&lt;&#x2F;p&gt;</span><br><span class="line"></span><br><span class="line">css</span><br><span class="line">.tooltip &#123;</span><br><span class="line">  position: relative;</span><br><span class="line">  border-bottom: 1px dotted black;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.tooltip:before &#123;</span><br><span class="line">  content: attr(tooltip-data); </span><br><span class="line">  position: absolute;</span><br><span class="line">  width: 250px;</span><br><span class="line">  background-color: #efba93;</span><br><span class="line">  color: #fff;</span><br><span class="line">  text-align: center;</span><br><span class="line">  padding: 15px;</span><br><span class="line">  line-height: 1.1;</span><br><span class="line">  border-radius: 5px;</span><br><span class="line">  z-index: 1;</span><br><span class="line">  opacity: 0;</span><br><span class="line">  transition: opacity .5s;</span><br><span class="line">  bottom: 125%;</span><br><span class="line">  left: 50%;</span><br><span class="line">  margin-left: -60px;</span><br><span class="line">  font-size: 0.70em;</span><br><span class="line">  visibility: hidden;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.tooltip:after &#123;</span><br><span class="line">  content: &quot;&quot;;</span><br><span class="line">  position: absolute;</span><br><span class="line">  bottom: 75%;</span><br><span class="line">  left: 50%;</span><br><span class="line">  margin-left: -5px;</span><br><span class="line">  border-width: 5px;</span><br><span class="line">  border-style: solid;</span><br><span class="line">  opacity: 0;</span><br><span class="line">  transition: opacity .5s;</span><br><span class="line">  border-color: #000 transparent transparent transparent;</span><br><span class="line">  visibility: hidden;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.tooltip:hover:before, </span><br><span class="line">.tooltip:hover:after &#123;</span><br><span class="line">  opacity: 1;</span><br><span class="line">  visibility: visible;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="纯-CSS-实现核算清单"><a href="#纯-CSS-实现核算清单" class="headerlink" title="纯 CSS 实现核算清单"></a>纯 CSS 实现核算清单</h3><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/98c36febaa694f31a14af7d07cfd807b~tplv-k3u1fbpfcp-zoom-in-crop-mark:1304:0:0:0.awebp?" alt="Item-Checklist-with-CSS.gif"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class&#x3D;&quot;checklist&quot;&gt;</span><br><span class="line">  &lt;h2&gt;Item Checklist with CSS&lt;&#x2F;h2&gt;</span><br><span class="line">  &lt;label&gt;</span><br><span class="line">    &lt;input type&#x3D;&quot;checkbox&quot; name&#x3D;&quot;&quot; id&#x3D;&quot;&quot; &#x2F;&gt;</span><br><span class="line">    &lt;i&gt;&lt;&#x2F;i&gt;</span><br><span class="line">    &lt;span&gt;Item #1&lt;&#x2F;span&gt;</span><br><span class="line">  &lt;&#x2F;label&gt;</span><br><span class="line">  &lt;label&gt;</span><br><span class="line">    &lt;input type&#x3D;&quot;checkbox&quot; name&#x3D;&quot;&quot; id&#x3D;&quot;&quot; &#x2F;&gt;</span><br><span class="line">    &lt;i&gt;&lt;&#x2F;i&gt;</span><br><span class="line">    &lt;span&gt;Item #2&lt;&#x2F;span&gt;</span><br><span class="line">  &lt;&#x2F;label&gt;</span><br><span class="line">  &lt;label&gt;</span><br><span class="line">    &lt;input type&#x3D;&quot;checkbox&quot; name&#x3D;&quot;&quot; id&#x3D;&quot;&quot; &#x2F;&gt;</span><br><span class="line">    &lt;i&gt;&lt;&#x2F;i&gt;</span><br><span class="line">    &lt;span&gt;Item #3&lt;&#x2F;span&gt;</span><br><span class="line">  &lt;&#x2F;label&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line"></span><br><span class="line">css</span><br><span class="line">.checklist &#123;</span><br><span class="line">    padding: 50px;</span><br><span class="line">    position: relative;</span><br><span class="line">    background: #043b3e;</span><br><span class="line">    border-top: 50px solid #03a2f4;</span><br><span class="line">&#125;</span><br><span class="line">.checklist h2 &#123;</span><br><span class="line">    color: #f3f3f3;</span><br><span class="line">    font-size: 25px;</span><br><span class="line">    padding: 10px 0;</span><br><span class="line">    margin-left: 10px;</span><br><span class="line">    display: inline-block;</span><br><span class="line">    border-bottom: 4px solid #f3f3f3;</span><br><span class="line">&#125;</span><br><span class="line">.checklist label &#123;</span><br><span class="line">    position: relative;</span><br><span class="line">    display: block;</span><br><span class="line">    margin: 40px 0;</span><br><span class="line">    color: #fff;</span><br><span class="line">    font-size: 24px;</span><br><span class="line">    cursor: pointer;</span><br><span class="line">&#125;</span><br><span class="line">.checklist input[type&#x3D;&quot;checkbox&quot;] &#123;</span><br><span class="line">    -webkit-appearance: none;</span><br><span class="line">&#125;</span><br><span class="line">.checklist i &#123;</span><br><span class="line">    position: absolute;</span><br><span class="line">    top: 2px;</span><br><span class="line">    display: inline-block;</span><br><span class="line">    width: 25px;</span><br><span class="line">    height: 25px;</span><br><span class="line">    border: 2px solid #fff;</span><br><span class="line">&#125;</span><br><span class="line">.checklist input[type&#x3D;&quot;checkbox&quot;]:checked ~ i &#123;</span><br><span class="line">    top: 1px;</span><br><span class="line">    height: 15px;</span><br><span class="line">    width: 25px;</span><br><span class="line">    border-top: none;</span><br><span class="line">    border-right: none;</span><br><span class="line">    transform: rotate(-45deg);</span><br><span class="line">&#125;</span><br><span class="line">.checklist span &#123;</span><br><span class="line">    position: relative;</span><br><span class="line">    left: 40px;</span><br><span class="line">    transition: 0.5s;</span><br><span class="line">&#125;</span><br><span class="line">.checklist span:before &#123;</span><br><span class="line">    content: &#39;&#39;;</span><br><span class="line">    position: absolute;</span><br><span class="line">    top: 50%;</span><br><span class="line">    left: 0;</span><br><span class="line">    width: 100%;</span><br><span class="line">    height: 1px;</span><br><span class="line">    background: #fff;</span><br><span class="line">    transform: translateY(-50%) scaleX(0);</span><br><span class="line">    transform-origin: left;</span><br><span class="line">    transition: transform 0.5s;</span><br><span class="line">&#125;</span><br><span class="line">.checklist input[type&#x3D;&quot;checkbox&quot;]:checked ~ span:before &#123;</span><br><span class="line">    transform: translateY(-50%) scaleX(1);</span><br><span class="line">    transform-origin: right;</span><br><span class="line">    transition: transform 0.5s;</span><br><span class="line">&#125;</span><br><span class="line">.checklist input[type&#x3D;&quot;checkbox&quot;]:checked ~ span &#123;</span><br><span class="line">    color: #154e6b;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="css方形-border-radius"><a href="#css方形-border-radius" class="headerlink" title="css方形 border-radius"></a>css方形 border-radius</h3><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0b8648b7133842358d66f0e63ad73374~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp?" alt="image.png"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">.div &#123;</span><br><span class="line">    height: 400px;</span><br><span class="line">    width: 400px;</span><br><span class="line">    clip-path: polygon(</span><br><span class="line">        18.8px 0,</span><br><span class="line">        calc(100% - 18.8px) 0,</span><br><span class="line">        100% 18.8px,</span><br><span class="line">        100% calc(100% - 18.8px),</span><br><span class="line">        calc(100% - 18.8px) 100%,</span><br><span class="line">        18.8px 100%,</span><br><span class="line">        0 calc(100% - 18.8px),</span><br><span class="line">        0 18.8px,</span><br><span class="line">        18.8px 0,</span><br><span class="line">        20px 4px,</span><br><span class="line">        4px 20px,</span><br><span class="line">        4px calc(100% - 20px),</span><br><span class="line">        20px calc(100% - 4px),</span><br><span class="line">        calc(100% - 20px) calc(100% - 4px),</span><br><span class="line">        calc(100% - 4px) calc(100% - 20px),</span><br><span class="line">        calc(100% - 4px) 20px,</span><br><span class="line">        calc(100% - 20px) 4px,</span><br><span class="line">        20px 4px</span><br><span class="line">    )</span><br><span class="line">    background: green;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">参考：</span><br><span class="line">https:&#x2F;&#x2F;juejin.cn&#x2F;post&#x2F;7126107207036305445</span><br></pre></td></tr></table></figure>



<h3 id="css等高度切角"><a href="#css等高度切角" class="headerlink" title="css等高度切角"></a>css等高度切角</h3><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a0584fa8937444a48b5c8baf442a1526~tplv-k3u1fbpfcp-zoom-in-crop-mark:1304:0:0:0.awebp" alt="image-20220317145726029"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">div&#123;</span><br><span class="line">  clip-path: polygon(0 20px, 100% 0, 100% 100%, 0 100%);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="css等角度切角"><a href="#css等角度切角" class="headerlink" title="css等角度切角"></a>css等角度切角</h3><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/af6b10e6fcbb4ec1813a52b5b3f4c51c~tplv-k3u1fbpfcp-zoom-in-crop-mark:1304:0:0:0.awebp" alt="image-20220317150509525"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">div&#123;</span><br><span class="line">  background: conic-gradient(at 100% 0, #B89DFF 250deg, transparent 0);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="css下划线动画（从中间出现，从中间消失）"><a href="#css下划线动画（从中间出现，从中间消失）" class="headerlink" title="css下划线动画（从中间出现，从中间消失）"></a>css下划线动画（从中间出现，从中间消失）</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;a href&#x3D;&quot;javascript:void(0);&quot; class&#x3D;&quot;demo1&quot;&gt;自己实现的hover效果&lt;&#x2F;a&gt;</span><br><span class="line">        &lt;a href&#x3D;&quot;javascript:void(0);&quot; class&#x3D;&quot;demo2&quot;&gt;Hexo next主题的实现&lt;&#x2F;a&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang&#x3D;&quot;scss&quot; scoped&gt;</span><br><span class="line">.demo1 &#123;</span><br><span class="line">    position: relative;</span><br><span class="line">    text-decoration: none;</span><br><span class="line">    font-size: 20px;</span><br><span class="line">    color: #333;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.demo1:before &#123;</span><br><span class="line">    content: &quot;&quot;;</span><br><span class="line">    position: absolute;</span><br><span class="line">    left: 50%;</span><br><span class="line">    bottom: -2px;</span><br><span class="line">    width: 0;</span><br><span class="line">    height: 2px;</span><br><span class="line">    background: #4285f4;</span><br><span class="line">    transition: all .3s;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.demo1:hover:before &#123;</span><br><span class="line">    width: 100%;</span><br><span class="line">    left: 0;</span><br><span class="line">    right: 0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.demo2 &#123;</span><br><span class="line">    position: relative;</span><br><span class="line">    text-decoration: none;</span><br><span class="line">    font-size: 20px;</span><br><span class="line">    color: #333;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.demo2:before &#123;</span><br><span class="line">    content: &quot;&quot;;</span><br><span class="line">    position: absolute;</span><br><span class="line">    left: 0;</span><br><span class="line">    bottom: -2px;</span><br><span class="line">    height: 2px;</span><br><span class="line">    width: 100%;</span><br><span class="line">    background: #4285f4;</span><br><span class="line">    transform: scale(0);</span><br><span class="line">    transition: all 0.3s;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.demo2:hover:before &#123;</span><br><span class="line">    transform: scale(1);</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<h3 id="css下划线动画跟随"><a href="#css下划线动画跟随" class="headerlink" title="css下划线动画跟随"></a>css下划线动画跟随</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;ul class&#x3D;&quot;test&quot;&gt;</span><br><span class="line">        &lt;li&gt;不可思议的CSS&lt;&#x2F;li&gt;</span><br><span class="line">        &lt;li&gt;导航栏&lt;&#x2F;li&gt;</span><br><span class="line">        &lt;li&gt;光标小下划线跟随&lt;&#x2F;li&gt;</span><br><span class="line">        &lt;li&gt;PURE CSS&lt;&#x2F;li&gt;</span><br><span class="line">        &lt;li&gt;Nav Underline&lt;&#x2F;li&gt;</span><br><span class="line">    &lt;&#x2F;ul&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">* &#123;</span><br><span class="line">    padding: 0;</span><br><span class="line">    margin: 0;</span><br><span class="line">    list-style: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ul.test &#123;</span><br><span class="line">    display: flex;</span><br><span class="line">    position: absolute;</span><br><span class="line">    width: 100%;</span><br><span class="line">    height: 80px;</span><br><span class="line">    top: 50%;</span><br><span class="line">    left: 50%;</span><br><span class="line">    transform: translate(-50%, -50%);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">li &#123;</span><br><span class="line">    position: relative;</span><br><span class="line">    padding: 20px;</span><br><span class="line">    font-size: 24px;</span><br><span class="line">    color: #000;</span><br><span class="line">    line-height: 1;</span><br><span class="line">    transition: 0.2s all linear;</span><br><span class="line">    cursor: pointer;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">li::before &#123;</span><br><span class="line">    content: &quot;&quot;;</span><br><span class="line">    position: absolute;</span><br><span class="line">    top: 0;</span><br><span class="line">    left: 100%;</span><br><span class="line">    width: 0;</span><br><span class="line">    height: 100%;</span><br><span class="line">    border-bottom: 2px solid #000;</span><br><span class="line">    transition: 0.2s all linear;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">li:hover::before &#123;</span><br><span class="line">    width: 100%;</span><br><span class="line">    top: 0;</span><br><span class="line">    left: 0;</span><br><span class="line">    transition-delay: 0.1s;</span><br><span class="line">    border-bottom-color: #000;</span><br><span class="line">    z-index: -1;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">li:hover~li::before &#123;</span><br><span class="line">    left: 0;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>



<h3 id="css手写loading"><a href="#css手写loading" class="headerlink" title="css手写loading"></a>css手写loading</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class&#x3D;&quot;loader&quot; style&#x3D;&quot;--count: 10&quot;&gt;</span><br><span class="line">  &lt;span style&#x3D;&quot;--index: 0&quot;&gt;&lt;&#x2F;span&gt;</span><br><span class="line">  &lt;span style&#x3D;&quot;--index: 1&quot;&gt;&lt;&#x2F;span&gt;</span><br><span class="line">  &lt;span style&#x3D;&quot;--index: 2&quot;&gt;&lt;&#x2F;span&gt;</span><br><span class="line">  &lt;span style&#x3D;&quot;--index: 3&quot;&gt;&lt;&#x2F;span&gt;</span><br><span class="line">  &lt;span style&#x3D;&quot;--index: 4&quot;&gt;&lt;&#x2F;span&gt;</span><br><span class="line">  &lt;span style&#x3D;&quot;--index: 5&quot;&gt;&lt;&#x2F;span&gt;</span><br><span class="line">  &lt;span style&#x3D;&quot;--index: 6&quot;&gt;&lt;&#x2F;span&gt;</span><br><span class="line">  &lt;span style&#x3D;&quot;--index: 7&quot;&gt;&lt;&#x2F;span&gt;</span><br><span class="line">  &lt;span style&#x3D;&quot;--index: 8&quot;&gt;&lt;&#x2F;span&gt;</span><br><span class="line">  &lt;span style&#x3D;&quot;--index: 9&quot;&gt;&lt;&#x2F;span&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line">css</span><br><span class="line">* &#123;</span><br><span class="line">  box-sizing: border-box;  </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">body &#123;</span><br><span class="line">  display: grid;</span><br><span class="line">  place-items: center;</span><br><span class="line">  min-height: 100vh;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.loader &#123;</span><br><span class="line">  height: 20vmin;</span><br><span class="line">  width: 20vmin;</span><br><span class="line">  position: relative;</span><br><span class="line">  animation: spin 0.5s infinite steps(var(--count));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@keyframes spin &#123;</span><br><span class="line">  to &#123;</span><br><span class="line">    transform: rotate(360deg);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.loader span &#123;</span><br><span class="line">  position: absolute;</span><br><span class="line">  height: 25%;</span><br><span class="line">  width: 5%;</span><br><span class="line">  background: hsl(0 0% 20%);</span><br><span class="line">  top: 50%;</span><br><span class="line">  left: 50%;</span><br><span class="line">  transform: translate(-50%, -50%)</span><br><span class="line">    rotate(calc(</span><br><span class="line">      ((360 &#x2F; var(--count)) * var(--index)) * 1deg</span><br><span class="line">    ))</span><br><span class="line">    translate(0, 100%);</span><br><span class="line">  opacity: calc(var(--index) &#x2F; var(--count));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="css手写两个圈圈加载"><a href="#css手写两个圈圈加载" class="headerlink" title="css手写两个圈圈加载"></a>css手写两个圈圈加载</h3><p><img src="/2020/10/29/vue%E4%B9%8Bseekcy%E5%BC%80%E5%8F%91%E5%8E%86%E7%A8%8B%E8%AE%B0%E5%BD%951/image-20220418094123763.png" alt="image-20220418094123763"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class&#x3D;&quot;loading&quot;&gt;</span><br><span class="line">      &lt;div class&#x3D;&quot;middle&quot;&gt;</span><br><span class="line">        &lt;span class&#x3D;&quot;left&quot;&gt;&lt;&#x2F;span&gt;</span><br><span class="line">        &lt;span class&#x3D;&quot;right&quot;&gt;&lt;&#x2F;span&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line"></span><br><span class="line">css</span><br><span class="line">.loading &#123;</span><br><span class="line">        width: 100%;</span><br><span class="line">        height: 100%;</span><br><span class="line">        background-color: #fff;</span><br><span class="line">        position: absolute;</span><br><span class="line">        left: 0;</span><br><span class="line">        top: 0;</span><br><span class="line">        display: flex;</span><br><span class="line">        align-items: center;</span><br><span class="line">        opacity: 0.65;</span><br><span class="line">      &#125;</span><br><span class="line">      .middle &#123;</span><br><span class="line">        width: 100%;</span><br><span class="line">        height: 30px;</span><br><span class="line">        overflow: hidden;</span><br><span class="line">        display: flex;</span><br><span class="line">        justify-content: center;</span><br><span class="line">      &#125;</span><br><span class="line">      .middle span &#123;</span><br><span class="line">        display: block;</span><br><span class="line">        width: 15px;</span><br><span class="line">        height: 15px;</span><br><span class="line">        border-radius: 50%;</span><br><span class="line">        position: relative;</span><br><span class="line">      &#125;</span><br><span class="line">      .loading .left &#123;</span><br><span class="line">        background-color: #4489fe;</span><br><span class="line">        margin-right: 5px;</span><br><span class="line">        animation: 0.8s leftAni infinite linear;</span><br><span class="line">        -webkit-animation: 0.8s leftAni infinite linear;</span><br><span class="line">      &#125;</span><br><span class="line">      .loading .right &#123;</span><br><span class="line">        background-color: #fe7746;</span><br><span class="line">        margin-left: 5px;</span><br><span class="line">        animation: 0.8s rightAni infinite linear;</span><br><span class="line">        -webkit-animation: 0.8s rightAni infinite linear;</span><br><span class="line">      &#125;</span><br><span class="line">      @keyframes leftAni &#123;</span><br><span class="line">        0% &#123;</span><br><span class="line">          left: 0;</span><br><span class="line">        &#125;</span><br><span class="line">        25% &#123;</span><br><span class="line">          z-index: 1001;</span><br><span class="line">        &#125;</span><br><span class="line">        50% &#123;</span><br><span class="line">          left: 20px;</span><br><span class="line">        &#125;</span><br><span class="line">        75% &#123;</span><br><span class="line">          z-index: 1000;</span><br><span class="line">        &#125;</span><br><span class="line">        100% &#123;</span><br><span class="line">          left: 0;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      @-webkit-keyframes leftAni &#123;</span><br><span class="line">        0% &#123;</span><br><span class="line">          left: 0;</span><br><span class="line">        &#125;</span><br><span class="line">        25% &#123;</span><br><span class="line">          z-index: 1001;</span><br><span class="line">        &#125;</span><br><span class="line">        50% &#123;</span><br><span class="line">          left: 20px;</span><br><span class="line">        &#125;</span><br><span class="line">        75% &#123;</span><br><span class="line">          z-index: 1000;</span><br><span class="line">        &#125;</span><br><span class="line">        100% &#123;</span><br><span class="line">          left: 0;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      @keyframes rightAni &#123;</span><br><span class="line">        0% &#123;</span><br><span class="line">          left: 0;</span><br><span class="line">        &#125;</span><br><span class="line">        25% &#123;</span><br><span class="line">          z-index: 1000;</span><br><span class="line">        &#125;</span><br><span class="line">        50% &#123;</span><br><span class="line">          left: -20px;</span><br><span class="line">        &#125;</span><br><span class="line">        75% &#123;</span><br><span class="line">          z-index: 1001;</span><br><span class="line">        &#125;</span><br><span class="line">        100% &#123;</span><br><span class="line">          left: 0;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      @-webkit-keyframes rightAni &#123;</span><br><span class="line">        0% &#123;</span><br><span class="line">          left: 0;</span><br><span class="line">        &#125;</span><br><span class="line">        25% &#123;</span><br><span class="line">          z-index: 1000;</span><br><span class="line">        &#125;</span><br><span class="line">        50% &#123;</span><br><span class="line">          left: -20px;</span><br><span class="line">        &#125;</span><br><span class="line">        75% &#123;</span><br><span class="line">          z-index: 1001;</span><br><span class="line">        &#125;</span><br><span class="line">        100% &#123;</span><br><span class="line">          left: 0;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br></pre></td></tr></table></figure>



<h3 id="css循环动画"><a href="#css循环动画" class="headerlink" title="css循环动画"></a>css循环动画</h3><p><img src="/2020/10/29/vue%E4%B9%8Bseekcy%E5%BC%80%E5%8F%91%E5%8E%86%E7%A8%8B%E8%AE%B0%E5%BD%951/image-20220413171836200.png" alt="image-20220413171836200"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class&#x3D;&quot;loading&quot;&gt;</span><br><span class="line">  &lt;div class&#x3D;&quot;dot&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">  &lt;div class&#x3D;&quot;dot&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">  &lt;div class&#x3D;&quot;dot&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">  &lt;div class&#x3D;&quot;dot&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">  &lt;div class&#x3D;&quot;dot&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line"></span><br><span class="line">css</span><br><span class="line">body &#123;</span><br><span class="line">  display: flex;</span><br><span class="line">  height: 100vh;</span><br><span class="line">  justify-content: center;</span><br><span class="line">  align-items: center;</span><br><span class="line">  background: #222;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.loading &#123;</span><br><span class="line">  $colors: #7ef9ff, #89cff0, #4682b4, #0f52ba, #000080;</span><br><span class="line">  display: flex;</span><br><span class="line"></span><br><span class="line">  .dot &#123;</span><br><span class="line">    position: relative;</span><br><span class="line">    width: 2em;</span><br><span class="line">    height: 2em;</span><br><span class="line">    margin: 0.8em;</span><br><span class="line">    border-radius: 50%;</span><br><span class="line"></span><br><span class="line">    &amp;::before &#123;</span><br><span class="line">      position: absolute;</span><br><span class="line">      content: &quot;&quot;;</span><br><span class="line">      width: 100%;</span><br><span class="line">      height: 100%;</span><br><span class="line">      background: inherit;</span><br><span class="line">      border-radius: inherit;</span><br><span class="line">      animation: wave 2s ease-out infinite;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @for $i from 1 through 5 &#123;</span><br><span class="line">      &amp;:nth-child(#&#123;$i&#125;) &#123;</span><br><span class="line">        background: nth($colors, $i);</span><br><span class="line"></span><br><span class="line">        &amp;::before &#123;</span><br><span class="line">          animation-delay: $i * 0.2s;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@keyframes wave &#123;</span><br><span class="line">  50%,</span><br><span class="line">  75% &#123;</span><br><span class="line">    transform: scale(2.5);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  80%,</span><br><span class="line">  100% &#123;</span><br><span class="line">    opacity: 0;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="css进度条"><a href="#css进度条" class="headerlink" title="css进度条"></a>css进度条</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class&#x3D;&quot;dy-loading&quot;&gt;</span><br><span class="line">      &lt;div class&#x3D;&quot;line&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line"></span><br><span class="line">css</span><br><span class="line">.dy-loading &#123;</span><br><span class="line">        width: 100vw;</span><br><span class="line">        height: 5px;</span><br><span class="line">        position: fixed;</span><br><span class="line">        top:50px;</span><br><span class="line">      &#125;</span><br><span class="line">      .dy-loading .line &#123;</span><br><span class="line">        width: 2vw;</span><br><span class="line">        height: 4px;</span><br><span class="line">        margin: 0 auto;</span><br><span class="line">        border-radius: 2px;</span><br><span class="line">        background-color: #ff6277;</span><br><span class="line">        animation: videoloading 0.3s linear;</span><br><span class="line">        -webkit-animation: videoloading 0.6s linear infinite;</span><br><span class="line">      &#125;</span><br><span class="line">      @keyframes videoloading &#123;</span><br><span class="line">        0% &#123;</span><br><span class="line">          width: 2vw;</span><br><span class="line">          opacity: 1;</span><br><span class="line">        &#125;</span><br><span class="line">        100% &#123;</span><br><span class="line">          width: 100vw;</span><br><span class="line">          opacity: 0.3;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      @-webkit-keyframes videoloading &#123;</span><br><span class="line">        0% &#123;</span><br><span class="line">          width: 2vw;</span><br><span class="line">        &#125;</span><br><span class="line">        100% &#123;</span><br><span class="line">          width: 100vw;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br></pre></td></tr></table></figure>

<h3 id="css粒子进度条"><a href="#css粒子进度条" class="headerlink" title="css粒子进度条"></a>css粒子进度条</h3><p><img src="/2020/10/29/vue%E4%B9%8Bseekcy%E5%BC%80%E5%8F%91%E5%8E%86%E7%A8%8B%E8%AE%B0%E5%BD%951/image-20220418100017750.png" alt="image-20220418100017750"></p>
<p><a href="https://code.juejin.cn/pen/7087219658352230400" target="_blank" rel="noopener">https://code.juejin.cn/pen/7087219658352230400</a></p>
<h3 id="css太极"><a href="#css太极" class="headerlink" title="css太极"></a>css太极</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line">    &lt;div class&#x3D;&quot;taiji&quot;&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;half yang&quot;&gt;</span><br><span class="line">           &lt;div class&#x3D;&quot;eye black&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">      &lt;div class&#x3D;&quot;half yin&quot;&gt;</span><br><span class="line">           &lt;div class&#x3D;&quot;eye white&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">     &lt;&#x2F;div&gt;</span><br><span class="line">   &lt;&#x2F;div&gt;</span><br><span class="line"></span><br><span class="line">css</span><br><span class="line">body &#123;</span><br><span class="line">  background-color:gray;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.taiji &#123;</span><br><span class="line">  width: 0;</span><br><span class="line">  height: 400px;</span><br><span class="line">  border-left:200px solid #ffffff;</span><br><span class="line">  border-right:200px solid #000000;</span><br><span class="line">  border-radius: 50%;</span><br><span class="line">  margin: auto;</span><br><span class="line">  position: relative;</span><br><span class="line"></span><br><span class="line">  animation: rotation 3s infinite linear;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.half &#123;</span><br><span class="line">  width: 200px;</span><br><span class="line">  height: 200px;</span><br><span class="line">  border-radius: 50%;</span><br><span class="line">  left: -100px;</span><br><span class="line">  position: absolute;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.yang&#123;</span><br><span class="line">  background-color:#ffffff;</span><br><span class="line">  top: 0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.yin&#123;</span><br><span class="line">  background-color: #000000;</span><br><span class="line">  bottom: 0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.eye &#123;</span><br><span class="line"> width: 50px;</span><br><span class="line"> height: 50px;</span><br><span class="line"> border-radius: 50%;</span><br><span class="line"> margin-top: 75px;</span><br><span class="line"> margin-left: 75px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.white &#123;</span><br><span class="line">  background-color: #ffffff;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.black &#123;</span><br><span class="line">  background-color: #000000;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@keyframes rotation&#123;</span><br><span class="line">  0% &#123; transform: rotate(0deg); &#125;</span><br><span class="line">  100% &#123; transform: rotate(360deg); &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="css旋转立体小方块"><a href="#css旋转立体小方块" class="headerlink" title="css旋转立体小方块"></a>css旋转立体小方块</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class&#x3D;&quot;will_rotate&quot; style&#x3D;&quot;position: fixed;right: 12%;top: 10%;&quot;&gt;</span><br><span class="line">        &lt;ul class&#x3D;&quot;rotate_parent&quot;&gt;</span><br><span class="line">            &lt;li class&#x3D;&quot;tip_front&quot;&gt;&lt;&#x2F;li&gt;</span><br><span class="line">            &lt;li class&#x3D;&quot;tip_back&quot;&gt;&lt;&#x2F;li&gt;</span><br><span class="line">            &lt;li class&#x3D;&quot;tip_right&quot;&gt;&lt;&#x2F;li&gt;</span><br><span class="line">            &lt;li class&#x3D;&quot;tip_left&quot;&gt;&lt;&#x2F;li&gt;</span><br><span class="line">            &lt;li class&#x3D;&quot;tip_top&quot;&gt;&lt;&#x2F;li&gt;</span><br><span class="line">            &lt;li class&#x3D;&quot;tip_bottom&quot;&gt;&lt;&#x2F;li&gt;</span><br><span class="line">            &lt;li class&#x3D;&quot;tip_floor&quot;&gt;&lt;&#x2F;li&gt;</span><br><span class="line">        &lt;&#x2F;ul&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line">    </span><br><span class="line"> css</span><br><span class="line"> .will_rotate &#123;</span><br><span class="line">    width: 150px;</span><br><span class="line">    height: 150px;</span><br><span class="line">    margin: 0 auto;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.rotate_parent &#123;</span><br><span class="line">    position: absolute;</span><br><span class="line">    display: block;</span><br><span class="line">    width: 100%;</span><br><span class="line">    height: 100%;</span><br><span class="line">    padding: 0;</span><br><span class="line">    &#x2F;* margin: -50px 0; *&#x2F;</span><br><span class="line">    -webkit-transform-origin: 50px 50px;</span><br><span class="line">    transform-origin: 50px 50px;</span><br><span class="line">    -webkit-transform: rotateX(-33.5deg) rotateY(45deg);</span><br><span class="line">    transform: rotateX(-33.5deg) rotateY(45deg);</span><br><span class="line">    -webkit-transform-style: preserve-3d;</span><br><span class="line">    transform-style: preserve-3d;</span><br><span class="line">    -webkit-animation: willRotate 3s ease-in-out infinite 2s;</span><br><span class="line">    animation: willRotate 3s ease-in-out infinite alternate;</span><br><span class="line">    top: 20%;</span><br><span class="line">    &#x2F;* left: 50%; *&#x2F;</span><br><span class="line">&#125;</span><br><span class="line">@keyframes willRotate&#123;</span><br><span class="line">0% &#123;</span><br><span class="line">    transform: rotateX(-45deg) rotateY(45deg);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">20% &#123;</span><br><span class="line">    transform: rotateX(-45deg) rotateZ(90deg);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">40% &#123;</span><br><span class="line">    transform: rotateX(45deg) rotateY(45deg);</span><br><span class="line">&#125;</span><br><span class="line">60% &#123;</span><br><span class="line">    transform: rotateZ(-90deg) rotateY(-90deg);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">80% &#123;</span><br><span class="line">    transform: rotateZ(90deg) rotateY(180deg);</span><br><span class="line">&#125;</span><br><span class="line">100% &#123;</span><br><span class="line">    transform: rotateX(45deg) rotateZ(90deg);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.rotate_parent li &#123;</span><br><span class="line">    width: 100px;</span><br><span class="line">    height: 100px;</span><br><span class="line">    transition: -webkit-transform 1s ease-in-out;</span><br><span class="line">    transition: transform 1s ease-in-out;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.rotate_parent, .rotate_parent li &#123;</span><br><span class="line">    position: absolute;</span><br><span class="line">    display: block;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.rotate_parent .tip_front &#123;</span><br><span class="line">    -webkit-transform: translateZ(50px);</span><br><span class="line">    transform: translateZ(50px);</span><br><span class="line">&#125;</span><br><span class="line">.rotate_parent .tip_back, .rotate_parent .tip_front, .rotate_parent .tip_left, .rotate_parent .tip_right, .rotate_parent .tip_top &#123;</span><br><span class="line">    background: radial-gradient(transparent 30%, rgba(126, 17, 91, .2) 100%);</span><br><span class="line">&#125;</span><br><span class="line">.rotate_parent .tip_back &#123;</span><br><span class="line">    -webkit-transform: translateZ(-50px);</span><br><span class="line">    transform: translateZ(-50px);</span><br><span class="line">&#125;</span><br><span class="line">.rotate_parent .tip_right &#123;</span><br><span class="line">    -webkit-transform: rotateY(90deg) translateZ(50px);</span><br><span class="line">    transform: rotateY(90deg) translateZ(50px);</span><br><span class="line">&#125;</span><br><span class="line">.rotate_parent .tip_left &#123;</span><br><span class="line">    -webkit-transform: rotateY(90deg) translateZ(-50px);</span><br><span class="line">    transform: rotateY(90deg) translateZ(-50px);</span><br><span class="line">&#125;</span><br><span class="line">.rotate_parent .tip_top &#123;</span><br><span class="line">    -webkit-transform: rotateX(90deg) translateZ(50px);</span><br><span class="line">    transform: rotateX(90deg) translateZ(50px);</span><br><span class="line">&#125;</span><br><span class="line">.rotate_parent .tip_bottom &#123;</span><br><span class="line">    -webkit-transform: rotateX(90deg) translateZ(-50px);</span><br><span class="line">    transform: rotateX(90deg) translateZ(-50px);</span><br><span class="line">&#125;</span><br><span class="line">.rotate_parent .tip_floor &#123;</span><br><span class="line">    box-shadow: -300px 0 50px rgb(0 0 0 &#x2F; 30%);</span><br><span class="line">    -webkit-backface-visibility: visible;</span><br><span class="line">    backface-visibility: visible;</span><br><span class="line">    width: 110px;</span><br><span class="line">    height: 110px;</span><br><span class="line">    left: 295px;</span><br><span class="line">    background-color: transparent;</span><br><span class="line">    -webkit-transform: rotateX(90deg) translateZ(-60px);</span><br><span class="line">    transform: rotateX(90deg) translateZ(-60px);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="css静态电脑键盘"><a href="#css静态电脑键盘" class="headerlink" title="css静态电脑键盘"></a>css静态电脑键盘</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class&#x3D;&quot;keyboard&quot;&gt;</span><br><span class="line">            &lt;div class&#x3D;&quot;key color1&quot; title&#x3D;&quot;吃披萨&quot;&gt;🍕&lt;&#x2F;div&gt;</span><br><span class="line">            &lt;div class&#x3D;&quot;key&quot;&gt;</span><br><span class="line">                &lt;span&gt;!&lt;&#x2F;span&gt;</span><br><span class="line">                &lt;span&gt;1&lt;&#x2F;span&gt;</span><br><span class="line">            &lt;&#x2F;div&gt;</span><br><span class="line">            &lt;div class&#x3D;&quot;key&quot;&gt;</span><br><span class="line">                &lt;span&gt;@&lt;&#x2F;span&gt;</span><br><span class="line">                &lt;span&gt;2&lt;&#x2F;span&gt;</span><br><span class="line">            &lt;&#x2F;div&gt;</span><br><span class="line">            &lt;div class&#x3D;&quot;key&quot;&gt;</span><br><span class="line">                &lt;span&gt;#&lt;&#x2F;span&gt;</span><br><span class="line">                &lt;span&gt;3&lt;&#x2F;span&gt;</span><br><span class="line">            &lt;&#x2F;div&gt;</span><br><span class="line">            &lt;div class&#x3D;&quot;key&quot;&gt;</span><br><span class="line">                &lt;span&gt;$&lt;&#x2F;span&gt;</span><br><span class="line">                &lt;span&gt;4&lt;&#x2F;span&gt;</span><br><span class="line">            &lt;&#x2F;div&gt;</span><br><span class="line">            &lt;div class&#x3D;&quot;key&quot;&gt;</span><br><span class="line">                &lt;span&gt;%&lt;&#x2F;span&gt;</span><br><span class="line">                &lt;span&gt;5&lt;&#x2F;span&gt;</span><br><span class="line">            &lt;&#x2F;div&gt;</span><br><span class="line">            &lt;div class&#x3D;&quot;key&quot;&gt;</span><br><span class="line">                &lt;span&gt;^&lt;&#x2F;span&gt;</span><br><span class="line">                &lt;span&gt;6&lt;&#x2F;span&gt;</span><br><span class="line">            &lt;&#x2F;div&gt;</span><br><span class="line">            &lt;div class&#x3D;&quot;key&quot;&gt;</span><br><span class="line">                &lt;span&gt;&amp;&lt;&#x2F;span&gt;</span><br><span class="line">                &lt;span&gt;7&lt;&#x2F;span&gt;</span><br><span class="line">            &lt;&#x2F;div&gt;</span><br><span class="line">            &lt;div class&#x3D;&quot;key&quot;&gt;</span><br><span class="line">                &lt;span&gt;*&lt;&#x2F;span&gt;</span><br><span class="line">                &lt;span&gt;8&lt;&#x2F;span&gt;</span><br><span class="line">            &lt;&#x2F;div&gt;</span><br><span class="line">            &lt;div class&#x3D;&quot;key&quot;&gt;</span><br><span class="line">                &lt;span&gt;(&lt;&#x2F;span&gt;</span><br><span class="line">                &lt;span&gt;9&lt;&#x2F;span&gt;</span><br><span class="line">            &lt;&#x2F;div&gt;</span><br><span class="line">            &lt;div class&#x3D;&quot;key&quot;&gt;</span><br><span class="line">                &lt;span&gt;)&lt;&#x2F;span&gt;</span><br><span class="line">                &lt;span&gt;0&lt;&#x2F;span&gt;</span><br><span class="line">            &lt;&#x2F;div&gt;</span><br><span class="line">            &lt;div class&#x3D;&quot;key&quot;&gt;</span><br><span class="line">                &lt;span&gt;_&lt;&#x2F;span&gt;</span><br><span class="line">                &lt;span&gt;-&lt;&#x2F;span&gt;</span><br><span class="line">            &lt;&#x2F;div&gt;</span><br><span class="line">            &lt;div class&#x3D;&quot;key&quot;&gt;</span><br><span class="line">                &lt;span&gt;+&lt;&#x2F;span&gt;</span><br><span class="line">                &lt;span&gt;&#x3D;&lt;&#x2F;span&gt;</span><br><span class="line">            &lt;&#x2F;div&gt;</span><br><span class="line">            &lt;div class&#x3D;&quot;key color1 kl4&quot; title&#x3D;&quot;啃鸡腿&quot;&gt;🍖&lt;&#x2F;div&gt;</span><br><span class="line">            &lt;div class&#x3D;&quot;key color3 kl3&quot; title&#x3D;&quot;喝肉汤&quot;&gt;🥘&lt;&#x2F;div&gt;</span><br><span class="line">            &lt;div class&#x3D;&quot;key&quot;&gt;Q&lt;&#x2F;div&gt;</span><br><span class="line">            &lt;div class&#x3D;&quot;key&quot;&gt;W&lt;&#x2F;div&gt;</span><br><span class="line">            &lt;div class&#x3D;&quot;key&quot;&gt;E&lt;&#x2F;div&gt;</span><br><span class="line">            &lt;div class&#x3D;&quot;key&quot;&gt;R&lt;&#x2F;div&gt;</span><br><span class="line">            &lt;div class&#x3D;&quot;key&quot;&gt;T&lt;&#x2F;div&gt;</span><br><span class="line">            &lt;div class&#x3D;&quot;key&quot;&gt;Y&lt;&#x2F;div&gt;</span><br><span class="line">            &lt;div class&#x3D;&quot;key&quot;&gt;U&lt;&#x2F;div&gt;</span><br><span class="line">            &lt;div class&#x3D;&quot;key&quot;&gt;I&lt;&#x2F;div&gt;</span><br><span class="line">            &lt;div class&#x3D;&quot;key&quot;&gt;O&lt;&#x2F;div&gt;</span><br><span class="line">            &lt;div class&#x3D;&quot;key&quot;&gt;P&lt;&#x2F;div&gt;</span><br><span class="line">            &lt;div class&#x3D;&quot;key&quot;&gt;</span><br><span class="line">                &lt;span&gt;&#123;&lt;&#x2F;span&gt;</span><br><span class="line">                &lt;span&gt;[&lt;&#x2F;span&gt;</span><br><span class="line">            &lt;&#x2F;div&gt;</span><br><span class="line">            &lt;div class&#x3D;&quot;key&quot;&gt;</span><br><span class="line">                &lt;span&gt;&#125;&lt;&#x2F;span&gt;</span><br><span class="line">                &lt;span&gt;]&lt;&#x2F;span&gt;</span><br><span class="line">            &lt;&#x2F;div&gt;</span><br><span class="line">            &lt;div class&#x3D;&quot;key gc3&quot;&gt;</span><br><span class="line">                &lt;span&gt;|&lt;&#x2F;span&gt;</span><br><span class="line">                &lt;span&gt;\&lt;&#x2F;span&gt;</span><br><span class="line">            &lt;&#x2F;div&gt;</span><br><span class="line">            &lt;div class&#x3D;&quot;key color4 kl4&quot; title&#x3D;&quot;兔子爱吃红萝卜&quot;&gt;🥕&lt;&#x2F;div&gt;</span><br><span class="line">            &lt;div class&#x3D;&quot;key&quot;&gt;A&lt;&#x2F;div&gt;</span><br><span class="line">            &lt;div class&#x3D;&quot;key&quot;&gt;S&lt;&#x2F;div&gt;</span><br><span class="line">            &lt;div class&#x3D;&quot;key&quot;&gt;D&lt;&#x2F;div&gt;</span><br><span class="line">            &lt;div class&#x3D;&quot;key&quot;&gt;F&lt;&#x2F;div&gt;</span><br><span class="line">            &lt;div class&#x3D;&quot;key&quot;&gt;G&lt;&#x2F;div&gt;</span><br><span class="line">            &lt;div class&#x3D;&quot;key&quot;&gt;H&lt;&#x2F;div&gt;</span><br><span class="line">            &lt;div class&#x3D;&quot;key&quot;&gt;J&lt;&#x2F;div&gt;</span><br><span class="line">            &lt;div class&#x3D;&quot;key&quot;&gt;K&lt;&#x2F;div&gt;</span><br><span class="line">            &lt;div class&#x3D;&quot;key&quot;&gt;L&lt;&#x2F;div&gt;</span><br><span class="line">            &lt;div class&#x3D;&quot;key&quot;&gt;</span><br><span class="line">                &lt;span&gt;:&lt;&#x2F;span&gt;</span><br><span class="line">                &lt;span&gt;;&lt;&#x2F;span&gt;</span><br><span class="line">            &lt;&#x2F;div&gt;</span><br><span class="line">            &lt;div class&#x3D;&quot;key&quot;&gt;</span><br><span class="line">                &lt;span&gt;&quot;&lt;&#x2F;span&gt;</span><br><span class="line">                &lt;span&gt;,&lt;&#x2F;span&gt;</span><br><span class="line">            &lt;&#x2F;div&gt;</span><br><span class="line">            &lt;div class&#x3D;&quot;key color5 kl4&quot; title&#x3D;&quot;给对象剥个虾&quot;&gt;🍤&lt;&#x2F;div&gt;</span><br><span class="line">            &lt;div class&#x3D;&quot;key color6 kl5&quot; title&#x3D;&quot;糖炒板栗&quot;&gt;🌰&lt;&#x2F;div&gt;</span><br><span class="line">            &lt;div class&#x3D;&quot;key&quot;&gt;Z&lt;&#x2F;div&gt;</span><br><span class="line">            &lt;div class&#x3D;&quot;key&quot;&gt;X&lt;&#x2F;div&gt;</span><br><span class="line">            &lt;div class&#x3D;&quot;key&quot;&gt;C&lt;&#x2F;div&gt;</span><br><span class="line">            &lt;div class&#x3D;&quot;key&quot;&gt;V&lt;&#x2F;div&gt;</span><br><span class="line">            &lt;div class&#x3D;&quot;key&quot;&gt;B&lt;&#x2F;div&gt;</span><br><span class="line">            &lt;div class&#x3D;&quot;key&quot;&gt;N&lt;&#x2F;div&gt;</span><br><span class="line">            &lt;div class&#x3D;&quot;key&quot;&gt;M&lt;&#x2F;div&gt;</span><br><span class="line">            &lt;div class&#x3D;&quot;key&quot;&gt;</span><br><span class="line">                &lt;span&gt;&lt;&lt;&#x2F;span&gt;</span><br><span class="line">                &lt;span&gt;,&lt;&#x2F;span&gt;</span><br><span class="line">            &lt;&#x2F;div&gt;</span><br><span class="line">            &lt;div class&#x3D;&quot;key&quot;&gt;</span><br><span class="line">                &lt;span&gt;&gt;&lt;&#x2F;span&gt;</span><br><span class="line">                &lt;span&gt;.&lt;&#x2F;span&gt;</span><br><span class="line">            &lt;&#x2F;div&gt;</span><br><span class="line">            &lt;div class&#x3D;&quot;key&quot;&gt;</span><br><span class="line">                &lt;span&gt;?&lt;&#x2F;span&gt;</span><br><span class="line">                &lt;span&gt;&#x2F;&lt;&#x2F;span&gt;</span><br><span class="line">            &lt;&#x2F;div&gt;</span><br><span class="line">            &lt;div class&#x3D;&quot;key color5 kl5&quot; title&#x3D;&quot;小鸡炖蘑菇&quot;&gt;🍄&lt;&#x2F;div&gt;</span><br><span class="line">            &lt;div class&#x3D;&quot;key color6 kl3&quot; title&#x3D;&quot;或&#x3D;嚯啤酒&quot;&gt;🍺&lt;&#x2F;div&gt;</span><br><span class="line">            &lt;div class&#x3D;&quot;key color7 kl3&quot; title&#x3D;&quot;爱笑甜甜圈&quot;&gt;🍩&lt;&#x2F;div&gt;</span><br><span class="line">            &lt;div class&#x3D;&quot;key color5 kl3&quot; title&#x3D;&quot;来个汉堡&quot;&gt;🍔&lt;&#x2F;div&gt;</span><br><span class="line">            &lt;div class&#x3D;&quot;key kl12&quot; title&#x3D;&quot;吃太多了&quot;&gt;放屁键💨&lt;&#x2F;div&gt;</span><br><span class="line">            &lt;div class&#x3D;&quot;key color3 kl3&quot; title&#x3D;&quot;酸溜猕猴桃&quot;&gt;🥝&lt;&#x2F;div&gt;</span><br><span class="line">            &lt;div class&#x3D;&quot;key color9&quot; title&#x3D;&quot;不吐籽葡萄&quot;&gt;🍇&lt;&#x2F;div&gt;</span><br><span class="line">            &lt;div class&#x3D;&quot;key color9&quot; title&#x3D;&quot;添西瓜&quot;&gt;🍉&lt;&#x2F;div&gt;</span><br><span class="line">            &lt;div class&#x3D;&quot;key color7&quot; title&#x3D;&quot;中国面&quot;&gt;🍝&lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line">        </span><br><span class="line">css</span><br><span class="line">* &#123;</span><br><span class="line">    margin: 0;</span><br><span class="line">    padding: 0;</span><br><span class="line">&#125;</span><br><span class="line">body &#123;</span><br><span class="line">    background: rgb(51, 47, 47); </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.keyboard &#123;</span><br><span class="line">    width: 920px;</span><br><span class="line">    height: 324px;</span><br><span class="line">    margin: 100px auto;</span><br><span class="line">    display: grid;</span><br><span class="line">    grid-template-columns: repeat(30, 1fr);</span><br><span class="line">    grid-template-rows: repeat(5, 1fr);</span><br><span class="line">    gap: 10px;</span><br><span class="line">    justify-content: center;</span><br><span class="line">    align-items: center;</span><br><span class="line">    border-radius: 15px;</span><br><span class="line">    padding: 18px;</span><br><span class="line">    background: black;</span><br><span class="line">    overflow: hidden;</span><br><span class="line">    box-shadow: -3px -3px 10px #fff, 3px 3px 6px #ddd;</span><br><span class="line">    animation-timing-function: ease-in-out;</span><br><span class="line">    animation-name: breathe;</span><br><span class="line">    animation-duration: 15s;</span><br><span class="line">    animation-iteration-count: infinite;</span><br><span class="line">    animation-direction: alternate;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.key &#123;</span><br><span class="line">    border-radius: 10px;</span><br><span class="line">    grid-column: auto&#x2F;span 2;</span><br><span class="line">    display: grid;</span><br><span class="line">    place-items: center;</span><br><span class="line">    height: 51px;</span><br><span class="line">    cursor: pointer;</span><br><span class="line">    color: #fff;</span><br><span class="line">    background: black;</span><br><span class="line">    box-shadow: -3px -3px 10px #fff, 3px 3px 6px #ddd;</span><br><span class="line">    transition: all .3s;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.key:hover &#123;</span><br><span class="line">    box-shadow: 0 0 0 #fff, 0 0 0 #ddd, inset 3px 3px 6px rgba(0, 0, 0, 0.2),</span><br><span class="line">        inset -3px -3px 10px rgba(255, 255, 255, 0.3);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;*用于指定个别网格的大小类名*&#x2F;</span><br><span class="line">.kl3 &#123;</span><br><span class="line">    grid-column: auto&#x2F;span 3;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.kl4 &#123;</span><br><span class="line">    grid-column: auto&#x2F;span 4;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.kl5 &#123;</span><br><span class="line">    grid-column: auto&#x2F;span 5;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.kl12 &#123;</span><br><span class="line">    grid-column: auto&#x2F;span 12;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;*用于指定个别网格的颜色类名*&#x2F;</span><br><span class="line">.color1 &#123;</span><br><span class="line">    background: #ed4c67;</span><br><span class="line">    color: #fbdbe1;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.color2 &#123;</span><br><span class="line">    background: #d63031;</span><br><span class="line">    color: #f7d6d6;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.color3 &#123;</span><br><span class="line">    background: #12cbc4;</span><br><span class="line">    color: #cafaf8;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.color4 &#123;</span><br><span class="line">    background: #ee5a24;</span><br><span class="line">    color: #fcded3;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.color5 &#123;</span><br><span class="line">    background: #fdcb6e;</span><br><span class="line">    color: #fff5e2;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.color6 &#123;</span><br><span class="line">    background: #1e90ff;</span><br><span class="line">    color: #d2e9ff;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.color7 &#123;</span><br><span class="line">    background: #be2edd;</span><br><span class="line">    color: #f2d5f8;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.color8 &#123;</span><br><span class="line">    background: #5352ed;</span><br><span class="line">    color: #dddcfb;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.color9 &#123;</span><br><span class="line">    background: #26de81;</span><br><span class="line">    color: #d4f8e6;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@keyframes breathe &#123;</span><br><span class="line">    0% &#123;</span><br><span class="line">        box-shadow: 0 1px 2px rgba(255, 255, 255, 0.1);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">   10% &#123;</span><br><span class="line"></span><br><span class="line">        box-shadow: 1px 1px 80px rgba(59, 255, 255, 1);</span><br><span class="line">    &#125;</span><br><span class="line">    20%&#123;</span><br><span class="line">        box-shadow: 0 1px 2px rgba(255, 255, 255, 0.1);</span><br><span class="line">    &#125;</span><br><span class="line">    30%&#123;</span><br><span class="line">        box-shadow: 1px 1px 80px rgb(235, 5, 82);</span><br><span class="line">    &#125;</span><br><span class="line">    40%&#123;</span><br><span class="line">        box-shadow: 0 1px 2px rgba(255, 255, 255, 0.1);</span><br><span class="line">    &#125;</span><br><span class="line">    50%&#123;</span><br><span class="line">        box-shadow: 1px 1px 80px rgb(15, 226, 15);</span><br><span class="line">    &#125;</span><br><span class="line">    60%&#123;</span><br><span class="line">        box-shadow: 0 1px 2px rgba(255, 255, 255, 0.1);</span><br><span class="line">    &#125;</span><br><span class="line">    70%&#123;</span><br><span class="line">        box-shadow: 1px 1px 80px rgb(72, 7, 223);</span><br><span class="line">    &#125;</span><br><span class="line">    80%&#123;</span><br><span class="line">        box-shadow: 0 1px 2px rgba(255, 255, 255, 0.1);</span><br><span class="line">    &#125;</span><br><span class="line">    100%&#123;</span><br><span class="line">        box-shadow: 1px 1px 80px rgb(184, 233, 9);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="css连三子"><a href="#css连三子" class="headerlink" title="css连三子"></a>css连三子</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id&#x3D;&#39;root&#39;&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line">&lt;div id&#x3D;&#39;runner&#39;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">&lt;div id&#x3D;&#39;reset&#39;&gt;再来一把&lt;&#x2F;div&gt;</span><br><span class="line"></span><br><span class="line">css</span><br><span class="line">#root &#123;</span><br><span class="line">  width: 50vh;</span><br><span class="line">  height: 50vh;</span><br><span class="line">  margin: auto;</span><br><span class="line">  display: grid;</span><br><span class="line">  grid-template-columns: 1fr 1fr 1fr;</span><br><span class="line">  span &#123;</span><br><span class="line">    &#x2F;&#x2F; width: 100%;</span><br><span class="line">    &#x2F;&#x2F; height: 100%;</span><br><span class="line">    cursor: pointer;</span><br><span class="line">    border: .5px solid rgba(0,0,0,0.5);</span><br><span class="line">    display: inline-block;</span><br><span class="line">    color: transparent;</span><br><span class="line">    &amp;.one &#123;</span><br><span class="line">      background: red;</span><br><span class="line">    &#125;</span><br><span class="line">    &amp;.two &#123;</span><br><span class="line">      background: blue;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">#runner &#123;</span><br><span class="line">  text-align: center;</span><br><span class="line">  font-weight: 500;</span><br><span class="line">  line-height: 2em;</span><br><span class="line">&#125;</span><br><span class="line">.bulink &#123;</span><br><span class="line">  animation: bulink .3s infinite alternate;</span><br><span class="line">&#125;</span><br><span class="line">@keyframes bulink &#123;</span><br><span class="line">  from &#123;</span><br><span class="line">    opacity: 1;</span><br><span class="line">  &#125;</span><br><span class="line">  to &#123;</span><br><span class="line">    opacity: 0;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#reset &#123;</span><br><span class="line">  width: 100px;</span><br><span class="line">  line-height: 2em;</span><br><span class="line">  border: 1px solid #ccc;</span><br><span class="line">  text-align: center;</span><br><span class="line">  border-radius: 20px;</span><br><span class="line">  background: rgba(0,0,0,0.5);</span><br><span class="line">  color: #fff;</span><br><span class="line">  margin: 0 auto;</span><br><span class="line">  display: none;</span><br><span class="line">  cursor: pointer;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">js</span><br><span class="line">const winMap &#x3D; [</span><br><span class="line">    [</span><br><span class="line">        0,</span><br><span class="line">        1,</span><br><span class="line">        2</span><br><span class="line">    ],</span><br><span class="line">    [</span><br><span class="line">        3,</span><br><span class="line">        4,</span><br><span class="line">        5</span><br><span class="line">    ],</span><br><span class="line">    [</span><br><span class="line">                                   </span><br><span class="line">    ],</span><br><span class="line">    [</span><br><span class="line">        0,</span><br><span class="line">        3,</span><br><span class="line">        6</span><br><span class="line">    ],</span><br><span class="line">    [</span><br><span class="line">        1,</span><br><span class="line">        4,</span><br><span class="line">        7</span><br><span class="line">    ],</span><br><span class="line">    [</span><br><span class="line">        2,</span><br><span class="line">        5,</span><br><span class="line">        8</span><br><span class="line">    ],</span><br><span class="line">    [</span><br><span class="line">        0,</span><br><span class="line">        4,</span><br><span class="line">        8</span><br><span class="line">    ],</span><br><span class="line">    [</span><br><span class="line">        2,</span><br><span class="line">        4,</span><br><span class="line">        6</span><br><span class="line">    ]</span><br><span class="line">]</span><br><span class="line">let raceSpan &#x3D; []</span><br><span class="line">let current &#x3D; &#39;one&#39; &#x2F;&#x2F; two</span><br><span class="line">const runnerEnum &#x3D; &#123;</span><br><span class="line">  &#39;one&#39;: &#39;红方&#39;,</span><br><span class="line">  &#39;two&#39;: &#39;蓝方&#39;</span><br><span class="line">&#125;</span><br><span class="line">let game_status &#x3D; 1</span><br><span class="line">const root &#x3D; document.getElementById(&#39;root&#39;)</span><br><span class="line">const runner &#x3D; document.getElementById(&#39;runner&#39;)</span><br><span class="line">function init () &#123;</span><br><span class="line">  root.innerHTML &#x3D; &#39;&#39;</span><br><span class="line">  current &#x3D; &#39;one&#39;</span><br><span class="line">  raceSpan &#x3D; []</span><br><span class="line">  game_status &#x3D; 1</span><br><span class="line">  for (let i &#x3D; 1; i &lt;&#x3D; 9;i++) &#123;</span><br><span class="line">    const span &#x3D; document.createElement(&#39;span&#39;)</span><br><span class="line">    raceSpan.push(span)</span><br><span class="line">    span.id &#x3D; &#96;sapn_$&#123;i&#125;&#96;</span><br><span class="line">    span.innerHTML &#x3D; &#39;0&#39;</span><br><span class="line">    span.addEventListener(&#39;click&#39;, function () &#123;</span><br><span class="line">      if (!game_status) return</span><br><span class="line">      if (this.innerHTML !&#x3D;&#x3D; &#39;0&#39;) return</span><br><span class="line">      this.innerHTML &#x3D; current &#x3D;&#x3D;&#x3D; &#39;one&#39; ? -1 : 1</span><br><span class="line">      this.className &#x3D; current</span><br><span class="line">      current &#x3D; current &#x3D;&#x3D;&#x3D; &#39;one&#39; ? &#39;two&#39; : &#39;one&#39;</span><br><span class="line">      if (!checkRace() &amp;&amp; !checkGameStatus()) &#123;</span><br><span class="line">        setRunner()</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    root.appendChild(span)</span><br><span class="line">  &#125;</span><br><span class="line">  setRunner()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function checkGameStatus () &#123;</span><br><span class="line">  for (let v of raceSpan) &#123;</span><br><span class="line">    if (v.innerHTML &#x3D;&#x3D;&#x3D; &#39;0&#39;) &#123;</span><br><span class="line">      return 0</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  setWiner(&#39;equal&#39;)</span><br><span class="line">  return 1</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function setRunner () &#123;</span><br><span class="line">  runner.innerHTML &#x3D; &#96;该$&#123;runnerEnum[current]&#125;走了&#96;</span><br><span class="line">&#125;</span><br><span class="line">function checkRace () &#123;</span><br><span class="line">  for (let line of winMap) &#123;</span><br><span class="line">    const calculateResult &#x3D; calculateSum(line)</span><br><span class="line">    if (calculateResult &#x3D;&#x3D;&#x3D; -3 || calculateResult &#x3D;&#x3D;&#x3D; 3) &#123;</span><br><span class="line">      setWiner(calculateResult &#x3D;&#x3D;&#x3D; -3 ? &#39;one&#39;: &#39;two&#39;)</span><br><span class="line">      line.map((i, index) &#x3D;&gt; &#123;</span><br><span class="line">        raceSpan[i].className &#x3D; &#96;$&#123;raceSpan[i].className&#125; bulink&#96;</span><br><span class="line">        raceSpan[i].style &#x3D; &#96;animation-delay: -$&#123;index * 0.2&#125;s;&#96;</span><br><span class="line">      &#125;)</span><br><span class="line">      return 1</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  return 0</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function calculateSum (line) &#123;</span><br><span class="line">  return line.reduce((sum, i) &#x3D;&gt; &#123;</span><br><span class="line">    return sum +&#x3D; Number(raceSpan[i].innerHTML)</span><br><span class="line">  &#125;, 0)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function setWiner (winner) &#123;</span><br><span class="line">  runner.innerHTML &#x3D; winner &#x3D;&#x3D;&#x3D; &#39;equal&#39; ? &#39;哎呀，双方达成友好的平局局势&#39; : &#96;恭喜$&#123;runnerEnum[winner]&#125;获得游戏胜利&#96;</span><br><span class="line">  game_status &#x3D; 0</span><br><span class="line">  document.getElementById(&#39;reset&#39;).style &#x3D; &#39;display: block;&#39;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">document.getElementById(&#39;reset&#39;).addEventListener(&#39;click&#39;, () &#x3D;&gt; &#123;</span><br><span class="line">  document.getElementById(&#39;reset&#39;).style &#x3D; &#39;display: none;&#39;</span><br><span class="line">  if (game_status &#x3D;&#x3D;&#x3D; 0) &#123;</span><br><span class="line">    init()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">init()</span><br></pre></td></tr></table></figure>

<h3 id="css贪吃蛇"><a href="#css贪吃蛇" class="headerlink" title="css贪吃蛇"></a>css贪吃蛇</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">  &lt;div class&#x3D;&quot;content&quot;&gt;</span><br><span class="line">		&lt;div&gt;你的蛇有&#123;&#123;snakes.length&#125;&#125;米&lt;&#x2F;div&gt;</span><br><span class="line">		&lt;div v-show&#x3D;&quot;fail&quot;&gt;游戏结束！&lt;&#x2F;div&gt;</span><br><span class="line">    &lt;div v-show&#x3D;&quot;success&quot;&gt;你赢了！&lt;&#x2F;div&gt;</span><br><span class="line">		&lt;div class&#x3D;&quot;game-field&quot;&gt;</span><br><span class="line">			&lt;div class&#x3D;&quot;block&quot; :style&#x3D;&quot;&#96;background-color: $&#123;bg(x)&#125;&#96;&quot; v-for&#x3D;&quot;(x, i) in blocks&quot; :key&#x3D;&quot;i&quot;&gt;</span><br><span class="line">			&lt;&#x2F;div&gt;</span><br><span class="line">		&lt;&#x2F;div&gt;</span><br><span class="line">		&lt;div class&#x3D;&quot;action-field&quot;&gt;</span><br><span class="line">			&lt;button @click&#x3D;&quot;bindUp&quot;&gt;上&lt;&#x2F;button&gt;</span><br><span class="line">			&lt;div class&#x3D;&quot;flex&quot;&gt;</span><br><span class="line">				&lt;button @click&#x3D;&quot;bindLeft&quot;&gt;左&lt;&#x2F;button&gt;</span><br><span class="line">				&lt;button @click&#x3D;&quot;bindRight&quot;&gt;右&lt;&#x2F;button&gt;</span><br><span class="line">			&lt;&#x2F;div&gt;</span><br><span class="line">			&lt;button @click&#x3D;&quot;bindDown&quot;&gt;下&lt;&#x2F;button&gt;</span><br><span class="line">		&lt;&#x2F;div&gt;</span><br><span class="line">		&lt;div class&#x3D;&quot;play&quot;&gt;</span><br><span class="line">			&lt;button block v-show&#x3D;&quot;!timer&quot; @click&#x3D;&quot;start&quot;&gt;开始游戏&lt;&#x2F;button&gt;</span><br><span class="line">			&lt;button block v-show&#x3D;&quot;timer&quot; @click&#x3D;&quot;reStart&quot;&gt;重新开始&lt;&#x2F;button&gt;</span><br><span class="line">		&lt;&#x2F;div&gt;</span><br><span class="line">    &lt;div&gt;难度：&lt;&#x2F;div&gt;</span><br><span class="line">    &lt;div style&#x3D;&quot;display: flex;&quot;&gt;</span><br><span class="line">      &lt;label&gt;简单&lt;&#x2F;label&gt;</span><br><span class="line">      &lt;input @click&#x3D;&quot;speed&#x3D;1&quot; name&#x3D;&quot;level&quot; type&#x3D;&quot;radio&quot; value&#x3D;&quot;1&quot;&gt;</span><br><span class="line">      &lt;label&gt;中等&lt;&#x2F;label&gt;</span><br><span class="line">      &lt;input @click&#x3D;&quot;speed&#x3D;2&quot; name&#x3D;&quot;level&quot; type&#x3D;&quot;radio&quot; value&#x3D;&quot;2&quot;&gt;</span><br><span class="line">      &lt;label&gt;困难&lt;&#x2F;label&gt;</span><br><span class="line">      &lt;input @click&#x3D;&quot;speed&#x3D;3&quot; name&#x3D;&quot;level&quot; type&#x3D;&quot;radio&quot; value&#x3D;&quot;3&quot;&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">	&lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line"></span><br><span class="line">css</span><br><span class="line">.content &#123;</span><br><span class="line">  display: flex;</span><br><span class="line">  flex-direction: column;</span><br><span class="line">  align-items: center;</span><br><span class="line">  justify-content: space-between;</span><br><span class="line">  padding: 0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.play &#123;</span><br><span class="line">  margin-bottom: 40upx;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.game-field &#123;</span><br><span class="line">  width: 200px;</span><br><span class="line">  display: flex;</span><br><span class="line">  flex-wrap: wrap;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.block &#123;</span><br><span class="line">  width: 20px;</span><br><span class="line">  height: 20px;</span><br><span class="line">  display: flex;</span><br><span class="line">  justify-content: center;</span><br><span class="line">  align-items: center;</span><br><span class="line">  background-color: rgb(232, 235, 178);</span><br><span class="line">  background-repeat: no-repeat;</span><br><span class="line">  background-position: center;</span><br><span class="line">  background-size: cover;</span><br><span class="line">  box-sizing: border-box;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.flex &#123;</span><br><span class="line">  display: flex;</span><br><span class="line">  width: 50%;</span><br><span class="line">  justify-content: space-between;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.action-field &#123;</span><br><span class="line">  display: flex;</span><br><span class="line">  flex-direction: column;</span><br><span class="line">  width: 130px;</span><br><span class="line">  align-items: center;</span><br><span class="line">  margin: 20px 0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">js</span><br><span class="line">new Vue(&#123;</span><br><span class="line">  el: &#39;#app&#39;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      blocks: [],</span><br><span class="line">      worms: [6],</span><br><span class="line">      snakes: [0, 1, 2, 3],</span><br><span class="line">      direction: &quot;right&quot;,</span><br><span class="line">      timer: null,</span><br><span class="line">      speed: 1,</span><br><span class="line">      fail: false,</span><br><span class="line">      success: false</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  mounted() &#123;</span><br><span class="line">    this.initGame();</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    initGame() &#123;</span><br><span class="line">      this.blocks &#x3D; new Array(100).fill(0);</span><br><span class="line">      this.worms &#x3D; [6];</span><br><span class="line">      this.snakes &#x3D; [0, 1, 2, 3];</span><br><span class="line">      this.direction &#x3D; &quot;right&quot;;</span><br><span class="line">      this.timer &#x3D; null;</span><br><span class="line">      this.paint();</span><br><span class="line">    &#125;,</span><br><span class="line">    start() &#123;</span><br><span class="line">      this.fail &#x3D; false;</span><br><span class="line">      this.timer &#x3D; setInterval(() &#x3D;&gt; &#123;</span><br><span class="line">        this.toWards(this.direction);</span><br><span class="line">      &#125;, 1000 &#x2F; this.speed);</span><br><span class="line">    &#125;,</span><br><span class="line">    reStart() &#123;</span><br><span class="line">      if (this.timer) &#123;</span><br><span class="line">        clearInterval(this.timer);</span><br><span class="line">      &#125;</span><br><span class="line">      this.initGame();</span><br><span class="line">      this.start();</span><br><span class="line">    &#125;,</span><br><span class="line">    paint() &#123;</span><br><span class="line">      this.worms.forEach((x) &#x3D;&gt; &#123;</span><br><span class="line">        this.blocks[x] &#x3D; 1;</span><br><span class="line">      &#125;);</span><br><span class="line">      this.snakes.forEach((x) &#x3D;&gt; &#123;</span><br><span class="line">        this.blocks[x] &#x3D; 2;</span><br><span class="line">      &#125;);</span><br><span class="line">      this.$forceUpdate();</span><br><span class="line">    &#125;,</span><br><span class="line">    bg(type) &#123;</span><br><span class="line">      let bg &#x3D; &quot;&quot;;</span><br><span class="line">      switch (type) &#123;</span><br><span class="line">        case 0: &#x2F;&#x2F; 地板</span><br><span class="line">          bg &#x3D; &quot;rgb(232, 235, 178)&quot;;</span><br><span class="line">          break;</span><br><span class="line">        case 1: &#x2F;&#x2F; 虫子</span><br><span class="line">          bg &#x3D; &quot;red&quot;;</span><br><span class="line">          break;</span><br><span class="line">        case 2: &#x2F;&#x2F; 蛇</span><br><span class="line">          bg &#x3D; &quot;green&quot;</span><br><span class="line">          break;</span><br><span class="line">      &#125;</span><br><span class="line">      return bg;</span><br><span class="line">    &#125;,</span><br><span class="line">    toWards(direction) &#123;</span><br><span class="line">      if (this.snakes.length &#x3D;&#x3D;&#x3D; 100) &#123;</span><br><span class="line">        this.success &#x3D; true;</span><br><span class="line">        clearInterval(this.timer);</span><br><span class="line">        return;</span><br><span class="line">      &#125;</span><br><span class="line">      let head &#x3D; this.snakes[this.snakes.length - 1];</span><br><span class="line">      let tail &#x3D; this.snakes[0];</span><br><span class="line">      let next;</span><br><span class="line">      switch (direction) &#123;</span><br><span class="line">        case &quot;up&quot;:</span><br><span class="line">          next &#x3D; head - 10;</span><br><span class="line">          break;</span><br><span class="line">        case &quot;down&quot;:</span><br><span class="line">          next &#x3D; head + 10;</span><br><span class="line">          break;</span><br><span class="line">        case &quot;left&quot;:</span><br><span class="line">          next &#x3D; head - 1;</span><br><span class="line">          break;</span><br><span class="line">        case &quot;right&quot;:</span><br><span class="line">          next &#x3D; head + 1;</span><br><span class="line">          break;</span><br><span class="line">      &#125;</span><br><span class="line">      let gameover &#x3D; this.checkGame(direction, next);</span><br><span class="line">      if (gameover) &#123;</span><br><span class="line">        this.fail &#x3D; true;</span><br><span class="line">        clearInterval(this.timer);</span><br><span class="line">      &#125; else &#123;</span><br><span class="line">        &#x2F;&#x2F; 游戏没结束</span><br><span class="line">        this.snakes.push(next);</span><br><span class="line">        let nextType &#x3D; this.blocks[next];</span><br><span class="line">        this.blocks[next] &#x3D; 2;</span><br><span class="line">        &#x2F;&#x2F; 如果是空白格</span><br><span class="line">        if (nextType &#x3D;&#x3D;&#x3D; 0) &#123;</span><br><span class="line">          this.snakes.shift();</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">          &#x2F;&#x2F; 如果是虫子格</span><br><span class="line">          this.worms &#x3D; this.worms.filter((x) &#x3D;&gt; x !&#x3D;&#x3D; next);</span><br><span class="line">          let nextWorm &#x3D; this.createWorm();</span><br><span class="line">          this.worms.push(nextWorm);</span><br><span class="line">        &#125;</span><br><span class="line">        this.blocks[tail] &#x3D; 0;</span><br><span class="line">        this.paint();</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">          &#x2F;&#x2F; 生成下一只虫子</span><br><span class="line">    createWorm() &#123;</span><br><span class="line">      let blocks &#x3D; Array.from(&#123;</span><br><span class="line">        length: 100</span><br><span class="line">      &#125;, (v, k) &#x3D;&gt; k);</span><br><span class="line">      let restBlocks &#x3D; blocks.filter(x &#x3D;&gt; this.snakes.indexOf(x) &lt; 0);</span><br><span class="line">      let worm &#x3D; restBlocks[Math.floor(Math.random() * restBlocks.length)];</span><br><span class="line">      return worm;</span><br><span class="line">    &#125;,</span><br><span class="line">    bindUp() &#123;</span><br><span class="line">      if (this.direction &#x3D;&#x3D;&#x3D; &quot;down&quot;) return;</span><br><span class="line">      this.direction &#x3D; &quot;up&quot;;</span><br><span class="line">    &#125;,</span><br><span class="line">    bindDown() &#123;</span><br><span class="line">      if (this.direction &#x3D;&#x3D;&#x3D; &quot;up&quot;) return;</span><br><span class="line">      this.direction &#x3D; &quot;down&quot;;</span><br><span class="line">    &#125;,</span><br><span class="line">    bindLeft() &#123;</span><br><span class="line">      if (this.direction &#x3D;&#x3D;&#x3D; &quot;right&quot;) return;</span><br><span class="line">      this.direction &#x3D; &quot;left&quot;;</span><br><span class="line">    &#125;,</span><br><span class="line">    bindRight() &#123;</span><br><span class="line">      if (this.direction &#x3D;&#x3D;&#x3D; &quot;left&quot;) return;</span><br><span class="line">      this.direction &#x3D; &quot;right&quot;;</span><br><span class="line">    &#125;,</span><br><span class="line">    checkGame(direction, next) &#123;</span><br><span class="line">      let gameover &#x3D; false;</span><br><span class="line">      let isSnake &#x3D; this.snakes.indexOf(next) &gt; -1;</span><br><span class="line">      if (isSnake) &#123;</span><br><span class="line">        gameover &#x3D; true;</span><br><span class="line">      &#125;</span><br><span class="line">      switch (direction) &#123;</span><br><span class="line">        case &quot;up&quot;:</span><br><span class="line">          if (next &lt; 0) &#123;</span><br><span class="line">            gameover &#x3D; true;</span><br><span class="line">          &#125;</span><br><span class="line">          break;</span><br><span class="line">        case &quot;down&quot;:</span><br><span class="line">          if (next &gt;&#x3D; 100) &#123;</span><br><span class="line">            gameover &#x3D; true;</span><br><span class="line">          &#125;</span><br><span class="line">          break;</span><br><span class="line">        case &quot;left&quot;:</span><br><span class="line">          if (next % 10 &#x3D;&#x3D;&#x3D; 9) &#123;</span><br><span class="line">            gameover &#x3D; true;</span><br><span class="line">          &#125;</span><br><span class="line">          break;</span><br><span class="line">        case &quot;right&quot;:</span><br><span class="line">          if (next % 10 &#x3D;&#x3D;&#x3D; 0) &#123;</span><br><span class="line">            gameover &#x3D; true;</span><br><span class="line">          &#125;</span><br><span class="line">          break;</span><br><span class="line">      &#125;</span><br><span class="line">      return gameover;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>



<h3 id="统一改变价格符号￥大小"><a href="#统一改变价格符号￥大小" class="headerlink" title="统一改变价格符号￥大小"></a>统一改变价格符号￥大小</h3><p>unicode地址</p>
<p><a href="https://baike.baidu.com/item/Unicode%E5%AD%97%E7%AC%A6%E5%88%97%E8%A1%A8/12022016?fr=aladdin" target="_blank" rel="noopener">https://baike.baidu.com/item/Unicode%E5%AD%97%E7%AC%A6%E5%88%97%E8%A1%A8/12022016?fr=aladdin</a></p>
<p><img src="/2020/10/29/vue%E4%B9%8Bseekcy%E5%BC%80%E5%8F%91%E5%8E%86%E7%A8%8B%E8%AE%B0%E5%BD%951/image-20220418101513526.png" alt="image-20220418101513526"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class&#x3D;&quot;price&quot;&gt;￥99&lt;&#x2F;div&gt;</span><br><span class="line">&lt;div class&#x3D;&quot;price one&quot;&gt;￥99&lt;&#x2F;div&gt;</span><br><span class="line">&lt;div class&#x3D;&quot;price two&quot;&gt;￥99&lt;&#x2F;div&gt;</span><br><span class="line"></span><br><span class="line">.price&#123;</span><br><span class="line">  color: red;</span><br><span class="line">  font-size: 24px;</span><br><span class="line">  text-align: center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;* 方式一 *&#x2F;</span><br><span class="line">.price.one::first-letter&#123;</span><br><span class="line">  font-size: 50%;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#x2F;* 方式二 推荐！！！ *&#x2F;</span><br><span class="line">@font-face &#123;</span><br><span class="line">    font-family: rmb;</span><br><span class="line">    src: local(&quot;Microsoft Yahei&quot;);</span><br><span class="line">    size-adjust: 50%;</span><br><span class="line">    unicode-range: U+FFE5; &#x2F;*￥符号的Unicode编号*&#x2F; </span><br><span class="line">&#125;</span><br><span class="line">.price.two &#123;</span><br><span class="line">    font-family: rmb;</span><br><span class="line">    color: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>css文字超出显示省略号</p>
<h3 id="单行："><a href="#单行：" class="headerlink" title="单行："></a>单行：</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">white-space:nowrap;</span><br><span class="line">overflow:hidden;</span><br><span class="line">text-overflow:ellipsis;</span><br></pre></td></tr></table></figure>

<h3 id="多行："><a href="#多行：" class="headerlink" title="多行："></a>多行：</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">word-break: break-all;</span><br><span class="line">text-overflow: ellipsis;</span><br><span class="line">overflow: hidden;</span><br><span class="line">display: -webkit-box;</span><br><span class="line">-webkit-line-clamp: 2;</span><br><span class="line">-webkit-box-orient: vertical;</span><br></pre></td></tr></table></figure>

<h3 id="position-sticky-实现-导航栏悬停功能"><a href="#position-sticky-实现-导航栏悬停功能" class="headerlink" title="position: sticky 实现 导航栏悬停功能"></a>position: sticky 实现 导航栏悬停功能</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">header&#123;</span><br><span class="line">    position: sticky;</span><br><span class="line">    top: 100px;&#x2F;&#x2F;top: 0 表示当该标签顶部离浏览器只有0px的距离时，一直悬浮在窗口中</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">原理就是，当标签离浏览器顶部的距离没有达到我们设置的top值时，该标签都处于position: relative 的状态，占据文本流存在于内容中；当标签离浏览器顶部的距离达到我们设置的top值时，该标签处于position: fixed，一种固定状态，所以能达到悬停的效果</span><br></pre></td></tr></table></figure>



<h3 id="使用-v-deep深度选择器，能够解决在scss中无法解析-deep-选择器的问题"><a href="#使用-v-deep深度选择器，能够解决在scss中无法解析-deep-选择器的问题" class="headerlink" title="使用::v-deep深度选择器，能够解决在scss中无法解析/deep/选择器的问题"></a>使用::v-deep深度选择器，能够解决在scss中无法解析/deep/选择器的问题</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;style lang&#x3D;&quot;scss&quot; scoped&gt;</span><br><span class="line">::v-deep .el-dialog__header &#123;</span><br><span class="line">  background-color: #81ecec !important;</span><br><span class="line">&#125;</span><br><span class="line">::v-deep .el-button--primary &#123;</span><br><span class="line">  background-color: #81ecec;</span><br><span class="line">  border-color: #81ecec;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>



<h3 id="判断用户是否离开当前页-当前标签页"><a href="#判断用户是否离开当前页-当前标签页" class="headerlink" title="判断用户是否离开当前页/当前标签页"></a>判断用户是否离开当前页/当前标签页</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">document.addEventListener(&#39;visibilitychange&#39;, function() &#123;</span><br><span class="line">      if (document.visibilityState &#x3D;&#x3D; &#39;hidden&#39;) &#123;</span><br><span class="line">        console.log(&#39;离开页面&#39;);</span><br><span class="line">      &#125; else &#123;</span><br><span class="line">        console.log(&#39;回到页面&#39;);</span><br><span class="line">      &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>



<h3 id="元素被隐藏或消失-在开发中工具去审查时无法选中？"><a href="#元素被隐藏或消失-在开发中工具去审查时无法选中？" class="headerlink" title="元素被隐藏或消失,在开发中工具去审查时无法选中？"></a>元素被隐藏或消失,在开发中工具去审查时无法选中？</h3><p>有的元素，在开发中工具去审查它的时候，它就消失了。可以通过断点会冻结 DOM 的特性来调试这元素。在控制台中，输入下面的代码:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">setTimeout(() &#x3D;&gt; &#123;debugger&#125;, 2000)</span><br></pre></td></tr></table></figure>

<p>然后，让元素显示。2秒后，会进断点，此时再去审查元素，因为 DOM 的更新被断点冻结住了，元素就不会消失。</p>
<h3 id="大屏自适应布局实现（scale）"><a href="#大屏自适应布局实现（scale）" class="headerlink" title="大屏自适应布局实现（scale）"></a>大屏自适应布局实现（scale）</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">html</span><br><span class="line">&lt;div</span><br><span class="line">      :style&#x3D;&quot;&#123;</span><br><span class="line">        background: &#39;red&#39;,</span><br><span class="line">        width,</span><br><span class="line">        height,</span><br><span class="line">        transform: &#96;scale($&#123;scale&#125;)&#96;,</span><br><span class="line">        WebkitTransform: &#96;scale($&#123;scale&#125;)&#96;,</span><br><span class="line">        transformOrigin:&#39;0% 0%&#39;</span><br><span class="line">      &#125;&quot;</span><br><span class="line">    &gt;</span><br><span class="line">      &lt;img src&#x3D;&quot;..&#x2F;assets&#x2F;logo.png&quot; alt&#x3D;&quot;&quot; &#x2F;&gt;</span><br><span class="line">      &lt;h1&gt;4654&lt;&#x2F;h1&gt;</span><br><span class="line">      &lt;div&gt;4654&lt;&#x2F;div&gt;</span><br><span class="line">      &lt;div&gt;4654&lt;&#x2F;div&gt;</span><br><span class="line">      &lt;div&gt;4654&lt;&#x2F;div&gt;</span><br><span class="line">      &lt;div&gt;4654&lt;&#x2F;div&gt;</span><br><span class="line">      &lt;div&gt;4654&lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line"> </span><br><span class="line">js</span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;big&#39;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      width: &#39;1920px&#39;,</span><br><span class="line">      height: &#39;1080px&#39;,</span><br><span class="line">      scale: 1</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  mounted() &#123;</span><br><span class="line">    window.addEventListener(&#39;resize&#39;, this.getScale);</span><br><span class="line">  &#125;,</span><br><span class="line">  beforeDestroy() &#123;</span><br><span class="line">    window.removeEventListener(&#39;resize&#39;, this.getScale);</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    getScale() &#123;</span><br><span class="line">      let ww &#x3D; window.innerWidth &#x2F; parseInt(this.width);</span><br><span class="line">      let wh &#x3D; window.innerHeight &#x2F; parseInt(this.height);</span><br><span class="line">      this.scale &#x3D; ww &lt; wh ? ww : wh;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>





<h3 id="移动端0-5px-1px边框变粗的问题"><a href="#移动端0-5px-1px边框变粗的问题" class="headerlink" title="移动端0.5px(1px边框变粗的问题)"></a>移动端0.5px(1px边框变粗的问题)</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;* 底边框 *&#x2F;</span><br><span class="line">.b-border &#123;</span><br><span class="line">  position: relative;</span><br><span class="line">&#125;</span><br><span class="line">.b-border:before &#123;</span><br><span class="line">  content: &#39;&#39;;</span><br><span class="line">  position: absolute;</span><br><span class="line">  left: 0;</span><br><span class="line">  bottom: 0;</span><br><span class="line">  width: 100%;</span><br><span class="line">  height: 1px;</span><br><span class="line">  background: #d9d9d9;</span><br><span class="line">  -webkit-transform: scaleY(0.5);</span><br><span class="line">  transform: scaleY(0.5);</span><br><span class="line">  -webkit-transform-origin: 0 0;</span><br><span class="line">  transform-origin: 0 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="文字和图片的模糊效果"><a href="#文字和图片的模糊效果" class="headerlink" title="文字和图片的模糊效果"></a>文字和图片的模糊效果</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">文字</span><br><span class="line">&#123;</span><br><span class="line">color: transparent;</span><br><span class="line">text-shadow: #111 0 0 5px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">图片</span><br><span class="line">&#123;filter: blur(10px);&#125;</span><br></pre></td></tr></table></figure>







<h3 id="查询横屏还是竖屏"><a href="#查询横屏还是竖屏" class="headerlink" title="查询横屏还是竖屏"></a>查询横屏还是竖屏</h3><p>横屏landscape、竖屏portrait</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">orientation：portrait | landscape</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>portrait：</strong>指定输出设备中的页面可见区域高度大于或等于宽度</li>
<li><strong>landscape：</strong> 除portrait值情况外，都是landscape</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">如果是横屏背景将是浅蓝色：</span><br><span class="line">@media only screen and (orientation: landscape) &#123;</span><br><span class="line">    body &#123;</span><br><span class="line">        background-color: lightblue;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="多重边框"><a href="#多重边框" class="headerlink" title="多重边框"></a>多重边框</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">div &#123;</span><br><span class="line">    box-shadow: 0 0 0 6px rgba(0, 0, 0, 0.2), 0 0 0 12px rgba(0, 0, 0, 0.2), 0 0 0 18px rgba(0, 0, 0, 0.2), 0 0 0 24px rgba(0, 0, 0, 0.2);</span><br><span class="line">    height: 200px;</span><br><span class="line">    margin: 50px auto;</span><br><span class="line">    width: 400px</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://mmbiz.qpic.cn/mmbiz_png/JIv7z1kbomC1q64N8lmP3G4pmFoVadU1pJSIJvFyqr5aGADc7ibWE0lKAibtUG9bicIMWSCBVd5icJyssbG2JiahpLQ/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="图片"></p>
<h3 id="利用border做出斜切的效果"><a href="#利用border做出斜切的效果" class="headerlink" title="利用border做出斜切的效果"></a>利用border做出斜切的效果</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class&#x3D;&quot;bordertest&quot;&gt;</span><br><span class="line">      &lt;div&gt;排行榜&lt;&#x2F;div&gt;</span><br><span class="line">      &lt;div&gt;排行榜&lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line">    </span><br><span class="line">.bordertest &#123;</span><br><span class="line">  display: flex;</span><br><span class="line">  div &#123;</span><br><span class="line">    padding-bottom: 0;</span><br><span class="line">    height: 0;</span><br><span class="line">    border-bottom: 24px solid #f00;</span><br><span class="line">    border-right: 24px solid transparent;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="/2020/10/29/vue%E4%B9%8Bseekcy%E5%BC%80%E5%8F%91%E5%8E%86%E7%A8%8B%E8%AE%B0%E5%BD%951/image-20210401115059658.png" alt="image-20210401115059658"></p>
<h3 id="不用使用-last-child-border-none-技巧"><a href="#不用使用-last-child-border-none-技巧" class="headerlink" title="不用使用:last-child(){border:none}技巧"></a>不用使用:last-child(){border:none}技巧</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">ul &#123;</span><br><span class="line">    width: 200px;</span><br><span class="line">    margin: auto;</span><br><span class="line">    list-style: none;</span><br><span class="line">    padding: 0;</span><br><span class="line">    border: 1px solid red;</span><br><span class="line">    text-align: center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">li + li &#123;</span><br><span class="line">    border-top: 1px solid red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="/2020/10/29/vue%E4%B9%8Bseekcy%E5%BC%80%E5%8F%91%E5%8E%86%E7%A8%8B%E8%AE%B0%E5%BD%951/image-20210326143420979.png" alt="image-20210326143420979"></p>
<h3 id="瀑布流布局"><a href="#瀑布流布局" class="headerlink" title="瀑布流布局"></a>瀑布流布局</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">html</span><br><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;waterfall&quot;&gt;</span><br><span class="line">        &lt;div v-for&#x3D;&quot;(item,index) in 20&quot;</span><br><span class="line">            :style&#x3D;&quot;&#123;height:heights[Math.floor(Math.random()*4)] + &#39;px&#39;,background:colors[Math.floor(Math.random()*12)]&#125;&quot;</span><br><span class="line">            :key&#x3D;&quot;index&quot;&gt;</span><br><span class="line">            &#123;&#123;item&#125;&#125;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">js</span><br><span class="line">data() &#123;</span><br><span class="line">        return &#123;</span><br><span class="line">            &#x2F;&#x2F;模拟随机高度</span><br><span class="line">            heights: [200, 250, 150, 300],</span><br><span class="line">            &#x2F;&#x2F;颜色尽量随机,区别每个模块</span><br><span class="line">            colors: [&#39;#eccf2c&#39;, &#39;#b8232c&#39;, &#39;#125d9e&#39;, &#39;#367945&#39;, &#39;#fca91b&#39;, &#39;#26ada7&#39;, &#39;#77bfbf&#39;, &#39;#ff5c87&#39;,</span><br><span class="line">                &#39;#f40&#39;, &#39;#ee2061&#39;, &#39;#feee39&#39;, &#39;#f5a79a&#39;, &#39;#ec70d0&#39;, &#39;#b4a1cf&#39;]</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">css</span><br><span class="line">.waterfall &#123;</span><br><span class="line">    width: 400px;</span><br><span class="line">    margin: 0 auto;</span><br><span class="line">    column-count: 3;</span><br><span class="line">    column-gap: 10px;</span><br><span class="line">&#125;</span><br><span class="line">.waterfall &gt; div &#123;</span><br><span class="line">    break-inside: avoid;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h3 id="pointer-events属性"><a href="#pointer-events属性" class="headerlink" title="pointer-events属性"></a>pointer-events属性</h3><p>pointer-events是css3的一个属性，指定在什么情况下元素可以成为鼠标事件的target（包括鼠标的样式）</p>
<p>属性值：</p>
<ul>
<li>auto——效果和没有定义pointer-events属性相同，鼠标不会穿透当前层。在SVG中，该值和visiblePainted的效果相同。</li>
<li>none——元素永远不会成为鼠标事件的<a href="https://developer.mozilla.org/en-US/docs/Web/API/event.target" target="_blank" rel="noopener">target</a>（目标）。但是，当其后代元素的<code>pointer-events</code>属性指定其他值时，鼠标事件可以指向后代元素，在这种情况下，鼠标事件将在捕获或冒泡阶段触发父元素的事件侦听器。实际上默  认就可以穿透当前层，因为pointer-events默认为auto</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">案例一：禁用 a 标签事件效果</span><br><span class="line"></span><br><span class="line">在做 tab 切换的时候，当选中当前项，禁用当前标签的事件，只有切换其他 tab 的时候，才重新请求新的数据。</span><br><span class="line"></span><br><span class="line"> &lt;!--CSS--&gt;</span><br><span class="line"> &lt;style&gt;</span><br><span class="line">     .active&#123;</span><br><span class="line">         pointer-events: none;</span><br><span class="line">     &#125;</span><br><span class="line"> &lt;&#x2F;style&gt;</span><br><span class="line"> &lt;!--HTML--&gt;</span><br><span class="line"> &lt;ul&gt;</span><br><span class="line">     &lt;li&gt;&lt;a class&#x3D;&quot;tab&quot;&gt;&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;</span><br><span class="line">     &lt;li&gt;&lt;a class&#x3D;&quot;tab active&quot;&gt;&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;</span><br><span class="line">     &lt;li&gt;&lt;a class&#x3D;&quot;tab&quot;&gt;&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;</span><br><span class="line"> &lt;&#x2F;ul&gt;</span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">案例二：切换开&#x2F;关按钮状态</span><br><span class="line"></span><br><span class="line">点击提交按钮的时候，为了防止用户一直点击按钮，发送请求，当请求未返回结果之前，给按钮增加 pointer-events: none，可以防止这种情况，这种情况在业务中也十分常见。</span><br><span class="line"></span><br><span class="line"> &lt;!--CSS--&gt;</span><br><span class="line">.j-pro&#123; pointer-events: none; &#125;</span><br><span class="line">&lt;!--HTML--&gt;</span><br><span class="line">&lt;button r-model&#x3D;&#123;this.submit()&#125; r-class&#x3D;&#123;&quot;j-pro&quot;: flag&#125;&gt;提交&lt;&#x2F;button&gt;</span><br><span class="line">&lt;!--JS--&gt;</span><br><span class="line">submit: function()&#123;</span><br><span class="line">　　this.data.flag &#x3D; true;</span><br><span class="line">　　this.$request(url, &#123;</span><br><span class="line">　　　　&#x2F;&#x2F; ... onload: function(json)&#123;</span><br><span class="line">　　　　　　　　if(json.retCode &#x3D;&#x3D; 200)&#123;</span><br><span class="line">　　　　　　　　　　this.data.flag &#x3D; false;</span><br><span class="line">　　　　　　　　&#125; &#125;.bind(this)</span><br><span class="line">　　　　&#x2F;&#x2F; ...</span><br><span class="line">　　&#125;);</span><br><span class="line">&#125;</span><br><span class="line">案例三：防止透明元素和可点击元素重叠不能点击</span><br><span class="line"></span><br><span class="line">一些内容的展示区域，为了实现一些好看的 css 效果，当元素上方有其他元素遮盖，为了不影响下方元素的事件，给被遮盖的元素增加 pointer-events: none; 可以解决。</span><br><span class="line"></span><br><span class="line"> &lt;!--CSS--&gt;</span><br><span class="line">.layer&#123; backround: linear-gradient(180deg, #fff, transparent); &#125;</span><br><span class="line">.j-pro&#123; poninter-events: none; &#125;</span><br><span class="line">&lt;!--HTML--&gt;</span><br><span class="line">&lt;ul&gt;</span><br><span class="line">　　&lt;li class&#x3D;&quot;layer j-pro&quot;&gt;&lt;&#x2F;li&gt;</span><br><span class="line">　　&lt;li class&#x3D;&quot;item&quot;&gt;&lt;&#x2F;li&gt;</span><br><span class="line">　　&lt;li class&#x3D;&quot;item&quot;&gt;&lt;&#x2F;li&gt;</span><br><span class="line">　　&lt;li class&#x3D;&quot;item&quot;&gt;&lt;&#x2F;li&gt;</span><br><span class="line">&lt;&#x2F;ul&gt;</span><br><span class="line">参考</span><br></pre></td></tr></table></figure>





<h3 id="通过background-linear-gradient写矩形边角"><a href="#通过background-linear-gradient写矩形边角" class="headerlink" title="通过background:linear-gradient写矩形边角"></a>通过background:linear-gradient写矩形边角</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">.rect &#123;</span><br><span class="line">    position: absolute;</span><br><span class="line">    width: 200px;</span><br><span class="line">    height: 200px;</span><br><span class="line">    background:</span><br><span class="line">    linear-gradient(to left, red, red) left top no-repeat,</span><br><span class="line">        linear-gradient(to bottom, red, red) left top no-repeat,</span><br><span class="line">        linear-gradient(to left, red, red) right top no-repeat,</span><br><span class="line">        linear-gradient(to bottom, red, red) right top no-repeat,</span><br><span class="line">        linear-gradient(to left, red, red) left bottom no-repeat,</span><br><span class="line">        linear-gradient(to bottom, red, red) left bottom no-repeat,</span><br><span class="line">        linear-gradient(to left, red, red) right bottom no-repeat,</span><br><span class="line">        linear-gradient(to left, red, red) right bottom no-repeat;</span><br><span class="line">    background-size: 10px 40px, 40px 10px, 10px 40px, 40px 10px;</span><br><span class="line">    background-color: #00ff00;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">scss的混合宏封装</span><br><span class="line">@mixin four-corner($color,$width,$height,$bgcolor)&#123;</span><br><span class="line">    background: linear-gradient(to left, $color, $color) left top no-repeat,</span><br><span class="line">        linear-gradient(to bottom, $color, $color) left top no-repeat,</span><br><span class="line">        linear-gradient(to left, $color, $color) right top no-repeat,</span><br><span class="line">        linear-gradient(to bottom, $color, $color) right top no-repeat,</span><br><span class="line">        linear-gradient(to left, $color, $color) left bottom no-repeat,</span><br><span class="line">        linear-gradient(to bottom, $color, $color) left bottom no-repeat,</span><br><span class="line">        linear-gradient(to left, $color, $color) right bottom no-repeat,</span><br><span class="line">        linear-gradient(to left, $color, $color) right bottom no-repeat;</span><br><span class="line">    background-size: $height $width, $width $height, $height $width, $width $height;</span><br><span class="line">    background-color: $bgcolor;</span><br><span class="line">&#125;</span><br><span class="line">.rect &#123;</span><br><span class="line">     @include four-corner(red,40px,10px,#00ff00);</span><br><span class="line">    position: absolute;</span><br><span class="line">    width: 200px;</span><br><span class="line">    height: 200px;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="滚动条知识"><a href="#滚动条知识" class="headerlink" title="滚动条知识"></a>滚动条知识</h3><p>webkit内核的浏览器的滚动条的组成</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">1. ::-webkit-scrollbar                滚动条整体部分</span><br><span class="line">2. ::-webkit-scrollbar-thumb          滚动条里面的小方块，能向上向下移动（或向左向右移动）</span><br><span class="line">3. ::-webkit-scrollbar-track          滚动条的轨道（里面装有Thumb）</span><br><span class="line">4. ::-webkit-scrollbar-button         滚动条的轨道的两端按钮，由于通过点击微调小方块的位置。</span><br><span class="line">5. ::-webkit-scrollbar-track-piece    内层轨道，滚动条中间部分&#x2F;滚动条没有滑块的轨道部分</span><br><span class="line">6. ::-webkit-scrollbar-corner         边角，即垂直滚动条和水平滚动条相交的地方</span><br><span class="line">7. ::-webkit-resizer                  两个滚动条的交汇处上用于拖动调整元素大小的小控件</span><br></pre></td></tr></table></figure>

<p>　图例：</p>
<p>　<img src="https://images2018.cnblogs.com/blog/1245775/201805/1245775-20180523165030020-1621196585.png" alt="img"></p>
<h3 id="滚动条的样式"><a href="#滚动条的样式" class="headerlink" title="滚动条的样式"></a>滚动条的样式</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">在app.vue中</span><br><span class="line"></span><br><span class="line">::-webkit-scrollbar &#123;</span><br><span class="line">    width: 20px;&#x2F;&#x2F;竖直方向的宽度，高度自适应</span><br><span class="line">    height: 20px;&#x2F;&#x2F;水平方向的高度，宽度自适应</span><br><span class="line">&#125;</span><br><span class="line">::-webkit-scrollbar-thumb &#123;</span><br><span class="line">    border-radius: 20px;</span><br><span class="line">    background:blue;</span><br><span class="line">&#125;</span><br><span class="line">::-webkit-scrollbar-track &#123;</span><br><span class="line">    border-radius: 0;</span><br><span class="line">    background:green;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="transition-通过它简单控制css属性的动画效果"><a href="#transition-通过它简单控制css属性的动画效果" class="headerlink" title="transition(通过它简单控制css属性的动画效果)"></a>transition(通过它简单控制css属性的动画效果)</h3><p>transition: <em>property duration timing-function delay</em>;</p>
<table>
<thead>
<tr>
<th align="left">值</th>
<th align="center">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><em><a href="https://www.runoob.com/cssref/css3-pr-transition-property.html" target="_blank" rel="noopener">transition-property</a></em></td>
<td align="center">指定CSS属性的name，transition效果</td>
</tr>
<tr>
<td align="left"><em><a href="https://www.runoob.com/cssref/css3-pr-transition-duration.html" target="_blank" rel="noopener">transition-duration</a></em></td>
<td align="center">transition效果需要指定多少秒或毫秒才能完成</td>
</tr>
<tr>
<td align="left"><em><a href="https://www.runoob.com/cssref/css3-pr-transition-timing-function.html" target="_blank" rel="noopener">transition-timing-function</a></em></td>
<td align="center">指定transition效果的转速曲线</td>
</tr>
<tr>
<td align="left"><em><a href="https://www.runoob.com/cssref/css3-pr-transition-delay.html" target="_blank" rel="noopener">transition-delay</a></em></td>
<td align="center">定义transition效果开始的时候</td>
</tr>
</tbody></table>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">.search&#123;</span><br><span class="line">    width:80px;</span><br><span class="line">    height:40px;</span><br><span class="line">    border-radius:40px;</span><br><span class="line">    border:2px solid lightblue;</span><br><span class="line">    position: absolute;</span><br><span class="line">    right:200px;</span><br><span class="line">    outline:none;</span><br><span class="line">    text-indent:12px;</span><br><span class="line">    color:#666;</span><br><span class="line">    font-size:16px;</span><br><span class="line">    padding:0;</span><br><span class="line">    -webkit-transition:width 5s;</span><br><span class="line">    -webkit-transition:height 5s;</span><br><span class="line">    -webkit-transition:background-color 5s;</span><br><span class="line">    -webkit-transition:color 5s;</span><br><span class="line">    -webkit-transition:opacity 5s;</span><br><span class="line">&#125;</span><br><span class="line">.search:focus&#123;</span><br><span class="line">    width:200px;</span><br><span class="line">    height: 100px;</span><br><span class="line">    background: red;</span><br><span class="line">    color:blue;</span><br><span class="line">    opacity: 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="伪元素和伪类"><a href="#伪元素和伪类" class="headerlink" title="伪元素和伪类"></a>伪元素和伪类</h3><p>其中伪类和伪元素的根本区别在于：<strong>它们是否创造了新的元素。</strong></p>
<p>伪元素选择符<br><img src="https://img-blog.csdnimg.cn/2019052717580919.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI3Njc0NDM5,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>伪类：存在DOM文档中，逻辑上存在但在文档树中却无须标识的“幽灵”分类。</p>
<p>伪类选择符</p>
<p><img src="https://img-blog.csdnimg.cn/20190527175840224.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI3Njc0NDM5,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<h3 id="输入框光标的颜色"><a href="#输入框光标的颜色" class="headerlink" title="输入框光标的颜色"></a>输入框光标的颜色</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">caret-color: red;</span><br></pre></td></tr></table></figure>



<h3 id="max-min"><a href="#max-min" class="headerlink" title="max() / min()"></a>max() / min()</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">width: max(50vw, 300px);</span><br><span class="line">width: min(50vw, 300px);</span><br><span class="line">font-size:min(50vw, 300px);</span><br></pre></td></tr></table></figure>



<h3 id="clamp-在定义的-三个值之间，取大小在中间的那个值"><a href="#clamp-在定义的-三个值之间，取大小在中间的那个值" class="headerlink" title="clamp() [在定义的 三个值之间，取大小在中间的那个值]"></a>clamp() [在定义的 三个值之间，取大小在中间的那个值]</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">font-size: clamp(1px, 3px, 2px);    &#x2F;&#x2F;中间值为2px</span><br><span class="line">width: clamp(200rem, 25vw, 150px); &#x2F;&#x2F;在这三个之间取中间值</span><br></pre></td></tr></table></figure>



<h3 id="卡券效果制作"><a href="#卡券效果制作" class="headerlink" title="卡券效果制作"></a>卡券效果制作</h3><p><img src="/2020/10/29/vue%E4%B9%8Bseekcy%E5%BC%80%E5%8F%91%E5%8E%86%E7%A8%8B%E8%AE%B0%E5%BD%951/image-20210311153400216.png" alt="image-20210311153400216"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&lt;p class&#x3D;&quot;coupon&quot;&gt;</span><br><span class="line"> &lt;span&gt;200&lt;&#x2F;span&gt;优惠券</span><br><span class="line">&lt;&#x2F;p&gt;</span><br><span class="line"></span><br><span class="line">.coupon &#123;</span><br><span class="line"> width: 300px;</span><br><span class="line">  height: 100px;</span><br><span class="line">  line-height: 100px;</span><br><span class="line">  margin: 50px auto;</span><br><span class="line">  text-align: center;</span><br><span class="line">  position: relative;</span><br><span class="line">  background: radial-gradient(circle at right bottom, transparent 10px, #ffffff 0) top right &#x2F;50% 51px no-repeat,</span><br><span class="line">  radial-gradient(circle at left bottom, transparent 10px, #ffffff 0) top left &#x2F; 50% 51px no-repeat,</span><br><span class="line">  radial-gradient(circle at right top, transparent 10px, #ffffff 0) bottom right &#x2F; 50% 51px no-repeat,</span><br><span class="line">  radial-gradient(circle at left top, transparent 10px, #ffffff 0) bottom left &#x2F; 50% 51px no-repeat;</span><br><span class="line">  filter: drop-shadow(2px 2px 2px rgba(0, 0, 0, .2));</span><br><span class="line">&#125;</span><br><span class="line">.coupon span &#123;</span><br><span class="line">  display: inline-block;</span><br><span class="line">  vertical-align: middle;</span><br><span class="line">  margin-right: 10px;</span><br><span class="line">  color: red;</span><br><span class="line">  font-size: 50px;</span><br><span class="line">  font-weight: 400;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="/2020/10/29/vue%E4%B9%8Bseekcy%E5%BC%80%E5%8F%91%E5%8E%86%E7%A8%8B%E8%AE%B0%E5%BD%951/image-20210311154859537.png" alt="image-20210311154859537"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"> &lt;div class&#x3D;&quot;quan clear&quot;&gt;</span><br><span class="line">            &lt;div class&#x3D;&quot;quanLeft&quot;&gt;</span><br><span class="line">                &lt;p class&#x3D;&quot;money&quot;&gt;¥ 10&lt;&#x2F;p&gt;</span><br><span class="line">                &lt;p class&#x3D;&quot;tit&quot;&gt;美味立享折扣券&lt;&#x2F;p&gt;</span><br><span class="line">                &lt;p class&#x3D;&quot;conts&quot;&gt;无满额限制,立减折扣&lt;&#x2F;p&gt;</span><br><span class="line">                &lt;p class&#x3D;&quot;dates&quot;&gt;有效期: 2018.8.12 - 2019.8.12&lt;&#x2F;p&gt;</span><br><span class="line">            &lt;&#x2F;div&gt;</span><br><span class="line">            &lt;div class&#x3D;&quot;quanRight&quot;&gt;</span><br><span class="line">                &lt;p class&#x3D;&quot;ft&quot;&gt;折扣券&lt;&#x2F;p&gt; </span><br><span class="line">                &lt;p class&#x3D;&quot;sd&quot;&gt;官网使用&lt;&#x2F;p&gt;</span><br><span class="line">            &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line"></span><br><span class="line"> .quan&#123;</span><br><span class="line">            position: relative;</span><br><span class="line">            width: 96%;</span><br><span class="line">            margin: 5% auto;</span><br><span class="line">            padding: 6px;</span><br><span class="line">            padding-right:0;</span><br><span class="line">            box-sizing: border-box;</span><br><span class="line">            background-color: #ff6347;</span><br><span class="line">            color: #fff;</span><br><span class="line">            background-image: radial-gradient(#fff 35%,#ff6374 35%);</span><br><span class="line">            background-size: 17px 17px;</span><br><span class="line">            background-position: -9px 0;</span><br><span class="line">            background-repeat: repeat-y</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>

<p>其他形状</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">#egg &#123;</span><br><span class="line">    width: 136px;</span><br><span class="line">    height: 190px;</span><br><span class="line">    background: #ffc000;</span><br><span class="line">    display: block;</span><br><span class="line">    -webkit-border-radius: 63px 63px 63px 63px &#x2F; 108px 108px 72px 72px;</span><br><span class="line">    border-radius: 50% 50% 50% 50% &#x2F; 60% 60% 40% 40%;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="/2020/10/29/vue%E4%B9%8Bseekcy%E5%BC%80%E5%8F%91%E5%8E%86%E7%A8%8B%E8%AE%B0%E5%BD%951/image-20210401120037560.png" alt="image-20210401120037560"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">#pacman &#123;</span><br><span class="line">    width: 0;</span><br><span class="line">    height: 0;</span><br><span class="line">    border-right: 70px solid transparent;</span><br><span class="line">    border-top: 70px solid #ffde00;</span><br><span class="line">    border-left: 70px solid #ffde00;</span><br><span class="line">    border-bottom: 70px solid #ffde00;</span><br><span class="line">    border-top-left-radius: 70px;</span><br><span class="line">    border-top-right-radius: 70px;</span><br><span class="line">    border-bottom-left-radius: 70px;</span><br><span class="line">    border-bottom-right-radius: 70px;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="/2020/10/29/vue%E4%B9%8Bseekcy%E5%BC%80%E5%8F%91%E5%8E%86%E7%A8%8B%E8%AE%B0%E5%BD%951/image-20210401120059153.png" alt="image-20210401120059153"></p>
<h3 id="故障风格的文字"><a href="#故障风格的文字" class="headerlink" title="故障风格的文字"></a>故障风格的文字</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;txt&quot; data-text&#x3D;&quot;我是故障风格的文字&quot;&gt;</span><br><span class="line">        我是故障风格的文字</span><br><span class="line">    &lt;&#x2F;div&gt;   </span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">body&#123;</span><br><span class="line">    height: 100vh;</span><br><span class="line">    display: flex;</span><br><span class="line">    justify-content: center;</span><br><span class="line">    align-items: center;</span><br><span class="line">    background: black;</span><br><span class="line">&#125;</span><br><span class="line">.txt&#123;</span><br><span class="line">    display: inline-block;</span><br><span class="line">    font-size: 65px;</span><br><span class="line">    font-weight: 600;</span><br><span class="line">    padding: 0 4px;</span><br><span class="line">    color: white;</span><br><span class="line">    position: relative;</span><br><span class="line">&#125;</span><br><span class="line">.txt::before&#123;</span><br><span class="line">    &#x2F;* 获取文本 *&#x2F;</span><br><span class="line">    content: attr(data-text);</span><br><span class="line">    position: absolute;</span><br><span class="line">    &#x2F;* 向左侧移2px *&#x2F;</span><br><span class="line">    left: -2px;</span><br><span class="line">    width: 100%;</span><br><span class="line">    &#x2F;* 将背景色设为与主背景同样的颜色，用于遮挡我们的标签元素 *&#x2F;</span><br><span class="line">    background: black;</span><br><span class="line">    &#x2F;* 给before伪元素的文本添加左侧2px大小的红色文字阴影 *&#x2F;</span><br><span class="line">    text-shadow:2px 0 red;</span><br><span class="line">    &#x2F;* 应用蒙版垂直变化动画，并一直循环 *&#x2F;</span><br><span class="line">    animation: animation-before 3s infinite linear alternate-reverse;</span><br><span class="line">&#125;</span><br><span class="line">.txt::after&#123;</span><br><span class="line">    &#x2F;* 获取文本 *&#x2F;</span><br><span class="line">    content: attr(data-text);</span><br><span class="line">    position: absolute;</span><br><span class="line">    &#x2F;* 向左侧移2px *&#x2F;</span><br><span class="line">    left: 2px;</span><br><span class="line">    width: 100%;</span><br><span class="line">    &#x2F;* 将背景色设为与主背景同样的颜色，用于遮挡我们的标签元素 *&#x2F;</span><br><span class="line">    background: black;</span><br><span class="line">    &#x2F;* 给before伪元素的文本添加右侧2px大小的蓝色文字阴影 *&#x2F;</span><br><span class="line">    text-shadow: -2px 0 blue;</span><br><span class="line">    &#x2F;* 应用蒙版垂直变化动画，并一直循环 *&#x2F;</span><br><span class="line">    animation: animation-after 3s infinite linear alternate-reverse;</span><br><span class="line">&#125;</span><br><span class="line">@keyframes animation-before&#123;</span><br><span class="line">    0% &#123;</span><br><span class="line">        clip-path: inset(0 0 0 0);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    5% &#123;</span><br><span class="line">        clip-path: inset(.8em 0 .4em 0);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    10% &#123;</span><br><span class="line">        clip-path: inset(.4em 0 .8em 0);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    15% &#123;</span><br><span class="line">        clip-path: inset(.1em 0 1em 0);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    20% &#123;</span><br><span class="line">        clip-path: inset(.3em 0 .6em 0);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    25% &#123;</span><br><span class="line">        clip-path: inset(.6em 0 .3em 0);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    30% &#123;</span><br><span class="line">        clip-path: inset(.8em 0 .5em 0);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    35% &#123;</span><br><span class="line">        clip-path: inset(1em 0 .1em 0);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    40% &#123;</span><br><span class="line">        clip-path: inset(.7em 0 .35em 0);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    45% &#123;</span><br><span class="line">        clip-path: inset(.5em 0 .2em 0);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    50% &#123;</span><br><span class="line">        clip-path: inset(.2em 0 .5em 0);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    55% &#123;</span><br><span class="line">        clip-path: inset(.35em 0 .7em 0);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    60% &#123;</span><br><span class="line">        clip-path: inset(.1em 0 .9em 0);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    65% &#123;</span><br><span class="line">        clip-path: inset(.8em 0 .46em 0);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    70% &#123;</span><br><span class="line">        clip-path: inset(.66em 0 .33em 0);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    75% &#123;</span><br><span class="line">        clip-path: inset(.48em 0 .23em 0);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    80% &#123;</span><br><span class="line">        clip-path: inset(.23em 0 .48em 0);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    85% &#123;</span><br><span class="line">        clip-path: inset(.39em 0 .79em 0);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    90% &#123;</span><br><span class="line">        clip-path: inset(.33em 0 .66em 0);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    95% &#123;</span><br><span class="line">        clip-path: inset(1em 0 .3em 0);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    100% &#123;</span><br><span class="line">        clip-path: inset(.62em 0 .29em 0);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">@keyframes animation-after&#123;</span><br><span class="line">    0% &#123;</span><br><span class="line">        clip-path: inset(0 0 0 0);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    5% &#123;</span><br><span class="line">        clip-path: inset(.4em 0 .8em 0);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    10% &#123;</span><br><span class="line">        clip-path: inset(.8em 0 .4em 0);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    15% &#123;</span><br><span class="line">        clip-path: inset(1em 0 .1em 0);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    20% &#123;</span><br><span class="line">        clip-path: inset(.6em 0 .3em 0);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    25% &#123;</span><br><span class="line">        clip-path: inset(.3em 0 .6em 0);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    30% &#123;</span><br><span class="line">        clip-path: inset(.5em 0 .8em 0);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    35% &#123;</span><br><span class="line">        clip-path: inset(.1em 0 1em 0);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    40% &#123;</span><br><span class="line">        clip-path: inset(.35em 0 .7em 0);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    45% &#123;</span><br><span class="line">        clip-path: inset(.2em 0 .5em 0);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    50% &#123;</span><br><span class="line">        clip-path: inset(.5em 0 .2em 0);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    55% &#123;</span><br><span class="line">        clip-path: inset(.7em 0 .35em 0);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    60% &#123;</span><br><span class="line">        clip-path: inset(.9em 0 .1em 0);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    65% &#123;</span><br><span class="line">        clip-path: inset(.46em 0 .8em 0);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    70% &#123;</span><br><span class="line">        clip-path: inset(.3em 0 .66em 0);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    75% &#123;</span><br><span class="line">        clip-path: inset(.23em 0 .48em 0);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    80% &#123;</span><br><span class="line">        clip-path: inset(.48em 0 .23em 0);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    85% &#123;</span><br><span class="line">        clip-path: inset(.79em 0 .39em 0);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    90% &#123;</span><br><span class="line">        clip-path: inset(.66em 0 .33em 0);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    95% &#123;</span><br><span class="line">        clip-path: inset(.3em 0 1em 0);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    100% &#123;</span><br><span class="line">        clip-path: inset(.29em 0 .62em 0);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<h3 id="评分组件"><a href="#评分组件" class="headerlink" title="评分组件"></a>评分组件</h3><p>可以引用现在组件，例如elementui，也可以自己做一个，自己做参考以下链接</p>
<p><a href="https://mp.weixin.qq.com/s/ZyWoQ5G80NZWhX4VHGTtLg" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/ZyWoQ5G80NZWhX4VHGTtLg</a></p>
<h3 id="font-display-swap"><a href="#font-display-swap" class="headerlink" title="font-display: swap;"></a>font-display: swap;</h3><p>阻塞阶段时间为 <code>0</code>，交换阶段时间无限大。也就是说，浏览器会立即绘制文字，一旦字体加载成功，立即切换字体。</p>
<h3 id="给透明png或者是气泡框等奇葩图形加阴影–filter-drop-shadow"><a href="#给透明png或者是气泡框等奇葩图形加阴影–filter-drop-shadow" class="headerlink" title="给透明png或者是气泡框等奇葩图形加阴影–filter:drop-shadow"></a>给透明png或者是气泡框等奇葩图形加阴影–filter:drop-shadow</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;filter:drop-shadow(0 4px 2px rgba(0,0,0,.4));&#125;</span><br></pre></td></tr></table></figure>



<h3 id="scroll-behavior-smooth-让滚动更流畅"><a href="#scroll-behavior-smooth-让滚动更流畅" class="headerlink" title="scroll-behavior:smooth;让滚动更流畅"></a>scroll-behavior:smooth;让滚动更流畅</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">html &#123;</span><br><span class="line">    scroll-behavior:smooth;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://mmbiz.qpic.cn/mmbiz_gif/QRibyjewM1ID6g2zVJH814ia5VKJZDQSO3T8A5ZchEybDj8BAXDyYCxfJib2MpkNzQoa0z7wcxYicOIR7AtnxicNXEg/640?wx_fmt=gif&tp=webp&wxfrom=5&wx_lazy=1" alt="图片"></p>
<h3 id="content-visibility跳过屏幕外的内容渲染"><a href="#content-visibility跳过屏幕外的内容渲染" class="headerlink" title="content-visibility跳过屏幕外的内容渲染"></a>content-visibility跳过屏幕外的内容渲染</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">.card &#123;</span><br><span class="line">    content-visibility: auto;</span><br><span class="line">    contain-intrinsic-size: 200px;&#x2F;&#x2F;影响滚动条的计算，遂加上默认高度</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="will-change"><a href="#will-change" class="headerlink" title="will-change"></a>will-change</h3><p>表示该元素在未来会发生变化。</p>
<p>Web动画（在动的元素）是和其他元素一起定期渲染的，以往在动画开发时，会使用CSS的3D变换（<code>transform</code>中的<code>translate3d()</code>或<code>translateZ()</code>）来开启GPU加速，让动画变得更流畅，但这样做是一种黑魔法，会将元素和它的上下文提到另一个“层”，独立于其他元素被渲染。可这种将元素提取到一个新层，相对来说代价也是昂贵的，这可能会使<code>transform</code>动画延迟几百毫秒。</p>
<p>不过，现在我可以不使用<code>transform</code>这样的Hack手段来开启GPU加速，可以直接使用CSS的<code>will-change</code>属性，该属性可以表明元素将修改特定的属性，让浏览器事先进行必要的优化。也就是说，<code>will-change</code>是一个UA提示，它不会对你使用它的元素产生任何样式上的影响。但值得注意的是，如果创建了新的层叠上下文，它可以产生外观效果。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">将will-change和动画同时使用，它将不会给你带来优化。因此，建议在父元素上使用will-change，在子元素上使用动画。</span><br><span class="line"></span><br><span class="line">.animate-element-parent &#123;</span><br><span class="line">    will-change: opacity;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.animate-element &#123;</span><br><span class="line">    transition: opacity .2s linear</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="postcss-px-to-viewport实现移动端字体宽高大小自适应"><a href="#postcss-px-to-viewport实现移动端字体宽高大小自适应" class="headerlink" title="postcss-px-to-viewport实现移动端字体宽高大小自适应"></a>postcss-px-to-viewport实现移动端字体宽高大小自适应</h3><p>借助postcss-px-to-viewport插件转换成vw单位</p>
<h3 id="CSS实现字母大小写转换"><a href="#CSS实现字母大小写转换" class="headerlink" title="CSS实现字母大小写转换"></a>CSS实现字母大小写转换</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">p &#123;text-transform: uppercase&#125;  &#x2F;&#x2F; 将所有字母变成大写字母</span><br><span class="line">p &#123;text-transform: lowercase&#125;  &#x2F;&#x2F; 将所有字母变成小写字母</span><br><span class="line">p &#123;text-transform: capitalize&#125; &#x2F;&#x2F; 首字母大写</span><br><span class="line">p &#123;font-variant: small-caps&#125;   &#x2F;&#x2F; 将字体变成小型的大写字母</span><br></pre></td></tr></table></figure>

<h3 id="识别v-html的-n并换行"><a href="#识别v-html的-n并换行" class="headerlink" title="识别v-html的\n并换行"></a>识别v-html的\n并换行</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">body &#123;</span><br><span class="line">   white-space: pre-line;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="CSS选取第N个标签元素"><a href="#CSS选取第N个标签元素" class="headerlink" title="CSS选取第N个标签元素"></a><strong>CSS选取第N个标签元素</strong></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">first-child  表示选择列表中的第一个标签。</span><br><span class="line">last-child表示选择列表中的最后一个标签</span><br><span class="line">nth-child(3) 表示选择列表中的第 3 个标签</span><br><span class="line">nth-child(2n) ）这个表示选择列表中的偶数标签</span><br><span class="line">第n个孩子nth-child(2n-1)这个表示选择列表中的奇数标签</span><br><span class="line">第n个孩子nth-child(n + 3)这个表示选择列表中的标签从第3个开始到最后，包含第3个。</span><br><span class="line">nth-child(-n+3) 这个表示选择列表中的倒数第 3 个标签，即小于等于第 3 个的标签。</span><br><span class="line">nth-last-child(3) 表示这个选择列表中的倒数第 3 个标签。</span><br></pre></td></tr></table></figure>

<h3 id="移动端软键盘变搜索方式"><a href="#移动端软键盘变搜索方式" class="headerlink" title="移动端软键盘变搜索方式"></a><strong>移动端软键盘变搜索方式</strong></h3><p>默认情况下软键盘上该键位为或确认等文字，要改为搜索文字，需要在输入上加上类型声明：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;form action&#x3D;&quot;#&quot;&gt;</span><br><span class="line">    &lt;input type&#x3D;&quot;search&quot; placeholder&#x3D;&quot;请输入...&quot; name&#x3D;&quot;search&quot; &#x2F;&gt;</span><br><span class="line">&lt;&#x2F;form&gt;</span><br></pre></td></tr></table></figure>



<h3 id="CSS-实现-10-种现代布局"><a href="#CSS-实现-10-种现代布局" class="headerlink" title="CSS 实现 10 种现代布局"></a>CSS 实现 10 种现代布局</h3><h4 id="01-超级居中：place-items-center"><a href="#01-超级居中：place-items-center" class="headerlink" title="01. 超级居中：place-items: center"></a>01. 超级居中：place-items: center</h4><p><img src="https://mmbiz.qpic.cn/mmbiz_gif/meG6Vo0MevjHibKAlR5lU2mBVoku5ueQlhky9YhOfQkIsdIXPibDicOxfrc3FnsBTCUyjFJpTh72CV2lkeSicQibL1w/640?wx_fmt=gif&wxfrom=5&wx_lazy=1" alt="图片"></p>
<p>对于第一个“单行”布局，让我们解决所有 CSS 领域中最大的谜团：居中。我想让您知道，使用 place-items: center 会让此操作比您想象的容易。</p>
<p>首先指定 grid 作为 display 方法，然后在同一个元素上写入 place-items: center。place-items 是同时设置 align-items 和 justify-items 的快速方法。通过将其设置为 center ， align-items 和 justify-items 都将设置为 center。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">.parent &#123;</span><br><span class="line">  display: grid;</span><br><span class="line">  place-items: center;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这使得内容能够在父级内完美居中，而不管内部大小。</p>
<h4 id="02-解构煎饼式布局：flex-lt-grow-gt-lt-shrink-gt-lt-baseWidth-gt"><a href="#02-解构煎饼式布局：flex-lt-grow-gt-lt-shrink-gt-lt-baseWidth-gt" class="headerlink" title="02. 解构煎饼式布局：flex: &lt;grow&gt; &lt;shrink&gt; &lt;baseWidth&gt;"></a>02. 解构煎饼式布局：flex: <code>&lt;grow&gt;</code> <code>&lt;shrink&gt;</code> <code>&lt;baseWidth&gt;</code></h4><p><img src="https://mmbiz.qpic.cn/mmbiz_gif/lgHVurTfTcyxmRjdKcuADSULxn59Eibxjbg9hCpE0kTzG7hwCqNGUrWSMZRxomMVCHqVXS8RX7ic9gxdib4RVp8EQ/640?wx_fmt=gif&wxfrom=5&wx_lazy=1" alt="图片"></p>
<p>接下来我们有解构的煎饼！这是营销网站的常见布局，例如，可能有一行 3 个项目，通常带有图像、标题，然后是一些描述产品某些功能的文本。在移动设备上，我们希望它们能够很好地堆叠，并随着我们增加屏幕尺寸而扩展。</p>
<p>通过使用 Flexbox 实现此效果，您不需要在屏幕尺寸发生变化时通过媒体查询来调整这些元素的位置。</p>
<p>flex 简写代表：flex: <code>&lt;flex-grow&gt;</code> <code>&lt;flex-shrink&gt;</code> <code>&lt;flex-basis&gt;</code> 。</p>
<p>正因为如此，如果您想让您的框填充到它们的 <code>&lt;flex-basis&gt;</code> 大小，缩小到更小的尺寸，但不拉伸以填充任何额外的空间，请写入：flex: 0 1 <code>&lt;flex-basis&gt;</code> 。在这种情况下，您的 <code>&lt;flex-basis&gt;</code> 是 150px，所以应该是这样：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">.parent &#123;</span><br><span class="line">  display: flex;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.child &#123;</span><br><span class="line">  flex: 0 1 150px;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>如果您确实希望框在换到下一行时拉伸并填充空间，请将 <code>&lt;flex-grow&gt;</code> 设置为 1 ，所以应该是这样：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">.parent &#123;</span><br><span class="line">  display: flex;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.child &#123;</span><br><span class="line">  flex: 1 1 150px;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://mmbiz.qpic.cn/mmbiz_gif/meG6Vo0MevjHibKAlR5lU2mBVoku5ueQlhSEKaf25dZzOEapiaIdkkrtM3U7238lwxEwFWdBaysuiaPJ5YlB87vbQ/640?wx_fmt=gif&wxfrom=5&wx_lazy=1" alt="图片"></p>
<p>现在，当您增加或减少屏幕尺寸时，这些 flex 项目会缩小和增长。</p>
<h4 id="03-侧边栏布局：grid-template-columns-minmax-lt-min-gt-lt-max-gt-…"><a href="#03-侧边栏布局：grid-template-columns-minmax-lt-min-gt-lt-max-gt-…" class="headerlink" title="03. 侧边栏布局：grid-template-columns: minmax(&lt;min&gt;, &lt;max&gt;) …)"></a>03. 侧边栏布局：grid-template-columns: minmax(<code>&lt;min&gt;</code>, <code>&lt;max&gt;</code>) …)</h4><p><img src="https://mmbiz.qpic.cn/mmbiz_gif/meG6Vo0MevjHibKAlR5lU2mBVoku5ueQl7Dgtd73l8Xw127ZUrmGUGon9dfAkQqIFLbib0jzdoP7ticHCHMlU69Zg/640?wx_fmt=gif&wxfrom=5&wx_lazy=1" alt="图片"></p>
<p>此演示对网格布局利用了 minmax 函数。我们在这里做的是将最小侧边栏大小设置为 150px ，但在更大的屏幕上，让它伸展出 25% 。侧边栏将始终占据其父级水平空间的 25%，直到 25% 变得小于 150px 。</p>
<p>将以下值添加为 grid-template-columns 的值：minmax(150px, 25%) 1fr 。在第一列（在这种情况下，侧边栏）的项目其 minmax 为 150px（在25% ），第二列项目（这里指 main 部分）占据其余的空间作为单一的 1fr 轨道。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">.parent &#123;</span><br><span class="line">  display: grid;</span><br><span class="line">  grid-template-columns: minmax(150px, 25%) 1fr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="04-煎饼堆栈布局：grid-template-rows-auto-1fr-auto"><a href="#04-煎饼堆栈布局：grid-template-rows-auto-1fr-auto" class="headerlink" title="04. 煎饼堆栈布局：grid-template-rows: auto 1fr auto"></a>04. 煎饼堆栈布局：grid-template-rows: auto 1fr auto</h4><p><img src="https://mmbiz.qpic.cn/mmbiz_gif/meG6Vo0MevjHibKAlR5lU2mBVoku5ueQl7ic2pYicv4RL9g0sGCmrdUqsFDwDMhoz3ltASX4zaDib9YFDziaOuQUYlw/640?wx_fmt=gif&wxfrom=5&wx_lazy=1" alt="图片"></p>
<p>与 Deconstructed Pancake 不同，当屏幕尺寸改变时，本例不会包含它的子元素。通常称为粘性页脚，这种布局通常用于网站和应用程序，跨多个移动应用程序（页脚通常是工具栏）和网站（单页应用程序通常使用这种全局布局）。</p>
<p>向组件添加 display: grid 将为您提供一个单列网格，但是主区域的高度将仅与页脚下方的内容一样高。</p>
<p>要使页脚粘在底部，请添加：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">.parent &#123;</span><br><span class="line">  display: grid;</span><br><span class="line">  grid-template-rows: auto 1fr auto;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>1fr页眉和页脚内容设置为自动采用其子项的大小，并将剩余空间 ( 1fr ) 应用于主区域，而auto调整大小的行将采用其子项的最小内容的大小，以便该内容大小增加，行本身将增长以进行调整。</p>
<h4 id="05-经典圣杯布局：grid-template-auto-1fr-auto-auto-1fr-auto"><a href="#05-经典圣杯布局：grid-template-auto-1fr-auto-auto-1fr-auto" class="headerlink" title="05. 经典圣杯布局：grid-template: auto 1fr auto / auto 1fr auto"></a>05. 经典圣杯布局：grid-template: auto 1fr auto / auto 1fr auto</h4><p><img src="https://mmbiz.qpic.cn/mmbiz_gif/meG6Vo0MevjHibKAlR5lU2mBVoku5ueQlYibdpaQrX29unZGuU9CvAbkclnTWGydX1xOz6Do1vG1bxYXcsyv3sBg/640?wx_fmt=gif&wxfrom=5&wx_lazy=1" alt="图片"></p>
<p>对于经典的圣杯布局，有页眉、页脚、左侧边栏、右侧边栏和主要内容。类似于以前的布局，但现在有侧边栏！</p>
<p>要使用一行代码编写整个网格，请使用 grid-template 属性。这使您可以同时设置行和列。</p>
<p>属性和值对为：grid-template: auto 1fr auto / auto 1fr auto 。第一个和第二个以空格分隔的列表之间的斜线是行和列之间的分隔符。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">.parent &#123;</span><br><span class="line">  display: grid;</span><br><span class="line">  grid-template: auto 1fr auto &#x2F; auto 1fr auto;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>与上一个示例一样，页眉和页脚具有自动调整大小的内容，这里的左侧和右侧边栏会根据其子项的固有大小自动调整大小。但是，这次是水平尺寸（宽度）而不是垂直尺寸（高度）。</p>
<h4 id="06-12-跨网格：grid-template-columns-repeat-12-1fr"><a href="#06-12-跨网格：grid-template-columns-repeat-12-1fr" class="headerlink" title="06. 12 跨网格：grid-template-columns: repeat(12, 1fr)"></a>06. 12 跨网格：grid-template-columns: repeat(12, 1fr)</h4><p><img src="https://mmbiz.qpic.cn/mmbiz_gif/meG6Vo0MevjHibKAlR5lU2mBVoku5ueQljoQAq3GX5GqhzGibzl8CJ8kJthZ8ECRmlzQeuNlqEkUgj2ia8EibYDIJw/640?wx_fmt=gif&wxfrom=5&wx_lazy=1" alt="图片">图片</p>
<p>接下来我们有另一个经典布局：12 跨网格。您可以使用 repeat() 函数在 CSS 中快速编写网格。对网格模板列使用 repeat(12, 1fr); 将为每个 1fr 提供 12 列。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">.parent &#123;</span><br><span class="line">  display: grid;</span><br><span class="line">  grid-template-columns: repeat(12, 1fr);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.child-span-12 &#123;</span><br><span class="line">  grid-column: 1 &#x2F; 13;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>现在您有一个 12 列的轨道网格，我们可以将子项放在网格上。一种方法是使用网格线放置它们。例如， grid-column: 1 / 13 将跨越从第一到最后一行（第 13 行）并跨越 12 列。grid-column: 1 / 5; 将跨越前四个列。</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_gif/meG6Vo0MevjHibKAlR5lU2mBVoku5ueQl6fZkiaicWAKj7ickq7icxhxlno0Q2Vq2WOmdorf2WlRX4SQiceOaNLbZLEQ/640?wx_fmt=gif&wxfrom=5&wx_lazy=1" alt="图片">图片</p>
<p>另一种方法是使用 span 关键字。使用 span ，您可以设置起始线，然后设置从该起点跨越的列数。在这种情况下，grid-column: 1 / span 12 将等效于 grid-column: 1 / 13 ，而 grid-column: 2 / span 6 将等效于 grid-column: 2 / 8 。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.child-span-12 &#123;</span><br><span class="line">  grid-column: 1 &#x2F; span 12;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="07-RAM-Repeat-Auto-MinMax-grid-template-columns-auto-fit-minmax-lt-base-gt-1fr"><a href="#07-RAM-Repeat-Auto-MinMax-grid-template-columns-auto-fit-minmax-lt-base-gt-1fr" class="headerlink" title="07. RAM (Repeat, Auto, MinMax): grid-template-columns(auto-fit, minmax(&lt;base&gt;, 1fr))"></a>07. RAM (Repeat, Auto, MinMax): grid-template-columns(auto-fit, minmax(<code>&lt;base&gt;</code>, 1fr))</h4><p><img src="https://mmbiz.qpic.cn/mmbiz_gif/lgHVurTfTcyxmRjdKcuADSULxn59EibxjeMWgOwWd8FPlxbIj4VoiaqzZ4EicQiay1hhOtKjXWFqLqUuvz5Mu0HUuw/640?wx_fmt=gif&wxfrom=5&wx_lazy=1" alt="图片"></p>
<p>对于这第七个示例，结合您已经了解的一些概念来创建具有自动放置且灵活的子项的响应式布局。漂亮整齐。这里要记住的关键点是 repeat 、 auto-(fit|fill) 和 minmax()’ ，可以记住它们的首字母缩写词 RAM。</p>
<p>总之，应是这样：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">.parent &#123;</span><br><span class="line">  display: grid;</span><br><span class="line">  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>您再次使用 repeat ，但这次使用 auto-fit 关键字而不是显式数值。这可以自动放置这些子元素。这些子元素的基本最小值为 150px ，最大值为 1fr ，这意味着在较小的屏幕上，它们将占据整个 1fr 宽度，当它们达到 150px 宽度时，它们将开始流到同一条线上。</p>
<p>使用 auto-fit ，当它们的水平尺寸超过 150px 时，框将拉伸以填充整个剩余空间。但是，如果您将其更改为 auto-fill ，则当超出 minmax 函数中的基本大小时，它们将不会拉伸：</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_gif/meG6Vo0MevjHibKAlR5lU2mBVoku5ueQlLNPjqGs1p83q9ATiaOleLkEqfmSEdibR5fjbufoFQv0QHDCoxxCQXibZA/640?wx_fmt=gif&wxfrom=5&wx_lazy=1" alt="图片">图片</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">.parent &#123;</span><br><span class="line">  display: grid;</span><br><span class="line">  grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="08-排列布局：justify-content-space-between"><a href="#08-排列布局：justify-content-space-between" class="headerlink" title="08. 排列布局：justify-content: space-between"></a>08. 排列布局：justify-content: space-between</h4><p><img src="https://mmbiz.qpic.cn/mmbiz_gif/meG6Vo0MevjHibKAlR5lU2mBVoku5ueQl22x19GPl77vpp03dNulzNSsOT14APjuQ7icich9mj4TEib9pVvvYC6lMw/640?wx_fmt=gif&wxfrom=5&wx_lazy=1" alt="图片">图片</p>
<p>对于下一个布局，这里要主要说明的是 justify-content: space-between ，它将第一个和最后一个子元素放置在其边界框的边缘，其余空间均匀分布在元素之间。对于这些卡片，它们被放置在 Flexbox 显示模式中，使用 flex-direction: column 将方向设置为 column。</p>
<p>这会将标题、描述和图像块放在父卡片内的垂直列中。然后，应用 justify-content: space-between 将第一个（标题）和最后一个（图像块）元素锚定到 flexbox 的边缘，并且它们之间的描述性文本以相等的间距放置到每个端点。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">.parent &#123;</span><br><span class="line">  display: flex;</span><br><span class="line">  flex-direction: column;</span><br><span class="line">  justify-content: space-between;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="09-保持我的风格：clamp-lt-min-gt-lt-actual-gt-lt-max-gt"><a href="#09-保持我的风格：clamp-lt-min-gt-lt-actual-gt-lt-max-gt" class="headerlink" title="09. 保持我的风格：clamp(&lt;min&gt;, &lt;actual&gt;, &lt;max&gt;)"></a>09. 保持我的风格：clamp(<code>&lt;min&gt;</code>, <code>&lt;actual&gt;</code>, <code>&lt;max&gt;</code>)</h4><p><img src="https://mmbiz.qpic.cn/mmbiz_gif/meG6Vo0MevjHibKAlR5lU2mBVoku5ueQl75ibETQib59MiaDIPS7CyhRibumwAwWClHHIWGRHgzGPo1Kcus5a1ibCmIg/640?wx_fmt=gif&wxfrom=5&wx_lazy=1" alt="图片">图片</p>
<p>这里，我们介绍一些只有少数浏览器支持的技术，但这些技术对布局和响应式 UI 设计有非常令人兴奋的影响。在本演示中，您将使用固定工具设置宽度，如下所示：width: clamp(<code>&lt;min&gt;</code>, <code>&lt;actual&gt;</code>, <code>&lt;max&gt;</code>) 。</p>
<p>这将设置绝对最小和最大尺寸以及实际尺寸。有了值，应该这样：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.parent &#123;</span><br><span class="line">  width: clamp(23ch, 60%, 46ch);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这里的最小尺寸是 23ch 或 23 个字符单元，最大尺寸是 46ch ，46 个字符。字符宽度单位基于元素的字体大小（特别是 0 字形的宽度）。“实际”尺寸为 50%，代表此元素父宽度的 50%。</p>
<p>在这里， clamp() 函数所做的是使该元素保持 50% 的宽度，直到 50% 大于 46ch （在较宽的视口上）或小于 23ch （在较小的视口上）。您可以看到，当我拉伸和收缩父尺寸时，这张卡片的宽度会增加到其最大限制点并减小到其限制最小点。然后它保持在父级的中心，因为我们已经应用了其他的属性来将它居中。这可以实现更清晰的布局，因为文本不会太宽（超过 46ch ）或太窄（小于 23ch ）。</p>
<p>这也是实现响应式排版的好方法。例如，您可以编写：font-size: clamp(1.5rem, 20vw, 3rem) 。在这种情况下，标题的字体大小将始终保持在 1.5rem 和 3rem 之间，但会根据 20vw 实际值增大和缩小以适应视口的宽度。</p>
<p>这是一种很好的技术，可以通过最小和最大尺寸值确保易读性，但请记住，并非所有现代浏览器都支持它，因此请确保您有回退措施并进行测试。</p>
<h4 id="10-保持宽高比：aspect-ratio-lt-width-gt-lt-height-gt"><a href="#10-保持宽高比：aspect-ratio-lt-width-gt-lt-height-gt" class="headerlink" title="10.保持宽高比：aspect-ratio: &lt;width&gt; / &lt;height&gt;"></a>10.保持宽高比：aspect-ratio: <code>&lt;width&gt;</code> / <code>&lt;height&gt;</code></h4><p><img src="https://mmbiz.qpic.cn/mmbiz_gif/meG6Vo0MevjHibKAlR5lU2mBVoku5ueQlLcPpYkqhIUhltDrh8QIqnl9M9lzFviaasmZWIoj9vCQfXWqvdNE8ibIQ/640?wx_fmt=gif&wxfrom=5&wx_lazy=1" alt="图片">图片</p>
<p>最后要介绍的这一布局工具是最具实验性的工具。它最近在 Chromium 84 中被引入 Chrome Canary，Firefox 正在积极努力实现这一点，但目前还没有任何稳定的浏览器版本。</p>
<p>不过，我确实想提及这一点，因为这是一个经常遇到的问题。这只是简单地保持图像的宽高比。</p>
<p>使用 aspect-ratio 属性，当我调整卡片大小时，绿色视觉块保持 16 x 9 的宽高比。我们通过 aspect-ratio: 16 / 9 保持此宽高比。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.video &#123;</span><br><span class="line">  aspect-ratio: 16 &#x2F; 9;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>要在没有此属性的情况下保持 16 x 9 的宽高比，需要使用 padding-top hack 并为其提供 56.25% 的 padding 以设置顶宽比。我们很快就会有一个属性来避免黑客攻击和计算百分比的需要。可以使用 1 / 1 的比例制作正方形，使用 2 / 1 制作 2:1 比例。可以设置任何图像缩放比例。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.square &#123;</span><br><span class="line">  aspect-ratio: 1 &#x2F; 1;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="HTML"><a href="#HTML" class="headerlink" title="HTML"></a>HTML</h2><h3 id="浏览器打开图片链接为什么有时候是预览有时候是下载"><a href="#浏览器打开图片链接为什么有时候是预览有时候是下载" class="headerlink" title="浏览器打开图片链接为什么有时候是预览有时候是下载"></a>浏览器打开图片链接为什么有时候是预览有时候是下载</h3><p>Content-Disposition 属性是作为对浏览器对下载文件的一个标识字段</p>
<p><strong>浏览器打开图片链接是直接预览还是下载取决于图片链接的响应头Content-Disposition的属性</strong></p>
<p>Content-Disposition 为 <code>inline</code>  在浏览器打开直接预览<br> Content-Disposition 为 <code>attachment</code>  在浏览器打开直接下载</p>
<h4 id="实际场景一"><a href="#实际场景一" class="headerlink" title="实际场景一"></a>实际场景一</h4><p>上面说到了，想让一个图片在浏览器预览（或下载），需要改<code>Content-Disposition</code>，但是很多情况下，静态资源的链接的服务的响应头不是我们能控制的，这个时候需要怎么处理呢？</p>
<p>如：阿里云的oss默认是下载的，除非绑定自定义域名，否则是改不了预览的。也就是默认添加了<br> <strong>Content-Disposition: attachment;…</strong></p>
<p>解：<br> 我们可以通过nginx反向代理阿里云的oss的地址，这样就可以在我们自己的nginx服务里面做处理了 nginx.conf 配置</p>
<figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">add_header <span class="string">"Content-Disposition"</span> <span class="string">"inline;filename=文件名.后缀"</span>;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>如果遇到了<strong>报错</strong>：<em>Multiple Content-Disposition*。 原因是因为阿里云oss已经配置了<code>Content-Disposition</code>响应头，这个时候需要先用 <code>proxy_hide_header</code> 隐藏掉原来的 *Content-Dispostion</em> ，再用 <code>add_header</code> 来添加新的。</p>
<figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">proxy_hide_header <span class="string">"Content-Disposition"</span>;</span><br><span class="line">add_header <span class="string">"Content-Disposition"</span> <span class="string">"inline;filename=文件名.后缀"</span>;</span><br><span class="line">proxy_pass http:<span class="comment">//这里是服务器地址:端口;</span></span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h4 id="实际场景二"><a href="#实际场景二" class="headerlink" title="实际场景二"></a>实际场景二</h4><p>同一个静态资源服务，实际开发中可能会有不同的，在A页面访问图片链接，需要直接在浏览器打开，但是在B页面访问图片链接需要让浏览器直接下载 那么其实我们只需要跟后端或者运维的小哥约定一下规则 同一个图片链接，通过query参数来判断是否需要在浏览器上直接预览 如： 访问可以直接在浏览器阅览 <a href="https://link.juejin.cn?target=http%3A%2F%2Flocalhost%3A7777%2Fimg.png%3Finline%3Dtrue">http://localhost:7777/img.png?inline=true</a></p>
<p>访问可以直接在浏览器下载<br> <a href="https://link.juejin.cn?target=http%3A%2F%2Flocalhost%3A7777%2Fimg.png%3Finline%3Dfalse">http://localhost:7777/img.png?inline=false</a><br> <a href="https://link.juejin.cn?target=http%3A%2F%2Flocalhost%3A7777%2Fimg.png">http://localhost:7777/img.png</a></p>
<p>至于具体如何根据<code>inline=true</code>去如何处理返回不同的响应头，就是后端小哥和运维小哥的活了<br> 一般会在nginx上做处理的，读取query参数(可通过lua拓展去读取)，然后add_header响应头</p>
<p>作者：超神熊猫<br>链接：<a href="https://juejin.cn/post/7177346491059535932" target="_blank" rel="noopener">https://juejin.cn/post/7177346491059535932</a><br>来源：稀土掘金<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>
<h3 id="加载动态图片失败的处理方案"><a href="#加载动态图片失败的处理方案" class="headerlink" title="加载动态图片失败的处理方案"></a>加载动态图片失败的处理方案</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;img</span><br><span class="line">                      v-if&#x3D;&quot;item.icon&quot;</span><br><span class="line">                      style&#x3D;&quot;width:100%;height: 100%;border:0&quot;</span><br><span class="line">                      :src&#x3D;&quot;item.icon+&#39;s&#39;&quot;</span><br><span class="line">                      @error&#x3D;&quot;defImg&quot;</span><br><span class="line">                  &#x2F;&gt;</span><br><span class="line">                  </span><br><span class="line">                   defImg(e) &#123;</span><br><span class="line">                      e.target.src &#x3D; require(&#39;..&#x2F;..&#x2F;assets&#x2F;imgs&#x2F;banner1.png&#39;)</span><br><span class="line">                  &#125;,</span><br></pre></td></tr></table></figure>



<h3 id="加载动态图片的三种方法"><a href="#加载动态图片的三种方法" class="headerlink" title="加载动态图片的三种方法"></a>加载动态图片的三种方法</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;first&quot;&gt;</span><br><span class="line">      &lt;!-- 普通加载 （不显示）出错--&gt;</span><br><span class="line">      &lt;img :src&#x3D;&quot;imgarr[1]&quot;&gt;</span><br><span class="line">      &lt;!--第一种 在数据链接中用require(&quot;.&#x2F;1.jpeg&quot;)包裹链接  --&gt;</span><br><span class="line">      &lt;img :src&#x3D;&quot;imgarr[0]&quot;&gt;</span><br><span class="line">      &lt;!--第二种 将图片先引入文件中，用变量承载，数据中将这个变量赋值 --&gt;</span><br><span class="line">      &lt;img :src&#x3D;&quot;imgurl&quot;&gt;</span><br><span class="line">      &lt;!--第三种 将图片放入vue项目的public文件夹中，再根目录调用--&gt;</span><br><span class="line">      &lt;img :src&#x3D;&quot;imgarr[2]&quot;&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">import img from &quot;.&#x2F;2.jpeg&quot;</span><br><span class="line">export default &#123;</span><br><span class="line">  &#x2F;&#x2F; 定义数据</span><br><span class="line">    data()&#123;</span><br><span class="line">        return &#123;</span><br><span class="line">            imgarr:[require(&quot;.&#x2F;1.jpeg&quot;),&quot;.&#x2F;2.jpeg&quot;,&quot;&#x2F;3.jpeg&quot;],</span><br><span class="line">            imgurl:img,</span><br><span class="line">          &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>



<h3 id="浏览器地址栏运行HTML代码"><a href="#浏览器地址栏运行HTML代码" class="headerlink" title="浏览器地址栏运行HTML代码"></a>浏览器地址栏运行HTML代码</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data:text&#x2F;html,&lt;h1&gt;Hello, everybody!&lt;&#x2F;h1&gt;</span><br></pre></td></tr></table></figure>

<p><img src="https://mmbiz.qpic.cn/mmbiz_png/JIv7z1kbomC1q64N8lmP3G4pmFoVadU1tagUE9S7wlzyWOBQECxMjZnzia02PUfaMzFtMtLrOdqJcN5JcjZY6xQ/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="图片"></p>
<h3 id="浏览器秒变编辑器"><a href="#浏览器秒变编辑器" class="headerlink" title="浏览器秒变编辑器"></a>浏览器秒变编辑器</h3><p>这个还是在浏览器地址栏上面做文章，将以下代码复制粘贴到浏览器地址栏，运行后浏览器就变成了一个原始简单的编辑器，和window自带的notepad差不多，长见识了吧，话不多说，我们来试试。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data:text&#x2F;html, &lt;html contenteditable&gt;</span><br></pre></td></tr></table></figure>

<p><img src="https://mmbiz.qpic.cn/mmbiz_gif/JIv7z1kbomC1q64N8lmP3G4pmFoVadU1ZHrg2H3oiaF6Ffu76rlWyTSQwM8BHRyAZRy3o1fMpiaqnqibia5DEewxfQ/640?wx_fmt=gif&tp=webp&wxfrom=5&wx_lazy=1" alt="图片"></p>
<blockquote>
<p>归根结底多亏了HTML5中新加的<code>contenteditable</code>属性，当元素指定了该属性后，元素的内容成为可编辑状态。</p>
</blockquote>
<h3 id="在控制台执行以下代码，将整个页面变得可以编辑。"><a href="#在控制台执行以下代码，将整个页面变得可以编辑。" class="headerlink" title="在控制台执行以下代码，将整个页面变得可以编辑。"></a>在控制台执行以下代码，将整个页面变得可以编辑。</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">document.body.contentEditable&#x3D;&#39;true&#39;;</span><br></pre></td></tr></table></figure>

<p><img src="https://mmbiz.qpic.cn/mmbiz_gif/JIv7z1kbomC1q64N8lmP3G4pmFoVadU11PG17MIGs0MCvicic605XN3OJ7zekILOKsKkg32UcomztFUKoWLZ9xnQ/640?wx_fmt=gif&tp=webp&wxfrom=5&wx_lazy=1" alt="图片"></p>
<p>冷门标签</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;select&gt;</span><br><span class="line">    &lt;optgroup label&#x3D;&quot;Fruits&quot;&gt;    </span><br><span class="line">        &lt;option value&#x3D;&quot;strawberry&quot;&gt;Strawberry&lt;&#x2F;option&gt;</span><br><span class="line">        &lt;option value&#x3D;&quot;raspberry&quot;&gt;Raspberry&lt;&#x2F;option&gt;</span><br><span class="line">        &lt;option value&#x3D;&quot;apple&quot;&gt;Apple&lt;&#x2F;option&gt;</span><br><span class="line">        &lt;option value&#x3D;&quot;apricot&quot;&gt;Apricot&lt;&#x2F;option&gt;</span><br><span class="line">    &lt;&#x2F;optgroup&gt;</span><br><span class="line">    &lt;optgroup label&#x3D;&quot;Vegetables&quot;&gt;</span><br><span class="line">        &lt;option value&#x3D;&quot;cucumber&quot;&gt;Cucumber&lt;&#x2F;option&gt;</span><br><span class="line">        &lt;option value&#x3D;&quot;carrot&quot;&gt;Carrot&lt;&#x2F;option&gt;</span><br><span class="line">        &lt;option value&#x3D;&quot;broccoli&quot;&gt;Broccoli&lt;&#x2F;option&gt;</span><br><span class="line">        &lt;option value&#x3D;&quot;cabbage&quot;&gt;Cabbage&lt;&#x2F;option&gt;</span><br><span class="line">    &lt;&#x2F;optgroup&gt;</span><br><span class="line">&lt;&#x2F;select&gt;</span><br></pre></td></tr></table></figure>

<p><img src="/2020/10/29/vue%E4%B9%8Bseekcy%E5%BC%80%E5%8F%91%E5%8E%86%E7%A8%8B%E8%AE%B0%E5%BD%951/image-20210402171320657.png" alt="image-20210402171320657"></p>
<h3 id="insertAdjacentText方法与-insertAdjacentHTML"><a href="#insertAdjacentText方法与-insertAdjacentHTML" class="headerlink" title="insertAdjacentText方法与 insertAdjacentHTML"></a>insertAdjacentText方法与 insertAdjacentHTML</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">insertAdjacentText方法与 insertAdjacentHTML方法类似，只不过只能插入纯文本，参数相同</span><br><span class="line"></span><br><span class="line">方法名称：insertHtml(where,el,html)</span><br><span class="line"></span><br><span class="line">参数介绍：</span><br><span class="line">where：插入位置。包括beforeBegin,beforeEnd,afterBegin,afterEnd。</span><br><span class="line">el：用于参照插入位置的html元素对象</span><br><span class="line">html：要插入的html代码</span><br><span class="line"></span><br><span class="line">有四种值可用：</span><br><span class="line"></span><br><span class="line">1.     beforeBegin: 插入到标签开始前</span><br><span class="line"></span><br><span class="line">2.     afterBegin:插入到标签开始标记之后</span><br><span class="line"></span><br><span class="line">3.     beforeEnd:插入到标签结束标记前</span><br><span class="line"></span><br><span class="line">4.     afterEnd:插入到标签结束标记后</span><br></pre></td></tr></table></figure>



<h2 id="watch"><a href="#watch" class="headerlink" title="watch"></a>watch</h2><h3 id="echarts数据更新页面不更新"><a href="#echarts数据更新页面不更新" class="headerlink" title="echarts数据更新页面不更新"></a>echarts数据更新页面不更新</h3><p>深度监听对象数组</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">watch: &#123;</span><br><span class="line">&#x2F;&#x2F;监听对象数组的变化</span><br><span class="line">bet: &#123;</span><br><span class="line">　　　　handler(newValue, oldValue) &#123;</span><br><span class="line">　　　　　　console.log(newValue)</span><br><span class="line">　　　　&#125;,</span><br><span class="line">　　　　deep: true</span><br><span class="line">　　&#125;,</span><br><span class="line">&#x2F;&#x2F;深拷贝</span><br><span class="line">　　winChips: &#123;</span><br><span class="line">　　　　handler(newValue, oldValue) &#123;</span><br><span class="line">　　　　　　for (let i &#x3D; 0; i &lt; newValue.length; i++) &#123;</span><br><span class="line">　　　　　　　　if (oldValue[i] !&#x3D; newValue[i]) &#123;</span><br><span class="line">　　　　　　　　　　console.log(newValue)</span><br><span class="line">　　　　　　　　&#125;</span><br><span class="line">　　　　　　&#125;</span><br><span class="line">　　　　&#125;,</span><br><span class="line">　　　　deep: true</span><br><span class="line">　　&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="computed"><a href="#computed" class="headerlink" title="computed"></a>computed</h2><h3 id="使用computed的场景一-绑定值"><a href="#使用computed的场景一-绑定值" class="headerlink" title="使用computed的场景一:绑定值"></a>使用computed的场景一:绑定值</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;p&gt;&#123;name&#125;&lt;&#x2F;p&gt;</span><br><span class="line">computed:&#123;</span><br><span class="line">    name()&#123;</span><br><span class="line">    	return &#39;张三&#39;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="使用computed的场景一-绑定函数"><a href="#使用computed的场景一-绑定函数" class="headerlink" title="使用computed的场景一:绑定函数"></a>使用computed的场景一:绑定函数</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;div v-for&#x3D;&quot;item in cameraData&quot; :key&#x3D;&quot;item.cameraId&quot; :style&#x3D;&quot;videoCalc(cameraData.length)&quot; style&#x3D;&quot;display:inline-block;&quot;&gt;</span><br><span class="line">   &lt;video :id&#x3D;&quot;&#39;video-play&#39;+item.cameraId&quot; muted class&#x3D;&quot;video_realtime&quot; style&#x3D;&quot;height:100%;width:100%&quot;&gt;      	&lt;&#x2F;video&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line">        </span><br><span class="line">computed: &#123;</span><br><span class="line">        videoCalc: function () &#123;</span><br><span class="line">            return function (data) &#123;</span><br><span class="line">                if (this.cameraData.length &#x3D;&#x3D; 1) &#123;</span><br><span class="line">                    return &#123; width: &#39;400px&#39;, height: &#39;300px&#39; &#125;</span><br><span class="line">                &#125; else if (this.cameraData.length &#x3D;&#x3D; 2) &#123;</span><br><span class="line">                    return &#123; width: &#39;200px&#39;, height: &#39;300px&#39; &#125;</span><br><span class="line">                &#125; else if (this.cameraData.length &gt; 2) &#123;</span><br><span class="line">                    return &#123; width: &#39;200px&#39;, height: &#39;150px&#39; &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>



<h3 id="在computed的第一个参数上解构this上的对象"><a href="#在computed的第一个参数上解构this上的对象" class="headerlink" title="在computed的第一个参数上解构this上的对象"></a>在computed的第一个参数上解构this上的对象</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">computed: &#123;</span><br><span class="line">        sexEnum: function (&#123;$data,$refs,$route,$store,$attrs,$listeners&#125;,params) &#123;</span><br><span class="line">            &#x2F;&#x2F; console.log($attrs,$route,$store,$listeners,$ref,&#39;23132123&#39;)</span><br><span class="line">            console.log($store,&#39;00000&#39;)</span><br><span class="line">            return function (sex) &#123;</span><br><span class="line">                if (sex &#x3D;&#x3D; 0) &#123;</span><br><span class="line">                    return &quot;女&quot;</span><br><span class="line">                &#125; else if (sex &#x3D;&#x3D; 1) &#123;</span><br><span class="line">                    return &quot;男&quot;</span><br><span class="line">                &#125; else &#123;</span><br><span class="line">                    return &#39;-&#39;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>



<h2 id="Promise-C-依赖-B-的结果，D-依赖-ABC-的结果，最终输出-D-的结果"><a href="#Promise-C-依赖-B-的结果，D-依赖-ABC-的结果，最终输出-D-的结果" class="headerlink" title="Promise(C 依赖 B 的结果，D 依赖 ABC 的结果，最终输出 D 的结果)"></a>Promise(C 依赖 B 的结果，D 依赖 ABC 的结果，最终输出 D 的结果)</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line">function A() &#123;</span><br><span class="line">    return new Promise(r &#x3D;&gt; &#123;</span><br><span class="line">        let timeObj &#x3D; setTimeout(() &#x3D;&gt; &#123;</span><br><span class="line">            console.log(&#39;AAAAAAAAA&#39;);</span><br><span class="line">            clearTimeout(timeObj);</span><br><span class="line">            r(&quot;a&quot;)</span><br><span class="line">        &#125;, 2000);</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line">function B() &#123;</span><br><span class="line">    return new Promise(r &#x3D;&gt; &#123;</span><br><span class="line">        let timeObj &#x3D; setTimeout(() &#x3D;&gt; &#123;</span><br><span class="line">            console.log(&#39;BBBBBBBBBBBB&#39;);</span><br><span class="line">            clearTimeout(timeObj)</span><br><span class="line">            r(&quot;b&quot;)</span><br><span class="line">        &#125;, 2000);</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line">function C() &#123;</span><br><span class="line">    return new Promise(r &#x3D;&gt; &#123;</span><br><span class="line">        let timeObj &#x3D; setTimeout(() &#x3D;&gt; &#123;</span><br><span class="line">            console.log(&#39;CCCCCCCCCCCC&#39;);</span><br><span class="line">            clearTimeout(timeObj)</span><br><span class="line">            r(&quot;c&quot;)</span><br><span class="line">        &#125;, 2000);</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line">function D() &#123;</span><br><span class="line">    return new Promise(r &#x3D;&gt; &#123;</span><br><span class="line">        let timeObj &#x3D; setTimeout(() &#x3D;&gt; &#123;</span><br><span class="line">            console.log(&#39;DDDDDDDDDDDDDD&#39;);</span><br><span class="line">            clearTimeout(timeObj)</span><br><span class="line">            r(&quot;d1321231&quot;)</span><br><span class="line">        &#125;, 2000);</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line">async function asyncBC() &#123;</span><br><span class="line">    const resb &#x3D; await B();</span><br><span class="line">    const resc &#x3D; await C(resb);</span><br><span class="line">    return &#123;resb,resc&#125;</span><br><span class="line">&#125;</span><br><span class="line">async function asyncTask() &#123;</span><br><span class="line">    const [resa,&#123;resb,resc&#125;]&#x3D;await Promise.all([A(),asyncBC()])</span><br><span class="line">    const resd&#x3D;await D(resa,resb,resc)</span><br><span class="line">    return resd</span><br><span class="line">&#125;</span><br><span class="line">asyncTask().then(resd&#x3D;&gt;&#123;</span><br><span class="line">    console.log(&#39;this is D result&#39;,resd);</span><br><span class="line"></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">与promise的不同比较</span><br><span class="line">&#x2F;&#x2F; Promise Chain</span><br><span class="line">Promise.resolve(&#39;Presto&#39;)</span><br><span class="line">  .then(handler1)</span><br><span class="line">  .then(handler2)</span><br><span class="line">  .then(console.log);</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; &#96;async&#96;&#x2F;&#96;await&#96; Syntax</span><br><span class="line">async function run() &#123;</span><br><span class="line">  const result1 &#x3D; await handler1(&#39;Presto&#39;);</span><br><span class="line">  const result2 &#x3D; await handler2(result1);</span><br><span class="line">  console.log(result2);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="Axios"><a href="#Axios" class="headerlink" title="Axios"></a>Axios</h2><h3 id="登录失效401后阻止其他请求"><a href="#登录失效401后阻止其他请求" class="headerlink" title="登录失效401后阻止其他请求"></a>登录失效401后阻止其他请求</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">const CancelToken &#x3D; axios.CancelToken;</span><br><span class="line">const source &#x3D; CancelToken.source();</span><br><span class="line"></span><br><span class="line">axios.interceptors.request.use(</span><br><span class="line">    config &#x3D;&gt; &#123;</span><br><span class="line">        config.cancelToken &#x3D; source.token; &#x2F;&#x2F; 全局添加cancelToken</span><br><span class="line">            return config;</span><br><span class="line">        &#125;,</span><br><span class="line">        err &#x3D;&gt; &#123;</span><br><span class="line">            return Promise.reject(err);</span><br><span class="line">        &#125;</span><br><span class="line">   );</span><br><span class="line">&#x2F;** 设置响应拦截 **&#x2F;</span><br><span class="line">axios.interceptors.response.use(</span><br><span class="line">    response &#x3D;&gt; &#123;</span><br><span class="line">        &#x2F;&#x2F; 登录失效101</span><br><span class="line">        if ( response.data.code&#x3D;&#x3D;&#x3D;101) &#123;</span><br><span class="line">            source.cancel(); &#x2F;&#x2F; 取消其他正在进行的请求</span><br><span class="line">           &#x2F;&#x2F; some coding</span><br><span class="line">        &#125;</span><br><span class="line">        return response;</span><br><span class="line">    &#125;,</span><br><span class="line">    error &#x3D;&gt; &#123;</span><br><span class="line">        if (axios.isCancel(error)) &#123; &#x2F;&#x2F; 取消请求的情况下，终端Promise调用链</span><br><span class="line">            return new Promise(() &#x3D;&gt; &#123;&#125;);</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            return Promise.reject(error);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">);</span><br></pre></td></tr></table></figure>



<h3 id="Form-Data-和-Request-Payload-区别"><a href="#Form-Data-和-Request-Payload-区别" class="headerlink" title="Form Data 和 Request Payload 区别"></a>Form Data 和 Request Payload 区别</h3><ol>
<li>设置Content-Type: application/x-www-form-urlencoded，那么这个请求被认为是表单请求，参数出现在Form Data里，格式为key=value&amp;key=value&amp;key=value…,请求参数应为json对象。</li>
<li>设置Content-Type:application/json，或者使用默认的请求头Content-Type:text/plain;参数会显示在Request payload块里提交。请求参数应为字符串。</li>
</ol>
<p>qs.stringify可以将对象序列化成URL的形式，以&amp;进行拼接它和json.stringify区别如下</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var a &#x3D; &#123;name:&#39;hehe&#39;,age:10&#125;;</span><br><span class="line"> qs.stringify(a)</span><br><span class="line">&#x2F;&#x2F; &#39;name&#x3D;hehe&amp;age&#x3D;10&#39;</span><br><span class="line">JSON.stringify(a)</span><br><span class="line">&#x2F;&#x2F; &#39;&#123;&quot;name&quot;:&quot;hehe&quot;,&quot;age&quot;:10&#125;&#39;</span><br></pre></td></tr></table></figure>



<p>qs.parse()可以将URL解析成对象的形式</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">let url &#x3D; &#39;method&#x3D;query_sql_dataset_data&amp;projectId&#x3D;85&amp;appToken&#x3D;7d22e38e-5717-11e7-907b-a6006ad3dba0&#39;;</span><br><span class="line">qs.parse(url);</span><br><span class="line">&#123;</span><br><span class="line">method:query_sql_dataset_data,</span><br><span class="line">projectId:85,</span><br><span class="line">appToken:7d22e38e-5717-11e7-907b-a6006ad3dba0</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="实现请求重试的两种方式"><a href="#实现请求重试的两种方式" class="headerlink" title="实现请求重试的两种方式"></a>实现请求重试的两种方式</h3><p>方式一：响应拦截</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">axios.interceptors.response.use(null, (err) &#x3D;&gt; &#123;</span><br><span class="line">  let config &#x3D; err.config;</span><br><span class="line">  if (!config || !config.retryTimes) return Promise.reject(err);</span><br><span class="line">  const &#123; __retryCount &#x3D; 0, retryDelay &#x3D; 300, retryTimes &#125; &#x3D; config;</span><br><span class="line">  &#x2F;&#x2F; 在请求对象上设置重试次数</span><br><span class="line">  config.__retryCount &#x3D; __retryCount;</span><br><span class="line">  &#x2F;&#x2F; 判断是否超过了重试次数</span><br><span class="line">  if (__retryCount &gt;&#x3D; retryTimes) &#123;</span><br><span class="line">    return Promise.reject(err);</span><br><span class="line">  &#125;</span><br><span class="line">  &#x2F;&#x2F; 增加重试次数</span><br><span class="line">  config.__retryCount++;</span><br><span class="line">  &#x2F;&#x2F; 延时处理</span><br><span class="line">  const delay &#x3D; new Promise((resolve) &#x3D;&gt; &#123;</span><br><span class="line">    setTimeout(() &#x3D;&gt; &#123;</span><br><span class="line">      resolve();</span><br><span class="line">    &#125;, retryDelay);</span><br><span class="line">  &#125;);</span><br><span class="line">  &#x2F;&#x2F; 重新发起请求</span><br><span class="line">  return delay.then(function () &#123;</span><br><span class="line">    return axios(config);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>方式二：适配器</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">function retryAdapterEnhancer(adapter, options) &#123;</span><br><span class="line">  const &#123; times &#x3D; 0, delay &#x3D; 300 &#125; &#x3D; options;</span><br><span class="line"></span><br><span class="line">  return async (config) &#x3D;&gt; &#123;</span><br><span class="line">    const &#123; retryTimes &#x3D; times, retryDelay &#x3D; delay &#125; &#x3D; config;</span><br><span class="line">    let __retryCount &#x3D; 0;</span><br><span class="line">    const request &#x3D; async () &#x3D;&gt; &#123;</span><br><span class="line">      try &#123;</span><br><span class="line">        return await adapter(config);</span><br><span class="line">      &#125; catch (err) &#123;</span><br><span class="line">        &#x2F;&#x2F; 判断是否进行重试</span><br><span class="line">        if (!retryTimes || __retryCount &gt;&#x3D; retryTimes) &#123;</span><br><span class="line">          return Promise.reject(err);</span><br><span class="line">        &#125;</span><br><span class="line">        __retryCount++; &#x2F;&#x2F; 增加重试次数</span><br><span class="line">        &#x2F;&#x2F; 延时处理</span><br><span class="line">        const delay &#x3D; new Promise((resolve) &#x3D;&gt; &#123;</span><br><span class="line">          setTimeout(() &#x3D;&gt; &#123;</span><br><span class="line">            resolve();</span><br><span class="line">          &#125;, retryDelay);</span><br><span class="line">         &#125;);</span><br><span class="line">         &#x2F;&#x2F; 重新发起请求</span><br><span class="line">         return delay.then(() &#x3D;&gt; &#123;</span><br><span class="line">           return request();</span><br><span class="line">         &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;;</span><br><span class="line">   return request();</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">创建 Axios 对象并配置 adapter 选项</span><br><span class="line"> const http &#x3D; axios.create(&#123;</span><br><span class="line">  baseURL: &quot;http:&#x2F;&#x2F;localhost:3000&#x2F;&quot;,</span><br><span class="line">  adapter: retryAdapterEnhancer(axios.defaults.adapter, &#123;</span><br><span class="line">    retryDelay: 1000,</span><br><span class="line">  &#125;),</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">使用 http 对象发送请求</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 请求失败不重试</span><br><span class="line">function requestWithoutRetry() &#123;</span><br><span class="line">  http.get(&quot;&#x2F;users&quot;);</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;&#x2F; 请求失败重试</span><br><span class="line">function requestWithRetry() &#123;</span><br><span class="line">  http.get(&quot;&#x2F;users&quot;, &#123; retryTimes: 2 &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="结合axiso，elementUI全局loading（部分接口不请求配置）"><a href="#结合axiso，elementUI全局loading（部分接口不请求配置）" class="headerlink" title="结合axiso，elementUI全局loading（部分接口不请求配置）"></a>结合axiso，elementUI全局loading（部分接口不请求配置）</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">import axios from &#39;axios&#39;;</span><br><span class="line">import &#123; Message, Loading &#125; from &#39;element-ui&#39;;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; import store from &#39;..&#x2F;store&#39;;</span><br><span class="line">import qs from &#39;qs&#39;;</span><br><span class="line">import router from &#39;..&#x2F;router&#39;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;全局loading在请求接口时出现，结束时消失</span><br><span class="line">let loading;</span><br><span class="line">let loadingNum &#x3D; 0;</span><br><span class="line">&#x2F;&#x2F;开始loading</span><br><span class="line">function startLoading() &#123;</span><br><span class="line">    if (loadingNum &#x3D;&#x3D; 0) &#123;</span><br><span class="line">        loading &#x3D; Loading.service(&#123;</span><br><span class="line">            lock: true,</span><br><span class="line">      		text: &#39;Loading&#39;,</span><br><span class="line">      		spinner: &#39;el-icon-loading&#39;,</span><br><span class="line">      		background: &#39;rgba(0, 0, 0, 0.7)&#39;,</span><br><span class="line">      		&#x2F;&#x2F;target: document.querySelector(&#39;.div1&#39;)</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    loadingNum++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;结束loading</span><br><span class="line">function endLoading() &#123;</span><br><span class="line">    loading.close()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function tryHideLoading() &#123;</span><br><span class="line">    if (loadingNum &lt;&#x3D; 0) return</span><br><span class="line">    loadingNum--</span><br><span class="line">    if (loadingNum &#x3D;&#x3D;&#x3D; 0) &#123;</span><br><span class="line">        setInterval(() &#x3D;&gt; &#123;</span><br><span class="line">            endLoading()</span><br><span class="line">        &#125;, 500);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 创建axios实例</span><br><span class="line">const http &#x3D; axios.create(&#123;</span><br><span class="line">    baseURL: &#39;&#x2F;vital-signs&#x2F;&#39;,</span><br><span class="line">    timeout: 600000,                  &#x2F;&#x2F; 请求超时时间</span><br><span class="line">    transformRequest: obj &#x3D;&gt; qs.stringify(obj)</span><br><span class="line">    &#x2F;&#x2F; headers: &#123; &#39;Content-Type&#39;: &#39;application&#x2F;json&#39; &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; request拦截器</span><br><span class="line">http.interceptors.request.use(</span><br><span class="line">    config &#x3D;&gt; &#123;</span><br><span class="line">        if (config.headers.showLoading !&#x3D;&#x3D; false) &#123;</span><br><span class="line">            startLoading();</span><br><span class="line">        &#125;</span><br><span class="line">        if (!sessionStorage.getItem(&#39;token&#39;) &amp;&amp; config.url.indexOf(&quot;login&quot;) &#x3D;&#x3D; -1) &#123;</span><br><span class="line">            Message(&#123;</span><br><span class="line">                message: &quot;登录信息失效，请重新登录&quot;,</span><br><span class="line">                type: &#39;error&#39;</span><br><span class="line">            &#125;);</span><br><span class="line">            if (config.url.indexOf(&quot;loginAuto&quot;)!&#x3D;-1)&#123;</span><br><span class="line">              return</span><br><span class="line">          &#125;</span><br><span class="line">            setTimeout(() &#x3D;&gt; &#123;</span><br><span class="line">                router.replace(&#39;&#x2F;login&#39;)</span><br><span class="line">                location.reload()</span><br><span class="line">            &#125;, 2000);</span><br><span class="line">        &#125;</span><br><span class="line">        config.headers.Authorization &#x3D; &quot;Bearer &quot; + sessionStorage.getItem(&#39;token&#39;);</span><br><span class="line">        config.headers.buildId &#x3D; sessionStorage.getItem(&quot;buildId&quot;) || &quot;200036&quot;;</span><br><span class="line">        config.headers.deptId &#x3D; localStorage.getItem(&quot;departmentId&quot;)</span><br><span class="line">        return config;</span><br><span class="line">    &#125;,</span><br><span class="line">    error &#x3D;&gt; &#123;</span><br><span class="line">        tryHideLoading();</span><br><span class="line">        Promise.reject(error);</span><br><span class="line">    &#125;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; respone拦截器</span><br><span class="line">http.interceptors.response.use(</span><br><span class="line">    response &#x3D;&gt; &#123;</span><br><span class="line">        tryHideLoading();</span><br><span class="line">        if (response.data.code &#x3D;&#x3D;&#x3D; 0) &#123;</span><br><span class="line">            &#x2F;&#x2F; console.dir(response);</span><br><span class="line">            return Promise.resolve(response);</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            Message(&#123;</span><br><span class="line">                message: response.data.msg,</span><br><span class="line">                type: &#39;error&#39;,</span><br><span class="line">            &#125;);</span><br><span class="line">            return Promise.reject(response);</span><br><span class="line">            &#x2F;&#x2F; return Promise.resolve(response);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    error &#x3D;&gt; &#123;</span><br><span class="line">        tryHideLoading();</span><br><span class="line">        console.dir(error);&#x2F;&#x2F; for debug</span><br><span class="line">        if (error.response) &#123;</span><br><span class="line">            if (error.response.status &#x3D;&#x3D; &#39;401&#39;&amp;&amp;sessionStorage.getItem(&#39;token&#39;)) &#123;</span><br><span class="line">                Message(&#123;</span><br><span class="line">                    message: error.response.data.msg,</span><br><span class="line">                    type: &#39;error&#39;</span><br><span class="line">                &#125;);</span><br><span class="line">                setTimeout(() &#x3D;&gt; &#123;</span><br><span class="line">                    router.push(&#123; path: &quot;&#x2F;login&quot; &#125;)</span><br><span class="line">                &#125;, 3000);</span><br><span class="line"></span><br><span class="line">                return;</span><br><span class="line">            &#125; else if (error.response.status &#x3D;&#x3D; 500) &#123;</span><br><span class="line">                Message(&#123;</span><br><span class="line">                    message: error.response.data.error,</span><br><span class="line">                    type: &#39;error&#39;</span><br><span class="line">                &#125;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            let msg &#x3D; &#39;服务器请求出错&#39;;</span><br><span class="line">            if (error.message.indexOf(&#39;timeout&#39;) !&#x3D;&#x3D; -1) &#123;</span><br><span class="line">                msg &#x3D; &#39;请求超时&#39;;</span><br><span class="line">            &#125; else if (error.message.indexOf(&#39;Network Error&#39;) !&#x3D;&#x3D; -1) &#123;</span><br><span class="line">                msg &#x3D; &#39;网络出错&#39;;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        return Promise.reject(error);</span><br><span class="line">    &#125;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">http.postJson &#x3D; (path, params) &#x3D;&gt; http(&#123;</span><br><span class="line"></span><br><span class="line">    url: path,</span><br><span class="line">    method: &#39;post&#39;,</span><br><span class="line">    data: addparams(params),</span><br><span class="line">    transformRequest: obj &#x3D;&gt; JSON.stringify(obj),</span><br><span class="line">    headers: &#123; &#39;Content-Type&#39;: &#39;application&#x2F;json&#39; &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">http.put &#x3D; (path, params) &#x3D;&gt; http(&#123;</span><br><span class="line">    url: path,</span><br><span class="line">    method: &#39;put&#39;,</span><br><span class="line">    data: addparams(params),</span><br><span class="line">    transformRequest: obj &#x3D;&gt; JSON.stringify(obj),</span><br><span class="line">    headers: &#123; &#39;Content-Type&#39;: &#39;application&#x2F;json&#39; &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">http.uploadFile &#x3D; (path, params) &#x3D;&gt; http(&#123;</span><br><span class="line">    url: path,</span><br><span class="line">    method: &#39;post&#39;,</span><br><span class="line">    data: &#123; file: params.file &#125;,</span><br><span class="line">    transformRequest: (obj) &#x3D;&gt; &#123;</span><br><span class="line"></span><br><span class="line">    &#125;,</span><br><span class="line">    headers: &#123;</span><br><span class="line">        &#39;Content-Type&#39;: &#39;application&#x2F;x-www-form-urlencoded&#39;,</span><br><span class="line">        &#39;Authorization&#39;: &quot;Bearer &quot; + sessionStorage.getItem(&#39;token&#39;),</span><br><span class="line">        &#39;buildId&#39;: &quot;200036&quot;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">http.login &#x3D; (path, params) &#x3D;&gt; http(&#123;</span><br><span class="line"> </span><br><span class="line">    url: path,</span><br><span class="line">    method: &#39;post&#39;,</span><br><span class="line">    data: params,</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">    transformRequest: obj &#x3D;&gt; JSON.stringify(obj),</span><br><span class="line">    headers: &#123; &#39;Content-Type&#39;: &#39;application&#x2F;json&#39; &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">function addparams(params) &#123;</span><br><span class="line">    &#x2F;&#x2F;数组不转换</span><br><span class="line">    if (params instanceof Array) &#123;</span><br><span class="line">        return params</span><br><span class="line">    &#125; else if (params instanceof Object)&#123;</span><br><span class="line">        const pp &#x3D; &#123;</span><br><span class="line">            &#x2F;&#x2F; timestamp: Date.parse(new Date()) &#x2F; 1000</span><br><span class="line">        &#125;</span><br><span class="line">        return Object.assign(pp, params);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;*备注：使用create重置过后无法使用all、spread、Cancel、CancelToken、isCancel等方法&#x2F;,只需要加上一行代码，但以下代码无法在eslint模式下使用，因为在eslint里是不允许对__proto__进行重新赋值的。*&#x2F;</span><br><span class="line"></span><br><span class="line">&#x2F;* eslint-disable no-proto *&#x2F;</span><br><span class="line">http.__proto__ &#x3D; axios</span><br><span class="line">&#x2F;* eslint-enable *&#x2F;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">export default http;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">.vue</span><br><span class="line">get请求</span><br><span class="line"> this.$http.get(&#39;&#x2F;alarm&#x2F;getNumOfAlarm&#x2F;&#39;,&#123;headers:&#123;showLoading:false&#125;,params:&#123;id:id&#125;&#125;)</span><br><span class="line">                .then(res &#x3D;&gt; &#123;</span><br><span class="line">                    this.remindCount &#x3D; res.data.data;</span><br><span class="line">                &#125;)</span><br><span class="line"> post请求               </span><br><span class="line">this.$http.post(&#39;&#x2F;alarm&#x2F;getNumOfAlarm&#x2F;&#39;,&#123;id:id&#125;,&#123;headers:&#123;showLoading:false&#125;&#125;)</span><br><span class="line">                .then(res &#x3D;&gt; &#123;</span><br><span class="line">                    this.remindCount &#x3D; res.data.data;</span><br><span class="line">                &#125;)</span><br></pre></td></tr></table></figure>

<p>参考链接</p>
<p><a href="https://blog.csdn.net/lianzhang861/article/details/100019049" target="_blank" rel="noopener">https://blog.csdn.net/lianzhang861/article/details/100019049</a></p>
<h3 id="后端要求只传数组，不需要参数名？"><a href="#后端要求只传数组，不需要参数名？" class="headerlink" title="后端要求只传数组，不需要参数名？"></a>后端要求只传数组，不需要参数名？</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">在封装好的axios中</span><br><span class="line">function addparams(params) &#123;</span><br><span class="line">    &#x2F;&#x2F;数组不转换</span><br><span class="line">    if (params instanceof Array) &#123;</span><br><span class="line">        return params</span><br><span class="line">    &#125; else if (params instanceof Object)&#123;</span><br><span class="line">    &#x2F;&#x2F;添加默认参数</span><br><span class="line">       const pp &#x3D; &#123;</span><br><span class="line">            clientVersion: &#39;1.0&#39;,</span><br><span class="line">            sign: &#39;string&#39;,</span><br><span class="line">            signType: &#39;string&#39;,</span><br><span class="line">            timestamp: Date.parse(new Date()) &#x2F; 1000</span><br><span class="line">        &#125;</span><br><span class="line">        return Object.assign(pp, params);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;使用</span><br><span class="line">this.axios.postJson(&#39;&#x2F;api&#x2F;js&#x2F;stream&#x2F;streamBreath&#x2F;&#39;,  [&#39;baby_care__11__@__hik__live__null&#39;, &#39;baby_care__12__@__dahua__live__null&#39;])</span><br><span class="line">	.then(res &#x3D;&gt; &#123;</span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="get接口如何接受数组型参数"><a href="#get接口如何接受数组型参数" class="headerlink" title="get接口如何接受数组型参数"></a>get接口如何接受数组型参数</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">npm install qs</span><br><span class="line"></span><br><span class="line">http.js</span><br><span class="line"></span><br><span class="line">import qs from &#39;qs&#39;;</span><br><span class="line"></span><br><span class="line">http.interceptors.request.use(</span><br><span class="line">    config &#x3D;&gt; &#123;</span><br><span class="line">        if (config.method &#x3D;&#x3D;&#x3D; &#39;get&#39;) &#123;</span><br><span class="line">            config.paramsSerializer &#x3D; function (params) &#123;</span><br><span class="line">                return qs.stringify(params, &#123; arrayFormat: &#39;repeat&#39; &#125;)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return config;</span><br><span class="line">    &#125;,</span><br><span class="line">    error &#x3D;&gt; &#123;</span><br><span class="line">        Promise.reject(error);</span><br><span class="line">    &#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure>



<h3 id="增加token和默认参数"><a href="#增加token和默认参数" class="headerlink" title="增加token和默认参数"></a>增加token和默认参数</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">service.interceptors.request.use(</span><br><span class="line">    config &#x3D;&gt; &#123;</span><br><span class="line">        if (getToken()) &#123;</span><br><span class="line">            config.headers[&#39;X-Auth-Token&#39;] &#x3D; getToken(); &#x2F;&#x2F; 让每个请求携带自定义token 请根据实际情况自行修改</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        if (!config.noparams) &#123;</span><br><span class="line">            if (getBuildInfo()) &#123;</span><br><span class="line">                if (config.method &#x3D;&#x3D;&#x3D; &#39;post&#39;) &#123;</span><br><span class="line">                    console.log(config.data, &#39;post的config.data&#39;);</span><br><span class="line">                    config.data &#x3D; &#123;</span><br><span class="line">                        username: getUserInfo() ? getUserInfo().username : &#39;&#39;,</span><br><span class="line">                        buildId: getBuildInfo() ? getBuildInfo().buildid : &#39;&#39;,</span><br><span class="line">                        ...config.data</span><br><span class="line">                    &#125;</span><br><span class="line">                    config.params &#x3D; &#123;</span><br><span class="line">                        username: getUserInfo() ? getUserInfo().username : &#39;&#39;,</span><br><span class="line">                        buildId: getBuildInfo() ? getBuildInfo().buildid : &#39;&#39;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125; else if (config.method &#x3D;&#x3D;&#x3D; &#39;get&#39;) &#123;</span><br><span class="line">                    config.params &#x3D; &#123;</span><br><span class="line">                        username: getUserInfo() ? getUserInfo().username : &#39;&#39;,</span><br><span class="line">                        buildId: getBuildInfo() ? getBuildInfo().buildid : &#39;&#39;,</span><br><span class="line">                        ...config.params</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return config;</span><br><span class="line">    &#125;,</span><br><span class="line">    error &#x3D;&gt; &#123;</span><br><span class="line">        &#x2F;&#x2F; Do something with request error</span><br><span class="line">        console.log(error); &#x2F;&#x2F; for debug</span><br><span class="line">        Promise.reject(error);</span><br><span class="line">    &#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure>



<h3 id="给单个接口添加timeout"><a href="#给单个接口添加timeout" class="headerlink" title="给单个接口添加timeout"></a>给单个接口添加timeout</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">const config &#x3D; &#123;</span><br><span class="line">    headers: &#123;</span><br><span class="line">      &#39;Content-Type&#39;: &#39;application&#x2F;x-www-form-urlencoded&#39;,</span><br><span class="line">      &#39;Authorization&#39;: CtStorage.getItem(TOKEN_KEY),</span><br><span class="line">      &#39;buildId&#39;: tempBuild</span><br><span class="line">    &#125;,</span><br><span class="line">    &#39;timeout&#39;: 300000</span><br><span class="line">  &#125;;</span><br><span class="line">  Axios.post(&#39;&#x2F;piot-api&#x2F;map&#x2F;config&#x2F;upload, config)</span><br><span class="line">    .then(function(response) &#123;</span><br><span class="line">      if (response.data.code &#x3D;&#x3D;&#x3D; 200) &#123;</span><br><span class="line">       </span><br><span class="line">      &#125; else &#123;</span><br><span class="line">        </span><br><span class="line">      &#125;</span><br><span class="line">    &#125;).catch(function() &#123;</span><br><span class="line">      </span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure>

<h3 id="检查文件的格式"><a href="#检查文件的格式" class="headerlink" title="检查文件的格式"></a>检查文件的格式</h3><p>对于上传的文件，一般来说，我们要校验其格式，仅需要获取文件的后缀（扩展名），即可判断其是否符合我们的上传限制：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">//文件路径</span><br><span class="line">var filePath = "file://upload/test.png";</span><br><span class="line">//获取最后一个.的位置</span><br><span class="line">var index= filePath.lastIndexOf(".");</span><br><span class="line">//获取后缀</span><br><span class="line">var ext = filePath.substr(index+1);</span><br><span class="line">//输出结果</span><br><span class="line">console.log(ext);</span><br><span class="line">// 输出： png</span><br></pre></td></tr></table></figure>

<p>但是，这种方式有个弊端，那就是我们可以随便篡改文件的后缀名，比如：<code>test.mp4</code> ，我们可以通过修改其后缀名：<code>test.mp4 -&gt; test.png</code> ，这样即可绕过限制进行上传。那有没有更严格的限制方式呢？当然是有的。</p>
<p>那就是通过查看文件的二进制数据来识别其真实的文件类型，因为计算机识别文件类型时，并不是真的通过文件的后缀名来识别的，而是通过 “魔数”（Magic Number）来区分，对于某一些类型的文件，起始的几个字节内容都是固定的，根据这几个字节的内容就可以判断文件的类型。借助十六进制编辑器，可以查看一下图片的二进制数据，我们还是以<code>test.png</code>为例：</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a7ac190b50ef4a7f93a1a528459dfa6c~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp" alt="img"></p>
<p>由上图可知，PNG 类型的图片前 8 个字节是 <code>0x89 50 4E 47 0D 0A 1A 0A</code>。基于这个结果，我们可以据此来做文件的格式校验，以vue项目为例：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span></span></span><br><span class="line"><span class="tag">      <span class="attr">type</span>=<span class="string">"file"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">id</span>=<span class="string">"inputFile"</span></span></span><br><span class="line"><span class="tag">      @<span class="attr">change</span>=<span class="string">"handleChange"</span></span></span><br><span class="line"><span class="tag">    /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="actionscript">  name: <span class="string">"HelloWorld"</span>,</span></span><br><span class="line">  methods: &#123;</span><br><span class="line">    check(headers) &#123;</span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> <span class="function">(<span class="params">buffers, options = &#123; offset: <span class="number">0</span> &#125;</span>) =&gt;</span></span></span><br><span class="line">      headers.every(</span><br><span class="line">      (header, index) =&gt; header === buffers[options.offset + index]</span><br><span class="line">      );</span><br><span class="line">    &#125;,</span><br><span class="line"><span class="javascript">    <span class="keyword">async</span> handleChange(event) &#123;</span></span><br><span class="line"><span class="actionscript">      <span class="keyword">const</span> file = event.target.files[<span class="number">0</span>];</span></span><br><span class="line"><span class="actionscript">      <span class="comment">// 以PNG为例，只需要获取前8个字节，即可识别其类型</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> buffers = <span class="keyword">await</span> <span class="keyword">this</span>.readBuffer(file, <span class="number">0</span>, <span class="number">8</span>);</span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> uint8Array = <span class="keyword">new</span> <span class="built_in">Uint8Array</span>(buffers);</span></span><br><span class="line"><span class="actionscript">      <span class="keyword">const</span> isPNG = <span class="keyword">this</span>.check([<span class="number">0x89</span>, <span class="number">0x50</span>, <span class="number">0x4e</span>, <span class="number">0x47</span>, <span class="number">0x0d</span>, <span class="number">0x0a</span>, <span class="number">0x1a</span>, <span class="number">0x0a</span>]);</span></span><br><span class="line"><span class="actionscript">      <span class="comment">// 上传test.png后，打印结果为true</span></span></span><br><span class="line"><span class="javascript">      <span class="built_in">console</span>.log(isPNG(uint8Array))</span></span><br><span class="line">    &#125;,</span><br><span class="line">    readBuffer(file, start = 0, end = 2) &#123;</span><br><span class="line"><span class="actionscript">      <span class="comment">// 获取文件的二进制数据，因为我们只需要校验前几个字节即可，所以并不需要获取整个文件的数据</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="actionscript">          <span class="keyword">const</span> reader = <span class="keyword">new</span> FileReader();</span></span><br><span class="line"><span class="javascript">          reader.onload = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span></span><br><span class="line">            resolve(reader.result);</span><br><span class="line">          &#125;;</span><br><span class="line">          reader.onerror = reject;</span><br><span class="line">          reader.readAsArrayBuffer(file.slice(start, end));</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>以上为校验文件类型的方法，对于其他类型的文件，比如mp4，xsl等，大家感兴趣的话，也可以通过工具查看其二进制数据，以此来做格式校验。</p>
<p>以下为汇总的一些文件的二进制标识：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.J</span>PEG/JPG - 文件头标识 (<span class="number">2</span> bytes): ff, d8 文件结束标识 (<span class="number">2</span> bytes): ff, d9</span><br><span class="line"><span class="number">2.</span>TGA - 未压缩的前 <span class="number">5</span> 字节 <span class="number">00</span> <span class="number">00</span> <span class="number">02</span> <span class="number">00</span> <span class="number">00</span> - RLE 压缩的前 <span class="number">5</span> 字节 <span class="number">00</span> <span class="number">00</span> <span class="number">10</span> <span class="number">00</span> <span class="number">00</span></span><br><span class="line"><span class="number">3.</span>PNG - 文件头标识 (<span class="number">8</span> bytes) <span class="number">89</span> <span class="number">50</span> <span class="number">4</span>E <span class="number">47</span> <span class="number">0</span>D <span class="number">0</span>A <span class="number">1</span>A <span class="number">0</span>A</span><br><span class="line"><span class="number">4.</span>GIF - 文件头标识 (<span class="number">6</span> bytes) <span class="number">47</span> <span class="number">49</span> <span class="number">46</span> <span class="number">38</span> <span class="number">39</span>(<span class="number">37</span>) <span class="number">61</span></span><br><span class="line"><span class="number">5.</span>BMP - 文件头标识 (<span class="number">2</span> bytes) <span class="number">42</span> <span class="number">4</span>D B M</span><br><span class="line"><span class="number">6.</span>PCX - 文件头标识 (<span class="number">1</span> bytes) <span class="number">0</span>A</span><br><span class="line"><span class="number">7.</span>TIFF - 文件头标识 (<span class="number">2</span> bytes) <span class="number">4</span>D <span class="number">4</span>D 或 <span class="number">49</span> <span class="number">49</span></span><br><span class="line"><span class="number">8.</span>ICO - 文件头标识 (<span class="number">8</span> bytes) <span class="number">00</span> <span class="number">00</span> <span class="number">01</span> <span class="number">00</span> <span class="number">01</span> <span class="number">00</span> <span class="number">20</span> <span class="number">20</span></span><br><span class="line"><span class="number">9.</span>CUR - 文件头标识 (<span class="number">8</span> bytes) <span class="number">00</span> <span class="number">00</span> <span class="number">02</span> <span class="number">00</span> <span class="number">01</span> <span class="number">00</span> <span class="number">20</span> <span class="number">20</span></span><br><span class="line"><span class="number">10.</span>IFF - 文件头标识 (<span class="number">4</span> bytes) <span class="number">46</span> <span class="number">4</span>F <span class="number">52</span> <span class="number">4</span>D</span><br><span class="line"><span class="number">11.</span>ANI - 文件头标识 (<span class="number">4</span> bytes) <span class="number">52</span> <span class="number">49</span> <span class="number">46</span> <span class="number">46</span></span><br></pre></td></tr></table></figure>



<h3 id="大文件分片上传"><a href="#大文件分片上传" class="headerlink" title="大文件分片上传"></a>大文件分片上传</h3><p>mapload.js</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><span class="line">import Axios from &#39;axios&#39;;</span><br><span class="line">import &#123; Message &#125; from &#39;element-ui&#39;;</span><br><span class="line">import md5 from &#39;md5&#39;;</span><br><span class="line">&#x2F;&#x2F; 分段式上传地图</span><br><span class="line">function _10to62(number) &#123;</span><br><span class="line">  const chars &#x3D; &#39;0123456789abcdefghigklmnopqrstuvwxyzABCDEFGHIGKLMNOPQRSTUVWXYZ&#39;;</span><br><span class="line">  const radix &#x3D; chars.length;</span><br><span class="line">  const arr &#x3D; [];</span><br><span class="line">  do &#123;</span><br><span class="line">    const mod &#x3D; number % radix;</span><br><span class="line">    number &#x3D; (number - mod) &#x2F; radix;</span><br><span class="line">    arr.unshift(chars[mod]);</span><br><span class="line">  &#125; while (number);</span><br><span class="line">  return arr.join(&#39;&#39;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export function mapUpload(idx_share, file, callBack) &#123;</span><br><span class="line">  if (file.name.indexOf(&#39;zip&#39;) &#x3D;&#x3D;&#x3D; -1) &#123;</span><br><span class="line">    Message(&#123;</span><br><span class="line">      message: &#39;请上传zip格式的文件&#39;,</span><br><span class="line">      type: &#39;error&#39;</span><br><span class="line">    &#125;);</span><br><span class="line">    return;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  var fd &#x3D; new FormData();</span><br><span class="line">  &#x2F;&#x2F; 文件分片 以40MB去分片</span><br><span class="line">  var shardSize &#x3D; 40 * 1024 * 1024;</span><br><span class="line">  &#x2F;&#x2F; 定义分片索引</span><br><span class="line">  var shardIndex &#x3D; idx_share;</span><br><span class="line">  &#x2F;&#x2F; 定义分片的起始位置</span><br><span class="line">  var start &#x3D; (shardIndex - 1) * shardSize;</span><br><span class="line">  &#x2F;&#x2F; 定义分片结束的位置 file哪里来的?</span><br><span class="line">  var end &#x3D; Math.min(file.size, start + shardSize);</span><br><span class="line">  &#x2F;&#x2F; 从文件中截取当前的分片数据</span><br><span class="line">  var fileShard &#x3D; file.slice(start, end);</span><br><span class="line">  &#x2F;&#x2F; 分片的大小</span><br><span class="line">  var size &#x3D; file.size;</span><br><span class="line">  &#x2F;&#x2F; 总片数</span><br><span class="line">  var shardTotal &#x3D; Math.ceil(size &#x2F; shardSize);</span><br><span class="line">  &#x2F;&#x2F; 文件的后缀名</span><br><span class="line">  var fileName &#x3D; file.name;</span><br><span class="line">  var suffix &#x3D; fileName.substring(fileName.lastIndexOf(&#39;.&#39;) + 1, fileName.length).toLowerCase();</span><br><span class="line">  &#x2F;&#x2F; 把视频的信息存储为一个字符串</span><br><span class="line">  var filedetails &#x3D; file.name + file.size + file.type + file.lastModifiedDate;</span><br><span class="line">  &#x2F;&#x2F; 使用当前文件的信息用md5加密生成一个key 这个加密是根据文件的信息来加密的 如果相同的文件 加的密还是一样的</span><br><span class="line">  var key &#x3D; md5(filedetails);</span><br><span class="line">  var key10 &#x3D; parseInt(key, 16);</span><br><span class="line">  &#x2F;&#x2F; 把加密的信息 转为一个64位的</span><br><span class="line">  var key62 &#x3D; _10to62(key10);</span><br><span class="line">  &#x2F;&#x2F; 建筑id</span><br><span class="line">  var tempBuild &#x3D; CtStorage.getItem(JSON.parse(localStorage.getItem(&#39;PIOT_loginInfo&#39;)).userCode + &#39;buildId&#39;);</span><br><span class="line">  &#x2F;&#x2F; 前面的参数必须和controller层定义的一样</span><br><span class="line">  fd.append(&#39;file&#39;, fileShard);</span><br><span class="line">  fd.append(&#39;suffix&#39;, suffix);</span><br><span class="line">  fd.append(&#39;shardIndex&#39;, shardIndex);</span><br><span class="line">  fd.append(&#39;shardSize&#39;, shardSize);</span><br><span class="line">  fd.append(&#39;shardTotal&#39;, shardTotal);</span><br><span class="line">  fd.append(&#39;size&#39;, size);</span><br><span class="line">  fd.append(&#39;key&#39;, key62);</span><br><span class="line">  fd.append(&#39;buildId&#39;, tempBuild);</span><br><span class="line">  const that &#x3D; this;</span><br><span class="line"></span><br><span class="line">  const config &#x3D; &#123;</span><br><span class="line">    headers: &#123;</span><br><span class="line">      &#39;Content-Type&#39;: &#39;application&#x2F;x-www-form-urlencoded&#39;,</span><br><span class="line">      &#39;Authorization&#39;: CtStorage.getItem(TOKEN_KEY),</span><br><span class="line">      &#39;buildId&#39;: tempBuild</span><br><span class="line">    &#125;,</span><br><span class="line">    &#39;timeout&#39;: 300000</span><br><span class="line">  &#125;;</span><br><span class="line">  console.log(&#39;shardIndex-----------&#39;, shardIndex);</span><br><span class="line">  Axios.post(&#39;&#x2F;piot-api&#x2F;map&#x2F;config&#x2F;upload&#39;, fd, config)</span><br><span class="line">    .then(function(response) &#123;</span><br><span class="line">      if (response.data.code &#x3D;&#x3D;&#x3D; 200) &#123;</span><br><span class="line">        if (shardIndex &lt; shardTotal) &#123;</span><br><span class="line">          var index &#x3D; shardIndex + 1;</span><br><span class="line">          mapUpload(index, file, callBack);</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">          callBack &amp;&amp; callBack();</span><br><span class="line">          Message(&#123;</span><br><span class="line">            message: &#39;地图上传成功&#39;,</span><br><span class="line">            type: &#39;success&#39;</span><br><span class="line">          &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125; else &#123;</span><br><span class="line">        Message(&#123;</span><br><span class="line">          message: response.data.message,</span><br><span class="line">          type: &#39;error&#39;</span><br><span class="line">        &#125;);</span><br><span class="line">        callBack &amp;&amp; callBack(&#39;error&#39;);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;).catch(function() &#123;</span><br><span class="line">      Message(&#123;</span><br><span class="line">        message: &#39;地图上传失败&#39;,</span><br><span class="line">        type: &#39;error&#39;</span><br><span class="line">      &#125;);</span><br><span class="line">      callBack &amp;&amp; callBack(&#39;error&#39;);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>使用</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">div </span><br><span class="line">&lt;el-upload</span><br><span class="line">    ref&#x3D;&quot;upload1&quot;</span><br><span class="line">    :action&#x3D;&quot;uploadUrl&quot;</span><br><span class="line">    :limit&#x3D;&quot;1&quot;</span><br><span class="line">    :auto-upload&#x3D;&quot;true&quot;</span><br><span class="line">    :show-file-list&#x3D;&quot;false&quot;</span><br><span class="line">    :data&#x3D;&quot;uploadParams&quot;</span><br><span class="line">    :multiple&#x3D;&quot;false&quot;</span><br><span class="line">    :before-upload&#x3D;&quot;handleMapUpload&quot;</span><br><span class="line">    :on-success&#x3D;&quot;handleUploadSuccess&quot;</span><br><span class="line">    &gt;</span><br><span class="line">    &lt;el-button type&#x3D;&quot;primary&quot; icon&#x3D;&quot;el-icon-upload2&quot; plain&gt;上传地图&lt;&#x2F;el-button&gt;</span><br><span class="line">&lt;&#x2F;el-upload&gt;</span><br><span class="line"></span><br><span class="line">js</span><br><span class="line">&#x2F;&#x2F; 分片上传地图</span><br><span class="line">handleMapUpload(file) &#123;</span><br><span class="line">    const uploadLoading &#x3D; Loading.service(&#123;</span><br><span class="line">        lock: true, &#x2F;&#x2F; lock的修改符--默认是false</span><br><span class="line">        text: &#39;地图上传中，离开页面将终止上传！&#39;, &#x2F;&#x2F; 显示在加载图标下方的加载文案</span><br><span class="line">        target: document.querySelector(&#39;#loadingDiv&#39;)&#x2F;&#x2F; loadin覆盖的dom元素节点</span><br><span class="line">    &#125;);</span><br><span class="line">    const that &#x3D; this;</span><br><span class="line">    mapUpload(1, file, (params) &#x3D;&gt; &#123;</span><br><span class="line">        uploadLoading.close();</span><br><span class="line">        if (!params) &#123;</span><br><span class="line">        	that.getJudgeMapInfo();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">    return false; &#x2F;&#x2F; 返回false不会自动上传</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="统一设置请求头和单独设置请求头（content-type）"><a href="#统一设置请求头和单独设置请求头（content-type）" class="headerlink" title="统一设置请求头和单独设置请求头（content-type）"></a>统一设置请求头和单独设置请求头（content-type）</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;统一</span><br><span class="line">const axios&#x3D; axios.create(&#123;</span><br><span class="line">  timeout: 5000, &#x2F;&#x2F; 请求超时时间</span><br><span class="line">  headers: &#123; &quot;content-type&quot;: &quot;application&#x2F;x-www-form-urlencoded&quot; &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;单独</span><br><span class="line">that.$axios</span><br><span class="line">        .post(this.$api + &quot;&#x2F;api&#x2F;Sys&#x2F;Upload&quot;, uploadData, &#123;headers: &#123;&#39;content-type&#39;: &#39;application&#x2F;json&#39;&#125;&#125;)</span><br><span class="line">that.$axios</span><br><span class="line">        .get(this.$api + &quot;&#x2F;api&#x2F;Sys&#x2F;Upload&quot;, uploadData, &#123;headers: &#123;&#39;content-type&#39;: &#39;application&#x2F;json&#39;&#125;&#125;)</span><br><span class="line">        </span><br><span class="line">注意：在get接口中，设置的content-type是失效的,经过网上的资料查找发现是由于axios的源码出了问题，具体位置在axios&#x2F;lib&#x2F;adapters&#x2F;xhr.js:</span><br><span class="line">&#x2F;&#x2F; Add headers to the request</span><br><span class="line">    if (&#39;setRequestHeader&#39; in request) &#123;</span><br><span class="line">      utils.forEach(requestHeaders, function setRequestHeader(val, key) &#123;</span><br><span class="line">        if (typeof requestData &#x3D;&#x3D;&#x3D; &#39;undefined&#39; &amp;&amp; key.toLowerCase() &#x3D;&#x3D;&#x3D; &#39;content-type&#39;) &#123;</span><br><span class="line">          &#x2F;&#x2F; Remove Content-Type if data is undefined</span><br><span class="line">          delete requestHeaders[key];</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">          &#x2F;&#x2F; Otherwise add header to the request</span><br><span class="line">          request.setRequestHeader(key, val);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">需要通过以下方法设置就能生效</span><br><span class="line">const http &#x3D; axios.create(&#123;</span><br><span class="line">  method,</span><br><span class="line">  baseUrl,</span><br><span class="line">  url,</span><br><span class="line">  timeout: 5000, &#x2F;&#x2F; 请求超时时间</span><br><span class="line">  headers: &#123;</span><br><span class="line">    &#39;Content-Type&#39;: &#39;application&#x2F;x-www-form-urlencoded&#39;,</span><br><span class="line">  &#125;,</span><br><span class="line">  ...</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">http.interceptors.request.use(config &#x3D;&gt; &#123;</span><br><span class="line">  if (config.method &#x3D;&#x3D;&#x3D; &#39;get&#39;) &#123;</span><br><span class="line">    &#x2F;&#x2F;  给data赋值以绕过if判断</span><br><span class="line">    config.data &#x3D; true </span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  config.headers[&#39;Content-Type&#39;] &#x3D; &#39;application&#x2F;json&#39;</span><br><span class="line">  return config</span><br><span class="line">&#125;, err &#x3D;&gt; Promise.reject(err))</span><br></pre></td></tr></table></figure>



<h2 id="fetch-js的使用简述"><a href="#fetch-js的使用简述" class="headerlink" title="fetch.js的使用简述"></a>fetch.js的使用简述</h2><h3 id="两个参数"><a href="#两个参数" class="headerlink" title="两个参数"></a>两个参数</h3><ol>
<li>第一个参数是 URL 地址</li>
<li>第二个参数是请求的配置信息，包含headers、请求类型（GET/POST）、是否跨域等信息</li>
</ol>
<h3 id="参数说明"><a href="#参数说明" class="headerlink" title="参数说明"></a>参数说明</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">fetch(url, &#123;</span><br><span class="line">	body: <span class="built_in">JSON</span>.stringify(data), <span class="comment">// must match 'Content-Type' header</span></span><br><span class="line">	cache: <span class="string">"no-cache"</span>, <span class="comment">// *default, no-cache, reload, force-cache, only-if-cached</span></span><br><span class="line">	credentials: <span class="string">"same-origin"</span>, <span class="comment">// include, same-origin, *omit</span></span><br><span class="line">	headers: &#123;</span><br><span class="line">		<span class="string">"user-agent"</span>: <span class="string">"Mozilla/4.0 MDN Example"</span>,</span><br><span class="line">		<span class="string">"content-type"</span>: <span class="string">"application/json"</span></span><br><span class="line">	&#125;,</span><br><span class="line">	method: <span class="string">"POST"</span>, <span class="comment">// *GET, POST, PUT, DELETE, etc.</span></span><br><span class="line">	mode: <span class="string">"cors"</span>, <span class="comment">// no-cors, cors, *same-origin</span></span><br><span class="line">	redirect: <span class="string">"follow"</span>, <span class="comment">// manual, *follow, error</span></span><br><span class="line">	referrer: <span class="string">"no-referrer"</span> <span class="comment">// *client, no-referrer</span></span><br><span class="line">	&#125;)</span><br><span class="line">	.then(<span class="function"><span class="params">response</span> =&gt;</span> response.json()) <span class="comment">// parses response to JSON</span></span><br><span class="line">	.then(<span class="function"><span class="keyword">function</span>(<span class="params">myJson</span>) </span>&#123;</span><br><span class="line">		<span class="built_in">console</span>.log(myJson);</span><br><span class="line">	&#125;);</span><br></pre></td></tr></table></figure>



<h2 id="Moment的常见用法"><a href="#Moment的常见用法" class="headerlink" title="Moment的常见用法"></a>Moment的常见用法</h2><h3 id="获取当前周的时间-周一的此刻到周天的此刻"><a href="#获取当前周的时间-周一的此刻到周天的此刻" class="headerlink" title="获取当前周的时间/周一的此刻到周天的此刻"></a>获取当前周的时间/周一的此刻到周天的此刻</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">function weekDate() &#123;</span><br><span class="line">    var now &#x3D; new Date();</span><br><span class="line">    var nowTime &#x3D; now.getTime();</span><br><span class="line">    var day &#x3D; now.getDay();</span><br><span class="line">    var oneDayTime &#x3D; 24 * 60 * 60 * 1000;</span><br><span class="line">    var MondayTime &#x3D; nowTime - (day - 1) * oneDayTime;&#x2F;&#x2F;周一</span><br><span class="line">    var SundayTime &#x3D; nowTime + (7 - day) * oneDayTime;&#x2F;&#x2F;周日</span><br><span class="line"></span><br><span class="line">    return &#123; endTime: moment(new Date(SundayTime)).format(&#39;YYYY-MM-DD HH:mm:ss&#39;), startTime: moment(new Date(MondayTime)).format(&#39;YYYY-MM-DD HH:mm:ss&#39;) &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="获取月-年的时间-当月一号的此刻到月末的此刻-当年1-1的此刻到当年末的12-31的此刻"><a href="#获取月-年的时间-当月一号的此刻到月末的此刻-当年1-1的此刻到当年末的12-31的此刻" class="headerlink" title="获取月/年的时间/当月一号的此刻到月末的此刻/当年1.1的此刻到当年末的12.31的此刻"></a>获取月/年的时间/当月一号的此刻到月末的此刻/当年1.1的此刻到当年末的12.31的此刻</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">if (range &#x3D;&#x3D; &quot;week&quot;) &#123;</span><br><span class="line">	this.alarmDateObj &#x3D; weekDate();</span><br><span class="line">&#125; else if (range &#x3D;&#x3D; &quot;month&quot;) &#123;</span><br><span class="line">    this.alarmDateObj.startTime &#x3D; moment(new Date().setDate(1)).format(&#39;YYYY-MM-DD HH:mm:ss&#39;);</span><br><span class="line">    var date &#x3D; new Date();</span><br><span class="line">    var currentMonth &#x3D; date.getMonth();</span><br><span class="line">    var nextMonth &#x3D; ++currentMonth;</span><br><span class="line">    var nextMonthFirstDay &#x3D; new Date(date.getFullYear(), nextMonth, 1);</span><br><span class="line">    var oneDay &#x3D; 1000 * 60 * 60 * 24;</span><br><span class="line">    this.alarmDateObj.endTime &#x3D; moment(new Date(nextMonthFirstDay - oneDay)).format(&#39;YYYY-MM-DD HH:mm:ss&#39;);</span><br><span class="line">&#125; else &#123;</span><br><span class="line">    this.alarmDateObj &#x3D; &#123;</span><br><span class="line">        startTime: new Date().getFullYear() + &#39;-01-01 00:00:00&#39;,</span><br><span class="line">        endTime: new Date().getFullYear() + &#39;-12-31 23:59:59&#39;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="设置elementUI的Message的全局默认属性"><a href="#设置elementUI的Message的全局默认属性" class="headerlink" title="设置elementUI的Message的全局默认属性"></a>设置elementUI的Message的全局默认属性</h2><p>main.js</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Vue.prototype.Message &#x3D; function (obj) &#123;</span><br><span class="line">    ElementUI.Message(&#123;</span><br><span class="line">        message: obj.message,</span><br><span class="line">        type:obj.type,</span><br><span class="line">        showClose: true</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>plus:消息框多次弹窗解决</p>
<h2 id="全局filters"><a href="#全局filters" class="headerlink" title="全局filters"></a>全局filters</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">新建filters&#x2F;index.js</span><br><span class="line"></span><br><span class="line">const isNullOrEmpty &#x3D; function(val) &#123;</span><br><span class="line">    if (val &#x3D;&#x3D; null || val &#x3D;&#x3D; &quot;&quot; || typeof(val) &#x3D;&#x3D; undefined) &#123;</span><br><span class="line">        return true;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        return false;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">const timeFormat &#x3D; (value, format) &#x3D;&gt; &#123;</span><br><span class="line">    let date &#x3D; new Date(value);</span><br><span class="line">    let y &#x3D; date.getFullYear();</span><br><span class="line">    let m &#x3D; date.getMonth() + 1;</span><br><span class="line">    let d &#x3D; date.getDate();</span><br><span class="line">    let h &#x3D; date.getHours();</span><br><span class="line">    let min &#x3D; date.getMinutes();</span><br><span class="line">    let s &#x3D; date.getSeconds();</span><br><span class="line">    let result &#x3D; &quot;&quot;;</span><br><span class="line">    if (format &#x3D;&#x3D; undefined) &#123;</span><br><span class="line">        result &#x3D; &#96;$&#123;y&#125;-$&#123;m &lt; 10 ? &quot;0&quot; + m : m&#125;-$&#123;d &lt; 10 ? &quot;0&quot; + d : d&#125; $&#123;</span><br><span class="line">        h &lt; 10 ? &quot;0&quot; + h : h</span><br><span class="line">      &#125;:$&#123;min &lt; 10 ? &quot;0&quot; + min : min&#125;:$&#123;s &lt; 10 ? &quot;0&quot; + s : s&#125;&#96;;</span><br><span class="line">    &#125;</span><br><span class="line">    if (format &#x3D;&#x3D; &quot;yyyy-mm-dd&quot;) &#123;</span><br><span class="line">        result &#x3D; &#96;$&#123;y&#125;-$&#123;m &lt; 10 ? &quot;0&quot; + m : m&#125;-$&#123;d &lt; 10 ? &quot;0&quot; + d : d&#125;&#96;;</span><br><span class="line">    &#125;</span><br><span class="line">    if (format &#x3D;&#x3D; &quot;yyyy-mm&quot;) &#123;</span><br><span class="line">        result &#x3D; &#96;$&#123;y&#125;-$&#123;m &lt; 10 ? &quot;0&quot; + m : m&#125;&#96;;</span><br><span class="line">    &#125;</span><br><span class="line">    if (format &#x3D;&#x3D; &quot;mm-dd&quot;) &#123;</span><br><span class="line">        result &#x3D; &#96; $&#123;mm &lt; 10 ? &quot;0&quot; + mm : mm&#125;:$&#123;ddmin &lt; 10 ? &quot;0&quot; + dd : dd&#125;&#96;;</span><br><span class="line">    &#125;</span><br><span class="line">    if (format &#x3D;&#x3D; &quot;hh:mm&quot;) &#123;</span><br><span class="line">        result &#x3D; &#96; $&#123;h &lt; 10 ? &quot;0&quot; + h : h&#125;:$&#123;min &lt; 10 ? &quot;0&quot; + min : min&#125;&#96;;</span><br><span class="line">    &#125;</span><br><span class="line">    if (format &#x3D;&#x3D; &quot;yyyy&quot;) &#123;</span><br><span class="line">        result &#x3D; &#96;$&#123;y&#125;&#96;;</span><br><span class="line">    &#125;</span><br><span class="line">    return result;</span><br><span class="line">&#125;;</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">export &#123;</span><br><span class="line">    isNullOrEmpty,</span><br><span class="line">    timeFormat</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在main.js中引入和注册全局过滤器</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">import * as filters from &#39;..&#x2F;filters&#x2F;index&#39;</span><br><span class="line">Object.keys(filters).forEach(key &#x3D;&gt; &#123;</span><br><span class="line">    Vue.filter(key, filters[key])</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>此时就可以在不同的.vue中使用定义的全局过滤器了</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;span&gt;&#123;date|isNullOrEmpty&#125;是否为空&lt;&#x2F;span&gt;</span><br></pre></td></tr></table></figure>



<p>简易版</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">main.js</span><br><span class="line">Vue.filter(&#39;tofixed&#39;, function (value,num&#x3D;2) &#123;</span><br><span class="line">  if (!value) return 0</span><br><span class="line">  return value.toFixed(num)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>





<h2 id="使用特殊字体（digital等）"><a href="#使用特殊字体（digital等）" class="headerlink" title="使用特殊字体（digital等）"></a>使用特殊字体（digital等）</h2><p>一、CDN引入</p>
<pre><code>&lt;style&gt;
@font-face{
    font-family:QingKe;
    src:url(&quot;https://g.alicdn.com/TSG/damo-static/2019.918.162009/damo/css/font/iozzkhwu.ttf&quot;)
    /* src: url-loader(&quot;@/assets/iozzkhwu.ttf&quot;);  这种方式是错误的*/
}
@font-face{
    font-family:SYHT;
    src: url(&apos;https://tuyu.hnbcdn.com/SHSCN-ELight.eot&apos;);
    src:url(https://tuyu.hnbcdn.com/SHSCN-ELight.eot);
    src:local(&apos;鈽�&apos;),url(https://tuyu.hnbcdn.com/SHSCN-ELight.woff) format(&apos;woff&apos;),url(https://tuyu.hnbcdn.com/SHSCN-ELight.ttf) format(&apos;truetype&apos;),url(https://tuyu.hnbcdn.com/SHSCN-ELight.svg) format(&apos;svg&apos;);font-weight:400;font-style:normal
}
.wenzi{
  font-family: SYHT;
      letter-spacing:3px;
      font-weight: 100;
}
&lt;/style&gt;</code></pre><p>二、assets中引入静态文件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">@font-face &#123;</span><br><span class="line"> font-family: &#39;SHIZHONGZITI&#39;;</span><br><span class="line"> src: url(.&#x2F;assets&#x2F;DIGITAL-7_MONO-WEBFONT.ttf);  </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.teshu &#123;</span><br><span class="line"> font-family: SHIZHONGZITI;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="sass安装失败或报no-such-file-or-directoryXXXnode-sass-vendor"><a href="#sass安装失败或报no-such-file-or-directoryXXXnode-sass-vendor" class="headerlink" title="sass安装失败或报no such file or directoryXXXnode-sass\vendor"></a>sass安装失败或报no such file or directoryXXXnode-sass\vendor</h2><p>坑四：安装sass失败</p>
<p>由于sass-loader依赖于node-sass，所以按如下顺序分别下载依赖：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">npm install --save-dev node-sass</span><br><span class="line">npm install --save-dev sass-loader</span><br><span class="line"></span><br><span class="line">如果报错，则安装以下版本</span><br><span class="line">&quot;node-sass&quot;: &quot;^4.7.2&quot;,</span><br><span class="line">&quot;sass-loader&quot;: &quot;^6.0.5&quot;,</span><br></pre></td></tr></table></figure>

<p>plus-报错：<img src="/2020/10/29/vue%E4%B9%8Bseekcy%E5%BC%80%E5%8F%91%E5%8E%86%E7%A8%8B%E8%AE%B0%E5%BD%951/image-20221129181836130.png" alt="image-20221129181836130"></p>
<p>解决：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm rebuild node-sass --save-dev</span><br></pre></td></tr></table></figure>



<h2 id="随机获取布尔值（true-false"><a href="#随机获取布尔值（true-false" class="headerlink" title="随机获取布尔值（true/false"></a><strong>随机获取布尔值（true/false</strong></h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">const randomBoolean &#x3D; () &#x3D;&gt; Math.random() &gt;&#x3D; 0.5;</span><br><span class="line">console.log(randomBoolean());</span><br></pre></td></tr></table></figure>



<h2 id="判断给的日期是否为工作日"><a href="#判断给的日期是否为工作日" class="headerlink" title="判断给的日期是否为工作日"></a><strong>判断给的日期是否为工作日</strong></h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">const isWeekday &#x3D; (date) &#x3D;&gt; date.getDay() % 6 !&#x3D;&#x3D; 0;</span><br><span class="line">console.log(isWeekday(new Date(2021, 0, 11)));</span><br><span class="line">&#x2F;&#x2F; Result: true (Monday)  getDay()&#x3D;[0,1,2,3,4,5,6]</span><br></pre></td></tr></table></figure>



<h2 id="localstorage清除特定的一类"><a href="#localstorage清除特定的一类" class="headerlink" title="localstorage清除特定的一类"></a>localstorage清除特定的一类</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Object.keys(localStorage).forEach(item &#x3D;&gt; item.indexOf(&#39;mine&#39;) !&#x3D;&#x3D; -1 ? localStorage.removeItem(item) : &#39;&#39;);</span><br><span class="line"></span><br><span class="line">删除带mine字段的缓存</span><br></pre></td></tr></table></figure>



<h2 id="locakstorage的过期时间和加密设置"><a href="#locakstorage的过期时间和加密设置" class="headerlink" title="locakstorage的过期时间和加密设置"></a>locakstorage的过期时间和加密设置</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/***</span></span><br><span class="line"><span class="comment"> * title: storage.js</span></span><br><span class="line"><span class="comment"> * Author: Gaby</span></span><br><span class="line"><span class="comment"> * Email: xxx@126.com</span></span><br><span class="line"><span class="comment"> * Time: 2022/6/1 17:30</span></span><br><span class="line"><span class="comment"> * last: 2022/6/2 17:30</span></span><br><span class="line"><span class="comment"> * Desc: 对存储的简单封装</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"> </span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 加密方法引入</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="variable">data</span></span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@returns <span class="type">&#123;string&#125;</span></span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">// 安装crypto-js</span></span><br><span class="line">npm install crypto-js</span><br><span class="line"><span class="comment">// 引入 crypto-js 有以下两种方式</span></span><br><span class="line"><span class="keyword">import</span> CryptoJS <span class="keyword">from</span> <span class="string">"crypto-js"</span>;</span><br><span class="line"><span class="comment">// 或者</span></span><br><span class="line"><span class="keyword">const</span> CryptoJS = <span class="built_in">require</span>(<span class="string">"crypto-js"</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 十六位十六进制数作为密钥</span></span><br><span class="line"><span class="keyword">const</span> SECRET_KEY = CryptoJS.enc.Utf8.parse(<span class="string">"3333e6e143439161"</span>);</span><br><span class="line"><span class="comment">// 十六位十六进制数作为密钥偏移量</span></span><br><span class="line"><span class="keyword">const</span> SECRET_IV = CryptoJS.enc.Utf8.parse(<span class="string">"e3bbe7e3ba84431a"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 类型 window.localStorage,window.sessionStorage,</span></span><br><span class="line"><span class="keyword">const</span> config = &#123;</span><br><span class="line">    type: <span class="string">'localStorage'</span>, <span class="comment">// 本地存储类型 sessionStorage</span></span><br><span class="line">    prefix: <span class="string">'SDF_0.0.1'</span>, <span class="comment">// 名称前缀 建议：项目名 + 项目版本</span></span><br><span class="line">    expire: <span class="number">1</span>, <span class="comment">//过期时间 单位：秒</span></span><br><span class="line">    isEncrypt: <span class="literal">true</span> <span class="comment">// 默认加密 为了调试方便, 开发过程中可以不加密</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 判断是否支持 Storage</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> isSupportStorage = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> (<span class="keyword">typeof</span> (Storage) !== <span class="string">"undefined"</span>) ? <span class="literal">true</span> : <span class="literal">false</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 设置 setStorage</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> setStorage = <span class="function">(<span class="params">key, value, expire = <span class="number">0</span></span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (value === <span class="string">''</span> || value === <span class="literal">null</span> || value === <span class="literal">undefined</span>) &#123;</span><br><span class="line">        value = <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">isNaN</span>(expire) || expire &lt; <span class="number">0</span>) <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">"Expire must be a number"</span>);</span><br><span class="line"></span><br><span class="line">    expire = (expire ? expire : config.expire) * <span class="number">1000</span>;</span><br><span class="line">    <span class="keyword">let</span> data = &#123;</span><br><span class="line">        value: value, <span class="comment">// 存储值</span></span><br><span class="line">        time: <span class="built_in">Date</span>.now(), <span class="comment">//存值时间戳</span></span><br><span class="line">        expire: expire <span class="comment">// 过期时间</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">const</span> encryptString = config.isEncrypt </span><br><span class="line">    ? encrypt(<span class="built_in">JSON</span>.stringify(data))</span><br><span class="line">    : <span class="built_in">JSON</span>.stringify(data);</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">window</span>[config.type].setItem(autoAddPrefix(key), encryptString);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 获取 getStorage</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> getStorage = <span class="function">(<span class="params">key</span>) =&gt;</span> &#123;</span><br><span class="line">    key = autoAddPrefix(key);</span><br><span class="line">    <span class="comment">// key 不存在判断</span></span><br><span class="line">    <span class="keyword">if</span> (!<span class="built_in">window</span>[config.type].getItem(key) || <span class="built_in">JSON</span>.stringify(<span class="built_in">window</span>[config.type].getItem(key)) === <span class="string">'null'</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 优化 持续使用中续期</span></span><br><span class="line">    <span class="keyword">const</span> storage = config.isEncrypt </span><br><span class="line">    ? <span class="built_in">JSON</span>.parse(decrypt(<span class="built_in">window</span>[config.type].getItem(key))) </span><br><span class="line">    : <span class="built_in">JSON</span>.parse(<span class="built_in">window</span>[config.type].getItem(key));</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">let</span> nowTime = <span class="built_in">Date</span>.now();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 过期删除</span></span><br><span class="line">    <span class="keyword">if</span> (storage.expire &amp;&amp; config.expire * <span class="number">6000</span> &lt; (nowTime - storage.time)) &#123;</span><br><span class="line">        removeStorage(key);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// 未过期期间被调用 则自动续期 进行保活</span></span><br><span class="line">        setStorage(autoRemovePrefix(key), storage.value);</span><br><span class="line">        <span class="keyword">return</span> storage.value;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 是否存在 hasStorage</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> hasStorage = <span class="function">(<span class="params">key</span>) =&gt;</span> &#123;</span><br><span class="line">    key = autoAddPrefix(key);</span><br><span class="line">    <span class="keyword">let</span> arr = getStorageAll().filter(<span class="function">(<span class="params">item</span>)=&gt;</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> item.key === key;</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">return</span> arr.length ? <span class="literal">true</span> : <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 获取所有key</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> getStorageKeys = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> items = getStorageAll()</span><br><span class="line">    <span class="keyword">let</span> keys = []</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> index = <span class="number">0</span>; index &lt; items.length; index++) &#123;</span><br><span class="line">        keys.push(items[index].key)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> keys</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 根据索引获取key</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> getStorageForIndex = <span class="function">(<span class="params">index</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">window</span>[config.type].key(index)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 获取localStorage长度</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> getStorageLength = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">window</span>[config.type].length</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 获取全部 getAllStorage</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> getStorageAll = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> len = <span class="built_in">window</span>[config.type].length <span class="comment">// 获取长度</span></span><br><span class="line">    <span class="keyword">let</span> arr = <span class="keyword">new</span> <span class="built_in">Array</span>() <span class="comment">// 定义数据集</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">        <span class="comment">// 获取key 索引从0开始</span></span><br><span class="line">        <span class="keyword">let</span> getKey = <span class="built_in">window</span>[config.type].key(i)</span><br><span class="line">        <span class="comment">// 获取key对应的值</span></span><br><span class="line">        <span class="keyword">let</span> getVal = <span class="built_in">window</span>[config.type].getItem(getKey)</span><br><span class="line">        <span class="comment">// 放进数组</span></span><br><span class="line">        arr[i] = &#123;<span class="string">'key'</span>: getKey, <span class="string">'val'</span>: getVal,&#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> arr</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 删除 removeStorage</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> removeStorage = <span class="function">(<span class="params">key</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">window</span>[config.type].removeItem(autoAddPrefix(key));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 清空 clearStorage</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> clearStorage = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">window</span>[config.type].clear();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 名称前自动添加前缀</span></span><br><span class="line"><span class="keyword">const</span> autoAddPrefix = <span class="function">(<span class="params">key</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> prefix = config.prefix ? config.prefix + <span class="string">'_'</span> : <span class="string">''</span>;</span><br><span class="line">    <span class="keyword">return</span>  prefix + key;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 移除已添加的前缀</span></span><br><span class="line"><span class="keyword">const</span> autoRemovePrefix = <span class="function">(<span class="params">key</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> len = config.prefix ? config.prefix.length+<span class="number">1</span> : <span class="string">''</span>;</span><br><span class="line">    <span class="keyword">return</span> key.substr(len)</span><br><span class="line">    <span class="comment">// const prefix = config.prefix ? config.prefix + '_' : '';</span></span><br><span class="line">    <span class="comment">// return  prefix + key;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 加密方法</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="variable">data</span></span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@returns <span class="type">&#123;string&#125;</span></span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> encrypt = <span class="function">(<span class="params">data</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> data === <span class="string">"object"</span>) &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            data = <span class="built_in">JSON</span>.stringify(data);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">"encrypt error:"</span>, error);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">const</span> dataHex = CryptoJS.enc.Utf8.parse(data);</span><br><span class="line">    <span class="keyword">const</span> encrypted = CryptoJS.AES.encrypt(dataHex, SECRET_KEY, &#123;</span><br><span class="line">        iv: SECRET_IV,</span><br><span class="line">        mode: CryptoJS.mode.CBC,</span><br><span class="line">        padding: CryptoJS.pad.Pkcs7</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">return</span> encrypted.ciphertext.toString();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 解密方法</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="variable">data</span></span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@returns <span class="type">&#123;string&#125;</span></span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> decrypt = <span class="function">(<span class="params">data</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> encryptedHexStr = CryptoJS.enc.Hex.parse(data);</span><br><span class="line">    <span class="keyword">const</span> str = CryptoJS.enc.Base64.stringify(encryptedHexStr);</span><br><span class="line">    <span class="keyword">const</span> decrypt = CryptoJS.AES.decrypt(str, SECRET_KEY, &#123;</span><br><span class="line">        iv: SECRET_IV,</span><br><span class="line">        mode: CryptoJS.mode.CBC,</span><br><span class="line">        padding: CryptoJS.pad.Pkcs7</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">const</span> decryptedStr = decrypt.toString(CryptoJS.enc.Utf8);</span><br><span class="line">    <span class="keyword">return</span> decryptedStr.toString();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="部署服务器后刷新404"><a href="#部署服务器后刷新404" class="headerlink" title="部署服务器后刷新404"></a>部署服务器后刷新404</h2><p>参考链接 <a href="https://mp.weixin.qq.com/s/DqS4shzElGQUqwKGD5oweA" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/DqS4shzElGQUqwKGD5oweA</a></p>
<h3 id="为什么history模式下有问题"><a href="#为什么history模式下有问题" class="headerlink" title="为什么history模式下有问题"></a>为什么history模式下有问题</h3><p><code>Vue</code>是属于单页应用（single-page application）</p>
<p>而<code>SPA</code>是一种网络应用程序或网站的模型，所有用户交互是通过动态重写当前页面，前面我们也看到了，不管我们应用有多少页面，构建物都只会产出一个<code>index.html</code></p>
<p>现在，我们回头来看一下我们的<code>nginx</code>配置</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">server &#123;</span><br><span class="line">  listen  80;</span><br><span class="line">  server_name  www.xxx.com;</span><br><span class="line"></span><br><span class="line">  location &#x2F; &#123;</span><br><span class="line">    index  &#x2F;data&#x2F;dist&#x2F;index.html;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>可以根据 <code>nginx</code> 配置得出，当我们在地址栏输入 <code>www.xxx.com</code> 时，这时会打开我们 <code>dist</code>目录下的 <code>index.html</code> 文件，然后我们在跳转路由进入到 <code>www.xxx.com/login</code></p>
<p>关键在这里，当我们在 <code>website.com/login</code> 页执行刷新操作，<code>nginx location</code> 是没有相关配置的，所以就会出现 404 的情况</p>
<h3 id="为什么hash模式下没有问题"><a href="#为什么hash模式下没有问题" class="headerlink" title="为什么hash模式下没有问题"></a>为什么hash模式下没有问题</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">router hash&#96; 模式我们都知道是用符号#表示的，如  &#96;website.com&#x2F;#&#x2F;login&#96;, &#96;hash&#96; 的值为&#96;#&#x2F;login</span><br></pre></td></tr></table></figure>

<p>它的特点在于：<code>hash</code> 虽然出现在 <code>URL</code> 中，但不会被包括在 <code>HTTP</code> 请求中，对服务端完全没有影响，因此改变 <code>hash</code> 不会重新加载页面</p>
<p><code>hash</code> 模式下，仅 <code>hash</code> 符号之前的内容会被包含在请求中，如 <code>website.com/#/login</code> 只有<code>website.com</code> 会被包含在请求中 ，因此对于服务端来说，即使没有配置<code>location</code>，也不会返回404错误</p>
<h3 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h3><p>看到这里我相信大部分同学都能想到怎么解决问题了，</p>
<p>产生问题的本质是因为我们的路由是通过JS来执行视图切换的，</p>
<p>当我们进入到子路由时刷新页面，<code>web</code>容器没有相对应的页面此时会出现404</p>
<p>所以我们只需要配置将任意页面都重定向到 <code>index.html</code>，把路由交由前端处理</p>
<p>对<code>nginx</code>配置文件<code>.conf</code>修改，添加<code>try_files $uri $uri/ /index.html;</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">  listen  80;</span><br><span class="line">  server_name  www.xxx.com;</span><br><span class="line"></span><br><span class="line">  location &#x2F; &#123;</span><br><span class="line">    index  &#x2F;data&#x2F;dist&#x2F;index.html;</span><br><span class="line">    try_files $uri $uri&#x2F; &#x2F;index.html;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>修改完配置文件后记得配置的更新</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nginx -s reload</span><br></pre></td></tr></table></figure>

<p>这么做以后，你的服务器就不再返回 404 错误页面，因为对于所有路径都会返回 <code>index.html</code>文件</p>
<p>为了避免这种情况，你应该在 <code>Vue</code> 应用里面覆盖所有的路由情况，然后在给出一个 404 页面</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">const router &#x3D; new VueRouter(&#123;</span><br><span class="line">  mode: &#39;history&#39;,</span><br><span class="line">  routes: [</span><br><span class="line">    &#123; path: &#39;*&#39;, component: NotFoundComponent &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>



<h2 id="监听页面或者元素的滚动-控制元素的滚动（jquery）"><a href="#监听页面或者元素的滚动-控制元素的滚动（jquery）" class="headerlink" title="监听页面或者元素的滚动/控制元素的滚动（jquery）"></a>监听页面或者元素的滚动/控制元素的滚动（jquery）</h2><ol>
<li>监听页面滚动</li>
</ol>
<p>在生命周期mounted中进行监听滚动：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mounted () &#123;</span><br><span class="line">    window.addEventListener(&#39;scroll&#39;, this.scrollToTop)</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<p>在方法中定义监听滚动执行的方法：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">scrollToTop() &#123;</span><br><span class="line"> 　　var scrollTop &#x3D; window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop;</span><br><span class="line"> 　　console.log(scrollTop)</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>监听某元素滚动</li>
</ol>
<p>tips：监听的这个元素是父级元素，固定高度后overflow:auto,</p>
<p>vue组件中：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id&#x3D;&quot;scrollcont&quot; style&#x3D;&quot;height:350px;overflow:auto;background:red;&quot; @scroll&#x3D;&quot;scrollEvent&quot;&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;read-con&quot; style&#x3D;&quot;height:1000px;margin:10px;background:pink;&quot;&gt;&lt;&#x2F;div&gt;           </span><br><span class="line">&lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure>

<p>在方法中定义scrolldiv，是监听class为read-con滚动以后需要执行的方法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">scrollEvent () &#123;</span><br><span class="line">   let _this &#x3D; this</span><br><span class="line">   let scrollcont &#x3D; _this.$el.querySelector(&#39;#scrollcont&#39;)</span><br><span class="line">   console.log(scrollcont.scrollToTop)</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>vue中控制元素滚动到底部</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">clickMe()&#123;</span><br><span class="line">  let _this &#x3D; this</span><br><span class="line">  let read &#x3D; _this.$el.querySelector(&#39;.test&#39;)  </span><br><span class="line">  &#x2F;&#x2F;返回第一个class为test元素，this.$el.querySelectorAll(&#39;.test&#39;)，返回所有</span><br><span class="line">  read.scrollTop &#x3D; read.scrollHeight</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>



<ol start="4">
<li>jquery控制元素滚动到底部</li>
</ol>
<p>jquery取 scrollHeight, $(“#scrollTopCont”).scrollHeight 拿不到<br>$(“#scrollTopCont”)[0].scrollHeight //取值scrollHeight</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">setTimeout(() &#x3D;&gt; &#123;</span><br><span class="line">   &#x2F;&#x2F; console.log($(&quot;#scrollTopCont&quot;)[0].scrollHeight, );</span><br><span class="line">   $(&quot;#scrollTopCont&quot;).scrollTop($(&quot;#scrollTopCont&quot;)[0].scrollHeight)</span><br><span class="line">&#125;, 100);</span><br></pre></td></tr></table></figure>



<h2 id="上传图片-excel文件到接口"><a href="#上传图片-excel文件到接口" class="headerlink" title="上传图片/excel文件到接口"></a>上传图片/excel文件到接口</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">submitData() &#123;</span><br><span class="line">    const that &#x3D; this;</span><br><span class="line">    const fd &#x3D; new FormData()&#x2F;&#x2F; FormData 对象</span><br><span class="line">    fd.append(&#39;file&#39;, this.fileObj)&#x2F;&#x2F; 文件对象  &#39;upload&#39;是后台接收的参数名</span><br><span class="line">    const config &#x3D; &#123;</span><br><span class="line">        headers: &#123;</span><br><span class="line">        &quot;Content-Type&quot;: &quot;application&#x2F;x-www-form-urlencoded&quot;,</span><br><span class="line">        &quot;Authorization&quot;: localStorage.getItem(&#39;token_IOT&#39;),</span><br><span class="line">        &quot;buildId&quot;: localStorage.getItem(&quot;buildId_IOT&quot;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    axios.post(axiosUrl, fd, config)</span><br><span class="line">    .then(function (response) &#123;</span><br><span class="line"></span><br><span class="line">    &#125;)</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>





<h2 id="preserveWhitespace-去除空格"><a href="#preserveWhitespace-去除空格" class="headerlink" title="preserveWhitespace(去除空格)"></a><strong>preserveWhitespace</strong>(去除空格)</h2><p>场景:开发 vue 代码一般会有空格,这个时候打包压缩如果不去掉空格会加大包的体积<br>配置preserveWhitespace可以减小包的体积</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">rules: [</span><br><span class="line">     &#123;</span><br><span class="line">       test: &#x2F;\.vue$&#x2F;,</span><br><span class="line">       loader: &#39;vue-loader&#39;,</span><br><span class="line">       options: &#123;</span><br><span class="line">         compilerOptions: &#123;</span><br><span class="line">           preserveWhitespace: false</span><br><span class="line">         &#125;</span><br><span class="line">       &#125;</span><br><span class="line">     &#125;,</span><br><span class="line">]</span><br></pre></td></tr></table></figure>



<h2 id="vue-add-element"><a href="#vue-add-element" class="headerlink" title="vue add element"></a>vue add element</h2><p>可以一开始在终端中选择按需还是全局引入该组件，使用该命令以插件的方式引入elementui，会增加一个plugins文件，里面的elementjs配置文件</p>
<h2 id="img-加载失败"><a href="#img-加载失败" class="headerlink" title="img 加载失败"></a><strong>img 加载失败</strong></h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; page 代码</span><br><span class="line">&lt;img :src&#x3D;&quot;imgUrl&quot; @error&#x3D;&quot;handleError&quot; alt&#x3D;&quot;&quot;&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default&#123;</span><br><span class="line"> data()&#123;</span><br><span class="line">  return&#123;</span><br><span class="line">   imgUrl:&#39;&#39;</span><br><span class="line">  &#125;</span><br><span class="line"> &#125;,</span><br><span class="line"> methods:&#123;</span><br><span class="line">  handleError(e)&#123;</span><br><span class="line">   e.target.src&#x3D;reqiure(&#39;图片路径&#39;) </span><br><span class="line">  &#125;</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>



<h2 id="require-context"><a href="#require-context" class="headerlink" title="require.context()"></a><strong>require.context()</strong></h2><p>1.场景:如页面需要导入多个组件,原始写法:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">import titleCom from &#39;@&#x2F;components&#x2F;home&#x2F;titleCom&#39;</span><br><span class="line">import bannerCom from &#39;@&#x2F;components&#x2F;home&#x2F;bannerCom&#39;</span><br><span class="line">import cellCom from &#39;@&#x2F;components&#x2F;home&#x2F;cellCom&#39;</span><br><span class="line">components:&#123;titleCom,bannerCom,cellCom&#125;</span><br></pre></td></tr></table></figure>

<p>2.这样就写了大量重复的代码,利用 require.context 可以写成</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">const path &#x3D; require(&#39;path&#39;)</span><br><span class="line">const files &#x3D; require.context(&#39;@&#x2F;components&#x2F;home&#39;, false, &#x2F;\.vue$&#x2F;)</span><br><span class="line">const modules &#x3D; &#123;&#125;</span><br><span class="line">files.keys().forEach(key &#x3D;&gt; &#123;</span><br><span class="line"> const name &#x3D; path.basename(key, &#39;.vue&#39;)</span><br><span class="line"> modules[name] &#x3D; files(key).default || files(key)</span><br><span class="line">&#125;)</span><br><span class="line">components:modules</span><br></pre></td></tr></table></figure>

<p>这样不管页面引入多少组件,都可以使用这个方法</p>
<p>状态管理的modules也可以使用同样的方法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">const modulesFiles &#x3D; require.context(&#39;.&#x2F;modules&#39;, true, &#x2F;\.js$&#x2F;);</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; you do not need &#96;import app from &#39;.&#x2F;modules&#x2F;app&#39;&#96;</span><br><span class="line">&#x2F;&#x2F; it will auto require all vuex module from modules file</span><br><span class="line">const modules &#x3D; modulesFiles.keys().reduce((modules, modulePath) &#x3D;&gt; &#123;</span><br><span class="line">  &#x2F;&#x2F; set &#39;.&#x2F;app.js&#39; &#x3D;&gt; &#39;app&#39;</span><br><span class="line">  const moduleName &#x3D; modulePath.replace(&#x2F;^\.\&#x2F;(.*)\.\w+$&#x2F;, &#39;$1&#39;);</span><br><span class="line">  const value &#x3D; modulesFiles(modulePath);</span><br><span class="line">  modules[moduleName] &#x3D; value.default;</span><br><span class="line">  return modules;</span><br><span class="line">&#125;, &#123;&#125;);</span><br><span class="line">const store &#x3D; new Vuex.Store(&#123;</span><br><span class="line">  modules,</span><br><span class="line">  getters</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>





<p>3.API 方法</p>
<blockquote>
<p>实际上是 webpack 的方法,vue 工程一般基于 webpack,所以可以使用<br>require.context(directory,useSubdirectories,regExp)<br>接收三个参数:<br>directory：说明需要检索的目录<br>useSubdirectories：是否检索子目录<br>regExp: 匹配文件的正则表达式,一般是文件名</p>
</blockquote>
<h2 id="在vue项目中监听键盘事件的方法"><a href="#在vue项目中监听键盘事件的方法" class="headerlink" title="在vue项目中监听键盘事件的方法"></a>在vue项目中监听键盘事件的方法</h2><p>1在main.js文件中写入以下代码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">Vue.prototype.$keyBoard &#x3D; function (vm, methodName, code) &#123;</span><br><span class="line"></span><br><span class="line"> document.onkeydown &#x3D; function () &#123;</span><br><span class="line"></span><br><span class="line">  let key &#x3D; window.event.keyCode;</span><br><span class="line"></span><br><span class="line">  if (key &#x3D;&#x3D; code) &#123;</span><br><span class="line"></span><br><span class="line">   vm[methodName](code); &#x2F;&#x2F; 触发methodName事件</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"> &#125;;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>2在需要监听键盘事件的组件里的mounted 生命周期内写入：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">mounted () &#123;</span><br><span class="line"></span><br><span class="line">  this.$keyBoard(this, &#39;onClickEnter&#39;, 13) &#x2F;&#x2F; 13就是回车键的keycode,这样点击回车就能触发onClickEnter这个事件了</span><br><span class="line"></span><br><span class="line"> &#125;,</span><br></pre></td></tr></table></figure>



<p>3在组件中定义被键盘事件触发的方法：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">methods: &#123;</span><br><span class="line"></span><br><span class="line">  onClickEnter () &#123;</span><br><span class="line"></span><br><span class="line">   alert(&#39;哈哈&#39;)</span><br><span class="line"></span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="Vue——全局element-resize-detector监听DOM元素"><a href="#Vue——全局element-resize-detector监听DOM元素" class="headerlink" title="Vue——全局element-resize-detector监听DOM元素"></a>Vue——全局element-resize-detector监听DOM元素</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">第一步：通过npm install element-resize-detector获取elementResizeDetectorMaker</span><br><span class="line"></span><br><span class="line">npm install element-resize-detector</span><br><span class="line">第二步：将依赖引入import elementResizeDetectorMaker from ‘element-resize-detector’</span><br><span class="line"></span><br><span class="line">import ElementResizeDetectorMaker from &quot;element-resize-detector&quot;</span><br><span class="line">Vue.prototype.$erd &#x3D; ElementResizeDetectorMaker()</span><br><span class="line">第三步：使用</span><br><span class="line"></span><br><span class="line">this.$erd.listenTo(document.getElementById(&quot;chinaMapChart&quot;), (element)&#x3D;&gt;&#123;</span><br><span class="line">   this.resize()</span><br><span class="line">&#125;)</span><br><span class="line">如果不使用Lambda表达式作为监听器，会出现不能获取data和methods的情况，具体原因参考JavaScript高级教程</span><br><span class="line"></span><br><span class="line">解决方案：</span><br><span class="line"></span><br><span class="line">let that &#x3D; this;</span><br><span class="line">this.$erd.listenTo(document.getElementById(&quot;bar&quot;), function (element) &#123;</span><br><span class="line">    that.$nextTick(function () &#123;</span><br><span class="line">        &#x2F;&#x2F;使echarts尺寸重置</span><br><span class="line">        that.myEcharts.resize();</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>



<h2 id="使用插件vue-clipboard2复制内容至剪切板-两种使用方法"><a href="#使用插件vue-clipboard2复制内容至剪切板-两种使用方法" class="headerlink" title="使用插件vue-clipboard2复制内容至剪切板(两种使用方法)"></a>使用插件vue-clipboard2复制内容至剪切板(两种使用方法)</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save vue-clipboard2</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#39;vue&#39;</span><br><span class="line">import VueClipboard from &#39;vue-clipboard2&#39;</span><br><span class="line"> </span><br><span class="line">Vue.use(VueClipboard)</span><br></pre></td></tr></table></figure>

<h3 id="方式一"><a href="#方式一" class="headerlink" title="方式一"></a>方式一</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class&#x3D;&quot;container&quot;&gt;</span><br><span class="line">    &lt;input type&#x3D;&quot;text&quot; v-model&#x3D;&quot;message&quot;&gt;</span><br><span class="line">  &lt;button class&#x3D;&quot;fs12&quot;</span><br><span class="line">            v-clipboard:copy&#x3D;&quot;&#39;地址：&#39;+detail.address+&#39;\n姓名：&#39;+detail.name+&#39;\n电话：&#39;+detail.phone&quot;</span><br><span class="line">        v-clipboard:success&#x3D;&quot;onCopy&quot; </span><br><span class="line">        v-clipboard:error&#x3D;&quot;onError&quot;&gt;复制&lt;&#x2F;button&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  export default &#123;</span><br><span class="line">    data() &#123;</span><br><span class="line">      return &#123;</span><br><span class="line">       detail:&#123;</span><br><span class="line">        address:&#39;地址&#39;,</span><br><span class="line">        name:&#39;名字&#39;,</span><br><span class="line">        phone:&#39;1234567&#39;</span><br><span class="line">           &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">      onCopy: function (e) &#123;</span><br><span class="line">        alert(&#39;You just copied: &#39; + e.text)</span><br><span class="line">      &#125;,</span><br><span class="line">      onError: function (e) &#123;</span><br><span class="line">        console.log(e)</span><br><span class="line">        alert(&#39;Failed to copy texts&#39;)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<h3 id="方式二"><a href="#方式二" class="headerlink" title="方式二"></a>方式二</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class&#x3D;&quot;container&quot;&gt;</span><br><span class="line">     &lt;button class&#x3D;&quot;fs12&quot; @click&#x3D;&quot;copyCode&quot;&gt;复制&lt;&#x2F;button&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  export default &#123;</span><br><span class="line">    data() &#123;</span><br><span class="line">      return &#123;</span><br><span class="line">        detail:&#123;</span><br><span class="line">        address:&#39;地址&#39;,</span><br><span class="line">        name:&#39;名字&#39;,</span><br><span class="line">        phone:&#39;1234567&#39;</span><br><span class="line">           &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">    copyCode() &#123;</span><br><span class="line">	this.$copyText(&#96;地址：$&#123;this.detail.address&#125;\n收件人：    $&#123;this.detail.name&#125;\n电话：$&#123;this.detail.phone&#125;&#96;).then(</span><br><span class="line">		        res &#x3D;&gt; &#123;</span><br><span class="line">		          console.log(res)</span><br><span class="line">		          this.$toast(&quot;已成功复制，可直接去粘贴&quot;);</span><br><span class="line">		        &#125;,</span><br><span class="line">		        err &#x3D;&gt; &#123;</span><br><span class="line">		          this.$toast(&quot;复制失败&quot;);</span><br><span class="line">		        &#125;</span><br><span class="line">		      )</span><br><span class="line">		    &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>



<h2 id="在vue中使用vue-qriously生成二维码"><a href="#在vue中使用vue-qriously生成二维码" class="headerlink" title="在vue中使用vue-qriously生成二维码"></a>在vue中使用vue-qriously生成二维码</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">1、安装</span><br><span class="line">npm i  vue-qriously -S</span><br><span class="line"></span><br><span class="line">2、引入</span><br><span class="line">&#x2F;&#x2F;main.js</span><br><span class="line">import Vue from &#39;vue&#39;</span><br><span class="line">import VueQriously from &#39;vue-qriously&#39;</span><br><span class="line">Vue.use(VueQriously)</span><br><span class="line"></span><br><span class="line">3、使用</span><br><span class="line">&#x2F;&#x2F;home.vue</span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;qriously :value&#x3D;&quot;qrcode&quot; :size&#x3D;&quot;200&quot; &#x2F;&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  export default &#123;</span><br><span class="line">    data() &#123;</span><br><span class="line">        return &#123;</span><br><span class="line">            qrcode: &#39;www.baidu.com&#39;</span><br><span class="line">         &#125;</span><br><span class="line">     &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<h3 id="创建一个简单的canvas并获取相应属性"><a href="#创建一个简单的canvas并获取相应属性" class="headerlink" title="创建一个简单的canvas并获取相应属性"></a>创建一个简单的canvas并获取相应属性</h3><p>链接：<a href="https://www.51sjk.com/b24b265343/" target="_blank" rel="noopener">https://www.51sjk.com/b24b265343/</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset&#x3D;&quot;utf-8&quot;&gt;</span><br><span class="line">&lt;title&gt;菜鸟教程(runoob.com)&lt;&#x2F;title&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;canvas id&#x3D;&quot;myCanvas&quot; width&#x3D;&quot;300&quot; height&#x3D;&quot;150&quot; style&#x3D;&quot;border:1px solid #d3d3d3;&quot;&gt;</span><br><span class="line">您的浏览器不支持 HTML5 canvas 标签。</span><br><span class="line">&lt;&#x2F;canvas&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">&#x2F;&#x2F;绘制图形</span><br><span class="line">    var c&#x3D;document.getElementById(&quot;myCanvas&quot;);</span><br><span class="line">    var ctx&#x3D;c.getContext(&quot;2d&quot;);</span><br><span class="line">    ctx.beginPath();</span><br><span class="line">    ctx.moveTo(20,20);</span><br><span class="line">    ctx.lineTo(20,100);</span><br><span class="line">    ctx.lineTo(70,100);</span><br><span class="line">    ctx.strokeStyle&#x3D;&quot;red&quot;;</span><br><span class="line">    ctx.stroke();</span><br><span class="line">    ctx.fillStyle &#x3D; &quot;#07F74B&quot;;</span><br><span class="line">    ctx.globalAlpha &#x3D; 0.2</span><br><span class="line">    ctx.fill()</span><br><span class="line">   </span><br><span class="line">&#x2F;&#x2F;绘制文字</span><br><span class="line">var canvas &#x3D; document.getelementbyid(&quot;mycanvas&quot;);   </span><br><span class="line">&#x2F;&#x2F;简单地检测当前浏览器是否支持canvas对象，以免在一些不支持html5的浏览器中提示语法错误   </span><br><span class="line">if(canvas.getcontext)&#123;     </span><br><span class="line">    &#x2F;&#x2F;获取对应的canvasrenderingcontext2d对象(画笔)   </span><br><span class="line">    var ctx &#x3D; canvas.getcontext(&quot;2d&quot;);   </span><br><span class="line">    &#x2F;&#x2F;设置字体样式   </span><br><span class="line">    ctx.font &#x3D; &quot;30px courier new&quot;;   </span><br><span class="line">    &#x2F;&#x2F;设置字体填充颜色   </span><br><span class="line">    ctx.fillstyle &#x3D; &quot;blue&quot;;   </span><br><span class="line">    &#x2F;&#x2F;从坐标点(50,50)开始绘制文字   </span><br><span class="line">    ctx.filltext(&quot;codeplayer+中文测试&quot;, 50, 50);   </span><br><span class="line">&#125;  </span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;绘制空心文字</span><br><span class="line">var canvas &#x3D; document.getelementbyid(&quot;mycanvas&quot;);   </span><br><span class="line">&#x2F;&#x2F;简单地检测当前浏览器是否支持canvas对象，以免在一些不支持html5的浏览器中提示语法错误   </span><br><span class="line">if(canvas.getcontext)&#123;     </span><br><span class="line">    &#x2F;&#x2F;获取对应的canvasrenderingcontext2d对象(画笔)   </span><br><span class="line">    var ctx &#x3D; canvas.getcontext(&quot;2d&quot;);   </span><br><span class="line">       </span><br><span class="line">    &#x2F;&#x2F;设置字体样式   </span><br><span class="line">    ctx.font &#x3D; &quot;30px courier new&quot;;   </span><br><span class="line">    &#x2F;&#x2F;设置字体颜色   </span><br><span class="line">    ctx.strokestyle &#x3D; &quot;blue&quot;;   </span><br><span class="line">    &#x2F;&#x2F;从坐标点(50,50)开始绘制文字   </span><br><span class="line">    ctx.stroketext(&quot;codeplayer+中文测试&quot;, 50, 50);   </span><br><span class="line">&#125;   </span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;将已有图片绘制到canvas上</span><br><span class="line">&#x2F;&#x2F;获取canvas对象(画布)   </span><br><span class="line">var canvas &#x3D; document.getelementbyid(&quot;mycanvas&quot;);   </span><br><span class="line">&#x2F;&#x2F;简单地检测当前浏览器是否支持canvas对象，以免在一些不支持html5的浏览器中提示语法错误   </span><br><span class="line">if(canvas.getcontext)&#123;     </span><br><span class="line">    &#x2F;&#x2F;获取对应的canvasrenderingcontext2d对象(画笔)   </span><br><span class="line">    var ctx &#x3D; canvas.getcontext(&quot;2d&quot;);  </span><br><span class="line">    &#x2F;&#x2F;创建新的图片对象   </span><br><span class="line">    var img &#x3D; new image();   </span><br><span class="line">    &#x2F;&#x2F;指定图片的url   </span><br><span class="line">    img.src &#x3D; &quot;http:&#x2F;&#x2F;www.365mini.com&#x2F;image&#x2F;google_logo.png&quot;;   </span><br><span class="line">    &#x2F;&#x2F;浏览器加载图片完毕后再绘制图片   </span><br><span class="line">    img.onload &#x3D; function()&#123;   </span><br><span class="line">        &#x2F;&#x2F;以canvas画布上的坐标(10,10)为起始点，绘制图像   </span><br><span class="line">        &#x2F;&#x2F;图像的宽度和高度分别缩放到350px和100px   </span><br><span class="line">        ctx.drawimage(img, 10, 10, 350, 100);                </span><br><span class="line">    &#125;;   </span><br><span class="line">&#125;   </span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;部分图像绘制</span><br><span class="line">&#x2F;&#x2F;获取canvas对象(画布)   </span><br><span class="line">var canvas &#x3D; document.getelementbyid(&quot;mycanvas&quot;);   </span><br><span class="line">&#x2F;&#x2F;简单地检测当前浏览器是否支持canvas对象，以免在一些不支持html5的浏览器中提示语法错误   </span><br><span class="line">if(canvas.getcontext)&#123;     </span><br><span class="line">    &#x2F;&#x2F;获取对应的canvasrenderingcontext2d对象(画笔)   </span><br><span class="line">    var ctx &#x3D; canvas.getcontext(&quot;2d&quot;);   </span><br><span class="line">       </span><br><span class="line">    &#x2F;&#x2F;创建新的图片对象   </span><br><span class="line">    var img &#x3D; new image();   </span><br><span class="line">    &#x2F;&#x2F;指定图片的url   </span><br><span class="line">    img.src &#x3D; &quot;http:&#x2F;&#x2F;www.365mini.com&#x2F;image&#x2F;google_logo.png&quot;;   </span><br><span class="line">    &#x2F;&#x2F;浏览器加载图片完毕后再绘制图片   </span><br><span class="line">    img.onload &#x3D; function()&#123;   </span><br><span class="line">        &#x2F;*  </span><br><span class="line">         * 将图像左侧的&quot;goo&quot;部分(即以坐标(0,0)为左上角坐标、宽度为332px、高度为190px的部分图像)  </span><br><span class="line">         * 绘制到canvas中以坐标(10,10)为左上角、宽度为332px、高度为190px的矩形区域  </span><br><span class="line">         *  </span><br><span class="line">         * canvas绘制图像的目标区域的宽度和高度与截取的部分图像尺寸保持一致，  </span><br><span class="line">         * 就表示不进行缩放，以原始尺寸截取部分图像  </span><br><span class="line">         *&#x2F;           </span><br><span class="line">        ctx.drawimage(img, 0, 0, 332, 190, 10, 10, 332, 190);                </span><br><span class="line">    &#125;;   </span><br><span class="line">&#125;   </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;获取属性</span><br><span class="line">    var myCanvas &#x3D; document.getElementById(&#39;myCanvas&#39;);</span><br><span class="line">    var myCanvas_rect &#x3D; myCanvas.getBoundingClientRect();</span><br><span class="line">    var width &#x3D; myCanvas_rect.width;</span><br><span class="line">    var height &#x3D; myCanvas_rect.height;</span><br><span class="line">&lt;&#x2F;script&gt; </span><br><span class="line"></span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<p><img src="/2020/10/29/vue%E4%B9%8Bseekcy%E5%BC%80%E5%8F%91%E5%8E%86%E7%A8%8B%E8%AE%B0%E5%BD%951/image-20220804092833798.png" alt="image-20220804092833798"></p>
<p><img src="/2020/10/29/vue%E4%B9%8Bseekcy%E5%BC%80%E5%8F%91%E5%8E%86%E7%A8%8B%E8%AE%B0%E5%BD%951/image-20220804093317665.png" alt="image-20220804093317665"></p>
<p><img src="/2020/10/29/vue%E4%B9%8Bseekcy%E5%BC%80%E5%8F%91%E5%8E%86%E7%A8%8B%E8%AE%B0%E5%BD%951/image-20220804093423674.png" alt="image-20220804093423674"></p>
<p><img src="/2020/10/29/vue%E4%B9%8Bseekcy%E5%BC%80%E5%8F%91%E5%8E%86%E7%A8%8B%E8%AE%B0%E5%BD%951/image-20220804093756104.png" alt="image-20220804093756104"></p>
<p><img src="/2020/10/29/vue%E4%B9%8Bseekcy%E5%BC%80%E5%8F%91%E5%8E%86%E7%A8%8B%E8%AE%B0%E5%BD%951/image-20220804093929113.png" alt="image-20220804093929113"></p>
<h2 id="使用html2canvas截取图片"><a href="#使用html2canvas截取图片" class="headerlink" title="使用html2canvas截取图片"></a>使用html2canvas截取图片</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">先引入插件</span><br><span class="line">npm install --save html2canvas</span><br><span class="line"></span><br><span class="line">之后在你所需要使用的页面引入</span><br><span class="line">import html2canvas from &quot;html2canvas&quot;</span><br><span class="line"></span><br><span class="line">html</span><br><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;about&quot;&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;imageWrapper&quot; ref&#x3D;&quot;imageWrapper&quot;&gt;</span><br><span class="line">            &lt;div class&#x3D;&quot;success&quot;&gt;</span><br><span class="line">                &lt;div class&#x3D;&quot;img&quot;&gt;</span><br><span class="line">                    &lt;img class&#x3D;&quot;img-icon&quot; src&#x3D;&quot;https:&#x2F;&#x2F;t10.baidu.com&#x2F;it&#x2F;u1&#x3D;1637861796&amp;u2&#x3D;2420578710&amp;fm&#x3D;76&quot;&#x2F;&gt;</span><br><span class="line">                    &lt;p style&#x3D;&quot;font-weight: 600; font-size: 18px&quot;&gt;支付成功&lt;&#x2F;p&gt;</span><br><span class="line">                &lt;&#x2F;div&gt;</span><br><span class="line">            &lt;&#x2F;div&gt;</span><br><span class="line">            &lt;div class&#x3D;&quot;success-detail&quot;&gt;</span><br><span class="line">                &lt;el-row style&#x3D;&quot;margin-top: 10px;&quot;&gt;</span><br><span class="line">                    &lt;el-col :span&#x3D;&quot;5&quot; class&#x3D;&quot;col-left-suc&quot;&gt;收款商家&lt;&#x2F;el-col&gt;</span><br><span class="line">                    &lt;el-col :span&#x3D;&quot;16&quot; class&#x3D;&quot;col-right&quot;&gt;是谁&lt;&#x2F;el-col&gt;</span><br><span class="line">                &lt;&#x2F;el-row&gt;</span><br><span class="line">                &lt;el-row style&#x3D;&quot;margin-top: 10px;&quot;&gt;</span><br><span class="line">                    &lt;el-col :span&#x3D;&quot;5&quot; class&#x3D;&quot;col-left-suc&quot;&gt;费用名称&lt;&#x2F;el-col&gt;</span><br><span class="line">                    &lt;el-col :span&#x3D;&quot;16&quot; class&#x3D;&quot;col-right&quot;&gt;保护费&lt;&#x2F;el-col&gt;</span><br><span class="line">                &lt;&#x2F;el-row&gt;</span><br><span class="line">                &lt;el-row style&#x3D;&quot;margin-top: 10px;&quot;&gt;</span><br><span class="line">                    &lt;el-col :span&#x3D;&quot;5&quot; class&#x3D;&quot;col-left-suc&quot;&gt;缴费金额&lt;&#x2F;el-col&gt;</span><br><span class="line">                    &lt;el-col :span&#x3D;&quot;16&quot; class&#x3D;&quot;col-right&quot;&gt;200元&lt;&#x2F;el-col&gt;</span><br><span class="line">                &lt;&#x2F;el-row&gt;</span><br><span class="line">            &lt;&#x2F;div&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;button&quot;&gt;</span><br><span class="line">            &lt;el-button style&#x3D;&quot;width: 70%;&quot; type&#x3D;&quot;success&quot; size&#x3D;&quot;small&quot; @click&#x3D;&quot;toImage&quot;&gt;生成截图&lt;&#x2F;el-button&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">        &lt;hr&gt;</span><br><span class="line">        &lt;hr&gt;</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">            &lt;img class&#x3D;&quot;real_pic&quot; :src&#x3D;&quot;dataURL&quot; &#x2F;&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">js</span><br><span class="line">&lt;script&gt;</span><br><span class="line">import html2canvas from &#39;html2canvas&#39;</span><br><span class="line">export default &#123;</span><br><span class="line">    data() &#123;</span><br><span class="line">        return &#123;</span><br><span class="line">            dataURL: &#39;&#39;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">        toImage() &#123;</span><br><span class="line">            html2canvas(this.$refs.imageWrapper, &#123;</span><br><span class="line">                backgroundColor: null,&#x2F;&#x2F;设置背景颜色为null</span><br><span class="line">                useCORS:true &#x2F;&#x2F;允许使用跨域资源的图片</span><br><span class="line">            &#125;).then((canvas) &#x3D;&gt; &#123;</span><br><span class="line">                let dataURL &#x3D; canvas.toDataURL(&quot;image&#x2F;png&quot;);</span><br><span class="line">                this.dataURL &#x3D; dataURL;</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">属性链接</span><br><span class="line">https:&#x2F;&#x2F;html2canvas.hertzen.com&#x2F;configuration</span><br></pre></td></tr></table></figure>



<h2 id="在vue中使用SockJS实现webSocket通信"><a href="#在vue中使用SockJS实现webSocket通信" class="headerlink" title="在vue中使用SockJS实现webSocket通信"></a>在vue中使用SockJS实现webSocket通信</h2><h3 id="1、简单介绍"><a href="#1、简单介绍" class="headerlink" title="1、简单介绍"></a>1、简单介绍</h3><p>基于webSocket通信的库主要有 <a href="https://github.com/socketio/socket.io" target="_blank" rel="noopener">socket.io</a>，<a href="https://github.com/sockjs/sockjs-client" target="_blank" rel="noopener">SockJS</a>，这次用的是 SockJS。</p>
<h3 id="2、前提"><a href="#2、前提" class="headerlink" title="2、前提"></a>2、前提</h3><p>这里我们使用<a href="https://link.juejin.im/?target=https%3A%2F%2Fgithub.com%2Fsockjs%2Fsockjs-client">sockjs-client</a>、<a href="https://link.juejin.im/?target=https%3A%2F%2Fgithub.com%2Fjmesnil%2Fstomp-websocket">stomjs</a>这两个模块，要实现webSocket通信，需要后台配合，也使用相应的模块。</p>
<p><strong>sockjs-client</strong><br><a href="https://link.juejin.im/?target=https%3A%2F%2Fgithub.com%2Fsockjs%2Fsockjs-client">sockjs-client</a>是从SockJS中分离出来的用于客户端使用的通信模块.所以我们就直接来看看SockJS. SockJS是一个浏览器的JavaScript库,它提供了一个类似于网络的对象,SockJS提供了一个连贯的,跨浏览器的JavaScriptAPI,它在浏览器和Web服务器之间创建了一个低延迟,全双工,跨域通信通道. 你可能会问,我为什么不直接用原生的WebSocket而要使用SockJS呢?这得益于SockJS的一大特性,一些浏览器中缺少对WebSocket的支持,因此，回退选项是必要的，而Spring框架提供了基于SockJS协议的透明的回退选项。SockJS提供了浏览器兼容性,优先使用原生的WebSocket,如果某个浏览器不支持WebSocket,SockJS会自动降级为轮询.</p>
<p><strong>stomjs</strong><br>STOMP(Simple Text-Orientated Messaging Protocol) 面向消息的简单文本协议;<br>WebSocket是一个消息架构,不强制使用任何特定的消息协议,它依赖于应用层解释消息的含义.<br>与HTTP不同,WebSocket是处在TCP上非常薄的一层,会将字节流转化为文本/二进制消息,因此,对于实际应用来说,WebSocket的通信形式层级过低,因此，可以在 WebSocket 之上使用STOMP协议，来为浏览器 和 server间的 通信增加适当的消息语义。</p>
<p><strong>STOMP与WebSocket 的关系:</strong></p>
<ol>
<li>HTTP协议解决了web浏览器发起请求以及web服务器响应请求的细节,假设HTTP协议不存在,只能使用TCP套接字来编写web应用,你可能认为这是一件疯狂的事情;</li>
<li>直接使用WebSocket(SockJS)就很类似于使用TCP套接字来编写web应用,因为没有高层协议,就需要我们定义应用间发送消息的语义,还需要确保连接的两端都能遵循这些语义;</li>
<li>同HTTP在TCP套接字上添加请求-响应模型层一样,STOMP在WebSocket之上提供了一个基于帧的线路格式层,用来定义消息语义.</li>
</ol>
<h3 id="3、代码"><a href="#3、代码" class="headerlink" title="3、代码"></a>3、代码</h3><p>先安装 sockjs-client 和 stompjs</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install sockjs-client</span><br><span class="line">npm install stompjs</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> SockJS <span class="keyword">from</span>  <span class="string">'sockjs-client'</span>;</span><br><span class="line"><span class="keyword">import</span>  Stomp <span class="keyword">from</span> <span class="string">'stompjs'</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    data()&#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            stompClient:<span class="string">''</span>,</span><br><span class="line">            timer:<span class="string">''</span>,</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">        initWebSocket() &#123;</span><br><span class="line">            <span class="keyword">this</span>.connection();</span><br><span class="line">            <span class="keyword">let</span> that= <span class="keyword">this</span>;</span><br><span class="line">            <span class="comment">// 断开重连机制,尝试发送消息,捕获异常发生时重连</span></span><br><span class="line">            <span class="keyword">this</span>.timer = setInterval(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    that.stompClient.send(<span class="string">"test"</span>);</span><br><span class="line">                &#125; <span class="keyword">catch</span> (err) &#123;</span><br><span class="line">                    <span class="built_in">console</span>.log(<span class="string">"断线了: "</span> + err);</span><br><span class="line">                    that.connection();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;, <span class="number">5000</span>);</span><br><span class="line">        &#125;,  </span><br><span class="line">        connection() &#123;</span><br><span class="line">            <span class="comment">// 建立连接对象</span></span><br><span class="line">            <span class="keyword">let</span> socket = <span class="keyword">new</span> SockJS(<span class="string">'http://10.10.91.4:8081/ws'</span>);</span><br><span class="line">            <span class="comment">// 获取STOMP子协议的客户端对象</span></span><br><span class="line">            <span class="keyword">this</span>.stompClient = Stomp.over(socket);</span><br><span class="line">            <span class="comment">// 定义客户端的认证信息,按需求配置</span></span><br><span class="line">            <span class="keyword">let</span> headers = &#123;</span><br><span class="line">                Authorization:<span class="string">''</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// 向服务器发起websocket连接</span></span><br><span class="line">            <span class="keyword">this</span>.stompClient.connect(headers,() =&gt; &#123;</span><br><span class="line">                <span class="keyword">this</span>.stompClient.subscribe(<span class="string">'/topic/public'</span>, (msg) =&gt; &#123; <span class="comment">// 订阅服务端提供的某个topic</span></span><br><span class="line">                    <span class="built_in">console</span>.log(<span class="string">'广播成功'</span>)</span><br><span class="line">                    <span class="built_in">console</span>.log(msg);  <span class="comment">// msg.body存放的是服务端发送给我们的信息</span></span><br><span class="line">                &#125;,headers);</span><br><span class="line">                <span class="keyword">this</span>.stompClient.send(<span class="string">"/app/chat.addUser"</span>,</span><br><span class="line">                    headers,</span><br><span class="line">                    <span class="built_in">JSON</span>.stringify(&#123;<span class="attr">sender</span>: <span class="string">''</span>,<span class="attr">chatType</span>: <span class="string">'JOIN'</span>&#125;),</span><br><span class="line">                )   <span class="comment">//用户加入接口</span></span><br><span class="line">            &#125;, (err) =&gt; &#123;</span><br><span class="line">                <span class="comment">// 连接发生错误时的处理函数</span></span><br><span class="line">                <span class="built_in">console</span>.log(<span class="string">'失败'</span>)</span><br><span class="line">                <span class="built_in">console</span>.log(err);</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;,    <span class="comment">//连接 后台</span></span><br><span class="line">        disconnect() &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="keyword">this</span>.stompClient) &#123;</span><br><span class="line">                <span class="keyword">this</span>.stompClient.disconnect();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,  <span class="comment">// 断开连接</span></span><br><span class="line">    &#125;,</span><br><span class="line">    mounted()&#123;</span><br><span class="line">        <span class="keyword">this</span>.initWebSocket();</span><br><span class="line">    &#125;,</span><br><span class="line">    beforeDestroy: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="comment">// 页面离开时断开连接,清除定时器</span></span><br><span class="line">        <span class="keyword">this</span>.disconnect();</span><br><span class="line">        clearInterval(<span class="keyword">this</span>.timer);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>参考文章 <a href="https://juejin.im/post/5b7fd02d6fb9a01a196f6276" target="_blank" rel="noopener">https://juejin.im/post/5b7fd02d6fb9a01a196f6276</a></p>
<h2 id="document文档加载过程分析"><a href="#document文档加载过程分析" class="headerlink" title="document文档加载过程分析"></a>document文档加载过程分析</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    document.addEventListener(&quot;DOMContentLoaded&quot;, function (event) &#123;</span><br><span class="line">    	console.log(&quot;初始DOM 加载并解析&quot;);</span><br><span class="line">    &#125;);</span><br><span class="line">    window.addEventListener(&quot;load&quot;, function (event) &#123;</span><br><span class="line">    	console.log(&quot;window 所有资源加载完成&quot;);</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    document.onreadystatechange &#x3D; function () &#123;</span><br><span class="line">    	console.log(document.readyState)</span><br><span class="line">   		if (document.readyState &#x3D;&#x3D;&#x3D; &quot;complete&quot;) &#123;</span><br><span class="line">    		console.log(&#39;初始DOM,加载解析完成&#39;)</span><br><span class="line">    	&#125;</span><br><span class="line">    &#125;</span><br><span class="line">    window.addEventListener(&quot;beforeunload&quot;, function (event) &#123;</span><br><span class="line">    	console.log(&#39;即将关闭1&#39;)</span><br><span class="line">    	event.returnValue &#x3D; &quot;\o&#x2F;&quot;;</span><br><span class="line">    &#125;);</span><br><span class="line">    window.addEventListener(&#39;unload&#39;, function (event) &#123;</span><br><span class="line">    	console.log(&#39;即将关闭2&#39;);</span><br><span class="line">    &#125;);</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line">console.log</span><br><span class="line">interactive &#x2F;&#x2F;(index):15</span><br><span class="line">初始DOM 加载并解析 &#x2F;&#x2F;(index):8</span><br><span class="line">complet&#x2F;&#x2F;(index):15 </span><br><span class="line">初始DOM,加载解析完成&#x2F;&#x2F;(index):17 </span><br><span class="line">window 所有资源加载完成&#x2F;&#x2F;(index):11 </span><br><span class="line">&#x2F;&#x2F;点击关闭按钮</span><br><span class="line">即将关闭1</span><br><span class="line">即将关闭2</span><br></pre></td></tr></table></figure>



<h2 id="Object-defineProperty和Proxy"><a href="#Object-defineProperty和Proxy" class="headerlink" title="Object.defineProperty和Proxy"></a>Object.defineProperty和Proxy</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">相比于Object.defineProperty, Proxy到底有哪些优势。</span><br><span class="line">第一点</span><br><span class="line">Object.defineProperty只能监听到对象属性的读取或者是写入</span><br><span class="line">Proxy除读写外还可以监听对象中属性的删除，对对象当中方法的调用等等。</span><br><span class="line">第二点</span><br><span class="line">对于数组对象进行监视，通常我们想要监视数组的变化，基本要依靠重写数组方法，这也是Vue的实现方式，proxy可以直接监视数组的变化。以往我们想要通过Object.defineProperty去监视数组的操作最常见的方式是重写数组的操作方法，这也是Vue.js中所使用的方式，大体的方式就是通过自定义的方法去覆盖掉数组原型对象上的push，shift之类的方法，以此来劫持对应的方法调用的过程。</span><br></pre></td></tr></table></figure>



<h2 id="vue滚动到顶部组件-（backtotop-按钮）"><a href="#vue滚动到顶部组件-（backtotop-按钮）" class="headerlink" title="vue滚动到顶部组件 （backtotop 按钮）"></a>vue滚动到顶部组件 （backtotop 按钮）</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">安装和下载：</span><br><span class="line">npm i vue-simple-scroll-up --save</span><br><span class="line"></span><br><span class="line">1.导入并注册组件。</span><br><span class="line">import scrollUp from &#39;vue-simple-scroll-up&#39;</span><br><span class="line">&#x2F;&#x2F; 全局</span><br><span class="line">Vue.use(scrollUp)</span><br><span class="line">&#x2F;&#x2F; 或</span><br><span class="line">components: &#123;</span><br><span class="line">  &#39;vue-scroll-to-top&#39;: scrollUp</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">2.将滚动条的顶部组件添加到您的应用程序。</span><br><span class="line">&lt;vue-scroll-to-top text&#x3D;&quot;Back to top&quot;&gt;</span><br><span class="line">&lt;&#x2F;vue-scroll-to-top&gt;</span><br><span class="line"></span><br><span class="line">3.自定义动画的持续时间。默认值：800</span><br><span class="line">&lt;vue-scroll-to-top text&#x3D;&quot;Back to top&quot; :duration&#x3D;&quot;1000&quot;&gt;</span><br><span class="line">&lt;&#x2F;vue-scroll-to-top&gt;</span><br><span class="line"></span><br><span class="line">4.自定义显示滚动条到顶部按钮的顶部距离。默认值：400</span><br><span class="line">&lt;vue-scroll-to-top text&#x3D;&quot;Back to top&quot; :visibleY&#x3D;&quot;1200&quot;&gt;</span><br><span class="line">&lt;&#x2F;vue-scroll-to-top&gt;</span><br><span class="line"></span><br><span class="line">5.当页面滚动到顶部时触发功能。</span><br><span class="line">&lt;vue-scroll-to-top text&#x3D;&quot;Back to top&quot; @scrolledOnTop&#x3D;&quot;yourFunction()&quot;&gt;</span><br><span class="line">&lt;&#x2F;vue-scroll-to-top&gt;</span><br><span class="line"></span><br><span class="line">6.覆盖滚动到顶部按钮的默认样式。</span><br><span class="line">.vue-scroll-button &#123;</span><br><span class="line">  background-color: #222; </span><br><span class="line">  color: #fff;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">.vue-scroll-button:hover &#123;</span><br><span class="line">  background-color: #333; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="vue使用js-export-excel导出excel表格-推荐"><a href="#vue使用js-export-excel导出excel表格-推荐" class="headerlink" title="vue使用js-export-excel导出excel表格(推荐)"></a>vue使用js-export-excel导出excel表格(推荐)</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">下载</span><br><span class="line">npm install -save js-export-excel</span><br><span class="line">引入</span><br><span class="line">const ExportJsonExcel &#x3D; require(&#39;js-export-excel&#39;)或者import ExportJsonExcel from &quot;js-export-excel&quot;;</span><br><span class="line">使用</span><br><span class="line">exportExcel() &#123;</span><br><span class="line">            const dataList &#x3D; JSON.parse(JSON.stringify(this.tableList));</span><br><span class="line">            let option &#x3D; &#123;&#125;;</span><br><span class="line">            let dataTable &#x3D; [];</span><br><span class="line">            let headerTitle &#x3D; [&quot;开门时间&quot;, &quot;姓名&quot;, &quot;地址&quot;, &quot;设备编号&quot;, &quot;区域&quot;];</span><br><span class="line">            if (dataList) &#123;</span><br><span class="line">                for (let i in dataList) &#123;</span><br><span class="line">                    let obj &#x3D; &#123;</span><br><span class="line">                        [headerTitle[0]]: dataList[i].areaName,</span><br><span class="line">                        [headerTitle[1]]: dataList[i].code,</span><br><span class="line">                        [headerTitle[2]]: dataList[i].status,</span><br><span class="line">                        [headerTitle[3]]: dataList[i].battary,</span><br><span class="line">                        [headerTitle[4]]: dataList[i].bindName,</span><br><span class="line">                    &#125;;</span><br><span class="line"></span><br><span class="line">                    dataTable.push(obj);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            option.fileName &#x3D; &quot;开门工单&quot;;  &#x2F;&#x2F;excel文件名</span><br><span class="line">            option.datas &#x3D; [</span><br><span class="line">                &#123;</span><br><span class="line">                    sheetData: dataTable,</span><br><span class="line">                    sheetName: &quot;sheet&quot;,</span><br><span class="line">                    sheetHeader: headerTitle,</span><br><span class="line">                    sheetFilter: headerTitle,</span><br><span class="line">                &#125;,</span><br><span class="line">            ];</span><br><span class="line">            let toExcel &#x3D; new ExportJsonExcel(option);</span><br><span class="line">            toExcel.saveExcel();</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<h2 id="Vue使用xlsx读取文件内容"><a href="#Vue使用xlsx读取文件内容" class="headerlink" title="Vue使用xlsx读取文件内容"></a>Vue使用xlsx读取文件内容</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">一、安装xlsx</span><br><span class="line">npm i xlsx</span><br><span class="line"></span><br><span class="line">二、使用xlsx</span><br><span class="line">1、使用element-ui编写一个上传页面</span><br><span class="line">&lt;el-upload action&#x3D;&quot;&quot; :auto-upload&#x3D;&quot;false&quot; :on-change&#x3D;&quot;onChange&quot; :limit&#x3D;&quot;1&quot;&gt;</span><br><span class="line">  &lt;el-button size&#x3D;&quot;mini&quot; type&#x3D;&quot;success&quot;&gt;上传文件&lt;&#x2F;el-button&gt;</span><br><span class="line">&lt;&#x2F;el-upload&gt;</span><br><span class="line">async onChange (file) &#123;</span><br><span class="line">  let dataBinary &#x3D; await readFile(file.raw)</span><br><span class="line">  let workBook &#x3D; xlsx.read(dataBinary, &#123;type: &#39;binary&#39;, cellDates: true&#125;)</span><br><span class="line">  let workSheet &#x3D; workBook.Sheets[workBook.SheetNames[0]]</span><br><span class="line">  const data &#x3D; xlsx.utils.sheet_to_json(workSheet)</span><br><span class="line">  console.log(data)</span><br><span class="line">&#125;</span><br><span class="line">2、工具类</span><br><span class="line">&#x2F;* 读取文件 *&#x2F;</span><br><span class="line">export const readFile &#x3D; (file) &#x3D;&gt; &#123;</span><br><span class="line">  return new Promise(resolve &#x3D;&gt; &#123;</span><br><span class="line">    let reader &#x3D; new FileReader()</span><br><span class="line">    reader.readAsBinaryString(file)</span><br><span class="line">    reader.onload &#x3D; ev &#x3D;&gt; &#123;</span><br><span class="line">      resolve(ev.target.result)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://upload-images.jianshu.io/upload_images/4869019-9fc738b61bdc96ab.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp" alt="img"></p>
<h2 id="vue中使用file-saver和xlsx导出excel表格"><a href="#vue中使用file-saver和xlsx导出excel表格" class="headerlink" title="vue中使用file-saver和xlsx导出excel表格"></a>vue中使用file-saver和xlsx导出excel表格</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line">file-saver 负责保存文件</span><br><span class="line">xlsx负责将数据转为表格</span><br><span class="line"></span><br><span class="line">具体使用</span><br><span class="line">安装</span><br><span class="line">npm install -S file-saver xlsx</span><br><span class="line">npm install -D script-loader</span><br><span class="line"></span><br><span class="line">script-loader主要是为了如果xlsx和file-saver不能加载可以使用这个，貌似现在只需import就可以了。</span><br><span class="line"></span><br><span class="line">封装导出代码</span><br><span class="line">import fs from &#39;file-saver&#39;</span><br><span class="line">import XLSX from &#39;xlsx&#39;</span><br><span class="line">export default (json, fields, filename &#x3D; &#39;测试数据.xlsx&#39;) &#x3D;&gt; &#123;</span><br><span class="line">    json.forEach(item &#x3D;&gt; &#123;</span><br><span class="line">        for (let i in item) &#123;</span><br><span class="line">            if (fields.hasOwnProperty(i)) &#123;</span><br><span class="line">                item[fields[i]] &#x3D; item[i];</span><br><span class="line">            &#125;</span><br><span class="line">            delete item[i]; &#x2F;&#x2F;删除原先的对象属性</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line"> </span><br><span class="line">    let sheetName &#x3D; filename &#x2F;&#x2F;excel的文件名称</span><br><span class="line">    let wb &#x3D; XLSX.utils.book_new()  &#x2F;&#x2F;工作簿对象包含一SheetNames数组，以及一个表对象映射表名称到表对象。XLSX.utils.book_new实用函数创建一个新的工作簿对象。</span><br><span class="line">    let ws &#x3D; XLSX.utils.json_to_sheet(json, &#123; header: Object.values(fields) &#125;) &#x2F;&#x2F;将JS对象数组转换为工作表。</span><br><span class="line">    wb.SheetNames.push(sheetName)</span><br><span class="line">    wb.Sheets[sheetName] &#x3D; ws</span><br><span class="line">    const defaultCellStyle &#x3D; &#123; font: &#123; name: &quot;Verdana&quot;, sz: 13, color: &quot;FF00FF88&quot; &#125;, fill: &#123; fgColor: &#123; rgb: &quot;FFFFAA00&quot; &#125; &#125; &#125;;&#x2F;&#x2F;设置表格的样式</span><br><span class="line">    let wopts &#x3D; &#123; bookType: &#39;xlsx&#39;, bookSST: false, type: &#39;binary&#39;, cellStyles: true, defaultCellStyle: defaultCellStyle, showGridLines: false &#125;  &#x2F;&#x2F;写入的样式</span><br><span class="line">    let wbout &#x3D; XLSX.write(wb, wopts)</span><br><span class="line">    let blob &#x3D; new Blob([s2ab(wbout)], &#123; type: &#39;application&#x2F;octet-stream&#39; &#125;)</span><br><span class="line">    fs.saveAs(blob, filename + &#39;.xlsx&#39;)</span><br><span class="line">&#125;</span><br><span class="line">const s2ab &#x3D; s &#x3D;&gt; &#123;</span><br><span class="line">    if (typeof ArrayBuffer !&#x3D;&#x3D; &#39;undefined&#39;) &#123;</span><br><span class="line">        var buf &#x3D; new ArrayBuffer(s.length)</span><br><span class="line">        var view &#x3D; new Uint8Array(buf)</span><br><span class="line">        for (var i &#x3D; 0; i !&#x3D; s.length; ++i) view[i] &#x3D; s.charCodeAt(i) &amp; 0xff</span><br><span class="line">        return buf</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        var buf &#x3D; new Array(s.length);</span><br><span class="line">        for (var i &#x3D; 0; i !&#x3D; s.length; ++i) buf[i] &#x3D; s.charCodeAt(i) &amp; 0xFF;</span><br><span class="line">        return buf;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">具体页面使用</span><br><span class="line">使用前先引入自己写好的封装文件，然后再相应地方调用即可。</span><br><span class="line">import Export from &quot;..&#x2F;..&#x2F;utils&#x2F;export&quot;;</span><br><span class="line"> exportToExcel() &#123;</span><br><span class="line">      let fields &#x3D; &#123;</span><br><span class="line">        date: &quot;日期&quot;,</span><br><span class="line">        name: &quot;姓名&quot;,</span><br><span class="line">        province: &quot;省12&quot;,</span><br><span class="line">        area: &quot;地区&quot;,</span><br><span class="line">        address: &quot;地址&quot;,</span><br><span class="line">        code: &quot;邮编&quot;,</span><br><span class="line">        test: &quot;测试&quot;</span><br><span class="line">      &#125;;</span><br><span class="line">    &#x2F;&#x2F;   let data &#x3D; JSON.parse(JSON.stringify(this.tableData3));  &#x2F;&#x2F; 如果直接放置数据不行请加上这句</span><br><span class="line">      Export(this.tableData3, fields, &quot;测试&quot;);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>



<h2 id="vue调用pc端摄像头"><a href="#vue调用pc端摄像头" class="headerlink" title="vue调用pc端摄像头"></a>vue调用pc端摄像头</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;!--  原生摄像头--&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;box&quot;&gt;</span><br><span class="line">            &lt;video id&#x3D;&quot;videoCamera&quot; class&#x3D;&quot;canvas&quot; :width&#x3D;&quot;videoWidth&quot; :height&#x3D;&quot;videoHeight&quot; autoPlay&gt;&lt;&#x2F;video&gt;</span><br><span class="line">            &lt;br&gt;&lt;&#x2F;br&gt;</span><br><span class="line">            &lt;canvas id&#x3D;&quot;canvasCamera&quot; class&#x3D;&quot;canvas&quot; :width&#x3D;&quot;videoWidth&quot; :height&#x3D;&quot;videoHeight&quot;&gt;&lt;&#x2F;canvas&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">            &lt;el-button @click&#x3D;&quot;photographBtn&quot; icon&#x3D;&quot;el-icon-camera&quot; size&#x3D;&quot;small&quot;&gt;拍照&lt;&#x2F;el-button&gt;</span><br><span class="line">            &lt;el-button v-if&#x3D;&quot;os&quot; @click&#x3D;&quot;openCamera&quot; icon&#x3D;&quot;el-icon-video-camera&quot; size&#x3D;&quot;small&quot;&gt;打开摄像头&lt;&#x2F;el-button&gt;</span><br><span class="line">            &lt;el-button v-else @click&#x3D;&quot;stopCamera&quot; icon&#x3D;&quot;el-icon-switch-button&quot; size&#x3D;&quot;small&quot;&gt;关闭摄像头&lt;&#x2F;el-button&gt;</span><br><span class="line">            &lt;el-button @click&#x3D;&quot;resetBtn&quot; icon&#x3D;&quot;el-icon-refresh&quot; size&#x3D;&quot;small&quot;&gt;重置&lt;&#x2F;el-button&gt;</span><br><span class="line">            &lt;el-button @click&#x3D;&quot;submitBtn&quot; icon&#x3D;&quot;el-icon-circle-close&quot; size&#x3D;&quot;small&quot;&gt;提交&lt;&#x2F;el-button&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name: &quot;camera&quot;,</span><br><span class="line">    data() &#123;</span><br><span class="line">        return &#123;</span><br><span class="line">            os: false,&#x2F;&#x2F;控制摄像头开关</span><br><span class="line">            thisVideo: null,</span><br><span class="line">            thisContext: null,</span><br><span class="line">            thisCancas: null,</span><br><span class="line">            imgSrc: &#39;&#39;,</span><br><span class="line">            videoWidth: 500,</span><br><span class="line">            videoHeight: 200,</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;,</span><br><span class="line">    created() &#123;</span><br><span class="line">        this.openCamera();</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">        submitBtn() &#123;</span><br><span class="line">            console.log(this.imgSrc);</span><br><span class="line">        &#125;,</span><br><span class="line">        &#x2F;&#x2F; 调用摄像头权限</span><br><span class="line">        openCamera() &#123;</span><br><span class="line">            &#x2F;&#x2F;必须在model中render后才可获取到dom节点,直接获取无法获取到model中的dom节点</span><br><span class="line">            this.$nextTick(() &#x3D;&gt; &#123;</span><br><span class="line">                const _this &#x3D; this;</span><br><span class="line">                this.os &#x3D; false;&#x2F;&#x2F;切换成关闭摄像头</span><br><span class="line">                this.thisCancas &#x3D; document.getElementById(&#39;canvasCamera&#39;);</span><br><span class="line">                this.thisContext &#x3D; this.thisCancas.getContext(&#39;2d&#39;);</span><br><span class="line">                this.thisVideo &#x3D; document.getElementById(&#39;videoCamera&#39;);</span><br><span class="line">                &#x2F;&#x2F; 旧版本浏览器可能根本不支持mediaDevices，我们首先设置一个空对象</span><br><span class="line">                if (navigator.mediaDevices &#x3D;&#x3D;&#x3D; undefined) &#123;</span><br><span class="line">                    navigator.mediaDevices &#x3D; &#123;&#125;</span><br><span class="line">                &#125;</span><br><span class="line">                &#x2F;&#x2F; 一些浏览器实现了部分mediaDevices，我们不能只分配一个对象</span><br><span class="line">                &#x2F;&#x2F; 使用getUserMedia，因为它会覆盖现有的属性。</span><br><span class="line">                &#x2F;&#x2F; 这里，如果缺少getUserMedia属性，就添加它。</span><br><span class="line">                if (navigator.mediaDevices.getUserMedia &#x3D;&#x3D;&#x3D; undefined) &#123;</span><br><span class="line">                    navigator.mediaDevices.getUserMedia &#x3D; function (constraints) &#123;</span><br><span class="line">                        &#x2F;&#x2F; 首先获取现存的getUserMedia(如果存在)</span><br><span class="line">                        let getUserMedia &#x3D; navigator.webkitGetUserMedia || navigator.mozGetUserMedia || navigator.getUserMedia;</span><br><span class="line">                        &#x2F;&#x2F; 有些浏览器不支持，会返回错误信息</span><br><span class="line">                        &#x2F;&#x2F; 保持接口一致</span><br><span class="line">                        if (!getUserMedia) &#123;</span><br><span class="line">                            return Promise.reject(new Error(&#39;getUserMedia is not implemented in this browser&#39;))</span><br><span class="line">                        &#125;</span><br><span class="line">                        &#x2F;&#x2F; 否则，使用Promise将调用包装到旧的navigator.getUserMedia</span><br><span class="line">                        return new Promise(function (resolve, reject) &#123;</span><br><span class="line">                            getUserMedia.call(navigator, constraints, resolve, reject)</span><br><span class="line">                        &#125;)</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                const constraints &#x3D; &#123;</span><br><span class="line">                    audio: false,</span><br><span class="line">                    video: &#123; width: _this.videoWidth, height: _this.videoHeight, transform: &#39;scaleX(-1)&#39; &#125;</span><br><span class="line">                &#125;;</span><br><span class="line">                navigator.mediaDevices.getUserMedia(constraints).then(function (stream) &#123;</span><br><span class="line">                    &#x2F;&#x2F; 旧的浏览器可能没有srcObject</span><br><span class="line">                    if (&#39;srcObject&#39; in _this.thisVideo) &#123;</span><br><span class="line">                        _this.thisVideo.srcObject &#x3D; stream</span><br><span class="line">                    &#125; else &#123;</span><br><span class="line">                        &#x2F;&#x2F; 避免在新的浏览器中使用它，因为它正在被弃用。</span><br><span class="line">                        _this.thisVideo.src &#x3D; window.URL.createObjectURL(stream)</span><br><span class="line">                    &#125;</span><br><span class="line">                    _this.thisVideo.onloadedmetadata &#x3D; function (e) &#123;</span><br><span class="line">                        _this.thisVideo.play()</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;).catch(err &#x3D;&gt; &#123;</span><br><span class="line">                    this.$message(&#123;</span><br><span class="line">                        message: &#39;没有开启摄像头权限或浏览器版本不兼容&#39;,</span><br><span class="line">                        type: &#39;warning&#39;</span><br><span class="line">                    &#125;);</span><br><span class="line">                &#125;);</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;,</span><br><span class="line">        &#x2F;&#x2F;拍照按钮</span><br><span class="line">        photographBtn() &#123;</span><br><span class="line">            &#x2F;&#x2F; 点击，canvas画图</span><br><span class="line">            this.thisContext.drawImage(this.thisVideo, 0, 0, this.videoWidth, this.videoHeight);</span><br><span class="line">            &#x2F;&#x2F; 获取图片base64链接</span><br><span class="line">            this.imgSrc &#x3D; this.thisCancas.toDataURL(&#39;image&#x2F;png&#39;);</span><br><span class="line">        &#125;,</span><br><span class="line">        &#x2F;&#x2F;清空画布</span><br><span class="line">        clearCanvas(id) &#123;</span><br><span class="line">            let c &#x3D; document.getElementById(id);</span><br><span class="line">            let cxt &#x3D; c.getContext(&quot;2d&quot;);</span><br><span class="line">            cxt.clearRect(0, 0, c.width, c.height);</span><br><span class="line">        &#125;,</span><br><span class="line">        &#x2F;&#x2F;重置画布</span><br><span class="line">        resetBtn() &#123;</span><br><span class="line">            this.imgSrc &#x3D; &quot;&quot;;</span><br><span class="line">            this.clearCanvas(&#39;canvasCamera&#39;);</span><br><span class="line">        &#125;,</span><br><span class="line">        &#x2F;&#x2F;关闭摄像头</span><br><span class="line">        stopCamera() &#123;</span><br><span class="line">            if (this.thisVideo &amp;&amp; this.thisVideo !&#x3D;&#x3D; null) &#123;</span><br><span class="line">                this.thisVideo.srcObject.getTracks()[0].stop();</span><br><span class="line">                this.os &#x3D; true;&#x2F;&#x2F;切换成打开摄像头</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>



<h2 id="vue使用Blob的方式实现excel表格的下载-流文件下载"><a href="#vue使用Blob的方式实现excel表格的下载-流文件下载" class="headerlink" title="vue使用Blob的方式实现excel表格的下载(流文件下载)"></a>vue使用Blob的方式实现excel表格的下载(流文件下载)</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">	&lt;el-button @click&#x3D;&quot;downloadUrl&quot;&gt;导出Excel&lt;&#x2F;el-button&gt;        </span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">import api from &quot;..&#x2F;..&#x2F;api&#x2F;api.js&quot;;</span><br><span class="line">import axios from &quot;axios&quot;;</span><br><span class="line">export default &#123;</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">		pageSize:30,</span><br><span class="line">	&#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  created() &#123;&#125;,</span><br><span class="line">  computed: &#123;&#125;,</span><br><span class="line">  mounted() &#123;&#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    downloadUrl() &#123;</span><br><span class="line">      &#x2F;&#x2F; console.log(api.serverUrl);</span><br><span class="line">      let params &#x3D; &#123;</span><br><span class="line">        pageNum: &quot;1&quot;,</span><br><span class="line">        pageSize: this.pageSize,</span><br><span class="line">        companyId: JSON.parse(sessionStorage.getItem(&quot;companyId&quot;))</span><br><span class="line">      &#125;;</span><br><span class="line">      this.download_accountsDetails_info(params);</span><br><span class="line">    &#125;,</span><br><span class="line">    download_accountsDetails_info(params) &#123;</span><br><span class="line">      return new Promise((resolve, reject) &#x3D;&gt; &#123;</span><br><span class="line">        axios</span><br><span class="line">          .get(api.serverUrl + &quot;&#x2F;order&#x2F;exportOrder&quot;, &#123;</span><br><span class="line">            params: params,</span><br><span class="line">            responseType: &quot;blob&quot; &#x2F;&#x2F; 1.首先设置responseType对象格式为 blob:</span><br><span class="line">          &#125;)</span><br><span class="line">          .then(</span><br><span class="line">            res &#x3D;&gt; &#123;</span><br><span class="line">              &#x2F;&#x2F;resolve(res)</span><br><span class="line">              let blob &#x3D; new Blob([res.data], &#123;</span><br><span class="line">                type: &quot;application&#x2F;vnd.ms-excel&quot;</span><br><span class="line">              &#125;); &#x2F;&#x2F; 2.获取请求返回的response对象中的blob 设置文件类型，这里以excel为例</span><br><span class="line">              let url &#x3D; window.URL.createObjectURL(blob); &#x2F;&#x2F; 3.创建一个临时的url指向blob对象</span><br><span class="line"></span><br><span class="line">              &#x2F;&#x2F; 4.创建url之后可以模拟对此文件对象的一系列操作，例如：预览、下载</span><br><span class="line">              let a &#x3D; document.createElement(&quot;a&quot;);</span><br><span class="line">              a.href &#x3D; url;</span><br><span class="line">              a.download &#x3D; &quot;导出表格.xlsx&quot;;</span><br><span class="line">              a.click();</span><br><span class="line">              &#x2F;&#x2F; 5.释放这个临时的对象url</span><br><span class="line">              window.URL.revokeObjectURL(url);</span><br><span class="line">            &#125;,</span><br><span class="line">            err &#x3D;&gt; &#123;</span><br><span class="line">              resolve(err.response);</span><br><span class="line">            &#125;</span><br><span class="line">          )</span><br><span class="line">          .catch(error &#x3D;&gt; &#123;</span><br><span class="line">            reject(error);</span><br><span class="line">          &#125;);</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<h2 id="文件后缀与Mime类型-对照表"><a href="#文件后缀与Mime类型-对照表" class="headerlink" title="文件后缀与Mime类型*对照表"></a>文件后缀<em>与</em>Mime类型*对照表</h2><p><a href="https://blog.csdn.net/Zhuangvi/article/details/121063203" target="_blank" rel="noopener">https://blog.csdn.net/Zhuangvi/article/details/121063203</a></p>
<table>
<thead>
<tr>
<th>后缀名</th>
<th>文件类型</th>
<th>类型（type）</th>
</tr>
</thead>
<tbody><tr>
<td>.xls</td>
<td>Microsoft Excel</td>
<td>application/vnd.ms-excel</td>
</tr>
<tr>
<td>.xlsx</td>
<td>Microsoft Excel (OpenXML)</td>
<td>application/vnd.openxmlformats-officedocument.spreadsheetml.sheet</td>
</tr>
<tr>
<td>.csv</td>
<td>CSV</td>
<td>text/csv</td>
</tr>
<tr>
<td>.doc</td>
<td>Microsoft Word</td>
<td>application/msword</td>
</tr>
<tr>
<td>.docx</td>
<td>Microsoft Word (OpenXML)</td>
<td>application/vnd.openxmlformats-officedocument.wordprocessingml.document</td>
</tr>
<tr>
<td>.pdf</td>
<td>PDF</td>
<td>application/pdf</td>
</tr>
<tr>
<td>.ppt</td>
<td>Microsoft PowerPoint</td>
<td>application/vnd.ms-powerpoint</td>
</tr>
<tr>
<td>.pptx</td>
<td>Microsoft PowerPoint (OpenXML)</td>
<td>application/vnd.openxmlformats-officedocument.presentationml.presentation</td>
</tr>
<tr>
<td>.png</td>
<td>便携式网络图形（PNG）</td>
<td>image/png</td>
</tr>
<tr>
<td>.gif</td>
<td>GIF</td>
<td>image/gif</td>
</tr>
<tr>
<td>.jpeg</td>
<td>JPEG 图片</td>
<td>image/jpeg</td>
</tr>
<tr>
<td>.jpg</td>
<td>JPEG 图片</td>
<td>image/jpeg</td>
</tr>
<tr>
<td>.mp3</td>
<td>MP3 音频</td>
<td>audio/mpeg</td>
</tr>
<tr>
<td>.aac</td>
<td>AAC 音频</td>
<td>audio/aac</td>
</tr>
<tr>
<td>.html</td>
<td>超文本标记语言 (HTML)</td>
<td>text/html</td>
</tr>
<tr>
<td>.css</td>
<td>CSS</td>
<td>text/css</td>
</tr>
<tr>
<td>.js</td>
<td>JavaScript</td>
<td>text/javascript</td>
</tr>
<tr>
<td>.json</td>
<td>JSON 格式</td>
<td>application/json</td>
</tr>
<tr>
<td>.abw</td>
<td>AbiWord 文档</td>
<td>application/x-abiword</td>
</tr>
<tr>
<td>.arc</td>
<td>存档文档(多个文件嵌入)</td>
<td>application/x-freearc</td>
</tr>
<tr>
<td>.avi</td>
<td>AVI: 音频视频交错</td>
<td>video/x-msvideo</td>
</tr>
<tr>
<td>.azw</td>
<td>亚马逊Kindle电子书格式</td>
<td>application/vnd.amazon.ebook</td>
</tr>
<tr>
<td>.bin</td>
<td>任何类型的二进制数据</td>
<td>application/octet-stream</td>
</tr>
<tr>
<td>.bmp</td>
<td>Windows OS/2位图图形</td>
<td>image/bmp</td>
</tr>
<tr>
<td>.bz</td>
<td>BZip 存档</td>
<td>application/x-bzip</td>
</tr>
<tr>
<td>.bz2</td>
<td>BZip2 存档</td>
<td>application/x-bzip2</td>
</tr>
<tr>
<td>.csh</td>
<td>C-Shell 脚本</td>
<td>application/x-csh</td>
</tr>
<tr>
<td>.eot</td>
<td>MS嵌入式OpenType字体</td>
<td>application/vnd.ms-fontobject</td>
</tr>
<tr>
<td>.epub</td>
<td>电子出版物(EPUB)</td>
<td>application/epub+zip</td>
</tr>
<tr>
<td>.htm</td>
<td>超文本标记语言 (HTML)</td>
<td>text/html</td>
</tr>
<tr>
<td>.ico</td>
<td>Icon 格式</td>
<td>image/vnd.microsoft.icon</td>
</tr>
<tr>
<td>.ics</td>
<td>iCalendar 格式</td>
<td>text/calendar</td>
</tr>
<tr>
<td>.jar</td>
<td>Java Archive (JAR)</td>
<td>application/java-archive</td>
</tr>
<tr>
<td>.jsonld</td>
<td>JSON-LD 格式</td>
<td>application/ld+json</td>
</tr>
<tr>
<td>.mid</td>
<td>乐器数字接口(MIDI)</td>
<td>audio/midi audio/x-midi</td>
</tr>
<tr>
<td>.midi</td>
<td>乐器数字接口(MIDI)</td>
<td>audio/midi audio/x-midi</td>
</tr>
<tr>
<td>.mjs</td>
<td>JavaScript 模块</td>
<td>text/javascript</td>
</tr>
<tr>
<td>.mpeg</td>
<td>MPEG 视频</td>
<td>video/mpeg</td>
</tr>
<tr>
<td>.mpkg</td>
<td>苹果安装程序包</td>
<td>application/vnd.apple.installer+xml</td>
</tr>
<tr>
<td>.odp</td>
<td>OpenDocument演示文档</td>
<td>application/vnd.oasis.opendocument.presentation</td>
</tr>
<tr>
<td>.ods</td>
<td>OpenDocument 电子表格文件</td>
<td>application/vnd.oasis.opendocument.spreadsheet</td>
</tr>
<tr>
<td>.odt</td>
<td>OpenDocument 文本文档</td>
<td>application/vnd.oasis.opendocument.text</td>
</tr>
<tr>
<td>.oga</td>
<td>OGG 音频</td>
<td>audio/ogg</td>
</tr>
<tr>
<td>.ogv</td>
<td>OGG 视频</td>
<td>video/ogg</td>
</tr>
<tr>
<td>.ogx</td>
<td>OGG</td>
<td>application/ogg</td>
</tr>
<tr>
<td>.otf</td>
<td>OpenType 字体</td>
<td>font/otf</td>
</tr>
<tr>
<td>.rar</td>
<td>RAR 存档</td>
<td>application/x-rar-compressed</td>
</tr>
<tr>
<td>.rtf</td>
<td>富文本格式 (RTF)</td>
<td>application/rtf</td>
</tr>
<tr>
<td>.sh</td>
<td>Bourne shell 脚本</td>
<td>application/x-sh</td>
</tr>
<tr>
<td>.svg</td>
<td>可缩放矢量图形 (SVG)</td>
<td>image/svg+xml</td>
</tr>
<tr>
<td>.swf</td>
<td>小型web格式 (SWF) or Adobe Flash document</td>
<td>application/x-shockwave-flash</td>
</tr>
<tr>
<td>.tar</td>
<td>Tape 归档(TAR)</td>
<td>application/x-tar</td>
</tr>
<tr>
<td>.tif</td>
<td>标记图像文件格式 (TIFF)</td>
<td>image/tiff</td>
</tr>
<tr>
<td>.tiff</td>
<td>Tagged Image File Format (TIFF)</td>
<td>image/tiff</td>
</tr>
<tr>
<td>.ttf</td>
<td>TrueType 字体</td>
<td>font/ttf</td>
</tr>
<tr>
<td>.txt</td>
<td>Text</td>
<td>text/plain</td>
</tr>
<tr>
<td>.vsd</td>
<td>Microsoft Visio</td>
<td>application/vnd.visio</td>
</tr>
<tr>
<td>.wav</td>
<td>波形音频格式</td>
<td>audio/wav</td>
</tr>
<tr>
<td>.weba</td>
<td>WEBM 音频</td>
<td>audio/webm</td>
</tr>
<tr>
<td>.webm</td>
<td>WEBM 视频</td>
<td>video/webm</td>
</tr>
<tr>
<td>.webp</td>
<td>WEBP 图片</td>
<td>image/webp</td>
</tr>
<tr>
<td>.woff</td>
<td>网页开放字体格式 (WOFF)</td>
<td>font/woff</td>
</tr>
<tr>
<td>.woff2</td>
<td>网页开放字体格式 (WOFF)</td>
<td>font/woff2</td>
</tr>
<tr>
<td>.xhtml</td>
<td>XHTML</td>
<td>application/xhtml+xml</td>
</tr>
<tr>
<td>.xml</td>
<td>XML</td>
<td>application/xml（普通用户不可读）、text/xml（普通用户可读）</td>
</tr>
<tr>
<td>.xul</td>
<td>XUL</td>
<td>application/vnd.mozilla.xul+xml</td>
</tr>
<tr>
<td>.zip</td>
<td>ZIP</td>
<td>application/zip</td>
</tr>
<tr>
<td>.3gp</td>
<td>3GPP audio/video 容器</td>
<td>video/3gpp、audio/3gpp（不含视频）</td>
</tr>
<tr>
<td>.3g2</td>
<td>3GPP2 audio/video 容器</td>
<td>video/3gpp2、audio/3gpp2（不含视频）</td>
</tr>
<tr>
<td>.7z</td>
<td>7-zip</td>
<td>application/x-7z-compressed</td>
</tr>
</tbody></table>
<h2 id="vue-echarts入门使用"><a href="#vue-echarts入门使用" class="headerlink" title="vue-echarts入门使用"></a>vue-echarts入门使用</h2><p>1、下载(需要同时下载echarts和vue-echarts)</p>
<p>npm</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install echarts vue-echarts</span><br></pre></td></tr></table></figure>

<p>cdn</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src&#x3D;“https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;npm&#x2F;echarts@4.1.0&#x2F;dist&#x2F;echarts.js”&gt;</span><br><span class="line">&lt;script src&#x3D;“https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;npm&#x2F;vue-echarts@4.0.2”&gt;</span><br></pre></td></tr></table></figure>




<p>2、文件内引入使用</p>
<p>*注：这种方式写的时候需要tooltips或者legend这类的时候，都需要import ‘echarts/lib/component/legend’;这样引入一下，不然不会显示出来</p>
<p>// 局部引入vue-echarts</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">import &#39;echarts&#x2F;lib&#x2F;chart&#x2F;line&#39;;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;import ECharts from &#39;vue-echarts&#39;;</span><br><span class="line">import ECharts from &#39;vue-echarts&#x2F;components&#x2F;ECharts.vue&#39;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 手动引入 ECharts 各模块来减小打包体积</span><br><span class="line">import &#39;echarts&#x2F;lib&#x2F;chart&#x2F;bar&#39;</span><br><span class="line">import &#39;echarts&#x2F;lib&#x2F;chart&#x2F;pie&#39;</span><br><span class="line">import &#39;echarts&#x2F;lib&#x2F;chart&#x2F;line&#39;;</span><br><span class="line"></span><br><span class="line">import &#39;echarts&#x2F;lib&#x2F;component&#x2F;tooltip&#39;</span><br><span class="line">import &#39;echarts&#x2F;lib&#x2F;component&#x2F;polar&#39;</span><br><span class="line">import &#39;echarts&#x2F;lib&#x2F;component&#x2F;legend&#39;</span><br><span class="line">import &#39;echarts&#x2F;lib&#x2F;component&#x2F;title.js&#39;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 注册组件后即可使用</span><br><span class="line">Vue.component(&#39;v-chart&#39;, ECharts)</span><br><span class="line">Vue.prototype.$echarts &#x3D; ECharts</span><br></pre></td></tr></table></figure>



<p>3、html部分</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=<span class="string">"charts"</span>&gt;</span><br><span class="line">    &lt;v-chart</span><br><span class="line">      :options=<span class="string">"options"</span></span><br><span class="line">      auto-resize</span><br><span class="line">      style=<span class="string">"width:100%;height:300px;"</span></span><br><span class="line">      /&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>

<p>4、css部分</p>
<p>样式中必须有.echarts宽高的定义，不然会不显示</p>
<style scoped>
.charts{
  width: 100%;
  height: 100%;
}
.echarts {
  width: 100%;
  height: 100%;
}
</style>
<p>5、配置项部分</p>
<p>环形图</p>
<pre><code>options: { // echarts配置项
    tooltip: { show: false }, // 提示框组件，环形图可以不用这个用其他的
    series: [ // 系列列表
      {
        name: &apos;&apos;, // 系列名称
        type: &apos;pie&apos;, // 类型
        data: [3, 12, 4], // 数据，此处可以通过接口获取，使用this.options.series[0].data = 接口返回数据即可
        radius: [&apos;60%&apos;, &apos;81%&apos;], // [内半径， 外半径], 可以是百分数，也可以直接是数值，不用数组只写单个百分数或数值就是正常的饼图
        center: [&apos;50%&apos;, &apos;50%&apos;], // 圆心位置[横坐标，纵坐标]
        label: { // 饼图图形上的文本标签
          show: false,
          lineHeight: 20,
          padding: [0, -100],
          color: &apos;auto&apos;
        },
        labelLine: { // 视觉引导线的长度
          length: 25,
          length2: 100
        },
        itemStyle: {
          // 饼图颜色采用渐变色
          color: (params) =&gt; {
            // 色值数组，从浅色到深色
            const colorList = [
              [&apos;#A5ABFF&apos;, &apos;#6C73FF&apos;],
                 [&apos;#64BAFF&apos;, &apos;#4487FF&apos;],
              [&apos;#53E7C9&apos;, &apos;#29CB98&apos;]
            ];

            let index = params.dataIndex;

            // 柱子个数超过colorList设置的个数，循环使用
            if (index &gt;= colorList.length) {
              index -= colorList.length;
            }

            // 这里的this.$echarts是项目中的echarts示例，改成对应的名字就好
            return new this.$echarts.graphic.LinearGradient(0, 0, 0, 1, [{
              offset: 0,
              color: colorList[index][0]
            }, {
              offset: 1,
              color: colorList[index][1]
            }]);
          }
        },
        emphasis: { // 饼图视觉引导线样式
          label: {
            show: true,
            verticalAlign: &apos;bottom&apos;, // 文字与视觉引导线的底部对齐
            lineHeight: 20,
            // 保证引导线上的文字水平位置正确
            padding: [0, -100],
            formatter: &apos;{b} {gray|{d}%} {gray|{c}}&apos;, // 此处可以参考文档
            rich: {
              gray: {
                color: &apos;#5B6479&apos;
              }
            }
          },
          labelLine: {
            show: true,
            lineStyle: {
              shadowBlur: { // 引导线阴影
                shadowColor: &apos;rgba(58, 120, 214, 0.14)&apos;,
                shadowBlur: 12
              }
            }
          }
        }
      }
    ]
  }</code></pre><p>6.形状点击事件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;v-chart</span><br><span class="line">      :options&#x3D;&quot;options&quot;</span><br><span class="line">      auto-resize</span><br><span class="line">      style&#x3D;&quot;width:100%;height:300px;&quot;</span><br><span class="line">      @click&#x3D;&#39;onClick&#39;</span><br><span class="line">&#x2F;&gt;</span><br><span class="line">           </span><br><span class="line">methods: &#123;</span><br><span class="line">    onClick (params) &#123;</span><br><span class="line">      console.log(params.name)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="vue使用虚拟滚动插件（vue-virtual-scroll-list）"><a href="#vue使用虚拟滚动插件（vue-virtual-scroll-list）" class="headerlink" title="vue使用虚拟滚动插件（vue-virtual-scroll-list）"></a>vue使用虚拟滚动插件（vue-virtual-scroll-list）</h2><p>下拉列表数据很多时的优化渲染：引入vue-virtual-scroll-list插件。通过每次只渲染指定条数，比如6条，即使下拉列表中有上千条数据，也能很每次只渲染6条，从而减少渲染，优化页面，其他隐藏的滚动部分就做个虚假的滚动高度 ，但是不渲染数据。</p>
<h3 id="用法"><a href="#用法" class="headerlink" title="用法"></a>用法</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">virtual-list</span> <span class="attr">style</span>=<span class="string">"height: 360px; overflow-y: auto;"</span> // <span class="attr">make</span> <span class="attr">list</span> <span class="attr">scrollable</span></span></span><br><span class="line"><span class="tag">      <span class="attr">:data-key</span>=<span class="string">"'id'"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">:data-sources</span>=<span class="string">"items"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">:data-component</span>=<span class="string">"itemComponent"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">:keeps</span>=<span class="string">"10"</span>            </span></span><br><span class="line"><span class="tag">    /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"> </span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> Item <span class="keyword">from</span> <span class="string">'./Item'</span></span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> VirtualList <span class="keyword">from</span> <span class="string">'vue-virtual-scroll-list'</span></span></span><br><span class="line"><span class="actionscript">  <span class="function"><span class="keyword">function</span> <span class="title">createData</span><span class="params">(len)</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">     <span class="keyword">const</span> arr = []</span></span><br><span class="line"><span class="javascript">     <span class="keyword">for</span> (<span class="keyword">let</span> index = <span class="number">0</span>; index &lt; len; index++) &#123;</span></span><br><span class="line"><span class="javascript">         <span class="keyword">const</span> obj = &#123; <span class="attr">id</span>: index, <span class="attr">text</span>: <span class="built_in">Math</span>.random() &#125;</span></span><br><span class="line">         arr.push(obj)</span><br><span class="line">     &#125;</span><br><span class="line"><span class="actionscript">     <span class="keyword">return</span> arr</span></span><br><span class="line">  &#125;</span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="actionscript">    name: <span class="string">'root'</span>,</span></span><br><span class="line">    data () &#123;</span><br><span class="line"><span class="actionscript">      <span class="keyword">return</span> &#123;</span></span><br><span class="line">        itemComponent: Item,</span><br><span class="line">        items: createData(200)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line"><span class="actionscript">    components: &#123; <span class="string">'virtual-list'</span>: VirtualList &#125;</span></span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>



<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// item</span></span><br><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="comment">//&lt;div&gt;每一行的内容&lt;/div&gt;</span></span><br><span class="line">  &lt;div&gt;&#123;index&#125;-&#123;source.text&#125;&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>template&gt;</span><br><span class="line"> </span><br><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    name: <span class="string">'item-component'</span>,</span><br><span class="line">    props: &#123;</span><br><span class="line">      index: &#123; <span class="comment">// 每一行的索引</span></span><br><span class="line">        type: <span class="built_in">Number</span></span><br><span class="line">      &#125;,</span><br><span class="line">      source: &#123; <span class="comment">// 每一行的内容</span></span><br><span class="line">        type: <span class="built_in">Object</span>,</span><br><span class="line">        <span class="keyword">default</span> () &#123;</span><br><span class="line">          <span class="keyword">return</span> &#123;&#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="参数"><a href="#参数" class="headerlink" title="参数"></a>参数</h3><table>
<thead>
<tr>
<th><strong>Prop</strong></th>
<th><strong>Type</strong></th>
<th><strong>Description</strong></th>
</tr>
</thead>
<tbody><tr>
<td><code>data-key</code></td>
<td>String|Function</td>
<td>从<code>data-sources</code>每个数据对象中获取唯一键。或每个函数都调用<code>data-source</code>并返回其唯一键。在中，其值<strong>必须唯一</strong><code>data-sources</code>，用于标识商品尺寸。</td>
</tr>
<tr>
<td><code>data-sources</code></td>
<td>Array[Object]</td>
<td>列表数据，每一行都必须有一个唯一的id(data-key)</td>
</tr>
<tr>
<td><code>data-component</code></td>
<td>Component</td>
<td>每一行的子组件</td>
</tr>
<tr>
<td><code>keeps</code></td>
<td>Number</td>
<td>默认30个，默认渲染的个数</td>
</tr>
<tr>
<td><code>extra-props</code></td>
<td>Object</td>
<td>默认{} data-component组件的额外props通过改属性传入,内部已有source和index两个</td>
</tr>
<tr>
<td><code>estimate-size</code></td>
<td>Number</td>
<td>默认50，每一行的高度，如果接近平均大小，则滚动条长度看起来会更准确。</td>
</tr>
<tr>
<td><code>scroll</code></td>
<td>事件</td>
<td>滚动时发出param <code>(event, range)</code>。</td>
</tr>
</tbody></table>
<p>剩下的参数   <a href="https://links.jianshu.com/go?to=https%3A%2F%2Fwww.npmjs.com%2Fpackage%2Fvue-virtual-scroll-list" target="_blank" rel="noopener">https://www.npmjs.com/package/vue-virtual-scroll-list</a><br>官网地址  <a href="https://links.jianshu.com/go?to=https%3A%2F%2Ftangbc.github.io%2Fvue-virtual-scroll-list%2F%23%2F" target="_blank" rel="noopener">https://tangbc.github.io/vue-virtual-scroll-list/#/</a></p>
<h2 id="vue使用鼠标中键，左键，右键事件"><a href="#vue使用鼠标中键，左键，右键事件" class="headerlink" title="vue使用鼠标中键，左键，右键事件"></a>vue使用鼠标中键，左键，右键事件</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;div @click&#x3D;&quot;test(params,$event)&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">test(id,e)&#123;</span><br><span class="line">    if (e.button &#x3D;&#x3D;&#x3D; 0) &#123;</span><br><span class="line">   	    console.log(&#39;左键&#39;)</span><br><span class="line">    &#125;</span><br><span class="line">    if (e.button &#x3D;&#x3D;&#x3D; 1) &#123;</span><br><span class="line">    	console.log(&#39;中键&#39;)</span><br><span class="line">    &#125;</span><br><span class="line">    if (e.button &#x3D;&#x3D;&#x3D; 2) &#123;</span><br><span class="line">    	console.log(&#39;右键&#39;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="animate动画库的数字增长动画组件"><a href="#animate动画库的数字增长动画组件" class="headerlink" title="animate动画库的数字增长动画组件"></a>animate动画库的数字增长动画组件</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">npm install --save animated-number-vue</span><br><span class="line"></span><br><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;animated-number </span><br><span class="line">    :value&#x3D;&quot;value&quot; </span><br><span class="line">    :formatValue&#x3D;&quot;formatToPrice&quot; </span><br><span class="line">    :duration&#x3D;&quot;300&quot;</span><br><span class="line">    &gt;&lt;&#x2F;animated-number&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">import AnimatedNumber from &quot;animated-number-vue&quot;;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  components: &#123;</span><br><span class="line">    AnimatedNumber</span><br><span class="line">  &#125;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      value: 1000</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    formatToPrice(value) &#123;</span><br><span class="line">      return &#96;$ $&#123;value.toFixed(2)&#125;&#96;;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>



<h2 id="vue使用刮刮乐组件"><a href="#vue使用刮刮乐组件" class="headerlink" title="vue使用刮刮乐组件"></a>vue使用刮刮乐组件</h2><p>参考链接：<a href="https://blog.csdn.net/until_you0311/article/details/106276527" target="_blank" rel="noopener">https://blog.csdn.net/until_you0311/article/details/106276527</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">1.使用npm下载安装</span><br><span class="line">npm install lzy-scratch-card --save</span><br><span class="line"></span><br><span class="line">2.vue项目的引用</span><br><span class="line">import scratchCard from &#39;lzy-scratch-card&#39;</span><br><span class="line"></span><br><span class="line">3.vue项目中使用</span><br><span class="line">&lt;scratch-card</span><br><span class="line">        elementId&#x3D;&quot;scratch&quot;</span><br><span class="line">        width&#x3D;&quot;600px&quot;</span><br><span class="line">        height&#x3D;&quot;300px&quot;</span><br><span class="line">        :moveRadius&#x3D;&quot;15&quot;</span><br><span class="line">        :ratio&#x3D;&quot;0.5&quot;</span><br><span class="line">        :startCallback&#x3D;&quot;startCallback&quot;</span><br><span class="line">        :clearCallback&#x3D;&quot;clearCallbackUp&quot;</span><br><span class="line">        coverColor&#x3D;&quot;#222222&quot;</span><br><span class="line">        coverImg&#x3D;&quot;https:&#x2F;&#x2F;liquid-games.oss-cn-beijing.aliyuncs.com&#x2F;single_game_images&#x2F;entertainment&#x2F;scratch_card_mask_up.png&quot;</span><br><span class="line">        :result&#x3D;&quot;result&quot;</span><br><span class="line">      &gt;</span><br><span class="line">&lt;&#x2F;scratch-card&gt;</span><br></pre></td></tr></table></figure>

<p><img src="/2020/10/29/vue%E4%B9%8Bseekcy%E5%BC%80%E5%8F%91%E5%8E%86%E7%A8%8B%E8%AE%B0%E5%BD%951/image-20210311173714259.png" alt="image-20210311173714259"></p>
<h2 id="vue使用滑块验证组件"><a href="#vue使用滑块验证组件" class="headerlink" title="vue使用滑块验证组件"></a>vue使用滑块验证组件</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line">安装</span><br><span class="line">npm install vue-drag-verify --save</span><br><span class="line">npm install font-awesome --save</span><br><span class="line"></span><br><span class="line">html</span><br><span class="line">    &lt;drag-verify </span><br><span class="line">    :width&#x3D;&quot;width&quot; </span><br><span class="line">    :height&#x3D;&quot;height&quot; </span><br><span class="line">    :text&#x3D;&quot;text&quot; </span><br><span class="line">    :success-text&#x3D;&quot;successText&quot; </span><br><span class="line">    :background&#x3D;&quot;background&quot; </span><br><span class="line">    :progress-bar-bg&#x3D;&quot;progressBarBg&quot; </span><br><span class="line">    :completed-bg&#x3D;&quot;completedBg&quot; </span><br><span class="line">    :handler-bg&#x3D;&quot;handlerBg&quot; </span><br><span class="line">    :handler-icon&#x3D;&quot;handlerIcon&quot; </span><br><span class="line">    :text-size&#x3D;&quot;textSize&quot; </span><br><span class="line">    :success-icon&#x3D;&quot;successIcon&quot;</span><br><span class="line">    ref&#x3D;&quot;Verify&quot;</span><br><span class="line">    &gt;</span><br><span class="line">&lt;&#x2F;drag-verify&gt;</span><br><span class="line"></span><br><span class="line">js</span><br><span class="line">import Vue from &#39;vue&#39;</span><br><span class="line">import &#39;font-awesome&#x2F;css&#x2F;font-awesome.min.css&#39;</span><br><span class="line">import dragVerify from &#39;vue-drag-verify&#39;</span><br><span class="line"> </span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;app&#39;,</span><br><span class="line">  components:&#123;</span><br><span class="line">    dragVerify</span><br><span class="line">  &#125;,</span><br><span class="line"> data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      handlerIcon: &quot;fa fa-angle-double-right&quot;,</span><br><span class="line">      successIcon: &quot;fa fa-check&quot;,</span><br><span class="line">      background: &quot;#cccccc&quot;,</span><br><span class="line">      progressBarBg: &quot;#4b0&quot;,</span><br><span class="line">      completedBg: &quot;#66cc66&quot;,</span><br><span class="line">      handlerBg: &quot;#fff&quot;,</span><br><span class="line">      text: &quot;请将滑块拖动到右侧&quot;,</span><br><span class="line">      successText: &quot;验证成功&quot;,</span><br><span class="line">      width: 320,</span><br><span class="line">      height: 42,</span><br><span class="line">      textSize: &quot;18px&quot;,</span><br><span class="line">      isCircle:&#39;true&#39;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">验证</span><br><span class="line"> console.log(this.$refs.Verify.isMoving)</span><br><span class="line"> console.log(this.$refs.Verify.isPassing)</span><br><span class="line"> console.log(this.$refs.Verify.handlerIconClass)</span><br><span class="line">结果</span><br><span class="line">&#x2F;&#x2F;未滑动完打印</span><br><span class="line"> false</span><br><span class="line"> false</span><br><span class="line"> fa fa-check</span><br><span class="line">&#x2F;&#x2F;滑动完成打印</span><br><span class="line"> false</span><br><span class="line"> true</span><br><span class="line"> fa fa-angle-double-right</span><br><span class="line"></span><br><span class="line">插件的各参数</span><br><span class="line">名称 | 类型 | 默认值 | 说明</span><br><span class="line">--- | --- | --- | ---</span><br><span class="line">width | Number | 200 | 组件的宽度</span><br><span class="line">height | Number | 60 | 组件的高度</span><br><span class="line">text | String | swiping to the right side | 提示信息文字</span><br><span class="line">successText | String | success | 验证通过时的提示信息文字</span><br><span class="line">background | String | #ccc | 组件背景色</span><br><span class="line">color | String | #ffffff | 组件文字颜色</span><br><span class="line">progressBarBg | String | #FFFF99 | 拖拽过程中的背景颜色</span><br><span class="line">completedBg | String | #66cc66 | 验证成功的背景颜色</span><br><span class="line">circle | Boolean | true | 设为true,组件为圆形按钮，否则为长方形</span><br><span class="line">handlerIcon | String | - | 拖拽按钮的icon</span><br><span class="line">successIcon | String | - | 验证通过时拖拽按钮的icon</span><br><span class="line">handlerBg | String | #fff | 拖拽按钮的背景色</span><br><span class="line">textSize | String | 20px | 组件的文字大小</span><br></pre></td></tr></table></figure>



<h2 id="vue使用Print-js-vue-print-nb打印"><a href="#vue使用Print-js-vue-print-nb打印" class="headerlink" title="vue使用Print.js/vue-print-nb打印"></a>vue使用Print.js/vue-print-nb打印</h2><h3 id="直接在页面内获取数据打印，只对当前页面可见数据进行打印（vue-print-nb）"><a href="#直接在页面内获取数据打印，只对当前页面可见数据进行打印（vue-print-nb）" class="headerlink" title="直接在页面内获取数据打印，只对当前页面可见数据进行打印（vue-print-nb）"></a>直接在页面内获取数据打印，只对当前页面可见数据进行打印（vue-print-nb）</h3><h4 id="方式一-1"><a href="#方式一-1" class="headerlink" title="方式一"></a>方式一</h4><p>一、vue安装命令：<br>npm install print-js –save</p>
<p>二、引入<br>这个引入不需要在main.js中，直接在使用的.vue中引入即可</p>
<p><img src="https://img-blog.csdnimg.cn/20200724183357229.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl8zNjk2NTA3Mg==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<p>这里颜色虽然是灰色，但是也要添加，否则会报错。</p>
<p>三、编码<br>我这里要打印 html 中的div ，调用函数找到 div 的 id。</p>
<p><img src="https://img-blog.csdnimg.cn/20200724183448993.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl8zNjk2NTA3Mg==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">methods: &#123;</span><br><span class="line">		goPrint()&#123;</span><br><span class="line">                console.log(&#39;打印&#39;)</span><br><span class="line">                printJS(&#123;</span><br><span class="line">                    printable: &#39;printCons&#39;,</span><br><span class="line">                    type: &#39;html&#39;,</span><br><span class="line">                    &#x2F;&#x2F;properties: [</span><br><span class="line">                    &#x2F;&#x2F;    &#123; field: &#39;name&#39;, displayName: &#39;姓名&#39;, columnSize:&#96;50%&#96;&#125;,</span><br><span class="line">                    &#x2F;&#x2F;    &#123; field: &#39;sex&#39;, displayName: &#39;性别&#39;,columnSize:&#96;50%&#96;&#125;,</span><br><span class="line">                    &#x2F;&#x2F;],</span><br><span class="line">                    &#x2F;&#x2F; header: &#96;&lt;p class&#x3D;&quot;custom-p&quot;&gt; 名单 &lt;&#x2F;p&gt;&#96;,</span><br><span class="line">                    &#x2F;&#x2F; style: &#39;#printCons &#123;width: 600px;&#125; .no-print&#123;width: 0px&#125; .itemText1 &#123; width: 200px &#125; .itemText2 &#123; width: 200px &#125; .itemText3 &#123; width: 200px &#125; .itemText4 &#123; width: 200px &#125;&#39;,</span><br><span class="line">                    &#x2F;&#x2F; gridHeaderStyle:&#39;font-size:12px; padding:3px; border:1px solid; font-weight: 100; text-align:left;&#39;,</span><br><span class="line">                    &#x2F;&#x2F; gridStyle:&#39;font-size:12px; padding:3px; border:1px solid; text-align:left;&#39;,</span><br><span class="line">                    &#x2F;&#x2F; repeatTableHeader: true,</span><br><span class="line">                    &#x2F;&#x2F; scanStyles:true,</span><br><span class="line">                    targetStyles: [&#39;*&#39;],</span><br><span class="line">                    ignoreElements:[&#39;no-print&#39;,&#39;bc&#39;,&#39;gb&#39;]</span><br><span class="line">                &#125;)</span><br><span class="line">            &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">printable:要打印的id。</span><br><span class="line">type:可以是 html 、pdf、 json 等。</span><br><span class="line">properties:是打印json时所需要的数据属性。</span><br><span class="line">gridHeaderStyle和gridStyle都是打印json时可选的样式。</span><br><span class="line">repeatTableHeader:在打印JSON数据时使用。设置为时false，数据表标题将仅在第一页显示。</span><br><span class="line">scanStyles:设置为false时，库将不处理应用于正在打印的html的样式。使用css参数时很有用。</span><br><span class="line">targetStyles: [’*’],这样设置继承了页面要打印元素原有的css属性。</span><br><span class="line">style:传入自定义样式的字符串，使用在要打印的html页面 也就是纸上的样子。</span><br><span class="line">ignoreElements：传入要打印的div中的子元素id，使其不打印。非常好用</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">tips：需要强制分页，加一个这样的style即可</span><br><span class="line">page-break-after:always</span><br><span class="line">示例</span><br><span class="line">&lt;div style&#x3D;&quot;page-break-after:always&quot;&gt;我是封面&lt;&#x2F;div&gt;</span><br><span class="line">&lt;div style&#x3D;&quot;page-break-after:always&quot;&gt;我是目录，你不知道我的内容有多长&lt;&#x2F;div&gt;</span><br><span class="line">&lt;div&gt;我是正文，我需要从一个新页面开始展示&lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure>

<h4 id="方式二（vue-print-nb-推荐）"><a href="#方式二（vue-print-nb-推荐）" class="headerlink" title="方式二（vue-print-nb 推荐）"></a>方式二（vue-print-nb 推荐）</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">1.安装</span><br><span class="line">npm install vue-print-nb --save</span><br><span class="line"></span><br><span class="line">2.引入</span><br><span class="line">&#x2F;&#x2F; 安装好以后在main.js文件中引入</span><br><span class="line">import Print from &#39;vue-print-nb&#39;</span><br><span class="line">Vue.use(Print);  &#x2F;&#x2F;注册</span><br><span class="line"></span><br><span class="line">3.使用</span><br><span class="line"></span><br><span class="line">3.1直接使用id，不对最终打印的表格进行样式修改</span><br><span class="line">template</span><br><span class="line">&#x2F;&#x2F; 通过ID直接打印</span><br><span class="line">  &lt;div id&#x3D;&quot;print_demo&quot; &gt;</span><br><span class="line">    &lt;p&gt;打印内容&lt;&#x2F;p&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;button v-print&#x3D;&quot;&#39;#print_demo&#39;&quot;&gt;打印&lt;&#x2F;button&gt;</span><br><span class="line"></span><br><span class="line">3.2使用printObj，可以对打印的表格进行样式调整</span><br><span class="line">template</span><br><span class="line">&#x2F;&#x2F; 使用printObj</span><br><span class="line">  &lt;button v-print&#x3D;&quot;printObj&quot;&gt;打印&lt;&#x2F;button&gt;</span><br><span class="line"></span><br><span class="line">&lt;div id&#x3D;&quot;print_demo&quot; style&#x3D;&quot;background:red;&quot;&gt;</span><br><span class="line">  &lt;p&gt;打印内容&lt;&#x2F;p&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line">script</span><br><span class="line">export default &#123;</span><br><span class="line">    data() &#123;</span><br><span class="line">        return &#123;</span><br><span class="line">            printObj: &#123;</span><br><span class="line">              id: &quot;print_demo&quot;,</span><br><span class="line">              popTitle: &#39;打印的标题&#39;,</span><br><span class="line">              extraCss: &#39;https:&#x2F;&#x2F;www.google.com,https:&#x2F;&#x2F;www.google.com&#39;,</span><br><span class="line">              extraHead: &#39;&lt;meta http-equiv&#x3D;&quot;Content-Language&quot;content&#x3D;&quot;zh-cn&quot;&#x2F;&gt;&#39;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="将数据库内的全部数据以表格的形式进行打印，需要调用后台接口直接从数据库内进行数据的查找-printjs"><a href="#将数据库内的全部数据以表格的形式进行打印，需要调用后台接口直接从数据库内进行数据的查找-printjs" class="headerlink" title="将数据库内的全部数据以表格的形式进行打印，需要调用后台接口直接从数据库内进行数据的查找(printjs)"></a>将数据库内的全部数据以表格的形式进行打印，需要调用后台接口直接从数据库内进行数据的查找(printjs)</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">async printJson() &#123;</span><br><span class="line">      &#x2F;&#x2F;通过getdata调用后台接口获取数据封装到res</span><br><span class="line">      const res &#x3D; await getdata();</span><br><span class="line">      this.list &#x3D; res.data || [];</span><br><span class="line">      let data &#x3D; []</span><br><span class="line">      for (let i&#x3D;0; i &lt; this.list.length; i++) &#123;</span><br><span class="line">          data.push(&#123;</span><br><span class="line">          field1: this.list[i].field1,</span><br><span class="line">          field2: this.list[i].field2,</span><br><span class="line">          field3: this.list[i].field3,</span><br><span class="line">          field4: this.list[i].field4,</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;</span><br><span class="line">      printJS(&#123;</span><br><span class="line">        printable: data,</span><br><span class="line">        properties: [</span><br><span class="line">          &#123;</span><br><span class="line">            field: &#39;field1&#39;,</span><br><span class="line">            displayName: &#39;第一个字段&#39;,</span><br><span class="line">            columnSize: 1</span><br><span class="line">          &#125;,</span><br><span class="line">          &#123;</span><br><span class="line">            field: &#39;field2&#39;,</span><br><span class="line">            displayName: &#39;第二个字段&#39;,</span><br><span class="line">            columnSize: 1</span><br><span class="line">          &#125;,</span><br><span class="line">          &#123;</span><br><span class="line">            field: &#39;field3&#39;,</span><br><span class="line">            displayName: &#39;第三个字段&#39;,</span><br><span class="line">            columnSize: 1</span><br><span class="line">          &#125;,</span><br><span class="line">          &#123;</span><br><span class="line">            field: &#39;field4&#39;,</span><br><span class="line">            displayName: &#39;第四个字段&#39;,</span><br><span class="line">            columnSize: 1</span><br><span class="line">          &#125;</span><br><span class="line">        ],</span><br><span class="line">        type: &#39;json&#39;,</span><br><span class="line">        header: &#39;标题&#39;,</span><br><span class="line">        &#x2F;&#x2F; 样式设置</span><br><span class="line">        gridStyle: &#39;border: 2px solid #3971A5;&#39;,</span><br><span class="line">        gridHeaderStyle: &#39;color: red;  border: 2px solid #3971A5;&#39;</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;,</span><br></pre></td></tr></table></figure>



<h2 id="vue下划线跟随的两种方式"><a href="#vue下划线跟随的两种方式" class="headerlink" title="vue下划线跟随的两种方式"></a>vue下划线跟随的两种方式</h2><h3 id="纯css方式"><a href="#纯css方式" class="headerlink" title="纯css方式"></a>纯css方式</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">html</span><br><span class="line">&lt;div class&#x3D;&quot;main&quot;&gt;</span><br><span class="line">    &lt;div v-for&#x3D;&quot;(nav,index) in navs&quot; :key&#x3D;&quot;index&quot; class&#x3D;&quot;nav&quot;&gt;</span><br><span class="line">    	&lt;div&gt;&#123;&#123;nav.name&#125;&#125;&lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line"></span><br><span class="line">js</span><br><span class="line">navs: [&#123; name: &quot;北京&quot; &#125;, &#123; name: &quot;哈尔滨黑龙江&quot; &#125;, &#123; name: &quot;上海&quot; &#125;, &#123; name: &quot;三个人&quot; &#125;,],</span><br><span class="line"></span><br><span class="line">css</span><br><span class="line">.main &#123;</span><br><span class="line">    position: relative;</span><br><span class="line">    width: fit-content;</span><br><span class="line">    margin: 0 auto;</span><br><span class="line">    text-align: center;</span><br><span class="line">    display: flex;</span><br><span class="line">&#125;</span><br><span class="line">.nav &#123;</span><br><span class="line">    position: relative;</span><br><span class="line">    overflow: hidden;</span><br><span class="line">    padding: 10px;</span><br><span class="line">&#125;</span><br><span class="line">.nav::after &#123;</span><br><span class="line">    content: &quot;&quot;;</span><br><span class="line">    position: absolute;</span><br><span class="line">    bottom: 0;</span><br><span class="line">    left: 100%;</span><br><span class="line">    width: 0;</span><br><span class="line">    height: 2px;</span><br><span class="line">    background-color: #000;</span><br><span class="line">    transition: all 0.3s ease-out;</span><br><span class="line">&#125;</span><br><span class="line">.nav &#123;</span><br><span class="line">  &amp;:hover &#123;</span><br><span class="line">    &amp;::after &#123;</span><br><span class="line">      width: 100%;</span><br><span class="line">      left: 0;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &amp; + .nav::after &#123;</span><br><span class="line">      left: 0;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="js事件方式（高阶用法）"><a href="#js事件方式（高阶用法）" class="headerlink" title="js事件方式（高阶用法）"></a>js事件方式（高阶用法）</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">html</span><br><span class="line">&lt;div class&#x3D;&quot;main&quot; ref&#x3D;&quot;MainHeader&quot;&gt;</span><br><span class="line">            &lt;div v-for&#x3D;&quot;(nav,index) in navs&quot; :key&#x3D;&quot;index&quot; :class&#x3D;&quot;&#123;nav:true,active:index&#x3D;&#x3D;activeNav&#125;&quot;</span><br><span class="line">                @mouseenter&#x3D;&quot;setCurrentNav(index)&quot; @click&#x3D;&quot;setActiveNav(index)&quot; @mouseleave&#x3D;&quot;handleLeaveMainHeader &quot;&gt;</span><br><span class="line">                &lt;div class&#x3D;&quot;nav-title&quot;&gt;&#123;&#123;nav.name&#125;&#125;&lt;&#x2F;div&gt;</span><br><span class="line">            &lt;&#x2F;div&gt;</span><br><span class="line">            &lt;i class&#x3D;&quot;nav-underline&quot; :style&#x3D;&quot;navLineStyle&quot;&gt;&lt;&#x2F;i&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">        </span><br><span class="line">js</span><br><span class="line">data() &#123;</span><br><span class="line">        return &#123;</span><br><span class="line">            activeNav: 0,</span><br><span class="line">            activeNavStyle:&#123;width:0,left:0&#125;,</span><br><span class="line">            currentNav: 0,</span><br><span class="line">            currentNavStyle:&#123;width:0,left:0&#125;,</span><br><span class="line">            navs: [&#123; name: &quot;北京&quot; &#125;, &#123; name: &quot;哈尔滨黑龙江&quot; &#125;, &#123; name: &quot;上海&quot; &#125;, &#123; name: &quot;三个人&quot; &#125;,],</span><br><span class="line">    &#125;,</span><br><span class="line">    computed: &#123;</span><br><span class="line">        navLineStyle() &#123;</span><br><span class="line">            let style &#x3D; this.currentNavStyle || this.activeNavStyle;</span><br><span class="line">            return &#123; width: &#96;$&#123;style.width&#125;px&#96;, left: &#96;$&#123;style.left&#125;px&#96; &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">        handleLeaveMainHeader() &#123;</span><br><span class="line">            &#x2F;&#x2F; 鼠标离开导航栏时，重置下划线状态</span><br><span class="line">            this.currentNavStyle &#x3D; null</span><br><span class="line">        &#125;,</span><br><span class="line">        setActiveNav(index) &#123;</span><br><span class="line">            &#x2F;&#x2F; 点击导航时，设置激活样式</span><br><span class="line">            this.activeNav &#x3D; index</span><br><span class="line">            this.activeNavStyle &#x3D; this.getNavStyle(index)</span><br><span class="line">        &#125;,</span><br><span class="line">        setCurrentNav(index) &#123;</span><br><span class="line">            &#x2F;&#x2F; 鼠标移动到导航时，记录临时状态</span><br><span class="line">            this.currentNav &#x3D; index</span><br><span class="line">            this.currentNavStyle &#x3D; this.getNavStyle(index)</span><br><span class="line">        &#125;,</span><br><span class="line">        getNavStyle(index) &#123; &#x2F;&#x2F; 根据导航的 index 移动下划线</span><br><span class="line">            let childNodes &#x3D; this.$refs.MainHeader.childNodes</span><br><span class="line">            &#x2F;&#x2F; 根据当前导航的宽度，设置下划线的宽度</span><br><span class="line">            let width &#x3D; childNodes[index].clientWidth</span><br><span class="line">            &#x2F;&#x2F; 设置下划线的默认位置</span><br><span class="line">            let left &#x3D; 0</span><br><span class="line">            if (index &gt; 0) &#123;</span><br><span class="line">                &#x2F;&#x2F; 计算左边导航的总宽度，设置为下划线的左移距离</span><br><span class="line">                for (let i &#x3D; 0; i &lt; index; i++) &#123;</span><br><span class="line">                    left +&#x3D; childNodes[i].clientWidth</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            return &#123; width, left &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="简单的拖拽实例"><a href="#简单的拖拽实例" class="headerlink" title="简单的拖拽实例"></a>简单的拖拽实例</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line">html</span><br><span class="line">&lt;p&gt;Drag and Drop the violet rectangle in other rectangles.&lt;&#x2F;p&gt;</span><br><span class="line">    &lt;div id&#x3D;&quot;div1&quot; @drop&#x3D;&quot;drop($event)&quot; @dragover&#x3D;&quot;allowDrop($event)&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">    &lt;br &#x2F;&gt;</span><br><span class="line">    &lt;div id&#x3D;&quot;div2&quot; draggable&#x3D;&quot;true&quot; @dragstart&#x3D;&quot;drag($event)&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">    &lt;br &#x2F;&gt;</span><br><span class="line">&lt;div id&#x3D;&quot;div1&quot; @drop&#x3D;&quot;drop($event)&quot; @dragover&#x3D;&quot;allowDrop($event)&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line"></span><br><span class="line">js</span><br><span class="line">allowDrop(ev) &#123;</span><br><span class="line"> ev.preventDefault();</span><br><span class="line">&#125;,</span><br><span class="line"></span><br><span class="line">drag(ev) &#123;</span><br><span class="line"> ev.dataTransfer.setData(&#39;text&#39;, ev.target.id);</span><br><span class="line">&#125;,</span><br><span class="line"></span><br><span class="line">drop(ev) &#123;</span><br><span class="line">  ev.preventDefault();</span><br><span class="line">  var data &#x3D; ev.dataTransfer.getData(&#39;text&#39;);</span><br><span class="line">  ev.target.appendChild(document.getElementById(data));</span><br><span class="line">&#125;,</span><br><span class="line"></span><br><span class="line">css</span><br><span class="line">* &#123;</span><br><span class="line">  margin: 0;</span><br><span class="line">  padding: 0;</span><br><span class="line">  box-sizing: border-box;</span><br><span class="line">  font-family: sans-serif;</span><br><span class="line">&#125;</span><br><span class="line">body &#123;</span><br><span class="line">  display: flex;</span><br><span class="line">  align-items: center;</span><br><span class="line">  justify-content: center;</span><br><span class="line">  flex-direction: column;</span><br><span class="line">  height: 100vh;</span><br><span class="line">&#125;</span><br><span class="line">p &#123;</span><br><span class="line">  margin: 10px;</span><br><span class="line">&#125;</span><br><span class="line">#div1 &#123;</span><br><span class="line">  width: 300px;</span><br><span class="line">  height: 80px;</span><br><span class="line">  border: 1px solid black;</span><br><span class="line">  display: flex;</span><br><span class="line">  align-items: center;</span><br><span class="line">  justify-content: center;</span><br><span class="line">&#125;</span><br><span class="line">#div2 &#123;</span><br><span class="line">  background: blueviolet;</span><br><span class="line">  width: 280px;</span><br><span class="line">  height: 70px;</span><br><span class="line">  cursor: grabbing;</span><br><span class="line">  cursor: -webkit-grabbing;</span><br><span class="line">  cursor: -moz-grabbing;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="手把手教你学会用vue实现元素拖拽移动-滚轮缩放功能"><a href="#手把手教你学会用vue实现元素拖拽移动-滚轮缩放功能" class="headerlink" title="手把手教你学会用vue实现元素拖拽移动+滚轮缩放功能"></a>手把手教你学会用vue实现元素拖拽移动+滚轮缩放功能</h2><p>参考链接 <a href="https://blog.csdn.net/vvv3171071/article/details/122705408" target="_blank" rel="noopener">https://blog.csdn.net/vvv3171071/article/details/122705408</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br></pre></td><td class="code"><pre><span class="line">1.拖拽</span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class&#x3D;&quot;drag&quot;&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;back_box&quot; ref&#x3D;&quot;back_box&quot;&gt;</span><br><span class="line">      这是一个背景</span><br><span class="line">      &lt;div</span><br><span class="line">        class&#x3D;&quot;drag_box&quot;</span><br><span class="line">        draggable&#x3D;&quot;true&quot;</span><br><span class="line">        @dragstart&#x3D;&quot;dragstart($event)&quot;</span><br><span class="line">        @dragend&#x3D;&quot;dragend($event)&quot;</span><br><span class="line">        :style&#x3D;&quot;&#96;left:$&#123;elLeft&#125;px;top:$&#123;elTop&#125;px&#96;&quot;</span><br><span class="line">      &gt;</span><br><span class="line">        这是一个蓝色可拖拽元素</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;HelloWorld&quot;,</span><br><span class="line">  props: &#123;</span><br><span class="line">    msg: String,</span><br><span class="line">  &#125;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      initWidth: 0, &#x2F;&#x2F; 父元素的宽-自适应值</span><br><span class="line">      initHeight: 0, &#x2F;&#x2F; 父元素的高-自适应值</span><br><span class="line">      startclientX: 0, &#x2F;&#x2F; 元素拖拽前距离浏览器的X轴位置</span><br><span class="line">      startclientY: 0, &#x2F;&#x2F;元素拖拽前距离浏览器的Y轴位置</span><br><span class="line">      elLeft: 0, &#x2F;&#x2F; 元素的左偏移量</span><br><span class="line">      elTop: 0, &#x2F;&#x2F; 元素的右偏移量</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    &#x2F;&#x2F; 页面初始化</span><br><span class="line">    initBodySize() &#123;</span><br><span class="line">      this.initWidth &#x3D; this.$refs.back_box.clientWidth; &#x2F;&#x2F; 拿到父元素宽</span><br><span class="line">      &#x2F;&#x2F; this.initHeight &#x3D; this.initWidth * (1080 &#x2F; 1920);</span><br><span class="line">      this.initHeight &#x3D; this.initWidth * ((1080 * 0.88) &#x2F; (1920 - 1080 * 0.02)); &#x2F;&#x2F; 根据宽计算高实现自适应</span><br><span class="line">    &#125;,</span><br><span class="line">    &#x2F;&#x2F; 拖拽开始事件</span><br><span class="line">    dragstart(e) &#123;</span><br><span class="line">      console.log(e);</span><br><span class="line">      this.startclientX &#x3D; e.clientX; &#x2F;&#x2F; 记录拖拽元素初始位置</span><br><span class="line">      this.startclientY &#x3D; e.clientY;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#x2F;&#x2F; 拖拽完成事件</span><br><span class="line">    dragend(e) &#123;</span><br><span class="line">      console.log(e);</span><br><span class="line">      let x &#x3D; e.clientX - this.startclientX; &#x2F;&#x2F; 计算偏移量</span><br><span class="line">      let y &#x3D; e.clientY - this.startclientY;</span><br><span class="line">      this.elLeft +&#x3D; x; &#x2F;&#x2F; 实现拖拽元素随偏移量移动</span><br><span class="line">      this.elTop +&#x3D; y;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  mounted() &#123;</span><br><span class="line">    &#x2F;&#x2F; console.log(this.$el);</span><br><span class="line">    this.initBodySize();</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">.back_box &#123;</span><br><span class="line">  background: #ccc;</span><br><span class="line">  width: 50vw;</span><br><span class="line">  height: 50vh;</span><br><span class="line">  position: fixed;</span><br><span class="line">  top: 50%;</span><br><span class="line">  left: 50%;</span><br><span class="line">  transform: translate(-50%, -30%);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.drag_box &#123;</span><br><span class="line">  width: 100px;</span><br><span class="line">  height: 100px;</span><br><span class="line">  background: skyblue;</span><br><span class="line">  position: absolute;</span><br><span class="line">  z-index: 10;</span><br><span class="line">  user-select: none; &#x2F;* 不可选中,为了拖拽时不让文字高亮 *&#x2F;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br><span class="line"></span><br><span class="line">2.加上缩放</span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class&#x3D;&quot;drag&quot;&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;back_box&quot; ref&#x3D;&quot;back_box&quot;&gt;</span><br><span class="line">      这是一个背景</span><br><span class="line">      &lt;div</span><br><span class="line">        class&#x3D;&quot;drag_box&quot;</span><br><span class="line">        draggable&#x3D;&quot;true&quot;</span><br><span class="line">        @dragstart&#x3D;&quot;dragstart&quot;</span><br><span class="line">        @dragend&#x3D;&quot;dragend&quot;</span><br><span class="line">        @wheel&#x3D;&quot;handleWeel&quot;</span><br><span class="line">        :style&#x3D;&quot;&#96;left:$&#123;elLeft&#125;px;top:$&#123;elTop&#125;px;width:$&#123;elWidth&#125;px;height:$&#123;elHeight&#125;px;&#96;&quot;</span><br><span class="line">      &gt;</span><br><span class="line">        &lt;div</span><br><span class="line">          class&#x3D;&quot;text&quot;</span><br><span class="line">          :style&#x3D;&quot;&#96;left:$&#123;(0 * this.elWidth) &#x2F; 100&#125;px;top:$&#123;</span><br><span class="line">            (25 * this.elHeight) &#x2F; 100</span><br><span class="line">          &#125;px;-webkit-transform: scale($&#123;meter_zoom&#125; )&#96;&quot;</span><br><span class="line">        &gt;</span><br><span class="line">          这是一个蓝色可拖拽元素</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;HelloWorld&quot;,</span><br><span class="line">  props: &#123;</span><br><span class="line">    msg: String,</span><br><span class="line">  &#125;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      initWidth: 0, &#x2F;&#x2F; 父元素的宽-自适应值</span><br><span class="line">      initHeight: 0, &#x2F;&#x2F; 父元素的高-自适应值</span><br><span class="line">      startclientX: 0, &#x2F;&#x2F; 元素拖拽前距离浏览器的X轴位置</span><br><span class="line">      startclientY: 0, &#x2F;&#x2F;元素拖拽前距离浏览器的Y轴位置</span><br><span class="line">      elLeft: 0, &#x2F;&#x2F; 元素的左偏移量</span><br><span class="line">      elTop: 0, &#x2F;&#x2F; 元素的右偏移量</span><br><span class="line"></span><br><span class="line">      zoom: 1, &#x2F;&#x2F; 缩放比例</span><br><span class="line">      elWidth: 0, &#x2F;&#x2F; 元素宽</span><br><span class="line">      elHeight: 0, &#x2F;&#x2F; 元素高</span><br><span class="line">      meter_zoom: 0, &#x2F;&#x2F; 子元素缩放比例</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    &#x2F;&#x2F; 页面初始化</span><br><span class="line">    initBodySize() &#123;</span><br><span class="line">      this.initWidth &#x3D; this.$refs.back_box.clientWidth; &#x2F;&#x2F; 拿到父元素宽</span><br><span class="line">      &#x2F;&#x2F; this.initHeight &#x3D; this.initWidth * (1080 &#x2F; 1920);</span><br><span class="line">      this.initHeight &#x3D; this.initWidth * ((1080 * 0.88) &#x2F; (1920 - 1080 * 0.02)); &#x2F;&#x2F; 根据宽计算高实现自适应</span><br><span class="line">      this.elWidth &#x3D; this.initWidth * (100 &#x2F; (1920 &#x2F; 2));</span><br><span class="line">      this.elHeight &#x3D; this.initHeight * (100 &#x2F; (1080 &#x2F; 2));</span><br><span class="line">      this.meter_zoom &#x3D; this.elWidth &#x2F; 100; &#x2F;&#x2F; 计算子元素缩放比例</span><br><span class="line">    &#125;,</span><br><span class="line">    &#x2F;&#x2F; 拖拽开始事件</span><br><span class="line">    dragstart(e) &#123;</span><br><span class="line">      console.log(e);</span><br><span class="line">      this.startclientX &#x3D; e.clientX; &#x2F;&#x2F; 记录拖拽元素初始位置</span><br><span class="line">      this.startclientY &#x3D; e.clientY;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#x2F;&#x2F; 拖拽完成事件</span><br><span class="line">    dragend(e) &#123;</span><br><span class="line">      console.log(e);</span><br><span class="line">      let x &#x3D; e.clientX - this.startclientX; &#x2F;&#x2F; 计算偏移量</span><br><span class="line">      let y &#x3D; e.clientY - this.startclientY;</span><br><span class="line">      this.elLeft +&#x3D; x; &#x2F;&#x2F; 实现拖拽元素随偏移量移动</span><br><span class="line">      this.elTop +&#x3D; y;</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; 滚轮放大缩小事件</span><br><span class="line">    handleWeel(e) &#123;</span><br><span class="line">      console.log(e);</span><br><span class="line">      if (e.wheelDelta &lt; 0) &#123;</span><br><span class="line">        this.zoom -&#x3D; 0.05;</span><br><span class="line">      &#125; else &#123;</span><br><span class="line">        this.zoom +&#x3D; 0.05;</span><br><span class="line">      &#125;</span><br><span class="line">      if (this.zoom &gt;&#x3D; 3) &#123;</span><br><span class="line">        this.zoom &#x3D; 3;</span><br><span class="line">        return;</span><br><span class="line">      &#125;</span><br><span class="line">      if (this.zoom &lt;&#x3D; 0.5) &#123;</span><br><span class="line">        this.zoom &#x3D; 0.5;</span><br><span class="line">        return;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      this.elWidth &#x3D; this.initWidth * (100 &#x2F; (1920 &#x2F; 2)) * this.zoom;</span><br><span class="line">      this.elHeight &#x3D; this.initHeight * (100 &#x2F; (1080 &#x2F; 2)) * this.zoom;</span><br><span class="line">      this.meter_zoom &#x3D; this.elWidth &#x2F; 100;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  mounted() &#123;</span><br><span class="line">    &#x2F;&#x2F; console.log(this.$el);</span><br><span class="line">    this.initBodySize();</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">.back_box &#123;</span><br><span class="line">  background: #ccc;</span><br><span class="line">  width: 50vw;</span><br><span class="line">  height: 50vh;</span><br><span class="line">  position: fixed;</span><br><span class="line">  top: 50%;</span><br><span class="line">  left: 50%;</span><br><span class="line">  transform: translate(-50%, -30%);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.drag_box &#123;</span><br><span class="line">  width: 100px;</span><br><span class="line">  height: 100px;</span><br><span class="line">  background: skyblue;</span><br><span class="line">  position: absolute;</span><br><span class="line">  z-index: 10;</span><br><span class="line">  user-select: none; &#x2F;* 不可选中,为了拖拽时不让文字高亮 *&#x2F;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.text &#123;</span><br><span class="line">  position: absolute;</span><br><span class="line">  width: 100px;</span><br><span class="line">  height: 100px;</span><br><span class="line">  transform-origin: 0 0; &#x2F;* 用作缩放基点 *&#x2F;</span><br><span class="line">  font-size: 16px;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>



<h2 id="获取首页白屏时间-在head标签前添加如下代码"><a href="#获取首页白屏时间-在head标签前添加如下代码" class="headerlink" title="获取首页白屏时间(在head标签前添加如下代码)"></a>获取首页白屏时间(在head标签前添加如下代码)</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    &#x2F;&#x2F;new Date().getTime()和Date().now()等同</span><br><span class="line">    window.onload &#x3D; function () &#123;</span><br><span class="line">        requestAnimationFrame(function () &#123;</span><br><span class="line">            var firstPaintTime &#x3D;</span><br><span class="line">                window.chrome.loadTimes().firstPaintTime * 1000 - window.performance.timing.navigationStart;</span><br><span class="line">            console.log(</span><br><span class="line">                &#39;get first paint time by raf:&#39;,</span><br><span class="line">                firstPaintTime</span><br><span class="line">            );</span><br><span class="line">            var test &#x3D;</span><br><span class="line">                new Date().getTime() - window.performance.timing.navigationStart;</span><br><span class="line">            console.log(</span><br><span class="line">                &#39;get first paint time by raf:&#39;,</span><br><span class="line">                test</span><br><span class="line">            );</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>



<h2 id="xml转html"><a href="#xml转html" class="headerlink" title="xml转html"></a>xml转html</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type&#x3D;&quot;text&#x2F;javascript&quot;&gt;</span><br><span class="line">    var fileString &#x3D; &quot;&lt;root&gt;a\nb\nc&lt;\&#x2F;root&gt;&quot;;</span><br><span class="line">    var parser &#x3D; new DOMParser(); </span><br><span class="line">    var xmlDoc &#x3D; parser.parseFromString(fileString, &quot;text\&#x2F;xml&quot;);</span><br><span class="line">    console.log(xmlDoc)</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>



<h2 id="vue监听窗口变化并实现防抖"><a href="#vue监听窗口变化并实现防抖" class="headerlink" title="vue监听窗口变化并实现防抖"></a>vue监听窗口变化并实现防抖</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">mounted() &#123;</span><br><span class="line">    window.addEventListener(&#39;resize&#39;, this.changeWidth())</span><br><span class="line">  &#125;,</span><br><span class="line">  beforeDestroy() &#123;</span><br><span class="line">    window.removeEventListener(&#39;resize&#39;, this.changeWidth())</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    &#x2F;&#x2F;根据屏幕宽度改变摄像头宽度</span><br><span class="line">    changeWidth() &#123;</span><br><span class="line">      let that &#x3D; this</span><br><span class="line">      let timer</span><br><span class="line">      return () &#x3D;&gt; &#123;</span><br><span class="line">        if (timer) &#123;</span><br><span class="line">          window.clearTimeout(timer)</span><br><span class="line">        &#125;</span><br><span class="line">        timer &#x3D; window.setTimeout(() &#x3D;&gt; &#123;</span><br><span class="line">          that.clientWidth &#x3D; document.body.clientWidth || document.documentElement.clientHeight</span><br><span class="line">          console.log(that.clientWidth,&#39;31223&#39;);</span><br><span class="line"></span><br><span class="line">        &#125;, 200)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br></pre></td></tr></table></figure>





<h2 id="vue项目中文切换的两种方式"><a href="#vue项目中文切换的两种方式" class="headerlink" title="vue项目中文切换的两种方式"></a>vue项目中文切换的两种方式</h2><h3 id="方式一-静态转换"><a href="#方式一-静态转换" class="headerlink" title="方式一   静态转换"></a>方式一   静态转换</h3><p>使用 Vue 插件 language-tw-loader<br>在打包时把本地的文字转换成繁体，动态加载的文字不会转换。也就是说接口返回的文字不会自动转换。<br>打包后无法再切换为简体。除非专门打一个简体的包。<br>使用方式</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">1、安装插件</span><br><span class="line"></span><br><span class="line">npm i language-tw-loader --save</span><br><span class="line">2、修改 webpack 配置文件webpack.base.conf.js</span><br><span class="line"></span><br><span class="line">module: &#123;</span><br><span class="line">rules: [</span><br><span class="line">    ......</span><br><span class="line">  &#123;</span><br><span class="line">    test: &#x2F;\.(js|vue)$&#x2F;,</span><br><span class="line">    loader: &#39;language-tw-loader&#39;,</span><br><span class="line">  &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br><span class="line">3、打包或者运行</span><br><span class="line"></span><br><span class="line">npm run dev</span><br><span class="line"></span><br><span class="line">tips 在vue.config.js中配置loader</span><br><span class="line"></span><br><span class="line">&#39;use strict&#39;;</span><br><span class="line"></span><br><span class="line">module.exports &#x3D; &#123;</span><br><span class="line">  productionSourceMap: false,</span><br><span class="line">  css: &#123;</span><br><span class="line">    extract: false, &#x2F;&#x2F; 是否使用css分离插件 ExtractTextPlugin</span><br><span class="line">    sourceMap: true &#x2F;&#x2F; 开启 CSS source maps?</span><br><span class="line">  &#125;,</span><br><span class="line">  chainWebpack(config) &#123;</span><br><span class="line">    &#x2F;&#x2F; 移除 prefetch 插件（解决首次进入页面所有资源预加载）</span><br><span class="line">    config.plugins.delete(&#39;prefetch&#39;);</span><br><span class="line">    方法一：</span><br><span class="line">    config.module</span><br><span class="line">      .rule(&#39;vue&#39;)</span><br><span class="line">      .use(&#39;language-tw-loader&#39;) &#x2F;&#x2F; 解决ivew组件 忽略前缀i的问题</span><br><span class="line">      .loader(&#39;language-tw-loader&#39;)</span><br><span class="line">      .options(&#123;</span><br><span class="line">        prefix: false</span><br><span class="line">      &#125;)</span><br><span class="line">      .end();</span><br><span class="line">  &#125;,</span><br><span class="line">  方法二：</span><br><span class="line">  configureWebpack: (config) &#x3D;&gt; &#123;</span><br><span class="line">    config.module.rules.push(&#123;</span><br><span class="line">      test: &#x2F;\.(js|vue)$&#x2F;,</span><br><span class="line">      use: [&#123;</span><br><span class="line">        loader: &#39;language-tw-loader&#39;, &#x2F;&#x2F; 解决ivew组件 忽略前缀i的问题</span><br><span class="line">        options: &#123;</span><br><span class="line">          prefix: false</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;]</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>



<h3 id="方式二动态转换"><a href="#方式二动态转换" class="headerlink" title="方式二动态转换"></a>方式二动态转换</h3><p>参考链接： <a href="https://www.jianshu.com/p/895174c54c1d" target="_blank" rel="noopener">https://www.jianshu.com/p/895174c54c1d</a></p>
<p>1.首先，安装；</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install vue-i18n</span><br></pre></td></tr></table></figure>

<p>2.在与main.js同级目录下，新建文件夹，如图吧：</p>
<p><img src="https://upload-images.jianshu.io/upload_images/4155235-21dde0c56dbd60d7.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/293/format/webp" alt="img"></p>
<p>3.main.js</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">import i18n from &#39;.&#x2F;i18n&#x2F;i18n&#39;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">new Vue(&#123;</span><br><span class="line">  router,</span><br><span class="line">  store,</span><br><span class="line">  i18n,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      address: &#39;26+5+959+&#39;</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  mounted() &#123;</span><br><span class="line">    window.vue &#x3D; this;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    updateAdress(address) &#123;</span><br><span class="line">      console.log(address);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  render: h &#x3D;&gt; h(App)</span><br><span class="line">&#125;).$mount(&#39;#app&#39;);</span><br></pre></td></tr></table></figure>

<p>4.看i18n.js</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#39;vue&#39;;</span><br><span class="line">import locale from &#39;element-ui&#x2F;lib&#x2F;locale&#39;;</span><br><span class="line">import VueI18n from &#39;vue-i18n&#39;;</span><br><span class="line">import messages from &#39;.&#x2F;langs&#39;;</span><br><span class="line">Vue.use(VueI18n)</span><br><span class="line">&#x2F;&#x2F;从localstorage中拿到用户的语言选择，如果没有，则默认繁体</span><br><span class="line">const i18n &#x3D; new VueI18n(&#123;</span><br><span class="line">  locale: localStorage.lang || &#39;zh-TW&#39;,</span><br><span class="line">  messages</span><br><span class="line">&#125;);</span><br><span class="line">locale.i18n((key,value)&#x3D;&gt;i18n.t(key,value))</span><br><span class="line">export default i18n;</span><br></pre></td></tr></table></figure>

<p>5.看index.js</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">import en from &#39;.&#x2F;en&#39;;</span><br><span class="line">import cn from &#39;.&#x2F;cn&#39;;</span><br><span class="line">import tw from &#39;.&#x2F;tw&#39;;</span><br><span class="line">export default &#123;</span><br><span class="line">  en,</span><br><span class="line">  cn,</span><br><span class="line">  tw</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>6.cn.js</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">import zhLocale from &#39;element-ui&#x2F;lib&#x2F;locale&#x2F;lang&#x2F;zh-CN&#39;</span><br><span class="line">const cn &#x3D; &#123;</span><br><span class="line">  message: &#123;</span><br><span class="line">    hello: &#39;你好，世界&#39;,</span><br><span class="line">    test:&#39;测试&#39;</span><br><span class="line">  &#125;,</span><br><span class="line">  ...zhLocale</span><br><span class="line">&#125;;</span><br><span class="line">export default cn;</span><br></pre></td></tr></table></figure>

<p>7.en.js</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">import enLocale from &#39;element-ui&#x2F;lib&#x2F;locale&#x2F;lang&#x2F;en&#39;;</span><br><span class="line">const en &#x3D; &#123;</span><br><span class="line">  message: &#123;</span><br><span class="line">    hello: &#39;hello,world&#39;,</span><br><span class="line">    test: &#39;test&#39;</span><br><span class="line">  &#125;,</span><br><span class="line">  ...enLocale</span><br><span class="line">&#125;;</span><br><span class="line">export default en;</span><br></pre></td></tr></table></figure>

<p>8.tw.js</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">import twLocale from &#39;element-ui&#x2F;lib&#x2F;locale&#x2F;lang&#x2F;zh-TW&#39;;</span><br><span class="line">const TW &#x3D; &#123;</span><br><span class="line">  message: &#123;</span><br><span class="line">    hello: &#39;你號，世傑&#39;,</span><br><span class="line">    test: &#39;測試&#39;</span><br><span class="line">  &#125;,</span><br><span class="line">  ...twLocale</span><br><span class="line">&#125;;</span><br><span class="line">export default TW;</span><br></pre></td></tr></table></figure>

<p>9.下面是在组件里切换语言；</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">      我是用来看的&#123;&#123;$t(&quot;message.hello&quot;)&#125;&#125;&#123;&#123;$t(&quot;message.test&quot;)&#125;&#125;</span><br><span class="line">    &lt;el-select v-model&#x3D;&quot;value4&quot; placeholder&#x3D;&quot;请选择&quot; clearable @change&#x3D;&quot;selectLanguage&quot;&gt;</span><br><span class="line">      &lt;el-option v-for&#x3D;&quot;item in options&quot; :key&#x3D;&quot;item.value&quot; :label&#x3D;&quot;item.label&quot; :value&#x3D;&quot;item&quot;&gt; &lt;&#x2F;el-option&gt;</span><br><span class="line">    &lt;&#x2F;el-select&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      options: [</span><br><span class="line">        &#123;</span><br><span class="line">          value: &#39;1&#39;,</span><br><span class="line">          label: &#39;中文&#39;,</span><br><span class="line">          lang:&#39;cn&#39;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          value: &#39;2&#39;,</span><br><span class="line">          label: &#39;英文&#39;,</span><br><span class="line">          lang:&#39;en&#39;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          value: &#39;3&#39;,</span><br><span class="line">          label: &#39;中文繁体&#39;,</span><br><span class="line">          lang:&#39;tw&#39;</span><br><span class="line">        &#125;</span><br><span class="line">      ],</span><br><span class="line">      value4: &#39;&#39;,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    selectLanguage(event) &#123;</span><br><span class="line">       &#x2F;&#x2F;将绑定的value值改为当前item，就可以获取当前对象，绑定字段，就可以获取字段的值</span><br><span class="line">        console.log(event,&#39;event&#39;);</span><br><span class="line">        &#x2F;&#x2F; &#123;</span><br><span class="line">        &#x2F;&#x2F;   value: &#39;1&#39;,</span><br><span class="line">        &#x2F;&#x2F;   label: &#39;中文&#39;,</span><br><span class="line">        &#x2F;&#x2F;   lang:&#39;cn&#39;</span><br><span class="line">        &#x2F;&#x2F; &#125;,</span><br><span class="line">        this.$i18n.locale &#x3D;localStorage.lang&#x3D; event.lang;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>



<h2 id="有趣的漫画编程公众号链接合集"><a href="#有趣的漫画编程公众号链接合集" class="headerlink" title="有趣的漫画编程公众号链接合集"></a>有趣的漫画编程公众号链接合集</h2><p>unicode</p>
<p><a href="https://mp.weixin.qq.com/s/q2sDjbv7ewB_j94L1YXAiw" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/q2sDjbv7ewB_j94L1YXAiw</a></p>
<h2 id="使用pastebin保留代码格式"><a href="#使用pastebin保留代码格式" class="headerlink" title="使用pastebin保留代码格式"></a>使用pastebin保留代码格式</h2><p>网址：<a href="https://paste.ubuntu.com/" target="_blank" rel="noopener">https://paste.ubuntu.com/</a></p>
<h2 id="对BFC的理解"><a href="#对BFC的理解" class="headerlink" title="对BFC的理解"></a>对BFC的理解</h2><p><a href="https://mp.weixin.qq.com/s/4WC-1COpRL0scgPqD3I-Sg" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/4WC-1COpRL0scgPqD3I-Sg</a></p>
<h2 id="Node-js-三大基础模块常用-API"><a href="#Node-js-三大基础模块常用-API" class="headerlink" title="Node.js 三大基础模块常用 API"></a>Node.js 三大基础模块常用 API</h2><p><a href="https://mp.weixin.qq.com/s/8jiIH8PhLtu-ZLaZocdJwQ" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/8jiIH8PhLtu-ZLaZocdJwQ</a></p>
<h2 id="手把手教你写一个Vue组件发布到npm且可外链引入使用"><a href="#手把手教你写一个Vue组件发布到npm且可外链引入使用" class="headerlink" title="手把手教你写一个Vue组件发布到npm且可外链引入使用"></a>手把手教你写一个Vue组件发布到npm且可外链引入使用</h2><p><a href="https://mp.weixin.qq.com/s/hFTzL_TT54NVzV7v5GO8Xg" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/hFTzL_TT54NVzV7v5GO8Xg</a></p>
<h2 id="表格的最小宽度，超过最小宽度自适应"><a href="#表格的最小宽度，超过最小宽度自适应" class="headerlink" title="表格的最小宽度，超过最小宽度自适应"></a>表格的最小宽度，超过最小宽度自适应</h2><h3 id="AntDesignVue-table列最小宽度"><a href="#AntDesignVue-table列最小宽度" class="headerlink" title="AntDesignVue table列最小宽度"></a>AntDesignVue table列最小宽度</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">      title: &#39;任务名称&#39;,</span><br><span class="line">      dataIndex: &#39;title&#39;,</span><br><span class="line">      ellipsis: true,</span><br><span class="line">      customCell: () &#x3D;&gt; &#123;</span><br><span class="line">        return &#123;</span><br><span class="line">          style: &#123;</span><br><span class="line">            &#39;min-width&#39;: &#39;160px&#39;,</span><br><span class="line">          &#125;,</span><br><span class="line">        &#125;;</span><br><span class="line">      &#125;,</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>



<h3 id="el-table"><a href="#el-table" class="headerlink" title="el-table"></a>el-table</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-table-column prop&#x3D;&quot;buildings&quot; label&#x3D;&quot;所属建筑&quot; min-width&#x3D;&quot;180px&quot;&gt;&lt;&#x2F;el-table-column&gt;</span><br></pre></td></tr></table></figure>



<h2 id="react取消监听scroll事件"><a href="#react取消监听scroll事件" class="headerlink" title="react取消监听scroll事件"></a>react取消监听scroll事件</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">如果要移除事件addEventListener的执行函数必须使用外部函数而不能直接使用匿名函数</span><br><span class="line"></span><br><span class="line">错误写法：</span><br><span class="line"> &#x2F;&#x2F; 这样写是移除不了滚动事件的</span><br><span class="line"> componentDidMount() &#123;</span><br><span class="line">    &#x2F;&#x2F; 添加滚动监听</span><br><span class="line">    window.addEventListener(&#39;scroll&#39;, ()&#x3D;&gt;&#123;</span><br><span class="line">      console.log(&quot;滚动距离：&quot;,window.scrollY)</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">  &#x2F;&#x2F; 组件将要卸载，取消监听window滚动事件</span><br><span class="line">  componentWillUnmount()&#123;</span><br><span class="line">    window.removeEventListener(&#39;scroll&#39;, ()&#x3D;&gt;&#123;</span><br><span class="line">      console.log(&quot;滚动距离：&quot;,window.scrollY)</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">正确写法：</span><br><span class="line"> componentDidMount() &#123;</span><br><span class="line">    &#x2F;&#x2F; 添加滚动监听</span><br><span class="line">    window.addEventListener(&#39;scroll&#39;, this.scroll);</span><br><span class="line">  &#125;</span><br><span class="line">  &#x2F;&#x2F; 组件将要卸载，取消监听window滚动事件</span><br><span class="line">  componentWillUnmount()&#123;</span><br><span class="line">    window.removeEventListener(&#39;scroll&#39;, this.scroll);</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  scroll1 &#x3D; ()&#x3D;&gt;&#123;</span><br><span class="line">    console.log(&quot;滚动距离：&quot;,window.scrollY)</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<h2 id="vue主题换肤的三种方式"><a href="#vue主题换肤的三种方式" class="headerlink" title="vue主题换肤的三种方式"></a>vue主题换肤的三种方式</h2><h3 id="1-localstorage方式"><a href="#1-localstorage方式" class="headerlink" title="1.localstorage方式"></a>1.localstorage方式</h3><p><a href="https://www.cnblogs.com/Ares0023/p/14000069.html" target="_blank" rel="noopener">https://www.cnblogs.com/Ares0023/p/14000069.html</a></p>
<h3 id="2-scss变量方式"><a href="#2-scss变量方式" class="headerlink" title="2.scss变量方式"></a>2.scss变量方式</h3><p><a href="https://www.cnblogs.com/shaozhu520/p/12801131.html" target="_blank" rel="noopener">https://www.cnblogs.com/shaozhu520/p/12801131.html</a></p>
<h3 id="3-vuex方式（刷新会丢失，不建议）"><a href="#3-vuex方式（刷新会丢失，不建议）" class="headerlink" title="3.vuex方式（刷新会丢失，不建议）"></a>3.vuex方式（刷新会丢失，不建议）</h3><p><a href="https://blog.csdn.net/han_ling_sha/article/details/103968580" target="_blank" rel="noopener">https://blog.csdn.net/han_ling_sha/article/details/103968580</a></p>
<h2 id="vue前端工程化-面试必须背熟"><a href="#vue前端工程化-面试必须背熟" class="headerlink" title="vue前端工程化(面试必须背熟)"></a>vue前端工程化(面试必须背熟)</h2><p><a href="https://juejin.cn/post/7125610437109874696" target="_blank" rel="noopener">https://juejin.cn/post/7125610437109874696</a></p>
<h2 id="vue前端工程化vscode插件"><a href="#vue前端工程化vscode插件" class="headerlink" title="vue前端工程化vscode插件"></a>vue前端工程化vscode插件</h2><p><a href="https://juejin.cn/post/7067413201259855885" target="_blank" rel="noopener">https://juejin.cn/post/7067413201259855885</a></p>
<h2 id="pdf的下载和预览"><a href="#pdf的下载和预览" class="headerlink" title="pdf的下载和预览"></a>pdf的下载和预览</h2><p><a href="https://juejin.cn/post/7067117572553965581#heading-1" target="_blank" rel="noopener">https://juejin.cn/post/7067117572553965581#heading-1</a></p>
<h2 id="10个有用的自定义钩子vue-js"><a href="#10个有用的自定义钩子vue-js" class="headerlink" title="10个有用的自定义钩子vue.js"></a>10个有用的自定义钩子vue.js</h2><p><a href="https://juejin.cn/post/7084013999330689054" target="_blank" rel="noopener">https://juejin.cn/post/7084013999330689054</a></p>
<h3 id="useWindowResize、useStorage、useNetworkStatus、useCopyToClipboard、useTheme、usePageVisibility、useViewport、useOnClickOutside、useScrollToBottom、useTimer、"><a href="#useWindowResize、useStorage、useNetworkStatus、useCopyToClipboard、useTheme、usePageVisibility、useViewport、useOnClickOutside、useScrollToBottom、useTimer、" class="headerlink" title="useWindowResize、useStorage、useNetworkStatus、useCopyToClipboard、useTheme、usePageVisibility、useViewport、useOnClickOutside、useScrollToBottom、useTimer、"></a>useWindowResize、useStorage、useNetworkStatus、useCopyToClipboard、useTheme、usePageVisibility、useViewport、useOnClickOutside、useScrollToBottom、useTimer、</h3><h2 id="8个非常实用的Vue自定义指令"><a href="#8个非常实用的Vue自定义指令" class="headerlink" title="8个非常实用的Vue自定义指令"></a>8个非常实用的Vue自定义指令</h2><p><a href="https://juejin.cn/post/7067051410671534116" target="_blank" rel="noopener">https://juejin.cn/post/7067051410671534116</a></p>
<h3 id="v-copy、v-longpress、v-debounce、v-emoji、v-LazyLoad、v-permission、v-waterMarker、v-draggable"><a href="#v-copy、v-longpress、v-debounce、v-emoji、v-LazyLoad、v-permission、v-waterMarker、v-draggable" class="headerlink" title="v-copy、v-longpress、v-debounce、v-emoji、v-LazyLoad、v-permission、v-waterMarker、v-draggable"></a>v-copy、v-longpress、v-debounce、v-emoji、v-LazyLoad、v-permission、v-waterMarker、v-draggable</h3><h2 id="箭头函数与普通函数的区别"><a href="#箭头函数与普通函数的区别" class="headerlink" title="箭头函数与普通函数的区别"></a>箭头函数与普通函数的区别</h2><p><a href="https://juejin.cn/post/7069943937577779214" target="_blank" rel="noopener">https://juejin.cn/post/7069943937577779214</a></p>
<h2 id="前端体系图"><a href="#前端体系图" class="headerlink" title="前端体系图"></a>前端体系图</h2><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/823343c85ca9463dae034e8afb2de711~tplv-k3u1fbpfcp-watermark.awebp?" alt="Front End.png"></p>
<h2 id="表单提交的更优方式"><a href="#表单提交的更优方式" class="headerlink" title="表单提交的更优方式"></a>表单提交的更优方式</h2><p>场景，普通提交校验</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">form.onsubmit &#x3D; function () &#123;</span><br><span class="line">  if (form.userName.value &#x3D;&#x3D;&#x3D; &#39;&#39;) &#123;</span><br><span class="line">    alert(&#39;用户名不能为空&#39;);</span><br><span class="line">    return false;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  if (form.password.value.length &lt; 6) &#123;</span><br><span class="line">    alert(&#39;密码长度不能少于6位&#39;);</span><br><span class="line">    return false;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  if (!&#x2F;^1[3|5|8][0-9]&#123;9&#125;$&#x2F;.test(form.phoneNumber.value)) &#123;</span><br><span class="line">    alert(&#39;手机号码格式不正确&#39;);</span><br><span class="line">    return false;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">弊端</span><br><span class="line">函数比较庞大，包含了很多 if-else 语句，这些语句需要覆盖所有的校验规则。</span><br><span class="line">函数缺乏弹性，如果增加了一种新的校验规则，或者想把密码的长度从6改成8，我们都必须深入 obsubmit 函数的内部实现，这是违反开放-封闭原则的。</span><br><span class="line">算法的复用性差，如果在项目中增加了另外一个表单，这个表单也需要进行一些类似的校验，我们很可能将这些校验逻辑复制得漫天遍野。</span><br></pre></td></tr></table></figure>

<p>策略模式改写</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">const strategies &#x3D; &#123;</span><br><span class="line">  isNonEmpty: function (value, errMsg) &#123;</span><br><span class="line">    if (value &#x3D;&#x3D;&#x3D; &#39;&#39;) &#123;</span><br><span class="line">      return errMsg;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  minLength: function (value, length, errMsg) &#123;</span><br><span class="line">    if (value.length &lt; length) &#123;</span><br><span class="line">      return errMsg;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  isMobile: function (value, errMsg) &#123;</span><br><span class="line">    if (!&#x2F;^1[3|5|8][0-9]&#123;9&#125;$&#x2F;.test(value)) &#123;</span><br><span class="line">      return errMsg;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">class Validator &#123;</span><br><span class="line">	constructor() &#123;</span><br><span class="line">		this.cache &#x3D; [];</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	add(dom, rule, errMsg) &#123;</span><br><span class="line">		const arr &#x3D; rule.split(&#39;:&#39;);</span><br><span class="line">		this.cache.push(() &#x3D;&gt; &#123;</span><br><span class="line">			const strategy &#x3D; arr.shift();</span><br><span class="line">			arr.unshift(dom);</span><br><span class="line">			arr.push(errMsg);</span><br><span class="line">			return strategies[strategy].apply(dom, arr);</span><br><span class="line">		&#125;)</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	start() &#123;</span><br><span class="line">		for (let i &#x3D; 0; i &lt; this.cache.length; i++) &#123;</span><br><span class="line">			const msg &#x3D; this.cache[i]();</span><br><span class="line">			if (msg) return msg;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;调用</span><br><span class="line">pollList(tip)&#123;</span><br><span class="line">    const validator &#x3D; new Validator();</span><br><span class="line">    validator.add(this.form.phoneNumber, &#39;isMobile&#39;, &#39;手机号码格式不正确&#39;);</span><br><span class="line">    validator.add(this.form.userName, &#39;isNonEmpty&#39;, &#39;用户名不能为空&#39;);</span><br><span class="line">    validator.add(this.form.password, &#39;minLength:6&#39;, &#39;密码长度不能少于6位&#39;);</span><br><span class="line">    const errMsg &#x3D; validator.start();</span><br><span class="line">    if (errMsg) &#123;</span><br><span class="line">        alert(errMsg);</span><br><span class="line">        return false;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="文字展开收起"><a href="#文字展开收起" class="headerlink" title="文字展开收起"></a>文字展开收起</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line">&lt;input type&#x3D;&quot;checkbox&quot; class&#x3D;&quot;toggleInput&quot; id&#x3D;&quot;toggleInput&quot; v-model&#x3D;&quot;isUnFold&quot; &#x2F;&gt;</span><br><span class="line">            &lt;div class&#x3D;&quot;activity-desc&quot; ref&#x3D;&quot;descBox&quot; id&#x3D;&quot;descBox&quot;&gt;</span><br><span class="line">                &lt;label</span><br><span class="line">                    class&#x3D;&quot;btn&quot;</span><br><span class="line">                    for&#x3D;&quot;toggleInput&quot;</span><br><span class="line">                    v-if&#x3D;&quot;isMoreThan2Line &amp;&amp; (!isUnFold || isMoreThan7Line)&quot;</span><br><span class="line">                &gt;&#123;&#123; isUnFold ? &#39;收起&#39; : &#39;展开&#39; &#125;&#125;&lt;&#x2F;label&gt;</span><br><span class="line">                述文字概述文述文字概述文字概述文字概述字字概述字概述字概述字概述字概述字概述字概述字概述字概述字概述字概述字概述文字述文字概述文字概述文字概述文字概述文字概述文字述文字概述文字概述文字概述文字概述文字概述文字述文字概述文字概述文字概述文字概述文字概述文字述文字概述文字概述文字概述文字概述文字概述文字述文字概述文字概述文字概述文字概述文字概述文字述文字概述文字概述文字概述文字概述文字概述文字述文字概述文字概述文字概述文字概述文字概述文字</span><br><span class="line">                &lt;label</span><br><span class="line">                    class&#x3D;&quot;btn-no-absolute&quot;</span><br><span class="line">                    for&#x3D;&quot;toggleInput&quot;</span><br><span class="line">                    v-if&#x3D;&quot;isUnFold &amp;&amp; !isMoreThan7Line&quot;</span><br><span class="line">                &gt;收起&lt;&#x2F;label&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">js</span><br><span class="line">mounted() &#123;</span><br><span class="line">        this.getSelectProdList()</span><br><span class="line">        &#x2F;&#x2F; 判断文案实际行数</span><br><span class="line">        this.$nextTick(() &#x3D;&gt; &#123;</span><br><span class="line">            const height &#x3D; this.$refs.descBox.scrollHeight;</span><br><span class="line">            const lineHeight &#x3D; +window</span><br><span class="line">                .getComputedStyle(this.$refs.descBox)</span><br><span class="line">                .lineHeight.match(&#x2F;\d+\.*\d+&#x2F;g)[0];</span><br><span class="line">            this.isMoreThan7Line &#x3D; height &#x2F; lineHeight &gt; 7;</span><br><span class="line">            this.isMoreThan2Line &#x3D; height &#x2F; lineHeight &gt; 2;</span><br><span class="line">        &#125;);</span><br><span class="line">&#125;,</span><br><span class="line"> </span><br><span class="line">css</span><br><span class="line"> .activity-desc-wrapper &#123;</span><br><span class="line">    display: flex;</span><br><span class="line">    .toggleInput &#123;</span><br><span class="line">        display: none;</span><br><span class="line">    &#125;</span><br><span class="line">    .toggleInput:checked + .activity-desc &#123;</span><br><span class="line">        -webkit-line-clamp: 7;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .activity-desc &#123;</span><br><span class="line">        padding: 0;</span><br><span class="line">        position: relative;</span><br><span class="line">        margin-top: 7px;</span><br><span class="line">        font-size: 24px;</span><br><span class="line">        font-weight: 400;</span><br><span class="line">        color: #8a8f99;</span><br><span class="line">        line-height: 1.2;</span><br><span class="line"></span><br><span class="line">        display: -webkit-box;</span><br><span class="line">        overflow: hidden;</span><br><span class="line">        -webkit-line-clamp: 2;</span><br><span class="line">        -webkit-box-orient: vertical;</span><br><span class="line"></span><br><span class="line">        .btn &#123;</span><br><span class="line">            position: absolute;</span><br><span class="line">            padding: 0 3px 0 7px;</span><br><span class="line">            font-weight: 400;</span><br><span class="line">            bottom: 0px;</span><br><span class="line">            right: 0;</span><br><span class="line">            line-height: 1.2;</span><br><span class="line">            font-size: 24px;</span><br><span class="line">            color: #939fe1;</span><br><span class="line">            background: #f5f7fa;</span><br><span class="line">            &amp;::before &#123;</span><br><span class="line">                content: &quot;...&quot;;</span><br><span class="line">                color: #8a8f99;</span><br><span class="line">                transform: translateX(-100%);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        .btn-no-absolute &#123;</span><br><span class="line">            float: none;</span><br><span class="line">            font-size: 24px;</span><br><span class="line">            font-weight: 400;</span><br><span class="line">            color: #939fe1;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="搞懂js的执行顺序"><a href="#搞懂js的执行顺序" class="headerlink" title="搞懂js的执行顺序"></a>搞懂js的执行顺序</h2><p><a href="https://juejin.cn/post/7076709794286927909" target="_blank" rel="noopener">https://juejin.cn/post/7076709794286927909</a></p>
<h2 id="关于api统一管理那点事"><a href="#关于api统一管理那点事" class="headerlink" title="关于api统一管理那点事"></a>关于api统一管理那点事</h2><p>参考链接 <a href="https://juejin.cn/post/7084149728799096840#heading-5" target="_blank" rel="noopener">https://juejin.cn/post/7084149728799096840#heading-5</a></p>
<h2 id="将彩色图片转成黑白——纯前端实现"><a href="#将彩色图片转成黑白——纯前端实现" class="headerlink" title="将彩色图片转成黑白——纯前端实现"></a>将彩色图片转成黑白——纯前端实现</h2><p><a href="https://juejin.cn/post/6975419245635043364" target="_blank" rel="noopener">https://juejin.cn/post/6975419245635043364</a></p>
<h2 id="es6场景应用"><a href="#es6场景应用" class="headerlink" title="es6场景应用"></a>es6场景应用</h2><p><a href="https://juejin.cn/post/7016520448204603423#heading-6" target="_blank" rel="noopener">https://juejin.cn/post/7016520448204603423#heading-6</a></p>
<h2 id="聊聊样式穿透-v-deep-vue-中的-scoped"><a href="#聊聊样式穿透-v-deep-vue-中的-scoped" class="headerlink" title="聊聊样式穿透 (::v-deep) vue 中的 scoped"></a>聊聊样式穿透 (::v-deep) vue 中的 scoped</h2><p><a href="https://juejin.cn/post/7083051766874374174#heading-1" target="_blank" rel="noopener">https://juejin.cn/post/7083051766874374174#heading-1</a></p>
<h2 id="js中的五种循环-for-forin-forof-foreach-map"><a href="#js中的五种循环-for-forin-forof-foreach-map" class="headerlink" title="js中的五种循环(for forin forof foreach map)"></a>js中的五种循环(for forin forof foreach map)</h2><p><a href="https://juejin.cn/post/7085164529658626061" target="_blank" rel="noopener">https://juejin.cn/post/7085164529658626061</a></p>
<h2 id="根据图片选择背景色"><a href="#根据图片选择背景色" class="headerlink" title="根据图片选择背景色"></a>根据图片选择背景色</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line">首先如何给一个容器设置宽高比呢？</span><br><span class="line"></span><br><span class="line">通过padding-top设置对应的百分比值</span><br><span class="line">通过新属性aspect-ratio(safari不支持)</span><br><span class="line"></span><br><span class="line">这里，为了兼容性，我用的第一种。设置一个长宽比为2:1的盒子：</span><br><span class="line">div&#123;</span><br><span class="line">    background-size: contain;</span><br><span class="line">    background-repeat: no-repeat;</span><br><span class="line">    background-position: center;</span><br><span class="line">    &#x2F;* 2:1 ，panding百分比值是相对于盒子的宽度的*&#x2F;</span><br><span class="line">    padding-top: 50%;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">再次，如何获取图片的主色呢？我们借助Canvas的ctx.getImageData方法。</span><br><span class="line">分一下几个步骤：</span><br><span class="line"></span><br><span class="line">将图片绘制到一个canvas元素上</span><br><span class="line">获取图像所有的rgba像素点</span><br><span class="line">取某个区域颜色的均值，并找出这个区域最接近均值的rgba颜色，作为该区域的主色</span><br><span class="line"></span><br><span class="line">var imgSrc &#x3D; &quot;XXXXX&quot;</span><br><span class="line">const imgEle &#x3D; document.createElement(&#39;img&#39;)</span><br><span class="line">const canvas &#x3D; document.createElement(&#39;canvas&#39;)</span><br><span class="line">imgEle.src &#x3D; imgSrc</span><br><span class="line">imgEle.onload &#x3D; () &#x3D;&gt; &#123;</span><br><span class="line">    var ctx &#x3D; canvas.getContext(&quot;2d&quot;);</span><br><span class="line">    var naturalImgSize &#x3D; [imgEle.naturalWidth, imgEle.naturalHeight];</span><br><span class="line">    canvas.width &#x3D; naturalImgSize[0];</span><br><span class="line">    canvas.height &#x3D; naturalImgSize[1];</span><br><span class="line">    </span><br><span class="line">    &#x2F;&#x2F;绘制到canvas</span><br><span class="line">    ctx.drawImage(imgEle, 0, 0);</span><br><span class="line">    &#x2F;&#x2F;获取imageData：rgba像素点</span><br><span class="line">    var imgData &#x3D; ctx.getImageData(0, 0, canvas.width, canvas.height);</span><br><span class="line">    const leftSectionData &#x3D; []</span><br><span class="line">    const rightSectionData &#x3D; []</span><br><span class="line">    const oneLineImgDataLen &#x3D; canvas.width * 4;</span><br><span class="line"></span><br><span class="line">    imgData.data.forEach((colorVal, i) &#x3D;&gt; &#123;</span><br><span class="line">        if (i % onelineImgDataLen &lt;&#x3D; 0.5 * onelineImgDataLen || i % onelineImgDataLen &gt;&#x3D; 0.6 * onelineImgDataLen) &#123;</span><br><span class="line">            const inLeft &#x3D; i % onelineImgDataLen &lt;&#x3D; 0.5 * onelineImgDataLen</span><br><span class="line">            if (i % 4 &#x3D;&#x3D;&#x3D; 0) &#123;</span><br><span class="line">                &#x2F;&#x2F; 获取rgb均值</span><br><span class="line">                const curAverageRGB &#x3D; (imgData.data[i] + imgData.data[i + 1] + imgData.data[i + 2]) &#x2F; 3;</span><br><span class="line">                let leftOrRightRef &#x3D; inLeft ? leftSectionData : rightSectionData;</span><br><span class="line">                &#x2F;&#x2F;每个数组里存四个值：本颜色值中的r、g、b的均值，以及r、g、b三个值。</span><br><span class="line">                &#x2F;&#x2F;均值一方面用于累加计算本区域的整体均值，然后再跟每个均值对比拿到与整体均值最接近的项的索引，再取该数组里的后三个值：rgb，对应着颜色</span><br><span class="line">                leftOrRightRef[leftOrRightRef.length] &#x3D; [curAverageRGB, imgData.data[i], imgData.data[i + 1], imgData.data[i + 2]]</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    &#x2F;&#x2F;generate average rgb</span><br><span class="line">    const averageOfLeft &#x3D; Math.round(leftSectionData.reduce((_cur, item) &#x3D;&gt; &#123;</span><br><span class="line">        return _cur + item[0]</span><br><span class="line">    &#125;, 0) &#x2F; leftSectionData.length)</span><br><span class="line">    const averageOfRight &#x3D; Math.round(rightSectionData.reduce((_cur, item) &#x3D;&gt; &#123;</span><br><span class="line">        return _cur + item[0]</span><br><span class="line">    &#125;, 0) &#x2F; rightSectionData.length)</span><br><span class="line">    &#x2F;&#x2F;find the most near color</span><br><span class="line">    const findNearestIndex &#x3D; (averageVal, arrBox) &#x3D;&gt; &#123;</span><br><span class="line">        let _gapValue &#x3D; Math.abs(averageVal - arrBox[0])</span><br><span class="line">        let _nearColorIndex &#x3D; 0</span><br><span class="line">        arrBox.forEach((item, index) &#x3D;&gt; &#123;</span><br><span class="line">            const curGapValue &#x3D; Math.abs(item - averageVal)</span><br><span class="line">            if (curGapValue &lt; _gapValue) &#123;</span><br><span class="line">                _gapValue &#x3D; curGapValue</span><br><span class="line">                _nearColorIndex &#x3D; index</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">        return _nearColorIndex</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    const leftNearestColor &#x3D; leftSectionData[findNearestIndex(averageOfLeft, leftSectionData)]</span><br><span class="line">    const rightNearestColor &#x3D; rightSectionData[findNearestIndex(averageOfRight, rightSectionData)]</span><br><span class="line">    console.log(leftNearestColor,rightNearestColor)</span><br><span class="line">&#125;</span><br><span class="line">取到颜色，实现元素的渐变：</span><br><span class="line">element.style.backgroundImage &#x3D; &#96;url(&quot;XXXX&quot;),linear-gradient(90deg,rgba($&#123;leftNearestColor[1]&#125;,$&#123;leftNearestColor[2]&#125;,$&#123;leftNearestColor[3]&#125;,1) 0%,rgba($&#123;rightNearestColor[1]&#125;,$&#123;rightNearestColor[2]&#125;,$&#123;rightNearestColor[3]&#125;,1) 100%&#96;</span><br><span class="line"></span><br><span class="line">作者：AndyLaw</span><br><span class="line">链接：https:&#x2F;&#x2F;juejin.cn&#x2F;post&#x2F;7068590848228720671</span><br><span class="line">来源：稀土掘金</span><br><span class="line">著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</span><br></pre></td></tr></table></figure>



<h2 id="前端颜色选取器"><a href="#前端颜色选取器" class="headerlink" title="前端颜色选取器"></a>前端颜色选取器</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang&#x3D;&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;title&gt;Awesome-color-picker&lt;&#x2F;title&gt;</span><br><span class="line">    &lt;style&gt;</span><br><span class="line">        .banner-container &#123;</span><br><span class="line">            background-size: contain;</span><br><span class="line">            background-position: center;</span><br><span class="line">            background-repeat: no-repeat;</span><br><span class="line">            box-sizing: border-box;</span><br><span class="line">            &#x2F;*padding-top: 16%;*&#x2F;</span><br><span class="line">            aspect-ratio: 2;</span><br><span class="line">            background-image: url(http:&#x2F;&#x2F;localhost:63342&#x2F;awesome-banner&#x2F;assets&#x2F;demo3.png);</span><br><span class="line">        &#125;</span><br><span class="line">        .img-contaner&#123;</span><br><span class="line">            margin-top: 10px;</span><br><span class="line">            font-size: 0;</span><br><span class="line">        &#125;</span><br><span class="line">        .box &#123;</span><br><span class="line">            width: 100px;</span><br><span class="line">            height: 100px;</span><br><span class="line">            background-color: #000;</span><br><span class="line">            border: 1px solid #ccc;</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;&#x2F;style&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;input type&#x3D;&quot;file&quot; accept&#x3D;&quot;image&#x2F;png,image&#x2F;jpep,image&#x2F;jpg&quot;&#x2F;&gt;</span><br><span class="line">&lt;div class&#x3D;&quot;img-contaner&quot;&gt;</span><br><span class="line">    &lt;img&#x2F;&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line">&lt;div class&#x3D;&quot;box&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    let canPickColor &#x3D; false</span><br><span class="line">    let imageData &#x3D; null</span><br><span class="line">    let imageSize &#x3D; null</span><br><span class="line">    document.querySelector(&#39;input&#39;).onchange &#x3D; (e) &#x3D;&gt; &#123;</span><br><span class="line">        const file &#x3D; e.target.files[0];</span><br><span class="line">        const fileReader &#x3D; new FileReader()</span><br><span class="line">        fileReader.onload &#x3D; (e) &#x3D;&gt; &#123;</span><br><span class="line">            &#x2F;&#x2F;get image data</span><br><span class="line">            getImgDataBySrc(e.target.result, (_imgData, _imgSize) &#x3D;&gt; &#123;</span><br><span class="line">                document.querySelector(&#39;.img-contaner &gt; img&#39;).src &#x3D; e.target.result;</span><br><span class="line">                canPickColor &#x3D; true</span><br><span class="line">                imageData &#x3D; _imgData</span><br><span class="line">                imageSize &#x3D; _imgSize</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">        fileReader.readAsDataURL(file)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    document.querySelector(&#39;.img-contaner &gt; img&#39;).addEventListener(&#39;mousemove&#39;, (event) &#x3D;&gt; &#123;</span><br><span class="line">        if (event.offsetX &gt; 0 &amp;&amp; event.offsetY &gt; 0 &amp;&amp; canPickColor) &#123;</span><br><span class="line">            const colors &#x3D; getSectionsMainColor(imageData, imageSize, [</span><br><span class="line">                &#123;</span><br><span class="line">                    sx: event.offsetX,</span><br><span class="line">                    sy: event.offsetY,</span><br><span class="line">                    sw: 1,</span><br><span class="line">                    sh: 1</span><br><span class="line">                &#125;,</span><br><span class="line">            ])</span><br><span class="line">            document.querySelector(&#39;.box&#39;).style.backgroundColor &#x3D; colors[0]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    const getImgDataBySrc &#x3D; (imgSrc, callback) &#x3D;&gt; &#123;</span><br><span class="line">        const imgEle &#x3D; document.createElement(&#39;img&#39;)</span><br><span class="line">        const canvas &#x3D; document.createElement(&#39;canvas&#39;)</span><br><span class="line">        imgEle.src &#x3D; imgSrc</span><br><span class="line">        imgEle.onload &#x3D; () &#x3D;&gt; &#123;</span><br><span class="line">            var ctx &#x3D; canvas.getContext(&quot;2d&quot;);</span><br><span class="line">            var naturalImgSize &#x3D; [imgEle.naturalWidth, imgEle.naturalHeight];</span><br><span class="line">            canvas.width &#x3D; naturalImgSize[0];</span><br><span class="line">            canvas.height &#x3D; naturalImgSize[1];</span><br><span class="line">            ctx.drawImage(imgEle, 0, 0);</span><br><span class="line">            &#x2F;&#x2F;获取imageData</span><br><span class="line">            var imgData &#x3D; ctx.getImageData(0, 0, canvas.width, canvas.height);</span><br><span class="line">            &#x2F;&#x2F;打印该数据</span><br><span class="line">            callback(imgData, &#123;</span><br><span class="line">                width: canvas.width,</span><br><span class="line">                height: canvas.height</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    &#x2F;**</span><br><span class="line">     * @param imgData: ImageData</span><br><span class="line">     * @param imgSize:&#123; width:number,height:number &#125;</span><br><span class="line">     * @param sections: Array&lt;&#123;</span><br><span class="line">     *     sx,</span><br><span class="line">     *     sy,</span><br><span class="line">     *     sw,</span><br><span class="line">     *     sh</span><br><span class="line">     * &#125;&gt;</span><br><span class="line">     *&#x2F;</span><br><span class="line">    const getSectionsMainColor &#x3D; (imgData, imgSize, sections) &#x3D;&gt; &#123;</span><br><span class="line">        &#x2F;&#x2F;one pxl dot has four values:rgba</span><br><span class="line">        const oneRowImgDataLen &#x3D; imgSize.width * 4;</span><br><span class="line">        if (sections.sx &gt; imgSize.width || (sections.sx + sections.sw) &gt; imgSize.width) &#123;</span><br><span class="line">            throw &#39;section error&#39;</span><br><span class="line">        &#125;</span><br><span class="line">        if (sections.sy &gt; imgSize.height || (sections.sy + sections.sh) &gt; imgSize.height) &#123;</span><br><span class="line">            throw &#39;section error&#39;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F;[[avg,r,g,b],...]</span><br><span class="line">        const sectionColorsData &#x3D; []</span><br><span class="line">        &#x2F;&#x2F;[133,131,124,...]</span><br><span class="line">        const sectionAverageValues &#x3D; []</span><br><span class="line">        imgData.data.forEach((colorVal, i) &#x3D;&gt; &#123;</span><br><span class="line">            &#x2F;&#x2F;extract sections</span><br><span class="line">            sections.forEach((section, sectionIdx) &#x3D;&gt; &#123;</span><br><span class="line">                if (i % oneRowImgDataLen &gt;&#x3D; 4 * section.sx &amp;&amp; i % oneRowImgDataLen &lt;&#x3D; 4 * (section.sx + section.sw)) &#123;</span><br><span class="line">                    if (Math.ceil(i &#x2F; oneRowImgDataLen) &gt;&#x3D; section.sy &amp;&amp; Math.ceil(i &#x2F; oneRowImgDataLen) &lt;&#x3D; (section.sy + section.sh)) &#123;</span><br><span class="line">                        if (i % 4 &#x3D;&#x3D;&#x3D; 0) &#123;</span><br><span class="line">                            &#x2F;&#x2F;get average value of rgb</span><br><span class="line">                            const curAverageRGB &#x3D; (imgData.data[i] + imgData.data[i + 1] + imgData.data[i + 2]) &#x2F; 3;</span><br><span class="line">                            if (!sectionColorsData[sectionIdx]) &#123;</span><br><span class="line">                                sectionColorsData[sectionIdx] &#x3D; []</span><br><span class="line">                            &#125;</span><br><span class="line">                            sectionColorsData[sectionIdx].push([curAverageRGB, imgData.data[i], imgData.data[i + 1], imgData.data[i + 2]])</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;)</span><br><span class="line">        &#x2F;&#x2F;generate section&#39;s average rgb</span><br><span class="line">        sectionColorsData.forEach((sectionColorData, idx) &#x3D;&gt; &#123;</span><br><span class="line">            sectionAverageValues[idx] &#x3D; Math.round(sectionColorData.reduce((_cur, sectionColor) &#x3D;&gt; &#123;</span><br><span class="line">                return _cur + sectionColor[0]</span><br><span class="line">            &#125;, 0) &#x2F; sectionColorData.length)</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F;find the most near color</span><br><span class="line">        const findNearestIndex &#x3D; (sectionColorData, averageVal) &#x3D;&gt; &#123;</span><br><span class="line">            let _gapValue &#x3D; Math.abs(averageVal - sectionColorData[0][0])</span><br><span class="line">            let _nearColorIndex &#x3D; 0</span><br><span class="line">            sectionColorData.forEach((colorData, index) &#x3D;&gt; &#123;</span><br><span class="line">                const curGapValue &#x3D; Math.abs(colorData[0] - averageVal)</span><br><span class="line">                if (curGapValue &lt; _gapValue) &#123;</span><br><span class="line">                    _gapValue &#x3D; curGapValue</span><br><span class="line">                    _nearColorIndex &#x3D; index</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">            return _nearColorIndex</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        const sectionMainColors &#x3D; sectionColorsData.map((sectionColorData, idx) &#x3D;&gt; &#123;</span><br><span class="line">            const color &#x3D; sectionColorData[findNearestIndex(sectionColorData, sectionAverageValues[idx])]</span><br><span class="line">            return &#96;rgb($&#123;color[1]&#125;,$&#123;color[2]&#125;,$&#123;color[3]&#125;)&#96;</span><br><span class="line">        &#125;)</span><br><span class="line">        return sectionMainColors</span><br><span class="line">    &#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>



<h2 id="Vue中解决跨域问题"><a href="#Vue中解决跨域问题" class="headerlink" title="Vue中解决跨域问题"></a>Vue中解决跨域问题</h2><p>参考链接：<a href="https://juejin.cn/post/7083094730086547492" target="_blank" rel="noopener">https://juejin.cn/post/7083094730086547492</a></p>
<blockquote>
<h1 id="一、跨域固定报错格式"><a href="#一、跨域固定报错格式" class="headerlink" title="一、跨域固定报错格式"></a>一、跨域固定报错格式</h1></blockquote>
<p>只要出现跨域问题，浏览器就会出现一个固定格式的报错信息</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Access to XMLHttpRequest at &#39;服务器url地址&#39; from origin &#39;null&#39; has been blocked by CORS policy: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource.</span><br></pre></td></tr></table></figure>

<p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/aa3fef0f6da4409fb561b83fcf9c7ccf~tplv-k3u1fbpfcp-zoom-in-crop-mark:1304:0:0:0.awebp?" alt="1648776314236.png"></p>
<blockquote>
<h1 id="二、为什么会报跨域？"><a href="#二、为什么会报跨域？" class="headerlink" title="二、为什么会报跨域？"></a>二、为什么会报跨域？</h1></blockquote>
<p><strong>不满足同源策略:协议+域名+端口 是浏览器为了保护接口的一个安全策略，不让访问</strong></p>
<ol>
<li><p><strong>同源</strong>的定义: 两个url地址的<code>协议</code>与<code>主机</code>与<code>端口</code>均一致</p>
<p>协议:http ,https  主机:域名或者ip地址(127.0.01)   端口:3000,4399</p>
<p><strong>不同源</strong>的定义: 两个url地址，<code>协议 主机 端口</code>任何一个不一致</p>
</li>
</ol>
<p>2.什么是跨域？</p>
<ul>
<li>[<strong>浏览器使用 <code>ajax</code>时</strong>，如果请求的<code>接口地址</code> 和 当前<code>打开的页面</code>地址 <code>不同源</code> 称之为跨域]<ul>
<li>(1) ajax:浏览器只有使用ajax发送请求才会出现跨域。 href属性与src属性不会出现跨域-</li>
<li>(2)接口地址:ajax请求的url</li>
<li>(3)打开的页面：当前页面的window.location.href</li>
<li>(4)不同源 ： 浏览器使用ajax,向不同源的接口发送请求，称之为 跨域访问</li>
</ul>
</li>
</ul>
<blockquote>
<h1 id="三、如何解决跨域？"><a href="#三、如何解决跨域？" class="headerlink" title="三、如何解决跨域？"></a>三、如何解决跨域？</h1></blockquote>
<p><strong>在vue项目中，主要针对<code>CORS</code>或<code>Proxy</code>这两种方案展开</strong></p>
<h4 id="1-第一种-CORS-【后端】"><a href="#1-第一种-CORS-【后端】" class="headerlink" title="1.第一种:CORS  【后端】"></a>1.第一种:CORS  【后端】</h4><ul>
<li>目前最主流、最简单的方案，直接让后端设置响应头，允许资源共享就ok了</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;调用方法创建一个服务器</span><br><span class="line">  const app &#x3D; express()</span><br><span class="line">&#x2F;&#x2F;解析json格式的请求体</span><br><span class="line">  app.use(express.json())</span><br><span class="line">&#x2F;&#x2F;解析查询字符串格式的情趣 </span><br><span class="line">  app.use(exoress.urlencoded(&#123;extended:true&#125;))</span><br><span class="line">&#x2F;&#x2F;第一种： 使用中间件函数来设置cors允许资源共享</span><br><span class="line">  app.use((req.res.next)&#x3D;&gt;&#123;</span><br><span class="line">    &#x2F;&#x2F;设置响应头 告诉浏览器任何地址都可以访问这个接口</span><br><span class="line">    res.setHeader(&#39;Access-Cosntrol-Allow-Origin&#39;,&#39;*&#39;)</span><br><span class="line">    &#x2F;&#x2F;告诉浏览器支持这些方式</span><br><span class="line">    res.setHeader(&#39;Access-Cosntrol-Allow-Methods&#39;,&#39;GET,POST,DELETE,PUT&#39;)</span><br><span class="line">    next()</span><br><span class="line">  &#125;)</span><br><span class="line">&#x2F;&#x2F;第二种 推荐使用插件</span><br><span class="line">  const cors &#x3D; require(&#39;cors&#39;)</span><br><span class="line">  app.use(cors())</span><br></pre></td></tr></table></figure>

<p>设置成功之后显示</p>
<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/03a5b753d4d94ec8bf2d084780cc9e96~tplv-k3u1fbpfcp-zoom-in-crop-mark:1304:0:0:0.awebp?" alt="1649136110969.png"></p>
<h4 id="2-第二种-JSONP-【前端-后端】"><a href="#2-第二种-JSONP-【前端-后端】" class="headerlink" title="2.第二种:JSONP   【前端+后端】"></a>2.第二种:JSONP   【前端+后端】</h4><ul>
<li>曾经很流行,专治各种跨域问题</li>
<li>需要前后端配合使用</li>
<li>使用原理：通过script标签的src来发请求没有跨域限制来获取资源</li>
<li>注意：JSONP只支持get请求，不支持post，请求回来的东西当做js来执行</li>
</ul>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9146468b89fe403981e976fb4f016e09~tplv-k3u1fbpfcp-zoom-in-crop-mark:1304:0:0:0.awebp?" alt="1571892804340.png"></p>
<h4 id="3-第三种-Nginx-【后端-gt-反向代理】"><a href="#3-第三种-Nginx-【后端-gt-反向代理】" class="headerlink" title="3.第三种:Nginx  【后端=&gt;反向代理】"></a>3.第三种:Nginx  【后端=&gt;反向代理】</h4><h4 id="4-第四种-Proxy-【前端解决：只适用于本地开发环境，上线了解决不了，直接把dist放在后端服务器中】"><a href="#4-第四种-Proxy-【前端解决：只适用于本地开发环境，上线了解决不了，直接把dist放在后端服务器中】" class="headerlink" title="4.第四种:Proxy 【前端解决：只适用于本地开发环境，上线了解决不了，直接把dist放在后端服务器中】"></a>4.第四种:Proxy 【前端解决：只适用于本地开发环境，上线了解决不了，直接把dist放在后端服务器中】</h4><ul>
<li>产生了跨域：<ul>
<li>请求发了，【浏览器拦截了】</li>
<li>服务器和服务器发请求 不存在跨域</li>
<li>项目启动让服务器请求</li>
</ul>
</li>
</ul>
<p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/113ecc41784e42b3be4f446bde4fc3ca~tplv-k3u1fbpfcp-zoom-in-crop-mark:1304:0:0:0.awebp?" alt="服务器.png"> <strong>vue-cli脚手架工具搭建项目</strong></p>
<p>在<code>vue.config.js</code>配置文件中</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">module.exports &#x3D; &#123;</span><br><span class="line">  devServer: &#123;</span><br><span class="line">    &#x2F;&#x2F; 代理配置</span><br><span class="line">    proxy: &#123;</span><br><span class="line">        &#x2F;&#x2F; 如果请求地址以&#x2F;api打头,就出触发代理机制</span><br><span class="line">        &#39;&#x2F;api&#39;: &#123;</span><br><span class="line">          target: &#39;http:&#x2F;&#x2F;localhost:3000&#39; &#x2F;&#x2F; 要代理的真实接口地址</span><br><span class="line">           &#x2F;&#x2F; http:&#x2F;&#x2F;localhost:9588&#x2F;api&#x2F;login -&gt; http:&#x2F;&#x2F;localhost:3000&#x2F;api&#x2F;login</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>通过axios发请求配置根路径</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">axios.defaults.baseURL&#x3D;&#39;&#x2F;api&#39;</span><br></pre></td></tr></table></figure>

<p>修改配置之后，一定要重启前端项目，跨域解决</p>
<p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/66d88acafd6747129ff6396ffba149e2~tplv-k3u1fbpfcp-zoom-in-crop-mark:1304:0:0:0.awebp?" alt="Snipaste_2022-04-05_20-14-22.png"> <strong>特别强调：</strong></p>
<p>ajax的基地址baseUrl必须是相对地址，而不能是绝对地址</p>
<h2 id="blob视频地址如何下载"><a href="#blob视频地址如何下载" class="headerlink" title="blob视频地址如何下载"></a>blob视频地址如何下载</h2><p><a href="https://www.cnblogs.com/NetPig/p/14894133.html" target="_blank" rel="noopener">https://www.cnblogs.com/NetPig/p/14894133.html</a></p>
<h2 id="vue-开发中常用-vue-cli-配置"><a href="#vue-开发中常用-vue-cli-配置" class="headerlink" title="vue 开发中常用 vue-cli 配置"></a>vue 开发中常用 vue-cli 配置</h2><p><a href="https://blog.csdn.net/qq_39025670/article/details/110951945" target="_blank" rel="noopener">https://blog.csdn.net/qq_39025670/article/details/110951945</a></p>
<h2 id="减少首屏加载时间"><a href="#减少首屏加载时间" class="headerlink" title="减少首屏加载时间"></a>减少首屏加载时间</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">vue 脚手架默认开启了 preload 与 prefetch，当我们项目很大时，这个就成了首屏加载的最大元凶了。</span><br><span class="line"></span><br><span class="line">先简单了解一下 preload 与 prefetch。</span><br><span class="line"></span><br><span class="line">preload 与 prefetch 都是一种资源预加载机制；</span><br><span class="line">preload 是预先加载资源，但并不执行，只有需要时才执行它；</span><br><span class="line">prefetch 是意图预获取一些资源，以备下一个导航&#x2F;页面使用；</span><br><span class="line">preload 的优先级高于 prefetch。</span><br><span class="line"></span><br><span class="line">看看关闭 preload 与 prefetch 之前的效果：</span><br></pre></td></tr></table></figure>



<p><img src="https://img-blog.csdnimg.cn/20201210145611476.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM5MDI1Njcw,size_16,color_FFFFFF,t_70" alt="img"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">这里我标注了 4 个部分，</span><br><span class="line"></span><br><span class="line">1 代表当前页面的 css&#x2F;js 资源；</span><br><span class="line">2 代表 UI 库等资源的 css 与 main.js 中自定义的 css</span><br><span class="line">3 代表 main.js 中自定的 js 与 UI 库等资源的 js</span><br><span class="line">4 代表其他页面的资源</span><br><span class="line">其中，2 和 3 都使用了 preload，4 使用了 prefetch。当应用的页面非常多时，会导致 4 的部分增加，以至于首屏加载的速度降低。</span><br><span class="line"></span><br><span class="line">关闭 preload 与 prefetch</span><br><span class="line">  chainWebpack: config &#x3D;&gt; &#123;</span><br><span class="line">    &#x2F;&#x2F; 移除 preload(预载) 插件</span><br><span class="line">    config.plugins.delete(&#39;preload&#39;)</span><br><span class="line">    &#x2F;&#x2F; 移除 prefetch(预取) 插件</span><br><span class="line">    config.plugins.delete(&#39;prefetch&#39;)</span><br><span class="line">  &#125;</span><br><span class="line">关闭后的效果：</span><br></pre></td></tr></table></figure>

<p><img src="https://img-blog.csdnimg.cn/20201210151638333.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM5MDI1Njcw,size_16,color_FFFFFF,t_70" alt="img"></p>
<h2 id="vs-code中local-history和git-history"><a href="#vs-code中local-history和git-history" class="headerlink" title="vs code中local history和git history"></a>vs code中local history和git history</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">插件的作用：</span><br><span class="line">每次修改保存文件时, 都会在根目录生成一个.history目录，里面存放修改记录</span><br><span class="line"></span><br><span class="line">注意事项：</span><br><span class="line">安装完local history需完成2部设置，才可以放心使用</span><br><span class="line"></span><br><span class="line">1. 避免搜索.history文件夹</span><br><span class="line">setting.json 文件中添加</span><br><span class="line">  &quot;search.exclude&quot;: &#123;</span><br><span class="line">    &quot;**&#x2F;.history&quot;: true</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">2. 把.history加入到.gitignore中，避免把历史文件提交到git中的问题</span><br><span class="line"># local env files</span><br><span class="line">.env.local</span><br><span class="line">.env.*.local</span><br><span class="line">&#x2F;.history&#x2F;</span><br><span class="line"></span><br><span class="line">设置local history 保存时间</span><br><span class="line">插件，点击设置按钮，Local-history: Days Limit下</span><br></pre></td></tr></table></figure>



<h2 id="vue项目全局点击事件防抖"><a href="#vue项目全局点击事件防抖" class="headerlink" title="vue项目全局点击事件防抖"></a>vue项目全局点击事件防抖</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;main.js</span><br><span class="line"></span><br><span class="line">const vDebounce &#x3D; &#123;</span><br><span class="line">    install(Vue) &#123;</span><br><span class="line">        Vue.directive(&#39;debounce&#39;, &#123;</span><br><span class="line">            bind(el, binding) &#123;</span><br><span class="line">                el.debounceFn &#x3D; debounce(binding.value)</span><br><span class="line">                el.addEventListener(&#39;click&#39;, el.debounceFn)</span><br><span class="line">            &#125;,</span><br><span class="line">            componentUpdated(el, binding) &#123;</span><br><span class="line">                el.removeEventListener(&#39;click&#39;, el.debounceFn)</span><br><span class="line">                el.debounceFn &#x3D; debounce(binding.value)</span><br><span class="line">                el.addEventListener(&#39;click&#39;, el.debounceFn)</span><br><span class="line">            &#125;,</span><br><span class="line">            unbind(el) &#123;</span><br><span class="line">                el.removeEventListener(&#39;click&#39;, el.debounceFn)</span><br><span class="line">            &#125;,</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Vue.use(vDebounce)</span><br></pre></td></tr></table></figure>

<h2 id="vue配置baseurl的三种方式"><a href="#vue配置baseurl的三种方式" class="headerlink" title="vue配置baseurl的三种方式"></a>vue配置baseurl的三种方式</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;admin</span><br><span class="line"></span><br><span class="line">方式一</span><br><span class="line">const service &#x3D; axios.create(&#123;</span><br><span class="line">    baseURL:  location.hostname &#x3D;&#x3D; &quot;localhost&quot; ? &quot;&#x2F;admin&quot; : process.env.VUE_APP_API,</span><br><span class="line">    timeout: 10000</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">方式二</span><br><span class="line">service.interceptors.request.use(</span><br><span class="line">    config &#x3D;&gt; &#123;</span><br><span class="line">        config.url &#x3D; &quot;&#x2F;admin&quot; + config.url&#x3D; config.overtime ? config.overtime : 10000</span><br><span class="line">        return config</span><br><span class="line">    &#125;, error &#x3D;&gt; &#123;</span><br><span class="line">        Promise.reject(error)</span><br><span class="line">    &#125;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">方式三</span><br><span class="line">vue.config.js</span><br><span class="line">devServer: &#123;</span><br><span class="line">        open: true,</span><br><span class="line">        proxy: &#123;</span><br><span class="line">            &#39;&#x2F;&#39;: &#123;</span><br><span class="line">                target: &#39;http:&#x2F;&#x2F;172.16.10.223:8007&#x2F;admin&#39;,</span><br><span class="line">                ws: true,</span><br><span class="line">                changeOrigin: true,</span><br><span class="line">                pathRewrite: &#123;</span><br><span class="line">                    &#39;^&#x2F;&#39;: &#39;&#39;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">        &#125;,</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<h2 id="vue统一配置timeout和单独配置"><a href="#vue统一配置timeout和单独配置" class="headerlink" title="vue统一配置timeout和单独配置"></a>vue统一配置timeout和单独配置</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">统一配置</span><br><span class="line">const service &#x3D; axios.create(&#123;</span><br><span class="line">    baseURL:  location.hostname &#x3D;&#x3D; &quot;localhost&quot; ? &quot;&#x2F;admin&quot; : process.env.VUE_APP_API,</span><br><span class="line">    timeout: 10000</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">单独配置方式一</span><br><span class="line">export function postRefresh(data) &#123;</span><br><span class="line">  return request(&#123;</span><br><span class="line">    url: &#39;&#x2F;api&#x2F;operation&#x2F;payoutOrder&#x2F;refresh&#39;,</span><br><span class="line">    method: &#39;post&#39;,</span><br><span class="line">    timeout: 100 * 1000,</span><br><span class="line">    data</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">单独配置方式二</span><br><span class="line">service.interceptors.request.use(</span><br><span class="line">    config &#x3D;&gt; &#123;</span><br><span class="line">        config.timeout &#x3D; config.overtime ? config.overtime : 10000</span><br><span class="line">        return config</span><br><span class="line">    &#125;, error &#x3D;&gt; &#123;</span><br><span class="line">        Promise.reject(error)</span><br><span class="line">    &#125;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">封装调用</span><br><span class="line">api.js</span><br><span class="line"></span><br><span class="line">export function getStressChart(id) &#123;</span><br><span class="line">    return request(&#123;</span><br><span class="line">        url: &#39;&#x2F;stress&#x2F;report&#x2F;&#39; + id,</span><br><span class="line">        method: &#39;get&#39;,</span><br><span class="line">        overtime: 30000,</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="vue-axios-和react-fetch-将后端文件流转化为excel的方法"><a href="#vue-axios-和react-fetch-将后端文件流转化为excel的方法" class="headerlink" title="vue(axios)和react(fetch)将后端文件流转化为excel的方法"></a>vue(axios)和react(fetch)将后端文件流转化为excel的方法</h2><h3 id="vue-axios"><a href="#vue-axios" class="headerlink" title="vue(axios)"></a>vue(axios)</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">downloadDeviceTemplate()</span><br><span class="line">                .then(res &#x3D;&gt; &#123;</span><br><span class="line">                    const blob &#x3D; new Blob([res], &#123; type: &quot;application&#x2F;vnd.ms-excel&quot; &#125;);</span><br><span class="line">                    const src &#x3D; window.URL.createObjectURL(blob);</span><br><span class="line">                    const a &#x3D; document.createElement(&#39;a&#39;);</span><br><span class="line">                    a.setAttribute(&#39;download&#39;, &#39;设备模板&#39;);</span><br><span class="line">                    a.href &#x3D; src;</span><br><span class="line">                    a.target &#x3D; &#39;_blank&#39;;</span><br><span class="line">                    a.click();</span><br><span class="line">                    a.remove();</span><br><span class="line">                    this.importVisible &#x3D; false</span><br><span class="line">                    this.$message.success(&#39;下载成功&#39;)</span><br><span class="line">                &#125;)</span><br><span class="line">                .catch(function (error) &#123;</span><br><span class="line">                    this.$message.error(&#39;下载失败,请重试&#39;)</span><br><span class="line">                &#125;);</span><br><span class="line">                </span><br><span class="line">&#x2F;&#x2F;容错                </span><br><span class="line">axios.get(&#123;</span><br><span class="line">    url: &#39;xxxxxx&#39;,</span><br><span class="line">    method: &#39;get&#39;,</span><br><span class="line">    data:&#123;&#125;,</span><br><span class="line">    responseType: &#39;blob&#39;</span><br><span class="line">&#125;).then(res &#x3D;&gt; &#123;</span><br><span class="line">       let data &#x3D; res.data;</span><br><span class="line">        let fileReader &#x3D; new FileReader();</span><br><span class="line">        fileReader.onload &#x3D; function() &#123;</span><br><span class="line">           try &#123;</span><br><span class="line">                 let jsonData &#x3D; JSON.parse(this.result);</span><br><span class="line">                 if (jsonData.code) &#123;</span><br><span class="line">                 &#x2F;&#x2F; 说明是普通对象数据，后台转换失败</span><br><span class="line">                 &#x2F;&#x2F; to do something</span><br><span class="line">                 alert(&#39;not ok&#39;);</span><br><span class="line">                 &#125;</span><br><span class="line">               &#125; catch (err) &#123;</span><br><span class="line">                 &#x2F;&#x2F; 解析成对象失败，说明是正常的文件流</span><br><span class="line">                 alert(&#39;ok&#39;);</span><br><span class="line">               &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        fileReader.readAsText(data);</span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure>



<h3 id="react-fetch"><a href="#react-fetch" class="headerlink" title="react(fetch)"></a>react(fetch)</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">fetch(&#39;&#x2F;test&#x2F;download&#39;)</span><br><span class="line">.then(res &#x3D;&gt; res.blob())</span><br><span class="line">.then(blob &#x3D;&gt; &#123;</span><br><span class="line">    &#x2F;&#x2F; 通过 blob 对象获取对应的 url</span><br><span class="line">    const url &#x3D; URL.createObjectURL(blob)</span><br><span class="line">    let a &#x3D; document.createElement(&#39;a&#39;)</span><br><span class="line">    a.download &#x3D; &#39;example.zip&#39;  &#x2F;&#x2F;example.zip为下载的文件名字</span><br><span class="line">    a.href &#x3D; url</span><br><span class="line">    document.body.appendChild(a)</span><br><span class="line">    a.click()</span><br><span class="line">    a.remove() &#x2F;&#x2F; document.body.removeChild(a)</span><br><span class="line">    </span><br><span class="line">    或者</span><br><span class="line">    const anchor &#x3D; document.createElement(&#39;a&#39;)</span><br><span class="line">    const body &#x3D; document.querySelector(&#39;body&#39;)</span><br><span class="line">    anchor.href &#x3D; window.URL.createObjectURL(blob)</span><br><span class="line">    anchor.download &#x3D; &#39;资产列表导出&#39;</span><br><span class="line">    anchor.style.display &#x3D; &#39;none&#39;</span><br><span class="line">    body.appendChild(anchor)</span><br><span class="line">    anchor.click()</span><br><span class="line">    body.removeChild(anchor)</span><br><span class="line">    window.URL.revokeObjectURL(anchor.href)</span><br><span class="line">&#125;)</span><br><span class="line">.catch(err &#x3D;&gt; &#123;</span><br><span class="line">    console.error(err)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>



<h2 id="antd-的table空白列的处理方案"><a href="#antd-的table空白列的处理方案" class="headerlink" title="antd 的table空白列的处理方案"></a>antd 的table空白列的处理方案</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">1.所有列设置宽度</span><br><span class="line">2.Table外层包裹div.table_content</span><br><span class="line">css</span><br><span class="line">.ant-spin-nested-loading&#123;</span><br><span class="line">    height: 100%;</span><br><span class="line">&#125;</span><br><span class="line">.ant-spin-container&#123;</span><br><span class="line">    height: 100%;</span><br><span class="line">&#125;</span><br><span class="line">.table_content&#123;</span><br><span class="line">    overflow:auto;</span><br><span class="line">    height:100%;</span><br><span class="line">    display: inline-block;</span><br><span class="line">    max-width: 100%;</span><br><span class="line">&#125;</span><br><span class="line">3.Table 设置scroll&#x3D;&#123;&#123; x: 1000, y: this.state.scrollY &#125;&#125;</span><br><span class="line">4.x为Table横向列固定时的最小宽度，scrollY为Table动态高度，目的是让Table在可视范围内滚动</span><br></pre></td></tr></table></figure>



<h2 id="vue中dev和build命令使用不同的环境变量"><a href="#vue中dev和build命令使用不同的环境变量" class="headerlink" title="vue中dev和build命令使用不同的环境变量"></a>vue中dev和build命令使用不同的环境变量</h2><p>参考链接：<a href="https://blog.csdn.net/shiaijuan1/article/details/115486971" target="_blank" rel="noopener">https://blog.csdn.net/shiaijuan1/article/details/115486971</a></p>
<p><strong>.env.development和.env.production文件是什么？</strong><br>.env.development 是开发环境下的配置文件<br>.env.production 是生产环境下的配置文件<br>如果这两个文件是空的，或者不存在，那么运行 npm run serve 时，process.env.NODE_ENV 的值默认就是 development；运行 npm run build 时，process.env.NODE_ENV 的值默认就是 production；</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&quot;scripts&quot;: &#123;</span><br><span class="line">   &quot;dev&quot;: &quot;vue-cli-service serve&quot;, &#x2F;&#x2F;默认就是 development开发环境</span><br><span class="line">   &quot;build&quot;: &quot;vue-cli-service build&quot;, &#x2F;&#x2F;默认就是 production生产环境</span><br><span class="line">   &quot;lint&quot;: &quot;vue-cli-service lint&quot;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<p>自定义的.env文件<br>.env.development 和 .env.production是自带的，同时还支持自定义的.env文件<br>我这边另外自定义了三个，如下图</p>
<p><img src="https://img-blog.csdnimg.cn/20210407175536387.png" alt="在这里插入图片描述"></p>
<p>那么就要有对应的 serve 和 build 命令，在 package.json中配置即可：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&quot;scripts&quot;: &#123;</span><br><span class="line">    &quot;serve&quot;: &quot;vue-cli-service serve&quot;,&#x2F;&#x2F;默认就是 development开发环境</span><br><span class="line">    &quot;serve:dev&quot;: &quot;vue-cli-service serve --mode dev&quot;,</span><br><span class="line">    &quot;serve:pro&quot;: &quot;vue-cli-service serve --mode prod&quot;,</span><br><span class="line">    &quot;serve:test&quot;: &quot;vue-cli-service serve --mode test&quot;,</span><br><span class="line">    &quot;build&quot;: &quot;vue-cli-service build&quot;, &#x2F;&#x2F;默认就是 production生产环境</span><br><span class="line">    &quot;build:dev&quot;: &quot;vue-cli-service build --mode dev&quot;,</span><br><span class="line">    &quot;build:pro&quot;: &quot;vue-cli-service build --mode prod&quot;,</span><br><span class="line">    &quot;build:test&quot;: &quot;vue-cli-service build --mode test&quot;,</span><br><span class="line">    &quot;lint&quot;: &quot;vue-cli-service lint&quot;</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>

<p>名字可以自定义，但这边必须一一对应，如下图所示，不然 npm run serve:xx 时找不到对应的文件，就会默认 develpment， npm run build:xx 时找不到对应的文件，就会默认 production</p>
<p>命令这边的名称你可以随便定，如下图所示：</p>
<p><img src="https://img-blog.csdnimg.cn/20210407180500474.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3NoaWFpanVhbjE=,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<p>在.env.dev 、.env.prod、.env.test文件中分别 配置接口地址，给 VUE_APP_BASE_API 赋值</p>
<p><img src="https://img-blog.csdnimg.cn/2021040718111465.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3NoaWFpanVhbjE=,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<p>最后还是通过 process.env.VUE_APP_SERVER_URL获取值，做为接口调用地址</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">axios.defaults.baseURL = process.env.VUE_APP_SERVER_URL；</span><br></pre></td></tr></table></figure>

<p>最后还有一种方法，通过不同的环境变量只在一个文件内配置接口地址就行了<br>步骤如下：</p>
<p>创建 .env 文件</p>
<p><img src="https://img-blog.csdnimg.cn/20210407182426657.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3NoaWFpanVhbjE=,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<p>给每个.env文件设置变量 NODE_ENV</p>
<p><img src="https://img-blog.csdnimg.cn/20210407182318205.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3NoaWFpanVhbjE=,size_16,color_FFFFFF,t_70" alt="img"></p>
<p>在 js 文件中通过 process.env.NODE_ENV，获取当前环境变量的NODE_ENV值，根据不同的值来设置不同的接口地址</p>
<p><img src="https://img-blog.csdnimg.cn/20210407182556775.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3NoaWFpanVhbjE=,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<p>最后再导入baseUrl 进行配置接口地址即可</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">import &#123; baseUrl &#125; from &#39;..&#x2F;config&#x2F;env.js&#39;</span><br><span class="line">axios.defaults.baseURL &#x3D; baseUrl</span><br></pre></td></tr></table></figure>

<p>Tips：默认情况dev和build可以打印出不同的环境变量值，有时候不生效，我也不懂，下面代码可强制设置</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&quot;scripts&quot;: &#123;</span><br><span class="line">    &quot;dev&quot;: &quot;set NODE_ENV&#x3D;development &amp;&amp; vue-cli-service serve&quot;,</span><br><span class="line">    &quot;build&quot;: &quot;set NODE_ENV&#x3D;production &amp;&amp; vue-cli-service build&quot;,</span><br><span class="line">    &quot;lint&quot;: &quot;vue-cli-service lint&quot;</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>



<h2 id="vue异步加载的那点事"><a href="#vue异步加载的那点事" class="headerlink" title="vue异步加载的那点事"></a>vue异步加载的那点事</h2><h3 id="路由的异步加载"><a href="#路由的异步加载" class="headerlink" title="路由的异步加载"></a>路由的异步加载</h3><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a6ddc5fb66224f55b0f9486bec198fe7~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp?" alt="1.png"></p>
<p><strong>重点tips</strong></p>
<p>通过使用webpack提供的import方法可以让对应的模块异步加载，这个方法返回的是一个promise函数，可以使用.then 和.catch来获取结果和捕获错误进行组件异步重加载</p>
<p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1487dbb328024262b048b87faaa8b8f6~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp?" alt="2.png"></p>
<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8c9588da13f341e594a8f547c41085f5~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp?" alt="3.png"></p>
<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a646cc46bf7a4533a3b142ba35789b64~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp?" alt="4.png"></p>
<p><strong>重点tips</strong></p>
<p>可以看到异步加载路由虽然因为增加了几个js映射索引文件，请求数多了，但是总的加载体积是要小的 这就大大的缩小了dom的解析和布局压力，缩减了页面白屏和首屏渲染时间，可以发现如果在路由加载环节使用异步加载，首次资源解析时间会缩减50%左右，这个数字随着路由数量越多越客观 </p>
<h3 id="图片懒加载"><a href="#图片懒加载" class="headerlink" title="图片懒加载"></a>图片懒加载</h3><p><strong>重点tips</strong></p>
<p>懒加载的原理就是先放一张默认图片进行占位，然后监听该img节点是否在可视范围，如果在则将真实的url地址替换之前的默认地址src.</p>
<p><strong>v-lazy</strong></p>
<h2 id="vue页面不更新的八种原因及解决方案"><a href="#vue页面不更新的八种原因及解决方案" class="headerlink" title="vue页面不更新的八种原因及解决方案"></a>vue页面不更新的八种原因及解决方案</h2><h3 id="1、Vue-无法检测实例被创建时不存在于-data-中的-属性"><a href="#1、Vue-无法检测实例被创建时不存在于-data-中的-属性" class="headerlink" title="1、Vue 无法检测实例被创建时不存在于 data 中的 属性"></a>1、Vue 无法检测实例被创建时不存在于 data 中的 属性</h3><p><strong>原因：</strong><br>由于 Vue 会在初始化实例时对 属性 执行 getter/setter 转化<br>所以 属性 必须在 data 对象上存在才能让 Vue 将它转换为响应式的。</p>
<p><strong>场景</strong></p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  data:&#123;&#125;,</span><br><span class="line">  <span class="comment">// 页面不会变化</span></span><br><span class="line">  template: <span class="string">'&lt;div&gt;&#123;&#123;message&#125;&#125;&lt;/div&gt;'</span></span><br><span class="line">&#125;)</span><br><span class="line">vm.message = <span class="string">'Hello!'</span> <span class="comment">// `vm.message` 不是响应式的</span></span><br></pre></td></tr></table></figure>

<p><strong>解决方案</strong></p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  data: &#123;</span><br><span class="line">    <span class="comment">// 声明 a、b 为一个空值字符串</span></span><br><span class="line">    message: <span class="string">''</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  template: <span class="string">'&lt;div&gt;&#123;&#123; message &#125;&#125;&lt;/div&gt;'</span></span><br><span class="line">&#125;)</span><br><span class="line">vm.message = <span class="string">'Hello!'</span></span><br></pre></td></tr></table></figure>

<p><strong>扩展</strong><br><strong>VUE组件中的data必须是函数？</strong><br>Object是引用数据类型，如果不用function返回，每个组件的data都是内存的同一个地址，一个数据改变了其他也改变了。<br>只有函数构成作用域(注意理解作用域，只有函数{}构成作用域,对象的{}以及if(){}都不构成作用域),data是一个函数时，每个组件实例都有自己的作用域，每个实例相互独立，不会相互影响。</p>
<h3 id="2、-Vue-无法检测‘对象属性’的添加或移除"><a href="#2、-Vue-无法检测‘对象属性’的添加或移除" class="headerlink" title="2、 Vue 无法检测‘对象属性’的添加或移除"></a>2、 Vue 无法检测‘对象属性’的添加或移除</h3><p><strong>原因：</strong><br>由于ES5的限制，Vue.js 不能检测到对象属性的添加或删除。<br>因为 Vue.js 在初始化实例时将属性转为 getter/setter，所以属性必须在 data 对象上才能让 Vue.js 转换它，才能让它是响应的。<br><strong>场景：</strong></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> vm = <span class="built_in">new</span> Vue(&#123;</span><br><span class="line">  data:&#123;</span><br><span class="line">    obj: &#123;</span><br><span class="line">      id: <span class="number">001</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// 页面不会变化</span></span><br><span class="line">  template: <span class="string">'&lt;div&gt;&#123;&#123; obj.message &#125;&#125;&lt;/div&gt;'</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">vm.obj.message = <span class="string">'hello'</span> <span class="comment">// 不是响应式的</span></span><br><span class="line"><span class="built_in">delete</span> vm.obj.id       <span class="comment">// 不是非响应式的</span></span><br></pre></td></tr></table></figure>

<p><strong>解决办法：</strong></p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 动态添加 - Vue.set</span></span><br><span class="line">Vue.<span class="keyword">set</span>(vm.obj, propertyName, newValue)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 动态添加 - vm.$set</span></span><br><span class="line">vm.$<span class="keyword">set</span>(vm.obj, propertyName, newValue)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 动态添加多个 </span></span><br><span class="line"><span class="comment">// 代替 `Object.assign(this.obj, &#123; a: 1, b: 2 &#125;)`</span></span><br><span class="line"><span class="keyword">this</span>.obj = Object.assign(&#123;&#125;, <span class="keyword">this</span>.obj, &#123; a: <span class="number">1</span>, b: <span class="number">2</span> &#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 动态移除 - Vue.delete</span></span><br><span class="line">Vue.delete(vm.obj, propertyName)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 动态移除 - vm.$delete</span></span><br><span class="line">vm.$delete(vm.obj, propertyName)</span><br></pre></td></tr></table></figure>

<h3 id="3、Vue-不能检测利用数组索引直接修改一个数组项"><a href="#3、Vue-不能检测利用数组索引直接修改一个数组项" class="headerlink" title="3、Vue 不能检测利用数组索引直接修改一个数组项"></a>3、Vue 不能检测利用数组索引直接修改一个数组项</h3><p><strong>原因：</strong><br>由于 JavaScript 的限制，Vue 不能检测数组和对象的变化；尤雨溪 - 性能代价和获得用户体验不成正比。</p>
<p><strong>场景：</strong></p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  data: &#123;</span><br><span class="line">    items: [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line">vm.items[<span class="number">1</span>] = <span class="string">'x'</span> <span class="comment">// 不是响应性的</span></span><br></pre></td></tr></table></figure>

<p><strong>解决办法：</strong></p>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Vue.set</span></span><br><span class="line">Vue<span class="selector-class">.set</span>(vm<span class="selector-class">.items</span>, indexOfItem, newValue)</span><br><span class="line"></span><br><span class="line"><span class="comment">// vm.$set</span></span><br><span class="line">vm.<span class="variable">$set</span>(vm<span class="selector-class">.items</span>, indexOfItem, newValue)</span><br><span class="line"></span><br><span class="line"><span class="comment">// Array.prototype.splice</span></span><br><span class="line">vm<span class="selector-class">.items</span><span class="selector-class">.splice</span>(indexOfItem, 1, newValue)</span><br></pre></td></tr></table></figure>

<p><strong>拓展：</strong><br><strong>Object.defineProperty() 可以监测数组的变化</strong><br>对数组新增一个属性（index）不会监测到数据变化，因为无法监测到新增数组的下标（index），删除一个属性（index）也是。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line">arr.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">item, index</span>) </span>&#123;</span><br><span class="line"> <span class="built_in">Object</span>.defineProperty(arr, index, &#123;</span><br><span class="line">    <span class="keyword">set</span>: function(value) &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'触发 setter'</span>)</span><br><span class="line">      item = value</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="keyword">get</span>: function() &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'触发 getter'</span>)</span><br><span class="line">      <span class="keyword">return</span> item</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br><span class="line">arr[<span class="number">1</span>] = <span class="string">'123'</span>  <span class="comment">// 触发 setter</span></span><br><span class="line">arr[<span class="number">1</span>]          <span class="comment">// 触发 getter 返回值为 "123"</span></span><br><span class="line">arr[<span class="number">5</span>] = <span class="number">5</span>      <span class="comment">// 不会触发 setter 和 getter</span></span><br></pre></td></tr></table></figure>

<h3 id="4、Vue-不能监测直接修改数组长度的变化"><a href="#4、Vue-不能监测直接修改数组长度的变化" class="headerlink" title="4、Vue 不能监测直接修改数组长度的变化"></a>4、Vue 不能监测直接修改数组长度的变化</h3><p><strong>原因：</strong><br>由于 JavaScript 的限制，Vue 不能检测数组和对象的变化；<br>尤雨溪 - 性能代价和获得用户体验不成正比。(Object.defineProperty() 可以监测数据的变化)<br><strong>场景：</strong></p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  data: &#123;</span><br><span class="line">    items: [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line">vm.items.length = <span class="number">2</span> <span class="comment">// 不是响应性的</span></span><br></pre></td></tr></table></figure>

<p><strong>解决办法：</strong></p>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vm<span class="selector-class">.items</span><span class="selector-class">.splice</span>(newLength)</span><br></pre></td></tr></table></figure>

<h3 id="5、在异步更新执行之前操作-DOM-数据不会变化"><a href="#5、在异步更新执行之前操作-DOM-数据不会变化" class="headerlink" title="5、在异步更新执行之前操作 DOM 数据不会变化"></a>5、在异步更新执行之前操作 DOM 数据不会变化</h3><p><strong>原因：</strong><br>由于Vue 在更新 DOM 时是异步执行的。<br>只要侦听到数据变化，Vue 将开启一个队列，并缓冲在同一事件循环中发生的所有数据变更。<br>如果同一个 watcher 被多次触发，只会被推入到队列中一次。<br>这种在缓冲时去除重复数据对于避免不必要的计算和 DOM 操作是非常重要的。<br>然后，在下一个的事件循环中，Vue 刷新队列并执行实际 (已去重的) 工作。<br>Vue 在内部对异步队列尝试使用原生的 Promise.then、MutationObserver 和 setImmediate，如果执行环境不支持，则会采用 setTimeout(fn, 0) 代替。</p>
<p><strong>场景：</strong></p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=<span class="string">"example"</span>&gt;&#123;&#123;message&#125;&#125;&lt;/div&gt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  el: <span class="string">'#example'</span>,</span><br><span class="line">  data: &#123;</span><br><span class="line">    message: <span class="string">'123'</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line">vm.message = <span class="string">'new message'</span> <span class="comment">// 更改数据</span></span><br><span class="line">vm.$el.textContent === <span class="string">'new message'</span> <span class="comment">// false</span></span><br><span class="line">vm.$el.style.color = <span class="string">'red'</span> <span class="comment">// 页面没有变化</span></span><br></pre></td></tr></table></figure>

<p><strong>解决办法：</strong><br>使用 <code>Vue.nextTick(callback)</code> callback 将在 DOM 更新完成后被调用</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  el: <span class="string">'#example'</span>,</span><br><span class="line">  data: &#123;</span><br><span class="line">    message: <span class="string">'123'</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line">vm.message = <span class="string">'new message'</span> <span class="comment">// 更改数据</span></span><br><span class="line">Vue.nextTick(<span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">  vm.$el.textContent === <span class="string">'new message'</span> <span class="comment">// true</span></span><br><span class="line">  vm.$el.style.color = <span class="string">'red'</span> <span class="comment">// 文字颜色变成红色</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p><strong>拓展：</strong><br><strong>异步更新带来的数据响应的误解</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 页面显示：我更新啦！ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"example"</span>&gt;</span>&#123;&#123;message.text&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">var vm = new Vue(&#123;</span><br><span class="line">  el: '#example',</span><br><span class="line">  data: &#123;</span><br><span class="line">    message: &#123;&#125;,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line">vm.$nextTick(function () &#123;</span><br><span class="line">  this.message = &#123;&#125;</span><br><span class="line">  this.message.text = '我更新啦！'</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>上段代码中，我们在 data 对象中声明了一个 message 空对象，然后在下次 DOM 更新循环结束之后触发的异步回调中，执行了如下两段代码：</p>
<figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">this.message</span> = &#123;&#125;<span class="comment">;</span></span><br><span class="line"><span class="attr">this.message.text</span> = <span class="string">'我更新啦！'</span></span><br></pre></td></tr></table></figure>

<p>到这里，模版更新了，页面最后会显示 我更新啦！。<br>模板更新了，应该具有响应式特性，如果这么想那么你就已经走入了误区。<br>一开始我们在 data 对象中只是声明了一个 message 空对象，并不具有 text 属性，所以该 text 属性是不具有响应式特性的。</p>
<p><strong>但模板切切实实已经更新了，这又是怎么回事呢？</strong></p>
<p>那是因为 Vue.js 的 DOM 更新是异步的，即当 setter 操作发生后，指令并不会立马更新，指令的更新操作<strong>会有一个延迟</strong>，当指令更新真正执行的时候，此时 text 属性已经赋值，所以指令更新模板时得到的是新值。</p>
<blockquote>
<p>模板中每个指令/数据绑定都有一个对应的 watcher 对象，在计算过程中它把属性记录为依赖。之后当依赖的 setter 被调用时，会触发 watcher 重新计算 ，也就会导致它的关联指令更新 DOM。</p>
</blockquote>
<p><strong>具体流程如下所示：</strong></p>
<ul>
<li>执行 <code>this.dataObj = {};</code> 时， setter 被调用。</li>
<li>Vue.js 追踪到 message 依赖的 setter 被调用后，会触发 watcher 重新计算。</li>
<li><code>this.message.text = &#39;new text&#39;</code>; 对 text 属性进行赋值。</li>
<li>异步回调逻辑执行结束之后，就会导致它的关联指令更新 DOM，指令更新开始执行。</li>
</ul>
<p>所以真正的触发模版更新的操作是 this.message = {};这一句引起的，因为触发了 setter，所以单看上述例子，具有响应式特性的数据只有 message 这一层，它的动态添加的属性是不具备的。</p>
<blockquote>
<p>对应上述第二点 - Vue 无法检测对象 property 的添加或移除</p>
</blockquote>
<h3 id="6、循环嵌套层级太深，视图不更新？"><a href="#6、循环嵌套层级太深，视图不更新？" class="headerlink" title="6、循环嵌套层级太深，视图不更新？"></a>6、循环嵌套层级太深，视图不更新？</h3><p>看到网上有些人说数据更新的层级太深，导致数据不更新或者更新缓慢从而导致试图不更新？</p>
<p>由于我没有遇到过这种情况，在我试图重现这种场景的情况下，发现并没有上述情况的发生，所以对于这一点不进行过多描述（如果有人在真实场景下遇到这种情况留个言吧）。</p>
<p>针对上述情况有人给出的解决方案是使用强制更新：</p>
<blockquote>
<p>如果你发现你自己需要在 Vue 中做一次强制更新，99.9% 的情况，是你在某个地方做错了事。<br>迫使 Vue 实例重新渲染。注意它仅仅影响实例本身和插入插槽内容的子组件，而不是所有子组件。</p>
</blockquote>
<ol>
<li>不会重新触发生命周期钩子函数，比如mounted</li>
<li>不会渲染子组件的更新，即使子组件的props发生改变了。</li>
</ol>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vm.<span class="variable">$forceUpdate</span>()</span><br></pre></td></tr></table></figure>

<h3 id="7、路由参数变化时，页面不更新（数据不更新）"><a href="#7、路由参数变化时，页面不更新（数据不更新）" class="headerlink" title="7、路由参数变化时，页面不更新（数据不更新）"></a>7、路由参数变化时，页面不更新（数据不更新）</h3><p><strong>原因：</strong><br>路由视图组件引用了相同组件时，当路由参会变化时，会导致该组件无法更新，也就是我们常说中的页面无法更新的问题。</p>
<p><strong>场景：</strong><br>在路由构建选项 routes 中配置了一个动态路由 ‘/home/:name’，它们共用一个路由组件 Home，这代表他们复用 RouterView 。<br>当进行路由切换时，页面只会渲染第一次路由匹配到的参数，之后再进行路由切换时，message 是没有变化的。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=<span class="string">"app"</span>&gt;</span><br><span class="line">  &lt;ul&gt;</span><br><span class="line">    &lt;li&gt;<span class="xml"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">"/home/foo"</span>&gt;</span>To Foo<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span>&lt;<span class="regexp">/li&gt; </span></span><br><span class="line"><span class="regexp">    &lt;li&gt;&lt;router-link to="/</span>home/baz<span class="string">"&gt;To Baz&lt;/router-link&gt;&lt;/li&gt; </span></span><br><span class="line"><span class="string">    &lt;li&gt;&lt;router-link to="</span>/home/bar<span class="string">"&gt;To Bar&lt;/router-link&gt;&lt;/li&gt; </span></span><br><span class="line"><span class="string">  &lt;/ul&gt; </span></span><br><span class="line"><span class="string">  &lt;router-view&gt;&lt;/router-view&gt;</span></span><br><span class="line"><span class="string">&lt;/div&gt;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">const Home = &#123;</span></span><br><span class="line"><span class="string">  template: `&lt;div&gt;&#123;&#123;message&#125;&#125;&lt;/div&gt;`,</span></span><br><span class="line"><span class="string">  data() &#123;</span></span><br><span class="line"><span class="string">    return &#123;</span></span><br><span class="line"><span class="string">      message: this.$route.params.name</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">const router = new VueRouter(&#123;</span></span><br><span class="line"><span class="string">  mode:'history',</span></span><br><span class="line"><span class="string"> routes: [</span></span><br><span class="line"><span class="string">    &#123;path: '/home', component: Home &#125;,</span></span><br><span class="line"><span class="string">    &#123;path: '/home/:name', component: Home &#125;</span></span><br><span class="line"><span class="string">  ]</span></span><br><span class="line"><span class="string">&#125;)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">new Vue(&#123;</span></span><br><span class="line"><span class="string">  el: '#app',</span></span><br><span class="line"><span class="string">  router</span></span><br><span class="line"><span class="string">&#125;)</span></span><br></pre></td></tr></table></figure>

<p><strong>解决办法：</strong></p>
<p>解决的办法有很多种，这里只列举我常用到一种方法。</p>
<p>通过 watch 监听 $route 的变化。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Home = &#123;</span><br><span class="line">  template: <span class="string">`&lt;div&gt;&#123;&#123;message&#125;&#125;&lt;/div&gt;`</span>,</span><br><span class="line">  data() &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      message: <span class="keyword">this</span>.$route.params.name</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  watch: &#123;</span><br><span class="line">   <span class="string">'$route'</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="keyword">this</span>.message = <span class="keyword">this</span>.$route.params.name</span><br><span class="line">    &#125;</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br><span class="line">...</span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  el: <span class="string">'#app'</span>,</span><br><span class="line">  router</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>给 <code>&lt;router-view&gt;&lt;/router-view&gt;</code> 绑定 key 属性，这样 Vue 就会认为这是不同的<code>&lt;router-view&gt;</code>。<br>弊端：如果从 /home 跳转到 /user 等其他路由下，我们是不用担心组件更新问题的，所以这个时候 key 属性是多余的。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">  ...</span><br><span class="line">  <span class="tag">&lt;<span class="name">router-view</span> <span class="attr">:key</span>=<span class="string">"key"</span>&gt;</span><span class="tag">&lt;/<span class="name">router-view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="8、使用keep-alive之后数据无法实时更新问题"><a href="#8、使用keep-alive之后数据无法实时更新问题" class="headerlink" title="8、使用keep-alive之后数据无法实时更新问题"></a>8、使用keep-alive之后数据无法实时更新问题</h3><p><strong>keep-alive 相关内容</strong><br><strong>概念：</strong> <code>&lt;keep-alive&gt;</code> 是Vue的一个内部组件，适合用来缓存不需要实时更新的组件，这样可以保留组件状态避免重新渲染。<br><strong>Props：</strong></p>
<ul>
<li>include ：接受字符串或正则表达式，这里是需要被缓存的组件名</li>
<li>exclude ：接受字符串或正则表达式，这里是不需要缓存的组件名</li>
<li>max ：接受数字，最多可以缓存多少组件实例</li>
</ul>
<p><strong>问题描述：</strong><br>问题： 在需要重新请求数据的时候，依然走的缓存<br>根据需求实现在列表页点击“编辑”进行修改某项数据，修改完成返回之后，依旧保留在原位置，保留之前的查找条件和之前的数据，使用vue中的<code>&lt;keep-alive&gt;</code>之后，返回列表页时不刷新页面，依旧保持之前的数据，无法展示修改之后的最新消息。</p>
<p><strong>解决办法：</strong></p>
<ul>
<li><p>方案1： 如果要在进入页面的时候获取最新的数据，需要在activated阶段获取数据，承担原来created钩子中获取数据的任务(亲测，时而有效，时而无效，不知道是什么原因)。</p>
</li>
<li><p>方案2： 在账户登录之后调用 *<em>window.location.reload() *</em>，起到重新请求的作用（已亲测）</p>
</li>
<li><p>方案3： 在vuex中设置状态，动态绑定 include 值，在登录的时候缓存需要缓存的组件，在退出的时候，清除需要刷新的组件（效果很理想，也顺带解决了加载数据时，数据闪现的情况）</p>
</li>
<li><p>方案4：借用组件内的守卫<code>beforeRouteEnter(to,from,next){},</code>方法，</p>
<blockquote>
<p>每次进入之后取到编辑之后的最新数据，然后把现有的列表中对应的数据进行修改，修改之后进行强制刷新，这样就可以实现需要的效果了。</p>
</blockquote>
<p>beforeRouteEnter 守卫不能访问 this：因为守卫在导航确认前被调用,因此即将登场的新组件还没被创建。</p>
<p>　不过，你可以通过传一个回调给 next来访问组件实例。在导航被确认的时候执行回调，并且把组件实例作为回调方法的参数。　</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">beforeRouteEnter (to, from, <span class="keyword">next</span>) &#123;</span><br><span class="line">    <span class="keyword">next</span>(<span class="string">vm =&gt;</span> &#123;</span><br><span class="line">        // 通过 <span class="string">`vm`</span> 访问组件实例</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<p><strong>注意:</strong><br>beforeRouteEnter 是支持给 next 传递回调的唯一守卫。<br>对于 beforeRouteUpdate 和 beforeRouteLeave 来说，this 已经可用了，所以不支持传递回调，因为没有必要了。</p>
<h2 id="前端不走vue-config-js中的proxy，使用nginx代理"><a href="#前端不走vue-config-js中的proxy，使用nginx代理" class="headerlink" title="前端不走vue.config.js中的proxy，使用nginx代理"></a>前端不走vue.config.js中的proxy，使用nginx代理</h2><h3 id="下载nginx"><a href="#下载nginx" class="headerlink" title="下载nginx"></a>下载nginx</h3><h3 id="打开根目录下的-conf-nginx-conf"><a href="#打开根目录下的-conf-nginx-conf" class="headerlink" title="打开根目录下的\conf\nginx.conf"></a>打开根目录下的\conf\nginx.conf</h3><h3 id="找到upstream-wwyt，增加server-172-16-10-120-8089-（前面的-相当于注释）"><a href="#找到upstream-wwyt，增加server-172-16-10-120-8089-（前面的-相当于注释）" class="headerlink" title="找到upstream wwyt，增加server 172.16.10.120:8089;（前面的#相当于注释）"></a>找到upstream wwyt，增加server 172.16.10.120:8089;（前面的#相当于注释）</h3><h3 id="双击-exe文件，运行nginx"><a href="#双击-exe文件，运行nginx" class="headerlink" title="双击.exe文件，运行nginx"></a>双击.exe文件，运行nginx</h3><h3 id="运行本地项目后，浏览器直接访问127-0-0-1"><a href="#运行本地项目后，浏览器直接访问127-0-0-1" class="headerlink" title="运行本地项目后，浏览器直接访问127.0.0.1"></a>运行本地项目后，浏览器直接访问127.0.0.1</h3><h2 id="Vue引入sass并配置全局变量的方法"><a href="#Vue引入sass并配置全局变量的方法" class="headerlink" title="Vue引入sass并配置全局变量的方法"></a>Vue引入sass并配置全局变量的方法</h2><p>等安装完所有依赖后，安装sass的依赖包：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm install --save-dev sass-loader</span><br><span class="line">&#x2F;&#x2F;sass-loader依赖于node-sass</span><br><span class="line">npm install --save-dev node-sass</span><br></pre></td></tr></table></figure>

<p>然后在build文件夹下的<code>webpack.base.conf.js</code>的rules里面添加配置：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line"> test: &#x2F;\.sass$&#x2F;,</span><br><span class="line"> loaders: [&#39;style&#39;, &#39;css&#39;, &#39;sass&#39;]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>然后添加csslang属性。注意，这里是scss，而且css文件的后缀也是scss：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;style lang&#x3D;&#96;&#96;&quot;scss&quot;&#96;&#96;&gt;&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<p>最后需要重新编译一下项目，否则没有效果。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm run dev</span><br></pre></td></tr></table></figure>

<p>现在就可以随意的使用sass了，这时候会发现如果我想定义几个变量进行全局使用，好像只能在页面中通过<code>@import</code>来引入，这显然不够优雅，可以这样解决。</p>
<p><strong>配置sass全局变量</strong></p>
<p>有一个babel插件可以完美的解决这个问题：<code>sass-resources-loader</code>可以访问sass资源任何一个需要访问的sass模块。所以，可以使用共享变量和混合所有SASS样式，而不去每个文件都引用。</p>
<p>首先进行插件安装：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm &#96;&#96;install&#96; &#96;--save-dev sass-resources-loader</span><br></pre></td></tr></table></figure>

<p>然后在 build 文件夹下找到 <code>util.js</code>修改sass编译器loader的配置，直接把下面的代码复制进去即可：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 全局文件引入 当然只想编译一个文件的话可以省去这个函数</span><br><span class="line">function resolveResource(name) &#123;</span><br><span class="line"> return path.resolve(__dirname, &#39;..&#x2F;src&#x2F;style&#x2F;&#39; + name);</span><br><span class="line">&#125;</span><br><span class="line">function generateSassResourceLoader() &#123;</span><br><span class="line"> var loaders &#x3D; [</span><br><span class="line">  cssLoader,</span><br><span class="line">  &#39;sass-loader&#39;,</span><br><span class="line">  &#123;</span><br><span class="line">   loader: &#39;sass-resources-loader&#39;,</span><br><span class="line">   options: &#123;</span><br><span class="line">    &#x2F;&#x2F; 多个文件时用数组的形式传入，单个文件时可以直接使用 path.resolve(__dirname, &#39;..&#x2F;static&#x2F;style&#x2F;common.scss&#39;</span><br><span class="line">    resources: [resolveResource(&#39;theme.scss&#39;)] </span><br><span class="line">   &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  ];</span><br><span class="line">  if (options.extract) &#123;</span><br><span class="line">   return ExtractTextPlugin.extract(&#123;</span><br><span class="line">    use: loaders,</span><br><span class="line">    fallback: &#39;vue-style-loader&#39;</span><br><span class="line">   &#125;)</span><br><span class="line">  &#125; else &#123;</span><br><span class="line">   return [&#39;vue-style-loader&#39;].concat(loaders)</span><br><span class="line">  &#125;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<p>将默认的sass配置改为<code>generateSassResourceLoader()。</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">return &#123;</span><br><span class="line">  css: generateLoaders(),</span><br><span class="line">  postcss: generateLoaders(),</span><br><span class="line">  less: generateLoaders(&#39;less&#39;),</span><br><span class="line">  &#x2F;&#x2F; vue-cli默认sass配置</span><br><span class="line">  &#x2F;&#x2F; sass: generateLoaders(&#39;sass&#39;, &#123; indentedSyntax: true &#125;), </span><br><span class="line">  &#x2F;&#x2F; scss: generateLoaders(&#39;sass&#39;),</span><br><span class="line">  &#x2F;&#x2F; 新引入的sass-resources-loader</span><br><span class="line">  sass: generateSassResourceLoader(),</span><br><span class="line">  scss: generateSassResourceLoader(),</span><br><span class="line">  stylus: generateLoaders(&#39;stylus&#39;),</span><br><span class="line">  styl: generateLoaders(&#39;stylus&#39;)</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<p>改完配置后重启服务就可以在<code>theme.scss</code>里定义全局变量并在页面中引用了。</p>
<p>需要注意的是，scss里的变量是<code>$</code>开头，而less里的变量是<code>@</code>开头。比如我想定义一个项目的主色调变量，我可以在<code>theme.scss</code>里这样定义：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$c-primary: &#96;&#96;#fd7a00&#96;&#96;;&#96;&#96;$theme-blue: &#96;&#96;#3296fa&#96;&#96;;&#96;&#96;$theme-red: &#96;&#96;#da3838&#96;&#96;;</span><br></pre></td></tr></table></figure>

<p>引用变量的时候直接引用变量名即可。</p>
<h2 id="vue键盘事件"><a href="#vue键盘事件" class="headerlink" title="vue键盘事件"></a>vue键盘事件</h2><ul>
<li>在 <code>js</code> 中我们通常通过绑定一个事件，去获取按键的编码，再通过 <code>event</code> 中的 <code>keyCode</code> 属性去获得编码</li>
<li>如果我们需要实现固定的键才能触发事件时就需要不断的判断，其实很麻烦</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> button = <span class="built_in">document</span>.querySelector(<span class="string">'button'</span>)</span><br><span class="line"></span><br><span class="line">button.onkeyup = <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(e.key)</span><br><span class="line">    <span class="keyword">if</span> (e.keyCode == <span class="number">13</span>) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'我是回车键'</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<ul>
<li><code>vue</code> 中给一些常用的按键提供了别名，我们只要在事件后加上响应的别名即可</li>
<li><code>vue</code> 中常见别名有：<code>up/向上箭头</code>、<code>down/向下箭头</code>、<code>left/左箭头</code>、<code>right/右箭头</code>、<code>space/空格</code>、<code>tab/换行</code>、<code>esc/退出</code>、<code>enter/回车</code>、<code>delete/删除</code></li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 只有按下回车键时才会执行 send 方法</span></span><br><span class="line">&lt;input v-on:keyup.enter=<span class="string">"send"</span> type=<span class="string">"text"</span>&gt;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<ul>
<li>对于 <code>Vue</code> 中未提供别名的键，可以使用原始的 <code>key</code> 值去绑定，所谓 <code>key</code> 值就是 <code>event.key</code> 所获得的值</li>
<li>如果 <code>key</code> 值是单个字母的话直接使用即可，如果是由多个单词组成的驼峰命名，就需要将其拆开，用 <code>-</code> 连接</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 只有按下q键时才会执行send方法</span></span><br><span class="line">&lt;input v-on:keyup.Q=<span class="string">"send"</span> type=<span class="string">"text"</span>&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 只有按下capslock键时才会执行send方法</span></span><br><span class="line">&lt;input v-on:keyup.caps-lock=<span class="string">"send"</span> type=<span class="string">"text"</span>&gt;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<ul>
<li>对于系统修饰符 <code>ctrl</code>、<code>alt</code>、<code>shift</code> 这些比较复杂的键使用而言，分两种情况</li>
<li>因为这些键可以在按住的同时，去按其他键，形成组合快捷键</li>
<li>当触发事件为 <code>keydown</code> 时，我们可以直接按下修饰符即可触发</li>
<li>当触发事件为 <code>keyup</code> 时，按下修饰键的同时要按下其他键，再释放其他键，事件才能被触发。</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// keydown事件时按下alt键时就会执行send方法</span></span><br><span class="line">&lt;input v-on:keydown.Alt=<span class="string">"send"</span> type=<span class="string">"text"</span>&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// keyup事件时需要同时按下组合键才会执行send方法</span></span><br><span class="line">&lt;input v-on:keyup.Alt.y=<span class="string">"send"</span> type=<span class="string">"text"</span>&gt;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<ul>
<li>当然我们也可以自定义按键别名</li>
<li>通过 <code>Vue.config.keyCodes.自定义键名=键码</code> 的方式去进行定义</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 只有按下回车键时才会执行send方法</span></span><br><span class="line">&lt;input v-on:keydown.autofelix=<span class="string">"send"</span> type=<span class="string">"text"</span>&gt;</span><br><span class="line">    </span><br><span class="line"><span class="comment">// 13是回车键的键码，将他的别名定义为autofelix</span></span><br><span class="line">Vue.config.keyCodes.autofelix=<span class="number">13</span></span><br></pre></td></tr></table></figure>


      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/vue/" rel="tag"># vue</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2020/10/29/win10%E8%AE%BE%E7%BD%AE%E4%B8%8E%E6%8A%80%E5%B7%A7/" rel="next" title="计算机设置相关">
                <i class="fa fa-chevron-left"></i> 计算机设置相关
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2020/10/30/xshell%E4%B9%8B%E5%88%9D%E8%A7%81/" rel="prev" title="xshell之初见">
                xshell之初见 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/header.jpg"
                alt="Dali" />
            
              <p class="site-author-name" itemprop="name">Dali</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">175</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">76</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">163</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Router"><span class="nav-number">1.</span> <span class="nav-text">Router</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#hash模式解析url参数"><span class="nav-number">1.1.</span> <span class="nav-text">hash模式解析url参数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#离开某个路由给提示"><span class="nav-number">1.2.</span> <span class="nav-text">离开某个路由给提示</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#解决vue路由跳转未匹配路径时出现空白页的问题"><span class="nav-number">1.3.</span> <span class="nav-text">解决vue路由跳转未匹配路径时出现空白页的问题</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#addRoutes"><span class="nav-number">1.4.</span> <span class="nav-text">addRoutes</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#scrollBehavior"><span class="nav-number">1.5.</span> <span class="nav-text">scrollBehavior</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#指令（directive）"><span class="nav-number">2.</span> <span class="nav-text">指令（directive）</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#v-focus-自定义指令解决autofocus失效"><span class="nav-number">2.1.</span> <span class="nav-text">v-focus(自定义指令解决autofocus失效)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#动态指令参数"><span class="nav-number">2.2.</span> <span class="nav-text">动态指令参数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#高精度权限控制—自定义指令directive"><span class="nav-number">2.3.</span> <span class="nav-text">高精度权限控制—自定义指令directive</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#修改dev地址为自动获取本地ip"><span class="nav-number">3.</span> <span class="nav-text">修改dev地址为自动获取本地ip</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#在npm-run-dev之后，Vue都做了哪些工作呢"><span class="nav-number">4.</span> <span class="nav-text">在npm run dev之后，Vue都做了哪些工作呢</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#打包"><span class="nav-number">5.</span> <span class="nav-text">打包</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#在dist文件夹中多打包额外的文件夹"><span class="nav-number">5.1.</span> <span class="nav-text">在dist文件夹中多打包额外的文件夹</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#理不清的assetsSubDirectory-和-assetsPublicPath"><span class="nav-number">5.2.</span> <span class="nav-text">理不清的assetsSubDirectory 和 assetsPublicPath</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#js-css找不到"><span class="nav-number">5.3.</span> <span class="nav-text">js&#x2F;css找不到</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#背景图片找不到"><span class="nav-number">5.4.</span> <span class="nav-text">背景图片找不到</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#用Nginx做web服务器报错favicon-ico-404-Not-Found-cli3-0"><span class="nav-number">5.5.</span> <span class="nav-text">用Nginx做web服务器报错favicon.ico 404 (Not Found)(cli3.0)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#router-view中的内容显示不出来（关闭路由history模式）"><span class="nav-number">5.6.</span> <span class="nav-text">router-view中的内容显示不出来（关闭路由history模式）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#打包出错显示空白页，或者Failed-to-load-resource-net-ERR-FILE-NOT-FOUND"><span class="nav-number">5.7.</span> <span class="nav-text">打包出错显示空白页，或者Failed to load resource: net::ERR_FILE_NOT_FOUND</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Vue-elementUI-build打包部署后字体图标丢失，控制台显示文件element-icons-woff和element-icons-ttf文件404"><span class="nav-number">5.8.</span> <span class="nav-text">Vue+elementUI  build打包部署后字体图标丢失，控制台显示文件element-icons.woff和element-icons.ttf文件404</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Git"><span class="nav-number">6.</span> <span class="nav-text">Git</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#git-stash暂时保存"><span class="nav-number">6.1.</span> <span class="nav-text">git stash暂时保存</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#合并多个-commit-提交记录"><span class="nav-number">6.2.</span> <span class="nav-text">合并多个 commit 提交记录</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#使用git-commit-–amend-修改提交信息操作"><span class="nav-number">6.3.</span> <span class="nav-text">使用git commit –amend 修改提交信息操作</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#–depth-1，clone最新版本来使用或学习，而不是参与整个项目的开发工作"><span class="nav-number">6.4.</span> <span class="nav-text">–depth&#x3D;1，clone最新版本来使用或学习，而不是参与整个项目的开发工作</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#git无法提交代码-error-Failed-at-the-ant-design-pro-1-0-0-lint-staged-script"><span class="nav-number">6.5.</span> <span class="nav-text">git无法提交代码( error Failed at the ant-design-pro@1.0.0 lint-staged script.)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#You-have-not-concluded-your-merge-MERGE-HEAD-exists-Please-commit-your-changes-before-you-can-merge"><span class="nav-number">6.6.</span> <span class="nav-text">You have not concluded your merge (MERGE_HEAD exists). Please, commit your changes before you can merge.</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#"><span class="nav-number"></span> <span class="nav-text">Lorem ipsum dolor sit amet consectetur adipisicing elit.</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#利用渐变绘制图像"><span class="nav-number">0.0.1.</span> <span class="nav-text">利用渐变绘制图像</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#linear-gradient-和-repeating-linear-gradient"><span class="nav-number">0.0.2.</span> <span class="nav-text">linear-gradient() 和 repeating-linear-gradient()</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#radial-gradient-和-repeating-radial-gradient"><span class="nav-number">0.0.3.</span> <span class="nav-text">radial-gradient() 和 repeating-radial-gradient()</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#conic-gradient-和-repeating-conic-gradient"><span class="nav-number">0.0.4.</span> <span class="nav-text">conic-gradient 和 repeating-conic-gradient</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#举例"><span class="nav-number">0.0.5.</span> <span class="nav-text">举例</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#前端三大布局，float，flex，grid的介绍"><span class="nav-number">0.1.</span> <span class="nav-text">前端三大布局，float，flex，grid的介绍</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#grid布局"><span class="nav-number">0.2.</span> <span class="nav-text">grid布局</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#居中布局的七种方式"><span class="nav-number">0.3.</span> <span class="nav-text">居中布局的七种方式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#animation-和-keyframes-属性去实现打字效果"><span class="nav-number">0.4.</span> <span class="nav-text">animation 和 @keyframes 属性去实现打字效果</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#透明图片阴影效果"><span class="nav-number">0.5.</span> <span class="nav-text">透明图片阴影效果</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#自定义-Cursor"><span class="nav-number">0.6.</span> <span class="nav-text">自定义 Cursor</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#使用-attr-展示-tooltip"><span class="nav-number">0.7.</span> <span class="nav-text">使用 attr() 展示 tooltip</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#纯-CSS-实现核算清单"><span class="nav-number">0.8.</span> <span class="nav-text">纯 CSS 实现核算清单</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#css方形-border-radius"><span class="nav-number">0.9.</span> <span class="nav-text">css方形 border-radius</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#css等高度切角"><span class="nav-number">0.10.</span> <span class="nav-text">css等高度切角</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#css等角度切角"><span class="nav-number">0.11.</span> <span class="nav-text">css等角度切角</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#css下划线动画（从中间出现，从中间消失）"><span class="nav-number">0.12.</span> <span class="nav-text">css下划线动画（从中间出现，从中间消失）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#css下划线动画跟随"><span class="nav-number">0.13.</span> <span class="nav-text">css下划线动画跟随</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#css手写loading"><span class="nav-number">0.14.</span> <span class="nav-text">css手写loading</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#css手写两个圈圈加载"><span class="nav-number">0.15.</span> <span class="nav-text">css手写两个圈圈加载</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#css循环动画"><span class="nav-number">0.16.</span> <span class="nav-text">css循环动画</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#css进度条"><span class="nav-number">0.17.</span> <span class="nav-text">css进度条</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#css粒子进度条"><span class="nav-number">0.18.</span> <span class="nav-text">css粒子进度条</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#css太极"><span class="nav-number">0.19.</span> <span class="nav-text">css太极</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#css旋转立体小方块"><span class="nav-number">0.20.</span> <span class="nav-text">css旋转立体小方块</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#css静态电脑键盘"><span class="nav-number">0.21.</span> <span class="nav-text">css静态电脑键盘</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#css连三子"><span class="nav-number">0.22.</span> <span class="nav-text">css连三子</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#css贪吃蛇"><span class="nav-number">0.23.</span> <span class="nav-text">css贪吃蛇</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#统一改变价格符号￥大小"><span class="nav-number">0.24.</span> <span class="nav-text">统一改变价格符号￥大小</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#单行："><span class="nav-number">0.25.</span> <span class="nav-text">单行：</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#多行："><span class="nav-number">0.26.</span> <span class="nav-text">多行：</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#position-sticky-实现-导航栏悬停功能"><span class="nav-number">0.27.</span> <span class="nav-text">position: sticky 实现 导航栏悬停功能</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#使用-v-deep深度选择器，能够解决在scss中无法解析-deep-选择器的问题"><span class="nav-number">0.28.</span> <span class="nav-text">使用::v-deep深度选择器，能够解决在scss中无法解析&#x2F;deep&#x2F;选择器的问题</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#判断用户是否离开当前页-当前标签页"><span class="nav-number">0.29.</span> <span class="nav-text">判断用户是否离开当前页&#x2F;当前标签页</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#元素被隐藏或消失-在开发中工具去审查时无法选中？"><span class="nav-number">0.30.</span> <span class="nav-text">元素被隐藏或消失,在开发中工具去审查时无法选中？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#大屏自适应布局实现（scale）"><span class="nav-number">0.31.</span> <span class="nav-text">大屏自适应布局实现（scale）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#移动端0-5px-1px边框变粗的问题"><span class="nav-number">0.32.</span> <span class="nav-text">移动端0.5px(1px边框变粗的问题)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#文字和图片的模糊效果"><span class="nav-number">0.33.</span> <span class="nav-text">文字和图片的模糊效果</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#查询横屏还是竖屏"><span class="nav-number">0.34.</span> <span class="nav-text">查询横屏还是竖屏</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#多重边框"><span class="nav-number">0.35.</span> <span class="nav-text">多重边框</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#利用border做出斜切的效果"><span class="nav-number">0.36.</span> <span class="nav-text">利用border做出斜切的效果</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#不用使用-last-child-border-none-技巧"><span class="nav-number">0.37.</span> <span class="nav-text">不用使用:last-child(){border:none}技巧</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#瀑布流布局"><span class="nav-number">0.38.</span> <span class="nav-text">瀑布流布局</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#pointer-events属性"><span class="nav-number">0.39.</span> <span class="nav-text">pointer-events属性</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#通过background-linear-gradient写矩形边角"><span class="nav-number">0.40.</span> <span class="nav-text">通过background:linear-gradient写矩形边角</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#滚动条知识"><span class="nav-number">0.41.</span> <span class="nav-text">滚动条知识</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#滚动条的样式"><span class="nav-number">0.42.</span> <span class="nav-text">滚动条的样式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#transition-通过它简单控制css属性的动画效果"><span class="nav-number">0.43.</span> <span class="nav-text">transition(通过它简单控制css属性的动画效果)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#伪元素和伪类"><span class="nav-number">0.44.</span> <span class="nav-text">伪元素和伪类</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#输入框光标的颜色"><span class="nav-number">0.45.</span> <span class="nav-text">输入框光标的颜色</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#max-min"><span class="nav-number">0.46.</span> <span class="nav-text">max() &#x2F; min()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#clamp-在定义的-三个值之间，取大小在中间的那个值"><span class="nav-number">0.47.</span> <span class="nav-text">clamp() [在定义的 三个值之间，取大小在中间的那个值]</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#卡券效果制作"><span class="nav-number">0.48.</span> <span class="nav-text">卡券效果制作</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#故障风格的文字"><span class="nav-number">0.49.</span> <span class="nav-text">故障风格的文字</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#评分组件"><span class="nav-number">0.50.</span> <span class="nav-text">评分组件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#font-display-swap"><span class="nav-number">0.51.</span> <span class="nav-text">font-display: swap;</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#给透明png或者是气泡框等奇葩图形加阴影–filter-drop-shadow"><span class="nav-number">0.52.</span> <span class="nav-text">给透明png或者是气泡框等奇葩图形加阴影–filter:drop-shadow</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#scroll-behavior-smooth-让滚动更流畅"><span class="nav-number">0.53.</span> <span class="nav-text">scroll-behavior:smooth;让滚动更流畅</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#content-visibility跳过屏幕外的内容渲染"><span class="nav-number">0.54.</span> <span class="nav-text">content-visibility跳过屏幕外的内容渲染</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#will-change"><span class="nav-number">0.55.</span> <span class="nav-text">will-change</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#postcss-px-to-viewport实现移动端字体宽高大小自适应"><span class="nav-number">0.56.</span> <span class="nav-text">postcss-px-to-viewport实现移动端字体宽高大小自适应</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#CSS实现字母大小写转换"><span class="nav-number">0.57.</span> <span class="nav-text">CSS实现字母大小写转换</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#识别v-html的-n并换行"><span class="nav-number">0.58.</span> <span class="nav-text">识别v-html的\n并换行</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#CSS选取第N个标签元素"><span class="nav-number">0.59.</span> <span class="nav-text">CSS选取第N个标签元素</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#移动端软键盘变搜索方式"><span class="nav-number">0.60.</span> <span class="nav-text">移动端软键盘变搜索方式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#CSS-实现-10-种现代布局"><span class="nav-number">0.61.</span> <span class="nav-text">CSS 实现 10 种现代布局</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#01-超级居中：place-items-center"><span class="nav-number">0.61.1.</span> <span class="nav-text">01. 超级居中：place-items: center</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#02-解构煎饼式布局：flex-lt-grow-gt-lt-shrink-gt-lt-baseWidth-gt"><span class="nav-number">0.61.2.</span> <span class="nav-text">02. 解构煎饼式布局：flex: &lt;grow&gt; &lt;shrink&gt; &lt;baseWidth&gt;</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#03-侧边栏布局：grid-template-columns-minmax-lt-min-gt-lt-max-gt-…"><span class="nav-number">0.61.3.</span> <span class="nav-text">03. 侧边栏布局：grid-template-columns: minmax(&lt;min&gt;, &lt;max&gt;) …)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#04-煎饼堆栈布局：grid-template-rows-auto-1fr-auto"><span class="nav-number">0.61.4.</span> <span class="nav-text">04. 煎饼堆栈布局：grid-template-rows: auto 1fr auto</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#05-经典圣杯布局：grid-template-auto-1fr-auto-auto-1fr-auto"><span class="nav-number">0.61.5.</span> <span class="nav-text">05. 经典圣杯布局：grid-template: auto 1fr auto &#x2F; auto 1fr auto</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#06-12-跨网格：grid-template-columns-repeat-12-1fr"><span class="nav-number">0.61.6.</span> <span class="nav-text">06. 12 跨网格：grid-template-columns: repeat(12, 1fr)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#07-RAM-Repeat-Auto-MinMax-grid-template-columns-auto-fit-minmax-lt-base-gt-1fr"><span class="nav-number">0.61.7.</span> <span class="nav-text">07. RAM (Repeat, Auto, MinMax): grid-template-columns(auto-fit, minmax(&lt;base&gt;, 1fr))</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#08-排列布局：justify-content-space-between"><span class="nav-number">0.61.8.</span> <span class="nav-text">08. 排列布局：justify-content: space-between</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#09-保持我的风格：clamp-lt-min-gt-lt-actual-gt-lt-max-gt"><span class="nav-number">0.61.9.</span> <span class="nav-text">09. 保持我的风格：clamp(&lt;min&gt;, &lt;actual&gt;, &lt;max&gt;)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#10-保持宽高比：aspect-ratio-lt-width-gt-lt-height-gt"><span class="nav-number">0.61.10.</span> <span class="nav-text">10.保持宽高比：aspect-ratio: &lt;width&gt; &#x2F; &lt;height&gt;</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#HTML"><span class="nav-number">1.</span> <span class="nav-text">HTML</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#浏览器打开图片链接为什么有时候是预览有时候是下载"><span class="nav-number">1.1.</span> <span class="nav-text">浏览器打开图片链接为什么有时候是预览有时候是下载</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#实际场景一"><span class="nav-number">1.1.1.</span> <span class="nav-text">实际场景一</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#实际场景二"><span class="nav-number">1.1.2.</span> <span class="nav-text">实际场景二</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#加载动态图片失败的处理方案"><span class="nav-number">1.2.</span> <span class="nav-text">加载动态图片失败的处理方案</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#加载动态图片的三种方法"><span class="nav-number">1.3.</span> <span class="nav-text">加载动态图片的三种方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#浏览器地址栏运行HTML代码"><span class="nav-number">1.4.</span> <span class="nav-text">浏览器地址栏运行HTML代码</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#浏览器秒变编辑器"><span class="nav-number">1.5.</span> <span class="nav-text">浏览器秒变编辑器</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#在控制台执行以下代码，将整个页面变得可以编辑。"><span class="nav-number">1.6.</span> <span class="nav-text">在控制台执行以下代码，将整个页面变得可以编辑。</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#insertAdjacentText方法与-insertAdjacentHTML"><span class="nav-number">1.7.</span> <span class="nav-text">insertAdjacentText方法与 insertAdjacentHTML</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#watch"><span class="nav-number">2.</span> <span class="nav-text">watch</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#echarts数据更新页面不更新"><span class="nav-number">2.1.</span> <span class="nav-text">echarts数据更新页面不更新</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#computed"><span class="nav-number">3.</span> <span class="nav-text">computed</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#使用computed的场景一-绑定值"><span class="nav-number">3.1.</span> <span class="nav-text">使用computed的场景一:绑定值</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#使用computed的场景一-绑定函数"><span class="nav-number">3.2.</span> <span class="nav-text">使用computed的场景一:绑定函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#在computed的第一个参数上解构this上的对象"><span class="nav-number">3.3.</span> <span class="nav-text">在computed的第一个参数上解构this上的对象</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Promise-C-依赖-B-的结果，D-依赖-ABC-的结果，最终输出-D-的结果"><span class="nav-number">4.</span> <span class="nav-text">Promise(C 依赖 B 的结果，D 依赖 ABC 的结果，最终输出 D 的结果)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Axios"><span class="nav-number">5.</span> <span class="nav-text">Axios</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#登录失效401后阻止其他请求"><span class="nav-number">5.1.</span> <span class="nav-text">登录失效401后阻止其他请求</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Form-Data-和-Request-Payload-区别"><span class="nav-number">5.2.</span> <span class="nav-text">Form Data 和 Request Payload 区别</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#实现请求重试的两种方式"><span class="nav-number">5.3.</span> <span class="nav-text">实现请求重试的两种方式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#结合axiso，elementUI全局loading（部分接口不请求配置）"><span class="nav-number">5.4.</span> <span class="nav-text">结合axiso，elementUI全局loading（部分接口不请求配置）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#后端要求只传数组，不需要参数名？"><span class="nav-number">5.5.</span> <span class="nav-text">后端要求只传数组，不需要参数名？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#get接口如何接受数组型参数"><span class="nav-number">5.6.</span> <span class="nav-text">get接口如何接受数组型参数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#增加token和默认参数"><span class="nav-number">5.7.</span> <span class="nav-text">增加token和默认参数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#给单个接口添加timeout"><span class="nav-number">5.8.</span> <span class="nav-text">给单个接口添加timeout</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#检查文件的格式"><span class="nav-number">5.9.</span> <span class="nav-text">检查文件的格式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#大文件分片上传"><span class="nav-number">5.10.</span> <span class="nav-text">大文件分片上传</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#统一设置请求头和单独设置请求头（content-type）"><span class="nav-number">5.11.</span> <span class="nav-text">统一设置请求头和单独设置请求头（content-type）</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#fetch-js的使用简述"><span class="nav-number">6.</span> <span class="nav-text">fetch.js的使用简述</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#两个参数"><span class="nav-number">6.1.</span> <span class="nav-text">两个参数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#参数说明"><span class="nav-number">6.2.</span> <span class="nav-text">参数说明</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Moment的常见用法"><span class="nav-number">7.</span> <span class="nav-text">Moment的常见用法</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#获取当前周的时间-周一的此刻到周天的此刻"><span class="nav-number">7.1.</span> <span class="nav-text">获取当前周的时间&#x2F;周一的此刻到周天的此刻</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#获取月-年的时间-当月一号的此刻到月末的此刻-当年1-1的此刻到当年末的12-31的此刻"><span class="nav-number">7.2.</span> <span class="nav-text">获取月&#x2F;年的时间&#x2F;当月一号的此刻到月末的此刻&#x2F;当年1.1的此刻到当年末的12.31的此刻</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#设置elementUI的Message的全局默认属性"><span class="nav-number">8.</span> <span class="nav-text">设置elementUI的Message的全局默认属性</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#全局filters"><span class="nav-number">9.</span> <span class="nav-text">全局filters</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#使用特殊字体（digital等）"><span class="nav-number">10.</span> <span class="nav-text">使用特殊字体（digital等）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#sass安装失败或报no-such-file-or-directoryXXXnode-sass-vendor"><span class="nav-number">11.</span> <span class="nav-text">sass安装失败或报no such file or directoryXXXnode-sass\vendor</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#随机获取布尔值（true-false"><span class="nav-number">12.</span> <span class="nav-text">随机获取布尔值（true&#x2F;false</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#判断给的日期是否为工作日"><span class="nav-number">13.</span> <span class="nav-text">判断给的日期是否为工作日</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#localstorage清除特定的一类"><span class="nav-number">14.</span> <span class="nav-text">localstorage清除特定的一类</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#locakstorage的过期时间和加密设置"><span class="nav-number">15.</span> <span class="nav-text">locakstorage的过期时间和加密设置</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#部署服务器后刷新404"><span class="nav-number">16.</span> <span class="nav-text">部署服务器后刷新404</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#为什么history模式下有问题"><span class="nav-number">16.1.</span> <span class="nav-text">为什么history模式下有问题</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#为什么hash模式下没有问题"><span class="nav-number">16.2.</span> <span class="nav-text">为什么hash模式下没有问题</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#解决方案"><span class="nav-number">16.3.</span> <span class="nav-text">解决方案</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#监听页面或者元素的滚动-控制元素的滚动（jquery）"><span class="nav-number">17.</span> <span class="nav-text">监听页面或者元素的滚动&#x2F;控制元素的滚动（jquery）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#上传图片-excel文件到接口"><span class="nav-number">18.</span> <span class="nav-text">上传图片&#x2F;excel文件到接口</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#preserveWhitespace-去除空格"><span class="nav-number">19.</span> <span class="nav-text">preserveWhitespace(去除空格)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#vue-add-element"><span class="nav-number">20.</span> <span class="nav-text">vue add element</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#img-加载失败"><span class="nav-number">21.</span> <span class="nav-text">img 加载失败</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#require-context"><span class="nav-number">22.</span> <span class="nav-text">require.context()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#在vue项目中监听键盘事件的方法"><span class="nav-number">23.</span> <span class="nav-text">在vue项目中监听键盘事件的方法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Vue——全局element-resize-detector监听DOM元素"><span class="nav-number">24.</span> <span class="nav-text">Vue——全局element-resize-detector监听DOM元素</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#使用插件vue-clipboard2复制内容至剪切板-两种使用方法"><span class="nav-number">25.</span> <span class="nav-text">使用插件vue-clipboard2复制内容至剪切板(两种使用方法)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#方式一"><span class="nav-number">25.1.</span> <span class="nav-text">方式一</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#方式二"><span class="nav-number">25.2.</span> <span class="nav-text">方式二</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#在vue中使用vue-qriously生成二维码"><span class="nav-number">26.</span> <span class="nav-text">在vue中使用vue-qriously生成二维码</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#创建一个简单的canvas并获取相应属性"><span class="nav-number">26.1.</span> <span class="nav-text">创建一个简单的canvas并获取相应属性</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#使用html2canvas截取图片"><span class="nav-number">27.</span> <span class="nav-text">使用html2canvas截取图片</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#在vue中使用SockJS实现webSocket通信"><span class="nav-number">28.</span> <span class="nav-text">在vue中使用SockJS实现webSocket通信</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1、简单介绍"><span class="nav-number">28.1.</span> <span class="nav-text">1、简单介绍</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2、前提"><span class="nav-number">28.2.</span> <span class="nav-text">2、前提</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3、代码"><span class="nav-number">28.3.</span> <span class="nav-text">3、代码</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#document文档加载过程分析"><span class="nav-number">29.</span> <span class="nav-text">document文档加载过程分析</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Object-defineProperty和Proxy"><span class="nav-number">30.</span> <span class="nav-text">Object.defineProperty和Proxy</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#vue滚动到顶部组件-（backtotop-按钮）"><span class="nav-number">31.</span> <span class="nav-text">vue滚动到顶部组件 （backtotop 按钮）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#vue使用js-export-excel导出excel表格-推荐"><span class="nav-number">32.</span> <span class="nav-text">vue使用js-export-excel导出excel表格(推荐)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Vue使用xlsx读取文件内容"><span class="nav-number">33.</span> <span class="nav-text">Vue使用xlsx读取文件内容</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#vue中使用file-saver和xlsx导出excel表格"><span class="nav-number">34.</span> <span class="nav-text">vue中使用file-saver和xlsx导出excel表格</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#vue调用pc端摄像头"><span class="nav-number">35.</span> <span class="nav-text">vue调用pc端摄像头</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#vue使用Blob的方式实现excel表格的下载-流文件下载"><span class="nav-number">36.</span> <span class="nav-text">vue使用Blob的方式实现excel表格的下载(流文件下载)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#文件后缀与Mime类型-对照表"><span class="nav-number">37.</span> <span class="nav-text">文件后缀与Mime类型*对照表</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#vue-echarts入门使用"><span class="nav-number">38.</span> <span class="nav-text">vue-echarts入门使用</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#vue使用虚拟滚动插件（vue-virtual-scroll-list）"><span class="nav-number">39.</span> <span class="nav-text">vue使用虚拟滚动插件（vue-virtual-scroll-list）</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#用法"><span class="nav-number">39.1.</span> <span class="nav-text">用法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#参数"><span class="nav-number">39.2.</span> <span class="nav-text">参数</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#vue使用鼠标中键，左键，右键事件"><span class="nav-number">40.</span> <span class="nav-text">vue使用鼠标中键，左键，右键事件</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#animate动画库的数字增长动画组件"><span class="nav-number">41.</span> <span class="nav-text">animate动画库的数字增长动画组件</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#vue使用刮刮乐组件"><span class="nav-number">42.</span> <span class="nav-text">vue使用刮刮乐组件</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#vue使用滑块验证组件"><span class="nav-number">43.</span> <span class="nav-text">vue使用滑块验证组件</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#vue使用Print-js-vue-print-nb打印"><span class="nav-number">44.</span> <span class="nav-text">vue使用Print.js&#x2F;vue-print-nb打印</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#直接在页面内获取数据打印，只对当前页面可见数据进行打印（vue-print-nb）"><span class="nav-number">44.1.</span> <span class="nav-text">直接在页面内获取数据打印，只对当前页面可见数据进行打印（vue-print-nb）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#方式一-1"><span class="nav-number">44.1.1.</span> <span class="nav-text">方式一</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#方式二（vue-print-nb-推荐）"><span class="nav-number">44.1.2.</span> <span class="nav-text">方式二（vue-print-nb 推荐）</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#将数据库内的全部数据以表格的形式进行打印，需要调用后台接口直接从数据库内进行数据的查找-printjs"><span class="nav-number">44.2.</span> <span class="nav-text">将数据库内的全部数据以表格的形式进行打印，需要调用后台接口直接从数据库内进行数据的查找(printjs)</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#vue下划线跟随的两种方式"><span class="nav-number">45.</span> <span class="nav-text">vue下划线跟随的两种方式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#纯css方式"><span class="nav-number">45.1.</span> <span class="nav-text">纯css方式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#js事件方式（高阶用法）"><span class="nav-number">45.2.</span> <span class="nav-text">js事件方式（高阶用法）</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#简单的拖拽实例"><span class="nav-number">46.</span> <span class="nav-text">简单的拖拽实例</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#手把手教你学会用vue实现元素拖拽移动-滚轮缩放功能"><span class="nav-number">47.</span> <span class="nav-text">手把手教你学会用vue实现元素拖拽移动+滚轮缩放功能</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#获取首页白屏时间-在head标签前添加如下代码"><span class="nav-number">48.</span> <span class="nav-text">获取首页白屏时间(在head标签前添加如下代码)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#xml转html"><span class="nav-number">49.</span> <span class="nav-text">xml转html</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#vue监听窗口变化并实现防抖"><span class="nav-number">50.</span> <span class="nav-text">vue监听窗口变化并实现防抖</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#vue项目中文切换的两种方式"><span class="nav-number">51.</span> <span class="nav-text">vue项目中文切换的两种方式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#方式一-静态转换"><span class="nav-number">51.1.</span> <span class="nav-text">方式一   静态转换</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#方式二动态转换"><span class="nav-number">51.2.</span> <span class="nav-text">方式二动态转换</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#有趣的漫画编程公众号链接合集"><span class="nav-number">52.</span> <span class="nav-text">有趣的漫画编程公众号链接合集</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#使用pastebin保留代码格式"><span class="nav-number">53.</span> <span class="nav-text">使用pastebin保留代码格式</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#对BFC的理解"><span class="nav-number">54.</span> <span class="nav-text">对BFC的理解</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Node-js-三大基础模块常用-API"><span class="nav-number">55.</span> <span class="nav-text">Node.js 三大基础模块常用 API</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#手把手教你写一个Vue组件发布到npm且可外链引入使用"><span class="nav-number">56.</span> <span class="nav-text">手把手教你写一个Vue组件发布到npm且可外链引入使用</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#表格的最小宽度，超过最小宽度自适应"><span class="nav-number">57.</span> <span class="nav-text">表格的最小宽度，超过最小宽度自适应</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#AntDesignVue-table列最小宽度"><span class="nav-number">57.1.</span> <span class="nav-text">AntDesignVue table列最小宽度</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#el-table"><span class="nav-number">57.2.</span> <span class="nav-text">el-table</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#react取消监听scroll事件"><span class="nav-number">58.</span> <span class="nav-text">react取消监听scroll事件</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#vue主题换肤的三种方式"><span class="nav-number">59.</span> <span class="nav-text">vue主题换肤的三种方式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-localstorage方式"><span class="nav-number">59.1.</span> <span class="nav-text">1.localstorage方式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-scss变量方式"><span class="nav-number">59.2.</span> <span class="nav-text">2.scss变量方式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-vuex方式（刷新会丢失，不建议）"><span class="nav-number">59.3.</span> <span class="nav-text">3.vuex方式（刷新会丢失，不建议）</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#vue前端工程化-面试必须背熟"><span class="nav-number">60.</span> <span class="nav-text">vue前端工程化(面试必须背熟)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#vue前端工程化vscode插件"><span class="nav-number">61.</span> <span class="nav-text">vue前端工程化vscode插件</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#pdf的下载和预览"><span class="nav-number">62.</span> <span class="nav-text">pdf的下载和预览</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#10个有用的自定义钩子vue-js"><span class="nav-number">63.</span> <span class="nav-text">10个有用的自定义钩子vue.js</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#useWindowResize、useStorage、useNetworkStatus、useCopyToClipboard、useTheme、usePageVisibility、useViewport、useOnClickOutside、useScrollToBottom、useTimer、"><span class="nav-number">63.1.</span> <span class="nav-text">useWindowResize、useStorage、useNetworkStatus、useCopyToClipboard、useTheme、usePageVisibility、useViewport、useOnClickOutside、useScrollToBottom、useTimer、</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#8个非常实用的Vue自定义指令"><span class="nav-number">64.</span> <span class="nav-text">8个非常实用的Vue自定义指令</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#v-copy、v-longpress、v-debounce、v-emoji、v-LazyLoad、v-permission、v-waterMarker、v-draggable"><span class="nav-number">64.1.</span> <span class="nav-text">v-copy、v-longpress、v-debounce、v-emoji、v-LazyLoad、v-permission、v-waterMarker、v-draggable</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#箭头函数与普通函数的区别"><span class="nav-number">65.</span> <span class="nav-text">箭头函数与普通函数的区别</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#前端体系图"><span class="nav-number">66.</span> <span class="nav-text">前端体系图</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#表单提交的更优方式"><span class="nav-number">67.</span> <span class="nav-text">表单提交的更优方式</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#文字展开收起"><span class="nav-number">68.</span> <span class="nav-text">文字展开收起</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#搞懂js的执行顺序"><span class="nav-number">69.</span> <span class="nav-text">搞懂js的执行顺序</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#关于api统一管理那点事"><span class="nav-number">70.</span> <span class="nav-text">关于api统一管理那点事</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#将彩色图片转成黑白——纯前端实现"><span class="nav-number">71.</span> <span class="nav-text">将彩色图片转成黑白——纯前端实现</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#es6场景应用"><span class="nav-number">72.</span> <span class="nav-text">es6场景应用</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#聊聊样式穿透-v-deep-vue-中的-scoped"><span class="nav-number">73.</span> <span class="nav-text">聊聊样式穿透 (::v-deep) vue 中的 scoped</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#js中的五种循环-for-forin-forof-foreach-map"><span class="nav-number">74.</span> <span class="nav-text">js中的五种循环(for forin forof foreach map)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#根据图片选择背景色"><span class="nav-number">75.</span> <span class="nav-text">根据图片选择背景色</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#前端颜色选取器"><span class="nav-number">76.</span> <span class="nav-text">前端颜色选取器</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Vue中解决跨域问题"><span class="nav-number">77.</span> <span class="nav-text">Vue中解决跨域问题</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#一、跨域固定报错格式"><span class="nav-number"></span> <span class="nav-text">一、跨域固定报错格式</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#二、为什么会报跨域？"><span class="nav-number"></span> <span class="nav-text">二、为什么会报跨域？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#三、如何解决跨域？"><span class="nav-number"></span> <span class="nav-text">三、如何解决跨域？</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-第一种-CORS-【后端】"><span class="nav-number">0.0.1.</span> <span class="nav-text">1.第一种:CORS  【后端】</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-第二种-JSONP-【前端-后端】"><span class="nav-number">0.0.2.</span> <span class="nav-text">2.第二种:JSONP   【前端+后端】</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-第三种-Nginx-【后端-gt-反向代理】"><span class="nav-number">0.0.3.</span> <span class="nav-text">3.第三种:Nginx  【后端&#x3D;&gt;反向代理】</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-第四种-Proxy-【前端解决：只适用于本地开发环境，上线了解决不了，直接把dist放在后端服务器中】"><span class="nav-number">0.0.4.</span> <span class="nav-text">4.第四种:Proxy 【前端解决：只适用于本地开发环境，上线了解决不了，直接把dist放在后端服务器中】</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#blob视频地址如何下载"><span class="nav-number">1.</span> <span class="nav-text">blob视频地址如何下载</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#vue-开发中常用-vue-cli-配置"><span class="nav-number">2.</span> <span class="nav-text">vue 开发中常用 vue-cli 配置</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#减少首屏加载时间"><span class="nav-number">3.</span> <span class="nav-text">减少首屏加载时间</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#vs-code中local-history和git-history"><span class="nav-number">4.</span> <span class="nav-text">vs code中local history和git history</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#vue项目全局点击事件防抖"><span class="nav-number">5.</span> <span class="nav-text">vue项目全局点击事件防抖</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#vue配置baseurl的三种方式"><span class="nav-number">6.</span> <span class="nav-text">vue配置baseurl的三种方式</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#vue统一配置timeout和单独配置"><span class="nav-number">7.</span> <span class="nav-text">vue统一配置timeout和单独配置</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#vue-axios-和react-fetch-将后端文件流转化为excel的方法"><span class="nav-number">8.</span> <span class="nav-text">vue(axios)和react(fetch)将后端文件流转化为excel的方法</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#vue-axios"><span class="nav-number">8.1.</span> <span class="nav-text">vue(axios)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#react-fetch"><span class="nav-number">8.2.</span> <span class="nav-text">react(fetch)</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#antd-的table空白列的处理方案"><span class="nav-number">9.</span> <span class="nav-text">antd 的table空白列的处理方案</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#vue中dev和build命令使用不同的环境变量"><span class="nav-number">10.</span> <span class="nav-text">vue中dev和build命令使用不同的环境变量</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#vue异步加载的那点事"><span class="nav-number">11.</span> <span class="nav-text">vue异步加载的那点事</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#路由的异步加载"><span class="nav-number">11.1.</span> <span class="nav-text">路由的异步加载</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#图片懒加载"><span class="nav-number">11.2.</span> <span class="nav-text">图片懒加载</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#vue页面不更新的八种原因及解决方案"><span class="nav-number">12.</span> <span class="nav-text">vue页面不更新的八种原因及解决方案</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1、Vue-无法检测实例被创建时不存在于-data-中的-属性"><span class="nav-number">12.1.</span> <span class="nav-text">1、Vue 无法检测实例被创建时不存在于 data 中的 属性</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2、-Vue-无法检测‘对象属性’的添加或移除"><span class="nav-number">12.2.</span> <span class="nav-text">2、 Vue 无法检测‘对象属性’的添加或移除</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3、Vue-不能检测利用数组索引直接修改一个数组项"><span class="nav-number">12.3.</span> <span class="nav-text">3、Vue 不能检测利用数组索引直接修改一个数组项</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4、Vue-不能监测直接修改数组长度的变化"><span class="nav-number">12.4.</span> <span class="nav-text">4、Vue 不能监测直接修改数组长度的变化</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5、在异步更新执行之前操作-DOM-数据不会变化"><span class="nav-number">12.5.</span> <span class="nav-text">5、在异步更新执行之前操作 DOM 数据不会变化</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6、循环嵌套层级太深，视图不更新？"><span class="nav-number">12.6.</span> <span class="nav-text">6、循环嵌套层级太深，视图不更新？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7、路由参数变化时，页面不更新（数据不更新）"><span class="nav-number">12.7.</span> <span class="nav-text">7、路由参数变化时，页面不更新（数据不更新）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8、使用keep-alive之后数据无法实时更新问题"><span class="nav-number">12.8.</span> <span class="nav-text">8、使用keep-alive之后数据无法实时更新问题</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#前端不走vue-config-js中的proxy，使用nginx代理"><span class="nav-number">13.</span> <span class="nav-text">前端不走vue.config.js中的proxy，使用nginx代理</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#下载nginx"><span class="nav-number">13.1.</span> <span class="nav-text">下载nginx</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#打开根目录下的-conf-nginx-conf"><span class="nav-number">13.2.</span> <span class="nav-text">打开根目录下的\conf\nginx.conf</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#找到upstream-wwyt，增加server-172-16-10-120-8089-（前面的-相当于注释）"><span class="nav-number">13.3.</span> <span class="nav-text">找到upstream wwyt，增加server 172.16.10.120:8089;（前面的#相当于注释）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#双击-exe文件，运行nginx"><span class="nav-number">13.4.</span> <span class="nav-text">双击.exe文件，运行nginx</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#运行本地项目后，浏览器直接访问127-0-0-1"><span class="nav-number">13.5.</span> <span class="nav-text">运行本地项目后，浏览器直接访问127.0.0.1</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Vue引入sass并配置全局变量的方法"><span class="nav-number">14.</span> <span class="nav-text">Vue引入sass并配置全局变量的方法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#vue键盘事件"><span class="nav-number">15.</span> <span class="nav-text">vue键盘事件</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Dali</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Gemini</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  
  

  

  

  

</body>
</html>
