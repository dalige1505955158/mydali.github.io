<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Androidchromeè¿œç¨‹è°ƒè¯•</title>
    <url>/2020/09/04/Androidchrome%E8%BF%9C%E7%A8%8B%E8%B0%83%E8%AF%95/</url>
    <content><![CDATA[<p><strong>ä¸€ï¼šèƒŒæ™¯</strong><br>é€šå¸¸æƒ…å†µæˆ‘ä»¬è°ƒè¯•ç§»åŠ¨ç«¯é¡µé¢æœ€å¸¸ç”¨çš„æ–¹æ³•å°±æ˜¯ï¼šåˆ‡æ¢pcç«¯æµè§ˆå™¨çš„userAgentæ¥æ¨¡æ‹Ÿæ‰‹æœºæˆ–å…¶ä»–ç§»åŠ¨è®¾å¤‡è°ƒè¯•é¡µé¢ ç„¶åç”¨æ‰‹æœºæ‰“å¼€è¦è°ƒè¯•çš„é¡µé¢ åˆ·æ–°é¡µé¢æŸ¥çœ‹è°ƒè¯•ç»“æœ</p>
<p>ä½†æ˜¯è¿™å°±å­˜åœ¨ä¸¤ä¸ªé—®é¢˜ åœ¨pcæµè§ˆå™¨æ¨¡æ‹Ÿæ‰‹æœºå¯èƒ½é€ æˆè°ƒè¯•ä¸å‡† ç”¨æ‰‹æœºç›´æ¥è°ƒè¯• åˆå¤šä¸€æ­¥åˆ·æ–° é‚£æ€ä¹ˆèƒ½è¾¾åˆ°åœ¨pcç«¯ä¿®æ”¹ä»£ç  åœ¨æ‰‹æœºä¸Šç›´æ¥çœ‹åˆ°ä¿®æ”¹ç»“æœè¿™æ ·çš„æ‰€è§å³æ‰€å¾—çš„æ•ˆæœå‘¢ chromeåšåˆ°äº†</p>
<a id="more"></a>

<p><strong>äºŒ.åŠŸèƒ½</strong></p>
<p>æˆ‘ä»¬å…ˆçœ‹ä¸‹æœ€ç»ˆæƒ³è¦è¾¾åˆ°çš„æ•ˆæœ</p>
<p><img src="https://images0.cnblogs.com/blog/494920/201411/130923544443367.jpg" alt="img"></p>
<p>ä¸Šå›¾çš„å·¦è¾¹æ˜¯pcç«¯çš„chromeæµè§ˆå™¨ï¼Œå³è¾¹æ˜¯æ‰‹æœºä¸Šçš„chrome ç„¶åå¯ä»¥çœ‹åˆ°å½“é¼ æ ‡ç§»åŠ¨åˆ°æŸä¸ªdivä¸Šæ—¶ æ‰‹æœºä¸Šçš„è¿™ä¸ªåŒºåŸŸé«˜äº®æ˜¾ç¤º è·Ÿpcä¸Šè°ƒè¯•æŸæ®µä»£ç æ•ˆæœä¸€æ · ä½ å¯ä»¥ä¿®æ”¹ä»£ç  å¹¶ç›´æ¥åœ¨æ‰‹æœºä¸Šåé¦ˆä¿®æ”¹ç»“æœ</p>
<p><strong>ä¸‰ï¼Œå‡†å¤‡</strong></p>
<p>ä¸ºäº†å®Œæˆè¿™ä¸€äº®éªšçš„ç§»åŠ¨è°ƒè¯•åŠŸèƒ½æˆ‘ä»¬éœ€è¦ä»¥ä¸‹å‡†å¤‡å·¥ä½œ</p>
<p>1.pcç«¯å®‰è£…æœ€æ–°çš„chrome<br>2.æ‰‹æœºç«¯å®‰è£…æœ€æ–°çš„chrome (Androidæœº)<br>3.USBè¿æ¥çº¿</p>
<p>ï¼ˆæ„Ÿè§‰æ˜¯ä¸æ˜¯too simpleï¼‰</p>
<p>Tip:ä¹‹å‰çš„çš„chromeå¦‚æœè¦å®ç°è¿™ç§è°ƒè¯•éœ€è¦å®‰è£…ä¸€ä¸ª<a href="https://chrome.google.com/webstore/detail/adb/dpngiggdglpdnjdoaefidgiigpemgage/related" target="_blank" rel="noopener">ADBæ’ä»¶</a>ï¼ˆéœ€è¦FQï¼‰ ä½†æ˜¯æœ€æ–°çš„chromeå·²ç»ç›´æ¥æ”¯æŒå¯¹Androidçš„è¯†åˆ« æ‰€ä»¥ä¹Ÿä¸ç”¨å†åœ¨chromeä¸Šå®‰è£…ADBæ’ä»¶äº† ä½†éœ€è¦ä¸‹è½½æœ€æ–°çš„chrome</p>
<p><strong>å››ï¼šæ­¥éª¤</strong><br>ä¸‹æ¥æˆ‘ä»¬é€æ­¥å®Œæˆ<br>1.å‡è®¾ä½ å·²ç»åœ¨ç”µè„‘ä¸Šä¸‹è½½äº†æœ€æ–°çš„chrome ä¹Ÿåœ¨æ‰‹æœºä¸Šä¸‹è½½äº†æœ€æ–°çš„chrome</p>
<p>2.USBè®¾ç½® åœ¨ä½ çš„æ‰‹æœºé‡Œæ‰“å¼€â€è®¾ç½®â€-&gt;â€å¼€å‘äººå‘˜å·¥å…·â€-&gt;â€USBè°ƒè¯•â€ æ‰“å¼€USBè°ƒè¯•ã€‚ å› ä¸ºAndroidæ‰‹æœºå‹å·ä¼—å¤š å¾ˆå¤šäººæ‰¾ä¸åˆ°â€USBè°ƒè¯•è¿™ä¸ªé€‰é¡¹åœ¨å“ªâ€ è€Œä¸”å¤§å¤šæ•°æ‰‹æœºâ€å¼€å‘è€…é€‰é¡¹â€é»˜è®¤æ˜¯å½±è—çš„ï¼Œä½ éœ€è¦çœ‹ä¸‹è‡ªå·±çš„æ‰‹æœºè¯´æ˜ç„¶åå°†æ‰‹æœºè°ƒåˆ°â€å¼€å‘è€…æ¨¡å¼â€ å°±å¯ä»¥æ‰¾åˆ° â€œUSBè°ƒè¯•äº†â€ </p>
<p><img src="https://img-blog.csdnimg.cn/2019052811513234.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0ppb2hvX2NoZW4=,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<p>3.å‡è®¾ä½ å·²ç»å°†æ‰‹æœºè®¾ç½®ä¸ºâ€USBè°ƒè¯•â€æ‰“å¼€çš„çŠ¶æ€ å°†æ‰‹æœºè¿æ¥åˆ°ç”µè„‘ æ‰‹æœºä¼šå¼¹å‡ºæ˜¯å¦é“¾æ¥ ç‚¹å‡»ç¡®å®š</p>
<p>4.æ‰“å¼€ç”µè„‘çš„chrome åœ¨åœ°å€æ è¾“å…¥ chrome://inspect é€‰ä¸­ Discover USB devices å¯ä»¥æ£€æµ‹åˆ°ä½ çš„è®¾å¤‡ å¯ä»¥çœ‹åˆ°ç›‘æµ‹åˆ°æˆ‘çš„è®¾å¤‡æ˜¯M351 é­…æ—X3 </p>
<p><img src="https://images0.cnblogs.com/blog/494920/201411/130927258353280.png" alt="img"></p>
<p>5.æ‰“å¼€æ‰‹æœºä¸Šçš„chrome</p>
<p><img src="https://images0.cnblogs.com/blog/494920/201411/130927507564327.png" alt="img"></p>
<p>ä¸Šå›¾å¯ä»¥çœ‹åˆ°æ‰‹æœºä¸Šchromeæ‰“å¼€çš„é¡µé¢ æ­¤æ—¶æˆ‘æ‰‹æœºä¸Šçš„chromeæ²¡æ‰“å¼€ä»»ä½•ç½‘é¡µ å†å²è®°å½•ä¹Ÿä¹ˆæœ‰ å¦‚æœæˆ‘ä»¬åœ¨æ‰‹æœº chromeæµè§ˆå™¨è¾“å…¥<a href="http://www.cnblogs.com" target="_blank" rel="noopener">www.cnblogs.com</a> å¯ä»¥çœ‹åˆ°ä¸‹å›¾ ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ inspecté‡Œchromeåé¢é‚£ä¸ªè¾“å…¥æ¡†ç›´æ¥æ‰“å¼€æŸä¸ªé“¾æ¥</p>
<p><img src="https://images0.cnblogs.com/blog/494920/201411/130928474446813.jpg" alt="img"></p>
<p>6.ç‚¹å‡»inspect å¦‚ä¸‹å›¾ å°±çœ‹åˆ°äº†æ–‡ç« å¼€å§‹ä¸€æ ·çš„æ•ˆæœ æ­¤æ—¶å°±æ˜¯å¯ä»¥å®¡æŸ¥æ‰‹æœºé¡µé¢ä¸Šçš„å…ƒç´ äº†</p>
<p><img src="https://images0.cnblogs.com/blog/494920/201411/130929083038684.jpg" alt="img"></p>
<p>7.å¯ä»¥ç‚¹å‡»å¼¹å‡ºçš„å®¡æŸ¥å…ƒç´ æ¡†å³ä¸Šè§’çš„æ–¹å½¢å°å›¾æ ‡åˆ‡æ¢åˆ°è§†å›¾æ¨¡å¼ è¿™æ—¶ä¼šæŠŠä½ æ‰‹æœºæ‰“å¼€çš„é¡µé¢æ‹‰åˆ°pcä¸Šæ˜¾ç¤º<br><img src="https://images0.cnblogs.com/blog/494920/201411/130929414447110.png" alt="img"></p>
<p><strong>äº”ï¼šæ€»ç»“</strong></p>
<p>åŸºæœ¬ä¸Šå·²ç»æ„‰å¿«çš„å®Œæˆäº† æ€»ç»“ä¸‹æ•´ä¸ªæµç¨‹ ï¼špcç«¯å’ŒAndroidæ‰‹æœºç«¯éƒ½ä¸‹è½½æœ€æ–°çš„chrome ï¼Œåœ¨æ‰‹æœºè®¾ç½®é‡Œå°†â€USBè°ƒè¯•â€æ‰“å¼€ é“¾æ¥åˆ°ç”µè„‘ æ‰“å¼€ç”µè„‘chrome è¾“å…¥chrome://inspect æ‰“å¼€æ‰‹æœºchromeè¾“å…¥ä½ æƒ³è°ƒè¯•çš„é¡µé¢ ç‚¹å‡»inspect å¼€å§‹è°ƒè¯• ,æ•´ä¸ªè°ƒè¯•çš„è¿‡ç¨‹éƒ½æ˜¯è¦FQçš„å“¦ ã€‚</p>
<p>PS:å¦‚æœinspectå‡ºç©ºç™½çª—å£ï¼Œæœ‰å¯èƒ½æ˜¯é•¿åŸé˜²ç«åŸçš„åŸå› ï¼Œè¯•ä¸‹ç”¨VPN</p>
<p><img src="https://images0.cnblogs.com/blog/692371/201411/131813137254471.jpg" alt="img"></p>
<p>è½¬è½½äºï¼š<a href="https://www.cnblogs.com/alantao/p/5220392.html" target="_blank" rel="noopener">https://www.cnblogs.com/alantao/p/5220392.html</a></p>
]]></content>
      <categories>
        <category>è°ƒè¯•</category>
      </categories>
      <tags>
        <tag>chrome</tag>
        <tag>android</tag>
      </tags>
  </entry>
  <entry>
    <title>34æ¡æˆ‘èƒ½å‘Šè¯‰ä½ çš„Vueä¹‹å®æ“ç¯‡</title>
    <url>/2021/01/21/34%E6%9D%A1%E6%88%91%E8%83%BD%E5%91%8A%E8%AF%89%E4%BD%A0%E7%9A%84Vue%E4%B9%8B%E5%AE%9E%E6%93%8D%E7%AF%87/</url>
    <content><![CDATA[<p>å‚è€ƒé“¾æ¥ <a href="https://mp.weixin.qq.com/s/MchD5YiXvuIjhvkj86hTlg" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/MchD5YiXvuIjhvkj86hTlg</a></p>
<h2 id="ç»„ä»¶é€šä¿¡æ–¹å¼"><a href="#ç»„ä»¶é€šä¿¡æ–¹å¼" class="headerlink" title="ç»„ä»¶é€šä¿¡æ–¹å¼"></a>ç»„ä»¶é€šä¿¡æ–¹å¼</h2><h3 id="props-on-emit"><a href="#props-on-emit" class="headerlink" title="props/@on+$emit"></a>props/@on+$emit</h3><p>é€šè¿‡ <code>props</code> å¯ä»¥æŠŠçˆ¶ç»„ä»¶çš„æ¶ˆæ¯ä¼ é€’ç»™å­ç»„ä»¶ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; parent.vue    </span><br><span class="line">&lt;child :title&#x3D;&quot;title&quot;&gt;&lt;&#x2F;child&gt;</span><br><span class="line">&#x2F;&#x2F; child.vue</span><br><span class="line">props: &#123;</span><br><span class="line">    title: &#123;</span><br><span class="line">        type: String,</span><br><span class="line">        default: &#39;&#39;,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è€Œé€šè¿‡ <code>@on+$emit</code> ç»„åˆå¯ä»¥å®ç°å­ç»„ä»¶ç»™çˆ¶ç»„ä»¶ä¼ é€’ä¿¡æ¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; parent.vue</span><br><span class="line">&lt;child @changeTitle&#x3D;&quot;changeTitle&quot;&gt;&lt;&#x2F;child&gt;</span><br><span class="line">&#x2F;&#x2F; child.vue</span><br><span class="line">this.$emit(&#39;changeTitle&#39;, &#39;bubuzou.com&#39;)</span><br></pre></td></tr></table></figure>

<a id="more"></a>

<h3 id="attrså’Œlisteners"><a href="#attrså’Œlisteners" class="headerlink" title="attrså’Œlisteners"></a>attrså’Œlisteners</h3><p><code>Vue_2.4</code> ä¸­æ–°å¢çš„ <code>$attrs/$listeners</code> å¯ä»¥è¿›è¡Œè·¨çº§çš„ç»„ä»¶é€šä¿¡ã€‚<code>$attrs</code> åŒ…å«äº†çˆ¶çº§ä½œç”¨åŸŸä¸­ä¸ä½œä¸º <code>prop</code> çš„å±æ€§ç»‘å®šï¼ˆ<code>class</code> å’Œ <code>style</code> é™¤å¤–ï¼‰ï¼Œå¥½åƒå¬èµ·æ¥æœ‰äº›ä¸å¥½ç†è§£ï¼Ÿæ²¡äº‹ï¼Œçœ‹ä¸‹ä»£ç å°±çŸ¥é“æ˜¯ä»€ä¹ˆæ„æ€äº†ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; çˆ¶ç»„ä»¶ index.vue</span><br><span class="line">&lt;list class&#x3D;&quot;list-box&quot; title&#x3D;&quot;æ ‡é¢˜&quot; desc&#x3D;&quot;æè¿°&quot; :list&#x3D;&quot;list&quot;&gt;&lt;&#x2F;list&gt;</span><br><span class="line">&#x2F;&#x2F; å­ç»„ä»¶ list.vue</span><br><span class="line">props: &#123;</span><br><span class="line">    list: [],</span><br><span class="line">&#125;,</span><br><span class="line">mounted() &#123;</span><br><span class="line">    console.log(this.$attrs)  &#x2F;&#x2F; &#123;title: &quot;æ ‡é¢˜&quot;, desc: &quot;æè¿°&quot;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨ä¸Šé¢çš„çˆ¶ç»„ä»¶ <code>index.vue</code> ä¸­æˆ‘ä»¬ç»™å­ç»„ä»¶ <code>list.vue</code> ä¼ é€’äº†4ä¸ªå‚æ•°ï¼Œä½†æ˜¯åœ¨å­ç»„ä»¶å†…éƒ¨ <code>props</code> é‡Œåªå®šä¹‰äº†ä¸€ä¸ª <code>list</code>ï¼Œé‚£ä¹ˆæ­¤æ—¶ <code>this.$attrs</code> çš„å€¼æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿé¦–å…ˆè¦å»é™¤ <code>props</code> ä¸­å·²ç»ç»‘å®šäº†çš„ï¼Œç„¶åå†å»é™¤ <code>class</code> å’Œ <code>style</code>ï¼Œæœ€åå‰©ä¸‹ <code>title</code> å’Œ <code>desc</code> ç»“æœå’Œæ‰“å°çš„æ˜¯ä¸€è‡´çš„ã€‚åŸºäºä¸Šé¢ä»£ç çš„åŸºç¡€ä¸Šï¼Œæˆ‘ä»¬åœ¨ç»™ å­ç»„ä»¶<code>list.vue</code> ä¸­åŠ ä¸€ä¸ªå­ç»„ä»¶ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; å­™å­ç»„ä»¶ detail.vue</span><br><span class="line">&lt;detail v-bind&#x3D;&quot;$attrs&quot;&gt;&lt;&#x2F;detial&gt;</span><br><span class="line">&#x2F;&#x2F; ä¸å®šä¹‰propsï¼Œç›´æ¥æ‰“å° $attrs</span><br><span class="line">mounted() &#123;</span><br><span class="line">    console.log(this.$attrs)  &#x2F;&#x2F; &#123;title: &quot;æ ‡é¢˜&quot;, desc: &quot;æè¿°&quot;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨å­ç»„ä»¶ä¸­æˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ª <code>v-bind=&quot;$attrs&quot;</code> å¯ä»¥æŠŠçˆ¶çº§ä¼ è¿‡æ¥çš„å‚æ•°ï¼Œå»é™¤ <code>props</code>ã€<code>class</code> å’Œ <code>style</code> ä¹‹åå‰©ä¸‹çš„ç»§ç»­å¾€ä¸‹çº§ä¼ é€’ï¼Œè¿™æ ·å°±å®ç°äº†è·¨çº§çš„ç»„ä»¶é€šä¿¡ã€‚</p>
<p><code>$attrs</code> æ˜¯å¯ä»¥è¿›è¡Œè·¨çº§çš„å‚æ•°ä¼ é€’ï¼Œå®ç°çˆ¶åˆ°å­çš„é€šä¿¡ï¼›åŒæ ·çš„ï¼Œé€šè¿‡ <code>$listeners</code> ç”¨ç±»ä¼¼çš„æ“ä½œæ–¹å¼å¯ä»¥è¿›è¡Œè·¨çº§çš„äº‹ä»¶ä¼ é€’ï¼Œå®ç°å­åˆ°çˆ¶çš„é€šä¿¡ã€‚<code>$listeners</code> åŒ…å«äº†çˆ¶ä½œç”¨åŸŸä¸­ä¸å« <code>.native</code> ä¿®é¥°çš„ <code>v-on</code> äº‹ä»¶ç›‘å¬å™¨ï¼Œé€šè¿‡ <code>v-on=&quot;$listeners&quot;</code> ä¼ é€’åˆ°å­ç»„ä»¶å†…éƒ¨ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;list @change&#x3D;&quot;change&quot; @update.native&#x3D;&quot;update&quot;&gt;&lt;&#x2F;list&gt;</span><br><span class="line">&#x2F;&#x2F; å­ç»„ä»¶ list.vue</span><br><span class="line">&lt;detail v-on&#x3D;&quot;$listeners&quot;&gt;&lt;&#x2F;detail&gt;</span><br><span class="line">&#x2F;&#x2F; å­™å­ç»„ä»¶ detail.vue</span><br><span class="line">mounted() &#123;</span><br><span class="line">    this.$listeners.change()</span><br><span class="line">    this.$listeners.update() &#x2F;&#x2F; TypeError: this.$listeners.update is not a function</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="provide-injectç»„åˆæ‹³"><a href="#provide-injectç»„åˆæ‹³" class="headerlink" title="provide/injectç»„åˆæ‹³"></a>provide/injectç»„åˆæ‹³</h3><p><code>provide/inject</code> ç»„åˆä»¥å…è®¸ä¸€ä¸ªç¥–å…ˆç»„ä»¶å‘å…¶æ‰€æœ‰å­å­™åä»£æ³¨å…¥ä¸€ä¸ªä¾èµ–ï¼Œå¯ä»¥æ³¨å…¥å±æ€§å’Œæ–¹æ³•ï¼Œä»è€Œå®ç°è·¨çº§çˆ¶å­ç»„ä»¶é€šä¿¡ã€‚åœ¨å¼€å‘é«˜é˜¶ç»„ä»¶å’Œç»„ä»¶åº“çš„æ—¶å€™å°¤å…¶å¥½ç”¨ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; çˆ¶ç»„ä»¶ index.vue</span><br><span class="line">data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">        title: &#39;bubuzou.com&#39;,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">provide() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">        detail: &#123;</span><br><span class="line">            title: this.title,</span><br><span class="line">            change: (val) &#x3D;&gt; &#123;</span><br><span class="line">                console.log( val )</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; å­™å­ç»„ä»¶ detail.vue</span><br><span class="line">inject: [&#39;detail&#39;],</span><br><span class="line">mounted() &#123;</span><br><span class="line">    console.log(this.detail.title)  &#x2F;&#x2F; bubuzou.com</span><br><span class="line">    this.detail.title &#x3D; &#39;hello world&#39;  &#x2F;&#x2F; è™½ç„¶å€¼è¢«æ”¹å˜äº†ï¼Œä½†æ˜¯çˆ¶ç»„ä»¶ä¸­ title å¹¶ä¸ä¼šé‡æ–°æ¸²æŸ“</span><br><span class="line">    this.detail.change(&#39;æ”¹å˜åçš„å€¼&#39;)  &#x2F;&#x2F; æ‰§è¡Œè¿™å¥åå°†æ‰“å°ï¼šæ”¹å˜åçš„å€¼ </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<blockquote>
<p><code>provide</code> å’Œ <code>inject</code> çš„ç»‘å®šå¯¹äºåŸå§‹ç±»å‹æ¥è¯´å¹¶ä¸æ˜¯å¯å“åº”çš„ã€‚è¿™æ˜¯åˆ»æ„ä¸ºä¹‹çš„ã€‚ç„¶è€Œï¼Œå¦‚æœä½ ä¼ å…¥äº†ä¸€ä¸ªå¯ç›‘å¬çš„å¯¹è±¡ï¼Œé‚£ä¹ˆå…¶å¯¹è±¡çš„ property è¿˜æ˜¯å¯å“åº”çš„ã€‚è¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆåœ¨å­™å­ç»„ä»¶ä¸­æ”¹å˜äº† <code>title</code>ï¼Œä½†æ˜¯çˆ¶ç»„ä»¶ä¸ä¼šé‡æ–°æ¸²æŸ“çš„åŸå› ã€‚</p>
</blockquote>
<h3 id="EventBus"><a href="#EventBus" class="headerlink" title="EventBus"></a>EventBus</h3><p>ä»¥ä¸Šä¸‰ç§æ–¹å¼éƒ½æ˜¯åªèƒ½ä»çˆ¶åˆ°å­æ–¹å‘æˆ–è€…å­åˆ°çˆ¶æ–¹å‘è¿›è¡Œç»„ä»¶çš„é€šä¿¡ï¼Œè€Œæˆ‘å°±æ¯”è¾ƒç‰›é€¼äº†ğŸ˜€ï¼Œæˆ‘è¿˜èƒ½è¿›è¡Œå…„å¼Ÿç»„ä»¶ä¹‹é—´çš„é€šä¿¡ï¼Œç”šè‡³ä»»æ„2ä¸ªç»„ä»¶é—´é€šä¿¡ã€‚åˆ©ç”¨ <code>Vue</code> å®ä¾‹å®ç°ä¸€ä¸ª <code>EventBus</code> è¿›è¡Œä¿¡æ¯çš„å‘å¸ƒå’Œè®¢é˜…ï¼Œå¯ä»¥å®ç°åœ¨ä»»æ„2ä¸ªç»„ä»¶ä¹‹é—´é€šä¿¡ã€‚æœ‰ä¸¤ç§å†™æ³•éƒ½å¯ä»¥åˆå§‹åŒ–ä¸€ä¸ª <code>eventBus</code> å¯¹è±¡ï¼š</p>
<ol>
<li><p>é€šè¿‡å¯¼å‡ºä¸€ä¸ª <code>Vue</code> å®ä¾‹ï¼Œç„¶åå†éœ€è¦çš„åœ°æ–¹å¼•å…¥ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; eventBus.js</span><br><span class="line">import Vue from &#39;vue&#39;</span><br><span class="line">export const EventBus &#x3D; new Vue()</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ <code>EventBus</code> è®¢é˜…å’Œå‘å¸ƒæ¶ˆæ¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import &#123;EventBus&#125; from &#39;..&#x2F;utils&#x2F;eventBus.js&#39;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; è®¢é˜…å¤„</span><br><span class="line">EventBus.$on(&#39;update&#39;, val &#x3D;&gt; &#123;&#125;)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; å‘å¸ƒå¤„</span><br><span class="line">EventBus.$emit(&#39;update&#39;, &#39;æ›´æ–°ä¿¡æ¯&#39;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>åœ¨ <code>main.js</code> ä¸­åˆå§‹åŒ–ä¸€ä¸ªå…¨å±€çš„äº‹ä»¶æ€»çº¿ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; main.js</span><br><span class="line">Vue.prototype.$eventBus &#x3D; new Vue()</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; éœ€è¦è®¢é˜…çš„åœ°æ–¹</span><br><span class="line">this.$eventBus.$on(&#39;update&#39;, val &#x3D;&gt; &#123;&#125;)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; éœ€è¦å‘å¸ƒä¿¡æ¯çš„åœ°æ–¹</span><br><span class="line">this.$eventBus.$emit(&#39;update&#39;, &#39;æ›´æ–°ä¿¡æ¯&#39;)</span><br></pre></td></tr></table></figure>

</li>
</ol>
<p>å¦‚æœæƒ³è¦ç§»é™¤äº‹ä»¶ç›‘å¬ï¼Œå¯ä»¥è¿™æ ·æ¥ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">this.$eventBus.$off(&#39;update&#39;, &#123;&#125;)</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä»‹ç»äº†ä¸¤ç§å†™æ³•ï¼Œæ¨èä½¿ç”¨ç¬¬äºŒç§å…¨å±€å®šä¹‰çš„æ–¹å¼ï¼Œå¯ä»¥é¿å…åœ¨å¤šå¤„å¯¼å…¥ <code>EventBus</code> å¯¹è±¡ã€‚è¿™ç§ç»„ä»¶é€šä¿¡æ–¹å¼åªè¦è®¢é˜…å’Œå‘å¸ƒçš„é¡ºåºå¾—å½“ï¼Œä¸”äº‹ä»¶åç§°ä¿æŒå”¯ä¸€æ€§ï¼Œç†è®ºä¸Šå¯ä»¥åœ¨ä»»ä½• 2 ä¸ªç»„ä»¶ä¹‹é—´è¿›è¡Œé€šä¿¡ï¼Œç›¸å½“çš„å¼ºå¤§ã€‚ä½†æ˜¯æ–¹æ³•è™½å¥½ï¼Œå¯ä¸è¦æ»¥ç”¨ï¼Œå»ºè®®åªç”¨äºç®€å•ã€å°‘é‡ä¸šåŠ¡çš„é¡¹ç›®ä¸­ï¼Œå¦‚æœåœ¨ä¸€ä¸ªå¤§å‹ç¹æ‚çš„é¡¹ç›®ä¸­æ— ä¼‘æ­¢çš„ä½¿ç”¨è¯¥æ–¹æ³•ï¼Œå°†ä¼šå¯¼è‡´é¡¹ç›®éš¾ä»¥ç»´æŠ¤ã€‚</p>
<h3 id="Vuexè¿›è¡Œå…¨å±€çš„æ•°æ®ç®¡ç†"><a href="#Vuexè¿›è¡Œå…¨å±€çš„æ•°æ®ç®¡ç†" class="headerlink" title="Vuexè¿›è¡Œå…¨å±€çš„æ•°æ®ç®¡ç†"></a>Vuexè¿›è¡Œå…¨å±€çš„æ•°æ®ç®¡ç†</h3><p><code>Vuex</code> æ˜¯ä¸€ä¸ªä¸“é—¨æœåŠ¡äº <code>Vue.js</code> åº”ç”¨çš„çŠ¶æ€ç®¡ç†å·¥å…·ã€‚é€‚ç”¨äºä¸­å¤§å‹åº”ç”¨ã€‚<code>Vuex</code> ä¸­æœ‰ä¸€äº›ä¸“æœ‰æ¦‚å¿µéœ€è¦å…ˆäº†è§£ä¸‹ï¼š</p>
<ul>
<li><code>State</code>ï¼šç”¨äºæ•°æ®çš„å­˜å‚¨ï¼Œæ˜¯ <code>store</code> ä¸­çš„å”¯ä¸€æ•°æ®æºï¼›</li>
<li><code>Getter</code>ï¼šç±»ä¼¼äºè®¡ç®—å±æ€§ï¼Œå°±æ˜¯å¯¹ <code>State</code> ä¸­çš„æ•°æ®è¿›è¡ŒäºŒæ¬¡çš„å¤„ç†ï¼Œæ¯”å¦‚ç­›é€‰å’Œå¯¹å¤šä¸ªæ•°æ®è¿›è¡Œæ±‚å€¼ç­‰ï¼›</li>
<li><code>Mutation</code>ï¼šç±»ä¼¼äº‹ä»¶ï¼Œæ˜¯æ”¹å˜ <code>Store</code> ä¸­æ•°æ®çš„å”¯ä¸€é€”å¾„ï¼Œåªèƒ½è¿›è¡ŒåŒæ­¥æ“ä½œï¼›</li>
<li><code>Action</code>ï¼šç±»ä¼¼ <code>Mutation</code>ï¼Œé€šè¿‡æäº¤ <code>Mutation</code> æ¥æ”¹å˜æ•°æ®ï¼Œè€Œä¸ç›´æ¥æ“ä½œ <code>State</code>ï¼Œå¯ä»¥è¿›è¡Œå¼‚æ­¥æ“ä½œï¼›</li>
<li><code>Module</code>ï¼šå½“ä¸šåŠ¡å¤æ‚çš„æ—¶å€™ï¼Œå¯ä»¥æŠŠ <code>store</code> åˆ†æˆå¤šä¸ªæ¨¡å—ï¼Œä¾¿äºç»´æŠ¤ï¼›</li>
</ul>
<p>å¯¹äºè¿™å‡ ä¸ªæ¦‚å¿µæœ‰å„ç§å¯¹åº”çš„ <code>map</code> è¾…åŠ©å‡½æ•°ç”¨æ¥ç®€åŒ–æ“ä½œï¼Œæ¯”å¦‚ <code>mapState</code>ï¼Œå¦‚ä¸‹ä¸‰ç§å†™æ³•å…¶å®æ˜¯ä¸€ä¸ªæ„æ€ï¼Œéƒ½æ˜¯ä¸ºäº†ä» <code>state</code> ä¸­è·å–æ•°æ®ï¼Œå¹¶ä¸”é€šè¿‡è®¡ç®—å±æ€§è¿”å›ç»™ç»„ä»¶ä½¿ç”¨ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">computed: &#123;</span><br><span class="line">    count() &#123;</span><br><span class="line">        return this.$store.state.count</span><br><span class="line">    &#125;,</span><br><span class="line">    ...mapState(&#123;</span><br><span class="line">        count: state &#x3D;&gt; state.count</span><br><span class="line">    &#125;),</span><br><span class="line">    ...mapState([&#39;count&#39;]),</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<p>åˆæ¯”å¦‚ <code>mapMutations</code>ï¼Œ ä»¥ä¸‹ä¸¤ç§å‡½æ•°çš„å®šä¹‰æ–¹å¼è¦å®ç°çš„åŠŸèƒ½æ˜¯ä¸€æ ·çš„ï¼Œéƒ½æ˜¯è¦æäº¤ä¸€ä¸ª <code>mutation</code> å»æ”¹å˜ <code>state</code> ä¸­çš„æ•°æ®ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">methods: &#123;</span><br><span class="line">    increment() &#123;</span><br><span class="line">        this.$store.commit(&#39;increment&#39;)</span><br><span class="line">    &#125;,</span><br><span class="line">    ...mapMutations([&#39;increment&#39;]),</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ¥ä¸‹æ¥å°±ç”¨ä¸€ä¸ªæç®€çš„ä¾‹å­æ¥å±•ç¤º <code>Vuex</code> ä¸­ä»»æ„2ä¸ªç»„ä»¶é—´çš„çŠ¶æ€ç®¡ç†ã€‚1ã€ æ–°å»º <code>store.js</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import Vue from &#39;vue&#39;</span><br><span class="line">import Vuex from &#39;vuex&#39;</span><br><span class="line">Vue.use(Vuex)</span><br><span class="line">    </span><br><span class="line">export default new Vuex.Store(&#123;</span><br><span class="line">    state: &#123;</span><br><span class="line">        count: 0,</span><br><span class="line">    &#125;,</span><br><span class="line">    mutations: &#123;</span><br><span class="line">        increment(state) &#123;</span><br><span class="line">            state.count++</span><br><span class="line">        &#125;,</span><br><span class="line">        decrement(state) &#123;</span><br><span class="line">            state.count--</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>2ã€ åˆ›å»ºä¸€ä¸ªå¸¦ <code>store</code> çš„ <code>Vue</code> å®ä¾‹</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import Vue from &#39;vue&#39;</span><br><span class="line">import App from &#39;.&#x2F;App.vue&#39;</span><br><span class="line">import router from &#39;.&#x2F;router&#39;</span><br><span class="line">import store from &#39;.&#x2F;utils&#x2F;store&#39;</span><br><span class="line">    </span><br><span class="line">new Vue(&#123;</span><br><span class="line">    router,</span><br><span class="line">    store,</span><br><span class="line">    render: h &#x3D;&gt; h(App)</span><br><span class="line">&#125;).$mount(&#39;#app&#39;)</span><br></pre></td></tr></table></figure>

<p>3ã€ ä»»æ„ç»„ä»¶ <code>A</code> å®ç°ç‚¹å‡»é€’å¢</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;p @click&#x3D;&quot;increment&quot;&gt;click to incrementï¼š&#123;&#123;count&#125;&#125;&lt;&#x2F;p&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123;mapState, mapMutations&#125; from &#39;vuex&#39;</span><br><span class="line">export default &#123;</span><br><span class="line">    computed: &#123;</span><br><span class="line">        ...mapState([&#39;count&#39;])</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">        ...mapMutations([&#39;increment&#39;])</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<p>4ã€ ä»»æ„ç»„ä»¶ <code>B</code> å®ç°ç‚¹å‡»é€’å‡</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;p @click&#x3D;&quot;decrement&quot;&gt;click to decrementï¼š&#123;&#123;count&#125;&#125;&lt;&#x2F;p&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123;mapState, mapMutations&#125; from &#39;vuex&#39;</span><br><span class="line">export default &#123;</span><br><span class="line">    computed: &#123;</span><br><span class="line">        ...mapState([&#39;count&#39;])</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">        ...mapMutations([&#39;decrement&#39;])</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<p>ä»¥ä¸Šåªæ˜¯ç”¨æœ€ç®€å•çš„ <code>vuex</code> é…ç½®å»å®ç°ç»„ä»¶é€šä¿¡ï¼Œå½“ç„¶çœŸå®é¡¹ç›®ä¸­çš„é…ç½®è‚¯å®šä¼šæ›´å¤æ‚ï¼Œæ¯”å¦‚éœ€è¦å¯¹ <code>State</code> æ•°æ®è¿›è¡ŒäºŒæ¬¡ç­›é€‰ä¼šç”¨åˆ° <code>Getter</code>ï¼Œç„¶åå¦‚æœéœ€è¦å¼‚æ­¥çš„æäº¤é‚£ä¹ˆéœ€è¦ä½¿ç”¨<code>Action</code>ï¼Œå†æ¯”å¦‚å¦‚æœæ¨¡å—å¾ˆå¤šï¼Œå¯ä»¥å°† <code>store</code> åˆ†æ¨¡å—è¿›è¡ŒçŠ¶æ€ç®¡ç†ã€‚å¯¹äº <code>Vuex</code> æ›´å¤šå¤æ‚çš„æ“ä½œè¿˜æ˜¯å»ºè®®å»çœ‹Vuex å®˜æ–¹æ–‡æ¡£ï¼Œç„¶åå¤šå†™ä¾‹å­ã€‚</p>
<h3 id="Vue-observableå®ç°mini-vuex"><a href="#Vue-observableå®ç°mini-vuex" class="headerlink" title="Vue.observableå®ç°mini vuex"></a>Vue.observableå®ç°mini vuex</h3><p>è¿™æ˜¯ä¸€ä¸ª <code>Vue2.6</code> ä¸­æ–°å¢çš„ <code>API</code>ï¼Œç”¨æ¥è®©ä¸€ä¸ªå¯¹è±¡å¯ä»¥å“åº”ã€‚æˆ‘ä»¬å¯ä»¥åˆ©ç”¨è¿™ä¸ªç‰¹ç‚¹æ¥å®ç°ä¸€ä¸ªå°å‹çš„çŠ¶æ€ç®¡ç†å™¨ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; store.js</span><br><span class="line">import Vue from &#39;vue&#39;</span><br><span class="line"> </span><br><span class="line">export const state &#x3D; Vue.observable(&#123;</span><br><span class="line">    count: 0,</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">export const mutations &#x3D; &#123;</span><br><span class="line">    increment() &#123;</span><br><span class="line">        state.count++</span><br><span class="line">    &#125;</span><br><span class="line">    decrement() &#123;</span><br><span class="line">        state.count--</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;&#x2F; parent.vue</span><br><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;p&gt; count &lt;&#x2F;p&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123; state &#125; from &#39;..&#x2F;store&#39;</span><br><span class="line">export default &#123;</span><br><span class="line">    computed: &#123;</span><br><span class="line">        count() &#123;</span><br><span class="line">            return state.count</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line">&#x2F;&#x2F; child.vue</span><br><span class="line">import  &#123; mutations &#125; from &#39;..&#x2F;store&#39;</span><br><span class="line">export default &#123;</span><br><span class="line">    methods: &#123;</span><br><span class="line">        handleClick() &#123;</span><br><span class="line">            mutations.increment()</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="refs-children-parent-root"><a href="#refs-children-parent-root" class="headerlink" title="refs/children/parent/root"></a>refs/children/parent/root</h3><p>é€šè¿‡ç»™å­ç»„ä»¶å®šä¹‰ <code>ref</code> å±æ€§å¯ä»¥ä½¿ç”¨ <code>$refs</code> æ¥ç›´æ¥æ“ä½œå­ç»„ä»¶çš„æ–¹æ³•å’Œå±æ€§ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;child ref&#x3D;&quot;list&quot;&gt;&lt;&#x2F;child&gt;</span><br></pre></td></tr></table></figure>

<p>æ¯”å¦‚å­ç»„ä»¶æœ‰ä¸€ä¸ª <code>getList</code> æ–¹æ³•ï¼Œå¯ä»¥é€šè¿‡å¦‚ä¸‹æ–¹å¼è¿›è¡Œè°ƒç”¨ï¼Œå®ç°çˆ¶åˆ°å­çš„é€šä¿¡ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">this.$refs.list.getList()</span><br></pre></td></tr></table></figure>

<p>é™¤äº† <code>$refs</code> å¤–ï¼Œå…¶ä»–3ä¸ªéƒ½æ˜¯è‡ª <code>Vue</code> å®ä¾‹åˆ›å»ºåå°±ä¼šè‡ªåŠ¨åŒ…å«çš„å±æ€§ï¼Œä½¿ç”¨å’Œä¸Šé¢çš„ç±»ä¼¼</p>
<h2 id="8ç±»å¯ä»¥æŒæ¡çš„ä¿®é¥°ç¬¦"><a href="#8ç±»å¯ä»¥æŒæ¡çš„ä¿®é¥°ç¬¦" class="headerlink" title="8ç±»å¯ä»¥æŒæ¡çš„ä¿®é¥°ç¬¦"></a>8ç±»å¯ä»¥æŒæ¡çš„ä¿®é¥°ç¬¦</h2><h3 id="è¡¨å•ä¿®é¥°ç¬¦"><a href="#è¡¨å•ä¿®é¥°ç¬¦" class="headerlink" title="è¡¨å•ä¿®é¥°ç¬¦"></a>è¡¨å•ä¿®é¥°ç¬¦</h3><p>è¡¨å•ç±»çš„ä¿®é¥°ç¬¦éƒ½æ˜¯å’Œ <code>v-model</code> æ­é…ä½¿ç”¨çš„ï¼Œæ¯”å¦‚ï¼š<code>v-model.lazy</code>ã€<code>v-model.trim</code> ä»¥åŠ <code>v-model.number</code> ç­‰ã€‚</p>
<ul>
<li><p><code>.lazy</code>ï¼šå¯¹è¡¨å•è¾“å…¥çš„ç»“æœè¿›è¡Œå»¶è¿Ÿå“åº”ï¼Œé€šå¸¸å’Œ <code>v-model</code> æ­é…ä½¿ç”¨ã€‚æ­£å¸¸æƒ…å†µä¸‹åœ¨ <code>input</code> é‡Œè¾“å…¥å†…å®¹ä¼šåœ¨ <code>p</code> æ ‡ç­¾é‡Œå®æ—¶çš„å±•ç¤ºå‡ºæ¥ï¼Œä½†æ˜¯åŠ ä¸Š <code>.lazy</code> ååˆ™éœ€è¦åœ¨è¾“å…¥æ¡†å¤±å»ç„¦ç‚¹çš„æ—¶å€™æ‰è§¦å‘å“åº”ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;input type&#x3D;&quot;text&quot; v-model.lazy&#x3D;&quot;name&quot; &#x2F;&gt;</span><br><span class="line">&lt;p&gt; name &lt;&#x2F;p&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>.trim</code>ï¼šè¿‡æ»¤è¾“å…¥å†…å®¹çš„é¦–å°¾ç©ºæ ¼ï¼Œè¿™ä¸ªå’Œç›´æ¥æ‹¿åˆ°å­—ç¬¦ä¸²ç„¶åé€šè¿‡ <code>str.trim()</code> å»é™¤å­—ç¬¦ä¸²é¦–å°¾ç©ºæ ¼æ˜¯ä¸€ä¸ªæ„æ€ã€‚</p>
</li>
<li><p><code>.number</code>ï¼šå¦‚æœè¾“å…¥çš„ç¬¬ä¸€ä¸ªå­—ç¬¦æ˜¯æ•°å­—ï¼Œé‚£å°±åªèƒ½è¾“å…¥æ•°å­—ï¼Œå¦åˆ™ä»–è¾“å…¥çš„å°±æ˜¯æ™®é€šå­—ç¬¦ä¸²ã€‚</p>
</li>
</ul>
<h3 id="äº‹ä»¶ä¿®é¥°ç¬¦"><a href="#äº‹ä»¶ä¿®é¥°ç¬¦" class="headerlink" title="äº‹ä»¶ä¿®é¥°ç¬¦"></a>äº‹ä»¶ä¿®é¥°ç¬¦</h3><p><code>Vue</code> çš„äº‹ä»¶ä¿®é¥°ç¬¦æ˜¯ä¸“é—¨ä¸º <code>v-on</code> è®¾è®¡çš„ï¼Œå¯ä»¥è¿™æ ·ä½¿ç”¨ï¼š<code>@click.stop=&quot;handleClick&quot;</code>ï¼Œè¿˜èƒ½ä¸²è”ä½¿ç”¨ï¼š<code>@click.stop.prevent=&quot;handleClick&quot;</code>ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;div @click&#x3D;&quot;doDiv&quot;&gt;</span><br><span class="line">    click div</span><br><span class="line">    &lt;p @click&#x3D;&quot;doP&quot;&gt;click p&lt;&#x2F;p&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li><p><code>.stop</code>ï¼šé˜»æ­¢äº‹ä»¶å†’æ³¡ï¼Œå’ŒåŸç”Ÿ <code>event.stopPropagation()</code> æ˜¯ä¸€æ ·çš„æ•ˆæœã€‚å¦‚ä¸Šä»£ç ï¼Œå½“ç‚¹å‡» <code>p</code> æ ‡ç­¾çš„æ—¶å€™ï¼Œ<code>div</code> ä¸Šçš„ç‚¹å‡»äº‹ä»¶ä¹Ÿä¼šè§¦å‘ï¼ŒåŠ ä¸Š <code>.stop</code> åäº‹ä»¶å°±ä¸ä¼šå¾€çˆ¶çº§ä¼ é€’ï¼Œé‚£çˆ¶çº§çš„äº‹ä»¶å°±ä¸ä¼šè§¦å‘äº†ã€‚</p>
</li>
<li><p><code>.prevent</code>ï¼šé˜»æ­¢é»˜è®¤äº‹ä»¶ï¼Œå’ŒåŸç”Ÿçš„ <code>event.preventDefault()</code> æ˜¯ä¸€æ ·çš„æ•ˆæœã€‚æ¯”å¦‚ä¸€ä¸ªå¸¦æœ‰ <code>href</code> çš„é“¾æ¥ä¸Šæ·»åŠ äº†ç‚¹å‡»äº‹ä»¶ï¼Œé‚£ä¹ˆäº‹ä»¶è§¦å‘çš„æ—¶å€™ä¹Ÿä¼šè§¦å‘é“¾æ¥çš„è·³è½¬ï¼Œä½†æ˜¯åŠ ä¸Š <code>.prevent</code> åå°±ä¸ä¼šè§¦å‘é“¾æ¥è·³è½¬äº†ã€‚</p>
</li>
<li><p><code>.capture</code>ï¼šé»˜è®¤çš„äº‹ä»¶æµæ˜¯ï¼šæ•è·é˜¶æ®µ-ç›®æ ‡é˜¶æ®µ-å†’æ³¡é˜¶æ®µï¼Œå³äº‹ä»¶ä»æœ€å…·ä½“ç›®æ ‡å…ƒç´ å¼€å§‹è§¦å‘ï¼Œç„¶åå¾€ä¸Šå†’æ³¡ã€‚è€ŒåŠ ä¸Š <code>.capture</code> ååˆ™æ˜¯åè¿‡æ¥ï¼Œå¤–å±‚å…ƒç´ å…ˆè§¦å‘äº‹ä»¶ï¼Œç„¶åå¾€æ·±å±‚ä¼ é€’ã€‚</p>
</li>
<li><p><code>.self</code>ï¼šåªè§¦å‘è‡ªèº«çš„äº‹ä»¶ï¼Œä¸ä¼šä¼ é€’åˆ°çˆ¶çº§ï¼Œå’Œ <code>.stop</code> çš„ä½œç”¨æœ‰ç‚¹ç±»ä¼¼ã€‚</p>
</li>
<li><p><code>.once</code>ï¼šåªä¼šè§¦å‘ä¸€æ¬¡è¯¥äº‹ä»¶ã€‚</p>
</li>
<li><p><code>.passive</code>ï¼šå½“é¡µé¢æ»šåŠ¨çš„æ—¶å€™å°±ä¼šä¸€ç›´è§¦å‘ <code>onScroll</code> äº‹ä»¶ï¼Œè¿™ä¸ªå…¶å®æ˜¯å­˜åœ¨æ€§èƒ½é—®é¢˜çš„ï¼Œå°¤å…¶æ˜¯åœ¨ç§»åŠ¨ç«¯ï¼Œå½“ç»™ä»–åŠ ä¸Š <code>.passive</code> åè§¦å‘çš„å°±ä¸ä¼šé‚£ä¹ˆé¢‘ç¹äº†ã€‚</p>
</li>
<li><p><code>.native</code>ï¼šç°åœ¨åœ¨ç»„ä»¶ä¸Šä½¿ç”¨ <code>v-on</code> åªä¼šç›‘å¬è‡ªå®šä¹‰äº‹ä»¶ (ç»„ä»¶ç”¨ <code>$emit</code> è§¦å‘çš„äº‹ä»¶)ã€‚å¦‚æœè¦ç›‘å¬æ ¹å…ƒç´ çš„åŸç”Ÿäº‹ä»¶ï¼Œå¯ä»¥ä½¿ç”¨ <code>.native</code> ä¿®é¥°ç¬¦ï¼Œæ¯”å¦‚å¦‚ä¸‹çš„ <code>el-input</code>ï¼Œå¦‚æœä¸åŠ  <code>.native</code> å½“å›è½¦çš„æ—¶å€™å°±ä¸ä¼šè§¦å‘ <code>search</code> å‡½æ•°ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;el-input type&#x3D;&quot;text&quot; v-model&#x3D;&quot;name&quot; @keyup.enter.native&#x3D;&quot;search&quot;&gt;&lt;&#x2F;el-input&gt;</span><br></pre></td></tr></table></figure>



</li>
</ul>
<blockquote>
<p>ä¸²è”ä½¿ç”¨äº‹ä»¶ä¿®é¥°ç¬¦çš„æ—¶å€™ï¼Œéœ€è¦æ³¨æ„å…¶é¡ºåºï¼ŒåŒæ ·2ä¸ªä¿®é¥°ç¬¦è¿›è¡Œä¸²è”ä½¿ç”¨ï¼Œé¡ºåºä¸åŒï¼Œç»“æœå¤§ä¸ä¸€æ ·ã€‚<code>@click.prevent.self</code> ä¼šé˜»æ­¢æ‰€æœ‰çš„ç‚¹å‡»äº‹ä»¶ï¼Œè€Œ <code>@click.self.prevent</code> åªä¼šé˜»æ­¢å¯¹è‡ªèº«å…ƒç´ çš„ç‚¹å‡»ã€‚</p>
</blockquote>
<h3 id="é¼ æ ‡æŒ‰é’®ä¿®é¥°ç¬¦"><a href="#é¼ æ ‡æŒ‰é’®ä¿®é¥°ç¬¦" class="headerlink" title="é¼ æ ‡æŒ‰é’®ä¿®é¥°ç¬¦"></a>é¼ æ ‡æŒ‰é’®ä¿®é¥°ç¬¦</h3><ul>
<li><code>.left</code>ï¼šé¼ æ ‡å·¦é”®ç‚¹å‡»ï¼›</li>
<li><code>.right</code>ï¼šé¼ æ ‡å³é”®ç‚¹å‡»ï¼›</li>
<li><code>.middle</code>ï¼šé¼ æ ‡ä¸­é”®ç‚¹å‡»ï¼›</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;button @click.right&#x3D;&quot;shout(1)&quot;&gt;ok&lt;&#x2F;button&gt;</span><br></pre></td></tr></table></figure>

<h3 id="é”®ç›˜æŒ‰é”®ä¿®é¥°ç¬¦"><a href="#é”®ç›˜æŒ‰é”®ä¿®é¥°ç¬¦" class="headerlink" title="é”®ç›˜æŒ‰é”®ä¿®é¥°ç¬¦"></a>é”®ç›˜æŒ‰é”®ä¿®é¥°ç¬¦</h3><p><code>Vue</code> æä¾›äº†ä¸€äº›å¸¸ç”¨çš„æŒ‰é”®ç ï¼š</p>
<p>//æ™®é€šé”®</p>
<ul>
<li><code>.enter</code></li>
<li><code>.tab</code></li>
<li><code>.delete</code> (æ•è·â€œåˆ é™¤â€å’Œâ€œé€€æ ¼â€é”®)</li>
<li><code>.esc</code></li>
<li><code>.space</code></li>
<li><code>.up</code></li>
<li><code>.down</code></li>
<li><code>.left</code></li>
<li><code>.right</code></li>
</ul>
<p>//ç³»ç»Ÿä¿®é¥°é”®</p>
<ul>
<li>ctrl</li>
<li>alt</li>
<li>meta</li>
<li>shift</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;input type&#x3D;&quot;text&quot; @keyup.enter&#x3D;&quot;shout(4)&quot;&gt;</span><br></pre></td></tr></table></figure>

<p>ä¹Ÿå¯ä»¥é€šè¿‡å…¨å±€ config.keyCodes å¯¹è±¡è‡ªå®šä¹‰æŒ‰é”®ä¿®é¥°ç¬¦åˆ«åï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; å¯ä»¥ä½¿ç”¨ &#96;v-on:keyup.f1&#96;</span><br><span class="line">Vue.config.keyCodes.f1 &#x3D; 112</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬ä»ä¸Šé¢çœ‹åˆ°ï¼Œé”®åˆ†æˆäº†æ™®é€šå¸¸ç”¨çš„é”®å’Œç³»ç»Ÿä¿®é¥°é”®ï¼ŒåŒºåˆ«æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ<br>å½“æˆ‘ä»¬å†™å¦‚ä¸‹ä»£ç çš„æ—¶å€™,æˆ‘ä»¬ä¼šå‘ç°å¦‚æœ<strong>ä»…ä»…</strong>ä½¿ç”¨ç³»ç»Ÿä¿®é¥°é”®æ˜¯æ— æ³•è§¦å‘keyupäº‹ä»¶çš„ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;input type&#x3D;&quot;text&quot; @keyup.ctrl&#x3D;&quot;shout(4)&quot;&gt;</span><br></pre></td></tr></table></figure>

<p>é‚£è¯¥å¦‚ä½•å‘¢ï¼Ÿæˆ‘ä»¬éœ€è¦å°†ç³»ç»Ÿä¿®é¥°é”®å’Œå…¶ä»–é”®ç é“¾æ¥èµ·æ¥ä½¿ç”¨ï¼Œæ¯”å¦‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;input type&#x3D;&quot;text&quot; @keyup.ctrl.67&#x3D;&quot;shout(4)&quot;&gt;</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·å½“æˆ‘ä»¬åŒæ—¶æŒ‰ä¸‹ctrl+cæ—¶ï¼Œå°±ä¼šè§¦å‘keyupäº‹ä»¶ã€‚<br>å¦ï¼Œå¦‚æœæ˜¯é¼ æ ‡äº‹ä»¶ï¼Œé‚£å°±å¯ä»¥å•ç‹¬ä½¿ç”¨ç³»ç»Ÿä¿®é¥°ç¬¦ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;button @mouseover.ctrl&#x3D;&quot;shout(1)&quot;&gt;ok&lt;&#x2F;button&gt;</span><br><span class="line">&lt;button @mousedown.ctrl&#x3D;&quot;shout(1)&quot;&gt;ok&lt;&#x2F;button&gt;</span><br><span class="line">&lt;button @click.ctrl.67&#x3D;&quot;shout(1)&quot;&gt;ok&lt;&#x2F;button&gt;</span><br></pre></td></tr></table></figure>

<p>å¤§æ¦‚æ˜¯ä»€ä¹ˆæ„æ€å‘¢ï¼Œå°±æ˜¯ä½ ä¸èƒ½<strong>å•æ‰‹æŒ‡ä½¿ç”¨ç³»ç»Ÿä¿®é¥°é”®çš„ä¿®é¥°ç¬¦</strong>ï¼ˆæœ€å°‘ä¸¤ä¸ªæ‰‹æŒ‡ï¼Œå¯ä»¥å¤šä¸ªï¼‰ã€‚ä½ å¯ä»¥ä¸€ä¸ªæ‰‹æŒ‡æŒ‰ä½ç³»ç»Ÿä¿®é¥°é”®ä¸€ä¸ªæ‰‹æŒ‡æŒ‰ä½å¦å¤–ä¸€ä¸ªé”®æ¥å®ç°é”®ç›˜äº‹ä»¶ã€‚ä¹Ÿå¯ä»¥ç”¨ä¸€ä¸ªæ‰‹æŒ‡æŒ‰ä½ç³»ç»Ÿä¿®é¥°é”®ï¼Œå¦ä¸€åªæ‰‹æŒ‰ä½é¼ æ ‡æ¥å®ç°é¼ æ ‡äº‹ä»¶ã€‚</p>
<p>å¦å¤–ï¼Œä½ ä¹Ÿå¯ä»¥ç›´æ¥å°† <code>KeyboardEvent.key</code> æš´éœ²çš„ä»»æ„æœ‰æ•ˆæŒ‰é”®åè½¬æ¢ä¸º <code>kebab-case</code> æ¥ä½œä¸ºä¿®é¥°ç¬¦ï¼Œæ¯”å¦‚å¯ä»¥é€šè¿‡å¦‚ä¸‹çš„ä»£ç æ¥æŸ¥çœ‹å…·ä½“æŒ‰é”®çš„é”®åæ˜¯ä»€ä¹ˆï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;input @keyup&#x3D;&quot;onKeyUp&quot;&gt;</span><br><span class="line">onKeyUp(event) &#123;</span><br><span class="line">    console.log(event.key)  &#x2F;&#x2F; æ¯”å¦‚é”®ç›˜çš„æ–¹å‘é”®å‘ä¸‹å°±æ˜¯ ArrowDown</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="exactä¿®é¥°ç¬¦"><a href="#exactä¿®é¥°ç¬¦" class="headerlink" title=".exactä¿®é¥°ç¬¦"></a>.exactä¿®é¥°ç¬¦</h3><p><code>.exact</code> ä¿®é¥°ç¬¦å…è®¸ä½ æ§åˆ¶ç”±ç²¾ç¡®çš„ç³»ç»Ÿä¿®é¥°ç¬¦ç»„åˆè§¦å‘çš„äº‹ä»¶ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;!-- å³ä½¿ Alt æˆ– Shift è¢«ä¸€åŒæŒ‰ä¸‹æ—¶ä¹Ÿä¼šè§¦å‘ --&gt;</span><br><span class="line">&lt;button v-on:click.ctrl&#x3D;&quot;onClick&quot;&gt;A&lt;&#x2F;button&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- æœ‰ä¸”åªæœ‰ Ctrl è¢«æŒ‰ä¸‹çš„æ—¶å€™æ‰è§¦å‘ --&gt;</span><br><span class="line">&lt;button v-on:click.ctrl.exact&#x3D;&quot;onCtrlClick&quot;&gt;A&lt;&#x2F;button&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- æ²¡æœ‰ä»»ä½•ç³»ç»Ÿä¿®é¥°ç¬¦è¢«æŒ‰ä¸‹çš„æ—¶å€™æ‰è§¦å‘ --&gt;</span><br><span class="line">&lt;button v-on:click.exact&#x3D;&quot;onClick&quot;&gt;A&lt;&#x2F;button&gt;</span><br></pre></td></tr></table></figure>



<h3 id="syncä¿®é¥°ç¬¦"><a href="#syncä¿®é¥°ç¬¦" class="headerlink" title=".syncä¿®é¥°ç¬¦"></a>.syncä¿®é¥°ç¬¦</h3><p><code>.sync</code> ä¿®é¥°ç¬¦å¸¸è¢«ç”¨äºå­ç»„ä»¶æ›´æ–°çˆ¶ç»„ä»¶æ•°æ®ã€‚ç›´æ¥çœ‹ä¸‹é¢çš„ä»£ç ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;çˆ¶äº²ç»„ä»¶</span><br><span class="line">&lt;comp :myMessage&#x3D;&quot;bar&quot; @update:myMessage&#x3D;&quot;func&quot;&gt;&lt;&#x2F;comp&gt;</span><br><span class="line">&#x2F;&#x2F;js</span><br><span class="line">data()&#123;</span><br><span class="line">	return&#123;</span><br><span class="line">		bar:&quot;modeå€¼&quot;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;,</span><br><span class="line">func(e)&#123;</span><br><span class="line"> this.bar &#x3D; e;</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;&#x2F;å­ç»„ä»¶js</span><br><span class="line">func2()&#123;</span><br><span class="line">  this.$emit(&#39;update:myMessage&#39;,params);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç°åœ¨è¿™ä¸ª.syncä¿®é¥°ç¬¦å°±æ˜¯ç®€åŒ–äº†ä¸Šé¢çš„æ­¥éª¤</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;çˆ¶ç»„ä»¶</span><br><span class="line">&lt;comp :myMessage.sync&#x3D;&quot;bar&quot;&gt;&lt;&#x2F;comp&gt; </span><br><span class="line">&#x2F;&#x2F;å­ç»„ä»¶</span><br><span class="line">this.$emit(&#39;update:myMessage&#39;,params);</span><br></pre></td></tr></table></figure>



<blockquote>
<ol>
<li>ä½¿ç”¨syncçš„æ—¶å€™ï¼Œå­ç»„ä»¶ä¼ é€’çš„äº‹ä»¶åå¿…é¡»ä¸ºupdate:valueï¼Œå…¶ä¸­valueå¿…é¡»ä¸å­ç»„ä»¶ä¸­propsä¸­å£°æ˜çš„åç§°å®Œå…¨ä¸€è‡´(å¦‚ä¸Šä¾‹ä¸­çš„myMessageï¼Œä¸èƒ½ä½¿ç”¨my-message)</li>
<li>æ³¨æ„å¸¦æœ‰ .sync ä¿®é¥°ç¬¦çš„ v-bind ä¸èƒ½å’Œè¡¨è¾¾å¼ä¸€èµ·ä½¿ç”¨ (ä¾‹å¦‚ v-bind:title.sync=â€doc.title + â€˜!â€™â€ æ˜¯æ— æ•ˆçš„)ã€‚å–è€Œä»£ä¹‹çš„æ˜¯ï¼Œä½ åªèƒ½æä¾›ä½ æƒ³è¦ç»‘å®šçš„å±æ€§åï¼Œç±»ä¼¼ v-modelã€‚</li>
<li>å°† v-bind.sync ç”¨åœ¨ä¸€ä¸ªå­—é¢é‡çš„å¯¹è±¡ä¸Šï¼Œä¾‹å¦‚ v-bind.sync=â€{ title: doc.title }â€ï¼Œæ˜¯æ— æ³•æ­£å¸¸å·¥ä½œçš„ï¼Œå› ä¸ºåœ¨è§£æä¸€ä¸ªåƒè¿™æ ·çš„å¤æ‚è¡¨è¾¾å¼çš„æ—¶å€™ï¼Œæœ‰å¾ˆå¤šè¾¹ç¼˜æƒ…å†µéœ€è¦è€ƒè™‘ã€‚</li>
</ol>
</blockquote>
<p>å¦‚æœéœ€è¦è®¾ç½®å¤šä¸ª <code>prop</code>ï¼Œæ¯”å¦‚ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;child :name.sync&#x3D;&quot;name&quot; :age.sync&#x3D;&quot;age&quot; :sex.sync&#x3D;&quot;sex&quot;&gt;&lt;&#x2F;child&gt;</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥é€šè¿‡ <code>v-bind.sync</code> ç®€å†™æˆè¿™æ ·ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;child v-bind.sync&#x3D;&quot;person&quot;&gt;&lt;&#x2F;child&gt;</span><br><span class="line">person: &#123;</span><br><span class="line">    name: &#39;bubuzou&#39;,</span><br><span class="line">    age: 21,</span><br><span class="line">    sex: &#39;male&#39;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>Vue</code> å†…éƒ¨ä¼šè‡ªè¡Œè¿›è¡Œè§£ææŠŠ <code>person</code> å¯¹è±¡é‡Œçš„æ¯ä¸ªå±æ€§éƒ½ä½œä¸ºç‹¬ç«‹çš„ <code>prop</code> ä¼ é€’è¿›å»ï¼Œå„è‡ªæ·»åŠ ç”¨äºæ›´æ–°çš„ <code>v-on</code> ç›‘å¬å™¨ã€‚è€Œä»å­ç»„ä»¶è¿›è¡Œæ›´æ–°çš„æ—¶å€™è¿˜æ˜¯ä¿æŒä¸å˜ï¼Œæ¯”å¦‚ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">this.$emit(&#39;update:name&#39;, &#39;hello&#39;)</span><br></pre></td></tr></table></figure>



<h3 id="prop"><a href="#prop" class="headerlink" title=".prop"></a>.prop</h3><p>è¦å­¦ä¹ è¿™ä¸ªä¿®é¥°ç¬¦ï¼Œæˆ‘ä»¬é¦–å…ˆè¦ææ‡‚ä¸¤ä¸ªä¸œè¥¿çš„åŒºåˆ«ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Propertyï¼šèŠ‚ç‚¹å¯¹è±¡åœ¨å†…å­˜ä¸­å­˜å‚¨çš„å±æ€§ï¼Œå¯ä»¥è®¿é—®å’Œè®¾ç½®ã€‚</span><br><span class="line">Attributeï¼šèŠ‚ç‚¹å¯¹è±¡çš„å…¶ä¸­ä¸€ä¸ªå±æ€§( property )ï¼Œå€¼æ˜¯ä¸€ä¸ªå¯¹è±¡ã€‚</span><br><span class="line">å¯ä»¥é€šè¿‡ç‚¹è®¿é—®æ³• document.getElementById(&#39;xx&#39;).attributes æˆ–è€… document.getElementById(&#39;xx&#39;).getAttributes(&#39;xx&#39;) è¯»å–ï¼Œé€šè¿‡document.getElementById(&#39;xx&#39;).setAttribute(&#39;xx&#39;,value) æ–°å¢å’Œä¿®æ”¹ã€‚</span><br><span class="line">åœ¨æ ‡ç­¾é‡Œå®šä¹‰çš„æ‰€æœ‰å±æ€§åŒ…æ‹¬ HTML å±æ€§å’Œè‡ªå®šä¹‰å±æ€§éƒ½ä¼šåœ¨ attributes å¯¹è±¡é‡Œä»¥é”®å€¼å¯¹çš„æ–¹å¼å­˜åœ¨ã€‚</span><br></pre></td></tr></table></figure>

<p>å…¶å®attributeå’Œpropertyä¸¤ä¸ªå•è¯ï¼Œç¿»è¯‘å‡ºæ¥éƒ½æ˜¯å±æ€§ï¼Œä½†æ˜¯ã€Šjavascripté«˜çº§ç¨‹åºè®¾è®¡ã€‹å°†å®ƒä»¬ç¿»è¯‘ä¸ºç‰¹æ€§å’Œå±æ€§ï¼Œä»¥ç¤ºåŒºåˆ†</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;input id&#x3D;&quot;uid&quot; title&#x3D;&quot;title1&quot; value&#x3D;&quot;1&quot; :index&#x3D;&quot;index&quot;&gt;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;è¿™é‡Œçš„id,value,styleéƒ½å±äºproperty</span><br><span class="line">&#x2F;&#x2F;indexå±äºattribute</span><br><span class="line">&#x2F;&#x2F;idã€titleç­‰æ—¢æ˜¯å±æ€§ï¼Œä¹Ÿæ˜¯ç‰¹æ€§ã€‚ä¿®æ”¹å±æ€§ï¼Œå…¶å¯¹åº”çš„ç‰¹æ€§ä¼šå‘ç”Ÿæ”¹å˜ï¼›ä¿®æ”¹ç‰¹æ€§ï¼Œå±æ€§ä¹Ÿä¼šæ”¹å˜</span><br><span class="line">&#x2F;&#x2F;input.index &#x3D;&#x3D;&#x3D; undefined</span><br><span class="line">&#x2F;&#x2F;input.attributes.index &#x3D;&#x3D;&#x3D; this.index</span><br></pre></td></tr></table></figure>

<p>ä»ä¸Šé¢æˆ‘ä»¬å¯ä»¥çœ‹åˆ°å¦‚æœç›´æ¥ä½¿ç”¨v-bindç»‘å®šï¼Œåˆ™é»˜è®¤ä¼šç»‘å®šåˆ°domèŠ‚ç‚¹çš„attributeã€‚<br>ä¸ºäº†</p>
<ul>
<li>é€šè¿‡è‡ªå®šä¹‰å±æ€§å­˜å‚¨å˜é‡ï¼Œé¿å…æš´éœ²æ•°æ®</li>
<li>é˜²æ­¢æ±¡æŸ“ HTML ç»“æ„</li>
</ul>
<p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¿™ä¸ªä¿®é¥°ç¬¦ï¼Œå¦‚ä¸‹</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;input id&#x3D;&quot;uid&quot; title&#x3D;&quot;title1&quot; value&#x3D;&quot;1&quot; :index.prop&#x3D;&quot;index&quot;&gt;</span><br><span class="line">&#x2F;&#x2F;input.index &#x3D;&#x3D;&#x3D; this.index</span><br><span class="line">&#x2F;&#x2F;input.attributes.index &#x3D;&#x3D;&#x3D; undefined</span><br></pre></td></tr></table></figure>

<h3 id="camel"><a href="#camel" class="headerlink" title=".camel"></a>.camel</h3><p>ç”±äºHTML ç‰¹æ€§æ˜¯ä¸åŒºåˆ†å¤§å°å†™çš„ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;svg :viewBox&#x3D;&quot;viewBox&quot;&gt;&lt;&#x2F;svg&gt;</span><br></pre></td></tr></table></figure>

<p>å®é™…ä¸Šä¼šæ¸²æŸ“ä¸º</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;svg viewbox&#x3D;&quot;viewBox&quot;&gt;&lt;&#x2F;svg&gt;</span><br></pre></td></tr></table></figure>

<p>è¿™å°†å¯¼è‡´æ¸²æŸ“å¤±è´¥ï¼Œå› ä¸º SVG æ ‡ç­¾åªè®¤ viewBoxï¼Œå´ä¸çŸ¥é“ viewbox æ˜¯ä»€ä¹ˆã€‚<br>å¦‚æœæˆ‘ä»¬ä½¿ç”¨.camelä¿®é¥°ç¬¦ï¼Œé‚£å®ƒå°±ä¼šè¢«æ¸²æŸ“ä¸ºé©¼å³°åã€‚<br>å¦ï¼Œå¦‚æœä½ ä½¿ç”¨å­—ç¬¦ä¸²æ¨¡ç‰ˆï¼Œåˆ™æ²¡æœ‰è¿™äº›é™åˆ¶ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">new Vue(&#123;</span><br><span class="line">  template: &#39;&lt;svg :viewBox&#x3D;&quot;viewBox&quot;&gt;&lt;&#x2F;svg&gt;&#39;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>



<h2 id="ç¼–å†™å¯å¤ç”¨æ¨¡å—çš„æ–¹å¼"><a href="#ç¼–å†™å¯å¤ç”¨æ¨¡å—çš„æ–¹å¼" class="headerlink" title="ç¼–å†™å¯å¤ç”¨æ¨¡å—çš„æ–¹å¼"></a>ç¼–å†™å¯å¤ç”¨æ¨¡å—çš„æ–¹å¼</h2><h3 id="é€šè¿‡è‡ªå®šä¹‰æŒ‡ä»¤æ§åˆ¶æƒé™æŒ‰é’®çš„æ˜¾ç¤ºå’Œéšè—"><a href="#é€šè¿‡è‡ªå®šä¹‰æŒ‡ä»¤æ§åˆ¶æƒé™æŒ‰é’®çš„æ˜¾ç¤ºå’Œéšè—" class="headerlink" title="é€šè¿‡è‡ªå®šä¹‰æŒ‡ä»¤æ§åˆ¶æƒé™æŒ‰é’®çš„æ˜¾ç¤ºå’Œéšè—"></a>é€šè¿‡è‡ªå®šä¹‰æŒ‡ä»¤æ§åˆ¶æƒé™æŒ‰é’®çš„æ˜¾ç¤ºå’Œéšè—</h3><p>é™¤äº† <code>Vue</code> å†…ç½®çš„ä¸€äº›æŒ‡ä»¤æ¯”å¦‚ <code>v-model</code>ã€<code>v-if</code> ç­‰ï¼Œ<code>Vue</code> è¿˜å…è®¸æˆ‘ä»¬è‡ªå®šä¹‰æŒ‡ä»¤ã€‚åœ¨ <code>Vue2.0</code> ä¸­ï¼Œä»£ç å¤ç”¨å’ŒæŠ½è±¡çš„ä¸»è¦å½¢å¼æ˜¯ç»„ä»¶ã€‚ç„¶è€Œï¼Œæœ‰çš„æƒ…å†µä¸‹ï¼Œä½ ä»ç„¶éœ€è¦å¯¹æ™®é€š <code>DOM</code> å…ƒç´ è¿›è¡Œåº•å±‚æ“ä½œï¼Œè¿™æ—¶å€™å°±ä¼šç”¨åˆ°è‡ªå®šä¹‰æŒ‡ä»¤ã€‚æ¯”å¦‚æˆ‘ä»¬å¯ä»¥é€šè¿‡è‡ªå®šä¹‰ä¸€ä¸ªæŒ‡ä»¤æ¥æ§åˆ¶æŒ‰é’®çš„æƒé™ã€‚æˆ‘ä»¬æœŸæœ›è®¾è®¡ä¸€ä¸ªå¦‚ä¸‹å½¢å¼çš„æŒ‡ä»¤æ¥æ§åˆ¶æŒ‰é’®æƒé™ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;button v-auth&#x3D;&quot;[&#39;user&#39;]&quot;&gt;æäº¤&lt;&#x2F;button&gt;</span><br></pre></td></tr></table></figure>

<p>é€šè¿‡åœ¨æŒ‰é’®çš„æŒ‡ä»¤é‡Œä¼ å…¥ä¸€ç»„æƒé™ï¼Œå¦‚æœè¯¥æŒ‰é’®åªæœ‰ <code>admin</code> æƒé™æ‰å¯ä»¥æäº¤ï¼Œè€Œæˆ‘ä»¬ä¼ å…¥ä¸€ä¸ªåˆ«çš„æƒé™ï¼Œæ¯”å¦‚ <code>user</code>ï¼Œé‚£è¿™ä¸ªæŒ‰é’®å°±ä¸åº”è¯¥æ˜¾ç¤ºäº†ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬å»æ³¨å†Œä¸€ä¸ªå…¨å±€çš„æŒ‡ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; auth.js</span><br><span class="line">const AUTH_LIST &#x3D; [&#39;admin&#39;]</span><br><span class="line"></span><br><span class="line">function checkAuth(auths) &#123;</span><br><span class="line">    return AUTH_LIST.some(item &#x3D;&gt; auths.includes(item))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function install(Vue, options &#x3D; &#123;&#125;) &#123;</span><br><span class="line">    Vue.directive(&#39;auth&#39;, &#123;</span><br><span class="line">        inserted(el, binding) &#123;</span><br><span class="line">            if (!checkAuth(binding.value)) &#123;</span><br><span class="line">                el.parentNode &amp;&amp; el.parentNode.removeChild(el)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default &#123; install &#125;</span><br></pre></td></tr></table></figure>

<p>ç„¶åæˆ‘ä»¬éœ€è¦åœ¨ <code>main.js</code> é‡Œé€šè¿‡å®‰è£…æ’ä»¶çš„æ–¹å¼æ¥å¯ç”¨è¿™ä¸ªæŒ‡ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import Auth from &#39;.&#x2F;utils&#x2F;auth&#39;</span><br><span class="line">Vue.use(Auth)</span><br></pre></td></tr></table></figure>



<h3 id="ä½¿ç”¨è¿‡æ»¤å™¨"><a href="#ä½¿ç”¨è¿‡æ»¤å™¨" class="headerlink" title="ä½¿ç”¨è¿‡æ»¤å™¨"></a>ä½¿ç”¨è¿‡æ»¤å™¨</h3><p><code>Vue</code> æä¾›äº†è‡ªå®šä¹‰è¿‡æ»¤å™¨çš„åŠŸèƒ½ï¼Œä¸»è¦åº”ç”¨åœºæ™¯æ˜¯æƒ³è¦å°†æ•°æ®ä»¥æŸç§æ ¼å¼å±•ç¤ºå‡ºæ¥ï¼Œè€ŒåŸå§‹æ•°æ®åˆä¸ç¬¦åˆè¿™ç§æ ¼å¼çš„æ—¶å€™ã€‚æ¯”å¦‚æœ‰ä¸€ç»„å…³äºäººçš„æ•°æ®ï¼Œå¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[&#123;</span><br><span class="line">    name: &#39;å¼ èŒ‚&#39;,</span><br><span class="line">    population: &#39;young&#39;,</span><br><span class="line">&#125;, &#123;</span><br><span class="line">    name: &#39;ç‹ä¸½&#39;,</span><br><span class="line">    population: &#39;middle&#39;,</span><br><span class="line">&#125;, &#123;</span><br><span class="line">    name: &#39;éƒé¹ç¨‹&#39;,</span><br><span class="line">    population: &#39;child&#39;,</span><br><span class="line">&#125;]</span><br></pre></td></tr></table></figure>

<p>å…¶ä¸­æœ‰ä¸€é¡¹æ˜¯å…³äºæŒ‰ç…§å¹´é¾„åˆ’åˆ†çš„ç¾¤ä½“ç±»å‹ <code>population</code>ï¼Œè€Œå®ƒæ˜¯ç”¨ <code>code</code> è¿›è¡Œæ ‡è¯†çš„ï¼Œæˆ‘ä»¬å¸Œæœ›åœ¨å±•ç¤ºçš„æ—¶å€™èƒ½å¤Ÿæ˜¾ç¤ºæˆå¯¹åº”çš„ä¸­æ–‡æ„æ€ï¼Œæ¯”å¦‚ <code>young</code> æ˜¾ç¤ºæˆé’å¹´ã€‚é‚£æˆ‘ä»¬å°±å¯ä»¥å®šä¹‰ä¸€ä¸ªå¦‚ä¸‹çš„å±€éƒ¨è¿‡æ»¤å™¨ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export default &#123;</span><br><span class="line">    filters: &#123;</span><br><span class="line">        popuFilters(value) &#123;</span><br><span class="line">            if (!value) &#123; return &#39;æœªçŸ¥&#39; &#125;</span><br><span class="line">            let index &#x3D; [&#39;child&#39;, &#39;lad&#39;, &#39;young&#39;, &#39;middle&#39;, &#39;wrinkly&#39;].indexOf(value)</span><br><span class="line">            return index &gt; 0 &amp;&amp; [&#39;å„¿ç«¥&#39;, &#39;å°‘å¹´&#39;, &#39;é’å¹´&#39;, &#39;ä¸­å¹´&#39;, &#39;è€å¹´&#39;][index] || &#39;æœªçŸ¥&#39;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨è¿‡æ»¤å™¨çš„æ—¶å€™åªè¦åœ¨ <code>template</code> ä¸­è¿™æ ·ä½¿ç”¨å³å¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;p&gt; item.population | popuFilters &lt;&#x2F;p&gt;</span><br></pre></td></tr></table></figure>



<h3 id="è‡ªå®šä¹‰æ’ä»¶"><a href="#è‡ªå®šä¹‰æ’ä»¶" class="headerlink" title="è‡ªå®šä¹‰æ’ä»¶"></a>è‡ªå®šä¹‰æ’ä»¶</h3><p>åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å°è£…çš„å†…å®¹å¯èƒ½ä¸éœ€è¦ä½¿ç”¨è€…å¯¹å…¶å†…éƒ¨ä»£ç ç»“æ„è¿›è¡Œäº†è§£ï¼Œå…¶åªéœ€è¦ç†Ÿæ‚‰æˆ‘ä»¬æä¾›å‡ºæ¥çš„ç›¸åº”æ–¹æ³•å’Œ <code>api</code> å³å¯ï¼Œè¿™éœ€è¦æˆ‘ä»¬æ›´ç³»ç»Ÿæ€§çš„å°†å…¬ç”¨éƒ¨åˆ†é€»è¾‘å°è£…æˆæ’ä»¶ï¼Œæ¥ä¸ºé¡¹ç›®æ·»åŠ å…¨å±€åŠŸèƒ½ï¼Œæ¯”å¦‚å¸¸è§çš„ <code>loading</code> åŠŸèƒ½ã€å¼¹æ¡†åŠŸèƒ½ç­‰ã€‚</p>
<p>å¼€å‘ <code>Vue</code> çš„æ’ä»¶åº”è¯¥æš´éœ²ä¸€ä¸ª <code>install</code> æ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ <code>Vue</code> æ„é€ å™¨ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå¯é€‰çš„é€‰é¡¹å¯¹è±¡ã€‚å¯ä»¥é€šè¿‡å¦‚ä¸‹4ç§æ–¹å¼æ¥è‡ªå®šä¹‰æ’ä»¶ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">MyPlugin.install &#x3D; function (Vue, options) &#123;</span><br><span class="line">  &#x2F;&#x2F; 1. æ·»åŠ å…¨å±€æ–¹æ³•æˆ– property</span><br><span class="line">  Vue.myGlobalMethod &#x3D; function () &#123;</span><br><span class="line">    &#x2F;&#x2F; é€»è¾‘...</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F; 2. æ·»åŠ å…¨å±€èµ„æº</span><br><span class="line">  Vue.directive(&#39;my-directive&#39;, &#123;</span><br><span class="line">    bind (el, binding, vnode, oldVnode) &#123;</span><br><span class="line">      &#x2F;&#x2F; é€»è¾‘...</span><br><span class="line">    &#125;</span><br><span class="line">    ...</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F; 3. æ³¨å…¥ç»„ä»¶é€‰é¡¹</span><br><span class="line">  Vue.mixin(&#123;</span><br><span class="line">    created: function () &#123;</span><br><span class="line">      &#x2F;&#x2F; é€»è¾‘...</span><br><span class="line">    &#125;</span><br><span class="line">    ...</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F; 4. æ·»åŠ å®ä¾‹æ–¹æ³•</span><br><span class="line">  Vue.prototype.$myMethod &#x3D; function (methodOptions) &#123;</span><br><span class="line">    &#x2F;&#x2F; é€»è¾‘...</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç„¶åéœ€è¦åœ¨å…¥å£æ–‡ä»¶ï¼Œæ¯”å¦‚ <code>main.js</code> ä¸­æ³¨å†Œæ’ä»¶ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import MyPlugin from &#39;.&#x2F;plugins&#x2F;plugins.js&#39;</span><br><span class="line">Vue.use(MyPlugin)</span><br></pre></td></tr></table></figure>



<h2 id="3ç§æ–¹å¼æ‰‹å†™ä¼˜é›…ä»£ç "><a href="#3ç§æ–¹å¼æ‰‹å†™ä¼˜é›…ä»£ç " class="headerlink" title="3ç§æ–¹å¼æ‰‹å†™ä¼˜é›…ä»£ç "></a>3ç§æ–¹å¼æ‰‹å†™ä¼˜é›…ä»£ç </h2><p>å¹³æ—¶å†™é¡¹ç›®çš„æ—¶å€™æˆ‘ä»¬éƒ½æ˜¯åœ¨ç¬¬ä¸€æ—¶é—´å®Œæˆéœ€æ±‚åŠŸèƒ½çš„å¼€å‘ã€ææµ‹ä¿®æ”¹ <code>bug</code> ç­‰ï¼Œç„¶åå¼€å¼€å¿ƒå¿ƒçš„ç­‰å¾…ç€å‘å¸ƒç”Ÿäº§ä»¥ä¸ºæ²¡å•¥äº‹æƒ…äº†ã€‚å…¶å®å›è¿‡å¤´æ¥ç»†ç»†çš„çœ‹æˆ‘ä»¬å¹³æ—¶å†™çš„ä»£ç ï¼Œå¯èƒ½ä¼šå‘ç°å¾ˆå¤šåœ°æ–¹éƒ½æ˜¯å€¼å¾—ä¼˜åŒ–çš„ï¼Œæ¯”å¦‚å¯¹äºå¾ˆå¤šé‡å¤æ€§å¾ˆå¼ºçš„ä»£ç ï¼Œæ¯”å¦‚å¯¹äºæŸäº›å†™å¾—å¾ˆç¹æ‚çš„åœ°æ–¹ã€‚ä¼˜é›…çš„ä»£ç å¯ä»¥åŒ–æœºæ¢°ä¸ºè‡ªåŠ¨ã€åŒ–ç¹ä¸ºç®€ï¼Œçœ‹äººå¼€äº†å¦‚æ²æ˜¥é£ï¼Œå¿ƒæƒ…å¤§å¥½ã€‚è¿™é‡Œåˆ—äº†å‡ ä¸ªåœ¨ <code>Vue</code> ä¸­ä¸€å®šä¼šé‡åˆ°çš„é—®é¢˜ï¼Œç„¶åé€šè¿‡ä¼˜é›…çš„æ–¹å¼è¿›è¡Œè§£å†³ã€‚</p>
<h3 id="è‡ªåŠ¨åŒ–å¯¼å…¥å¤šä¸ªè·¯ç”±æ–‡ä»¶"><a href="#è‡ªåŠ¨åŒ–å¯¼å…¥å¤šä¸ªè·¯ç”±æ–‡ä»¶" class="headerlink" title="è‡ªåŠ¨åŒ–å¯¼å…¥å¤šä¸ªè·¯ç”±æ–‡ä»¶"></a>è‡ªåŠ¨åŒ–å¯¼å…¥å¤šä¸ªè·¯ç”±æ–‡ä»¶</h3><p>åœ¨å¼€å‘ä¸€ä¸ªç¨å¾®å¤§ç‚¹çš„é¡¹ç›®çš„æ—¶å€™ï¼Œä¼šä¹ æƒ¯å°†è·¯ç”±æŒ‰ç…§æ¨¡å—æ¥åˆ’åˆ†ï¼Œç„¶åå°±å¯èƒ½ä¼šå‡ºç°å¦‚ä¸‹è¿™ç§ä»£ç ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; router.js</span><br><span class="line">import Vue from &#39;vue&#39;</span><br><span class="line">import Router from &#39;vue-router&#39;</span><br><span class="line">&#x2F;&#x2F; å¯¼å…¥äº†ä¸€å¤§å †è·¯ç”±æ–‡ä»¶</span><br><span class="line">import mediator from &#39;.&#x2F;mediator&#39;</span><br><span class="line">import judges from &#39;.&#x2F;judges&#39;</span><br><span class="line">import disputeMediation from &#39;.&#x2F;disputeMediation&#39;</span><br><span class="line">import onlineMediation from &#39;.&#x2F;onlineMediation&#39;</span><br><span class="line">import useraction from &#39;.&#x2F;useraction&#39;</span><br><span class="line">import organcenter from &#39;.&#x2F;organcenter&#39;</span><br><span class="line">import admin from &#39;.&#x2F;admin&#39;</span><br><span class="line"></span><br><span class="line">let routeList &#x3D; []</span><br><span class="line">routeList.push(mediator, judges, disputeMediation, onlineMediation, useraction, organcenter, admin)</span><br><span class="line"> </span><br><span class="line">export default new Router(&#123;</span><br><span class="line">    mode: &#39;history&#39;,</span><br><span class="line">    routes: routeList,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>å…¶å®çœŸå®çš„è¿œè¿œä¸æ­¢è¿™ä¹ˆç‚¹ï¼Œå°±æˆ‘æœ¬åœ°é¡¹ç›®è€Œè¨€å°±æœ‰20å‡ ä¸ªè·¯ç”±æ–‡ä»¶ï¼Œå†™äº†ä¸€å¤§å †çš„å¯¼å…¥ä»£ç ï¼Œæ˜¾å¾—å¾ˆè‡ƒè‚¿ï¼Œæ›´æ— å¥ˆçš„æ˜¯æ¯å½“éœ€è¦æ–°å¢ä¸€ä¸ªè·¯ç”±æ¨¡å—ï¼Œè¿˜å¾—å†æ¬¡ <code>import</code> å†æ¬¡ <code>push</code>ï¼Œé‚£ä¹ˆæœ‰æ²¡æœ‰ä»€ä¹ˆåŠæ³•å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿç­”æ¡ˆè‡ªç„¶æ˜¯æœ‰çš„ã€‚</p>
<p>åˆ©ç”¨ <code>webpack</code> çš„ <code>require.context</code> å°±å¯ä»¥å¾ˆä¼˜é›…çš„è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä½¿ç”¨è¯­æ³•å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">require.context(</span><br><span class="line">    directory,  &#x2F;&#x2F; æœç´¢çš„ç›®å½•</span><br><span class="line">    useSubdirectories &#x3D; true,  &#x2F;&#x2F; æ˜¯å¦æœç´¢å­ç›®å½•</span><br><span class="line">    regExp &#x3D; &#x2F;^\.\&#x2F;.*$&#x2F;,  &#x2F;&#x2F; åŒ¹é…çš„ç›®æ ‡æ–‡ä»¶æ ¼å¼</span><br><span class="line">    mode &#x3D; &#39;sync&#39;  &#x2F;&#x2F; åŒæ­¥è¿˜æ˜¯å¼‚æ­¥</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>æœ‰äº†è¿™ä¸ªè¯­æ³•ï¼Œæˆ‘ä»¬å°±èƒ½å¾ˆå®¹æ˜“çš„å†™å‡ºä¸‹é¢çš„ä»£ç ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import Vue from &#39;vue&#39;</span><br><span class="line">import Router from &#39;vue-router&#39;</span><br><span class="line"></span><br><span class="line">let routeList &#x3D; []</span><br><span class="line">let importAll &#x3D; require.context(&#39;@&#x2F;publicResource&#x2F;router&#39;, false, &#x2F;\.js$&#x2F;)</span><br><span class="line">importAll.keys().map(path &#x3D;&gt; &#123;</span><br><span class="line">    &#x2F;&#x2F; å› ä¸º index.js ä¹Ÿåœ¨ @&#x2F;publicResource&#x2F;router ç›®å½•ä¸‹ï¼Œæ‰€ä»¥éœ€è¦æ’é™¤</span><br><span class="line">    if (!path.includes(&#39;index.js&#39;)) &#123;          </span><br><span class="line">        &#x2F;&#x2F;å…¼å®¹å¤„ç†ï¼š.default è·å– ES6 è§„èŒƒæš´éœ²çš„å†…å®¹; åè€…è·å– commonJS è§„èŒƒæš´éœ²çš„å†…å®¹</span><br><span class="line">        let router &#x3D; importAll(path).default || importAll(path)</span><br><span class="line">        routeList(router)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"> </span><br><span class="line">export default new Router(&#123;</span><br><span class="line">    mode: &#39;history&#39;,</span><br><span class="line">    routes: routeList,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>å…¶å®ä¸ä»…ä»…åªæ˜¯ç”¨åœ¨å¯¼å…¥è·¯ç”±æ¨¡å—è¿™é‡Œï¼Œå¯¹äºé¡¹ç›®é‡Œä»»ä½•éœ€è¦å¯¼å…¥å¤§é‡æœ¬åœ°æ¨¡å—çš„åœ°æ–¹éƒ½å¯ä»¥ä½¿ç”¨è¿™ç§æ–¹å¼æ¥è§£å†³ã€‚</p>
<h3 id="æ¨¡å—åŒ–æ³¨å†Œæ’ä»¶ï¼ˆelement-uiï¼‰"><a href="#æ¨¡å—åŒ–æ³¨å†Œæ’ä»¶ï¼ˆelement-uiï¼‰" class="headerlink" title="æ¨¡å—åŒ–æ³¨å†Œæ’ä»¶ï¼ˆelement-uiï¼‰"></a>æ¨¡å—åŒ–æ³¨å†Œæ’ä»¶ï¼ˆelement-uiï¼‰</h3><p>ç›¸ä¿¡å†™ <code>Vue</code> çš„åŒå­¦ä»¬éƒ½çŸ¥é“ <code>element-ui</code> è¿™ä¸ªç»„ä»¶åº“ï¼Œåœ¨ä½¿ç”¨è¿™ä¸ªç»„ä»¶åº“çš„æ—¶å€™å¤§éƒ¨åˆ†éƒ½æ˜¯åªä½¿ç”¨æŸäº›ä¸ªåˆ«çš„ç»„ä»¶ï¼Œæ‰€ä»¥åŸºæœ¬ä¸Šéƒ½æ˜¯æŒ‰éœ€å¼•å…¥éœ€è¦çš„ç»„ä»¶ï¼Œç„¶åå°±æœ‰å¦‚ä¸‹ä¸€å †<code>Vue.use()</code> çš„ä»£ç ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; main.js</span><br><span class="line">import Vue from &#39;vue&#39;</span><br><span class="line">import &#123;</span><br><span class="line">    Input,</span><br><span class="line">    Radio,</span><br><span class="line">    RadioGroup,</span><br><span class="line">    Checkbox,</span><br><span class="line">    CheckboxGroup,</span><br><span class="line">    Select</span><br><span class="line">    &#x2F;&#x2F; è¿˜æœ‰å¾ˆå¤šç»„ä»¶</span><br><span class="line">&#125; from &#39;element-ui&#39;</span><br><span class="line"></span><br><span class="line">Vue.use(Input)</span><br><span class="line">Vue.use(Radio)</span><br><span class="line">Vue.use(RadioGroup)</span><br><span class="line">Vue.use(Checkbox)</span><br><span class="line">Vue.use(CheckboxGroup)</span><br><span class="line">Vue.use(Select)</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·å†™æ˜¯æ²¡ä»»ä½•é—®é¢˜çš„ï¼Œå°±æ˜¯çœ‹ç€ä¸å¤Ÿç®€æ´èˆ’æœï¼Œé‚£æ›´ä¼˜é›…çš„åšæ³•æ˜¯æŠŠè¿™å—é€»è¾‘æŠ½åˆ°ä¸€ä¸ªæ–‡ä»¶é‡Œï¼Œç„¶åé€šè¿‡æ³¨å†Œæ’ä»¶çš„æ–¹å¼æ¥ä½¿ç”¨ä»–ä»¬ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; elementComponent.js</span><br><span class="line">import &#123;</span><br><span class="line">    Input,</span><br><span class="line">    Radio,</span><br><span class="line">    RadioGroup,</span><br><span class="line">    Checkbox,</span><br><span class="line">    CheckboxGroup,</span><br><span class="line">    Select</span><br><span class="line">    &#x2F;&#x2F; è¿˜æœ‰å¾ˆå¤šç»„ä»¶</span><br><span class="line">&#125; from &#39;element-ui&#39;</span><br><span class="line"></span><br><span class="line">const components &#x3D; &#123;</span><br><span class="line">    Input,</span><br><span class="line">    Radio,</span><br><span class="line">    RadioGroup,</span><br><span class="line">    Checkbox,</span><br><span class="line">    CheckboxGroup,</span><br><span class="line">    Select</span><br><span class="line">&#125;</span><br><span class="line">function install(Vue)&#123;</span><br><span class="line">    Object.keys(components).forEach(key &#x3D;&gt; Vue.use(components[key]))</span><br><span class="line">&#125;</span><br><span class="line">export default &#123; install &#125;</span><br></pre></td></tr></table></figure>

<p>ç„¶ååœ¨ <code>main.js</code> é‡Œä½¿ç”¨è¿™ä¸ªæ’ä»¶ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; main.js</span><br><span class="line">import Vue from &#39;vue&#39;</span><br><span class="line">import elementComponent from &#39;.&#x2F;config&#x2F;elementComponent&#39;</span><br><span class="line">Vue.use(elementComponent)</span><br></pre></td></tr></table></figure>

<h3 id="ä¼˜é›…å¯¼å‡ºè¯·æ±‚æ¥å£"><a href="#ä¼˜é›…å¯¼å‡ºè¯·æ±‚æ¥å£" class="headerlink" title="ä¼˜é›…å¯¼å‡ºè¯·æ±‚æ¥å£"></a>ä¼˜é›…å¯¼å‡ºè¯·æ±‚æ¥å£</h3><p>ä¸çŸ¥é“å¤§ä¼™æ˜¯å¦‚ä½•å®šä¹‰è¯·æ±‚æ¥å£çš„ï¼Œå°±æˆ‘ç›®å‰è¿™ä¸ªé¡¹ç›®è€Œè¨€ï¼Œæ˜¯è¿™ä¹ˆåšçš„ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; api.js</span><br><span class="line">import http from &#39;.&#x2F;config&#x2F;httpServer.js&#39;</span><br><span class="line"></span><br><span class="line"> &#x2F;* ç™»å…¥é¡µé¢è·å–å…¬é’¥ *&#x2F;</span><br><span class="line">export const getPublicKey &#x3D; (data) &#x3D;&gt; &#123;</span><br><span class="line">    return http(&#123; url: &#39;&#x2F;userGateway&#x2F;user&#x2F;getPublicKey&#39; &#125;, data)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; ç”¨æˆ·ç™»å½•</span><br><span class="line">export const login &#x3D; data &#x3D;&gt; &#123;</span><br><span class="line">    return http(&#123; url: &#39;&#x2F;userGateway&#x2F;userSentry&#x2F;login&#39; &#125;, data)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; éªŒè¯ç ç™»å½•</span><br><span class="line">export const loginByCode &#x3D; data &#x3D;&gt; &#123;</span><br><span class="line">    return http(&#123; url: &#39;&#x2F;userGateway&#x2F;userSentry&#x2F;loginByCode&#39; &#125;, data)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨ç»„ä»¶ä¸­ä½¿ç”¨æ¥å£ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">import &#123; getPublicKey &#125; from &#39;.&#x2F;config&#x2F;api.js&#39;</span><br><span class="line">export default &#123;</span><br><span class="line">    mounted() &#123;</span><br><span class="line">        getPublicKey().then(res &#x3D;&gt; &#123;</span><br><span class="line">            &#x2F;&#x2F; xxx</span><br><span class="line">        &#125;).catch(err &#x3D;&gt; &#123;</span><br><span class="line">            &#x2F;&#x2F; xxx</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<p>è¿™ä¸€åˆ‡éƒ½å¾ˆæ­£å¸¸ï¼Œä½†ï¼Œæˆ‘ä»¬è¿™ä¸ªé¡¹ç›®æ€»å…±æœ‰200å¤šä¸ªæ¥å£ï¼ŒæŒ‰ç…§ä¸Šé¢è¿™ç§å®šä¹‰æ–¹å¼çš„è¯ï¼Œä¸€ä¸ªæ¥å£å®šä¹‰åŠ ä¸Šç©ºè¡Œéœ€è¦å ç”¨ 5 è¡Œï¼Œæ‰€ä»¥å¦‚æœæŠŠå…¨éƒ¨æ¥å£éƒ½å®šä¹‰åˆ°è¿™ä¸ª <code>api.js</code> é‡Œéœ€è¦å ç”¨ 1000 è¡Œå·¦å³ï¼Œçœ‹äº†å®åœ¨è®©äººå¿ƒå¾ˆæ…Œå‘€ã€‚æ‰€ä»¥è§‰å¾—åº”è¯¥è¿™ä¸ªåœ°æ–¹åº”è¯¥å¯ä»¥ä¼˜åŒ–ä¸€ä¸‹ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;userGateway&#x2F;user&#x2F;getPublicKey</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢è¿™æ˜¯ä¸€ä¸ªåç«¯ç»™æ¥å£è·¯å¾„ï¼Œæ–œæ†æŠŠè¿™ä¸ªè·¯å¾„åˆ’åˆ†æˆ 3 ä¸ªå­ä¸²ï¼Œè€Œæœ€åä¸€ä¸ªå­ä¸²å¿…å®šæ˜¯å”¯ä¸€çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä»ä¸­åšæ–‡ç« ã€‚äºæ˜¯ä¹å°±æœ‰äº†ä¸‹é¢çš„ä»£ç ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; api.js</span><br><span class="line">const apiList &#x3D; [</span><br><span class="line">    &#39;&#x2F;userGateway&#x2F;user&#x2F;getPublicKey&#39;,  &#x2F;&#x2F; ç™»å…¥é¡µé¢è·å–å…¬é’¥</span><br><span class="line">    &#39;&#x2F;userGateway&#x2F;userSentry&#x2F;login&#39;,  &#x2F;&#x2F; ç”¨æˆ·ç™»å½•</span><br><span class="line">    &#39;&#x2F;userGateway&#x2F;userSentry&#x2F;loginByCode&#39;,  &#x2F;&#x2F; éªŒè¯ç ç™»å½•</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line">let apiName, API &#x3D; &#123;&#125;</span><br><span class="line">apiList.forEach(path &#x3D;&gt; &#123;</span><br><span class="line">    &#x2F;&#x2F; ä½¿ç”¨æ­£åˆ™å–åˆ°æ¥å£è·¯å¾„çš„æœ€åä¸€ä¸ªå­ä¸²ï¼Œæ¯”å¦‚: getPublicKey</span><br><span class="line">    apiName &#x3D; &#x2F;(?&lt;&#x3D;\&#x2F;)[^&#x2F;]+$&#x2F;.exec(path)[0]      </span><br><span class="line">    API[apiName] &#x3D; (data) &#x3D;&gt; &#123;</span><br><span class="line">        return http(&#123;url: path&#125;, data)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line">export &#123; API &#125;</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·å¤§æ¦‚å°±æŠŠå®šä¹‰ä¸€ä¸ªæ¥å£éœ€è¦å ç”¨ 5 è¡Œç¼©å°åˆ°åªéœ€è¦ 1 è¡Œäº†ï¼Œå¤§å¤§å‡å°äº†æ–‡ä»¶å†…å®¹ã€‚åœ¨æµè§ˆè¿™ä¸ªæ–‡ä»¶çš„æ—¶å€™ï¼Œæˆ‘çš„é¼ æ ‡æ»šè½®ä¹Ÿä¸ä¼šä¸€ç›´åœ¨æ»šæ»šæ»šäº†ã€‚</p>
<p>å¦‚æœæ˜¯è¿™æ ·å®šä¹‰æ¥å£çš„è¯ï¼Œé‚£åœ¨ä½¿ç”¨çš„æ—¶å€™è¿˜éœ€è¦åšç‚¹å˜åŒ–çš„ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">import &#123; API &#125; from &#39;.&#x2F;config&#x2F;api.js&#39;</span><br><span class="line">export default &#123;</span><br><span class="line">    mounted() &#123;</span><br><span class="line">        API.getPublicKey().then(res &#x3D;&gt; &#123;</span><br><span class="line">            &#x2F;&#x2F; xxx</span><br><span class="line">        &#125;).catch(err &#x3D;&gt; &#123;</span><br><span class="line">            &#x2F;&#x2F; xxx</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>



<h2 id="4ç§-eventä¼ å‚æ–¹å¼"><a href="#4ç§-eventä¼ å‚æ–¹å¼" class="headerlink" title="4ç§$eventä¼ å‚æ–¹å¼"></a>4ç§$eventä¼ å‚æ–¹å¼</h2><p>åœ¨è¿›è¡Œå®é™…é¡¹ç›®å¼€å‘çš„æ—¶å€™ç»å¸¸ä¼šéœ€è¦é€šè¿‡äº‹ä»¶ä¼ é€’å‚æ•°ï¼Œè¿™é‡Œæ€»ç»“äº†4ç§åº”ç”¨åœºæ™¯ã€‚</p>
<h3 id="ç”¨äºç»„ä»¶é€šä¿¡"><a href="#ç”¨äºç»„ä»¶é€šä¿¡" class="headerlink" title="ç”¨äºç»„ä»¶é€šä¿¡"></a>ç”¨äºç»„ä»¶é€šä¿¡</h3><p>æ¯”å¦‚å­ç»„ä»¶é€šè¿‡ <code>$emit</code> æ¥è°ƒç”¨çˆ¶ç»„ä»¶æ–¹æ³•çš„æ—¶å€™ï¼Œå¯ä»¥åœ¨çˆ¶ç»„ä»¶ä¸­ç”¨ <code>$event</code> æ¥æ”¶åˆ°ä»å­ç»„ä»¶ä¼ é€’è¿‡æ¥çš„å‚æ•°ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; å­ç»„ä»¶</span><br><span class="line">&lt;button @click&#x3D;&quot;$emit(&#39;changeText&#39;, &#39;18px&#39;)&quot;&gt;ç‚¹å‡»åŠ å¤§å­—å·&lt;&#x2F;button&gt;</span><br><span class="line">&#x2F;&#x2F; çˆ¶ç»„ä»¶</span><br><span class="line">&lt;blog-post @changeText&#x3D;&quot;changeText(&#39;article&#39;, $event)&quot;&gt;&lt;&#x2F;blog-post&gt;</span><br><span class="line">changeText(type, value) &#123;</span><br><span class="line">    console.log(type, value)  &#x2F;&#x2F; &#39;article&#39; &#39;18px&#39;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¦‚æœå­ç»„ä»¶ä¼ é€’è¿‡æ¥çš„å‚æ•°æœ‰å¤šä¸ªï¼Œè¿™ä¸ªæ—¶å€™ç”¨ <code>$event</code> å°±ä¸å¤ªè¡Œäº†ï¼Œæ­¤æ—¶å¯ä»¥ç”¨<code>arguments</code> ä»£æ›¿ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; å­ç»„ä»¶</span><br><span class="line">&lt;button @click&#x3D;&quot;$emit(&#39;changeText&#39;, &#39;red&#39;, &#39;18px&#39;)&quot;&gt;ç‚¹å‡»æ”¹å˜æ ·å¼&lt;&#x2F;button&gt;</span><br><span class="line">&#x2F;&#x2F; çˆ¶ç»„ä»¶</span><br><span class="line">&lt;blog-post @changeText&#x3D;&quot;changeText(...arguments, &#39;article&#39;)&quot;&gt;&lt;&#x2F;blog-post&gt;</span><br><span class="line">changeText(...value) &#123;</span><br><span class="line">    console.log( value )  &#x2F;&#x2F; [&#39;red&#39;, &#39;18px&#39;, &#39;article&#39;]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="ä¼ é€’åŸç”ŸDOMäº‹ä»¶å¯¹è±¡"><a href="#ä¼ é€’åŸç”ŸDOMäº‹ä»¶å¯¹è±¡" class="headerlink" title="ä¼ é€’åŸç”ŸDOMäº‹ä»¶å¯¹è±¡"></a>ä¼ é€’åŸç”ŸDOMäº‹ä»¶å¯¹è±¡</h3><p>æ¯”å¦‚æˆ‘ä»¬éœ€è¦è·å–åˆ°å½“å‰çš„ç‚¹å‡»å…ƒç´ ï¼Œå°±å¯ä»¥é€šè¿‡ç»™ç‚¹å‡»äº‹ä»¶ä¼ é€’ <code>$event</code> å‚æ•°ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;button @click&#x3D;&quot;submit(&#39;first&#39;, $event)&quot;&gt;æäº¤&lt;&#x2F;button&gt;</span><br><span class="line">submit(type, event) &#123;</span><br><span class="line">    const target &#x3D; event.target.tagName</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ç”¨äºç¬¬ä¸‰æ–¹ç±»åº“äº‹ä»¶å›è°ƒ"><a href="#ç”¨äºç¬¬ä¸‰æ–¹ç±»åº“äº‹ä»¶å›è°ƒ" class="headerlink" title="ç”¨äºç¬¬ä¸‰æ–¹ç±»åº“äº‹ä»¶å›è°ƒ"></a>ç”¨äºç¬¬ä¸‰æ–¹ç±»åº“äº‹ä»¶å›è°ƒ</h3><p>æ¯”å¦‚æœ‰ä¸€ä¸ªç»„ä»¶é‡Œä½¿ç”¨äº†å¥½å‡ ä¸ª <code>element-ui</code> çš„åˆ†é¡µç»„ä»¶ï¼Œæ¯ä¸ªåˆ†é¡µéƒ½æœ‰ä¸€ä¸ª <code>current-change</code> äº‹ä»¶ï¼Œç”¨æ¥å¤„ç†å½“åˆ†é¡µæ”¹å˜ä¹‹åçš„äº‹æƒ…ï¼Œè¿™æ ·çš„è¯æˆ‘ä»¬å°±éœ€è¦å†™å¤šä¸ªå›è°ƒå‡½æ•°ï¼Œä½†æ˜¯å¦‚æœç”¨ä»¥ä¸‹æ–¹å¼ï¼Œæˆ‘ä»¬å°±ä¹Ÿå¯ä»¥åªå†™ä¸€ä¸ªå‡½æ•°ï¼Œé€šè¿‡ <code>type</code> æ¥åˆ¤æ–­æ˜¯å“ªä¸ªåˆ†é¡µçš„å›è°ƒï¼Œè€Œ <code>$event</code>åˆ™ç”¨æ¥ä¼ é€’ <code>current-change</code> å›è°ƒé»˜è®¤çš„å‚æ•°ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; é¡µé¢åˆ—è¡¨çš„åˆ†é¡µ</span><br><span class="line">&lt;el-pagination </span><br><span class="line">    @current-change&#x3D;&quot;changePage(&#39;main&#39;, $event)&quot;&gt;</span><br><span class="line">&lt;&#x2F;el-pagination&gt;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; å¼¹çª—Aåˆ—è¡¨çš„åˆ†é¡µ</span><br><span class="line">&lt;el-pagination </span><br><span class="line">    @current-change&#x3D;&quot;changePage(&#39;modalA&#39;, $event)&quot;&gt;</span><br><span class="line">&lt;&#x2F;el-pagination&gt;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; å¼¹çª—Båˆ—è¡¨çš„åˆ†é¡µ</span><br><span class="line">&lt;el-pagination </span><br><span class="line">    @current-change&#x3D;&quot;changePage(&#39;modalB&#39;, $event)&quot;&gt;</span><br><span class="line">&lt;&#x2F;el-pagination&gt;</span><br><span class="line">changePage(type, page) &#123;</span><br><span class="line">    const types &#x3D; [&#39;main&#39;, &#39;modalA&#39;, &#39;modalB&#39;]</span><br><span class="line">    types[type] &amp;&amp; (this[types[type]].pageIndex &#x3D; page) &amp;&amp; this.getList(type)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ä½¿ç”¨ç®­å¤´å‡½æ•°å¤„ç†"><a href="#ä½¿ç”¨ç®­å¤´å‡½æ•°å¤„ç†" class="headerlink" title="ä½¿ç”¨ç®­å¤´å‡½æ•°å¤„ç†"></a>ä½¿ç”¨ç®­å¤´å‡½æ•°å¤„ç†</h3><p>å¯¹äºç¬¬ä¸‰ç§åœºæ™¯ï¼Œä½¿ç”¨ç¬¬ä¸‰æ–¹ç±»åº“ç»„ä»¶çš„æ—¶å€™ï¼Œéœ€è¦ç»™äº‹ä»¶å›è°ƒå¢åŠ é¢å¤–çš„å‚æ•°ï¼Œå¦‚æœé»˜è®¤çš„å›è°ƒå‚æ•°åªæœ‰1ä¸ªé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨ä¸Šé¢çš„é‚£ç§æ–¹å¼ï¼Œä½†æ˜¯å¦‚æœå›è°ƒå‚æ•°æœ‰å¤šä¸ªçš„è¯ï¼Œç”¨ <code>$event</code> å°±ä¸å¥½å¤„ç†äº†ï¼Œå¯ä»¥ä½¿ç”¨ç®­å¤´å‡½æ•°ã€‚æ¯”å¦‚æ–‡ä»¶ä¸Šä¼ çš„æ—¶å€™ï¼Œæœ‰ä¸ª <code>on-change</code> å±æ€§ï¼Œå½“æ–‡ä»¶å˜åŒ–çš„æ—¶å€™å°±ä¼šè§¦å‘å›è°ƒï¼Œæ­£å¸¸æƒ…å†µä¸‹æˆ‘ä»¬è¿™æ ·å†™æ˜¯æ²¡é—®é¢˜çš„ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;el-upload :on-change&#x3D;&quot;changeFile&quot;&gt;</span><br><span class="line">    &lt;el-button&gt;ä¸Šä¼ &lt;&#x2F;el-button&gt;</span><br><span class="line">&lt;&#x2F;el-upload&gt;</span><br><span class="line">changeFile(file, fileList) &#123;&#125;</span><br></pre></td></tr></table></figure>

<p>ä½†æ˜¯å¦‚æœä¸€ä¸ªç»„ä»¶é‡Œæœ‰å¤šä¸ªæ–‡ä»¶ä¸Šä¼ ï¼Œè€Œæˆ‘ä»¬åˆä¸æƒ³å†™å¤šä¸ª <code>changeFile</code>ï¼Œé‚£å°±éœ€è¦ä¼ é€’é¢å¤–çš„å‚æ•° <code>type</code> äº† ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;el-upload :on-change&#x3D;&quot;(file, fileList) &#x3D;&gt; changeFile(&#39;org&#39;, file, fileList)&quot;&gt;</span><br><span class="line">    &lt;el-button&gt;ä¸Šä¼ &lt;&#x2F;el-button&gt;</span><br><span class="line">&lt;&#x2F;el-upload&gt;</span><br><span class="line">changeFile(type, file, fileList) &#123;&#125;</span><br></pre></td></tr></table></figure>



<h2 id="3ç§æ·±å…¥watchçš„ç”¨æ³•"><a href="#3ç§æ·±å…¥watchçš„ç”¨æ³•" class="headerlink" title="3ç§æ·±å…¥watchçš„ç”¨æ³•"></a>3ç§æ·±å…¥watchçš„ç”¨æ³•</h2><h3 id="ç«‹å³æ‰§è¡Œ"><a href="#ç«‹å³æ‰§è¡Œ" class="headerlink" title="ç«‹å³æ‰§è¡Œ"></a>ç«‹å³æ‰§è¡Œ</h3><p><code>watch</code> æ˜¯ <code>Vue</code> ä¸­çš„ä¾¦å¬å™¨ï¼Œå¯ä»¥ä¾¦å¬ä¸€ä¸ª <code>Vue</code> å®ä¾‹ä¸Šçš„æ•°æ®ï¼Œå½“æ•°æ®å˜åŠ¨çš„æ—¶å€™ï¼Œå°±ä¼šè§¦å‘è¯¥ä¾¦å¬å™¨ã€‚æ‰€ä»¥ä»–çš„åº”ç”¨åœºæ™¯å°±æ˜¯ï¼šå½“æŸä¸ªæ•°æ®å˜åŠ¨åéœ€è¦åšä»€ä¹ˆçš„æ—¶å€™å°±å¯ä»¥ä½¿ç”¨<code>watch</code> å•¦ã€‚å¯¹äº <code>watch</code>ï¼Œå¹³å¸¸æˆ‘ä»¬å†™å¾—æœ€å¤šçš„ä¼°è®¡æ˜¯å¦‚ä¸‹è¿™ç§å†™æ³•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">watch: &#123;</span><br><span class="line">    list: function(val) &#123;</span><br><span class="line">        this.getMsg()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¦‚æœæˆ‘ä»¬å¸Œæœ›ç»„ä»¶åˆå§‹åŒ–çš„æ—¶å€™å°±æ‰§è¡Œä¸€æ¬¡ <code>getMsg</code> æ–¹æ³•ï¼Œå¯ä»¥ç›´æ¥åœ¨ <code>mounted</code> é‡Œè°ƒç”¨ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">mounted() &#123;</span><br><span class="line">    this.getMsg()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å…¶å®ï¼Œè¿˜æœ‰ä¸€ç§æ›´åŠ ç®€ä¾¿çš„å†™æ³•ï¼Œé€šè¿‡ç»™ <code>watch</code> è®¾ç½® <code>immediate: true</code> ï¼Œå³å¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">watch: &#123;</span><br><span class="line">    list: &#123;</span><br><span class="line">        handler(val) &#123;  &#x2F;&#x2F; æ³¨æ„åˆ«å†™é”™æˆ handle</span><br><span class="line">            this.getMsg()</span><br><span class="line">        &#125;,</span><br><span class="line">        immediate: true</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="æ·±åº¦ç›‘å¬"><a href="#æ·±åº¦ç›‘å¬" class="headerlink" title="æ·±åº¦ç›‘å¬"></a>æ·±åº¦ç›‘å¬</h3><p>ä¾¦å¬å™¨å¯¹äºå±æ€§å˜æ›´åä¼šè‡ªåŠ¨è°ƒç”¨ä¸€æ¬¡ï¼Œä½†æ˜¯ä»…é™äºè¯¥å±æ€§æœ¬èº«ï¼Œå¦‚æœå˜æ›´çš„æ˜¯å±æ€§çš„å±æ€§ï¼Œåˆ™ä¸ä¼šè§¦å‘ä¾¦å¬å›è°ƒï¼Œå¦‚æœæƒ³è¦å®ç°è¿™ä¸ªåŠŸèƒ½å¯ä»¥ç»™ <code>watch</code> åŠ ä¸Š â€˜deep: trueâ€™ å³å¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">watch: &#123;</span><br><span class="line">    obj: &#123;</span><br><span class="line">        handler(val) &#123; &#x2F;&#x2F; do something &#125;,</span><br><span class="line">        deep: true</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,</span><br><span class="line">mounted() &#123;</span><br><span class="line">    this.obj.name &#x3D; &#39;bubuzou&#39;  &#x2F;&#x2F; å°†è§¦å‘ handler</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="å¤šä¸ªhandlers"><a href="#å¤šä¸ªhandlers" class="headerlink" title="å¤šä¸ªhandlers"></a>å¤šä¸ªhandlers</h3><p>å®é™…ä¸Šï¼Œ<code>watch</code> å¯ä»¥è®¾ç½®ä¸ºæ•°ç»„ï¼Œæ”¯æŒç±»å‹ä¸º <code>String</code>ã€<code>Object</code> å’Œ <code>Function</code>ã€‚è§¦å‘åï¼Œå¤šä¸ªå¤„ç†å‡½æ•°éƒ½å°†è¢«è°ƒç”¨ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">watch: &#123;</span><br><span class="line">    obj: [</span><br><span class="line">        &#39;print&#39;,</span><br><span class="line">        &#123;</span><br><span class="line">            handler: &#39;print&#39;,</span><br><span class="line">            deep: true</span><br><span class="line">        &#125;,</span><br><span class="line">        function(val, oldValue) &#123;</span><br><span class="line">            console.log(val)</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;,</span><br><span class="line">methods: &#123;</span><br><span class="line">    print() &#123;</span><br><span class="line">        console.log(this.obj)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="watchè¯¦è§£"><a href="#watchè¯¦è§£" class="headerlink" title="watchè¯¦è§£"></a>watchè¯¦è§£</h3><p>handlerï¼šç›‘å¬æ•°ç»„æˆ–å¯¹è±¡çš„å±æ€§æ—¶ç”¨åˆ°çš„æ–¹æ³•</p>
<p>deepï¼šæ·±åº¦ç›‘å¬ï¼Œä¸ºäº†å‘ç°å¯¹è±¡å†…éƒ¨å€¼çš„å˜åŒ–ï¼Œå¯ä»¥åœ¨é€‰é¡¹å‚æ•°ä¸­æŒ‡å®š deep:true ã€‚æ³¨æ„ç›‘å¬æ•°ç»„çš„å˜åŠ¨ä¸éœ€è¦è¿™ä¹ˆåšã€‚</p>
<p>immediate: åœ¨é€‰é¡¹å‚æ•°ä¸­æŒ‡å®š immediate: true å°†ç«‹å³ä»¥è¡¨è¾¾å¼çš„å½“å‰å€¼è§¦å‘å›è°ƒ</p>
<p>tips: åªè¦betä¸­çš„å±æ€§å‘ç”Ÿå˜åŒ–ï¼ˆå¯è¢«ç›‘æµ‹åˆ°çš„ï¼‰ï¼Œä¾¿ä¼šæ‰§è¡Œhandlerå‡½æ•°ï¼›å¦‚æœæƒ³ç›‘æµ‹å…·ä½“çš„å±æ€§å˜åŒ–ï¼Œå¦‚pokerHistoryå˜åŒ–æ—¶ï¼Œæ‰æ‰§è¡Œhandlerå‡½æ•°ï¼Œåˆ™å¯ä»¥åˆ©ç”¨è®¡ç®—å±æ€§computedåšä¸­é—´å±‚ã€‚</p>
<p>watch ä¸èƒ½æ£€æµ‹ä»¥ä¸‹å˜åŠ¨çš„æ•°ç»„ï¼š</p>
<ul>
<li>å½“ä½ åˆ©ç”¨ç´¢å¼•ç›´æ¥è®¾ç½®ä¸€ä¸ªé¡¹æ—¶ï¼Œä¾‹å¦‚ï¼šthis.demo[1] = 5</li>
<li>å½“ä½ ä¿®æ”¹æ•°ç»„çš„é•¿åº¦æ—¶ï¼Œä¾‹å¦‚ï¼šthis.demo.length = 2</li>
</ul>
<h4 id="1ã€æ™®é€šçš„watch"><a href="#1ã€æ™®é€šçš„watch" class="headerlink" title="1ã€æ™®é€šçš„watch"></a>1ã€æ™®é€šçš„watch</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      frontPoints: 0</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,</span><br><span class="line">watch: &#123;</span><br><span class="line">    frontPoints(newValue, oldValue) &#123;</span><br><span class="line">      console.log(newValue)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="2ã€æ•°ç»„çš„watch"><a href="#2ã€æ•°ç»„çš„watch" class="headerlink" title="2ã€æ•°ç»„çš„watch"></a>2ã€æ•°ç»„çš„watch</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">data() &#123;</span><br><span class="line"> return &#123;</span><br><span class="line"> ã€€ã€€winChips: new Array(11).fill(0)</span><br><span class="line"> &#125;</span><br><span class="line">&#125;,</span><br><span class="line">watch: &#123;</span><br><span class="line">  winChips: &#123;</span><br><span class="line">     handler(newValue, oldValue) &#123;</span><br><span class="line">       for (let i &#x3D; 0; i &lt; newValue.length; i++) &#123;</span><br><span class="line">       if (oldValue[i] !&#x3D; newValue[i]) &#123;</span><br><span class="line">          console.log(newValue)ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span><br><span class="line">         &#125;	</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;,ã€€</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="3ã€å¯¹è±¡çš„watch"><a href="#3ã€å¯¹è±¡çš„watch" class="headerlink" title="3ã€å¯¹è±¡çš„watch"></a>3ã€å¯¹è±¡çš„watch</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">data() &#123;</span><br><span class="line">ã€€ã€€return &#123;</span><br><span class="line">ã€€ã€€ã€€ã€€bet: &#123;</span><br><span class="line">ã€€ã€€ã€€ã€€ã€€ã€€pokerState: 53,</span><br><span class="line">ã€€ã€€ã€€ã€€ã€€ã€€pokerHistory: &#39;local&#39;</span><br><span class="line">ã€€ã€€ã€€ã€€&#125;</span><br><span class="line"> &#125;</span><br><span class="line">&#125;,</span><br><span class="line">watch: &#123;</span><br><span class="line">ã€€ã€€bet: &#123;</span><br><span class="line">ã€€ã€€ã€€ã€€handler(newValue, oldValue) &#123;</span><br><span class="line">ã€€ã€€ã€€ã€€ã€€ã€€console.log(newValue)ã€€ã€€ã€€ã€€</span><br><span class="line">   		&#125;,</span><br><span class="line">ã€€ã€€	  deep: true</span><br><span class="line">ã€€ã€€&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="4ã€å¯¹è±¡å…·ä½“å±æ€§çš„watchï¼»æ´»ç”¨computedï¼½"><a href="#4ã€å¯¹è±¡å…·ä½“å±æ€§çš„watchï¼»æ´»ç”¨computedï¼½" class="headerlink" title="4ã€å¯¹è±¡å…·ä½“å±æ€§çš„watchï¼»æ´»ç”¨computedï¼½"></a>4ã€å¯¹è±¡å…·ä½“å±æ€§çš„watchï¼»æ´»ç”¨computedï¼½</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">data() &#123;</span><br><span class="line">ã€€ã€€return &#123;</span><br><span class="line">ã€€ã€€ã€€ã€€bet: &#123;</span><br><span class="line">ã€€ã€€ã€€ã€€ã€€ã€€pokerState: 53,</span><br><span class="line">ã€€ã€€ã€€ã€€ã€€ã€€pokerHistory: &#39;local&#39;</span><br><span class="line">ã€€ã€€ã€€ã€€&#125; </span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br><span class="line">computed: &#123;</span><br><span class="line">ã€€ã€€pokerHistory() &#123;</span><br><span class="line">ã€€ã€€ã€€ã€€return this.bet.pokerHistory</span><br><span class="line">ã€€ã€€&#125;</span><br><span class="line">&#125;,</span><br><span class="line">watch: &#123;</span><br><span class="line">ã€€ã€€pokerHistory(newValue, oldValue) &#123;</span><br><span class="line">ã€€ã€€ã€€ã€€console.log(newValue)</span><br><span class="line">ã€€ã€€&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="5ã€å¯¹è±¡æ•°ç»„çš„watch"><a href="#5ã€å¯¹è±¡æ•°ç»„çš„watch" class="headerlink" title="5ã€å¯¹è±¡æ•°ç»„çš„watch"></a>5ã€å¯¹è±¡æ•°ç»„çš„watch</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">        demo:[</span><br><span class="line">             &#123;</span><br><span class="line">                  name:&#39;å¼ ä¸‰&#39;,</span><br><span class="line">                  age:18</span><br><span class="line">             &#125;,</span><br><span class="line">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€&#123;</span><br><span class="line">                  name:&#39;æå››&#39;,</span><br><span class="line">                  age:20</span><br><span class="line">             &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,</span><br><span class="line">watch: &#123;</span><br><span class="line">    demo: &#123;</span><br><span class="line">      handler (val) &#123;</span><br><span class="line">        console.log(val)</span><br><span class="line">      &#125;,</span><br><span class="line">      &#x2F;&#x2F; è¿™é‡Œæ˜¯å…³é”®ï¼Œä»£è¡¨é€’å½’ç›‘å¬ demo çš„å˜åŒ–</span><br><span class="line">      deep: true</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>



<h4 id="6ã€watchå’Œcomputedå„è‡ªå¤„ç†çš„æ•°æ®å…³ç³»åœºæ™¯ä¸åŒ"><a href="#6ã€watchå’Œcomputedå„è‡ªå¤„ç†çš„æ•°æ®å…³ç³»åœºæ™¯ä¸åŒ" class="headerlink" title="6ã€watchå’Œcomputedå„è‡ªå¤„ç†çš„æ•°æ®å…³ç³»åœºæ™¯ä¸åŒ"></a>6ã€watchå’Œcomputedå„è‡ªå¤„ç†çš„æ•°æ®å…³ç³»åœºæ™¯ä¸åŒ</h4><p>watchæ“…é•¿å¤„ç†çš„åœºæ™¯ï¼šä¸€ä¸ªæ•°æ®å½±å“å¤šä¸ªæ•°æ®<br>computedæ“…é•¿å¤„ç†çš„åœºæ™¯ï¼šä¸€ä¸ªæ•°æ®å—å¤šä¸ªæ•°æ®å½±å“</p>
<h4 id="7ã€methodå’Œcomputedè§¦å‘æ¡ä»¶ä¸åŒ"><a href="#7ã€methodå’Œcomputedè§¦å‘æ¡ä»¶ä¸åŒ" class="headerlink" title="7ã€methodå’Œcomputedè§¦å‘æ¡ä»¶ä¸åŒ"></a>7ã€methodå’Œcomputedè§¦å‘æ¡ä»¶ä¸åŒ</h4><p>computedåªæä¾›äº†ç¼“å­˜çš„å€¼ï¼Œè€Œæ²¡æœ‰é‡æ–°è®¡ç®—<br>åªæœ‰ç¬¦åˆï¼š1.å­˜åœ¨ä¾èµ–å‹æ•°æ® 2.ä¾èµ–å‹æ•°æ®å‘ç”Ÿæ”¹å˜è¿™ä¸¤ä¸ªæ¡ä»¶,computedæ‰ä¼šé‡æ–°è®¡ç®—ã€‚<br>è€Œmethodsä¸‹çš„æ•°æ®ï¼Œæ˜¯æ¯æ¬¡éƒ½ä¼šè¿›è¡Œè®¡ç®—çš„</p>
<h2 id="4ä¸ªå…¶ä»–å¼€å‘å°æŠ€å·§"><a href="#4ä¸ªå…¶ä»–å¼€å‘å°æŠ€å·§" class="headerlink" title="4ä¸ªå…¶ä»–å¼€å‘å°æŠ€å·§"></a>4ä¸ªå…¶ä»–å¼€å‘å°æŠ€å·§</h2><h3 id="è°ƒè¯•templateï¼ˆä¸æ¨èï¼‰"><a href="#è°ƒè¯•templateï¼ˆä¸æ¨èï¼‰" class="headerlink" title="è°ƒè¯•templateï¼ˆä¸æ¨èï¼‰"></a>è°ƒè¯•templateï¼ˆä¸æ¨èï¼‰</h3><p>åœ¨å¼€å‘è°ƒè¯•çš„æ—¶å€™ç»å¸¸ä¼šéœ€è¦é€šè¿‡ <code>console.log</code> æ¥æ‰“å°å‡ºæŸä¸ªæ•°æ®å¯¹è±¡æ¥æŸ¥çœ‹å…¶å†…éƒ¨çš„ç»“æ„æˆ–è€…å­—æ®µå€¼ï¼Œä½†æ˜¯è¿™æ ·åšè‚¯å®šä¸å¿…åœ¨ <code>template</code> é‡Œå°†å…¶è¾“å‡ºæ›´ç›´æ¥ã€‚æ¯”å¦‚æœ‰è¿™æ ·ä¸€ä¸ªæ•°æ®ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">obj: &#123;</span><br><span class="line">    name: &#39;bubuzou&#39;,</span><br><span class="line">    age: 21,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨æ¨¡æ¿ä¸­å±•ç¤ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;p&gt; obj &lt;&#x2F;p&gt;</span><br></pre></td></tr></table></figure>

<p>é¡µé¢æ¸²æŸ“å®Œæˆåä¼šçœ‹åˆ°ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123; &quot;name&quot;: &quot;bubuzou&quot;, &quot;age&quot;: 21 &#125;</span><br></pre></td></tr></table></figure>

<p>å¯¹äºè¿™æ ·çš„æ¸²æŸ“ç»“æœè™½ç„¶æ²¡ä»€ä¹ˆé—®é¢˜ï¼Œä½†æ˜¯å¦‚æœè¿™ä¸ª <code>obj</code> æ˜¯å±‚çº§å¾ˆæ·±ä¸”å­—æ®µå¾ˆå¤šçš„æ•°æ®ï¼Œæ˜¾ç¤ºå‡ºæ¥å°±ä¼šä¸€å †æ•°æ®ç ¸åœ¨ä¸€å—ï¼Œä¸æ¯«æ²¡æœ‰é˜…è¯»ä½“éªŒã€‚</p>
<p>å› æ­¤åŸºäºè¿™ä¸ªèƒŒæ™¯ï¼Œæˆ‘ä»¬å¯ä»¥å°† <code>console.log</code> æŒ‚è½½åœ¨ <code>Vue</code> çš„å®ä¾‹åŸå‹ä¸Šï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; main.js</span><br><span class="line">Vue.prototype.$log &#x3D; window.console.log</span><br></pre></td></tr></table></figure>

<p>ç„¶åå°±å¯ä»¥å¼€å¼€å¿ƒå¿ƒåœ¨æ¨¡æ¿ä¸­ä½¿ç”¨ä»–äº†ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;p&gt; $log( obj ) &lt;&#x2F;p&gt;</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·ä¼šåœ¨æµè§ˆå™¨æ§åˆ¶å°è¾“å‡ºå½“å‰çš„æ•°æ®å¯¹è±¡ï¼Œåœ¨æ˜¾ç¤ºæ•ˆæœä¸Šå’Œ <code>console.log</code> ç›´æ¥æ‰“å°åˆ«æ— äºŒè‡´ã€‚</p>
<p>ä½†è¯´äº†è¿™ä¹ˆå¤šï¼Œä½¿ç”¨ <code>Vue</code> è¿›è¡Œå¼€å‘è°ƒè¯•è¿˜æ˜¯å¼ºçƒˆæ¨èå®˜æ–¹çš„vue-devtools å·¥å…·ï¼Œè°ç”¨è°çŸ¥é“ã€‚</p>
<h3 id="ç›‘å¬å­ç»„ä»¶çš„é’©å­å‡½æ•°"><a href="#ç›‘å¬å­ç»„ä»¶çš„é’©å­å‡½æ•°" class="headerlink" title="ç›‘å¬å­ç»„ä»¶çš„é’©å­å‡½æ•°"></a>ç›‘å¬å­ç»„ä»¶çš„é’©å­å‡½æ•°</h3><p>é€šå¸¸å¦‚æœæˆ‘ä»¬æƒ³åœ¨å­ç»„ä»¶é’©å­å‡½æ•°è§¦å‘çš„æ—¶å€™é€šçŸ¥çˆ¶ç»„ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·åšï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; parent.vue</span><br><span class="line">&lt;child @mounted&#x3D;&quot;doSomething&quot;&gt;&lt;&#x2F;child&gt;</span><br><span class="line">&#x2F;&#x2F; child.vue</span><br><span class="line">this.$emit(&#39;mounted&#39;)</span><br></pre></td></tr></table></figure>

<p>å…¶å®è¿˜æœ‰ä¸€ç§æ›´åŠ ç®€å•çš„å†™æ³•ï¼Œé‚£å°±æ˜¯ä½¿ç”¨ <code>hookEvent</code>ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;child @hook:mounted&#x3D;&quot;doSomething&quot;&gt;&lt;&#x2F;child&gt;</span><br></pre></td></tr></table></figure>

<p>é’©å­å‡½æ•°é™¤äº†ä»¥ä¸Šç”¨æ³•ï¼Œè¿˜å¯ä»¥é€šè¿‡åŠ¨æ€æ³¨å†Œåšä¸€äº›åˆ«çš„äº‹æƒ…ï¼Œæ¯”å¦‚ç»„ä»¶é”€æ¯å‰è¿›è¡Œèµ„æºçš„é‡Šæ”¾ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">mounted() &#123;</span><br><span class="line">    let setIntervalId &#x3D; setInterval(() &#x3D;&gt; &#123;</span><br><span class="line">        console.log(888);</span><br><span class="line">    &#125;, 1000)</span><br><span class="line">    </span><br><span class="line">    this.$once(&quot;hook:beforeDestroy&quot;, () &#x3D;&gt; &#123;</span><br><span class="line">        clearInterval(setIntervalId)</span><br><span class="line">        setIntervalId &#x3D; null</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="è·¯ç”±å‚æ•°è§£è€¦"><a href="#è·¯ç”±å‚æ•°è§£è€¦" class="headerlink" title="è·¯ç”±å‚æ•°è§£è€¦"></a>è·¯ç”±å‚æ•°è§£è€¦</h3><p>å‚æ•°è§£è€¦ï¼Œå•¥æ„æ€å‘¢ï¼Ÿåˆ«ç€æ€¥ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹æ¯”å¦‚å¯¹äºè¿™ä¹ˆä¸€ä¸²è·¯ç”±ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const router &#x3D; [&#123;</span><br><span class="line">    path: &#39;&#x2F;home&#x2F;:type&#x2F;:id&#39;,</span><br><span class="line">    name: &#39;Home&#39;,</span><br><span class="line">    component: Home,</span><br><span class="line">&#125;]</span><br></pre></td></tr></table></figure>

<p>å½“å‰é¡µé¢çš„è·¯å¾„æ˜¯ <code>http://xxx/detail/preview/21?sex=male</code>ï¼Œå¹³æ—¶æˆ‘ä»¬å†™ä»£ç çš„æ—¶å€™æˆ–å¤šæˆ–å°‘çš„ä¼šå†™å‡ºè¿™ç§ä»£ç ï¼Œåœ¨ç»„ä»¶é‡Œä½¿ç”¨ <code>$route</code> ç»™ç»„ä»¶ä¼ å‚æ•°ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">mounted() &#123;</span><br><span class="line">    if (this.$route.params.type &#x3D;&#x3D;&#x3D; &#39;preview&#39;) &#123;</span><br><span class="line">        this.isPreview &#x3D; true</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        this.isPreview &#x3D; false</span><br><span class="line">    &#125;</span><br><span class="line">    this.id &#x3D; this.$route.params.id</span><br><span class="line">    this.sex &#x3D; this.$route.query.sex</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·å­å†™æœ¬èº«æ²¡ä»€ä¹ˆé—®é¢˜ï¼Œå°±æ˜¯ä¼šä½¿å¾—ç»„ä»¶å’Œè·¯ç”±é«˜åº¦è€¦åˆï¼Œè®©ç»„ä»¶åªèƒ½åœ¨å«æœ‰ç‰¹å®š <code>URL</code> çš„é¡µé¢ä¸­ä½¿ç”¨ï¼Œé™åˆ¶äº†ç»„ä»¶çš„é€šç”¨æ€§ã€‚å…¶å®ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ <code>props</code> ä¼ å‚ï¼Œæ¥è§£è€¦è·¯ç”±å‚æ•°ï¼Œå°†ä¸Šé¢çš„è·¯ç”±é…ç½®æ”¹æˆå¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const router &#x3D; [&#123;</span><br><span class="line">    path: &#39;&#x2F;home&#x2F;:type&#x2F;:id&#39;,</span><br><span class="line">    name: &#39;Home&#39;,</span><br><span class="line">    component: Home,</span><br><span class="line">    props: (route) &#x3D;&gt; (&#123;</span><br><span class="line">        type: route.params.type,</span><br><span class="line">        id: route.params.id,</span><br><span class="line">        sex: route.query.sex,</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;]</span><br></pre></td></tr></table></figure>

<p>ç„¶ååœ¨ç»„ä»¶ <code>props</code> åŠ ä¸Šå‚æ•°ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">props: [&#39;type&#39;, &#39;id&#39;, &#39;sex&#39;]</span><br></pre></td></tr></table></figure>

<p>ç»„ä»¶é‡Œä½¿ç”¨å‚æ•°çš„æ—¶å€™å°±ä¸éœ€è¦ç”¨ <code>this.$route</code>ï¼Œè€Œæ˜¯å¯ä»¥ç›´æ¥ <code>this.type</code> å³å¯ã€‚è¿™æ ·ä¸€æ¥ï¼Œè¿™ä¸ªç»„ä»¶å°±å¯ä»¥åœ¨ä»»ä½•åœ°æ–¹ä½¿ç”¨äº†ã€‚</p>
<h3 id="æ·±åº¦ä½œç”¨é€‰æ‹©å™¨"><a href="#æ·±åº¦ä½œç”¨é€‰æ‹©å™¨" class="headerlink" title="æ·±åº¦ä½œç”¨é€‰æ‹©å™¨"></a>æ·±åº¦ä½œç”¨é€‰æ‹©å™¨</h3><p>å½“ç»™ <code>style</code> åŠ ä¸Š <code>scoped</code>ï¼Œé¡µé¢æ¸²æŸ“å®Œæˆåä¼šç»™ <code>html</code> å’Œ <code>css</code> é€‰æ‹©å™¨åŠ ä¸Šå“ˆå¸Œå€¼ç”¨äºè¡¨ç¤ºå”¯ä¸€æ€§ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;div class&#x3D;&quot;home&quot; data-v-fae5bece&gt;</span><br><span class="line">    &lt;button data-v-fae5bece class&#x3D;&quot;el-button el-button-primary&quot;&gt;æäº¤&lt;&#x2F;button&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line">.home .el-button[data-v-fae5bece] &#123;</span><br><span class="line">    font-size: 20px;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¯¹äºåœ¨ <code>style</code> ä¸­è¢«åŠ äº† <code>scoped</code> çš„ç»„ä»¶ï¼Œå…¶æ ·å¼å°†åªèƒ½ä½œç”¨äºç»„ä»¶å†…éƒ¨ï¼Œä¸ä¼šå¯¹å…¶å­ç»„ä»¶é€ æˆå½±å“ã€‚æ¯”å¦‚æœ‰è¿™æ ·ä¸€ä¸ªç»„ä»¶ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; çˆ¶ç»„ä»¶</span><br><span class="line">&lt;div class&#x3D;&quot;home&quot;&gt;</span><br><span class="line">    &lt;el-button type&#x3D;&quot;primary&quot;&gt;çˆ¶æŒ‰é’®&lt;&#x2F;button&gt;</span><br><span class="line">    &lt;child&gt;&lt;&#x2F;child&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang&#x3D;&quot;scss&quot; scoped&gt;</span><br><span class="line">.home .el-button &#123;</span><br><span class="line">    font-size: 20px;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br><span class="line">&#x2F;&#x2F; å­ç»„ä»¶</span><br><span class="line">&lt;div class&#x3D;&quot;child&quot;&gt;</span><br><span class="line">    &lt;el-button type&#x3D;&quot;primary&quot;&gt;å­æŒ‰é’®&lt;&#x2F;button&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure>

<p>å½“é¡µé¢æ¸²æŸ“å‡ºæ¥åï¼Œä¼šæ˜¯å¦‚ä¸‹ç»“æœï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;div class&#x3D;&quot;home&quot; data-v-fae5bece&gt;</span><br><span class="line">    &lt;button data-v-fae5bece class&#x3D;&quot;el-button el-button-primary&quot;&gt;çˆ¶æŒ‰é’®&lt;&#x2F;button&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;child&quot; data-v-fae5bece&gt;</span><br><span class="line">        &lt;button class&#x3D;&quot;el-button el-button-primary&quot;&gt;å­æŒ‰é’®&lt;&#x2F;button&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure>

<p>æ ¹æ®ä¸Šé¢çš„ <code>html</code>ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ° <code>.home .el-button[data-v-fae5bece]</code> è¿™ä¸ªé€‰æ‹©å™¨ä½œç”¨ä¸åˆ°å­æŒ‰é’®è¿™ä¸ª <code>button</code>ã€‚</p>
<p>åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬æœ‰æ—¶å€™éœ€è¦è®©çˆ¶ç»„ä»¶çš„æ ·å¼èƒ½ä½œç”¨åˆ°å­ç»„ä»¶ï¼Œå³ä½¿çˆ¶ç»„ä»¶çš„ <code>style</code> ä¸ŠåŠ äº† <code>scoped</code>ï¼Œé‚£è¿™ä¸ªæ—¶å€™å°±éœ€è¦ç”¨åˆ°æ·±åº¦ä½œç”¨é€‰æ‹©å™¨ <code>&gt;&gt;&gt;</code>ï¼Œæ¯”å¦‚åœ¨åˆšåˆšçš„ä¾‹å­ä¸Šå¯ä»¥ç»™çˆ¶ç»„ä»¶æ ·å¼åŠ ä¸Šæ·±åº¦ä½œç”¨é€‰æ‹©å™¨ã€‚</p>
<blockquote>
<p>æ·±åº¦ä½œç”¨é€‰æ‹©å™¨ä¼šè¢« <code>Vue Loader</code> å¤„ç†ï¼Œä¸”åªèƒ½åœ¨æœ‰é¢„å¤„ç†å™¨çš„åœ°æ–¹ä½¿ç”¨ã€‚ç”±äºæŸäº›é¢„å¤„ç†å™¨æ¯”å¦‚ <code>Sass</code> ä¸èƒ½æ­£ç¡®è§£æ <code>&gt;&gt;&gt;</code>ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å®ƒçš„åˆ«åï¼š<code>/deep/</code> æˆ– <code>::v-deep</code> æ¥æ›¿ä»£ã€‚</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;style lang&#x3D;&quot;scss&quot; scoped&gt;</span><br><span class="line">.home &#123;</span><br><span class="line">    &#x2F;deep&#x2F; .el-button &#123;</span><br><span class="line">        font-size: 20px;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<p>åŠ ä¸Šæ·±åº¦ä½œç”¨é€‰æ‹©å™¨åï¼Œé€‰æ‹©å™¨ä¼šç”±åŸæ¥çš„ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">.home .el-button[data-v-fae5bece] &#123;&#125;</span><br></pre></td></tr></table></figure>

<p>å˜æˆå¦‚ä¸‹çš„ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">.home[data-v-fae5bece] .el-button &#123;&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>vue</category>
      </categories>
      <tags>
        <tag>vue</tag>
      </tags>
  </entry>
  <entry>
    <title>ESLintç®€ä»‹</title>
    <url>/2020/07/30/ESLint%E7%AE%80%E4%BB%8B/</url>
    <content><![CDATA[<h4 id="ESLintç®€ä»‹"><a href="#ESLintç®€ä»‹" class="headerlink" title="ESLintç®€ä»‹"></a>ESLintç®€ä»‹</h4><p>ESLintæ˜¯ä¸€ä¸ªç”¨æ¥è¯†åˆ« ECMAScript å¹¶ä¸”æŒ‰ç…§è§„åˆ™ç»™å‡ºæŠ¥å‘Šçš„ä»£ç æ£€æµ‹å·¥å…·ï¼Œä½¿ç”¨å®ƒå¯ä»¥é¿å…ä½çº§é”™è¯¯å’Œç»Ÿä¸€ä»£ç çš„é£æ ¼ã€‚å¦‚æœæ¯æ¬¡åœ¨ä»£ç æäº¤ä¹‹å‰éƒ½è¿›è¡Œä¸€æ¬¡eslintä»£ç æ£€æŸ¥ï¼Œå°±ä¸ä¼šå› ä¸ºæŸä¸ªå­—æ®µæœªå®šä¹‰ä¸ºundefinedæˆ–nullè¿™æ ·çš„é”™è¯¯è€Œå¯¼è‡´æœåŠ¡å´©æºƒï¼Œå¯ä»¥æœ‰æ•ˆçš„æ§åˆ¶é¡¹ç›®ä»£ç çš„è´¨é‡ã€‚</p>
<p>åœ¨è®¸å¤šæ–¹é¢ï¼Œå®ƒå’Œ JSLintã€JSHint ç›¸ä¼¼ï¼Œé™¤äº†å°‘æ•°çš„ä¾‹å¤–ï¼š</p>
<ul>
<li>ESLint ä½¿ç”¨ Espree è§£æ JavaScriptã€‚</li>
<li>ESLint ä½¿ç”¨ AST å»åˆ†æä»£ç ä¸­çš„æ¨¡å¼ã€‚</li>
<li>ESLint æ˜¯å®Œå…¨æ’ä»¶åŒ–çš„ã€‚æ¯ä¸€ä¸ªè§„åˆ™éƒ½æ˜¯ä¸€ä¸ªæ’ä»¶å¹¶ä¸”ä½ å¯ä»¥åœ¨è¿è¡Œæ—¶æ·»åŠ æ›´å¤šçš„è§„åˆ™ã€‚</li>
</ul>
<a id="more"></a>

<h1 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h1><h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><p>ESLint æ”¯æŒå¤šç§å®‰è£…æ–¹å¼ï¼Œå¯ä»¥é€šè¿‡ npm æ¥å®‰è£…ï¼Œä¹Ÿå¯ä»¥åœ¨ webpack(eslint-loader) å’Œ Gulp.js(gulp-eslint) ä¸­ä½¿ç”¨ã€‚</p>
<h3 id="å…¨å±€å®‰è£…"><a href="#å…¨å±€å®‰è£…" class="headerlink" title="å…¨å±€å®‰è£…"></a>å…¨å±€å®‰è£…</h3><p>â€‹                        </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm i -g eslint</span><br></pre></td></tr></table></figure>

<h3 id="å±€éƒ¨å®‰è£…ï¼ˆæ¨èï¼‰"><a href="#å±€éƒ¨å®‰è£…ï¼ˆæ¨èï¼‰" class="headerlink" title="å±€éƒ¨å®‰è£…ï¼ˆæ¨èï¼‰"></a>å±€éƒ¨å®‰è£…ï¼ˆæ¨èï¼‰</h3><p>â€‹                        </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm i -D eslint</span><br></pre></td></tr></table></figure>

<h3 id="åˆå§‹åŒ–"><a href="#åˆå§‹åŒ–" class="headerlink" title="åˆå§‹åŒ–"></a>åˆå§‹åŒ–</h3><p>å®‰è£…å®Œæ¯•åï¼Œæ¥ä¸‹æ¥æ–°å»ºä¸€ä¸ªé…ç½®æ–‡ä»¶.eslintrc.jsï¼Œæˆ–è€…ä½¿ç”¨å¦‚ä¸‹çš„å‘½ä»¤è¡Œæ¥è‡ªåŠ¨ç”Ÿæˆï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š</p>
<p>â€‹                        </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">eslint --init</span><br></pre></td></tr></table></figure>

<h2 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h2><p>æ³¨æ„ï¼šå¦‚æœä½ ä¹‹å‰ä½¿ç”¨çš„ç‰ˆæœ¬ä½äº 1.0.0ï¼Œè¯·æŸ¥çœ‹ <a href="https://cn.eslint.org/docs/user-guide/migrating-to-1.0.0" target="_blank" rel="noopener">è¿ç§»æŒ‡å—</a>ã€‚<br>è¿è¡Œ eslint â€“init ä¹‹åï¼Œ.eslintrc æ–‡ä»¶ä¼šåœ¨ä½ çš„æ–‡ä»¶å¤¹ä¸­è‡ªåŠ¨åˆ›å»ºã€‚æ–‡ä»¶çš„å†…å®¹å¤§ä½“å¦‚ä¸‹ï¼š</p>
<p>â€‹                        </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;env&quot;: &#123;</span><br><span class="line">        &quot;es6&quot;: true,</span><br><span class="line">        &quot;node&quot;: true</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;extends&quot;: &quot;eslint:recommended&quot;,</span><br><span class="line">    &quot;parserOptions&quot;: &#123;</span><br><span class="line">        &quot;sourceType&quot;: &quot;script&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;rules&quot;: &#123;</span><br><span class="line">        &quot;no-console&quot;: 0,</span><br><span class="line">        &quot;no-unused-vars&quot;: &quot;error&quot;,</span><br><span class="line">        &quot;no-use-before-define&quot;: &quot;error&quot;,</span><br><span class="line">        &quot;linebreak-style&quot;: [</span><br><span class="line">            &quot;error&quot;,</span><br><span class="line">            &quot;unix&quot;</span><br><span class="line">        ],</span><br><span class="line">        &quot;quotes&quot;: [</span><br><span class="line">            &quot;error&quot;,</span><br><span class="line">            &quot;single&quot;</span><br><span class="line">        ],</span><br><span class="line">        &quot;semi&quot;: [</span><br><span class="line">            &quot;error&quot;,</span><br><span class="line">            &quot;always&quot;</span><br><span class="line">        ],</span><br><span class="line">        &quot;curly&quot;: [&quot;error&quot;, &quot;all&quot;],</span><br><span class="line">        &quot;default-case&quot;: &quot;error&quot;,</span><br><span class="line">        &quot;no-else-return&quot;: &quot;error&quot;,</span><br><span class="line">        &quot;no-empty-function&quot;: &quot;error&quot;,</span><br><span class="line">        &quot;no-implicit-coercion&quot;: &quot;error&quot;,</span><br><span class="line">        &quot;no-invalid-this&quot;: &quot;error&quot;,</span><br><span class="line">        &quot;no-loop-func&quot;: &quot;error&quot;,</span><br><span class="line">        &quot;no-multi-spaces&quot;: &quot;error&quot;,</span><br><span class="line">        &quot;no-new-func&quot;: &quot;error&quot;,</span><br><span class="line">        &quot;no-useless-return&quot;: &quot;error&quot;,</span><br><span class="line">        &quot;global-require&quot;: &quot;error&quot;,</span><br><span class="line">        &quot;no-path-concat&quot;: &quot;error&quot;,</span><br><span class="line">        &quot;no-sync&quot;: &quot;error&quot;,</span><br><span class="line">        &quot;array-bracket-spacing&quot;: [</span><br><span class="line">            &quot;error&quot;,</span><br><span class="line">            &quot;never&quot; </span><br><span class="line">        ],</span><br><span class="line">        &quot;block-spacing&quot;: [</span><br><span class="line">            &quot;error&quot;,</span><br><span class="line">            &quot;always&quot;</span><br><span class="line">        ],</span><br><span class="line">        &quot;brace-style&quot;: [</span><br><span class="line">            &quot;error&quot;,</span><br><span class="line">            &quot;1tbs&quot;</span><br><span class="line">        ],</span><br><span class="line">        &quot;camelcase&quot;: &quot;error&quot;,</span><br><span class="line">        &quot;comma-dangle&quot;: [</span><br><span class="line">            &quot;error&quot;,</span><br><span class="line">            &quot;always-multiline&quot;</span><br><span class="line">        ],</span><br><span class="line">        &quot;comma-spacing&quot;: [</span><br><span class="line">            &quot;error&quot;,</span><br><span class="line">            &#123; &quot;before&quot;: false, &quot;after&quot;: true &#125;</span><br><span class="line">        ],</span><br><span class="line">        &quot;comma-style&quot;: [</span><br><span class="line">            &quot;error&quot;,</span><br><span class="line">            &quot;last&quot;</span><br><span class="line">        ],</span><br><span class="line">        &quot;key-spacing&quot;: [</span><br><span class="line">            &quot;error&quot;, </span><br><span class="line">            &#123; &quot;beforeColon&quot;: false, &quot;afterColon&quot;: true &#125;</span><br><span class="line">        ],</span><br><span class="line">        &quot;lines-around-comment&quot;: [</span><br><span class="line">            &quot;error&quot;,</span><br><span class="line">            &#123; &quot;beforeBlockComment&quot;: true &#125;</span><br><span class="line">        ],</span><br><span class="line">        &quot;newline-after-var&quot;: [</span><br><span class="line">            &quot;error&quot;,</span><br><span class="line">            &quot;always&quot;</span><br><span class="line">        ],</span><br><span class="line">        &quot;newline-before-return&quot;: &quot;error&quot;,</span><br><span class="line">        &quot;no-multi-assign&quot;: &quot;error&quot;,</span><br><span class="line">        &quot;max-params&quot;: [1, 3],</span><br><span class="line">        &quot;new-cap&quot;: [</span><br><span class="line">            &quot;error&quot;,</span><br><span class="line">            &#123;</span><br><span class="line">                &quot;newIsCap&quot;: true,</span><br><span class="line">                &quot;capIsNew&quot;: false</span><br><span class="line">            &#125;</span><br><span class="line">        ],</span><br><span class="line">        &quot;no-multiple-empty-lines&quot;: [</span><br><span class="line">            &quot;error&quot;,</span><br><span class="line">            &#123;</span><br><span class="line">                &quot;max&quot;: 2</span><br><span class="line">            &#125;</span><br><span class="line">        ],</span><br><span class="line">        &quot;no-shadow-restricted-names&quot;: &quot;error&quot;,</span><br><span class="line">        &quot;no-undef-init&quot;: &quot;error&quot;,</span><br><span class="line">        &quot;keyword-spacing&quot;: &quot;error&quot;,</span><br><span class="line">        &quot;space-before-blocks&quot;: [</span><br><span class="line">            &quot;error&quot;,</span><br><span class="line">            &quot;always&quot;</span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ESlintæ”¯æŒçš„å¯é…ç½®ä¿¡æ¯ä¸»è¦åˆ†ä¸º3ç±»ï¼š</p>
<ul>
<li>Environmentsï¼šJavascript è„šæ­¥å°†è¦è¿è¡Œåœ¨ä»€ä¹ˆç¯å¢ƒä¸­ï¼ˆå¦‚ï¼šnodejsï¼Œbrowserï¼Œcommonjsç­‰ï¼‰,ESlintæ”¯æŒçš„æ‰€æœ‰ç¯å¢ƒéƒ½å¯ä»¥åœ¨<a href="https://eslint.org/docs/user-guide/configuring#specifying-environments" target="_blank" rel="noopener">å®˜ç½‘</a>æŸ¥åˆ°ã€‚</li>
<li>Globalsï¼šæ‰§è¡Œä»£ç æ—¶è„šæ­¥éœ€è¦è®¿é—®çš„é¢å¤–å…¨å±€å˜é‡ã€‚</li>
<li>Rulesï¼šå¼€å¯æŸäº›è§„åˆ™ï¼Œä¹Ÿå¯ä»¥è®¾ç½®è§„åˆ™çš„ç­‰çº§ã€‚</li>
</ul>
<h3 id="æ£€æµ‹è§„åˆ™"><a href="#æ£€æµ‹è§„åˆ™" class="headerlink" title="æ£€æµ‹è§„åˆ™"></a>æ£€æµ‹è§„åˆ™</h3><p>æ¥ä¸‹æ¥ï¼Œå¯ä»¥åœ¨é…ç½®æ–‡ä»¶ä¸­è®¾ç½®ä¸€äº›è§„åˆ™ã€‚ESLintè§„åˆ™çš„ä¸‰ç§çº§åˆ«ï¼š</p>
<ul>
<li>â€œoffâ€ æˆ–è€… 0ï¼šå…³é—­è§„åˆ™ã€‚</li>
<li>â€œwarnâ€ æˆ–è€… 1ï¼šæ‰“å¼€è§„åˆ™ï¼Œå¹¶ä¸”ä½œä¸ºä¸€ä¸ªè­¦å‘Šï¼ˆä¸å½±å“exit codeï¼‰ã€‚</li>
<li>â€œerrorâ€ æˆ–è€… 2ï¼šæ‰“å¼€è§„åˆ™ï¼Œå¹¶ä¸”ä½œä¸ºä¸€ä¸ªé”™è¯¯ï¼ˆexit codeå°†ä¼šæ˜¯1ï¼‰ã€‚</li>
</ul>
<p>ä¾‹å¦‚ï¼Œä¸‹é¢çš„ä¸€äº›é…ç½®è§„åˆ™ï¼š</p>
<ul>
<li><code>&quot;no-console&quot;:&quot;off&quot;</code>           ç¦ç”¨ consoleã€‚</li>
<li><code>&quot;no-unused-vars&quot;:2</code>    ç¦æ­¢å‡ºç°æœªä½¿ç”¨è¿‡çš„å˜é‡ã€‚</li>
<li><code>&quot;no-use-before-define&quot;:2</code>  ä¸å…è®¸åœ¨å˜é‡å®šä¹‰ä¹‹å‰ä½¿ç”¨å®ƒä»¬ã€‚</li>
<li><code>&quot;linebreak-style&quot;:[2, &quot;unix&quot;]</code>   å¼ºåˆ¶ä½¿ç”¨ä¸€è‡´çš„æ¢è¡Œé£æ ¼ã€‚</li>
<li><code>&quot;quotes&quot;: [&quot;error&quot;, &quot;single&quot;]</code>   å¼ºåˆ¶ä½¿ç”¨ä¸€è‡´çš„å•å¼•å·ã€‚</li>
<li><code>&quot;semi&quot;:[&quot;error&quot;, &quot;always&quot;]</code>   æ§åˆ¶è¡Œå°¾éƒ¨åˆ†å·ã€‚</li>
<li><code>&quot;curly&quot;:[&quot;error&quot;, &quot;all&quot;]</code>    å¼ºåˆ¶æ‰€æœ‰æ§åˆ¶è¯­å¥ä½¿ç”¨ä¸€è‡´çš„æ‹¬å·é£æ ¼ã€‚</li>
</ul>
<ul>
<li><code>&quot;default-case&quot;: &quot;error&quot;</code>    switch è¯­å¥å¼ºåˆ¶ default åˆ†æ”¯ï¼Œä¹Ÿå¯æ·»åŠ  // no default æ³¨é‡Šå–æ¶ˆæ­¤æ¬¡è­¦å‘Šã€‚</li>
<li><code>&quot;no-else-return&quot;:&quot;error&quot;</code>  ç¦æ­¢ if è¯­å¥ä¸­æœ‰ return ä¹‹åæœ‰ elseã€‚</li>
<li><code>&quot;no-implicit-coercion&quot;: &quot;error&quot;</code> ç¦æ­¢å‡ºç°ç©ºå‡½æ•°.å¦‚æœä¸€ä¸ªå‡½æ•°åŒ…å«äº†ä¸€æ¡æ³¨é‡Šï¼Œå®ƒå°†ä¸ä¼šè¢«è®¤ä¸ºæœ‰é—®é¢˜ã€‚</li>
<li><code>&quot;no-invalid-this&quot;: &quot;error&quot;</code> ç¦æ­¢ this å…³é”®å­—å‡ºç°åœ¨ç±»å’Œç±»å¯¹è±¡ä¹‹å¤–ã€‚</li>
<li><code>&quot;no-loop-func&quot;:&quot;error&quot;</code> ç¦æ­¢åœ¨å¾ªç¯ä¸­å‡ºç° function å£°æ˜å’Œè¡¨è¾¾å¼ã€‚</li>
<li><code>&quot;no-multi-spaces&quot;:&quot;error&quot;</code> ç¦æ­¢ä½¿ç”¨å¤šä¸ªç©ºæ ¼ã€‚</li>
<li><code>&quot;no-new-func&quot;:&quot;error&quot;</code> ç¦æ­¢å¯¹ ç©ºFunction å¯¹è±¡ä½¿ç”¨ new æ“ä½œç¬¦ã€‚</li>
<li><code>&quot;no-useless-return&quot;:&quot;error&quot;</code> ç¦æ­¢æ²¡æœ‰ä»»ä½•å†…å®¹çš„return;</li>
<li><code>&quot;global-require&quot;: &quot;error&quot;</code> è¦æ±‚ require() å‡ºç°åœ¨é¡¶å±‚æ¨¡å—ä½œç”¨åŸŸä¸­ã€‚</li>
<li><code>&quot;no-path-concat&quot;: &quot;error&quot;</code> ç¦æ­¢å¯¹ dirname å’Œ filenameè¿›è¡Œå­—ç¬¦ä¸²è¿æ¥</li>
<li><code>&quot;no-sync&quot;: &quot;error&quot;</code> ç¦ç”¨åŒæ­¥æ–¹æ³•ã€‚</li>
<li><code>&quot;array-bracket-spacing&quot;: [&quot;error&quot;, &quot;never&quot;]</code> æŒ‡å®šæ•°ç»„çš„å…ƒç´ ä¹‹é—´è¦ä»¥ç©ºæ ¼éš”å¼€(, åé¢)ï¼Œ neverå‚æ•°ï¼š[ ä¹‹å‰å’Œ ] ä¹‹åä¸èƒ½å¸¦ç©ºæ ¼ï¼Œalwayså‚æ•°ï¼š[ ä¹‹å‰å’Œ ] ä¹‹åå¿…é¡»å¸¦ç©ºæ ¼ã€‚</li>
<li><code>&quot;block-spacing&quot;: [&quot;error&quot;, &quot;always&quot;]</code> ç¦æ­¢æˆ–å¼ºåˆ¶åœ¨å•è¡Œä»£ç å—ä¸­ä½¿ç”¨ç©ºæ ¼(ç¦ç”¨)ã€‚</li>
<li><code>&quot;brace-style&quot;: [&quot;error&quot;, &quot;1tbs&quot;]</code></li>
<li><code>&quot;camelcase&quot;: &quot;error&quot;</code> å¼ºåˆ¶é©¼å³°æ³•å‘½åã€‚</li>
<li><code>&quot;comma-dangle&quot;: [&quot;error&quot;, &quot;always-multiline&quot;]</code> æ•°ç»„å’Œå¯¹è±¡é”®å€¼å¯¹æœ€åä¸€ä¸ªé€—å·ï¼Œ neverå‚æ•°ï¼šä¸èƒ½å¸¦æœ«å°¾çš„é€—å·, alwayså‚æ•°ï¼šå¿…é¡»å¸¦æœ«å°¾çš„é€—,always-multilineï¼šå¤šè¡Œæ¨¡å¼å¿…é¡»å¸¦é€—å·ï¼Œå•è¡Œæ¨¡å¼ä¸èƒ½å¸¦é€—å·å·ã€‚</li>
<li><code>&quot;comma-spacing&quot;: [&quot;error&quot;, { &quot;before&quot;: false, &quot;after&quot;: true }]</code> æ§åˆ¶é€—å·å‰åçš„ç©ºæ ¼ã€‚</li>
<li><code>&quot;comma-style&quot;: [&quot;error&quot;, &quot;last&quot;]</code> æ§åˆ¶é€—å·åœ¨è¡Œå°¾å‡ºç°è¿˜æ˜¯åœ¨è¡Œé¦–å‡ºç° (é»˜è®¤è¡Œå°¾)ã€‚</li>
<li><code>&quot;key-spacing&quot;: [&quot;error&quot;, { &quot;beforeColon&quot;: false, &quot;afterColon&quot;: true }]</code> è¯¥è§„åˆ™è§„å®šäº†åœ¨å¯¹è±¡å­—é¢é‡è¯­æ³•ä¸­ï¼Œkeyå’Œvalueä¹‹é—´çš„ç©ºç™½ï¼Œå†’å·å‰ä¸è¦ç©ºæ ¼ï¼Œå†’å·åé¢éœ€è¦ä¸€ä¸ªç©ºæ ¼ã€‚</li>
<li><code>&quot;lines-around-comment&quot;: [&quot;error&quot;, { &quot;beforeBlockComment&quot;: true }]</code> è¦æ±‚åœ¨æ³¨é‡Šå‘¨å›´æœ‰ç©ºè¡Œ ( è¦æ±‚åœ¨å—çº§æ³¨é‡Šä¹‹å‰æœ‰ä¸€ç©ºè¡Œ)ã€‚</li>
<li><code>&quot;newline-after-var&quot;: [&quot;error&quot;, &quot;always&quot;]</code> è¦æ±‚æˆ–ç¦æ­¢ var å£°æ˜è¯­å¥åæœ‰ä¸€è¡Œç©ºè¡Œã€‚</li>
<li><code>&quot;newline-before-return&quot;: &quot;error&quot;</code> è¦æ±‚ return è¯­å¥ä¹‹å‰æœ‰ä¸€ç©ºè¡Œã€‚</li>
<li><code>&quot;no-multi-assign&quot;: &quot;error&quot;</code> é“¾æ¥å˜é‡çš„èµ‹å€¼å¯èƒ½ä¼šå¯¼è‡´æ„å¤–çš„ç»“æœå¹¶éš¾ä»¥é˜…è¯»ï¼Œä¸å…è®¸åœ¨å•ä¸ªè¯­å¥ä¸­ä½¿ç”¨å¤šä¸ªåˆ†é…ã€‚</li>
<li><code>&quot;max-params&quot;: [1, 3] function</code> å®šä¹‰ä¸­æœ€å¤šå…è®¸çš„å‚æ•°æ•°é‡ã€‚</li>
<li><code>&quot;new-cap&quot;: [&quot;error&quot;, { &quot;newIsCap&quot;: true, &quot;capIsNew&quot;: false}]</code> æ„é€ å‡½æ•°é¦–å­—æ¯å¤§å†™ã€‚</li>
<li><code>&quot;no-multiple-empty-lines&quot;: [&quot;error&quot;, {&quot;max&quot;: 2}]</code> ç©ºè¡Œä¸èƒ½å¤Ÿè¶…è¿‡2è¡Œã€‚</li>
<li><code>&quot;no-shadow-restricted-names&quot;: &quot;error&quot;</code> ç¦æ­¢å¯¹ä¸€äº›å…³é”®å­—æˆ–è€…ä¿ç•™å­—è¿›è¡Œèµ‹å€¼æ“ä½œï¼Œæ¯”å¦‚NaNã€Infinityã€undefinedã€evalã€argumentsç­‰ã€‚</li>
<li><code>&quot;no-undef-init&quot;: &quot;error&quot;</code> ç¦æ­¢æŠŠundefinedèµ‹å€¼ç»™ä¸€ä¸ªå˜é‡ã€‚</li>
<li><code>&quot;keyword-spacing&quot;: &quot;error&quot;</code> keyword å‰åéœ€è¦ç©ºæ ¼ã€‚</li>
<li><code>&quot;space-before-blocks&quot;: [&quot;error&quot;,&quot;always&quot;]</code> å¼ºåˆ¶åœ¨å—ä¹‹å‰ä½¿ç”¨ä¸€è‡´çš„ç©ºæ ¼ã€‚</li>
</ul>
<h3 id="å¿½ç•¥æ£€æµ‹"><a href="#å¿½ç•¥æ£€æµ‹" class="headerlink" title="å¿½ç•¥æ£€æµ‹"></a>å¿½ç•¥æ£€æµ‹</h3><p>æ—¢ç„¶æœ‰æ£€æµ‹çš„è§„åˆ™ï¼Œé‚£ä¹ˆå¿…ç„¶æœ‰å¿½ç•¥æ£€æµ‹çš„é…ç½®ã€‚è¦æ–°å¢å¿½ç•¥æ£€æµ‹çš„è§„åˆ™ï¼Œé¦–å…ˆè¦åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»ºä¸€ä¸ª .eslintignore æ–‡ä»¶å‘Šè¯‰ ESLint å»å¿½ç•¥æ‰ä¸éœ€è¦æ£€æµ‹çš„æ–‡ä»¶æˆ–è€…ç›®å½•ã€‚</p>
<p>æˆ–è€…é€šè¿‡package.jsonæ–‡ä»¶è®¾ç½®éœ€è¦å¿½ç•¥æ£€æµ‹çš„å¯¹è±¡ï¼Œä¾‹å¦‚ï¼š</p>
<p>â€‹                        </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;name&quot;: &quot;my_project&quot;,</span><br><span class="line">  &quot;version&quot;: &quot;1.0.0&quot;,</span><br><span class="line">  &quot;main&quot;: &quot;index.js&quot;,</span><br><span class="line">  &quot;scripts&quot;: &#123;</span><br><span class="line">    &quot;test&quot;: &quot;&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;eslintConfig&quot;: &#123; &#x2F;&#x2F; ä¹Ÿå¯é…ç½®eslint</span><br><span class="line">    &quot;env&quot;: &#123;</span><br><span class="line">      &quot;es6&quot;: true,</span><br><span class="line">      &quot;node&quot;: true</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;eslintIgnore&quot;: [&quot;test.js&quot;]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Gulpä¸­ä½¿ç”¨ESLint"><a href="#Gulpä¸­ä½¿ç”¨ESLint" class="headerlink" title="Gulpä¸­ä½¿ç”¨ESLint"></a>Gulpä¸­ä½¿ç”¨ESLint</h2><p>é™¤äº†npmæ–¹å¼ä¹‹å¤–ï¼ŒESLintè¿˜æ”¯æŒGulpæ’ä»¶æ–¹å¼ä½¿ç”¨ï¼Œä½¿ç”¨ä¹‹å‰éœ€è¦å…ˆå®‰è£…æ’ä»¶ã€‚</p>
<p>â€‹                        </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install gulp-eslint</span><br></pre></td></tr></table></figure>

<p>å¦‚æœè¦ä½¿ç”¨gulp-eslintè¿›è¡Œeslintè§„åˆ™çš„æ ¡éªŒï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„æ–¹å¼ï¼š</p>
<p>â€‹                        </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var gulp &#x3D; require(&#39;gulp&#39;);</span><br><span class="line">var eslint &#x3D; require(&#39;gulp-eslint&#39;);</span><br><span class="line">gulp.task(&#39;lint&#39;,function()&#123;</span><br><span class="line">    return gulp.src([&#39;app&#x2F;**&#x2F;*.js&#39;]) &#x2F;&#x2F;æŒ‡å®šçš„æ ¡éªŒè·¯å¾„</span><br><span class="line">        .pipe(eslint(&#123;configFle:&quot;.&#x2F;.eslintrc&quot;&#125;)) &#x2F;&#x2F;ä½¿ç”¨ä½ çš„eslintæ ¡éªŒæ–‡ä»¶</span><br><span class="line">        .pipe(eslint.format())</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h1 id="ESLintæŠ€å·§"><a href="#ESLintæŠ€å·§" class="headerlink" title="ESLintæŠ€å·§"></a>ESLintæŠ€å·§</h1><h2 id="eslint-config-standard"><a href="#eslint-config-standard" class="headerlink" title="eslint-config-standard"></a>eslint-config-standard</h2><p>eslint-config-standardæ˜¯ä¸€ä¸ªæ ‡å‡†çš„ESLintè§„åˆ™æ£€æµ‹åº“ï¼Œå› æ­¤åªéœ€è¦å®‰è£…è¿™ä¸ªåº“å°±å¯ä»¥çœå»é…ç½®ESLintè§„åˆ™ã€‚<br><img src alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>ç„¶åï¼Œåœ¨é¡¹ç›®çš„æ ¹ç›®å½•é‡Œé¢æ‰‹åŠ¨åˆ›å»ºä¸€ä¸ª.eslintrcæ–‡ä»¶ï¼Œç„¶ååœ¨é‡Œé¢æ·»åŠ å¦‚ä¸‹ä»£ç ï¼š</p>
<p>â€‹                        </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;extends&quot;: &quot;standard&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œå®Œä»¥ä¸Šæ­¥éª¤ï¼Œå°±å¯ä»¥ä½¿ç”¨ESLintè¿™ä¸ªå·¥å…·æ¥æ ¡éªŒé¡¹ç›®é‡Œçš„ä»£ç ã€‚</p>
<p>åœ¨Vueé¡¹ç›®é‡Œï¼Œ.vueæ–‡ä»¶å†™çš„æ˜¯ç±»ä¼¼äºhtmlçš„æ ¼å¼ï¼Œä¸æ˜¯æ ‡å‡†çš„JavaScriptæ–‡ä»¶ï¼ŒESLintæ— æ³•ç›´æ¥è¯†åˆ«.vueæ–‡ä»¶é‡Œçš„JavaScriptä»£ç ï¼Œé‚£ä¹ˆè¿™ä¸ªæ—¶å€™æˆ‘ä»¬éœ€è¦å»å®‰è£…ä¸€ä¸ªå·¥å…·ï¼Œå®‰è£…å‘½ä»¤å¦‚ä¸‹ï¼š</p>
<p>â€‹                        </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm i eslint-plugin-html -D</span><br></pre></td></tr></table></figure>

<p>å› ä¸ºåœ¨vueæ–‡ä»¶é‡Œé¢å†™JavaScriptä»£ç ä¹Ÿæ˜¯å†™åœ¨scriptæ ‡ç­¾é‡Œé¢çš„ï¼Œè¿™ä¸ªæ’ä»¶çš„ä½œç”¨å°±æ˜¯è¯†åˆ«ä¸€ä¸ªæ–‡ä»¶é‡Œé¢scriptæ ‡ç­¾é‡Œé¢çš„JSä»£ç ï¼Œå®˜æ–¹ä¹Ÿæ˜¯è¿™ä¹ˆæ¨èçš„ã€‚æ‰€ä»¥æˆ‘ä»¬è¦åœ¨.eslintrcæ–‡ä»¶é‡Œé¢æ–°å¢ä¸€æ®µè„šæœ¬ï¼š</p>
<p>â€‹                        </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;extends&quot;: &quot;standard&quot;,</span><br><span class="line">  &quot;plugins&quot;: [</span><br><span class="line">    &quot;html&quot;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œå®Œä»¥ä¸Šæ­¥éª¤åï¼Œæˆ‘ä»¬è·³è½¬åˆ°package.jsonæ–‡ä»¶é‡Œé¢çš„scriptsé‡Œé¢æ–°å¢ä¸€æ¡å‘½ä»¤ï¼š</p>
<p>â€‹                        </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&quot;lint&quot;: &quot;eslint --ext .js --ext .jsx --ext .vue src&#x2F;&quot;</span><br></pre></td></tr></table></figure>

<p>åœ¨ä¸Šé¢çš„è„šæœ¬å‘½ä»¤ä¸­ï¼Œextåé¢éœ€è¦å†™ä¸ŠæŒ‡å®šæ£€æµ‹æ–‡ä»¶çš„åç¼€ï¼Œå¦‚.jsã€.jsxã€ .vueç­‰ï¼Œç´§æ¥ç€åé¢è¦å†™ä¸Šä¸€ä¸ªå‚æ•°ï¼Œè¿™ä¸ªå‚æ•°å°±æ˜¯æˆ‘ä»¬è¦æ£€æµ‹å“ªä¸ªç›®å½•ä¸‹é¢çš„æ–‡ä»¶ï¼Œä¸€èˆ¬é¡¹ç›®æ–‡ä»¶éƒ½åœ¨srcä¸‹é¢ï¼Œæ‰€ä»¥åœ¨åé¢å†™ä¸Šsrc/å°±å¥½ã€‚</p>
<p>ç°åœ¨æˆ‘ä»¬å°±å¯ä»¥åˆ°terminalé‡Œé¢è¾“å…¥$ npm run lintï¼Œæ¥æ£€éªŒé¡¹ç›®é‡Œçš„ä»£ç æ˜¯å¦ç¬¦åˆESLintçš„è§„åˆ™ã€‚</p>
<h2 id="ESLintè‡ªåŠ¨ä¿®å¤æŠ¥é”™"><a href="#ESLintè‡ªåŠ¨ä¿®å¤æŠ¥é”™" class="headerlink" title="ESLintè‡ªåŠ¨ä¿®å¤æŠ¥é”™"></a>ESLintè‡ªåŠ¨ä¿®å¤æŠ¥é”™</h2><p>ä¸€èˆ¬æ¥è¯´ï¼Œå½“æˆ‘ä»¬ä½¿ç”¨å‘½ä»¤â€œnpm run lintâ€æ£€æµ‹JavaScriptçš„æ—¶å€™ï¼ŒåŸºæœ¬ä¸Šéƒ½ä¼šå‡ºç°éå¸¸çš„å¤šæŠ¥é”™ï¼ŒåŸºæœ¬ä¸Šå°±æ˜¯æ»¡å±çš„errorå’Œwarningã€‚<br><img src alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>åœ¨æŠ¥è¿™ä¹ˆå¤šçš„é”™è¯¯ä¹‹åï¼Œå¦‚æœæˆ‘ä»¬ä¸€æ¡ä¸€æ¡åœ°å»ä¿®å¤ï¼Œå°±ä¼šå˜çš„éå¸¸çš„éº»çƒ¦ï¼Œç›¸ä¿¡åˆšæ¥è§¦ESLintçš„ç«¥é‹éƒ½æ·±æœ‰ä½“ä¼šã€‚å…¶å®è¿™äº›é”™è¯¯éƒ½å¯ä»¥è®©ESLintå¸®åŠ©æˆ‘ä»¬è‡ªåŠ¨åœ°ä¿®å¤ã€‚å…·ä½“æ¥è¯´ï¼Œåªéœ€è¦åœ¨package.jsonæ–‡ä»¶é‡Œé¢çš„scriptsé‡Œé¢æ–°å¢ä¸€æ¡å‘½ä»¤å³å¯ï¼š</p>
<p>â€‹                        </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&quot;lint-fix&quot;: &quot;eslint --fix --ext .js --ext .jsx --ext .vue src&#x2F;&quot;</span><br></pre></td></tr></table></figure>

<p>å½“æˆ‘ä»¬å†å»terminalä¸­æ‰§è¡Œå‘½ä»¤ï¼š$ npm run lint-fixï¼Œä½ ä¼šå‘ç°æ²¡æœ‰é‚£ä¹ˆå¤šé£˜çº¢çš„æŠ¥é”™ï¼Œä¹Ÿæ²¡æœ‰æ»¡å±çš„errorå’Œwarningäº†ã€‚</p>
<p>å½“ç„¶ï¼Œè¿˜æœ‰ä¸€ç§ä¸‡èƒ½æ–¹æ³•ï¼Œå°±æ˜¯åœ¨æŠ¥é”™çš„JSæ–‡ä»¶ä¸­ç¬¬ä¸€è¡Œå†™ä¸Š/* eslint-disable */ï¼Œå…·ä½“å¯ä»¥å‚è€ƒ<a href="https://cn.eslint.org/docs/1.10.3/user-guide/command-line-interface" target="_blank" rel="noopener">Command line Interface</a></p>
<h2 id="eslint-loader"><a href="#eslint-loader" class="headerlink" title="eslint-loader"></a>eslint-loader</h2><p>æœ‰æ—¶å€™ï¼Œæˆ‘ä»¬å¸Œæœ›åœ¨é¡¹ç›®å¼€å‘çš„è¿‡ç¨‹å½“ä¸­ï¼Œæ¯æ¬¡ä¿®æ”¹ä»£ç éƒ½èƒ½å¤Ÿè‡ªåŠ¨è¿›è¡ŒESLintçš„æ£€æŸ¥ã€‚å› ä¸ºåœ¨æˆ‘ä»¬æ”¹ä»£ç çš„è¿‡ç¨‹ä¸­å»åšä¸€æ¬¡æ£€æŸ¥ï¼Œå¦‚æœæœ‰é”™è¯¯ï¼Œæˆ‘ä»¬å°±èƒ½å¤Ÿå¾ˆå¿«åœ°å»å®šä½åˆ°é—®é¢˜å¹¶è§£å†³é—®é¢˜ã€‚è¿™æ—¶å€™æˆ‘ä»¬å¯ä»¥å€ŸåŠ©eslint-loaderæ’ä»¶ã€‚</p>
<p>â€‹                        </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm i eslint-loader babel-eslint -D</span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œå®Œå®‰è£…æ“ä½œåï¼Œæˆ‘ä»¬è¿˜éœ€è¦åœ¨.eslintrcæ–‡ä»¶é‡Œé¢é…ç½®å¦‚ä¸‹è„šæœ¬ï¼š</p>
<p>â€‹                        </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;extends&quot;: &quot;standard&quot;,</span><br><span class="line">  &quot;plugins&quot;: [</span><br><span class="line">    &quot;html&quot;</span><br><span class="line">  ],</span><br><span class="line">  &quot;parser&quot;: &quot;babel-eslint&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸ºä»€ä¹ˆæˆ‘ä»¬è¦é…ç½®parserå‘¢ï¼Ÿå› ä¸ºæˆ‘ä»¬çš„é¡¹ç›®æ˜¯åŸºäºwebpackçš„ï¼Œé¡¹ç›®é‡Œçš„ä»£ç éƒ½æ˜¯éœ€è¦ç»è¿‡babelå»å¤„ç†çš„ã€‚babelå¤„ç†çš„è¿™ç§è¯­æ³•å¯èƒ½å¯¹ESLintä¸æ˜¯ç‰¹åˆ«çš„æ”¯æŒï¼Œç„¶åæˆ‘ä»¬ä½¿ç”¨loaderå¤„ç†ESLintçš„æ—¶å€™å°±ä¼šå‡ºç°ä¸€äº›é—®é¢˜ã€‚æ‰€ä»¥ä¸€èˆ¬æ¥è¯´ï¼Œæˆ‘ä»¬ç”¨webpackå’Œbabelæ¥è¿›è¡Œå¼€å‘çš„é¡¹ç›®ï¼Œéƒ½ä¼šæŒ‡å®šå®ƒçš„parserä½¿ç”¨babel-eslintã€‚</p>
<p>åŒæ—¶ï¼Œä½¿ç”¨webpackæ–¹å¼æ„å»ºçš„é¡¹ç›®ï¼Œè¿˜éœ€è¦åœ¨webpack.config.base.jsçš„moduleä¸‹é¢çš„rulesé‡Œé¢æ·»åŠ ä¸€ä¸ªå¦‚ä¸‹è„šæœ¬ï¼š</p>
<p>â€‹                        </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">rules: [</span><br><span class="line">  &#123;</span><br><span class="line">    test: &#x2F;\.(vue|js|jsx)$&#x2F;,</span><br><span class="line">    loader: &#39;eslint-loader&#39;,</span><br><span class="line">    exclude: &#x2F;node_modules&#x2F;,</span><br><span class="line">    enforce: &#39;pre&#39;</span><br><span class="line">  &#125;,</span><br><span class="line">  ......</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<p>ç„¶åæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨å‘½ä»¤ <code>$ npm run dev</code>å°±å¯ä»¥åœ¨å¼€å‘ç¯å¢ƒè¿›è¡ŒESLinté”™è¯¯æ£€æµ‹ã€‚</p>
<p>é™„ï¼š<a href="https://cn.eslint.org/" target="_blank" rel="noopener">https://cn.eslint.org/</a></p>
<p>â€‹    <a href="https://www.imooc.com/article" target="_blank" rel="noopener">https://www.imooc.com/article</a>â€¦</p>
<p>â€‹        <a href="https://segmentfault.com/a/1190000018328740" target="_blank" rel="noopener">https://segmentfault.com/a/1190000018328740</a></p>
]]></content>
      <categories>
        <category>ESLint</category>
      </categories>
      <tags>
        <tag>ESLint</tag>
      </tags>
  </entry>
  <entry>
    <title>H5ç§»åŠ¨ç«¯è°ƒè¯•å…¨æ”»ç•¥</title>
    <url>/2020/09/21/H5%E7%A7%BB%E5%8A%A8%E7%AB%AF%E8%B0%83%E8%AF%95%E5%85%A8%E6%94%BB%E7%95%A5/</url>
    <content><![CDATA[<h2 id="H5-ç§»åŠ¨ç«¯è°ƒè¯•å…¨æ”»ç•¥"><a href="#H5-ç§»åŠ¨ç«¯è°ƒè¯•å…¨æ”»ç•¥" class="headerlink" title="H5 ç§»åŠ¨ç«¯è°ƒè¯•å…¨æ”»ç•¥"></a>H5 ç§»åŠ¨ç«¯è°ƒè¯•å…¨æ”»ç•¥</h2><h3 id="ä¸€ã€æ¦‚è¦"><a href="#ä¸€ã€æ¦‚è¦" class="headerlink" title="ä¸€ã€æ¦‚è¦"></a>ä¸€ã€æ¦‚è¦</h3><p>å› ä¸ºç§»åŠ¨ç«¯æ“ä½œç³»ç»Ÿåˆ†ä¸º <code>iOS</code> å’Œ <code>Android</code> ä¸¤æ´¾ï¼Œæ‰€ä»¥æœ¬æ–‡çš„è°ƒè¯•æŠ€å·§ä¹Ÿä¼šæŒ‰ç…§ä¸åŒçš„ç³»ç»Ÿæ¥åŒºåˆ†ã€‚å¯»æ‰¾æœ€åˆé€‚é«˜æ•ˆçš„æ–¹å¼ï¼Œæ‰èƒ½è®©ä½ äº‹åŠåŠŸå€ã€‚</p>
<blockquote>
<p>æ–‡ç« ä¼šåˆ—ä¸¾ç›®å‰é€‚åˆç§»åŠ¨ç«¯è°ƒè¯•çš„å¤šç§æ–¹æ¡ˆï¼Œå¿«æ¥é€‰æ‹©ä½ çš„æœ€ä½³å®è·µå§ï¼</p>
</blockquote>
<a id="more"></a>

<h3 id="äºŒã€iOS-è®¾å¤‡"><a href="#äºŒã€iOS-è®¾å¤‡" class="headerlink" title="äºŒã€iOS è®¾å¤‡"></a>äºŒã€iOS è®¾å¤‡</h3><blockquote>
<p>Safariï¼šiphone è°ƒè¯•åˆ©å™¨ï¼ŒæŸ¥é”™æ”¹æ ·å¼é¦–é€‰ï¼Œéœ€è¦æˆ‘ä»¬åšå¦‚ä¸‹è®¾ç½®ï¼š</p>
</blockquote>
<ul>
<li>æµè§ˆå™¨è®¾ç½®ï¼šSafari - åå¥½è®¾ç½® - é«˜çº§ - å‹¾é€‰ã€Œåœ¨èœå•æ ä¸­æ˜¾ç¤ºå¼€å‘ã€èœå•</li>
<li>iphone è®¾ç½®ï¼šè®¾ç½® - Safari - é«˜çº§ - æ‰“å¼€ Web æ£€æŸ¥å™¨</li>
</ul>
<p>å¤§åŠŸå‘Šæˆï¼Œè¿™æ—¶å€™é€šè¿‡æ‰‹æœºçš„ <code>Safari</code> æ¥æ‰“å¼€ <code>H5</code> é¡µé¢ï¼Œæˆ‘ä»¬é€šè¿‡æµè§ˆå™¨å¼€å‘é€‰é¡¹å¯ä»¥çœ‹åˆ°ï¼š</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_jpg/1NOXMW586uv6XVHS9fJfeCggKwEYnvPGn5BX8wYAAkWwC94klY7dgu8VHmbnTYC6q0n72vwzjsNgy0XFjhxeHg/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"></p>
<blockquote>
<p>iOS æ¨¡æ‹Ÿå™¨ï¼šä¸éœ€è¦çœŸæœºï¼Œé€‚åˆè°ƒè¯• <code>Webview</code> å’Œ <code>H5</code> æœ‰é¢‘ç¹äº¤äº’çš„åŠŸèƒ½é¡µé¢ã€‚</p>
</blockquote>
<p>é¦–å…ˆä¸‹è½½ <code>Xcode</code> ï¼Œè¿è¡Œé¡¹ç›®ï¼Œé€‰æ‹©æ¨¡æ‹Ÿå™¨ <code>iphonex</code>ï¼Œç¼–è¯‘åå°±ä¼šæ‰“å¼€æ¨¡æ‹Ÿå™¨ï¼Œå¦‚ä¸‹ï¼š</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_jpg/1NOXMW586uv6XVHS9fJfeCggKwEYnvPG2YGhibTb0YhQ8Z9T3XcbRliaREicZyAkhkD1Y9jp9VY0oN6ubAmd0TJTw/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"></p>
<p>å¯ä»¥çœ‹åˆ° H5 å·²ç»åœ¨ã€Œå£³å­ã€ä¸­è¿è¡Œèµ·æ¥äº†ï¼Œä¸‹æ¥å°±å¯ä»¥å°è¯•è°ƒç”¨ <code>Webview</code> çš„æ–¹æ³•ï¼Œå’Œã€Œå£³å­ã€äº¤äº’äº†ã€‚æ›´å¤šçš„è°ƒè¯•æŠ€å·§å¯ä»¥å‚è€ƒæ–‡ç« ï¼šiOS æ¨¡æ‹Ÿå™¨è°ƒè¯•ã€‚</p>
<blockquote>
<p>å…·ä½“çš„è°ƒè¯•åŠŸèƒ½è¿˜æ˜¯ä¾èµ–æµè§ˆå™¨çš„å¼€å‘é€‰é¡¹ï¼Œä¸ä¸Šæ— å¼‚ï¼Œå°±ä¸èµ˜è¿°äº†ã€‚</p>
</blockquote>
<h3 id="ä¸‰ã€æŠ“åŒ…"><a href="#ä¸‰ã€æŠ“åŒ…" class="headerlink" title="ä¸‰ã€æŠ“åŒ…"></a>ä¸‰ã€æŠ“åŒ…</h3><blockquote>
<p>Charlesï¼šMac OS ç³»ç»Ÿé¦–é€‰çš„æŠ“åŒ…å·¥å…·ï¼Œé€‚åˆæŸ¥çœ‹ã€æ§åˆ¶ç½‘ç»œè¯·æ±‚ï¼Œåˆ†ææ•°æ®æƒ…å†µã€‚</p>
</blockquote>
<p><code>Charles</code> æŠ“åŒ…é¦–å…ˆéœ€è¦é…ç½®æ‰‹æœºä»£ç†ï¼Œ<code>Wifi</code> - é…ç½®ä»£ç†ï¼ˆIP åœ°å€ï¼‰ - æ‰‹åŠ¨ï¼Œå¦‚ä¸‹å›¾ï¼š</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_jpg/1NOXMW586uv6XVHS9fJfeCggKwEYnvPGIP6SIiablZyr5dIVUR5cia8o0Q48e6HDWNDg7pGeKqF595UpxGQzdmRA/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"></p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_jpg/1NOXMW586uv6XVHS9fJfeCggKwEYnvPGicEHia9puWnLMbfFpugT6JyS0kvmfAjPiccKCneicr3a16wibKL3icI9eZEA/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"></p>
<p>é…ç½®å¥½æ‰‹æœºä»£ç†ï¼Œè¿™æ—¶å€™æ‰“å¼€ <code>Charles</code> ï¼Œå°±ä¼šæ”¶åˆ°ç¡®è®¤æé†’ï¼Œé€‰æ‹©å…è®¸ã€‚æ¥ä¸‹æ¥å°±å¯ä»¥æ•è·æ‰‹æœºçš„è¯·æ±‚äº†ï¼Œä½†æ˜¯è¿™äº›éƒ½æ˜¯å¸¸è§„æ“ä½œï¼Œæˆ‘ä»¬æ¥ç‚¹é«˜çº§çš„ã€‚</p>
<blockquote>
<p>æœ‰æ„æ€çš„æ˜¯ï¼šæˆ‘ä»¬å¯ä»¥ç”¨æœ¬åœ°æ–‡ä»¶æ¥æ›¿æ¢çº¿ä¸Šæ–‡ä»¶ï¼Œæ–¹ä¾¿è°ƒè¯•ï¼Œè¿œç¨‹å®šä½çº¿ä¸Šé—®é¢˜ã€‚</p>
</blockquote>
<p>é€‰æ‹© <code>Structure</code>ï¼Œæ‰¾åˆ°éœ€è¦æ›¿æ¢çš„æ–‡ä»¶ï¼Œå³é”®èœå• - <code>Map Local</code>ï¼Œå¦‚ä¸‹å›¾ï¼š</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_jpg/1NOXMW586uv6XVHS9fJfeCggKwEYnvPG74USxfw2vn2icibocyibnKstkO9ux4e63ck3Nun2gKEicCrIL9Hs7U6JpA/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"></p>
<p>è¿™æ—¶å€™å°±ä¼šæ‰“å¼€ä¸€ä¸ªå¼¹çª—ï¼Œå¡«å†™å…·ä½“çš„é…ç½®ï¼š</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_jpg/1NOXMW586uv6XVHS9fJfeCggKwEYnvPGReaE3gLGUgBaTj42WpmGvia2uibqJ7LL2ict6BmMbq9r5BwzJKfDOZ3qQ/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"></p>
<p>OKï¼Œå¤§åŠŸå‘Šæˆï¼Œå¿«å»æ”¹åŠ¨æœ¬åœ°æ–‡ä»¶å§ï¼Œä»æ­¤å†ä¹Ÿä¸æ€•çº¿ä¸Šè°ƒè¯•äº†ã€‚éœ€è¦æ³¨æ„çš„æ˜¯å¦‚æœæŠ“å– <code>HTTPS</code> è¯·æ±‚ï¼Œè¦å®‰è£…ä¿¡ä»»è¯ä¹¦ï¼Œä¸‹æ–‡ä¼šè¯¦ç»†è¯´æ˜ã€‚</p>
<blockquote>
<p>ä¸ä¹‹ç›¸åº”çš„æ˜¯ Windows å¹³å°çš„ Fiddlerï¼ŒåŠŸèƒ½å¤§è‡´ç›¸ä¼¼ï¼Œè¿™é‡Œå°±ä¸ç»†è¯´äº†ã€‚</p>
</blockquote>
<h3 id="å››ã€Spy-Debugger"><a href="#å››ã€Spy-Debugger" class="headerlink" title="å››ã€Spy-Debugger"></a>å››ã€Spy-Debugger</h3><blockquote>
<p>spy-debuggerï¼šç§»åŠ¨ç«¯è°ƒè¯•çš„åˆ©å™¨ï¼Œä¾¿æ·çš„è¿œç¨‹è°ƒè¯•æ‰‹æœºé¡µé¢ã€æŠ“åŒ…å·¥å…·ã€‚</p>
</blockquote>
<p>æˆ‘ä»¬å…ˆæ¥å®‰è£…ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt; sudo npm install spy-debugger -g</span><br></pre></td></tr></table></figure>

<p>å¯åŠ¨å‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt; spy-debugger</span><br></pre></td></tr></table></figure>

<p>è¿™æ—¶å€™ï¼Œæ§åˆ¶å°ä¼šæ‰“å°å‡ºå¦‚ä¸‹ä¿¡æ¯ï¼Œè¯´æ˜æœåŠ¡å·²ç»å¯åŠ¨äº†ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">æ­£åœ¨å¯åŠ¨ä»£ç†</span><br><span class="line">æœ¬æœºåœ¨å½“å‰ç½‘ç»œä¸‹çš„IPåœ°å€ä¸ºï¼š10.200.24.46</span><br><span class="line">node-mitmproxyå¯åŠ¨ç«¯å£: 9888</span><br><span class="line">æµè§ˆå™¨æ‰“å¼€ ---&gt; http:&#x2F;&#x2F;127.0.0.1:50389</span><br></pre></td></tr></table></figure>

<p>æœ€åä¸€æ­¥ï¼Œè®¾ç½®æ‰‹æœºä»£ç†ï¼š<code>10.200.24.46</code>ï¼Œç«¯å£å·ï¼š<code>9888</code>ã€‚è¡¥å……è¯´æ˜ä¸€ä¸‹ï¼š</p>
<ul>
<li><code>Android</code> è®¾ç½®ä»£ç†æ­¥éª¤ï¼šè®¾ç½® - <code>WLAN</code> - é•¿æŒ‰é€‰ä¸­ç½‘ç»œ - ä¿®æ”¹ç½‘ç»œ - é«˜çº§ - ä»£ç†è®¾ç½® - æ‰‹åŠ¨</li>
<li><code>iOS</code> è®¾ç½®ä»£ç†æ­¥éª¤ï¼šè®¾ç½® - æ— çº¿å±€åŸŸç½‘ - é€‰ä¸­ç½‘ç»œ - <code>HTTP</code> ä»£ç†æ‰‹åŠ¨</li>
</ul>
<p>æ¥ä¸‹æ¥ï¼Œå°è¯•ä¸€ä¸‹æŠ“åŒ…ï¼š</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_jpg/1NOXMW586uv6XVHS9fJfeCggKwEYnvPGfV4YjUQtJvCcz3YCmZlY3X2Uias1BVcD8dVfIxmAQEsuXu3hTRkgUQg/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"></p>
<p>å†æ‰“å¼€è°ƒè¯•é¡µé¢ï¼š</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_jpg/1NOXMW586uv6XVHS9fJfeCggKwEYnvPGWib9eta6RUGqoIDZ7ezGblAEC5ocWshv0GiavhfJlGsn08pbrYD9MXaw/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"></p>
<blockquote>
<p><code>HTTPS</code> æŠ“åŒ…ï¼Œéœ€è¦å®‰è£…æ ¹è¯ä¹¦ï¼Œä¸‹æ–‡ä¼šè¯¦ç»†è¯´æ˜ã€‚</p>
</blockquote>
<h3 id="äº”ã€Whistle"><a href="#äº”ã€Whistle" class="headerlink" title="äº”ã€Whistle"></a>äº”ã€Whistle</h3><p>ä¸Šé¢æ¨èäº†ä¸€æ¬¾æ“ä½œç®€å•çš„è°ƒè¯•åˆ©å™¨ï¼Œå‡çº§ä¸€ä¸‹ï¼Œçœ‹çœ‹æ›´åŠ å¼ºå¤§çš„è°ƒè¯•å·¥å…· <code>whistle</code>ã€‚</p>
<blockquote>
<p>whistleï¼šåŸºäº <code>Node</code> å®ç°çš„è·¨å¹³å° <code>Web</code> è°ƒè¯•ä»£ç†å·¥å…·ã€‚</p>
</blockquote>
<p><code>whistle</code>(è¯»éŸ³[ËˆwÉªsÉ™l]ï¼Œæ‹¼éŸ³[wÄ“isÇ’u])æ˜¯åŸºäº <code>Node</code>å®ç°çš„è·¨å¹³å°æŠ“åŒ…è°ƒè¯•ä»£ç†å·¥å…·ï¼Œæœ‰ä»¥ä¸‹åŸºæœ¬åŠŸèƒ½ï¼š</p>
<ol>
<li>æŸ¥çœ‹ <code>HTTP</code>ã€<code>HTTPS</code>è¯·æ±‚å“åº”å†…å®¹</li>
<li>æŸ¥çœ‹ <code>WebSocket</code>ã€<code>Socket</code> æ”¶å‘çš„å¸§æ•°æ®</li>
<li>è®¾ç½®è¯·æ±‚ <code>hosts</code>ã€ä¸Šæ¸¸ <code>http/socks</code> ä»£ç†</li>
<li>ä¿®æ”¹è¯·æ±‚ <code>url</code> ã€æ–¹æ³•ã€å¤´éƒ¨ã€å†…å®¹</li>
<li>ä¿®æ”¹å“åº”çŠ¶æ€ç ã€å¤´éƒ¨ã€å†…å®¹ï¼Œå¹¶æ”¯æŒæœ¬åœ°æ›¿æ¢</li>
<li>ä¿®æ”¹ <code>WebSocket</code> æˆ– <code>Socket</code> æ”¶å‘çš„å¸§æ•°æ®</li>
<li>å†…ç½®è°ƒè¯•ç§»åŠ¨ç«¯é¡µé¢çš„ <code>weinre</code> å’Œ <code>log</code></li>
<li>ä½œä¸º <code>HTTP</code> ä»£ç†æˆ–åå‘ä»£ç†</li>
<li>æ”¯æŒç”¨ <code>Node</code> ç¼–å†™æ’ä»¶æ‰©å±•åŠŸèƒ½</li>
</ol>
<p>å¤§è‡´äº†è§£åï¼Œæˆ‘ä»¬æ¥å°è¯•å®‰è£…ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo npm install -g whistle</span><br></pre></td></tr></table></figure>

<blockquote>
<p>æ·˜å®é•œåƒï¼šnpm install whistle -g â€“registry=<a href="https://registry.npm.taobao.org" target="_blank" rel="noopener">https://registry.npm.taobao.org</a></p>
</blockquote>
<p><code>whistle</code> å®‰è£…å®Œæˆåï¼Œæ‰§è¡Œå‘½ä»¤ <code>whistle help</code> æˆ– <code>w2 help</code>ï¼ŒæŸ¥çœ‹ <code>whistle</code> çš„å¸®åŠ©ä¿¡æ¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">run       Start a front service</span><br><span class="line">start     Start a background service</span><br><span class="line">stop      Stop current background service</span><br><span class="line">restart   Restart current background service</span><br><span class="line">help      Display help information</span><br></pre></td></tr></table></figure>

<blockquote>
<p>è¿™é‡Œåªåˆ—å‡ºéƒ¨åˆ†å‘½ä»¤ï¼Œæ›´å¤šè¯· w2 help æŸ¥çœ‹ã€‚</p>
</blockquote>
<p>çœ‹åˆ°ä¸Šé¢çš„æ“ä½œï¼Œæˆ‘ä»¬ä½•ä¸è¯•è¯•ç¼©å†™ <code>w2 start</code> æ¥å¯åŠ¨æœåŠ¡ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">w2 start</span><br></pre></td></tr></table></figure>

<p>çœ‹åˆ°å¦‚ä¸‹çš„è¾“å‡ºï¼Œè¯´æ˜æœåŠ¡å·²ç»æ­£å¸¸å¯åŠ¨äº†ï¼š</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_jpg/1NOXMW586uv6XVHS9fJfeCggKwEYnvPGYCUTtVOiakJN9LoAJGSe0Q3aEyiaZEAYibuDmzN9valO3tHbcKkKSicpWw/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"></p>
<p>è¿™æ—¶å€™åœ¨æµè§ˆå™¨æ‰“å¼€é“¾æ¥ï¼ŒåŒæ—¶æ‰‹æœºä¸Šé…ç½®ä»£ç†ï¼ˆåŒ <code>Charles</code>ï¼‰ï¼Œæ¥ä¸‹æ¥å°±å¯ä»¥æ„‰å¿«çš„è°ƒè¯•äº†ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œ<code>whistle</code> çš„åŠŸèƒ½è¿œéå¦‚æ­¤ï¼Œæ›´å¤šçš„æ‰©å±•è¯·ç§»æ­¥å®˜ç½‘æ–‡æ¡£ï¼Œè´´å¼ å›¾å…ˆé¢„è§ˆä¸‹ï¼š</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_jpg/1NOXMW586uv6XVHS9fJfeCggKwEYnvPG43iak9r6lQ2cO908NJdTN6JnOe9zJyzlicYRUMTibTNWaZMyR9zM6FWoA/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"></p>
<blockquote>
<p>è®°å¾—å¼€å¯æ‹¦æˆª <code>HTTPS</code>ï¼šå‹¾é€‰ <code>Capture HTTPS CONNECTs</code></p>
</blockquote>
<h3 id="å…­ã€å®‰è£…-HTTPS-è¯ä¹¦"><a href="#å…­ã€å®‰è£…-HTTPS-è¯ä¹¦" class="headerlink" title="å…­ã€å®‰è£… HTTPS è¯ä¹¦"></a>å…­ã€å®‰è£… HTTPS è¯ä¹¦</h3><p>å¯¹äº <code>Charles</code>ï¼ŒæŒ‰ç…§å¦‚ä¸‹æ“ä½œå®‰è£…è¯ä¹¦ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">help-SSL - Proxying - install Charles root</span><br></pre></td></tr></table></figure>

<p><img src="https://mmbiz.qpic.cn/mmbiz_jpg/1NOXMW586uv6XVHS9fJfeCggKwEYnvPGTRe4npicqmibG2ZKhicTib5U30I0Ia2lzLZEH5uAbACwuYzbLStxuv3faA/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"></p>
<p>å¼¹å‡ºå®‰è£…è¯ä¹¦çš„æç¤ºæ¡†ï¼š</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_jpg/1NOXMW586uv6XVHS9fJfeCggKwEYnvPGMtQl9rGd7vdP2juoK81CS8oreAdqia1zwfAFzEPjwOyLpUNR52AftnQ/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"></p>
<blockquote>
<p>æŒ‰ç…§æç¤ºå»æ‰‹æœºæµè§ˆå™¨æ‰“å¼€ï¼š<code>chls.pro/ssl</code>ï¼Œå®‰è£…ä¿¡ä»»è¯ä¹¦å³å¯ã€‚</p>
</blockquote>
<p>å¯¹äº <code>spy-debugger</code>ï¼Œ<code>HTTPS</code> æŠ“åŒ…ï¼Œéœ€è¦å®‰è£…æ ¹è¯ä¹¦ï¼Œé€‰æ‹© <code>RootCA</code>ï¼Œæ‰«æäºŒç»´ç æŒ‰ç…§æç¤ºä¿¡ä»»è¯ä¹¦ã€‚å®‰è£…è¯ä¹¦çš„æ—¶å€™éœ€è¦æ³¨æ„ä»¥ä¸‹å‡ ä»¶äº‹æƒ…ï¼š</p>
<p>1.æ‰‹æœºå¿…é¡»å…ˆè®¾ç½®å®Œä»£ç†åå†é€šè¿‡(éå¾®ä¿¡)æ‰‹æœºæµè§ˆå™¨è®¿é—® <code>http://s.xxx</code> (åœ°å€äºŒç»´ç )å®‰è£…è¯ä¹¦ï¼›<br>2.æ‰‹æœºé¦–æ¬¡è°ƒè¯•éœ€è¦å®‰è£…è¯ä¹¦ï¼Œå·²å®‰è£…äº†è¯ä¹¦çš„æ‰‹æœºæ— éœ€é‡å¤å®‰è£…ï¼›<br>3.æ‰‹æœºå’Œ <code>PC</code> ä¿æŒåœ¨åŒä¸€ç½‘ç»œä¸‹ï¼ˆæ¯”å¦‚åŒæ—¶è¿åˆ°ä¸€ä¸ª <code>WIFI</code> ä¸‹ï¼‰ï¼›</p>
<blockquote>
<p>åˆ‡è®°ï¼šç§»åŠ¨è®¾å¤‡å’Œ PC å¿…é¡»åœ¨ä¸€ä¸ª WIFI ä¸‹ã€‚</p>
</blockquote>
<h3 id="ä¸ƒã€çœŸæœºè°ƒè¯•"><a href="#ä¸ƒã€çœŸæœºè°ƒè¯•" class="headerlink" title="ä¸ƒã€çœŸæœºè°ƒè¯•"></a>ä¸ƒã€çœŸæœºè°ƒè¯•</h3><p>ä¸Šé¢è¯´äº†å¾ˆå¤šï¼Œä½†æ˜¯å®é™…å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ä¸ä¼šç­‰ä¸Šçº¿äº†æ‰å»éªŒè¯å…¼å®¹æ€§ï¼Œæ‰€ä»¥ä½ å¯èƒ½éœ€è¦æå‰ã€ŒçœŸæœºè°ƒè¯•ã€ã€‚è¿™é‡Œæä¾›ä¸¤ç§æ–¹å¼ï¼š</p>
<blockquote>
<p><code>Chrome Remote Devices</code>ï¼šä¾èµ– Chrome æ¥è¿›è¡Œè¿œç¨‹è°ƒè¯•ï¼Œé€‚åˆå®‰å“æ‰‹æœºã€‚</p>
</blockquote>
<p>é¦–å…ˆï¼Œå¼€å¯ <code>Android</code> æ‰‹æœºçš„ã€Œå¼€å‘è€…é€‰é¡¹ã€ï¼Œå‹¾é€‰ ã€ŒUSB è°ƒè¯•ã€ã€‚<br>ç„¶åï¼Œ<code>Chrome</code> ä¸­è¾“å…¥ï¼š<code>chrome://inspect</code>ï¼Œè¿›å…¥è°ƒè¯•é¡µé¢ã€‚</p>
<p>å¾ˆå…¨é¢çš„ä¸€ç¯‡æ–‡ç« ï¼Œå¯ä»¥å‚è€ƒï¼šChrome è¿œç¨‹è°ƒè¯•ã€‚</p>
<blockquote>
<p><code>localhost</code> è½¬ <code>ip</code>ï¼Œæ‰«æäºŒç»´ç æ‰‹æœºæ˜¾ç¤ºï¼Œè¿™ä¸ªæ¯”è¾ƒç®€å•ã€‚</p>
</blockquote>
<p>å¯ä»¥åœ¨æµè§ˆå™¨å®‰è£…ä¸€ä¸ª <code>Chrome</code> æ’ä»¶ï¼Œç”¨äºå°†å½“å‰é¡µé¢é“¾æ¥è½¬æ¢æˆäºŒç»´ç ï¼Œè¿™æ ·å°±èƒ½è¾¹å¼€å‘è¾¹çœŸæœºé¢„è§ˆï¼Œéå¸¸æ–¹ä¾¿ã€‚</p>
<h3 id="å…«ã€è°ƒè¯•å·¥å…·"><a href="#å…«ã€è°ƒè¯•å·¥å…·" class="headerlink" title="å…«ã€è°ƒè¯•å·¥å…·"></a>å…«ã€è°ƒè¯•å·¥å…·</h3><p>è¿™é‡Œæ¨èä¸€æ¬¾è°ƒè¯•å·¥å…·ï¼švConsoleï¼Œä¸€ä¸ªè½»é‡ã€å¯æ‹“å±•ã€é’ˆå¯¹æ‰‹æœºç½‘é¡µçš„å‰ç«¯å¼€å‘è€…è°ƒè¯•é¢æ¿ã€‚å®‰è£…å¾ˆç®€å•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install vconsole</span><br></pre></td></tr></table></figure>

<p>å¦‚æœæœªä½¿ç”¨ <code>AMD/CMD</code> è§„èŒƒï¼Œå¯ç›´æ¥åœ¨ <code>HTML</code> ä¸­å¼•å…¥ <code>vConsole</code> æ¨¡å—ã€‚ä¸ºäº†ä¾¿äºåç»­æ‰©å±•ï¼Œå»ºè®®åœ¨ <code>&lt;head&gt;</code> ä¸­å¼•å…¥ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;head&gt;</span><br><span class="line">  &lt;script src&#x3D;&quot;path&#x2F;to&#x2F;vconsole.min.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">  &lt;script&gt;</span><br><span class="line"> var vConsole &#x3D; new VConsole();</span><br><span class="line">  &lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br></pre></td></tr></table></figure>

<p>å¦‚æœä½¿ç”¨äº† <code>AMD/CMD</code> è§„èŒƒï¼Œå¯åœ¨ <code>module</code> å†…ä½¿ç”¨ <code>require()</code> å¼•å…¥æ¨¡å—ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var VConsole &#x3D; require(&#39;path&#x2F;to&#x2F;vconsole.min.js&#39;);</span><br><span class="line">var vConsole &#x3D; new VConsole();</span><br></pre></td></tr></table></figure>

<blockquote>
<p>è¯·æ³¨æ„ï¼Œ<code>VConsole</code> åªæ˜¯ <code>vConsole</code> çš„åŸå‹ï¼Œè€Œéä¸€ä¸ªå·²å®ä¾‹åŒ–çš„å¯¹è±¡ã€‚</p>
</blockquote>
<p>æ‰€ä»¥åœ¨æ‰‹åŠ¨ <code>new</code> å®ä¾‹åŒ–ä¹‹å‰ï¼Œ<code>vConsole</code> ä¸ä¼šè¢«æ’å…¥åˆ°ç½‘é¡µä¸­ã€‚å¤§æ¦‚åŠŸèƒ½å¦‚ä¸‹å›¾ï¼š</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_jpg/1NOXMW586uv6XVHS9fJfeCggKwEYnvPGgpGJKoNJU52RPRqRoTQk3icaicDxjQLLXCb3mjcsHxfr2xtOmucVKbLg/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"></p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_jpg/1NOXMW586uv6XVHS9fJfeCggKwEYnvPGf2t3W9eBQjBN03LB7ebQ5y6FAKypnUiboCic162ELGIUTg6xktpz167w/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"></p>
<p>çœ‹èµ·æ¥å¾ˆå®Œç¾ï¼Œä½†æ˜¯æœ‰ä¸ªå°ç¼ºç‚¹ï¼šç½‘ç»œè¯·æ±‚ï¼Œéœ€è¦åˆ·æ–°é¡µé¢ï¼Œå¯æ˜¯å¾ˆå¤šå†…åµŒçš„ <code>H5</code> é¡µé¢æ˜¯æ²¡æœ‰æœºä¼šåˆ·æ–°é¡µé¢çš„ï¼Œæ‰€ä»¥éœ€è¦å®¢æˆ·ç«¯ç«¥é‹é…åˆå¢åŠ åˆ·æ–°çš„åŠŸèƒ½æ–¹ä¾¿è°ƒè¯•ã€‚</p>
<h3 id="ä¹ã€åœºæ™¯åˆ†æ"><a href="#ä¹ã€åœºæ™¯åˆ†æ" class="headerlink" title="ä¹ã€åœºæ™¯åˆ†æ"></a>ä¹ã€åœºæ™¯åˆ†æ</h3><blockquote>
<p>æ—¢ç„¶ç§»åŠ¨ç«¯è°ƒè¯•æœ‰è¿™ä¹ˆå¤šç§æ–¹æ¡ˆï¼Œé‚£åœ¨å®é™…æ“ä½œä¸­ï¼Œæˆ‘è¯¥å¦‚ä½•å–èˆï¼Ÿ</p>
</blockquote>
<p>è¯´äº†è¿™ä¹ˆå¤šé’Ÿæ–¹æ¡ˆï¼Œè¿™é‡Œæ€»ç»“ä¸€ä¸‹å„ä¸ªæ–¹æ¡ˆçš„é€‚ç”¨åœºæ™¯ï¼Œæ ¹æ®ä¸åŒçš„åœºæ™¯å»é€‰æ‹©æœ€ä½³çš„è°ƒè¯•æ–¹æ¡ˆï¼Œè¿™æ ·æ‰èƒ½æ›´å¿«é€Ÿçš„è¾“å‡ºï¼Œ<code>Carry</code> å…¨åœºï¼š</p>
<p>1.<code>Safari</code>ï¼š<code>iPhone</code> è°ƒè¯•åˆ©å™¨ï¼ŒæŸ¥é”™æ”¹æ ·å¼é¦–é€‰ï¼›<br>2.<code>iOS</code> æ¨¡æ‹Ÿå™¨ï¼šä¸éœ€è¦çœŸæœºï¼Œé€‚åˆè°ƒè¯• <code>Webview</code> å’Œ <code>H5</code> æœ‰é¢‘ç¹äº¤äº’çš„åŠŸèƒ½é¡µé¢ï¼›<br>3.<code>Charles</code>ï¼š<code>Mac OS</code> ç³»ç»Ÿé¦–é€‰çš„æŠ“åŒ…å·¥å…·ï¼Œé€‚åˆæŸ¥çœ‹ã€æ§åˆ¶ç½‘ç»œè¯·æ±‚ï¼Œåˆ†ææ•°æ®æƒ…å†µï¼›<br>4.<code>Fiddler</code>ï¼šé€‚åˆ <code>Windows</code> å¹³å°ï¼Œä¸ <code>Charles</code> ç±»ä¼¼ï¼ŒæŸ¥çœ‹ã€æ§åˆ¶ç½‘ç»œè¯·æ±‚ï¼Œåˆ†ææ•°æ®æƒ…å†µï¼›<br>5.<code>Spy-Debugger</code>ï¼šç§»åŠ¨ç«¯è°ƒè¯•çš„åˆ©å™¨ï¼Œä¾¿æ·çš„è¿œç¨‹è°ƒè¯•æ‰‹æœºé¡µé¢ã€æŠ“åŒ…å·¥å…·ï¼›<br>6.<code>Whistle</code>ï¼šåŸºäº <code>Node</code> å®ç°çš„è·¨å¹³å° <code>Web</code> è°ƒè¯•ä»£ç†å·¥å…·ï¼›<br>7.<code>Chrome Remote Devices</code>ï¼šä¾èµ– <code>Chrome</code> æ¥è¿›è¡Œè¿œç¨‹è°ƒè¯•ï¼Œé€‚åˆå®‰å“æ‰‹æœºè¿œç¨‹è°ƒè¯•é™æ€é¡µï¼›<br>8.<code>localhost</code> è½¬ <code>ip</code>ï¼šçœŸæœºè°ƒè¯•ï¼Œé€‚åˆè¿œç¨‹è°ƒè¯•é™æ€é¡µé¢ï¼›<br>9.<code>vConsole</code>ï¼šå†…ç½®äºé¡¹ç›®ï¼Œæ‰“å°ç§»åŠ¨ç«¯æ—¥å¿—ï¼ŒæŸ¥çœ‹ç½‘ç»œè¯·æ±‚ä»¥åŠæŸ¥çœ‹ <code>Cookie</code> å’Œ <code>Storage</code>ï¼›</p>
<h3 id="åã€ç™½å±å¤„ç†"><a href="#åã€ç™½å±å¤„ç†" class="headerlink" title="åã€ç™½å±å¤„ç†"></a>åã€ç™½å±å¤„ç†</h3><blockquote>
<p>ç§»åŠ¨ç«¯çš„ç™½å±æ˜¯æœ€å¤´ç–¼çš„é—®é¢˜ï¼Œè¿™é‡Œé¡ºå¸¦æä¾›å‡ ç§åˆ†æé—®é¢˜çš„æ€è·¯ï¼Œä»¥ä¾›å‚è€ƒã€‚</p>
</blockquote>
<p><strong>1.æ–¹æ¡ˆåˆ†æ â˜†</strong></p>
<p>ä¸€èˆ¬ä¸Šçº¿åå‡ºç°é—®é¢˜ï¼Œæˆ‘ä»¬æœ€å®¹æ˜“æƒ³åˆ°çš„å°±æ˜¯ï¼šæ˜¯å¦æ˜¯æ–°ä»£ç å¼•èµ·çš„é—®é¢˜ã€‚æ‰€ä»¥æœ‰æ•ˆè§£å†³æ‰‹æ®µå°±æ˜¯ã€Œæ§åˆ¶å˜é‡æ³•ã€ã€‚</p>
<p><strong>2.ä»£ç æ³¨é‡Šæ³• â˜†</strong></p>
<p>è«åå¥‡å¦™çš„ç™½å±ï¼Œé€‚åˆé¡µé¢æ— å¼‚å¸¸æ—¥å¿—ï¼ŒåŒæ—¶æ— è¯·æ±‚å‘é€ï¼Œé—®é¢˜é›†ä¸­åœ¨å•ä¸€é¡µé¢çš„æƒ…å†µã€‚è¿™ç§é—®é¢˜æ¯”è¾ƒç›´è§‚ï¼Œè‚¯å®šæ˜¯æŸä¸€é¡µé¢å‡ºç°äº†ä»£ç å¼‚å¸¸æˆ–æ˜¯æ— æ•ˆçš„ <code>return</code>ï¼Œå¯¼è‡´é¡µé¢æ¸²æŸ“ç»ˆæ­¢ï¼Œä½†å¹¶ä¸å±äºå¼‚å¸¸ã€‚è¿™æ—¶å€™ï¼Œã€Œä»£ç æ³¨é‡Šæ³•ã€å°†æ˜¯ä½ çš„æœ€ä½³é€‰æ‹©ï¼Œé€è¡Œå»æ³¨é‡Šå¯ä»¥ä»£ç ï¼Œç›´åˆ°å®šä½é—®é¢˜ã€‚</p>
<p><strong>3.ç±»åº“å¼‚å¸¸ï¼Œå…¼å®¹é—®é¢˜ â˜†</strong></p>
<p>è¿™ç§åœºæ™¯ä¹Ÿä¼šç»å¸¸é‡åˆ°ï¼Œæˆ‘ä»¬éœ€è¦ç”¨å¯ä»¥è°ƒè¯•é¡µé¢å¼‚å¸¸çš„æ–¹å¼ï¼Œå¦‚ <code>Safari</code>ï¼Œ<code>Spy-Debugger</code>ï¼Œ<code>Whistle</code>ï¼Œ<code>vConsole</code> æŸ¥çœ‹å¼‚å¸¸æ—¥å¿—ï¼Œä»è€Œè¿…é€Ÿå®šä½ç±»åº“ä½ç½®ï¼Œä»è€Œæ‰¾å¯»æ›¿æ¢æˆ–æ˜¯å…¼å®¹æ–¹æ¡ˆã€‚</p>
<p><strong>4.try catch â˜†â˜†</strong></p>
<p>å¦‚æœä½ çš„é¡¹ç›®æ²¡æœ‰å¼‚å¸¸ç›‘æ§ï¼Œé‚£ä¹ˆåœ¨å¯ç–‘çš„ä»£ç ç‰‡æ®µä¸­å» <code>Try Catch</code> å§ã€‚</p>
<p><strong>5.Debug åŒ… â˜†â˜†â˜†</strong></p>
<p>åœ¨ä½ çš„é¡¹ç›®ä¸­è£…ä¸Š <code>[vConsole](https://link.zhihu.com/?target=http%3A//jartto.wang/2018/11/01/mobile-debug/)</code>ï¼Œå¹¶é…åˆå®¢æˆ·ç«¯ <code>debug</code> æ’ä»¶ï¼Œ<code>360</code> åº¦æ— æ­»è§’ç›‘æ§å¼‚å¸¸ï¼Œè¿™æ‰æ˜¯æœ€æœ‰æ•ˆçš„æ–¹å¼ã€‚</p>
<p><strong>6.ES6 è¯­æ³•å…¼å®¹ â˜†</strong></p>
<p>ä¸€èˆ¬æˆ‘ä»¬éƒ½ä¼šé€šè¿‡ <code>Babel</code> æ¥ç¼–è¯‘ <code>ES6</code> ï¼Œä½†æ˜¯é¢å¤–çš„ç¬¬ä¸‰æ–¹ç±»åº“å¦‚æœæœ‰ä¸å…¼å®¹çš„è¯­æ³•ï¼Œä½ç‰ˆæœ¬çš„ç§»åŠ¨è®¾å¤‡å°±ä¼šå¼‚å¸¸ã€‚æ‰€ä»¥ï¼Œå…ˆç”¨ä¸Šæ–‡è®²è¿°çš„è°ƒè¯•æ–¹æ³•ï¼Œç¡®å®šå¼‚å¸¸ï¼Œç„¶åå»å¢åŠ  <code>[polyfill](https://link.zhihu.com/?target=https%3A//polyfill.io/v2/docs/examples)</code> æ¥å…¼å®¹å§ã€‚</p>
<p>å‚è€ƒé“¾æ¥ï¼š<a href="https://mp.weixin.qq.com/s/eUDhoFh7GhdY2oGoSnD88Q" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/eUDhoFh7GhdY2oGoSnD88Q</a></p>
]]></content>
      <categories>
        <category>ç§»åŠ¨ç«¯è°ƒè¯•</category>
      </categories>
      <tags>
        <tag>ç§»åŠ¨ç«¯è°ƒè¯•</tag>
      </tags>
  </entry>
  <entry>
    <title>HTML5</title>
    <url>/2020/07/22/HTML5/</url>
    <content><![CDATA[<h3 id="h5çŸ¥è¯†ç‚¹æ•´ç†"><a href="#h5çŸ¥è¯†ç‚¹æ•´ç†" class="headerlink" title="h5çŸ¥è¯†ç‚¹æ•´ç†"></a>h5çŸ¥è¯†ç‚¹æ•´ç†</h3><blockquote>
<ol>
<li>ä»»ä½•classå’Œidé‡Œéƒ½ä¸èƒ½åŒ…å«â€adâ€ è¿™ä¸ªå…³é”®å­—,å¦åˆ™ä¼šè¢«ä¸€äº›å¹¿å‘Šå±è”½è½¯ä»¶ç»™è¿‡æ»¤äº†</li>
</ol>
</blockquote>
<a id="more"></a>

<blockquote>
<ol start="2">
<li><input type="tel" placeholder="è¾“å…¥æ‰‹æœºå·" pattern="1[3-8][0-9]{9}" title="è¾“å…¥æ­£ç¡®çš„æ‰‹æœºå·">
</li>
</ol>
</blockquote>
<blockquote>
<ol start="3">
<li><meter min="0" low="40" high="90" max="100" value="95"></meter></li>
</ol>
</blockquote>
<blockquote>
<ol start="4">
<li><p contenteditable="true">è¿™é‡Œçš„å†…å®¹å¯ä»¥ç¼–è¾‘</p>
</li>
</ol>
</blockquote>
<blockquote>
<ol start="5">
<li><p>ä½¿ç”¨inputæ•°å­—numberç±»å‹çš„æ—¶å€™maxlengthæ— æ•ˆï¼Œå‡è®¾éœ€è¦æ§åˆ¶è¾“å…¥æ•°é‡ä¸º5ï¼Œå¯ä»¥ç”¨ä»¥ä¸‹æ–¹å¼ï¼š</p>
<p>æ— æ•ˆï¼š <input type="number" maxlength="5"></p>
<p>æœ‰æ•ˆï¼š<input type="number" oninput="if(value.length>5)value=value.slice(0,5)"> </p>
</li>
</ol>
</blockquote>
<blockquote>
<ol start="6">
<li><p>telã€email</p>
<p>ä¾‹å¦‚è¯´å½“type=telçš„æ—¶å€™,åœ¨æ‰‹æœºä¸Šæ‰“å¼€é¡µé¢ä¼šå‡ºç°ç”µè¯é”®ç›˜(ä¸æ˜¯æ•°å­—é”®ç›˜,ä¸¤è€…å¹¶ä¸ä¸€æ ·,ç”µè¯é”®ç›˜è¿˜åŒ…æ‹¬*å’Œ#)</p>
<p>å½“type=emailçš„æ—¶å€™,ä¼šå‡ºç°å¸¦@å’Œ.comç¬¦å·çš„å…¨é”®ç›˜(å„è®¾é…å„ç³»ç»Ÿå®ç°è²Œä¼¼æœ‰å·®å¼‚)</p>
</li>
</ol>
</blockquote>
<blockquote>
<ol start="7">
<li><a href="http://www.baidu.com/link?url=gFF8MX53uYP6kl_JnWUbWmEEIn6gA5irf5C_fBWwLtTEccOmxfwGpe899O79mYaM" target="_blank" rel="noopener">HTMLé¡µé¢é¡¶éƒ¨å‡ºç°ç©ºç™½éƒ¨åˆ†(&amp;#65279)å­—ç¬¦çš„å®Œç¾è§£å†³åŠæ³•</a></li>
</ol>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;script&gt;	</span><br><span class="line">   <span class="keyword">var</span> a=<span class="built_in">document</span>.body.innerHTML;   </span><br><span class="line">   <span class="built_in">document</span>.body.innerHTML=a.replace(<span class="regexp">/\ufeff/g</span>,<span class="string">''</span>);</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<ol start="8">
<li><p>iosçš„readonlyä¸å…¼å®¹</p>
<p>unselectable=â€onâ€ onfocus=â€this.blur()â€</p>
</li>
</ol>
</blockquote>
<blockquote>
<ol start="9">
<li><p>formè¡¨å•è·å–input</p>
<p><img src="/2020/07/22/HTML5/Users/admin/AppData/Local/YNote/data/weixinobU7VjrjuSqZnu6-xPbfCXnjhBIM/2bb1822c99ae4a2c8ea984da3389235a/clipboard.png" alt="img"></p>
<p>document.tmform.tmtext.value</p>
<p>document.tmform.halou.value</p>
</li>
</ol>
</blockquote>
<p><img src="/2020/07/22/HTML5/Users/admin/AppData/Local/YNote/data/weixinobU7VjrjuSqZnu6-xPbfCXnjhBIM/379f847913f84ae7b460e3cbbad01e88/clipboard.png" alt="img"></p>
<p><img src="/2020/07/22/HTML5/Users/admin/AppData/Local/YNote/data/weixinobU7VjrjuSqZnu6-xPbfCXnjhBIM/9899b3677e414966a858ad82672e734f/clipboard.png" alt="img"></p>
<p><img src="/2020/07/22/HTML5/Users/admin/AppData/Local/YNote/data/weixinobU7VjrjuSqZnu6-xPbfCXnjhBIM/822799eecfd840f984dceb5711939da9/clipboard.png" alt="img"></p>
<p>select</p>
<p><img src="/2020/07/22/HTML5/Users/admin/AppData/Local/YNote/data/weixinobU7VjrjuSqZnu6-xPbfCXnjhBIM/df2aea69272c4df2bf5e36c37900c36f/clipboard.png" alt="img"></p>
]]></content>
      <categories>
        <category>html</category>
      </categories>
      <tags>
        <tag>html</tag>
      </tags>
  </entry>
  <entry>
    <title>Promise</title>
    <url>/2020/08/06/Promise/</url>
    <content><![CDATA[<p>æœ¬è´¨ä¸ŠPromiseæ˜¯ä¸€ä¸ªå‡½æ•°è¿”å›çš„å¯¹è±¡ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å®ƒä¸Šé¢ç»‘å®šå›è°ƒå‡½æ•°ï¼Œè¿™æ ·æˆ‘ä»¬å°±ä¸éœ€è¦åœ¨ä¸€å¼€å§‹æŠŠå›è°ƒå‡½æ•°ä½œä¸ºå‚æ•°ä¼ å…¥è¿™ä¸ªå‡½æ•°äº†ã€‚</p>
<p>å‡è®¾ç°åœ¨æœ‰ä¸€ä¸ªåä¸º <code>createAudioFileAsync()</code> çš„å‡½æ•°ï¼Œå®ƒæ¥æ”¶ä¸€äº›é…ç½®å’Œä¸¤ä¸ªå›è°ƒå‡½æ•°ï¼Œç„¶åå¼‚æ­¥åœ°ç”ŸæˆéŸ³é¢‘æ–‡ä»¶ã€‚ä¸€ä¸ªå›è°ƒå‡½æ•°åœ¨æ–‡ä»¶æˆåŠŸåˆ›å»ºæ—¶çš„è¢«è°ƒç”¨ï¼Œå¦ä¸€ä¸ªåˆ™åœ¨å‡ºç°å¼‚å¸¸æ—¶çš„è¢«è°ƒç”¨ã€‚</p>
<p>ä»¥ä¸‹ä¸ºä½¿ç”¨ <code>createAudioFileAsync()</code> çš„ç¤ºä¾‹ï¼š</p>
<a id="more"></a>

<h3 id="promiseå®šä¹‰å’Œç”¨æ³•"><a href="#promiseå®šä¹‰å’Œç”¨æ³•" class="headerlink" title="promiseå®šä¹‰å’Œç”¨æ³•"></a>promiseå®šä¹‰å’Œç”¨æ³•</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; æˆåŠŸçš„å›è°ƒå‡½æ•°</span><br><span class="line">function successCallback(result) &#123;</span><br><span class="line">  console.log(&quot;éŸ³é¢‘æ–‡ä»¶åˆ›å»ºæˆåŠŸ: &quot; + result);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; å¤±è´¥çš„å›è°ƒå‡½æ•°</span><br><span class="line">function failureCallback(error) &#123;</span><br><span class="line">  console.log(&quot;éŸ³é¢‘æ–‡ä»¶åˆ›å»ºå¤±è´¥: &quot; + error);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;æ™®é€šå®šä¹‰å’Œç”¨æ³•</span><br><span class="line">function createAudioFileAsync(params, successCallback, failureCallback) &#123;</span><br><span class="line">  console.log(params);</span><br><span class="line">  successCallback&amp;&amp;successCallback()</span><br><span class="line">  failureCallback&amp;&amp;failureCallback()</span><br><span class="line">&#125;</span><br><span class="line">createAudioFileAsync(&quot;æˆ‘æ˜¯ä¼ å…¥å‚æ•°&quot;, successCallback(&#39;result&#39;), failureCallback(&#39;error&#39;))</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;promiseå®šä¹‰å’Œç”¨æ³•</span><br><span class="line">function createAudioFileAsync(params) &#123;</span><br><span class="line">  return new Promise((resolve, reject) &#x3D;&gt; &#123;</span><br><span class="line">    resolve(</span><br><span class="line">      console.log(params)</span><br><span class="line">    )</span><br><span class="line">    reject(</span><br><span class="line">      console.log(&#39;reject--æˆ‘æ˜¯æ‹’ç»å›è°ƒ&#39;)</span><br><span class="line">    )</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line">createAudioFileAsync(&quot;æˆ‘æ˜¯ä¼ å…¥å‚æ•°&quot;).then(successCallback(&#39;result&#39;), failureCallback(&#39;error&#39;));</span><br></pre></td></tr></table></figure>

<h3 id="promiseé“¾å¼è°ƒç”¨"><a href="#promiseé“¾å¼è°ƒç”¨" class="headerlink" title="promiseé“¾å¼è°ƒç”¨"></a>promiseé“¾å¼è°ƒç”¨</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;åœ¨è¿‡å»ï¼Œè¦æƒ³åšå¤šé‡çš„å¼‚æ­¥æ“ä½œï¼Œä¼šå¯¼è‡´ç»å…¸çš„å›è°ƒåœ°ç‹±ï¼š</span><br><span class="line">function doSomething(ftc,fail) &#123;</span><br><span class="line">  ftc &amp;&amp; ftc(&#39;doSomething&#39;)</span><br><span class="line">  fail &amp;&amp; fail()</span><br><span class="line">&#125;</span><br><span class="line">function doSomethingElse(ftc, callback, fail) &#123;</span><br><span class="line">  callback &amp;&amp; callback(ftc)</span><br><span class="line">  fail &amp;&amp; fail()</span><br><span class="line">&#125;</span><br><span class="line">function doThirdThing(ftc, callback, fail) &#123;</span><br><span class="line">  callback &amp;&amp; callback(ftc)</span><br><span class="line">  fail &amp;&amp; fail()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">doSomething(function (result) &#123;</span><br><span class="line">  doSomethingElse(result, function (newResult) &#123;</span><br><span class="line">    doThirdThing(newResult, function (finalResult) &#123;</span><br><span class="line">      console.log(finalResult);</span><br><span class="line">    &#125;,failureCallback);</span><br><span class="line">  &#125;,failureCallback);</span><br><span class="line">&#125;,failureCallback);</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå›è°ƒç»‘å®šåˆ°è¿”å›çš„ Promise ä¸Šï¼Œå½¢æˆä¸€ä¸ª Promise é“¾ï¼š</span><br><span class="line">function doSomething() &#123;</span><br><span class="line">  return new Promise((resolve,reject)&#x3D;&gt;&#123;</span><br><span class="line">    resolve(&#39;doSomething&#39;)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line">function doSomethingElse(name) &#123;</span><br><span class="line">  return new Promise((resolve, reject) &#x3D;&gt; &#123;</span><br><span class="line">    resolve(name + &#39;1&#39;)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line">function doThirdThing(name) &#123;</span><br><span class="line">  return new Promise((resolve, reject) &#x3D;&gt; &#123;</span><br><span class="line">    resolve(name + &#39;2&#39;)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line">doSomething().then(function (result) &#123;</span><br><span class="line">  return doSomethingElse(result);</span><br><span class="line">&#125;)</span><br><span class="line">  .then(function (newResult) &#123;</span><br><span class="line">    return doThirdThing(newResult);</span><br><span class="line">  &#125;)</span><br><span class="line">  .then(function (finalResult) &#123;</span><br><span class="line">    console.log(&#39;Got the final result: &#39; + finalResult);</span><br><span class="line">  &#125;)</span><br><span class="line">  .catch(failureCallback);</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; ç®€å†™</span><br><span class="line">doSomething().then(result&#x3D;&gt; &#123;</span><br><span class="line">  return doSomethingElse(result);</span><br><span class="line">&#125;)</span><br><span class="line">  .then(newResult&#x3D;&gt; &#123;</span><br><span class="line">    return doThirdThing(newResult);</span><br><span class="line">  &#125;)</span><br><span class="line">  .then(finalResult&#x3D;&gt; &#123;</span><br><span class="line">    console.log(&#39;Got the final result: &#39; + finalResult);</span><br><span class="line">  &#125;)</span><br><span class="line">  .catch(failureCallback);</span><br><span class="line"></span><br><span class="line">() &#x3D;&gt; x æ˜¯ () &#x3D;&gt; &#123; return x; &#125;çš„ç®€å†™</span><br></pre></td></tr></table></figure>



<h3 id="Pomise-allçš„ä½¿ç”¨"><a href="#Pomise-allçš„ä½¿ç”¨" class="headerlink" title="Pomise.allçš„ä½¿ç”¨"></a>Pomise.allçš„ä½¿ç”¨</h3><p>Promise.allå¯ä»¥å°†å¤šä¸ªPromiseå®ä¾‹åŒ…è£…æˆä¸€ä¸ªæ–°çš„Promiseå®ä¾‹ã€‚åŒæ—¶ï¼ŒæˆåŠŸå’Œå¤±è´¥çš„è¿”å›å€¼æ˜¯ä¸åŒçš„ï¼ŒæˆåŠŸçš„æ—¶å€™è¿”å›çš„æ˜¯ä¸€ä¸ªç»“æœæ•°ç»„ï¼Œè€Œå¤±è´¥çš„æ—¶å€™åˆ™è¿”å›æœ€å…ˆè¢«rejectå¤±è´¥çŠ¶æ€çš„å€¼ã€‚</p>
<p>å…·ä½“ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let p1 &#x3D; new Promise((resolve, reject) &#x3D;&gt; &#123;</span><br><span class="line">  resolve(&#39;æˆåŠŸäº†&#39;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">let p2 &#x3D; new Promise((resolve, reject) &#x3D;&gt; &#123;</span><br><span class="line">  resolve(&#39;success&#39;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">let p3 &#x3D; Promise.reject(&#39;å¤±è´¥&#39;)</span><br><span class="line"></span><br><span class="line">Promise.all([p1, p2]).then((result) &#x3D;&gt; &#123;</span><br><span class="line">  console.log(result)               &#x2F;&#x2F;[&#39;æˆåŠŸäº†&#39;, &#39;success&#39;]</span><br><span class="line">&#125;).catch((error) &#x3D;&gt; &#123;</span><br><span class="line">  console.log(error)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">Promise.all([p1,p3,p2]).then((result) &#x3D;&gt; &#123;</span><br><span class="line">  console.log(result)</span><br><span class="line">&#125;).catch((error) &#x3D;&gt; &#123;</span><br><span class="line">  console.log(error)      &#x2F;&#x2F; å¤±è´¥äº†ï¼Œæ‰“å‡º &#39;å¤±è´¥&#39;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>



<p><strong>Promse.allåœ¨å¤„ç†å¤šä¸ªå¼‚æ­¥å¤„ç†æ—¶éå¸¸æœ‰ç”¨ï¼Œæ¯”å¦‚è¯´ä¸€ä¸ªé¡µé¢ä¸Šéœ€è¦ç­‰ä¸¤ä¸ªæˆ–å¤šä¸ªajaxçš„æ•°æ®å›æ¥ä»¥åæ‰æ­£å¸¸æ˜¾ç¤ºï¼Œåœ¨æ­¤ä¹‹å‰åªæ˜¾ç¤ºloadingå›¾æ ‡ã€‚</strong></p>
<ul>
<li>ä»£ç æ¨¡æ‹Ÿï¼š</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let wake &#x3D; (time) &#x3D;&gt; &#123;</span><br><span class="line">  return new Promise((resolve, reject) &#x3D;&gt; &#123;</span><br><span class="line">    setTimeout(() &#x3D;&gt; &#123;</span><br><span class="line">      resolve(&#96;$&#123;time &#x2F; 1000&#125;ç§’åé†’æ¥&#96;)</span><br><span class="line">    &#125;, time)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let p1 &#x3D; wake(3000)</span><br><span class="line">let p2 &#x3D; wake(2000)</span><br><span class="line"></span><br><span class="line">Promise.all([p1, p2]).then((result) &#x3D;&gt; &#123;</span><br><span class="line">  console.log(result)       &#x2F;&#x2F; [ &#39;3ç§’åé†’æ¥&#39;, &#39;2ç§’åé†’æ¥&#39; ]</span><br><span class="line">&#125;).catch((error) &#x3D;&gt; &#123;</span><br><span class="line">  console.log(error)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>



<p><strong>éœ€è¦ç‰¹åˆ«æ³¨æ„çš„æ˜¯ï¼ŒPromise.allè·å¾—çš„æˆåŠŸç»“æœçš„æ•°ç»„é‡Œé¢çš„æ•°æ®é¡ºåºå’ŒPromise.allæ¥æ”¶åˆ°çš„æ•°ç»„é¡ºåºæ˜¯ä¸€è‡´çš„ï¼Œå³p1çš„ç»“æœåœ¨å‰ï¼Œå³ä¾¿p1çš„ç»“æœè·å–çš„æ¯”p2è¦æ™šã€‚è¿™å¸¦æ¥äº†ä¸€ä¸ªç»å¤§çš„å¥½å¤„ï¼šåœ¨å‰ç«¯å¼€å‘è¯·æ±‚æ•°æ®çš„è¿‡ç¨‹ä¸­ï¼Œå¶å°”ä¼šé‡åˆ°å‘é€å¤šä¸ªè¯·æ±‚å¹¶æ ¹æ®è¯·æ±‚é¡ºåºè·å–å’Œä½¿ç”¨æ•°æ®çš„åœºæ™¯ï¼Œä½¿ç”¨Promise.allæ¯«æ— ç–‘é—®å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</strong></p>
<h3 id="Promise-raceçš„ä½¿ç”¨"><a href="#Promise-raceçš„ä½¿ç”¨" class="headerlink" title="Promise.raceçš„ä½¿ç”¨"></a>Promise.raceçš„ä½¿ç”¨</h3><p>é¡¾åæ€ä¹‰ï¼ŒPromse.raceå°±æ˜¯èµ›è·‘çš„æ„æ€ï¼Œæ„æ€å°±æ˜¯è¯´ï¼ŒPromise.race([p1, p2, p3])é‡Œé¢å“ªä¸ªç»“æœè·å¾—çš„å¿«ï¼Œå°±è¿”å›é‚£ä¸ªç»“æœï¼Œä¸ç®¡ç»“æœæœ¬èº«æ˜¯æˆåŠŸçŠ¶æ€è¿˜æ˜¯å¤±è´¥çŠ¶æ€ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let p1 &#x3D; new Promise((resolve, reject) &#x3D;&gt; &#123;</span><br><span class="line">  setTimeout(() &#x3D;&gt; &#123;</span><br><span class="line">    resolve(&#39;success&#39;)</span><br><span class="line">  &#125;,1000)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">let p2 &#x3D; new Promise((resolve, reject) &#x3D;&gt; &#123;</span><br><span class="line">  setTimeout(() &#x3D;&gt; &#123;</span><br><span class="line">    reject(&#39;failed&#39;)</span><br><span class="line">  &#125;, 500)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">Promise.race([p1, p2]).then((result) &#x3D;&gt; &#123;</span><br><span class="line">  console.log(result)</span><br><span class="line">&#125;).catch((error) &#x3D;&gt; &#123;</span><br><span class="line">  console.log(error)  &#x2F;&#x2F; æ‰“å¼€çš„æ˜¯ &#39;failed&#39;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>promise</category>
      </categories>
      <tags>
        <tag>promise</tag>
        <tag>es6</tag>
        <tag>js</tag>
      </tags>
  </entry>
  <entry>
    <title>Vs</title>
    <url>/2020/07/15/Vs/</url>
    <content><![CDATA[<h4 id="å¿«æ·é”®"><a href="#å¿«æ·é”®" class="headerlink" title="å¿«æ·é”®"></a>å¿«æ·é”®</h4><p>1.å¤åˆ¶/å‰ªåˆ‡/åˆ é™¤æ•´è¡Œä»£ç </p>
<blockquote>
<p>1)å¦‚æœä½ æƒ³å¤åˆ¶ä¸€æ•´è¡Œä»£ç ï¼Œåªéœ€å°†å…‰æ ‡ç§»è‡³è¯¥è¡Œï¼Œå†ä½¿ç”¨ç»„åˆé”®â€œCtrl+Câ€æ¥å®Œæˆå¤åˆ¶æ“ä½œï¼Œè€Œæ— éœ€é€‰æ‹©æ•´è¡Œã€‚</p>
<p>2)å¦‚æœä½ æƒ³å‰ªåˆ‡ä¸€æ•´è¡Œä»£ç ï¼Œåªéœ€å°†å…‰æ ‡ç§»è‡³è¯¥è¡Œï¼Œå†ä½¿ç”¨ç»„åˆé”®â€œCtrl+Xâ€æ¥å®Œæˆå‰ªåˆ‡æ“ä½œï¼Œè€Œæ— éœ€é€‰æ‹©æ•´è¡Œã€‚</p>
<p>3)å¦‚æœä½ æƒ³åˆ é™¤ä¸€æ•´è¡Œä»£ç ï¼Œåªéœ€å°†å…‰æ ‡ç§»è‡³è¯¥è¡Œï¼Œå†ä½¿ç”¨ç»„åˆé”®â€œCtrl+Lâ€æ¥å®Œæˆå‰ªåˆ‡æ“ä½œï¼Œè€Œæ— éœ€é€‰æ‹©æ•´è¡Œã€‚</p>
</blockquote>
<p>2.æ’¤é”€/åæ’¤é”€</p>
]]></content>
      <categories>
        <category>vs</category>
      </categories>
      <tags>
        <tag>soft</tag>
        <tag>tool</tag>
        <tag>vs</tag>
      </tags>
  </entry>
  <entry>
    <title>VsCode</title>
    <url>/2020/07/15/VsCode/</url>
    <content><![CDATA[<h4 id="ä¸‹è½½"><a href="#ä¸‹è½½" class="headerlink" title="ä¸‹è½½"></a>ä¸‹è½½</h4><blockquote>
<p>å®˜ç½‘ä¸‹è½½ï¼š<a href="https://code.visualstudio.com/" target="_blank" rel="noopener">https://code.visualstudio.com/</a></p>
</blockquote>
<a id="more"></a>

<h4 id="å¿«æ·é”®"><a href="#å¿«æ·é”®" class="headerlink" title="å¿«æ·é”®"></a>å¿«æ·é”®</h4><blockquote>
<p>*<em>Alt+Z *</em>  (æ–‡ä»¶è‡ªåŠ¨æ¢è¡Œ)</p>
<p><strong>Ctrl + /**</strong> ï¼ˆå•è¡Œæ³¨é‡Šï¼‰</p>
<p>*<em>Shift + Alt + A *</em>ï¼ˆå¤šè¡Œæ³¨é‡Šï¼‰ è‹¥è¦å–æ¶ˆå•è¡Œæˆ–å¤šè¡Œæ³¨é‡Šåœ¨æŒ‰ä¸€æ¬¡è¯¥å¿«æ·é”®å³å¯</p>
<p><strong>Ctrl + Shift + Enter</strong> ï¼ˆä¸Šæ–¹æ’å…¥ä¸€è¡Œï¼Œé¼ æ ‡å…‰æ ‡åœ¨å½“å‰è¡Œçš„ä»»æ„ä½ç½®éƒ½å¯ä»¥ç›´æ¥æ¢è¡Œåˆ°ä¸Šä¸€è¡Œï¼‰</p>
<p>*<em>Ctrl + Enter *</em>ï¼ˆä¸‹æ–¹æ’å…¥ä¸€è¡Œï¼Œé¼ æ ‡å…‰æ ‡åœ¨å½“å‰è¡Œçš„ä»»æ„ä½ç½®éƒ½å¯ä»¥ç›´æ¥æ¢è¡Œåˆ°ä¸‹ä¸€è¡Œï¼‰</p>
<p>*<em>Alt + Shift + F *</em>ï¼ˆæ ¼å¼åŒ–ä»£ç ï¼Œä¸éœ€è¦å…¨é€‰ä¸­ä»£ç ï¼Œç›´æ¥æ ¼å¼åŒ–å³å¯ï¼‰</p>
<p>*<em>Ctrl + Shift + F *</em>ï¼ˆæŸ¥æ‰¾æ–‡ä»¶ï¼‰</p>
<p>*<em>Ctrl + Shift + T *</em>ï¼ˆé‡æ–°æ‰“å¼€æœ€è¿‘å…³é—­çš„çª—å£ï¼‰</p>
<p><strong>Ctrl + p</strong>å³è¾¹ä¼šå¼¹å‡ºæ‰€æœ‰å¿«æ·é”®ç›®å½•</p>
<p><strong>Ctrl + Shift + [</strong>   (ä»£ç æŠ˜å )</p>
<p><strong>Ctrl + Shift + ]</strong>  (ä»£ç å±•å¼€)</p>
<p>*<em>Shift + Alt + Up/Down *</em> ï¼ˆå‘ä¸Š/å‘ä¸‹ å¤åˆ¶è¡Œï¼‰</p>
<p><strong>Ctrl + backspace</strong> ï¼ˆåˆ é™¤ä¸Šä¸€ä¸ªå•è¯ï¼‰</p>
<p><strong>F2</strong>  (å¯¹å½“å‰æ–‡ä»¶æŸä¸€ä¸ªå•è¯å…¨éƒ¨é‡å‘½åï¼Œä¸Šä¸‹æ–‡ä¸­çš„å¼•ç”¨éƒ½ä¼šè¢«é‡å‘½å)</p>
<p><strong>ctrl+F2</strong>  (æ‰¾åˆ°å½“å‰æ–‡ä»¶æ‰€æœ‰æŸä¸ªå•è¯ï¼Œå…‰æ ‡å¤„äºå•è¯çš„æœ«å°¾)</p>
<p>*<em>å¤šè¡Œè½¬ä¸€è¡Œ *</em>ï¼ˆé€‰ä¸­ï¼Œctrl+shift+p è¾“å…¥ join linesï¼Œç‚¹å‡»è®¾ç½®å¯ä»¥è®¾ç½®å¿«æ·é”®alt+qï¼‰</p>
<p><strong>å»æ‰å°¾éšç©ºæ ¼</strong></p>
<p><img src="/2020/07/15/VsCode/C:%5CUsers%5Cdali%5CDesktop%5C%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20210205094421.jpg" alt="å¾®ä¿¡å›¾ç‰‡_20210205094421"></p>
</blockquote>
<h4 id="codeæ”¹æˆä¸­æ–‡"><a href="#codeæ”¹æˆä¸­æ–‡" class="headerlink" title="codeæ”¹æˆä¸­æ–‡"></a>codeæ”¹æˆä¸­æ–‡</h4><blockquote>
<p>æ–¹æ³•ä¸€ï¼šç‚¹å‡»æ’ä»¶æŒ‰é’®æœç´¢ Chinese</p>
<p>æ–¹æ³•äºŒï¼š</p>
<p>1ï¼‰æ‰“å¼€vscodeå·¥å…·ï¼›</p>
<p>2ï¼‰ä½¿ç”¨å¿«æ·é”®ç»„åˆã€Ctrl+Shift+pã€‘ï¼Œåœ¨æœç´¢æ¡†ä¸­è¾“å…¥â€œconfigure display languageâ€ï¼Œç‚¹å‡»ç¡®å®šåï¼›</p>
<p>3ï¼‰ä¿®æ”¹locale.jsonæ–‡ä»¶ä¸‹çš„å±æ€§â€œlocaleâ€ä¸ºâ€œzh-CNâ€;</p>
<p>4ï¼‰é‡å¯vscodeå·¥å…·ï¼›</p>
<p>æˆ–è€… æ±‰åŒ–ä¸­æ–‡ï¼ˆæ’ä»¶ï¼‰</p>
<p>ç‚¹å‡»æ’ä»¶æŒ‰é’®æœç´¢ Chinese, åœ¨å¼¹å‡ºçš„é€‰é¡¹ä¸­é€‰æ‹©ç¬¬ä¸€ä¸ªä¸­æ–‡ç®€ä½“</p>
<p>ç„¶åå³è¾¹ä¼šå¼¹å‡ºå¦‚ä¸‹å›¾å®‰è£…ç•Œé¢ï¼Œæ¥ç€ç‚¹å‡» Install å®‰è£…</p>
</blockquote>
<h4 id="è‡ªåŠ¨ä¿å­˜è®¾ç½®"><a href="#è‡ªåŠ¨ä¿å­˜è®¾ç½®" class="headerlink" title="è‡ªåŠ¨ä¿å­˜è®¾ç½®"></a>è‡ªåŠ¨ä¿å­˜è®¾ç½®</h4><blockquote>
<p>Fileï¼ˆæ–‡ä»¶ï¼‰- Preferencesï¼ˆé¦–é€‰é¡¹ï¼‰- Setting ï¼ˆè®¾ç½®ï¼‰ç„¶åå¼¹å‡ºä¸‹é¢ç•Œé¢ï¼Œé€‰æ‹©Userï¼ˆä¸€èˆ¬ä¼šé»˜è®¤é€‰ä¸­è¯¥é€‰é¡¹ï¼‰ï¼Œ </p>
<p>æ¥ç€å¦‚ä¸‹å›¾é€‰æ‹©afterdelayé€‰é¡¹å³å¯ï¼Œä¸‹é¢æœ‰ä¸ªæ•°å­—1000è¡¨ç¤º1ç§’ï¼Œè¿™ä¸ªå¯è‡ªè¡Œè®¾ç½®ï¼Œè¡¨ç¤ºå¤šå°‘ç§’ä»¥åè‡ªåŠ¨ä¿å­˜</p>
</blockquote>
<h4 id="è‡ªåŠ¨æ ¼å¼åŒ–ä»£ç "><a href="#è‡ªåŠ¨æ ¼å¼åŒ–ä»£ç " class="headerlink" title="è‡ªåŠ¨æ ¼å¼åŒ–ä»£ç "></a>è‡ªåŠ¨æ ¼å¼åŒ–ä»£ç </h4><blockquote>
<p>Fileï¼ˆæ–‡ä»¶ï¼‰- Preferencesï¼ˆé¦–é€‰é¡¹ï¼‰- Setting ï¼ˆè®¾ç½®ï¼‰</p>
<p>Userï¼ˆç”¨æˆ·ï¼‰- Text-Editorï¼ˆæ–‡æœ¬ç¼–è¾‘ï¼‰- Formatngï¼ˆæ ¼å¼åŒ–ï¼‰</p>
<p>ç„¶åå‹¾é€‰ä¸‹å›¾çº¢è‰²æ¡†ä¸­çš„é€‰é¡¹åé‡å¯Vscodeå³å¯</p>
</blockquote>
<h4 id="Vscodeæ›´æ¢ä¸»é¢˜"><a href="#Vscodeæ›´æ¢ä¸»é¢˜" class="headerlink" title="Vscodeæ›´æ¢ä¸»é¢˜"></a>Vscodeæ›´æ¢ä¸»é¢˜</h4><blockquote>
<p>Fileï¼ˆæ–‡ä»¶ï¼‰- Preferencesï¼ˆé¦–é€‰é¡¹ï¼‰- Color-Theme ï¼ˆé¢œè‰²ä¸»é¢˜ï¼‰</p>
<p>ç„¶åä¼šå‡ºç°ä¸‹å›¾çº¢è‰²æ¡†çš„ç•Œé¢ï¼Œæ­¤æ—¶æŒ‰é”®ç›˜ä¸Šçš„ä¸Šä¸‹é”®å³å¯å®æ—¶æŸ¥çœ‹ä¸»é¢˜é¢œè‰²ï¼Œç›´æ¥å›è½¦å¯é€‰ä¸­å¯¹åº”ä¸»é¢˜</p>
<p>æ³¨ï¼šå¯ä»¥ç‚¹å‡»æ’ä»¶ç›´æ¥æœç´¢ theme ä¸‹è½½å…¶å®ƒéå†…ç½®ä¸»é¢˜</p>
</blockquote>
<h4 id="éšè—æ–‡ä»¶å¤¹"><a href="#éšè—æ–‡ä»¶å¤¹" class="headerlink" title="éšè—æ–‡ä»¶å¤¹"></a>éšè—æ–‡ä»¶å¤¹</h4><h5 id="1-ç‚¹å‡»å¿«æ·é”®Ctrl-Command-Shift-Pï¼Œè¾“å…¥settingï¼Œé€‰æ‹©User-Settingsé‚£ä¸€é¡¹ï¼›"><a href="#1-ç‚¹å‡»å¿«æ·é”®Ctrl-Command-Shift-Pï¼Œè¾“å…¥settingï¼Œé€‰æ‹©User-Settingsé‚£ä¸€é¡¹ï¼›" class="headerlink" title="1. ç‚¹å‡»å¿«æ·é”®Ctrl/Command+Shift+Pï¼Œè¾“å…¥settingï¼Œé€‰æ‹©User Settingsé‚£ä¸€é¡¹ï¼›"></a>1. ç‚¹å‡»å¿«æ·é”®Ctrl/Command+Shift+Pï¼Œè¾“å…¥settingï¼Œé€‰æ‹©User Settingsé‚£ä¸€é¡¹ï¼›</h5><p><img src="https://img2020.cnblogs.com/blog/1991547/202005/1991547-20200531092521602-901731205.png" alt="æŒ‰å¿«æ·é”®Ctrl/Command+Shift+P"><br><img src="https://img2020.cnblogs.com/blog/1991547/202005/1991547-20200531092631020-909971842.png" alt="é€‰æ‹©User Settings"></p>
<h5 id="2-ç‚¹å‡»VS-Codeå³ä¸Šè§’çš„å°å›¾æ ‡æŸ¥çœ‹è„šæœ¬ï¼š"><a href="#2-ç‚¹å‡»VS-Codeå³ä¸Šè§’çš„å°å›¾æ ‡æŸ¥çœ‹è„šæœ¬ï¼š" class="headerlink" title="2. ç‚¹å‡»VS Codeå³ä¸Šè§’çš„å°å›¾æ ‡æŸ¥çœ‹è„šæœ¬ï¼š"></a>2. ç‚¹å‡»VS Codeå³ä¸Šè§’çš„å°å›¾æ ‡æŸ¥çœ‹è„šæœ¬ï¼š</h5><p><img src="https://img2020.cnblogs.com/blog/1991547/202005/1991547-20200531092822279-1906753004.png" alt="ç‚¹å‡»å°å›¾æ ‡"><br><img src="https://img2020.cnblogs.com/blog/1991547/202005/1991547-20200531092939851-854795479.png" alt="æŸ¥çœ‹è„šæœ¬"></p>
<h5 id="3-åœ¨è¯¥è„šæœ¬ä¸­ï¼Œæ·»åŠ æ’é™¤æ–‡ä»¶æˆ–æ’é™¤æ–‡ä»¶å¤¹çš„ä»£ç ï¼š"><a href="#3-åœ¨è¯¥è„šæœ¬ä¸­ï¼Œæ·»åŠ æ’é™¤æ–‡ä»¶æˆ–æ’é™¤æ–‡ä»¶å¤¹çš„ä»£ç ï¼š" class="headerlink" title="3. åœ¨è¯¥è„šæœ¬ä¸­ï¼Œæ·»åŠ æ’é™¤æ–‡ä»¶æˆ–æ’é™¤æ–‡ä»¶å¤¹çš„ä»£ç ï¼š"></a>3. åœ¨è¯¥è„šæœ¬ä¸­ï¼Œæ·»åŠ æ’é™¤æ–‡ä»¶æˆ–æ’é™¤æ–‡ä»¶å¤¹çš„ä»£ç ï¼š</h5><p><img src="https://img2020.cnblogs.com/blog/1991547/202005/1991547-20200531093027056-1932271038.png" alt="ç¤ºä¾‹"></p>
<h5 id="4-å¦‚æœæ˜¯éšè—æŒ‡å®šåç¼€çš„æ–‡ä»¶ï¼Œä½¿ç”¨â€-ä½ è¦éšè—çš„æ–‡ä»¶åç¼€â€-ï¼›å¦‚æœæ˜¯éšè—æŒ‡å®šçš„æ–‡ä»¶å¤¹ï¼Œä½¿ç”¨â€-ä½ è¦éšè—çš„æ–‡ä»¶å¤¹åç§°â€å³å¯å®ç°ã€‚è¯¦æƒ…å¦‚ä¸‹ï¼š"><a href="#4-å¦‚æœæ˜¯éšè—æŒ‡å®šåç¼€çš„æ–‡ä»¶ï¼Œä½¿ç”¨â€-ä½ è¦éšè—çš„æ–‡ä»¶åç¼€â€-ï¼›å¦‚æœæ˜¯éšè—æŒ‡å®šçš„æ–‡ä»¶å¤¹ï¼Œä½¿ç”¨â€-ä½ è¦éšè—çš„æ–‡ä»¶å¤¹åç§°â€å³å¯å®ç°ã€‚è¯¦æƒ…å¦‚ä¸‹ï¼š" class="headerlink" title="4. å¦‚æœæ˜¯éšè—æŒ‡å®šåç¼€çš„æ–‡ä»¶ï¼Œä½¿ç”¨â€/*.ä½ è¦éšè—çš„æ–‡ä»¶åç¼€â€ ï¼›å¦‚æœæ˜¯éšè—æŒ‡å®šçš„æ–‡ä»¶å¤¹ï¼Œä½¿ç”¨â€/ä½ è¦éšè—çš„æ–‡ä»¶å¤¹åç§°â€å³å¯å®ç°ã€‚è¯¦æƒ…å¦‚ä¸‹ï¼š"></a>4. å¦‚æœæ˜¯éšè—æŒ‡å®šåç¼€çš„æ–‡ä»¶ï¼Œä½¿ç”¨â€<strong>/*.ä½ è¦éšè—çš„æ–‡ä»¶åç¼€â€ ï¼›å¦‚æœæ˜¯éšè—æŒ‡å®šçš„æ–‡ä»¶å¤¹ï¼Œä½¿ç”¨â€</strong>/ä½ è¦éšè—çš„æ–‡ä»¶å¤¹åç§°â€å³å¯å®ç°ã€‚è¯¦æƒ…å¦‚ä¸‹ï¼š</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&quot;files.exclude&quot;: &#123;</span><br><span class="line">    &quot;*.metadata&quot;: true,</span><br><span class="line">    &quot;*.settings&quot;: true,</span><br><span class="line">    &quot;**&#x2F;*.pyc&quot;: true, &#x2F;&#x2F;éšè—æ‰€æœ‰pycæ–‡ä»¶</span><br><span class="line">    &quot;**&#x2F;*.meta&quot;: true, &#x2F;&#x2F;éšè—æ‰€æœ‰metaæ–‡ä»¶</span><br><span class="line">    &quot;**&#x2F;*.prefab&quot;: true, &#x2F;&#x2F;éšè—æ‰€æœ‰prefabæ–‡ä»¶</span><br><span class="line">    &quot;**&#x2F;*.d.ts&quot;: true, &#x2F;&#x2F;éšè—æ‰€æœ‰d.tsæ–‡ä»¶</span><br><span class="line">    &quot;**&#x2F;*.fnt&quot;: true,</span><br><span class="line">    &quot;**&#x2F;*.sln&quot;: true,</span><br><span class="line">    &quot;**&#x2F;*.csproj&quot;: true,</span><br><span class="line">    &quot;**&#x2F;.vscode&quot;: true,</span><br><span class="line">    &quot;**&#x2F;*.anim&quot;: true,</span><br><span class="line">    &quot;**&#x2F;*.controller&quot;: true,</span><br><span class="line">    &quot;**&#x2F;Logs&quot;: true,</span><br><span class="line">    &quot;**&#x2F;[Pp]lugins&quot;: true, &#x2F;&#x2F;ä½¿ç”¨ä¸­æ‹¬å·æ—¶è¡¨ç¤ºä¸åŒºåˆ†å¤§å°å†™</span><br><span class="line">    &quot;**&#x2F;[Mm]aterials&quot;: true,</span><br><span class="line">    &quot;**&#x2F;[Aa]nimation&quot;: true,</span><br><span class="line">    &quot;**&#x2F;[Pp]ackages&quot;: true,</span><br><span class="line">    &quot;**&#x2F;[Tt]extures&quot;: true,</span><br><span class="line">    &quot;**&#x2F;[Ss]cenes&quot;: true,</span><br><span class="line">    &quot;**&#x2F;temp&quot;: true, &#x2F;&#x2F;éšè—tempæ–‡ä»¶å¤¹</span><br><span class="line">    &quot;**&#x2F;library&quot;: true, &#x2F;&#x2F;éšè—libraryæ–‡ä»¶å¤¹</span><br><span class="line">    &quot;**&#x2F;audio&quot;: true, &#x2F;&#x2F;éšè—audioæ–‡ä»¶å¤¹</span><br><span class="line">    &quot;**&#x2F;video&quot;: true, &#x2F;&#x2F;éšè—videoæ–‡ä»¶å¤¹</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="vscode-Tabè¡¥é½ä»£ç è®¾ç½®"><a href="#vscode-Tabè¡¥é½ä»£ç è®¾ç½®" class="headerlink" title="vscode Tabè¡¥é½ä»£ç è®¾ç½®"></a>vscode Tabè¡¥é½ä»£ç è®¾ç½®</h4><p><strong>æ­¥éª¤1ï¼š</strong><br>è¿›å…¥vscodeé‡Œé¢ =&gt; æ–‡ä»¶ =&gt; é¦–é€‰é¡¹ =&gt; è®¾ç½®=&gt; å·¥ä½œå°=&gt; å¤–è§‚ =&gt; åœ¨settings.jsonä¸­ç¼–è¾‘ è¿›å…¥ç¼–è¾‘çŠ¶æ€</p>
<p><strong>æ­¥éª¤2ï¼š</strong></p>
<p>æ·»åŠ è¿™ä¸ªä¹‹åä¿å­˜å³å¯<br>{<br>â€œemmet.triggerExpansionOnTabâ€:true<br>}</p>
<h4 id="console-logå¿«æ·é”®"><a href="#console-logå¿«æ·é”®" class="headerlink" title="console.logå¿«æ·é”®"></a>console.logå¿«æ·é”®</h4><ol>
<li>æ‰“å¼€vscode,é€‰æ‹©æ–‡ä»¶â€“é¦–é€‰é¡¹â€“ç”¨æˆ·ä»£ç ç‰‡æ®µ</li>
<li>é€‰æ‹©javascriptç±»å‹ï¼Œæ‰“å¼€javascript.jsonæ–‡ä»¶</li>
<li>æŒ‰ç…§æ“ä½œï¼Œè®¾ç½®å¿«æ·è¾“å…¥</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">	<span class="string">"Print to console"</span>: &#123;</span><br><span class="line">			<span class="string">"prefix"</span>: <span class="string">"lg"</span>,</span><br><span class="line">			<span class="string">"body"</span>: [</span><br><span class="line">				<span class="string">"console.log('$1');"</span>,</span><br><span class="line">			],</span><br><span class="line">			<span class="string">"description"</span>: <span class="string">"Log output to console"</span></span><br><span class="line">		&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="VSCODEå¿«é€Ÿç”Ÿæˆæ ‡ç­¾"><a href="#VSCODEå¿«é€Ÿç”Ÿæˆæ ‡ç­¾" class="headerlink" title="VSCODEå¿«é€Ÿç”Ÿæˆæ ‡ç­¾"></a>VSCODEå¿«é€Ÿç”Ÿæˆæ ‡ç­¾</h4><h5 id="1ã€æ·»åŠ ç±»ã€idã€æ–‡æœ¬å’Œå±æ€§"><a href="#1ã€æ·»åŠ ç±»ã€idã€æ–‡æœ¬å’Œå±æ€§" class="headerlink" title="1ã€æ·»åŠ ç±»ã€idã€æ–‡æœ¬å’Œå±æ€§"></a>1ã€æ·»åŠ ç±»ã€idã€æ–‡æœ¬å’Œå±æ€§</h5><p>ï¼ˆ1ï¼‰è¾“å…¥ .box</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;div class&#x3D;&quot;box&quot;&gt;&lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure>

<p>ï¼ˆ2ï¼‰è¾“å…¥p#text</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;p id&#x3D;&quot;text&quot;&gt;&lt;&#x2F;p&gt;</span><br></pre></td></tr></table></figure>

<p>ï¼ˆ3ï¼‰ç±»å’Œidä¸€èµ·è¾“å…¥ .box #text</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;div id&#x3D;&quot;box&quot; class&#x3D;&quot;text&quot;&gt;&lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure>

<p>ï¼ˆ4ï¼‰å…ƒç´ å’Œå†…å®¹ä¸€å—è¾“å‡º p{ä½ å¥½}</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;p&gt;ä½ å¥½&lt;&#x2F;p&gt;</span><br></pre></td></tr></table></figure>

<p>ï¼ˆ5ï¼‰è¾“å‡ºå±æ€§ a[href=#]</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;a&gt;href&#x3D;&quot;#&quot;&gt;&lt;&#x2F;a&gt;</span><br></pre></td></tr></table></figure>

<p>ï¼ˆ6ï¼‰ç»™åä»£è®¾ç½®class1 ul&gt;.calss</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;ul&gt;</span><br><span class="line">    &lt;li class&#x3D;&quot;calss&quot;&gt;&lt;&#x2F;li&gt;</span><br><span class="line">&lt;&#x2F;ul&gt;</span><br></pre></td></tr></table></figure>

<p>ï¼ˆ7ï¼‰ç»™åä»£è®¾ç½®class2 table&gt;.row&gt;.col</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;table&gt;</span><br><span class="line">    &lt;tr class&#x3D;&quot;row&quot;&gt;</span><br><span class="line">        &lt;td class&#x3D;&quot;col&quot;&gt;&lt;&#x2F;td&gt;</span><br><span class="line">    &lt;&#x2F;tr&gt;</span><br><span class="line">&lt;&#x2F;table&gt;</span><br></pre></td></tr></table></figure>



<h5 id="2ã€åŒçº§å’ŒåµŒå¥—"><a href="#2ã€åŒçº§å’ŒåµŒå¥—" class="headerlink" title="2ã€åŒçº§å’ŒåµŒå¥—"></a>2ã€åŒçº§å’ŒåµŒå¥—</h5><p>ï¼ˆ1ï¼‰è¾“å…¥div+p(åŒçº§æ ‡ç­¾)</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;div&gt;&lt;&#x2F;div&gt;</span><br><span class="line">&lt;p&gt;&lt;&#x2F;p&gt;</span><br></pre></td></tr></table></figure>

<p>ï¼ˆ2ï¼‰è¾“å…¥ul&gt;li*3&gt;aï¼ˆåµŒå¥—æ ‡ç­¾ï¼‰</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;ul&gt;</span><br><span class="line">    &lt;li&gt;&lt;&#x2F;li&gt;</span><br><span class="line">    &lt;li&gt;&lt;&#x2F;li&gt;</span><br><span class="line">    &lt;li&gt;&lt;&#x2F;li&gt;</span><br><span class="line">&lt;&#x2F;ul&gt;</span><br></pre></td></tr></table></figure>



<h5 id="3ã€åˆ†ç»„"><a href="#3ã€åˆ†ç»„" class="headerlink" title="3ã€åˆ†ç»„"></a>3ã€åˆ†ç»„</h5><p>å¯ä»¥é€šè¿‡åµŒå¥—å’Œæ‹¬å·æ¥å¿«é€Ÿç”Ÿæˆä¸€äº›ä»£ç å—(.foo&gt;h1)+(.bar&gt;h2)</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;div class&#x3D;&quot;foo&quot;&gt;</span><br><span class="line">    &lt;h1&gt;&lt;&#x2F;h1&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line">&lt;div class&#x3D;&quot;bar&quot;&gt;</span><br><span class="line">    &lt;h2&gt;&lt;&#x2F;h2&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure>



<h5 id="4ã€å®šä¹‰å¤šä¸ªå¸¦å±æ€§çš„å…ƒç´ "><a href="#4ã€å®šä¹‰å¤šä¸ªå¸¦å±æ€§çš„å…ƒç´ " class="headerlink" title="4ã€å®šä¹‰å¤šä¸ªå¸¦å±æ€§çš„å…ƒç´ "></a>4ã€å®šä¹‰å¤šä¸ªå¸¦å±æ€§çš„å…ƒç´ </h5><p>ï¼ˆ1ï¼‰è¾“å…¥ul&gt;li.item$*3ï¼Œä»£ç è¾“å‡º</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;ul&gt;</span><br><span class="line">    &lt;li class&#x3D;&quot;item1&quot;&gt;&lt;&#x2F;li&gt;</span><br><span class="line">    &lt;li class&#x3D;&quot;item2&quot;&gt;&lt;&#x2F;li&gt;</span><br><span class="line">    &lt;li class&#x3D;&quot;item3&quot;&gt;&lt;&#x2F;li&gt;</span><br><span class="line">&lt;&#x2F;ul&gt;</span><br></pre></td></tr></table></figure>

<p>ï¼ˆ2ï¼‰è‡ªå¢ç¬¦$ div.class&gt;div.class1_$*5</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;div class&#x3D;&quot;class&quot;&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;class1_1&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;class1_2&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;class1_3&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;class1_4&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;class1_5&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure>

<p>ï¼ˆ3ï¼‰è‡ªå¢ ä»æŸæ•°å¼€å§‹ div.class&gt;div.class1_$@3*4</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;div class&#x3D;&quot;class&quot;&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;class1_3&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;class1_4&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;class1_5&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;class1_6&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure>

<p>ï¼ˆ4ï¼‰è‡ªå‡ ä»æŸæ•°å¼€å§‹ div.class&gt;div.class1_$@-3*4</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;div class&#x3D;&quot;class&quot;&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;class1_6&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;class1_5&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;class1_4&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;class1_3&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>vscode</category>
      </categories>
      <tags>
        <tag>soft</tag>
        <tag>tool</tag>
        <tag>vscode</tag>
      </tags>
  </entry>
  <entry>
    <title>Vueæ•°æ®æ›´æ–°ä½†é¡µé¢æ²¡æœ‰æ›´æ–°çš„7ç§æƒ…å†µ</title>
    <url>/2020/09/10/Vue%E6%95%B0%E6%8D%AE%E6%9B%B4%E6%96%B0%E4%BD%86%E9%A1%B5%E9%9D%A2%E6%B2%A1%E6%9C%89%E6%9B%B4%E6%96%B0%E7%9A%847%E7%A7%8D%E6%83%85%E5%86%B5/</url>
    <content><![CDATA[<h3 id="Vue-setä¸-vue-setåœ¨ä½¿ç”¨ä¸­çš„åŒºåˆ«-deleteå’Œthis-delete"><a href="#Vue-setä¸-vue-setåœ¨ä½¿ç”¨ä¸­çš„åŒºåˆ«-deleteå’Œthis-delete" class="headerlink" title="Vue.setä¸ vue.$setåœ¨ä½¿ç”¨ä¸­çš„åŒºåˆ«(deleteå’Œthis.$delete)"></a>Vue.setä¸ vue.$setåœ¨ä½¿ç”¨ä¸­çš„åŒºåˆ«(deleteå’Œthis.$delete)</h3><p>Vue.set å¯ä»¥è®¾ç½®å®ä¾‹åˆ›å»ºä¹‹åæ·»åŠ çš„å±æ€§ï¼Œå¦‚sexï¼Œè€Œthis.$set/vue.$set/vm.$setåªèƒ½è®¾ç½®å®ä¾‹åˆ›å»ºåå­˜åœ¨çš„å±æ€§ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line"><span class="keyword">var</span> data = &#123;</span><br><span class="line">    name: <span class="string">"ç®€ä¹¦"</span>,</span><br><span class="line">    age: <span class="string">'3'</span>,</span><br><span class="line">    info: &#123;</span><br><span class="line">        content: <span class="string">'my name is test'</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;   </span><br><span class="line"><span class="keyword">var</span> key = <span class="string">'content'</span>;</span><br><span class="line"><span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">    el:<span class="string">'#app'</span>,</span><br><span class="line">    data: data,</span><br><span class="line">    ready: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        Vue.set(data,<span class="string">'sex'</span>, <span class="string">'ç”·'</span>)</span><br><span class="line">        <span class="keyword">this</span>.$<span class="keyword">set</span>('sex', 'å¥³')</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<a id="more"></a>

<h3 id="Vue-æ— æ³•æ£€æµ‹å¯¹è±¡-property-çš„æ·»åŠ æˆ–ç§»é™¤"><a href="#Vue-æ— æ³•æ£€æµ‹å¯¹è±¡-property-çš„æ·»åŠ æˆ–ç§»é™¤" class="headerlink" title="Vue æ— æ³•æ£€æµ‹å¯¹è±¡ property çš„æ·»åŠ æˆ–ç§»é™¤"></a>Vue æ— æ³•æ£€æµ‹å¯¹è±¡ property çš„æ·»åŠ æˆ–ç§»é™¤</h3><p>åŸå› ï¼šå®˜æ–¹ - ç”±äº JavaScriptï¼ˆES5ï¼‰ çš„é™åˆ¶ï¼ŒVue.js <strong>ä¸èƒ½æ£€æµ‹åˆ°å¯¹è±¡å±æ€§çš„æ·»åŠ æˆ–åˆ é™¤</strong>ã€‚å› ä¸º Vue.js åœ¨åˆå§‹åŒ–å®ä¾‹æ—¶å°†å±æ€§è½¬ä¸º getter/setterï¼Œæ‰€ä»¥å±æ€§å¿…é¡»åœ¨ <code>data</code> å¯¹è±¡ä¸Šæ‰èƒ½è®© Vue.js è½¬æ¢å®ƒï¼Œæ‰èƒ½è®©å®ƒæ˜¯å“åº”çš„ã€‚</p>
<p>åœºæ™¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var vm &#x3D; new Vue(&#123;</span><br><span class="line">  data:&#123;</span><br><span class="line">    obj: &#123;</span><br><span class="line">      id: 001</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  &#x2F;&#x2F; é¡µé¢ä¸ä¼šå˜åŒ–</span><br><span class="line">  template: &#39;&lt;div&gt; obj.message &lt;&#x2F;div&gt;&#39;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">vm.obj.message &#x3D; &#39;hello&#39; &#x2F;&#x2F; ä¸æ˜¯å“åº”å¼çš„</span><br><span class="line">delete vm.obj.id       &#x2F;&#x2F; ä¸æ˜¯å“åº”å¼çš„</span><br></pre></td></tr></table></figure>

<p>è§£å†³åŠæ³•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; åŠ¨æ€æ·»åŠ  - Vue.set</span><br><span class="line">Vue.set(vm.obj, propertyName, newValue)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; åŠ¨æ€æ·»åŠ  - vm.$set</span><br><span class="line">vm.$set(vm.obj, propertyName, newValue)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; åŠ¨æ€æ·»åŠ å¤šä¸ª</span><br><span class="line">&#x2F;&#x2F; ä»£æ›¿ Object.assign(this.obj, &#123; a: 1, b: 2 &#125;)</span><br><span class="line">this.obj &#x3D; Object.assign(&#123;&#125;, this.obj, &#123; a: 1, b: 2 &#125;)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; åŠ¨æ€ç§»é™¤ - Vue.delete</span><br><span class="line">Vue.delete(vm.obj, propertyName)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; åŠ¨æ€ç§»é™¤ - vm.$delete</span><br><span class="line">vm.$delete(vm.obj, propertyName)</span><br></pre></td></tr></table></figure>


<h3 id="Vue-ä¸èƒ½æ£€æµ‹é€šè¿‡æ•°ç»„ç´¢å¼•ç›´æ¥ä¿®æ”¹ä¸€ä¸ªæ•°ç»„é¡¹"><a href="#Vue-ä¸èƒ½æ£€æµ‹é€šè¿‡æ•°ç»„ç´¢å¼•ç›´æ¥ä¿®æ”¹ä¸€ä¸ªæ•°ç»„é¡¹" class="headerlink" title="Vue ä¸èƒ½æ£€æµ‹é€šè¿‡æ•°ç»„ç´¢å¼•ç›´æ¥ä¿®æ”¹ä¸€ä¸ªæ•°ç»„é¡¹"></a>Vue ä¸èƒ½æ£€æµ‹é€šè¿‡æ•°ç»„ç´¢å¼•ç›´æ¥ä¿®æ”¹ä¸€ä¸ªæ•°ç»„é¡¹</h3><p>åŸå› ï¼šå®˜æ–¹ - ç”±äº JavaScript çš„é™åˆ¶ï¼ŒVue <strong>ä¸èƒ½æ£€æµ‹</strong>æ•°ç»„å’Œå¯¹è±¡çš„å˜åŒ–ï¼›å°¤é›¨æºª - æ€§èƒ½ä»£ä»·å’Œè·å¾—ç”¨æˆ·ä½“éªŒä¸æˆæ­£æ¯”ã€‚</p>
<p>åœºæ™¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var vm &#x3D; new Vue(&#123;</span><br><span class="line">  data: &#123;</span><br><span class="line">    items: [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line">vm.items[1] &#x3D; &#39;x&#39; &#x2F;&#x2F; ä¸æ˜¯å“åº”æ€§çš„</span><br></pre></td></tr></table></figure>

<p>è§£å†³åŠæ³•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; Vue.set</span><br><span class="line">Vue.set(vm.items, indexOfItem, newValue)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; vm.$set</span><br><span class="line">vm.$set(vm.items, indexOfItem, newValue)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; Array.prototype.splice</span><br><span class="line">vm.items.splice(indexOfItem, 1, newValue)</span><br></pre></td></tr></table></figure>



<h3 id="Vue-ä¸èƒ½ç›‘æµ‹ç›´æ¥ä¿®æ”¹æ•°ç»„é•¿åº¦çš„å˜åŒ–"><a href="#Vue-ä¸èƒ½ç›‘æµ‹ç›´æ¥ä¿®æ”¹æ•°ç»„é•¿åº¦çš„å˜åŒ–" class="headerlink" title="Vue ä¸èƒ½ç›‘æµ‹ç›´æ¥ä¿®æ”¹æ•°ç»„é•¿åº¦çš„å˜åŒ–"></a>Vue ä¸èƒ½ç›‘æµ‹ç›´æ¥ä¿®æ”¹æ•°ç»„é•¿åº¦çš„å˜åŒ–</h3><p>åŸå› ï¼šå®˜æ–¹ - ç”±äº JavaScript çš„é™åˆ¶ï¼ŒVue <strong>ä¸èƒ½æ£€æµ‹</strong>æ•°ç»„å’Œå¯¹è±¡çš„å˜åŒ–ï¼›å°¤é›¨æºª - æ€§èƒ½ä»£ä»·å’Œè·å¾—ç”¨æˆ·ä½“éªŒä¸æˆæ­£æ¯”ã€‚</p>
<p>åœºæ™¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var vm &#x3D; new Vue(&#123;</span><br><span class="line">  data: &#123;</span><br><span class="line">    items: [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line">vm.items.length &#x3D; 2 &#x2F;&#x2F; ä¸æ˜¯å“åº”æ€§çš„</span><br></pre></td></tr></table></figure>

<p>è§£å†³åŠæ³•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">vm.items.splice(newLength)</span><br></pre></td></tr></table></figure>



<h3 id="åœ¨å¼‚æ­¥æ›´æ–°æ‰§è¡Œä¹‹å‰æ“ä½œ-DOM-æ•°æ®ä¸ä¼šå˜åŒ–-nextTick"><a href="#åœ¨å¼‚æ­¥æ›´æ–°æ‰§è¡Œä¹‹å‰æ“ä½œ-DOM-æ•°æ®ä¸ä¼šå˜åŒ–-nextTick" class="headerlink" title="åœ¨å¼‚æ­¥æ›´æ–°æ‰§è¡Œä¹‹å‰æ“ä½œ DOM æ•°æ®ä¸ä¼šå˜åŒ–(nextTick)"></a>åœ¨å¼‚æ­¥æ›´æ–°æ‰§è¡Œä¹‹å‰æ“ä½œ DOM æ•°æ®ä¸ä¼šå˜åŒ–(nextTick)</h3><p>åŸå› ï¼šVue åœ¨æ›´æ–° DOM æ—¶æ˜¯<strong>å¼‚æ­¥</strong>æ‰§è¡Œçš„ã€‚åªè¦ä¾¦å¬åˆ°æ•°æ®å˜åŒ–ï¼ŒVue å°†å¼€å¯ä¸€ä¸ªé˜Ÿåˆ—ï¼Œå¹¶ç¼“å†²åœ¨åŒä¸€äº‹ä»¶å¾ªç¯ä¸­å‘ç”Ÿçš„æ‰€æœ‰æ•°æ®å˜æ›´ã€‚å¦‚æœåŒä¸€ä¸ª watcher è¢«å¤šæ¬¡è§¦å‘ï¼Œåªä¼šè¢«æ¨å…¥åˆ°é˜Ÿåˆ—ä¸­ä¸€æ¬¡ã€‚è¿™ç§åœ¨ç¼“å†²æ—¶å»é™¤é‡å¤æ•°æ®å¯¹äºé¿å…ä¸å¿…è¦çš„è®¡ç®—å’Œ DOM æ“ä½œæ˜¯éå¸¸é‡è¦çš„ã€‚ç„¶åï¼Œåœ¨ä¸‹ä¸€ä¸ªçš„äº‹ä»¶å¾ªç¯â€œtickâ€ä¸­ï¼ŒVue åˆ·æ–°é˜Ÿåˆ—å¹¶æ‰§è¡Œå®é™… (å·²å»é‡çš„) å·¥ä½œã€‚Vue åœ¨å†…éƒ¨å¯¹å¼‚æ­¥é˜Ÿåˆ—å°è¯•ä½¿ç”¨åŸç”Ÿçš„ <code>Promise.then</code>ã€<code>MutationObserver</code> å’Œ <code>setImmediate</code>ï¼Œå¦‚æœæ‰§è¡Œç¯å¢ƒä¸æ”¯æŒï¼Œåˆ™ä¼šé‡‡ç”¨ <code>setTimeout(fn, 0)</code> ä»£æ›¿ã€‚</p>
<p>åœºæ™¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;div id&#x3D;&quot;example&quot;&gt;&#123;&#123;message&#125;&#125;&lt;&#x2F;div&gt;</span><br><span class="line">var vm &#x3D; new Vue(&#123;</span><br><span class="line">  el: &#39;#example&#39;,</span><br><span class="line">  data: &#123;</span><br><span class="line">    message: &#39;123&#39;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line">vm.message &#x3D; &#39;new message&#39; &#x2F;&#x2F; æ›´æ”¹æ•°æ®</span><br><span class="line">vm.$el.textContent &#x3D;&#x3D;&#x3D; &#39;new message&#39; &#x2F;&#x2F; false</span><br><span class="line">vm.$el.style.color &#x3D; &#39;red&#39; &#x2F;&#x2F; é¡µé¢æ²¡æœ‰å˜åŒ–</span><br></pre></td></tr></table></figure>

<p>è§£å†³åŠæ³•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var vm &#x3D; new Vue(&#123;</span><br><span class="line">  el: &#39;#example&#39;,</span><br><span class="line">  data: &#123;</span><br><span class="line">    message: &#39;123&#39;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line">vm.message &#x3D; &#39;new message&#39; &#x2F;&#x2F; æ›´æ”¹æ•°æ®</span><br><span class="line">&#x2F;&#x2F;ä½¿ç”¨ Vue.nextTick(callback) callback å°†åœ¨ DOM æ›´æ–°å®Œæˆåè¢«è°ƒç”¨</span><br><span class="line">Vue.nextTick(function () &#123;</span><br><span class="line">  vm.$el.textContent &#x3D;&#x3D;&#x3D; &#39;new message&#39; &#x2F;&#x2F; true</span><br><span class="line">  vm.$el.style.color &#x3D; &#39;red&#39; &#x2F;&#x2F; æ–‡å­—é¢œè‰²å˜æˆçº¢è‰²</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>vue</category>
      </categories>
      <tags>
        <tag>vue</tag>
        <tag>æ•°æ®æ›´æ–°</tag>
      </tags>
  </entry>
  <entry>
    <title>WebSocket</title>
    <url>/2020/09/14/WebSocket/</url>
    <content><![CDATA[<h2 id="ä»€ä¹ˆæ˜¯WebSocket"><a href="#ä»€ä¹ˆæ˜¯WebSocket" class="headerlink" title="ä»€ä¹ˆæ˜¯WebSocket"></a><strong>ä»€ä¹ˆæ˜¯WebSocket</strong></h2><p>é¦–å…ˆéœ€è¦æ˜ç™½webSocketçš„æ¦‚å¿µï¼Œä¸‹è¾¹æ˜¯ç»´åŸºç™¾ç§‘çš„è§£é‡Š</p>
<blockquote>
<p>WebSocketæ˜¯ä¸€ç§é€šä¿¡åè®®ï¼Œå¯åœ¨å•ä¸ªTCPè¿æ¥ä¸Šè¿›è¡Œå…¨åŒå·¥é€šä¿¡ã€‚WebSocketä½¿å¾—å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´çš„æ•°æ®äº¤æ¢å˜å¾—æ›´åŠ ç®€å•ï¼Œå…è®¸æœåŠ¡ç«¯ä¸»åŠ¨å‘å®¢æˆ·ç«¯æ¨é€æ•°æ®ã€‚åœ¨WebSocket APIä¸­ï¼Œæµè§ˆå™¨å’ŒæœåŠ¡å™¨åªéœ€è¦å®Œæˆä¸€æ¬¡æ¡æ‰‹ï¼Œä¸¤è€…ä¹‹é—´å°±å¯ä»¥å»ºç«‹æŒä¹…æ€§çš„è¿æ¥ï¼Œå¹¶è¿›è¡ŒåŒå‘æ•°æ®ä¼ è¾“ã€‚</p>
</blockquote>
<p>é¦–å…ˆï¼Œè¦æ˜ç™½WebSocketæ˜¯ä¸€ç§é€šä¿¡åè®®ï¼ŒåŒºåˆ«äºHTTPåè®®ï¼ŒHTTPåè®®åªèƒ½å®ç°å®¢æˆ·ç«¯è¯·æ±‚ï¼ŒæœåŠ¡ç«¯å“åº”çš„è¿™ç§å•é¡¹é€šä¿¡ã€‚<br>è€ŒWebSocketå¯ä»¥å®ç°å®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯çš„åŒå‘é€šè®¯ï¼Œè¯´ç™½äº†ï¼Œæœ€å¤§ä¹Ÿæ˜¯æœ€æ˜æ˜¾çš„åŒºåˆ«å°±æ˜¯å¯ä»¥åšåˆ°æœåŠ¡ç«¯ä¸»åŠ¨å°†æ¶ˆæ¯æ¨é€ç»™å®¢æˆ·ç«¯ã€‚<br>å…¶ä½™çš„ç‰¹ç‚¹æœ‰ï¼š</p>
<ul>
<li>æ¡æ‰‹é˜¶æ®µé‡‡ç”¨ HTTP åè®®ã€‚</li>
<li>æ•°æ®æ ¼å¼è½»é‡ï¼Œæ€§èƒ½å¼€é”€å°ã€‚å®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯è¿›è¡Œæ•°æ®äº¤æ¢æ—¶ï¼ŒæœåŠ¡ç«¯åˆ°å®¢æˆ·ç«¯çš„æ•°æ®åŒ…å¤´åªæœ‰2åˆ°10å­—èŠ‚ï¼Œå®¢æˆ·ç«¯åˆ°æœåŠ¡ç«¯éœ€è¦åŠ ä¸Šå¦å¤–4å­—èŠ‚çš„æ©ç ã€‚HTTPæ¯æ¬¡éƒ½éœ€è¦æºå¸¦å®Œæ•´å¤´éƒ¨ã€‚</li>
<li>æ›´å¥½çš„äºŒè¿›åˆ¶æ”¯æŒï¼Œå¯ä»¥å‘é€æ–‡æœ¬ï¼Œå’ŒäºŒè¿›åˆ¶æ•°æ®</li>
<li>æ²¡æœ‰åŒæºé™åˆ¶ï¼Œå®¢æˆ·ç«¯å¯ä»¥ä¸ä»»æ„æœåŠ¡å™¨é€šä¿¡</li>
<li>åè®®æ ‡è¯†ç¬¦æ˜¯wsï¼ˆå¦‚æœåŠ å¯†ï¼Œåˆ™æ˜¯wssï¼‰ï¼Œè¯·æ±‚çš„åœ°å€å°±æ˜¯åç«¯æ”¯æŒwebsocketçš„APIã€‚</li>
</ul>
<a id="more"></a>

<h2 id="å‡ ç§ä¸æœåŠ¡ç«¯å®æ—¶é€šä¿¡çš„æ–¹æ³•"><a href="#å‡ ç§ä¸æœåŠ¡ç«¯å®æ—¶é€šä¿¡çš„æ–¹æ³•" class="headerlink" title="å‡ ç§ä¸æœåŠ¡ç«¯å®æ—¶é€šä¿¡çš„æ–¹æ³•"></a><strong>å‡ ç§ä¸æœåŠ¡ç«¯å®æ—¶é€šä¿¡çš„æ–¹æ³•</strong></h2><p>æˆ‘ä»¬éƒ½çŸ¥é“ï¼Œä¸ä½¿ç”¨WebSocketä¸æœåŠ¡å™¨å®æ—¶äº¤äº’ï¼Œä¸€èˆ¬æœ‰ä¸¤ç§æ–¹æ³•ã€‚AJAXè½®è¯¢å’ŒLong Pollingé•¿è½®è¯¢ã€‚</p>
<h3 id="AJAXè½®è¯¢"><a href="#AJAXè½®è¯¢" class="headerlink" title="AJAXè½®è¯¢"></a><strong>AJAXè½®è¯¢</strong></h3><p>AJAXè½®è¯¢ä¹Ÿå°±æ˜¯å®šæ—¶å‘é€è¯·æ±‚ï¼Œä¹Ÿå°±æ˜¯æ™®é€šçš„å®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯é€šä¿¡è¿‡ç¨‹ï¼Œåªä¸è¿‡æ˜¯æ— é™å¾ªç¯å‘é€ï¼Œè¿™æ ·ï¼Œå¯ä»¥ä¿è¯æœåŠ¡ç«¯ä¸€æ—¦æœ‰æœ€æ–°æ¶ˆæ¯ï¼Œå°±å¯ä»¥è¢«å®¢æˆ·ç«¯è·å–ã€‚</p>
<h3 id="Long-Pollingé•¿è½®è¯¢"><a href="#Long-Pollingé•¿è½®è¯¢" class="headerlink" title="Long Pollingé•¿è½®è¯¢"></a><strong>Long Pollingé•¿è½®è¯¢</strong></h3><p>å®¢æˆ·ç«¯å‘èµ·ä¸€ä¸ªLong Pollingï¼ŒæœåŠ¡ç«¯å¦‚æœæ²¡æœ‰æ•°æ®è¦è¿”å›çš„è¯ï¼Œ<br>ä¼šholdä½è¯·æ±‚ï¼Œç­‰åˆ°æœ‰æ•°æ®ï¼Œå°±ä¼šè¿”å›ç»™å®¢æˆ·ç«¯ã€‚å®¢æˆ·ç«¯åˆä¼šå†æ¬¡å‘èµ·ä¸€æ¬¡Long Pollingï¼Œå†é‡å¤ä¸€æ¬¡ä¸Šé¢çš„è¿‡ç¨‹ã€‚</p>
<h3 id="ç¼ºç‚¹"><a href="#ç¼ºç‚¹" class="headerlink" title="ç¼ºç‚¹"></a><strong>ç¼ºç‚¹</strong></h3><p>ä¸Šè¾¹è¿™ä¸¤ç§æ–¹å¼éƒ½æœ‰ä¸ªè‡´å‘½çš„å¼±ç‚¹ï¼Œå¼€é”€å¤ªå¤§ï¼Œè¢«åŠ¨æ€§ã€‚å‡è®¾å¹¶å‘å¾ˆé«˜çš„è¯ï¼Œè¿™å¯¹æœåŠ¡ç«¯æ˜¯ä¸ªè€ƒéªŒã€‚<br>è€ŒWebSocketä¸€æ¬¡æ¡æ‰‹ï¼ŒæŒä¹…è¿æ¥ï¼Œä»¥åŠä¸»åŠ¨æ¨é€çš„ç‰¹ç‚¹å¯ä»¥è§£å†³ä¸Šè¾¹çš„é—®é¢˜ï¼Œåˆä¸è‡³äºæŸè€—æ€§èƒ½ã€‚</p>
<h2 id="WebSocketè¿æ¥è¿‡ç¨‹"><a href="#WebSocketè¿æ¥è¿‡ç¨‹" class="headerlink" title="WebSocketè¿æ¥è¿‡ç¨‹"></a><strong>WebSocketè¿æ¥è¿‡ç¨‹</strong></h2><p>å®¢æˆ·ç«¯å‘èµ·HTTPæ¡æ‰‹ï¼Œå‘Šè¯‰æœåŠ¡ç«¯è¿›è¡ŒWebSocketåè®®é€šè®¯ï¼Œå¹¶å‘ŠçŸ¥WebSocketåè®®ç‰ˆæœ¬ã€‚æœåŠ¡ç«¯ç¡®è®¤åè®®ç‰ˆæœ¬ï¼Œå‡çº§ä¸ºWebSocketåè®®ã€‚ä¹‹åå¦‚æœæœ‰æ•°æ®éœ€è¦æ¨é€ï¼Œä¼šä¸»åŠ¨æ¨é€ç»™å®¢æˆ·ç«¯ã€‚</p>
<p>è¿æ¥å¼€å§‹æ—¶ï¼Œå®¢æˆ·ç«¯ä½¿ç”¨HTTPåè®®å’ŒæœåŠ¡ç«¯å‡çº§åè®®ï¼Œå‡çº§å®Œæˆåï¼Œåç»­æ•°æ®äº¤æ¢éµå¾ªWebSocketåè®®ã€‚æˆ‘ä»¬çœ‹çœ‹Request Headers</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">Accept-Encoding: gzip, deflate, br</span><br><span class="line">Accept-Language: zh,zh-TW;q=0.9,en-US;q=0.8,en;q=0.7,zh-CN;q=0.6</span><br><span class="line">Cache-Control: no-cache</span><br><span class="line">Connection: Upgrade</span><br><span class="line">Host: 127.0.0.1:3000</span><br><span class="line">Origin: http://localhost:3000</span><br><span class="line">Pragma: no-cache</span><br><span class="line">Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits</span><br><span class="line">Sec-WebSocket-Key: bwb9SFiJONXhQ/A4pLaXIg==</span><br><span class="line">Sec-WebSocket-Version: 13</span><br><span class="line">Upgrade: websocket</span><br></pre></td></tr></table></figure>

<p>é‡ç‚¹å­—æ®µæ˜¯è¿™äº›ï¼š</p>
<ul>
<li>Connection: Upgrade è¡¨ç¤ºè¦å‡çº§åè®®</li>
<li>Upgrade: websocket è¦å‡çº§åè®®åˆ°websocketåè®®</li>
<li>Sec-WebSocket-Version è¡¨ç¤ºwebsocketçš„ç‰ˆæœ¬ã€‚å¦‚æœæœåŠ¡ç«¯ä¸æ”¯æŒè¯¥ç‰ˆæœ¬ï¼Œéœ€è¦è¿”å›ä¸€ä¸ªSec-WebSocket-Versionheaderï¼Œé‡Œé¢åŒ…å«æœåŠ¡ç«¯æ”¯æŒçš„ç‰ˆæœ¬å·ã€‚</li>
<li>Sec-WebSocket-Key å¯¹åº”æœåŠ¡ç«¯å“åº”å¤´çš„Sec-WebSocket-Acceptï¼Œç”±äºæ²¡æœ‰åŒæºé™åˆ¶ï¼Œwebsocketå®¢æˆ·ç«¯å¯ä»»æ„è¿æ¥æ”¯æŒwebsocketçš„æœåŠ¡ã€‚è¿™ä¸ªå°±ç›¸å½“äºä¸€ä¸ªé’¥åŒ™ä¸€æŠŠé”ï¼Œé¿å…å¤šä½™çš„ï¼Œæ— æ„ä¹‰çš„è¿æ¥ã€‚</li>
</ul>
<p>å†çœ‹çœ‹çœ‹æœåŠ¡ç«¯å“åº”çš„ Response Headers</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">Connection: Upgrade</span><br><span class="line">Sec-WebSocket-Accept: 2jrbCWSCPlzPtxarlGTp4Y8XD20=</span><br><span class="line">Upgrade: websocket</span><br></pre></td></tr></table></figure>

<p>å…³é”®æ˜¯è¿™ä¸ªå­—æ®µ</p>
<ul>
<li>Sec-WebSocket-Accept: ç”¨æ¥å‘ŠçŸ¥æœåŠ¡å™¨æ„¿æ„å‘èµ·ä¸€ä¸ªwebsocketè¿æ¥ï¼Œ å€¼æ ¹æ®å®¢æˆ·ç«¯è¯·æ±‚å¤´çš„Sec-WebSocket-Keyè®¡ç®—å‡ºæ¥</li>
</ul>
<h2 id="WebSocket-API"><a href="#WebSocket-API" class="headerlink" title="WebSocket API"></a><strong>WebSocket API</strong></h2><p>å®¢æˆ·ç«¯è‹¥æƒ³è¦ä¸æ”¯æŒwebScoketçš„æœåŠ¡å™¨é€šä¿¡ï¼Œå¯ä»¥ä½¿ç”¨WebSocketæ„é€ å‡½æ•°è¿”å›WebSocketå¯¹è±¡ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const ws &#x3D; new WebSocket(&quot;ws:&#x2F;&#x2F;localhost:3000&#x2F;websocket&quot;);</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·ï¼Œå®¢æˆ·ç«¯å°±ä¼šä¸æœåŠ¡ç«¯å¼€å§‹è¿æ¥ã€‚</p>
<p>è¿”å›çš„å®ä¾‹å¯¹è±¡çš„å±æ€§ï¼š</p>
<ul>
<li>WebSocket.onopenï¼š è¿æ¥æˆåŠŸåçš„å›è°ƒ</li>
<li>WebSocket.oncloseï¼š è¿æ¥å…³é—­åçš„å›è°ƒ</li>
<li>WebSocket.onerrorï¼š è¿æ¥å¤±è´¥åçš„å›è°ƒ</li>
<li>WebSocket.onmessageï¼š å®¢æˆ·ç«¯æ¥æ”¶åˆ°æœåŠ¡ç«¯æ•°æ®çš„å›è°ƒ</li>
<li>webSocket.bufferedAmountï¼š æœªå‘é€è‡³æœåŠ¡å™¨çš„äºŒè¿›åˆ¶å­—èŠ‚æ•°</li>
<li>WebSocket.binaryTypeï¼š ä½¿ç”¨äºŒè¿›åˆ¶çš„æ•°æ®ç±»å‹è¿æ¥</li>
<li>WebSocket.protocol ï¼š æœåŠ¡å™¨é€‰æ‹©çš„ä¸‹å±åè®®</li>
<li>WebSocket.url ï¼š WebSocket çš„ç»å¯¹è·¯å¾„</li>
<li>WebSocket.readyStateï¼š å½“å‰è¿æ¥çŠ¶æ€ï¼Œå¯¹åº”çš„å››ä¸ªå¸¸é‡</li>
</ul>
<p>WebSocket.CONNECTING: 0</p>
<p>WebSocket.OPEN: 1</p>
<p>WebSocket.CLOSING: 2</p>
<p>WebSocket.CLOSED: 3</p>
<p>æ–¹æ³•ï¼š</p>
<ul>
<li>WebSocket.close() å…³é—­å½“å‰è¿æ¥</li>
<li>WebSocket.send(data) å‘æœåŠ¡å™¨å‘é€æ•°æ®</li>
</ul>
<h2 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a><strong>ç¤ºä¾‹</strong></h2><p>è®²äº†é‚£ä¹ˆå¤šæ¦‚å¿µä»¥åï¼Œç»ˆäºå¯ä»¥çœ‹çœ‹æ€ä¹ˆç”¨äº†ã€‚å®ç°WebSocketé€šä¿¡ï¼Œéœ€è¦å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯é…åˆã€‚</p>
<p>è‡ªå·±å†™äº†ä¸€ä¸ªä¾‹å­ï¼ŒæœåŠ¡ç«¯åœ¨å¼€å§‹è¿æ¥åï¼Œåˆ©ç”¨å®šæ—¶å™¨ä¸»åŠ¨å‘å®¢æˆ·ç«¯å‘é€éšæœºæ•°ï¼Œå®¢æˆ·ç«¯ä¹Ÿå¯ä»¥å‘ç»™æœåŠ¡å™¨æ¶ˆæ¯ï¼Œç„¶åæœåŠ¡å™¨è¿”å›è¿™æ¡æ¶ˆæ¯ç»™å®¢æˆ·ç«¯ã€‚å®¢æˆ·ç«¯å°±æ˜¯js+htmlï¼ŒæœåŠ¡ç«¯ç”¨äº†express + express-wsæ¥å®ç°ã€‚</p>
<p>ç¤ºä¾‹é“¾æ¥ï¼š<a href="https://github.com/neroneroffy/webSocketDemo" target="_blank" rel="noopener">https://github.com/neroneroffy/webSocketDemo</a></p>
<h2 id="æµè§ˆå™¨å…¼å®¹"><a href="#æµè§ˆå™¨å…¼å®¹" class="headerlink" title="æµè§ˆå™¨å…¼å®¹"></a>æµè§ˆå™¨å…¼å®¹</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;åˆ¤æ–­å½“å‰æµè§ˆå™¨æ˜¯å¦æ”¯æŒWebSocket</span><br><span class="line">if (&#39;WebSocket&#39; in window) &#123;</span><br><span class="line">    var serviceIp &#x3D;&quot;172.168.0.16:8880&quot;;</span><br><span class="line">    this.websocket &#x3D; new WebSocket(&quot;ws:&#x2F;&#x2F;&quot;+serviceIp+&quot;&#x2F;system&#x2F;websocket&quot;);</span><br><span class="line">&#125;else if (&#39;MozWebSocket&#39; in window) &#123;</span><br><span class="line">    var serviceIp &#x3D;&quot;172.168.0.16:8880&quot;;</span><br><span class="line">    this.websocket &#x3D; new WebSocket(&quot;ws:&#x2F;&#x2F;&quot;+serviceIp+&quot;&#x2F;system&#x2F;websocket&quot;);</span><br><span class="line">&#125;else &#123;</span><br><span class="line">    console.log(&#39;å½“å‰æµè§ˆå™¨ Not support websocket&#39;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="vueä¸­ä½¿ç”¨"><a href="#vueä¸­ä½¿ç”¨" class="headerlink" title="vueä¸­ä½¿ç”¨"></a>vueä¸­ä½¿ç”¨</h2><h3 id="sockjs-client"><a href="#sockjs-client" class="headerlink" title="sockjs-client"></a>sockjs-client</h3><p><a href="https://github.com/sockjs/sockjs-client" target="_blank" rel="noopener">sockjs-client</a>æ˜¯ä»SockJSä¸­åˆ†ç¦»å‡ºæ¥çš„ç”¨äºå®¢æˆ·ç«¯ä½¿ç”¨çš„é€šä¿¡æ¨¡å—.æ‰€ä»¥æˆ‘ä»¬å°±ç›´æ¥æ¥çœ‹çœ‹SockJS. SockJSæ˜¯ä¸€ä¸ªæµè§ˆå™¨çš„JavaScriptåº“,å®ƒæä¾›äº†ä¸€ä¸ªç±»ä¼¼äºç½‘ç»œçš„å¯¹è±¡,SockJSæä¾›äº†ä¸€ä¸ªè¿è´¯çš„,è·¨æµè§ˆå™¨çš„JavaScriptAPI,å®ƒåœ¨æµè§ˆå™¨å’ŒWebæœåŠ¡å™¨ä¹‹é—´åˆ›å»ºäº†ä¸€ä¸ªä½å»¶è¿Ÿ,å…¨åŒå·¥,è·¨åŸŸé€šä¿¡é€šé“. ä½ å¯èƒ½ä¼šé—®,æˆ‘ä¸ºä»€ä¹ˆä¸ç›´æ¥ç”¨åŸç”Ÿçš„WebSocketè€Œè¦ä½¿ç”¨SockJSå‘¢?è¿™å¾—ç›ŠäºSockJSçš„ä¸€å¤§ç‰¹æ€§,ä¸€äº›æµè§ˆå™¨ä¸­ç¼ºå°‘å¯¹WebSocketçš„æ”¯æŒ,å› æ­¤ï¼Œå›é€€é€‰é¡¹æ˜¯å¿…è¦çš„ï¼Œè€ŒSpringæ¡†æ¶æä¾›äº†åŸºäºSockJSåè®®çš„é€æ˜çš„å›é€€é€‰é¡¹ã€‚SockJSæä¾›äº†æµè§ˆå™¨å…¼å®¹æ€§,ä¼˜å…ˆä½¿ç”¨åŸç”Ÿçš„WebSocket,å¦‚æœæŸä¸ªæµè§ˆå™¨ä¸æ”¯æŒWebSocket,SockJSä¼šè‡ªåŠ¨é™çº§ä¸ºè½®è¯¢.</p>
<h3 id="stomjs"><a href="#stomjs" class="headerlink" title="stomjs"></a>stomjs</h3><p>STOMP(Simple Text-Orientated Messaging Protocol) é¢å‘æ¶ˆæ¯çš„ç®€å•æ–‡æœ¬åè®®; WebSocketæ˜¯ä¸€ä¸ªæ¶ˆæ¯æ¶æ„,ä¸å¼ºåˆ¶ä½¿ç”¨ä»»ä½•ç‰¹å®šçš„æ¶ˆæ¯åè®®,å®ƒä¾èµ–äºåº”ç”¨å±‚è§£é‡Šæ¶ˆæ¯çš„å«ä¹‰. ä¸HTTPä¸åŒ,WebSocketæ˜¯å¤„åœ¨TCPä¸Šéå¸¸è–„çš„ä¸€å±‚,ä¼šå°†å­—èŠ‚æµè½¬åŒ–ä¸ºæ–‡æœ¬/äºŒè¿›åˆ¶æ¶ˆæ¯,å› æ­¤,å¯¹äºå®é™…åº”ç”¨æ¥è¯´,WebSocketçš„é€šä¿¡å½¢å¼å±‚çº§è¿‡ä½,å› æ­¤ï¼Œå¯ä»¥åœ¨ WebSocket ä¹‹ä¸Šä½¿ç”¨STOMPåè®®ï¼Œæ¥ä¸ºæµè§ˆå™¨ å’Œ serveré—´çš„ é€šä¿¡å¢åŠ é€‚å½“çš„æ¶ˆæ¯è¯­ä¹‰ã€‚</p>
<p><strong>STOMPä¸WebSocket çš„å…³ç³»:</strong></p>
<ol>
<li>HTTPåè®®è§£å†³äº†webæµè§ˆå™¨å‘èµ·è¯·æ±‚ä»¥åŠwebæœåŠ¡å™¨å“åº”è¯·æ±‚çš„ç»†èŠ‚,å‡è®¾HTTPåè®®ä¸å­˜åœ¨,åªèƒ½ä½¿ç”¨TCPå¥—æ¥å­—æ¥ç¼–å†™webåº”ç”¨,ä½ å¯èƒ½è®¤ä¸ºè¿™æ˜¯ä¸€ä»¶ç–¯ç‹‚çš„äº‹æƒ…;</li>
<li>ç›´æ¥ä½¿ç”¨WebSocket(SockJS)å°±å¾ˆç±»ä¼¼äºä½¿ç”¨TCPå¥—æ¥å­—æ¥ç¼–å†™webåº”ç”¨,å› ä¸ºæ²¡æœ‰é«˜å±‚åè®®,å°±éœ€è¦æˆ‘ä»¬å®šä¹‰åº”ç”¨é—´å‘é€æ¶ˆæ¯çš„è¯­ä¹‰,è¿˜éœ€è¦ç¡®ä¿è¿æ¥çš„ä¸¤ç«¯éƒ½èƒ½éµå¾ªè¿™äº›è¯­ä¹‰;</li>
<li>åŒHTTPåœ¨TCPå¥—æ¥å­—ä¸Šæ·»åŠ è¯·æ±‚-å“åº”æ¨¡å‹å±‚ä¸€æ ·,STOMPåœ¨WebSocketä¹‹ä¸Šæä¾›äº†ä¸€ä¸ªåŸºäºå¸§çš„çº¿è·¯æ ¼å¼å±‚,ç”¨æ¥å®šä¹‰æ¶ˆæ¯è¯­ä¹‰.</li>
</ol>
<h3 id="ä»£ç å®ç°"><a href="#ä»£ç å®ç°" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h3><p>ä»£ç ä¸­é™¤äº†æœ€åŸºæœ¬çš„è¿æ¥,è¿˜è®¾ç½®äº†ä¸€ä¸ªå®šæ—¶å™¨,æ¯éš”åç§’å‘é€ä¸€æ¡æ•°æ®åˆ°æœåŠ¡å™¨ç«¯,å¦‚æœå‘ç”Ÿé”™è¯¯,catchè¿™ä¸ªé”™è¯¯,é‡æ–°å»ºç«‹è¿æ¥.</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; å®‰è£…å¹¶å¼•å…¥ç›¸å…³æ¨¡å—</span><br><span class="line">import SockJS from  &#39;sockjs-client&#39;;  </span><br><span class="line">import  Stomp from &#39;stompjs&#39;;</span><br><span class="line">export default &#123;</span><br><span class="line">    data() &#123;</span><br><span class="line">      return &#123;</span><br><span class="line">        dataList: []</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;,</span><br><span class="line">    mounted:function()&#123;</span><br><span class="line">      this.initWebSocket();</span><br><span class="line">    &#125;,</span><br><span class="line">    beforeDestroy: function () &#123;</span><br><span class="line">      &#x2F;&#x2F; é¡µé¢ç¦»å¼€æ—¶æ–­å¼€è¿æ¥,æ¸…é™¤å®šæ—¶å™¨</span><br><span class="line">      this.disconnect();</span><br><span class="line">      clearInterval(this.timer);</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">      initWebSocket() &#123;</span><br><span class="line">        this.connection();</span><br><span class="line">        let self &#x3D; this;</span><br><span class="line">        &#x2F;&#x2F; æ–­å¼€é‡è¿æœºåˆ¶,å°è¯•å‘é€æ¶ˆæ¯,æ•è·å¼‚å¸¸å‘ç”Ÿæ—¶é‡è¿</span><br><span class="line">        this.timer &#x3D; setInterval(() &#x3D;&gt; &#123;</span><br><span class="line">          try &#123;</span><br><span class="line">            self.stompClient.send(&quot;test&quot;);</span><br><span class="line">          &#125; catch (err) &#123;</span><br><span class="line">            console.log(&quot;æ–­çº¿äº†: &quot; + err);</span><br><span class="line">            self.connection();</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;, 5000);</span><br><span class="line">      &#125;,</span><br><span class="line">      removeTab(targetName) &#123;</span><br><span class="line">        console.log(targetName)</span><br><span class="line">      &#125;,</span><br><span class="line">      connection() &#123;</span><br><span class="line">      &#x2F;&#x2F; å»ºç«‹è¿æ¥å¯¹è±¡</span><br><span class="line">        this.socket &#x3D; new SockJS(&#39;http:&#x2F;&#x2F;xxxxxx:8089&#x2F;ws&#39;);&#x2F;&#x2F;è¿æ¥æœåŠ¡ç«¯æä¾›çš„é€šä¿¡æ¥å£ï¼Œè¿æ¥ä»¥åæ‰å¯ä»¥è®¢é˜…å¹¿æ’­æ¶ˆæ¯å’Œä¸ªäººæ¶ˆæ¯</span><br><span class="line">        &#x2F;&#x2F; è·å–STOMPå­åè®®çš„å®¢æˆ·ç«¯å¯¹è±¡</span><br><span class="line">        this.stompClient &#x3D; Stomp.over(this.socket);</span><br><span class="line">        &#x2F;&#x2F; å®šä¹‰å®¢æˆ·ç«¯çš„è®¤è¯ä¿¡æ¯,æŒ‰éœ€æ±‚é…ç½®</span><br><span class="line">        var headers &#x3D; &#123;</span><br><span class="line">          login: &#39;mylogin&#39;,</span><br><span class="line">          passcode: &#39;mypasscode&#39;,</span><br><span class="line">          &#x2F;&#x2F; additional header</span><br><span class="line">          &#39;client-id&#39;: &#39;my-client-id&#39;</span><br><span class="line">        &#125;;</span><br><span class="line">        &#x2F;&#x2F; å‘æœåŠ¡å™¨å‘èµ·websocketè¿æ¥</span><br><span class="line">        this.stompClient.connect(headers,(frame) &#x3D;&gt; &#123;</span><br><span class="line">          this.stompClient.subscribe(&#39;&#x2F;topic&#x2F;chat_msg&#39;, (msg) &#x3D;&gt; &#123; &#x2F;&#x2F; è®¢é˜…æœåŠ¡ç«¯æä¾›çš„æŸä¸ªtopic</span><br><span class="line">           consolel.log(msg.body);  &#x2F;&#x2F; msg.bodyå­˜æ”¾çš„æ˜¯æœåŠ¡ç«¯å‘é€ç»™æˆ‘ä»¬çš„ä¿¡æ¯</span><br><span class="line">          &#125;);</span><br><span class="line">        &#125;, (err) &#x3D;&gt; &#123;</span><br><span class="line">            &#x2F;&#x2F; è¿æ¥å‘ç”Ÿé”™è¯¯æ—¶çš„å¤„ç†å‡½æ•°</span><br><span class="line">            console.log(err);</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">      &#125;,</span><br><span class="line">      &#x2F;&#x2F; æ–­å¼€è¿æ¥</span><br><span class="line">      disconnect() &#123;</span><br><span class="line">        if (this.stompClient !&#x3D; null) &#123;</span><br><span class="line">          this.stompClient.disconnect();</span><br><span class="line">          console.log(&quot;Disconnected&quot;);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>



<p>é“¾æ¥ï¼š<a href="https://juejin.im/post/6844903664721592327" target="_blank" rel="noopener">https://juejin.im/post/6844903664721592327</a></p>
]]></content>
      <categories>
        <category>WebSocket</category>
      </categories>
      <tags>
        <tag>WebSocket</tag>
        <tag>æ¡ˆä¾‹</tag>
      </tags>
  </entry>
  <entry>
    <title>Xftp5ä¹‹åˆè§</title>
    <url>/2020/10/30/Xftp5%E4%B9%8B%E5%88%9D%E8%A7%81/</url>
    <content><![CDATA[<p>Xftpæ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„<a href="https://baike.baidu.com/item/SFTP/1184182" target="_blank" rel="noopener">SFTP</a>ã€<a href="https://baike.baidu.com/item/FTP/13839" target="_blank" rel="noopener">FTP</a> æ–‡ä»¶ä¼ è¾“è½¯ä»¶ã€‚ä½¿ç”¨äº† Xftp ä»¥åï¼ŒWindows ç”¨æˆ·èƒ½å®‰å…¨åœ°åœ¨ Linux å’Œ Windowsä¹‹é—´ä¼ è¾“æ–‡ä»¶ã€‚</p>
<h3 id="Xftp5è½¯ä»¶ä½¿ç”¨è¯¦è§£"><a href="#Xftp5è½¯ä»¶ä½¿ç”¨è¯¦è§£" class="headerlink" title="Xftp5è½¯ä»¶ä½¿ç”¨è¯¦è§£"></a>Xftp5è½¯ä»¶ä½¿ç”¨è¯¦è§£</h3><p>ä¸€ã€é¦–å…ˆè¿è¡ŒXftp5ï¼Œç„¶åå¯¼èˆªæ ä¸Šé¢æœ‰ä¸ªå°åŠ å·ï¼Œç‚¹å‡»è¿›å»ã€‚</p>
<p><img src="https://images2018.cnblogs.com/blog/1126989/201808/1126989-20180831103255255-1718023639.png" alt="img"></p>
<a id="more"></a>

<p>äºŒã€æ¥ç€å‡ºç°å¦‚ä¸‹ç•Œé¢ï¼Œåœ¨è¿™é‡Œå¡«å†™åç§°ï¼ˆè¿™ä¸ªéšæ„å¡«å†™ï¼‰ï¼Œä¸»æœºå¡«å†™è¦è¿æ¥çš„ä¸»æœºçš„IPåœ°å€ï¼Œç„¶ååè®®çš„è¯ï¼ŒLinuxç³»ç»Ÿä¸€èˆ¬é€‰æ‹©SFTPåè®®ï¼Œç«¯å£é»˜è®¤å³å¯ã€‚</p>
<p><img src="https://images2018.cnblogs.com/blog/1126989/201808/1126989-20180831103722673-442496041.png" alt="img"></p>
<p><img src="https://images2018.cnblogs.com/blog/1126989/201808/1126989-20180831104017917-1276627074.png" alt="img"></p>
<p>ä¸‰ã€æ¥ç€è¾“å…¥ä¸»æœºçš„è´¦å·å¯†ç ã€‚æ³¨æ„è¿™å„¿ä¸èƒ½ç”¨rootè´¦å·ï¼ˆä¹Ÿå°±æ˜¯è¶…çº§ç®¡ç†å‘˜è´¦å·ï¼‰ç™»å…¥ï¼Œå¦åˆ™ä¼šå‡ºç°â€œSSHæœåŠ¡å™¨æ‹’ç»äº†å¯†ç ã€‚è¯·å†è¯•ä¸€æ¬¡â€çš„é”™è¯¯ã€‚</p>
<p> <img src="https://images2018.cnblogs.com/blog/1126989/201808/1126989-20180831104400855-608176423.png" alt="img"></p>
<p>å››ã€ç‚¹å‡»ç¡®å®šã€‚å¦‚æ­¤å°±å¯ä»¥è¿›è¡Œä¸¤ä¸ªä¸»æœºä¹‹é—´æ–‡ä»¶çš„ä¼ è¾“æœåŠ¡äº†ï¼ŒåŒ…æ‹¬æ–‡ä»¶ä¸Šä¼ ï¼Œä¸‹è½½ç­‰ç­‰ã€‚</p>
<p><img src="https://images2018.cnblogs.com/blog/1126989/201808/1126989-20180831104619735-986809902.png" alt="img"></p>
<p>æ¸©é¦¨æç¤ºï¼šå¦‚æœå‡ºç°ä¸èƒ½è¿æ¥åˆ°IPåœ°å€çš„æƒ…å†µï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚æœ‰å¾ˆå¤§çš„å¯èƒ½æ˜¯Linuxçš„sshæœåŠ¡æ²¡æœ‰å¼€å¯ã€‚è§£å†³æ–¹æ³•ï¼š</p>
<p>ã€€ã€€1ã€æ£€æŸ¥sshæœåŠ¡æ˜¯å¦å®‰è£…ï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š</p>
<p>ã€€ã€€ã€€ã€€$ ps -e | grep ssh  çœ‹åˆ°â€œssh-agentâ€å’Œâ€œsshdâ€ï¼Œå¦åˆ™è¡¨ç¤ºæ²¡æœ‰å®‰è£…æœåŠ¡ï¼Œæˆ–æ²¡æœ‰å¼€æœºå¯åŠ¨ã€‚</p>
<p>ã€€ã€€2ã€å®‰è£…ssh,è¾“å…¥å‘½ä»¤ï¼š</p>
<p>ã€€ã€€ã€€ã€€$ sudo apt-get install openssh-server  </p>
<p>ã€€ã€€3ã€å¯åŠ¨æœåŠ¡ï¼Œè¾“å…¥å‘½ä»¤ï¼š</p>
<p>ã€€ã€€ã€€ã€€$ /etc/init.d/ssh startã€‚è¿™æ ·è§£å†³è¿™ä¸ªé—®é¢˜äº†ï¼Œå¯ä»¥ä½¿ç”¨Xftp5è¿›è¡Œè¿æ¥äº†ã€‚</p>
<p><img src="https://images2018.cnblogs.com/blog/1126989/201808/1126989-20180831104835774-817519508.png" alt="img"></p>
]]></content>
      <categories>
        <category>ftp</category>
      </categories>
      <tags>
        <tag>ftp</tag>
      </tags>
  </entry>
  <entry>
    <title>axiosä¹‹getå’Œpost</title>
    <url>/2020/09/27/axios%E4%B9%8Bget%E5%92%8Cpost/</url>
    <content><![CDATA[<p>1.getä¼ å‚æ–¹å¼æ˜¯é€šè¿‡åœ°å€æ URLä¼ é€’ï¼Œæ˜¯å¯ä»¥ç›´æ¥çœ‹åˆ°getä¼ é€’çš„å‚æ•°ï¼Œpostä¼ å‚æ–¹å¼å‚æ•°URLä¸å¯è§ï¼ŒgetæŠŠè¯·æ±‚çš„æ•°æ®åœ¨URLåé€šè¿‡ï¼Ÿè¿æ¥ï¼Œé€šè¿‡&amp;è¿›è¡Œå‚æ•°åˆ†å‰²ã€‚psotå°†å‚æ•°å­˜æ”¾åœ¨HTTPçš„åŒ…ä½“å†…</p>
<p>2.getä¼ é€’æ•°æ®æ˜¯é€šè¿‡URLè¿›è¡Œä¼ é€’ï¼Œå¯¹ä¼ é€’çš„æ•°æ®é•¿åº¦æ˜¯å—åˆ°URLå¤§å°çš„é™åˆ¶ï¼ŒURLæœ€å¤§é•¿åº¦æ˜¯2048ä¸ªå­—ç¬¦ã€‚postæ²¡æœ‰é•¿åº¦é™åˆ¶</p>
<p>3.getåé€€ä¸ä¼šæœ‰å½±å“ï¼Œpoståé€€ä¼šé‡æ–°è¿›è¡Œæäº¤</p>
<p>4.getè¯·æ±‚å¯ä»¥è¢«ç¼“å­˜ï¼Œpostä¸å¯ä»¥è¢«ç¼“å­˜</p>
<p>5.getè¯·æ±‚åªURLç¼–ç ï¼Œpostæ”¯æŒå¤šç§ç¼–ç æ–¹å¼</p>
<p>6.getè¯·æ±‚çš„è®°å½•ä¼šç•™åœ¨å†å²è®°å½•ä¸­ï¼Œpostè¯·æ±‚ä¸ä¼šç•™åœ¨å†å²è®°å½•</p>
<p>7.getåªæ”¯æŒASCIIå­—ç¬¦ï¼Œpostæ²¡æœ‰å­—ç¬¦ç±»å‹é™åˆ¶</p>
<h3 id="ä»€ä¹ˆæ˜¯GETå’ŒPOSTè¯·æ±‚"><a href="#ä»€ä¹ˆæ˜¯GETå’ŒPOSTè¯·æ±‚" class="headerlink" title="ä»€ä¹ˆæ˜¯GETå’ŒPOSTè¯·æ±‚"></a>ä»€ä¹ˆæ˜¯GETå’ŒPOSTè¯·æ±‚</h3><p>GETï¼šå‘æŒ‡å®šè·¯å¾„èµ„æºå‘é€è¯·æ±‚ï¼Œé€šå¸¸ç”¨äºè·å–æ•°æ®</p>
<p>POSTï¼šå‘æŒ‡å®šè·¯å¾„èµ„æºæäº¤æ•°æ®è¿›è¡Œå¤„ç†è¯·æ±‚ï¼Œé€šå¸¸ç”¨äºæäº¤è¡¨å•æˆ–è€…ä¸Šä¼ æ–‡ä»¶</p>
<h3 id="GETå’ŒPOSTè¯·æ±‚çš„åŒºåˆ«"><a href="#GETå’ŒPOSTè¯·æ±‚çš„åŒºåˆ«" class="headerlink" title="GETå’ŒPOSTè¯·æ±‚çš„åŒºåˆ«"></a>GETå’ŒPOSTè¯·æ±‚çš„åŒºåˆ«</h3><p>1ï¼ŒGETä¸€èˆ¬æ˜¯ä»æœåŠ¡å™¨ä¸Šè·å–æ•°æ®ï¼ŒPOSTæ˜¯å‘æœåŠ¡å™¨æäº¤æ•°æ®ã€‚</p>
<p>2ï¼ŒGETé€šè¿‡URLæäº¤æ•°æ®ï¼Œæ•°æ®åœ¨URLä¸­å¯ä»¥çœ‹åˆ°ï¼ŒPOSTåˆ™æ˜¯åœ¨HEADERå†…æäº¤ã€‚</p>
<p>3ï¼ŒGETæäº¤çš„æ•°æ®ä¸èƒ½å¤§äº2KBï¼Œè€ŒPOSTä¸å—é™åˆ¶ã€‚</p>
<p>4ï¼ŒGETæ•°æ®å®¹æ˜“æ³„éœ²ï¼ŒPOSTè¾ƒä¸ºå®‰å…¨</p>
<a id="more"></a>

<p><img src="https://exp-picture.cdn.bcebos.com/dd58d02c5b1b1edea3f5908d981fceecd2d90fbd.jpg?x-bce-process=image%2Fresize%2Cm_lfit%2Cw_500%2Climit_1" alt="Vueå®æˆ˜032ï¼šaxioså¦‚ä½•ä½¿ç”¨getå’Œpostå‘é€è¯·æ±‚"></p>
<h3 id="Content-Type"><a href="#Content-Type" class="headerlink" title="Content-Type"></a>Content-Type</h3><p>Content-Typeæ˜¯æŒ‡å‘é€ä¿¡æ¯è‡³æœåŠ¡å™¨æ—¶çš„å†…å®¹ç¼–ç ç±»å‹ï¼Œå¸¸è§çš„è¡¨å•æäº¤æˆ–ä¸Šä¼ æ–‡ä»¶çš„å¸¸ç”¨çš„èµ„æºç±»å‹æœ‰application/x-www-form-urlencodedã€multipart/form-dataã€ application/jsonã€ application/xmlï¼Œé»˜è®¤æƒ…å†µä¸‹ä¸ºapplication/x-www-form-unlencodedã€‚</p>
<h3 id="axioså‘é€GETè¯·æ±‚"><a href="#axioså‘é€GETè¯·æ±‚" class="headerlink" title="axioså‘é€GETè¯·æ±‚"></a>axioså‘é€GETè¯·æ±‚</h3><p>getå‘é€è¯·æ±‚æ—¶å‚æ•°é™„åœ¨URLä¸Šï¼Œå·²é”®å€¼å¯¹çš„å½¢å¼å‘ˆç°ï¼Œå¦‚<a href="http://localhost:8000/test/?name=kevinfan&amp;&amp;age=18,è¿™é‡Œä¼ é€’çš„å°±æ˜¯name=kevinfan&amp;&amp;age=18ä¸¤ä¸ªå‚æ•°ã€‚" target="_blank" rel="noopener">http://localhost:8000/test/?name=kevinfan&amp;&amp;age=18,è¿™é‡Œä¼ é€’çš„å°±æ˜¯name=kevinfan&amp;&amp;age=18ä¸¤ä¸ªå‚æ•°ã€‚</a></p>
<p><img src="https://exp-picture.cdn.bcebos.com/125ed0ecd3d96975afeddc2dd243040149fe09bd.jpg?x-bce-process=image%2Fresize%2Cm_lfit%2Cw_500%2Climit_1" alt="Vueå®æˆ˜032ï¼šaxioså¦‚ä½•ä½¿ç”¨getå’Œpostå‘é€è¯·æ±‚"></p>
<p> é‚£ä¹ˆaxioså‘é€è¯·æ±‚çš„æ—¶å€™å°±å¯ä»¥è¿™æ ·å†™</p>
<p><img src="https://exp-picture.cdn.bcebos.com/49bf00425d6b04d12c00aa3cb213e8e5edee01bd.jpg?x-bce-process=image%2Fresize%2Cm_lfit%2Cw_500%2Climit_1" alt="Vueå®æˆ˜032ï¼šaxioså¦‚ä½•ä½¿ç”¨getå’Œpostå‘é€è¯·æ±‚"></p>
<p>geté™¤äº†å¯ä»¥å‘é€ä¸€äº›ç®€å•çš„å‚æ•°ä¹Ÿå¯ä»¥æºå¸¦è¯·æ±‚å¤´å‚æ•°ï¼Œæ¯”å¦‚è¯´æˆ‘æƒ³æŠŠtokené€šè¿‡è¯·æ±‚å¤´çš„å½¢å¼å‘é€è‡³åå°ï¼Œè¿™é‡Œæˆ‘åœ¨headersä¸­å®šä¹‰äº†Authorization=tokenï¼Œé€šè¿‡éªŒè¯tokenæ¥è·å–ç”¨æˆ·ä¿¡æ¯ã€‚</p>
<p><img src="https://exp-picture.cdn.bcebos.com/edafb3bcbe2f47702b31ef6e6f3b3b86032179bd.jpg?x-bce-process=image%2Fresize%2Cm_lfit%2Cw_500%2Climit_1" alt="Vueå®æˆ˜032ï¼šaxioså¦‚ä½•ä½¿ç”¨getå’Œpostå‘é€è¯·æ±‚"></p>
<p>åå°æ¥å—è¯·æ±‚å¤´ä¿¡æ¯æ—¶åº”è¯¥ç”¨request.META.get(â€˜HTTP_AUTHORIZATIONâ€™)ï¼Œè€Œä¸”è¿™é‡Œæˆ‘ä»¬éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå‰ç«¯å‘è¿‡æ¥çš„å­—æ®µæ˜¯Authorizationï¼Œè€Œåå°æ¥å—æ—¶ç¡®æ˜¯HTTP_AUTHORIZATIONã€‚</p>
<p><img src="https://exp-picture.cdn.bcebos.com/4e168d5653bbf82012d2a6bfba21056105a36ebd.jpg?x-bce-process=image%2Fresize%2Cm_lfit%2Cw_500%2Climit_1" alt="Vueå®æˆ˜032ï¼šaxioså¦‚ä½•ä½¿ç”¨getå’Œpostå‘é€è¯·æ±‚"></p>
<h3 id="axioså‘é€POSTè¯·æ±‚"><a href="#axioså‘é€POSTè¯·æ±‚" class="headerlink" title="axioså‘é€POSTè¯·æ±‚"></a>axioså‘é€POSTè¯·æ±‚</h3><p>postå‘é€è¯·æ±‚æ—¶å‚æ•°æ”¾åœ¨HEADERçš„è¯·æ±‚ä½“ä¸­ï¼Œaxiosé»˜è®¤å‘é€æ•°æ®æ—¶ï¼Œæ•°æ®æ ¼å¼æ˜¯Request Payloadï¼ˆè¯·æ±‚å¤´ Content-Type: application/jsonï¼‰ï¼Œè€Œæˆ‘ä»¬å¸¸ç”¨çš„æ˜¯Form Dataï¼ˆè¯·æ±‚å¤´ Content-Type: application/x-www-form-urlencodedï¼‰æ ¼å¼ã€‚</p>
<p><img src="https://exp-picture.cdn.bcebos.com/04201aa355e983ae95fe699e68efe078153169bd.jpg?x-bce-process=image%2Fresize%2Cm_lfit%2Cw_500%2Climit_1" alt="Vueå®æˆ˜032ï¼šaxioså¦‚ä½•ä½¿ç”¨getå’Œpostå‘é€è¯·æ±‚"></p>
<p>å¦‚æœæˆ‘ä»¬ç›´æ¥å°†å¦‚ä¸Šæ‰€ç¤ºçš„æ•°æ®å‘é€ç»™Djangoåå°çš„è¯æ”¶åˆ°çš„æ•°æ®ä¼šæ˜¯Noneï¼Œè¿™é‡Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°å‘é€çš„æ•°æ®æ ¼å¼ä¸ºRequest Payloadï¼ˆè¯·æ±‚å¤´ Content-Type: application/jsonï¼‰,è¿™æ—¶æˆ‘ä»¬å°±ä¸èƒ½ä»¥jsonå½¢å¼ä¼ å‚ï¼Œè€Œæ˜¯é€šè¿‡é”®å€¼å¯¹å½¢å¼ä¼ å‚ã€‚</p>
<p><img src="https://exp-picture.cdn.bcebos.com/586bfdefe07814315d9f02d8dc6699cf035362bd.jpg?x-bce-process=image%2Fresize%2Cm_lfit%2Cw_500%2Climit_1" alt="Vueå®æˆ˜032ï¼šaxioså¦‚ä½•ä½¿ç”¨getå’Œpostå‘é€è¯·æ±‚"></p>
<p>è§£å†³åŠæ³•ï¼šaxiosä¸­æä¾›äº†qsæ¨¡å—ï¼Œå¯ä»¥å¯¹æ•°æ®æ ¼å¼è¿›è¡Œè½¬æ¢ï¼Œåœ¨axiosä¸­å¼•å…¥this.$qs.stringify()ï¼Œè¿™æ ·åœ¨ä¼ å‚å‰å°†æ•°æ®è‡ªåŠ¨å¤„ç†æˆé”®å€¼å¯¹å½¢å¼ï¼Œè¿™é‡Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°å‘é€çš„æ•°æ®æ ¼å¼ä¸ºForm Dataï¼ˆè¯·æ±‚å¤´ Content-Type: application/x-www-form-urlencodedï¼‰ï¼Œåå°ä¹Ÿæ­£å¸¸æ¥æ”¶åˆ°äº†æ•°æ®ã€‚</p>
<p><img src="https://exp-picture.cdn.bcebos.com/332d496699cf0253a84a13316b36e29146e85fbd.jpg?x-bce-process=image%2Fresize%2Cm_lfit%2Cw_500%2Climit_1" alt="Vueå®æˆ˜032ï¼šaxioså¦‚ä½•ä½¿ç”¨getå’Œpostå‘é€è¯·æ±‚"></p>
<p><img src="https://exp-picture.cdn.bcebos.com/22c4fe36e29147e8bfc909c6b603bbea3f8658bd.jpg?x-bce-process=image%2Fresize%2Cm_lfit%2Cw_500%2Climit_1" alt="Vueå®æˆ˜032ï¼šaxioså¦‚ä½•ä½¿ç”¨getå’Œpostå‘é€è¯·æ±‚"></p>
<h3 id="axiosé€šè¿‡POSTä¼ æ–‡ä»¶"><a href="#axiosé€šè¿‡POSTä¼ æ–‡ä»¶" class="headerlink" title="axiosé€šè¿‡POSTä¼ æ–‡ä»¶"></a>axiosé€šè¿‡POSTä¼ æ–‡ä»¶</h3><p>POSTé™¤äº†å¯ä»¥å‘é€æ•°æ®ä¹‹åï¼Œè¿˜å¯ä»¥ç”¨äºå‘é€æ–‡ä»¶ï¼ˆå¦‚ä¼ å›¾ç‰‡ç­‰ï¼‰ï¼Œé‚£ä¹ˆè¿™æ—¶æ–‡ä»¶å°±æ˜¯ä¸ªå¯¹è±¡è€Œå¹¶ä¸æ˜¯å‚æ•°ã€‚è¿™æ˜¯æˆ‘ä»¬å°±éœ€è¦ç”³æ˜ä¸€ä¸ªFormDataå¯¹è±¡ï¼Œä»¥formData.append(â€˜é”®â€™,å¯¹è±¡)å½¢å¼å°†å¯¹è±¡æ·»åŠ åˆ°formDataä¸­ç„¶åä¼ é€’ã€‚</p>
<p><img src="https://exp-picture.cdn.bcebos.com/46a92de039723d0334c30e32bb486143d6d457bd.jpg?x-bce-process=image%2Fresize%2Cm_lfit%2Cw_500%2Climit_1" alt="Vueå®æˆ˜032ï¼šaxioså¦‚ä½•ä½¿ç”¨getå’Œpostå‘é€è¯·æ±‚"></p>
<h3 id="å…«å¤§è¯·æ±‚æ–¹å¼"><a href="#å…«å¤§è¯·æ±‚æ–¹å¼" class="headerlink" title="å…«å¤§è¯·æ±‚æ–¹å¼"></a>å…«å¤§è¯·æ±‚æ–¹å¼</h3><p><img src="https://images2018.cnblogs.com/blog/1418466/201808/1418466-20180810112625596-2103906128.png" alt="img"></p>
<p><strong>è®²è§£</strong></p>
<p>1ã€OPTIONS</p>
<p>è¿”å›æœåŠ¡å™¨é’ˆå¯¹ç‰¹å®šèµ„æºæ‰€æ”¯æŒçš„HTTPè¯·æ±‚æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥åˆ©ç”¨å‘webæœåŠ¡å™¨å‘é€â€˜*â€™çš„è¯·æ±‚æ¥æµ‹è¯•æœåŠ¡å™¨çš„åŠŸèƒ½æ€§</p>
<p>2ã€HEAD</p>
<p>å‘æœåŠ¡å™¨ç´¢ä¸GETè¯·æ±‚ç›¸ä¸€è‡´çš„å“åº”ï¼Œåªä¸è¿‡å“åº”ä½“å°†ä¸ä¼šè¢«è¿”å›ã€‚è¿™ä¸€æ–¹æ³•å¯ä»¥å†ä¸å¿…ä¼ è¾“æ•´ä¸ªå“åº”å†…å®¹çš„æƒ…å†µä¸‹ï¼Œå°±å¯ä»¥è·å–åŒ…å«åœ¨å“åº”å°æ¶ˆæ¯å¤´ä¸­çš„å…ƒä¿¡æ¯ã€‚</p>
<p>3ã€GET</p>
<p>å‘ç‰¹å®šçš„èµ„æºå‘å‡ºè¯·æ±‚ã€‚æ³¨æ„ï¼šGETæ–¹æ³•ä¸åº”å½“è¢«ç”¨äºäº§ç”Ÿâ€œå‰¯ä½œç”¨â€çš„æ“ä½œä¸­ï¼Œä¾‹å¦‚åœ¨Web Applicationä¸­ï¼Œå…¶ä¸­ä¸€ä¸ªåŸå› æ˜¯GETå¯èƒ½ä¼šè¢«ç½‘ç»œèœ˜è››ç­‰éšæ„è®¿é—®ã€‚Loadrunnerä¸­å¯¹åº”getè¯·æ±‚å‡½æ•°ï¼šweb_linkå’Œweb_url</p>
<p>4ã€POST</p>
<p>å‘æŒ‡å®šèµ„æºæäº¤æ•°æ®è¿›è¡Œå¤„ç†è¯·æ±‚ï¼ˆä¾‹å¦‚æäº¤è¡¨å•æˆ–è€…ä¸Šä¼ æ–‡ä»¶ï¼‰ã€‚æ•°æ®è¢«åŒ…å«åœ¨è¯·æ±‚ä½“ä¸­ã€‚POSTè¯·æ±‚å¯èƒ½ä¼šå¯¼è‡´æ–°çš„èµ„æºçš„å»ºç«‹å’Œ/æˆ–å·²æœ‰èµ„æºçš„ä¿®æ”¹ã€‚ Loadrunnerä¸­å¯¹åº”POSTè¯·æ±‚å‡½æ•°ï¼šweb_submit_data,web_submit_form</p>
<p>5ã€PUT</p>
<p>å‘æŒ‡å®šèµ„æºä½ç½®ä¸Šä¼ å…¶æœ€æ–°å†…å®¹</p>
<p>6ã€DELETE</p>
<p>è¯·æ±‚æœåŠ¡å™¨åˆ é™¤Request-URLæ‰€æ ‡è¯†çš„èµ„æº</p>
<p>7ã€TRACE</p>
<p>å›æ˜¾æœåŠ¡å™¨æ”¶åˆ°çš„è¯·æ±‚ï¼Œä¸»è¦ç”¨äºæµ‹è¯•æˆ–è¯Šæ–­</p>
<p>8ã€CONNECT</p>
<p>HTTP/1.1åè®®ä¸­é¢„ç•™ç»™èƒ½å¤Ÿå°†è¿æ¥æ”¹ä¸ºç®¡é“æ–¹å¼çš„ä»£ç†æœåŠ¡å™¨ã€‚</p>
<p>æ³¨æ„ï¼š</p>
<p>1ï¼‰æ–¹æ³•åç§°æ˜¯åŒºåˆ†å¤§å°å†™çš„ï¼Œå½“æŸä¸ªè¯·æ±‚æ‰€é’ˆå¯¹çš„èµ„æºä¸æ”¯æŒå¯¹åº”çš„è¯·æ±‚æ–¹æ³•çš„æ—¶å€™ï¼ŒæœåŠ¡å™¨åº”å½“è¿”å›çŠ¶æ€ç 405ï¼ˆMothod Not Allowedï¼‰ï¼›å½“æœåŠ¡å™¨ä¸è®¤è¯†æˆ–è€…ä¸æ”¯æŒå¯¹åº”çš„è¯·æ±‚æ–¹æ³•æ—¶ï¼Œåº”è¿”å›çŠ¶æ€ç 501ï¼ˆNot Implementedï¼‰ã€‚</p>
<p>2ï¼‰HTTPæœåŠ¡å™¨è‡³å°‘åº”è¯¥å®ç°GETå’ŒHEAD/POSTæ–¹æ³•ï¼Œå…¶ä»–æ–¹æ³•éƒ½æ˜¯å¯é€‰çš„ï¼Œæ­¤å¤–é™¤ä¸Šè¿°æ–¹æ³•ï¼Œç‰¹å®šçš„HTTPæœåŠ¡å™¨æ”¯æŒæ‰©å±•è‡ªå®šä¹‰çš„æ–¹æ³•ã€‚</p>
]]></content>
      <categories>
        <category>axios</category>
        <category>vue</category>
      </categories>
      <tags>
        <tag>vue</tag>
        <tag>axios</tag>
        <tag>get</tag>
        <tag>post</tag>
      </tags>
  </entry>
  <entry>
    <title>axios</title>
    <url>/2020/07/27/axios/</url>
    <content><![CDATA[<h3 id="vueä¸­ä½¿ç”¨axios"><a href="#vueä¸­ä½¿ç”¨axios" class="headerlink" title="vueä¸­ä½¿ç”¨axios"></a>vueä¸­ä½¿ç”¨axios</h3><h4 id="å®‰è£…axios"><a href="#å®‰è£…axios" class="headerlink" title="å®‰è£…axios"></a>å®‰è£…axios</h4><p>npmï¼š</p>
<p>$ npm install axios -S</p>
<p>cdnï¼š</p>
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>

<a id="more"></a>

<h4 id="é…ç½®axios"><a href="#é…ç½®axios" class="headerlink" title="é…ç½®axios"></a>é…ç½®axios</h4><p>åœ¨é¡¹ç›®ä¸­æ–°å»ºapi/index.jsæ–‡ä»¶ï¼Œç”¨ä»¥é…ç½®axios</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">api/index.js</span><br><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">'axios'</span>;</span><br><span class="line"><span class="keyword">let</span> http = axios.create(&#123;</span><br><span class="line">  baseURL: <span class="string">'http://localhost:8080/'</span>,</span><br><span class="line">  withCredentials: <span class="literal">true</span>,</span><br><span class="line">  headers: &#123;</span><br><span class="line">    <span class="string">'Content-Type'</span>: <span class="string">'application/x-www-form-urlencoded;charset=utf-8'</span></span><br><span class="line">  &#125;,</span><br><span class="line">  transformRequest: [<span class="function"><span class="keyword">function</span> (<span class="params">data</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> newData = <span class="string">''</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> k <span class="keyword">in</span> data) &#123;</span><br><span class="line">      <span class="keyword">if</span> (data.hasOwnProperty(k) === <span class="literal">true</span>) &#123;</span><br><span class="line">        newData += <span class="built_in">encodeURIComponent</span>(k) + <span class="string">'='</span> + <span class="built_in">encodeURIComponent</span>(data[k]) + <span class="string">'&amp;'</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> newData;</span><br><span class="line">  &#125;]</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">apiAxios</span>(<span class="params">method, url, params, response</span>) </span>&#123;</span><br><span class="line">  http(&#123;</span><br><span class="line">    method: method,</span><br><span class="line">    url: url,</span><br><span class="line">    data: method === <span class="string">'POST'</span> || method === <span class="string">'PUT'</span> ? params : <span class="literal">null</span>,</span><br><span class="line">    params: method === <span class="string">'GET'</span> || method === <span class="string">'DELETE'</span> ? params : <span class="literal">null</span>,</span><br><span class="line">  &#125;).then(<span class="function"><span class="keyword">function</span> (<span class="params">res</span>) </span>&#123;</span><br><span class="line">    response(res);</span><br><span class="line">  &#125;).catch(<span class="function"><span class="keyword">function</span> (<span class="params">err</span>) </span>&#123;</span><br><span class="line">    response(err);</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="keyword">get</span>: function (url, params, response) &#123;</span><br><span class="line">    <span class="keyword">return</span> apiAxios(<span class="string">'GET'</span>, url, params, response)</span><br><span class="line">  &#125;,</span><br><span class="line">  post: <span class="function"><span class="keyword">function</span> (<span class="params">url, params, response</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> apiAxios(<span class="string">'POST'</span>, url, params, response)</span><br><span class="line">  &#125;,</span><br><span class="line">  put: <span class="function"><span class="keyword">function</span> (<span class="params">url, params, response</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> apiAxios(<span class="string">'PUT'</span>, url, params, response)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="keyword">delete</span>: <span class="function"><span class="keyword">function</span> (<span class="params">url, params, response</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> apiAxios(<span class="string">'DELETE'</span>, url, params, response)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">è¿™é‡Œçš„é…ç½®äº†POSTã€GETã€PUTã€DELETEæ–¹æ³•ã€‚å¹¶ä¸”è‡ªåŠ¨å°†<span class="built_in">JSON</span>æ ¼å¼æ•°æ®è½¬ä¸ºURLæ‹¼æ¥çš„æ–¹å¼</span><br><span class="line">åŒæ—¶é…ç½®äº†è·¨åŸŸï¼Œä¸éœ€è¦çš„è¯å°†withCredentialsè®¾ç½®ä¸º<span class="literal">false</span>å³å¯</span><br><span class="line">å¹¶ä¸”è®¾ç½®äº†é»˜è®¤å¤´éƒ¨åœ°å€ä¸ºï¼šhttp:<span class="comment">//localhost:8080/ï¼Œè¿™æ ·è°ƒç”¨çš„æ—¶å€™åªéœ€å†™è®¿é—®æ–¹æ³•å³å¯</span></span><br></pre></td></tr></table></figure>



<h4 id="è¯·æ±‚æ‹¦æˆªä¸å“åº”æ‹¦æˆª"><a href="#è¯·æ±‚æ‹¦æˆªä¸å“åº”æ‹¦æˆª" class="headerlink" title="è¯·æ±‚æ‹¦æˆªä¸å“åº”æ‹¦æˆª"></a>è¯·æ±‚æ‹¦æˆªä¸å“åº”æ‹¦æˆª</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">api&#x2F;index.js</span><br><span class="line"></span><br><span class="line">import router from &#39;.&#x2F;router&#39;</span><br><span class="line">&#x2F;&#x2F; è¯·æ±‚æ‹¦æˆªï¼ˆé…ç½®å‘é€è¯·æ±‚çš„ä¿¡æ¯ï¼‰</span><br><span class="line">&#x2F;&#x2F; åªè¦é…ç½®äº†æ‹¦æˆªå™¨ï¼Œé‚£ä¹ˆæ‰€æœ‰çš„è¯·æ±‚éƒ½ä¼šèµ°æ‹¦æˆªå™¨</span><br><span class="line">&#x2F;&#x2F; å› æ­¤ï¼Œå¯ä»¥åœ¨æ‹¦æˆªå™¨ä¸­ç»Ÿä¸€å¤„ç†headersï¼ˆå¤„ç†ï¼šé™¤äº†ç™»å½•æ¥å£ä»¥å¤–çš„æ‰€ä»¥æ¥å£ï¼Œéƒ½éœ€è¦å°†tokenä¼ é€’ç»™æœåŠ¡å™¨ï¼‰</span><br><span class="line">axios.interceptors.request.use(function (config) &#123;</span><br><span class="line">  &#x2F;&#x2F; å¤„ç†è¯·æ±‚ä¹‹å‰çš„é…ç½®</span><br><span class="line">  if(!config.url.endsWith(&#39;&#x2F;login&#39;))&#123;</span><br><span class="line">        &#x2F;&#x2F; åˆ¤æ–­å¦‚æœæ˜¯ç™»å½•æ¥å£ï¼Œå°±ä¸éœ€è¦æ·»åŠ  Authorization è¯·æ±‚å¤´</span><br><span class="line">        config.headers[&#39;Authorization&#39;]&#x3D;localStorage.getItem(&#39;token&#39;) </span><br><span class="line">        &#x2F;&#x2F;å°†tokenè®¾ç½®åœ¨è¯·æ±‚å¤´ï¼Œä¼ é€’ç»™æœåŠ¡å™¨æ¥å£ï¼Œè¿™æ ·æ‰èƒ½æ­£ç¡®çš„è°ƒç”¨è¿™ä¸ªæ¥å£</span><br><span class="line">	&#125;, </span><br><span class="line">	return config;</span><br><span class="line">&#125;, function (error) &#123;</span><br><span class="line">  &#x2F;&#x2F; è¯·æ±‚å¤±è´¥çš„å¤„ç†</span><br><span class="line">  return Promise.reject(error)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; å“åº”æ‹¦æˆªï¼ˆé…ç½®è¯·æ±‚å›æ¥çš„ä¿¡æ¯ï¼‰</span><br><span class="line">axios.interceptors.response.use(function (response) &#123;</span><br><span class="line">  &#x2F;&#x2F; å¤„ç†å“åº”æ•°æ®</span><br><span class="line">  &#x2F;&#x2F;åœ¨è·å–åˆ°å“åº”çš„æ—¶å€™åšä¸€äº›äº‹æƒ…ï¼Œ </span><br><span class="line">  if(response.data.meta.status&#x3D;&#x3D;&#x3D;401)&#123;&#x2F;&#x2F;åªè¦tokenå¤±æ•ˆï¼Œå°±è·³è½¬å›ç™»å½•é¡µé¢</span><br><span class="line">      &#x2F;&#x2F;å› ä¸ºç°åœ¨ä¸æ˜¯åœ¨ç»„ä»¶ä¸­ï¼Œå› æ­¤æ— æ³•é€šè¿‡this.$routeræ¥è®¿é—®åˆ°è·¯ç”±å®ä¾‹</span><br><span class="line">      &#x2F;&#x2F; ä½†æ˜¯å¯ä»¥ç›´æ¥é€šè¿‡ ä¸Šé¢å¯¼å…¥çš„è·¯ç”±æ¨¡å—ä¸­çš„ routeræ¥è®¿é—®åˆ°è·¯ç”±</span><br><span class="line">      router.push(&#39;&#x2F;login&#39;) &#x2F;&#x2F;è·³è½¬åˆ°ç™»å½•é¡µ</span><br><span class="line">      localStorage.removeItem(&#39;token&#39;)</span><br><span class="line">  &#125;</span><br><span class="line">  return response</span><br><span class="line">&#125;, function (error) &#123;</span><br><span class="line">  &#x2F;&#x2F; å¤„ç†å“åº”å¤±è´¥</span><br><span class="line">  return Promise.reject(error)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>



<h4 id="ä½¿ç”¨axios"><a href="#ä½¿ç”¨axios" class="headerlink" title="ä½¿ç”¨axios"></a>ä½¿ç”¨axios</h4><p>æ³¨ï¼šPUTè¯·æ±‚é»˜è®¤ä¼šå‘é€ä¸¤æ¬¡è¯·æ±‚ï¼Œç¬¬ä¸€æ¬¡é¢„æ£€è¯·æ±‚ä¸å«å‚æ•°ï¼Œæ‰€ä»¥åç«¯ä¸èƒ½å¯¹PUTè¯·æ±‚åœ°å€åšå‚æ•°é™åˆ¶</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">é¦–å…ˆåœ¨main.jsä¸­å¼•å…¥æ–¹æ³•</span><br><span class="line"><span class="keyword">import</span> Api <span class="keyword">from</span> <span class="string">'./api/index.js'</span>;</span><br><span class="line">Vue.prototype.$api = Api;</span><br><span class="line"></span><br><span class="line">ç„¶ååœ¨éœ€è¦çš„åœ°æ–¹è°ƒç”¨å³å¯</span><br><span class="line"><span class="keyword">this</span>.$api.post(<span class="string">'user/login.do(åœ°å€)'</span>, &#123;</span><br><span class="line">    <span class="string">"å‚æ•°å"</span>: <span class="string">"å‚æ•°å€¼"</span></span><br><span class="line">&#125;, response =&gt; &#123;</span><br><span class="line">     <span class="keyword">if</span> (response.status &gt;= <span class="number">200</span> &amp;&amp; response.status &lt; <span class="number">300</span>) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(response.data);\\è¯·æ±‚æˆåŠŸï¼Œresponseä¸ºæˆåŠŸä¿¡æ¯å‚æ•°</span><br><span class="line">     &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(response.message);\\è¯·æ±‚å¤±è´¥ï¼Œresponseä¸ºå¤±è´¥ä¿¡æ¯</span><br><span class="line">     &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">page.js</span><br><span class="line">  methods: &#123;</span><br><span class="line">    getInfo () &#123;</span><br><span class="line">      <span class="keyword">this</span>.$axios.get(<span class="string">'/fcg_myqq_toplist.fcg'</span>, &#123;</span><br><span class="line">        headers: &#123;</span><br><span class="line">          <span class="string">'authorization'</span>: <span class="keyword">this</span>.token</span><br><span class="line">        &#125;,</span><br><span class="line">        params: &#123;</span><br><span class="line">          g_tk: <span class="number">5381</span>,</span><br><span class="line">          uin: <span class="number">0</span>,</span><br><span class="line">          format: <span class="string">'json'</span>,</span><br><span class="line">          inCharset: <span class="string">'utf-8'</span>,</span><br><span class="line">          outCharset: <span class="string">'utf-8'</span>,</span><br><span class="line">          notice: <span class="number">0</span>,</span><br><span class="line">          platform: <span class="string">'h5'</span>,</span><br><span class="line">          needNewCode: <span class="number">1</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;).then(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">this</span>.discList = res.data.data.topList</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.discList)</span><br><span class="line">      &#125;).catch(<span class="function">(<span class="params">err</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(err.response.status)</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>



<h4 id="é“¾å¼è°ƒç”¨"><a href="#é“¾å¼è°ƒç”¨" class="headerlink" title="é“¾å¼è°ƒç”¨"></a>é“¾å¼è°ƒç”¨</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span> (<span class="params">resolve, reject</span>) </span>&#123;</span><br><span class="line">    axios.get(<span class="string">'/api/extensys/exten_action.php?act=get_userinfo&amp;unionid=oaNquuJBYcTrl4EJOXYaINXN7xZo'</span>)</span><br><span class="line">        .then(<span class="function">(<span class="params">response</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">this</span>.user = response.data.userInfo</span><br><span class="line">            <span class="keyword">this</span>.id = response.data.loginResult.player.userid</span><br><span class="line">            resolve(<span class="keyword">this</span>.id);</span><br><span class="line">        &#125;)</span><br><span class="line">&#125;).then(<span class="function"><span class="keyword">function</span> (<span class="params">id</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> axios.get(<span class="string">'/api/extensys/action.php?act=get_levelinfo&amp;userid='</span>+id) <span class="comment">// é‡è¦ï¼Œæ³¨æ„æ·»åŠ äº†return</span></span><br><span class="line">        .then(<span class="function">(<span class="params">response</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="built_in">console</span>.log(response.data)</span><br><span class="line">            <span class="keyword">return</span> response <span class="comment">// é‡è¦ï¼Œreturnäº†ï¼Œä¸‹ä¸€å±‚æ‰å¯ä»¥ç”¨</span></span><br><span class="line">        &#125;)</span><br><span class="line">&#125;).then(<span class="function"><span class="params">response</span> =&gt;</span> <span class="keyword">void</span> <span class="built_in">console</span>.log(response))</span><br><span class="line"></span><br><span class="line">ç®€å†™</span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span> (<span class="params">resolve, reject</span>) </span>&#123;</span><br><span class="line">  axios.get(<span class="string">'/api/extensys/exten_action.php?act=get_userinfo&amp;unionid=oaNquuJBYcTrl4EJOXYaINXN7xZo'</span>)</span><br><span class="line">    .then(<span class="function">(<span class="params">response</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">this</span>.user = response.data.userInfo</span><br><span class="line">      <span class="keyword">this</span>.id = response.data.loginResult.player.userid</span><br><span class="line">      resolve(<span class="keyword">this</span>.id);</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br><span class="line">  .then(<span class="function"><span class="keyword">function</span> (<span class="params">id</span>) </span>&#123;</span><br><span class="line">     <span class="keyword">return</span> axios.get(<span class="string">'/api/extensys/action.php?act=get_levelinfo&amp;userid='</span>+id) <span class="comment">// é‡è¦ï¼Œæ³¨æ„æ·»åŠ äº†return</span></span><br><span class="line">  &#125;)</span><br><span class="line">  .then(<span class="function"><span class="params">response</span> =&gt;</span> <span class="keyword">void</span> <span class="built_in">console</span>.log(response))</span><br><span class="line"></span><br><span class="line">  .catch(<span class="function"><span class="params">error</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(error)<span class="comment">//æŠ¥é”™ä¿¡æ¯</span></span><br><span class="line">  &#125;)</span><br></pre></td></tr></table></figure>



<p>è¿™é‡Œæœ‰ä¸ªå°ç»†èŠ‚è¯´ä¸‹ï¼Œ<code>axios.get()</code>æ–¹æ³•å’Œ<code>axios.post()</code>åœ¨æäº¤æ•°æ®æ—¶å‚æ•°çš„ä¹¦å†™æ–¹å¼è¿˜æ˜¯æœ‰åŒºåˆ«çš„ã€‚åŒºåˆ«å°±æ˜¯ï¼Œgetçš„ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ª{}ï¼Œç„¶åè¿™ä¸ªå¯¹è±¡çš„paramså±æ€§å€¼æ˜¯ä¸€ä¸ªå‚æ•°å¯¹è±¡çš„ã€‚è€Œpostçš„ç¬¬äºŒä¸ªå‚æ•°å°±æ˜¯ä¸€ä¸ªå‚æ•°å¯¹è±¡ã€‚ä¸¤è€…ç•¥å¾®çš„åŒºåˆ«è¦ç•™æ„å“¦ï¼</p>
<p>api.js</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const apiAddress &#x3D; p &#x3D;&gt; post(&#39;api&#x2F;v1&#x2F;users&#x2F;my_address&#x2F;address_edit_before&#39;, p);</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<p>.vue</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import &#123; apiAddress &#125; from &#39;@&#x2F;request&#x2F;api&#39;;&#x2F;&#x2F; å¯¼å…¥æˆ‘ä»¬çš„apiæ¥å£</span><br><span class="line">export default &#123;        </span><br><span class="line">    name: &#39;Address&#39;,    </span><br><span class="line">    created () &#123;</span><br><span class="line">        this.onLoad();</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;            </span><br><span class="line">        &#x2F;&#x2F; è·å–æ•°æ®            </span><br><span class="line">        onLoad() &#123;</span><br><span class="line">            &#x2F;&#x2F; è°ƒç”¨apiæ¥å£ï¼Œå¹¶ä¸”æä¾›äº†ä¸¤ä¸ªå‚æ•°                </span><br><span class="line">            apiAddress(&#123;                    </span><br><span class="line">                type: 0,                    </span><br><span class="line">                sort: 1                </span><br><span class="line">            &#125;).then(res &#x3D;&gt; &#123;</span><br><span class="line">                &#x2F;&#x2F; è·å–æ•°æ®æˆåŠŸåçš„å…¶ä»–æ“ä½œ</span><br><span class="line">                â€¦â€¦â€¦â€¦â€¦â€¦                </span><br><span class="line">            &#125;)            </span><br><span class="line">        &#125;        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>http.js</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;**axioså°è£…</span><br><span class="line"> * è¯·æ±‚æ‹¦æˆªã€ç›¸åº”æ‹¦æˆªã€é”™è¯¯ç»Ÿä¸€å¤„ç†</span><br><span class="line"> *&#x2F;</span><br><span class="line">import axios from &#39;axios&#39;;import QS from &#39;qs&#39;;</span><br><span class="line">import &#123; Toast &#125; from &#39;vant&#39;;</span><br><span class="line">import store from &#39;..&#x2F;store&#x2F;index&#39;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; ç¯å¢ƒçš„åˆ‡æ¢</span><br><span class="line">if (process.env.NODE_ENV &#x3D;&#x3D; &#39;development&#39;) &#123;    </span><br><span class="line">    axios.defaults.baseURL &#x3D; &#39;&#x2F;api&#39;;</span><br><span class="line">&#125; else if (process.env.NODE_ENV &#x3D;&#x3D; &#39;debug&#39;) &#123;    </span><br><span class="line">    axios.defaults.baseURL &#x3D; &#39;&#39;;</span><br><span class="line">&#125; else if (process.env.NODE_ENV &#x3D;&#x3D; &#39;production&#39;) &#123;    </span><br><span class="line">    axios.defaults.baseURL &#x3D; &#39;http:&#x2F;&#x2F;api.123dailu.com&#x2F;&#39;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; è¯·æ±‚è¶…æ—¶æ—¶é—´</span><br><span class="line">axios.defaults.timeout &#x3D; 10000;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; postè¯·æ±‚å¤´</span><br><span class="line">axios.defaults.headers.post[&#39;Content-Type&#39;] &#x3D; &#39;application&#x2F;x-www-form-urlencoded;charset&#x3D;UTF-8&#39;;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; è¯·æ±‚æ‹¦æˆªå™¨</span><br><span class="line">axios.interceptors.request.use(    </span><br><span class="line">    config &#x3D;&gt; &#123;</span><br><span class="line">        &#x2F;&#x2F; æ¯æ¬¡å‘é€è¯·æ±‚ä¹‹å‰åˆ¤æ–­æ˜¯å¦å­˜åœ¨tokenï¼Œå¦‚æœå­˜åœ¨ï¼Œåˆ™ç»Ÿä¸€åœ¨httpè¯·æ±‚çš„headeréƒ½åŠ ä¸Štokenï¼Œä¸ç”¨æ¯æ¬¡è¯·æ±‚éƒ½æ‰‹åŠ¨æ·»åŠ äº†</span><br><span class="line">        &#x2F;&#x2F; å³ä½¿æœ¬åœ°å­˜åœ¨tokenï¼Œä¹Ÿæœ‰å¯èƒ½tokenæ˜¯è¿‡æœŸçš„ï¼Œæ‰€ä»¥åœ¨å“åº”æ‹¦æˆªå™¨ä¸­è¦å¯¹è¿”å›çŠ¶æ€è¿›è¡Œåˆ¤æ–­</span><br><span class="line">        const token &#x3D; store.state.token;        </span><br><span class="line">        token &amp;&amp; (config.headers.Authorization &#x3D; token);        </span><br><span class="line">        return config;    </span><br><span class="line">    &#125;,    </span><br><span class="line">    error &#x3D;&gt; &#123;        </span><br><span class="line">        return Promise.error(error);    </span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; å“åº”æ‹¦æˆªå™¨</span><br><span class="line">axios.interceptors.response.use(    </span><br><span class="line">    response &#x3D;&gt; &#123;        </span><br><span class="line">        if (response.status &#x3D;&#x3D;&#x3D; 200) &#123;            </span><br><span class="line">            return Promise.resolve(response);        </span><br><span class="line">        &#125; else &#123;            </span><br><span class="line">            return Promise.reject(response);        </span><br><span class="line">        &#125;    </span><br><span class="line">    &#125;,</span><br><span class="line">    &#x2F;&#x2F; æœåŠ¡å™¨çŠ¶æ€ç ä¸æ˜¯200çš„æƒ…å†µ    </span><br><span class="line">    error &#x3D;&gt; &#123;        </span><br><span class="line">        if (error.response.status) &#123;            </span><br><span class="line">            switch (error.response.status) &#123;                </span><br><span class="line">                &#x2F;&#x2F; 401: æœªç™»å½•                </span><br><span class="line">                &#x2F;&#x2F; æœªç™»å½•åˆ™è·³è½¬ç™»å½•é¡µé¢ï¼Œå¹¶æºå¸¦å½“å‰é¡µé¢çš„è·¯å¾„                </span><br><span class="line">                &#x2F;&#x2F; åœ¨ç™»å½•æˆåŠŸåè¿”å›å½“å‰é¡µé¢ï¼Œè¿™ä¸€æ­¥éœ€è¦åœ¨ç™»å½•é¡µæ“ä½œã€‚                </span><br><span class="line">                case 401:                    </span><br><span class="line">                    router.replace(&#123;                        </span><br><span class="line">                        path: &#39;&#x2F;login&#39;,                        </span><br><span class="line">                        query: &#123; redirect: router.currentRoute.fullPath &#125; </span><br><span class="line">                    &#125;);</span><br><span class="line">                    break;</span><br><span class="line">                &#x2F;&#x2F; 403 tokenè¿‡æœŸ                </span><br><span class="line">                &#x2F;&#x2F; ç™»å½•è¿‡æœŸå¯¹ç”¨æˆ·è¿›è¡Œæç¤º                </span><br><span class="line">                &#x2F;&#x2F; æ¸…é™¤æœ¬åœ°tokenå’Œæ¸…ç©ºvuexä¸­tokenå¯¹è±¡                </span><br><span class="line">                &#x2F;&#x2F; è·³è½¬ç™»å½•é¡µé¢                </span><br><span class="line">                case 403:                     </span><br><span class="line">                    Toast(&#123;                        </span><br><span class="line">                        message: &#39;ç™»å½•è¿‡æœŸï¼Œè¯·é‡æ–°ç™»å½•&#39;,                        </span><br><span class="line">                        duration: 1000,                        </span><br><span class="line">                        forbidClick: true                    </span><br><span class="line">                    &#125;);                    </span><br><span class="line">                    &#x2F;&#x2F; æ¸…é™¤token                    </span><br><span class="line">                    localStorage.removeItem(&#39;token&#39;);                    </span><br><span class="line">                    store.commit(&#39;loginSuccess&#39;, null);                    </span><br><span class="line">                    &#x2F;&#x2F; è·³è½¬ç™»å½•é¡µé¢ï¼Œå¹¶å°†è¦æµè§ˆçš„é¡µé¢fullPathä¼ è¿‡å»ï¼Œç™»å½•æˆåŠŸåè·³è½¬éœ€è¦è®¿é—®çš„é¡µé¢</span><br><span class="line">                    setTimeout(() &#x3D;&gt; &#123;                        </span><br><span class="line">                        router.replace(&#123;                            </span><br><span class="line">                            path: &#39;&#x2F;login&#39;,                            </span><br><span class="line">                            query: &#123; </span><br><span class="line">                                redirect: router.currentRoute.fullPath </span><br><span class="line">                            &#125;                        </span><br><span class="line">                        &#125;);                    </span><br><span class="line">                    &#125;, 1000);                    </span><br><span class="line">                    break; </span><br><span class="line">                &#x2F;&#x2F; 404è¯·æ±‚ä¸å­˜åœ¨                </span><br><span class="line">                case 404:                    </span><br><span class="line">                    Toast(&#123;                        </span><br><span class="line">                        message: &#39;ç½‘ç»œè¯·æ±‚ä¸å­˜åœ¨&#39;,                        </span><br><span class="line">                        duration: 1500,                        </span><br><span class="line">                        forbidClick: true                    </span><br><span class="line">                    &#125;);                    </span><br><span class="line">                break;                </span><br><span class="line">                &#x2F;&#x2F; å…¶ä»–é”™è¯¯ï¼Œç›´æ¥æŠ›å‡ºé”™è¯¯æç¤º                </span><br><span class="line">                default:                    </span><br><span class="line">                    Toast(&#123;                        </span><br><span class="line">                        message: error.response.data.message,                        </span><br><span class="line">                        duration: 1500,                        </span><br><span class="line">                        forbidClick: true                    </span><br><span class="line">                    &#125;);            </span><br><span class="line">            &#125;            </span><br><span class="line">            return Promise.reject(error.response);        </span><br><span class="line">        &#125;       </span><br><span class="line">    &#125;</span><br><span class="line">);</span><br><span class="line">&#x2F;** </span><br><span class="line"> * getæ–¹æ³•ï¼Œå¯¹åº”getè¯·æ±‚ </span><br><span class="line"> * @param &#123;String&#125; url [è¯·æ±‚çš„urlåœ°å€] </span><br><span class="line"> * @param &#123;Object&#125; params [è¯·æ±‚æ—¶æºå¸¦çš„å‚æ•°] </span><br><span class="line"> *&#x2F;</span><br><span class="line">export function get(url, params)&#123;    </span><br><span class="line">    return new Promise((resolve, reject) &#x3D;&gt;&#123;        </span><br><span class="line">        axios.get(url, &#123;            </span><br><span class="line">            params: params        </span><br><span class="line">        &#125;)        </span><br><span class="line">        .then(res &#x3D;&gt; &#123;            </span><br><span class="line">            resolve(res.data);        </span><br><span class="line">        &#125;)        </span><br><span class="line">        .catch(err &#x3D;&gt; &#123;            </span><br><span class="line">            reject(err.data)        </span><br><span class="line">        &#125;)    </span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;** </span><br><span class="line"> * postæ–¹æ³•ï¼Œå¯¹åº”postè¯·æ±‚ </span><br><span class="line"> * @param &#123;String&#125; url [è¯·æ±‚çš„urlåœ°å€] </span><br><span class="line"> * @param &#123;Object&#125; params [è¯·æ±‚æ—¶æºå¸¦çš„å‚æ•°] </span><br><span class="line"> *&#x2F;</span><br><span class="line">export function post(url, params) &#123;    </span><br><span class="line">    return new Promise((resolve, reject) &#x3D;&gt; &#123;         </span><br><span class="line">        axios.post(url, QS.stringify(params))        </span><br><span class="line">        .then(res &#x3D;&gt; &#123;            </span><br><span class="line">            resolve(res.data);        </span><br><span class="line">        &#125;)        </span><br><span class="line">        .catch(err &#x3D;&gt; &#123;            </span><br><span class="line">            reject(err.data)        </span><br><span class="line">        &#125;)    </span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>axios</category>
        <category>vue</category>
      </categories>
      <tags>
        <tag>vue</tag>
        <tag>axios</tag>
        <tag>æ’ä»¶</tag>
      </tags>
  </entry>
  <entry>
    <title>betterScroll</title>
    <url>/2020/07/27/betterScroll/</url>
    <content><![CDATA[<h3 id="better-scrollè§£é‡Š"><a href="#better-scrollè§£é‡Š" class="headerlink" title="better-scrollè§£é‡Š"></a>better-scrollè§£é‡Š</h3><ol>
<li><p>å¼•å…¥</p>
<p><code>npm install better-scroll --save</code></p>
<a id="more"></a>
</li>
<li><p>ä½¿ç”¨</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> BScroll <span class="keyword">from</span> <span class="string">"better-scroll"</span>;</span><br><span class="line"><span class="keyword">this</span>.scroll = <span class="keyword">new</span> Bscroll(<span class="keyword">this</span>.$res.wrapper, &#123;</span><br><span class="line">  click: <span class="literal">true</span>,</span><br><span class="line">  probeType: <span class="keyword">this</span>.probeType,</span><br><span class="line">  pullUpLoad: <span class="keyword">this</span>.pullUpLoad</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</li>
<li><p>å‚æ•°</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">startX: <span class="number">0</span> å¼€å§‹çš„Xè½´ä½ç½®</span><br><span class="line">startY: <span class="number">0</span> å¼€å§‹çš„Yè½´ä½ç½®</span><br><span class="line">scrollY: <span class="literal">true</span> æ»šåŠ¨æ–¹å‘ä¸º Y è½´</span><br><span class="line">scrollX: <span class="literal">true</span> æ»šåŠ¨æ–¹å‘ä¸º X è½´</span><br><span class="line">click: <span class="literal">true</span> æ˜¯å¦æ´¾å‘clickäº‹ä»¶ï¼Œé€šå¸¸åˆ¤æ–­æµè§ˆå™¨æ´¾å‘çš„clickè¿˜æ˜¯betterscrollæ´¾å‘çš„clickï¼Œå¯ä»¥ç”¨_constructedï¼Œè‹¥æ˜¯bsæ´¾å‘çš„åˆ™ä¸º<span class="literal">true</span></span><br><span class="line">directionLockThreshold: <span class="number">5</span></span><br><span class="line">momentum: <span class="literal">true</span> å½“å¿«é€Ÿæ»‘åŠ¨æ—¶æ˜¯å¦å¼€å¯æ»‘åŠ¨æƒ¯æ€§</span><br><span class="line">bounce: <span class="literal">true</span> æ˜¯å¦å¯ç”¨å›å¼¹åŠ¨ç”»æ•ˆæœ</span><br><span class="line">selectedIndex: <span class="number">0</span> wheel ä¸º <span class="literal">true</span> æ—¶æœ‰æ•ˆï¼Œè¡¨ç¤ºè¢«é€‰ä¸­çš„ wheel ç´¢å¼•</span><br><span class="line">rotate: <span class="number">25</span> wheel ä¸º <span class="literal">true</span> æ—¶æœ‰æ•ˆï¼Œè¡¨ç¤ºè¢«é€‰ä¸­çš„ wheel æ¯ä¸€å±‚çš„æ—‹è½¬è§’åº¦</span><br><span class="line">wheel: <span class="literal">false</span> è¯¥å±æ€§æ˜¯ç»™ picker ç»„ä»¶ä½¿ç”¨çš„ï¼Œæ™®é€šçš„åˆ—è¡¨æ»šåŠ¨ä¸éœ€è¦é…ç½®</span><br><span class="line">snap: <span class="literal">false</span> è¯¥å±æ€§æ˜¯ç»™ slider ç»„ä»¶ä½¿ç”¨çš„ï¼Œæ™®é€šçš„åˆ—è¡¨æ»šåŠ¨ä¸éœ€è¦é…ç½®</span><br><span class="line">snapLoop: <span class="literal">false</span> æ˜¯å¦å¯ä»¥æ— ç¼å¾ªç¯è½®æ’­</span><br><span class="line">snapThreshold: <span class="number">0.1</span> ç”¨æ‰‹æŒ‡æ»‘åŠ¨æ—¶é¡µé¢å¯åˆ‡æ¢çš„é˜ˆå€¼ï¼Œå¤§äºè¿™ä¸ªé˜ˆå€¼å¯ä»¥æ»‘åŠ¨çš„ä¸‹ä¸€é¡µ</span><br><span class="line">snapSpeed: <span class="number">400</span>, è½®æ’­å›¾åˆ‡æ¢çš„åŠ¨ç”»æ—¶é—´</span><br><span class="line">swipeTime: <span class="number">2500</span> swipe æŒç»­æ—¶é—´</span><br><span class="line">bounceTime: <span class="number">700</span> å¼¹åŠ›åŠ¨ç”»æŒç»­çš„æ¯«ç§’æ•°</span><br><span class="line">adjustTime: <span class="number">400</span> wheel ä¸º <span class="literal">true</span> æœ‰ç”¨ï¼Œè°ƒæ•´åœç•™ä½ç½®çš„æ—¶é—´</span><br><span class="line">swipeBounceTime: <span class="number">1200</span> swipe å›å¼¹ æ—¶é—´</span><br><span class="line">deceleration: <span class="number">0.001</span> æ»šåŠ¨åŠ¨é‡å‡é€Ÿè¶Šå¤§è¶Šå¿«ï¼Œå»ºè®®ä¸å¤§äº<span class="number">0.01</span></span><br><span class="line">momentumLimitTime: <span class="number">300</span> ç¬¦åˆæƒ¯æ€§æ‹–åŠ¨çš„æœ€å¤§æ—¶é—´</span><br><span class="line">momentumLimitDistance: <span class="number">15</span> ç¬¦åˆæƒ¯æ€§æ‹–åŠ¨çš„æœ€å°æ‹–åŠ¨è·ç¦»</span><br><span class="line">resizePolling: <span class="number">60</span> é‡æ–°è°ƒæ•´çª—å£å¤§å°æ—¶ï¼Œé‡æ–°è®¡ç®—better-scrollçš„æ—¶é—´é—´éš”</span><br><span class="line">preventDefault: <span class="literal">true</span> æ˜¯å¦é˜»æ­¢é»˜è®¤äº‹ä»¶</span><br><span class="line">preventDefaultException: &#123; <span class="attr">tagName</span>: <span class="regexp">/^(INPUT|TEXTAREA|BUTTON|SELECT)$/</span> &#125; é˜»æ­¢é»˜è®¤äº‹ä»¶</span><br><span class="line">HWCompositing: <span class="literal">true</span> æ˜¯å¦å¯ç”¨ç¡¬ä»¶åŠ é€Ÿ</span><br><span class="line">useTransition: <span class="literal">true</span> æ˜¯å¦ä½¿ç”¨CSS3çš„Transitionå±æ€§</span><br><span class="line">useTransform: <span class="literal">true</span> æ˜¯å¦ä½¿ç”¨CSS3çš„Transformå±æ€§</span><br><span class="line">probeType: <span class="number">1</span> æ»šåŠ¨çš„æ—¶å€™ä¼šæ´¾å‘scrolläº‹ä»¶ï¼Œä¼šæˆªæµã€‚<span class="number">2</span>æ»šåŠ¨çš„æ—¶å€™å®æ—¶æ´¾å‘scrolläº‹ä»¶ï¼Œä¸ä¼šæˆªæµã€‚ <span class="number">3</span>é™¤äº†å®æ—¶æ´¾å‘scrolläº‹ä»¶ï¼Œåœ¨swipeçš„æƒ…å†µä¸‹ä»ç„¶èƒ½å®æ—¶æ´¾å‘scrolläº‹ä»¶</span><br><span class="line">pullingUp: boolean å¯ç”¨ä¸Šæ‹‰åŠ è½½</span><br></pre></td></tr></table></figure>
</li>
<li><p>Events äº‹ä»¶</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">beforeScrollStart - æ»šåŠ¨å¼€å§‹ä¹‹å‰è§¦å‘</span><br><span class="line">scrollStart - æ»šåŠ¨å¼€å§‹æ—¶è§¦å‘</span><br><span class="line">scroll - æ»šåŠ¨æ—¶è§¦å‘ï¼ˆè‡ªå¸¦å‚æ•°ï¼Œxå’Œyè½´ç§»åŠ¨çš„è·ç¦»ï¼‰</span><br><span class="line">scrollCancel - å–æ¶ˆæ»šåŠ¨æ—¶è§¦å‘</span><br><span class="line">scrollEnd - æ»šåŠ¨ç»“æŸæ—¶è§¦å‘</span><br><span class="line">touchend - æ‰‹æŒ‡ç§»å¼€å±å¹•æ—¶è§¦å‘</span><br><span class="line">flick - è§¦å‘äº† fastclick æ—¶çš„å›è°ƒå‡½æ•°</span><br><span class="line">refresh - å½“ better-scroll åˆ·æ–°æ—¶è§¦å‘</span><br><span class="line">destroy - é”€æ¯ better-scroll å®ä¾‹æ—¶è§¦å‘</span><br></pre></td></tr></table></figure>
</li>
<li><p>ç‰¹åˆ«æ³¨æ„</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">pullingUp() </span><br><span class="line">ç›‘å¬ä¸Šæ‹‰åŠ è½½äº‹ä»¶</span><br><span class="line"></span><br><span class="line">finishPullUp()</span><br><span class="line">åœ¨è¯·æ±‚å®Œä¸‹ä¸€é¡µæ•°æ®çš„æ—¶å€™ï¼Œç»“æŸä¸‹æ‹‰åŠ è½½ï¼Œå¿…é¡»åŠ ï¼Œå¦åˆ™ä¸‹æ‹‰å¤±æ•ˆ</span><br><span class="line"></span><br><span class="line">scrollTo(x, y, time, easing)</span><br><span class="line">æ»šåŠ¨åˆ°æŸä¸ªä½ç½®ï¼Œx,y ä»£è¡¨åæ ‡ï¼Œtime è¡¨ç¤ºåŠ¨ç”»æ—¶é—´ï¼Œeasing è¡¨ç¤ºç¼“åŠ¨å‡½æ•°</span><br><span class="line">scroll.scrollTo(0, 500)</span><br><span class="line"></span><br><span class="line">scrollToElement(el, time, offsetX, offsetY, easing)</span><br><span class="line">æ»šåŠ¨åˆ°æŸä¸ªå…ƒç´ ï¼Œelï¼ˆå¿…å¡«ï¼‰è¡¨ç¤º dom å…ƒç´ ï¼Œtime è¡¨ç¤ºåŠ¨ç”»æ—¶é—´ï¼ŒoffsetX å’Œ offsetY è¡¨ç¤ºåæ ‡åç§»é‡ï¼Œeasing è¡¨ç¤ºç¼“åŠ¨å‡½æ•°</span><br><span class="line"></span><br><span class="line">refresh()</span><br><span class="line">å¼ºåˆ¶ scroll é‡æ–°è®¡ç®—ï¼Œå½“ better-scroll ä¸­çš„å…ƒç´ å‘ç”Ÿå˜åŒ–çš„æ—¶å€™è°ƒç”¨æ­¤æ–¹æ³•</span><br><span class="line">DOMæ ‘ç»“æ„æ”¹å˜æ—¶</span><br><span class="line">å›¾ç‰‡åˆ—è¡¨ç­‰å±•ç¤ºå½¢å¼ä¸­ å›¾ç‰‡åŠ è½½å®Œæˆæ—¶</span><br><span class="line"></span><br><span class="line">getCurrentPage()</span><br><span class="line">snap ä¸º true æ—¶ï¼Œè·å–æ»šåŠ¨çš„å½“å‰é¡µï¼Œè¿”å›çš„å¯¹è±¡ç»“æ„ä¸º &#123;x, y, pageX, pageY&#125;ï¼Œå…¶ä¸­ x,y ä»£è¡¨æ»šåŠ¨æ¨ªå‘å’Œçºµå‘çš„ä½ç½®ï¼›pageXï¼ŒpageY è¡¨ç¤ºæ¨ªå‘å’Œçºµå‘çš„é¡µé¢ç´¢å¼•ã€‚ç”¨æ³•å¦‚ï¼šgetCurrentPage().pageX</span><br><span class="line"></span><br><span class="line">goToPage(x, y, time, easing)</span><br><span class="line">snap ä¸º trueï¼Œæ»šåŠ¨åˆ°å¯¹åº”çš„é¡µé¢ï¼Œx è¡¨ç¤ºæ¨ªå‘é¡µé¢ç´¢å¼•ï¼Œy è¡¨ç¤ºçºµå‘é¡µé¢ç´¢å¼•ï¼Œ time è¡¨ç¤ºåŠ¨ç”»ï¼Œeasing è¡¨ç¤ºç¼“åŠ¨å‡½æ•°ï¼ˆå¯çœç•¥ä¸å†™ï¼‰</span><br><span class="line"></span><br><span class="line">enable()å¯ç”¨ better-scrollï¼Œé»˜è®¤å¼€å¯</span><br><span class="line"></span><br><span class="line">disable()  ç¦ç”¨ better-scroll</span><br><span class="line"></span><br><span class="line">destroy() é”€æ¯ better-scrollï¼Œè§£ç»‘äº‹ä»¶</span><br></pre></td></tr></table></figure>



</li>
</ol>
<ol start="6">
<li><p>å¯¹better-scrollçš„äºŒæ¬¡å°è£… ä¸¾ä¾‹</p>
<ul>
<li>åœ¨better-scrollçš„å°è£…æ–‡ä»¶ä¸­ï¼ˆvueï¼‰</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"wrapper"</span> ref=<span class="string">"wrapper"</span>&gt;</span><br><span class="line">    &lt;slot&gt;&lt;<span class="regexp">/slot&gt;</span></span><br><span class="line"><span class="regexp">  &lt;/</span>div&gt;</span><br><span class="line">&lt;<span class="regexp">/template&gt;</span></span><br><span class="line"><span class="regexp"> </span></span><br><span class="line"><span class="regexp"> &lt;script&gt;</span></span><br><span class="line"><span class="regexp">import BScroll from "better-scroll";</span></span><br><span class="line"><span class="regexp">export default &#123;</span></span><br><span class="line"><span class="regexp">  name: "alley-BScroll",</span></span><br><span class="line"><span class="regexp">  mounted() &#123;</span></span><br><span class="line"><span class="regexp">    this.scroll = new BScroll(this.$refs.wrapper, &#123;</span></span><br><span class="line"><span class="regexp">      tap: true,</span></span><br><span class="line"><span class="regexp">      pullDownRefresh: true, /</span><span class="regexp">/è¿™ä¸ªé…ç½®ç”¨äºåšä¸‹æ‹‰åˆ·æ–°åŠŸèƒ½ï¼Œé»˜è®¤ä¸º falseã€‚å½“è®¾ç½®ä¸º true æˆ–è€…æ˜¯ä¸€ä¸ª Object çš„æ—¶å€™ï¼Œå¯ä»¥å¼€å¯ä¸‹æ‹‰åˆ·æ–°</span></span><br><span class="line"><span class="regexp">      pullUpLoad: true, /</span><span class="regexp">/è¿™ä¸ªé…ç½®ç”¨äºåšä¸Šæ‹‰åŠ è½½åŠŸèƒ½ï¼Œé»˜è®¤ä¸º falseã€‚å½“è®¾ç½®ä¸º true æˆ–è€…æ˜¯ä¸€ä¸ª Object çš„æ—¶å€™ï¼Œå¯ä»¥å¼€å¯ä¸Šæ‹‰åŠ è½½</span></span><br><span class="line"><span class="regexp">    &#125;);</span></span><br><span class="line"><span class="regexp">  &#125;,</span></span><br><span class="line"><span class="regexp">  methods: &#123;</span></span><br><span class="line"><span class="regexp">    /</span><span class="regexp">/ä¸‹æ‹‰åˆ·æ–°åŠ è½½æ•°æ®</span></span><br><span class="line"><span class="regexp">    handlepullingDown(callback) &#123;</span></span><br><span class="line"><span class="regexp">      this.scroll.on("pullingDown", () =&gt; &#123;</span></span><br><span class="line"><span class="regexp">        callback();</span></span><br><span class="line"><span class="regexp">      &#125;);</span></span><br><span class="line"><span class="regexp">    &#125;,</span></span><br><span class="line"><span class="regexp">    /</span><span class="regexp">/ä¸‹æ‹‰åˆ·æ–°åŠ è½½æ•°æ®å®Œæ¯•é€šçŸ¥better-scroll</span></span><br><span class="line"><span class="regexp">    handlefinishPullDown() &#123;</span></span><br><span class="line"><span class="regexp">      this.scroll.finishPullDown(); /</span><span class="regexp">/é€šçŸ¥bettwer-scrollå·²ç»åŠ è½½å®Œæ¯•</span></span><br><span class="line"><span class="regexp">      this.scroll.refresh(); /</span><span class="regexp">/é‡æ–°è®¡ç®— better-scrollï¼Œå½“ DOM ç»“æ„å‘ç”Ÿå˜åŒ–çš„æ—¶å€™åŠ¡å¿…è¦è°ƒç”¨ç¡®ä¿æ»šåŠ¨çš„æ•ˆæœæ­£å¸¸ã€‚</span></span><br><span class="line"><span class="regexp">    &#125;,</span></span><br><span class="line"><span class="regexp">    /</span><span class="regexp">/ä¸Šæ‹‰åŠ è½½æ›´å¤š</span></span><br><span class="line"><span class="regexp">    handlepullingUp(callback) &#123;</span></span><br><span class="line"><span class="regexp">      this.scroll.on("pullingUp", () =&gt; &#123;</span></span><br><span class="line"><span class="regexp">        callback();</span></span><br><span class="line"><span class="regexp">      &#125;);</span></span><br><span class="line"><span class="regexp">    &#125;,</span></span><br><span class="line"><span class="regexp">    handlefinishPullUp() &#123;</span></span><br><span class="line"><span class="regexp">      this.scroll.finishPullUp();</span></span><br><span class="line"><span class="regexp">      this.scroll.refresh();</span></span><br><span class="line"><span class="regexp">    &#125;,</span></span><br><span class="line"><span class="regexp">  &#125;,</span></span><br><span class="line"><span class="regexp">&#125;;</span></span><br><span class="line"><span class="regexp">&lt;/</span>script&gt;</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> &lt;style&gt;</span><br><span class="line">.wrapper &#123;</span><br><span class="line">  height: <span class="number">100</span>%;</span><br><span class="line">&#125;</span><br><span class="line">&lt;<span class="regexp">/style&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>åœ¨è¦ä½¿ç”¨è¯¥ä½¿ç”¨è¯¥å°è£…çš„ç»„ä»¶ï¼Œåªéœ€è¦ç”¨è¿™ä¸ªç»„ä»¶å°†è¦å‡ºç°æ•ˆæœçš„å…ƒç´ åŒ…è£¹èµ·æ¥å³å¯ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼ŒåŒ…èµ·æ¥åï¼Œå†…å®¹ä¾¿å¯ä»¥æœ‰å¼¹æ€§çš„æ»‘åŠ¨äº†ã€‚</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"> <span class="tag">&lt;<span class="name">alley-BScroll</span> <span class="attr">ref</span>=<span class="string">"alleyscroll"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"movie_body"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span></span></span><br><span class="line"><span class="tag">      <span class="attr">class</span>=<span class="string">"movie_item"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">v-for</span>=<span class="string">"(item,index) in movieList"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">:key</span>=<span class="string">"index"</span></span></span><br><span class="line"><span class="tag">      @<span class="attr">click</span>=<span class="string">"handleclick()"</span></span></span><br><span class="line"><span class="tag">    &gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"movie_item_pic"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">:src</span>=<span class="string">"item.img |ToImg('128.180')"</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"movie_item_info"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;item.nm&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">          è§‚ä¼—è¯„:</span><br><span class="line">          <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"grade"</span>&gt;</span>&#123;item.sc&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">          ä¸»æ¼”ï¼š</span><br><span class="line">          <span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;item.star&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;item.showInfo&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span></span></span><br><span class="line"><span class="tag">        <span class="attr">:class</span>=<span class="string">"item.globalReleased?'movie_item_btn asale':'movie_item_btn ticket'"</span></span></span><br><span class="line"><span class="tag">      &gt;</span>&#123;item.globalReleased?'è´­ç¥¨':'é¢„å”®'&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">alley-BScroll</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>æ¥ä¸‹æ¥ä¾¿å¯ä»¥è°ƒç”¨å°è£…ç»„ä»¶é‡Œçš„æ–¹æ³•äº†ï¼Œå› ä¸ºéœ€è¦è·å–DOMå…ƒç´ ï¼Œä¾¿è¦å†™åœ¨mountedè¿™ä¸ªç”Ÿå‘½å‘¨æœŸå†…ã€‚</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">mounted()&#123;</span><br><span class="line"><span class="comment">//ä¸‹æ‹‰åˆ·æ–°</span></span><br><span class="line">  <span class="keyword">this</span>.$refs.alleyscroll.handlepullingDown(<span class="keyword">async</span> ()=&gt;&#123;</span><br><span class="line">      <span class="keyword">let</span> n = <span class="built_in">parseInt</span>(<span class="built_in">Math</span>.random()*<span class="number">7</span>);</span><br><span class="line">      <span class="keyword">let</span> arr = [<span class="number">10</span>,<span class="number">1</span>,<span class="number">20</span>,<span class="number">40</span>,<span class="number">50</span>,<span class="number">55</span>,<span class="number">59</span>]</span><br><span class="line">      <span class="keyword">let</span> data = <span class="keyword">await</span> movie_now_api(arr[n]);</span><br><span class="line">      <span class="keyword">this</span>.movieList = data.data.movieList;</span><br><span class="line">      sessionStorage.setItem(<span class="string">"movieList"</span>,<span class="built_in">JSON</span>.stringify(data.data.movieList))</span><br><span class="line">      <span class="keyword">this</span>.$refs.alleyscroll.handlefinishPullDown();<span class="comment">//ä¸‹æ‹‰åˆ·æ–°å®Œæˆåï¼Œé€šçŸ¥better-scrollï¼Œä¸‹æ‹‰åˆ·æ–°å·²ç»å®Œæˆã€‚</span></span><br><span class="line">  &#125;)</span><br></pre></td></tr></table></figure>


</li>
</ol>
<pre><code>//ä¸Šæ‹‰åŠ è½½æ›´å¤š
this.$refs.alleyscroll.handlepullingUp(async ()=&gt;{
    let n = parseInt(Math.random()*7);
    let arr = [10,1,20,40,50,55,59]
    let data = await movie_now_api(arr[n]);
    this.movieList = [...this.movieList,...data.data.movieList];
    sessionStorage.setItem(&quot;movieList&quot;,JSON.stringify(data.data.movieList))
    this.$refs.alleyscroll.handlefinishPullUp();
})</code></pre><p>   }<br>   <figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">â€‹</span><br><span class="line"></span><br><span class="line">â€‹</span><br></pre></td></tr></table></figure></p>
]]></content>
      <categories>
        <category>better-scroll</category>
        <category>vue</category>
      </categories>
      <tags>
        <tag>vue</tag>
        <tag>æ’ä»¶</tag>
        <tag>better-scroll</tag>
      </tags>
  </entry>
  <entry>
    <title>cd</title>
    <url>/2020/07/29/cd/</url>
    <content><![CDATA[<h3 id="cdå°±æ˜¯change-directoryçš„ç¼©å†™ï¼Œå³æ”¹å˜ç›®å½•ã€‚"><a href="#cdå°±æ˜¯change-directoryçš„ç¼©å†™ï¼Œå³æ”¹å˜ç›®å½•ã€‚" class="headerlink" title="cdå°±æ˜¯change directoryçš„ç¼©å†™ï¼Œå³æ”¹å˜ç›®å½•ã€‚"></a>cdå°±æ˜¯change directoryçš„ç¼©å†™ï¼Œå³æ”¹å˜ç›®å½•ã€‚</h3><p>cd desktop è¿›å…¥æ¡Œé¢<br>mkdir movietalk æ–°å»ºmovietalk æ–‡ä»¶å¤¹<br>.åˆ™æ˜¯è¡¨ç¤ºç›®å‰æ‰€åœ¨çš„ç›®å½•ï¼Œ<br>..åˆ™è¡¨ç¤ºç›®å‰ç›®å½•ä½ç½®çš„ä¸Šä¸€å±‚ç›®å½•ã€‚<br>cd    è¿›å…¥ç”¨æˆ·ä¸»ç›®å½•ï¼›<br>cd ~  è¿›å…¥ç”¨æˆ·ä¸»ç›®å½•ï¼›<br>cd -  è¿”å›è¿›å…¥æ­¤ç›®å½•ä¹‹å‰æ‰€åœ¨çš„ç›®å½•ï¼›<br>cd ..  è¿”å›ä¸Šçº§ç›®å½•ï¼ˆè‹¥å½“å‰ç›®å½•ä¸ºâ€œ/â€œï¼Œåˆ™æ‰§è¡Œå®Œåè¿˜åœ¨â€œ/â€œï¼›â€..â€ä¸ºä¸Šçº§ç›®å½•çš„æ„æ€ï¼‰ï¼›<br>cd ../..  è¿”å›ä¸Šä¸¤çº§ç›®å½•ï¼›</p>
<a id="more"></a>

<p>è®²cdå‘½ä»¤ä¹‹å‰ï¼Œå…ˆæ¥çœ‹çœ‹æç¤ºç¬¦æ˜¯ä»€ä¹ˆæ„æ€ã€‚ç°åœ¨çš„æç¤ºç¬¦æ˜¯<a href="https://www.baidu.com/s?wd=c%3A&tn=24004469_oem_dg&rsv_dl=gh_pl_sl_csd" target="_blank" rel="noopener">c:</a>&gt;</p>
<p><strong>c:è¯´æ˜ç°åœ¨çš„å·¥ä½œç›˜æ˜¯cç›˜ï¼Œ\å‘Šè¯‰æˆ‘ä»¬å½“å‰çš„å·¥ä½œç›®å½•æ˜¯æ ¹ç›®å½•ã€‚</strong></p>
<p>&gt;çš„ä½œç”¨æ˜¯æŠŠå·¥ä½œç›®å½•å’Œæˆ‘ä»¬è¦è¾“å…¥çš„å‘½ä»¤åˆ†éš”å¼€æ¥ã€‚</p>
<p>å¥½ï¼Œä¸‹é¢å°±å¼€å§‹åˆ—ä¸¾cdçš„å„ç§å‘½ä»¤ã€‚</p>
<p><strong>1.å¦‚æœæƒ³è¦è¿›å…¥Cç›˜ä¸‹çš„ä»»æ„æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹ã€‚</strong></p>
<p>ç›´æ¥<strong>cd+ç©ºæ ¼+æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹çš„è·¯å¾„</strong>ï¼ˆè¿™ä¸ªè·¯å¾„çœç•¥æœ€å¼€å§‹çš„æ ¹ç›®å½•ï¼Œå³Cç›˜ï¼‰</p>
<p>æ¯”å¦‚æƒ³è¦è¿›å…¥Cç›˜ä¸‹çš„Program Filesé‡Œçš„Javaæ–‡ä»¶é‡Œï¼Œæ•²cd Program Files\Javaå°±å¯ä»¥ã€‚</p>
<p><img src="https://www.pianshen.com/images/684/779bf1f7d5e264a8033ae59aa24b8dbc.png" alt="img"></p>
<p><strong>2.æƒ³è¦è¿”å›åˆ°ä¸Šä¸€çº§ç›®å½•æˆ–è€…å½“å‰å·¥ä½œç›®å½•ä¸‹çš„æ ¹ç›®å½•</strong></p>
<p>è¿”å›åˆ°ä¸Šä¸€å¥ç›®å½•ï¼š<strong>cd+..</strong></p>
<p><img src="https://www.pianshen.com/images/664/229c207f9464aae73fcc4fa06fa55040.png" alt="img"></p>
<p>è¿”å›åˆ°æ ¹ç›®å½•ï¼šcd + \</p>
<p><img src="https://www.pianshen.com/images/100/c1407b1edb67c5f461b501e16ffb82ec.png" alt="img"></p>
<p><strong>3.æé†’ä¸€ä¸‹ï¼Œå¦‚æœéœ€è¦è®¿é—®éå½“å‰æ ¹ç›®å½•ä¸‹çš„ç›®å½•æ–‡ä»¶ï¼Œ</strong></p>
<p>åº”è¯¥<strong>å…ˆè¾“å…¥è¯¥ç›˜ç¬¦ï¼Œæ•²å›è½¦ï¼Œç„¶åå†ç”¨cdå‘½ä»¤</strong></p>
<p><img src="https://www.pianshen.com/images/412/3211d3df1f59785fd5aeecaeed8131cc.png" alt="img"></p>
<p>å¦‚æœè¦åˆ‡æ¢åˆ°D:\Program Filesç›®å½•ä¸‹ï¼Œå¤§å¤šæ•°äººä¼šæƒ³å½“ç„¶çš„åœ¨å‘½ä»¤è¡Œçª—å£è¾“å…¥ cd D:\Program Fileså›è½¦ã€‚</p>
<p>å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<p><img src="https://www.pianshen.com/images/6/a8b579fcd4973d87692cb9d8fe23327e.png" alt="img"></p>
<p>å‘ç°å¹¶æ²¡æœ‰åˆ‡æ¢åˆ°D:\Program Filesã€‚</p>
<p>æ­£ç¡®çš„åšæ³•æ˜¯è¾“å…¥D:  å›è½¦ã€‚</p>
<p><img src="https://www.pianshen.com/images/92/14aa82211ef63d1c6821eb7a563bce04.png" alt="img"></p>
<p><img src="https://blog.csdn.net/chengdongyuan/article/details/73256862" alt="img"></p>
<p>å‘ç°å·²ç»åˆ‡æ¢åˆ°Dç›˜ä¸‹ã€‚</p>
<p>è¾“å…¥cd Program Files å›è½¦ã€‚</p>
<p><img src="https://www.pianshen.com/images/677/fb9789051e08119e0d15766b11e2d0f5.png" alt="img"></p>
<p><img src="https://blog.csdn.net/chengdongyuan/article/details/73256862" alt="img"></p>
<p>æˆåŠŸåˆ‡æ¢åˆ°D:\Program Filesç›®å½•ä¸‹ã€‚</p>
]]></content>
      <categories>
        <category>cd</category>
      </categories>
      <tags>
        <tag>cd</tag>
      </tags>
  </entry>
  <entry>
    <title>charlesæŠ“åŒ…</title>
    <url>/2020/09/07/charles%E6%8A%93%E5%8C%85/</url>
    <content><![CDATA[<p>ä¸€ã€</p>
<p>å®‰è£…å‰æï¼šé…ç½®å¥½äº†Jdkç¯å¢ƒ</p>
<p>è‹¥ä¸è¿›è¡Œç ´è§£ï¼Œåˆ™æ¯æ¬¡åªèƒ½è¯•ç”¨30åˆ†é’Ÿï¼Œ30åˆ†é’Ÿåå·¥å…·è‡ªåŠ¨å…³é—­</p>
<p>ç ´è§£æ–¹æ³•ï¼šå°†ç ´è§£è¡¥ä¸charles.jaræ–‡ä»¶å¤åˆ¶åˆ°libæ–‡ä»¶å¤¹ä¸‹ï¼Œæ›¿æ¢æ‰åŒåjaråŒ…</p>
<a id="more"></a>

<p>äºŒã€</p>
<p>å·¥å…·ç®€å•ä»‹ç»ï¼š</p>
<p>1ï¼šæ¸…ç©ºåˆ—è¡¨æ‰€æœ‰è¯·æ±‚</p>
<p>2ï¼šå¼€å§‹æŠ“å– / åœæ­¢æŠ“å–</p>
<p>3ï¼šå¼€å¯èŠ‚æµ / åœæ­¢èŠ‚æµ</p>
<p>4ï¼šå¼€å¯æ–­ç‚¹ / ç»“æŸæ–­ç‚¹</p>
<p>5ï¼šç¼–è¾‘è¯·æ±‚</p>
<p>6ï¼šé‡å‘è¯·æ±‚</p>
<p>7ï¼šæ ¡éªŒè¯·æ±‚çš„ç»“æœ</p>
<p>8ï¼šå¿«æ·å·¥å…·ç®±</p>
<p>9ï¼šå¿«æ·è®¾ç½®</p>
<p><img src="http://note.youdao.com/yws/public/resource/e0eb6de484b77856b775ffe7a656f27d/xmlnote/082B867F5C764ABAA14C14322D09D3DB/3025" alt="img"></p>
<p>Structureï¼š</p>
<p>ä»¥åŸŸååˆ’åˆ†è¯·æ±‚ä¿¡æ¯ï¼Œå¯æ¸…æ™°åœ°çœ‹åˆ°è¯·æ±‚çš„æ•°æ®ç»“æ„</p>
<p><img src="http://note.youdao.com/yws/public/resource/e0eb6de484b77856b775ffe7a656f27d/xmlnote/C161DEF842DD42AAADBD03B7392FBD7F/3088" alt="img"></p>
<p>Sequenceï¼š</p>
<p>å¯æ¸…æ™°çœ‹åˆ°å…¨éƒ¨è¯·æ±‚ï¼Œä¸ç”¨ä¸€å±‚ä¸€å±‚ç‚¹å¼€ï¼ŒæŒ‰æ•°æ®è¯·æ±‚çš„æ—¶é—´é¡ºåºæ‰§è¡Œ</p>
<p><img src="http://note.youdao.com/yws/public/resource/e0eb6de484b77856b775ffe7a656f27d/xmlnote/E8011D8C641746F5B991A65C49125440/3085" alt="img"></p>
<p>ä¸‰ã€</p>
<p>å¿«æ·æœç´¢åŠŸèƒ½ï¼šé€šè¿‡ctrl+Fè¿›å…¥æœç´¢é¡µé¢</p>
<p>1ã€å…³é”®è¯è¾“å…¥æ¡†ï¼šå¯è¾“å…¥æ­£åˆ™è¡¨è¾¾å¼ï¼Œä¸å¿…åŒºåˆ†å¤§å°å†™</p>
<p>2ã€æœç´¢è·¯å¾„ï¼š</p>
<p>ï¼ˆ1ï¼‰å…¨éƒ¨ä¼šè¯</p>
<p>ï¼ˆ2ï¼‰å½“å‰ä¼šè¯</p>
<p>ï¼ˆ3ï¼‰æŒ‡å®šçš„è¯·æ±‚è·¯å¾„ï¼Œåœ¨å³ä¾§è¾“å…¥æ¡†ä¸­è¾“å…¥</p>
<p>3ã€æœç´¢èŒƒå›´ï¼š</p>
<p>ï¼ˆ1ï¼‰è¯·æ±‚URL</p>
<p>ï¼ˆ2ï¼‰è¯·æ±‚Header</p>
<p>ï¼ˆ3ï¼‰è¯·æ±‚Body</p>
<p>ï¼ˆ4ï¼‰è¿”å›Header</p>
<p>ï¼ˆ5ï¼‰è¿”å›Body</p>
<p>4ã€æœç´¢ç»“æœæ˜¾ç¤º</p>
<p><img src="http://note.youdao.com/yws/public/resource/e0eb6de484b77856b775ffe7a656f27d/xmlnote/ED862148378A4175B9EABF9BF984E650/3067" alt="img"></p>
<p>å››ã€æŠ“å–æ‰‹æœºè¯·æ±‚</p>
<p>1ã€ä½¿æ‰‹æœºä¸ç”µè„‘å¤„äºåŒä¸€å±€åŸŸç½‘ä¸‹ï¼ˆå¦‚è¿åŒä¸€WiFiï¼‰ï¼Œå¦‚å›¾ï¼Œè¿æ¥ç½‘ç»œtczcï¼Œè¿æ¥æˆåŠŸåæ‰“å¼€ä»£ç†è®¾ç½®ï¼Œè®¾ç½®ä¸ºã€æ‰‹åŠ¨ã€‘</p>
<p><img src="http://note.youdao.com/yws/public/resource/e0eb6de484b77856b775ffe7a656f27d/xmlnote/7A10EC84A6E04279ACCDF8BAD8B28DCF/3098" alt="img"></p>
<p>2ã€windows+Rï¼Œè¾“å…¥cmdè¿›å…¥å‘½ä»¤è¡Œï¼Œä½¿ç”¨ipconfigå‘½ä»¤æŸ¥çœ‹ç”µè„‘çš„ipåœ°å€</p>
<p><img src="http://note.youdao.com/yws/public/resource/e0eb6de484b77856b775ffe7a656f27d/xmlnote/0E9A457E28C74B9F8285DD4CAE17E1B6/3151" alt="img"></p>
<p>3ã€åœ¨æœåŠ¡å™¨ä¸€æ ä¸­å¡«å…¥ç”µè„‘ipåœ°å€ï¼Œç«¯å£å·å¡«8888ã€‚ï¼ˆç«¯å£å·åœ¨Proxy-Proxy Settingsä¸‹è‡ªå·±è®¾ç½®çš„ï¼‰</p>
<p><img src="http://note.youdao.com/yws/public/resource/e0eb6de484b77856b775ffe7a656f27d/xmlnote/DF82AAABD8794629A6423D47DA9183E4/3102" alt="img"></p>
<p><img src="http://note.youdao.com/yws/public/resource/e0eb6de484b77856b775ffe7a656f27d/xmlnote/1598911FB55A482799C85BAF44980F5B/3115" alt="img"></p>
<p>4ã€æ³¨æ„ï¼šé¦–æ¬¡è®¾ç½®ä»£ç†ç½‘ç»œæ—¶ï¼Œå¦‚æœç”µè„‘ç«¯çš„Charlesæ˜¯æ‰“å¼€çš„ï¼Œåˆ™ä¼šæç¤ºæ˜¯å¦å…è®¸è®¾å¤‡è¿æ¥Charlesï¼Œè¿™æ—¶å¿…é¡»åº”è®¸ï¼Œå¦åˆ™æ— æ³•æŠ“åŒ…ï¼Œæ‰‹æœºä¹Ÿæ— æ³•è¿æ¥ç½‘ç»œï¼›è‹¥è¿™æ ·è®¾ç½®åè¿˜æ˜¯æ— æ³•ä¸Šç½‘ï¼Œåˆ™å°è¯•é‡å¯ç”µè„‘+æ‰‹æœºã€‚</p>
<p><img src="http://note.youdao.com/yws/public/resource/e0eb6de484b77856b775ffe7a656f27d/xmlnote/8C44E37C6AE74B5684F13E0E725F6620/3158" alt="img"></p>
<p>å¦‚æœä¸å°å¿ƒç‚¹äº†Denyï¼Œå¯ä»¥åˆ°Proxy - Access Control Settingsä¸‹å»æŸ¥çœ‹ï¼Œå¯æ‰‹åŠ¨ç§»é™¤æˆ–æ–°å¢å…è®¸è®¿é—®çš„IPåœ°å€ã€‚</p>
<p><img src="http://note.youdao.com/yws/public/resource/e0eb6de484b77856b775ffe7a656f27d/xmlnote/E3CAFDF8DF5C42ECB711881E3258E6C4/3167" alt="img"></p>
<p>è‡³æ­¤ä»£ç†å·²ç»è®¾ç½®æˆåŠŸï¼Œå¯ä»¥æŠ“å–æ‰‹æœºç«¯çš„httpè¯·æ±‚ã€‚</p>
<p>5ã€è‹¥æƒ³æŠ“å–æ‰‹æœºç«¯çš„httpsè¯·æ±‚ï¼Œåˆ™å¿…é¡»å®‰è£…æ‰‹æœºç«¯è¯ä¹¦ã€‚</p>
<p>æ–¹æ³•ï¼šåœ¨æ‰‹æœºæµè§ˆå™¨ä¸­è¾“å…¥ <a href="http://charlesproxy.com/getssl" target="_blank" rel="noopener">http://charlesproxy.com/getssl</a> å»å®‰è£…è¯ä¹¦ã€‚</p>
<p>iosç³»ç»Ÿçš„ï¼Œåœ¨è®¾ç½® - é€šç”¨ - æè¿°æ–‡ä»¶ä¸è®¾å¤‡ç®¡ç†ä¸‹å¯æŸ¥çœ‹å®‰è£…çš„è¯ä¹¦ã€‚</p>
<p><img src="http://note.youdao.com/yws/public/resource/e0eb6de484b77856b775ffe7a656f27d/xmlnote/E9C3DF391F6C4E92952960FD048E0EA1/3180" alt="img"></p>
<p>å¦å¤–è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨é€šç”¨ - å…³äºæœ¬æœº - è¯ä¹¦ä¿¡ä»»è®¾ç½®ä¸­ï¼Œè¦å¼€å¯å¯¹æ­¤è¯ä¹¦çš„ä¿¡ä»»ï¼Œå¦åˆ™åŒæ ·æŠ“å–ä¸åˆ°httpsè¯·æ±‚ã€‚</p>
<p><img src="http://note.youdao.com/yws/public/resource/e0eb6de484b77856b775ffe7a656f27d/xmlnote/F802904FA3DE4A63A624650F526B88A4/3183" alt="img"></p>
<p>6ã€ä»¥ä¸Šè®¾ç½®å®Œæ¯•åï¼Œå¯ä»¥è¯•ç€è®¿é—®æŸä¸ªAPPï¼Œå¦‚å›¾ï¼Œè™½ç„¶èƒ½çœ‹åˆ°å‘å‡ºçš„è¯·æ±‚ï¼Œä½†è¯·æ±‚å’Œå“åº”ä¸­å‡ºç°äº†ä¹±ç ï¼š</p>
<p><img src="http://note.youdao.com/yws/public/resource/e0eb6de484b77856b775ffe7a656f27d/xmlnote/7756E14FD7AF4D43ABD3A1168C17E64B/3205" alt="img"></p>
<p>è§£å†³æ–¹æ¡ˆæ˜¯ï¼š</p>
<p>Proxy - SSL Proxying Settingsä¸‹ï¼Œå°†å‡ºç°ä¹±ç çš„è¯¥åŸŸåæ·»åŠ è¿›å»</p>
<p><img src="http://note.youdao.com/yws/public/resource/e0eb6de484b77856b775ffe7a656f27d/xmlnote/133548E8DE6940228B09DA265763D7B0/3209" alt="img"></p>
<p>è®¾ç½®å®Œæ¯•åï¼Œæ¸…é™¤æ‰€æœ‰ä¼šè¯ï¼Œé‡æ–°è®¿é—®ä¸€æ¬¡ï¼Œå½“å½“å½“å½“ï¼ï¼ï¼æˆåŠŸäº†ï¼ï¼</p>
<p><img src="http://note.youdao.com/yws/public/resource/e0eb6de484b77856b775ffe7a656f27d/xmlnote/C666882664FF44EDACE773A9E6FBED23/3215" alt="img"></p>
<p>äº”ã€æŠ“å–ç”µè„‘è¯·æ±‚</p>
<p>1ã€æŠ“å–ç”µè„‘httpè¯·æ±‚ï¼šå‹¾é€‰è¿™ä¸€é¡¹å³å¯ Proxy - Windows Proxy</p>
<p><img src="http://note.youdao.com/yws/public/resource/e0eb6de484b77856b775ffe7a656f27d/xmlnote/2C7CDF862BC147D9B5AF62664A434926/3235" alt="img"></p>
<p>2ã€æŠ“å–ç”µè„‘ç«¯httpsè¯·æ±‚ï¼ŒåŒæ ·éœ€è¦å®‰è£…è¯ä¹¦ã€‚</p>
<p>ç”µè„‘ç«¯è¯ä¹¦å®‰è£…ï¼šProxy - SSL Proxying - Install Charles Root Certificate</p>
<p><img src="http://note.youdao.com/yws/public/resource/e0eb6de484b77856b775ffe7a656f27d/xmlnote/AB331E14DD4D40AAA1B3C2B0EB05A225/3222" alt="img"></p>
<p><img src="http://note.youdao.com/yws/public/resource/e0eb6de484b77856b775ffe7a656f27d/xmlnote/830E7DC1B2054B318078EC01B2777E2C/3229" alt="img"></p>
<p><img src="http://note.youdao.com/yws/public/resource/e0eb6de484b77856b775ffe7a656f27d/xmlnote/7D30139836A54643BECE96A0EDB08CF3/3231" alt="img"></p>
<p>å…­ã€å…¶ä»–åŠŸèƒ½ç‚¹ï¼ˆé€‰ä¸­ä¼šè¯ï¼Œç‚¹å‡»å³é”®ï¼‰</p>
<p>1ã€Repeatï¼šé‡å¤æ‰§è¡Œè¯·æ±‚</p>
<p>2ã€Repeat Advancedï¼šå¯ä»¥æŒ‡å®šè¯·æ±‚çš„éæ•°</p>
<p><img src="http://note.youdao.com/yws/public/resource/e0eb6de484b77856b775ffe7a656f27d/xmlnote/CCE4DDB106B1408594E49D61541B03F5/3245" alt="img"></p>
<p><img src="http://note.youdao.com/yws/public/resource/e0eb6de484b77856b775ffe7a656f27d/xmlnote/98F9FE68FD4B4F189ECA0C03CCA94658/3257" alt="img"></p>
<p>3ã€Focus</p>
<p>å³é”®æŸä¼šè¯ï¼Œç‚¹å‡»Focusï¼Œå¯ä»¥ä½¿è¯¥åŸŸåç½®é¡¶ï¼Œå…¶ä»–åŸŸåç»Ÿä¸€è¢«æ”¾åˆ°ä¸‹é¢çš„Other Hostsä¸‹ï¼š</p>
<p><img src="http://note.youdao.com/yws/public/resource/e0eb6de484b77856b775ffe7a656f27d/xmlnote/307B6C6B1D3A4D53B0B4F3988DB35703/3269" alt="img"></p>
<p><img src="http://note.youdao.com/yws/public/resource/e0eb6de484b77856b775ffe7a656f27d/xmlnote/6925C705DCC6400F8A96BE193D6E2E59/3271" alt="img"></p>
<p>é™¤äº†é€šè¿‡è¿™ç§æ–¹æ³•è®¾ç½®ï¼Œä¹Ÿå¯åœ¨View - Focused Hostsä¸‹ç»Ÿä¸€è®¾ç½®</p>
<p><img src="http://note.youdao.com/yws/public/resource/e0eb6de484b77856b775ffe7a656f27d/xmlnote/603213AF038847838EADD5D81C238329/3277" alt="img"></p>
<p><img src="http://note.youdao.com/yws/public/resource/e0eb6de484b77856b775ffe7a656f27d/xmlnote/8069161252554DC1BC8C03022028A5B7/3281" alt="img"></p>
<p>4ã€é»‘åå• / ç™½åå•</p>
<p>Black Listï¼šé»‘åå•ä¸­çš„åŸŸåä¸èƒ½è”ç½‘</p>
<p>White Listï¼šç™½åå•å¼€å¯åï¼Œåªæœ‰åœ¨ç™½åå•ä¸­çš„åŸŸåå¯ä»¥è®¿é—®ç½‘ç»œï¼Œä¸åœ¨ç™½åå•ä¸­çš„ä¸èƒ½è”ç½‘</p>
<p>ï¼ˆå¦‚æœä¸€ä¸ªåŸŸåæ—¢åœ¨é»‘åå•ï¼Œåˆåœ¨ç™½åå•ï¼Œé‚£ä¹ˆä¹Ÿä¸èƒ½è”ç½‘ï¼‰</p>
<p><img src="http://note.youdao.com/yws/public/resource/e0eb6de484b77856b775ffe7a656f27d/xmlnote/0735CCE2871A426DB534AD44307D8641/3287" alt="img"></p>
<p>5ã€å¯¼å‡ºä¼šè¯åŠŸèƒ½</p>
<p>Exportï¼šå¯å°†ä¼šè¯å¯¼å‡ºåˆ°æœ¬åœ°ï¼Œä¸‹æ¬¡å¯é€šè¿‡File - Open Sessionæ‰“å¼€</p>
<p><img src="http://note.youdao.com/yws/public/resource/e0eb6de484b77856b775ffe7a656f27d/xmlnote/88D11E6684F44747ADA1BD7AD87A32FF/3301" alt="img"></p>
<p><img src="http://note.youdao.com/yws/public/resource/e0eb6de484b77856b775ffe7a656f27d/xmlnote/D04C613AFBB64560940B2DC1072D68A9/3307" alt="img"></p>
<p>6ã€æ¯”è¾ƒåŠŸèƒ½</p>
<p>Compareï¼šåœ¨å·¦ä¾§åˆ—è¡¨ä¸­é€‰ä¸­ä¸¤ä¸ªè¯·æ±‚ï¼Œå³é”®å³å¯çœ‹åˆ°æ­¤é€‰é¡¹ï¼Œå¯ç”¨äºæ¯”å¯¹ä¸¤ä¸ªè¯·æ±‚çš„å…¥å‚å’Œå‡ºå‚</p>
<p><img src="http://note.youdao.com/yws/public/resource/e0eb6de484b77856b775ffe7a656f27d/xmlnote/CB4FEC96F91E4F029D5B3A7A7D58D0F3/3311" alt="img"></p>
<p>æœªå®Œå¾…ç»­â€¦.</p>
<p>æœ‰é“äº‘ç¬”è®°åœ°å€ï¼š</p>
]]></content>
      <categories>
        <category>charles</category>
      </categories>
      <tags>
        <tag>charles</tag>
      </tags>
  </entry>
  <entry>
    <title>cookie/session/localstorage/sessionstorage</title>
    <url>/2020/10/30/cookie-session-localstorage-sessionstorage/</url>
    <content><![CDATA[<p>HTML4çš„æœ¬åœ°å­˜å‚¨ cookie</p>
<p>æµè§ˆå™¨çš„ç¼“å­˜æœºåˆ¶æä¾›äº†å¯ä»¥å°†ç”¨æˆ·æ•°æ®å­˜å‚¨åœ¨å®¢æˆ·ç«¯ä¸Šçš„æ–¹å¼ï¼Œå¯ä»¥åˆ©ç”¨cookie,sessionç­‰è·ŸæœåŠ¡ç«¯è¿›è¡Œæ•°æ®äº¤äº’ã€‚</p>
<p>ä¸€ã€cookieå’Œsession</p>
<p>cookieå’Œsessionéƒ½æ˜¯ç”¨æ¥è·Ÿè¸ªæµè§ˆå™¨ç”¨æˆ·èº«ä»½çš„ä¼šè¯æ–¹å¼ã€‚</p>
<p>åŒºåˆ«ï¼š</p>
<a id="more"></a>

<p>1ã€ä¿æŒçŠ¶æ€ï¼šcookieä¿å­˜åœ¨æµè§ˆå™¨ç«¯ï¼Œsessionä¿å­˜åœ¨æœåŠ¡å™¨ç«¯</p>
<p>2ã€ä½¿ç”¨æ–¹å¼ï¼š</p>
<p>ï¼ˆ1ï¼‰cookieæœºåˆ¶ï¼šå¦‚æœä¸åœ¨æµè§ˆå™¨ä¸­è®¾ç½®è¿‡æœŸæ—¶é—´ï¼Œcookieè¢«ä¿å­˜åœ¨å†…å­˜ä¸­ï¼Œç”Ÿå‘½å‘¨æœŸéšæµè§ˆå™¨çš„å…³é—­è€Œç»“æŸï¼Œè¿™ç§cookieç®€ç§°ä¼šè¯cookieã€‚å¦‚æœåœ¨æµè§ˆå™¨ä¸­è®¾ç½®äº†cookieçš„è¿‡æœŸæ—¶é—´ï¼Œcookieè¢«ä¿å­˜åœ¨ç¡¬ç›˜ä¸­ï¼Œå…³é—­æµè§ˆå™¨åï¼Œcookieæ•°æ®ä»ç„¶å­˜åœ¨ï¼Œç›´åˆ°è¿‡æœŸæ—¶é—´ç»“æŸæ‰æ¶ˆå¤±ã€‚</p>
<p>   Cookieæ˜¯æœåŠ¡å™¨å‘ç»™å®¢æˆ·ç«¯çš„ç‰¹æ®Šä¿¡æ¯ï¼Œcookieæ˜¯ä»¥æ–‡æœ¬çš„æ–¹å¼ä¿å­˜åœ¨å®¢æˆ·ç«¯ï¼Œæ¯æ¬¡è¯·æ±‚æ—¶éƒ½å¸¦ä¸Šå®ƒ</p>
<p>ï¼ˆ2ï¼‰sessionæœºåˆ¶ï¼šå½“æœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚éœ€è¦åˆ›å»ºsessionå¯¹è±¡æ—¶ï¼Œé¦–å…ˆä¼šæ£€æŸ¥å®¢æˆ·ç«¯è¯·æ±‚ä¸­æ˜¯å¦åŒ…å«sessionidã€‚å¦‚æœæœ‰sessionidï¼ŒæœåŠ¡å™¨å°†æ ¹æ®è¯¥idè¿”å›å¯¹åº”sessionå¯¹è±¡ã€‚å¦‚æœå®¢æˆ·ç«¯è¯·æ±‚ä¸­æ²¡æœ‰sessionidï¼ŒæœåŠ¡å™¨ä¼šåˆ›å»ºæ–°çš„sessionå¯¹è±¡ï¼Œå¹¶æŠŠsessionidåœ¨æœ¬æ¬¡å“åº”ä¸­è¿”å›ç»™å®¢æˆ·ç«¯ã€‚é€šå¸¸ä½¿ç”¨cookieæ–¹å¼å­˜å‚¨sessionidåˆ°å®¢æˆ·ç«¯ï¼Œåœ¨äº¤äº’ä¸­æµè§ˆå™¨æŒ‰ç…§è§„åˆ™å°†sessionidå‘é€ç»™æœåŠ¡å™¨ã€‚å¦‚æœç”¨æˆ·ç¦ç”¨cookieï¼Œåˆ™è¦ä½¿ç”¨URLé‡å†™ï¼Œå¯ä»¥é€šè¿‡response.encodeURL(url) è¿›è¡Œå®ç°ï¼›APIå¯¹encodeURLçš„ç»“æŸä¸ºï¼Œå½“æµè§ˆå™¨æ”¯æŒCookieæ—¶ï¼Œurlä¸åšä»»ä½•å¤„ç†ï¼›å½“æµè§ˆå™¨ä¸æ”¯æŒCookieçš„æ—¶å€™ï¼Œå°†ä¼šé‡å†™URLå°†SessionIDæ‹¼æ¥åˆ°è®¿é—®åœ°å€åã€‚</p>
<p>3ã€å­˜å‚¨å†…å®¹ï¼šcookieåªèƒ½ä¿å­˜å­—ç¬¦ä¸²ç±»å‹ï¼Œä»¥æ–‡æœ¬çš„æ–¹å¼ï¼›sessioné€šè¿‡ç±»ä¼¼ä¸Hashtableçš„æ•°æ®ç»“æ„æ¥ä¿å­˜ï¼Œèƒ½æ”¯æŒä»»ä½•ç±»å‹çš„å¯¹è±¡(sessionä¸­å¯å«æœ‰å¤šä¸ªå¯¹è±¡)</p>
<p>4ã€å­˜å‚¨çš„å¤§å°ï¼šcookieï¼šå•ä¸ªcookieä¿å­˜çš„æ•°æ®ä¸èƒ½è¶…è¿‡4kbï¼›sessionå¤§å°æ²¡æœ‰é™åˆ¶ã€‚</p>
<p>5ã€å®‰å…¨æ€§ï¼šcookieï¼šé’ˆå¯¹cookieæ‰€å­˜åœ¨çš„æ”»å‡»ï¼šCookieæ¬ºéª—ï¼ŒCookieæˆªè·ï¼›sessionçš„å®‰å…¨æ€§å¤§äºcookieã€‚</p>
<p>ã€€ã€€ã€€ã€€ã€€ã€€åŸå› å¦‚ä¸‹ï¼šï¼ˆ1ï¼‰sessionIDå­˜å‚¨åœ¨cookieä¸­ï¼Œè‹¥è¦æ”»ç ´sessioné¦–å…ˆè¦æ”»ç ´cookieï¼›</p>
<p>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ï¼ˆ2ï¼‰sessionIDæ˜¯è¦æœ‰äººç™»å½•ï¼Œæˆ–è€…å¯åŠ¨session_startæ‰ä¼šæœ‰ï¼Œæ‰€ä»¥æ”»ç ´cookieä¹Ÿä¸ä¸€å®šèƒ½å¾—åˆ°sessionIDï¼›</p>
<p>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ï¼ˆ3ï¼‰ç¬¬äºŒæ¬¡å¯åŠ¨session_startåï¼Œå‰ä¸€æ¬¡çš„sessionIDå°±æ˜¯å¤±æ•ˆäº†ï¼Œsessionè¿‡æœŸåï¼ŒsessionIDä¹Ÿéšä¹‹å¤±æ•ˆã€‚</p>
<p>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ï¼ˆ4ï¼‰sessionIDæ˜¯åŠ å¯†çš„</p>
<p>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ï¼ˆ5ï¼‰ç»¼ä¸Šæ‰€è¿°ï¼Œæ”»å‡»è€…å¿…é¡»åœ¨çŸ­æ—¶é—´å†…æ”»ç ´åŠ å¯†çš„sessionIDï¼Œè¿™å¾ˆéš¾ã€‚</p>
<p>6ã€åº”ç”¨åœºæ™¯ï¼š</p>
<p>cookieï¼šï¼ˆ1ï¼‰åˆ¤æ–­ç”¨æˆ·æ˜¯å¦ç™»é™†è¿‡ç½‘ç«™ï¼Œä»¥ä¾¿ä¸‹æ¬¡ç™»å½•æ—¶èƒ½å¤Ÿå®ç°è‡ªåŠ¨ç™»å½•ï¼ˆæˆ–è€…è®°ä½å¯†ç ï¼‰ã€‚å¦‚æœæˆ‘ä»¬åˆ é™¤cookieï¼Œåˆ™æ¯æ¬¡ç™»å½•å¿…é¡»ä»æ–°å¡«å†™ç™»å½•çš„ç›¸å…³ä¿¡æ¯ã€‚</p>
<p>ã€€ã€€ã€€ã€€ï¼ˆ2ï¼‰ä¿å­˜ä¸Šæ¬¡ç™»å½•çš„æ—¶é—´ç­‰ä¿¡æ¯ã€‚</p>
<p>ã€€ã€€ã€€ã€€ï¼ˆ3ï¼‰ä¿å­˜ä¸Šæ¬¡æŸ¥çœ‹çš„é¡µé¢</p>
<p>ã€€ã€€ã€€ã€€ï¼ˆ4ï¼‰æµè§ˆè®¡æ•°</p>
<p><img src="https://images2018.cnblogs.com/blog/1287779/201804/1287779-20180404062350828-745185789.png" alt="img"></p>
<p>sessionï¼šSessionç”¨äºä¿å­˜æ¯ä¸ªç”¨æˆ·çš„ä¸“ç”¨ä¿¡æ¯ï¼Œå˜é‡çš„å€¼ä¿å­˜åœ¨æœåŠ¡å™¨ç«¯ï¼Œé€šè¿‡SessionIDæ¥åŒºåˆ†ä¸åŒçš„å®¢æˆ·ã€‚</p>
<p>ã€€ã€€ï¼ˆ1ï¼‰ç½‘ä¸Šå•†åŸä¸­çš„è´­ç‰©è½¦</p>
<p>ã€€ã€€ï¼ˆ2ï¼‰ä¿å­˜ç”¨æˆ·ç™»å½•ä¿¡æ¯</p>
<p>ã€€ã€€ï¼ˆ3ï¼‰å°†æŸäº›æ•°æ®æ”¾å…¥sessionä¸­ï¼Œä¾›åŒä¸€ç”¨æˆ·çš„ä¸åŒé¡µé¢ä½¿ç”¨</p>
<p>ã€€ã€€ï¼ˆ4ï¼‰é˜²æ­¢ç”¨æˆ·éæ³•ç™»å½•</p>
<p> 7ã€ç¼ºç‚¹ï¼šcookieï¼šï¼ˆ1ï¼‰å¤§å°å—é™</p>
<p>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ï¼ˆ2ï¼‰ç”¨æˆ·å¯ä»¥æ“ä½œï¼ˆç¦ç”¨ï¼‰cookieï¼Œä½¿åŠŸèƒ½å—é™</p>
<p>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ï¼ˆ3ï¼‰å®‰å…¨æ€§è¾ƒä½</p>
<p>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ï¼ˆ4ï¼‰æœ‰äº›çŠ¶æ€ä¸å¯èƒ½ä¿å­˜åœ¨å®¢æˆ·ç«¯ã€‚</p>
<p>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ï¼ˆ5ï¼‰æ¯æ¬¡è®¿é—®éƒ½è¦ä¼ é€cookieç»™æœåŠ¡å™¨ï¼Œæµªè´¹å¸¦å®½ã€‚</p>
<p>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ï¼ˆ6ï¼‰cookieæ•°æ®æœ‰è·¯å¾„ï¼ˆpathï¼‰çš„æ¦‚å¿µï¼Œå¯ä»¥é™åˆ¶cookieåªå±äºæŸä¸ªè·¯å¾„ä¸‹ã€‚</p>
<p> ã€€ã€€ã€€sessionï¼šï¼ˆ1ï¼‰Sessionä¿å­˜çš„ä¸œè¥¿è¶Šå¤šï¼Œå°±è¶Šå ç”¨æœåŠ¡å™¨å†…å­˜ï¼Œå¯¹äºç”¨æˆ·åœ¨çº¿äººæ•°è¾ƒå¤šçš„ç½‘ç«™ï¼ŒæœåŠ¡å™¨çš„å†…å­˜å‹åŠ›ä¼šæ¯”è¾ƒå¤§ã€‚</p>
<p>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ï¼ˆ2ï¼‰ä¾èµ–äºcookieï¼ˆsessionIDä¿å­˜åœ¨cookieï¼‰ï¼Œå¦‚æœç¦ç”¨cookieï¼Œåˆ™è¦ä½¿ç”¨URLé‡å†™ï¼Œä¸å®‰å…¨</p>
<p>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ï¼ˆ3ï¼‰åˆ›å»ºSessionå˜é‡æœ‰å¾ˆå¤§çš„éšæ„æ€§ï¼Œå¯éšæ—¶è°ƒç”¨ï¼Œä¸éœ€è¦å¼€å‘è€…åšç²¾ç¡®åœ°å¤„ç†ï¼Œæ‰€ä»¥ï¼Œè¿‡åº¦ä½¿ç”¨sessionå˜é‡å°†ä¼šå¯¼è‡´ä»£ç ä¸å¯è¯»è€Œä¸”ä¸å¥½ç»´æŠ¤ã€‚</p>
<p> <img src="https://images2018.cnblogs.com/blog/1287779/201804/1287779-20180404063034678-394744286.png" alt="img"></p>
<p> HTML5çš„æœ¬åœ°å­˜å‚¨</p>
<p>è§£é‡Šä¸€</p>
<p>HTML5ä¸­ä¸æœ¬åœ°å­˜å‚¨ç›¸å…³çš„ä¸¤ä¸ªé‡è¦å†…å®¹ï¼šWeb Storageä¸æœ¬åœ°æ•°æ®åº“ã€‚å…¶ä¸­ï¼ŒWeb Storageå­˜å‚¨æœºåˆ¶æ˜¯å¯¹HTML4ä¸­cookieå­˜å‚¨æœºåˆ¶çš„ä¸€ä¸ªæ”¹å–„ã€‚ç”±äºcookieå­˜å‚¨æœºåˆ¶æœ‰å¾ˆå¤šç¼ºç‚¹ï¼ŒHTML5ä¸å†ä½¿ç”¨å®ƒï¼Œè½¬è€Œä½¿ç”¨æ”¹è‰¯åçš„Web Storageå­˜å‚¨æœºåˆ¶ã€‚æœ¬åœ°æ•°æ®åº“æ˜¯HTML5ä¸­æ–°å¢çš„ä¸€ä¸ªåŠŸèƒ½ï¼Œä½¿ç”¨å®ƒå¯ä»¥åœ¨å®¢æˆ·ç«¯æœ¬åœ°å»ºç«‹ä¸€ä¸ªæ•°æ®åº“ï¼ŒåŸæœ¬å¿…é¡»ä¿å­˜åœ¨æœåŠ¡å™¨ç«¯æ•°æ®åº“ä¸­çš„å†…å®¹ç°åœ¨å¯ä»¥ç›´æ¥ä¿å­˜åœ¨å®¢æˆ·ç«¯æœ¬åœ°äº†ï¼Œè¿™å¤§å¤§å‡è½»äº†æœåŠ¡å™¨ç«¯çš„è´Ÿæ‹…ï¼ŒåŒæ—¶ä¹ŸåŠ å¿«äº†è®¿é—®æ•°æ®çš„é€Ÿåº¦ã€‚</p>
<p>æœ¬æ–‡ä¸»è¦æ¥è®²è§£Web Storage</p>
<p>æˆ‘ä»¬çŸ¥é“ï¼Œåœ¨HTML4ä¸­å¯ä»¥ä½¿ç”¨cookieåœ¨å®¢æˆ·ç«¯ä¿å­˜è¯¸å¦‚ç”¨æˆ·åç­‰ç®€å•çš„ç”¨æˆ·ä¿¡æ¯ï¼Œä½†æ˜¯ï¼Œé€šè¿‡é•¿æœŸçš„ä½¿ç”¨ï¼Œä½ ä¼šå‘ç°ï¼Œç”¨cookieå­˜å‚¨æ°¸ä¹…æ•°æ®å­˜åœ¨ä»¥ä¸‹å‡ ä¸ªé—®é¢˜ï¼š</p>
<p>1.å¤§å°ï¼šcookieçš„å¤§å°è¢«é™åˆ¶åœ¨4KBã€‚</p>
<p>2.å¸¦å®½ï¼šcookieæ˜¯éšHTTPäº‹åŠ¡ä¸€èµ·è¢«å‘é€çš„ï¼Œå› æ­¤ä¼šæµªè´¹ä¸€éƒ¨åˆ†å‘é€cookieæ—¶ä½¿ç”¨çš„å¸¦å®½ã€‚</p>
<p>3.å¤æ‚æ€§ï¼šè¦æ­£ç¡®çš„æ“çºµcookieæ˜¯å¾ˆå›°éš¾çš„ã€‚</p>
<p>é’ˆå¯¹è¿™äº›é—®é¢˜ï¼Œåœ¨HTML5ä¸­ï¼Œé‡æ–°æä¾›äº†ä¸€ç§åœ¨å®¢æˆ·ç«¯æœ¬åœ°ä¿å­˜æ•°æ®çš„åŠŸèƒ½ï¼Œå®ƒå°±æ˜¯Web Storageã€‚</p>
<p>å…·ä½“æ¥è¯´ï¼ŒWeb Storageåˆåˆ†ä¸ºä¸¤ç§ï¼š</p>
<p>1.sessionStorageï¼šå°†æ•°æ®ä¿å­˜åœ¨sessionå¯¹è±¡ä¸­ã€‚æ‰€è°“sessionï¼Œæ˜¯æŒ‡ç”¨æˆ·åœ¨æµè§ˆæŸä¸ªç½‘ç«™æ—¶ï¼Œä»è¿›å…¥ç½‘ç«™åˆ°æµè§ˆå™¨å…³é—­æ‰€ç»è¿‡çš„è¿™æ®µæ—¶é—´ï¼Œä¹Ÿå°±æ˜¯ç”¨æˆ·æµè§ˆè¿™ä¸ªç½‘ç«™æ‰€èŠ±è´¹çš„æ—¶é—´ã€‚sessionå¯¹è±¡å¯ä»¥ç”¨æ¥ä¿å­˜åœ¨è¿™æ®µæ—¶é—´å†…æ‰€è¦æ±‚ä¿å­˜çš„ä»»ä½•æ•°æ®ã€‚</p>
<p>2.localStorageï¼šå°†æ•°æ®ä¿å­˜åœ¨å®¢æˆ·ç«¯æœ¬åœ°çš„ç¡¬ä»¶è®¾å¤‡(é€šå¸¸æŒ‡ç¡¬ç›˜ï¼Œä¹Ÿå¯ä»¥æ˜¯å…¶ä»–ç¡¬ä»¶è®¾å¤‡)ä¸­ï¼Œå³ä½¿æµè§ˆå™¨è¢«å…³é—­äº†ï¼Œè¯¥æ•°æ®ä»ç„¶å­˜åœ¨ï¼Œä¸‹æ¬¡æ‰“å¼€æµè§ˆå™¨è®¿é—®ç½‘ç«™æ—¶ä»ç„¶å¯ä»¥ç»§ç»­ä½¿ç”¨ã€‚</p>
<p>è¿™ä¸¤è€…çš„åŒºåˆ«åœ¨äºï¼ŒsessionStorageä¸ºä¸´æ—¶ä¿å­˜ï¼Œè€ŒlocalStorageä¸ºæ°¸ä¹…ä¿å­˜ã€‚</p>
<p>åˆ°ç›®å‰ä¸ºæ­¢ï¼ŒFirefox3.6ä»¥ä¸Šã€Chrome6ä»¥ä¸Šã€Safari 5ä»¥ä¸Šã€Pera10.50ä»¥ä¸Šã€IE8ä»¥ä¸Šç‰ˆæœ¬çš„æµè§ˆå™¨æ”¯æŒsessionStorageä¸localStorageçš„ä½¿ç”¨ã€‚</p>
<p>è§£é‡ŠäºŒ</p>
<p>WebStorageçš„ç›®çš„æ˜¯å…‹æœç”±cookieæ‰€å¸¦æ¥çš„ä¸€äº›é™åˆ¶ï¼Œå½“æ•°æ®éœ€è¦è¢«ä¸¥æ ¼æ§åˆ¶åœ¨å®¢æˆ·ç«¯æ—¶ï¼Œä¸éœ€è¦æŒç»­çš„å°†æ•°æ®å‘å›æœåŠ¡å™¨ã€‚</p>
<p>WebStorageä¸¤ä¸ªä¸»è¦ç›®æ ‡ï¼šï¼ˆ1ï¼‰æä¾›ä¸€ç§åœ¨cookieä¹‹å¤–å­˜å‚¨ä¼šè¯æ•°æ®çš„è·¯å¾„ã€‚ï¼ˆ2ï¼‰æä¾›ä¸€ç§å­˜å‚¨å¤§é‡å¯ä»¥è·¨ä¼šè¯å­˜åœ¨çš„æ•°æ®çš„æœºåˆ¶ã€‚</p>
<p>HTML5çš„WebStorageæä¾›äº†ä¸¤ç§APIï¼šlocalStorageï¼ˆæœ¬åœ°å­˜å‚¨ï¼‰å’ŒsessionStorageï¼ˆä¼šè¯å­˜å‚¨ï¼‰ã€‚</p>
<p>1ã€ç”Ÿå‘½å‘¨æœŸï¼š</p>
<p>â€‹    <strong>localStorage:localStorageçš„ç”Ÿå‘½å‘¨æœŸæ˜¯æ°¸ä¹…çš„ï¼Œå…³é—­é¡µé¢æˆ–æµè§ˆå™¨ä¹‹ålocalStorageä¸­çš„æ•°æ®ä¹Ÿä¸ä¼šæ¶ˆå¤±ã€‚localStorageé™¤éä¸»åŠ¨åˆ é™¤æ•°æ®ï¼Œå¦åˆ™æ•°æ®æ°¸è¿œä¸ä¼šæ¶ˆå¤±ã€‚</strong></p>
<p>â€‹     <strong>sessionStorageçš„ç”Ÿå‘½å‘¨æœŸæ˜¯åœ¨ä»…åœ¨å½“å‰ä¼šè¯ä¸‹æœ‰æ•ˆã€‚sessionStorageå¼•å…¥äº†ä¸€ä¸ªâ€œæµè§ˆå™¨çª—å£â€çš„æ¦‚å¿µï¼ŒsessionStorageæ˜¯åœ¨åŒæºçš„çª—å£ä¸­å§‹ç»ˆå­˜åœ¨çš„æ•°æ®ã€‚åªè¦è¿™ä¸ªæµè§ˆå™¨çª—å£æ²¡æœ‰å…³é—­ï¼Œå³ä½¿åˆ·æ–°é¡µé¢æˆ–è€…è¿›å…¥åŒæºå¦ä¸€ä¸ªé¡µé¢ï¼Œæ•°æ®ä¾ç„¶å­˜åœ¨ã€‚ä½†æ˜¯sessionStorageåœ¨å…³é—­äº†æµè§ˆå™¨çª—å£åå°±ä¼šè¢«é”€æ¯ã€‚åŒæ—¶ç‹¬ç«‹çš„æ‰“å¼€åŒä¸€ä¸ªçª—å£åŒä¸€ä¸ªé¡µé¢ï¼ŒsessionStorageä¹Ÿæ˜¯ä¸ä¸€æ ·çš„ã€‚</strong></p>
<p>2ã€å­˜å‚¨å¤§å°ï¼šlocalStorageå’ŒsessionStorageçš„å­˜å‚¨æ•°æ®å¤§å°ä¸€èˆ¬éƒ½æ˜¯ï¼š5MB</p>
<p>3ã€å­˜å‚¨ä½ç½®ï¼šlocalStorageå’ŒsessionStorageéƒ½ä¿å­˜åœ¨å®¢æˆ·ç«¯ï¼Œä¸ä¸æœåŠ¡å™¨è¿›è¡Œäº¤äº’é€šä¿¡ã€‚</p>
<p>4ã€å­˜å‚¨å†…å®¹ç±»å‹ï¼šlocalStorageå’ŒsessionStorageåªèƒ½å­˜å‚¨å­—ç¬¦ä¸²ç±»å‹ï¼Œå¯¹äºå¤æ‚çš„å¯¹è±¡å¯ä»¥ä½¿ç”¨ECMAScriptæä¾›çš„JSONå¯¹è±¡çš„stringifyå’Œparseæ¥å¤„ç†</p>
<p>5ã€è·å–æ–¹å¼ï¼šlocalStorageï¼šwindow.localStorage;ï¼›sessionStorageï¼šwindow.sessionStorage;ã€‚</p>
<p>6ã€åº”ç”¨åœºæ™¯ï¼šlocalStorageseï¼šå¸¸ç”¨äºé•¿æœŸç™»å½•ï¼ˆ+åˆ¤æ–­ç”¨æˆ·æ˜¯å¦å·²ç™»å½•ï¼‰ï¼Œé€‚åˆé•¿æœŸä¿å­˜åœ¨æœ¬åœ°çš„æ•°æ®ã€‚sessionStorageï¼šæ•æ„Ÿè´¦å·ä¸€æ¬¡æ€§ç™»å½•ï¼›</p>
<p>WebStorageçš„ä¼˜ç‚¹ï¼š</p>
<p>ï¼ˆ1ï¼‰å­˜å‚¨ç©ºé—´æ›´å¤§ï¼šcookieä¸º4KBï¼Œè€ŒWebStorageæ˜¯5MBï¼›</p>
<p>ï¼ˆ2ï¼‰èŠ‚çœç½‘ç»œæµé‡ï¼šWebStorageä¸ä¼šä¼ é€åˆ°æœåŠ¡å™¨ï¼Œå­˜å‚¨åœ¨æœ¬åœ°çš„æ•°æ®å¯ä»¥ç›´æ¥è·å–ï¼Œä¹Ÿä¸ä¼šåƒcookieä¸€æ ·ç¾è¯è¯·æ±‚éƒ½ä¼šä¼ é€åˆ°æœåŠ¡å™¨ï¼Œæ‰€ä»¥å‡å°‘äº†å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯çš„äº¤äº’ï¼ŒèŠ‚çœäº†ç½‘ç»œæµé‡ï¼›</p>
<p>ï¼ˆ3ï¼‰å¯¹äºé‚£ç§åªéœ€è¦åœ¨ç”¨æˆ·æµè§ˆä¸€ç»„é¡µé¢æœŸé—´ä¿å­˜è€Œå…³é—­æµè§ˆå™¨åå°±å¯ä»¥ä¸¢å¼ƒçš„æ•°æ®ï¼ŒsessionStorageä¼šéå¸¸æ–¹ä¾¿ï¼›</p>
<p>ï¼ˆ4ï¼‰å¿«é€Ÿæ˜¾ç¤ºï¼šæœ‰çš„æ•°æ®å­˜å‚¨åœ¨WebStorageä¸Šï¼Œå†åŠ ä¸Šæµè§ˆå™¨æœ¬èº«çš„ç¼“å­˜ã€‚è·å–æ•°æ®æ—¶å¯ä»¥ä»æœ¬åœ°è·å–ä¼šæ¯”ä»æœåŠ¡å™¨ç«¯è·å–å¿«å¾—å¤šï¼Œæ‰€ä»¥é€Ÿåº¦æ›´å¿«ï¼›</p>
<p>ï¼ˆ5ï¼‰å®‰å…¨æ€§ï¼šWebStorageä¸ä¼šéšç€HTTP headerå‘é€åˆ°æœåŠ¡å™¨ç«¯ï¼Œæ‰€ä»¥å®‰å…¨æ€§ç›¸å¯¹äºcookieæ¥è¯´æ¯”è¾ƒé«˜ä¸€äº›ï¼Œä¸ä¼šæ‹…å¿ƒæˆªè·ï¼Œä½†æ˜¯ä»ç„¶å­˜åœ¨ä¼ªé€ é—®é¢˜ï¼›</p>
<p>ï¼ˆ6ï¼‰WebStorageæä¾›äº†ä¸€äº›æ–¹æ³•ï¼Œæ•°æ®æ“ä½œæ¯”cookieæ–¹ä¾¿ï¼›</p>
<p>ã€€ã€€ã€€ã€€setItem (key, value) â€”â€”  ä¿å­˜æ•°æ®ï¼Œä»¥é”®å€¼å¯¹çš„æ–¹å¼å‚¨å­˜ä¿¡æ¯ã€‚</p>
<p>   ã€€ã€€ getItem (key) â€”â€”  è·å–æ•°æ®ï¼Œå°†é”®å€¼ä¼ å…¥ï¼Œå³å¯è·å–åˆ°å¯¹åº”çš„valueå€¼ã€‚</p>
<p>â€‹    ã€€ã€€removeItem (key) â€”â€”  åˆ é™¤å•ä¸ªæ•°æ®ï¼Œæ ¹æ®é”®å€¼ç§»é™¤å¯¹åº”çš„ä¿¡æ¯ã€‚</p>
<p>â€‹    ã€€ã€€clear () â€”â€”  åˆ é™¤æ‰€æœ‰çš„æ•°æ®</p>
<p>â€‹    ã€€ã€€key (index) â€”â€” è·å–æŸä¸ªç´¢å¼•çš„key</p>
<p>cookie ã€sessionStorageä¸localStorageçš„åŒºåˆ«</p>
<p><img src="https://images2018.cnblogs.com/blog/1287779/201804/1287779-20180404065845701-1111813120.png" alt="img"></p>
<p>sessionStorageä¸localStorageçš„ä½¿ç”¨ç¤ºä¾‹ã€‚</p>
]]></content>
      <categories>
        <category>å‚¨å­˜</category>
      </categories>
      <tags>
        <tag>cookie</tag>
        <tag>session</tag>
        <tag>localstorage</tag>
        <tag>sessionstorage</tag>
      </tags>
  </entry>
  <entry>
    <title>easy-mock</title>
    <url>/2020/07/30/easy-mock/</url>
    <content><![CDATA[<h3 id="easy-mockçš„ä½¿ç”¨"><a href="#easy-mockçš„ä½¿ç”¨" class="headerlink" title="easy-mockçš„ä½¿ç”¨"></a>easy-mockçš„ä½¿ç”¨</h3><p>Easy Mock æ˜¯ä¸€ä¸ªå¯è§†åŒ–ï¼Œå¹¶ä¸”èƒ½å¿«é€Ÿç”Ÿæˆæ¨¡æ‹Ÿæ•°æ®çš„æŒä¹…åŒ–æœåŠ¡ã€‚ç®€å•æ¥è¯´ï¼Œeasy-mockå¯ä»¥æä¾›apiæ¥å£ï¼Œè®©ç¨‹åºå‘˜åœ¨å†™å¥½ç¨‹åºä»¥åè¿›è¡Œæ•°æ®æ¨¡æ‹Ÿã€‚</p>
<h4 id="ç¬¬ä¸€æ­¥"><a href="#ç¬¬ä¸€æ­¥" class="headerlink" title="ç¬¬ä¸€æ­¥"></a>ç¬¬ä¸€æ­¥</h4><p>åˆ›å»ºä¸€ä¸ªé¡¹ç›®</p>
<a id="more"></a>

<p><img src="/2020/07/30/easy-mock/clipboard.png" alt="clipboard"></p>
<h4 id="ç¬¬äºŒæ­¥"><a href="#ç¬¬äºŒæ­¥" class="headerlink" title="ç¬¬äºŒæ­¥"></a>ç¬¬äºŒæ­¥</h4><p>å¡«å†™ä¿¡æ¯ï¼Œè¿™é‡Œé¡¹ç›®åå’Œurléƒ½æ˜¯æŒ‰ç…§è‡ªå·±çš„æ„æ„¿æ¥å¡«å†™ï¼Œè¿™ä¼šä¸ºæœ€åç”Ÿæˆçš„apiæ•°æ®æ¥å£æä¾›åœ°å€</p>
<p><img src="http://upload-images.jianshu.io/upload_images/18143787-9f66b8a931aa6e8d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp" alt="img"></p>
<h4 id="ç¬¬ä¸‰æ­¥"><a href="#ç¬¬ä¸‰æ­¥" class="headerlink" title="ç¬¬ä¸‰æ­¥"></a>ç¬¬ä¸‰æ­¥</h4><p>åˆ›å»ºmock</p>
<p>![clipboard (1)](easy-mock.assets/clipboard (1).png)</p>
<h4 id="ç¬¬å››æ­¥"><a href="#ç¬¬å››æ­¥" class="headerlink" title="ç¬¬å››æ­¥"></a>ç¬¬å››æ­¥</h4><p>æœ€åå°±å¯ä»¥åœ¨è¿™é‡Œå†™ä¸‹mockçš„ä»£ç å•¦ï¼</p>
<p><img src="http://upload-images.jianshu.io/upload_images/18143787-26185e5f83289a5b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp" alt="img"></p>
<p>easy-mock æœ¬åœ°éƒ¨ç½²ï¼ˆå‘ï¼‰</p>
<p><a href="https://blog.csdn.net/qq_40895460/article/details/105029475" target="_blank" rel="noopener">https://blog.csdn.net/qq_40895460/article/details/105029475</a></p>
]]></content>
      <categories>
        <category>mock</category>
      </categories>
      <tags>
        <tag>mock</tag>
        <tag>easy-mock</tag>
      </tags>
  </entry>
  <entry>
    <title>css3</title>
    <url>/2020/07/23/css3/</url>
    <content><![CDATA[<h3 id="æ—¥å¸¸ç§¯ç´¯"><a href="#æ—¥å¸¸ç§¯ç´¯" class="headerlink" title="æ—¥å¸¸ç§¯ç´¯"></a>æ—¥å¸¸ç§¯ç´¯</h3><a id="more"></a>

<ol>
<li><p>ä»‹ç»ä¸€ä¸‹æ ‡å‡†çš„CSSçš„ç›’å­æ¨¡å‹ï¼Ÿä¸ä½ç‰ˆæœ¬IEçš„ç›’å­æ¨¡å‹æœ‰ä»€ä¹ˆä¸åŒçš„ï¼Ÿ</p>
<blockquote>
<ul>
<li>æ ‡å‡†ç›’å­æ¨¡å‹ï¼šå®½åº¦=å†…å®¹çš„å®½åº¦ï¼ˆcontentï¼‰+ border + padding + margin </li>
<li>ä½ç‰ˆæœ¬IEç›’å­æ¨¡å‹ï¼šå®½åº¦=å†…å®¹å®½åº¦ï¼ˆcontent+border+paddingï¼‰+ margin</li>
</ul>
</blockquote>
</li>
<li><p>box-sizingå±æ€§</p>
<blockquote>
<p>ç”¨æ¥æ§åˆ¶å…ƒç´ çš„ç›’å­æ¨¡å‹çš„è§£ææ¨¡å¼ï¼Œé»˜è®¤ä¸ºcontent-box </p>
<ul>
<li>context-boxï¼šW3Cçš„æ ‡å‡†ç›’å­æ¨¡å‹ï¼Œè®¾ç½®å…ƒç´ çš„ height/width å±æ€§æŒ‡çš„æ˜¯contentéƒ¨åˆ†çš„é«˜/å®½ </li>
<li>border-boxï¼šIEä¼ ç»Ÿç›’å­æ¨¡å‹ã€‚è®¾ç½®å…ƒç´ çš„height/widthå±æ€§æŒ‡çš„æ˜¯border + padding + contentéƒ¨åˆ†çš„é«˜/å®½</li>
</ul>
</blockquote>
</li>
<li><p>CSSé€‰æ‹©å™¨æœ‰å“ªäº›ï¼Ÿå“ªäº›å±æ€§å¯ä»¥ç»§æ‰¿ï¼Ÿ</p>
<blockquote>
<ul>
<li>CSSé€‰æ‹©ç¬¦ï¼šidé€‰æ‹©å™¨(#myid)ã€ç±»é€‰æ‹©å™¨(.myclassname)ã€æ ‡ç­¾é€‰æ‹©å™¨(div, h1, p)ã€ç›¸é‚»é€‰æ‹©å™¨(h1 + p)ã€å­é€‰æ‹©å™¨ï¼ˆul &gt; liï¼‰ã€åä»£é€‰æ‹©å™¨ï¼ˆli aï¼‰ã€é€šé…ç¬¦é€‰æ‹©å™¨ï¼ˆ*ï¼‰ã€å±æ€§é€‰æ‹©å™¨ï¼ˆa[rel=â€externalâ€]ï¼‰ã€ä¼ªç±»é€‰æ‹©å™¨ï¼ˆa:hover, li:nth-childï¼‰</li>
<li>å¯ç»§æ‰¿çš„å±æ€§ï¼šfont-size, font-family, color</li>
<li>ä¸å¯ç»§æ‰¿çš„æ ·å¼ï¼šborder, padding, margin, width, height</li>
<li>ä¼˜å…ˆçº§ï¼ˆå°±è¿‘åŸåˆ™ï¼‰ï¼š!important &gt; [ id &gt; class &gt; tag ] </li>
<li>!important æ¯”å†…è”ä¼˜å…ˆçº§é«˜</li>
</ul>
</blockquote>
</li>
<li><p>CSSä¼˜å…ˆçº§ç®—æ³•å¦‚ä½•è®¡ç®—ï¼Ÿ</p>
<blockquote>
<p>å…ƒç´ é€‰æ‹©ç¬¦ï¼š 1 </p>
<p>classé€‰æ‹©ç¬¦ï¼š 10 </p>
<p>idé€‰æ‹©ç¬¦ï¼š100 </p>
<p>å…ƒç´ æ ‡ç­¾ï¼š1000</p>
<p>!importantå£°æ˜çš„æ ·å¼ä¼˜å…ˆçº§æœ€é«˜ï¼Œå¦‚æœå†²çªå†è¿›è¡Œè®¡ç®—ã€‚ </p>
<p>å¦‚æœä¼˜å…ˆçº§ç›¸åŒï¼Œåˆ™é€‰æ‹©æœ€åå‡ºç°çš„æ ·å¼ã€‚ </p>
<p>ç»§æ‰¿å¾—åˆ°çš„æ ·å¼çš„ä¼˜å…ˆçº§æœ€ä½ã€‚</p>
</blockquote>
</li>
<li><p>CSS3ä¼ªç±»æœ‰é‚£äº›?</p>
<blockquote>
<ul>
<li><p>p:first-of-type é€‰æ‹©å±äºå…¶çˆ¶å…ƒç´ çš„é¦–ä¸ªå…ƒç´  </p>
</li>
<li><p>p:last-of-type é€‰æ‹©å±äºå…¶çˆ¶å…ƒç´ çš„æœ€åå…ƒç´  </p>
</li>
<li><p>p:only-of-type é€‰æ‹©å±äºå…¶çˆ¶å…ƒç´ å”¯ä¸€çš„å…ƒç´  </p>
</li>
<li><p>p:only-child é€‰æ‹©å±äºå…¶çˆ¶å…ƒç´ çš„å”¯ä¸€å­å…ƒç´  </p>
</li>
<li><p>p:nth-child(2) é€‰æ‹©å±äºå…¶çˆ¶å…ƒç´ çš„ç¬¬äºŒä¸ªå­å…ƒç´  </p>
</li>
<li><p>plate:nth-of-type(even) æˆ– plate:nth-of-type(2n)  é€‰ä¸­æ‰€æœ‰å¶æ•°çš„plate</p>
<p>plate:nth-of-type(odd) æˆ– plate:nth-of-type(2n+1)  å¥‡æ•°é¡¹</p>
<p>plate:nth-of-type(2n+3) é€‰æ‹©å¶æ•°é¡¹å¹¶ä»ç¬¬ä¸‰ä¸ªå¼€å§‹</p>
<p>plate:nth-of-type(3n) é€‰æ‹©3çš„å€æ•°</p>
</li>
<li><p>:enabled :disabled è¡¨å•æ§ä»¶çš„ç¦ç”¨çŠ¶æ€ã€‚ </p>
</li>
<li><p>:checked å•é€‰æ¡†æˆ–å¤é€‰æ¡†è¢«é€‰ä¸­ã€‚</p>
</li>
<li><p>bento ~ pickle  bentoæ—è¾¹çš„pickleå…ƒç´   </p>
</li>
</ul>
</blockquote>
</li>
<li><p>å¦‚ä½•å±…ä¸­divï¼Ÿå¦‚ä½•å±…ä¸­ä¸€ä¸ªæµ®åŠ¨å…ƒç´ ï¼Ÿå¦‚ä½•è®©ç»å¯¹å®šä½çš„divå±…ä¸­ï¼Ÿ</p>
<blockquote>
<ul>
<li><p>divï¼š</p>
<p>border: 1px solid red; </p>
<p>margin: 0 auto; </p>
<p>height: 50px; </p>
<p>width: 80px; </p>
</li>
<li><p>æµ®åŠ¨å…ƒç´ çš„ä¸Šä¸‹å·¦å³å±…ä¸­ï¼š</p>
<p>border: 1px solid red; </p>
<p>float: left; </p>
<p>position: absolute; </p>
<p>width: 200px; </p>
<p>height: 100px; </p>
<p>left: 50%; </p>
<p>top: 50%; </p>
<p>margin: -50px 0 0 -100px; </p>
</li>
<li><p>ç»å¯¹å®šä½çš„å·¦å³å±…ä¸­ï¼š</p>
<p>border: 1px solid black; </p>
<p>position: absolute; </p>
<p>width: 200px; </p>
<p>height: 100px; </p>
<p>margin: 0 auto; </p>
<p>left: 0; </p>
<p>right: 0;</p>
</li>
<li><p>flexå¸ƒå±€æ‰€æœ‰å…ƒç´ åœ¨èŒƒå›´å†…æ°´å¹³å‚ç›´åˆ†å¸ƒ</p>
</li>
</ul>
<p>â€‹      display: flex;</p>
<p>â€‹      flex-wrap: wrap;</p>
<p>â€‹      align-items: center;</p>
<p>â€‹      justify-content: center;</p>
<p>â€‹     æ‰€æœ‰å­çº§å…ƒç´ </p>
<p>â€‹    &gt; h1, &gt; h2, p {</p>
<p>â€‹           width: 100%;</p>
<p>â€‹           text-align: center;</p>
<p>â€‹     }</p>
</blockquote>
</li>
<li><p>positionçš„å€¼</p>
<blockquote>
<ul>
<li>staticï¼ˆé»˜è®¤ï¼‰ï¼šæŒ‰ç…§æ­£å¸¸æ–‡æ¡£æµè¿›è¡Œæ’åˆ—ï¼› </li>
<li>relativeï¼ˆç›¸å¯¹å®šä½ï¼‰ï¼šä¸è„±ç¦»æ–‡æ¡£æµï¼Œå‚è€ƒè‡ªèº«é™æ€ä½ç½®é€šè¿‡ top, bottom, left, right å®šä½ï¼› </li>
<li>absolute(ç»å¯¹å®šä½)ï¼šå‚è€ƒè·å…¶æœ€è¿‘ä¸€ä¸ªä¸ä¸ºstaticçš„çˆ¶çº§å…ƒç´ é€šè¿‡top, bottom, left, right å®šä½ï¼› </li>
<li>fixed(å›ºå®šå®šä½)ï¼šæ‰€å›ºå®šçš„å‚ç…§å¯¹åƒæ˜¯å¯è§†çª—å£ã€‚</li>
</ul>
</blockquote>
</li>
<li><p>CSS3æœ‰å“ªäº›æ–°ç‰¹æ€§</p>
<blockquote>
<ul>
<li><p>å¯¹é•¿çš„ä¸å¯åˆ†å‰²å•è¯æ¢è¡Œ word-wrapï¼šbreak-word </p>
</li>
<li><p>è‹±æ–‡å’Œæ•°å­—ä¸æ¢è¡Œ word-break: break-all;</p>
</li>
<li><p>æ–‡å­—è¶…å‡ºè¡Œæ•°ä»¥çœç•¥å·æ˜¾ç¤º</p>
<p>display: -webkit-box !important;</p>
<p>-ms-text-overflow: ellipsis;</p>
<p>text-overflow: ellipsis;</p>
<p>overflow: hidden;</p>
<p>word-break: break-all;</p>
<p>-webkit-box-orient: vertical;</p>
<p>-webkit-line-clamp: 3; // å¯æ˜¾ç¤ºè¡Œæ•°</p>
</li>
<li><p>å–æ¶ˆaæ ‡ç­¾åœ¨ç§»åŠ¨ç«¯ç‚¹å‡»æ—¶çš„è“è‰²</p>
<p>-webkit-tap-highlight-color: rgba(255, 255, 255, 0);</p>
<p>-webkit-user-select: none;</p>
<p>-moz-user-focus: none;</p>
<p>-moz-user-select: none;</p>
</li>
<li><p>æŒ‡å®šä½ç½®å‰ªåˆ‡å›¾ç‰‡</p>
<p>img{</p>
<p>position:absolute; </p>
<p>â€‹    clip:rect(0px 500px 150px 0px); </p>
<p>}</p>
</li>
<li><p>é˜»æ­¢æ—‹è½¬å±å¹•æ—¶è‡ªåŠ¨è°ƒæ•´å­—ä½“å¤§å°</p>
<p>ç§»åŠ¨ç«¯å¼€å‘æ—¶ï¼Œå±å¹•æœ‰ç«–å±å’Œæ¨ªå±æ¨¡å¼ï¼Œå½“å±å¹•è¿›è¡Œæ—‹è½¬æ—¶ï¼Œå­—ä½“å¤§å°åˆ™æœ‰å¯èƒ½ä¼šå‘ç”Ÿå˜åŒ–ï¼Œä»è€Œå½±å“é¡µé¢å¸ƒå±€çš„æ•´ä½“æ ·å¼ï¼Œä¸ºé¿å…æ­¤ç±»æƒ…å†µå‘ç”Ÿï¼Œåªéœ€è®¾ç½®å¦‚ä¸‹æ ·å¼å³å¯</p>
<p>{ -webkit-text-size-adjust: none;}</p>
</li>
<li><p>ä¿®æ”¹ç§»åŠ¨ç«¯éš¾çœ‹çš„ç‚¹å‡»çš„é«˜äº®æ•ˆæœï¼ŒiOSå’Œå®‰å“ä¸‹éƒ½æœ‰æ•ˆ</p>
<p> -webkit-tap-highlight-color: rgba(0,0,0,0);</p>
</li>
<li><p>ç¦æ­¢åœ¨inputä¸­è¾“å…¥ä¸­æ–‡</p>
<p>ç”¨æ–‡æœ¬æ¡†çš„CSSå±æ€§ime-modeå®ç°ã€‚ </p>
<input onpaste="return false" ondragenter="return false" style="ime-mode:disabled"> 

<p> æç¤ºï¼šè®¾ç½®ime-modeä¸ºdisabledçš„æ„æ€æ˜¯ç¦æ­¢åœ¨è¾“å…¥æ—¶ç¦æ­¢ç”¨æˆ·æ¿€æ´»è¾“å…¥ä¸­æ–‡ï¼ŒéŸ©æ–‡ï¼Œæ—¥æ–‡ç­‰çš„è¾“å…¥æ³•ï¼ˆIMEï¼‰çŠ¶æ€ï¼Œå› ä¸ºè¿™ä¸ªåªèƒ½æ£€æµ‹åˆ°é”®ç›˜çš„è¾“å…¥ï¼Œå¯¹é€šè¿‡é¼ æ ‡æ“ä½œçš„ç²˜è´´å’Œæ‹–æ”¾æ— æ•ˆã€‚ </p>
</li>
</ul>
</blockquote>
</li>
<li><p>iconå­—ä½“</p>
<blockquote>
<p>1.å¼•å…¥css</p>
<link rel="stylesheet" type="text/css" href="//at.alicdn.com/t/font_918569_2pxb1owlzc1.css">

<p>2.ä½¿ç”¨</p>
<p><span class="iconfont icon-xiaoxi"></span></p>
</blockquote>
</li>
<li><p>ä¸‰è§’</p>
<blockquote>
<p>![01 (1)](css3.assets/01 (1).png)</p>
<p>width: 0;<br>height: 0;<br>border: 50px solid;<br>border-color: red yellow green blue;</p>
<p>![01 (2)](css3.assets/01 (2).png)</p>
<p>width: 0;<br>height: 0;<br>border: 50px solid;<br>border-color: red transparent transparent transparent;</p>
</blockquote>
<p>â€‹</p>
<p>â€‹</p>
</li>
<li><p>å¯¹å‹¾</p>
<blockquote>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"tesy"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">  <span class="selector-class">.tesy</span> &#123;</span></span><br><span class="line">    width: 60px;</span><br><span class="line">    height: 30px;</span><br><span class="line">    display: inline-block;</span><br><span class="line">    position: absolute;</span><br><span class="line">    right: 110px;</span><br><span class="line">    top: 0;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="css">ã€  <span class="selector-class">.tesy</span><span class="selector-pseudo">:before</span> &#123;</span></span><br><span class="line">    position: relative;</span><br><span class="line">    content: '';</span><br><span class="line">    position: absolute;</span><br><span class="line">    width: 6px;</span><br><span class="line">    height: 15px;</span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#1137a0</span>;</span></span><br><span class="line">    border-bottom: 1px solid;</span><br><span class="line">    border-right: 1px solid;</span><br><span class="line">    left: 50%;</span><br><span class="line">    top: 50%;</span><br><span class="line">    -webkit-transform-origin: center;</span><br><span class="line">            transform-origin: center;</span><br><span class="line">    transform: translate(-50%, -30%) rotate(45deg);</span><br><span class="line">    -webkit-transform: translate(-50%, -30%) rotate(45deg);</span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure>
</blockquote>
</li>
<li><p>ä¸‰è§’çªå‡ºæ•ˆæœ</p>
<blockquote>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"rongpi"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"wenan"</span>&gt;</span>è·Ÿå›¢æ¸¸<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"sanjiao"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span> </span><br><span class="line">.rongpi&#123;</span><br><span class="line">			height: 15px;</span><br><span class="line">			overflow: hidden;</span><br><span class="line">			position: absolute;</span><br><span class="line">			top:0;</span><br><span class="line">			left: 0;</span><br><span class="line">		&#125;</span><br><span class="line">		.wenan&#123;</span><br><span class="line">			float: left;</span><br><span class="line">			position: relative;</span><br><span class="line">			z-index: 3;</span><br><span class="line">			height: 15px;</span><br><span class="line">			padding-left: 4px;</span><br><span class="line">			line-height: 16px;</span><br><span class="line">			color:white;</span><br><span class="line">			background: red;</span><br><span class="line">			font-size: 10px;</span><br><span class="line">		&#125;</span><br><span class="line">		.sanjiao&#123;</span><br><span class="line">			width:0;</span><br><span class="line">			height: 0;</span><br><span class="line">			border-right: 20px solid transparent;</span><br><span class="line">			border-top: 30px solid red;</span><br><span class="line">			float: right;</span><br><span class="line">			margin-left: -9px;</span><br><span class="line">		&#125;</span><br></pre></td></tr></table></figure>
</blockquote>
</li>
<li><p>æ¸å˜</p>
<blockquote>
<ul>
<li><p>èƒŒæ™¯é¢œè‰²æ¸å˜è‰²</p>
<p>background:linear-gradient(116deg,rgba(247,209,177,1) 0%,rgba(210,162,122,1) 100%);</p>
<p><a href="https://blog.csdn.net/qq_36538012/article/details/79467097" target="_blank" rel="noopener">https://blog.csdn.net/qq_36538012/article/details/79467097</a></p>
<p><a href="https://blog.csdn.net/qq_16390749/article/details/77718834" target="_blank" rel="noopener">https://blog.csdn.net/qq_16390749/article/details/77718834</a></p>
</li>
<li><p>å­—ä½“é¢œè‰²æ¸å˜è‰²</p>
<p><a href="https://blog.csdn.net/qq_34122603/article/details/78684445" target="_blank" rel="noopener">https://blog.csdn.net/qq_34122603/article/details/78684445</a></p>
</li>
</ul>
</blockquote>
</li>
<li><p>åˆ¤æ–­æœºå‹ï¼ˆé¡µé¢å¤§å°ï¼‰</p>
<blockquote>
<ul>
<li><p>iphoneX</p>
<p>@media only screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) {</p>
<p>â€‹     .BottomProgress {</p>
<p>â€‹        bottom: 34px !important;</p>
<p>â€‹    }</p>
<p>}</p>
</li>
</ul>
</blockquote>
</li>
<li><p>å½©è‰²è¿›åº¦æ¡</p>
<blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">progress: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> self = <span class="keyword">this</span>;</span><br><span class="line">  <span class="keyword">var</span> i = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">var</span> filldiv = $(<span class="string">"#filldiv"</span>);</span><br><span class="line">  <span class="keyword">var</span> percent = $(<span class="string">"#percent"</span>);</span><br><span class="line">  <span class="keyword">var</span> timer = setInterval(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    $(<span class="string">"#filldiv"</span>).css(<span class="string">"width"</span>, i++ + <span class="string">'%'</span>)</span><br><span class="line">    $(<span class="string">"#filldiv"</span>).css(<span class="string">"background"</span>, self.getColor())</span><br><span class="line">    $(<span class="string">"#percent"</span>).innerHTML = <span class="built_in">parseInt</span>(i * <span class="number">100</span> / <span class="number">500</span>);</span><br><span class="line">    <span class="keyword">if</span> (i &gt; <span class="number">100</span>) &#123;</span><br><span class="line">      clearInterval(timer);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;, <span class="number">100</span>)</span><br><span class="line">&#125;,</span><br><span class="line"><span class="comment">////è·å–åå…­è¿›åˆ¶çš„éšæœºé¢œè‰²å€¼</span></span><br><span class="line">getColor: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> self = <span class="keyword">this</span>;</span><br><span class="line">  <span class="keyword">var</span> str = <span class="string">"0123456789abcdef"</span>;</span><br><span class="line">  <span class="keyword">var</span> color = <span class="string">"#"</span>;</span><br><span class="line">  <span class="keyword">var</span> rand;</span><br><span class="line">  <span class="comment">//stræœ‰ä¸‹æ ‡ 0-15</span></span><br><span class="line">  <span class="comment">//è·å–0-15çš„éšæœºæ•°</span></span><br><span class="line">  <span class="comment">//é€šè¿‡è¿™ä¸ªéšæœºæ•°ä½œä¸ºstrçš„ä¸‹æ ‡ï¼Œ</span></span><br><span class="line">  <span class="comment">//è·å–éšæœºå­—ç¬¦</span></span><br><span class="line">  <span class="comment">//è·å–å…­ä¸ªéšæœºå­—ç¬¦æ‹¼æˆä¸€ä¸ªå­—ç¬¦ä¸²</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">6</span>; i++) &#123;</span><br><span class="line">    rand = self.getRand(<span class="number">0</span>, <span class="number">15</span>);</span><br><span class="line">    color += str.charAt(rand);</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> color;</span><br><span class="line"></span><br><span class="line">&#125;,</span><br><span class="line"><span class="comment">//è·å–min-maxä¹‹é—´çš„éšæœºæ•´æ•°</span></span><br><span class="line">getRand: <span class="function"><span class="keyword">function</span> (<span class="params">min, max</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">parseInt</span>(<span class="built_in">Math</span>.random() * (max - min + <span class="number">1</span>) + min);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</blockquote>
</li>
<li><p>æ¡çº¹æ»šåŠ¨è¿›åº¦æ¡</p>
<p><img src="/2020/07/23/css3/Users/admin/AppData/Local/YNote/data/weixinobU7VjrjuSqZnu6-xPbfCXnjhBIM/a9c3115c2406484ea92d78187053848c/1c0ba1a3675e9eeb2b43efe126b06d4.png" alt="img"></p>
<blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">progressBar: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> self = <span class="keyword">this</span>;</span><br><span class="line">  <span class="keyword">var</span> i = <span class="number">0</span>;</span><br><span class="line">  self.progressText = <span class="string">''</span>;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">$</span>(<span class="params">d</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">document</span>.getElementById(d);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">var</span> timer = setInterval(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    $(<span class="string">"progress-container "</span>).style.width = i++ + <span class="string">'%'</span>;</span><br><span class="line">    self.progressText = $(<span class="string">"progress-container "</span>).style.width</span><br><span class="line">    <span class="keyword">if</span> ($(<span class="string">"progress-container "</span>).style.width &gt;= <span class="string">"98%"</span>) &#123;</span><br><span class="line">      clearInterval(timer);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;, <span class="number">100</span>)</span><br><span class="line">&#125;,</span><br><span class="line">html</span><br><span class="line">  &lt; div <span class="class"><span class="keyword">class</span></span>=<span class="string">"progress-container"</span> id = <span class="string">"progress-container "</span> &gt;</span><br><span class="line">    &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"progress-cont"</span>&gt;&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span> &gt;</span><br><span class="line">  æ ·å¼</span><br><span class="line">    .progress - container &#123;</span><br><span class="line">  height: <span class="number">100</span> %;</span><br><span class="line">  width: <span class="number">100</span> %;</span><br><span class="line">  overflow: hidden;</span><br><span class="line">  position: absolute;</span><br><span class="line">&#125;</span><br><span class="line">.progress - cont &#123;</span><br><span class="line">  position: absolute;</span><br><span class="line">  left: <span class="number">-1000</span>px;</span><br><span class="line">  height: <span class="number">100</span> %;</span><br><span class="line">  width: <span class="number">2000</span>px;</span><br><span class="line">  background - image: linear - gradient(90deg, transparent 0rem, transparent 2rem, #FFEBEC 2em, #FFEBEC 4rem, transparent 4rem);</span><br><span class="line">  background - color: #FFF2F2;</span><br><span class="line">  background - size: <span class="number">40</span>px <span class="number">100</span> %;</span><br><span class="line">  background - repeat: repeat - x;</span><br><span class="line">  transform: skewX(<span class="number">-30</span>deg)!important;</span><br><span class="line">&#125;</span><br><span class="line">.progress - cont &#123;</span><br><span class="line">  animation: reverse progress - bar - stripes <span class="number">0.40</span>s linear infinite;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@keyframes progress - bar - stripes &#123;</span><br><span class="line">  <span class="keyword">from</span> &#123;</span><br><span class="line">    background - position: <span class="number">40</span>px <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  to &#123;</span><br><span class="line">    background - position: <span class="number">0</span> <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</blockquote>
</li>
<li><p>CSSé€‰æ‹©å™¨åˆé›†</p>
<blockquote>
<p>\1. div &gt;a</p>
<p>è¿™ä¸ªé€‰æ‹©å™¨å°†ä½¿æˆ‘ä»¬èƒ½å¤Ÿé€‰æ‹©æ‰€æœ‰çˆ¶å…ƒç´ æ˜¯divæ ‡ç­¾çš„å…ƒç´ ã€‚</p>
<!-- This one will be selected --> 

<div>   

<p>â€‹     <a></a></p>
</div>

<!-- This one won't be selected -->

<p>   

<pre><code>&lt;a&gt;&lt;/a&gt;</code></pre></p>

<p>\2. div +a</p>
<p>é€‰æ‹©ç´§æ¥åœ¨divå…ƒç´ ä¹‹åçš„æ¯ä¸ªæ ‡ç­¾ã€‚å¦‚æœæˆ‘ä»¬åœ¨divå’Œaæ ‡ç­¾ä¹‹é—´æœ‰ä¸€ä¸ªå…ƒç´ ï¼Œåˆ™ä¸ä¼šé€‰æ‹©è¯¥å…ƒç´ ã€‚</p>
<main>

<!-- This one will be selected --> 

   <div></div>  

<p>   <a></a></p>
<!-- This one won't be selected -->  

  <div></div> 

   <p></p>  

<p>   <a></a></p>
</main>

<p>\3. div ~a</p>
<p>å¦‚æœaæ ‡ç­¾å…·æœ‰divæ ‡ç­¾ä½œä¸ºåŒçº§å…ƒç´ ï¼Œåˆ™å°†é€‰æ‹©è¯¥æ ‡ç­¾ã€‚</p>
<main>

<!-- This one will be selected -->

<p>â€‹    <div></div> </p>
<p>â€‹    <a></a></p>
<!-- This one will be selected -->

<p>â€‹    <div></div></p>
<p>â€‹    </p><p></p> <p></p>
<p>â€‹    <a></a> </p>
<section>

<!-- This one will be selected -->

<p>â€‹    <div></div> </p>
<p>â€‹    </p><p></p>  <p></p>
<p>â€‹    <a></a>  </p>
 </section>

<footer>

<!-- This one won't be selected -->

<p>â€‹    </p><p></p> <p></p>
<p>â€‹    <a></a>   </p>
 </footer>

</main>

<p>\4. [å±æ€§^=å€¼]</p>
<p>ä¾‹å¦‚ï¼š[class ^ =â€œ list-â€]æ­¤é€‰æ‹©å™¨å°†é€‰æ‹©æ¯ä¸ªåŒ…å«classå±æ€§ä¸”å…¶å€¼ä»¥list-å¼€å¤´çš„å…ƒç´ ã€‚</p>
<main>

<!-- This one will be selected -->

<p>â€‹    <div class="list-element"></div></p>
<!-- This one will be selected -->

<p>â€‹    <div class="list-container"></div></p>
<!-- This one will be selected -->

<p>â€‹    <div class="list-item"></div></p>
<!-- This one won't be selected -->

<p>â€‹    <div class="list__footer"></div></p>
</main>

<p>\5. [å±æ€§$=å€¼]</p>
<p>ä¾‹å¦‚ï¼š[src $ =â€œ.pngâ€]è¿™å°†é€‰æ‹©æ¯ä¸ªå€¼ä»¥.pngç»“å°¾çš„srcå±æ€§ã€‚</p>
<div>

<!-- This one will be selected -->

<p>â€‹    <img src="/2020/07/23/css3/image1.png"></p>
<!-- This one will be not selected -->

<p>â€‹    <img src="/2020/07/23/css3/image2.jpg"></p>
<!-- This one will be selected -->

<p>â€‹    <img src="/2020/07/23/css3/image3.png"></p>
<!-- This one won't be selected -->

<p>â€‹    <img src="/2020/07/23/css3/image4.svg"></p>
</div>

<p>\6. [å±æ€§*=å€¼]</p>
<p>ä¾‹å¦‚ï¼š[class * =â€œ-listâ€]æ­¤é€‰æ‹©å™¨å°†é€‰æ‹©å…¶classå±æ€§åŒ…å«-listçš„æ¯ä¸ªå…ƒç´ ã€‚ ä¸ç®¡-listæ˜¯åœ¨ç±»å€¼çš„å¼€å¤´ï¼Œä¸­é—´è¿˜æ˜¯ç»“å°¾éƒ½æ²¡æœ‰å…³ç³»ã€‚æœ€é‡è¦çš„æ˜¯è¯¥å€¼å¿…é¡»åŒ…å«-listã€‚</p>
<main>

<!-- This one will be selected -->

<p>â€‹    <div class="main-list-container"></div></p>
<!-- This one will be selected -->

<p>â€‹    <div class="primary-list"></div></p>
<!-- This one will be selected -->

<p>â€‹    <div class="primary-list-item"></div></p>
<!-- This one won't be selected -->

<p>â€‹    <div class="list-footer"></div></p>
</main>
</blockquote>
</li>
<li><p>ä½¿ç”¨text-transformè½¬æ¢å­—æ¯ä¸ºå¤§å†™</p>
</li>
</ol>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;div class&#x3D;&quot;movie-poster&quot;&gt;Star Wars: The Force Awakens&lt;&#x2F;div&gt;</span><br><span class="line"></span><br><span class="line">.movie-poster &#123;</span><br><span class="line">	text-transform: uppercase;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<ol start="19">
<li>Em, Remä¸px</li>
</ol>
<p>è®¾ç½®å…ƒç´ ä¸æ–‡æœ¬çš„å¤§å°åº”è¯¥ç”¨å“ªç§å•ä½ï¼Œemï¼Œremï¼Œè¿˜æ˜¯pxï¼Ÿä¸€ç›´ä»¥æ¥éƒ½æœ‰å¾ˆå¤šçš„äº‰è®ºã€‚äº‹å®æ˜¯ï¼Œè¿™ä¸‰ç§é€‰æ‹©éƒ½æ˜¯å¯è¡Œçš„ï¼Œéƒ½æœ‰å…¶åˆ©å¼Šã€‚</p>
<p>åœ¨ä»€ä¹ˆæ—¶å€™åœ¨ä»€ä¹ˆé¡¹ç›®ä½¿ç”¨å“ªç§å•ä½æ˜¯æ²¡æœ‰ä¸€ä¸ªå®šè®ºçš„ï¼Œå¼€å‘äººå‘˜çš„ä¹ æƒ¯ä¸åŒï¼Œé¡¹ç›®çš„è¦æ±‚ä¸åŒï¼Œéƒ½å¯èƒ½ä¼šä½¿ç”¨ä¸åŒçš„å•ä½ã€‚ç„¶è€Œï¼Œè™½ç„¶æ²¡æœ‰å›ºå®šçš„è§„åˆ™ï¼Œä½†æ˜¯æ¯ç§å•ä½è¿˜æ˜¯æœ‰ä¸€äº›è¦æ³¨æ„çš„åœ°æ–¹çš„ï¼š</p>
<ul>
<li>em - è®¾ç½®å…ƒç´ ä¸º1emï¼Œå…¶å¤§å°ä¸çˆ¶å…ƒç´ çš„font-sizeå±æ€§æœ‰å…³ã€‚è¿™ä¸ªå•ä½ç”¨äºåª’ä½“æŸ¥è¯¢ä¸­ï¼Œç‰¹åˆ«é€‚ç”¨äºå“åº”å¼å¼€å‘ï¼Œä½†æ˜¯ç”±äºemå•ä½åœ¨æ¯ä¸€çº§ä¸­éƒ½æ˜¯ç›¸å¯¹äºçˆ¶å…ƒç´ è¿›è¡Œè®¡ç®—çš„ï¼Œæ‰€ä»¥è¦å¾—å‡ºæŸä¸ªå­å…ƒç´ emå•ä½å¯¹åº”çš„pxå€¼ï¼Œæœ‰æ—¶å€™æ˜¯å¾ˆéº»çƒ¦çš„ã€‚</li>
<li>rem - ç›¸å¯¹äº<html>å…ƒç´ çš„font-sizeå¤§å°è®¡ç®—ï¼Œremä½¿å¾—ç»Ÿä¸€æ”¹å˜é¡µé¢ä¸Šçš„æ‰€æœ‰æ ‡é¢˜å’Œæ®µè½æ–‡æœ¬å¤§å°å˜å¾—éå¸¸å®¹æ˜“ã€‚</html></li>
<li>px - åƒç´ å•ä½æ˜¯æœ€ç²¾ç¡®çš„ï¼Œä½†æ˜¯ä¸é€‚ç”¨äºè‡ªé€‚åº”çš„è®¾è®¡ã€‚pxå•ä½æ˜¯å¯é çš„ï¼Œå¹¶ä¸”æ˜“äºç†è§£ï¼Œæˆ‘ä»¬å¯ä»¥ç²¾ç»†çš„æ§åˆ¶å…ƒç´ çš„å¤§å°å’Œç§»åŠ¨åˆ°1pxã€‚</li>
</ul>
<p>æœ€é‡è¦çš„æ˜¯ï¼Œä¸è¦å®³æ€•å°è¯•ï¼Œå°è¯•æ‰€æœ‰æ–¹æ³•ï¼Œçœ‹çœ‹æœ€é€‚åˆä»€ä¹ˆã€‚æœ‰æ—¶å€™ï¼Œemå’Œremå¯ä»¥èŠ‚çœå¾ˆå¤šå·¥ä½œï¼Œå°¤å…¶æ˜¯åœ¨æ„å»ºå“åº”å¼é¡µé¢æ—¶ã€‚</p>
<ol start="20">
<li>CSS åˆ©ç”¨transformè¾¾åˆ°å±…ä¸­æ•ˆæœ</li>
</ol>
<blockquote>
<body>

<pre><code>&lt;div class=&quot;center&quot;&gt;
    ....
&lt;/div&gt;</code></pre></body>

<p>è®©leftå’Œtopéƒ½æ˜¯50%ï¼Œè¿™åœ¨æ°´å¹³æ–¹å‘ä¸Šè®©divçš„æœ€å·¦ä¸å±å¹•çš„æœ€å·¦ç›¸è·50%ï¼Œå‚ç›´æ–¹å‘ä¸Šä¸€æ ·ï¼Œæ‰€ä»¥å†ç”¨transformå‘å·¦ï¼ˆä¸Šï¼‰å¹³ç§»å®ƒè‡ªå·±å®½åº¦ï¼ˆé«˜åº¦ï¼‰çš„50%ï¼Œä¹Ÿå°±è¾¾åˆ°å±…ä¸­æ•ˆæœäº†</p>
<p>.center{<br>    text-align: center;<br>    background-color: #fff;<br>    border-radius: 20px;<br>    width: 300px;<br>    height: 350px;<br>    position: absolute;<br>    left: 50%;<br>    top: 50%;<br>    transform: translate(-50%,-50%);<br>}</p>
</blockquote>
<ol start="21">
<li>ä¸€è¡Œ CSS ä¸ºç½‘é¡µæ·»åŠ æš—é»‘æ¨¡å¼æ”¯æŒ</li>
</ol>
<blockquote>
<p>html[theme=â€™dark-modeâ€™] {<br>  filter: invert(1) hue-rotate(180deg);<br>}</p>
<p>æˆ‘ä»¬è¿˜å°†å‘HTMLå…ƒç´ æ·»åŠ ä¸€ä¸ª <code>transition</code> ï¼Œä»¥ç¡®ä¿è¿‡æ¸¡ä¸ä¼šè¿‡äºèŠ±å“¨!</p>
<p>html {<br>    transition: color 300ms, background-color 300ms;<br>}</p>
<p><code>filter</code> CSS å±æ€§å°†æ¨¡ç³Šæˆ–é¢œè‰²åç§»ç­‰å›¾å½¢æ•ˆæœåº”ç”¨äºå…ƒç´ ã€‚æ»¤é•œé€šå¸¸ç”¨äºè°ƒæ•´å›¾åƒï¼ŒèƒŒæ™¯å’Œè¾¹æ¡†çš„æ¸²æŸ“ã€‚</p>
<p>å¯¹äºæš—é»‘æ¨¡å¼ï¼Œå°†ä½¿ç”¨ä¸¤ä¸ª <code>filter</code> ï¼š<code>invert</code> å’Œ <code>hue-rotate</code></p>
<p><strong>invert</strong>ï¼šåè½¬é…è‰²ã€‚é»‘è‰²å˜ä¸ºç™½è‰²ï¼Œç™½è‰²å˜ä¸ºé»‘è‰²ï¼Œæ‰€æœ‰é¢œè‰²éƒ½æ˜¯å¦‚æ­¤</p>
<p><strong>hue-rotate</strong>ï¼šå¸®åŠ©æˆ‘ä»¬å¤„ç†æ‰€æœ‰å…¶ä»–éé»‘è‰²å’Œç™½è‰²çš„é¢œè‰²ã€‚å°†è‰²ç›¸æ—‹è½¬180åº¦ï¼Œæˆ‘ä»¬ç¡®ä¿åº”ç”¨ç¨‹åºçš„é¢œè‰²ä¸»é¢˜ä¸ä¼šæ”¹å˜ï¼Œè€Œåªæ˜¯å‡å¼±å…¶é¢œè‰²ã€‚</p>
</blockquote>
<ol start="22">
<li>æ–‡å­—ç«–å‘æ’ç‰ˆ</li>
</ol>
<blockquote>
<p>ç¬¬ä¸€ç§</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_jpg/eXCSRjyNYcYU0xWZN4hLpZlic52RVnK5xj4toUBicq3q2hWpX6UGLtxia8cx5mFQ9ndmHCSE6SKCEmiciazONichGfpQ/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"></p>
<style>  
.one {  
    width: 20px;  
    margin: 0 auto;  
    line-height: 24px;  
    font-size: 20px;
}
.two {  
    width: 15px;  
    margin: 0 auto;  
    line-height: 24px;  
    font-size: 20px;  
    word-wrap: break-word;/*è‹±æ–‡çš„æ—¶å€™éœ€è¦åŠ ä¸Šè¿™å¥ï¼Œè‡ªåŠ¨æ¢è¡Œ*/  
}  
</style>  
<body>  
    <div class="one">æˆ‘æ˜¯ç«–åˆ—æ’ç‰ˆ</div>  
    <div class="two">I AM ENGLISH</div>

</body>

<p>ç¬¬äºŒç§</p>
<p><img src="/2020/07/23/css3/image-20200914175703225.png" alt="image-20200914175703225"></p>
<style>  
.one {  
    margin: 0 auto;  
    height: 140px;  
    writing-mode: vertical-lr;/*ä»å·¦å‘å³ ä»å³å‘å·¦æ˜¯ writing-mode: vertical-rl;*/  
    writing-mode: tb-lr;/*IEæµè§ˆå™¨çš„ä»å·¦å‘å³ ä»å³å‘å·¦æ˜¯ writing-mode: tb-rlï¼›*/  
}  
</style>  
<body>  
    <div class="one">æ¬²è¯æ¯—é™µå›åè¢‚ï¼Œæ¬²è¨€å¤å£æˆ‘æ²¾è¡£ã€‚è°çŸ¥ä¸´è€ç›¸é€¢æ—¥ï¼Œæ‚²å¹å£°å¤šè¯­ç¬‘ç¨€ã€‚</div>  
    <div class="one">I AM ENGLISH</div>
</body>

<p>ç¬¬ä¸‰ç§</p>
<p><img src="/2020/07/23/css3/image-20200914175815863.png" alt="image-20200914175815863"></p>
<style>
.one {
    margin: 150px auto;
    width: 200px;
    font-size: 20px; 
    line-height: 24px;
    transform:rotate(90deg);
    -ms-transform:rotate(90deg);     /* IE 9 */
    -moz-transform:rotate(90deg);     /* Firefox */
    -webkit-transform:rotate(90deg); /* Safari å’Œ Chrome */
    -o-transform:rotate(90deg);     /* Opera */
}
</style>
<body>
    <div class="one">æ¬²è¯æ¯—é™µå›åè¢‚</div>
    <div class="one">ENGLISH</div>
</body>
</blockquote>
<ol start="23">
<li>å•ä¾§æŠ•å½±</li>
</ol>
<blockquote>
<p>æœé˜´å½±çš„æ¨¡ç³ŠåŠå¾„ï¼Œä¸è´Ÿçš„æ‰©å¼ åŠå¾„ä¸€è‡´ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°†çœ‹ä¸åˆ°ä»»ä½•é˜´å½±ï¼Œå› ä¸ºç”Ÿæˆçš„é˜´å½±å°†è¢«åŒ…å«åœ¨åŸæ¥çš„å…ƒç´ ä¹‹ä¸‹ï¼Œé™¤éç»™å®ƒè®¾å®šä¸€ä¸ªæ–¹å‘çš„åç§»é‡ã€‚æ‰€ä»¥è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬ç»™å®šä¸€ä¸ªæ–¹å‘çš„åç§»å€¼ï¼Œå³å¯å®ç°å•ä¾§æŠ•å½±ï¼š</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz/eXCSRjyNYcaY1AYPXeaTj5zK4qzBIwWxqaOGCww1luEoUc2ZDpoPtnqXHFWol4pa0dhnfWMCcm5kxMGESvOQKg/640?wx_fmt=other&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"></p>
</blockquote>
<ol start="24">
<li>ä½¿ç”¨è´Ÿ letter-spacing å€’åºæ’åˆ—æ–‡å­—</li>
</ol>
<blockquote>
<p>letter-spacing: -72px;</p>
</blockquote>
<ol start="25">
<li>ç«‹å³æ‰§è¡Œå»¶è¿ŸåŠ¨ç”»</li>
</ol>
<blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;div class&#x3D;&quot;g-container&quot;&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;item&quot;&gt;&lt;&#x2F;div&gt; </span><br><span class="line">    &lt;div class&#x3D;&quot;item&quot;&gt;&lt;&#x2F;div&gt;  </span><br><span class="line">    &lt;div class&#x3D;&quot;item&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line">.item &#123;</span><br><span class="line">  transform: rotate(0) translate(-80px, 0) ;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.item:nth-child(1) &#123;</span><br><span class="line">  animation: rotate 3s infinite linear;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.item:nth-child(2) &#123;</span><br><span class="line">  animation: rotate 3s infinite -1s linear;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.item:nth-child(3) &#123;</span><br><span class="line">  animation: rotate 3s infinite -2s linear;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">@keyframes rotate &#123;</span><br><span class="line">  100% &#123;</span><br><span class="line">      transform: rotate(360deg) translate(-80px, 0) ;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</blockquote>
<ol start="23">
<li>attr()</li>
</ol>
<blockquote>
<p><code>attr</code> å‡½æ•°ç”¨äºè·å–æ‰€é€‰å…ƒç´ çš„å±æ€§å€¼ã€‚å®ƒæ¥å—ä¸‰ä¸ªå‚æ•°ï¼Œ<code>å±æ€§åç§°</code>ï¼Œ<code>ç±»å‹</code>å’Œ<code>é»˜è®¤å€¼</code>ã€‚</p>
<blockquote>
<p>è¯­æ³•: attr( attribute-name? [,]? )</p>
</blockquote>
<p>äº‹ä¾‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;p data-text&#x3D;&quot;the attr function&quot;</span><br><span class="line">  data-tooltip&#x3D;&quot;Hi from attr!&quot; class&#x3D;&quot;attr&quot;&gt;This text is combined with&lt;&#x2F;p&gt;</span><br></pre></td></tr></table></figure>

<p>css</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">p::after &#123;</span><br><span class="line">  content: &#39; &#39; attr(data-text);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">p.attr:hover::after &#123;</span><br><span class="line">  content: &#39; &#39; attr(data-tooltip);</span><br><span class="line">  background-color: orange;</span><br><span class="line">  color: white</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</blockquote>
<ol start="24">
<li>word-wrapå’Œword-break</li>
</ol>
<p>word-wrap:break-word;ï¼ˆæ¢è¡Œåæˆªæ–­ï¼‰</p>
<p><img src="https://images.cnblogs.com/cnblogs_com/2050/201208/201208101725587335.png" alt="01"></p>
<p>word-breakï¼šbreak-allï¼ˆç›´æ¥æˆªæ–­ï¼‰</p>
<p><img src="https://images.cnblogs.com/cnblogs_com/2050/201208/201208101726046184.png" alt="01"></p>
<ol start="25">
<li>classListå¯¹è±¡</li>
</ol>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">document.getElementById(&quot;myDIV&quot;).classList.add(&quot;mystyle&quot;);</span><br><span class="line"></span><br><span class="line">add(class1, class2, ...)	åœ¨å…ƒç´ ä¸­æ·»åŠ ä¸€ä¸ªæˆ–å¤šä¸ªç±»åã€‚</span><br><span class="line">å¦‚æœæŒ‡å®šçš„ç±»åå·²å­˜åœ¨ï¼Œåˆ™ä¸ä¼šæ·»åŠ </span><br><span class="line"></span><br><span class="line">contains(class)	è¿”å›å¸ƒå°”å€¼ï¼Œåˆ¤æ–­æŒ‡å®šçš„ç±»åæ˜¯å¦å­˜åœ¨ã€‚</span><br><span class="line">å¯èƒ½å€¼ï¼š</span><br><span class="line">true - å…ƒç´ åŒ…å·²ç»åŒ…å«äº†è¯¥ç±»å</span><br><span class="line">false - å…ƒç´ ä¸­ä¸å­˜åœ¨è¯¥ç±»å</span><br><span class="line">item(index)	è¿”å›å…ƒç´ ä¸­ç´¢å¼•å€¼å¯¹åº”çš„ç±»åã€‚ç´¢å¼•å€¼ä» 0 å¼€å§‹ã€‚</span><br><span class="line">å¦‚æœç´¢å¼•å€¼åœ¨åŒºé—´èŒƒå›´å¤–åˆ™è¿”å› null</span><br><span class="line"></span><br><span class="line">remove(class1, class2, ...)	ç§»é™¤å…ƒç´ ä¸­ä¸€ä¸ªæˆ–å¤šä¸ªç±»åã€‚</span><br><span class="line">æ³¨æ„ï¼š ç§»é™¤ä¸å­˜åœ¨çš„ç±»åï¼Œä¸ä¼šæŠ¥é”™ã€‚</span><br><span class="line"></span><br><span class="line">toggle(class, true|false)	åœ¨å…ƒç´ ä¸­åˆ‡æ¢ç±»åã€‚</span><br><span class="line">ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºè¦åœ¨å…ƒç´ ä¸­ç§»é™¤çš„ç±»åï¼Œå¹¶è¿”å› falseã€‚</span><br><span class="line">å¦‚æœè¯¥ç±»åä¸å­˜åœ¨åˆ™ä¼šåœ¨å…ƒç´ ä¸­æ·»åŠ ç±»åï¼Œå¹¶è¿”å› trueã€‚</span><br><span class="line"></span><br><span class="line">ç¬¬äºŒä¸ªæ˜¯å¯é€‰å‚æ•°ï¼Œæ˜¯ä¸ªå¸ƒå°”å€¼ç”¨äºè®¾ç½®å…ƒç´ æ˜¯å¦å¼ºåˆ¶æ·»åŠ æˆ–ç§»é™¤ç±»ï¼Œä¸ç®¡è¯¥ç±»åæ˜¯å¦å­˜åœ¨ã€‚ä¾‹å¦‚ï¼š</span><br><span class="line"></span><br><span class="line">ç§»é™¤ä¸€ä¸ª class: element.classList.toggle(&quot;classToRemove&quot;, false);</span><br><span class="line">æ·»åŠ ä¸€ä¸ª class: element.classList.toggle(&quot;classToAdd&quot;, true);</span><br><span class="line"></span><br><span class="line">æ³¨æ„ï¼š Internet Explorer æˆ– Opera 12 åŠå…¶æ›´æ—©ç‰ˆæœ¬ä¸æ”¯æŒç¬¬äºŒä¸ªå‚æ•°ã€‚</span><br></pre></td></tr></table></figure>

<ol start="26">
<li>ç”»ä¸€æ¡0.5pxçš„ç›´çº¿ï¼Ÿ</li>
</ol>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">height: 1px;</span><br><span class="line">transform: scale(0.5);</span><br></pre></td></tr></table></figure>

<p>27.é€‰ä¸­æ¯å‡ ä¸ª</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&amp;:nth-child(5n+5)&#123;</span><br><span class="line">    margin-right: 0;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>



<ol start="24">
<li>8ç§è®©äººçœ¼å‰ä¸€äº®çš„hoveræ•ˆæœ</li>
</ol>
<p><a href="https://mp.weixin.qq.com/s/dNR0ZykPSDEW1z6qH7iCMg" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/dNR0ZykPSDEW1z6qH7iCMg</a></p>
]]></content>
      <categories>
        <category>css</category>
      </categories>
      <tags>
        <tag>css</tag>
      </tags>
  </entry>
  <entry>
    <title>echartså±æ€§è®°å½•</title>
    <url>/2021/01/08/echarts%E5%B1%9E%E6%80%A7%E8%AE%B0%E5%BD%95/</url>
    <content><![CDATA[<p>å‚è€ƒé“¾æ¥</p>
<p><a href="https://www.cnblogs.com/zhangxiaoxia/p/9832201.html" target="_blank" rel="noopener">https://www.cnblogs.com/zhangxiaoxia/p/9832201.html</a></p>
<h3 id="æŸ±çŠ¶å›¾å±æ€§è¯¦è§£"><a href="#æŸ±çŠ¶å›¾å±æ€§è¯¦è§£" class="headerlink" title="æŸ±çŠ¶å›¾å±æ€§è¯¦è§£"></a>æŸ±çŠ¶å›¾å±æ€§è¯¦è§£</h3><a id="more"></a>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;script type&#x3D;&quot;text&#x2F;javascript&quot;&gt;</span><br><span class="line">&#x2F;&#x2F; åŸºäºå‡†å¤‡å¥½çš„domï¼Œåˆå§‹åŒ–echartså®ä¾‹</span><br><span class="line">var myChart &#x3D; echarts.init(document.getElementById(&#39;_top&#39;));</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; æŒ‡å®šå›¾è¡¨çš„é…ç½®é¡¹å’Œæ•°æ®</span><br><span class="line">var option &#x3D; &#123;</span><br><span class="line">    &#x2F;&#x2F;--------------    æ ‡é¢˜ title  ----------------  </span><br><span class="line">    title: &#123;</span><br><span class="line">        text: &#39;ä¸»æ ‡é¢˜&#39;,</span><br><span class="line">        textStyle: &#123;                 &#x2F;&#x2F;---ä¸»æ ‡é¢˜å†…å®¹æ ·å¼   </span><br><span class="line">            color: &#39;#fff&#39;</span><br><span class="line">        &#125;,</span><br><span class="line"></span><br><span class="line">        subtext: &#39;å‰¯æ ‡é¢˜&#39;,          &#x2F;&#x2F;---å‰¯æ ‡é¢˜å†…å®¹æ ·å¼</span><br><span class="line">        subtextStyle: &#123;</span><br><span class="line">            color: &#39;#bbb&#39;</span><br><span class="line">        &#125;,</span><br><span class="line"></span><br><span class="line">        padding: [0, 0, 100, 100]               &#x2F;&#x2F;---æ ‡é¢˜ä½ç½®,å› ä¸ºå›¾å½¢æ˜¯æ˜¯æ”¾åœ¨ä¸€ä¸ªdomä¸­,å› æ­¤ç”¨paddingå±æ€§æ¥å®šä½</span><br><span class="line"></span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;----------------   å›¾ä¾‹ legend  -----------------</span><br><span class="line">    legend: &#123;</span><br><span class="line">        type: &#39;plain&#39;,               &#x2F;&#x2F;----å›¾ä¾‹ç±»å‹ï¼Œé»˜è®¤ä¸º&#39;plain&#39;ï¼Œå½“å›¾ä¾‹å¾ˆå¤šæ—¶å¯ä½¿ç”¨&#39;scroll&#39;</span><br><span class="line">        top: &#39;1%&#39;,                   &#x2F;&#x2F;----å›¾ä¾‹ç›¸å¯¹å®¹å™¨ä½ç½®,top\bottom\left\right           </span><br><span class="line">        selected: &#123;</span><br><span class="line">            &#39;é”€é‡&#39;: true,          &#x2F;&#x2F;----å›¾ä¾‹é€‰æ‹©,å›¾å½¢åŠ è½½å‡ºæ¥ä¼šæ˜¾ç¤ºé€‰æ‹©çš„å›¾ä¾‹ï¼Œé»˜è®¤ä¸ºtrue</span><br><span class="line">        &#125;,</span><br><span class="line">        textStyle: &#123;                 &#x2F;&#x2F;----å›¾ä¾‹å†…å®¹æ ·å¼</span><br><span class="line">            color: &#39;#fff&#39;,               &#x2F;&#x2F;---æ‰€æœ‰å›¾ä¾‹çš„å­—ä½“é¢œè‰²</span><br><span class="line">            &#x2F;&#x2F;backgroundColor:&#39;black&#39;,  &#x2F;&#x2F;---æ‰€æœ‰å›¾ä¾‹çš„å­—ä½“èƒŒæ™¯è‰²</span><br><span class="line">        &#125;,</span><br><span class="line">        tooltip: &#123;                   &#x2F;&#x2F;å›¾ä¾‹æç¤ºæ¡†ï¼Œé»˜è®¤ä¸æ˜¾ç¤º</span><br><span class="line">            show: true,</span><br><span class="line">            color: &#39;red&#39;,</span><br><span class="line">        &#125;,</span><br><span class="line">        data: [                      &#x2F;&#x2F;----å›¾ä¾‹å†…å®¹</span><br><span class="line">            &#123;</span><br><span class="line">                name: &#39;é”€é‡&#39;,</span><br><span class="line">                icon: &#39;circle&#39;,          &#x2F;&#x2F;----å›¾ä¾‹çš„å¤–æ¡†æ ·å¼</span><br><span class="line">                textStyle: &#123;</span><br><span class="line">                    color: &#39;#fff&#39;,       &#x2F;&#x2F;----å•ç‹¬è®¾ç½®æŸä¸€ä¸ªå›¾ä¾‹çš„é¢œè‰²</span><br><span class="line">                    &#x2F;&#x2F;backgroundColor:&#39;black&#39;,&#x2F;&#x2F;---å•ç‹¬è®¾ç½®æŸä¸€ä¸ªå›¾ä¾‹çš„å­—ä½“èƒŒæ™¯è‰²</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        ],</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;--------------   æç¤ºæ¡† -----------------</span><br><span class="line">    tooltip: &#123;</span><br><span class="line">        show: true,                  &#x2F;&#x2F;---æ˜¯å¦æ˜¾ç¤ºæç¤ºæ¡†,é»˜è®¤ä¸ºtrue</span><br><span class="line">        trigger: &#39;item&#39;,             &#x2F;&#x2F;---æ•°æ®é¡¹å›¾å½¢è§¦å‘</span><br><span class="line">        axisPointer: &#123;               &#x2F;&#x2F;---æŒ‡ç¤ºæ ·å¼</span><br><span class="line">            type: &#39;shadow&#39;,</span><br><span class="line">            axis: &#39;auto&#39;,</span><br><span class="line"></span><br><span class="line">        &#125;,</span><br><span class="line">        padding: 5,</span><br><span class="line">        textStyle: &#123;                 &#x2F;&#x2F;---æç¤ºæ¡†å†…å®¹æ ·å¼</span><br><span class="line">            color: &quot;#fff&quot;,</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;-------------  gridåŒºåŸŸ  ----------------</span><br><span class="line">    grid: &#123;</span><br><span class="line">        show: false,                 &#x2F;&#x2F;---æ˜¯å¦æ˜¾ç¤ºç›´è§’åæ ‡ç³»ç½‘æ ¼</span><br><span class="line">        top: 80,                     &#x2F;&#x2F;---ç›¸å¯¹ä½ç½®ï¼Œtop\bottom\left\right </span><br><span class="line">        containLabel: false,         &#x2F;&#x2F;---grid åŒºåŸŸæ˜¯å¦åŒ…å«åæ ‡è½´çš„åˆ»åº¦æ ‡ç­¾</span><br><span class="line">        tooltip: &#123;                   &#x2F;&#x2F;---é¼ æ ‡ç„¦ç‚¹æ”¾åœ¨å›¾å½¢ä¸Šï¼Œäº§ç”Ÿçš„æç¤ºæ¡†</span><br><span class="line">            show: true,</span><br><span class="line">            trigger: &#39;item&#39;,         &#x2F;&#x2F;---è§¦å‘ç±»å‹</span><br><span class="line">            textStyle: &#123;</span><br><span class="line">                color: &#39;#666&#39;,</span><br><span class="line">            &#125;,</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;-------------   xè½´   -------------------</span><br><span class="line">    xAxis: &#123;</span><br><span class="line">        show: true,                  &#x2F;&#x2F;---æ˜¯å¦æ˜¾ç¤º</span><br><span class="line">        position: &#39;bottom&#39;,          &#x2F;&#x2F;---xè½´ä½ç½®</span><br><span class="line">        offset: 0,                   &#x2F;&#x2F;---xè½´ç›¸å¯¹äºé»˜è®¤ä½ç½®çš„åç§»</span><br><span class="line">        type: &#39;category&#39;,            &#x2F;&#x2F;---è½´ç±»å‹ï¼Œé»˜è®¤&#39;category&#39;</span><br><span class="line">        name: &#39;æœˆä»½&#39;,              &#x2F;&#x2F;---è½´åç§°</span><br><span class="line">        nameLocation: &#39;end&#39;,         &#x2F;&#x2F;---è½´åç§°ç›¸å¯¹ä½ç½®</span><br><span class="line">        nameTextStyle: &#123;             &#x2F;&#x2F;---åæ ‡è½´åç§°æ ·å¼</span><br><span class="line">            color: &quot;#fff&quot;,</span><br><span class="line">            padding: [5, 0, 0, -5], &#x2F;&#x2F;---åæ ‡è½´åç§°ç›¸å¯¹ä½ç½®</span><br><span class="line">        &#125;,</span><br><span class="line">        nameGap: 15,                 &#x2F;&#x2F;---åæ ‡è½´åç§°ä¸è½´çº¿ä¹‹é—´çš„è·ç¦»</span><br><span class="line">        &#x2F;&#x2F;nameRotate:270,           &#x2F;&#x2F;---åæ ‡è½´åå­—æ—‹è½¬</span><br><span class="line"></span><br><span class="line">        axisLine: &#123;                  &#x2F;&#x2F;---åæ ‡è½´ è½´çº¿</span><br><span class="line">            show: true,                  &#x2F;&#x2F;---æ˜¯å¦æ˜¾ç¤º</span><br><span class="line"></span><br><span class="line">            &#x2F;&#x2F;------------------- ç®­å¤´ -------------------------</span><br><span class="line">            symbol: [&#39;none&#39;, &#39;arrow&#39;],   &#x2F;&#x2F;---æ˜¯å¦æ˜¾ç¤ºè½´çº¿ç®­å¤´</span><br><span class="line">            symbolSize: [8, 8],         &#x2F;&#x2F;---ç®­å¤´å¤§å°</span><br><span class="line">            symbolOffset: [0, 7],         &#x2F;&#x2F;---ç®­å¤´ä½ç½®</span><br><span class="line"></span><br><span class="line">            &#x2F;&#x2F;------------------- çº¿ -------------------------</span><br><span class="line">            lineStyle: &#123;</span><br><span class="line">                color: &#39;#fff&#39;,</span><br><span class="line">                width: 1,</span><br><span class="line">                type: &#39;solid&#39;,</span><br><span class="line">            &#125;,</span><br><span class="line">        &#125;,</span><br><span class="line">        axisTick: &#123;                  &#x2F;&#x2F;---åæ ‡è½´ åˆ»åº¦</span><br><span class="line">            show: true,                  &#x2F;&#x2F;---æ˜¯å¦æ˜¾ç¤º</span><br><span class="line">            inside: true,                &#x2F;&#x2F;---æ˜¯å¦æœå†…</span><br><span class="line">            lengt: 3,                    &#x2F;&#x2F;---é•¿åº¦</span><br><span class="line">            lineStyle: &#123;</span><br><span class="line">                &#x2F;&#x2F;color:&#39;red&#39;,          &#x2F;&#x2F;---é»˜è®¤å–è½´çº¿çš„é¢œè‰²</span><br><span class="line">                width: 1,</span><br><span class="line">                type: &#39;solid&#39;,</span><br><span class="line">            &#125;,</span><br><span class="line">        &#125;,</span><br><span class="line">        axisLabel: &#123;                 &#x2F;&#x2F;---åæ ‡è½´ æ ‡ç­¾</span><br><span class="line">            show: true,                  &#x2F;&#x2F;---æ˜¯å¦æ˜¾ç¤º</span><br><span class="line">            inside: false,               &#x2F;&#x2F;---æ˜¯å¦æœå†…</span><br><span class="line">            rotate: 0,                   &#x2F;&#x2F;---æ—‹è½¬è§’åº¦  </span><br><span class="line">            margin: 5,                  &#x2F;&#x2F;---åˆ»åº¦æ ‡ç­¾ä¸è½´çº¿ä¹‹é—´çš„è·ç¦»</span><br><span class="line">            &#x2F;&#x2F;color:&#39;red&#39;,              &#x2F;&#x2F;---é»˜è®¤å–è½´çº¿çš„é¢œè‰²</span><br><span class="line">        &#125;,</span><br><span class="line">        splitLine: &#123;                 &#x2F;&#x2F;---grid åŒºåŸŸä¸­çš„åˆ†éš”çº¿</span><br><span class="line">            show: false,                 &#x2F;&#x2F;---æ˜¯å¦æ˜¾ç¤ºï¼Œ&#39;category&#39;ç±»ç›®è½´ä¸æ˜¾ç¤ºï¼Œæ­¤æ—¶æˆ‘çš„Xè½´ä¸ºç±»ç›®è½´ï¼ŒsplitLineå±æ€§æ˜¯æ— æ„ä¹‰çš„</span><br><span class="line">            lineStyle: &#123;</span><br><span class="line">                &#x2F;&#x2F;color:&#39;red&#39;,</span><br><span class="line">                &#x2F;&#x2F;width:1,</span><br><span class="line">                &#x2F;&#x2F;type:&#39;solid&#39;,</span><br><span class="line">            &#125;,</span><br><span class="line">        &#125;,</span><br><span class="line">        splitArea: &#123;                 &#x2F;&#x2F;--ç½‘æ ¼åŒºåŸŸ</span><br><span class="line">            show: false,                 &#x2F;&#x2F;---æ˜¯å¦æ˜¾ç¤ºï¼Œé»˜è®¤false</span><br><span class="line">        &#125;,</span><br><span class="line">        data: [&quot;1æœˆ&quot;, &quot;2æœˆ&quot;, &quot;3æœˆ&quot;, &quot;4æœˆ&quot;, &quot;5æœˆ&quot;, &quot;6æœˆ&quot;, &quot;7æœˆ&quot;, &quot;8æœˆ&quot;, &quot;9æœˆ&quot;, &quot;10æœˆ&quot;, &quot;11æœˆ&quot;, &quot;12æœˆ&quot;],&#x2F;&#x2F;å†…å®¹</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;----------------------  yè½´  ------------------------</span><br><span class="line">    yAxis: &#123;</span><br><span class="line">        show: true,                  &#x2F;&#x2F;---æ˜¯å¦æ˜¾ç¤º</span><br><span class="line">        position: &#39;left&#39;,            &#x2F;&#x2F;---yè½´ä½ç½®</span><br><span class="line">        offset: 0,                   &#x2F;&#x2F;---yè½´ç›¸å¯¹äºé»˜è®¤ä½ç½®çš„åç§»</span><br><span class="line">        type: &#39;value&#39;,           &#x2F;&#x2F;---è½´ç±»å‹ï¼Œé»˜è®¤&#39;category&#39;</span><br><span class="line">        name: &#39;é”€é‡&#39;,              &#x2F;&#x2F;---è½´åç§°</span><br><span class="line">        nameLocation: &#39;end&#39;,         &#x2F;&#x2F;---è½´åç§°ç›¸å¯¹ä½ç½®value</span><br><span class="line">        nameTextStyle: &#123;             &#x2F;&#x2F;---åæ ‡è½´åç§°æ ·å¼</span><br><span class="line">            color: &quot;#fff&quot;,</span><br><span class="line">            padding: [5, 0, 0, 5],  &#x2F;&#x2F;---åæ ‡è½´åç§°ç›¸å¯¹ä½ç½®</span><br><span class="line">        &#125;,</span><br><span class="line">        nameGap: 15,                 &#x2F;&#x2F;---åæ ‡è½´åç§°ä¸è½´çº¿ä¹‹é—´çš„è·ç¦»</span><br><span class="line">        &#x2F;&#x2F;nameRotate:270,           &#x2F;&#x2F;---åæ ‡è½´åå­—æ—‹è½¬</span><br><span class="line"></span><br><span class="line">        axisLine: &#123;                  &#x2F;&#x2F;---åæ ‡è½´ è½´çº¿</span><br><span class="line">            show: true,                  &#x2F;&#x2F;---æ˜¯å¦æ˜¾ç¤º</span><br><span class="line"></span><br><span class="line">            &#x2F;&#x2F;------------------- ç®­å¤´ -------------------------</span><br><span class="line">            symbol: [&#39;none&#39;, &#39;arrow&#39;],   &#x2F;&#x2F;---æ˜¯å¦æ˜¾ç¤ºè½´çº¿ç®­å¤´</span><br><span class="line">            symbolSize: [8, 8],         &#x2F;&#x2F;---ç®­å¤´å¤§å°</span><br><span class="line">            symbolOffset: [0, 7],         &#x2F;&#x2F;---ç®­å¤´ä½ç½®</span><br><span class="line"></span><br><span class="line">            &#x2F;&#x2F;------------------- çº¿ -------------------------</span><br><span class="line">            lineStyle: &#123;</span><br><span class="line">                color: &#39;#fff&#39;,</span><br><span class="line">                width: 1,</span><br><span class="line">                type: &#39;solid&#39;,</span><br><span class="line">            &#125;,</span><br><span class="line">        &#125;,</span><br><span class="line">        axisTick: &#123;                  &#x2F;&#x2F;---åæ ‡è½´ åˆ»åº¦</span><br><span class="line">            show: true,                  &#x2F;&#x2F;---æ˜¯å¦æ˜¾ç¤º</span><br><span class="line">            inside: true,                &#x2F;&#x2F;---æ˜¯å¦æœå†…</span><br><span class="line">            lengt: 3,                    &#x2F;&#x2F;---é•¿åº¦</span><br><span class="line">            lineStyle: &#123;</span><br><span class="line">                &#x2F;&#x2F;color:&#39;red&#39;,          &#x2F;&#x2F;---é»˜è®¤å–è½´çº¿çš„é¢œè‰²</span><br><span class="line">                width: 1,</span><br><span class="line">                type: &#39;solid&#39;,</span><br><span class="line">            &#125;,</span><br><span class="line">        &#125;,</span><br><span class="line">        axisLabel: &#123;                 &#x2F;&#x2F;---åæ ‡è½´ æ ‡ç­¾</span><br><span class="line">            show: true,                  &#x2F;&#x2F;---æ˜¯å¦æ˜¾ç¤º</span><br><span class="line">            inside: false,               &#x2F;&#x2F;---æ˜¯å¦æœå†…</span><br><span class="line">            rotate: 0,                   &#x2F;&#x2F;---æ—‹è½¬è§’åº¦  </span><br><span class="line">            margin: 8,                  &#x2F;&#x2F;---åˆ»åº¦æ ‡ç­¾ä¸è½´çº¿ä¹‹é—´çš„è·ç¦»</span><br><span class="line">            &#x2F;&#x2F;color:&#39;red&#39;,              &#x2F;&#x2F;---é»˜è®¤å–è½´çº¿çš„é¢œè‰²</span><br><span class="line">        &#125;,</span><br><span class="line">        splitLine: &#123;                 &#x2F;&#x2F;---grid åŒºåŸŸä¸­çš„åˆ†éš”çº¿</span><br><span class="line">            show: true,                  &#x2F;&#x2F;---æ˜¯å¦æ˜¾ç¤ºï¼Œ&#39;category&#39;ç±»ç›®è½´ä¸æ˜¾ç¤ºï¼Œæ­¤æ—¶æˆ‘çš„yè½´ä¸ºç±»ç›®è½´ï¼ŒsplitLineå±æ€§æ˜¯æœ‰æ„ä¹‰çš„</span><br><span class="line">            lineStyle: &#123;</span><br><span class="line">                color: &#39;#666&#39;,</span><br><span class="line">                width: 1,</span><br><span class="line">                type: &#39;dashed&#39;,          &#x2F;&#x2F;---ç±»å‹</span><br><span class="line">            &#125;,</span><br><span class="line">        &#125;,</span><br><span class="line">        splitArea: &#123;                 &#x2F;&#x2F;--ç½‘æ ¼åŒºåŸŸ</span><br><span class="line">            show: false,                 &#x2F;&#x2F;---æ˜¯å¦æ˜¾ç¤ºï¼Œé»˜è®¤false</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;------------ å†…å®¹æ•°æ®  -----------------</span><br><span class="line">    series: [</span><br><span class="line">        &#123;</span><br><span class="line">            name: &#39;é”€é‡&#39;,             &#x2F;&#x2F;---ç³»åˆ—åç§°</span><br><span class="line">            type: &#39;bar&#39;,                &#x2F;&#x2F;---ç±»å‹</span><br><span class="line">            legendHoverLink: true,       &#x2F;&#x2F;---æ˜¯å¦å¯ç”¨å›¾ä¾‹ hover æ—¶çš„è”åŠ¨é«˜äº®</span><br><span class="line">            label: &#123;                     &#x2F;&#x2F;---å›¾å½¢ä¸Šçš„æ–‡æœ¬æ ‡ç­¾</span><br><span class="line">                show: false,</span><br><span class="line">                position: &#39;insideTop&#39;,   &#x2F;&#x2F;---ç›¸å¯¹ä½ç½®</span><br><span class="line">                rotate: 0,               &#x2F;&#x2F;---æ—‹è½¬è§’åº¦</span><br><span class="line">                color: &#39;#eee&#39;,</span><br><span class="line">            &#125;,</span><br><span class="line">            itemStyle: &#123;                 &#x2F;&#x2F;---å›¾å½¢å½¢çŠ¶</span><br><span class="line">                color: &#39;blue&#39;,</span><br><span class="line">                barBorderRadius: [18, 18, 0, 0],</span><br><span class="line">            &#125;,</span><br><span class="line">            barWidth: &#39;20&#39;,              &#x2F;&#x2F;---æŸ±å½¢å®½åº¦</span><br><span class="line">            barCategoryGap: &#39;20%&#39;,       &#x2F;&#x2F;---æŸ±å½¢é—´è·</span><br><span class="line">            data: [3020, 4800, 3600, 6050, 4320, 6200, 5050, 7200, 4521, 6700, 8000, 5020]</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; ä½¿ç”¨åˆšæŒ‡å®šçš„é…ç½®é¡¹å’Œæ•°æ®æ˜¾ç¤ºå›¾è¡¨ã€‚</span><br><span class="line">myChart.setOption(option);</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>echarts</category>
      </categories>
      <tags>
        <tag>echarts</tag>
      </tags>
  </entry>
  <entry>
    <title>echartsé¡¹ç›®å®æˆ˜è®°å½•</title>
    <url>/2020/11/09/echarts%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98%E8%AE%B0%E5%BD%95/</url>
    <content><![CDATA[<h3 id="æŸ±çŠ¶å›¾"><a href="#æŸ±çŠ¶å›¾" class="headerlink" title="æŸ±çŠ¶å›¾"></a>æŸ±çŠ¶å›¾</h3><h4 id="åˆå§‹åŒ–åœ†è§’"><a href="#åˆå§‹åŒ–åœ†è§’" class="headerlink" title="åˆå§‹åŒ–åœ†è§’"></a>åˆå§‹åŒ–åœ†è§’</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">seriesÂ :Â [</span><br><span class="line">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#123;</span><br><span class="line">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â name:&#39;è’¸å‘é‡&#39;,</span><br><span class="line">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â type:&#39;bar&#39;,</span><br><span class="line">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â data:[2.0,Â 4.9,Â 7.0,Â 23.2,Â 25.6,Â 76.7,Â 135.6,Â 162.2,Â 32.6,Â 20.0,Â 6.4,Â 3.3]</span><br><span class="line">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#125;,</span><br><span class="line">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#123;</span><br><span class="line">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â name:&#39;é™æ°´é‡&#39;,</span><br><span class="line">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â type:&#39;bar&#39;,</span><br><span class="line">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â data:[2.6,Â 5.9,Â 9.0,Â 26.4,Â 28.7,Â 70.7,Â 175.6,Â 182.2,Â 48.7,Â 18.8,Â 6.0,Â 2.3],</span><br><span class="line">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#x2F;&#x2F;é¡¶éƒ¨æ•°å­—å±•ç¤ºpzr</span><br><span class="line">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â barWidth: 14,</span><br><span class="line">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â itemStyle:Â &#123;</span><br><span class="line">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#x2F;&#x2F;æŸ±å½¢å›¾åœ†è§’ï¼Œé¼ æ ‡ç§»ä¸Šå»æ•ˆæœ</span><br><span class="line">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â emphasis:Â &#123;</span><br><span class="line">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â barBorderRadius:Â [10,Â 10,Â 10,Â 10]&#x2F;&#x2F;barBorderRadius:11</span><br><span class="line">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#125;,</span><br><span class="line">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â </span><br><span class="line">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â normal:Â &#123;</span><br><span class="line">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#x2F;&#x2F;æŸ±å½¢å›¾åœ†è§’ï¼Œåˆå§‹åŒ–æ•ˆæœ</span><br><span class="line">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â barBorderRadius:[10,Â 10,Â 10,Â 10] &#x2F;&#x2F;barBorderRadius:11</span><br><span class="line">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#125;</span><br><span class="line">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#125;,</span><br><span class="line">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#125;</span><br><span class="line">Â Â Â Â Â Â Â Â Â Â Â Â ]</span><br></pre></td></tr></table></figure>

<a id="more"></a>

<h4 id="è®¾ç½®æ¸å˜"><a href="#è®¾ç½®æ¸å˜" class="headerlink" title="è®¾ç½®æ¸å˜"></a>è®¾ç½®æ¸å˜</h4><p>è®¾ç½®itemStyleçš„colorä¸ºnew echarts.graphic.LinearGradient()çº¿æ€§æ¸å˜å³å¯. è¿™ä¸ªAPIåœ¨å®˜æ–¹æ–‡æ¡£é‡Œé¢éƒ½æ²¡æ‰¾åˆ°, ç»è¿‡æµ‹è¯•å‰å››ä¸ªå‚æ•°è®¾ç½®ä¸º0, 0, 1, 0å¯ä»¥ä»å·¦åˆ°å³æ¸å˜. è®¾ç½®ä¸º0,0,0,1å¯ä»¥ä»ä¸Šåˆ°ä¸‹æ¸å˜. ç¬¬5ä¸ªå‚æ•°æ•°ç»„è¡¨ç¤ºå¼€å§‹çš„é¢œè‰²å’Œç»“æŸçš„é¢œè‰².</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">itemStyle: &#123;</span><br><span class="line">                    emphasis: &#123;</span><br><span class="line">                        barBorderRadius: 7</span><br><span class="line">                    &#125;,</span><br><span class="line">                    normal: &#123;</span><br><span class="line">                        barBorderRadius: 7,</span><br><span class="line">                        color: new echarts.graphic.LinearGradient(</span><br><span class="line">                            0, 0, 1, 0,</span><br><span class="line">                            [</span><br><span class="line">                                &#123;offset: 0, color: &#39;#3977E6&#39;&#125;,</span><br><span class="line">                                &#123;offset: 1, color: &#39;#37BBF8&#39;&#125;</span><br><span class="line"> </span><br><span class="line">                            ]</span><br><span class="line">                        )</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                </span><br><span class="line">                </span><br><span class="line">æˆ–è€…</span><br><span class="line">itemStyle: &#123;</span><br><span class="line">                            normal: &#123;</span><br><span class="line">                                &#x2F;&#x2F;æŸ±ä½“çš„é¢œè‰²</span><br><span class="line">                                color: function (params) &#123;</span><br><span class="line">                                    var colorList &#x3D; [</span><br><span class="line">                                        [&#39;#FFB54D&#39;, &#39;#E6D417&#39;],</span><br><span class="line">                                        [&#39;#FFB54D&#39;, &#39;#E6D417&#39;],</span><br><span class="line">                                        [&#39;#FFB54D&#39;, &#39;#E6D417&#39;],</span><br><span class="line">                                        [&#39;#FFB54D&#39;, &#39;#E6D417&#39;],</span><br><span class="line">                                        [&#39;#FFB54D&#39;, &#39;#E6D417&#39;],</span><br><span class="line">                                        [&#39;#FFB54D&#39;, &#39;#E6D417&#39;],</span><br><span class="line">                                        </span><br><span class="line">                                    ];</span><br><span class="line">                                    var colorItem &#x3D; colorList[params.dataIndex];</span><br><span class="line">                                    return new echarts.graphic.LinearGradient(0, 0, 1, 0, [</span><br><span class="line">                                        &#123;</span><br><span class="line">                                            offset: 0,</span><br><span class="line">                                            color: colorItem[0]</span><br><span class="line">                                        &#125;,</span><br><span class="line">                                        &#123;</span><br><span class="line">                                            offset: 1,</span><br><span class="line">                                            color: colorItem[1]</span><br><span class="line">                                        &#125;</span><br><span class="line">                                    ], false);</span><br><span class="line">                                &#125;</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;,</span><br></pre></td></tr></table></figure>



<h4 id="è®¾ç½®ç½‘æ ¼çº¿"><a href="#è®¾ç½®ç½‘æ ¼çº¿" class="headerlink" title="è®¾ç½®ç½‘æ ¼çº¿"></a>è®¾ç½®ç½‘æ ¼çº¿</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">è®¾ç½®ç½‘æ ¼çº¿é¢œè‰²</span><br><span class="line">xAxis: &#123;</span><br><span class="line">    type: â€˜valueâ€™,</span><br><span class="line">    &#x2F;&#x2F;è®¾ç½®ç½‘æ ¼çº¿é¢œè‰²</span><br><span class="line">    splitLine: &#123;</span><br><span class="line">        show: true,</span><br><span class="line">        lineStyle:&#123;</span><br><span class="line">        color: [â€™#315070â€™],</span><br><span class="line">		opacity:0.5,</span><br><span class="line">        width: 1,</span><br><span class="line">        type: â€˜solidâ€™</span><br><span class="line">        &#125;</span><br><span class="line">ã€€ã€€&#125;</span><br><span class="line">&#125;</span><br><span class="line">éšè—ç½‘æ ¼çº¿</span><br><span class="line">xAxis: &#123;</span><br><span class="line">    type: â€˜valueâ€™,</span><br><span class="line">    &#x2F;&#x2F;éšè—ç½‘æ ¼çº¿</span><br><span class="line">    splitLine:&#123;show: false&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="æ–‡å­—é‡å å¯æ¢è¡Œ"><a href="#æ–‡å­—é‡å å¯æ¢è¡Œ" class="headerlink" title="æ–‡å­—é‡å å¯æ¢è¡Œ"></a>æ–‡å­—é‡å å¯æ¢è¡Œ</h3><p><a href="https://blog.csdn.net/Misnice/article/details/108493844?utm_medium=distribute.pc_aggpage_search_result.none-task-blog-2~all~first_rank_v2~rank_v28-6-108493844.nonecase&amp;utm_term=echarts%E9%A5%BC%E5%9B%BE%E6%98%BE%E7%A4%BA%E4%B8%80%E5%8D%8A&amp;spm=1000.2123.3001.4430" target="_blank" rel="noopener">https://blog.csdn.net/Misnice/article/details/108493844?utm_medium=distribute.pc_aggpage_search_result.none-task-blog-2~all~first_rank_v2~rank_v28-6-108493844.nonecase&amp;utm_term=echarts%E9%A5%BC%E5%9B%BE%E6%98%BE%E7%A4%BA%E4%B8%80%E5%8D%8A&amp;spm=1000.2123.3001.4430</a></p>
<h3 id="å›¾è¡¨æ˜¾ç¤ºä¸å…¨ï¼Œç¼©åˆ°ä¸€èµ·"><a href="#å›¾è¡¨æ˜¾ç¤ºä¸å…¨ï¼Œç¼©åˆ°ä¸€èµ·" class="headerlink" title="å›¾è¡¨æ˜¾ç¤ºä¸å…¨ï¼Œç¼©åˆ°ä¸€èµ·"></a>å›¾è¡¨æ˜¾ç¤ºä¸å…¨ï¼Œç¼©åˆ°ä¸€èµ·</h3><p>éœ€è¦å¼ºè¡Œè®¾ç½®å®½é«˜px</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;div id&#x3D;&quot;chartContainer&quot; style&#x3D;&quot;height:450px;width:1030px;&quot;&gt;&lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure>



<h3 id="lengendè¯»å–å€¼å’Œæ”¹å˜ä½ç½®"><a href="#lengendè¯»å–å€¼å’Œæ”¹å˜ä½ç½®" class="headerlink" title="lengendè¯»å–å€¼å’Œæ”¹å˜ä½ç½®"></a>lengendè¯»å–å€¼å’Œæ”¹å˜ä½ç½®</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">legend: &#123;</span><br><span class="line">                    formatter: function (name) &#123;</span><br><span class="line">                        var index &#x3D; 0;</span><br><span class="line">                            debugger</span><br><span class="line">                        that.pressData.normalData.forEach(function (value, i) &#123;</span><br><span class="line">                            if (value.name &#x3D;&#x3D; name) &#123;</span><br><span class="line">                                index &#x3D; i;</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;);</span><br><span class="line">                        return name + &quot;  &quot; + that.pressData.normalData[index].num;</span><br><span class="line">                        &#x2F;&#x2F; æ­£å¸¸ 11</span><br><span class="line">                    &#125;,</span><br><span class="line">                    orient: &#39;vertical&#39;,&#x2F;&#x2F;åˆ†è¡Œåˆ†å¸ƒ</span><br><span class="line">                    &#x2F;&#x2F; bottom:-10,</span><br><span class="line">                    textStyle: &#123;</span><br><span class="line">                        color: &#39;#ffffff&#39;,</span><br><span class="line">                    &#125;,</span><br><span class="line">                    icon: &#39;circle&#39;,&#x2F;&#x2F;æ”¹å˜iconçš„å½¢çŠ¶ï¼ˆåœ†å½¢æ–¹å½¢ç­‰ï¼‰</span><br><span class="line">                    data: [&#39;æ­£å¸¸&#39;, &#39;å¼‚å¸¸&#39;]</span><br><span class="line"></span><br><span class="line">&#125;,</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;åŒºåˆ†å¤šä¸ªlengendçš„æ ·å¼å’Œé¢œè‰²</span><br><span class="line">color:[&quot;blue&quot;,&quot;red&quot;]</span><br><span class="line">legend: [</span><br><span class="line">                    &#123;</span><br><span class="line">                        right: &quot;20%&quot;,</span><br><span class="line">                        textStyle: &#123;</span><br><span class="line">                            color: &#39;#ffffff&#39;,</span><br><span class="line">                        &#125;,</span><br><span class="line">                        data: [seriesNameOne]</span><br><span class="line">                    &#125;,</span><br><span class="line">                    &#123;</span><br><span class="line">                        left: &quot;right&quot;,</span><br><span class="line">                        textStyle: &#123;</span><br><span class="line">                            color: &#39;#ffffff&#39;,</span><br><span class="line">                        &#125;,</span><br><span class="line">                        data: [seriesNameTwo]</span><br><span class="line">					&#125;</span><br><span class="line">],</span><br></pre></td></tr></table></figure>



<h3 id="è®¾ç½®æœ€å°åˆ»åº¦å•ä½"><a href="#è®¾ç½®æœ€å°åˆ»åº¦å•ä½" class="headerlink" title="è®¾ç½®æœ€å°åˆ»åº¦å•ä½"></a>è®¾ç½®æœ€å°åˆ»åº¦å•ä½</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">xAxis: &#123;</span><br><span class="line">                    type: &#39;value&#39;,</span><br><span class="line">                    position: &#39;bottom&#39;,</span><br><span class="line">                    &#x2F;&#x2F;xè½´åæ ‡ç‚¹å¼€å§‹ä¸ç»“æŸç‚¹ä½ç½®éƒ½ä¸åœ¨æœ€è¾¹ç¼˜</span><br><span class="line">                    boundaryGap: true,</span><br><span class="line">                    &#x2F;&#x2F;æœ€å°åˆ»åº¦å•ä½</span><br><span class="line">                    minInterval: 1,</span><br><span class="line">                    &#x2F;&#x2F;æŸ±å®½</span><br><span class="line">                    barWidth:20,</span><br><span class="line">                    &#x2F;&#x2F;æŸ±é—´è·</span><br><span class="line">                    barCategoryGap:&#39;60%&#39;,</span><br><span class="line">                    &#x2F;&#x2F;åˆ»åº¦é—´è·</span><br><span class="line">                    splitNumber : 5,</span><br><span class="line">                    &#x2F;&#x2F;æœ€å°åˆ»åº¦</span><br><span class="line">                    min:0,</span><br><span class="line">                    &#x2F;&#x2F;æœ€å¤§é—´è·</span><br><span class="line">                    max:100</span><br><span class="line">                &#125;,</span><br></pre></td></tr></table></figure>



<h3 id="echartsåœ†é¥¼å›¾è®¾ç½®é»˜è®¤é€‰ä¸­é¡¹å¹¶åœ¨ä¸­é—´æ˜¾ç¤ºæ–‡å­—"><a href="#echartsåœ†é¥¼å›¾è®¾ç½®é»˜è®¤é€‰ä¸­é¡¹å¹¶åœ¨ä¸­é—´æ˜¾ç¤ºæ–‡å­—" class="headerlink" title="echartsåœ†é¥¼å›¾è®¾ç½®é»˜è®¤é€‰ä¸­é¡¹å¹¶åœ¨ä¸­é—´æ˜¾ç¤ºæ–‡å­—"></a>echartsåœ†é¥¼å›¾è®¾ç½®é»˜è®¤é€‰ä¸­é¡¹å¹¶åœ¨ä¸­é—´æ˜¾ç¤ºæ–‡å­—</h3><p><a href="https://www.cnblogs.com/javascripter/p/11549666.html" target="_blank" rel="noopener">https://www.cnblogs.com/javascripter/p/11549666.html</a></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">myChart.setOption(option);</span><br><span class="line">    &#x2F;&#x2F;è®¾ç½®é»˜è®¤é€‰ä¸­é«˜äº®éƒ¨åˆ†</span><br><span class="line">    myChart.dispatchAction(&#123;type: &#39;highlight&#39;,seriesIndex: 0,dataIndex: 0&#125;);</span><br><span class="line">    &#x2F;&#x2F; å½“é¼ æ ‡ç§»å…¥æ—¶ï¼Œå¦‚æœä¸æ˜¯ç¬¬ä¸€é¡¹ï¼Œåˆ™æŠŠå½“å‰é¡¹ç½®ä¸ºé€‰ä¸­ï¼Œå¦‚æœæ˜¯ç¬¬ä¸€é¡¹ï¼Œåˆ™è®¾ç½®ç¬¬ä¸€é¡¹ä¸ºå½“å‰é¡¹</span><br><span class="line">    myChart.on(&#39;mouseover&#39;,function(e)&#123;</span><br><span class="line">      myChart.dispatchAction(&#123;type: &#39;downplay&#39;,seriesIndex: 0,dataIndex:0&#125;); </span><br><span class="line">      if(e.dataIndex !&#x3D; index)&#123;            </span><br><span class="line">        myChart.dispatchAction(&#123;type: &#39;downplay&#39;, seriesIndex: 0, dataIndex: index  &#125;);     </span><br><span class="line">      &#125;</span><br><span class="line">      if(e.dataIndex &#x3D;&#x3D; 0)&#123;</span><br><span class="line">        myChart.dispatchAction(&#123;type: &#39;highlight&#39;,seriesIndex: 0,dataIndex:e.dataIndex&#125;);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;å½“é¼ æ ‡ç¦»å¼€æ—¶ï¼ŒæŠŠå½“å‰é¡¹ç½®ä¸ºé€‰ä¸­ </span><br><span class="line">    myChart.on(&#39;mouseout&#39;,function(e)&#123;</span><br><span class="line">        index &#x3D; e.dataIndex;</span><br><span class="line">        myChart.dispatchAction(&#123;type: &#39;highlight&#39;,seriesIndex: 0,dataIndex: e.dataIndex&#125;);    </span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>echarts</category>
      </categories>
      <tags>
        <tag>echarts</tag>
      </tags>
  </entry>
  <entry>
    <title>&#39;element-ui&#39;</title>
    <url>/2020/11/02/element-ui/</url>
    <content><![CDATA[<h3 id="vueå¼•å…¥"><a href="#vueå¼•å…¥" class="headerlink" title="vueå¼•å…¥"></a>vueå¼•å…¥</h3><h4 id="å…¨å±€å¼•å…¥"><a href="#å…¨å±€å¼•å…¥" class="headerlink" title="å…¨å±€å¼•å…¥"></a>å…¨å±€å¼•å…¥</h4><p>npm i element-ui -S</p>
<p>åœ¨ main.js ä¸­å†™å…¥ä»¥ä¸‹å†…å®¹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span>;</span><br><span class="line"><span class="keyword">import</span> ElementUI <span class="keyword">from</span> <span class="string">'element-ui'</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">'element-ui/lib/theme-chalk/index.css'</span>;</span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">'./App.vue'</span>;</span><br><span class="line"></span><br><span class="line">Vue.use(ElementUI);</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  el: <span class="string">'#app'</span>,</span><br><span class="line">  render: <span class="function"><span class="params">h</span> =&gt;</span> h(App)</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>ä»¥ä¸Šä»£ç ä¾¿å®Œæˆäº† Element çš„å¼•å…¥ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ ·å¼æ–‡ä»¶éœ€è¦å•ç‹¬å¼•å…¥ã€‚</p>
<h4 id="æŒ‰éœ€å¼•å…¥"><a href="#æŒ‰éœ€å¼•å…¥" class="headerlink" title="æŒ‰éœ€å¼•å…¥"></a>æŒ‰éœ€å¼•å…¥</h4><p>å€ŸåŠ© <a href="https://github.com/QingWei-Li/babel-plugin-component" target="_blank" rel="noopener">babel-plugin-component</a>ï¼Œæˆ‘ä»¬å¯ä»¥åªå¼•å…¥éœ€è¦çš„ç»„ä»¶ï¼Œä»¥è¾¾åˆ°å‡å°é¡¹ç›®ä½“ç§¯çš„ç›®çš„ã€‚</p>
<p>é¦–å…ˆï¼Œå®‰è£… babel-plugin-componentï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install babel-plugin-component -D</span><br></pre></td></tr></table></figure>

<a id="more"></a>

<p>ç„¶åï¼Œå°† .babelrc ä¿®æ”¹ä¸ºï¼š</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"presets"</span>: [[<span class="string">"es2015"</span>, &#123; <span class="attr">"modules"</span>: <span class="literal">false</span> &#125;]],</span><br><span class="line">  <span class="attr">"plugins"</span>: [</span><br><span class="line">    [</span><br><span class="line">      <span class="string">"component"</span>,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">"libraryName"</span>: <span class="string">"element-ui"</span>,</span><br><span class="line">        <span class="attr">"styleLibraryName"</span>: <span class="string">"theme-chalk"</span></span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ¥ä¸‹æ¥ï¼Œå¦‚æœä½ åªå¸Œæœ›å¼•å…¥éƒ¨åˆ†ç»„ä»¶ï¼Œæ¯”å¦‚ Button å’Œ Selectï¼Œé‚£ä¹ˆéœ€è¦åœ¨ main.js ä¸­å†™å…¥ä»¥ä¸‹å†…å®¹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; Button, Select &#125; <span class="keyword">from</span> <span class="string">'element-ui'</span>;</span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">'./App.vue'</span>;</span><br><span class="line"></span><br><span class="line">Vue.component(Button.name, Button);</span><br><span class="line">Vue.component(Select.name, Select);</span><br><span class="line"><span class="comment">/* æˆ–å†™ä¸º</span></span><br><span class="line"><span class="comment"> * Vue.use(Button)</span></span><br><span class="line"><span class="comment"> * Vue.use(Select)</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  el: <span class="string">'#app'</span>,</span><br><span class="line">  render: <span class="function"><span class="params">h</span> =&gt;</span> h(App)</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h3 id="å…¨å±€é…ç½®"><a href="#å…¨å±€é…ç½®" class="headerlink" title="å…¨å±€é…ç½®"></a>å…¨å±€é…ç½®</h3><p>åœ¨å¼•å…¥ Element æ—¶ï¼Œå¯ä»¥ä¼ å…¥ä¸€ä¸ªå…¨å±€é…ç½®å¯¹è±¡ã€‚è¯¥å¯¹è±¡ç›®å‰æ”¯æŒ <code>size</code> ä¸ <code>zIndex</code> å­—æ®µã€‚<code>size</code> ç”¨äºæ”¹å˜ç»„ä»¶çš„é»˜è®¤å°ºå¯¸ï¼Œ<code>zIndex</code> è®¾ç½®å¼¹æ¡†çš„åˆå§‹ z-indexï¼ˆé»˜è®¤å€¼ï¼š2000ï¼‰ã€‚æŒ‰ç…§å¼•å…¥ Element çš„æ–¹å¼ï¼Œå…·ä½“æ“ä½œå¦‚ä¸‹ï¼š</p>
<p>å®Œæ•´å¼•å…¥ Elementï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span>;</span><br><span class="line"><span class="keyword">import</span> Element <span class="keyword">from</span> <span class="string">'element-ui'</span>;</span><br><span class="line">Vue.use(Element, &#123; <span class="attr">size</span>: <span class="string">'small'</span>, <span class="attr">zIndex</span>: <span class="number">3000</span> &#125;);</span><br></pre></td></tr></table></figure>

<p>æŒ‰éœ€å¼•å…¥ Elementï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; Button &#125; <span class="keyword">from</span> <span class="string">'element-ui'</span>;</span><br><span class="line"></span><br><span class="line">Vue.prototype.$ELEMENT = &#123; <span class="attr">size</span>: <span class="string">'small'</span>, <span class="attr">zIndex</span>: <span class="number">3000</span> &#125;;</span><br><span class="line">Vue.use(Button);</span><br></pre></td></tr></table></figure>



<h3 id="æ‰¹é‡inputéªŒè¯æ–¹æ³•-prop-â€â€˜snList-â€™-index-â€™-snâ€™â€çš„å¾ªç¯éªŒè¯"><a href="#æ‰¹é‡inputéªŒè¯æ–¹æ³•-prop-â€â€˜snList-â€™-index-â€™-snâ€™â€çš„å¾ªç¯éªŒè¯" class="headerlink" title="æ‰¹é‡inputéªŒè¯æ–¹æ³•(:prop=â€â€˜snList.â€™+index+â€™.snâ€™â€çš„å¾ªç¯éªŒè¯)"></a>æ‰¹é‡inputéªŒè¯æ–¹æ³•(:prop=â€â€˜snList.â€™+index+â€™.snâ€™â€çš„å¾ªç¯éªŒè¯)</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">html</span><br><span class="line"></span><br><span class="line">&lt;el-form :model&#x3D;&quot;formSnList&quot; ref&#x3D;&quot;formSnList&quot;&gt;</span><br><span class="line">        &lt;el-form-item label&#x3D;&quot;ç»ˆç«¯SN:&quot; label-width&#x3D;&quot;80px&quot; v-for&#x3D;&quot;(item,index) in formSnList.snList&quot; :key&#x3D;&quot;index&quot; :prop&#x3D;&quot;&#39;snList.&#39;+index+&#39;.sn&#39;&quot; :rules&#x3D;&quot;rules.sn&quot;&gt;</span><br><span class="line">            &lt;el-input v-model&#x3D;&quot;item.sn&quot; &#x2F;&gt;</span><br><span class="line">        &lt;&#x2F;el-form-item&gt;</span><br><span class="line">    &lt;&#x2F;el-form&gt;</span><br><span class="line">    </span><br><span class="line">js</span><br><span class="line">data()&#123;</span><br><span class="line">return &#123;</span><br><span class="line">	formSnList:&#123;snList: [&#123; sn: &quot;&quot; &#125;]&#125;,</span><br><span class="line">	rules: &#123;</span><br><span class="line">        sn: [&#123; required: true, message: &#39;è¯·è¾“å…¥ç»ˆç«¯SN&#39;, trigger: &#39;blur&#39; &#125;, &#123; validator: checkSN, trigger: 	&#39;blur&#39; &#125;],</span><br><span class="line">      &#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>ç»™el-date-pickeræ·»åŠ é»˜è®¤æ—¶é—´ï¼ˆå½“å¤©å‡ä¸€å¤©ï¼Œå½“å¤©ï¼‰</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">value1: [new Date(new Date().getTime() - 24 * 60 * 60 * 1000),new Date()],</span><br></pre></td></tr></table></figure>



<p>â€˜autocomplete=â€offâ€â€˜åœ¨Chromeä¸­ä¸èµ·ä½œç”¨è§£å†³æ–¹æ¡ˆ</p>
<p><a href="https://blog.csdn.net/xw505501936/article/details/52129579" target="_blank" rel="noopener">https://blog.csdn.net/xw505501936/article/details/52129579</a></p>
<p>el-table</p>
<p>åœ¨è¡¨æ ¼å®¹å™¨å¢åŠ ä¸€ä¸ªç±»ï¼Œåœ¨è¯¥ç±»ä¸‹ç²˜è´´å¦‚ä¸‹ä»£ç ï¼Œå³å¯è½»æ¾è®¾ç½®è¡¨æ ¼æ•°æ®<strong>å±…ä¸­</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">.father&#123;</span><br><span class="line">&#x2F;deep&#x2F;.el-table th &gt; .cell &#123;</span><br><span class="line">    text-align: center;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">&#x2F;deep&#x2F;.el-table .cell &#123;</span><br><span class="line">    text-align: center;</span><br><span class="line">&#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¿®æ”¹æŸåˆ—çš„é¢œè‰²å’Œè¡Œçš„æ ·å¼ä¸åŸç”Ÿjsè®¾ç½®æŸè¡Œçš„é¢œè‰²</p>
<p><a href="https://blog.csdn.net/weixin_44986077/article/details/106714117" target="_blank" rel="noopener">https://blog.csdn.net/weixin_44986077/article/details/106714117</a></p>
<p>æ›´æ”¹è¡¨æ ¼ä¸­æŸä¸ªå•å…ƒæ ¼çš„æ ·å¼</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- html --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-table</span> <span class="attr">:cell-style</span>=<span class="string">"&#123;background:'pink'&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">el-table</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">el-table</span> <span class="attr">:cell-style</span>=<span class="string">"cellStyle"</span>&gt;</span><span class="tag">&lt;/<span class="name">el-table</span>&gt;</span></span><br><span class="line">//åœ¨methodé‡Œé¢å†™ä¸Šæ–¹æ³•</span><br><span class="line">cellStyle(&#123;row, column, rowIndex, columnIndex&#125;)&#123;</span><br><span class="line">    if(rowIndex === 1 &amp;&amp; columnIndex === 2)&#123; //æŒ‡å®šåæ ‡</span><br><span class="line">        return 'background:pink'</span><br><span class="line">    &#125;else&#123;</span><br><span class="line">        return ''</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">//æŸä¸€åˆ—</span><br><span class="line">cellStyle(&#123;row, column, rowIndex, columnIndex&#125;)&#123;</span><br><span class="line">            if(columnIndex === 1)&#123;//æŒ‡å®šåˆ—å·</span><br><span class="line">                return 'background:pink'</span><br><span class="line">            &#125;else&#123;</span><br><span class="line">                return ''</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>



<h3 id="åˆ—å†…å®¹è¶…é•¿æ—¶ï¼Œå¯ä»¥åœ¨åˆ—è¡¨åªæ˜¾ç¤ºéƒ¨åˆ†å†…å®¹ï¼Œé¼ æ ‡ä¸Šå»hoveræ˜¾ç¤ºå…¨éƒ¨å†…å®¹ã€‚"><a href="#åˆ—å†…å®¹è¶…é•¿æ—¶ï¼Œå¯ä»¥åœ¨åˆ—è¡¨åªæ˜¾ç¤ºéƒ¨åˆ†å†…å®¹ï¼Œé¼ æ ‡ä¸Šå»hoveræ˜¾ç¤ºå…¨éƒ¨å†…å®¹ã€‚" class="headerlink" title="åˆ—å†…å®¹è¶…é•¿æ—¶ï¼Œå¯ä»¥åœ¨åˆ—è¡¨åªæ˜¾ç¤ºéƒ¨åˆ†å†…å®¹ï¼Œé¼ æ ‡ä¸Šå»hoveræ˜¾ç¤ºå…¨éƒ¨å†…å®¹ã€‚"></a>åˆ—å†…å®¹è¶…é•¿æ—¶ï¼Œå¯ä»¥åœ¨åˆ—è¡¨åªæ˜¾ç¤ºéƒ¨åˆ†å†…å®¹ï¼Œé¼ æ ‡ä¸Šå»hoveræ˜¾ç¤ºå…¨éƒ¨å†…å®¹ã€‚</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;el-table-column prop&#x3D;&quot;diagnose&quot; **:show-overflow-tooltip&#x3D;&quot;true&quot;** label&#x3D;&quot;å…¥ç§‘è¯Šæ–­&quot;&gt;&lt;&#x2F;el-table-column&gt;</span><br></pre></td></tr></table></figure>



<h3 id="ä¸‹æ‹‰æ¡†æ¨¡ç³ŠæŸ¥è¯¢"><a href="#ä¸‹æ‹‰æ¡†æ¨¡ç³ŠæŸ¥è¯¢" class="headerlink" title="ä¸‹æ‹‰æ¡†æ¨¡ç³ŠæŸ¥è¯¢"></a>ä¸‹æ‹‰æ¡†æ¨¡ç³ŠæŸ¥è¯¢</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;el-select style&#x3D;&quot;width:140px&quot; **filterable** v-model&#x3D;&quot;selectOption&quot; @change&#x3D;&#39;huanchuang()&#39; &gt;</span><br><span class="line">    &lt;el-option v-for&#x3D;&quot;(item,index) in bedList&quot; :key&#x3D;&quot;index&quot; :value&#x3D;&quot;item.id&quot; :label&#x3D;&quot;item.name&quot;&gt;</span><br><span class="line">    &lt;&#x2F;el-option&gt;</span><br><span class="line">&lt;&#x2F;el-select&gt;</span><br></pre></td></tr></table></figure>



<h3 id="æ¸…ç©ºè¡¨å•éªŒè¯"><a href="#æ¸…ç©ºè¡¨å•éªŒè¯" class="headerlink" title="æ¸…ç©ºè¡¨å•éªŒè¯"></a>æ¸…ç©ºè¡¨å•éªŒè¯</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">this.$refs[formName].clearValidate();</span><br></pre></td></tr></table></figure>



<h3 id="å¤šé€‰åŠŸèƒ½"><a href="#å¤šé€‰åŠŸèƒ½" class="headerlink" title="å¤šé€‰åŠŸèƒ½"></a>å¤šé€‰åŠŸèƒ½</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;el-table</span><br><span class="line">    ref&#x3D;&quot;multipleTable&quot;</span><br><span class="line">    :data&#x3D;&quot;tableData&quot;</span><br><span class="line">    tooltip-effect&#x3D;&quot;dark&quot;</span><br><span class="line">    :reserve-selection&#x3D;&quot;true&quot; &#x2F;&#x2F;æ•°æ®æ›´æ–°æ—¶è®°ä½ä¸Šæ¬¡å‹¾é€‰</span><br><span class="line">    style&#x3D;&quot;width: 100%&quot;</span><br><span class="line">    @selection-change&#x3D;&quot;handleSelectionChange&quot;&gt;</span><br><span class="line">    &lt;el-table-column</span><br><span class="line">      type&#x3D;&quot;selection&quot;</span><br><span class="line">      width&#x3D;&quot;55&quot;&gt;</span><br><span class="line">    &lt;&#x2F;el-table-column&gt;</span><br><span class="line">&lt;&#x2F;el-table&gt;</span><br><span class="line"></span><br><span class="line">&lt;div style&#x3D;&quot;margin-top: 20px&quot;&gt;</span><br><span class="line">    &lt;el-button @click&#x3D;&quot;toggleSelection([tableData[1], tableData[2]])&quot;&gt;åˆ‡æ¢ç¬¬äºŒã€ç¬¬ä¸‰è¡Œçš„é€‰ä¸­çŠ¶æ€&lt;&#x2F;el-button&gt;</span><br><span class="line">    &lt;el-button @click&#x3D;&quot;toggleSelection()&quot;&gt;å–æ¶ˆé€‰æ‹©&lt;&#x2F;el-button&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line">  </span><br><span class="line">  methods: &#123;</span><br><span class="line">  &#x2F;&#x2F;é€‰ä¸­æŒ‡å®šè¡Œ</span><br><span class="line">      toggleSelection(rows) &#123;</span><br><span class="line">        if (rows) &#123;</span><br><span class="line">          rows.forEach(row &#x3D;&gt; &#123;</span><br><span class="line">            this.$refs.multipleTable.toggleRowSelection(row);</span><br><span class="line">          &#125;);</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">        &#x2F;&#x2F;æ¸…ç©ºå¤šé€‰</span><br><span class="line">          this.$refs.multipleTable.clearSelection();</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      &#x2F;&#x2F;è®°å½•æ‰€é€‰è¡Œ</span><br><span class="line">      handleSelectionChange(val) &#123;</span><br><span class="line">        this.multipleSelection &#x3D; val;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">  tips:æ‰‹åŠ¨æ·»åŠ ä¸€ä¸ªel-table-columnï¼Œè®¾typeå±æ€§ä¸ºselectionå³å¯,</span><br></pre></td></tr></table></figure>



<h3 id="å•é€‰æ¡†"><a href="#å•é€‰æ¡†" class="headerlink" title="å•é€‰æ¡†"></a>å•é€‰æ¡†</h3><p>è¦ä½¿ç”¨ Radio ç»„ä»¶ï¼Œåªéœ€è¦è®¾ç½®<code>v-model</code>ç»‘å®šå˜é‡ï¼Œé€‰ä¸­æ„å‘³ç€å˜é‡çš„å€¼ä¸ºç›¸åº” Radio <code>label</code>å±æ€§çš„å€¼ï¼Œ<code>label</code>å¯ä»¥æ˜¯<code>String</code>ã€<code>Number</code>æˆ–<code>Boolean</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;el-radio v-model&#x3D;&quot;radio&quot; label&#x3D;&quot;1&quot;&gt;å¤‡é€‰é¡¹&lt;&#x2F;el-radio&gt;</span><br><span class="line">&lt;el-radio v-model&#x3D;&quot;radio&quot; label&#x3D;&quot;2&quot;&gt;å¤‡é€‰é¡¹&lt;&#x2F;el-radio&gt;</span><br></pre></td></tr></table></figure>



<p>ç»“åˆ<code>el-radio-group</code>å…ƒç´ å’Œå­å…ƒç´ <code>el-radio</code>å¯ä»¥å®ç°å•é€‰ç»„ï¼Œåœ¨<code>el-radio-group</code>ä¸­ç»‘å®š<code>v-model</code>ï¼Œåœ¨<code>el-radio</code>ä¸­è®¾ç½®å¥½<code>label</code>å³å¯ï¼Œæ— éœ€å†ç»™æ¯ä¸€ä¸ª<code>el-radio</code>ç»‘å®šå˜é‡ï¼Œå¦å¤–ï¼Œè¿˜æä¾›äº†<code>change</code>äº‹ä»¶æ¥å“åº”å˜åŒ–ï¼Œå®ƒä¼šä¼ å…¥ä¸€ä¸ªå‚æ•°<code>value</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;el-radio-group v-model&#x3D;&quot;radio&quot;&gt;</span><br><span class="line">    &lt;el-radio :label&#x3D;&quot;3&quot;&gt;å¤‡é€‰é¡¹&lt;&#x2F;el-radio&gt;</span><br><span class="line">    &lt;el-radio :label&#x3D;&quot;6&quot;&gt;å¤‡é€‰é¡¹&lt;&#x2F;el-radio&gt;</span><br><span class="line">    &lt;el-radio :label&#x3D;&quot;9&quot;&gt;å¤‡é€‰é¡¹&lt;&#x2F;el-radio&gt;</span><br><span class="line">&lt;&#x2F;el-radio-group&gt;</span><br></pre></td></tr></table></figure>



<h3 id="Vue-Vuex-Element-UIåŠ¨æ€å…¨å±€ä¸»é¢˜é¢œè‰²"><a href="#Vue-Vuex-Element-UIåŠ¨æ€å…¨å±€ä¸»é¢˜é¢œè‰²" class="headerlink" title="Vue + Vuex + Element UIåŠ¨æ€å…¨å±€ä¸»é¢˜é¢œè‰²"></a>Vue + Vuex + Element UIåŠ¨æ€å…¨å±€ä¸»é¢˜é¢œè‰²</h3><p>1ã€å°è£…ä¸€ä¸ªtheme-pickerç»„ä»¶</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;el-color-picker</span><br><span class="line">    class&#x3D;&quot;theme-picker&quot;</span><br><span class="line">    popper-class&#x3D;&quot;theme-picker-dropdown&quot;</span><br><span class="line">    v-model&#x3D;&quot;theme&quot;</span><br><span class="line">    :size&#x3D;&quot;size&quot;&gt;</span><br><span class="line">  &lt;&#x2F;el-color-picker&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br></pre></td></tr></table></figure>

<p>HTML</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> types <span class="keyword">from</span> <span class="string">'../stores/commons/types.js'</span></span><br><span class="line"><span class="keyword">const</span> version = <span class="built_in">require</span>(<span class="string">'element-ui/package.json'</span>).version</span><br><span class="line"><span class="keyword">const</span> ORIGINAL_THEME = <span class="string">'#409EFF'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  name: <span class="string">'ThemePicker'</span>,</span><br><span class="line">  props: &#123;</span><br><span class="line">    <span class="comment">// é»˜è®¤ä¸»é¢˜ï¼Œå¯ç”±å¤–éƒ¨ä¼ å…¥</span></span><br><span class="line">    <span class="keyword">default</span>: &#123; </span><br><span class="line">      type: <span class="built_in">String</span>,</span><br><span class="line">      <span class="keyword">default</span>: localStorage.getItem(<span class="string">'COLOR_THEME'</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    size: &#123;</span><br><span class="line">      type: <span class="built_in">String</span>,</span><br><span class="line">      <span class="keyword">default</span>: <span class="string">'small'</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  data () &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      chalk: <span class="string">''</span>, <span class="comment">// content of theme-chalk css</span></span><br><span class="line">      theme: ORIGINAL_THEME,</span><br><span class="line">      showSuccess: <span class="literal">true</span> <span class="comment">// æ˜¯å¦å¼¹å‡ºæ¢è‚¤æˆåŠŸæ¶ˆæ¯</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  mounted () &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.default != <span class="literal">null</span>) &#123;</span><br><span class="line">      <span class="keyword">this</span>.theme = <span class="keyword">this</span>.default</span><br><span class="line">      <span class="keyword">this</span>.$emit(<span class="string">'onThemeChange'</span>, <span class="keyword">this</span>.theme)</span><br><span class="line">      <span class="keyword">this</span>.$store.commit(types.M_THEME_COLOR, <span class="keyword">this</span>.theme)</span><br><span class="line">      <span class="keyword">this</span>.showSuccess = <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  watch: &#123;</span><br><span class="line">    theme (val, oldVal) &#123;</span><br><span class="line">      <span class="keyword">if</span> (<span class="keyword">typeof</span> val !== <span class="string">'string'</span>) <span class="keyword">return</span></span><br><span class="line">      <span class="keyword">const</span> themeCluster = <span class="keyword">this</span>.getThemeCluster(val.replace(<span class="string">'#'</span>, <span class="string">''</span>))</span><br><span class="line">      <span class="keyword">const</span> originalCluster = <span class="keyword">this</span>.getThemeCluster(oldVal.replace(<span class="string">'#'</span>, <span class="string">''</span>))</span><br><span class="line">      <span class="keyword">const</span> getHandler = <span class="function">(<span class="params">variable, id</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">          <span class="keyword">const</span> originalCluster = <span class="keyword">this</span>.getThemeCluster(ORIGINAL_THEME.replace(<span class="string">'#'</span>, <span class="string">''</span>))</span><br><span class="line">          <span class="keyword">const</span> newStyle = <span class="keyword">this</span>.updateStyle(<span class="keyword">this</span>[variable], originalCluster, themeCluster)</span><br><span class="line"></span><br><span class="line">          <span class="keyword">let</span> styleTag = <span class="built_in">document</span>.getElementById(id)</span><br><span class="line">          <span class="keyword">if</span> (!styleTag) &#123;</span><br><span class="line">            styleTag = <span class="built_in">document</span>.createElement(<span class="string">'style'</span>)</span><br><span class="line">            styleTag.setAttribute(<span class="string">'id'</span>, id)</span><br><span class="line">            <span class="built_in">document</span>.head.appendChild(styleTag)</span><br><span class="line">          &#125;</span><br><span class="line">          styleTag.innerText = newStyle</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">const</span> chalkHandler = getHandler(<span class="string">'chalk'</span>, <span class="string">'chalk-style'</span>)</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (!<span class="keyword">this</span>.chalk) &#123;</span><br><span class="line">        <span class="keyword">const</span> url = <span class="string">`https://unpkg.com/element-ui@<span class="subst">$&#123;version&#125;</span>/lib/theme-chalk/index.css`</span></span><br><span class="line">        <span class="keyword">this</span>.getCSSString(url, chalkHandler, <span class="string">'chalk'</span>)</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        chalkHandler()</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">const</span> styles = [].slice.call(<span class="built_in">document</span>.querySelectorAll(<span class="string">'style'</span>))</span><br><span class="line">        .filter(<span class="function"><span class="params">style</span> =&gt;</span> &#123;</span><br><span class="line">          <span class="keyword">const</span> text = style.innerText</span><br><span class="line">          <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">RegExp</span>(oldVal, <span class="string">'i'</span>).test(text) &amp;&amp; !<span class="regexp">/Chalk Variables/</span>.test(text)</span><br><span class="line">        &#125;)</span><br><span class="line">      styles.forEach(<span class="function"><span class="params">style</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> &#123; innerText &#125; = style</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">typeof</span> innerText !== <span class="string">'string'</span>) <span class="keyword">return</span></span><br><span class="line">        style.innerText = <span class="keyword">this</span>.updateStyle(innerText, originalCluster, themeCluster)</span><br><span class="line">      &#125;)</span><br><span class="line"></span><br><span class="line">      <span class="comment">// å“åº”å¤–éƒ¨æ“ä½œ</span></span><br><span class="line">      <span class="keyword">this</span>.$emit(<span class="string">'onThemeChange'</span>, val)</span><br><span class="line">      <span class="keyword">this</span>.$store.commit(types.M_THEME_COLOR, val)</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (<span class="keyword">this</span>.showSuccess) &#123;</span><br><span class="line">        <span class="keyword">this</span>.$message(&#123;</span><br><span class="line">          message: <span class="string">'æ¢è‚¤æˆåŠŸ'</span>,</span><br><span class="line">          type: <span class="string">'success'</span></span><br><span class="line">        &#125;)</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">this</span>.showSuccess = <span class="literal">true</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    updateStyle (style, oldCluster, newCluster) &#123;</span><br><span class="line">      <span class="keyword">let</span> newStyle = style</span><br><span class="line">      oldCluster.forEach(<span class="function">(<span class="params">color, index</span>) =&gt;</span> &#123;</span><br><span class="line">        newStyle = newStyle.replace(<span class="keyword">new</span> <span class="built_in">RegExp</span>(color, <span class="string">'ig'</span>), newCluster[index])</span><br><span class="line">      &#125;)</span><br><span class="line">      <span class="keyword">return</span> newStyle</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    getCSSString (url, callback, variable) &#123;</span><br><span class="line">      <span class="keyword">const</span> xhr = <span class="keyword">new</span> XMLHttpRequest()</span><br><span class="line">      xhr.onreadystatechange = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (xhr.readyState === <span class="number">4</span> &amp;&amp; xhr.status === <span class="number">200</span>) &#123;</span><br><span class="line">          <span class="keyword">this</span>[variable] = xhr.responseText.replace(<span class="regexp">/@font-face&#123;[^&#125;]+&#125;/</span>, <span class="string">''</span>)</span><br><span class="line">          callback()</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      xhr.open(<span class="string">'GET'</span>, url)</span><br><span class="line">      xhr.send()</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    getThemeCluster (theme) &#123;</span><br><span class="line">      <span class="keyword">const</span> tintColor = <span class="function">(<span class="params">color, tint</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> red = <span class="built_in">parseInt</span>(color.slice(<span class="number">0</span>, <span class="number">2</span>), <span class="number">16</span>)</span><br><span class="line">        <span class="keyword">let</span> green = <span class="built_in">parseInt</span>(color.slice(<span class="number">2</span>, <span class="number">4</span>), <span class="number">16</span>)</span><br><span class="line">        <span class="keyword">let</span> blue = <span class="built_in">parseInt</span>(color.slice(<span class="number">4</span>, <span class="number">6</span>), <span class="number">16</span>)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (tint === <span class="number">0</span>) &#123;</span><br><span class="line">          <span class="keyword">return</span> [red, green, blue].join(<span class="string">','</span>)</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          red += <span class="built_in">Math</span>.round(tint * (<span class="number">255</span> - red))</span><br><span class="line">          green += <span class="built_in">Math</span>.round(tint * (<span class="number">255</span> - green))</span><br><span class="line">          blue += <span class="built_in">Math</span>.round(tint * (<span class="number">255</span> - blue))</span><br><span class="line"></span><br><span class="line">          red = red.toString(<span class="number">16</span>)</span><br><span class="line">          green = green.toString(<span class="number">16</span>)</span><br><span class="line">          blue = blue.toString(<span class="number">16</span>)</span><br><span class="line"></span><br><span class="line">          <span class="keyword">return</span> <span class="string">`#<span class="subst">$&#123;red&#125;</span><span class="subst">$&#123;green&#125;</span><span class="subst">$&#123;blue&#125;</span>`</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">const</span> shadeColor = <span class="function">(<span class="params">color, shade</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> red = <span class="built_in">parseInt</span>(color.slice(<span class="number">0</span>, <span class="number">2</span>), <span class="number">16</span>)</span><br><span class="line">        <span class="keyword">let</span> green = <span class="built_in">parseInt</span>(color.slice(<span class="number">2</span>, <span class="number">4</span>), <span class="number">16</span>)</span><br><span class="line">        <span class="keyword">let</span> blue = <span class="built_in">parseInt</span>(color.slice(<span class="number">4</span>, <span class="number">6</span>), <span class="number">16</span>)</span><br><span class="line"></span><br><span class="line">        red = <span class="built_in">Math</span>.round((<span class="number">1</span> - shade) * red)</span><br><span class="line">        green = <span class="built_in">Math</span>.round((<span class="number">1</span> - shade) * green)</span><br><span class="line">        blue = <span class="built_in">Math</span>.round((<span class="number">1</span> - shade) * blue)</span><br><span class="line"></span><br><span class="line">        red = red.toString(<span class="number">16</span>)</span><br><span class="line">        green = green.toString(<span class="number">16</span>)</span><br><span class="line">        blue = blue.toString(<span class="number">16</span>)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="string">`#<span class="subst">$&#123;red&#125;</span><span class="subst">$&#123;green&#125;</span><span class="subst">$&#123;blue&#125;</span>`</span></span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">const</span> clusters = [theme]</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt;= <span class="number">9</span>; i++) &#123;</span><br><span class="line">        clusters.push(tintColor(theme, <span class="built_in">Number</span>((i / <span class="number">10</span>).toFixed(<span class="number">2</span>))))</span><br><span class="line">      &#125;</span><br><span class="line">      clusters.push(shadeColor(theme, <span class="number">0.1</span>))</span><br><span class="line">      <span class="keyword">return</span> clusters</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>JavaScript</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.theme-picker</span> <span class="selector-class">.el-color-picker__trigger</span> &#123;</span><br><span class="line">  <span class="attribute">vertical-align</span>: middle;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.theme-picker-dropdown</span> <span class="selector-class">.el-color-dropdown__link-btn</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: none;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>é€šè¿‡<code>commit</code>å‘<code>store</code>é‡Œé¢å­˜å‚¨é¢œè‰²ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">this</span>.$store.commit(types.M_THEME_COLOR, <span class="keyword">this</span>.theme)</span><br></pre></td></tr></table></figure>

<p>JavaScript</p>
<p>ç„¶åé€šè¿‡<code>state</code>è·å–ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">computed: &#123;</span><br><span class="line">  ...mapState(&#123;</span><br><span class="line">    themeColor: <span class="function"><span class="params">state</span> =&gt;</span> state.commons.themeColor</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<p>JavaScript</p>
<p>æœ€åæˆ‘ä»¬é¡µé¢å¯ä»¥ç›´æ¥ä½¿ç”¨<code>themeColor</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;div :style&#x3D;&quot;&#123;</span><br><span class="line">  &#39;border-color&#39;: themeColor, </span><br><span class="line">  &#39;background-color&#39;: backgroundColor</span><br><span class="line">&#125;&quot;&gt;&lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure>

<p>HTML</p>
<p>ç»†å¿ƒçš„å°ä¼™ä¼´æ˜¯ä¸æ˜¯å‘ç°è¿™é‡Œè¿‡äº†ä¸€ä¸ªå˜é‡<code>backgroundColor</code>ï¼Œè¿™ä¸ªæ˜¯é€šè¿‡<code>themeColor</code>é‡æ–°è®¡ç®—çš„ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">backgroundColor () &#123;</span><br><span class="line">  <span class="comment">// è¿”å›æŸä¸ªé¢œè‰²çš„ä¸‰åŸè‰²</span></span><br><span class="line">  <span class="keyword">const</span> tintColor = <span class="function">(<span class="params">color</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> red = <span class="built_in">parseInt</span>(color.slice(<span class="number">0</span>, <span class="number">2</span>), <span class="number">16</span>)</span><br><span class="line">    <span class="keyword">let</span> green = <span class="built_in">parseInt</span>(color.slice(<span class="number">2</span>, <span class="number">4</span>), <span class="number">16</span>)</span><br><span class="line">    <span class="keyword">let</span> blue = <span class="built_in">parseInt</span>(color.slice(<span class="number">4</span>, <span class="number">6</span>), <span class="number">16</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> [red, green, blue]</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">let</span> color = <span class="keyword">this</span>.themeColor.replace(<span class="string">'#'</span>, <span class="string">''</span>)</span><br><span class="line">  color = tintColor(color)</span><br><span class="line">  <span class="comment">// è½¬æˆrgbaæ ¼å¼çš„ï¼Œå¹¶æ·»åŠ é€æ˜åº¦</span></span><br><span class="line">  <span class="keyword">return</span> <span class="string">`rgba(<span class="subst">$&#123;color[<span class="number">0</span>]&#125;</span>, <span class="subst">$&#123;color[<span class="number">1</span>]&#125;</span>, <span class="subst">$&#123;color[<span class="number">2</span>]&#125;</span>, .3)`</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="el-date-pickeré™åˆ¶æ—¶é—´é€‰æ‹©èŒƒå›´"><a href="#el-date-pickeré™åˆ¶æ—¶é—´é€‰æ‹©èŒƒå›´" class="headerlink" title="el-date-pickeré™åˆ¶æ—¶é—´é€‰æ‹©èŒƒå›´"></a>el-date-pickeré™åˆ¶æ—¶é—´é€‰æ‹©èŒƒå›´</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;el-date-picker </span><br><span class="line">     v-model&#x3D;&quot;ruleForm.date&quot;</span><br><span class="line">      type&#x3D;&quot;daterange&quot;</span><br><span class="line">      range-separator&#x3D;&quot;-&quot;</span><br><span class="line">      start-placeholder&#x3D;&quot;å¼€å§‹æ—¥æœŸ&quot;</span><br><span class="line">      end-placeholder&#x3D;&quot;ç»“æŸæ—¥æœŸ&quot;</span><br><span class="line">      value-format&#x3D;&quot;yyyy-MM-dd&quot;</span><br><span class="line">       format&#x3D;&quot;yyyy-MM-dd&quot;</span><br><span class="line">        :picker-options&#x3D;&quot;pickerOptionsTime&quot;&gt;</span><br><span class="line">&lt;&#x2F;el-date-picker&gt;</span><br><span class="line">&#x2F;&#x2F;ç»„ä»¶</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;é™åˆ¶åœ¨dataä¸­å¢åŠ æ”¹å±æ€§</span><br><span class="line">data() &#123;</span><br><span class="line">	return &#123;</span><br><span class="line">		pickerOptionsTime: &#123;</span><br><span class="line">            disabledDate(time) &#123;</span><br><span class="line">            	return time.getTime() &gt; Date.now() - 8.64e6</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





]]></content>
      <categories>
        <category>es6</category>
      </categories>
      <tags>
        <tag>es6</tag>
      </tags>
  </entry>
  <entry>
    <title>eleuiä¹‹inputæ­£åˆ™è®°å½•</title>
    <url>/2020/11/02/eleui%E4%B9%8Binput%E6%AD%A3%E5%88%99%E8%AE%B0%E5%BD%95/</url>
    <content><![CDATA[<h3 id="æ­£æ•´æ•°"><a href="#æ­£æ•´æ•°" class="headerlink" title="æ­£æ•´æ•°"></a>æ­£æ•´æ•°</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;^[1-9][0-9]*$&#x2F;</span><br></pre></td></tr></table></figure>

<h3 id="æ‰‹æœºå·"><a href="#æ‰‹æœºå·" class="headerlink" title="æ‰‹æœºå·"></a>æ‰‹æœºå·</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;^1[3|4|5|7|8][0-9]\d&#123;8&#125;$&#x2F; æˆ–è€… &#x2F;^1[0-9]&#123;10&#125;$&#x2F;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>reg</category>
      </categories>
      <tags>
        <tag>reg</tag>
      </tags>
  </entry>
  <entry>
    <title>es6ä¹‹arrayFrom</title>
    <url>/2020/09/28/es6%E4%B9%8BarrayFrom/</url>
    <content><![CDATA[<p>Array.from()æ–¹æ³•å°±æ˜¯å°†ä¸€ä¸ªç±»æ•°ç»„å¯¹è±¡æˆ–è€…å¯éå†å¯¹è±¡è½¬æ¢æˆä¸€ä¸ªçœŸæ­£çš„æ•°ç»„ã€‚</p>
<p>ã€€ã€€é‚£ä¹ˆä»€ä¹ˆæ˜¯ç±»æ•°ç»„å¯¹è±¡å‘¢ï¼Ÿæ‰€è°“ç±»æ•°ç»„å¯¹è±¡ï¼Œæœ€åŸºæœ¬çš„è¦æ±‚å°±æ˜¯å…·æœ‰lengthå±æ€§çš„å¯¹è±¡ã€‚</p>
<p>ã€€ã€€1ã€å°†ç±»æ•°ç»„å¯¹è±¡è½¬æ¢ä¸ºçœŸæ­£æ•°ç»„ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let arrayLike &#x3D; &#123;</span><br><span class="line">    0: &#39;tom&#39;, </span><br><span class="line">    1: &#39;65&#39;,</span><br><span class="line">    2: &#39;ç”·&#39;,</span><br><span class="line">    3: [&#39;jane&#39;,&#39;john&#39;,&#39;Mary&#39;],</span><br><span class="line">    &#39;length&#39;: 4</span><br><span class="line">&#125;</span><br><span class="line">let arr &#x3D; Array.from(arrayLike)</span><br><span class="line">console.log(arr) &#x2F;&#x2F; [&#39;tom&#39;,&#39;65&#39;,&#39;ç”·&#39;,[&#39;jane&#39;,&#39;john&#39;,&#39;Mary&#39;]]</span><br></pre></td></tr></table></figure>

<p>ã€€ã€€é‚£ä¹ˆï¼Œå¦‚æœå°†ä¸Šé¢ä»£ç ä¸­lengthå±æ€§å»æ‰å‘¢ï¼Ÿå®è·µè¯æ˜ï¼Œç­”æ¡ˆä¼šæ˜¯ä¸€ä¸ªé•¿åº¦ä¸º0çš„ç©ºæ•°ç»„ã€‚</p>
<p>ã€€ã€€è¿™é‡Œå°†ä»£ç å†æ”¹ä¸€ä¸‹ï¼Œå°±æ˜¯å…·æœ‰lengthå±æ€§ï¼Œä½†æ˜¯å¯¹è±¡çš„å±æ€§åä¸å†æ˜¯æ•°å­—ç±»å‹çš„ï¼Œè€Œæ˜¯å…¶ä»–å­—ç¬¦ä¸²å‹çš„ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<a id="more"></a>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let arrayLike &#x3D; &#123;</span><br><span class="line">    &#39;name&#39;: &#39;tom&#39;, </span><br><span class="line">    &#39;age&#39;: &#39;65&#39;,</span><br><span class="line">    &#39;sex&#39;: &#39;ç”·&#39;,</span><br><span class="line">    &#39;friends&#39;: [&#39;jane&#39;,&#39;john&#39;,&#39;Mary&#39;],</span><br><span class="line">    length: 4</span><br><span class="line">&#125;</span><br><span class="line">let arr &#x3D; Array.from(arrayLike)</span><br><span class="line">console.log(arr)  &#x2F;&#x2F; [ undefined, undefined, undefined, undefined ]</span><br></pre></td></tr></table></figure>

<p>ã€€ã€€ä¼šå‘ç°ç»“æœæ˜¯é•¿åº¦ä¸º4ï¼Œå…ƒç´ å‡ä¸ºundefinedçš„æ•°ç»„</p>
<p>ã€€ã€€ç”±æ­¤å¯è§ï¼Œè¦å°†ä¸€ä¸ªç±»æ•°ç»„å¯¹è±¡è½¬æ¢ä¸ºä¸€ä¸ªçœŸæ­£çš„æ•°ç»„ï¼Œå¿…é¡»å…·å¤‡ä»¥ä¸‹æ¡ä»¶ï¼š</p>
<p>ã€€ã€€1ã€è¯¥ç±»æ•°ç»„å¯¹è±¡å¿…é¡»å…·æœ‰lengthå±æ€§ï¼Œç”¨äºæŒ‡å®šæ•°ç»„çš„é•¿åº¦ã€‚å¦‚æœæ²¡æœ‰lengthå±æ€§ï¼Œé‚£ä¹ˆè½¬æ¢åçš„æ•°ç»„æ˜¯ä¸€ä¸ªç©ºæ•°ç»„ã€‚</p>
<p>ã€€ã€€2ã€è¯¥ç±»æ•°ç»„å¯¹è±¡çš„å±æ€§åå¿…é¡»ä¸ºæ•°å€¼å‹æˆ–å­—ç¬¦ä¸²å‹çš„æ•°å­—</p>
<p>ã€€ã€€ps: è¯¥ç±»æ•°ç»„å¯¹è±¡çš„å±æ€§åå¯ä»¥åŠ å¼•å·ï¼Œä¹Ÿå¯ä»¥ä¸åŠ å¼•å·</p>
<p>ã€€ã€€2ã€å°†Setç»“æ„çš„æ•°æ®è½¬æ¢ä¸ºçœŸæ­£çš„æ•°ç»„ï¼šã€€</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let arr &#x3D; [12,45,97,9797,564,134,45642]</span><br><span class="line">let set &#x3D; new Set(arr)</span><br><span class="line">console.log(Array.from(set))  &#x2F;&#x2F; [ 12, 45, 97, 9797, 564, 134, 45642 ]</span><br></pre></td></tr></table></figure>

<p>ã€€ã€€</p>
<p>ã€€ã€€<code>Array.from</code>è¿˜å¯ä»¥æ¥å—ç¬¬äºŒä¸ªå‚æ•°ï¼Œä½œç”¨ç±»ä¼¼äºæ•°ç»„çš„<code>map</code>æ–¹æ³•ï¼Œç”¨æ¥å¯¹æ¯ä¸ªå…ƒç´ è¿›è¡Œå¤„ç†ï¼Œå°†å¤„ç†åçš„å€¼æ”¾å…¥è¿”å›çš„æ•°ç»„ã€‚å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let arr &#x3D; [12,45,97,9797,564,134,45642]</span><br><span class="line">let set &#x3D; new Set(arr)</span><br><span class="line">console.log(Array.from(set, item &#x3D;&gt; item + 1)) &#x2F;&#x2F; [ 13, 46, 98, 9798, 565, 135, 45643 ]</span><br></pre></td></tr></table></figure>

<p>ã€€ã€€</p>
<p>ã€€ã€€3ã€å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°ç»„ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let  str &#x3D; &#39;hello world!&#39;;</span><br><span class="line">console.log(Array.from(str)) &#x2F;&#x2F; [&quot;h&quot;, &quot;e&quot;, &quot;l&quot;, &quot;l&quot;, &quot;o&quot;, &quot; &quot;, &quot;w&quot;, &quot;o&quot;, &quot;r&quot;, &quot;l&quot;, &quot;d&quot;, &quot;!&quot;]</span><br></pre></td></tr></table></figure>

<p>ã€€ã€€</p>
<p>ã€€ã€€4ã€Array.fromå‚æ•°æ˜¯ä¸€ä¸ªçœŸæ­£çš„æ•°ç»„ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">console.log(Array.from([12,45,47,56,213,4654,154]))</span><br></pre></td></tr></table></figure>

<p>ã€€ã€€åƒè¿™ç§æƒ…å†µï¼ŒArray.fromä¼šè¿”å›ä¸€ä¸ªä¸€æ¨¡ä¸€æ ·çš„æ–°æ•°ç»„</p>
]]></content>
      <categories>
        <category>es6</category>
      </categories>
      <tags>
        <tag>es6</tag>
        <tag>arrayFrom</tag>
      </tags>
  </entry>
  <entry>
    <title>es6-Class</title>
    <url>/2020/08/07/es6-Class/</url>
    <content><![CDATA[<h1 id="ä½ çœŸçš„ç†è§£ES6çš„Classå—"><a href="#ä½ çœŸçš„ç†è§£ES6çš„Classå—" class="headerlink" title="ä½ çœŸçš„ç†è§£ES6çš„Classå—"></a><a href="https://segmentfault.com/a/1190000019792333" target="_blank" rel="noopener">ä½ çœŸçš„ç†è§£ES6çš„Classå—</a></h1><blockquote>
<p>åœ¨é¢å‘å¯¹è±¡çš„ç¼–ç¨‹ä¸­,ç±»æ˜¯ä¸€ä¸ªç”¨äºåˆ›å»ºå¯¹è±¡ï¼Œä¸ºçŠ¶æ€ï¼ˆæˆå‘˜å˜é‡ï¼‰å’Œè¡Œä¸ºå®ç°ï¼ˆæˆå‘˜å‡½æ•°æˆ–æ–¹æ³•ï¼‰æä¾›åˆå§‹å€¼çš„å¯æ‰©å±•ç¨‹åºä»£ç æ¨¡æ¿ã€‚ï¼ˆæä¾›å°è£…åœ¨ä¸€èµ·çš„å˜é‡å’Œå‡½æ•°ï¼‰</p>
</blockquote>
<p>åœ¨å®é™…å¼€å‘ä¸­ï¼Œæˆ‘ä»¬å¾€å¾€éœ€è¦åˆ›å»ºå¾ˆå¤šç›¸åŒç±»å‹çš„å¯¹è±¡ï¼Œå¦‚ç”¨æˆ·ã€å•†å“æˆ–å…¶ä»–å¯¹è±¡ã€‚æˆ‘ä»¬çŸ¥é“ï¼Œé€šè¿‡newä¸€ä¸ªfunctionå¯ä»¥åˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œä½†åœ¨ç°ä»£çš„JavaScripté‡Œï¼Œæœ‰ä¸€ä¸ªæ›´é«˜çº§çš„â€œç±»â€ç»“æ„ï¼Œå¯¹äºé¢å‘å¯¹è±¡ç¼–ç¨‹æä¾›äº†ä¸€äº›å¾ˆä¸é”™çš„ç‰¹æ€§ã€‚</p>
<h2 id="Classè¯­æ³•"><a href="#Classè¯­æ³•" class="headerlink" title="Classè¯­æ³•"></a>Classè¯­æ³•</h2><a id="more"></a>

<p>åŸºæœ¬çš„classè¯­æ³•å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class MyClass&#123;</span><br><span class="line">    constructor()&#123;&#125;</span><br><span class="line">    method1()&#123;&#125;</span><br><span class="line">    method2()&#123;&#125;</span><br><span class="line">    method3()&#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç„¶åé€šè¿‡<strong>new MyClass()</strong>æ¥åˆ›å»ºä¸€ä¸ªæ‹¥æœ‰ä»¥ä¸Šæ–¹æ³•çš„å¯¹è±¡å®ä¾‹ï¼Œä¸æ­¤åŒæ—¶ï¼Œé€šè¿‡<strong>new</strong>æ“ä½œç¬¦,<strong>æ„é€ æ–¹æ³•(constructor)</strong>æ˜¯è¢«è‡ªåŠ¨è°ƒç”¨,çš„ï¼Œè¿™æ„å‘³ç€åœ¨æ„é€ æ–¹æ³•ä¸­æˆ‘ä»¬å¯ä»¥åšä¸€äº›åˆå§‹åŒ–çš„å·¥ä½œã€‚</p>
<p>åˆ—å¦‚:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class User&#123;</span><br><span class="line">    constructor(name)&#123;</span><br><span class="line">        this.name &#x3D; name</span><br><span class="line">    &#125;</span><br><span class="line">    showUInfo()&#123;</span><br><span class="line">        alert(this.name)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;&#x2F;Usage:</span><br><span class="line">let user &#x3D; new User(&#39;Darkcode&#39;)</span><br><span class="line">user.showUInfo()</span><br></pre></td></tr></table></figure>

<p>å½“<strong>new User(â€˜Darkcodeâ€™)</strong>è¢«è°ƒç”¨çš„æ—¶å€™ï¼š</p>
<ul>
<li>åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„å¯¹è±¡</li>
<li>æ„é€ æ–¹æ³•é€šè¿‡ç»™å®šçš„å‚æ•°è¿è¡Œï¼Œå¹¶ä¸ºå…¶åˆ†é…this.name</li>
</ul>
<p>ç„¶åæˆ‘ä»¬èƒ½å¤Ÿè°ƒç”¨æ–¹æ³•ï¼Œå¦‚user.showUInfo()</p>
<p><em>æ³¨æ„ï¼š</em></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ç±»æ–¹æ³•ä¹‹é—´æ˜¯æ²¡æœ‰é€—å·çš„</span><br></pre></td></tr></table></figure>



<h2 id="ç©¶ç«Ÿä»€ä¹ˆæ˜¯ç±»ï¼Ÿ"><a href="#ç©¶ç«Ÿä»€ä¹ˆæ˜¯ç±»ï¼Ÿ" class="headerlink" title="ç©¶ç«Ÿä»€ä¹ˆæ˜¯ç±»ï¼Ÿ"></a>ç©¶ç«Ÿä»€ä¹ˆæ˜¯ç±»ï¼Ÿ</h2><p>å…¶å®ï¼Œåœ¨JavaScriptä¸­ï¼Œç±»æ˜¯å‡½æ•°çš„ä¸€ç§ã€‚å¦‚ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class User&#123;</span><br><span class="line">    constructor(name)&#123;</span><br><span class="line">        this.name &#x3D; name</span><br><span class="line">    &#125;</span><br><span class="line">    showUInfo()&#123;</span><br><span class="line">        alert(this.name)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">alert(typeof User)&#x2F;&#x2F;function</span><br></pre></td></tr></table></figure>

<p><strong>class User {â€¦}</strong>åšäº†ä»€ä¹ˆå‘¢ï¼š</p>
<ol>
<li>åˆ›å»ºä¸€ä¸ªåä¸ºUserçš„å‡½æ•°ï¼Œè¯¥å‡½æ•°å°†æˆä¸ºç±»å£°æ˜çš„ç»“æœ</li>
<li>åœ¨User.prototypeä¸­å­˜å‚¨æ‰€æœ‰æ–¹æ³•ï¼Œä¾‹å¦‚showUInfo</li>
</ol>
<p>ä¹‹åï¼Œå¯¹äºæ–°å¯¹è±¡ï¼Œå½“æˆ‘ä»¬è°ƒç”¨ä¸€ä¸ªæ–¹æ³•çš„æ—¶å€™ï¼Œå®ƒå°±æ˜¯ä»åŸå‹ä¸­è·å–çš„ï¼Œå› æ­¤æ–°çš„Userå¯¹è±¡å°±å¯ä»¥è®¿é—®åˆ°ç±»æ–¹æ³•äº†ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥å°†<strong>class User</strong>çš„å£°æ˜åšå¦‚ä¸‹ç®€è¿°ï¼š<br><img src="https://segmentfault.com/img/bVbvcLM?w=780&h=171" alt="class Userè¿‡ç¨‹å›¾"></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class User&#123;</span><br><span class="line">  constructor(name)&#123;</span><br><span class="line">  	this.name &#x3D; name</span><br><span class="line">  &#125;</span><br><span class="line">  showUInfo()&#123;</span><br><span class="line">  	alert(this.name)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">        </span><br><span class="line">alert(typeof User)&#x2F;&#x2F;function</span><br><span class="line"></span><br><span class="line">alert(User &#x3D;&#x3D;&#x3D; User.prototype.constructor)&#x2F;&#x2F;true</span><br><span class="line"></span><br><span class="line">alert(User.prototype.showUInfo)&#x2F;&#x2F; alert(this.name);</span><br><span class="line"></span><br><span class="line">alert(Object.getOwnPropertyNames(User.prototype)); &#x2F;&#x2F; constructor, showUInfo</span><br></pre></td></tr></table></figure>

<h2 id="å¹¶ä¸åªæ˜¯è¯­æ³•ç³–-æ¯”è¾ƒ"><a href="#å¹¶ä¸åªæ˜¯è¯­æ³•ç³–-æ¯”è¾ƒ" class="headerlink" title="å¹¶ä¸åªæ˜¯è¯­æ³•ç³–(æ¯”è¾ƒ)"></a>å¹¶ä¸åªæ˜¯è¯­æ³•ç³–(æ¯”è¾ƒ)</h2><p>ä¸€äº›äººè¯´åœ¨JavaScriptä¸­classæ˜¯ä¸€ç§â€è¯­æ³•ç³–â€ï¼Œå› ä¸ºæˆ‘ä»¬å®é™…ä¸Šå¯ä»¥åœ¨æ²¡æœ‰classå…³é”®å­—çš„æƒ…å†µä¸‹å£°æ˜ä¸€ä¸ªç±»ã€‚åœ¨Es6ä¹‹å‰ï¼Œes5æˆ‘ä»¬å¯ä»¥é€šè¿‡functionå»å®ç°ä¸€ä¸ªç±»ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; 1. Create constructor function</span><br><span class="line">function User(name) &#123;</span><br><span class="line">    this.name &#x3D; name</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;&#x2F; any function prototype has constructor property by default,</span><br><span class="line">&#x2F;&#x2F; so we don&#39;t need to create it</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 2. Add the method to prototype</span><br><span class="line">User.prototype.showUInfo &#x3D; function () &#123;</span><br><span class="line">    alert(this.name)</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;&#x2F; Usage:</span><br><span class="line">let user &#x3D; new User(&#39;Darkcode&#39;)</span><br><span class="line">user.showUInfo()</span><br></pre></td></tr></table></figure>

<p>è¿™ä¸ªå®šä¹‰çš„ç»“æœå¤§è‡´ç›¸åŒã€‚å› æ­¤ï¼Œç¡®å®å¯ä»¥å°†ç±»è§†ä¸ºä¸€ç§è¯­æ³•ç³–æ¥å®šä¹‰æ„é€ å‡½æ•°åŠå…¶åŸå‹æ–¹æ³•ã€‚ä½†ä¸classçš„æ–¹å¼åˆ›å»ºä¸€ä¸ªç±»æœ‰ç€é‡è¦çš„å·®å¼‚ã€‚</p>
<p>é¦–å…ˆï¼Œ<strong>ç”±classåˆ›å»ºçš„å‡½æ•°ç”±ç‰¹æ®Šçš„å†…éƒ¨å±æ€§æ ‡è®°</strong>[[FunctionKind]]:â€classConstructorâ€<strong>.æ‰€ä»¥å®ƒä¸æ‰‹åŠ¨åˆ›å»ºå¹¶ä¸å®Œå…¨ç›¸åŒ</strong>ã€‚ä¸å¸¸è§„å‡½æ•°ä¸åŒï¼Œå¦‚æœæ²¡æœ‰newï¼Œåˆ™æ— æ³•è°ƒç”¨ç±»æ„é€ å‡½æ•°</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class User &#123;</span><br><span class="line">  constructor() &#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">alert(typeof User); &#x2F;&#x2F; function</span><br><span class="line">User(); &#x2F;&#x2F; Error: Class constructor User cannot be invoked without &#39;new&#39;</span><br></pre></td></tr></table></figure>

<p>æ­¤å¤–ï¼Œå¤§å¤šæ•°JavaScriptå¼•æ“ä¸­çš„ç±»æ„é€ å‡½æ•°çš„å­—ç¬¦ä¸²è¡¨ç¤ºå½¢å¼éƒ½ä»¥â€œclass â€¦â€å¼€å¤´ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class User &#123;</span><br><span class="line">  constructor() &#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">alert(User); &#x2F;&#x2F; class User &#123; ... &#125;</span><br></pre></td></tr></table></figure>

<p>å…¶æ¬¡ï¼Œ<strong>ç±»æ–¹æ³•æ˜¯ä¸å¯æšä¸¾çš„</strong>ã€‚å¯¹äºåŸå‹ä¸­çš„æ‰€æœ‰æ–¹æ³•ï¼Œç±»å®šä¹‰å°†enumerableæ ‡å¿—è®¾ç½®ä¸ºfalseã€‚</p>
<p>æœ€åï¼Œ<strong>ç±»æ€»æ˜¯ä½¿ç”¨ä¸¥æ ¼æ¨¡å¼çš„ã€‚è¿™æ„å‘³ç€ç±»æ„é€ ä¸­çš„æ‰€æœ‰ä»£ç éƒ½è‡ªåŠ¨å¤„äºä¸¥æ ¼æ¨¡å¼</strong>ã€‚</p>
<p>æ­¤å¤–ï¼Œé™¤äº†åŸºæœ¬æ“ä½œä¹‹å¤–ï¼Œç±»è¯­æ³•è¿˜å¸¦æ¥äº†è®¸å¤šå…¶ä»–åŠŸèƒ½ï¼Œç¨åæˆ‘ä»¬å°†å¯¹å…¶è¿›è¡Œæ¢è®¨ã€‚</p>
<p>æ¥ä¸ªä¾‹å­å¯¹æ¯”ä¸€ä¸‹ï¼š<br>ES6ä¹‹å‰ï¼Œç”Ÿæˆå®ä¾‹å¯¹è±¡çš„ä¼ ç»Ÿæ–¹æ³•æ˜¯é€šè¿‡æ„é€ å‡½æ•°ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function Point(x, y) &#123;</span><br><span class="line">  this.x &#x3D;x;</span><br><span class="line">  this.y&#x3D;y;</span><br><span class="line">&#125;</span><br><span class="line">Point.prototype.toString &#x3D; function() &#123;</span><br><span class="line">  return &#39;(&#39;+this.x+&#39;,&#39;+this.y+&#39;)&#39;;</span><br><span class="line">&#125;</span><br><span class="line">var p &#x3D; new Point(1,2)</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢çš„ä»£ç ç”¨ES6æ”¹å†™ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class Point &#123;</span><br><span class="line">  constructor(x,y)&#123;</span><br><span class="line">    this.x &#x3D; x;</span><br><span class="line">    this.y &#x3D; y;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  toString()&#123;</span><br><span class="line">     return &#39;(&#39;+this.x+&#39;,&#39;+this.y+&#39;)&#39;;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ES6æ”¹å†™çš„ä»£ç æ³¨æ„çœ‹ä¸¤ç‚¹ï¼š</p>
<blockquote>
<p>1.ES6å†™æ³•å®šä¹‰äº†ä¸€ä¸ªç±»ï¼Œå¯ä»¥çœ‹åˆ°Pointç±»é‡Œé¢æœ‰ä¸ªconstructoræ–¹æ³•ï¼ˆæ„é€ æ–¹æ³•ï¼‰â€”-ES5çš„æ„é€ å‡½æ•°Pointï¼Œå°±å¯¹åº”çš„æ˜¯ES6çš„Pointç±»çš„æ„é€ æ–¹æ³•<br>2.Pointç±»ä¸­æˆ‘ä»¬è¿˜çœ‹åˆ°äº†toStringæ–¹æ³•ã€‚æ³¨æ„ï¼Œå®šä¹‰<code>ç±»</code>çš„æ–¹æ³•çš„æ—¶å€™ï¼Œåœ¨æ–¹æ³•å‰ä¸è¦åŠ <code>function</code>å…³é”®å­—ï¼Œç›´æ¥æŠŠå‡½æ•°å®šä¹‰æ”¾è¿›å»å³å¯ã€‚è¿˜éœ€è¦æ³¨æ„ä¸€ç‚¹ï¼Œæ–¹æ³•ä¹‹é—´æ˜¯ä¸èƒ½ç”¨é€—å·åˆ†éš”çš„ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚</p>
</blockquote>
<p>ES6çš„ç±»ï¼Œå®Œå…¨å¯çœ‹ä½œæ„é€ å‡½æ•°çš„å¦ä¸€ç§å†™æ³•ï¼ˆåœ¨ç±»çš„å®ä¾‹ä¸Šé¢è°ƒç”¨æ–¹æ³•ï¼Œå…¶å®å°±æ˜¯è°ƒç”¨åŸå‹ä¸Šçš„æ–¹æ³•ï¼‰ï¼Œè¿™ä¸¤å¥è¯ç”¨ä»£ç è¯´æ˜ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">##demo1</span><br><span class="line">class liumz()&#123;&#125;</span><br><span class="line">typeof liumz &#x2F;&#x2F;&quot;function&quot;</span><br><span class="line">liumz &#x3D;&#x3D;&#x3D; liumz.prototype.constructor &#x2F;&#x2F;true</span><br><span class="line"></span><br><span class="line">##demo2</span><br><span class="line">class B &#123;&#125;</span><br><span class="line">let b &#x3D; new B();</span><br><span class="line">b.constructor &#x3D;&#x3D;&#x3D; B.prototype.constructor &#x2F;&#x2F; true</span><br></pre></td></tr></table></figure>

<blockquote>
<p><code>æ„é€ å‡½æ•°çš„prototypeå±æ€§ï¼Œåœ¨ ES6 çš„â€œç±»â€ä¸Šé¢ç»§ç»­å­˜åœ¨ã€‚äº‹å®ä¸Šï¼Œç±»çš„æ‰€æœ‰æ–¹æ³•éƒ½å®šä¹‰åœ¨ç±»çš„prototypeå±æ€§ä¸Šé¢ã€‚</code></p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class Point &#123;</span><br><span class="line">  constructor() &#123;</span><br><span class="line">    &#x2F;&#x2F; ...</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  toString() &#123;</span><br><span class="line">    &#x2F;&#x2F; ...</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  toValue() &#123;</span><br><span class="line">    &#x2F;&#x2F; ...</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; ç­‰åŒäº</span><br><span class="line"></span><br><span class="line">Point.prototype &#x3D; &#123;</span><br><span class="line">  constructor() &#123;&#125;,</span><br><span class="line">  toString() &#123;&#125;,</span><br><span class="line">  toValue() &#123;&#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>ç”±äºç±»çš„æ–¹æ³•éƒ½å®šä¹‰åœ¨prototypeå¯¹è±¡ä¸Šï¼Œæ‰€ä»¥ç±»çš„æ–°æ–¹æ³•å¯ä»¥æ·»åŠ åœ¨protypeå¯¹è±¡ä¸Šé¢:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class Point &#123;</span><br><span class="line">  constructor()&#123;</span><br><span class="line">    &#x2F;&#x2F; ...</span><br><span class="line">  &#125;</span><br><span class="line">Object.assign(Point.protype,&#123;</span><br><span class="line">  toValue()&#123;&#125;,</span><br><span class="line">  toString()&#123;&#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç°åœ¨çœ‹åˆ°ä¸Šé¢ä¸€å †çš„ä»£ç ä¸å®šä¹‰æ–‡å­—è¯´æ˜ï¼Œä¸å¦¨å°æ†©ä¸€ä¸‹ï¼Œå›é¡¾ä¸Šé¢åˆ°åº•è¯´äº†ä¸ªå•¥ï¼š</p>
<blockquote>
<p>ES6æ–°å¼•è¿›äº†Classè¿™ä¸ªæ¦‚å¿µï¼Œè¿™ä¸ªæ¦‚å¿µçš„å¼•å…¥åªæ˜¯è®©å¯¹è±¡åŸå‹çš„å†™æ³•æ›´æ¸…æ™°ï¼ˆClassçš„ç»å¤§éƒ¨åˆ†åŠŸèƒ½åœ¨ES5ä¸­éƒ½å¯ä»¥å®ç°ï¼‰ï¼ŒES5ä¸­çš„æ„é€ å‡½æ•°ç›¸å½“äºClassä¸­çš„æ„é€ æ–¹æ³•ã€‚ç±»çš„æ•°æ®ç±»å‹å°±æ˜¯å‡½æ•°ï¼Œç±»æœ¬èº«æŒ‡å‘æ„é€ å‡½æ•°ã€‚<br>æ„é€ å‡½æ•°æ˜¯æœ‰prototypeå±æ€§çš„ï¼Œè¿™ä¸ªå±æ€§åœ¨ES6çš„ç±»ä¸Šæ˜¯ç»§ç»­å­˜åœ¨çš„ï¼Œåªæ˜¯æ¢äº†ä¸€ç§å†™æ³•.</p>
</blockquote>
<p>åœ¨å……åˆ†ç†è§£äº†ä¸Šé¢çš„å†…å®¹æ—¶ï¼Œæˆ‘ä»¬ç»§ç»­æ·±å…¥ï¼ŒES6çš„ç±»ï¼Œå†…éƒ¨å®šä¹‰çš„æ–¹æ³•ï¼Œéƒ½æ˜¯ä¸å¯æšä¸¾çš„ï¼Œå•¥æ„æ€ï¼Ÿçœ‹ä»£ç ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class Point&#123;</span><br><span class="line">  constructor(x,y)&#123;&#125;</span><br><span class="line">  toString()&#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line">Object.keys(Point.prototype) &#x2F;&#x2F;[]</span><br><span class="line">Object.getOwnPropertyNames(Point.prototype)&#x2F;&#x2F;[&quot;constructor&quot;,&quot;toString&quot;]</span><br></pre></td></tr></table></figure>

<h2 id="ç±»è¡¨è¾¾å¼"><a href="#ç±»è¡¨è¾¾å¼" class="headerlink" title="ç±»è¡¨è¾¾å¼"></a>ç±»è¡¨è¾¾å¼</h2><p>å°±åƒå‡½æ•°ä¸€æ ·ï¼Œç±»å¯ä»¥åœ¨å¦ä¸€ä¸ªè¡¨è¾¾å¼ä¸­å®šä¹‰ï¼Œä¼ é€’ï¼Œè¿”å›ï¼Œåˆ†é…ç­‰ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"> let User &#x3D; class &#123;</span><br><span class="line">         showUInfo() &#123;</span><br><span class="line">             alert(&quot;Hello&quot;);</span><br><span class="line">         &#125;</span><br><span class="line">     &#125;;</span><br><span class="line">new User().showUInfo()</span><br></pre></td></tr></table></figure>

<p>ä¸å‘½åå‡½æ•°è¡¨è¾¾å¼ç±»ä¼¼ï¼Œç±»è¡¨è¾¾å¼å¯èƒ½æœ‰ä¹Ÿå¯èƒ½æ²¡æœ‰åç§°ã€‚</p>
<p>å¦‚æœ<strong>ç±»è¡¨è¾¾å¼å…·æœ‰åç§°ï¼Œåˆ™å®ƒä»…åœ¨ç±»ä¸­å¯è§</strong>ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let User &#x3D; class MyClass &#123;</span><br><span class="line">    showUInfo() &#123;</span><br><span class="line">      alert(&quot;MyClass&quot;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let test &#x3D; new MyClass()&#x2F;&#x2F; å¤±æ•ˆæŠ¥é”™</span><br><span class="line">let test &#x3D; new User()&#x2F;&#x2F; æœ‰æ•ˆ</span><br><span class="line">test.showUInfo()</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬ç”šè‡³å¯ä»¥â€œæŒ‰éœ€â€åŠ¨æ€åˆ›å»ºç±»ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function makeClass(phrase) &#123;</span><br><span class="line">    &#x2F;&#x2F; declare a class and return it</span><br><span class="line">    return class &#123;</span><br><span class="line">        showUInfo() &#123;</span><br><span class="line">            alert(phrase);</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; Create a new class</span><br><span class="line">let User &#x3D; makeClass(&quot;Hello&quot;);</span><br><span class="line"></span><br><span class="line">new User().showUInfo(); &#x2F;&#x2F; Hello</span><br></pre></td></tr></table></figure>

<h2 id="Getters-Setters"><a href="#Getters-Setters" class="headerlink" title="Getters/Setters"></a>Getters/Setters</h2><p>ç±»å¯èƒ½åŒ…æ‹¬getter / setterï¼Œç”Ÿæˆå™¨ï¼Œè®¡ç®—å±æ€§ç­‰ã€‚è¿™é‡Œé€šè¿‡ä½¿ç”¨get/setæ¥å®ç°user.name</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class User&#123;</span><br><span class="line">    constructor(name)&#123;</span><br><span class="line">        this._name &#x3D; name</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    get name()&#123;</span><br><span class="line">        return this._name</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    set name(value)&#123;</span><br><span class="line">        if(value.length&lt;4)&#123;</span><br><span class="line">            alert(&quot;åå­—é•¿åº¦ä¸å¤Ÿ.&quot;);</span><br><span class="line">            return;</span><br><span class="line">        &#125;</span><br><span class="line">        this._name &#x3D; name</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;&#x2F;get</span><br><span class="line">let user &#x3D; new User(&#39;Darkcode&#39;)</span><br><span class="line">console.log(user.name);&#x2F;&#x2F;Darkcode</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;set</span><br><span class="line">let user &#x3D; new User()</span><br><span class="line">user.name &#x3D; &#39;165&#39;</span><br><span class="line">console.log(user.name);&#x2F;&#x2F;</span><br></pre></td></tr></table></figure>

<p>åœ¨Userçš„åŸå‹å¯¹è±¡ä¸­ï¼Œé€šè¿‡ç±»å£°æ˜åˆ›å»ºget/setï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Object.defineProperties(User.prototype, &#123;</span><br><span class="line">  name: &#123;</span><br><span class="line">    get() &#123;</span><br><span class="line">      return this._name</span><br><span class="line">    &#125;,</span><br><span class="line">    set(name) &#123;</span><br><span class="line">      &#x2F;&#x2F; ...</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h2 id="ç±»å±æ€§"><a href="#ç±»å±æ€§" class="headerlink" title="ç±»å±æ€§"></a>ç±»å±æ€§</h2><p>åœ¨ä¸Šé¢çš„åˆ—å­ä¸­ï¼ŒUserç±»ä¸­ä»…ä»…æ·»åŠ äº†ç®€å•çš„æ–¹æ³•ï¼Œç°åœ¨æ¥æ·»åŠ ä¸€äº›å±æ€§ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class User &#123;</span><br><span class="line">  name &#x3D; &quot;Anonymous&quot;;</span><br><span class="line"></span><br><span class="line">  sayHi() &#123;</span><br><span class="line">    alert(&#96;Hello, $&#123;this.name&#125;!&#96;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">new User().sayHi();</span><br></pre></td></tr></table></figure>

<p>è¯¥å±æ€§æœªæ”¾å…¥Userçš„åŸå‹ä¸­ã€‚ç›¸åï¼Œå®ƒæ˜¯ç”±newåˆ›å»ºçš„ï¼Œåˆ†åˆ«ä¸ºæ¯ä¸ªå¯¹è±¡åˆ›å»ºã€‚å› æ­¤ï¼Œè¯¥å±æ€§æ°¸è¿œä¸ä¼šåœ¨åŒä¸€ä¸ªç±»çš„ä¸åŒå¯¹è±¡ä¹‹é—´å…±äº«ã€‚</p>
<h3 id="2-é™æ€æ–¹æ³•"><a href="#2-é™æ€æ–¹æ³•" class="headerlink" title="2.é™æ€æ–¹æ³•"></a>2.é™æ€æ–¹æ³•</h3><hr>
<blockquote>
<p>ç±»ç›¸å½“äºå®ä¾‹çš„åŸå‹ï¼Œæ‰€æœ‰åœ¨ç±»ä¸­å®šä¹‰çš„æ–¹æ³•ï¼Œéƒ½ä¼šè¢«å®ä¾‹ç»§æ‰¿ã€‚å¦‚æœåœ¨ä¸€ä¸ªæ–¹æ³•å‰ï¼ŒåŠ ä¸Šstaticå…³é”®å­—ï¼Œå°±è¡¨ç¤ºè¯¥æ–¹æ³•ä¸ä¼šè¢«å®ä¾‹ç»§æ‰¿ï¼Œè€Œæ˜¯ç›´æ¥é€šè¿‡ç±»æ¥è°ƒç”¨ï¼Œè¿™å°±ç§°ä¸ºâ€œé™æ€æ–¹æ³•â€ã€‚</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class Foo &#123;</span><br><span class="line">  static classMethod() &#123;</span><br><span class="line">    return &#39;hello&#39;;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Foo.classMethod() &#x2F;&#x2F; &#39;hello&#39;</span><br><span class="line"></span><br><span class="line">var foo &#x3D; new Foo();</span><br><span class="line">foo.classMethod()</span><br><span class="line">&#x2F;&#x2F; TypeError: foo.classMethod is not a function</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„ï¼Œå¦‚æœé™æ€æ–¹æ³•åŒ…å«thiså…³é”®å­—ï¼Œè¿™ä¸ªthisæŒ‡çš„æ˜¯ç±»ï¼Œè€Œä¸æ˜¯å®ä¾‹</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class Foo &#123;</span><br><span class="line">  static bar() &#123;</span><br><span class="line">    this.baz();</span><br><span class="line">  &#125;</span><br><span class="line">  static baz() &#123;</span><br><span class="line">    console.log(&#39;hello&#39;);</span><br><span class="line">  &#125;</span><br><span class="line">  baz() &#123;</span><br><span class="line">    console.log(&#39;world&#39;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Foo.bar() &#x2F;&#x2F; hello</span><br></pre></td></tr></table></figure>

<p>è™½ç„¶æ—¢ç„¶ç±»çš„é™æ€æ–¹æ³•ä¸å¯è¢«å®ä¾‹æ‰€ç»§æ‰¿ï¼Œä½†æ˜¯å´å¯ä»¥è¢«å­ç±»ç»§æ‰¿ï¼Œä¸èµ˜è¿°ã€‚</p>
<h3 id="3-å®ä¾‹å±æ€§çš„æ–°å†™æ³•"><a href="#3-å®ä¾‹å±æ€§çš„æ–°å†™æ³•" class="headerlink" title="3.å®ä¾‹å±æ€§çš„æ–°å†™æ³•"></a>3.å®ä¾‹å±æ€§çš„æ–°å†™æ³•</h3><hr>
<p>å®ä¾‹å±æ€§é™¤äº†å®šä¹‰åœ¨constructor()æ–¹æ³•é‡Œé¢çš„thisä¸Šé¢ï¼Œä¹Ÿå¯ä»¥å®šä¹‰åœ¨ç±»çš„æœ€é¡¶å±‚ã€‚å†™æ³•å¯¹æ¯”ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;å®ä¾‹å±æ€§this._countå®šä¹‰åœ¨constructor()æ–¹æ³•é‡Œé¢</span><br><span class="line">class IncreasingCounter &#123;</span><br><span class="line">  constructor() &#123;</span><br><span class="line">    this._count &#x3D; 0;</span><br><span class="line">  &#125;</span><br><span class="line">  get value() &#123;</span><br><span class="line">    console.log(&#39;Getting the current value!&#39;);</span><br><span class="line">    return this._count;</span><br><span class="line">  &#125;</span><br><span class="line">  increment() &#123;</span><br><span class="line">    this._count++;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;å±æ€§å®šä¹‰åœ¨ç±»çš„æœ€é¡¶å±‚ï¼Œå…¶å®ƒä¸å˜</span><br><span class="line">class IncreasingCounter &#123;</span><br><span class="line">  _count &#x3D; 0;</span><br><span class="line">  get value() &#123;</span><br><span class="line">    console.log(&#39;Getting the current value!&#39;);</span><br><span class="line">    return this._count;</span><br><span class="line">  &#125;</span><br><span class="line">  increment() &#123;</span><br><span class="line">    this._count++;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>è¿™ç§æ–°å†™æ³•çš„å¥½å¤„æ˜¯ï¼Œæ‰€æœ‰å®ä¾‹å¯¹è±¡è‡ªèº«çš„å±æ€§éƒ½å®šä¹‰åœ¨ç±»çš„å¤´éƒ¨ï¼Œçœ‹ä¸Šå»æ¯”è¾ƒæ•´é½ï¼Œä¸€çœ¼å°±èƒ½çœ‹å‡ºè¿™ä¸ªç±»æœ‰å“ªäº›å®ä¾‹å±æ€§ã€‚</p>
</blockquote>
<h3 id="4-é™æ€å±æ€§"><a href="#4-é™æ€å±æ€§" class="headerlink" title="4.é™æ€å±æ€§"></a>4.é™æ€å±æ€§</h3><hr>
<blockquote>
<p>é™æ€å±æ€§æŒ‡çš„æ˜¯ Class æœ¬èº«çš„å±æ€§ï¼Œå³Class.propNameï¼Œè€Œä¸æ˜¯å®šä¹‰åœ¨å®ä¾‹å¯¹è±¡ï¼ˆthisï¼‰ä¸Šçš„å±æ€§ã€‚</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class Foo &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Foo.prop &#x3D; 1;</span><br><span class="line">Foo.prop &#x2F;&#x2F; 1</span><br></pre></td></tr></table></figure>

<blockquote>
<p>ç›®å‰ï¼Œåªæœ‰è¿™ç§å†™æ³•å¯è¡Œï¼Œå› ä¸º ES6 æ˜ç¡®è§„å®šï¼ŒClass å†…éƒ¨åªæœ‰é™æ€æ–¹æ³•ï¼Œæ²¡æœ‰é™æ€å±æ€§ã€‚ç°åœ¨æœ‰ä¸€ä¸ª<a href="https://links.jianshu.com/go?to=https%3A%2F%2Fgithub.com%2Ftc39%2Fproposal-class-fields" target="_blank" rel="noopener">ææ¡ˆ</a>æä¾›äº†ç±»çš„é™æ€å±æ€§ï¼Œå†™æ³•æ˜¯åœ¨å®ä¾‹å±æ€§æ³•çš„å‰é¢ï¼ŒåŠ ä¸Š<code>static</code>å…³é”®å­—ã€‚</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; è€å†™æ³•</span><br><span class="line">class Foo &#123;</span><br><span class="line">  &#x2F;&#x2F; ...</span><br><span class="line">&#125;</span><br><span class="line">Foo.prop &#x3D; 1;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; æ–°å†™æ³•</span><br><span class="line">class Foo &#123;</span><br><span class="line">  static prop &#x3D; 1;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>es6</category>
      </categories>
      <tags>
        <tag>es6</tag>
        <tag>class</tag>
      </tags>
  </entry>
  <entry>
    <title>es6ä¹‹mapå’Œsetç»“æ„</title>
    <url>/2020/09/14/es6%E4%B9%8Bmap%E5%92%8Cset%E7%BB%93%E6%9E%84/</url>
    <content><![CDATA[<h2 id="ä¸€-Mapç»“æ„æ•°æ®"><a href="#ä¸€-Mapç»“æ„æ•°æ®" class="headerlink" title="ä¸€.Mapç»“æ„æ•°æ®"></a>ä¸€.Mapç»“æ„æ•°æ®</h2><blockquote>
<p><img src="https:////upload-images.jianshu.io/upload_images/5417256-625e0db86d075be5.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp" alt="img"></p>
</blockquote>
<a id="more"></a>

<h4 id="1-ä¼ ç»Ÿå¯¹è±¡é”®åå¿…é¡»ä¸ºå­—ç¬¦ä¸²"><a href="#1-ä¼ ç»Ÿå¯¹è±¡é”®åå¿…é¡»ä¸ºå­—ç¬¦ä¸²" class="headerlink" title="1. ä¼ ç»Ÿå¯¹è±¡é”®åå¿…é¡»ä¸ºå­—ç¬¦ä¸²"></a>1. ä¼ ç»Ÿå¯¹è±¡é”®åå¿…é¡»ä¸ºå­—ç¬¦ä¸²</h4><p>let obj = {a:1, 666:2}; console.log(666);â€“&gt;æŠ¥é”™</p>
<h4 id="2-mapç»“æ„æ•°æ®æ˜¯ä¸€ç§â€œå€¼-å€¼â€å¯¹åº”å…³ç³»"><a href="#2-mapç»“æ„æ•°æ®æ˜¯ä¸€ç§â€œå€¼-å€¼â€å¯¹åº”å…³ç³»" class="headerlink" title="2.mapç»“æ„æ•°æ®æ˜¯ä¸€ç§â€œå€¼-å€¼â€å¯¹åº”å…³ç³»"></a>2.mapç»“æ„æ•°æ®æ˜¯ä¸€ç§â€œå€¼-å€¼â€å¯¹åº”å…³ç³»</h4><figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> m = <span class="keyword">new</span> Map();</span><br><span class="line">m.<span class="keyword">set</span>(<span class="number">123</span>,<span class="string">'abc'</span>);</span><br><span class="line">console.log(m.<span class="keyword">get</span>(<span class="number">123</span>));</span><br><span class="line">--&gt; abc</span><br></pre></td></tr></table></figure>

<h2 id="äºŒ-Mapç»“æ„æ•°æ®åˆå§‹åŒ–å’Œæ–¹æ³•"><a href="#äºŒ-Mapç»“æ„æ•°æ®åˆå§‹åŒ–å’Œæ–¹æ³•" class="headerlink" title="äºŒ.Mapç»“æ„æ•°æ®åˆå§‹åŒ–å’Œæ–¹æ³•"></a>äºŒ.Mapç»“æ„æ•°æ®åˆå§‹åŒ–å’Œæ–¹æ³•</h2><h4 id="1-å¯ç›´æ¥ä¼ å…¥é”®å€¼å¯¹äºŒç»´æ•°ç»„"><a href="#1-å¯ç›´æ¥ä¼ å…¥é”®å€¼å¯¹äºŒç»´æ•°ç»„" class="headerlink" title="1. å¯ç›´æ¥ä¼ å…¥é”®å€¼å¯¹äºŒç»´æ•°ç»„"></a>1. å¯ç›´æ¥ä¼ å…¥é”®å€¼å¯¹äºŒç»´æ•°ç»„</h4><h4 id="2-get-è·å¾—æ•°æ®"><a href="#2-get-è·å¾—æ•°æ®" class="headerlink" title="2. get()-è·å¾—æ•°æ®"></a>2. get()-è·å¾—æ•°æ®</h4><figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> m = <span class="keyword">new</span> Map([</span><br><span class="line">    [<span class="meta">123,'abc'</span>],</span><br><span class="line">    [<span class="meta">'a',&#123;x:1,y:2&#125;</span>],</span><br><span class="line">    [<span class="meta">3&gt;1,666</span>]</span><br><span class="line">]);</span><br><span class="line">è·å¾—æ•°æ®</span><br><span class="line">console.log(m.<span class="keyword">get</span>(<span class="literal">true</span>));</span><br><span class="line">--&gt;è¿”å›<span class="number">666</span></span><br></pre></td></tr></table></figure>

<h4 id="3-has-æŸ¥æ‰¾æœ‰æ²¡æœ‰å­—ç¬¦ä¸²å¯¹åº”çš„å€¼"><a href="#3-has-æŸ¥æ‰¾æœ‰æ²¡æœ‰å­—ç¬¦ä¸²å¯¹åº”çš„å€¼" class="headerlink" title="3. has()-æŸ¥æ‰¾æœ‰æ²¡æœ‰å­—ç¬¦ä¸²å¯¹åº”çš„å€¼"></a>3. has()-æŸ¥æ‰¾æœ‰æ²¡æœ‰å­—ç¬¦ä¸²å¯¹åº”çš„å€¼</h4><p>æ¥ä¸Šé¢ä¾‹å­</p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line">m.has(<span class="string">'a'</span>);--&gt;<span class="literal">true</span></span><br></pre></td></tr></table></figure>

<h4 id="4-delete-åˆ é™¤"><a href="#4-delete-åˆ é™¤" class="headerlink" title="4. delete()-åˆ é™¤"></a>4. delete()-åˆ é™¤</h4><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line">m.<span class="keyword">delete</span>(<span class="number">123</span>);</span><br></pre></td></tr></table></figure>

<h2 id="ä¸‰-mapç»“æ„å¯¹è±¡é”®åç‰¹ç‚¹"><a href="#ä¸‰-mapç»“æ„å¯¹è±¡é”®åç‰¹ç‚¹" class="headerlink" title="ä¸‰.mapç»“æ„å¯¹è±¡é”®åç‰¹ç‚¹"></a>ä¸‰.mapç»“æ„å¯¹è±¡é”®åç‰¹ç‚¹</h2><h4 id="1-ä¼ å€ç‰¹ç‚¹â€“å¯¹è±¡ä½œä¸ºé”®åï¼Œä¼ è¾“çš„æ˜¯åœ°å€ï¼Œæ‰€ä»¥ä¸‹ä¾‹ä¸­çš„ä¸¤ä¸ª-x-1-è™½ç„¶é•¿ç›¸ä¸€æ ·ï¼Œä½†å®é™…å€¼ä¸åŒï¼ˆå­˜å‚¨åœ¨å †å†…å­˜çš„ä¸¤ä¸ªä½ç½®ï¼‰"><a href="#1-ä¼ å€ç‰¹ç‚¹â€“å¯¹è±¡ä½œä¸ºé”®åï¼Œä¼ è¾“çš„æ˜¯åœ°å€ï¼Œæ‰€ä»¥ä¸‹ä¾‹ä¸­çš„ä¸¤ä¸ª-x-1-è™½ç„¶é•¿ç›¸ä¸€æ ·ï¼Œä½†å®é™…å€¼ä¸åŒï¼ˆå­˜å‚¨åœ¨å †å†…å­˜çš„ä¸¤ä¸ªä½ç½®ï¼‰" class="headerlink" title="1. ä¼ å€ç‰¹ç‚¹â€“å¯¹è±¡ä½œä¸ºé”®åï¼Œä¼ è¾“çš„æ˜¯åœ°å€ï¼Œæ‰€ä»¥ä¸‹ä¾‹ä¸­çš„ä¸¤ä¸ª{x:1}è™½ç„¶é•¿ç›¸ä¸€æ ·ï¼Œä½†å®é™…å€¼ä¸åŒï¼ˆå­˜å‚¨åœ¨å †å†…å­˜çš„ä¸¤ä¸ªä½ç½®ï¼‰"></a>1. ä¼ å€ç‰¹ç‚¹â€“å¯¹è±¡ä½œä¸ºé”®åï¼Œä¼ è¾“çš„æ˜¯åœ°å€ï¼Œæ‰€ä»¥ä¸‹ä¾‹ä¸­çš„ä¸¤ä¸ª{x:1}è™½ç„¶é•¿ç›¸ä¸€æ ·ï¼Œä½†å®é™…å€¼ä¸åŒï¼ˆå­˜å‚¨åœ¨å †å†…å­˜çš„ä¸¤ä¸ªä½ç½®ï¼‰</h4><figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> m = <span class="keyword">new</span> <span class="built_in">Map</span>([</span><br><span class="line">    [<span class="number">123</span>,<span class="string">'abc'</span>],</span><br><span class="line">    [&#123;<span class="attr">x</span>:<span class="number">1</span>&#125;,<span class="string">'cdf'</span>],</span><br><span class="line">]);</span><br><span class="line"><span class="built_in">console</span>.log(m.get(&#123;<span class="attr">x</span>:<span class="number">1</span>&#125;));</span><br><span class="line">--&gt;<span class="literal">undefined</span></span><br></pre></td></tr></table></figure>

<p>å¯ä»¥ä¿®æ”¹æˆä¸‹é¢å½¢å¼</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;<span class="attr">x</span>:<span class="number">1</span>&#125;;</span><br><span class="line"><span class="keyword">let</span> m = <span class="keyword">new</span> <span class="built_in">Map</span>([</span><br><span class="line">    [<span class="number">123</span>,<span class="string">'abc'</span>],</span><br><span class="line">    [obj,<span class="string">'cdf'</span>],</span><br><span class="line">]);</span><br><span class="line"><span class="built_in">console</span>.log(m.get(obj));</span><br><span class="line">--&gt;cdf</span><br></pre></td></tr></table></figure>

<h2 id="å››-mapç»“æ„éå†"><a href="#å››-mapç»“æ„éå†" class="headerlink" title="å››.mapç»“æ„éå†"></a>å››.mapç»“æ„éå†</h2><blockquote>
<p><img src="https:////upload-images.jianshu.io/upload_images/5417256-97f1f22420a77e1b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/952/format/webp" alt="img"></p>
</blockquote>
<h4 id="1-keys-â€“-gt-å°†é”®åéƒ½å–å‡ºæ¥ï¼Œç»„æˆä¸€ä¸ªå¯éå†çš„æ•°æ®é›†åˆ"><a href="#1-keys-â€“-gt-å°†é”®åéƒ½å–å‡ºæ¥ï¼Œç»„æˆä¸€ä¸ªå¯éå†çš„æ•°æ®é›†åˆ" class="headerlink" title="1. keys()â€“&gt;å°†é”®åéƒ½å–å‡ºæ¥ï¼Œç»„æˆä¸€ä¸ªå¯éå†çš„æ•°æ®é›†åˆ"></a>1. keys()â€“&gt;å°†é”®åéƒ½å–å‡ºæ¥ï¼Œç»„æˆä¸€ä¸ªå¯éå†çš„æ•°æ®é›†åˆ</h4><figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> m = <span class="keyword">new</span> <span class="built_in">Map</span>([</span><br><span class="line">    [<span class="number">123</span>,<span class="string">'abc'</span>],</span><br><span class="line">    [<span class="string">'a'</span>,<span class="string">'hahaha'</span>],</span><br><span class="line">    [<span class="number">1</span>&gt;<span class="number">2</span>,<span class="string">'baidu.com'</span>]</span><br><span class="line">]);</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> x <span class="keyword">of</span> m.keys())&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(x);</span><br><span class="line">&#125;</span><br><span class="line">--&gt;<span class="number">123</span> a <span class="literal">false</span></span><br></pre></td></tr></table></figure>

<h4 id="2-values"><a href="#2-values" class="headerlink" title="2. values()"></a>2. values()</h4><figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> m = <span class="keyword">new</span> <span class="built_in">Map</span>([</span><br><span class="line">    [<span class="number">123</span>,<span class="string">'abc'</span>],</span><br><span class="line">    [<span class="string">'a'</span>,<span class="string">'hahaha'</span>],</span><br><span class="line">    [<span class="number">1</span>&gt;<span class="number">2</span>,<span class="string">'baidu.com'</span>]</span><br><span class="line">]);</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> x <span class="keyword">of</span> m.values())&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(x);</span><br><span class="line">&#125;</span><br><span class="line">--&gt;abc hahaha baidu.com</span><br></pre></td></tr></table></figure>

<h4 id="3-entries"><a href="#3-entries" class="headerlink" title="3. entries()"></a>3. entries()</h4><figure class="highlight php"><table><tr><td class="code"><pre><span class="line">let m = <span class="keyword">new</span> Map([</span><br><span class="line">    [<span class="number">123</span>,<span class="string">'abc'</span>],</span><br><span class="line">    [<span class="string">'a'</span>,<span class="string">'hahaha'</span>],</span><br><span class="line">    [<span class="number">1</span>&gt;<span class="number">2</span>,<span class="string">'baidu.com'</span>]</span><br><span class="line">]);</span><br><span class="line"><span class="keyword">for</span>(let x of m.entries())&#123;</span><br><span class="line">    console.log(x);</span><br><span class="line">&#125;</span><br><span class="line">--&gt;</span><br><span class="line"><span class="keyword">Array</span>[<span class="number">123</span>,<span class="string">'abc'</span>]</span><br><span class="line"><span class="keyword">Array</span>[<span class="string">'a'</span>,<span class="string">'hahaha'</span>]</span><br><span class="line"><span class="keyword">Array</span>[<span class="keyword">false</span> ,<span class="string">'baidu.com]</span></span><br></pre></td></tr></table></figure>

<h4 id="4-forEach-â€“ç¬¬ä¸€ä¸ªå‚æ•°ä»£è¡¨é”®å€¼ï¼Œç¬¬äºŒä¸ªå‚æ•°ä»£è¡¨é”®å"><a href="#4-forEach-â€“ç¬¬ä¸€ä¸ªå‚æ•°ä»£è¡¨é”®å€¼ï¼Œç¬¬äºŒä¸ªå‚æ•°ä»£è¡¨é”®å" class="headerlink" title="4. forEach()â€“ç¬¬ä¸€ä¸ªå‚æ•°ä»£è¡¨é”®å€¼ï¼Œç¬¬äºŒä¸ªå‚æ•°ä»£è¡¨é”®å"></a>4. forEach()â€“ç¬¬ä¸€ä¸ªå‚æ•°ä»£è¡¨é”®å€¼ï¼Œç¬¬äºŒä¸ªå‚æ•°ä»£è¡¨é”®å</h4><figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> m = <span class="keyword">new</span> <span class="built_in">Map</span>([</span><br><span class="line">    [<span class="number">123</span>,<span class="string">'abc'</span>],</span><br><span class="line">    [<span class="string">'a'</span>,<span class="string">'hahaha'</span>],</span><br><span class="line">    [<span class="number">1</span>&gt;<span class="number">2</span>,<span class="string">'baidu.com'</span>]</span><br><span class="line">]);</span><br><span class="line">m.forEach(<span class="function"><span class="params">x</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(x);</span><br><span class="line">&#125;)</span><br><span class="line">--&gt;è¿”å›abc hahaha baidu.com</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">m.forEach(<span class="function">(<span class="params">x,y</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(x,y);</span><br><span class="line">&#125;)</span><br><span class="line">--&gt;è¿”å›</span><br><span class="line">abc <span class="number">123</span> </span><br><span class="line">hahaha a</span><br><span class="line">baidu.com <span class="literal">false</span></span><br></pre></td></tr></table></figure>

<h2 id="äº”-mapç»“æ„æ‰©å±•è¿ç®—ç¬¦"><a href="#äº”-mapç»“æ„æ‰©å±•è¿ç®—ç¬¦" class="headerlink" title="äº”.mapç»“æ„æ‰©å±•è¿ç®—ç¬¦"></a>äº”.mapç»“æ„æ‰©å±•è¿ç®—ç¬¦</h2><blockquote>
<p><img src="https:////upload-images.jianshu.io/upload_images/5417256-0243bc74a207350d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/734/format/webp" alt="img"></p>
<p><img src="https:////upload-images.jianshu.io/upload_images/5417256-29c920ecbfe9d944.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/668/format/webp" alt="img"></p>
<p><img src="https:////upload-images.jianshu.io/upload_images/5417256-4b3a1d9eed0acb8a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/992/format/webp" alt="img"></p>
<p>è¾“å‡ºhd</p>
</blockquote>
<blockquote>
<p><img src="https:////upload-images.jianshu.io/upload_images/5417256-fcd1a0816cc30ab8.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/990/format/webp" alt="img"></p>
</blockquote>
<h2 id="â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”"><a href="#â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”" class="headerlink" title="â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”-"></a>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”-</h2><h2 id="ä¸€-Setç»“æ„æ•°æ®"><a href="#ä¸€-Setç»“æ„æ•°æ®" class="headerlink" title="ä¸€.Setç»“æ„æ•°æ®"></a>ä¸€.Setç»“æ„æ•°æ®</h2><h4 id="1-setç»“æ„çš„æ•°æ®ç±»ä¼¼äºæ•°ç»„ï¼Œä½†æˆå‘˜å€¼éƒ½æ˜¯æ²¡æœ‰é‡å¤çš„å”¯ä¸€å€¼ã€‚"><a href="#1-setç»“æ„çš„æ•°æ®ç±»ä¼¼äºæ•°ç»„ï¼Œä½†æˆå‘˜å€¼éƒ½æ˜¯æ²¡æœ‰é‡å¤çš„å”¯ä¸€å€¼ã€‚" class="headerlink" title="1. setç»“æ„çš„æ•°æ®ç±»ä¼¼äºæ•°ç»„ï¼Œä½†æˆå‘˜å€¼éƒ½æ˜¯æ²¡æœ‰é‡å¤çš„å”¯ä¸€å€¼ã€‚"></a>1. setç»“æ„çš„æ•°æ®ç±»ä¼¼äºæ•°ç»„ï¼Œä½†æˆå‘˜å€¼éƒ½æ˜¯æ²¡æœ‰é‡å¤çš„å”¯ä¸€å€¼ã€‚</h4><blockquote>
<p><img src="https:////upload-images.jianshu.io/upload_images/5417256-95dfcd842c22cbdd.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1162/format/webp" alt="img"></p>
<p><img src="https:////upload-images.jianshu.io/upload_images/5417256-c5a33afd58d42fde.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/986/format/webp" alt="img"></p>
<p>s-&gt;Set[1,2,3,4]//æ³¨æ„ï¼šæ­¤æ—¶ä»–æ˜¯setç»“æ„æ•°æ®ï¼Œä¸æ˜¯æ•°ç»„</p>
</blockquote>
<h2 id="äºŒ-æ•°ç»„å»é‡"><a href="#äºŒ-æ•°ç»„å»é‡" class="headerlink" title="äºŒ.æ•°ç»„å»é‡"></a>äºŒ.æ•°ç»„å»é‡</h2><h4 id="1-å¯ä»¥ç”¨ä½œæ•°ç»„å»é‡çš„åŠŸèƒ½"><a href="#1-å¯ä»¥ç”¨ä½œæ•°ç»„å»é‡çš„åŠŸèƒ½" class="headerlink" title="1. å¯ä»¥ç”¨ä½œæ•°ç»„å»é‡çš„åŠŸèƒ½"></a>1. å¯ä»¥ç”¨ä½œæ•°ç»„å»é‡çš„åŠŸèƒ½</h4><figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> s = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="string">'3'</span>,<span class="number">1</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">3</span>]);</span><br><span class="line"><span class="built_in">console</span>.log(s);</span><br><span class="line">s-&gt;<span class="built_in">Set</span>[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="string">'3'</span>];æ³¨æ„æ­¤æ—¶sä¸º<span class="keyword">set</span>ç»“æ„æ•°æ®</span><br></pre></td></tr></table></figure>

<h4 id="2-å°†setç»“æ„æ•°æ®å˜æˆæ•°ç»„â€“-gt-æ‰©å±•è¿ç®—ç¬¦â€¦"><a href="#2-å°†setç»“æ„æ•°æ®å˜æˆæ•°ç»„â€“-gt-æ‰©å±•è¿ç®—ç¬¦â€¦" class="headerlink" title="2. å°†setç»“æ„æ•°æ®å˜æˆæ•°ç»„â€“&gt;æ‰©å±•è¿ç®—ç¬¦â€¦"></a>2. å°†setç»“æ„æ•°æ®å˜æˆæ•°ç»„â€“&gt;æ‰©å±•è¿ç®—ç¬¦â€¦</h4><figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> s = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="string">'3'</span>,<span class="number">1</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">3</span>]);</span><br><span class="line"><span class="keyword">let</span> arr = [...s];</span><br><span class="line"><span class="built_in">console</span>.log(arr);</span><br><span class="line">arr-&gt;<span class="built_in">Array</span>[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="string">'3'</span>];</span><br></pre></td></tr></table></figure>

<h4 id="3-æ–¹æ³•äºŒï¼šArray-from-æ–¹æ³•å¯å°†æ•°æ®è½¬åŒ–æˆæ•°ç»„"><a href="#3-æ–¹æ³•äºŒï¼šArray-from-æ–¹æ³•å¯å°†æ•°æ®è½¬åŒ–æˆæ•°ç»„" class="headerlink" title="3. æ–¹æ³•äºŒï¼šArray.from()æ–¹æ³•å¯å°†æ•°æ®è½¬åŒ–æˆæ•°ç»„"></a>3. æ–¹æ³•äºŒï¼šArray.from()æ–¹æ³•å¯å°†æ•°æ®è½¬åŒ–æˆæ•°ç»„</h4><blockquote>
<p><img src="https:////upload-images.jianshu.io/upload_images/5417256-bab71776f3ab4159.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp" alt="img"></p>
</blockquote>
<h2 id="ä¸‰-setç»“æ„æ•°æ®æ–¹æ³•"><a href="#ä¸‰-setç»“æ„æ•°æ®æ–¹æ³•" class="headerlink" title="ä¸‰.setç»“æ„æ•°æ®æ–¹æ³•"></a>ä¸‰.setç»“æ„æ•°æ®æ–¹æ³•</h2><ul>
<li><h4 id="setå®ä¾‹çš„å±æ€§å’Œæ–¹æ³•"><a href="#setå®ä¾‹çš„å±æ€§å’Œæ–¹æ³•" class="headerlink" title="setå®ä¾‹çš„å±æ€§å’Œæ–¹æ³•"></a>setå®ä¾‹çš„å±æ€§å’Œæ–¹æ³•</h4></li>
</ul>
<blockquote>
<p><img src="https:////upload-images.jianshu.io/upload_images/5417256-9e7c4298bbb198d8.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1172/format/webp" alt="img"></p>
</blockquote>
<h4 id="1-add-value"><a href="#1-add-value" class="headerlink" title="1. add(value);"></a>1. add(value);</h4><ul>
<li><strong>s.sizeè·å¾—setæ•°æ®çš„é•¿åº¦</strong></li>
</ul>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> s = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]);</span><br><span class="line"><span class="built_in">console</span>.log(s.size);</span><br><span class="line">--&gt;<span class="number">4</span></span><br><span class="line">s.add(<span class="number">6</span>);</span><br><span class="line">s.add(<span class="number">6</span>);</span><br><span class="line">s.add(<span class="number">6</span>);</span><br><span class="line"><span class="built_in">console</span>.log(s);</span><br><span class="line">s--&gt;<span class="built_in">Set</span>[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">6</span>]</span><br></pre></td></tr></table></figure>

<h4 id="2-delete-value"><a href="#2-delete-value" class="headerlink" title="2. delete(value)"></a>2. delete(value)</h4><figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> s = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]);</span><br><span class="line">s.delete(<span class="number">3</span>);</span><br><span class="line"><span class="built_in">console</span>.log(s);</span><br><span class="line">s--&gt;<span class="built_in">Set</span>[<span class="number">1</span>,<span class="number">2</span>,<span class="number">4</span>]</span><br></pre></td></tr></table></figure>

<h4 id="3-has-value"><a href="#3-has-value" class="headerlink" title="3. has(value)"></a>3. has(value)</h4><figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> s = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]);</span><br><span class="line"><span class="built_in">console</span>.log(s.has(<span class="number">7</span>));</span><br><span class="line">--&gt;<span class="literal">false</span></span><br></pre></td></tr></table></figure>

<h4 id="4-clear"><a href="#4-clear" class="headerlink" title="4. clear()"></a>4. clear()</h4><figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> s = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]);</span><br><span class="line">s.clear();</span><br><span class="line"><span class="built_in">console</span>.log(s);</span><br><span class="line">--&gt;<span class="built_in">Set</span>[];</span><br></pre></td></tr></table></figure>

<h2 id="å››-setç»“æ„æ•°æ®éå†"><a href="#å››-setç»“æ„æ•°æ®éå†" class="headerlink" title="å››.setç»“æ„æ•°æ®éå†"></a>å››.setç»“æ„æ•°æ®éå†</h2><blockquote>
<p><img src="https:////upload-images.jianshu.io/upload_images/5417256-31d5191deb76df59.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/876/format/webp" alt="img"></p>
</blockquote>
<ul>
<li><h4 id="éå†å™¨åªèƒ½ç”¨forâ€¦ofâ€¦æ¥éå†"><a href="#éå†å™¨åªèƒ½ç”¨forâ€¦ofâ€¦æ¥éå†" class="headerlink" title="éå†å™¨åªèƒ½ç”¨forâ€¦ofâ€¦æ¥éå†"></a>éå†å™¨åªèƒ½ç”¨forâ€¦ofâ€¦æ¥éå†</h4></li>
<li><h4 id="è¡¥å……ï¼šå¯¹è±¡ä¸­çš„é”®åå’Œé”®å€¼-eg-a-1-b-2-â€“-gt-a-bä¸ºé”®åï¼Œ1-2ä¸ºé”®å€¼"><a href="#è¡¥å……ï¼šå¯¹è±¡ä¸­çš„é”®åå’Œé”®å€¼-eg-a-1-b-2-â€“-gt-a-bä¸ºé”®åï¼Œ1-2ä¸ºé”®å€¼" class="headerlink" title="è¡¥å……ï¼šå¯¹è±¡ä¸­çš„é”®åå’Œé”®å€¼ eg:{a:1,b:2}â€“&gt;a,bä¸ºé”®åï¼Œ1,2ä¸ºé”®å€¼"></a>è¡¥å……ï¼šå¯¹è±¡ä¸­çš„é”®åå’Œé”®å€¼ eg:{a:1,b:2}â€“&gt;a,bä¸ºé”®åï¼Œ1,2ä¸ºé”®å€¼</h4></li>
</ul>
<h4 id="1-forâ€¦ofâ€¦ç”¨æ¥éå†éå†å™¨"><a href="#1-forâ€¦ofâ€¦ç”¨æ¥éå†éå†å™¨" class="headerlink" title="1. forâ€¦ofâ€¦ç”¨æ¥éå†éå†å™¨"></a>1. forâ€¦ofâ€¦ç”¨æ¥éå†éå†å™¨</h4><h4 id="2-keys-â€“-gt-å°†setæ•°æ®é‡Œçš„é”®åå…¨éƒ¨æ‹¢åœ¨ä¸€èµ·ï¼Œå†åˆ©ç”¨for-oféå†"><a href="#2-keys-â€“-gt-å°†setæ•°æ®é‡Œçš„é”®åå…¨éƒ¨æ‹¢åœ¨ä¸€èµ·ï¼Œå†åˆ©ç”¨for-oféå†" class="headerlink" title="2. keys()â€“&gt;å°†setæ•°æ®é‡Œçš„é”®åå…¨éƒ¨æ‹¢åœ¨ä¸€èµ·ï¼Œå†åˆ©ç”¨for oféå†"></a>2. keys()â€“&gt;å°†setæ•°æ®é‡Œçš„é”®åå…¨éƒ¨æ‹¢åœ¨ä¸€èµ·ï¼Œå†åˆ©ç”¨for oféå†</h4><figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> s = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>,<span class="string">'b'</span>,<span class="string">'d'</span>,<span class="string">'a'</span>]);</span><br><span class="line"><span class="keyword">for</span> ( x <span class="keyword">of</span> s.keys())&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(x);</span><br><span class="line">&#125;</span><br><span class="line">--&gt;a b c d</span><br></pre></td></tr></table></figure>

<ul>
<li>setæ•°æ®ä¸åˆ†é”®åå’Œé”®å€¼ï¼Œæ‰€ä»¥keyså’Œvaluesä¸€æ ·</li>
</ul>
<h4 id="3-values"><a href="#3-values" class="headerlink" title="3. values()"></a>3. values()</h4><figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> s = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>,<span class="string">'b'</span>,<span class="string">'d'</span>,<span class="string">'a'</span>]);</span><br><span class="line"><span class="keyword">for</span> ( x <span class="keyword">of</span> s.values())&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(x);</span><br><span class="line">&#125;</span><br><span class="line">--&gt;a b c d</span><br></pre></td></tr></table></figure>

<h4 id="4-entries-é”®å€¼å¯¹æŒ‡é”®åä¸é”®å€¼çš„é›†åˆ"><a href="#4-entries-é”®å€¼å¯¹æŒ‡é”®åä¸é”®å€¼çš„é›†åˆ" class="headerlink" title="4.entries();é”®å€¼å¯¹æŒ‡é”®åä¸é”®å€¼çš„é›†åˆ"></a>4.entries();é”®å€¼å¯¹æŒ‡é”®åä¸é”®å€¼çš„é›†åˆ</h4><figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> s = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>,<span class="string">'b'</span>,<span class="string">'d'</span>,<span class="string">'a'</span>]);</span><br><span class="line"><span class="keyword">for</span> ( x <span class="keyword">of</span> s.entries())&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(x);</span><br><span class="line">&#125;</span><br><span class="line">--&gt;<span class="built_in">Array</span>[<span class="string">'a'</span>,<span class="string">'a'</span>] </span><br><span class="line"><span class="built_in">Array</span>[<span class="string">'b'</span>,<span class="string">'b'</span>]</span><br><span class="line"><span class="built_in">Array</span>[<span class="string">'c'</span>,<span class="string">'c'</span>]</span><br><span class="line"><span class="built_in">Array</span>[<span class="string">'d'</span>,<span class="string">'d'</span>]</span><br></pre></td></tr></table></figure>

<h4 id="5-forEach-ï¼›ä¸æ•°ç»„forEach-å¾ªç¯æ–¹æ³•ä¸€æ ·"><a href="#5-forEach-ï¼›ä¸æ•°ç»„forEach-å¾ªç¯æ–¹æ³•ä¸€æ ·" class="headerlink" title="5. forEach()ï¼›ä¸æ•°ç»„forEach()å¾ªç¯æ–¹æ³•ä¸€æ ·"></a>5. forEach()ï¼›ä¸æ•°ç»„forEach()å¾ªç¯æ–¹æ³•ä¸€æ ·</h4><blockquote>
<p><img src="https:////upload-images.jianshu.io/upload_images/5417256-7845549dc0dfb2f4.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp" alt="img"></p>
</blockquote>
<p>é“¾æ¥ï¼š<a href="https://www.jianshu.com/p/7f934c99c4dd" target="_blank" rel="noopener">https://www.jianshu.com/p/7f934c99c4dd</a></p>
]]></content>
      <categories>
        <category>es6</category>
      </categories>
      <tags>
        <tag>map</tag>
        <tag>set</tag>
      </tags>
  </entry>
  <entry>
    <title>es6ä¹‹æ‰©å±•è¿ç®—ç¬¦</title>
    <url>/2020/09/14/es6%E4%B9%8B%E6%89%A9%E5%B1%95%E8%BF%90%E7%AE%97%E7%AC%A6/</url>
    <content><![CDATA[<h3 id="å«ä¹‰"><a href="#å«ä¹‰" class="headerlink" title="å«ä¹‰"></a><strong>å«ä¹‰</strong></h3><p>æ‰©å±•è¿ç®—ç¬¦ï¼ˆspreadï¼‰æ˜¯ä¸‰ä¸ªç‚¹ï¼ˆ<code>...</code>ï¼‰ã€‚å®ƒå¥½æ¯” rest å‚æ•°çš„é€†è¿ç®—ï¼Œå°†ä¸€ä¸ªæ•°ç»„è½¬ä¸ºç”¨é€—å·åˆ†éš”çš„å‚æ•°åºåˆ—ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">console.log(...[1, 2, 3])</span><br><span class="line">&#x2F;&#x2F; 1 2 3</span><br><span class="line"></span><br><span class="line">console.log(1, ...[2, 3, 4], 5)</span><br><span class="line">&#x2F;&#x2F; 1 2 3 4 5</span><br><span class="line"></span><br><span class="line">[...document.querySelectorAll(&#39;div&#39;)]</span><br><span class="line">&#x2F;&#x2F; [&lt;div&gt;, &lt;div&gt;, &lt;div&gt;]</span><br></pre></td></tr></table></figure>

<a id="more"></a>

<p>è¯¥è¿ç®—ç¬¦ä¸»è¦ç”¨äºå‡½æ•°è°ƒç”¨ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function push(array, ...items) &#123;</span><br><span class="line">  array.push(...items);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function add(x, y) &#123;</span><br><span class="line">  return x + y;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const numbers &#x3D; [4, 38];</span><br><span class="line">add(...numbers) &#x2F;&#x2F; 42</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä»£ç ä¸­ï¼Œarray.push(â€¦items)å’Œadd(â€¦numbers)è¿™ä¸¤è¡Œï¼Œéƒ½æ˜¯å‡½æ•°çš„è°ƒç”¨ï¼Œå®ƒä»¬éƒ½ä½¿ç”¨äº†æ‰©å±•è¿ç®—ç¬¦ã€‚è¯¥è¿ç®—ç¬¦å°†ä¸€ä¸ªæ•°ç»„ï¼Œå˜ä¸ºå‚æ•°åºåˆ—ã€‚</p>
<p>æ‰©å±•è¿ç®—ç¬¦ä¸æ­£å¸¸çš„å‡½æ•°å‚æ•°å¯ä»¥ç»“åˆä½¿ç”¨ï¼Œéå¸¸çµæ´»ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function f(v, w, x, y, z) &#123; &#125;</span><br><span class="line">const args &#x3D; [0, 1];</span><br><span class="line">f(-1, ...args, 2, ...[3]);</span><br></pre></td></tr></table></figure>

<p>æ‰©å±•è¿ç®—ç¬¦åé¢è¿˜å¯ä»¥æ”¾ç½®è¡¨è¾¾å¼ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const arr &#x3D; [</span><br><span class="line">  ...(x &gt; 0 ? [&#39;a&#39;] : []),</span><br><span class="line">  &#39;b&#39;,</span><br><span class="line">];</span><br></pre></td></tr></table></figure>

<p>å¦‚æœæ‰©å±•è¿ç®—ç¬¦åé¢æ˜¯ä¸€ä¸ªç©ºæ•°ç»„ï¼Œåˆ™ä¸äº§ç”Ÿä»»ä½•æ•ˆæœã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[...[], 1]</span><br><span class="line">&#x2F;&#x2F; [1]</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„ï¼Œåªæœ‰å‡½æ•°è°ƒç”¨æ—¶ï¼Œæ‰©å±•è¿ç®—ç¬¦æ‰å¯ä»¥æ”¾åœ¨åœ†æ‹¬å·ä¸­ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">(...[1, 2])</span><br><span class="line">&#x2F;&#x2F; Uncaught SyntaxError: Unexpected number</span><br><span class="line"></span><br><span class="line">console.log((...[1, 2]))</span><br><span class="line">&#x2F;&#x2F; Uncaught SyntaxError: Unexpected number</span><br><span class="line"></span><br><span class="line">console.log(...[1, 2])</span><br><span class="line">&#x2F;&#x2F; 1 2</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä¸‰ç§æƒ…å†µï¼Œæ‰©å±•è¿ç®—ç¬¦éƒ½æ”¾åœ¨åœ†æ‹¬å·é‡Œé¢ï¼Œä½†æ˜¯å‰ä¸¤ç§æƒ…å†µä¼šæŠ¥é”™ï¼Œå› ä¸ºæ‰©å±•è¿ç®—ç¬¦æ‰€åœ¨çš„æ‹¬å·ä¸æ˜¯å‡½æ•°è°ƒç”¨ã€‚</p>
<h3 id="æ›¿ä»£å‡½æ•°çš„-apply-æ–¹æ³•"><a href="#æ›¿ä»£å‡½æ•°çš„-apply-æ–¹æ³•" class="headerlink" title="æ›¿ä»£å‡½æ•°çš„ apply æ–¹æ³•"></a><strong>æ›¿ä»£å‡½æ•°çš„ apply æ–¹æ³•</strong></h3><p>ç”±äºæ‰©å±•è¿ç®—ç¬¦å¯ä»¥å±•å¼€æ•°ç»„ï¼Œæ‰€ä»¥ä¸å†éœ€è¦applyæ–¹æ³•ï¼Œå°†æ•°ç»„è½¬ä¸ºå‡½æ•°çš„å‚æ•°äº†ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; ES5 çš„å†™æ³•</span><br><span class="line">function f(x, y, z) &#123;</span><br><span class="line">  &#x2F;&#x2F; ...</span><br><span class="line">&#125;</span><br><span class="line">var args &#x3D; [0, 1, 2];</span><br><span class="line">f.apply(null, args);</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; ES6çš„å†™æ³•</span><br><span class="line">function f(x, y, z) &#123;</span><br><span class="line">  &#x2F;&#x2F; ...</span><br><span class="line">&#125;</span><br><span class="line">let args &#x3D; [0, 1, 2];</span><br><span class="line">f(...args);</span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢æ˜¯æ‰©å±•è¿ç®—ç¬¦å–ä»£applyæ–¹æ³•çš„ä¸€ä¸ªå®é™…çš„ä¾‹å­ï¼Œåº”ç”¨Math.maxæ–¹æ³•ï¼Œç®€åŒ–æ±‚å‡ºä¸€ä¸ªæ•°ç»„æœ€å¤§å…ƒç´ çš„å†™æ³•ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; ES5 çš„å†™æ³•</span><br><span class="line">Math.max.apply(null, [14, 3, 77])</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; ES6 çš„å†™æ³•</span><br><span class="line">Math.max(...[14, 3, 77])</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; ç­‰åŒäº</span><br><span class="line">Math.max(14, 3, 77);</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä»£ç ä¸­ï¼Œç”±äº JavaScript ä¸æä¾›æ±‚æ•°ç»„æœ€å¤§å…ƒç´ çš„å‡½æ•°ï¼Œæ‰€ä»¥åªèƒ½å¥—ç”¨Math.maxå‡½æ•°ï¼Œå°†æ•°ç»„è½¬ä¸ºä¸€ä¸ªå‚æ•°åºåˆ—ï¼Œç„¶åæ±‚æœ€å¤§å€¼ã€‚æœ‰äº†æ‰©å±•è¿ç®—ç¬¦ä»¥åï¼Œå°±å¯ä»¥ç›´æ¥ç”¨Math.maxäº†ã€‚</p>
<p>å¦ä¸€ä¸ªä¾‹å­æ˜¯é€šè¿‡pushå‡½æ•°ï¼Œå°†ä¸€ä¸ªæ•°ç»„æ·»åŠ åˆ°å¦ä¸€ä¸ªæ•°ç»„çš„å°¾éƒ¨ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; ES5çš„ å†™æ³•</span><br><span class="line">var arr1 &#x3D; [0, 1, 2];</span><br><span class="line">var arr2 &#x3D; [3, 4, 5];</span><br><span class="line">Array.prototype.push.apply(arr1, arr2);</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; ES6 çš„å†™æ³•</span><br><span class="line">let arr1 &#x3D; [0, 1, 2];</span><br><span class="line">let arr2 &#x3D; [3, 4, 5];</span><br><span class="line">arr1.push(...arr2);</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä»£ç çš„ ES5 å†™æ³•ä¸­ï¼Œpushæ–¹æ³•çš„å‚æ•°ä¸èƒ½æ˜¯æ•°ç»„ï¼Œæ‰€ä»¥åªå¥½é€šè¿‡applyæ–¹æ³•å˜é€šä½¿ç”¨pushæ–¹æ³•ã€‚æœ‰äº†æ‰©å±•è¿ç®—ç¬¦ï¼Œå°±å¯ä»¥ç›´æ¥å°†æ•°ç»„ä¼ å…¥pushæ–¹æ³•ã€‚</p>
<p>ä¸‹é¢æ˜¯å¦å¤–ä¸€ä¸ªä¾‹å­ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; ES5</span><br><span class="line">new (Date.bind.apply(Date, [null, 2015, 1, 1]))</span><br><span class="line">&#x2F;&#x2F; ES6</span><br><span class="line">new Date(...[2015, 1, 1]);</span><br></pre></td></tr></table></figure>

<h3 id="æ‰©å±•è¿ç®—ç¬¦çš„åº”ç”¨"><a href="#æ‰©å±•è¿ç®—ç¬¦çš„åº”ç”¨" class="headerlink" title="æ‰©å±•è¿ç®—ç¬¦çš„åº”ç”¨"></a><strong>æ‰©å±•è¿ç®—ç¬¦çš„åº”ç”¨</strong></h3><p><strong>ï¼ˆ1ï¼‰å¤åˆ¶æ•°ç»„</strong></p>
<p>æ•°ç»„æ˜¯å¤åˆçš„æ•°æ®ç±»å‹ï¼Œç›´æ¥å¤åˆ¶çš„è¯ï¼Œåªæ˜¯å¤åˆ¶äº†æŒ‡å‘åº•å±‚æ•°æ®ç»“æ„çš„æŒ‡é’ˆï¼Œè€Œä¸æ˜¯å…‹éš†ä¸€ä¸ªå…¨æ–°çš„æ•°ç»„ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const a1 &#x3D; [1, 2];</span><br><span class="line">const a2 &#x3D; a1;</span><br><span class="line"></span><br><span class="line">a2[0] &#x3D; 2;</span><br><span class="line">a1 &#x2F;&#x2F; [2, 2]</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä»£ç ä¸­ï¼Œa2å¹¶ä¸æ˜¯a1çš„å…‹éš†ï¼Œè€Œæ˜¯æŒ‡å‘åŒä¸€ä»½æ•°æ®çš„å¦ä¸€ä¸ªæŒ‡é’ˆã€‚ä¿®æ”¹a2ï¼Œä¼šç›´æ¥å¯¼è‡´a1çš„å˜åŒ–ã€‚</p>
<p>ES5 åªèƒ½ç”¨å˜é€šæ–¹æ³•æ¥å¤åˆ¶æ•°ç»„ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const a1 &#x3D; [1, 2];</span><br><span class="line">const a2 &#x3D; a1.concat();</span><br><span class="line"></span><br><span class="line">a2[0] &#x3D; 2;</span><br><span class="line">a1 &#x2F;&#x2F; [1, 2]</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä»£ç ä¸­ï¼Œa1ä¼šè¿”å›åŸæ•°ç»„çš„å…‹éš†ï¼Œå†ä¿®æ”¹a2å°±ä¸ä¼šå¯¹a1äº§ç”Ÿå½±å“ã€‚</p>
<p>æ‰©å±•è¿ç®—ç¬¦æä¾›äº†å¤åˆ¶æ•°ç»„çš„ç®€ä¾¿å†™æ³•ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const a1 &#x3D; [1, 2];</span><br><span class="line">&#x2F;&#x2F; å†™æ³•ä¸€</span><br><span class="line">const a2 &#x3D; [...a1];</span><br><span class="line">&#x2F;&#x2F; å†™æ³•äºŒ</span><br><span class="line">const [...a2] &#x3D; a1;</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢çš„ä¸¤ç§å†™æ³•ï¼Œa2éƒ½æ˜¯a1çš„å…‹éš†ã€‚</p>
<p><strong>ï¼ˆ2ï¼‰åˆå¹¶æ•°ç»„</strong></p>
<p>æ‰©å±•è¿ç®—ç¬¦æä¾›äº†æ•°ç»„åˆå¹¶çš„æ–°å†™æ³•ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const arr1 &#x3D; [&#39;a&#39;, &#39;b&#39;];</span><br><span class="line">const arr2 &#x3D; [&#39;c&#39;];</span><br><span class="line">const arr3 &#x3D; [&#39;d&#39;, &#39;e&#39;];</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; ES5 çš„åˆå¹¶æ•°ç»„</span><br><span class="line">arr1.concat(arr2, arr3);</span><br><span class="line">&#x2F;&#x2F; [ &#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39; ]</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; ES6 çš„åˆå¹¶æ•°ç»„</span><br><span class="line">[...arr1, ...arr2, ...arr3]</span><br><span class="line">&#x2F;&#x2F; [ &#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39; ]</span><br></pre></td></tr></table></figure>

<p>ä¸è¿‡ï¼Œè¿™ä¸¤ç§æ–¹æ³•éƒ½æ˜¯æµ…æ‹·è´ï¼Œä½¿ç”¨çš„æ—¶å€™éœ€è¦æ³¨æ„ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const a1 &#x3D; [&#123; foo: 1 &#125;];</span><br><span class="line">const a2 &#x3D; [&#123; bar: 2 &#125;];</span><br><span class="line"></span><br><span class="line">const a3 &#x3D; a1.concat(a2);</span><br><span class="line">const a4 &#x3D; [...a1, ...a2];</span><br><span class="line"></span><br><span class="line">a3[0] &#x3D;&#x3D;&#x3D; a1[0] &#x2F;&#x2F; true</span><br><span class="line">a4[0] &#x3D;&#x3D;&#x3D; a1[0] &#x2F;&#x2F; true</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä»£ç ä¸­ï¼Œa3å’Œa4æ˜¯ç”¨ä¸¤ç§ä¸åŒæ–¹æ³•åˆå¹¶è€Œæˆçš„æ–°æ•°ç»„ï¼Œä½†æ˜¯å®ƒä»¬çš„æˆå‘˜éƒ½æ˜¯å¯¹åŸæ•°ç»„æˆå‘˜çš„å¼•ç”¨ï¼Œè¿™å°±æ˜¯æµ…æ‹·è´ã€‚å¦‚æœä¿®æ”¹äº†å¼•ç”¨æŒ‡å‘çš„å€¼ï¼Œä¼šåŒæ­¥åæ˜ åˆ°æ–°æ•°ç»„ã€‚</p>
<p><strong>ï¼ˆ3ï¼‰ä¸è§£æ„èµ‹å€¼ç»“åˆ</strong></p>
<p>æ‰©å±•è¿ç®—ç¬¦å¯ä»¥ä¸è§£æ„èµ‹å€¼ç»“åˆèµ·æ¥ï¼Œç”¨äºç”Ÿæˆæ•°ç»„ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; ES5</span><br><span class="line">a &#x3D; list[0], rest &#x3D; list.slice(1)</span><br><span class="line">&#x2F;&#x2F; ES6</span><br><span class="line">[a, ...rest] &#x3D; list</span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢æ˜¯å¦å¤–ä¸€äº›ä¾‹å­ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const [first, ...rest] &#x3D; [1, 2, 3, 4, 5];</span><br><span class="line">first &#x2F;&#x2F; 1</span><br><span class="line">rest  &#x2F;&#x2F; [2, 3, 4, 5]</span><br><span class="line"></span><br><span class="line">const [first, ...rest] &#x3D; [];</span><br><span class="line">first &#x2F;&#x2F; undefined</span><br><span class="line">rest  &#x2F;&#x2F; []</span><br><span class="line"></span><br><span class="line">const [first, ...rest] &#x3D; [&quot;foo&quot;];</span><br><span class="line">first  &#x2F;&#x2F; &quot;foo&quot;</span><br><span class="line">rest   &#x2F;&#x2F; []</span><br></pre></td></tr></table></figure>

<p>å¦‚æœå°†æ‰©å±•è¿ç®—ç¬¦ç”¨äºæ•°ç»„èµ‹å€¼ï¼Œåªèƒ½æ”¾åœ¨å‚æ•°çš„æœ€åä¸€ä½ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const [...butLast, last] &#x3D; [1, 2, 3, 4, 5];</span><br><span class="line">&#x2F;&#x2F; æŠ¥é”™</span><br><span class="line"></span><br><span class="line">const [first, ...middle, last] &#x3D; [1, 2, 3, 4, 5];</span><br><span class="line">&#x2F;&#x2F; æŠ¥é”™</span><br></pre></td></tr></table></figure>

<p><strong>ï¼ˆ4ï¼‰å­—ç¬¦ä¸²</strong></p>
<p>æ‰©å±•è¿ç®—ç¬¦è¿˜å¯ä»¥å°†å­—ç¬¦ä¸²è½¬ä¸ºçœŸæ­£çš„æ•°ç»„ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[...&#39;hello&#39;]</span><br><span class="line">&#x2F;&#x2F; [ &quot;h&quot;, &quot;e&quot;, &quot;l&quot;, &quot;l&quot;, &quot;o&quot; ]</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢çš„å†™æ³•ï¼Œæœ‰ä¸€ä¸ªé‡è¦çš„å¥½å¤„ï¼Œé‚£å°±æ˜¯èƒ½å¤Ÿæ­£ç¡®è¯†åˆ«å››ä¸ªå­—èŠ‚çš„ Unicode å­—ç¬¦ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#39;x\uD83D\uDE80y&#39;.length &#x2F;&#x2F; 4</span><br><span class="line">[...&#39;x\uD83D\uDE80y&#39;].length &#x2F;&#x2F; 3</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä»£ç çš„ç¬¬ä¸€ç§å†™æ³•ï¼ŒJavaScript ä¼šå°†å››ä¸ªå­—èŠ‚çš„ Unicode å­—ç¬¦ï¼Œè¯†åˆ«ä¸º 2 ä¸ªå­—ç¬¦ï¼Œé‡‡ç”¨æ‰©å±•è¿ç®—ç¬¦å°±æ²¡æœ‰è¿™ä¸ªé—®é¢˜ã€‚å› æ­¤ï¼Œæ­£ç¡®è¿”å›å­—ç¬¦ä¸²é•¿åº¦çš„å‡½æ•°ï¼Œå¯ä»¥åƒä¸‹é¢è¿™æ ·å†™ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function length(str) &#123;</span><br><span class="line">  return [...str].length;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">length(&#39;x\uD83D\uDE80y&#39;) &#x2F;&#x2F; 3</span><br></pre></td></tr></table></figure>

<p>å‡¡æ˜¯æ¶‰åŠåˆ°æ“ä½œå››ä¸ªå­—èŠ‚çš„ Unicode å­—ç¬¦çš„å‡½æ•°ï¼Œéƒ½æœ‰è¿™ä¸ªé—®é¢˜ã€‚å› æ­¤ï¼Œæœ€å¥½éƒ½ç”¨æ‰©å±•è¿ç®—ç¬¦æ”¹å†™ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let str &#x3D; &#39;x\uD83D\uDE80y&#39;;</span><br><span class="line"></span><br><span class="line">str.split(&#39;&#39;).reverse().join(&#39;&#39;)</span><br><span class="line">&#x2F;&#x2F; &#39;y\uDE80\uD83Dx&#39;</span><br><span class="line"></span><br><span class="line">[...str].reverse().join(&#39;&#39;)</span><br><span class="line">&#x2F;&#x2F; &#39;y\uD83D\uDE80x&#39;</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä»£ç ä¸­ï¼Œå¦‚æœä¸ç”¨æ‰©å±•è¿ç®—ç¬¦ï¼Œå­—ç¬¦ä¸²çš„reverseæ“ä½œå°±ä¸æ­£ç¡®ã€‚</p>
<p><strong>ï¼ˆ5ï¼‰å®ç°äº† Iterator æ¥å£çš„å¯¹è±¡</strong></p>
<p>ä»»ä½•å®šä¹‰äº†éå†å™¨ï¼ˆIteratorï¼‰æ¥å£çš„å¯¹è±¡ï¼ˆå‚é˜… Iterator ä¸€ç« ï¼‰ï¼Œéƒ½å¯ä»¥ç”¨æ‰©å±•è¿ç®—ç¬¦è½¬ä¸ºçœŸæ­£çš„æ•°ç»„ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let nodeList &#x3D; document.querySelectorAll(&#39;div&#39;);</span><br><span class="line">let array &#x3D; [...nodeList];</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä»£ç ä¸­ï¼ŒquerySelectorAllæ–¹æ³•è¿”å›çš„æ˜¯ä¸€ä¸ªNodeListå¯¹è±¡ã€‚å®ƒä¸æ˜¯æ•°ç»„ï¼Œè€Œæ˜¯ä¸€ä¸ªç±»ä¼¼æ•°ç»„çš„å¯¹è±¡ã€‚è¿™æ—¶ï¼Œæ‰©å±•è¿ç®—ç¬¦å¯ä»¥å°†å…¶è½¬ä¸ºçœŸæ­£çš„æ•°ç»„ï¼ŒåŸå› å°±åœ¨äºNodeListå¯¹è±¡å®ç°äº† Iterator ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Number.prototype[Symbol.iterator] &#x3D; function*() &#123;</span><br><span class="line">  let i &#x3D; 0;</span><br><span class="line">  let num &#x3D; this.valueOf();</span><br><span class="line">  while (i &lt; num) &#123;</span><br><span class="line">    yield i++;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">console.log([...5]) &#x2F;&#x2F; [0, 1, 2, 3, 4]</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä»£ç ä¸­ï¼Œå…ˆå®šä¹‰äº†Numberå¯¹è±¡çš„éå†å™¨æ¥å£ï¼Œæ‰©å±•è¿ç®—ç¬¦å°†5è‡ªåŠ¨è½¬æˆNumberå®ä¾‹ä»¥åï¼Œå°±ä¼šè°ƒç”¨è¿™ä¸ªæ¥å£ï¼Œå°±ä¼šè¿”å›è‡ªå®šä¹‰çš„ç»“æœã€‚</p>
<p>å¯¹äºé‚£äº›æ²¡æœ‰éƒ¨ç½² Iterator æ¥å£çš„ç±»ä¼¼æ•°ç»„çš„å¯¹è±¡ï¼Œæ‰©å±•è¿ç®—ç¬¦å°±æ— æ³•å°†å…¶è½¬ä¸ºçœŸæ­£çš„æ•°ç»„ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let arrayLike &#x3D; &#123;</span><br><span class="line">  &#39;0&#39;: &#39;a&#39;,</span><br><span class="line">  &#39;1&#39;: &#39;b&#39;,</span><br><span class="line">  &#39;2&#39;: &#39;c&#39;,</span><br><span class="line">  length: 3</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; TypeError: Cannot spread non-iterable object.</span><br><span class="line">let arr &#x3D; [...arrayLike];</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä»£ç ä¸­ï¼ŒarrayLikeæ˜¯ä¸€ä¸ªç±»ä¼¼æ•°ç»„çš„å¯¹è±¡ï¼Œä½†æ˜¯æ²¡æœ‰éƒ¨ç½² Iterator æ¥å£ï¼Œæ‰©å±•è¿ç®—ç¬¦å°±ä¼šæŠ¥é”™ã€‚è¿™æ—¶ï¼Œå¯ä»¥æ”¹ä¸ºä½¿ç”¨Array.fromæ–¹æ³•å°†arrayLikeè½¬ä¸ºçœŸæ­£çš„æ•°ç»„ã€‚</p>
<p><strong>ï¼ˆ6ï¼‰Map å’Œ Set ç»“æ„ï¼ŒGenerator å‡½æ•°</strong></p>
<p>æ‰©å±•è¿ç®—ç¬¦å†…éƒ¨è°ƒç”¨çš„æ˜¯æ•°æ®ç»“æ„çš„ Iterator æ¥å£ï¼Œå› æ­¤åªè¦å…·æœ‰ Iterator æ¥å£çš„å¯¹è±¡ï¼Œéƒ½å¯ä»¥ä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦ï¼Œæ¯”å¦‚ Map ç»“æ„ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let map &#x3D; new Map([</span><br><span class="line">  [1, &#39;one&#39;],</span><br><span class="line">  [2, &#39;two&#39;],</span><br><span class="line">  [3, &#39;three&#39;],</span><br><span class="line">]);</span><br><span class="line"></span><br><span class="line">let arr &#x3D; [...map.keys()]; &#x2F;&#x2F; [1, 2, 3]</span><br></pre></td></tr></table></figure>

<p>Generator å‡½æ•°è¿è¡Œåï¼Œè¿”å›ä¸€ä¸ªéå†å™¨å¯¹è±¡ï¼Œå› æ­¤ä¹Ÿå¯ä»¥ä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const go &#x3D; function*()&#123;</span><br><span class="line">  yield 1;</span><br><span class="line">  yield 2;</span><br><span class="line">  yield 3;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">[...go()] &#x2F;&#x2F; [1, 2, 3]</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä»£ç ä¸­ï¼Œå˜é‡goæ˜¯ä¸€ä¸ª Generator å‡½æ•°ï¼Œæ‰§è¡Œåè¿”å›çš„æ˜¯ä¸€ä¸ªéå†å™¨å¯¹è±¡ï¼Œå¯¹è¿™ä¸ªéå†å™¨å¯¹è±¡æ‰§è¡Œæ‰©å±•è¿ç®—ç¬¦ï¼Œå°±ä¼šå°†å†…éƒ¨éå†å¾—åˆ°çš„å€¼ï¼Œè½¬ä¸ºä¸€ä¸ªæ•°ç»„ã€‚</p>
<p>å¦‚æœå¯¹æ²¡æœ‰ Iterator æ¥å£çš„å¯¹è±¡ï¼Œä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦ï¼Œå°†ä¼šæŠ¥é”™ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const obj &#x3D; &#123;a: 1, b: 2&#125;;</span><br><span class="line">let arr &#x3D; [...obj]; &#x2F;&#x2F; TypeError: Cannot spread non-iterable object</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>es6</category>
      </categories>
      <tags>
        <tag>es6</tag>
        <tag>æ‰©å±•è¿ç®—ç¬¦</tag>
      </tags>
  </entry>
  <entry>
    <title>es6ç‰¹æ€§</title>
    <url>/2020/07/30/es6%E7%89%B9%E6%80%A7/</url>
    <content><![CDATA[<h3 id="å±•å¼€æ“ä½œç¬¦"><a href="#å±•å¼€æ“ä½œç¬¦" class="headerlink" title="å±•å¼€æ“ä½œç¬¦"></a>å±•å¼€æ“ä½œç¬¦</h3><p>é¡¾åæ€ä¹‰ï¼Œç”¨äºå¯¹è±¡æˆ–æ•°ç»„ä¹‹å‰çš„å±•å¼€æ“ä½œç¬¦ï¼ˆâ€¦ï¼‰ï¼Œå°†ä¸€ä¸ªç»“æ„å±•å¼€ä¸ºåˆ—è¡¨ã€‚</p>
<p>æ¼”ç¤ºä¸€ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let firstHalf &#x3D; [ &#39;one&#39;, &#39;two&#39;];</span><br><span class="line"></span><br><span class="line">let secondHalf &#x3D; [&#39;three&#39;, &#39;four&#39;, ...firstHalf];</span><br></pre></td></tr></table></figure>

<a id="more"></a>

<p>è¿™ç§å†™æ³•å¤Ÿä¼˜é›…ï¼Œå¤Ÿç®€æ´å§ï¼Ÿå¦‚æœä¸ç”¨å±•å¼€æ“ä½œç¬¦</p>
<p>æˆ‘ä»¬å¾—è¿™ä¹ˆå†™ï¼š</p>
<p>let firstHalf = [ â€˜oneâ€™, â€˜twoâ€™];</p>
<p>let secondHalf = [â€˜threeâ€™, â€˜fourâ€™];</p>
<p>for(var i=0, i &lt;firstHalf.length; i++ ) {</p>
<p>  secondHalf.push(firstHalf[i]);</p>
<p>}</p>
<p>å±•å¼€æ“ä½œç¬¦ä¹Ÿé€‚ç”¨äºåˆå¹¶å¯¹è±¡çš„å±æ€§ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const hero &#x3D; &#123;</span><br><span class="line"></span><br><span class="line">  name: &#39;Xena - Warrior Princess&#39;,</span><br><span class="line"></span><br><span class="line">  realName: &#39;Lucy Lawless&#39;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const heroWithSword &#x3D; &#123;</span><br><span class="line"></span><br><span class="line"> ...hero,</span><br><span class="line"></span><br><span class="line"> weapon: &#39;sword&#39;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>ä¸ç”¨å±•å¼€æ“ä½œç¬¦çš„è¯ï¼Œéœ€è¦éå†å¯¹è±¡çš„å±æ€§ï¼š</p>
<p>let keys = Object.keys(hero);</p>
<p>let obj = {};</p>
<p>for(var i=0; i&lt; keys.length; i++) {</p>
<p>   obj[keys[i]] = keys[props[i]];</p>
<p>}</p>
<h3 id="å‰©ä½™å‚æ•°"><a href="#å‰©ä½™å‚æ•°" class="headerlink" title="å‰©ä½™å‚æ•°"></a>å‰©ä½™å‚æ•°</h3><p>å‰©ä½™å‚æ•°å°†å‰©ä½™çš„å‚æ•°æ”¶å…¥æ•°åˆ—ã€‚JavaScript çš„ç‰¹æ€§æ˜¯å‚æ•°æ•°ç›®å¾ˆçµæ´»ã€‚é€šå¸¸ä¼šæœ‰ä¸€ä¸ª arguments å˜é‡æ”¶é›†å‚æ•°ã€‚</p>
<p>è®©æˆ‘ä»¬çœ‹ä¸€ä¸ªä¾‹å­ï¼š</p>
<p>function add(first, second, â€¦remaining) {</p>
<p>  return first + second;</p>
<p>}</p>
<p>ä¸Šé¢çš„ä¸€æ®µä»£ç ä»…ä»…å°† first å’Œ second åŠ èµ·æ¥ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè°ƒç”¨ add(1, 2) å’Œ add(1, 2, 3, 4) ä¼šå¾—åˆ°ç›¸åŒçš„ç»“æœã€‚</p>
<p>ä¸‹é¢æˆ‘ä»¬ä¿®æ­£ä¸€ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function add(first, second, ...remaining) &#123;</span><br><span class="line"></span><br><span class="line">  return first + second + remaining.reduce((acc, curr) &#x3D;&gt; acc + curr, 0);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>å¦‚å‰æ‰€è¿°ï¼Œâ€¦remaining æ”¶é›†äº†å‰©ä½™çš„å‚æ•°ï¼Œä¸ºæˆ‘ä»¬æä¾›äº†è¿™äº›å‚æ•°çš„å‘½åï¼Œæ¸…æ¥šåœ°è¡¨æ˜æˆ‘ä»¬æ‰“ç®—å¤„ç†å‰©ä½™çš„å‚æ•°ã€‚æˆ‘è®°å¾—è‡³è¿Ÿ ES5 å·²ç»æœ‰ arguments äº†ï¼Œä¸è¿‡å°‘æœ‰äººçŸ¥ã€‚</p>
<h3 id="å­—ç¬¦ä¸²æ’å€¼"><a href="#å­—ç¬¦ä¸²æ’å€¼" class="headerlink" title="å­—ç¬¦ä¸²æ’å€¼"></a>å­—ç¬¦ä¸²æ’å€¼</h3><p>è§è¿‡è¿™æ ·çš„è¯­å¥å—ï¼Ÿ</p>
<p>class Product {</p>
<p> constructor(name, description, price) {</p>
<p>   this.name = name;</p>
<p>   this.description = description;</p>
<p>   this.price = price;</p>
<p> }</p>
<p>getDescription() {</p>
<p>   return â€œ Full description \nâ€ +</p>
<p>   â€œ name: â€œ + this.name +</p>
<p>   â€œ description: â€œ + this.description</p>
<p> }</p>
<p>}</p>
<p>å½“ç„¶ï¼Œæˆ‘æŒ‡çš„æ˜¯ getDescription() æ–¹æ³•ä¸­é‚£ä¸ªå¯è¯»æ€§ä¸ä½³çš„å¤šè¡Œé•¿è¯­å¥ã€‚å¤§å¤šæ•°ç¼–ç¨‹è¯­è¨€ä¸­éƒ½å­˜åœ¨ç±»ä¼¼ç°è±¡ã€‚ä¸€äº›è¯­è¨€æä¾›äº†å­—ç¬¦ä¸²æ’å€¼ï¼Œå¹¸è¿çš„æ˜¯ï¼ŒJavaScript æ­£æ˜¯å…¶ä¸­ä¹‹ä¸€ã€‚</p>
<p>æˆ‘ä»¬æ”¹å†™ä¸€ä¸‹ getDescription() æ–¹æ³•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">getDescription() &#123;</span><br><span class="line"></span><br><span class="line">   return &#96;Full description \n:</span><br><span class="line"></span><br><span class="line">   name: $&#123;this.name&#125;</span><br><span class="line"></span><br><span class="line">   description $&#123;this.description&#125;</span><br><span class="line"></span><br><span class="line">   &#96;;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>ä¸€å¯¹ åŒ…èµ·æ¥çš„å­—ç¬¦ä¸²ä¸­å¯ä»¥ä½¿ç”¨ ${} æ’å€¼ã€‚ç°åœ¨çœ‹èµ·æ¥èˆ’æœå¤šäº†ã€‚</p>
<h3 id="ç®€å†™å±æ€§"><a href="#ç®€å†™å±æ€§" class="headerlink" title="ç®€å†™å±æ€§"></a>ç®€å†™å±æ€§</h3><p>åœ¨ ES5 ä¸­å¿…é¡»è¿™ä¹ˆå†™ï¼š</p>
<p>function createCoord(x, y) {</p>
<p>  return {</p>
<p>â€‹    x: x,</p>
<p>â€‹    y: y</p>
<p>  }</p>
<p>}</p>
<p>ES6 ä»¥åå¯ä»¥ä½¿ç”¨ç®€å†™å±æ€§ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function createCoord(x, y) &#123;</span><br><span class="line"></span><br><span class="line">  return &#123;</span><br><span class="line"></span><br><span class="line">    x,</span><br><span class="line"></span><br><span class="line">    y</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>çœ‹èµ·æ¥æ›´æ¸…çˆ½äº†å§ï¼Ÿ</p>
<h3 id="æ–¹æ³•å±æ€§"><a href="#æ–¹æ³•å±æ€§" class="headerlink" title="æ–¹æ³•å±æ€§"></a>æ–¹æ³•å±æ€§</h3><p>æ–¹æ³•å±æ€§æ˜¯åœ¨å¯¹è±¡ä¸­å®šä¹‰æŒ‡å‘æ–¹æ³•çš„å±æ€§ã€‚</p>
<p>è€ƒè™‘ä¸‹é¢ä¸€æ®µ ES5 ä»£ç ä½œä¸ºä¾‹å­ï¼š</p>
<p>const math = {</p>
<p>  add: function(a,b) { return a + b; },</p>
<p>  sub: function(a,b) { return a - b; },</p>
<p>  multiply: function(a,b) { return a * b; }</p>
<p>}</p>
<p>ES6 ä»¥ååªéœ€è¿™ä¹ˆå†™ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const math &#x3D; &#123;</span><br><span class="line"></span><br><span class="line">  add(a,b) &#123; return a + b; &#125;,</span><br><span class="line"></span><br><span class="line">  sub(a,b) &#123; return a - b; &#125;,</span><br><span class="line"></span><br><span class="line">  multiply(a,b) &#123; return a * b; &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="è§£æ„èµ‹å€¼"><a href="#è§£æ„èµ‹å€¼" class="headerlink" title="è§£æ„èµ‹å€¼"></a>è§£æ„èµ‹å€¼</h3><p>è§£æ„èµ‹å€¼æœ‰åˆ©äºå¼€å‘è€…æœ¬äººçš„å¿ƒç†å¥åº·ã€‚</p>
<p>è€ƒè™‘ä¸‹é¢çš„ä»£ç ï¼š</p>
<p>function handle(req, res) {</p>
<p> const name = req.body.name;</p>
<p> const description = req.body.description;</p>
<p> const url = req.url;</p>
<p> log(â€˜url endpointâ€™, url);</p>
<p> // å¤§é‡ä»£ç é€»è¾‘</p>
<p> dbService.createPerson(name, description)</p>
<p>}</p>
<p>ä¸ç®¡ä»ä»€ä¹ˆè§’åº¦æ¥çœ‹ï¼Œä¸Šé¢çš„ä»£ç éƒ½ä¸å®Œç¾ï¼Œä½†å®ƒç¡®å®ä½“ç°äº†ä¸€ç§åº”ç”¨åœºæ™¯ï¼Œæˆ‘ä»¬æƒ³è¦ä»å¯¹è±¡çš„ä¸åŒå±‚æ¬¡è·å–æ•°æ®ã€‚ä½ ä¹Ÿè®¸ä¼šé—®ï¼Œè¿™é‡Œæœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿå¥½å§ï¼Œæˆ‘å¯ä»¥ä¸ç”¨å£°æ˜è¿™ä¹ˆå¤šå˜é‡ï¼Œçœä¸‹ä¸€äº›æ•²å‡»é”®ç›˜çš„æ¬¡æ•°ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function handle(req, res) &#123;</span><br><span class="line"></span><br><span class="line"> const &#123; body: &#123; name, description &#125;, url &#125; &#x3D; req;</span><br><span class="line"></span><br><span class="line"> log(&#39;url endpoint&#39;, url);</span><br><span class="line"></span><br><span class="line"> &#x2F;&#x2F; å¤§é‡ä»£ç é€»è¾‘</span><br><span class="line"></span><br><span class="line"> dbService.createPerson(name, description)</span><br></pre></td></tr></table></figure>



<p>çœ‹ï¼Œæˆ‘ä»¬ä¸Šé¢çš„ä»£ç å°†ä¸‰è¡Œå‹ç¼©æˆäº†ä¸€è¡Œã€‚</p>
<p>è§£æ„èµ‹å€¼å¹¶ä¸ä»…ä»…å±€é™äºå¯¹è±¡ã€‚å®ƒåŒæ ·é€‚ç”¨äºæ•°ç»„ã€‚</p>
<p>è€ƒè™‘ä¸‹é¢çš„ä»£ç ï¼š</p>
<p>const array = [1,2,3,4,5,6];</p>
<p>const a = array[0];</p>
<p>const c = array[2];</p>
<p>ä¸Šé¢çš„ä»£ç å¯ä»¥ç”¨æ›´ä¼˜é›…çš„æ–¹å¼æ”¹å†™ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const array &#x3D; [1,2,3,4,5,6];</span><br><span class="line"></span><br><span class="line">const [a, ,c, ...remaining] &#x3D; arr;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; remaining &#x3D; [4,5,6]</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸Šé¢çš„æ¨¡å¼åŒ¹é…åˆ†è§£æ•°ç»„çš„å€¼ã€‚æˆ‘ä»¬ä½¿ç”¨ , , è·³è¿‡æŸäº›å€¼ã€‚ä¸Šé¢æåˆ°è¿‡çš„å‰©ä½™å‚æ•°è¿™é‡Œä¹Ÿèƒ½ç”¨ï¼Œåœ¨è¿™é‡Œæˆ‘ä»¬é€šè¿‡å‰©ä½™å‚æ•°æ•è·äº†å‰©ä½™çš„æ•°ç»„æˆå‘˜ã€‚</p>
<p>è§£æ„èµ‹å€¼è¿˜å¯ä»¥ç”¨äºå‡½æ•°å’Œå‚æ•°ã€‚å‡½æ•°æœ‰ä¸æ­¢ 2-3 ä¸ªå‚æ•°æ—¶ï¼Œä½¿ç”¨ä¸€ä¸ªå¯¹è±¡æ”¶é›†æ‰€æœ‰å‚æ•°æ˜¯ JavaScript çš„äº‹å®æ ‡å‡†ã€‚</p>
<p>ä¾‹å¦‚ï¼Œä¸‹é¢ä¸€ä¸ªå‡½æ•°ï¼š</p>
<p>function doSomething(config) {</p>
<p>  if(config.a) { â€¦ }</p>
<p>  if(config.b) { â€¦ }</p>
<p>  if(config.c) { â€¦ }</p>
<p>}</p>
<p>æœ‰æ›´å¥½çš„å†™æ³•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function doSomething(&#123; a, b, c &#125;) &#123;</span><br><span class="line"></span><br><span class="line">  if(a) &#123; ... &#125;</span><br><span class="line"></span><br><span class="line">  if(b) &#123; ... &#125;</span><br><span class="line"></span><br><span class="line">  if(c) &#123; ... &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>å‡½æ•°è§£æ„çš„é»˜è®¤å‚æ•°</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; è§£æ„ â€”â€” åªè·å¾— name å±æ€§</span><br><span class="line">&#x2F;&#x2F; å‚æ•°é»˜è®¤åˆ†é…ç©ºå¯¹è±¡ &#123;&#125;</span><br><span class="line">function test(&#123;name&#125; &#x3D; &#123;&#125;) &#123;</span><br><span class="line">  console.log (name || &#39;unknown&#39;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="map"><a href="#map" class="headerlink" title="map"></a>map</h3><p>Map æ˜¯ ES2015(ES6) å¼•å…¥çš„æ–°çš„å¯¹è±¡ç±»å‹ï¼Œå…è®¸æ‚¨å­˜å‚¨é”®å€¼å¯¹ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function test(color) &#123;</span><br><span class="line">  &#x2F;&#x2F; ä½¿ç”¨ switch case è¯­å¥ï¼Œæ ¹æ®é¢œè‰²æ‰¾å‡ºå¯¹åº”çš„æ°´æœ</span><br><span class="line">  switch (color) &#123;</span><br><span class="line">    case &#39;red&#39;:</span><br><span class="line">      return [&#39;apple&#39;, &#39;strawberry&#39;];</span><br><span class="line">    case &#39;yellow&#39;:</span><br><span class="line">      return [&#39;banana&#39;, &#39;pineapple&#39;];</span><br><span class="line">    case &#39;purple&#39;:</span><br><span class="line">      return [&#39;grape&#39;, &#39;plum&#39;];</span><br><span class="line">    default:</span><br><span class="line">      return [];</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;æµ‹è¯•ç»“æœ</span><br><span class="line">test(null); &#x2F;&#x2F; []</span><br><span class="line">test(&#39;yellow&#39;); &#x2F;&#x2F; [&#39;banana&#39;, &#39;pineapple&#39;]</span><br></pre></td></tr></table></figure>

<p>ä¼˜åŒ–å</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; ä½¿ç”¨å¯¹è±¡å­—é¢é‡ï¼Œæ ¹æ®é¢œè‰²æ‰¾å‡ºå¯¹åº”çš„æ°´æœ</span><br><span class="line">  const fruitColor &#x3D; &#123;</span><br><span class="line">    red: [&#39;apple&#39;, &#39;strawberry&#39;],</span><br><span class="line">    yellow: [&#39;banana&#39;, &#39;pineapple&#39;],</span><br><span class="line">    purple: [&#39;grape&#39;, &#39;plum&#39;]</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">function test(color) &#123;</span><br><span class="line">  return fruitColor[color] || [];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; ä½¿ç”¨ Map ï¼Œæ ¹æ®é¢œè‰²æ‰¾å‡ºå¯¹åº”çš„æ°´æœ</span><br><span class="line">  const fruitColor &#x3D; new Map()</span><br><span class="line">    .set(&#39;red&#39;, [&#39;apple&#39;, &#39;strawberry&#39;])</span><br><span class="line">    .set(&#39;yellow&#39;, [&#39;banana&#39;, &#39;pineapple&#39;])</span><br><span class="line">    .set(&#39;purple&#39;, [&#39;grape&#39;, &#39;plum&#39;]);</span><br><span class="line"></span><br><span class="line">function test(color) &#123;</span><br><span class="line">  return fruitColor.get(color) || [];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h3 id="æ•°ç»„æ–¹æ³•"><a href="#æ•°ç»„æ–¹æ³•" class="headerlink" title="æ•°ç»„æ–¹æ³•"></a>æ•°ç»„æ–¹æ³•</h3><p>ES6 å¼•å…¥äº†è®¸å¤šæœ‰ç”¨çš„æ•°ç»„æ–¹æ³•ï¼Œä¾‹å¦‚ï¼š</p>
<ul>
<li>find()ï¼ŒæŸ¥æ‰¾åˆ—è¡¨ä¸­çš„æˆå‘˜ï¼Œè¿”å› null è¡¨ç¤ºæ²¡æ‰¾åˆ°</li>
<li>findIndex()ï¼ŒæŸ¥æ‰¾åˆ—è¡¨æˆå‘˜çš„ç´¢å¼•</li>
<li>some()ï¼Œæ£€æŸ¥æŸä¸ªæ–­è¨€æ˜¯å¦è‡³å°‘åœ¨åˆ—è¡¨çš„ä¸€ä¸ªæˆå‘˜ä¸Šä¸ºçœŸ</li>
<li>includesï¼Œåˆ—è¡¨æ˜¯å¦åŒ…å«æŸé¡¹</li>
</ul>
<p>ä¸‹é¢çš„ä»£ç æœ‰åŠ©äºä½ ç†è§£å®ƒä»¬çš„ç”¨æ³•ï¼š</p>
<p>const array = [{ id: 1, checked: true }, { id: 2 }];</p>
<p>arr.find(item =&gt; item.id === 2) // { id: 2 }</p>
<p>arr.findIndex(item =&gt; item.id === 2) // 1</p>
<p>arr.some(item =&gt; item.checked) // true</p>
<p>const numberArray = [1,2,3,4];</p>
<p>numberArray.includes(2) // true</p>
<p>Promises + Async/Await</p>
<p>å¦‚æœä½ åœ¨è¿™ä¸ªåœˆå­é‡Œå‘†äº†äº›å¹´å¤´ï¼Œä¹Ÿè®¸ä¼šè®°å¾—æ›¾ç»æœ‰ä¸€ä¸ªæ—¶æœŸæˆ‘ä»¬åªæœ‰å›è°ƒ</p>
<p>å°±åƒè¿™æ ·ï¼š</p>
<p>function doSomething(cb) {</p>
<p>  setTimeout(() =&gt;  {</p>
<p>â€‹    cb(â€˜doneâ€™)</p>
<p>  }, 3000)</p>
<p>}</p>
<p>doSomething((arg) =&gt; {</p>
<p> console.log(â€˜done hereâ€™, arg);</p>
<p>})</p>
<p>æˆ‘ä»¬ä½¿ç”¨å›è°ƒæ˜¯å› ä¸ºæœ‰äº›æ“ä½œæ˜¯å¼‚æ­¥çš„ï¼Œéœ€è¦æ—¶é—´æ¥å®Œæˆã€‚åæ¥æˆ‘ä»¬æœ‰äº† promise åº“ï¼Œäººä»¬å¼€å§‹ä½¿ç”¨å®ƒã€‚ç„¶å JavaScript é€æ¸åŠ å…¥äº†å¯¹ promise çš„åŸç”Ÿæ”¯æŒã€‚</p>
<p>function doSomething() {</p>
<p>  return new Promise((resolve, reject) =&gt; {</p>
<p>â€‹    setTimeout(() =&gt;  {</p>
<p>â€‹      resolve(â€˜doneâ€™)</p>
<p>â€‹    }, 3000)</p>
<p>  })</p>
<p>}</p>
<p>doSomething().then(arg =&gt; {</p>
<p> console.log(â€˜done hereâ€™, arg);</p>
<p>})</p>
<p>æˆ‘ä»¬ç”šè‡³å¯ä»¥è¿™æ ·è°ƒç”¨ï¼Œå°† promise ä¸²èµ·æ¥ï¼š</p>
<p>getUser()</p>
<p>  .then(getOrderByUser)</p>
<p>  .then(getOrderItemsByOrder)</p>
<p>  .then(orderItems =&gt; {</p>
<p>â€‹    // å¤„ç†æ’åºåçš„æˆå‘˜</p>
<p>  })</p>
<p>åæ¥ç”Ÿæ´»æ›´åŠ ç¾å¥½ï¼Œæˆ‘ä»¬æœ‰äº† async/await</p>
<p>ä¸Šé¢ä¸€æ®µä»£ç å¯ä»¥è¿™æ ·å†™ï¼š</p>
<p>async function getItems() {</p>
<p>  try {</p>
<p>â€‹    const user = await getUser();</p>
<p>â€‹    const order = await getOrderByUser(user);</p>
<p>â€‹    const items = await getOrderItemsByOrder(order);</p>
<p>â€‹    return items;</p>
<p>  } catch(err) {</p>
<p>â€‹    // åœ¨è¿™é‡Œå¤„ç†é”™è¯¯ï¼Œå»ºè®®è¿”å›æŸä¸ªå€¼æˆ–è€…é‡æ–°æŠ›å‡ºé”™è¯¯</p>
<p>  }</p>
<p>}</p>
<p>getItems().then(items =&gt; {</p>
<p>  // å¤„ç†æ’åºåçš„æˆå‘˜</p>
<p>})</p>
<p>###æ¨¡å—</p>
<p>å·®ä¸å¤šä»»ä½•ç¼–ç¨‹è¯­è¨€éƒ½æ”¯æŒæ¨¡å—è¿™ä¸€æ¦‚å¿µï¼Œä¹Ÿå°±æ˜¯å°†ä»£ç åˆ†ä¸ºå¤šä¸ªæ–‡ä»¶ï¼Œæ¯ä¸ªæ–‡ä»¶æ˜¯ä¸€ä¸ªè‡ªæˆ‘åŒ…å«çš„å•å…ƒï¼ˆæ¨¡å—ï¼‰ã€‚</p>
<p>è€ƒè™‘ä¸‹é¢çš„ä»£ç ï¼š</p>
<p>// math.js</p>
<p>export function add(a,b) { return a + b; }</p>
<p>export function sub(a,b) { return a - b; }</p>
<p>export default mult(a,b) =&gt; a * b;</p>
<p>// main.js</p>
<p>import mult, { add, sub } from â€˜./mathâ€™;</p>
<p>mult(2, 4) // 8</p>
<p>add(1,1)   // 2</p>
<p>sub(1,2)   // -1</p>
<p>æˆ‘ä»¬åœ¨ä¸Šé¢ç”¨ export å…³é”®å­—æ³¨æ˜äº† add å’Œ sub è¿™ä¸¤ä¸ªç»“æ„å¯¹ä»»ä½•å¼•å…¥è¯¥æ¨¡å—çš„æ¨¡å—éƒ½å…¬å¼€å¯è§ã€‚export default å…³é”®å­—åˆ™æ³¨æ˜ä»…ä»… import æ¨¡å—æ—¶å¾—åˆ°çš„ç»“æ„ã€‚åœ¨ main.js ä¸­ï¼Œæˆ‘ä»¬å°†å¯¼å…¥çš„ default å‘½åä¸º multï¼ŒåŒæ—¶æŒ‡æ˜æˆ‘ä»¬å¼•å…¥ add() å’Œ sub() è¿™ä¸¤ä¸ªæ–¹æ³•ã€‚ç®­å¤´å‡½æ•°å’Œå­—å…¸ä½œç”¨åŸŸ this</p>
<p>æˆ‘åœ¨è¿™ç¯‡æ–‡ç« ä¸­å¾ˆå¤šåœ°æ–¹éƒ½ç”¨åˆ°äº†ç®­å¤´å‡½æ•°ï¼Œå®ƒä¸è¿‡æ˜¯å¦ä¸€ç§å‡½æ•°è¡¨ç¤ºæ³•ã€‚</p>
<p>è¿‡å»æˆ‘ä»¬åªèƒ½è¿™ä¹ˆå£°æ˜å‡½æ•°ï¼š</p>
<p>function printArray(arr) {</p>
<p> // å…·ä½“æ“ä½œ</p>
<p>}</p>
<p>ç°åœ¨æˆ‘ä»¬ä¹Ÿå¯ä»¥è¿™ä¹ˆå†™ï¼š</p>
<p>const printArray = (arr) =&gt; {</p>
<p> // å…·ä½“æ“ä½œ</p>
<p>}</p>
<p>æˆ‘ä»¬ä¹Ÿå¯ä»¥å°†å‡½æ•°å£°æ˜å†™åˆ°ä¸€è¡Œé‡Œï¼š</p>
<p>const add = (a,b) =&gt; a + b</p>
<p>ä¸Šé¢çš„ä»£ç è¡¨æ˜æˆ‘ä»¬è¿›è¡Œæ“ä½œå¹¶è¿”å›ç»“æœã€‚</p>
<p>æˆ‘ä»¬ä¹Ÿå¯ä»¥é‡‡ç”¨ä¸‹é¢çš„è¯­æ³•è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼š</p>
<p>const create = (a,b) = &gt; ({ x: a, y: b })</p>
<p>è¿‡å»ä¼šç¢°åˆ°æä¸æ¸… this æ˜¯ä»€ä¹ˆçš„é—®é¢˜ã€‚è€ƒè™‘ä¸‹é¢çš„ä»£ç ï¼š</p>
<p>let array = [1,2,3];</p>
<p>function sum() {</p>
<p>  this.total = 0;</p>
<p>  arr.forEach(function(item) {</p>
<p>â€‹    this.total+= item;  // ç³Ÿç³•ï¼Œ<code>this</code> æ˜¯å†…å±‚å‡½æ•°çš„ <code>this</code></p>
<p>  })</p>
<p>  return total;</p>
<p>}</p>
<p>ä¸Šé¢ä»£ç ä¸­çš„ this æŒ‡å‘ forEach å†…éƒ¨å‡½æ•°çš„ thisï¼Œè¿™å¯ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ã€‚</p>
<p>è¿‡å»æˆ‘ä»¬é€šè¿‡ä»¥ä¸‹æ–¹å¼è§£å†³è¿™ä¸ªé—®é¢˜ï¼š</p>
<p>function sum() {</p>
<p>  this.total = 0;</p>
<p>  var self = this;</p>
<p>  arr.forEach(function(item) {</p>
<p>â€‹    self.total+= item;  // è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨ <code>self</code>ï¼Œå®ƒèƒ½è§£å†³é—®é¢˜ï¼Œä½†æ˜¯æ„Ÿè§‰æœ‰ç‚¹åˆ«æ‰­</p>
<p>  })</p>
<p>  return total;</p>
<p>}</p>
<p>ç®­å¤´å‡½æ•°å¯ä»¥è§£å†³é—®é¢˜ï¼Œå†ä¹Ÿä¸ç”¨ self äº†</p>
<p>ç°åœ¨ä»£ç çœ‹èµ·æ¥æ˜¯è¿™æ ·çš„ï¼š</p>
<p>function sum() {</p>
<p>  this.total = 0;</p>
<p>  arr.forEach((item) =&gt; {</p>
<p>â€‹    this.total+= item;  // ä¸€åˆ‡å®‰å¥½ï¼Œ<code>this</code> æŒ‡å‘å¤–å±‚å‡½æ•°</p>
<p>  })</p>
<p>  return total;</p>
<p>}</p>
<h3 id="Object-is-æ–¹æ³•ï¼Œå®ƒå…·æœ‰-çš„ä¸€äº›ç‰¹ç‚¹ï¼Œè€Œä¸”æ›´å¥½ã€æ›´ç²¾ç¡®"><a href="#Object-is-æ–¹æ³•ï¼Œå®ƒå…·æœ‰-çš„ä¸€äº›ç‰¹ç‚¹ï¼Œè€Œä¸”æ›´å¥½ã€æ›´ç²¾ç¡®" class="headerlink" title="Object.is() æ–¹æ³•ï¼Œå®ƒå…·æœ‰ === çš„ä¸€äº›ç‰¹ç‚¹ï¼Œè€Œä¸”æ›´å¥½ã€æ›´ç²¾ç¡®"></a>Object.is() æ–¹æ³•ï¼Œå®ƒå…·æœ‰ === çš„ä¸€äº›ç‰¹ç‚¹ï¼Œè€Œä¸”æ›´å¥½ã€æ›´ç²¾ç¡®</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Object.is(0 , &#39; &#39;); &#x2F;&#x2F;false</span><br><span class="line">Object.is(null, undefined); &#x2F;&#x2F;false</span><br><span class="line">Object.is([1], true); &#x2F;&#x2F;false</span><br><span class="line">Object.is(NaN, NaN); &#x2F;&#x2F;true</span><br></pre></td></tr></table></figure>

<h3 id="ES2020-ä¸­-Javascript-10-ä¸ªä½ åº”è¯¥çŸ¥é“çš„æ–°åŠŸèƒ½"><a href="#ES2020-ä¸­-Javascript-10-ä¸ªä½ åº”è¯¥çŸ¥é“çš„æ–°åŠŸèƒ½" class="headerlink" title="ES2020 ä¸­ Javascript 10 ä¸ªä½ åº”è¯¥çŸ¥é“çš„æ–°åŠŸèƒ½"></a>ES2020 ä¸­ Javascript 10 ä¸ªä½ åº”è¯¥çŸ¥é“çš„æ–°åŠŸèƒ½</h3><h3 id="1-BigInt"><a href="#1-BigInt" class="headerlink" title="1: BigInt"></a>1: BigInt</h3><p>BigIntï¼ŒJavascript ä¸­æœ€æœŸå¾…çš„æ–°åŠŸèƒ½ç»ˆäºè½åœ°ã€‚å®ƒå…è®¸å¼€å‘è€…åœ¨ JS ä¸­ä½¿ç”¨æ›´å¤§çš„æ•´æ•°è¿›è¡Œæ•°æ®å¤„ç†ã€‚</p>
<p>ä¹‹å‰ï¼ŒJavascript ä¸­æœ€å¤§çš„æ•´æ•°æ˜¯ <code>pow(2, 53) \- 1</code>ã€‚ä½†æ˜¯ï¼ŒBigInt ä¸å—æ­¤é™åˆ¶ã€‚</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz/1NOXMW586uv6XVHS9fJfeCggKwEYnvPGwarDI032t9wha7b0IahtTzo8zIeuwhUs1HJBGYfW7pjwd7ibbB5Mdow/640?wx_fmt=other&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"></p>
<p>ç„¶è€Œï¼Œå°±å¦‚ä½ åœ¨ä¸Šé¢çœ‹åˆ°ï¼Œä½ éœ€è¦åœ¨æ•°å­—åé¢æ·»åŠ ä¸€ä¸ª <code>n</code>ã€‚è¿™ä¸ª <code>n</code> è¯´æ˜è¿™æ˜¯ä¸€ä¸ª BigIntï¼ŒJavascript å¼•æ“åº”è¯¥ç‰¹æ®Šå¤„ç†ï¼ˆä¸ç®¡æ˜¯ V8ï¼Œè¿˜æ˜¯å…¶å®ƒå¼•æ“ï¼‰ã€‚</p>
<p>å› ä¸ºä¼ ç»Ÿçš„æ•°å­—ç³»ç»Ÿæ˜¯ IEEE754ï¼ˆå®ƒä¸æ”¯æŒè¿™ç§å¤§æ•°å­—ï¼‰ï¼Œå› æ­¤ï¼Œè¿™ä¸ªæ”¹è¿›å¹¶ä¸ä¼šå‘åå…¼å®¹ã€‚</p>
<h3 id="2ï¼šåŠ¨æ€å¼•å…¥"><a href="#2ï¼šåŠ¨æ€å¼•å…¥" class="headerlink" title="2ï¼šåŠ¨æ€å¼•å…¥"></a>2ï¼šåŠ¨æ€å¼•å…¥</h3><p>Javascript çš„åŠ¨æ€å¼•å…¥ï¼Œå…è®¸ä½ æŠŠ JS æ–‡ä»¶ä½œä¸ºä¸€ä¸ªæ¨¡å—åŠ¨æ€çš„å¼•å…¥åˆ°ä½ çš„åº”ç”¨ä¸­ã€‚è¿™å°±åƒä½ ä½¿ç”¨ webpack å’Œ Babel ä¸€æ ·ã€‚</p>
<p>è¿™ä¸ªåŠŸèƒ½å¯ä»¥å¸®åŠ©ä½ å¤„ç†æŒ‰éœ€åŠ è½½çš„ä»£ç ï¼Œæ‹†åˆ†ä»£ç ï¼Œè€Œä¸”ï¼Œå¹¶ä¸éœ€è¦ webpack æˆ–è€…å…¶å®ƒæ¨¡å—å¤„ç†å™¨ã€‚å¦‚æœï¼Œä½ å–œæ¬¢ä¹Ÿå¯ä»¥åœ¨ if-else å—ä¸­åŠ è½½ä»£ç ã€‚</p>
<p>åœ¨ if-else å—ä¸­å¼•å…¥ä¸€ä¸ªæ¨¡å—ï¼Œè¿™æ ·çš„å¥½å¤„æ˜¯ï¼šä¸ä¼šæ±¡æŸ“å…¨å±€å‘½åç©ºé—´ã€‚</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz/1NOXMW586uv6XVHS9fJfeCggKwEYnvPGLpBPLYgYRwZ5ib0tx951uC6yTocZIZ6OicfltYmhNGa1D7yCE5L4K9TQ/640?wx_fmt=other&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"></p>
<h3 id="3-ç©ºå€¼åˆå¹¶"><a href="#3-ç©ºå€¼åˆå¹¶" class="headerlink" title="3: ç©ºå€¼åˆå¹¶"></a>3: ç©ºå€¼åˆå¹¶</h3><p>ç©ºå€¼åˆå¹¶å¯ä»¥çœŸæ­£çš„æ£€æŸ¥ <code>nullish</code> å€¼ï¼Œè€Œä¸æ˜¯ <code>falsely</code> å€¼ã€‚ä½ æˆ–è®¸ä¼šé—®ï¼š<code>nullish</code>å’Œ <code>falsely</code> ä¹‹é—´æœ‰ä»€ä¹ˆä¸åŒå‘¢ï¼Ÿ</p>
<p>åœ¨ Javascript ä¸­æœ‰å¾ˆå¤šå€¼éƒ½æ˜¯ <code>falsely</code>ã€‚æ¯”å¦‚ï¼šç©ºå­—ç¬¦ä¸²ã€æ•°å­— 0ã€<code>undefined</code>ã€<code>null</code>ã€ <code>false</code> ã€<code>NaN</code> ç­‰ã€‚</p>
<p>ç„¶è€Œï¼Œå¾ˆå¤šæƒ…å†µä¸‹ä½ åªæƒ³æ£€æµ‹ä¸€ä¸ªå˜é‡æ˜¯å¦ä¸ºç©ºå€¼ â€“ <code>undefined</code> æˆ–è€… <code>null</code>ï¼Œå°±åƒå˜é‡å¯ä»¥æ˜¯ä¸€ä¸ªç©ºå­—ç¬¦ä¸²ç”šè‡³æ˜¯ä¸€ä¸ªå‡å€¼ã€‚</p>
<p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œä½ å°†ä¼šçœ‹åˆ°æ–°çš„ç©ºå€¼åˆå¹¶æ“ä½œç¬¦ï¼š<code>??</code>ã€‚</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz/1NOXMW586uv6XVHS9fJfeCggKwEYnvPGGCVd9L1a8WDLibedRyLc0CeOEOUCZha5JXiacCp2KzXicJDR1mXB96zlQ/640?wx_fmt=other&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"></p>
<p>ä½ å¯ä»¥æ¸…æ¥šçš„çœ‹åˆ° OR æ“ä½œç¬¦æ€»æ˜¯è¿”å›ä¸€ä¸ªçœŸå€¼ï¼Œä½†æ˜¯ï¼Œç©ºå€¼æ“ä½œç¬¦è¿”å›ä¸€ä¸ªéç©ºå€¼ã€‚</p>
<h3 id="4ï¼šå¯é€‰é“¾"><a href="#4ï¼šå¯é€‰é“¾" class="headerlink" title="4ï¼šå¯é€‰é“¾"></a>4ï¼šå¯é€‰é“¾</h3><p>å¯é€‰é“¾è¯­æ³•å…è®¸ä½ è®¿é—®åµŒå¥—æ›´æ·±çš„å¯¹è±¡å±æ€§ï¼Œè€Œä¸ç”¨æ‹…å¿ƒå±æ€§æ˜¯å¦å­˜åœ¨ã€‚å¦‚æœï¼Œå­˜åœ¨å¾ˆå¥½ã€‚åä¹‹ï¼Œä¼šè¿”å› <code>undefined</code>ã€‚</p>
<p>å®ƒä¸ä»…ä»…å¯æ“ä½œå¯¹è±¡å±æ€§ï¼Œä¹Ÿå¯ä»¥æ“ä½œå‡½æ•°çš„è°ƒç”¨æˆ–è€…æ•°ç»„ã€‚è¿™æ ·æ›´åŠ æ–¹ä¾¿ï¼ä»¥ä¸‹æ˜¯ä¸ªæ¼”ç¤ºï¼š</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz/1NOXMW586uv6XVHS9fJfeCggKwEYnvPGdbuZJu6Ms94TdPHNp5iaMwyHico9kpkFh90iboBGbTpCM0zZ2ZX2nTssA/640?wx_fmt=other&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"></p>
<h3 id="5-Promise-allSettled"><a href="#5-Promise-allSettled" class="headerlink" title="5: Promise.allSettled"></a>5: Promise.allSettled</h3><p><code>Promise.allSettled</code> æ–¹æ³•æ¥æ”¶ä¸€ç»„ Promiseï¼Œå¹¶ä¸”ä¼šè¿”å›æ‰€æœ‰çš„ç»“æœ - è€Œä¸ç®¡æ˜¯ resolved è¿˜æ˜¯ rejectedã€‚</p>
<p>åœ¨ä¹‹å‰ï¼Œè¿™æ˜¯ä¸å¯èƒ½çš„ï¼Œå°½ç®¡æœ‰äº›ç±»ä¼¼çš„å®ç°æ¯”å¦‚ï¼š<code>race</code> å’Œ <code>all</code>ã€‚å®ƒåªä¼šâ€œè¿è¡Œæ‰€æœ‰çš„ promise - è€Œä¸å…³å¿ƒå®ƒä»¬çš„ç»“æœâ€ã€‚</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz/1NOXMW586uv6XVHS9fJfeCggKwEYnvPGGLZEQbV3z7SI6bA2v7rjFXkib2tosiaLIsfg0gmlpjDibVxetuBn5fVmQ/640?wx_fmt=other&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"></p>
<h3 id="6-String-matchAll"><a href="#6-String-matchAll" class="headerlink" title="6: String#matchAll"></a>6: String#matchAll</h3><h3 id="ä¸¾ä¾‹è§£å†³é—®é¢˜"><a href="#ä¸¾ä¾‹è§£å†³é—®é¢˜" class="headerlink" title="ä¸¾ä¾‹è§£å†³é—®é¢˜"></a>ä¸¾ä¾‹è§£å†³é—®é¢˜</h3><h4 id="1ã€åè½¬å­—ç¬¦ä¸²"><a href="#1ã€åè½¬å­—ç¬¦ä¸²" class="headerlink" title="1ã€åè½¬å­—ç¬¦ä¸²"></a>1ã€åè½¬å­—ç¬¦ä¸²</h4><p>åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†æ•£å¸ƒè¿ç®—ç¬¦ï¼ˆâ€¦ï¼‰ï¼ŒArrayçš„reverseæ–¹æ³•å’ŒStringçš„joinæ–¹æ³•æ¥åè½¬ç»™å®šçš„å­—ç¬¦ä¸²ã€‚</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/eXCSRjyNYcbG4VhLbRDf5lpFt1sagtWS5QUCFTBa7CHlWarkPicvMmxPX22TIc1rAnKbuDfKyWWichiakwjfx5PhQ/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"></p>
<h4 id="2ã€è®¡ç®—æ•°å­—çš„é˜¶ä¹˜"><a href="#2ã€è®¡ç®—æ•°å­—çš„é˜¶ä¹˜" class="headerlink" title="2ã€è®¡ç®—æ•°å­—çš„é˜¶ä¹˜"></a>2ã€è®¡ç®—æ•°å­—çš„é˜¶ä¹˜</h4><p>è¦è®¡ç®—ç»™å®šæ•°å­—çš„é˜¶ä¹˜ï¼Œæˆ‘ä»¬ä½¿ç”¨ç®­å¤´å‡½æ•°å’ŒåµŒå¥—ä¸‰å…ƒè¿ç®—ç¬¦ã€‚</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/eXCSRjyNYcbG4VhLbRDf5lpFt1sagtWSqibNic0gumhUb1xeBcKSFmbiaE2bsOPtByxJDOibhau4T7FM4PQQBQ8vag/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"></p>
<h4 id="3ã€å°†æ•°å­—è½¬æ¢ä¸ºæ•°å­—æ•°ç»„"><a href="#3ã€å°†æ•°å­—è½¬æ¢ä¸ºæ•°å­—æ•°ç»„" class="headerlink" title="3ã€å°†æ•°å­—è½¬æ¢ä¸ºæ•°å­—æ•°ç»„"></a>3ã€å°†æ•°å­—è½¬æ¢ä¸ºæ•°å­—æ•°ç»„</h4><p>åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†æ•£å¸ƒè¿ç®—ç¬¦ï¼ˆâ€¦ï¼‰ï¼ŒArrayçš„mapæ–¹æ³•ä»¥åŠå°†è¯¥ç»™å®šæ•°å­—è½¬æ¢ä¸ºä¸€ä¸ªå•æ•°æ•°ç»„çš„parseInt å‡½æ•° ã€‚</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/eXCSRjyNYcbG4VhLbRDf5lpFt1sagtWSIcozwmwiavIspqX1uMyaNh4RAZibudxVCX97BW27YbT3b9zLQ7Ou02yQ/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"></p>
<h4 id="4ã€æ£€æŸ¥æ•°å­—æ˜¯å¦ä¸º2çš„å¹‚"><a href="#4ã€æ£€æŸ¥æ•°å­—æ˜¯å¦ä¸º2çš„å¹‚" class="headerlink" title="4ã€æ£€æŸ¥æ•°å­—æ˜¯å¦ä¸º2çš„å¹‚"></a>4ã€æ£€æŸ¥æ•°å­—æ˜¯å¦ä¸º2çš„å¹‚</h4><p>è¿™å¾ˆç®€å•ã€‚æˆ‘ä»¬æ£€æŸ¥è¿™numberä¸æ˜¯è™šå‡çš„ï¼Œå¹¶ä½¿ç”¨æŒ‰ä½ANDè¿ç®—ç¬¦ ï¼ˆ&amp;ï¼‰ç¡®å®šæ˜¯å¦numberä¸º2çš„å¹‚ã€‚</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/eXCSRjyNYcbG4VhLbRDf5lpFt1sagtWSFJLTkng2dHxMDYiaXQxVDwQzvIGCElMUmUVYYUsXUiaibRHfMdV6Pbib0A/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"></p>
<h4 id="5ã€ä»å¯¹è±¡åˆ›å»ºé”®-å€¼å¯¹æ•°ç»„"><a href="#5ã€ä»å¯¹è±¡åˆ›å»ºé”®-å€¼å¯¹æ•°ç»„" class="headerlink" title="5ã€ä»å¯¹è±¡åˆ›å»ºé”®-å€¼å¯¹æ•°ç»„"></a><strong>5ã€ä»å¯¹è±¡åˆ›å»ºé”®-å€¼å¯¹æ•°ç»„</strong></h4><p>åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨Objectä¸­çš„keysæ–¹æ³•å’Œ Arrayä¸­çš„mapæ–¹æ³•æ¥æ˜ å°„Objectçš„é”®ï¼Œå¹¶åˆ›å»ºä¸€ä¸ªé”®å€¼å¯¹æ•°ç»„ã€‚</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/eXCSRjyNYcbG4VhLbRDf5lpFt1sagtWSSnDonmibictDW2MVbXE1DSJKvhefIcAYq3kf61YS9Wstuu55ia7D4LJQg/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"></p>
<h4 id="6ã€ä»æ•°ç»„ä¸­è¿”å›-Number-ä¸ªæœ€å¤§å…ƒç´ "><a href="#6ã€ä»æ•°ç»„ä¸­è¿”å›-Number-ä¸ªæœ€å¤§å…ƒç´ " class="headerlink" title="6ã€ä»æ•°ç»„ä¸­è¿”å›[Number]ä¸ªæœ€å¤§å…ƒç´ "></a><strong>6ã€ä»æ•°ç»„ä¸­è¿”å›[Number]ä¸ªæœ€å¤§å…ƒç´ </strong></h4><p>ä¸ºäº†ä»æ•°ç»„ä¸­è¿”å›æœ€å¤§å…ƒç´ ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†ä¸€ä¸ªç®­å¤´å‡½æ•°ï¼Œè¯¥å‡½æ•°è·å–æ•°ç»„å’Œå¸Œæœ›å‡½æ•°è¿”å›çš„å…ƒç´ æ•°ã€‚æˆ‘ä»¬ä½¿ç”¨äº†æ•£å¸ƒè¿ç®—ç¬¦ï¼ˆâ€¦ï¼‰ä»¥åŠArrayä¸­çš„sortå’Œsliceæ–¹æ³•ã€‚è¯·æ³¨æ„ï¼Œå¦‚æœä¸æä¾›ç¬¬äºŒä¸ªå‚æ•°ï¼Œåˆ™numberé»˜è®¤å€¼ä¸º1ï¼Œå› æ­¤ä»…è¿”å›ä¸€ä¸ªæœ€å¤§å…ƒç´ ã€‚</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/eXCSRjyNYcbG4VhLbRDf5lpFt1sagtWS7D5ZtxhHKCfEibEWvtxf5VgK6kR3CH3tTiaCEStFLVNglVp9rkqE4jNA/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"></p>
<h4 id="7ã€æ£€æŸ¥æ•°ç»„ä¸­çš„æ‰€æœ‰å…ƒç´ æ˜¯å¦ç›¸ç­‰"><a href="#7ã€æ£€æŸ¥æ•°ç»„ä¸­çš„æ‰€æœ‰å…ƒç´ æ˜¯å¦ç›¸ç­‰" class="headerlink" title="7ã€æ£€æŸ¥æ•°ç»„ä¸­çš„æ‰€æœ‰å…ƒç´ æ˜¯å¦ç›¸ç­‰"></a><strong>7ã€æ£€æŸ¥æ•°ç»„ä¸­çš„æ‰€æœ‰å…ƒç´ æ˜¯å¦ç›¸ç­‰</strong></h4><p>åœ¨è¿™ä¸ªç®€çŸ­çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨Arrayä¸­çš„everyæ–¹æ³•æ£€æŸ¥æ•°ç»„ä¸­çš„æ‰€æœ‰å…ƒç´ æ˜¯å¦ç›¸ç­‰ã€‚æˆ‘ä»¬åŸºæœ¬ä¸Šæ£€æŸ¥æ¯ä¸ªå…ƒç´ æ˜¯å¦ç­‰äºæ•°ç»„ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/eXCSRjyNYcbG4VhLbRDf5lpFt1sagtWStVhG8l1dPzWm8IZEH4gQJpxdpUuL0gaFQLGDWAW6L5VflYxNcfTjQQ/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"></p>
<h4 id="8ã€è¿”å›ä¸¤ä¸ªæ•°çš„å¹³å‡å€¼"><a href="#8ã€è¿”å›ä¸¤ä¸ªæ•°çš„å¹³å‡å€¼" class="headerlink" title="8ã€è¿”å›ä¸¤ä¸ªæ•°çš„å¹³å‡å€¼"></a><strong>8ã€è¿”å›ä¸¤ä¸ªæ•°çš„å¹³å‡å€¼</strong></h4><p>åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†spreadè¿ç®—ç¬¦ï¼ˆâ€¦ï¼‰å’ŒArrayä¸­çš„reduceæ–¹æ³•æ¥è¿”å›ä¸¤ä¸ªç»™å®šæ•°å­—æˆ–ä¸€ä¸ªæ•°ç»„çš„å¹³å‡å€¼ã€‚</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/eXCSRjyNYcbG4VhLbRDf5lpFt1sagtWSS5Piaz8PhaFjX1Adpo4l0ZJqiatS4icRkJTIHCQrmlDj9icol1V0a0GkVg/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"></p>
<h4 id="9ã€è¿”å›ä¸¤ä¸ªæˆ–å¤šä¸ªæ•°å­—çš„å’Œ"><a href="#9ã€è¿”å›ä¸¤ä¸ªæˆ–å¤šä¸ªæ•°å­—çš„å’Œ" class="headerlink" title="9ã€è¿”å›ä¸¤ä¸ªæˆ–å¤šä¸ªæ•°å­—çš„å’Œ"></a><strong>9ã€è¿”å›ä¸¤ä¸ªæˆ–å¤šä¸ªæ•°å­—çš„å’Œ</strong></h4><p>è¦è¿”å›ä¸¤ä¸ªæˆ–å¤šä¸ªç»™å®šæ•°å­—æˆ–ä¸€ä¸ªæ•°ç»„çš„æ€»å’Œï¼Œæˆ‘ä»¬å†æ¬¡ä½¿ç”¨æ•£å¸ƒè¿ç®—ç¬¦ï¼ˆâ€¦ï¼‰ å’Œ Arrayä¸­çš„reduceæ–¹æ³•ã€‚</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/eXCSRjyNYcbG4VhLbRDf5lpFt1sagtWSeMEuicAyVrjHB3SpicVpTEmvUoYuKz6gjA0hescic1zwF6BAWluq7NjHA/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"></p>
<h4 id="10ã€è¿”å›æ•°å­—æ•°ç»„çš„å¹‚é›†"><a href="#10ã€è¿”å›æ•°å­—æ•°ç»„çš„å¹‚é›†" class="headerlink" title="10ã€è¿”å›æ•°å­—æ•°ç»„çš„å¹‚é›†"></a><strong>10ã€è¿”å›æ•°å­—æ•°ç»„çš„å¹‚é›†</strong></h4><p>åœ¨æœ€åä¸€ä¸ªç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬è¦è¿”å›æ•°å­—æ•°ç»„çš„å¹‚é›†ã€‚å› æ­¤ï¼Œæˆ‘ä»¬ä½¿ç”¨Arrayä¸­çš„reduceï¼Œmapå’Œconcatæ–¹æ³•ã€‚</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/eXCSRjyNYcbG4VhLbRDf5lpFt1sagtWS2ibeNSm54ZT0LReAsd2IfbKUtveW6Lnx2afRIxlhB1cxVgfm2QMdIMA/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"></p>
<p>æ›´ç»†è§£è¯´ï¼š<a href="https://mp.weixin.qq.com/s/xyHVGYlcng5kucjayOOdwA" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/xyHVGYlcng5kucjayOOdwA</a></p>
]]></content>
      <categories>
        <category>es6</category>
      </categories>
      <tags>
        <tag>es6</tag>
        <tag>js</tag>
      </tags>
  </entry>
  <entry>
    <title>exportä¸importiè¯¦è§£</title>
    <url>/2020/07/30/export%E4%B8%8Eimporti%E8%AF%A6%E8%A7%A3/</url>
    <content><![CDATA[<p>es6æ¨¡å—è§„èŒƒ</p>
<p>1ã€export default å‘å¤–æš´éœ²çš„æˆå‘˜ï¼Œå¯ä»¥ä½¿ç”¨ä»»æ„å˜é‡æ¥æ¥æ”¶</p>
<p>2ã€åœ¨ä¸€ä¸ªæ¨¡å—ä¸­ï¼Œexport default åªå…è®¸å‘å¤–æš´éœ²ä¸€æ¬¡</p>
<p>3ã€åœ¨ä¸€ä¸ªæ¨¡å—ä¸­ï¼Œå¯ä»¥åŒæ—¶ä½¿ç”¨export default å’Œexport å‘å¤–æš´éœ²æˆå‘˜</p>
<p>4ã€ä½¿ç”¨exportå‘å¤–æš´éœ²çš„æˆå‘˜ï¼Œåªèƒ½ä½¿ç”¨{ }çš„å½¢å¼æ¥æ¥æ”¶ï¼Œè¿™ç§å½¢å¼ï¼Œå«åšã€æŒ‰éœ€å¯¼å‡ºã€‘</p>
<p>5ã€exportå¯ä»¥å‘å¤–æš´éœ²å¤šä¸ªæˆå‘˜ï¼ŒåŒæ—¶ï¼Œå¦‚æœæŸäº›æˆå‘˜ï¼Œåœ¨importå¯¼å…¥æ—¶ï¼Œä¸éœ€è¦ï¼Œå¯ä»¥ä¸åœ¨{ }ä¸­å®šä¹‰</p>
<p>6ã€ä½¿ç”¨exportå¯¼å‡ºçš„æˆå‘˜ï¼Œå¿…é¡»ä¸¥æ ¼æŒ‰ç…§å¯¼å‡ºæ—¶å€™çš„åç§°ï¼Œæ¥ä½¿ç”¨{ }æŒ‰éœ€æ¥æ”¶</p>
<p>7ã€ä½¿ç”¨exportå¯¼å‡ºçš„æˆå‘˜ï¼Œå¦‚æœæƒ³æ¢ä¸ªå˜é‡åç§°æ¥æ”¶ï¼Œå¯ä»¥ä½¿ç”¨asæ¥èµ·åˆ«å</p>
<a id="more"></a>

<p>ä¸¾ä¾‹</p>
<p>å¯¼å‡º</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; profile.js</span><br><span class="line">ä¸€ï¼š</span><br><span class="line">export var firstName &#x3D; &#39;Michael&#39;;</span><br><span class="line">export var lastName &#x3D; &#39;Jackson&#39;;</span><br><span class="line">export var year &#x3D; 1958;</span><br><span class="line"></span><br><span class="line">äºŒï¼š</span><br><span class="line">var firstName &#x3D; &#39;Michael&#39;;</span><br><span class="line">var lastName &#x3D; &#39;Jackson&#39;;</span><br><span class="line">var year &#x3D; 1958;</span><br><span class="line">export &#123;firstName, lastName, year&#125;;</span><br><span class="line"></span><br><span class="line">ä¸‰ï¼š</span><br><span class="line">export function multiply(x, y) &#123;</span><br><span class="line">  return x * y;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">å››ï¼š</span><br><span class="line">function v1() &#123; ... &#125;</span><br><span class="line">function v2() &#123; ... &#125;</span><br><span class="line"></span><br><span class="line">export &#123;</span><br><span class="line">  v1 as streamV1,</span><br><span class="line">  v2 as streamV2,</span><br><span class="line">  v2 as streamLatestVersion</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>



<p>å¼•å…¥</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">å¼•å…¥ä¸€ä¸ª</span><br><span class="line"></span><br><span class="line">import &#123;firstName, lastName, year&#125; from &#39;.&#x2F;profile&#39;</span><br><span class="line"></span><br><span class="line">å¦‚æœæƒ³é‡æ–°ç»™å¯¼å…¥çš„å˜é‡ä¸€ä¸ªåå­—ï¼Œå¯ä»¥ç”¨aså…³é”®å­—ï¼Œ</span><br><span class="line">import &#123; lastName as surname &#125; from &#39;.&#x2F;profile&#39;;</span><br><span class="line"></span><br><span class="line">å¼•å…¥å…¨éƒ¨</span><br><span class="line">import * as circle from &#39;.&#x2F;circle&#39;;</span><br></pre></td></tr></table></figure>



<p>export default</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; é»˜è®¤è¾“å‡º</span><br><span class="line">export default function crc32() &#123; &#x2F;&#x2F; è¾“å‡º</span><br><span class="line">  &#x2F;&#x2F; ...</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">import crc32 from &#39;crc32&#39;; &#x2F;&#x2F; è¾“å…¥</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; æ­£å¸¸è¾“å‡º</span><br><span class="line">export function crc32() &#123; &#x2F;&#x2F; è¾“å‡º</span><br><span class="line">  &#x2F;&#x2F; ...</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">import &#123;crc32&#125; from &#39;crc32&#39;; &#x2F;&#x2F; è¾“å…¥</span><br></pre></td></tr></table></figure>



<p>CommonJSæ¨¡å—è§„èŒƒï¼ˆnodejsä½¿ç”¨ä¸­ï¼‰</p>
<p>Nodeåº”ç”¨ç”±æ¨¡å—ç»„æˆï¼Œé‡‡ç”¨CommonJSæ¨¡å—è§„èŒƒã€‚</p>
<p>æ ¹æ®è¿™ä¸ªè§„èŒƒï¼Œæ¯ä¸ªæ–‡ä»¶å°±æ˜¯ä¸€ä¸ªæ¨¡å—ï¼Œæœ‰è‡ªå·±çš„ä½œç”¨åŸŸã€‚åœ¨ä¸€ä¸ªæ–‡ä»¶é‡Œé¢å®šä¹‰çš„å˜é‡ã€å‡½æ•°ã€ç±»ï¼Œéƒ½æ˜¯ç§æœ‰çš„ï¼Œå¯¹å…¶ä»–æ–‡ä»¶ä¸å¯è§ã€‚</p>
<p>CommonJSè§„èŒƒè§„å®šï¼Œæ¯ä¸ªæ¨¡å—å†…éƒ¨ï¼Œmoduleå˜é‡ä»£è¡¨å½“å‰æ¨¡å—ã€‚è¿™ä¸ªå˜é‡æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå®ƒçš„exportså±æ€§ï¼ˆå³module.exportsï¼‰æ˜¯å¯¹å¤–çš„æ¥å£ã€‚åŠ è½½æŸä¸ªæ¨¡å—ï¼Œå…¶å®æ˜¯åŠ è½½è¯¥æ¨¡å—çš„module.exportså±æ€§ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var x &#x3D; 5;</span><br><span class="line"></span><br><span class="line">var addX &#x3D; function (value) &#123;  return value + x;&#125;;</span><br><span class="line"></span><br><span class="line">module.exports.x &#x3D; x;</span><br><span class="line"></span><br><span class="line">module.exports.addX &#x3D; addX;</span><br><span class="line"></span><br><span class="line">ä¸Šé¢ä»£ç é€šè¿‡module.exportsè¾“å‡ºå˜é‡xå’Œå‡½æ•°addXã€‚</span><br></pre></td></tr></table></figure>



<p>requireæ–¹æ³•ç”¨äºåŠ è½½æ¨¡å—ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var example &#x3D; require(&#39;.&#x2F;example.js&#39;);</span><br><span class="line"></span><br><span class="line">console.log(example.x);</span><br><span class="line"></span><br><span class="line"> &#x2F;&#x2F; 5</span><br><span class="line"></span><br><span class="line">console.log(example.addX(1));</span><br><span class="line"></span><br><span class="line"> &#x2F;&#x2F; 6</span><br><span class="line"></span><br><span class="line">exports ä¸ module.exports</span><br></pre></td></tr></table></figure>



<p>ä¸ºäº†æ–¹ä¾¿ï¼ŒNodeä¸ºæ¯ä¸ªæ¨¡å—æä¾›ä¸€ä¸ªexportså˜é‡ï¼ŒæŒ‡å‘module.exportsã€‚è¿™ç­‰åŒåœ¨æ¯ä¸ªæ¨¡å—å¤´éƒ¨ï¼Œæœ‰ä¸€è¡Œè¿™æ ·çš„å‘½ä»¤ã€‚</p>
<p>var exports = module.exports;</p>
<p>äºæ˜¯æˆ‘ä»¬å¯ä»¥ç›´æ¥åœ¨ exports å¯¹è±¡ä¸Šæ·»åŠ æ–¹æ³•ï¼Œè¡¨ç¤ºå¯¹å¤–è¾“å‡ºçš„æ¥å£ï¼Œå¦‚åŒåœ¨module.exportsä¸Šæ·»åŠ ä¸€æ ·ã€‚æ³¨æ„ï¼Œä¸èƒ½ç›´æ¥å°†exportså˜é‡æŒ‡å‘ä¸€ä¸ªå€¼ï¼Œå› ä¸ºè¿™æ ·ç­‰äºåˆ‡æ–­äº†exportsä¸module.exportsçš„è”ç³»ã€‚</p>
]]></content>
      <categories>
        <category>es6</category>
      </categories>
      <tags>
        <tag>es6</tag>
        <tag>js</tag>
        <tag>export</tag>
        <tag>import</tag>
        <tag>module</tag>
        <tag>require</tag>
      </tags>
  </entry>
  <entry>
    <title>expresså’Œkoa</title>
    <url>/2020/09/15/express%E5%92%8Ckoa/</url>
    <content><![CDATA[<p>Koaå’ŒExpresséƒ½æ˜¯NodeJSçš„ä¸»æµåº”ç”¨å¼€å‘æ¡†æ¶ã€‚</p>
<p>Expressæ˜¯ä¸€ä¸ªå®Œæ•´çš„nodejsåº”ç”¨æ¡†æ¶ã€‚Koaæ˜¯ç”±Expresså›¢é˜Ÿå¼€å‘çš„ï¼Œä½†æ˜¯å®ƒæœ‰ä¸åŒçš„å…³æ³¨ç‚¹ã€‚Koaè‡´åŠ›äºæ ¸å¿ƒä¸­é—´ä»¶åŠŸèƒ½ã€‚nodejsä¸­é—´ä»¶æ˜¯è®¿é—®è¯·æ±‚å¯¹è±¡ï¼ˆreqï¼‰å’Œå“åº”å¯¹è±¡ï¼ˆresï¼‰çš„ä¾‹ç¨‹ã€‚è¿™äº›ä¾‹ç¨‹åœ¨è·¯ç”±å¤„ç†ç¨‹åºä¹‹å‰è¢«è°ƒç”¨ï¼Œå› æ­¤å®ƒä»¬ä½äºå®¢æˆ·ç«¯ä¸ç”Ÿæˆå“åº”çš„è·¯ç”±é€»è¾‘çš„â€œä¸­é—´â€ã€‚nodejsåº”ç”¨ç¨‹åºå¯ä»¥å°†ä¸­é—´ä»¶ä¾‹ç¨‹â€œé“¾æ¥â€åˆ°è‡ªå®šä¹‰è¯·æ±‚/å“åº”ç®¡é“ä¸­ã€‚ç®¡é“å¯ä»¥æ ¹æ®è¯·æ±‚å’Œå“åº”è¿›è¡Œæ“ä½œï¼ŒåŒ…æ‹¬å¤´å’Œä¸»ä½“ã€‚Expresså’ŒKoaéƒ½åŒ…å«ä¸­é—´ä»¶ï¼Œä½†å®ç°æ–¹æ³•å´æˆªç„¶ä¸åŒã€‚</p>
 <a id="more"></a>

<p>æ ¸å¿ƒKoaæ¨¡å—åªæ˜¯ä¸­é—´ä»¶å†…æ ¸ã€‚è€ŒExpressåŒ…å«ä¸€ä¸ªå®Œæ•´çš„åº”ç”¨ç¨‹åºæ¡†æ¶ï¼Œå…·æœ‰è·¯ç”±å’Œæ¨¡æ¿ç­‰åŠŸèƒ½ã€‚Koaç¡®å®æœ‰è¿™äº›åŠŸèƒ½çš„é€‰é¡¹ï¼Œä½†å®ƒä»¬æ˜¯å•ç‹¬çš„æ¨¡å—ã€‚å› æ­¤ï¼ŒKoaçš„æ¨¡å—åŒ–ç¨‹åº¦æ›´é«˜ï¼›æ‚¨åªéœ€åŒ…å«æ‰€éœ€çš„æ¨¡å—å³å¯ã€‚æ ¸å¿ƒKOAæ¨¡å—åªæœ‰å¤§çº¦2åƒè¡Œä»£ç ï¼Œå› æ­¤ï¼Œå¦‚æœæ‚¨åªéœ€è¦æ ¸å¿ƒè¯·æ±‚åº”ç­”ä¸Šä¸‹æ–‡å¯¹è±¡ï¼Œåˆ™Koaå ç”¨ç©ºé—´éå¸¸å°ã€‚ç›¸æ¯”è¾ƒè€Œè¨€ï¼ŒExpressè¾ƒä¸ºåºå¤§ï¼Œå†…ç½®äº†ä¸€æ•´å¥—ä¸­é—´ä»¶åŠŸèƒ½ï¼Œå¥½å¤„æ˜¯å¯¹äºå¤§éƒ¨åˆ†åº”ç”¨åœºåˆä½ å¯ä»¥çœæ‰è‡ªå·±é€‰æ‹©å’Œç»„åˆæ¨¡å—çš„æ—¶é—´ã€‚</p>
<p>Koaå¯¹Expressè¿›è¡Œäº†æ‰©å±•ï¼Œå¹¶å……åˆ†åˆ©ç”¨äº†ES7æ–°çš„è¯­æ³•ã€‚Koaçš„Contextå¯¹è±¡æ˜¯å¯¹Expressæ ¸å¿ƒè¯·æ±‚å’Œåº”ç­”å¯¹è±¡çš„æ‰©å±•ï¼Œå¦å¤–åˆ©ç”¨async/awaitæ¥æ¶ˆé™¤å›è°ƒï¼ˆcallbackï¼‰é™·é˜±ã€‚</p>
<p>å›è°ƒçš„è¯­æ³•ç±»ä¼¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function myFunction(params, callback)&#123; </span><br><span class="line">    &#x2F;&#x2F;make async call here  </span><br><span class="line">    asyncCall(params, function(res) &#123; </span><br><span class="line">        callback(res); </span><br><span class="line">    &#125;) </span><br><span class="line">&#125; </span><br><span class="line">myFunction(myParams, function(data)&#123;   </span><br><span class="line">    &#x2F;&#x2F;do something with &#39;data&#39; here </span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>å¼‚æ­¥è¯­æ³•async/awaitç±»ä¼¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">async myFunction()&#123;</span><br><span class="line">    try &#123;</span><br><span class="line">        let res &#x3D; await asyncCall();</span><br><span class="line">        return res;</span><br><span class="line">    &#125;</span><br><span class="line">    catch(err)&#123;</span><br><span class="line">        console.log(&quot;Error: &quot; + err);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">let result &#x3D; await myFunction();</span><br></pre></td></tr></table></figure>

<p>å›è°ƒé™·é˜±ï¼ˆå¤§é‡åµŒå¥—çš„å›è°ƒå‡½æ•°ï¼‰é—®é¢˜è¿™é‡Œç•¥è¿‡ï¼Œå†™è¿‡å¤§å‹JSåº”ç”¨çš„ï¼Œåº”è¯¥éƒ½æ·±æœ‰ä½“ä¼šï¼Œä¸‹é¢çš„async/awaitè¯­æ³•é™¤äº†æ‰§è¡Œé¡ºåºæ›´åŠ æ¸…æ¥šä¹‹å¤–ï¼Œå¼‚å¸¸å¤„ç†ä¹Ÿæ›´å®¹æ˜“ã€‚å¯¹å¼‚æ­¥é—®é¢˜çš„å¤„ç†æ–¹å¼æ˜¯Koaå’ŒExpressä¸¤è€…ä¸€ä¸ªæ˜¾è‘—åŒºåˆ«ã€‚</p>
<p>å…³äºæ€§èƒ½ï¼Œè¿™ä¸¤ä¸ªæ¡†æ¶ç›¸å·®æ— å‡ ï¼ŒKoaç•¥å¥½ï¼Œè¿™é‡Œç•¥è¿‡å…·ä½“çš„æµ‹è¯•ç”¨ä¾‹äº†ï¼ŒåŸºæœ¬ä¸Šéƒ½èƒ½è¾¾åˆ°å‡ åƒreq/sã€‚</p>
<p>æœ€åç®€å•æ€»ç»“ä¸‹ï¼Œå¦‚ä½•é€‰å‹ï¼š</p>
<ol>
<li>å¦‚æœæ˜¯æ–°é¡¹ç›®ï¼Œè¿è¡Œç¯å¢ƒå¯¹ES7è¯­æ³•æ²¡æœ‰é™åˆ¶ï¼Œå¯¹æ€§èƒ½æ¯”è¾ƒçœ‹é‡ï¼Œå›¢é˜Ÿæœ‰è¾ƒé«˜çš„å®šåˆ¶åŒ–éœ€æ±‚å’ŒæŠ€èƒ½ï¼Œé‚£ä¹ˆä¼˜å…ˆé€‰æ‹©Koaï¼›</li>
<li>å¦‚æœæ˜¯Expressçš„è€é¡¹ç›®ï¼Œé‚£ä¹ˆå»ºè®®ç»§ç»­ä½¿ç”¨Expressï¼Œæ²¡å¿…è¦åªæ˜¯ä¸ºäº†ç”¨æ–°æŠ€æœ¯è€Œæ¥è¿ç§»ï¼ŒKoaå’ŒExpressä¹Ÿä¸é‚£ä¹ˆå…¼å®¹ï¼›</li>
<li>å¦‚æœä½ ä¸æƒ³è‡ªå·±é€‰æ‹©å’Œæ­å»ºå„ç§æ¨¡å—ç»„ä»¶å¹¶æœ‰å¯èƒ½éœ€è¦å¤„ç†å…¼å®¹é—®é¢˜ï¼Œè€Œå–œæ¬¢ä¸€ä½“çš„ã€å¿«é€Ÿé›†æˆå¼€å‘ï¼Œé‚£ä¹ˆé€‰æ‹©Expressï¼ŒExpressæ˜¯ä¸€å¥—æˆç†Ÿçš„åº”ç”¨å¼€å‘æ¡†æ¶ï¼Œè€Œä¸ä»…ä»…æä¾›æ ¸å¿ƒæ¨¡å—</li>
</ol>
<p>å‚è€ƒé“¾æ¥: <a href="https://www.cnblogs.com/leolovexx/p/12212552.html" target="_blank" rel="noopener">https://www.cnblogs.com/leolovexx/p/12212552.html</a></p>
]]></content>
      <categories>
        <category>es6</category>
      </categories>
      <tags>
        <tag>express</tag>
        <tag>koa</tag>
      </tags>
  </entry>
  <entry>
    <title>flex</title>
    <url>/2020/10/28/flex/</url>
    <content><![CDATA[<p>çˆ¶çº§å±æ€§</p>
<h3 id="flex-direction"><a href="#flex-direction" class="headerlink" title="flex-direction"></a>flex-direction</h3><p>![clipboard (10)](flex.assets/clipboard (10).png)</p>
<h3 id="justify-content"><a href="#justify-content" class="headerlink" title="justify-content"></a>justify-content</h3><p>![clipboard (11)](flex.assets/clipboard (11).png)</p>
<h3 id="flex-wrap"><a href="#flex-wrap" class="headerlink" title="flex-wrap"></a>flex-wrap</h3><p>![clipboard (12)](flex.assets/clipboard (12).png)</p>
<h3 id="align-items-stretchåœ¨å­é¡¹æ²¡æœ‰é«˜åº¦æ‰èƒ½ä½¿ç”¨-ï¼Œåœ¨å­é¡¹ä¸ºå•è¡Œçš„æ—¶å€™æœ‰æ•ˆ"><a href="#align-items-stretchåœ¨å­é¡¹æ²¡æœ‰é«˜åº¦æ‰èƒ½ä½¿ç”¨-ï¼Œåœ¨å­é¡¹ä¸ºå•è¡Œçš„æ—¶å€™æœ‰æ•ˆ" class="headerlink" title="align-items(stretchåœ¨å­é¡¹æ²¡æœ‰é«˜åº¦æ‰èƒ½ä½¿ç”¨)ï¼Œåœ¨å­é¡¹ä¸ºå•è¡Œçš„æ—¶å€™æœ‰æ•ˆ"></a>align-items(stretchåœ¨å­é¡¹æ²¡æœ‰é«˜åº¦æ‰èƒ½ä½¿ç”¨)ï¼Œåœ¨å­é¡¹ä¸ºå•è¡Œçš„æ—¶å€™æœ‰æ•ˆ</h3><p>![clipboard (13)](flex.assets/clipboard (13).png)</p>
<h3 id="align-content-é€‚ç”¨äºå¤šè¡Œ"><a href="#align-content-é€‚ç”¨äºå¤šè¡Œ" class="headerlink" title="align-content(é€‚ç”¨äºå¤šè¡Œ)"></a>align-content(é€‚ç”¨äºå¤šè¡Œ)</h3><p>![clipboard (14)](flex.assets/clipboard (14).png)</p>
<p>åŒºåˆ«</p>
<p>![clipboard (15)](flex.assets/clipboard (15).png)</p>
<h3 id="flex-flow"><a href="#flex-flow" class="headerlink" title="flex-flow"></a>flex-flow</h3><p>![clipboard (16)](flex.assets/clipboard (16).png)</p>
<p>å­çº§å±æ€§</p>
<h3 id="flex"><a href="#flex" class="headerlink" title="flex"></a>flex</h3><p>![clipboard (17)](flex.assets/clipboard (17).png)</p>
<h3 id="align-self"><a href="#align-self" class="headerlink" title="align-self"></a>align-self</h3><p>![clipboard (18)](flex.assets/clipboard (18).png)</p>
<h3 id="order"><a href="#order" class="headerlink" title="order"></a>order</h3><p>![clipboard (19)](flex.assets/clipboard (19).png)</p>
<p><strong>flexå¸ƒå±€å¦‚ä½•å·¦å¯¹é½å¹¶ä¸”é—´è·ç›¸åŒ</strong>(é€‚ç”¨äºå°‘äºä¸€è¡Œæ’æ»¡çš„ä¸ªæ•°æˆ–è€…å¤šä½™ä¸€è¡Œä½†æ˜¯å°‘äºä¸¤è¡Œ)</p>
<p>ç»™itemçš„çˆ¶ç±»åŠ ä¸€ä¸ªä¼ªç±»ï¼Œå¦‚ï¼š</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.top-list</span><span class="selector-pseudo">::after</span>&#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">20%</span>;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">""</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>heightä¸€å®šè¦ç»™0ï¼›widthå’Œitemçš„widthä¸€è‡´ï¼›contenç»™ç©ºå³å¯</strong></p>
<p>æ”¹å˜å¸ƒå±€æ–¹å¼</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">justify-content: space-between;</span><br><span class="line">æ”¹å</span><br><span class="line">align-content: flex-start;</span><br></pre></td></tr></table></figure>

]]></content>
  </entry>
  <entry>
    <title>gitExtensions/git/kdiff3/</title>
    <url>/2020/08/18/gitExtensions-git-kdiff3/</url>
    <content><![CDATA[<h3 id="Git-Extensionå·¥å…·å®‰è£…åŠä½¿ç”¨"><a href="#Git-Extensionå·¥å…·å®‰è£…åŠä½¿ç”¨" class="headerlink" title="Git Extensionå·¥å…·å®‰è£…åŠä½¿ç”¨"></a><a href="https://www.cnblogs.com/sumuncle/p/7675921.html" target="_blank" rel="noopener">Git Extensionå·¥å…·å®‰è£…åŠä½¿ç”¨</a></h3><p>ä»¥ä¸‹ç•Œé¢æ‰€ç¤ºçš„ä¸‰ä¸ªå·¥å…·ï¼Œå¦‚æœæ²¡å®‰è£…è¿‡ï¼Œåˆ™å‹¾ä¸Šè®©å…¶å®‰è£…ã€‚MsysGitä¸ºGitçš„Windowsç‰ˆæœ¬ï¼Œå¿…é¡»è¦å®‰è£…ï¼›Kdiffä¸ºå¯¹æ¯”/åˆå¹¶å·¥å…·ï¼Œå¯é€‰å®‰è£…ï¼Œå¯ä»¥æ¢ä¸ºä½¿ç”¨å…¶å®ƒçš„ç›¸å…³å·¥å…·ï¼›æœ€åä¸€ä¸ªWindows Credential Store for Gitç”¨äºåœ¨Windows Credential Managerä¸­å­˜å‚¨ä»“åº“çš„å¯†ç ï¼Œè¿™åœ¨è€ç‰ˆæœ¬ä¸­æ²¡æœ‰ï¼Œä¹Ÿå®‰ä¸Šå§</p>
<a id="more"></a>

<p><img src="https://images2017.cnblogs.com/blog/732403/201710/732403-20171016110809365-1747214992.png" alt="img"></p>
<p><strong>æ¯”è¾ƒæ¦‚è¿°ï¼š</strong><br>SSHå®¢æˆ·ç«¯ï¼ŒOpenSSHæ˜¯å‘½ä»¤è¡Œçš„ï¼ŒPuTTYæ˜¯å›¾å½¢ç•Œé¢çš„ï¼š </p>
<p><img src="https://images2017.cnblogs.com/blog/732403/201710/732403-20171016110829146-357896798.png" alt="img"></p>
<p>è‹¥é€‰æ‹©PuTTYåˆ™å®‰è£…æˆåŠŸå,å¦‚æœæœ‰é—®é¢˜ï¼Œéœ€è¦è¿›è¡Œä»¥ä¸‹é…ç½®:</p>
<p><img src="https://images2017.cnblogs.com/blog/732403/201710/732403-20171016111207302-993527291.png" alt="img"></p>
<p><img src="https://images2017.cnblogs.com/blog/732403/201710/732403-20171016111228881-2045654478.png" alt="img"></p>
<p><strong>ä»¥ä¸‹ä»¥OpenSSHä¸ºä¾‹åšä»¥ä¸‹æ“ä½œ:</strong></p>
<p>ç¬¬ä¸€æ­¥ï¼šå®‰è£…</p>
<p>1.åŒå‡»ï¼šGitExtensions24703SetupComplete.msi</p>
<ignore_js_op> 

<p><img src="https://images2017.cnblogs.com/blog/732403/201710/732403-20171016101101099-1387852818.png" alt="img"></p>
<ignore_js_op> 

<p> <img src="https://images2017.cnblogs.com/blog/732403/201710/732403-20171016101117256-804768133.png" alt="img"></p>
<p>é€‰æ‹©å®‰è£…è·¯å¾„</p>
<ignore_js_op> 

<p> <img src="https://images2017.cnblogs.com/blog/732403/201710/732403-20171016101147552-1825946550.png" alt="img"></p>
<ignore_js_op> 

<p><img src="https://images2017.cnblogs.com/blog/732403/201710/732403-20171016101203974-535514155.png" alt="img"></p>
<ignore_js_op> 

<p> <img src="https://images2017.cnblogs.com/blog/732403/201710/732403-20171016101229693-2058253143.png" alt="img"></p>
<p>ç‚¹å‡»Installä¹‹åè·³å‡ºä»¥ä¸‹çª—å£ï¼Œç‚¹å‡»æˆ‘æ¥å—</p>
<p> <img src="https://images2017.cnblogs.com/blog/732403/201710/732403-20171016101522412-1379845039.png" alt="img"></p>
<ignore_js_op> 

<p><img src="https://images2017.cnblogs.com/blog/732403/201710/732403-20171016101539021-1719148735.png" alt="img"></p>
<ignore_js_op> 

<p><img src="https://images2017.cnblogs.com/blog/732403/201710/732403-20171016101554959-1954911635.png" alt="img"></p>
<ignore_js_op> 

<p><img src="https://images2017.cnblogs.com/blog/732403/201710/732403-20171016101609834-1365194592.png" alt="img"></p>
<ignore_js_op> 

<p><img src="https://images2017.cnblogs.com/blog/732403/201710/732403-20171016101624006-1861780982.png" alt="img"></p>
<ignore_js_op> 

<p> <img src="https://images2017.cnblogs.com/blog/732403/201710/732403-20171016101921490-1403912771.png" alt="img"></p>
<p>ç‚¹å‡»å®Œæˆåè·³å‡ºä»¥ä¸‹çª—å£ï¼Œç‚¹å‡»Next</p>
<p> <img src="https://images2017.cnblogs.com/blog/732403/201710/732403-20171016101936334-848543012.png" alt="img"></p>
<ignore_js_op> 

<p><img src="https://images2017.cnblogs.com/blog/732403/201710/732403-20171016102131974-817517735.png" alt="img"></p>
<ignore_js_op> 

<p><img src="https://images2017.cnblogs.com/blog/732403/201710/732403-20171016102210724-1255385702.png" alt="img"></p>
<ignore_js_op> 

<p><img src="https://images2017.cnblogs.com/blog/732403/201710/732403-20171016102231287-1365215914.png" alt="img"></p>
<ignore_js_op> 

<p> <img src="https://images2017.cnblogs.com/blog/732403/201710/732403-20171016102248131-721962200.png" alt="img"></p>
<p>ç‚¹å‡»åç­‰å¾…å®‰è£…å®Œæˆ</p>
<p> <img src="https://images2017.cnblogs.com/blog/732403/201710/732403-20171016102318115-1652078200.png" alt="img"></p>
<p>å®‰è£…å®Œæˆåè‡ªåŠ¨å…³é—­çª—å£ï¼Œè·³è½¬åˆ°é¢†ä¸€ä¸ªçª—å£ï¼ç‚¹å‡»Finish</p>
<p>ç‚¹å‡»Finishåï¼Œå·¥å…·å°±å…¨éƒ¨å®‰è£…å®Œæˆå•¦ï¼</p>
<p>æ¸©é¦¨æç¤ºï¼šå®‰è£…è¿‡ç¨‹ä¸­å¼€å¯çš„ç¨‹åºå¯ä»¥ç›´æ¥å…³é—­</p>
<p>ç¬¬äºŒæ­¥ï¼šé…ç½®ï¼</p>
<p>åŒå‡»è½¯ä»¶å›¾æ ‡:è½¯ä»¶</p>
<p> <img src="https://images2017.cnblogs.com/blog/732403/201710/732403-20171016102545084-1071616752.png" alt="img"></p>
<p>æ‰“å¼€åå¦‚ä¸‹å›¾ï¼šè¿›å…¥è®¾ç½®é¡µé¢ï¼Œé€‰æ‹©å…¨å±€è®¾ç½®</p>
<p> <img src="https://images2017.cnblogs.com/blog/732403/201710/732403-20171016102602006-1411834690.png" alt="img"></p>
<p>å…¨å±€æ˜¯è®¾ç½®å¦‚ä¸‹å›¾</p>
<p> <img src="https://images2017.cnblogs.com/blog/732403/201710/732403-20171016102619881-334267455.png" alt="img"></p>
<p>å…¨å±€è®¾ç½®è¦æ±‚å¦‚ä¸‹ï¼š</p>
<p> <img src="https://images2017.cnblogs.com/blog/732403/201710/732403-20171016102632209-937526562.png" alt="img"></p>
<p>SSHè®¾ç½®å¦‚ä¸‹</p>
<ignore_js_op> 

<p> <img src="https://images2017.cnblogs.com/blog/732403/201710/732403-20171016102821959-978142230.png" alt="img"></p>
<p>è®¾ç½®å®Œæˆåç‚¹å‡»åº”ç”¨ã€æ¥ç€ç‚¹å‡»ç¡®å®š</p>
<p>ç„¶åå‡ºç°å¦‚ä¸‹é¡µé¢ï¼šç‚¹å‡»å…‹éš†æ¡£æ¡ˆåº“</p>
<p> <img src="https://images2017.cnblogs.com/blog/732403/201710/732403-20171016102859443-624421601.png" alt="img"></p>
<p>å‡ºç°å¦‚ä¸‹é¡µé¢ï¼š</p>
<p> <img src="https://images2017.cnblogs.com/blog/732403/201710/732403-20171016102916068-1828212738.png" alt="img"></p>
<p>æ­¤é¡µé¢å…·ä½“è®¾ç½®æ–¹æ³•å¦‚ä¸‹å›¾ï¼š</p>
<p> <img src="https://images2017.cnblogs.com/blog/732403/201710/732403-20171016103539490-342843931.png" alt="img"></p>
<p>ä¾‹å¦‚é…ç½®ä¸‹å›¾æ¡£æ¡ˆåº“ï¼š</p>
<p>æ¡£æ¡ˆåº“åœ°å€åœ¨ï¼š<a href="http://mc.kuaikuai.cn/" target="_blank" rel="noopener">http://mc.kuaikuai.cn</a></p>
<p> <img src="https://images2017.cnblogs.com/blog/732403/201710/732403-20171016103647474-1178722425.png" alt="img"></p>
<p> <img src="https://images2017.cnblogs.com/blog/732403/201710/732403-20171016103708521-1159470095.png" alt="img"></p>
<p>åˆ™æ–‡ä»¶æœ€ç»ˆå­˜å‚¨çš„ç›®å½•ä¸ºï¼šD:\KuaiKuai_MC_Server\ lostforest</p>
<p> <img src="https://images2017.cnblogs.com/blog/732403/201710/732403-20171016103733709-556038027.png" alt="img"></p>
<p>ç‚¹å‡»å…‹éš†ï¼šå¼¹å‡ºè¾“å…¥è´¦æˆ·å¯†ç çª—å£ï¼Œè´¦æˆ·ç”±æˆ‘ä»¬å¿«å¿«å®˜æ–¹æä¾›</p>
<p> <img src="https://images2017.cnblogs.com/blog/732403/201710/732403-20171016103806021-1359103381.png" alt="img"></p>
<p>é€‰æ‹©è·¯å¾„ä¹‹åç‚¹å‡»å…‹éš†ï¼Œå‡ºç°ä»¥ä¸‹çª—å£ï¼Œè¾“å…¥ç”¨æˆ·åã€ç‚¹å‡»å›è½¦</p>
<p>è¾“å…¥å¯†ç </p>
<p>æ³¨æ„ï¼šè¾“å…¥å¯†ç æ—¶çœ‹ä¸è§è¾“å…¥çš„é”®å€¼ï¼Œå…‰æ ‡ä¹Ÿä¸ä¼šç§»åŠ¨</p>
<p>å¦‚æœå³ä¸Šè§’çº¢è‰²Xï¼Œè¡¨ç¤ºç”¨æˆ·åè´¦æˆ·éªŒè¯å¤±è´¥</p>
<p> <img src="https://images2017.cnblogs.com/blog/732403/201710/732403-20171016104026287-1169565778.png" alt="img"></p>
<p>å‡ºç°ç»¿è‰²å‹¾ä¸ºè´¦æˆ·éªŒè¯æ­£ç¡®ï¼Œç‚¹å‡»ç¡®å®šã€‚</p>
<p> <img src="https://images2017.cnblogs.com/blog/732403/201710/732403-20171016104039756-1950152715.png" alt="img"></p>
<p>è¿™ä¸ªè¿‡ç¨‹ä¸­å°†ä¼šæŠŠæœåŠ¡å™¨å·²ç»å­˜åœ¨çš„æ–‡ä»¶ä¸‹è½½åˆ°æœ¬åœ°ï¼Œç„¶åç”±æœä¸»è‡ªè¡Œæ›¿æ¢æ–‡ä»¶ï¼Œå†ä¸Šä¼ ï¼</p>
<p> <img src="https://images2017.cnblogs.com/blog/732403/201710/732403-20171016104108927-1727956402.png" alt="img"></p>
<p>åˆ›å»ºæˆåŠŸåå¦‚ä¸‹ï¼š</p>
<p> <img src="https://images2017.cnblogs.com/blog/732403/201710/732403-20171016104129771-693242118.png" alt="img"></p>
<p>ç¬¬ä¸‰æ­¥ï¼šä¸Šä¼ </p>
<p>ç‚¹å‡»ä¸‹å›¾ï¼šæäº¤</p>
<p> <img src="https://images2017.cnblogs.com/blog/732403/201710/732403-20171016104206506-704711939.png" alt="img"></p>
<p>è¿›å…¥ä»¥ä¸‹é¡µé¢ï¼š</p>
<p> <img src="https://images2017.cnblogs.com/blog/732403/201710/732403-20171016104237177-1050313354.png" alt="img"></p>
<p>1åŒºæ˜¯å¯¹åº”æ–‡ä»¶å¤¹ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ï¼Œé€‰æ‹©ä½ éœ€è¦ä¸Šä¼ çš„æ–‡ä»¶ï¼ŒåŒå‡»å®ƒè¿›å…¥3åŒºï¼</p>
<p>ï¼ˆæ³¨æ„ï¼š1åŒºåªæ˜¾ç¤ºæœ€æ–°ä¿®æ”¹çš„æ–‡ä»¶ï¼Œæœªä¿®æ”¹çš„æ–‡ä»¶ä¸ä¼šæ˜¾ç¤ºå‡ºæ¥ï¼‰</p>
<p>2åŒºæ˜¯æ˜¾ç¤ºæ–‡æœ¬æ–‡ä»¶çš„å†…å®¹ã€‚</p>
<p>3åŒºæ˜¯é€‰æ‹©å¥½åéœ€è¦ä¸Šä¼ çš„æ–‡ä»¶ï¼ŒåŒå‡»å®ƒå–æ¶ˆé€‰æ‹©</p>
<p>4åŒºæ˜¯å¡«å†™æ“ä½œåŸå› </p>
<p>æ–‡ä»¶é€‰æ‹©å®Œæ¯•ä¹‹åï¼Œå¡«å†™åŸå› .ä¾‹å¦‚ä¸‹å›¾ï¼šç„¶åç‚¹å‡»æäº¤</p>
<p> <img src="https://images2017.cnblogs.com/blog/732403/201710/732403-20171016104311224-1833734551.png" alt="img"></p>
<p>å‡ºç°å¯¹è¯æ¡†ï¼Œç‚¹å‡»ç¡®å®š</p>
<p> <img src="https://images2017.cnblogs.com/blog/732403/201710/732403-20171016104336037-321937142.png" alt="img"></p>
<p>è¿›å…¥ä»¥ä¸‹é¡µé¢ï¼Œæœ€ä¸Šæ–¹çš„è¡¨ç¤ºæœ€æ–°åˆ›å»ºçš„ä»»åŠ¡ã€‚ç­‰å¾…ä¸Šä¼ çš„æ–‡ä»¶ï¼</p>
<p> <img src="https://images2017.cnblogs.com/blog/732403/201710/732403-20171016104358318-1599399045.png" alt="img"></p>
<p>å¦‚ä¸‹å›¾ï¼šé€‰æ‹©ç¬¬ä¸€é¡¹ï¼Œç„¶åç‚¹å‡»è“è‰²å‘ä¸Šç®­å¤´</p>
<p> <img src="https://images2017.cnblogs.com/blog/732403/201710/732403-20171016104427256-1658293722.png" alt="img"></p>
<p>ç‚¹å‡»ç®­å¤´åå‡ºç°ä¸‹å›¾çª—å£:æ— éœ€ä»»ä½•æ“ä½œï¼Œç›´æ¥ç‚¹å‡»â€œæ¨é€â€æŒ‰é’®</p>
<p> <img src="https://images2017.cnblogs.com/blog/732403/201710/732403-20171016104446568-1900158592.png" alt="img"></p>
<p>ç‚¹å‡»â€œæ¨é€â€åéœ€è¦éªŒè¯è´¦æˆ·ï¼šæ“ä½œæ–¹æ³•ä¸ä¹‹å‰ä¸€æ ·</p>
<ignore_js_op> 

<p> <img src="https://images2017.cnblogs.com/blog/732403/201710/732403-20171016104513709-1152268099.png" alt="img"></p>
<p>è´¦æˆ·éªŒè¯æˆåŠŸåæ–‡ä»¶è‡ªåŠ¨ä¸Šä¼ ï¼Œå‡ºç°ç»¿è‰²å‹¾é€‰é¡¹è¡¨ç¤ºæ­£ç¡®</p>
<p> <img src="https://images2017.cnblogs.com/blog/732403/201710/732403-20171016104536412-1454555876.png" alt="img"></p>
<p>å®‰è£…å®Œæˆï¼ŒGit Extensionsä¼šå¼¹å‡ºé…ç½®ç•Œé¢ï¼Œå¦‚æœæœ‰é—®é¢˜ï¼Œä¸€èˆ¬å°±æ˜¯é€‰æ‹©ä¸€ä¸‹ç›¸å…³ç»„ä»¶çš„è·¯å¾„å³å¯ï¼š</p>
<p>æ³¨æ„ï¼š3.0ç‰ˆæœ¬ä¹‹åï¼Œgitå’Œkdiff3éƒ½è¦æ‰‹åŠ¨å®‰è£…ï¼Œä¸€ç›´nextå°±å¯ä»¥äº†(ä¸‹å›¾ä¸ºæ‰‹åŠ¨æ·»åŠ kdiff3ä¸ºå¯¹æ¯”å·¥å…·)</p>
<p><img src="https://i.loli.net/2020/08/18/KQMzZ7O2gdXVyw8.png" alt="kdiff3.png"></p>
<h2 id="SSH"><a href="#SSH" class="headerlink" title="SSH"></a>SSH</h2><blockquote>
<p>SSHæ˜¯ä¸€ç§<strong>ç½‘ç»œåè®®</strong>ï¼Œç”¨äºè®¡ç®—æœºä¹‹é—´çš„<strong>åŠ å¯†</strong>ç™»å½•ã€‚å¯¹äºSSHè¯¦æƒ…äº†è§£å¯ä»¥å»çœ‹çœ‹è¿™ä¸ªï¼š<a href="http://www.findme.wang/blog/detail/id/258.html" target="_blank" rel="noopener">http://www.findme.wang/blog/detail/id/258.html</a></p>
</blockquote>
<p>ã€€ã€€æ¯å°ç”µè„‘ä¸Šä¼šäº§ç”Ÿå‡ºä¸€ä¸ªssh keyï¼Œç„¶åè‡ªå·±æœ‰ä¸€ä¸ªè¿œç¨‹è´¦æˆ·ï¼Œä½†æ˜¯è‡ªå·±æœ‰å¯èƒ½æœ‰å¾ˆå¤šå°ç”µè„‘ï¼ŒåŒ…æ‹¬å®¶é‡Œçš„ç”µè„‘è¿˜æœ‰å…¬å¸çš„ç”µè„‘ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä»»æ„ä¸€å°ç”µè„‘ä¸Šå·¥ä½œï¼Œä½†æ˜¯å¦‚æœæƒ³è¦æ¯å°ç”µè„‘éƒ½å’Œè¿œç¨‹ç‰ˆæœ¬åº“æ—¶åˆ»ä¿æŒç€é€šè®¯ï¼Œ å°±éœ€è¦å°†æ¯å°ç”µè„‘çš„ssh keyæ·»åŠ åˆ°è¿œç¨‹è´¦æˆ·ï¼Œæ·»åŠ åˆ°è¿œç¨‹ç‰ˆæœ¬åº“ä¹‹åï¼Œè¿œç¨‹ç‰ˆæœ¬åº“å°±ä¼šå’Œå·²ç»æ·»åŠ çš„ç”µè„‘è¿›è¡Œé€šè®¯è€Œä¸ä¼šå’Œå…¶ä»–ç”µè„‘è¿›è¡Œé€šè®¯ã€‚å»ºè®®ï¼šæ‰€æœ‰çš„Gitæ“ä½œéƒ½é€šè¿‡ssh keyè¿›è¡Œï¼Œå› ä¸ºç®€å•</p>
<h3 id="ssh-keyé…ç½®-ç”¨gitå‘½ä»¤ç”Ÿæˆ"><a href="#ssh-keyé…ç½®-ç”¨gitå‘½ä»¤ç”Ÿæˆ" class="headerlink" title="ssh keyé…ç½®(ç”¨gitå‘½ä»¤ç”Ÿæˆ)"></a><strong>ssh keyé…ç½®</strong>(ç”¨gitå‘½ä»¤ç”Ÿæˆ)</h3><h5 id="æœ¬åœ°ç”µè„‘é…ç½®"><a href="#æœ¬åœ°ç”µè„‘é…ç½®" class="headerlink" title="æœ¬åœ°ç”µè„‘é…ç½®"></a>æœ¬åœ°ç”µè„‘é…ç½®</h5><p>å³é”®ç©ºç™½å¤„ï¼Œé€‰æ‹©Git Bash Hereæ‰“å¼€ç›¸å…³å‘½ä»¤çª—å£</p>
<p>ã€€ã€€ é…ç½®ç”¨æˆ·åå’Œé‚®ç®±ï¼ˆå¦‚æœå·²ç»é…ç½®ï¼Œå°±è·³è¿‡ï¼‰  </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git config --global user.name &quot;username&quot;  --å¼•å·ä¸­è‡ªå®šä¹‰</span><br><span class="line"></span><br><span class="line">git config --global user.email &quot;email&quot;</span><br></pre></td></tr></table></figure>

<p>  ä¹‹åå°±ä¼šåœ¨C:\Users\Administratorä¸‹åˆ›å»ºä¸€ä¸ª.gitconfigæ–‡ä»¶</p>
<p>ã€€ã€€æ³¨æ„ï¼š</p>
<ul>
<li>usernameå’Œemailå³githubçš„ç™»é™†å¸å·å’Œæ³¨å†Œé‚®ç®±</li>
<li>git configå‘½ä»¤çš„â€“globalå‚æ•°ï¼Œç”¨äº†è¿™ä¸ªå‚æ•°ï¼Œè¡¨ç¤ºä½ è¿™å°æœºå™¨ä¸Šæ‰€æœ‰çš„Gitä»“åº“éƒ½ä¼šä½¿ç”¨è¿™ä¸ªé…ç½®</li>
</ul>
<h5 id="æ£€æŸ¥ä¸‹è‡ªå·±ä¹‹å‰æœ‰æ²¡æœ‰å·²ç»ç”Ÿæˆssh"><a href="#æ£€æŸ¥ä¸‹è‡ªå·±ä¹‹å‰æœ‰æ²¡æœ‰å·²ç»ç”Ÿæˆssh" class="headerlink" title="æ£€æŸ¥ä¸‹è‡ªå·±ä¹‹å‰æœ‰æ²¡æœ‰å·²ç»ç”Ÿæˆssh"></a>æ£€æŸ¥ä¸‹è‡ªå·±ä¹‹å‰æœ‰æ²¡æœ‰å·²ç»ç”Ÿæˆssh</h5><blockquote>
<p>ã€€ã€€<strong>cd ~/.ssh</strong></p>
</blockquote>
<p>ã€€ã€€è¯æ˜æœ‰sshå­˜åœ¨</p>
<p><img src="https://img2018.cnblogs.com/blog/1691475/201910/1691475-20191017221620652-8123436.png" alt="img"></p>
<p> ã€€å½“cd ~/.sshå‘½ä»¤æ‰§è¡Œåçª—å£è¿”å›â€œno such file or directoryâ€çš„æ—¶å€™ï¼Œè¡¨ç¤ºæˆ‘ä»¬çš„ç”µè„‘å¹¶æ²¡æœ‰ssh keyï¼Œæ‰€ä»¥éœ€è¦æˆ‘ä»¬åˆ›å»ºssh ke</p>
<blockquote>
<p>ã€€<strong>ssh-keygen -t rsa -C â€œ<a href="mailto:xxx@xx.com">xxx@xx.com</a>â€œ</strong>  â€“åˆ›å»º.ssmæ–‡ä»¶ï¼Œå¦‚æœæ²¡æœ‰è¿™ä¸ªæ–‡ä»¶æ‰§è¡Œå³å¯ï¼Œæ¥ç€æŒ‰ä¸‰ä¸ªå›è½¦å³å¯ã€‚ã€€</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">æ³¨æ„ï¼šå¦‚æœæœ¬åœ°æœ‰sshï¼Œæ‰§è¡Œä»¥ä¸Šå‘½ä»¤ä¼šå‡ºç°æ­£é¢çš„æç¤ºï¼Œè¿™é‡Œé€‰æ‹©yï¼Œè¡¨ç¤ºè¦†ç›–æœ¬åœ°çš„ssh keyï¼Œå…¶å®ä¹Ÿå°±æ˜¯sshç§˜é’¥åˆ é™¤çš„æ„æ€</span><br></pre></td></tr></table></figure>



<p>æ‰§è¡Œå‘½ä»¤å®Œæˆå,é»˜è®¤ä¼šåœ¨windowçš„C:\Users\Administrator.sshä¸‹é¢ç”Ÿæˆå¦‚ä¸‹ä¸¤ä¸ªåç§°çš„æ–‡ä»¶:</p>
<p>   C:\Users\Administrator.ssh</p>
<p>â€‹    id_rsa(ç§é’¥ï¼Œä¸èƒ½æ³„éœ²å‡ºå»)</p>
<p>â€‹    id_rsa.pub(å…¬é’¥)</p>
<p>â€‹    known_hosts(ä¸ç”¨ç®¡)</p>
<p><img src="https://img2018.cnblogs.com/blog/1691475/201910/1691475-20191017222436228-327194399.png" alt="img"></p>
<h3 id="https-å’Œ-SSH-çš„åŒºåˆ«"><a href="#https-å’Œ-SSH-çš„åŒºåˆ«" class="headerlink" title="https å’Œ SSH çš„åŒºåˆ«"></a>https å’Œ SSH çš„åŒºåˆ«</h3><blockquote>
<p>1.å‰è€…å¯ä»¥éšæ„å…‹éš†githubä¸Šçš„é¡¹ç›®ï¼Œè€Œä¸ç®¡æ˜¯è°çš„ï¼›</p>
<p>ã€€ã€€è€Œåè€…åˆ™æ˜¯ä½ å¿…é¡»æ˜¯ä½ è¦å…‹éš†çš„é¡¹ç›®çš„æ‹¥æœ‰è€…æˆ–ç®¡ç†å‘˜ï¼Œéœ€è¦å…ˆæ·»åŠ  SSH key ï¼Œå¦åˆ™æ— æ³•å…‹éš†ã€‚</p>
<p>2.https url åœ¨pushçš„æ—¶å€™æ˜¯éœ€è¦éªŒè¯ç”¨æˆ·åå’Œå¯†ç çš„ï¼›è€Œ SSH åœ¨pushçš„æ—¶å€™ï¼Œæ˜¯ä¸éœ€è¦è¾“å…¥ç”¨æˆ·åçš„ï¼›</p>
<p>ã€€ã€€å¦‚æœé…ç½®SSH keyçš„æ—¶å€™è®¾ç½®äº†å¯†ç ï¼Œåˆ™éœ€è¦è¾“å…¥å¯†ç çš„ï¼Œå¦åˆ™ç›´æ¥æ˜¯ä¸éœ€è¦è¾“å…¥å¯†ç çš„ã€‚</p>
</blockquote>
<h3 id="Git-Guiç”ŸæˆSSH-Key"><a href="#Git-Guiç”ŸæˆSSH-Key" class="headerlink" title="Git Guiç”ŸæˆSSH Key"></a>Git Guiç”ŸæˆSSH Key</h3><h4 id="æ‰“å¼€Git-Gui-é€‰æ‹©ã€helpã€‘ï¼Œç‚¹å‡»ã€Show-SSH-KEYã€‘"><a href="#æ‰“å¼€Git-Gui-é€‰æ‹©ã€helpã€‘ï¼Œç‚¹å‡»ã€Show-SSH-KEYã€‘" class="headerlink" title="æ‰“å¼€Git Gui, é€‰æ‹©ã€helpã€‘ï¼Œç‚¹å‡»ã€Show SSH KEYã€‘"></a>æ‰“å¼€Git Gui, é€‰æ‹©ã€helpã€‘ï¼Œç‚¹å‡»ã€Show SSH KEYã€‘</h4><p><img src="https://img-blog.csdn.net/20171213173841712?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYm9iYnlfZnU=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p>
<h4 id="ç”±äºä¹‹å‰æ²¡æœ‰é…ç½®è¿‡SSH-KEYï¼Œæ­¤æ—¶ä¼šæ˜¾ç¤ºæ²¡æœ‰ä»»ä½•SSH-å…¬é’¥"><a href="#ç”±äºä¹‹å‰æ²¡æœ‰é…ç½®è¿‡SSH-KEYï¼Œæ­¤æ—¶ä¼šæ˜¾ç¤ºæ²¡æœ‰ä»»ä½•SSH-å…¬é’¥" class="headerlink" title="ç”±äºä¹‹å‰æ²¡æœ‰é…ç½®è¿‡SSH KEYï¼Œæ­¤æ—¶ä¼šæ˜¾ç¤ºæ²¡æœ‰ä»»ä½•SSH å…¬é’¥"></a>ç”±äºä¹‹å‰æ²¡æœ‰é…ç½®è¿‡SSH KEYï¼Œæ­¤æ—¶ä¼šæ˜¾ç¤ºæ²¡æœ‰ä»»ä½•SSH å…¬é’¥</h4><p><img src="https://img-blog.csdn.net/20171213173922842?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYm9iYnlfZnU=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p>
<h4 id="ç‚¹å‡»å³ä¸Šè§’ã€Generate-keyã€‘ï¼Œæ­¤æ—¶ä¼šå¼¹å‡ºä¸€ä¸ªç•Œé¢ï¼Œè¦æ±‚ä½ è¾“å…¥passphrase"><a href="#ç‚¹å‡»å³ä¸Šè§’ã€Generate-keyã€‘ï¼Œæ­¤æ—¶ä¼šå¼¹å‡ºä¸€ä¸ªç•Œé¢ï¼Œè¦æ±‚ä½ è¾“å…¥passphrase" class="headerlink" title="ç‚¹å‡»å³ä¸Šè§’ã€Generate keyã€‘ï¼Œæ­¤æ—¶ä¼šå¼¹å‡ºä¸€ä¸ªç•Œé¢ï¼Œè¦æ±‚ä½ è¾“å…¥passphrase"></a>ç‚¹å‡»å³ä¸Šè§’ã€Generate keyã€‘ï¼Œæ­¤æ—¶ä¼šå¼¹å‡ºä¸€ä¸ªç•Œé¢ï¼Œè¦æ±‚ä½ è¾“å…¥passphrase</h4><p><img src="https://img-blog.csdn.net/20171213174146021?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYm9iYnlfZnU=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p>
<h4 id="ç„¶åå†æ¬¡ç¡®è®¤è¾“å…¥passpahrase"><a href="#ç„¶åå†æ¬¡ç¡®è®¤è¾“å…¥passpahrase" class="headerlink" title="ç„¶åå†æ¬¡ç¡®è®¤è¾“å…¥passpahrase ."></a>ç„¶åå†æ¬¡ç¡®è®¤è¾“å…¥passpahrase .</h4><h4 id="æ­¤æ—¶å°±ä¼šç”Ÿæˆä¸€ä¸ªSSH-Key"><a href="#æ­¤æ—¶å°±ä¼šç”Ÿæˆä¸€ä¸ªSSH-Key" class="headerlink" title="æ­¤æ—¶å°±ä¼šç”Ÿæˆä¸€ä¸ªSSH Key"></a>æ­¤æ—¶å°±ä¼šç”Ÿæˆä¸€ä¸ªSSH Key</h4><p><img src="https://img-blog.csdn.net/20171213174304458?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYm9iYnlfZnU=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p>
<h4 id="å¦‚æœä»¥åéœ€è¦æŸ¥çœ‹SSH-Keyã€‚æ­¤æ—¶å¯ä»¥åœ¨Git-Guiç•Œé¢ä¸Šç‚¹å‡»ã€helpã€‘-ã€‹ã€Show-SSH-KEYã€‘ï¼ŒæŸ¥çœ‹æ­¤æ¬¡ç”Ÿæˆçš„SSH-Keyã€‚"><a href="#å¦‚æœä»¥åéœ€è¦æŸ¥çœ‹SSH-Keyã€‚æ­¤æ—¶å¯ä»¥åœ¨Git-Guiç•Œé¢ä¸Šç‚¹å‡»ã€helpã€‘-ã€‹ã€Show-SSH-KEYã€‘ï¼ŒæŸ¥çœ‹æ­¤æ¬¡ç”Ÿæˆçš„SSH-Keyã€‚" class="headerlink" title="å¦‚æœä»¥åéœ€è¦æŸ¥çœ‹SSH Keyã€‚æ­¤æ—¶å¯ä»¥åœ¨Git Guiç•Œé¢ä¸Šç‚¹å‡»ã€helpã€‘-ã€‹ã€Show SSH KEYã€‘ï¼ŒæŸ¥çœ‹æ­¤æ¬¡ç”Ÿæˆçš„SSH Keyã€‚"></a>å¦‚æœä»¥åéœ€è¦æŸ¥çœ‹SSH Keyã€‚æ­¤æ—¶å¯ä»¥åœ¨Git Guiç•Œé¢ä¸Šç‚¹å‡»ã€helpã€‘-ã€‹ã€Show SSH KEYã€‘ï¼ŒæŸ¥çœ‹æ­¤æ¬¡ç”Ÿæˆçš„SSH Keyã€‚</h4><p><img src="https://img-blog.csdn.net/20171213174406094?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYm9iYnlfZnU=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p>
<h3 id="TortoiseGitç”ŸæˆSSH-Key"><a href="#TortoiseGitç”ŸæˆSSH-Key" class="headerlink" title="TortoiseGitç”ŸæˆSSH Key"></a>TortoiseGitç”ŸæˆSSH Key</h3><p>1ï¼‰è¿è¡ŒPuTTYGenï¼Œåœ¨Conversionsèœå•ä¸­ç‚¹å‡»Import keyï¼Œé€‰æ‹©ssh-keygenç”Ÿæˆçš„ç§é’¥æ–‡ä»¶æ‰€åœ¨ä½ç½®ï¼Œæ¯”å¦‚id_rsaæ–‡ä»¶ã€‚</p>
<p>2ï¼‰ç‚¹å‡»Save private keyæŒ‰é’®ï¼Œå°†å…¶ä¿å­˜ä¸º.ppkæ–‡ä»¶ã€‚</p>
<p>3ï¼‰æ‰“å¼€Pageantï¼Œç‚¹å‡»Add Keyï¼Œé€‰æ‹©å‰ä¸€æ­¥æ‰€ä¿å­˜çš„.ppkæ–‡ä»¶æ‰€åœ¨çš„ä½ç½®å³å¯ã€‚</p>
<p><a href="https://www.cnblogs.com/sumuncle/p/7675921.html" target="_blank" rel="noopener">å‚è€ƒæ–‡ç« </a></p>
</ignore_js_op></ignore_js_op></ignore_js_op></ignore_js_op></ignore_js_op></ignore_js_op></ignore_js_op></ignore_js_op></ignore_js_op></ignore_js_op></ignore_js_op></ignore_js_op></ignore_js_op></ignore_js_op></ignore_js_op></ignore_js_op>]]></content>
      <categories>
        <category>gitExtensions</category>
      </categories>
      <tags>
        <tag>gitExtensions</tag>
        <tag>git</tag>
        <tag>kdiff3</tag>
      </tags>
  </entry>
  <entry>
    <title>gitå‘½ä»¤åˆé›†</title>
    <url>/2020/07/30/git%E5%91%BD%E4%BB%A4%E5%90%88%E9%9B%86/</url>
    <content><![CDATA[<h3 id="gitå‘½ä»¤"><a href="#gitå‘½ä»¤" class="headerlink" title="gitå‘½ä»¤"></a>gitå‘½ä»¤</h3><a id="more"></a>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">:wq ä¿å­˜æäº¤ä¿¡æ¯</span><br><span class="line">q é€€å‡º</span><br><span class="line"></span><br><span class="line">git branch dali åˆ›å»ºåˆ†æ”¯</span><br><span class="line">git branch æˆ–è€…git branch --listæŸ¥çœ‹åˆ†æ”¯</span><br><span class="line">git branch -a æŸ¥çœ‹å½“å‰æ‰€åœ¨åˆ†æ”¯ </span><br><span class="line">git branch -r æŸ¥çœ‹è¿œç¨‹åˆ†æ”¯</span><br><span class="line">git branch -m dali dali01 é‡å‘½åæˆdali01</span><br><span class="line">git branch -d dali01 åˆ é™¤åˆ†æ”¯dali01</span><br><span class="line">git checkout dali åˆ‡æ¢åˆ†æ”¯</span><br><span class="line"></span><br><span class="line">git push -u origin master å°†æœ¬åœ°æ¨é€åˆ°è¿œç¨‹</span><br><span class="line">git clone https:&#x2F;&#x2F;git æ–°åå­—</span><br><span class="line">git fetch æå–è¿œç¨‹ä»£ç </span><br><span class="line"></span><br><span class="line">git merge dali å°†daliåˆ†æ”¯åˆåˆ°æœ¬åœ°åˆ†æ”¯ </span><br><span class="line">git fast-forward å‡ºç°ä»£è¡¨å¿«é€Ÿåˆå¹¶ï¼Œæœ¬åœ°æ²¡æœ‰ä»»ä½•æäº¤ï¼Œä¼šç›´æ¥åˆå¹¶</span><br><span class="line">git remote add origin https:&#x2F;&#x2F;git æ·»åŠ è¿œç¨‹åº“</span><br><span class="line">git remote æŸ¥çœ‹è¿œç¨‹åº“</span><br><span class="line">git remote -væ›´è¯¦ç»†çš„è¿œç¨‹åº“</span><br><span class="line"></span><br><span class="line">git æˆ–è€… git help --æŸ¥çœ‹å¸®åŠ©</span><br><span class="line">git help -a --æŸ¥çœ‹æ‰€æœ‰å‘½ä»¤</span><br><span class="line">git help -g --æŸ¥çœ‹æ‰€æœ‰æ‰‹å†Œ</span><br><span class="line">git help add --åŠ ä¸Šå‘½ä»¤æˆ–åç§°ï¼ŒæŸ¥çœ‹è¯¦ç»†å†…å®¹ ï¼ˆFé”®å‘ä¸‹ï¼ŒBé”®å‘ä¸Šç¿»é¡µï¼ŒQé”®é€€å‡ºï¼‰</span><br><span class="line"></span><br><span class="line">git config --global user.name &#39;dali&#39; è®¾ç½®ç”¨æˆ·å</span><br><span class="line">git config --global user.email &#39;dali.com&#39;è®¾ç½®é‚®ç®±</span><br><span class="line">git config --List æŸ¥çœ‹ç”¨æˆ·ä¿¡æ¯</span><br><span class="line">git config --unset --global user.name æ¸…ç©ºç”¨æˆ·å</span><br><span class="line">git config color.ui true è®¾ç½®é¢œè‰²</span><br><span class="line">git config --global alias.co checkout ç»™checkoutèµ·ä¸€ä¸ªcoçš„åˆ«å</span><br><span class="line">cat &#96;&#x2F;.gitconfig æŸ¥çœ‹å½“å‰ç”¨æˆ·çš„é…ç½®</span><br><span class="line"></span><br><span class="line">git init åˆå§‹åŒ–git</span><br><span class="line">git status æŸ¥çœ‹åˆ†æ”¯ä»€ä¹ˆçš„</span><br><span class="line"></span><br><span class="line">git add . æ·»åŠ æ‰€æœ‰æ–‡ä»¶åˆ°æš‚å­˜åŒº</span><br><span class="line">git add &#39;index.html&#39; æ·»åŠ å…·ä½“æ–‡ä»¶åˆ°æš‚å­˜åŒº</span><br><span class="line">git commit -m &#39;æ–°å»ºindex.htmlæ–‡ä»¶&#39;</span><br><span class="line">git commit -am &#39;çœç•¥addï¼Œç›´æ¥commit&#39;</span><br><span class="line"></span><br><span class="line">git diff æŸ¥çœ‹å‰åå¯¹æ¯”</span><br><span class="line">git diff --staged æŸ¥çœ‹æš‚å­˜åŒºå’Œgitä¸Šçš„åŒºåˆ«</span><br><span class="line"></span><br><span class="line">git mv style.css  theme.css   å°†styleé‡å‘½åæˆtheme</span><br><span class="line">git mv theme.css css&#x2F;    å°†theme.cssç§»åŠ¨åˆ°cssæ–‡ä»¶å¤¹ä¸‹</span><br><span class="line">git mv css asset&#x2F;    å°†cssç§»åŠ¨åˆ°assetæ–‡ä»¶å¤¹ä¸‹</span><br><span class="line"></span><br><span class="line">git rm theme.css åˆ é™¤theme.cssæ–‡ä»¶</span><br><span class="line">git rm theme.css style.cssæ–‡ä»¶ï¼ˆå¤šä¸ªæ–‡ä»¶ä»¥ç©ºæ ¼åˆ†ç¦»ï¼‰</span><br><span class="line">git rm -r æˆ‘çš„æ–‡ä»¶å¤¹&#x2F; ï¼ˆåˆ é™¤ç›®å½•ä»¥åŠæ‰€æœ‰å†…å®¹ åŠ ä¸Š -r  å’Œç›®å½•çš„åç§° è¡¨ç¤ºé€’å½’ï¼‰</span><br><span class="line"></span><br><span class="line">git checkout HEAD  -- index.html æ¢å¤ä¸Šä¸€æ¬¡ä¿®æ”¹</span><br><span class="line">git checkout HEAD^  -- index.html æ¢å¤ä¸Šä¸€æ¬¡æäº¤</span><br><span class="line">git revert (æäº¤id) --æ’¤é”€æŸä¸€æ¬¡æäº¤</span><br><span class="line"></span><br><span class="line">å…¶ä¸­HEADä»£è¡¨ç‰ˆæœ¬åº“ï¼Œindexä»£è¡¨æš‚å­˜åŒºï¼Œå¦å¤–è¿˜æœ‰ä¸€ä¸ªæˆ‘ä»¬å¢åˆ æ”¹ä»£ç çš„å·¥ä½œåŒºã€‚</span><br><span class="line">--hard : å›é€€ç‰ˆæœ¬åº“ï¼Œæš‚å­˜åŒºï¼Œå·¥ä½œåŒºã€‚ï¼ˆå› æ­¤æˆ‘ä»¬ä¿®æ”¹è¿‡çš„ä»£ç å°±æ²¡äº†ï¼Œéœ€è¦è°¨æ…ä½¿ç”¨ï¼‰</span><br><span class="line">--mixed: å›é€€ç‰ˆæœ¬åº“ï¼Œæš‚å­˜åŒºã€‚(--mixedä¸ºgit resetçš„é»˜è®¤å‚æ•°ï¼Œå³å½“ä»»ä½•å‚æ•°éƒ½ä¸åŠ çš„æ—¶å€™çš„å‚æ•°)</span><br><span class="line">--soft: å›é€€ç‰ˆæœ¬åº“ã€‚</span><br><span class="line">åªcommit æ²¡æœ‰push</span><br><span class="line">git reset --soft ï¼ˆæäº¤idï¼‰--æ’¤é”€commitï¼Œå·¥ä½œåŒºä»£ç æœ¬åœ°æ›´æ”¹ç•™å­˜</span><br><span class="line">git reset --hardï¼ˆæäº¤idï¼‰--æ…ç”¨ æ’¤é”€commitï¼Œå·¥ä½œåŒºä»£ç æœ¬åœ°æ›´æ”¹ä¸ç•™å­˜</span><br><span class="line">git reset --mixedï¼ˆæäº¤idï¼‰--ç‰ˆæœ¬åº“å’Œæš‚å­˜åŒºéƒ½å°†è¿›è¡Œäº†ä»£ç å›é€€ï¼Œå·¥ä½œåŒºä»£ç æ²¡åŠ¨</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">git diff master..dali æŸ¥çœ‹ä¸¤ä¸ªåˆ†æ”¯çš„ä¸åŒ</span><br><span class="line">git diff master..dali index.html å…·ä½“æ–‡ä»¶çš„ä¸åŒ</span><br><span class="line"></span><br><span class="line">abort æ”¾å¼ƒåˆå¹¶</span><br><span class="line">&lt;&lt;&lt;&lt;&lt;&lt; HEADå’Œ&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;ä¹‹é—´æ˜¯æœ¬åœ°çš„ä»£ç </span><br><span class="line">&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; å’Œ&gt;&gt;&gt;&gt;&gt;ä¹‹é—´æ˜¯è¿œç¨‹çš„ä»£ç </span><br><span class="line"></span><br><span class="line">git log --oneline --decorate --all -10 --graph --atuhor&#x3D;&#39;dali&#39;  --grep&#x3D;&#39;index.html&#39; --before&#x3D;â€™2020-20-02â€˜ </span><br><span class="line">--before&#x3D;&#39;1 week&#39; --before&#x3D;&#39;3 days&#39; æäº¤æ—¥å¿—</span><br><span class="line"> --onelineä¸€è¡Œæ˜¾ç¤º</span><br><span class="line"> decorate æŸ¥çœ‹å…·ä½“åˆ†æ”¯</span><br><span class="line"> --all -10å‰åæ¡</span><br><span class="line"> --graph å›¾å½¢åŒ–</span><br><span class="line"> --atuhorä½œè€…</span><br><span class="line"> --grepåŒ…å« </span><br><span class="line">--beforeæŸä¸ªæ—¥æœŸä¹‹å‰çš„ï¼Œä¸€å‘¨å†…ï¼Œä¸‰å¤©å†…çš„æäº¤ </span><br><span class="line"></span><br><span class="line">stash ä¿å­˜ä¿®æ”¹&#x2F;å·¥ä½œè¿›åº¦</span><br><span class="line">git stash save &#39;å¢åŠ ä¸€æ¡å·¥ä½œè¿›åº¦&#39;</span><br><span class="line">git stash list ä¿å­˜å·¥ä½œè¿›åº¦çš„åˆ—è¡¨</span><br><span class="line">git stash apply stash@&#123;0&#125;æ¢å¤å·¥ä½œè¿›åº¦</span><br><span class="line">git stash drop stash@&#123;0&#125;åˆ é™¤å·¥ä½œè¿›åº¦</span><br><span class="line">git stash show -p stash@&#123;0&#125;æ˜¾ç¤ºåŒºåˆ«ï¼ˆ-pæ˜¯æŒ‡ ä»¥patch formçš„çš„æ–¹å¼å±•ç¤ºdiffï¼‰</span><br></pre></td></tr></table></figure>

<p>è¡¥å……é“¾æ¥ <a href="https://mp.weixin.qq.com/s/-DjGBDi7HQfVpGNY8sOCmw" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/-DjGBDi7HQfVpGNY8sOCmw</a></p>
<p>â€‹                <a href="https://mp.weixin.qq.com/s/4vfifX-UkhrfpZjHycthOA" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/4vfifX-UkhrfpZjHycthOA</a></p>
]]></content>
      <categories>
        <category>git</category>
      </categories>
      <tags>
        <tag>git</tag>
      </tags>
  </entry>
  <entry>
    <title>google</title>
    <url>/2020/07/22/google/</url>
    <content><![CDATA[<h3 id="ä½ ä¸çŸ¥é“çš„éšè—å¿«æ·æ–¹å¼"><a href="#ä½ ä¸çŸ¥é“çš„éšè—å¿«æ·æ–¹å¼" class="headerlink" title="ä½ ä¸çŸ¥é“çš„éšè—å¿«æ·æ–¹å¼"></a>ä½ ä¸çŸ¥é“çš„éšè—å¿«æ·æ–¹å¼</h3><h4 id="æ›¾ç»ï¼Œåœ¨çº¿è°ƒä¼ªç±»æ ·å¼å›°æ‰°è¿‡ä½ ï¼Ÿ"><a href="#æ›¾ç»ï¼Œåœ¨çº¿è°ƒä¼ªç±»æ ·å¼å›°æ‰°è¿‡ä½ ï¼Ÿ" class="headerlink" title="æ›¾ç»ï¼Œåœ¨çº¿è°ƒä¼ªç±»æ ·å¼å›°æ‰°è¿‡ä½ ï¼Ÿ"></a>æ›¾ç»ï¼Œåœ¨çº¿è°ƒä¼ªç±»æ ·å¼å›°æ‰°è¿‡ä½ ï¼Ÿ</h4><p><img src="/2020/07/22/google/640.webp" alt="640"></p>
<a id="more"></a>



<h4 id="è”è°ƒæ¥å£å¤±è´¥æ—¶ï¼Œåå°è€å“¥æ€»ç®¡ä½ è¦responseï¼Ÿ"><a href="#è”è°ƒæ¥å£å¤±è´¥æ—¶ï¼Œåå°è€å“¥æ€»ç®¡ä½ è¦responseï¼Ÿ" class="headerlink" title="è”è°ƒæ¥å£å¤±è´¥æ—¶ï¼Œåå°è€å“¥æ€»ç®¡ä½ è¦responseï¼Ÿ"></a>è”è°ƒæ¥å£å¤±è´¥æ—¶ï¼Œåå°è€å“¥æ€»ç®¡ä½ è¦responseï¼Ÿ</h4><p>![640 (1)](google.assets/640 (1).gif)</p>
<h4 id="ä½ è¿˜ä¸€å±‚å±‚å±•å¼€domï¼ŸAlt-Click"><a href="#ä½ è¿˜ä¸€å±‚å±‚å±•å¼€domï¼ŸAlt-Click" class="headerlink" title="ä½ è¿˜ä¸€å±‚å±‚å±•å¼€domï¼ŸAlt + Click"></a>ä½ è¿˜ä¸€å±‚å±‚å±•å¼€domï¼ŸAlt + Click</h4><p>![640 (2)](google.assets/640 (2).gif)</p>
<h4 id="æ˜¯ä¸æ˜¯æŠ¥é”™äº†ï¼Œä½ æ‰å»æ‰“æ–­ç‚¹ï¼Ÿ"><a href="#æ˜¯ä¸æ˜¯æŠ¥é”™äº†ï¼Œä½ æ‰å»æ‰“æ–­ç‚¹ï¼Ÿ" class="headerlink" title="æ˜¯ä¸æ˜¯æŠ¥é”™äº†ï¼Œä½ æ‰å»æ‰“æ–­ç‚¹ï¼Ÿ"></a>æ˜¯ä¸æ˜¯æŠ¥é”™äº†ï¼Œä½ æ‰å»æ‰“æ–­ç‚¹ï¼Ÿ</h4><p>![640 (3)](google.assets/640 (3).gif)</p>
<h4 id="ä½ æ˜¯ä¸æ˜¯ç»å¸¸æƒ³ä¸èµ·æ¥ï¼Œåœ¨å“ªç»‘å®šäº‹ä»¶çš„ï¼Ÿ"><a href="#ä½ æ˜¯ä¸æ˜¯ç»å¸¸æƒ³ä¸èµ·æ¥ï¼Œåœ¨å“ªç»‘å®šäº‹ä»¶çš„ï¼Ÿ" class="headerlink" title="ä½ æ˜¯ä¸æ˜¯ç»å¸¸æƒ³ä¸èµ·æ¥ï¼Œåœ¨å“ªç»‘å®šäº‹ä»¶çš„ï¼Ÿ"></a>ä½ æ˜¯ä¸æ˜¯ç»å¸¸æƒ³ä¸èµ·æ¥ï¼Œåœ¨å“ªç»‘å®šäº‹ä»¶çš„ï¼Ÿ</h4><p>![640 (4)](google.assets/640 (4).gif)</p>
<h4 id="ä½ æ˜¯ä¸æ˜¯æ‰“æ–­ç‚¹æ—¶è¿˜è¦å»æ”¹ä»£ç ï¼Ÿ"><a href="#ä½ æ˜¯ä¸æ˜¯æ‰“æ–­ç‚¹æ—¶è¿˜è¦å»æ”¹ä»£ç ï¼Ÿ" class="headerlink" title="ä½ æ˜¯ä¸æ˜¯æ‰“æ–­ç‚¹æ—¶è¿˜è¦å»æ”¹ä»£ç ï¼Ÿ"></a>ä½ æ˜¯ä¸æ˜¯æ‰“æ–­ç‚¹æ—¶è¿˜è¦å»æ”¹ä»£ç ï¼Ÿ</h4><p>![640 (5)](google.assets/640 (5).gif)</p>
<h4 id="çœ‹domå±‚çº§çš„æœ€ç›´è§‚çš„æ–¹å¼ï¼Ÿ"><a href="#çœ‹domå±‚çº§çš„æœ€ç›´è§‚çš„æ–¹å¼ï¼Ÿ" class="headerlink" title="çœ‹domå±‚çº§çš„æœ€ç›´è§‚çš„æ–¹å¼ï¼Ÿ"></a>çœ‹domå±‚çº§çš„æœ€ç›´è§‚çš„æ–¹å¼ï¼Ÿ</h4><p>![640 (6)](google.assets/640 (6).gif)</p>
<h4 id="æŸ¥ä¸€äº›ç‰¹å®šçš„è¯·æ±‚ï¼Œè¿‡æ»¤å™¨Filterç”¨è¿‡å—ï¼Ÿ"><a href="#æŸ¥ä¸€äº›ç‰¹å®šçš„è¯·æ±‚ï¼Œè¿‡æ»¤å™¨Filterç”¨è¿‡å—ï¼Ÿ" class="headerlink" title="æŸ¥ä¸€äº›ç‰¹å®šçš„è¯·æ±‚ï¼Œè¿‡æ»¤å™¨Filterç”¨è¿‡å—ï¼Ÿ"></a>æŸ¥ä¸€äº›ç‰¹å®šçš„è¯·æ±‚ï¼Œè¿‡æ»¤å™¨Filterç”¨è¿‡å—ï¼Ÿ</h4><p>![640 (7)](google.assets/640 (7).gif)</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">domainï¼šèµ„æºæ‰€åœ¨çš„åŸŸï¼Œå³urlä¸­çš„åŸŸåéƒ¨åˆ†ã€‚å¦‚ domain:api.github.com</span><br><span class="line"></span><br><span class="line">has-response-headerï¼šèµ„æºæ˜¯å¦å­˜åœ¨å“åº”å¤´ï¼Œæ— è®ºå…¶å€¼æ˜¯ä»€ä¹ˆã€‚å¦‚ has-response-headerï¼šAccess-Control-Allow-Origin</span><br><span class="line"></span><br><span class="line">isï¼šå½“å‰æ—¶é—´ç‚¹åœ¨æ‰§è¡Œçš„è¯·æ±‚ã€‚å½“å‰å¯ç”¨å€¼ï¼šrunning</span><br><span class="line"></span><br><span class="line">larger-thanï¼šæ˜¾ç¤ºå¤§äºæŒ‡å®šå€¼å¤§å°è§„æ ¼çš„èµ„æºã€‚å•ä½æ˜¯å­—èŠ‚(B),ä½†æ˜¯K(kB)å’ŒM(MB)ä¹Ÿæ˜¯å¯ä»¥çš„~ å¦‚larger-than:150K</span><br><span class="line"></span><br><span class="line">methodï¼šä½¿ç”¨ä½•ç§HTTPè¯·æ±‚æ–¹å¼ã€‚å¦‚ GET</span><br><span class="line"></span><br><span class="line">mime-typeï¼šä¹Ÿå†™ä½œcontent-typeï¼Œæ˜¯èµ„æºç±»å‹çš„æ ‡è¯†ç¬¦ã€‚å¦‚ text&#x2F;html</span><br><span class="line"></span><br><span class="line">schemeï¼šåè®®è§„å®šã€‚å¦‚ HTTPS</span><br><span class="line"></span><br><span class="line">set-cookie-nameï¼šæœåŠ¡å™¨è®¾ç½®çš„cookiesåç§°</span><br><span class="line"></span><br><span class="line">set-cookie-valueï¼šæœåŠ¡å™¨è®¾ç½®çš„cookiesçš„å€¼</span><br><span class="line"></span><br><span class="line">set-cookie-domainï¼šæœåŠ¡å™¨è®¾ç½®çš„cookiesçš„åŸŸ</span><br><span class="line"></span><br><span class="line">status-codeï¼šHTTPå“åº”å¤´çš„çŠ¶æ€ç </span><br></pre></td></tr></table></figure>



<h4 id="åœ¨Elementsé¢æ¿è°ƒæ•´domç»“æ„å¾ˆä¸æ–¹ä¾¿ï¼Ÿ"><a href="#åœ¨Elementsé¢æ¿è°ƒæ•´domç»“æ„å¾ˆä¸æ–¹ä¾¿ï¼Ÿ" class="headerlink" title="åœ¨Elementsé¢æ¿è°ƒæ•´domç»“æ„å¾ˆä¸æ–¹ä¾¿ï¼Ÿ"></a>åœ¨Elementsé¢æ¿è°ƒæ•´domç»“æ„å¾ˆä¸æ–¹ä¾¿ï¼Ÿ</h4><p>![640 (8)](google.assets/640 (8).gif)</p>
<h4 id="æƒ³çŸ¥é“ï¼ŒæŸå›¾ç‰‡åŠ è½½çš„ä»£ç åœ¨å“ªï¼ŸInitiatorï¼ï¼"><a href="#æƒ³çŸ¥é“ï¼ŒæŸå›¾ç‰‡åŠ è½½çš„ä»£ç åœ¨å“ªï¼ŸInitiatorï¼ï¼" class="headerlink" title="æƒ³çŸ¥é“ï¼ŒæŸå›¾ç‰‡åŠ è½½çš„ä»£ç åœ¨å“ªï¼ŸInitiatorï¼ï¼"></a>æƒ³çŸ¥é“ï¼ŒæŸå›¾ç‰‡åŠ è½½çš„ä»£ç åœ¨å“ªï¼ŸInitiatorï¼ï¼</h4><p>![640 (1)](google.assets/640 (1).webp)</p>
<p>![640 (2)](google.assets/640 (2).webp)</p>
<p>![640 (3)](google.assets/640 (3)-1600053530223.webp)</p>
<h4 id="ä¸æƒ³åŠ è½½æŸä¸ªæ–‡ä»¶äº†ï¼Ÿ"><a href="#ä¸æƒ³åŠ è½½æŸä¸ªæ–‡ä»¶äº†ï¼Ÿ" class="headerlink" title="ä¸æƒ³åŠ è½½æŸä¸ªæ–‡ä»¶äº†ï¼Ÿ"></a>ä¸æƒ³åŠ è½½æŸä¸ªæ–‡ä»¶äº†ï¼Ÿ</h4><p>![640 (4)](google.assets/640 (4).webp)</p>
<p>![640 (5)](google.assets/640 (5).webp)</p>
<h4 id="æ»šåŠ¨å…ƒç´ åˆ°è§†å›¾"><a href="#æ»šåŠ¨å…ƒç´ åˆ°è§†å›¾" class="headerlink" title="æ»šåŠ¨å…ƒç´ åˆ°è§†å›¾"></a>æ»šåŠ¨å…ƒç´ åˆ°è§†å›¾</h4><p>åœ¨è°ƒè¯•<code>DOM</code>å…ƒç´ çš„æ—¶å€™ï¼Œæˆ‘ä»¬å·²ç»èšç„¦åˆ°ç›¸å…³çš„<code>DOM</code>ç»“æ„ä¸Šäº†ï¼Œä½†æ˜¯å¯¹åº”çš„å…ƒç´ å¹¶æ²¡æœ‰åœ¨å¯è§†çª—å£ä¸Šå±•ç¤ºï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥å°†å…¶å¿«é€Ÿæ»šåŠ¨åˆ°å¯è§†çª—å£ã€‚</p>
<blockquote>
<p>æ§åˆ¶é¢æ¿ =&gt; Elements =&gt; å³å‡»é€‰ä¸­çš„DOMèŠ‚ç‚¹ =&gt; Scroll into view</p>
</blockquote>
<p><img src="https://mmbiz.qpic.cn/mmbiz_gif/j3vcKBBdH47Sb5hqjfon4bFmrcb2AZjdvicoInLic0fkZNNmrMfCaKd1N4iabxpBib5czRDYEk8SsGPIHJVjMzMc6g/640?wx_fmt=gif&tp=webp&wxfrom=5&wx_lazy=1" alt="å›¾ç‰‡">scroll</p>
<h4 id="é¢„è®¾ç§»åŠ¨ç«¯è®¾å¤‡"><a href="#é¢„è®¾ç§»åŠ¨ç«¯è®¾å¤‡" class="headerlink" title="é¢„è®¾ç§»åŠ¨ç«¯è®¾å¤‡"></a>é¢„è®¾ç§»åŠ¨ç«¯è®¾å¤‡</h4><p>åœ¨è¿›è¡Œè°ƒè¯•çš„æ—¶å€™ï¼Œæˆ‘ä»¬æ‰‹å¤´ä¸Šæ²¡æœ‰é‚£ä¹ˆå¤šè®¾å¤‡ã€‚ç‰¹åˆ«æ˜¯å¼€å‘ç§»åŠ¨ç«¯çš„<strong>çŒ¿å„¿</strong>ï¼Œåœ¨æ²¡æœ‰å……è¶³è°ƒè¯•æœºçš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å°±é è°ƒè¯•å·¥å…·è¿›è¡Œæ¨¡æ‹Ÿã€‚é‚£ä¹ˆï¼Œé™¤äº†è°·æ­Œæµè§ˆå™¨é»˜è®¤è®¾å¤‡çš„å‡ ä¸ªå€¼ï¼Œæ¯”å¦‚<code>iPhone X, iPad</code>ã€‚æˆ‘ä»¬è¿˜å¯ä»¥è‡ªå®šä¹‰è‡ªå·±éœ€è¦çš„è®¾å¤‡ã€‚</p>
<blockquote>
<p>æ§åˆ¶é¢æ¿ =&gt; settingå›¾æ ‡ =&gt; Devices =&gt; Add custom deviceâ€¦</p>
</blockquote>
<p>æˆ‘ä»¬æ·»åŠ ä¸€ä¸ªä¸€ä¸ªå°ºå¯¸ä¸º<strong>300 * 800</strong>ä¸”<code>DPR</code>ä¸º<strong>3</strong>çš„è®¾å¤‡ã€‚<img src="https://mmbiz.qpic.cn/mmbiz_gif/j3vcKBBdH47Sb5hqjfon4bFmrcb2AZjdtEJwjg2rj8dn9iatvMVJE3ctiawFgbDnNy0RN0GNQJ8SFhUsfNM0PYiaQ/640?wx_fmt=gif&tp=webp&wxfrom=5&wx_lazy=1" alt="å›¾ç‰‡">)ä¹‹åï¼Œåœ¨è°ƒè¯•è®¾å¤‡çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©é¢„è®¾è®¾å¤‡è¿›è¡Œé¢„è§ˆï½<img src="https://mmbiz.qpic.cn/mmbiz_gif/j3vcKBBdH47Sb5hqjfon4bFmrcb2AZjdTzyOSicXZ1GUotLtMxkghkLvRI58ddGLj8VqLibDv655xemwJ1cHEjJw/640?wx_fmt=gif&tp=webp&wxfrom=5&wx_lazy=1" alt="å›¾ç‰‡"></p>
<h4 id="é¢„è®¾ç½‘ç»œçŠ¶å†µ"><a href="#é¢„è®¾ç½‘ç»œçŠ¶å†µ" class="headerlink" title="é¢„è®¾ç½‘ç»œçŠ¶å†µ"></a>é¢„è®¾ç½‘ç»œçŠ¶å†µ</h4><p>æˆ‘ä»¬ä¸èƒ½æŠŠæ§ç”¨æˆ·ä½¿ç”¨æˆ‘ä»¬äº§å“çš„ç½‘ç»œä¸‹è½½é€Ÿåº¦ï¼Œæ‰€ä»¥æˆ‘ä»¬å¾—æ¨¡æ‹Ÿä¸åŒç½‘é€Ÿä¸‹é¢çš„äº§å“è¡¨ç°æƒ…å†µï¼Œä»¥æ£€æŸ¥æˆ‘ä»¬å¯¹äº§å“çš„ä¼˜åŒ–æ˜¯å¦ç¬¦åˆé¢„æœŸæ•ˆæœã€‚åŒç†ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥è‡ªå®šä¹‰ç½‘ç»œçš„çŠ¶å†µï¼Œä¸€èˆ¬æƒ…å†µä¸‹é»˜è®¤æ˜¯<code>online</code>ã€‚</p>
<blockquote>
<p>æ§åˆ¶é¢æ¿ =&gt; settingå›¾æ ‡ =&gt; Throttling =&gt; Add custom profileâ€¦</p>
</blockquote>
<p><img src="https://mmbiz.qpic.cn/mmbiz_gif/j3vcKBBdH47Sb5hqjfon4bFmrcb2AZjdtibwdmYRnlRjOGyKD26zz889ibr1g0dandPMzTkb2P7HgRDj7uhXZ1Zw/640?wx_fmt=gif&tp=webp&wxfrom=5&wx_lazy=1" alt="å›¾ç‰‡">custom_network</p>
<h4 id="æ•è·å¿«ç…§"><a href="#æ•è·å¿«ç…§" class="headerlink" title="æ•è·å¿«ç…§"></a>æ•è·å¿«ç…§</h4><p><code>communication</code>çœå¿ƒçœåŠ›çš„åŸåˆ™ä¹‹ä¸€æ˜¯ï¼š<strong>å›¾æ–‡å¹¶èŒ‚åœ°æ²Ÿé€š</strong>ã€‚åœ¨è·Ÿä¸Šä¸‹æµçš„äººå‘˜è¿›è¡Œæ²Ÿé€šçš„æ—¶å€™ï¼Œæ¨æ•²äº§å“çš„é€”ä¸­ï¼Œå°‘ä¸äº†å¯¹ä¸€ä¸ªäº§å“çš„æˆªå›¾ã€‚ä½œä¸ºä¸€ä¸ªå¼€å‘è€…ï¼Œä½ è¿˜åœ¨ä½¿ç”¨æˆªå›¾å·¥å…·æˆ–èŠå¤©å·¥å…·è¿›è¡Œæ“ä½œï¼Ÿæˆ‘ä»¬æœ‰æ›´åŠ æ–¹ä¾¿çš„æ–¹æ¡ˆï½</p>
<blockquote>
<p>æ§åˆ¶é¢æ¿ =&gt; command + shift + p =&gt; capture full size screenshot</p>
</blockquote>
<p><img src="https://mmbiz.qpic.cn/mmbiz_gif/j3vcKBBdH47Sb5hqjfon4bFmrcb2AZjdxbRzqeWlCcptJ1JXArNXf0gECXv653DH6mW35z8TCEY90klauia7qmA/640?wx_fmt=gif&tp=webp&wxfrom=5&wx_lazy=1" alt="å›¾ç‰‡">![å›¾ç‰‡](<a href="https://mmbiz.qpic.cn/mmbiz_png/j3vcKBBdH47" target="_blank" rel="noopener">https://mmbiz.qpic.cn/mmbiz_png/j3vcKBBdH47</a></p>
<h4 id="æ•è·å±€éƒ¨å¿«ç…§"><a href="#æ•è·å±€éƒ¨å¿«ç…§" class="headerlink" title="æ•è·å±€éƒ¨å¿«ç…§"></a>æ•è·å±€éƒ¨å¿«ç…§</h4><blockquote>
<p>æ§åˆ¶é¢æ¿ =&gt; å®¡æŸ¥å…ƒç´  =&gt; command + shift + p =&gt; capture node screenshot</p>
</blockquote>
<p>æˆ‘é€‰æ‹©æ˜é‡‘ä¸ªäººèµ„æ–™çš„<strong>å¤´åƒéƒ¨åˆ†</strong>è¿›è¡Œæˆªå–ç¤ºèŒƒï½<img src="https://mmbiz.qpic.cn/mmbiz_gif/j3vcKBBdH47Sb5hqjfon4bFmrcb2AZjdEiacCSrI53ygTia3KkZZBlcgHrK0GBX9oBd2eibOE1qI5eqGedxm42Gxw/640?wx_fmt=gif&tp=webp&wxfrom=5&wx_lazy=1" alt="å›¾ç‰‡">æ­£ç¡®æ“ä½œåï¼Œæˆªå–åˆ°çš„å°±æ˜¯ç›®æ ‡å®¡æ ¸å…ƒç´ ï¼Œ</p>
<h4 id="å¿«é€Ÿæ¸…ç©ºç«™ç‚¹ç¼“å­˜"><a href="#å¿«é€Ÿæ¸…ç©ºç«™ç‚¹ç¼“å­˜" class="headerlink" title="å¿«é€Ÿæ¸…ç©ºç«™ç‚¹ç¼“å­˜"></a>å¿«é€Ÿæ¸…ç©ºç«™ç‚¹ç¼“å­˜</h4><p>æœ‰æ—¶å€™å¼€å‘è°ƒè¯•ï¼Œæˆ‘ä»¬éœ€è¦æ¸…ç©ºç¼“å­˜ä¿¡æ¯ã€‚ä¸å…¶æ‰‹åŠ¨ä¸€ä¸ªä¸ªä¿¡æ¯æ¸…ç©ºï¼Œè¿˜ä¸å¦‚ä¸€æ­¥åˆ°ä½ï¼Œç›´æ¥æ¸…ç©ºè¿™ä¸ªç«™ç‚¹çš„ä¿¡æ¯ ğŸ’¨</p>
<blockquote>
<p>æ§åˆ¶é¢æ¿ =&gt; command + shift + p =&gt; clear site data</p>
</blockquote>
<p><img src="https://mmbiz.qpic.cn/mmbiz_gif/j3vcKBBdH47Sb5hqjfon4bFmrcb2AZjddlHtQTXOlCVBjAROYxkg5NrjLYj5flg2tZ0icbnHdaLtfslpIN4N1LQ/640?wx_fmt=gif&tp=webp&wxfrom=5&wx_lazy=1" alt="å›¾ç‰‡">å—¯ï½å°±æ­¤æ‰“ä½å§ï¼Œå†™äº†ä¸å°‘äº†ï½ç­‰ç­‰ï¼Œæ‰<strong>å…«ä¸ªæŠ€å·§</strong>è€Œå·²ä¹ˆï¼Œå¾—åŠ ä¸€æ¡ ğŸ±<strong>Because NINE is my lucky number.</strong><img src="https://mmbiz.qpic.cn/mmbiz_png/j3vcKBBdH47Sb5hqjfon4bFmrcb2AZjdvFqzWujr8o3YoNZ8IoCmN7QjOblLsyuwc6cUJbsQOkkpMK7I1Ssg4w/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="å›¾ç‰‡"></p>
<h4 id="æ›´æ”¹è°ƒè¯•é¢æ¿ä¸»é¢˜"><a href="#æ›´æ”¹è°ƒè¯•é¢æ¿ä¸»é¢˜" class="headerlink" title="æ›´æ”¹è°ƒè¯•é¢æ¿ä¸»é¢˜"></a>æ›´æ”¹è°ƒè¯•é¢æ¿ä¸»é¢˜</h4><p>åœ¨å¼€å‘è°ƒè¯•ä¸­ï¼Œé»˜è®¤ä¸»é¢˜éš¾å…è®©çœ¼ç›å®¡ç¾ç–²åŠ³ã€‚è€Œä¸”ï¼Œä½œä¸ºä¸€ä¸ªå¼€å‘è€…ï¼Œè¦é«˜å†·ï¼Œé«˜å†·ï¼Œé«˜å†·â€¦æš—é»‘è‰²è°ƒå¦¥å¦¥çš„ã€‚é€šè¿‡ä¸‹é¢çš„æ“ä½œï¼Œä½ å¯ä»¥é€‰æ‹©é€‚åˆè‡ªå·±çš„é£æ ¼ã€‚</p>
<blockquote>
<p>æ§åˆ¶é¢æ¿ =&gt; settingè®¾ç½®å›¾æ ‡ =&gt; Preferences =&gt; Appearance =&gt; Theme</p>
</blockquote>
<p><img src="https://mmbiz.qpic.cn/mmbiz_gif/j3vcKBBdH47Sb5hqjfon4bFmrcb2AZjdWcDoCHSFXkYYN2v0LK9JLoMibvgXZCsdyqxSUjA4QWHNjm9WmgO31Cg/640?wx_fmt=gif&tp=webp&wxfrom=5&wx_lazy=1" alt="å›¾ç‰‡"></p>
<h4 id="æ‰‹åŠ¨æ”¹å®šä½ä¿¡æ¯"><a href="#æ‰‹åŠ¨æ”¹å®šä½ä¿¡æ¯" class="headerlink" title="æ‰‹åŠ¨æ”¹å®šä½ä¿¡æ¯"></a>æ‰‹åŠ¨æ”¹å®šä½ä¿¡æ¯</h4><p>Chromeä¸­æ¨¡æ‹Ÿå®šä½ä¿¡æ¯ï¼Œæ¸…é™¤å®šä½ä¿¡æ¯</p>
<p>chrome  F12è¿›å…¥è°ƒè¯•æ¨¡å¼åï¼Œç‚¹å‡»å³ä¸Šè§’çš„ ä¸‰ä¸ªç‚¹çš„æ ‡å¿—ï¼Œå¦‚ä¸‹å›¾</p>
<p><img src="/2020/07/22/google/image-20200914112312655.png" alt="image-20200914112312655"></p>
<p>å°†å…¶Geolocationä¸­çš„ä¸‹æ‹‰æ›´æ”¹ä¸ºCustom Locationï¼ˆæˆ–è€…ç›´æ¥é€‰æ‹©otherï¼‰ï¼Œåœ¨ä¸‹æ–¹å¡«å…¥ç»çº¬åº¦ä¿¡æ¯å³å¯æ¨¡æ‹Ÿå½“å‰ä½ç½®ï¼›</p>
<p>å¦‚æœè¦æ¸…é™¤ä½ç½®ä¿¡æ¯ï¼Œéœ€å°†Geolocationä¿®æ”¹ä¸ºNo overrideï¼Œå¹¶ä¸”å…³é—­æµè§ˆå™¨ï¼Œé‡å¯å¯åŠ¨åæ‰ä¼šç”Ÿæ•ˆï¼Œ</p>
<p>åˆ‡è®°é‡å¯æµè§ˆå™¨ï¼Œå¦åˆ™ä½ å¯ä»¥åœ¨è°ƒè¯•æ—¶çœ‹åˆ°ä½ ä¼ å…¥çš„ç»çº¬åº¦ä¿¡æ¯ä¾æ—§æ˜¯ä½ ä¹‹å‰è®¾ç½®çš„æ•°æ®ï¼Œ</p>
<p>å¦‚æœå†æ²¡æœ‰ç”Ÿæ•ˆï¼Œå¯å°†æµè§ˆå™¨æ•°æ®æ¸…é™¤é‡è¯•</p>
<h4 id="æµè§ˆå™¨å¤åˆ¶console-logæ‰“å°çš„å¯¹è±¡"><a href="#æµè§ˆå™¨å¤åˆ¶console-logæ‰“å°çš„å¯¹è±¡" class="headerlink" title="æµè§ˆå™¨å¤åˆ¶console.logæ‰“å°çš„å¯¹è±¡"></a>æµè§ˆå™¨å¤åˆ¶console.logæ‰“å°çš„å¯¹è±¡</h4><p>æ‰¾åˆ°æƒ³è¦å¤åˆ¶çš„å¯¹è±¡å³é”® <strong>store as global variable</strong><br><img src="https://img-blog.csdnimg.cn/20190516212308883.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjUxOTEzNw==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>åœ¨å¼¹å‡ºçš„consoleä¸­copy temp1</p>
<p>ctrl+vå‡ºæ¥å’¯~</p>
<p><img src="https://img-blog.csdnimg.cn/20190516212358116.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjUxOTEzNw==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<h4 id="æ’ä»¶"><a href="#æ’ä»¶" class="headerlink" title="æ’ä»¶"></a>æ’ä»¶</h4><blockquote>
<p>json-handle</p>
<p>postwoman</p>
</blockquote>
<h4 id="æ¸…ç©ºæ§åˆ¶å°"><a href="#æ¸…ç©ºæ§åˆ¶å°" class="headerlink" title="æ¸…ç©ºæ§åˆ¶å°"></a>æ¸…ç©ºæ§åˆ¶å°</h4><p> console.clear</p>
<h4 id="tå‚æ•°æ”¯æŒæ¢è¡Œ"><a href="#tå‚æ•°æ”¯æŒæ¢è¡Œ" class="headerlink" title="\tå‚æ•°æ”¯æŒæ¢è¡Œ"></a>\tå‚æ•°æ”¯æŒæ¢è¡Œ</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">console.log(JSON.stringify(&#123; alpha: &#39;A&#39;, beta: &#39;B&#39; &#125;, null, &#39;\t&#39;));</span><br><span class="line">&#x2F;&#x2F; Result:</span><br><span class="line">&#123;</span><br><span class="line">	&quot;alpha&quot;: &quot;A&quot;,</span><br><span class="line">	&quot;beta&quot;: &quot;B&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="è¿½åŠ ï¼š"><a href="#è¿½åŠ ï¼š" class="headerlink" title="è¿½åŠ ï¼š"></a>è¿½åŠ ï¼š</h4><p>8ä¸ªChromeé¢æ¿å†…å®¹</p>
<p><a href="https://mp.weixin.qq.com/s/-1jf4c7bYhbn-zKVr74hrw" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/-1jf4c7bYhbn-zKVr74hrw</a></p>
<p>æœ€è¯¦ç»†çš„è§£é‡Š</p>
<p><a href="https://blog.csdn.net/weixin_40876986/article/details/89703977" target="_blank" rel="noopener">https://blog.csdn.net/weixin_40876986/article/details/89703977</a></p>
]]></content>
      <categories>
        <category>soft</category>
        <category>google</category>
      </categories>
      <tags>
        <tag>soft</tag>
        <tag>æµè§ˆå™¨</tag>
      </tags>
  </entry>
  <entry>
    <title>gulpåŠgulpfile.js</title>
    <url>/2020/07/30/gulp%E5%8F%8Agulpfile-js/</url>
    <content><![CDATA[<h3 id="ä¸€ã€ä»€ä¹ˆæ˜¯gulp"><a href="#ä¸€ã€ä»€ä¹ˆæ˜¯gulp" class="headerlink" title="ä¸€ã€ä»€ä¹ˆæ˜¯gulp"></a>ä¸€ã€ä»€ä¹ˆæ˜¯gulp</h3><p>ç®€å•æ¥è¯´ï¼šå°±æ˜¯å‹ç¼©å‰ç«¯ä»£ç ï¼Œå®ç°æµè§ˆå™¨è‡ªåŠ¨åˆ·æ–°çš„å·¥å…·ã€‚</p>
<p>å®Œæ•´åœ°è¯´ï¼šgulpæ˜¯ä¸€ä¸ªå‰ç«¯çš„è‡ªåŠ¨åŒ–æ„å»ºå·¥å…·ï¼Œæ˜¯åŸºäºNode.jsçš„è‡ªåŠ¨åŒ–ä»»åŠ¡è¿è¡ŒæœŸï¼Œèƒ½è‡ªåŠ¨åŒ–å®Œæˆjavascript/sass/less/html/image/cssç­‰æ–‡ä»¶çš„æµ‹è¯•ã€æ£€æŸ¥ã€åˆå¹¶ã€å‹ç¼©ã€æ ¼å¼åŒ–ã€æµè§ˆå™¨è‡ªåŠ¨åˆ·æ–°ã€éƒ¨ç½²æ–‡ä»¶ç”Ÿæˆã€å¹¶ç›‘å¬æ–‡ä»¶åœ¨æ”¹åŠ¨åé‡å¤æŒ‡å®šï¼ˆåœ¨gulpfile.jsä¸­æŒ‡å®šï¼‰çš„è¿™äº›æ­¥éª¤ã€‚</p>
<a id="more"></a>

<h3 id="äºŒã€ä½¿ç”¨æ­¥éª¤"><a href="#äºŒã€ä½¿ç”¨æ­¥éª¤" class="headerlink" title="äºŒã€ä½¿ç”¨æ­¥éª¤"></a>äºŒã€ä½¿ç”¨æ­¥éª¤</h3><p><strong>1ã€å…¨å±€å®‰è£…</strong></p>
<p><strong>ï¼ˆ1ï¼‰å®‰è£…NodeJSç¯å¢ƒï¼šï¼ˆè¿™é‡Œç›´æ¥ä½¿ç”¨æ·˜å®é•œåƒï¼‰</strong></p>
<p>åœ¨cmdä¸­è¾“å…¥ï¼šnpm install -g cnpm â€“registry=<a href="https://registry.npm.taobao.org" target="_blank" rel="noopener">https://registry.npm.taobao.org</a></p>
<p>ç„¶åå°±å¼€å§‹ä¸‹è½½å®‰è£…ï¼Œå¦‚ä¸‹å›¾:</p>
<p><img src="https://img-blog.csdn.net/20180820093107903?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1hoaXVfaHVhbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="img"></p>
<p><strong>ï¼ˆ2ï¼‰å…¨å±€å®‰è£…gulpï¼š</strong></p>
<p>ä¸Šä¸€æ­¥å®‰è£…ç»“æŸåï¼Œå†åœ¨cmdä¸‹æ¥ç€è¾“å…¥ï¼ˆè¿™é‡Œcnpmä¹Ÿå¯æ¢æˆnpmï¼Œcnpmæ˜¯åœ¨æ·˜å®é•œåƒä¸‹è½½ï¼Œnpmæ˜¯åœ¨å›½å¤–å®˜ç½‘ä¸‹è½½ï¼Œå®é™…ä¸Šä¸¤è€…ç›¸åŒï¼Œè¿™é‡Œå°±çœ‹å¿ƒæƒ…é€‰æ‹©å§^^ï¼‰ï¼šcnpm install gulp -g</p>
<p><img src="https://img-blog.csdn.net/20180820093141838?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1hoaXVfaHVhbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="img"></p>
<p><strong>2ã€å±€éƒ¨å®‰è£…ï¼š</strong></p>
<p><strong>ï¼ˆ1ï¼‰åœ¨é¡¹ç›®ä¸­ç”Ÿæˆpackage.jsonæ–‡ä»¶ï¼š</strong></p>
<p>å…¨å±€å®‰è£…å®Œæˆåï¼Œå¼€å§‹å±€éƒ¨å®‰è£…ã€‚é¦–å…ˆï¼Œé€‰æ‹©ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œè¿™ä¸ªæ–‡ä»¶å¤¹å°±æ˜¯ä½ é¡¹ç›®çš„æœ€å¤–å±‚æ–‡ä»¶å¤¹ï¼Œåœ¨è¿™ä¸ªæ–‡ä»¶å¤¹ä¸‹æ‰“å¼€cmdï¼ˆæ¯”å¦‚æˆ‘è‡ªå·±æ¥è¯´ï¼Œæœ‰ä¸€ä¸ªé¡¹ç›®åä¸ºaï¼Œé‚£æˆ‘å°±åœ¨aä¸‹çš„æ–‡ä»¶å¤¹é‡Œè¾¹æ‰“å¼€cmdï¼‰ã€‚</p>
<p><img src="https://img-blog.csdn.net/20180820093609888?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1hoaXVfaHVhbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="img"></p>
<p> åœ¨ä¸Šå›¾æ‰€ç¤ºçš„cmdä¸­è¾“å…¥ï¼šcnpm init -yï¼Œç­‰å¾…ä¸‹è½½å®‰è£…</p>
<p><strong>ï¼ˆ2ï¼‰åœ¨é¡¹ç›®æœ¬åœ°å®‰è£…gulpï¼š</strong></p>
<p>ä¸Šä¸€æ­¥å®‰è£…å®Œæˆåï¼Œæ¥ç€è¾“å…¥ï¼šcnpm install gulp â€“sava-dev</p>
<p><strong>ï¼ˆ3ï¼‰å®‰è£…gulpæ’ä»¶ï¼š</strong></p>
<p><strong>æ’ä»¶ä»‹ç»ï¼š</strong>gulp-clean-cssï¼ˆå‹ç¼©cssçš„æ’ä»¶ï¼‰ã€gulp-htmlminï¼ˆå‹ç¼©htmlçš„æ’ä»¶ï¼‰ã€gulp-uglifyï¼ˆå‹ç¼©jsï¼‰ã€gulp-babelï¼ˆå°†es6è½¬æ¢æˆes5ï¼‰ã€gulp-renameï¼ˆé‡å‘½åï¼‰ã€gulp-connectï¼ˆéƒ¨ç½²é™æ€èµ„æºï¼Œå®ç°è‡ªåŠ¨åˆ·æ–°ï¼‰ã€‚ã€‚ã€‚è¿˜æœ‰å¾ˆå¤šï¼Œå¯åœ¨<a href="https://www.npmjs.com/packageä¸­æœç´¢æ’ä»¶" target="_blank" rel="noopener">https://www.npmjs.com/packageä¸­æœç´¢æ’ä»¶</a></p>
<p><strong>å®‰è£…æ’ä»¶ï¼š</strong>ï¼ˆ2ï¼‰ä¸‹è½½å®‰è£…å®Œæˆåï¼Œç»§ç»­è¾“å…¥ï¼šcnpm i æ’ä»¶å -Dï¼‰ï¼ˆæ¯”å¦‚ï¼šcnpm i gulp-clean-css -Dï¼‰ï¼Œç­‰å¾…ä¸‹è½½å®‰è£…</p>
<p><strong>ï¼ˆ4ï¼‰åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹ï¼Œåˆ›å»ºgulpfile.jsï¼Œåœ¨é‡Œé¢ä¹¦å†™ä»£ç ï¼Œç”¨äºæ“æ§æ’ä»¶ï¼š</strong>ä¹¦å†™å†…å®¹è¯¦æƒ…è§ ä¸‰ ã€‚</p>
<p><strong>ï¼ˆ5ï¼‰æ‰§è¡Œä»»åŠ¡ï¼š</strong>ï¼ˆ3ï¼‰å®‰è£…å®Œæˆå¹¶ï¼ˆ4ï¼‰ä¸­çš„gulpfile.jsç¼–å†™å®Œæˆåï¼Œæ¥ç€åœ¨cmdä¸­è¾“å…¥ï¼šgulp ä»»åŠ¡åç§°</p>
<h3 id="ä¸‰ã€gulpfile-jsç¼–å†™ï¼š"><a href="#ä¸‰ã€gulpfile-jsç¼–å†™ï¼š" class="headerlink" title="ä¸‰ã€gulpfile.jsç¼–å†™ï¼š"></a>ä¸‰ã€gulpfile.jsç¼–å†™ï¼š</h3><blockquote>
<p>//å®šä¹‰å˜é‡ï¼Œå¼•å…¥gulpåŠå„ä¸ªæ’ä»¶</p>
<p>const gulp = require(â€œgulpâ€),<br>â€‹    sass = require(â€œgulp-sassâ€),<br>â€‹    connect = require(â€œgulp-connectâ€),<br>â€‹    uglify = require(â€œgulp-uglifyâ€),<br>â€‹    babel = require(â€œgulp-babelâ€),<br>â€‹    htmlmin = require(â€œgulp-htmlminâ€);</p>
<p>// ç¼–è¯‘SCSSæ–‡ä»¶<br>gulp.task(â€œsassâ€, function() {<br>â€‹    gulp.src(â€œ./src/scss/<em>.scssâ€)<br>â€‹        .pipe(sass({outputStyle:â€compressedâ€}))<br>â€‹        .pipe(gulp.dest(â€œ./src/cssâ€))<br>â€‹        .pipe(connect.reload());<br>});<br>// htmlæ–‡ä»¶ä¿®æ”¹åˆ·æ–°<br>gulp.task(â€œhtmlâ€, function() {<br>â€‹    gulp.src(â€œ./src/**/</em>.htmlâ€)<br>â€‹        .pipe(connect.reload());<br>});<br>// jsæ–‡ä»¶ä¿®æ”¹åˆ·æ–°<br>gulp.task(â€œjsâ€, function() {<br>â€‹    gulp.src(â€œ./src/js/<em>.jsâ€)<br>â€‹        .pipe(connect.reload());<br>});<br>// å¯åŠ¨æœåŠ¡å™¨<br>gulp.task(â€œconnectâ€, function() {<br>â€‹    connect.server({<br>â€‹        root : â€œsrcâ€,<br>â€‹        livereload : true<br>â€‹    });<br>});<br>// ç›‘è§†ä»»åŠ¡<br>gulp.task(â€œwatchâ€, function(){<br>â€‹    gulp.watch(â€œ./src/**/</em>.htmlâ€, [â€œhtmlâ€]);<br>â€‹    gulp.watch(â€œ./src/js/<em>.jsâ€, [â€œjsâ€]);<br>â€‹    gulp.watch(â€œ./src/scss/</em>.scssâ€, [â€œsassâ€]);<br>});<br>// å¼€å‘ç¯å¢ƒä¸‹çš„gulpä»»åŠ¡<br>gulp.task(â€œdevâ€, [â€œsassâ€, â€œhtmlâ€, â€œjsâ€, â€œconnectâ€, â€œwatchâ€]);</p>
<p>/<strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>***</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong>/<br>// ç”Ÿäº§ç¯å¢ƒä¸‹çš„ gulp ä»»åŠ¡ï¼Œå°†é¡¹ç›®ç”Ÿæˆåˆ° dist ç›®å½•ä¸‹<br>// dist ç›®å½•ä¸‹çš„èµ„æºæ˜¯ç›´æ¥ç”¨äºç”Ÿäº§ç¯å¢ƒï¼ˆå‘å¸ƒé¡¹ç›®ï¼‰çš„èµ„æº<br>// ç¼–è¯‘SCSSæ–‡ä»¶ï¼šç”Ÿäº§ç¯å¢ƒ<br>gulp.task(â€œprod_sassâ€, function() {<br>â€‹    gulp.src(â€œ./src/scss/<em>.scssâ€)<br>â€‹        .pipe(sass({outputStyle:â€compressedâ€}))<br>â€‹        .pipe(gulp.dest(â€œ./dist/cssâ€))<br>â€‹        .pipe(connect.reload());<br>});<br>// htmlæ–‡ä»¶å‹ç¼©<br>gulp.task(â€œprod_htmlâ€, function() {<br>â€‹    gulp.src(â€œ./src/**/</em>.htmlâ€)<br>â€‹        .pipe(htmlmin({collapseWhitespace: true}))<br>â€‹        .pipe(gulp.dest(â€œ./distâ€))<br>â€‹        .pipe(connect.reload());<br>});<br>// JSè½¬æ¢åŠå‹ç¼©<br>gulp.task(â€œprod_jsâ€, function() {<br>â€‹    gulp.src(â€œ./src/js/<em>.jsâ€)<br>â€‹        .pipe(babel({<br>â€‹            presets: [â€˜envâ€™]<br>â€‹        }))<br>â€‹        .pipe(uglify())<br>â€‹        .pipe(gulp.dest(â€œ./dist/jsâ€))<br>â€‹        .pipe(connect.reload());<br>});<br>// å¤åˆ¶æºæ–‡ä»¶å¤¹ä¸‹èµ„æºåˆ°ç›®æ ‡æ–‡ä»¶å¤¹<br>gulp.task(â€œcopy-imagesâ€, function() {<br>â€‹    gulp.src(â€œ./src/images/**/</em>.*â€)<br>â€‹        .pipe(gulp.dest(â€œ./dist/imagesâ€));<br>});<br>gulp.task(â€œcopy-libâ€, function() {<br>â€‹    gulp.src(â€œ./src/lib/<strong>/<em>.</em>â€œ)<br>â€‹        .pipe(gulp.dest(â€œ./dist/libâ€));<br>});<br>gulp.task(â€œprod_copyâ€, [â€œcopy-imagesâ€, â€œcopy-libâ€]);<br>// ç›‘è§†ä»»åŠ¡<br>gulp.task(â€œprod_watchâ€, function(){<br>â€‹    gulp.watch(â€œ./src/</strong>/<em>.htmlâ€, [â€œprod_htmlâ€]);<br>â€‹    gulp.watch(â€œ./src/js/</em>.jsâ€, [â€œprod_jsâ€]);<br>â€‹    gulp.watch(â€œ./src/scss/*.scssâ€, [â€œprod_sassâ€]);<br>});<br>// å¯åŠ¨æœåŠ¡å™¨<br>gulp.task(â€œprod_connectâ€, function() {<br>â€‹    connect.server({<br>â€‹        root : â€œdistâ€,<br>â€‹        livereload : true<br>â€‹    });<br>});<br>// ç”Ÿäº§ç¯å¢ƒgulpä»»åŠ¡<br>gulp.task(â€œproductionâ€, [â€œprod_sassâ€, â€œprod_htmlâ€, â€œprod_jsâ€, â€œprod_copyâ€, â€œprod_connectâ€, â€œprod_watchâ€]);</p>
</blockquote>
]]></content>
      <categories>
        <category>tools</category>
      </categories>
      <tags>
        <tag>tool</tag>
        <tag>å‰ç«¯è‡ªåŠ¨åŒ–å‹ç¼©</tag>
        <tag>å·¥å…·</tag>
      </tags>
  </entry>
  <entry>
    <title>gitä¹‹é”™è¯¯åˆ†æ”¯å¼€å‘çš„ä¸‰ç§æƒ…å†µ</title>
    <url>/2020/09/16/git%E4%B9%8B%E9%94%99%E8%AF%AF%E5%88%86%E6%94%AF%E5%BC%80%E5%8F%91%E7%9A%84%E4%B8%89%E7%A7%8D%E6%83%85%E5%86%B5/</url>
    <content><![CDATA[<h3 id="è¿˜æ²¡æœ‰commit"><a href="#è¿˜æ²¡æœ‰commit" class="headerlink" title="è¿˜æ²¡æœ‰commit"></a>è¿˜æ²¡æœ‰commit</h3><p>åœ¨è¿™ç§æƒ…å†µä¸‹æˆ‘ä»¬å¯ä»¥åœ¨å½“å‰åˆ†æ”¯ä¸‹ä½¿ç”¨ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git stash</span><br></pre></td></tr></table></figure>

<p>è¿™ä¸ªå‘½ä»¤è¡¨ç¤º<strong>æŠŠæˆ‘ä»¬å½“å‰ä¿®æ”¹çš„å†…å®¹æš‚å­˜èµ·æ¥ï¼Œç„¶åæˆ‘ä»¬çš„å·¥ä½œåŒºå°±æ¢å¤åˆ°åœ¨æ²¡æœ‰å¼€å‘æ–°åŠŸèƒ½ä¹‹å‰çš„æ ·å­ã€‚</strong></p>
<p>è¿™ä¸ªæ—¶å€™æˆ‘ä»¬éœ€è¦åˆ‡æ¢åˆ°æ­£ç¡®çš„å·¥ä½œåˆ†æ”¯ï¼Œç„¶åè¿è¡Œå‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git stash apply</span><br></pre></td></tr></table></figure>

<a id="more"></a>

<h3 id="å·²ç»åœ¨commitäº†ï¼Œä½†æ˜¯è¿˜æ²¡æœ‰pushåˆ°è¿œç¨‹ä»“åº“"><a href="#å·²ç»åœ¨commitäº†ï¼Œä½†æ˜¯è¿˜æ²¡æœ‰pushåˆ°è¿œç¨‹ä»“åº“" class="headerlink" title="å·²ç»åœ¨commitäº†ï¼Œä½†æ˜¯è¿˜æ²¡æœ‰pushåˆ°è¿œç¨‹ä»“åº“"></a>å·²ç»åœ¨commitäº†ï¼Œä½†æ˜¯è¿˜æ²¡æœ‰<code>push</code>åˆ°è¿œç¨‹ä»“åº“</h3><h4 id="æ–°çš„åŠŸèƒ½éœ€è¦æ·»åŠ åœ¨ä¸€ä¸ªæ–°çš„åˆ†æ”¯"><a href="#æ–°çš„åŠŸèƒ½éœ€è¦æ·»åŠ åœ¨ä¸€ä¸ªæ–°çš„åˆ†æ”¯" class="headerlink" title="æ–°çš„åŠŸèƒ½éœ€è¦æ·»åŠ åœ¨ä¸€ä¸ªæ–°çš„åˆ†æ”¯"></a>æ–°çš„åŠŸèƒ½éœ€è¦æ·»åŠ åœ¨ä¸€ä¸ªæ–°çš„åˆ†æ”¯</h4><p>é¦–å…ˆæˆ‘ä»¬éœ€è¦çŸ¥é“åœ¨æˆ‘ä»¬æ·»åŠ æ–°åŠŸèƒ½ä¹‹å‰ï¼Œå½“å‰åˆ†æ”¯å¤„äºå“ªä¸€ä¸ªæäº¤ã€‚å¯ä»¥è¿è¡Œå‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git log --oneline</span><br></pre></td></tr></table></figure>

<p>æŸ¥çœ‹å½“å‰åˆ†æ”¯çš„æäº¤ï¼Œå¯ä»¥çœ‹åˆ°æœ‰ä»¥ä¸‹å†…å®¹çš„è¾“å‡ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">085095f (HEAD -&gt; master) update 5</span><br><span class="line">47e52ae update 3</span><br><span class="line">14fefac update 2</span><br><span class="line">fd01444 add README.md</span><br><span class="line">3c76ad1 init</span><br></pre></td></tr></table></figure>

<p>æ‰¾åˆ°æˆ‘ä»¬æ·»åŠ æ–°åŠŸèƒ½æ—¶ï¼Œå½“å‰åˆ†æ”¯æ‰€å¤„çš„æäº¤ã€‚å‡å¦‚æ˜¯<code>fd01444</code>ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ¥ä¸‹æ¥è¦åšçš„æ“ä½œå°±æ˜¯å°†<code>HEAD</code>æŒ‡é’ˆæŒ‡å‘<code>fd01444</code>ï¼Œä¹Ÿå°±æ˜¯æŠŠæˆ‘ä»¬å½“å‰åˆ†æ”¯å·²æäº¤çš„å†…å®¹é‡ç½®åˆ°æˆ‘ä»¬å¼€å‘æ–°åŠŸèƒ½ä¹‹å‰çš„æ ·å­ã€‚æˆ‘ä»¬éœ€è¦è¿è¡Œä¸‹é¢çš„å‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git reset fd01444 # fd01444æ˜¯æŸæ¬¡æäº¤çš„hashå€¼</span><br></pre></td></tr></table></figure>

<p>å¦‚æœæ²¡æœ‰æŒ‡æ˜é‡ç½®çš„æ¨¡å¼çš„è¯ï¼Œé»˜è®¤ä¼šä½¿ç”¨<code>--mixed</code>æ¨¡å¼ï¼Œè¿™æ ·çš„è¯æˆ‘ä»¬åœ¨<code>fd01444</code>è¿™æ¬¡æäº¤ä¹‹åçš„æ‰€æœ‰æäº¤éƒ½ä¼šè¢«é‡ç½®ä¸ºæ²¡æœ‰æäº¤çš„çŠ¶æ€ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬éœ€è¦æŠŠè¿™äº›æ–°å¼€å‘çš„åŠŸèƒ½è¿ç§»åˆ°ä¸€ä¸ªæ–°çš„åˆ†æ”¯ã€‚è¿™æ—¶å€™æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤è¿›è¡Œæ“ä½œï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git checkout -b &lt;newbranch&gt;</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·æˆ‘ä»¬å°±åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„åˆ†æ”¯ï¼Œå¹¶ä¸”æŠŠæ–°æ·»åŠ çš„åŠŸèƒ½ä¹Ÿéƒ½è¿ç§»äº†è¿‡å»ï¼Œæ¥ä¸‹æ¥å°±æ˜¯å¸¸è§„çš„æ·»åŠ å’Œæäº¤æ“ä½œäº†ã€‚</p>
<h4 id="æ–°åŠŸèƒ½éœ€è¦æ·»åŠ åœ¨å¦ä¸€ä¸ªåˆ†æ”¯ä¸Š"><a href="#æ–°åŠŸèƒ½éœ€è¦æ·»åŠ åœ¨å¦ä¸€ä¸ªåˆ†æ”¯ä¸Š" class="headerlink" title="æ–°åŠŸèƒ½éœ€è¦æ·»åŠ åœ¨å¦ä¸€ä¸ªåˆ†æ”¯ä¸Š"></a>æ–°åŠŸèƒ½éœ€è¦æ·»åŠ åœ¨å¦ä¸€ä¸ªåˆ†æ”¯ä¸Š</h4><p>å¦‚æœæˆ‘ä»¬éœ€è¦æŠŠå½“å‰æ·»åŠ çš„æ–°åŠŸèƒ½è¿ç§»åˆ°å¦ä¸€ä¸ªå·²ç»å­˜åœ¨çš„åˆ†æ”¯ï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦åšçš„å‰å‡ ä¸ªæ­¥éª¤è·Ÿä¸Šé¢çš„æ“ä½œæ˜¯ä¸€æ ·çš„ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git log --oneline # æŸ¥æ‰¾æ–°åŠŸèƒ½å¼€å‘ä¹‹å‰çš„æäº¤</span><br><span class="line">git reset &lt;commit hash&gt; # å°†å½“å‰åˆ†æ”¯é‡ç½®åˆ°æ–°åŠŸèƒ½å¼€å‘ä¹‹å‰çš„æäº¤</span><br></pre></td></tr></table></figure>

<p>æ¥ä¸‹æ¥æˆ‘ä»¬ç°åœ¨çš„çŠ¶æ€å°±å›åˆ°äº†<strong>æ–°åŠŸèƒ½è¿˜æ²¡æœ‰æäº¤çš„çŠ¶æ€</strong>ï¼Œé‚£ä¹ˆå°±å¯ä»¥ç»§ç»­ä½¿ç”¨<code>git stash</code>ç›¸å…³çš„å‘½ä»¤å»æ“ä½œäº†ã€‚</p>
<p>æˆ‘ä»¬è¿˜æœ‰å¦å¤–ä¸€ä¸ªæ–¹æ³•ä¹Ÿèƒ½å¤Ÿå°†å·²æäº¤åˆ°å½“å‰åˆ†æ”¯çš„åŠŸèƒ½æ·»åŠ åˆ°å¦ä¸€ä¸ªåˆ†æ”¯ä¸Šï¼Œé‚£å°±æ˜¯ä½¿ç”¨<code>git cherry-pick</code>å‘½ä»¤ã€‚é¦–å…ˆæˆ‘ä»¬è¿˜æ˜¯å…ˆç”¨<code>git log --oneline</code>æŸ¥æ‰¾å½“å‰å·²æäº¤çš„åŠŸèƒ½çš„hashå€¼ï¼Œç„¶ååˆ‡æ¢åˆ°ç›®æ ‡åˆ†æ”¯ï¼Œè¿è¡Œå‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git cherry-pick &lt;commit hash&gt;</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·å°±æŠŠæˆ‘ä»¬åœ¨å¦ä¸€ä¸ªåˆ†æ”¯å¼€å‘çš„åŠŸèƒ½ï¼Œæ·»åŠ åˆ°æˆ‘ä»¬æƒ³è¦çš„åˆ†æ”¯äº†ã€‚å¦‚æœæœ‰å†²çªçš„è¯ï¼Œéœ€è¦æ‰‹åŠ¨å¤„ç†ä¸€ä¸‹å†²çªã€‚ç„¶åæˆ‘ä»¬å›åˆ°æœ€åˆçš„åˆ†æ”¯ï¼Œå†æ¬¡è¿è¡Œ<code>git reset &lt;commit hash&gt;</code>å‘½ä»¤ï¼ŒæŠŠå·²æäº¤çš„å†…å®¹è¿›è¡Œé‡ç½®ï¼Œç„¶åè¿è¡Œå‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git checkout -- .</span><br></pre></td></tr></table></figure>



<h2 id="æ–°åŠŸèƒ½å·²ç»commitäº†ï¼Œä¸”pushåˆ°äº†è¿œç¨‹ä»“åº“"><a href="#æ–°åŠŸèƒ½å·²ç»commitäº†ï¼Œä¸”pushåˆ°äº†è¿œç¨‹ä»“åº“" class="headerlink" title="æ–°åŠŸèƒ½å·²ç»commitäº†ï¼Œä¸”pushåˆ°äº†è¿œç¨‹ä»“åº“"></a>æ–°åŠŸèƒ½å·²ç»commitäº†ï¼Œä¸”<code>push</code>åˆ°äº†è¿œç¨‹ä»“åº“</h2><p>ç¬¬ä¸‰ç§æƒ…å†µå°±æ˜¯ï¼Œæˆ‘ä»¬å·²ç»æŠŠæ–°å¼€å‘çš„åŠŸèƒ½<code>push</code>åˆ°è¿œç¨‹çš„ä»“åº“äº†ï¼Œä½†æ˜¯æˆ‘ä»¬å¿½ç„¶å‘ç°æ–°åŠŸèƒ½ä¸åº”è¯¥åœ¨è¿™ä¸ªåˆ†æ”¯å¼€å‘ï¼Œæˆ‘ä»¬è¿™ä¸ªæ—¶å€™åº”è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ</p>
<p><strong>é¦–å…ˆæˆ‘ä»¬åº”è¯¥ä¿æŒå½“å‰çš„å·¥ä½œåŒºæ˜¯æ²¡æœ‰ä¿®æ”¹çš„ï¼Œæ˜¯ä¸€ä¸ªå¹²å‡€çš„çŠ¶æ€ã€‚ä¸ç„¶ä½¿ç”¨æ’¤é”€å‘½ä»¤çš„æ—¶å€™ä¼šæç¤ºä½ éœ€è¦æŠŠå½“å‰çš„æ–‡ä»¶å†…å®¹å˜æ›´å…ˆæäº¤æˆ–è€…ç”Ÿæˆå¿«ç…§</strong>ã€‚å½“æˆ‘ä»¬çš„å·¥ä½œåŒºçš„çŠ¶æ€æ˜¯å¹²å‡€çš„æ—¶å€™ï¼Œæˆ‘ä»¬å°±å¯ä»¥è¿›è¡Œæ’¤é”€æ“ä½œäº†ã€‚</p>
<p>é¦–å…ˆéœ€è¦çŸ¥é“æˆ‘ä»¬åº”è¯¥æ’¤é”€é‚£ä¸€æ¬¡æäº¤çš„çŠ¶æ€ã€‚ä½¿ç”¨<code>git log --oneline</code>æŸ¥çœ‹è¦æ’¤é”€çš„æäº¤çš„ç´¢å¼•ï¼Œç„¶åè¿è¡Œä¸‹é¢çš„å‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git revert &lt;commit&gt;</span><br></pre></td></tr></table></figure>

<p>è¿™ä¸ªæ—¶å€™å‘½ä»¤è¿è¡Œçš„ç»ˆç«¯ä¼šè¿›å…¥ç¼–è¾‘å™¨æ¨¡å¼ï¼Œè®©ä½ å¡«å†™æäº¤çš„ä¿¡æ¯ã€‚å½“ç„¶ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨å‚æ•°<code>--no-edit</code>è¿™æ ·å°±ä¸ä¼šåœ¨è¿›è¡Œæ’¤é”€æ“ä½œçš„æ—¶å€™æ‰“å¼€ç¼–è¾‘æ¨¡å¼äº†ã€‚</p>
<p><strong>å¦‚æœéœ€è¦æ’¤é”€çš„æäº¤æ¯”è¾ƒå¤šçš„è¯ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>..</code>è¡¨ç¤ºä¸€ä¸ªæäº¤è®°å½•çš„èŒƒå›´ã€‚æ¯”å¦‚<code>c1..c2</code>å°±è¡¨ç¤º<code>c2</code>çš„å¯è¾¾æäº¤ï¼Œä¸”æ’é™¤<code>c1</code>çš„å¯è¾¾æäº¤</strong>ã€‚æ‰€è°“<strong>å¯è¾¾çš„æäº¤</strong>æŒ‡çš„æ˜¯ï¼š<strong>æäº¤æœ¬èº«åŠå…¶ç¥–å…ˆé“¾ä¸­æäº¤çš„é›†åˆ</strong>ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥ä¸¾ä¸ªä¾‹å­ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">... a - b - c - d - HEAD</span><br></pre></td></tr></table></figure>

<p>å¦‚æœä¸Šé¢è¡¨ç¤ºçš„æ˜¯æŸä¸ªåˆ†æ”¯çš„æäº¤è®°å½•ï¼Œé‚£ä¹ˆå¯¹äº<code>b..d</code>è¡¨ç¤ºçš„å°±æ˜¯<code>c d</code>è¿™ä¸¤ä¸ªæäº¤ï¼Œå¯¹äº<code>a..d</code>è¡¨ç¤ºçš„å°±æ˜¯<code>b c d</code>è¿™ä¸‰ä¸ªæäº¤ã€‚å¦‚æœå¤§å®¶æƒ³äº†è§£æ›´å¤šç›¸å…³çš„å†…å®¹ï¼Œå¯ä»¥åœ¨git-rev-listè¿™é‡Œæ·±å…¥çš„å­¦ä¹ ä¸€ä¸‹ã€‚</p>
<p>æ‰€ä»¥æˆ‘ä»¬å¦‚æœæƒ³å¿«é€Ÿçš„æ’¤é”€ä¸€æ®µèŒƒå›´çš„æäº¤çš„è¯ï¼Œå¯ä»¥è¿è¡Œç±»ä¼¼ä¸‹é¢è¿™æ ·çš„å‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git revert 54dc134..a72d612 --no-edit</span><br></pre></td></tr></table></figure>

<p>ä¸Šè¿°å‘½ä»¤çš„<code>54dc134</code>å°±è¡¨ç¤º<code>c1</code>ï¼Œ<code>a72d612</code>å°±è¡¨ç¤º<code>c2</code>ï¼Œ<code>--no-edit</code>è¡¨æ˜æˆ‘ä»¬åœ¨è¿è¡Œæ’¤é”€æ“ä½œçš„æ—¶å€™ä¸æ‰“å¼€ç¼–è¾‘æ¨¡å¼ã€‚</p>
<p><strong>æˆ‘ä»¬å¦‚æœéœ€è¦å¯¹è¿œç¨‹çš„åˆ†æ”¯è¿›è¡Œæ’¤é”€çš„è¯ï¼Œé¦–å…ˆè€ƒè™‘çš„å°±æ˜¯ä½¿ç”¨<code>git revert</code>å‘½ä»¤ï¼Œå› ä¸º<code>git revert</code>å‘½ä»¤ä¸ä¼šä¿®æ”¹å†å²çš„æäº¤è®°å½•ï¼Œåªæ˜¯åœ¨åŸæ¥çš„æäº¤åŸºç¡€ä¸Šæ·»åŠ æ–°çš„æäº¤ï¼Œæ‰€ä»¥ä¸ä¼šé€ æˆä»£ç çš„ä¸¢å¤±ã€‚åœ¨å¤šäººåˆä½œçš„æƒ…å†µä¸‹ä½¿ç”¨<code>git revert</code>å‘½ä»¤æ’¤é”€<code>push</code>åˆ°è¿œç¨‹çš„æ“ä½œè¿˜æ˜¯å¾ˆæœ‰å¿…è¦çš„ã€‚</strong></p>
]]></content>
      <categories>
        <category>git</category>
      </categories>
      <tags>
        <tag>git</tag>
        <tag>é”™è¯¯åˆ†æ”¯</tag>
      </tags>
  </entry>
  <entry>
    <title>hexoQuest</title>
    <url>/2020/07/15/hexoQuest/</url>
    <content><![CDATA[<h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><p>hexoå¼€å‘è¿‡ç¨‹ä¸­é‡åˆ°çš„å°å‘å¤§å‘å„ç§å‘åˆé›†</p>
<p>éƒ¨ç½²å¤±è´¥æ—¶ï¼ˆdeployå¤„å°†httpsæ”¹ä¸ºSSHï¼‰</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">repository: https:&#x2F;&#x2F;github.com&#x2F;username&#x2F;username.github.io.git</span><br></pre></td></tr></table></figure>

<p>ä¿®æ”¹ä¸º</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">repositoryï¼šgit@github.com:username&#x2F;username.github.io.git</span><br></pre></td></tr></table></figure>

<a id="more"></a>

<h4 id="ï¼ˆ1ï¼‰æ£€æŸ¥æ˜¯å¦æœ‰SSH-key"><a href="#ï¼ˆ1ï¼‰æ£€æŸ¥æ˜¯å¦æœ‰SSH-key" class="headerlink" title="ï¼ˆ1ï¼‰æ£€æŸ¥æ˜¯å¦æœ‰SSH key"></a>ï¼ˆ1ï¼‰æ£€æŸ¥æ˜¯å¦æœ‰SSH key</h4><p>ç™»é™†githubï¼Œç‚¹å‡»å¤´åƒä½ç½®å¤„ Settings â€”â€”&gt; SSH and GPG keys ï¼ŒæŸ¥çœ‹æ˜¯å¦æœ‰SSH keysã€‚å¦‚æœæœ‰ï¼Œç›´æ¥è·³åˆ°ç¬¬ï¼ˆ3ï¼‰æ­¥ï¼›å¦‚æœæ²¡æœ‰ï¼Œåˆ™ç»§ç»­ã€‚</p>
<h4 id="ï¼ˆ2ï¼‰æ–°å»º-SSH-keyï¼Œåœ¨git-shell-æˆ–è€…git-bashç­‰å‘½ä»¤çª—å£-ï¼Œæ³¨æ„å¤§å°å†™ï¼š"><a href="#ï¼ˆ2ï¼‰æ–°å»º-SSH-keyï¼Œåœ¨git-shell-æˆ–è€…git-bashç­‰å‘½ä»¤çª—å£-ï¼Œæ³¨æ„å¤§å°å†™ï¼š" class="headerlink" title="ï¼ˆ2ï¼‰æ–°å»º SSH keyï¼Œåœ¨git shell(æˆ–è€…git bashç­‰å‘½ä»¤çª—å£)ï¼Œæ³¨æ„å¤§å°å†™ï¼š"></a>ï¼ˆ2ï¼‰æ–°å»º SSH keyï¼Œåœ¨git shell(æˆ–è€…git bashç­‰å‘½ä»¤çª—å£)ï¼Œæ³¨æ„å¤§å°å†™ï¼š</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ ssh-keygen -t rsa -C &quot;é‚®ç®±å&quot;</span><br></pre></td></tr></table></figure>

<p>ç„¶åä¼šå‡ºç°ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Generating public&#x2F;private rsa key pair.</span><br><span class="line">Enter file in which to save the key (&#x2F;c&#x2F;Users&#x2F;dell&#x2F;.ssh&#x2F;id_rsa):</span><br></pre></td></tr></table></figure>

<p>ç›´æ¥å›è½¦å°±å¯ä»¥ã€‚<br>ç„¶åä¼šå‡ºç°ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Enter passphrase (empty for no passphrase):</span><br><span class="line">Enter same passphrase again:</span><br></pre></td></tr></table></figure>

<p>è¦æ±‚ä½ è¾“å…¥å¯†ç ï¼Œè¿™ä¸ªå¯†ç ä¼šåœ¨ä½ æäº¤é¡¹ç›®æ—¶ä½¿ç”¨ï¼Œå¦‚æœä¸ºç©ºçš„è¯æäº¤é¡¹ç›®æ—¶åˆ™ä¸ç”¨è¾“å…¥ã€‚è¿™ä¸ªè®¾ç½®æ˜¯é˜²æ­¢åˆ«äººå¾€ä½ çš„é¡¹ç›®é‡Œæäº¤å†…å®¹ã€‚</p>
<p>æ³¨æ„ï¼šè¾“å…¥å¯†ç çš„æ—¶å€™æ²¡æœ‰*å­—æ ·çš„ï¼Œç›´æ¥è¾“å…¥å°±å¥½ã€‚<br>ç„¶åä¼šå‡ºç°ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Your identification has been saved in &#x2F;c&#x2F;Users&#x2F;dell&#x2F;.ssh&#x2F;id_rsa.</span><br><span class="line">Your public key has been saved in &#x2F;c&#x2F;Users&#x2F;dell&#x2F;.ssh&#x2F;id_rsa.pub.</span><br><span class="line">The key fingerprint is:</span><br><span class="line">65:69:Â·Â·Â·Â·Â·Â·02:4b emailname@email.com</span><br><span class="line">The key&#39;s randomart image is:</span><br><span class="line">+--[ RSA 2048]----+</span><br><span class="line">|                 |</span><br><span class="line">|       .   o .   |</span><br><span class="line">|    . o o &#x3D; o    |</span><br><span class="line">|   . o * &#x3D; o     |</span><br><span class="line">|  E  o + o .     |</span><br><span class="line">| . o.   . .      |</span><br><span class="line">|     ..          |</span><br><span class="line">+-----------------+</span><br></pre></td></tr></table></figure>

<p>è‡³æ­¤ï¼Œå¯†é’¥å·²ç»æˆåŠŸç”Ÿæˆã€‚</p>
<h4 id="ï¼ˆ3ï¼‰æ¥ä¸‹æ¥åœ¨githubä¸Šæ·»åŠ SSH-keyï¼š"><a href="#ï¼ˆ3ï¼‰æ¥ä¸‹æ¥åœ¨githubä¸Šæ·»åŠ SSH-keyï¼š" class="headerlink" title="ï¼ˆ3ï¼‰æ¥ä¸‹æ¥åœ¨githubä¸Šæ·»åŠ SSH keyï¼š"></a>ï¼ˆ3ï¼‰æ¥ä¸‹æ¥åœ¨githubä¸Šæ·»åŠ SSH keyï¼š</h4><p>â‘  æ‰“å¼€æœ¬åœ°æ–‡ä»¶ï¼šid_rsa.pubï¼ˆæ–‡ä»¶è·¯å¾„å¯ä»¥åœ¨ä¸Šä¸€æ­¥SSHç”ŸæˆæˆåŠŸåçœ‹åˆ°è·¯å¾„ï¼Œæ¯”å¦‚æˆ‘çš„æ˜¯c/Users/dell/.ssh/id_rsa.pubï¼‰ï¼Œå¯ä»¥å°†è¿™ä¸ªæ–‡ä»¶åœ¨ç¼–è¾‘å™¨ä¸­æ‰“å¼€ï¼Œç„¶åå…¨é€‰å¤åˆ¶ã€‚</p>
<p>â‘¡ ç™»é™†githubï¼Œç‚¹å‡»å¤´åƒä½ç½®å¤„ Settings â€”â€”&gt; SSH and GPG keys â€”â€”&gt; New SSH keyï¼Œç‚¹å‡»æ–°å»ºSSH keyã€‚</p>
<p>â‘¢ å°† â‘  ä¸­å¤åˆ¶çš„å†…å®¹ç²˜è´´åœ¨keyæ–‡æœ¬æ¡†é‡Œï¼Œtitleå¯ä»¥ä¸ç”¨å¡«ï¼ˆæˆ–è€…è‡ªå·±èµ·ä¸€ä¸ªåå­—ä¹Ÿå¯ä»¥ï¼‰ã€‚</p>
<h4 id="ï¼ˆ4ï¼‰æµ‹è¯•è®¾ç½®æ˜¯å¦æˆåŠŸï¼š"><a href="#ï¼ˆ4ï¼‰æµ‹è¯•è®¾ç½®æ˜¯å¦æˆåŠŸï¼š" class="headerlink" title="ï¼ˆ4ï¼‰æµ‹è¯•è®¾ç½®æ˜¯å¦æˆåŠŸï¼š"></a>ï¼ˆ4ï¼‰æµ‹è¯•è®¾ç½®æ˜¯å¦æˆåŠŸï¼š</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ ssh -T git@github.com</span><br></pre></td></tr></table></figure>

<p>æœ‰å¯èƒ½ä¼šå‡ºç°ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">The authenticity of host &#39;github.com (192.30.252.1)&#39; can&#39;t be established.</span><br><span class="line">RSA key fingerprint is 16:27:ac:a5:76:28:2d:36:63:1b:56:4d:eb:df:a6:48.</span><br><span class="line">Are you sure you want to continue connecting (yes&#x2F;no)?</span><br></pre></td></tr></table></figure>

<p>æˆ–è€…æ˜¯</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">The authenticity of host &#39;github.com (192.30.252.1)&#39; can&#39;t be established.</span><br><span class="line">RSA key fingerprint is nThbg6kXUpJWGl7E1IGOCspRomTxdCARLviKw6E5SY8.</span><br><span class="line">Are you sure you want to continue connecting (yes&#x2F;no)?</span><br></pre></td></tr></table></figure>

<p>è¿™ç§æƒ…å†µä¸‹ï¼Œç›´æ¥ yes å›è½¦</p>
<p>ç„¶åä¼šå‡ºç°ï¼ˆä¹Ÿå¯èƒ½åœ¨ <em>++$ ssh -T <a href="mailto:git@github.com">git@github.com</a>++</em> ä¹‹åï¼Œç›´æ¥å‡ºç°çš„å°±æ˜¯è¿™ä¸ªï¼Œæˆ‘å°±æ˜¯è¿™æ ·~ï¼‰ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Hi username! You&#39;ve successfully authenticated, but GitHub does not </span><br><span class="line">provide shell access.</span><br></pre></td></tr></table></figure>

<h4 id="ï¼ˆ5ï¼‰è®¾ç½®ç”¨æˆ·ä¿¡æ¯ï¼š"><a href="#ï¼ˆ5ï¼‰è®¾ç½®ç”¨æˆ·ä¿¡æ¯ï¼š" class="headerlink" title="ï¼ˆ5ï¼‰è®¾ç½®ç”¨æˆ·ä¿¡æ¯ï¼š"></a>ï¼ˆ5ï¼‰è®¾ç½®ç”¨æˆ·ä¿¡æ¯ï¼š</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ git config --global user.name &quot;ç”¨æˆ·å&quot;</span><br><span class="line">$ git config --global user.email  &quot;ä½ å¸Œæœ›çš„é‚®ç®±å&quot;</span><br></pre></td></tr></table></figure>

<h4 id="ï¼ˆ6ï¼‰ç„¶åå°±å¯ä»¥éƒ¨ç½²ä½ çš„åšå®¢åˆ°githubå•¦"><a href="#ï¼ˆ6ï¼‰ç„¶åå°±å¯ä»¥éƒ¨ç½²ä½ çš„åšå®¢åˆ°githubå•¦" class="headerlink" title="ï¼ˆ6ï¼‰ç„¶åå°±å¯ä»¥éƒ¨ç½²ä½ çš„åšå®¢åˆ°githubå•¦~"></a>ï¼ˆ6ï¼‰ç„¶åå°±å¯ä»¥éƒ¨ç½²ä½ çš„åšå®¢åˆ°githubå•¦~</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ hexo g</span><br><span class="line">$ hexo d</span><br></pre></td></tr></table></figure>

<p>å‚è€ƒæ–‡ç«  <a href="https://www.cnblogs.com/xsilence/p/6001938.html" target="_blank" rel="noopener">ssh</a></p>
]]></content>
      <categories>
        <category>mysoft</category>
        <category>hexo</category>
      </categories>
      <tags>
        <tag>soft</tag>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>hexoStart</title>
    <url>/2020/07/15/hexoStart/</url>
    <content><![CDATA[<h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><p><a href="https://links.jianshu.com/go?to=https%3A%2F%2Fhexo.io%2Fzh-cn%2Fdocs%2Findex.html" target="_blank" rel="noopener">Hexo</a>æ¡†æ¶ï¼ŒåŸºäºNode.jsï¼Œæ­å»ºåšå®¢é¦–å…ˆéœ€è¦æœ‰ä¸€ä¸ªGitHubè´¦å·å¹¶ä¸”é…ç½®äº†SSH Keys</p>
<h3 id="å‡†å¤‡"><a href="#å‡†å¤‡" class="headerlink" title="å‡†å¤‡"></a>å‡†å¤‡</h3><ol>
<li><p>githubä»“åº“åˆ›å»º</p>
<a id="more"></a>

</li>
</ol>
<p>ç‚¹å‡»New repositoryåˆ›å»ºï¼Œæ³¨æ„ï¼šä»“åº“åç§°ä¸€å®šæ˜¯<code>username.github.io</code>è¿™ç§æ ¼å¼ï¼Œusernameæ›¿æ¢ä¸€ä¸ªä½ å–œæ¬¢çš„åå­—ã€‚</p>
<p><img src="https://upload-images.jianshu.io/upload_images/4120931-5b31c3ac628564b8.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/767/format/webp" alt="img"></p>
<ol start="2">
<li><p>Gitå®‰è£…ï¼ˆæ­¤å¤„ä¸å¤šåšè¯´æ˜ï¼Œç½‘ä¸Šå¾ˆå¤šæ•™ç¨‹ï¼‰</p>
<blockquote>
<p>éªŒè¯ï¼šæ‰§è¡Œ<code>git --version</code>å¦‚æœè¾“å‡ºç±»ä¼¼<code>git version 2.15.0</code>è¯´æ˜å®‰è£…æˆåŠŸäº†</p>
</blockquote>
</li>
<li><p>nodeJså®‰è£…ï¼ˆæ­¤å¤„ä¸å¤šåšè¯´æ˜ï¼Œç½‘ä¸Šå¾ˆå¤šæ•™ç¨‹ï¼‰</p>
<blockquote>
<p>éªŒè¯ï¼šæ‰§è¡Œ<code>npm --version</code>å¦‚æœè¾“å‡ºç±»ä¼¼<code>5.5.1</code>è¯´æ˜å®‰è£…æˆåŠŸäº†</p>
</blockquote>
</li>
<li><p>hexoå®‰è£…</p>
</li>
</ol>
<h3 id="å»ºç«™"><a href="#å»ºç«™" class="headerlink" title="å»ºç«™"></a>å»ºç«™</h3><ol>
<li><p>hexoæ–‡ä»¶å¤¹åˆ›å»º</p>
<p>å®‰è£… Hexo å®Œæˆåï¼Œåœ¨ä½ å–œæ¬¢çš„ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹å‘½åä¸º<code>username</code>ï¼ˆæ›¿æ¢æˆä½ å–œæ¬¢çš„åå­—ï¼‰ï¼Œç„¶åcdåˆ°usernameæ–‡ä»¶å¤¹ä¸‹</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ cd username</span><br><span class="line">$ hexo init</span><br><span class="line">$ npm install</span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œå®Œæ¯•åä½ å°†çœ‹åˆ°åœ¨ä½ åˆšåˆ›å»ºçš„æ–‡ä»¶å¤¹ä¸‹ä¼šæœ‰å¾ˆå¤šèµ„æº</p>
</li>
</ol>
<p><img src="https://upload-images.jianshu.io/upload_images/4120931-51990266dab56f41.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/220/format/webp" alt="img"></p>
<ol start="2">
<li><p>åŸºç¡€é…ç½®</p>
<p>æ¥ä¸‹æ¥æ‰“å¼€usernameä¸‹çš„<code>_config.yml</code>æ–‡ä»¶ï¼ˆä¸Šå›¾ä¸­çš„ç¬¬ä¸€ä¸ªæ–‡ä»¶ï¼‰ï¼Œä¿®æ”¹ä¸€ä¸‹é‡Œé¢å‡ ä¸ªå…³é”®çš„ä¿¡æ¯ï¼Œä¿®æ”¹å®Œè®°å¾—ä¿å­˜ï¼Œæ³¨æ„ï¼šå†’å·åé¢è¦æœ‰ç©ºæ ¼ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">title: my_æ¨å“¥      &#x2F;&#x2F;ä½ åšå®¢çš„åå­—</span><br><span class="line">author: Li Yang    &#x2F;&#x2F;ä½ çš„åå­—</span><br><span class="line">language: zh-Hans  &#x2F;&#x2F;è¯­è¨€-ç®€ä½“ä¸­æ–‡</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢è¿™3ä¸ªå­—æ®µæ˜¯å…³é”®ä¿¡æ¯ï¼Œå¦‚éœ€ä¿®æ”¹å…¶ä»–ä¿¡æ¯è¯·å‚è€ƒ<a href="https://links.jianshu.com/go?to=https%3A%2F%2Fhexo.io%2Fzh-cn%2Fdocs%2Fconfiguration.html" target="_blank" rel="noopener">é…ç½®</a></p>
</li>
<li><p>ä¸»é¢˜å®‰è£…</p>
<p>usernameä¸‹çš„<code>themes</code>æ–‡ä»¶å¤¹ä¸­å­˜æ”¾çš„æ˜¯ä¸»é¢˜ï¼Œé»˜è®¤çš„æ˜¯landscapeä¸»é¢˜ï¼Œå¦‚æœä½ ä¸å–œæ¬¢å¯ä»¥å®‰è£…å…¶ä»–ä¸»é¢˜ã€‚</p>
<p><strong>NexT</strong>ä¸»é¢˜æ˜¯ä¸€å¥—ç®€çº¦çš„ä¸»é¢˜ï¼Œæ˜¯ç›®å‰ä½¿ç”¨æœ€ç«çš„ä¸€ä¸ªä¸»é¢˜ï¼Œä¸‹é¢æˆ‘ä»¬å®‰è£…ä¸€ä¸‹è¯¥ä¸»é¢˜ï¼Œä½ ä¹Ÿå¯å‚è€ƒ<a href="https://links.jianshu.com/go?to=http%3A%2F%2Ftheme-next.iissnan.com%2Fgetting-started.html" target="_blank" rel="noopener">å®‰è£…NexT</a>ã€‚</p>
<p>Hexoè¿˜æœ‰<a href="https://links.jianshu.com/go?to=https%3A%2F%2Fhexo.io%2Fthemes%2F" target="_blank" rel="noopener">æ›´å¤šä¸»é¢˜</a>ä¾›ä½ é€‰æ‹©</p>
</li>
</ol>
<ul>
<li><p>å®‰è£…NexTä¸»é¢˜ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ cd username        &#x2F;&#x2F;è¿›å…¥åˆ°usernameæ–‡ä»¶å¤¹ä¸‹</span><br><span class="line">$ git clone https:&#x2F;&#x2F;github.com&#x2F;iissnan&#x2F;hexo-theme-next themes&#x2F;next</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¯ç”¨NexTä¸»é¢˜ï¼š<br>æ‰“å¼€usernameä¸‹çš„<code>_config.yml</code>æ–‡ä»¶ï¼ˆä¸Šå›¾ä¸­çš„ç¬¬ä¸€ä¸ªæ–‡ä»¶ï¼‰ï¼Œæ‰¾åˆ°<code>theme</code>å­—æ®µå°†å…¶å€¼æ›´æ”¹ä¸º<code>next</code></p>
</li>
<li><p>éªŒè¯ä¸»é¢˜ï¼š</p>
<p><em>æ³¨æ„ï¼šæ¯æ¬¡åˆ‡æ¢ä¸»é¢˜ä¹‹åã€éªŒè¯ä¸»é¢˜ä¹‹å‰éƒ½è¦æ¸…é™¤ Hexo çš„ç¼“å­˜</em></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ hexo clean    &#x2F;&#x2F;æ¸…é™¤ç¼“å­˜</span><br></pre></td></tr></table></figure>

<p>å¼€å§‹éªŒè¯ï¼šå¯åŠ¨Hexoæœ¬åœ°æœåŠ¡å™¨</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ hexo s</span><br></pre></td></tr></table></figure>

<p>ç„¶åä½ å°†ä¼šçœ‹åˆ°ç»ˆç«¯è¾“å‡º</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">INFO  Hexo is running at http:&#x2F;&#x2F;localhost:4000&#x2F;. Press Ctrl+C to stop.</span><br></pre></td></tr></table></figure>

<p>è¿™è¡Œçš„æ„æ€æ˜¯è¯´ä½ ç”¨æµè§ˆå™¨æ‰“å¼€ <a href="http://localhost:4000" target="_blank" rel="noopener">http://localhost:4000</a></p>
<p>ä¾¿å¯çœ‹åˆ°ä½ çš„åšå®¢äº†ï¼Œè¿™åªæ˜¯æœ¬åœ°çš„æµ‹è¯•ï¼Œå¦‚æœæµ‹è¯•æ²¡é—®é¢˜å°±æ‰§è¡ŒCtrl+Cé€€å‡ºå»ï¼Œæ­¤æ—¶è¯¥åœ°å€å°±ä¸èƒ½è®¿é—®äº†ã€‚</p>
</li>
</ul>
<p>OKï¼Œç°åœ¨ï¼Œä½ å·²ç»æˆåŠŸå®‰è£…å¹¶å¯ç”¨äº† NexT ä¸»é¢˜ã€‚æ¥ä¸‹æ¥å°±æ˜¯å¯¹è¯¥ä¸»é¢˜çš„ä¸€äº›è®¾ç½®ï¼Œè¯¦ç»†å¯å‚è€ƒ<a href="https://links.jianshu.com/go?to=http%3A%2F%2Ftheme-next.iissnan.com%2Fgetting-started.html%23theme-settings" target="_blank" rel="noopener">NexTä¸»é¢˜è®¾å®š</a></p>
<h3 id="å†™ä½œ"><a href="#å†™ä½œ" class="headerlink" title="å†™ä½œ"></a>å†™ä½œ</h3><ol>
<li><p>æ–‡ç« æ–°å»º</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ hexo new layout title</span><br></pre></td></tr></table></figure>

<p>layoutï¼šæ¨¡æ¿ï¼Œå¦‚æœä¸å†™å°†ä½¿ç”¨é»˜è®¤æ¨¡æ¿ï¼Œä¸€èˆ¬ä¸å†™ï¼Œç›´æ¥<code>$ hexo new title</code></p>
<p>titleï¼šæ–‡ç« æ ‡é¢˜ï¼Œå¦‚æœæ ‡é¢˜åŒ…å«ç©ºæ ¼çš„è¯ï¼Œè¯·ä½¿ç”¨å¼•å·æ‹¬èµ·æ¥ã€‚</p>
<p>æ–°å»ºçš„æ–‡ç« å°†ä¼šå­˜åœ¨<code>username/source/_posts</code>ä¸­ï¼Œ<code>_posts</code>å°±æ˜¯é»˜è®¤æ¨¡æ¿ï¼Œæ–‡ç« æ–‡ä»¶åç§°å°†ä¼šæ˜¯<code>title.md</code>ï¼Œæ¥ä¸‹æ¥å°±å¯ä»¥æ‰“å¼€è¯¥æ–‡ä»¶è¿›è¡Œç¼–è¾‘å†™ä½ çš„æ–‡ç« äº†ã€‚</p>
</li>
<li><p>é™æ€æ–‡ä»¶ç”Ÿæˆ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ hexo g</span><br></pre></td></tr></table></figure>
</li>
<li><p>æœ¬åœ°æœåŠ¡å™¨å¯åŠ¨</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ hexo s</span><br></pre></td></tr></table></figure>

<p>æœ¬åœ°æœåŠ¡å™¨å¯åŠ¨å®Œä¹‹åå°±å¦‚åŒä¸Šé¢éªŒè¯ä¸»é¢˜ä¸€æ ·ï¼Œè®¿é—® <a href="https://links.jianshu.com/go?to=http%3A%2F%2Flocalhost%3A4000" target="_blank" rel="noopener">http://localhost:4000</a> æ¥éªŒè¯ä¸€ä¸‹ä½ å†™çš„æ–‡ç« é¢„è§ˆæ•ˆæœã€‚</p>
</li>
<li><p>ç½‘ç«™éƒ¨ç½²</p>
<p>å®‰è£…éƒ¨ç½²å·¥å…·</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure>

<p>å®‰è£…å®Œæ¯•åæ‰“å¼€usernameä¸‹çš„<code>_config.yml</code>æ–‡ä»¶ï¼Œç¿»åˆ°æœ€åº•éƒ¨æ‰¾åˆ°deployèŠ‚ç‚¹ç¼–è¾‘å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">deploy:</span><br><span class="line">  type: git</span><br><span class="line">  repository: https:&#x2F;&#x2F;github.com&#x2F;YoungerLi&#x2F;youngerli.github.io.git</span><br><span class="line">  branch: master</span><br></pre></td></tr></table></figure>

<p>å…¶ä¸­<code>https://github.com/YoungerLi/youngerli.github.io.git</code>å°±æ˜¯ä½ GitHubä¸­åˆ›å»ºçš„ä»“åº“åœ°å€ï¼Œåœ¨è¿™å¤åˆ¶å³å¯</p>
<p><img src="http://upload-images.jianshu.io/upload_images/4120931-8525599433d095b3.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/442/format/webp" alt="img"></p>
<p>repository</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ hexo d        &#x2F;&#x2F;hexo deployçš„ç¼©å†™</span><br></pre></td></tr></table></figure>

<p>ç¬¬ä¸€æ¬¡æ‰§è¡Œè¿™ä¸€æ­¥çš„æ—¶å€™ä¼šè®©ä½ è¾“å…¥ä½ çš„GitHubçš„ç”¨æˆ·ååŠå¯†ç ï¼Œè¾“å…¥æ­£ç¡®æ— è¯¯åæ‰§è¡Œå®Œæ¯•ï¼Œä»»ä½•äººå°±å¯ä»¥è®¿é—® <a href="https://links.jianshu.com/go?to=https%3A%2F%2Fyoungerli.github.io" target="_blank" rel="noopener">https://youngerli.github.io</a> è¿›å…¥ä½ çš„åšå®¢äº†ã€‚</p>
<p>ä»¥åæ¯æ¬¡å†™å®Œæ–‡ç« ä¹‹åä¾æ¬¡æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å°±å¯ä»¥å‘å¸ƒæ›´æ–°äº†</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ hexo clean      &#x2F;&#x2F; æ¸…é™¤ç¼“å­˜</span><br><span class="line">$ hexo g          &#x2F;&#x2F; ç”Ÿæˆé™æ€ç½‘é¡µæ–‡ä»¶</span><br><span class="line">$ hexo d          &#x2F;&#x2F; å°†æœ¬åœ°åšå®¢å‘å¸ƒåˆ°github</span><br></pre></td></tr></table></figure>



</li>
</ol>
<h3 id="hexoæ–‡ç« ä¸­æ’å…¥å›¾ç‰‡"><a href="#hexoæ–‡ç« ä¸­æ’å…¥å›¾ç‰‡" class="headerlink" title="hexoæ–‡ç« ä¸­æ’å…¥å›¾ç‰‡"></a>hexoæ–‡ç« ä¸­æ’å…¥å›¾ç‰‡</h3><p>å®‰è£…å›¾ç‰‡æ’ä»¶</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install hexo-asset-image --save</span><br></pre></td></tr></table></figure>

<p><img src="https://img-blog.csdnimg.cn/20190410220529100.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<p>åœ¨_config.ymlé…ç½®æ–‡ä»¶ä¸­ï¼Œä¿®æ”¹ä¸º post_asset_folder: trueï¼Œ ç„¶åæ–°å»ºä¸€ç¯‡æ–‡ç« </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hexo new post ceshi</span><br></pre></td></tr></table></figure>

<p><img src="https://img-blog.csdnimg.cn/20190410220540714.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<p>è¿™ä¸ªæ—¶å€™ä¼šå‡ºç°ä¸€ä¸ªceshi.md å’Œ ceshiçš„æ–‡ä»¶å¤¹</p>
<p>ç„¶åå°±å¯ä»¥åœ¨æ–‡ç« ä¸­å¼•ç”¨äº† <img src="https://img-blog.csdnimg.cn/20190410220553413.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3UwMTA5OTY1NjU=,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<p>é‡æ–°ç¼–è¯‘ä¸€ä¸‹ ç„¶åå¯åŠ¨æœåŠ¡</p>
<h3 id="åšå®¢å¤‡ä»½å’Œæ¢å¤"><a href="#åšå®¢å¤‡ä»½å’Œæ¢å¤" class="headerlink" title="åšå®¢å¤‡ä»½å’Œæ¢å¤"></a>åšå®¢å¤‡ä»½å’Œæ¢å¤</h3><h4 id="1-åšå®¢å¤‡ä»½"><a href="#1-åšå®¢å¤‡ä»½" class="headerlink" title="1. åšå®¢å¤‡ä»½"></a>1. åšå®¢å¤‡ä»½</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ git init &#x2F;&#x2F;gitåˆå§‹åŒ–</span><br><span class="line">$ git add . &#x2F;&#x2F;git æ–‡ä»¶æ·»åŠ </span><br><span class="line">$ git commit -m &quot;init&quot; &#x2F;&#x2F;git æäº¤</span><br><span class="line">$ git pull origin hexo &#x2F;&#x2F;pullåˆ°hexoåˆ†æ”¯</span><br><span class="line">$ git push origin hexo &#x2F;&#x2F;pushåˆ°hexoåˆ†æ”¯</span><br></pre></td></tr></table></figure>

<h4 id="2-åšå®¢æ¢å¤"><a href="#2-åšå®¢æ¢å¤" class="headerlink" title="2. åšå®¢æ¢å¤"></a>2. åšå®¢æ¢å¤</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ï¼ˆä¸€ï¼‰é…ç½® ssh è¿æ¥ Github</span><br><span class="line">$ cd ~&#x2F;.ssh æˆ–cd .ssh &#x2F;&#x2F;æ£€æŸ¥æœ¬æœºæ˜¯å¦æœ‰ssh keyè®¾ç½®</span><br><span class="line">$ cd ~  &#x2F;&#x2F;è‹¥æ²¡æœ‰ ssh ï¼Œåˆ™åˆ‡æ¢å½“å‰è·¯å¾„åœ¨ â€~â€ ä¸‹</span><br><span class="line">$ ssh-keygen -t rsa -C &quot;user@example.com&quot; &#x2F;&#x2F;å¼•å·å†…ä¸ºè‡ªå·±é‚®ç®±ï¼Œä¸‰ä¸ªå›è½¦åç”Ÿæˆssh key;æ·»åŠ id_rsa.pubå†…å®¹åˆ°Github;</span><br><span class="line">$ git config --global user.name â€œyour_usernameâ€  &#x2F;&#x2F;è®¾ç½®ç”¨æˆ·å</span><br><span class="line">$ git config --global user.email â€œyour_registered_github_Emailâ€  &#x2F;&#x2F;è®¾ç½®é‚®ç®±åœ°å€(å»ºè®®ç”¨æ³¨å†Œgiuhubçš„é‚®ç®±)</span><br><span class="line">$ ssh -T git@github.com &#x2F;&#x2F;æµ‹è¯•ssh keyæ˜¯å¦è®¾ç½®æˆåŠŸ</span><br><span class="line">ï¼ˆäºŒï¼‰å®‰è£… Node.jsï¼›Gitï¼›Hexoï¼›</span><br><span class="line">$ git clone -b hexo git@github.com:user&#x2F;user.github.io.git  &#x2F;&#x2F;å°†Githubä¸­hexoåˆ†æ”¯cloneåˆ°æœ¬åœ°</span><br><span class="line">$ cd user.github.io &#x2F;&#x2F;åˆ‡æ¢åˆ°hexoç›®å½•ä¸‹</span><br><span class="line">$ npm install hexo</span><br><span class="line">$ npm install </span><br><span class="line">$ npm install hexo *** &#x2F;&#x2F;å®‰è£…éœ€è¦çš„æ’ä»¶ï¼šfeed;deployer;abbrlink;sitemap;pdf;nofollow;baidu-url-submitç­‰</span><br><span class="line">$ hexo g -d &#x2F;&#x2F;æµ‹è¯•èƒ½å¦æ­£å¸¸ç¼–è¯‘ä¸Šä¼ </span><br></pre></td></tr></table></figure>

<h4 id="3-åšä¸»å®‰è£…çš„æ’ä»¶ï¼š"><a href="#3-åšä¸»å®‰è£…çš„æ’ä»¶ï¼š" class="headerlink" title="3. åšä¸»å®‰è£…çš„æ’ä»¶ï¼š"></a>3. åšä¸»å®‰è£…çš„æ’ä»¶ï¼š</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hexo-abbrlink &#x2F;&#x2F; Hexo é“¾æ¥ä¼˜åŒ–</span><br><span class="line">hexo-baidu-url-submit &#x2F;&#x2F; ç™¾åº¦é“¾æ¥ä¸»åŠ¨æäº¤</span><br><span class="line">hexo-blog-encrypt &#x2F;&#x2F; åšå®¢æ–‡ç« åŠ å¯†</span><br><span class="line">hexo-autonofollow &#x2F;&#x2F; å‡ºç«™é“¾æ¥ä¼˜åŒ–</span><br><span class="line">hexo-deployer-git &#x2F;&#x2F; ä¸Šä¼ éƒ¨ç½²</span><br><span class="line">hexo-generator-baidu-sitemap &#x2F;&#x2F;ç™¾åº¦ç«™ç‚¹åœ°å›¾</span><br><span class="line">hexo-generator-feed &#x2F;&#x2F; RSS æ’ä»¶</span><br><span class="line">hexo-generator-searchdb &#x2F;&#x2F; ç«™å†…æœç´¢</span><br><span class="line">hexo-generator-sitemap &#x2F;&#x2F; ç«™ç‚¹åœ°å›¾</span><br><span class="line">hexo-neat &#x2F;&#x2F; åšå®¢å‹ç¼©</span><br><span class="line">hexo-pdf &#x2F;&#x2F; åšå®¢æ–‡ç«  PDF æ˜¾ç¤º</span><br><span class="line">hexo-wordcount &#x2F;&#x2F; è®¡æ•°æ’ä»¶</span><br><span class="line">hexo-lazyload-image &#x2F;&#x2F;å›¾ç‰‡æ‡’åŠ è½½</span><br></pre></td></tr></table></figure>

<p>å‚è€ƒæ–‡æ¡£ï¼š<a href="https://www.jianshu.com/p/51617690f8ca" target="_blank" rel="noopener">hexoæ­å»º</a></p>
<p>â€‹           <a href="https://www.jianshu.com/p/74673c8bbc12" target="_blank" rel="noopener">hexoå…¶ä»–</a></p>
]]></content>
      <categories>
        <category>mysoft</category>
        <category>hexo</category>
      </categories>
      <tags>
        <tag>soft</tag>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>hexoTheme</title>
    <url>/2020/07/15/hexoTheme/</url>
    <content><![CDATA[<h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><p>åœ¨ Hexo ä¸­æœ‰ä¸¤ä»½ä¸»è¦çš„é…ç½®æ–‡ä»¶ï¼Œå…¶åç§°éƒ½æ˜¯ _config.ymlã€‚ å…¶ä¸­ï¼Œä¸€ä»½ä½äºç«™ç‚¹æ ¹ç›®å½•ä¸‹ï¼Œä¸»è¦åŒ…å« Hexo æœ¬èº«çš„é…ç½®ï¼›</p>
<p>å¦ä¸€ä»½ä½äºä¸»é¢˜ç›®å½•ä¸‹ï¼Œè¿™ä»½é…ç½®ç”±ä¸»é¢˜ä½œè€…æä¾›ï¼Œä¸»è¦ç”¨äºé…ç½®ä¸»é¢˜ç›¸å…³çš„é€‰é¡¹ã€‚<br>ä¸ºäº†æè¿°æ–¹ä¾¿ï¼Œåœ¨ä»¥ä¸‹è¯´æ˜ä¸­ï¼Œå°†å‰è€…ç§°ä¸º<strong>ç«™ç‚¹é…ç½®æ–‡ä»¶</strong>ï¼Œ åè€…ç§°ä¸º<strong>ä¸»é¢˜é…ç½®æ–‡ä»¶</strong>ã€‚</p>
<p>å¤‡æ³¨: ä»¥ä¸‹æ‰€æœ‰ç»ˆç«¯æ‰§è¡Œçš„å‘½ä»¤éƒ½åœ¨ä½ çš„Hexoæ ¹ç›®å½•ä¸‹</p>
<h4 id="1ã€åŸºæœ¬ä¿¡æ¯é…ç½®"><a href="#1ã€åŸºæœ¬ä¿¡æ¯é…ç½®" class="headerlink" title="1ã€åŸºæœ¬ä¿¡æ¯é…ç½®"></a>1ã€åŸºæœ¬ä¿¡æ¯é…ç½®</h4><p>æ‰“å¼€ <strong>ç«™ç‚¹é…ç½®æ–‡ä»¶</strong> ï¼Œæ‰¾åˆ°Siteæ¨¡å—</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">title: æ ‡é¢˜</span><br><span class="line">subtitle: å‰¯æ ‡é¢˜</span><br><span class="line">description: æè¿°</span><br><span class="line">author: ä½œè€…</span><br><span class="line">language: è¯­è¨€ï¼ˆç®€ä½“ä¸­æ–‡æ˜¯zh-Hansï¼‰</span><br><span class="line">timezone: ç½‘ç«™æ—¶åŒºï¼ˆHexo é»˜è®¤ä½¿ç”¨æ‚¨ç”µè„‘çš„æ—¶åŒºï¼Œä¸ç”¨å†™ï¼‰</span><br></pre></td></tr></table></figure>

<hr>
<a id="more"></a>

<h4 id="2ã€èœå•è®¾ç½®"><a href="#2ã€èœå•è®¾ç½®" class="headerlink" title="2ã€èœå•è®¾ç½®"></a>2ã€èœå•è®¾ç½®</h4><p>æˆ‘ä»¬åˆšå¼€å§‹é»˜è®¤çš„èœå•åªæœ‰é¦–é¡µå’Œå½’æ¡£ä¸¤ä¸ªï¼Œä¸èƒ½å¤Ÿæ»¡è¶³æˆ‘ä»¬çš„è¦æ±‚ï¼Œæ‰€ä»¥éœ€è¦æ·»åŠ èœå•ï¼Œæ‰“å¼€ <strong>ä¸»é¢˜é…ç½®æ–‡ä»¶</strong> æ‰¾åˆ°<code>Menu Settings</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">menu:</span><br><span class="line">  home: &#x2F; || home                          &#x2F;&#x2F;é¦–é¡µ</span><br><span class="line">  archives: &#x2F;archives&#x2F; || archive          &#x2F;&#x2F;å½’æ¡£</span><br><span class="line">  categories: &#x2F;categories&#x2F; || th           &#x2F;&#x2F;åˆ†ç±»</span><br><span class="line">  tags: &#x2F;tags&#x2F; || tags                     &#x2F;&#x2F;æ ‡ç­¾</span><br><span class="line">  about: &#x2F;about&#x2F; || user                   &#x2F;&#x2F;å…³äº</span><br><span class="line">  #schedule: &#x2F;schedule&#x2F; || calendar        &#x2F;&#x2F;æ—¥ç¨‹è¡¨</span><br><span class="line">  #sitemap: &#x2F;sitemap.xml || sitemap        &#x2F;&#x2F;ç«™ç‚¹åœ°å›¾</span><br><span class="line">  #commonweal: &#x2F;404&#x2F; || heartbeat          &#x2F;&#x2F;å…¬ç›Š404</span><br></pre></td></tr></table></figure>

<p>å¤‡æ³¨ï¼šçœ‹çœ‹ä½ éœ€è¦å“ªä¸ªèœå•å°±æŠŠå“ªä¸ªå–æ¶ˆæ³¨é‡Šæ‰“å¼€å°±è¡Œäº†ï¼›</p>
<p>å…³äºåé¢çš„æ ¼å¼ï¼Œä»¥<code>archives: /archives/ || archive</code>ä¸ºä¾‹ï¼š</p>
<p><code>||</code> ä¹‹å‰çš„<code>/archives/</code>è¡¨ç¤ºæ ‡é¢˜â€œå½’æ¡£â€ï¼Œå…³äºæ ‡é¢˜çš„æ ¼å¼å¯ä»¥å»<code>themes/next/languages/zh-Hans.yml</code>ä¸­å‚è€ƒæˆ–ä¿®æ”¹</p>
<p><code>||</code>ä¹‹åçš„<code>archive</code>è¡¨ç¤ºå›¾æ ‡ï¼Œå¯ä»¥å»<a href="https://links.jianshu.com/go?to=http%3A%2F%2Ffontawesome.io%2Ficons%2F" target="_blank" rel="noopener">Font Awesome</a>ä¸­æŸ¥çœ‹æˆ–ä¿®æ”¹ï¼ŒNextä¸»é¢˜æ‰€æœ‰çš„å›¾æ ‡éƒ½æ¥è‡ªFont Awesomeã€‚</p>
<hr>
<h4 id="3ã€Nextä¸»é¢˜æ ·å¼è®¾ç½®"><a href="#3ã€Nextä¸»é¢˜æ ·å¼è®¾ç½®" class="headerlink" title="3ã€Nextä¸»é¢˜æ ·å¼è®¾ç½®"></a>3ã€Nextä¸»é¢˜æ ·å¼è®¾ç½®</h4><p>æˆ‘ä»¬ç™¾é‡ŒæŒ‘ä¸€é€‰æ‹©äº†Nextä¸»é¢˜ï¼Œä¸è¿‡Nextä¸»é¢˜è¿˜æœ‰4ç§é£æ ¼ä¾›æˆ‘ä»¬é€‰æ‹©ï¼Œæ‰“å¼€ <strong>ä¸»é¢˜é…ç½®æ–‡ä»¶</strong> æ‰¾åˆ°<code>Scheme Settings</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># Schemes</span><br><span class="line"># scheme: Muse</span><br><span class="line"># scheme: Mist</span><br><span class="line"># scheme: Pisces</span><br><span class="line">scheme: Gemini</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="4ã€ä¾§æ è®¾ç½®"><a href="#4ã€ä¾§æ è®¾ç½®" class="headerlink" title="4ã€ä¾§æ è®¾ç½®"></a>4ã€ä¾§æ è®¾ç½®</h4><p>æ‰“å¼€ <strong>ä¸»é¢˜é…ç½®æ–‡ä»¶</strong> æ‰¾åˆ°<code>sidebar</code>å­—æ®µ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sidebar:</span><br><span class="line"># Sidebar Position - ä¾§æ ä½ç½®ï¼ˆåªå¯¹Pisces | Geminiä¸¤ç§é£æ ¼æœ‰æ•ˆï¼‰</span><br><span class="line">  position: left        &#x2F;&#x2F;é å·¦æ”¾ç½®</span><br><span class="line">  #position: right      &#x2F;&#x2F;é å³æ”¾ç½®</span><br><span class="line"># Sidebar Display - ä¾§æ æ˜¾ç¤ºæ—¶æœºï¼ˆåªå¯¹Muse | Mistä¸¤ç§é£æ ¼æœ‰æ•ˆï¼‰</span><br><span class="line">  #display: post        &#x2F;&#x2F;é»˜è®¤è¡Œä¸ºï¼Œåœ¨æ–‡ç« é¡µé¢ï¼ˆæ‹¥æœ‰ç›®å½•åˆ—è¡¨ï¼‰æ—¶æ˜¾ç¤º</span><br><span class="line">  display: always       &#x2F;&#x2F;åœ¨æ‰€æœ‰é¡µé¢ä¸­éƒ½æ˜¾ç¤º</span><br><span class="line">  #display: hide        &#x2F;&#x2F;åœ¨æ‰€æœ‰é¡µé¢ä¸­éƒ½éšè—ï¼ˆå¯ä»¥æ‰‹åŠ¨å±•å¼€ï¼‰</span><br><span class="line">  #display: remove      &#x2F;&#x2F;å®Œå…¨ç§»é™¤</span><br><span class="line">  offset: 12            &#x2F;&#x2F;æ–‡ç« é—´è·ï¼ˆåªå¯¹Pisces | Geminiä¸¤ç§é£æ ¼æœ‰æ•ˆï¼‰</span><br><span class="line">  b2t: false            &#x2F;&#x2F;è¿”å›é¡¶éƒ¨æŒ‰é’®ï¼ˆåªå¯¹Pisces | Geminiä¸¤ç§é£æ ¼æœ‰æ•ˆï¼‰</span><br><span class="line">  scrollpercent: true   &#x2F;&#x2F;è¿”å›é¡¶éƒ¨æŒ‰é’®çš„ç™¾åˆ†æ¯”</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="5ã€å¤´åƒè®¾ç½®"><a href="#5ã€å¤´åƒè®¾ç½®" class="headerlink" title="5ã€å¤´åƒè®¾ç½®"></a>5ã€å¤´åƒè®¾ç½®</h4><p>æ‰“å¼€ <strong>ä¸»é¢˜é…ç½®æ–‡ä»¶</strong> æ‰¾åˆ°<code>Sidebar Avatar</code>å­—æ®µ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># Sidebar Avatar</span><br><span class="line">avatar: &#x2F;images&#x2F;header.jpg</span><br></pre></td></tr></table></figure>

<p>è¿™æ˜¯å¤´åƒçš„è·¯å¾„ï¼Œåªéœ€æŠŠä½ çš„å¤´åƒå‘½åä¸º<code>header.jpg</code>ï¼ˆéšä¾¿å‘½åï¼‰æ”¾å…¥<code>themes/next/source/images</code>ä¸­ï¼Œå°†<code>avatar</code>çš„è·¯å¾„åæ”¹æˆä½ çš„å¤´åƒåå°±OKå•¦ï¼</p>
<hr>
<h4 id="6ã€è®¾ç½®RSS"><a href="#6ã€è®¾ç½®RSS" class="headerlink" title="6ã€è®¾ç½®RSS"></a>6ã€è®¾ç½®RSS</h4><p>1ã€å…ˆå®‰è£… <a href="https://links.jianshu.com/go?to=https%3A%2F%2Fgithub.com%2Fhexojs%2Fhexo-generator-feed" target="_blank" rel="noopener">hexo-generator-feed</a> æ’ä»¶</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ npm install hexo-generator-feed --save</span><br></pre></td></tr></table></figure>

<p>2ã€æ‰“å¼€ <strong>ç«™ç‚¹é…ç½®æ–‡ä»¶</strong> æ‰¾åˆ°<code>Extensions</code>åœ¨ä¸‹é¢æ·»åŠ </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># RSSè®¢é˜…</span><br><span class="line">feed:</span><br><span class="line">  type: atom</span><br><span class="line">  path: atom.xml</span><br><span class="line">  limit: 20</span><br><span class="line">  hub:</span><br><span class="line">  content:</span><br><span class="line">  content_limit: 140</span><br><span class="line">  content_limit_delim: &#39; &#39;</span><br></pre></td></tr></table></figure>

<p>3ã€æ‰“å¼€ <strong>ä¸»é¢˜é…ç½®æ–‡ä»¶</strong> æ‰¾åˆ°<code>rss</code>ï¼Œè®¾ç½®ä¸º</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">rss: &#x2F;atom.xml</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="7ã€æ·»åŠ åˆ†ç±»æ¨¡å—"><a href="#7ã€æ·»åŠ åˆ†ç±»æ¨¡å—" class="headerlink" title="7ã€æ·»åŠ åˆ†ç±»æ¨¡å—"></a>7ã€æ·»åŠ åˆ†ç±»æ¨¡å—</h4><p>1ã€æ–°å»ºä¸€ä¸ªåˆ†ç±»é¡µé¢</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ hexo new page categories</span><br></pre></td></tr></table></figure>

<p>2ã€ä½ ä¼šå‘ç°ä½ çš„<code>source</code>æ–‡ä»¶å¤¹ä¸‹æœ‰äº†<code>categorcies/index.md</code>ï¼Œæ‰“å¼€<code>index.md</code>æ–‡ä»¶å°†titleè®¾ç½®ä¸º<code>title: åˆ†ç±»</code><br>3ã€æ‰“å¼€ <strong>ä¸»é¢˜é…ç½®æ–‡ä»¶</strong> æ‰¾åˆ°<code>menu</code>ï¼Œå°†categorcieså–æ¶ˆæ³¨é‡Š<br>4ã€æŠŠæ–‡ç« å½’å…¥åˆ†ç±»åªéœ€åœ¨æ–‡ç« çš„é¡¶éƒ¨æ ‡é¢˜ä¸‹æ–¹æ·»åŠ <code>categories</code>å­—æ®µï¼Œå³å¯è‡ªåŠ¨åˆ›å»ºåˆ†ç±»åå¹¶åŠ å…¥å¯¹åº”çš„åˆ†ç±»ä¸­<br>ä¸¾ä¸ªæ —å­ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">title: åˆ†ç±»æµ‹è¯•æ–‡ç« æ ‡é¢˜</span><br><span class="line">categories: åˆ†ç±»å</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="8ã€æ·»åŠ æ ‡ç­¾æ¨¡å—"><a href="#8ã€æ·»åŠ æ ‡ç­¾æ¨¡å—" class="headerlink" title="8ã€æ·»åŠ æ ‡ç­¾æ¨¡å—"></a>8ã€æ·»åŠ æ ‡ç­¾æ¨¡å—</h4><p>1ã€æ–°å»ºä¸€ä¸ªæ ‡ç­¾é¡µé¢</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ hexo new page tags</span><br></pre></td></tr></table></figure>

<p>2ã€ä½ ä¼šå‘ç°ä½ çš„<code>source</code>æ–‡ä»¶å¤¹ä¸‹æœ‰äº†<code>tags/index.md</code>ï¼Œæ‰“å¼€<code>index.md</code>æ–‡ä»¶å°†titleè®¾ç½®ä¸º<code>title: æ ‡ç­¾</code><br>3ã€æ‰“å¼€ <strong>ä¸»é¢˜é…ç½®æ–‡ä»¶</strong> æ‰¾åˆ°<code>menu</code>ï¼Œå°†tagså–æ¶ˆæ³¨é‡Š<br>4ã€æŠŠæ–‡ç« æ·»åŠ æ ‡ç­¾åªéœ€åœ¨æ–‡ç« çš„é¡¶éƒ¨æ ‡é¢˜ä¸‹æ–¹æ·»åŠ <code>tags</code>å­—æ®µï¼Œå³å¯è‡ªåŠ¨åˆ›å»ºæ ‡ç­¾åå¹¶å½’å…¥å¯¹åº”çš„æ ‡ç­¾ä¸­<br>ä¸¾ä¸ªæ —å­ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">title: æ ‡ç­¾æµ‹è¯•æ–‡ç« æ ‡é¢˜</span><br><span class="line">tags: </span><br><span class="line">  - æ ‡ç­¾1</span><br><span class="line">  - æ ‡ç­¾2</span><br><span class="line">  ...</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="9ã€æ·»åŠ å…³äºæ¨¡å—"><a href="#9ã€æ·»åŠ å…³äºæ¨¡å—" class="headerlink" title="9ã€æ·»åŠ å…³äºæ¨¡å—"></a>9ã€æ·»åŠ å…³äºæ¨¡å—</h4><p>1ã€æ–°å»ºä¸€ä¸ªå…³äºé¡µé¢</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ hexo new page about</span><br></pre></td></tr></table></figure>

<p>2ã€ä½ ä¼šå‘ç°ä½ çš„<code>source</code>æ–‡ä»¶å¤¹ä¸‹æœ‰äº†<code>about/index.md</code>ï¼Œæ‰“å¼€<code>index.md</code>æ–‡ä»¶å³å¯ç¼–è¾‘å…³äºä½ çš„ä¿¡æ¯ï¼Œå¯ä»¥éšä¾¿ç¼–è¾‘ã€‚<br>3ã€æ‰“å¼€ <strong>ä¸»é¢˜é…ç½®æ–‡ä»¶</strong> æ‰¾åˆ°<code>menu</code>ï¼Œå°†aboutå–æ¶ˆæ³¨é‡Š</p>
<hr>
<h4 id="10ã€æ·»åŠ æœç´¢åŠŸèƒ½"><a href="#10ã€æ·»åŠ æœç´¢åŠŸèƒ½" class="headerlink" title="10ã€æ·»åŠ æœç´¢åŠŸèƒ½"></a>10ã€æ·»åŠ æœç´¢åŠŸèƒ½</h4><p>1ã€å®‰è£… <a href="https://links.jianshu.com/go?to=https%3A%2F%2Fgithub.com%2Fflashlab%2Fhexo-generator-search" target="_blank" rel="noopener">hexo-generator-searchdb</a> æ’ä»¶</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ npm install hexo-generator-searchdb --save</span><br></pre></td></tr></table></figure>

<p>2ã€æ‰“å¼€ <strong>ç«™ç‚¹é…ç½®æ–‡ä»¶</strong> æ‰¾åˆ°<code>Extensions</code>åœ¨ä¸‹é¢æ·»åŠ </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># æœç´¢</span><br><span class="line">search:</span><br><span class="line">  path: search.xml</span><br><span class="line">  field: post</span><br><span class="line">  format: html</span><br><span class="line">  limit: 10000</span><br></pre></td></tr></table></figure>

<p>3ã€æ‰“å¼€ <strong>ä¸»é¢˜é…ç½®æ–‡ä»¶</strong> æ‰¾åˆ°<code>Local search</code>ï¼Œå°†<code>enable</code>è®¾ç½®ä¸º<code>true</code></p>
<hr>
<h4 id="11ã€æ·»åŠ é˜…è¯»å…¨æ–‡æŒ‰é’®"><a href="#11ã€æ·»åŠ é˜…è¯»å…¨æ–‡æŒ‰é’®" class="headerlink" title="11ã€æ·»åŠ é˜…è¯»å…¨æ–‡æŒ‰é’®"></a>11ã€æ·»åŠ é˜…è¯»å…¨æ–‡æŒ‰é’®</h4><p>å› ä¸ºåœ¨ä½ çš„åšå®¢ä¸»é¡µä¼šæœ‰å¤šç¯‡æ–‡ç« ï¼Œå¦‚æœä½ æƒ³è®©ä½ çš„æ–‡ç« åªæ˜¾ç¤ºä¸€éƒ¨åˆ†ï¼Œå¤šä½™çš„å¯ä»¥ç‚¹å‡»é˜…è¯»å…¨æ–‡æ¥æŸ¥çœ‹ï¼Œé‚£ä¹ˆä½ éœ€è¦åœ¨ä½ çš„æ–‡ç« ä¸­æ·»åŠ </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;!--more--&gt;</span><br></pre></td></tr></table></figure>

<p>å…¶åé¢çš„éƒ¨åˆ†å°±ä¸ä¼šæ˜¾ç¤ºäº†ï¼Œåªèƒ½ç‚¹å‡»é˜…è¯»å…¨æ–‡æ‰èƒ½çœ‹</p>
<hr>
<h4 id="12ã€ä¿®æ”¹æ–‡ç« å†…é“¾æ¥æ–‡æœ¬æ ·å¼"><a href="#12ã€ä¿®æ”¹æ–‡ç« å†…é“¾æ¥æ–‡æœ¬æ ·å¼" class="headerlink" title="12ã€ä¿®æ”¹æ–‡ç« å†…é“¾æ¥æ–‡æœ¬æ ·å¼"></a>12ã€ä¿®æ”¹æ–‡ç« å†…é“¾æ¥æ–‡æœ¬æ ·å¼</h4><p><img src="http://upload-images.jianshu.io/upload_images/4120931-9cd87c2cc2d0c78f.gif?imageMogr2/auto-orient/strip%7CimageView2/2/w/360/format/webp" alt="img"></p>
<p>æ•ˆæœå›¾</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">themes&#x2F;next&#x2F;source&#x2F;css&#x2F;_common&#x2F;components&#x2F;post&#x2F;post.styl</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">.post-body p a &#123;</span><br><span class="line">  color: #0593d3;</span><br><span class="line">  border-bottom: none;</span><br><span class="line">  border-bottom: 1px solid #0593d3;</span><br><span class="line">  &amp;:hover &#123;</span><br><span class="line">    color: #fc6423;</span><br><span class="line">    border-bottom: none;</span><br><span class="line">    border-bottom: 1px solid #fc6423;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å…¶ä¸­é€‰æ‹© .post-body æ˜¯ä¸ºäº†ä¸å½±å“æ ‡é¢˜ï¼Œé€‰æ‹© p æ˜¯ä¸ºäº†ä¸å½±å“é¦–é¡µâ€œé˜…è¯»å…¨æ–‡â€çš„æ˜¾ç¤ºæ ·å¼,é¢œè‰²å¯ä»¥è‡ªå·±å®šä¹‰ã€‚</p>
<hr>
<h4 id="13ã€è®¾ç½®ç½‘ç«™ç¼©ç•¥å›¾æ ‡"><a href="#13ã€è®¾ç½®ç½‘ç«™ç¼©ç•¥å›¾æ ‡" class="headerlink" title="13ã€è®¾ç½®ç½‘ç«™ç¼©ç•¥å›¾æ ‡"></a>13ã€è®¾ç½®ç½‘ç«™ç¼©ç•¥å›¾æ ‡</h4><blockquote>
<p>ä»ç½‘ä¸Šçœ‹äº†å¾ˆå¤šè®¾ç½®æ–¹æ³•éƒ½æ˜¯è¯´æŠŠfavicon.icoæ”¾åˆ°ç«™ç‚¹ç›®å½•çš„sourceç›®å½•ä¸‹å°±å¯ä»¥äº†ï¼Œå¯æ˜¯æˆ‘è¯•äº†å¥½å¤šéï¼Œå¹¶ä¸è¡Œã€‚</p>
</blockquote>
<p>æˆ‘çš„è®¾ç½®æ–¹æ³•æ˜¯è¿™æ ·çš„ï¼šæŠŠä½ çš„å›¾ç‰‡ï¼ˆpngæˆ–jpgæ ¼å¼ï¼Œä¸æ˜¯favicon.icoï¼‰æ”¾åœ¨<code>themes/next/source/images</code>é‡Œï¼Œç„¶åæ‰“å¼€ <strong>ä¸»é¢˜é…ç½®æ–‡ä»¶</strong> æ‰¾åˆ°<code>favicon</code>ï¼Œå°†<code>smallã€mediumã€apple_touch_icon</code>ä¸‰ä¸ªå­—æ®µçš„å€¼éƒ½è®¾ç½®æˆ<code>/images/å›¾ç‰‡å.jpg</code>å°±å¯ä»¥äº†ï¼Œå…¶ä»–å­—æ®µéƒ½æ³¨é‡Šæ‰ã€‚</p>
<p><img src="http://upload-images.jianshu.io/upload_images/4120931-61a0cc555a25548e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/344/format/webp" alt="img"></p>
<hr>
<h4 id="14ã€è®¾ç½®æ–‡ç« å­—ä½“çš„é¢œè‰²ã€å¤§å°"><a href="#14ã€è®¾ç½®æ–‡ç« å­—ä½“çš„é¢œè‰²ã€å¤§å°" class="headerlink" title="14ã€è®¾ç½®æ–‡ç« å­—ä½“çš„é¢œè‰²ã€å¤§å°"></a>14ã€è®¾ç½®æ–‡ç« å­—ä½“çš„é¢œè‰²ã€å¤§å°</h4><p><img src="http://upload-images.jianshu.io/upload_images/4120931-e471abbb2b1f459f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/477/format/webp" alt="img"></p>
<p>æ•ˆæœå›¾</p>
<p>å¦‚æœæƒ³è®¾ç½®æŸä¸€å¥çš„é¢œè‰²æˆ–å¤§å°ï¼Œåªéœ€ç”¨htmlè¯­æ³•å†™å‡ºæ¥å°±è¡Œäº†</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">æ¥ä¸‹æ¥å°±æ˜¯è§è¯å¥‡è¿¹çš„æ—¶åˆ»</span><br><span class="line">&lt;font color&#x3D;&quot;#FF0000&quot;&gt; æˆ‘å¯ä»¥è®¾ç½®è¿™ä¸€å¥çš„é¢œè‰²å“ˆå“ˆ &lt;&#x2F;font&gt; </span><br><span class="line">&lt;font size&#x3D;6&gt; æˆ‘è¿˜å¯ä»¥è®¾ç½®è¿™ä¸€å¥çš„å¤§å°å˜»å˜» &lt;&#x2F;font&gt; </span><br><span class="line">&lt;font size&#x3D;5 color&#x3D;&quot;#FF0000&quot;&gt; æˆ‘ç”šè‡³å¯ä»¥è®¾ç½®è¿™ä¸€å¥çš„é¢œè‰²å’Œå¤§å°å‘µå‘µ&lt;&#x2F;font&gt;</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="15ã€è®¾ç½®æ–‡å­—å±…ä¸­"><a href="#15ã€è®¾ç½®æ–‡å­—å±…ä¸­" class="headerlink" title="15ã€è®¾ç½®æ–‡å­—å±…ä¸­"></a>15ã€è®¾ç½®æ–‡å­—å±…ä¸­</h4><p>è®¾ç½®æ–¹æ³•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;center&gt;è¿™ä¸€è¡Œéœ€è¦å±…ä¸­&lt;&#x2F;center&gt;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>æ³¨æ„ï¼šç®€ä¹¦ä¸­æ­¤æ–¹æ³•æ— æ•ˆ</p>
</blockquote>
<hr>
<h4 id="16ã€æ·»åŠ è¯„è®ºç³»ç»Ÿ"><a href="#16ã€æ·»åŠ è¯„è®ºç³»ç»Ÿ" class="headerlink" title="16ã€æ·»åŠ è¯„è®ºç³»ç»Ÿ"></a>16ã€æ·»åŠ è¯„è®ºç³»ç»Ÿ</h4>]]></content>
      <categories>
        <category>mysoft</category>
        <category>hexo</category>
      </categories>
      <tags>
        <tag>soft</tag>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>hexoå›¾ç‰‡çš„é‚£äº›äº‹</title>
    <url>/2020/09/08/hexo%E5%9B%BE%E7%89%87%E7%9A%84%E9%82%A3%E4%BA%9B%E4%BA%8B/</url>
    <content><![CDATA[<h3 id="æˆªå›¾å›¾ç‰‡ä¿å­˜"><a href="#æˆªå›¾å›¾ç‰‡ä¿å­˜" class="headerlink" title="æˆªå›¾å›¾ç‰‡ä¿å­˜"></a>æˆªå›¾å›¾ç‰‡ä¿å­˜</h3><p>1ã€å›¾ç‰‡ä¼šè«åçš„ä¸¢å¤±ï¼ˆæ–‡ä»¶çš„ä½ç½®å˜äº†æˆ–è€…å›¾ç‰‡ä¸è§äº†ï¼‰</p>
<p>2ã€åœ¨ä½¿ç”¨QQæˆ–è€…å„ç§æˆªå›¾å·¥å…·ï¼Œéœ€è¦å…ˆä¿å­˜åˆ°æœ¬åœ°ï¼Œç„¶ååœ¨ç²˜è´´è¿‡æ¥(æˆªå›¾å·¥å…·é»˜è®¤å›¾ç‰‡æ˜¯ä¿å­˜åœ¨ç¼“å­˜é‡Œçš„)</p>
<p>  ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä¸Šç½‘æ‰¾äº†å¾ˆå¤šæ–¹æ³•ï¼Œä¸ªäººæ¯”è¾ƒå–œæ¬¢çš„ä¸€ç§è§£å†³æ–¹å¼ï¼Œç°è®°å½•ä¸‹æ¥ï¼Œä¸€æ¥åšä¸ªè®°å½•ï¼›äºŒæ¥å¸Œæœ›èƒ½å¤Ÿå¸®åŠ©å’Œæˆ‘ä¸€æ ·ç¢°åˆ°è¿™ä¸ªé—®é¢˜çš„æœ‹å‹ã€‚</p>
<a id="more"></a>

<ul>
<li>ç¬¬ä¸€æ­¥ï¼šæ–‡ä»¶â€”&gt;åå¥½è®¾ç½®ï¼ˆpreferenceï¼‰<br><img src="https://img-blog.csdnimg.cn/20200419191321606.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTM0Mjg0MQ==,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></li>
<li>ç¬¬äºŒæ­¥ï¼š</li>
</ul>
<p><img src="https://img-blog.csdnimg.cn/20200419191338972.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTM0Mjg0MQ==,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<p> ç»è¿‡ä¸Šé¢è®¾ç½®ä»¥åï¼š</p>
<p>1ã€æ–‡æ¡£ä¸­å›¾ç‰‡çš„åœ°å€ï¼šä½¿ç”¨ç›¸å¯¹è·¯å¾„</p>
<p>2ã€åœ¨ç²˜è´´å›¾ç‰‡çš„æ—¶å€™ï¼Œä¼šè‡ªåŠ¨åœ¨æ–‡æ¡£çš„å½“å‰ç›®å½•ä¸‹ç”Ÿæˆä¸€ä¸ªâ€œæ–‡ä»¶å.assetsâ€æ–‡ä»¶å¤¹ï¼Œé‡Œé¢ä¼šå¤åˆ¶ä¸€ä»½è¦ç²˜è´´çš„å›¾ç‰‡</p>
<p>3ã€åœ¨ç§»åŠ¨æˆ–å¤åˆ¶æ–‡ä»¶çš„æ—¶å€™ï¼Œè¿åŒassetsä¸€èµ·å¤åˆ¶ï¼Œè¿™æ ·å°±ä¸ä¼šå‡ºç°å›¾ç‰‡æ˜¾ç°ä¸å‡ºæ¥çš„é—®é¢˜ã€‚</p>
<h4 id="ä¸‹è½½æ’ä»¶ï¼ˆæ ¹æ®mdå›¾ç‰‡çš„ç›¸å¯¹è·¯å¾„ï¼Œç»™å‡ºhtmlä¸­å›¾ç‰‡çš„ç»å¯¹è·¯å¾„ã€‚ï¼‰"><a href="#ä¸‹è½½æ’ä»¶ï¼ˆæ ¹æ®mdå›¾ç‰‡çš„ç›¸å¯¹è·¯å¾„ï¼Œç»™å‡ºhtmlä¸­å›¾ç‰‡çš„ç»å¯¹è·¯å¾„ã€‚ï¼‰" class="headerlink" title="ä¸‹è½½æ’ä»¶ï¼ˆæ ¹æ®mdå›¾ç‰‡çš„ç›¸å¯¹è·¯å¾„ï¼Œç»™å‡ºhtmlä¸­å›¾ç‰‡çš„ç»å¯¹è·¯å¾„ã€‚ï¼‰"></a>ä¸‹è½½æ’ä»¶ï¼ˆæ ¹æ®mdå›¾ç‰‡çš„ç›¸å¯¹è·¯å¾„ï¼Œç»™å‡ºhtmlä¸­å›¾ç‰‡çš„ç»å¯¹è·¯å¾„ã€‚ï¼‰</h4><figure class="highlight c"><table><tr><td class="code"><pre><span class="line">npm install https:<span class="comment">//github.com/CodeFalling/hexo-asset-image --save</span></span><br></pre></td></tr></table></figure>

<p>æ³¨æ„ï¼šå›¾ç‰‡è·¯å¾„éœ€å»æ‰æ–‡ä»¶å¤¹çš„åå­—ï¼Œåªéœ€è¦æ–‡ä»¶å.png</p>
<p><img src="/2020/09/08/hexo%E5%9B%BE%E7%89%87%E7%9A%84%E9%82%A3%E4%BA%9B%E4%BA%8B/image-20210326154205261.png" alt="image-20210326154205261"></p>
<p><img src="/2020/09/08/hexo%E5%9B%BE%E7%89%87%E7%9A%84%E9%82%A3%E4%BA%9B%E4%BA%8B/image-20210326154405220.png" alt="image-20210326154405220"></p>
<h3 id="å›¾ç‰‡è½¬æˆhttps"><a href="#å›¾ç‰‡è½¬æˆhttps" class="headerlink" title="å›¾ç‰‡è½¬æˆhttps"></a>å›¾ç‰‡è½¬æˆhttps</h3><p>åœ¨çº¿ç”Ÿæˆå›¾ç‰‡è·¯å¾„</p>
<p><a href="https://sm.ms/" target="_blank" rel="noopener">https://sm.ms/</a></p>
<h3 id="æ–‡ç« æ·»åŠ è§†é¢‘å’Œ-gif"><a href="#æ–‡ç« æ·»åŠ è§†é¢‘å’Œ-gif" class="headerlink" title="æ–‡ç« æ·»åŠ è§†é¢‘å’Œ gif"></a>æ–‡ç« æ·»åŠ è§†é¢‘å’Œ gif</h3><p>æ·»åŠ è§†é¢‘ä»£ç :(é•¿å®½å¯ä»¥è‡ªå·±å®šä¹‰)</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">iframe</span> <span class="attr">height</span>=<span class="string">100</span> <span class="attr">width</span>=<span class="string">100</span> <span class="attr">src</span>=<span class="string">"è§†é¢‘åœ°å€"</span>&gt;</span></span><br></pre></td></tr></table></figure>



<p>æ·»åŠ  gif ä»£ç :(é•¿å®½å¯ä»¥è‡ªå·±å®šä¹‰)</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">iframe</span> <span class="attr">height</span>=<span class="string">100</span> <span class="attr">width</span>=<span class="string">100</span> <span class="attr">src</span>=<span class="string">"gif å›¾ç‰‡åœ°å€"</span>&gt;</span></span><br></pre></td></tr></table></figure>



]]></content>
      <categories>
        <category>mysoft</category>
        <category>hexo</category>
      </categories>
      <tags>
        <tag>soft</tag>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>&#39;./icons/index&#39;</title>
    <url>/2021/03/01/icons-index/</url>
    <content><![CDATA[]]></content>
  </entry>
  <entry>
    <title>introduction</title>
    <url>/2020/07/09/introduction/</url>
    <content><![CDATA[<h6 id><a href="#" class="headerlink" title></a></h6><h5 id="ä¸€ä¸ªå…¥é—¨ä¸¤å¹´çš„å°å‰ç«¯ï¼Œæ—¥å¸¸æ€»ç»“å’Œæ„Ÿæ‚Ÿï¼Œç›®çš„å°±æ˜¯æ–¹ä¾¿è‡ªå·±ï¼Œæ–¹ä¾¿ä»–äººã€‚"><a href="#ä¸€ä¸ªå…¥é—¨ä¸¤å¹´çš„å°å‰ç«¯ï¼Œæ—¥å¸¸æ€»ç»“å’Œæ„Ÿæ‚Ÿï¼Œç›®çš„å°±æ˜¯æ–¹ä¾¿è‡ªå·±ï¼Œæ–¹ä¾¿ä»–äººã€‚" class="headerlink" title="ä¸€ä¸ªå…¥é—¨ä¸¤å¹´çš„å°å‰ç«¯ï¼Œæ—¥å¸¸æ€»ç»“å’Œæ„Ÿæ‚Ÿï¼Œç›®çš„å°±æ˜¯æ–¹ä¾¿è‡ªå·±ï¼Œæ–¹ä¾¿ä»–äººã€‚"></a>ä¸€ä¸ªå…¥é—¨ä¸¤å¹´çš„å°å‰ç«¯ï¼Œæ—¥å¸¸æ€»ç»“å’Œæ„Ÿæ‚Ÿï¼Œç›®çš„å°±æ˜¯æ–¹ä¾¿è‡ªå·±ï¼Œæ–¹ä¾¿ä»–äººã€‚</h5><h5 id="è¿™ä¸ªåšå®¢å°†ä¼šè®°å½•æˆ‘çš„å‰ç«¯ç”Ÿæ¶¯ä¸­ï¼Œä¸ç®¡æ˜¯é¸¡æ¯›è’œçš®ï¼Œè¿˜æ˜¯ä»¤äººå¤´ç§ƒçš„bugå’Œè‡ªå·±è®°ä¸ä½çš„çŸ¥è¯†ç‚¹å’Œæ–¹æ³•ã€‚"><a href="#è¿™ä¸ªåšå®¢å°†ä¼šè®°å½•æˆ‘çš„å‰ç«¯ç”Ÿæ¶¯ä¸­ï¼Œä¸ç®¡æ˜¯é¸¡æ¯›è’œçš®ï¼Œè¿˜æ˜¯ä»¤äººå¤´ç§ƒçš„bugå’Œè‡ªå·±è®°ä¸ä½çš„çŸ¥è¯†ç‚¹å’Œæ–¹æ³•ã€‚" class="headerlink" title="è¿™ä¸ªåšå®¢å°†ä¼šè®°å½•æˆ‘çš„å‰ç«¯ç”Ÿæ¶¯ä¸­ï¼Œä¸ç®¡æ˜¯é¸¡æ¯›è’œçš®ï¼Œè¿˜æ˜¯ä»¤äººå¤´ç§ƒçš„bugå’Œè‡ªå·±è®°ä¸ä½çš„çŸ¥è¯†ç‚¹å’Œæ–¹æ³•ã€‚"></a>è¿™ä¸ªåšå®¢å°†ä¼šè®°å½•æˆ‘çš„å‰ç«¯ç”Ÿæ¶¯ä¸­ï¼Œä¸ç®¡æ˜¯é¸¡æ¯›è’œçš®ï¼Œè¿˜æ˜¯ä»¤äººå¤´ç§ƒçš„bugå’Œè‡ªå·±è®°ä¸ä½çš„çŸ¥è¯†ç‚¹å’Œæ–¹æ³•ã€‚</h5><h5 id="åšä¸€è¡Œï¼Œçˆ±ä¸€è¡Œï¼Œèœé¸Ÿä¹Ÿä¼šæœ‰é£èµ·çš„é‚£å¤©ï¼ŒåŠ æ²¹é¸­ï¼ï¼ï¼"><a href="#åšä¸€è¡Œï¼Œçˆ±ä¸€è¡Œï¼Œèœé¸Ÿä¹Ÿä¼šæœ‰é£èµ·çš„é‚£å¤©ï¼ŒåŠ æ²¹é¸­ï¼ï¼ï¼" class="headerlink" title="åšä¸€è¡Œï¼Œçˆ±ä¸€è¡Œï¼Œèœé¸Ÿä¹Ÿä¼šæœ‰é£èµ·çš„é‚£å¤©ï¼ŒåŠ æ²¹é¸­ï¼ï¼ï¼"></a>åšä¸€è¡Œï¼Œçˆ±ä¸€è¡Œï¼Œèœé¸Ÿä¹Ÿä¼šæœ‰é£èµ·çš„é‚£å¤©ï¼ŒåŠ æ²¹é¸­ï¼ï¼ï¼</h5>]]></content>
      <categories>
        <category>introduction</category>
      </categories>
      <tags>
        <tag>introduction</tag>
      </tags>
  </entry>
  <entry>
    <title>ipAndDNS</title>
    <url>/2020/07/22/ipAndDNS/</url>
    <content><![CDATA[<h3 id="æ€ä¹ˆæŸ¥æ‰¾ipåœ°å€"><a href="#æ€ä¹ˆæŸ¥æ‰¾ipåœ°å€" class="headerlink" title="æ€ä¹ˆæŸ¥æ‰¾ipåœ°å€"></a>æ€ä¹ˆæŸ¥æ‰¾ipåœ°å€</h3><p>æ–¹å¼ä¸€  ç”µè„‘è¾“å…¥cmdï¼Œå†è¾“å…¥ipconfig</p>
<p>æ–¹å¼äºŒ  æœ¬åœ°è¿æ¥çš„ç½‘ç»œâ€“å±æ€§â€“IPv4 åœ°å€ </p>
<a id="more"></a>

<h3 id="è®¾ç½®è‡ªåŠ¨è·å–DNSæœåŠ¡å™¨åœ°å€"><a href="#è®¾ç½®è‡ªåŠ¨è·å–DNSæœåŠ¡å™¨åœ°å€" class="headerlink" title="è®¾ç½®è‡ªåŠ¨è·å–DNSæœåŠ¡å™¨åœ°å€"></a>è®¾ç½®è‡ªåŠ¨è·å–DNSæœåŠ¡å™¨åœ°å€</h3><p>![clipboard (20)](ipAndDNS.assets/clipboard (20).png)</p>
<p>![clipboard (21)](ipAndDNS.assets/clipboard (21).png)</p>
<p>![clipboard (22)](ipAndDNS.assets/clipboard (22).png)</p>
<p>![clipboard (23)](ipAndDNS.assets/clipboard (23).png)</p>
<p>![clipboard (24)](ipAndDNS.assets/clipboard (24).png)</p>
]]></content>
      <categories>
        <category>ip</category>
      </categories>
      <tags>
        <tag>ip</tag>
        <tag>dns</tag>
      </tags>
  </entry>
  <entry>
    <title>jsbridge</title>
    <url>/2020/07/22/jsbridge/</url>
    <content><![CDATA[<h3 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h3><h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><p>h5 ä¸åŸç”Ÿ app çš„äº¤äº’ï¼Œæœ¬è´¨ä¸Šè¯´ï¼Œå°±æ˜¯ä¸¤ç§è°ƒç”¨ï¼š</p>
<ol>
<li>app è°ƒç”¨ h5 çš„ä»£ç </li>
<li>h5 è°ƒç”¨ app çš„ä»£ç </li>
</ol>
<a id="more"></a>

<p><strong>1. app è°ƒç”¨ h5 çš„ä»£ç </strong></p>
<p>å› ä¸º app æ˜¯å®¿ä¸»ï¼Œå¯ä»¥ç›´æ¥è®¿é—® h5ï¼Œæ‰€ä»¥è¿™ç§è°ƒç”¨æ¯”è¾ƒç®€å•ï¼Œå°±æ˜¯åœ¨ h5 ä¸­æ›éœ²ä¸€äº›å…¨å±€å¯¹è±¡ï¼ˆåŒ…æ‹¬æ–¹æ³•ï¼‰ï¼Œç„¶ååœ¨åŸç”Ÿ app ä¸­è°ƒç”¨è¿™äº›å¯¹</p>
<p><img src="https://img2018.cnblogs.com/blog/1661048/201908/1661048-20190805104711293-168785251.jpg" alt="img"></p>
<p><strong>javascript</strong></p>
<p><code>window.sdk = {</code></p>
<p><code>``double = value =&gt; value * 2,</code></p>
<p><code>``triple = value =&gt; value * 3,</code></p>
<p><code>};</code></p>
<p><strong>androidï¼š</strong></p>
<p><code>webview.evaluateJavascript(``&#39;window.sdk.double(10)&#39;``, ``new</code> <code>ValueCallback&lt;String&gt;() {</code></p>
<p><code>``@Override</code></p>
<p><code>``public</code> <code>void onReceiveValue(String s) {</code></p>
<p><code>``// 20</code></p>
<p><code>``}</code></p>
<p><code>});</code></p>
<p><strong>iosï¼š</strong></p>
<p><code>NSString *func = @``&quot;window.sdk.double(10)&quot;``;</code></p>
<p><code>NSString *str = [webview stringByEvaluatingJavaScriptFromString:func]; ``// 20</code></p>
<p><strong>2. h5 è°ƒç”¨ app çš„ä»£ç </strong></p>
<p>å› ä¸º h5 ä¸èƒ½ç›´æ¥è®¿é—®å®¿ä¸» appï¼Œæ‰€ä»¥è¿™ç§è°ƒç”¨å°±ç›¸å¯¹å¤æ‚ä¸€ç‚¹ã€‚</p>
<p>è¿™ç§è°ƒç”¨å¸¸ç”¨æœ‰ä¸¤ç§æ–¹å¼ï¼š</p>
<ol>
<li>ç”±appå‘h5æ³¨å…¥ä¸€ä¸ªå…¨å±€jså¯¹è±¡ï¼Œç„¶ååœ¨h5ç›´æ¥è®¿é—®è¿™ä¸ªå¯¹è±¡</li>
<li>ç”±h5å‘èµ·ä¸€ä¸ªè‡ªå®šä¹‰åè®®è¯·æ±‚ï¼Œappæ‹¦æˆªè¿™ä¸ªè¯·æ±‚åï¼Œå†ç”±appè°ƒç”¨ h5 ä¸­çš„å›è°ƒå‡½æ•°</li>
</ol>
<p><strong>2.1 ç”± app å‘ h5 æ³¨å…¥ä¸€ä¸ªå…¨å±€ js å¯¹è±¡</strong></p>
<p>è¿™ç§æ–¹å¼æ²Ÿé€šæœºåˆ¶ç®€å•ï¼Œæ¯”è¾ƒå¥½ç†è§£ï¼Œå¹¶ä¸”å¯¹äº h5 æ¥è¯´ï¼Œæ²¡æœ‰æ–°çš„ä¸œè¥¿ï¼Œæ‰€ä»¥æ˜¯æ¯”è¾ƒæ¨èçš„ä¸€ç§æ–¹å¼ã€‚ä½†è¿™ç§æ–¹å¼å¯èƒ½å­˜åœ¨å®‰å…¨éšæ‚£ï¼Œè¯¦ç»†æŸ¥çœ‹ ä½ ä¸çŸ¥é“çš„ Android WebView ä½¿ç”¨æ¼æ´ã€‚</p>
<p><img src="https://img2018.cnblogs.com/blog/1661048/201908/1661048-20190805105140875-2098346635.jpg" alt="img"></p>
<p><strong>android</strong></p>
<p><code>webview.addJavascriptInterface(``new</code> <code>Object() {</code></p>
<p><code>``@JavascriptInterface</code></p>
<p><code>``public</code> <code>int double(value) {</code></p>
<p><code>``return</code> <code>value * 2;</code></p>
<p><code>``}</code></p>
<p><code></code> </p>
<p><code>``@JavascriptInterface</code></p>
<p><code>``public</code> <code>int triple(value) {</code></p>
<p><code>``return</code> <code>value * 3;</code></p>
<p><code>``}</code></p>
<p><code>}, ``&quot;appSdk&quot;``);</code></p>
<hr>
<p><strong>ios</strong></p>
<p><code>NSString *scripts = @``&quot;window.appSdk = {double: value =&gt; value * 2, triple: value =&gt; value * 3}&quot;``;</code></p>
<p><code>[webview stringByEvaluatingJavaScriptFromString:scripts];</code></p>
<p><strong>javascript</strong></p>
<p><strong>window.appSdk.double(10); // 20</strong></p>
<hr>
<h3 id="JS-Bridge"><a href="#JS-Bridge" class="headerlink" title="JS Bridge"></a>JS Bridge</h3><h4 id="ä»€ä¹ˆæ˜¯JS-Bridge"><a href="#ä»€ä¹ˆæ˜¯JS-Bridge" class="headerlink" title="ä»€ä¹ˆæ˜¯JS Bridge"></a>ä»€ä¹ˆæ˜¯JS Bridge</h4><p>åœ¨ç§»åŠ¨å¼€å‘ä¸­ä¸ºäº†åŠ å¿«å¼€å‘è¿›åº¦(0.0)å¾ˆå¤šé¡µé¢ä¼šç”¨H5æ¥å¼€å‘ï¼Œè¿™æ ·ä¸€æ¥å¯ä»¥å¿«é€Ÿå®ŒæˆèŠ‚çº¦ï¼ŒäºŒæ¥APPå†…åµŒWebViewå¯ä»¥è¾ƒå°‘APPæ›´æ–°é¢‘ç‡ã€‚å› æ­¤ï¼Œæˆæœ¬ç°åœ¨å¤§å¤šæ•°å…¬å¸çš„é¦–é€‰ï¼Œä½†æ˜¯éƒ¨åˆ†åŠŸèƒ½JavaScriptçš„æƒé™å—åˆ°ä¸¥æ ¼é™åˆ¶ï¼Œæ¯”å¦‚æ‹ç…§ï¼Œè¯»å†™æƒé™ï¼Œè·å–GPSç­‰ç­‰ï¼Œè¿™äº›nativeåŠŸèƒ½ï¼Œè¿™æ—¶å€™æˆ‘ä»¬éœ€è¦å»å§”æ‰˜åŸç”Ÿå»å®ç°ï¼ŒåŸç”Ÿå®ç°åå†å‘ŠçŸ¥jsã€‚è¿™ä¸ªæ—¶å€™å°±éœ€è¦ä¸€ä¸ªä¸­é—´æ¡¥æ¢ï¼Œäºæ˜¯å°±æœ‰äº†<strong>WebViewJavascriptBridge</strong>ï¼Œç®€ç§° <strong>JS bridge</strong>ã€‚</p>
<h4 id="é‡ç‚¹å™è¿°åœ¨vueä¸­å¦‚ä½•è°ƒç”¨"><a href="#é‡ç‚¹å™è¿°åœ¨vueä¸­å¦‚ä½•è°ƒç”¨" class="headerlink" title="é‡ç‚¹å™è¿°åœ¨vueä¸­å¦‚ä½•è°ƒç”¨"></a>é‡ç‚¹å™è¿°åœ¨vueä¸­å¦‚ä½•è°ƒç”¨</h4><ul>
<li>åˆ›å»º src/config/bridge.js æ–‡ä»¶ï¼Œç”¨äºå°è£… WebViewJavascriptBridge</li>
<li>å°†ä»¥ä¸‹ä»£ç æ‹·è´åˆ° bridge.js æ–‡ä»¶ä¸­</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> u = navigator.userAgent;</span><br><span class="line"><span class="built_in">window</span>.isAndroid = u.indexOf(<span class="string">'Android'</span>) &gt; <span class="number">-1</span> || u.indexOf(<span class="string">'Adr'</span>) &gt; <span class="number">-1</span>; <span class="comment">//androidç»ˆç«¯ </span></span><br><span class="line"><span class="built_in">window</span>.isIOS = !!u.match(<span class="regexp">/\(i[^;]+;( U;)? CPU.+Mac OS X/</span>); <span class="comment">//iosç»ˆç«¯ </span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">setupWebViewJavascriptBridge</span>(<span class="params">callback</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="built_in">window</span>.WebViewJavascriptBridge) &#123;</span><br><span class="line">    <span class="keyword">return</span> callback(WebViewJavascriptBridge);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">document</span>.addEventListener(</span><br><span class="line">      <span class="string">'WebViewJavascriptBridgeReady'</span>,</span><br><span class="line">      <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        callback(WebViewJavascriptBridge)</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="literal">false</span></span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (<span class="built_in">window</span>.isIOS) &#123;</span><br><span class="line">    <span class="comment">// old ios method</span></span><br><span class="line">    <span class="comment">//setTimeout(function () &#123;</span></span><br><span class="line">    <span class="comment">//    if (window.WVJBCallbacks) &#123;</span></span><br><span class="line">    <span class="comment">//        return window.WVJBCallbacks.push(callback);</span></span><br><span class="line">    <span class="comment">//    &#125;</span></span><br><span class="line">    <span class="comment">//&#125;, 500)</span></span><br><span class="line">    <span class="comment">//window.WVJBCallbacks = [callback];</span></span><br><span class="line">    <span class="comment">//var WVJBIframe = document.createElement('iframe');</span></span><br><span class="line">    <span class="comment">//WVJBIframe.style.display = 'none';</span></span><br><span class="line">    <span class="comment">//WVJBIframe.src = 'wvjbscheme://__BRIDGE_LOADED__';</span></span><br><span class="line">    <span class="comment">//document.documentElement.appendChild(WVJBIframe);</span></span><br><span class="line">    <span class="comment">//setTimeout(function () &#123;</span></span><br><span class="line">    <span class="comment">//    document.documentElement.removeChild(WVJBIframe)</span></span><br><span class="line">    <span class="comment">//&#125;, 0)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// new ios method</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">window</span>.WKWebViewJavascriptBridge) &#123; <span class="keyword">return</span> callback(WKWebViewJavascriptBridge); &#125;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">window</span>.WKWVJBCallbacks) &#123; <span class="keyword">return</span> <span class="built_in">window</span>.WKWVJBCallbacks.push(callback); &#125;</span><br><span class="line">    <span class="built_in">window</span>.WKWVJBCallbacks = [callback];</span><br><span class="line">    <span class="built_in">window</span>.webkit.messageHandlers.iOS_Native_InjectJavascript.postMessage(<span class="literal">null</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (!<span class="built_in">window</span>.isIOS) &#123;</span><br><span class="line">    setupWebViewJavascriptBridge(<span class="function"><span class="keyword">function</span> (<span class="params">bridge</span>) </span>&#123;</span><br><span class="line">      bridge.init(<span class="function"><span class="keyword">function</span> (<span class="params">message, responseCallback</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> data = &#123;&#125;;</span><br><span class="line">        responseCallback(data);</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  callhandler(name, data, callback) &#123;</span><br><span class="line">    setupWebViewJavascriptBridge(<span class="function"><span class="keyword">function</span> (<span class="params">bridge</span>) </span>&#123;</span><br><span class="line">      bridge.callHandler(name, data, callback)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">  registerhandler(name, callback) &#123;</span><br><span class="line">    setupWebViewJavascriptBridge(<span class="function"><span class="keyword">function</span> (<span class="params">bridge</span>) </span>&#123;</span><br><span class="line">      bridge.registerHandler(name, <span class="function"><span class="keyword">function</span> (<span class="params">data, responseCallback</span>) </span>&#123;</span><br><span class="line">        callback(data, responseCallback)</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨ main.js ä¸­å¼•å…¥è¯¥æ–‡ä»¶</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import Bridge from &#39;.&#x2F;config&#x2F;bridge.js&#39;</span><br><span class="line">Vue.prototype.$bridge &#x3D; Bridge</span><br></pre></td></tr></table></figure>

<p>åœ¨éœ€è¦è°ƒç”¨å®¢æˆ·ç«¯æ–¹æ³•çš„ç»„ä»¶ä¸­ï¼ˆObjC Echoæ˜¯VUEç«¯è°ƒç”¨APPç«¯çš„æ–¹æ³•åï¼‰</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; paramsæ˜¯å‘appç«¯ä¼ çš„å‚æ•°</span><br><span class="line">&#x2F;&#x2F; iOSç«¯</span><br><span class="line">this.$bridge.callhandler(&#39;ObjC Echo&#39;, params, (data) &#x3D;&gt; &#123;</span><br><span class="line">    &#x2F;&#x2F; å¤„ç†è¿”å›æ•°æ®</span><br><span class="line">&#125;);</span><br><span class="line"> </span><br><span class="line">&#x2F;&#x2F; Androidç«¯</span><br><span class="line">JSAndroid.requestPaySupportWithPayWay(params);</span><br></pre></td></tr></table></figure>

<p>å½“appç«¯éœ€è¦è°ƒç”¨ js å‡½æ•°æ—¶,åœ¨mountedé’©å­ä¸­äº‹å…ˆæ³¨å†Œçº¦å®šå¥½çš„å‡½æ•°å³å¯ï¼ˆJS Echoæ˜¯APPç«¯è°ƒç”¨VUEç«¯æ–¹æ³•åç§°ï¼Œåšä¸»æ²¡ç”¨è¿‡ï¼‰</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">&#x2F;&#x2F; iOSç«¯</span><br><span class="line">this.$bridge.registerhandler(&#39;JS Echo&#39;, (data, responseCallback) &#x3D;&gt; &#123;</span><br><span class="line">  alert(&#39;JS Echo called with:&#39;, data)</span><br><span class="line">  responseCallback(data)</span><br><span class="line">&#125;);</span><br><span class="line"> </span><br><span class="line">&#x2F;&#x2F; Androidç«¯</span><br><span class="line">window[&#39;JS Echo&#39;] &#x3D; (data, responseCallback) &#x3D;&gt; &#123;</span><br><span class="line">   alert(&#39;JS Echo called with:&#39;, data)</span><br><span class="line">   responseCallback(data)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="htmlä¸­å¦‚ä½•ä½¿ç”¨å°è£…"><a href="#htmlä¸­å¦‚ä½•ä½¿ç”¨å°è£…" class="headerlink" title="htmlä¸­å¦‚ä½•ä½¿ç”¨å°è£…"></a>htmlä¸­å¦‚ä½•ä½¿ç”¨å°è£…</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var u &#x3D; navigator.userAgent;</span><br><span class="line">window.isAndroid &#x3D; u.indexOf(&#39;Android&#39;) &gt; -1 || u.indexOf(&#39;Adr&#39;) &gt; -1; &#x2F;&#x2F;androidç»ˆç«¯ </span><br><span class="line">window.isIOS &#x3D; !!u.match(&#x2F;\(i[^;]+;( U;)? CPU.+Mac OS X&#x2F;); &#x2F;&#x2F;iosç»ˆç«¯ </span><br><span class="line">window.jsbridge &#x3D; function (callback) &#123;</span><br><span class="line">    if (window.WebViewJavascriptBridge) &#123;</span><br><span class="line">        return callback(WebViewJavascriptBridge);</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        document.addEventListener(</span><br><span class="line">            &#39;WebViewJavascriptBridgeReady&#39;,</span><br><span class="line">            function () &#123;</span><br><span class="line">                callback(WebViewJavascriptBridge)</span><br><span class="line">            &#125;,</span><br><span class="line">            false</span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line">    if (window.isIOS) &#123;</span><br><span class="line">        &#x2F;&#x2F; old ios method</span><br><span class="line">        &#x2F;&#x2F;setTimeout(function () &#123;</span><br><span class="line">        &#x2F;&#x2F;    if (window.WVJBCallbacks) &#123;</span><br><span class="line">        &#x2F;&#x2F;        return window.WVJBCallbacks.push(callback);</span><br><span class="line">        &#x2F;&#x2F;    &#125;</span><br><span class="line">        &#x2F;&#x2F;&#125;, 500)</span><br><span class="line">        &#x2F;&#x2F;window.WVJBCallbacks &#x3D; [callback];</span><br><span class="line">        &#x2F;&#x2F;var WVJBIframe &#x3D; document.createElement(&#39;iframe&#39;);</span><br><span class="line">        &#x2F;&#x2F;WVJBIframe.style.display &#x3D; &#39;none&#39;;</span><br><span class="line">        &#x2F;&#x2F;WVJBIframe.src &#x3D; &#39;wvjbscheme:&#x2F;&#x2F;__BRIDGE_LOADED__&#39;;</span><br><span class="line">        &#x2F;&#x2F;document.documentElement.appendChild(WVJBIframe);</span><br><span class="line">        &#x2F;&#x2F;setTimeout(function () &#123;</span><br><span class="line">        &#x2F;&#x2F;    document.documentElement.removeChild(WVJBIframe)</span><br><span class="line">        &#x2F;&#x2F;&#125;, 0)</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F; new ios method</span><br><span class="line">        if (window.WKWebViewJavascriptBridge) &#123; return callback(WKWebViewJavascriptBridge); &#125;</span><br><span class="line">        if (window.WKWVJBCallbacks) &#123; return window.WKWVJBCallbacks.push(callback); &#125;</span><br><span class="line">        window.WKWVJBCallbacks &#x3D; [callback];</span><br><span class="line">        window.webkit.messageHandlers.iOS_Native_InjectJavascript.postMessage(null)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">if (!window.isIOS) &#123;</span><br><span class="line">    jsbridge(function (bridge) &#123;</span><br><span class="line">        bridge.init(function (message, responseCallback) &#123;</span><br><span class="line">            var data &#x3D; &#123;&#125;;</span><br><span class="line">            responseCallback(data);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;**</span><br><span class="line"> * @param  &#123;optionå¯¹è±¡&#125;</span><br><span class="line"> * method: è°ƒç”¨çš„æ–¹æ³•</span><br><span class="line"> * data: ä¼ é€’çš„å‚æ•°</span><br><span class="line"> * callback: å›æ‰æ–¹æ³•</span><br><span class="line"> * @return &#123;[type]&#125;</span><br><span class="line"> *&#x2F;</span><br><span class="line">function bridgeCallHandler(option) &#123;</span><br><span class="line">    &#x2F;&#x2F; alert(option.method)</span><br><span class="line">    jsbridge(function (bridge) &#123;</span><br><span class="line">        bridge.callHandler(</span><br><span class="line">            option.method,</span><br><span class="line">            option.data || &#123;&#125;,</span><br><span class="line">            function (responseData) &#123;</span><br><span class="line">                if (option.callback) &#123;</span><br><span class="line">                    option.callback(responseData)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        );</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line">window.callNativePage &#x3D; function (option) &#123;</span><br><span class="line">    bridgeCallHandler(&#123;</span><br><span class="line">        method: &#39;callNativePage&#39;,</span><br><span class="line">        data: option.data,</span><br><span class="line">        callback: function (responseData) &#123;</span><br><span class="line">            if (option.callback) &#123;</span><br><span class="line">                option.callback(responseData);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">jsè°ƒç”¨app</span><br><span class="line">callNativePage(&#123;</span><br><span class="line">    data: &#123; msg : &#39;test send msg&#39; &#125;,</span><br><span class="line">    callback:function(responseData)&#123;</span><br><span class="line">        console.log(&#39;æ¥æºäºappçš„åé¦ˆä¿¡æ¯&#39;,responseData)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;appè°ƒjs</span><br><span class="line">window.bridgeRegisterHandler &#x3D; function (option) &#123;</span><br><span class="line">    &#x2F;&#x2F; alert(option.method);</span><br><span class="line">    jsbridge(function (bridge) &#123;</span><br><span class="line">        bridge.registerHandler(</span><br><span class="line">            option.method,</span><br><span class="line">            function (data, responseCallback) &#123;</span><br><span class="line">                if (option.callback) &#123;</span><br><span class="line">                    option.callback(data);</span><br><span class="line">                &#125;</span><br><span class="line">                responseCallback(option.data || &#123;&#125;);</span><br><span class="line">            &#125;</span><br><span class="line">        );</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line">window.bridgeRegisterHandler(&#123;</span><br><span class="line">    method:&quot;æä¾›ç»™appè°ƒç”¨çš„æ–¹æ³•å&quot;,</span><br><span class="line">    callback:function(data)&#123;</span><br><span class="line">        &#x2F;&#x2F; data : appä¼ é€’ç»™å‰ç«¯çš„data</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>å‚è€ƒé“¾æ¥</p>
<p><a href="https://www.cnblogs.com/tu-front-end/p/11301685.html" target="_blank" rel="noopener">jsbridge</a></p>
<p><a href="https://blog.csdn.net/daipianpian/article/details/90714502" target="_blank" rel="noopener">vueé¡¹ç›®ä½¿ç”¨WebViewJavascriptBridge</a></p>
<p><a href="https://www.jianshu.com/p/2fa0b6cdca17" target="_blank" rel="noopener">H5è°ƒç”¨å°è£…</a></p>
]]></content>
      <categories>
        <category>js</category>
      </categories>
      <tags>
        <tag>js</tag>
        <tag>jsbridge</tag>
      </tags>
  </entry>
  <entry>
    <title>jsä¹‹BigNumber.js</title>
    <url>/2020/09/15/js%E4%B9%8BBigNumber-js/</url>
    <content><![CDATA[<p>vueä½¿ç”¨BigNumber.js</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install --save bignumber.js</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var BigNumber &#x3D; require(&#39;bignumber.js&#39;);</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; è½¬ä¸º bignumber</span><br><span class="line">const x&#x3D; new BigNumber(&#39;123456789.123456789&#39;);</span><br><span class="line">&#x2F;&#x2F; è½¬ä¸º æ™®é€šæ•°å­—</span><br><span class="line">x.toNumber()</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; æ ¼å¼åŒ–(å°æ•°ç‚¹)</span><br><span class="line">x.toFormat()    &#x2F;&#x2F; &#39;123,456,789.123456789&#39;</span><br><span class="line">x.toFormat(3)   &#x2F;&#x2F; &#39;123,456,789.123&#39;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; è®¡ç®—</span><br><span class="line">x.plus(0.1)  &#x2F;&#x2F; åŠ æ³•</span><br><span class="line">x.minus(0.1)  &#x2F;&#x2F; å‡æ³•</span><br><span class="line">x.times(0.1)  &#x2F;&#x2F; ä¹˜æ³•</span><br><span class="line">x.div(0.1)  &#x2F;&#x2F; é™¤æ³•</span><br><span class="line">x.mod(3)  &#x2F;&#x2F; å–æ¨¡&#x2F;å–ä½™</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; æ¯”è¾ƒå¤§å°</span><br><span class="line">x.eq(y) &#x2F;&#x2F; isEqualTo çš„ç®€å†™ï¼Œæ˜¯å¦ç›¸ç­‰</span><br><span class="line">x.gt(y) &#x2F;&#x2F; isGreaterThan çš„ç®€å†™ï¼Œæ˜¯å¦å¤§äº</span><br><span class="line">x.gte(y) &#x2F;&#x2F; isGreaterThanOrEqualTo çš„ç®€å†™ï¼Œæ˜¯å¦å¤§äºç­‰äº</span><br><span class="line">x.lt(y) &#x2F;&#x2F; isLessThan çš„ç®€å†™ï¼Œæ˜¯å¦å°äº</span><br><span class="line">x.lte(y) &#x2F;&#x2F; isLessThanOrEqualTo çš„ç®€å†™ï¼Œæ˜¯å¦å°äºç­‰äº</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; å–éï¼Œæ”¹å˜æ•°å­—çš„æ­£è´Ÿå·</span><br><span class="line">x.negated()</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>js</category>
      </categories>
      <tags>
        <tag>js</tag>
        <tag>ç²¾åº¦è®¡ç®—</tag>
      </tags>
  </entry>
  <entry>
    <title>jsä¹‹84ä¸ªå¸¸ç”¨çš„JSä»£ç ç‰‡æ®µ</title>
    <url>/2021/03/15/js%E4%B9%8B84%E4%B8%AA%E5%B8%B8%E7%94%A8%E7%9A%84JS%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5/</url>
    <content><![CDATA[<h2 id="1ã€all-important"><a href="#1ã€all-important" class="headerlink" title="*1ã€all * (important)"></a>*<em>1ã€all *</em> (important)</h2><p>å¦‚æœæ•°ç»„æ‰€æœ‰å…ƒç´ æ»¡è¶³å‡½æ•°æ¡ä»¶ï¼Œåˆ™è¿”å›trueã€‚è°ƒç”¨æ—¶ï¼Œå¦‚æœçœç•¥ç¬¬äºŒä¸ªå‚æ•°ï¼Œåˆ™é»˜è®¤ä¼ é€’å¸ƒå°”å€¼ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const all &#x3D; (arr, fn &#x3D; Boolean) &#x3D;&gt; arr.every(fn);</span><br><span class="line"></span><br><span class="line">all([4, 2, 3], x &#x3D;&gt; x &gt; 1); &#x2F;&#x2F; true</span><br><span class="line">all([1, 2, 3]); &#x2F;&#x2F; true</span><br></pre></td></tr></table></figure>

<a id="more"></a>

<h2 id="2ã€allEqual-important"><a href="#2ã€allEqual-important" class="headerlink" title="2ã€allEqual (important)"></a><strong>2ã€allEqual</strong> (important)</h2><p>åˆ¤æ–­æ•°ç»„ä¸­çš„å…ƒç´ æ˜¯å¦éƒ½ç›¸ç­‰</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const allEqual &#x3D; arr &#x3D;&gt; arr.every(val &#x3D;&gt; val &#x3D;&#x3D;&#x3D; arr[0]);</span><br><span class="line"></span><br><span class="line">allEqual([1, 2, 3, 4, 5, 6]); &#x2F;&#x2F; false</span><br><span class="line">allEqual([1, 1, 1, 1]); &#x2F;&#x2F; true</span><br></pre></td></tr></table></figure>

<h2 id="3ã€approximatelyEqual"><a href="#3ã€approximatelyEqual" class="headerlink" title="3ã€approximatelyEqual"></a><strong>3ã€approximatelyEqual</strong></h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const approximatelyEqual &#x3D; (v1, v2, epsilon &#x3D; 0.001) &#x3D;&gt; Math.abs(v1 - v2) &lt; epsilon;</span><br><span class="line"></span><br><span class="line">approximatelyEqual(Math.PI &#x2F; 2.0, 1.5708); &#x2F;&#x2F; true</span><br></pre></td></tr></table></figure>

<h2 id="4ã€arrayToCSV"><a href="#4ã€arrayToCSV" class="headerlink" title="4ã€arrayToCSV"></a><strong>4ã€arrayToCSV</strong></h2><p>æ­¤æ®µä»£ç å°†æ²¡æœ‰é€—å·æˆ–åŒå¼•å·çš„å…ƒç´ è½¬æ¢æˆå¸¦æœ‰é€—å·åˆ†éš”ç¬¦çš„å­—ç¬¦ä¸²å³CSVæ ¼å¼è¯†åˆ«çš„å½¢å¼ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const arrayToCSV &#x3D; (arr, delimiter &#x3D; &#39;,&#39;) &#x3D;&gt;</span><br><span class="line">  arr.map(v &#x3D;&gt; v.map(x &#x3D;&gt; &#96;&quot;$&#123;x&#125;&quot;&#96;).join(delimiter)).join(&#39;\n&#39;);</span><br><span class="line">  </span><br><span class="line">arrayToCSV([[&#39;a&#39;, &#39;b&#39;], [&#39;c&#39;, &#39;d&#39;]]); &#x2F;&#x2F; &#39;&quot;a&quot;,&quot;b&quot;\n&quot;c&quot;,&quot;d&quot;&#39;</span><br><span class="line">arrayToCSV([[&#39;a&#39;, &#39;b&#39;], [&#39;c&#39;, &#39;d&#39;]], &#39;;&#39;); &#x2F;&#x2F; &#39;&quot;a&quot;;&quot;b&quot;\n&quot;c&quot;;&quot;d&quot;&#39;</span><br></pre></td></tr></table></figure>

<h2 id="5ã€arrayToHtmlList"><a href="#5ã€arrayToHtmlList" class="headerlink" title="5ã€arrayToHtmlList"></a><strong>5ã€arrayToHtmlList</strong></h2><p>æ­¤æ®µä»£ç å°†æ•°ç»„å…ƒç´ è½¬æ¢æˆ<li>æ ‡è®°ï¼Œå¹¶å°†æ­¤å…ƒç´ æ·»åŠ è‡³ç»™å®šçš„IDå…ƒç´ æ ‡è®°å†…ã€‚</li></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const arrayToHtmlList &#x3D; (arr, listID) &#x3D;&gt;</span><br><span class="line">  (el &#x3D;&gt; (</span><br><span class="line">    (el &#x3D; document.querySelector(&#39;#&#39; + listID)),</span><br><span class="line">    (el.innerHTML +&#x3D; arr.map(item &#x3D;&gt; &#96;&lt;li&gt;$&#123;item&#125;&lt;&#x2F;li&gt;&#96;).join(&#39;&#39;))</span><br><span class="line">  ))();</span><br><span class="line">  </span><br><span class="line">arrayToHtmlList([&#39;item 1&#39;, &#39;item 2&#39;], &#39;myListID&#39;);</span><br></pre></td></tr></table></figure>

<h2 id="6ã€attempt"><a href="#6ã€attempt" class="headerlink" title="6ã€attempt"></a><strong>6ã€attempt</strong></h2><p>æ­¤æ®µä»£ç æ‰§è¡Œä¸€ä¸ªå‡½æ•°ï¼Œå°†å‰©ä½™çš„å‚æ•°ä¼ å›å‡½æ•°å½“å‚æ•°ï¼Œè¿”å›ç›¸åº”çš„ç»“æœï¼Œå¹¶èƒ½æ•è·å¼‚å¸¸ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const attempt &#x3D; (fn, ...args) &#x3D;&gt; &#123;</span><br><span class="line">  try &#123;</span><br><span class="line">    return fn(...args);</span><br><span class="line">  &#125; catch (e) &#123;</span><br><span class="line">    return e instanceof Error ? e : new Error(e);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">var elements &#x3D; attempt(function(selector) &#123;</span><br><span class="line">  return document.querySelectorAll(selector);</span><br><span class="line">&#125;, &#39;&gt;_&gt;&#39;);</span><br><span class="line">if (elements instanceof Error) elements &#x3D; [];</span><br><span class="line">&#x2F;&#x2F; elements &#x3D; []</span><br></pre></td></tr></table></figure>

<h2 id="7ã€average-important"><a href="#7ã€average-important" class="headerlink" title="7ã€average (important)"></a><strong>7ã€average</strong> (important)</h2><p>æ­¤æ®µä»£ç è¿”å›ä¸¤ä¸ªæˆ–å¤šä¸ªæ•°çš„å¹³å‡æ•°ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const average &#x3D; (...nums) &#x3D;&gt; nums.reduce((acc, val) &#x3D;&gt; acc + val, 0) &#x2F; nums.length;</span><br><span class="line">average(...[1, 2, 3]); &#x2F;&#x2F; 2</span><br><span class="line">average(1, 2, 3); &#x2F;&#x2F; 2</span><br></pre></td></tr></table></figure>

<h2 id="8ã€averageBy-important"><a href="#8ã€averageBy-important" class="headerlink" title="8ã€averageBy (important)"></a><strong>8ã€averageBy</strong> (important)</h2><p>æ±‚å¯¹è±¡æ•°ç»„çš„å±æ€§ä¹‹å’Œï¼Œä¸€ä¸ª map()å‡½æ•°å’Œ reduce()å‡½æ•°ç»“åˆçš„ä¾‹å­ï¼Œæ­¤å‡½æ•°å…ˆé€šè¿‡ map() å‡½æ•°å°†å¯¹è±¡è½¬æ¢æˆæ•°ç»„ï¼Œç„¶ååœ¨è°ƒç”¨reduce()å‡½æ•°è¿›è¡Œç´¯åŠ ï¼Œç„¶åæ ¹æ®æ•°ç»„é•¿åº¦è¿”å›å¹³å‡å€¼ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const averageBy &#x3D; (arr, fn) &#x3D;&gt;</span><br><span class="line">  arr.map(typeof fn &#x3D;&#x3D;&#x3D; &#39;function&#39; ? fn : val &#x3D;&gt; val[fn]).reduce((acc, val) &#x3D;&gt; acc + val, 0) &#x2F;</span><br><span class="line">  arr.length;</span><br><span class="line">  </span><br><span class="line">averageBy([&#123; n: 4 &#125;, &#123; n: 2 &#125;, &#123; n: 8 &#125;, &#123; n: 6 &#125;], o &#x3D;&gt; o.n); &#x2F;&#x2F; 5</span><br><span class="line">averageBy([&#123; n: 4 &#125;, &#123; n: 2 &#125;, &#123; n: 8 &#125;, &#123; n: 6 &#125;], &#39;n&#39;); &#x2F;&#x2F; 5</span><br></pre></td></tr></table></figure>

<h2 id="9ã€bifurcate"><a href="#9ã€bifurcate" class="headerlink" title="9ã€bifurcate"></a><strong>9ã€bifurcate</strong></h2><p>æ­¤å‡½æ•°åŒ…å«ä¸¤ä¸ªå‚æ•°ï¼Œç±»å‹éƒ½ä¸ºæ•°ç»„ï¼Œä¾æ®ç¬¬äºŒä¸ªå‚æ•°çš„çœŸå‡æ¡ä»¶ï¼Œå°†ä¸€ä¸ªå‚æ•°çš„æ•°ç»„è¿›è¡Œåˆ†ç»„ï¼Œæ¡ä»¶ä¸ºçœŸçš„æ”¾å…¥ç¬¬ä¸€ä¸ªæ•°ç»„ï¼Œå…¶å®ƒçš„æ”¾å…¥ç¬¬äºŒä¸ªæ•°ç»„ã€‚è¿™é‡Œè¿ç”¨äº†Array.prototype.reduce() å’Œ Array.prototype.push() ç›¸ç»“åˆçš„å½¢å¼ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const bifurcate &#x3D; (arr, filter) &#x3D;&gt;</span><br><span class="line">  arr.reduce((acc, val, i) &#x3D;&gt; (acc[filter[i] ? 0 : 1].push(val), acc), [[], []]);</span><br><span class="line">bifurcate([&#39;beep&#39;, &#39;boop&#39;, &#39;foo&#39;, &#39;bar&#39;], [true, true, false, true]);</span><br><span class="line">&#x2F;&#x2F; [ [&#39;beep&#39;, &#39;boop&#39;, &#39;bar&#39;], [&#39;foo&#39;] ]</span><br></pre></td></tr></table></figure>

<h2 id="10ã€bifurcateBy-important"><a href="#10ã€bifurcateBy-important" class="headerlink" title="10ã€bifurcateBy (important)"></a><strong>10ã€bifurcateBy</strong> (important)</h2><p>æ­¤æ®µä»£ç å°†æ•°ç»„æŒ‰ç…§æŒ‡å®šçš„å‡½æ•°é€»è¾‘è¿›è¡Œåˆ†ç»„ï¼Œæ»¡è¶³å‡½æ•°æ¡ä»¶çš„é€»è¾‘ä¸ºçœŸï¼Œæ”¾å…¥ç¬¬ä¸€ä¸ªæ•°ç»„ä¸­ï¼Œå…¶å®ƒä¸æ»¡è¶³çš„æ”¾å…¥ç¬¬äºŒä¸ªæ•°ç»„ ã€‚</p>
<p>è¿™é‡Œè¿ç”¨äº†Array.prototype.reduce() å’Œ Array.prototype.push() ç›¸ç»“åˆçš„å½¢å¼ï¼ŒåŸºäºå‡½æ•°è¿‡æ»¤é€»è¾‘ï¼Œé€šè¿‡ Array.prototype.push() å‡½æ•°å°†å…¶æ·»åŠ åˆ°æ•°ç»„ä¸­ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const bifurcateBy &#x3D; (arr, fn) &#x3D;&gt;</span><br><span class="line">  arr.reduce((acc, val, i) &#x3D;&gt; (acc[fn(val, i) ? 0 : 1].push(val), acc), [[], []]);</span><br><span class="line">  </span><br><span class="line">bifurcateBy([&#39;beep&#39;, &#39;boop&#39;, &#39;foo&#39;, &#39;bar&#39;], x &#x3D;&gt; x[0] &#x3D;&#x3D;&#x3D; &#39;b&#39;);</span><br><span class="line">&#x2F;&#x2F; [ [&#39;beep&#39;, &#39;boop&#39;, &#39;bar&#39;], [&#39;foo&#39;] ]</span><br></pre></td></tr></table></figure>

<h2 id="11ã€bottomVisible-important"><a href="#11ã€bottomVisible-important" class="headerlink" title="11ã€bottomVisible (important)"></a><strong>11ã€bottomVisible (important)</strong></h2><p>ç”¨äºæ£€æµ‹é¡µé¢æ˜¯å¦æ»šåŠ¨åˆ°é¡µé¢åº•éƒ¨ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const bottomVisible &#x3D; () &#x3D;&gt;</span><br><span class="line">  document.documentElement.clientHeight + window.scrollY &gt;&#x3D;</span><br><span class="line">  (document.documentElement.scrollHeight || document.documentElement.clientHeight);</span><br><span class="line"></span><br><span class="line">bottomVisible(); &#x2F;&#x2F; true</span><br></pre></td></tr></table></figure>

<h2 id="12ã€byteSize"><a href="#12ã€byteSize" class="headerlink" title="12ã€byteSize"></a><strong>12ã€byteSize</strong></h2><p>æ­¤ä»£ç è¿”å›å­—ç¬¦ä¸²çš„å­—èŠ‚é•¿åº¦ã€‚è¿™é‡Œç”¨åˆ°äº†Blobå¯¹è±¡ï¼ŒBlobï¼ˆBinary Large Objectï¼‰å¯¹è±¡ä»£è¡¨äº†ä¸€æ®µäºŒè¿›åˆ¶æ•°æ®ï¼Œæä¾›äº†ä¸€ç³»åˆ—æ“ä½œæ¥å£ã€‚å…¶ä»–æ“ä½œäºŒè¿›åˆ¶æ•°æ®çš„APIï¼ˆæ¯”å¦‚Fileå¯¹è±¡ï¼‰ï¼Œéƒ½æ˜¯å»ºç«‹åœ¨Blobå¯¹è±¡åŸºç¡€ä¸Šçš„ï¼Œç»§æ‰¿äº†å®ƒçš„å±æ€§å’Œæ–¹æ³•ã€‚ç”ŸæˆBlobå¯¹è±¡æœ‰ä¸¤ç§æ–¹æ³•ï¼šä¸€ç§æ˜¯ä½¿ç”¨Blobæ„é€ å‡½æ•°ï¼Œå¦ä¸€ç§æ˜¯å¯¹ç°æœ‰çš„Blobå¯¹è±¡ä½¿ç”¨sliceæ–¹æ³•åˆ‡å‡ºä¸€éƒ¨åˆ†ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const byteSize &#x3D; str &#x3D;&gt; new Blob([str]).size;</span><br><span class="line"></span><br><span class="line">byteSize(&#39;ğŸ˜€&#39;); &#x2F;&#x2F; 4</span><br><span class="line">byteSize(&#39;Hello World&#39;); &#x2F;&#x2F; 11</span><br></pre></td></tr></table></figure>

<h2 id="13ã€capitalize-important"><a href="#13ã€capitalize-important" class="headerlink" title="13ã€capitalize (important)"></a><strong>13ã€capitalize</strong> (important)</h2><p>å°†å­—ç¬¦ä¸²çš„é¦–å­—æ¯è½¬æˆå¤§å†™,è¿™é‡Œä¸»è¦è¿ç”¨åˆ°äº†ES6çš„å±•å¼€è¯­æ³•åœ¨æ•°ç»„ä¸­çš„è¿ç”¨ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const capitalize &#x3D; ([first, ...rest]) &#x3D;&gt;</span><br><span class="line">  first.toUpperCase() + rest.join(&#39;&#39;);</span><br><span class="line">  </span><br><span class="line">capitalize(&#39;fooBar&#39;); &#x2F;&#x2F; &#39;FooBar&#39;</span><br><span class="line">capitalize(&#39;fooBar&#39;, true); &#x2F;&#x2F; &#39;FooBar&#39;</span><br></pre></td></tr></table></figure>

<h2 id="14ã€capitalizeEveryWord-important"><a href="#14ã€capitalizeEveryWord-important" class="headerlink" title="14ã€capitalizeEveryWord (important)"></a><strong>14ã€capitalizeEveryWord</strong> (important)</h2><p>å°†ä¸€ä¸ªå¥å­ä¸­æ¯ä¸ªå•è¯é¦–å­—æ¯è½¬æ¢æˆå¤§å†™å­—æ¯ï¼Œè¿™é‡Œä¸­è¦è¿ç”¨äº†æ­£åˆ™è¡¨è¾¾å¼è¿›è¡Œæ›¿æ¢ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const capitalizeEveryWord &#x3D; str &#x3D;&gt; str.replace(&#x2F;\b[a-z]&#x2F;g, char &#x3D;&gt; char.toUpperCase());</span><br><span class="line"></span><br><span class="line">capitalizeEveryWord(&#39;hello world!&#39;); &#x2F;&#x2F; &#39;Hello World!&#39;</span><br></pre></td></tr></table></figure>

<h2 id="15ã€castArray-important"><a href="#15ã€castArray-important" class="headerlink" title="15ã€castArray (important)"></a><strong>15ã€castArray</strong> (important)</h2><p>æ­¤æ®µä»£ç å°†éæ•°å€¼çš„å€¼è½¬æ¢æˆæ•°ç»„å¯¹è±¡ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const castArray &#x3D; val &#x3D;&gt; (Array.isArray(val) ? val : [val]);</span><br><span class="line"></span><br><span class="line">castArray(&#39;foo&#39;); &#x2F;&#x2F; [&#39;foo&#39;]</span><br><span class="line">castArray([1]); &#x2F;&#x2F; [1]</span><br></pre></td></tr></table></figure>

<h2 id="16ã€compact"><a href="#16ã€compact" class="headerlink" title="16ã€compact"></a><strong>16ã€compact</strong></h2><p>å°†æ•°ç»„ä¸­ç§»é™¤å€¼ä¸º false çš„å†…å®¹ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const compact &#x3D; arr &#x3D;&gt; arr.filter(Boolean);</span><br><span class="line"></span><br><span class="line">compact([0, 1, false, 2, &#39;&#39;, 3, &#39;a&#39;, &#39;e&#39; * 23, NaN, &#39;s&#39;, 34]);</span><br><span class="line">&#x2F;&#x2F; [ 1, 2, 3, &#39;a&#39;, &#39;s&#39;, 34 ]</span><br></pre></td></tr></table></figure>

<h2 id="17ã€countOccurrences-important"><a href="#17ã€countOccurrences-important" class="headerlink" title="17ã€countOccurrences (important)"></a><strong>17ã€countOccurrences (important)</strong></h2><p>ç»Ÿè®¡æ•°ç»„ä¸­æŸä¸ªå€¼å‡ºç°çš„æ¬¡æ•°ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const countOccurrences &#x3D; (arr, val) &#x3D;&gt; arr.reduce((a, v) &#x3D;&gt; (v &#x3D;&#x3D;&#x3D; val ? a + 1 : a), 0);</span><br><span class="line">countOccurrences([1, 1, 2, 1, 2, 3], 1); &#x2F;&#x2F; 3</span><br></pre></td></tr></table></figure>

<h2 id="18ã€Create-Directory"><a href="#18ã€Create-Directory" class="headerlink" title="18ã€Create Directory"></a><strong>18ã€Create Directory</strong></h2><p>æ­¤ä»£ç æ®µä½¿ç”¨ existSync() æ£€æŸ¥ç›®å½•æ˜¯å¦å­˜åœ¨ï¼Œç„¶åä½¿ç”¨ mkdirSync() åˆ›å»ºç›®å½•ï¼ˆå¦‚æœä¸å­˜åœ¨ï¼‰ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const fs &#x3D; require(&#39;fs&#39;);</span><br><span class="line">const createDirIfNotExists &#x3D; dir &#x3D;&gt; (!fs.existsSync(dir) ? fs.mkdirSync(dir) : undefined);</span><br><span class="line">createDirIfNotExists(&#39;test&#39;);</span><br><span class="line">&#x2F;&#x2F; creates the directory &#39;test&#39;, if it doesn&#39;t exist</span><br></pre></td></tr></table></figure>

<h2 id="19ã€currentURL"><a href="#19ã€currentURL" class="headerlink" title="19ã€currentURL"></a><strong>19ã€currentURL</strong></h2><p>è¿”å›å½“å‰è®¿é—®çš„ URL åœ°å€ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const currentURL &#x3D; () &#x3D;&gt; window.location.href;</span><br><span class="line"></span><br><span class="line">currentURL(); &#x2F;&#x2F; &#39;https:&#x2F;&#x2F;medium.com&#x2F;@fatosmorina&#39;</span><br></pre></td></tr></table></figure>

<h2 id="20ã€dayOfYear-important"><a href="#20ã€dayOfYear-important" class="headerlink" title="20ã€dayOfYear (important)"></a><strong>20ã€dayOfYear</strong> (important)</h2><p>è¿”å›å½“å‰æ˜¯ä»Šå¹´çš„ç¬¬å‡ å¤©</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const dayOfYear &#x3D; date &#x3D;&gt;</span><br><span class="line">  Math.floor((date - new Date(date.getFullYear(), 0, 0)) &#x2F; 1000 &#x2F; 60 &#x2F; 60 &#x2F; 24);</span><br><span class="line"></span><br><span class="line">dayOfYear(new Date()); &#x2F;&#x2F; 272</span><br></pre></td></tr></table></figure>

<h2 id="21ã€decapitalize-important"><a href="#21ã€decapitalize-important" class="headerlink" title="21ã€decapitalize (important)"></a><strong>21ã€decapitalize (important)</strong></h2><p>å°†å­—ç¬¦ä¸²çš„é¦–å­—æ¯è½¬æ¢æˆå°å†™å­—æ¯ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const decapitalize &#x3D; ([first, ...rest]) &#x3D;&gt;</span><br><span class="line">  first.toLowerCase() + rest.join(&#39;&#39;)</span><br><span class="line"></span><br><span class="line">decapitalize(&#39;FooBar&#39;); &#x2F;&#x2F; &#39;fooBar&#39;</span><br></pre></td></tr></table></figure>

<h2 id="22ã€deepFlatten-important"><a href="#22ã€deepFlatten-important" class="headerlink" title="22ã€deepFlatten (important)"></a><strong>22ã€deepFlatten</strong> (important)</h2><p>é€šè¿‡é€’å½’çš„å½¢å¼ï¼Œå°†å¤šç»´æ•°ç»„å±•å¹³æˆä¸€ç»´æ•°ç»„ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const deepFlatten &#x3D; arr &#x3D;&gt; [].concat(...arr.map(v &#x3D;&gt; (Array.isArray(v) ? deepFlatten(v) : v)));</span><br><span class="line"></span><br><span class="line">deepFlatten([1, [2], [[3], 4], 5]); &#x2F;&#x2F; [1,2,3,4,5]</span><br></pre></td></tr></table></figure>

<h2 id="23ã€default-important"><a href="#23ã€default-important" class="headerlink" title="23ã€default (important)"></a>23ã€default (important)</h2><p>å»é‡å¯¹è±¡çš„å±æ€§ï¼Œå¦‚æœå¯¹è±¡ä¸­å«æœ‰é‡å¤çš„å±æ€§ï¼Œä»¥å‰é¢çš„ä¸ºå‡†ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const defaults &#x3D; (obj, ...defs) &#x3D;&gt; Object.assign(&#123;&#125;, obj, ...defs.reverse(), obj);</span><br><span class="line"></span><br><span class="line">defaults(&#123; a: 1 &#125;, &#123; b: 2 &#125;, &#123; b: 6 &#125;, &#123; a: 3 &#125;); &#x2F;&#x2F; &#123; a: 1, b: 2 &#125;</span><br></pre></td></tr></table></figure>

<h1 id="24ã€defer"><a href="#24ã€defer" class="headerlink" title="24ã€defer"></a><strong>24ã€defer</strong></h1><p>å»¶è¿Ÿå‡½æ•°çš„è°ƒç”¨ï¼Œå³å¼‚æ­¥è°ƒç”¨å‡½æ•°ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const defer &#x3D; (fn, ...args) &#x3D;&gt; setTimeout(fn, 1, ...args);</span><br><span class="line"></span><br><span class="line">defer(console.log, &#39;a&#39;), console.log(&#39;b&#39;);</span><br><span class="line">&#x2F;&#x2F; logs &#39;b&#39; then &#39;a&#39;</span><br></pre></td></tr></table></figure>

<h1 id="25ã€degreesToRads"><a href="#25ã€degreesToRads" class="headerlink" title="25ã€degreesToRads"></a><strong>25ã€degreesToRads</strong></h1><p>æ­¤æ®µä»£ç å°†æ ‡å‡†çš„åº¦æ•°ï¼Œè½¬æ¢æˆå¼§åº¦ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const degreesToRads &#x3D; deg &#x3D;&gt; (deg * Math.PI) &#x2F; 180.0;</span><br><span class="line"></span><br><span class="line">degreesToRads(90.0); &#x2F;&#x2F; ~1.5708</span><br></pre></td></tr></table></figure>

<h1 id="26ã€difference-important"><a href="#26ã€difference-important" class="headerlink" title="26ã€difference (important)"></a><strong>26ã€difference</strong> (important)</h1><p>æ­¤æ®µä»£ç æŸ¥æ‰¾ä¸¤ä¸ªç»™å®šæ•°ç»„çš„å·®å¼‚ï¼ŒæŸ¥æ‰¾å‡ºå‰è€…æ•°ç»„åœ¨åè€…æ•°ç»„ä¸­ä¸å­˜åœ¨å…ƒç´ ã€‚</p>
 <figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const difference &#x3D; (a, b) &#x3D;&gt; &#123;</span><br><span class="line">  const s &#x3D; new Set(b);</span><br><span class="line">  return a.filter(x &#x3D;&gt; !s.has(x));</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">difference([1, 2, 3], [1, 2, 4]); &#x2F;&#x2F; [3]</span><br></pre></td></tr></table></figure>

<h1 id="27ã€differenceBy-important"><a href="#27ã€differenceBy-important" class="headerlink" title="27ã€differenceBy (important)"></a><strong>27ã€differenceBy</strong> (important)</h1><p>æ•°ç»„å¯¹è±¡ï¼Œé€šè¿‡ç»™å®šçš„å‡½æ•°æ¥å¤„ç†éœ€è¦å¯¹æ¯”å·®å¼‚çš„æ•°ç»„ï¼ŒæŸ¥æ‰¾å‡ºå‰è€…æ•°ç»„åœ¨åè€…æ•°ç»„ä¸­ä¸å­˜åœ¨å…ƒç´ ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const differenceBy &#x3D; (a, b, fn) &#x3D;&gt; &#123;</span><br><span class="line">  const s &#x3D; new Set(b.map(fn));</span><br><span class="line">  return a.filter(x &#x3D;&gt; !s.has(fn(x)));</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">differenceBy([2.1, 1.2], [2.3, 3.4], Math.floor); &#x2F;&#x2F; [1.2]</span><br><span class="line">differenceBy([&#123; x: 2 &#125;, &#123; x: 1 &#125;], [&#123; x: 1 &#125;], v &#x3D;&gt; v.x); &#x2F;&#x2F; [ &#123; x: 2 &#125; ]</span><br></pre></td></tr></table></figure>

<h1 id="28ã€differenceWith-important"><a href="#28ã€differenceWith-important" class="headerlink" title="28ã€differenceWith (important)"></a><strong>28ã€differenceWith</strong> (important)</h1><p>æ­¤æ®µä»£ç æŒ‰ç…§ç»™å®šå‡½æ•°é€»è¾‘ç­›é€‰éœ€è¦å¯¹æ¯”å·®å¼‚çš„æ•°ç»„ï¼ŒæŸ¥æ‰¾å‡ºå‰è€…æ•°ç»„åœ¨åè€…æ•°ç»„ä¸­ä¸å­˜åœ¨å…ƒç´ ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const differenceWith &#x3D; (arr, val, comp) &#x3D;&gt; arr.filter(a &#x3D;&gt; val.findIndex(b &#x3D;&gt; comp(a, b)) &#x3D;&#x3D;&#x3D; -1);</span><br><span class="line"></span><br><span class="line">differenceWith([1, 1.2, 1.5, 3, 0], [1.9, 3, 0], (a, b) &#x3D;&gt; Math.round(a) &#x3D;&#x3D;&#x3D; Math.round(b));</span><br><span class="line">&#x2F;&#x2F; [1, 1.2]</span><br></pre></td></tr></table></figure>

<h1 id="29ã€digitize"><a href="#29ã€digitize" class="headerlink" title="29ã€digitize"></a><strong>29ã€digitize</strong></h1><p>å°†è¾“å…¥çš„æ•°å­—æ‹†åˆ†æˆå•ä¸ªæ•°å­—ç»„æˆçš„æ•°ç»„ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const digitize &#x3D; n &#x3D;&gt; [...&#96;$&#123;n&#125;&#96;].map(i &#x3D;&gt; parseInt(i));</span><br><span class="line"></span><br><span class="line">digitize(431); &#x2F;&#x2F; [4, 3, 1]</span><br></pre></td></tr></table></figure>

<h1 id="30ã€distance"><a href="#30ã€distance" class="headerlink" title="30ã€distance"></a><strong>30ã€distance</strong></h1><p>è®¡ç®—ä¸¤ç‚¹ä¹‹é—´çš„è·ç¦»</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const distance &#x3D; (x0, y0, x1, y1) &#x3D;&gt; Math.hypot(x1 - x0, y1 - y0);</span><br><span class="line"></span><br><span class="line">distance(1, 1, 2, 3); &#x2F;&#x2F; 2.23606797749979</span><br></pre></td></tr></table></figure>

<h1 id="31ã€drop-important"><a href="#31ã€drop-important" class="headerlink" title="31ã€drop (important)"></a><strong>31ã€drop</strong> (important)</h1><p>æ­¤æ®µä»£ç å°†ç»™å®šçš„æ•°ç»„ä»å·¦è¾¹å¼€å§‹åˆ é™¤ n ä¸ªå…ƒç´ </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const drop &#x3D; (arr, n &#x3D; 1) &#x3D;&gt; arr.slice(n);</span><br><span class="line"></span><br><span class="line">drop([1, 2, 3]); &#x2F;&#x2F; [2,3]</span><br><span class="line">drop([1, 2, 3], 2); &#x2F;&#x2F; [3]</span><br><span class="line">drop([1, 2, 3], 42); &#x2F;&#x2F; []</span><br></pre></td></tr></table></figure>

<h1 id="32ã€dropRight"><a href="#32ã€dropRight" class="headerlink" title="32ã€dropRight"></a><strong>32ã€dropRight</strong></h1><p>æ­¤æ®µä»£ç å°†ç»™å®šçš„æ•°ç»„ä»å³è¾¹å¼€å§‹åˆ é™¤ n ä¸ªå…ƒç´ </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const dropRight &#x3D; (arr, n &#x3D; 1) &#x3D;&gt; arr.slice(0, -n);</span><br><span class="line"></span><br><span class="line">dropRight([1, 2, 3]); &#x2F;&#x2F; [1,2]</span><br><span class="line">dropRight([1, 2, 3], 2); &#x2F;&#x2F; [1]</span><br><span class="line">dropRight([1, 2, 3], 42); &#x2F;&#x2F; []</span><br></pre></td></tr></table></figure>

<h1 id="33ã€dropRightWhile"><a href="#33ã€dropRightWhile" class="headerlink" title="33ã€dropRightWhile"></a><strong>33ã€dropRightWhile</strong></h1><p>æ­¤æ®µä»£ç å°†ç»™å®šçš„æ•°ç»„æŒ‰ç…§ç»™å®šçš„å‡½æ•°æ¡ä»¶ä»å³å¼€å§‹åˆ é™¤ï¼Œç›´åˆ°å½“å‰å…ƒç´ æ»¡è¶³å‡½æ•°æ¡ä»¶ä¸ºTrueæ—¶ï¼Œåœæ­¢åˆ é™¤ï¼Œå¹¶è¿”å›æ•°ç»„å‰©ä½™å…ƒç´ ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const dropRightWhile &#x3D; (arr, func) &#x3D;&gt; &#123;</span><br><span class="line">  while (arr.length &gt; 0 &amp;&amp; !func(arr[arr.length - 1])) arr &#x3D; arr.slice(0, -1);</span><br><span class="line">  return arr;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">dropRightWhile([1, 2, 3, 4], n &#x3D;&gt; n &lt; 3); &#x2F;&#x2F; [1, 2]</span><br></pre></td></tr></table></figure>

<h1 id="34ã€dropWhile-important"><a href="#34ã€dropWhile-important" class="headerlink" title="34ã€dropWhile (important)"></a><strong>34ã€dropWhile</strong> (important)</h1><p>æŒ‰ç…§ç»™çš„çš„å‡½æ•°æ¡ä»¶ç­›é€‰æ•°ç»„ï¼Œä¸æ»¡è¶³å‡½æ•°æ¡ä»¶çš„å°†ä»æ•°ç»„ä¸­ç§»é™¤ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const dropWhile &#x3D; (arr, func) &#x3D;&gt; &#123;</span><br><span class="line">  while (arr.length &gt; 0 &amp;&amp; !func(arr[0])) arr &#x3D; arr.slice(1);</span><br><span class="line">  return arr;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">dropWhile([1, 2, 3, 4], n &#x3D;&gt; n &gt;&#x3D; 3); &#x2F;&#x2F; [3,4]</span><br></pre></td></tr></table></figure>

<h1 id="35ã€elementContains"><a href="#35ã€elementContains" class="headerlink" title="35ã€elementContains"></a><strong>35ã€elementContains</strong></h1><p>æ¥æ”¶ä¸¤ä¸ªDOMå…ƒç´ å¯¹è±¡å‚æ•°ï¼Œåˆ¤æ–­åè€…æ˜¯å¦æ˜¯å‰è€…çš„å­å…ƒç´ ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const elementContains &#x3D; (parent, child) &#x3D;&gt; parent !&#x3D;&#x3D; child &amp;&amp; parent.contains(child);</span><br><span class="line"></span><br><span class="line">elementContains(document.querySelector(&#39;head&#39;), document.querySelector(&#39;title&#39;)); &#x2F;&#x2F; true</span><br><span class="line">elementContains(document.querySelector(&#39;body&#39;), document.querySelector(&#39;body&#39;)); &#x2F;&#x2F; false</span><br></pre></td></tr></table></figure>

<h1 id="36ã€filterNonUnique-important"><a href="#36ã€filterNonUnique-important" class="headerlink" title="36ã€filterNonUnique (important)"></a><strong>36ã€filterNonUnique</strong> (important)</h1><p>ç§»é™¤æ•°ç»„ä¸­é‡å¤çš„å…ƒç´ </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const filterNonUnique &#x3D; arr &#x3D;&gt; [ â€¦new Set(arr)];</span><br><span class="line">filterNonUnique([1, 2, 2, 3, 4, 4, 5]); </span><br><span class="line">&#x2F;&#x2F; [1, 2, 3, 4, 5]</span><br></pre></td></tr></table></figure>

<h1 id="37ã€findKey-important"><a href="#37ã€findKey-important" class="headerlink" title="37ã€findKey (important)"></a><strong>37ã€findKey</strong> (important)</h1><p>æŒ‰ç…§ç»™å®šçš„å‡½æ•°æ¡ä»¶ï¼ŒæŸ¥æ‰¾ç¬¬ä¸€ä¸ªæ»¡è¶³æ¡ä»¶å¯¹è±¡çš„é”®å€¼ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const findKey &#x3D; (obj, fn) &#x3D;&gt; Object.keys(obj).find(key &#x3D;&gt; fn(obj[key], key, obj));</span><br><span class="line"></span><br><span class="line">findKey(</span><br><span class="line">  &#123;</span><br><span class="line">    barney: &#123; age: 36, active: true &#125;,</span><br><span class="line">    fred: &#123; age: 40, active: false &#125;,</span><br><span class="line">    pebbles: &#123; age: 1, active: true &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  o &#x3D;&gt; o[&#39;active&#39;]</span><br><span class="line">);</span><br><span class="line">&#x2F;&#x2F; &#39;barney&#39;</span><br></pre></td></tr></table></figure>

<h1 id="38ã€findLast-important"><a href="#38ã€findLast-important" class="headerlink" title="38ã€findLast (important)"></a><strong>38ã€findLast</strong> (important)</h1><p>æŒ‰ç…§ç»™å®šçš„å‡½æ•°æ¡ä»¶ç­›é€‰æ•°ç»„ï¼Œå°†æœ€åä¸€ä¸ªæ»¡è¶³æ¡ä»¶çš„å…ƒç´ è¿›è¡Œåˆ é™¤ã€‚</p>
 <figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const findLast &#x3D; (arr, fn) &#x3D;&gt; arr.filter(fn).pop();</span><br><span class="line"></span><br><span class="line">findLast([1, 2, 3, 4], n &#x3D;&gt; n % 2 &#x3D;&#x3D;&#x3D; 1); &#x2F;&#x2F; 3</span><br></pre></td></tr></table></figure>

<h1 id="39ã€flatten-important"><a href="#39ã€flatten-important" class="headerlink" title="39ã€flatten (important)"></a><strong>39ã€flatten</strong> (important)</h1><p>æŒ‰ç…§æŒ‡å®šæ•°ç»„çš„æ·±åº¦ï¼Œå°†åµŒå¥—æ•°ç»„è¿›è¡Œå±•å¹³ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const flatten &#x3D; (arr, depth &#x3D; 1) &#x3D;&gt;</span><br><span class="line">  arr.reduce((a, v) &#x3D;&gt; a.concat(depth &gt; 1 &amp;&amp; Array.isArray(v) ? flatten(v, depth - 1) : v), []);</span><br><span class="line"></span><br><span class="line">flatten([1, [2], 3, 4]); &#x2F;&#x2F; [1, 2, 3, 4]</span><br><span class="line">flatten([1, [2, [3, [4, 5], 6], 7], 8], 2); &#x2F;&#x2F; [1, 2, 3, [4, 5], 6, 7, 8]</span><br></pre></td></tr></table></figure>

<h1 id="40ã€forEachRight"><a href="#40ã€forEachRight" class="headerlink" title="40ã€forEachRight"></a><strong>40ã€forEachRight</strong></h1><p>æŒ‰ç…§ç»™å®šçš„å‡½æ•°æ¡ä»¶ï¼Œä»æ•°ç»„çš„å³è¾¹å¾€å·¦ä¾æ¬¡è¿›è¡Œæ‰§è¡Œã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const forEachRight &#x3D; (arr, callback) &#x3D;&gt;</span><br><span class="line">  arr</span><br><span class="line">    .slice(0)</span><br><span class="line">    .reverse()</span><br><span class="line">    .forEach(callback);</span><br><span class="line">    </span><br><span class="line">forEachRight([1, 2, 3, 4], val &#x3D;&gt; console.log(val)); &#x2F;&#x2F; &#39;4&#39;, &#39;3&#39;, &#39;2&#39;, &#39;1&#39;</span><br></pre></td></tr></table></figure>

<h1 id="41ã€forOwn"><a href="#41ã€forOwn" class="headerlink" title="41ã€forOwn"></a><strong>41ã€forOwn</strong></h1><p>æ­¤æ®µä»£ç æŒ‰ç…§ç»™å®šçš„å‡½æ•°æ¡ä»¶ï¼Œæ”¯æŒä¸‰ä¸ªå‚æ•°ä½œä¸ºè¾“å…¥ï¼ˆå€¼ã€é”®ã€å¯¹è±¡æœ¬èº«ï¼‰ï¼Œè¿›è¡Œè¿­ä»£å¯¹è±¡ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const forOwn &#x3D; (obj, fn) &#x3D;&gt; Object.keys(obj).forEach(key &#x3D;&gt; fn(obj[key], key, obj));</span><br><span class="line">forOwn(&#123; foo: &#39;bar&#39;, a: 1 &#125;, v &#x3D;&gt; console.log(v));</span><br><span class="line">&#x2F;&#x2F; &#39;bar&#39;, 1</span><br></pre></td></tr></table></figure>

<h1 id="42ã€functionName"><a href="#42ã€functionName" class="headerlink" title="42ã€functionName"></a><strong>42ã€functionName</strong></h1><p>æ­¤æ®µä»£ç è¾“å‡ºå‡½æ•°çš„åç§°ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const functionName &#x3D; fn &#x3D;&gt; (console.debug(fn.name), fn);</span><br><span class="line"></span><br><span class="line">functionName(Math.max); &#x2F;&#x2F; max (logged in debug channel of console)</span><br></pre></td></tr></table></figure>

<h1 id="43ã€getColonTimeFromDate"><a href="#43ã€getColonTimeFromDate" class="headerlink" title="43ã€getColonTimeFromDate"></a><strong>43ã€getColonTimeFromDate</strong></h1><p>æ­¤æ®µä»£ç ä»Dateå¯¹è±¡é‡Œè·å–å½“å‰æ—¶é—´ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const getColonTimeFromDate &#x3D; date &#x3D;&gt; date.toTimeString().slice(0, 8);</span><br><span class="line">getColonTimeFromDate(new Date()); &#x2F;&#x2F; &quot;08:38:00&quot;</span><br></pre></td></tr></table></figure>

<h1 id="44ã€getDaysDiffBetweenDates-important"><a href="#44ã€getDaysDiffBetweenDates-important" class="headerlink" title="44ã€getDaysDiffBetweenDates (important)"></a><strong>44ã€getDaysDiffBetweenDates</strong> (important)</h1><p>æ­¤æ®µä»£ç è¿”å›ä¸¤ä¸ªæ—¥æœŸä¹‹é—´ç›¸å·®å¤šå°‘å¤©ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const getDaysDiffBetweenDates &#x3D; (dateInitial, dateFinal) &#x3D;&gt;</span><br><span class="line">  (dateFinal - dateInitial) &#x2F; (1000 * 3600 * 24);</span><br><span class="line">  </span><br><span class="line">getDaysDiffBetweenDates(new Date(&#39;2019-01-13&#39;), new Date(&#39;2019-01-15&#39;)); &#x2F;&#x2F; 2</span><br></pre></td></tr></table></figure>

<h1 id="45ã€getStyle"><a href="#45ã€getStyle" class="headerlink" title="45ã€getStyle"></a><strong>45ã€getStyle</strong></h1><p>æ­¤ä»£ç è¿”å›DOMå…ƒç´ èŠ‚ç‚¹å¯¹åº”çš„å±æ€§å€¼ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const getStyle &#x3D; (el, ruleName) &#x3D;&gt; getComputedStyle(el)[ruleName];</span><br><span class="line"></span><br><span class="line">getStyle(document.querySelector(&#39;p&#39;), &#39;font-size&#39;); &#x2F;&#x2F; &#39;16px&#39;</span><br></pre></td></tr></table></figure>

<h1 id="46ã€getType-important"><a href="#46ã€getType-important" class="headerlink" title="46ã€getType (important)"></a><strong>46ã€getType</strong> (important)</h1><p>æ­¤æ®µä»£ç çš„ä¸»è¦åŠŸèƒ½å°±æ˜¯è¿”å›æ•°æ®çš„ç±»å‹ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const getType &#x3D; v &#x3D;&gt;</span><br><span class="line">  v &#x3D;&#x3D;&#x3D; undefined ? &#39;undefined&#39; : v &#x3D;&#x3D;&#x3D; null ? &#39;null&#39; : v.constructor.name.toLowerCase();</span><br><span class="line">  </span><br><span class="line">getType(new Set([1, 2, 3])); &#x2F;&#x2F; &#39;set&#39;</span><br></pre></td></tr></table></figure>

<h1 id="47ã€hasClass"><a href="#47ã€hasClass" class="headerlink" title="47ã€hasClass"></a><strong>47ã€hasClass</strong></h1><p>æ­¤æ®µä»£ç è¿”å›DOMå…ƒç´ æ˜¯å¦åŒ…å«æŒ‡å®šçš„Classæ ·å¼ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const hasClass &#x3D; (el, className) &#x3D;&gt; el.classList.contains(className);</span><br><span class="line">hasClass(document.querySelector(&#39;p.special&#39;), &#39;special&#39;); &#x2F;&#x2F; true</span><br></pre></td></tr></table></figure>

<h1 id="48ã€head"><a href="#48ã€head" class="headerlink" title="48ã€head"></a><strong>48ã€head</strong></h1><p>æ­¤æ®µä»£ç è¾“å‡ºæ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const head &#x3D; arr &#x3D;&gt; arr[0];</span><br><span class="line"></span><br><span class="line">head([1, 2, 3]); &#x2F;&#x2F; 1</span><br></pre></td></tr></table></figure>

<h1 id="49ã€hide"><a href="#49ã€hide" class="headerlink" title="49ã€hide"></a><strong>49ã€hide</strong></h1><p>æ­¤æ®µä»£ç éšè—æŒ‡å®šçš„DOMå…ƒç´ ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const hide &#x3D; (...el) &#x3D;&gt; [...el].forEach(e &#x3D;&gt; (e.style.display &#x3D; &#39;none&#39;));</span><br><span class="line"></span><br><span class="line">hide(document.querySelectorAll(&#39;img&#39;)); &#x2F;&#x2F; Hides all &lt;img&gt; elements on the page</span><br></pre></td></tr></table></figure>

<h1 id="50ã€httpsRedirect"><a href="#50ã€httpsRedirect" class="headerlink" title="50ã€httpsRedirect"></a><strong>50ã€httpsRedirect</strong></h1><p>æ­¤æ®µä»£ç çš„åŠŸèƒ½å°±æ˜¯å°†httpç½‘å€é‡å®šå‘httpsç½‘å€ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const httpsRedirect &#x3D; () &#x3D;&gt; &#123;</span><br><span class="line">  if (location.protocol !&#x3D;&#x3D; &#39;https:&#39;) location.replace(&#39;https:&#x2F;&#x2F;&#39; + location.href.split(&#39;&#x2F;&#x2F;&#39;)[1]);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">httpsRedirect(); </span><br><span class="line">&#x2F;&#x2F; If you are on http:&#x2F;&#x2F;mydomain.com, you are redirected to https:&#x2F;&#x2F;mydomain.com</span><br></pre></td></tr></table></figure>

<h1 id="51ã€indexOfAll-important"><a href="#51ã€indexOfAll-important" class="headerlink" title="51ã€indexOfAll (important)"></a><strong>51ã€indexOfAll</strong> (important)</h1><p>æ­¤ä»£ç å¯ä»¥è¿”å›æ•°ç»„ä¸­æŸä¸ªå€¼å¯¹åº”çš„æ‰€æœ‰ç´¢å¼•å€¼ï¼Œå¦‚æœä¸åŒ…å«è¯¥å€¼ï¼Œåˆ™è¿”å›ä¸€ä¸ªç©ºæ•°ç»„ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const indexOfAll &#x3D; (arr, val) &#x3D;&gt; arr.reduce((acc, el, i) &#x3D;&gt; (el &#x3D;&#x3D;&#x3D; val ? [...acc, i] : acc), []);</span><br><span class="line"></span><br><span class="line">indexOfAll([1, 2, 3, 1, 2, 3], 1); &#x2F;&#x2F; [0,3]</span><br><span class="line">indexOfAll([1, 2, 3], 4); &#x2F;&#x2F; []</span><br></pre></td></tr></table></figure>

<h1 id="52ã€initial-important"><a href="#52ã€initial-important" class="headerlink" title="52ã€initial (important)"></a><strong>52ã€initial</strong> (important)</h1><p>æ­¤æ®µä»£ç è¿”å›æ•°ç»„ä¸­é™¤æœ€åä¸€ä¸ªå…ƒç´ çš„æ‰€æœ‰å…ƒç´ ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const initial &#x3D; arr &#x3D;&gt; arr.slice(0, -1);</span><br><span class="line"></span><br><span class="line">initial([1, 2, 3]); &#x2F;&#x2F; [1,2]const initial &#x3D; arr &#x3D;&gt; arr.slice(0, -1);</span><br><span class="line">initial([1, 2, 3]); &#x2F;&#x2F; [1,2]</span><br></pre></td></tr></table></figure>

<h1 id="53ã€insertAfter"><a href="#53ã€insertAfter" class="headerlink" title="53ã€insertAfter"></a><strong>53ã€insertAfter</strong></h1><p>æ­¤æ®µä»£ç çš„åŠŸèƒ½ä¸»è¦æ˜¯åœ¨ç»™å®šçš„DOMèŠ‚ç‚¹åæ’å…¥æ–°çš„èŠ‚ç‚¹å†…å®¹</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const insertAfter &#x3D; (el, htmlString) &#x3D;&gt; el.insertAdjacentHTML(&#39;afterend&#39;, htmlString);</span><br><span class="line"></span><br><span class="line">insertAfter(document.getElementById(&#39;myId&#39;), &#39;&lt;p&gt;after&lt;&#x2F;p&gt;&#39;); &#x2F;&#x2F; &lt;div id&#x3D;&quot;myId&quot;&gt;...&lt;&#x2F;div&gt; &lt;p&gt;after&lt;&#x2F;p&gt;</span><br></pre></td></tr></table></figure>

<h1 id="54ã€insertBefore"><a href="#54ã€insertBefore" class="headerlink" title="54ã€insertBefore"></a><strong>54ã€insertBefore</strong></h1><p>æ­¤æ®µä»£ç çš„åŠŸèƒ½ä¸»è¦æ˜¯åœ¨ç»™å®šçš„DOMèŠ‚ç‚¹å‰æ’å…¥æ–°çš„èŠ‚ç‚¹å†…å®¹</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const insertBefore &#x3D; (el, htmlString) &#x3D;&gt; el.insertAdjacentHTML(&#39;beforebegin&#39;, htmlString);</span><br><span class="line"></span><br><span class="line">insertBefore(document.getElementById(&#39;myId&#39;), &#39;&lt;p&gt;before&lt;&#x2F;p&gt;&#39;); &#x2F;&#x2F; &lt;p&gt;before&lt;&#x2F;p&gt; &lt;div id&#x3D;&quot;myId&quot;&gt;...&lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure>

<h1 id="55ã€intersection-important"><a href="#55ã€intersection-important" class="headerlink" title="55ã€intersection (important)"></a><strong>55ã€intersection</strong> (important)</h1><p>æ­¤æ®µä»£ç è¿”å›ä¸¤ä¸ªæ•°ç»„å…ƒç´ ä¹‹é—´çš„äº¤é›†ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const intersection &#x3D; (a, b) &#x3D;&gt; &#123;</span><br><span class="line">  const s &#x3D; new Set(b);</span><br><span class="line">  return a.filter(x &#x3D;&gt; s.has(x));</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">intersection([1, 2, 3], [4, 3, 2]); &#x2F;&#x2F; [2, 3]</span><br></pre></td></tr></table></figure>

<h1 id="56ã€intersectionBy-important"><a href="#56ã€intersectionBy-important" class="headerlink" title="56ã€intersectionBy (important)"></a><strong>56ã€intersectionBy</strong> (important)</h1><p>æŒ‰ç…§ç»™å®šçš„å‡½æ•°å¤„ç†éœ€è¦å¯¹æ¯”çš„æ•°ç»„å…ƒç´ ï¼Œç„¶åæ ¹æ®å¤„ç†åçš„æ•°ç»„ï¼Œæ‰¾å‡ºäº¤é›†ï¼Œæœ€åä»ç¬¬ä¸€ä¸ªæ•°ç»„ä¸­å°†å¯¹åº”çš„å…ƒç´ è¾“å‡ºã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const intersectionBy &#x3D; (a, b, fn) &#x3D;&gt; &#123;</span><br><span class="line">  const s &#x3D; new Set(b.map(fn));</span><br><span class="line">  return a.filter(x &#x3D;&gt; s.has(fn(x)));</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">intersectionBy([2.1, 1.2], [2.3, 3.4], Math.floor); &#x2F;&#x2F; [2.1]</span><br></pre></td></tr></table></figure>

<h1 id="57ã€intersectionBy"><a href="#57ã€intersectionBy" class="headerlink" title="57ã€intersectionBy"></a><strong>57ã€intersectionBy</strong></h1><p>æŒ‰ç…§ç»™å®šçš„å‡½æ•°å¯¹æ¯”ä¸¤ä¸ªæ•°ç»„çš„å·®å¼‚ï¼Œç„¶åæ‰¾å‡ºäº¤é›†ï¼Œæœ€åä»ç¬¬ä¸€ä¸ªæ•°ç»„ä¸­å°†å¯¹åº”çš„å…ƒç´ è¾“å‡ºã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const intersectionWith &#x3D; (a, b, comp) &#x3D;&gt; a.filter(x &#x3D;&gt; b.findIndex(y &#x3D;&gt; comp(x, y)) !&#x3D;&#x3D; -1);</span><br><span class="line"></span><br><span class="line">intersectionWith([1, 1.2, 1.5, 3, 0], [1.9, 3, 0, 3.9], (a, b) &#x3D;&gt; Math.round(a) &#x3D;&#x3D;&#x3D; Math.round(b)); &#x2F;&#x2F; [1.5, 3, 0]</span><br></pre></td></tr></table></figure>

<h1 id="58ã€is"><a href="#58ã€is" class="headerlink" title="58ã€is"></a><strong>58ã€is</strong></h1><p>æ­¤æ®µä»£ç ç”¨äºåˆ¤æ–­æ•°æ®æ˜¯å¦ä¸ºæŒ‡å®šçš„æ•°æ®ç±»å‹ï¼Œå¦‚æœæ˜¯åˆ™è¿”å›trueã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const is &#x3D; (type, val) &#x3D;&gt; ![, null].includes(val) &amp;&amp; val.constructor &#x3D;&#x3D;&#x3D; type;</span><br><span class="line"></span><br><span class="line">is(Array, [1]); &#x2F;&#x2F; true</span><br><span class="line">is(ArrayBuffer, new ArrayBuffer()); &#x2F;&#x2F; true</span><br><span class="line">is(Map, new Map()); &#x2F;&#x2F; true</span><br><span class="line">is(RegExp, &#x2F;.&#x2F;g); &#x2F;&#x2F; true</span><br><span class="line">is(Set, new Set()); &#x2F;&#x2F; true</span><br><span class="line">is(WeakMap, new WeakMap()); &#x2F;&#x2F; true</span><br><span class="line">is(WeakSet, new WeakSet()); &#x2F;&#x2F; true</span><br><span class="line">is(String, &#39;&#39;); &#x2F;&#x2F; true</span><br><span class="line">is(String, new String(&#39;&#39;)); &#x2F;&#x2F; true</span><br><span class="line">is(Number, 1); &#x2F;&#x2F; true</span><br><span class="line">is(Number, new Number(1)); &#x2F;&#x2F; true</span><br><span class="line">is(Boolean, true); &#x2F;&#x2F; true</span><br><span class="line">is(Boolean, new Boolean(true)); &#x2F;&#x2F; true</span><br></pre></td></tr></table></figure>

<h1 id="59ã€isAfterDate-important"><a href="#59ã€isAfterDate-important" class="headerlink" title="59ã€isAfterDate (important)"></a><strong>59ã€isAfterDate</strong> (important)</h1><p>æ¥æ”¶ä¸¤ä¸ªæ—¥æœŸç±»å‹çš„å‚æ•°ï¼Œåˆ¤æ–­å‰è€…çš„æ—¥æœŸæ˜¯å¦æ™šäºåè€…çš„æ—¥æœŸã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const isAfterDate &#x3D; (dateA, dateB) &#x3D;&gt; dateA &gt; dateB;</span><br><span class="line"></span><br><span class="line">isAfterDate(new Date(2010, 10, 21), new Date(2010, 10, 20)); &#x2F;&#x2F; true</span><br></pre></td></tr></table></figure>

<h1 id="60ã€isAnagram"><a href="#60ã€isAnagram" class="headerlink" title="60ã€isAnagram"></a><strong>60ã€isAnagram</strong></h1><p>ç”¨äºæ£€æµ‹ä¸¤ä¸ªå•è¯æ˜¯å¦ç›¸ä¼¼ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const isAnagram &#x3D; (str1, str2) &#x3D;&gt; &#123;</span><br><span class="line">  const normalize &#x3D; str &#x3D;&gt;</span><br><span class="line">    str</span><br><span class="line">      .toLowerCase()</span><br><span class="line">      .replace(&#x2F;[^a-z0-9]&#x2F;gi, &#39;&#39;)</span><br><span class="line">      .split(&#39;&#39;)</span><br><span class="line">      .sort()</span><br><span class="line">      .join(&#39;&#39;);</span><br><span class="line">  return normalize(str1) &#x3D;&#x3D;&#x3D; normalize(str2);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">isAnagram(&#39;iceman&#39;, &#39;cinema&#39;); &#x2F;&#x2F; true</span><br></pre></td></tr></table></figure>

<h1 id="61ã€isArrayLike"><a href="#61ã€isArrayLike" class="headerlink" title="61ã€isArrayLike"></a><strong>61ã€isArrayLike</strong></h1><p>æ­¤æ®µä»£ç ç”¨äºæ£€æµ‹å¯¹è±¡æ˜¯å¦ä¸ºç±»æ•°ç»„å¯¹è±¡,æ˜¯å¦å¯è¿­ä»£ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const isArrayLike &#x3D; obj &#x3D;&gt; obj !&#x3D; null &amp;&amp; typeof obj[Symbol.iterator] &#x3D;&#x3D;&#x3D; &#39;function&#39;;</span><br><span class="line"></span><br><span class="line">isArrayLike(document.querySelectorAll(&#39;.className&#39;)); &#x2F;&#x2F; true</span><br><span class="line">isArrayLike(&#39;abc&#39;); &#x2F;&#x2F; true</span><br><span class="line">isArrayLike(null); &#x2F;&#x2F; false</span><br></pre></td></tr></table></figure>

<h1 id="62ã€isBeforeDate"><a href="#62ã€isBeforeDate" class="headerlink" title="62ã€isBeforeDate"></a><strong>62ã€isBeforeDate</strong></h1><p>æ¥æ”¶ä¸¤ä¸ªæ—¥æœŸç±»å‹çš„å‚æ•°ï¼Œåˆ¤æ–­å‰è€…çš„æ—¥æœŸæ˜¯å¦æ—©äºåè€…çš„æ—¥æœŸã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const isBeforeDate &#x3D; (dateA, dateB) &#x3D;&gt; dateA &lt; dateB;</span><br><span class="line"></span><br><span class="line">isBeforeDate(new Date(2010, 10, 20), new Date(2010, 10, 21)); &#x2F;&#x2F; true</span><br></pre></td></tr></table></figure>

<h1 id="63ã€isBoolean"><a href="#63ã€isBoolean" class="headerlink" title="63ã€isBoolean"></a><strong>63ã€isBoolean</strong></h1><p>æ­¤æ®µä»£ç ç”¨äºæ£€æŸ¥å‚æ•°æ˜¯å¦ä¸ºå¸ƒå°”ç±»å‹ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const isBoolean &#x3D; val &#x3D;&gt; typeof val &#x3D;&#x3D;&#x3D; &#39;boolean&#39;;</span><br><span class="line">isBoolean(null); &#x2F;&#x2F; false</span><br><span class="line">isBoolean(false); &#x2F;&#x2F; true</span><br></pre></td></tr></table></figure>

<h1 id="64ã€getColonTimeFromDate"><a href="#64ã€getColonTimeFromDate" class="headerlink" title="64ã€getColonTimeFromDate"></a><strong>64ã€getColonTimeFromDate</strong></h1><p>ç”¨äºåˆ¤æ–­ç¨‹åºè¿è¡Œç¯å¢ƒæ˜¯å¦åœ¨æµè§ˆå™¨ï¼Œè¿™æœ‰åŠ©äºé¿å…åœ¨nodeç¯å¢ƒè¿è¡Œå‰ç«¯æ¨¡å—æ—¶å‡ºé”™ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const isBrowser &#x3D; () &#x3D;&gt; ![typeof window, typeof document].includes(&#39;undefined&#39;);</span><br><span class="line"></span><br><span class="line">isBrowser(); &#x2F;&#x2F; true (browser)</span><br><span class="line">isBrowser(); &#x2F;&#x2F; false (Node)</span><br></pre></td></tr></table></figure>

<h1 id="65ã€isBrowserTabFocused"><a href="#65ã€isBrowserTabFocused" class="headerlink" title="65ã€isBrowserTabFocused"></a><strong>65ã€isBrowserTabFocused</strong></h1><p>ç”¨äºåˆ¤æ–­å½“å‰é¡µé¢æ˜¯å¦å¤„äºæ´»åŠ¨çŠ¶æ€ï¼ˆæ˜¾ç¤ºçŠ¶æ€ï¼‰ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const isBrowserTabFocused &#x3D; () &#x3D;&gt; !document.hidden;</span><br><span class="line">isBrowserTabFocused(); &#x2F;&#x2F; true</span><br></pre></td></tr></table></figure>

<h1 id="66ã€isLowerCase"><a href="#66ã€isLowerCase" class="headerlink" title="66ã€isLowerCase"></a><strong>66ã€isLowerCase</strong></h1><p>ç”¨äºåˆ¤æ–­å½“å‰å­—ç¬¦ä¸²æ˜¯å¦éƒ½ä¸ºå°å†™ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const isLowerCase &#x3D; str &#x3D;&gt; str &#x3D;&#x3D;&#x3D; str.toLowerCase();</span><br><span class="line"></span><br><span class="line">isLowerCase(&#39;abc&#39;); &#x2F;&#x2F; true</span><br><span class="line">isLowerCase(&#39;a3@$&#39;); &#x2F;&#x2F; true</span><br><span class="line">isLowerCase(&#39;Ab4&#39;); &#x2F;&#x2F; false</span><br></pre></td></tr></table></figure>

<h1 id="67ã€isNil"><a href="#67ã€isNil" class="headerlink" title="67ã€isNil"></a><strong>67ã€isNil</strong></h1><p>ç”¨äºåˆ¤æ–­å½“å‰å˜é‡çš„å€¼æ˜¯å¦ä¸º null æˆ– undefined ç±»å‹ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const isNil &#x3D; val &#x3D;&gt; val &#x3D;&#x3D;&#x3D; undefined || val &#x3D;&#x3D;&#x3D; null;</span><br><span class="line"></span><br><span class="line">isNil(null); &#x2F;&#x2F; true</span><br><span class="line">isNil(undefined); &#x2F;&#x2F; true</span><br></pre></td></tr></table></figure>

<h1 id="68ã€isNull"><a href="#68ã€isNull" class="headerlink" title="68ã€isNull"></a><strong>68ã€isNull</strong></h1><p>ç”¨äºåˆ¤æ–­å½“å‰å˜é‡çš„å€¼æ˜¯å¦ä¸º null ç±»å‹ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const isNull &#x3D; val &#x3D;&gt; val &#x3D;&#x3D;&#x3D; null;</span><br><span class="line"></span><br><span class="line">isNull(null); &#x2F;&#x2F; true</span><br></pre></td></tr></table></figure>

<h1 id="69ã€isNumber"><a href="#69ã€isNumber" class="headerlink" title="69ã€isNumber"></a><strong>69ã€isNumber</strong></h1><p>ç”¨äºæ£€æŸ¥å½“å‰çš„å€¼æ˜¯å¦ä¸ºæ•°å­—ç±»å‹ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function isNumber(n) &#123;</span><br><span class="line">    return !isNaN(parseFloat(n)) &amp;&amp; isFinite(n);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">isNumber(&#39;1&#39;); &#x2F;&#x2F; false</span><br><span class="line">isNumber(1); &#x2F;&#x2F; true</span><br></pre></td></tr></table></figure>

<h1 id="70ã€isObject"><a href="#70ã€isObject" class="headerlink" title="70ã€isObject"></a><strong>70ã€isObject</strong></h1><p>ç”¨äºåˆ¤æ–­å‚æ•°çš„å€¼æ˜¯å¦æ˜¯å¯¹è±¡ï¼Œè¿™é‡Œè¿ç”¨äº†Object æ„é€ å‡½æ•°åˆ›å»ºä¸€ä¸ªå¯¹è±¡åŒ…è£…å™¨ï¼Œå¦‚æœæ˜¯å¯¹è±¡ç±»å‹ï¼Œå°†ä¼šåŸå€¼è¿”å›ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const isObject &#x3D; obj &#x3D;&gt; obj &#x3D;&#x3D;&#x3D; Object(obj);</span><br><span class="line"></span><br><span class="line">isObject([1, 2, 3, 4]); &#x2F;&#x2F; true</span><br><span class="line">isObject([]); &#x2F;&#x2F; true</span><br><span class="line">isObject([&#39;Hello!&#39;]); &#x2F;&#x2F; true</span><br><span class="line">isObject(&#123; a: 1 &#125;); &#x2F;&#x2F; true</span><br><span class="line">isObject(&#123;&#125;); &#x2F;&#x2F; true</span><br><span class="line">isObject(true); &#x2F;&#x2F; false</span><br></pre></td></tr></table></figure>

<h1 id="71ã€isObjectLike"><a href="#71ã€isObjectLike" class="headerlink" title="71ã€isObjectLike"></a><strong>71ã€isObjectLike</strong></h1><p>ç”¨äºæ£€æŸ¥å‚æ•°çš„å€¼æ˜¯å¦ä¸ºnullä»¥åŠç±»å‹æ˜¯å¦ä¸ºå¯¹è±¡ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const isObjectLike &#x3D; val &#x3D;&gt; val !&#x3D;&#x3D; null &amp;&amp; typeof val &#x3D;&#x3D;&#x3D; &#39;object&#39;;</span><br><span class="line"></span><br><span class="line">isObjectLike(&#123;&#125;); &#x2F;&#x2F; true</span><br><span class="line">isObjectLike([1, 2, 3]); &#x2F;&#x2F; true</span><br><span class="line">isObjectLike(x &#x3D;&gt; x); &#x2F;&#x2F; false</span><br><span class="line">isObjectLike(null); &#x2F;&#x2F; false</span><br></pre></td></tr></table></figure>

<h1 id="72ã€isPlainObject"><a href="#72ã€isPlainObject" class="headerlink" title="72ã€isPlainObject"></a><strong>72ã€isPlainObject</strong></h1><p>æ­¤ä»£ç æ®µæ£€æŸ¥å‚æ•°çš„å€¼æ˜¯å¦æ˜¯ç”±Objectæ„é€ å‡½æ•°åˆ›å»ºçš„å¯¹è±¡ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const isPlainObject &#x3D; val &#x3D;&gt; !!val &amp;&amp; typeof val &#x3D;&#x3D;&#x3D; &#39;object&#39; &amp;&amp; val.constructor &#x3D;&#x3D;&#x3D; Object;</span><br><span class="line"></span><br><span class="line">isPlainObject(&#123; a: 1 &#125;); &#x2F;&#x2F; true</span><br><span class="line">isPlainObject(new Map()); &#x2F;&#x2F; false</span><br></pre></td></tr></table></figure>

<h1 id="73ã€isPromiseLike"><a href="#73ã€isPromiseLike" class="headerlink" title="73ã€isPromiseLike"></a><strong>73ã€isPromiseLike</strong></h1><p>ç”¨äºæ£€æŸ¥å½“å‰çš„å¯¹è±¡æ˜¯å¦ç±»ä¼¼Promiseå‡½æ•°ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">onst isPromiseLike &#x3D; obj &#x3D;&gt;</span><br><span class="line">  obj !&#x3D;&#x3D; null &amp;&amp;</span><br><span class="line">  (typeof obj &#x3D;&#x3D;&#x3D; &#39;object&#39; || typeof obj &#x3D;&#x3D;&#x3D; &#39;function&#39;) &amp;&amp;</span><br><span class="line">  typeof obj.then &#x3D;&#x3D;&#x3D; &#39;function&#39;;</span><br><span class="line">  </span><br><span class="line">isPromiseLike(&#123;</span><br><span class="line">  then: function() &#123;</span><br><span class="line">    return &#39;&#39;;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;); &#x2F;&#x2F; true</span><br><span class="line">isPromiseLike(null); &#x2F;&#x2F; false</span><br><span class="line">isPromiseLike(&#123;&#125;); &#x2F;&#x2F; false</span><br></pre></td></tr></table></figure>

<h1 id="74ã€isSameDate-important"><a href="#74ã€isSameDate-important" class="headerlink" title="74ã€isSameDate (important)"></a><strong>74ã€isSameDate</strong> (important)</h1><p>ç”¨äºåˆ¤æ–­ç»™å®šçš„ä¸¤ä¸ªæ—¥æœŸæ˜¯å¦æ˜¯åŒä¸€å¤©ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const isSameDate &#x3D; (dateA, dateB) &#x3D;&gt; dateA.toISOString() &#x3D;&#x3D;&#x3D; dateB.toISOString();</span><br><span class="line"></span><br><span class="line">isSameDate(new Date(2010, 10, 20), new Date(2010, 10, 20)); &#x2F;&#x2F; true</span><br></pre></td></tr></table></figure>

<h1 id="75ã€isString"><a href="#75ã€isString" class="headerlink" title="75ã€isString"></a><strong>75ã€isString</strong></h1><p>ç”¨äºæ£€æŸ¥å½“å‰çš„å€¼æ˜¯å¦ä¸ºå­—ç¬¦ä¸²ç±»å‹ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const isString &#x3D; val &#x3D;&gt; typeof val &#x3D;&#x3D;&#x3D; &#39;string&#39;;</span><br><span class="line"></span><br><span class="line">isString(&#39;10&#39;); &#x2F;&#x2F; true</span><br></pre></td></tr></table></figure>

<h1 id="76ã€isSymbol"><a href="#76ã€isSymbol" class="headerlink" title="76ã€isSymbol"></a><strong>76ã€isSymbol</strong></h1><p>ç”¨äºåˆ¤æ–­å‚æ•°çš„å€¼æ˜¯å¦æ˜¯ Symbol ç±»å‹ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const isSymbol &#x3D; val &#x3D;&gt; typeof val &#x3D;&#x3D;&#x3D; &#39;symbol&#39;;</span><br><span class="line"></span><br><span class="line">isSymbol(Symbol(&#39;x&#39;)); &#x2F;&#x2F; true</span><br></pre></td></tr></table></figure>

<h1 id="77ã€isUndefined"><a href="#77ã€isUndefined" class="headerlink" title="77ã€isUndefined"></a><strong>77ã€isUndefined</strong></h1><p>ç”¨äºåˆ¤æ–­å‚æ•°çš„ç±»å‹æ˜¯å¦æ˜¯ Undefined ç±»å‹ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const isUndefined &#x3D; val &#x3D;&gt; val &#x3D;&#x3D;&#x3D; undefined;</span><br><span class="line"></span><br><span class="line">isUndefined(undefined); &#x2F;&#x2F; true</span><br></pre></td></tr></table></figure>

<h1 id="78ã€isUpperCase"><a href="#78ã€isUpperCase" class="headerlink" title="78ã€isUpperCase"></a><strong>78ã€isUpperCase</strong></h1><p>ç”¨äºåˆ¤æ–­å½“å‰å­—ç¬¦ä¸²çš„å­—æ¯æ˜¯å¦éƒ½ä¸ºå¤§å†™ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const isUpperCase &#x3D; str &#x3D;&gt; str &#x3D;&#x3D;&#x3D; str.toUpperCase();</span><br><span class="line"></span><br><span class="line">isUpperCase(&#39;ABC&#39;); &#x2F;&#x2F; true</span><br><span class="line">isLowerCase(&#39;A3@$&#39;); &#x2F;&#x2F; true</span><br><span class="line">isLowerCase(&#39;aB4&#39;); &#x2F;&#x2F; false</span><br></pre></td></tr></table></figure>

<h1 id="79ã€isValidJSON"><a href="#79ã€isValidJSON" class="headerlink" title="79ã€isValidJSON"></a><strong>79ã€isValidJSON</strong></h1><p>ç”¨äºåˆ¤æ–­ç»™å®šçš„å­—ç¬¦ä¸²æ˜¯å¦æ˜¯ JSON å­—ç¬¦ä¸²ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const isValidJSON &#x3D; str &#x3D;&gt; &#123;</span><br><span class="line">  try &#123;</span><br><span class="line">    JSON.parse(str);</span><br><span class="line">    return true;</span><br><span class="line">  &#125; catch (e) &#123;</span><br><span class="line">    return false;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">isValidJSON(&#39;&#123;&quot;name&quot;:&quot;Adam&quot;,&quot;age&quot;:20&#125;&#39;); &#x2F;&#x2F; true</span><br><span class="line">isValidJSON(&#39;&#123;&quot;name&quot;:&quot;Adam&quot;,age:&quot;20&quot;&#125;&#39;); &#x2F;&#x2F; false</span><br><span class="line">isValidJSON(null); &#x2F;&#x2F; true</span><br></pre></td></tr></table></figure>

<h1 id="80ã€last"><a href="#80ã€last" class="headerlink" title="80ã€last"></a><strong>80ã€last</strong></h1><p>æ­¤å‡½æ•°åŠŸèƒ½è¿”å›æ•°ç»„çš„æœ€åä¸€ä¸ªå…ƒç´ ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const last &#x3D; arr &#x3D;&gt; arr[arr.length - 1];</span><br><span class="line"></span><br><span class="line">last([1, 2, 3]); &#x2F;&#x2F; 3</span><br></pre></td></tr></table></figure>

<h1 id="81ã€matches"><a href="#81ã€matches" class="headerlink" title="81ã€matches"></a><strong>81ã€matches</strong></h1><p>æ­¤å‡½æ•°åŠŸèƒ½ç”¨äºæ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡ï¼Œä»¥ç¡®å®šç¬¬ä¸€ä¸ªå¯¹è±¡æ˜¯å¦åŒ…å«ä¸ç¬¬äºŒä¸ªå¯¹è±¡ç›¸åŒçš„å±æ€§ä¸å€¼ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const matches &#x3D; (obj, source) &#x3D;&gt;</span><br><span class="line">  Object.keys(source).every(key &#x3D;&gt; obj.hasOwnProperty(key) &amp;&amp; obj[key] &#x3D;&#x3D;&#x3D; source[key]);</span><br><span class="line">  </span><br><span class="line">matches(&#123; age: 25, hair: &#39;long&#39;, beard: true &#125;, &#123; hair: &#39;long&#39;, beard: true &#125;); &#x2F;&#x2F; true</span><br><span class="line">matches(&#123; hair: &#39;long&#39;, beard: true &#125;, &#123; age: 25, hair: &#39;long&#39;, beard: true &#125;); &#x2F;&#x2F; false</span><br></pre></td></tr></table></figure>

<h1 id="82ã€maxDate"><a href="#82ã€maxDate" class="headerlink" title="82ã€maxDate"></a><strong>82ã€maxDate</strong></h1><p>æ­¤ä»£ç æ®µæŸ¥æ‰¾æ—¥æœŸæ•°ç»„ä¸­æœ€å¤§çš„æ—¥æœŸè¿›è¡Œè¾“å‡ºã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const maxDate &#x3D; (...dates) &#x3D;&gt; new Date(Math.max.apply(null, ...dates));</span><br><span class="line"></span><br><span class="line">const array &#x3D; [</span><br><span class="line">  new Date(2017, 4, 13),</span><br><span class="line">  new Date(2018, 2, 12),</span><br><span class="line">  new Date(2016, 0, 10),</span><br><span class="line">  new Date(2016, 0, 9)</span><br><span class="line">];</span><br><span class="line">maxDate(array); &#x2F;&#x2F; 2018-03-11T22:00:00.000Z</span><br></pre></td></tr></table></figure>

<h1 id="83ã€maxN"><a href="#83ã€maxN" class="headerlink" title="83ã€maxN"></a><strong>83ã€maxN</strong></h1><p>æ­¤æ®µä»£ç è¾“å‡ºæ•°ç»„ä¸­å‰ n ä½æœ€å¤§çš„æ•°ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const maxN &#x3D; (arr, n &#x3D; 1) &#x3D;&gt; [...arr].sort((a, b) &#x3D;&gt; b - a).slice(0, n);</span><br><span class="line"></span><br><span class="line">maxN([1, 2, 3]); &#x2F;&#x2F; [3]</span><br><span class="line">maxN([1, 2, 3], 2); &#x2F;&#x2F; [3,2]</span><br></pre></td></tr></table></figure>

<h1 id="84ã€minDate"><a href="#84ã€minDate" class="headerlink" title="84ã€minDate"></a><strong>84ã€minDate</strong></h1><p>æ­¤ä»£ç æ®µæŸ¥æ‰¾æ—¥æœŸæ•°ç»„ä¸­æœ€æ—©çš„æ—¥æœŸè¿›è¡Œè¾“å‡ºã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const minDate &#x3D; (...dates) &#x3D;&gt; new Date(Math.min.apply(null, ...dates));</span><br><span class="line"></span><br><span class="line">const array &#x3D; [</span><br><span class="line">  new Date(2017, 4, 13),</span><br><span class="line">  new Date(2018, 2, 12),</span><br><span class="line">  new Date(2016, 0, 10),</span><br><span class="line">  new Date(2016, 0, 9)</span><br><span class="line">];</span><br><span class="line">minDate(array); &#x2F;&#x2F; 2016-01-08T22:00:00.000Z</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>js</category>
      </categories>
      <tags>
        <tag>es6</tag>
        <tag>js</tag>
        <tag>ä»£ç ç‰‡æ®µ</tag>
        <tag>reduce</tag>
      </tags>
  </entry>
  <entry>
    <title>jsä¹‹Math</title>
    <url>/2020/09/23/js%E4%B9%8BMath/</url>
    <content><![CDATA[<h2 id="Math-å¯¹è±¡æ–¹æ³•"><a href="#Math-å¯¹è±¡æ–¹æ³•" class="headerlink" title="Math å¯¹è±¡æ–¹æ³•"></a>Math å¯¹è±¡æ–¹æ³•</h2><a id="more"></a>

<table>
<thead>
<tr>
<th align="left">æ–¹æ³•</th>
<th align="left">æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><a href="https://www.w3school.com.cn/jsref/jsref_abs.asp" target="_blank" rel="noopener">abs(x)</a></td>
<td align="left">è¿”å›æ•°çš„ç»å¯¹å€¼ã€‚</td>
</tr>
<tr>
<td align="left"><a href="https://www.w3school.com.cn/jsref/jsref_acos.asp" target="_blank" rel="noopener">acos(x)</a></td>
<td align="left">è¿”å›æ•°çš„åä½™å¼¦å€¼ã€‚</td>
</tr>
<tr>
<td align="left"><a href="https://www.w3school.com.cn/jsref/jsref_asin.asp" target="_blank" rel="noopener">asin(x)</a></td>
<td align="left">è¿”å›æ•°çš„åæ­£å¼¦å€¼ã€‚</td>
</tr>
<tr>
<td align="left"><a href="https://www.w3school.com.cn/jsref/jsref_atan.asp" target="_blank" rel="noopener">atan(x)</a></td>
<td align="left">ä»¥ä»‹äº -PI/2 ä¸ PI/2 å¼§åº¦ä¹‹é—´çš„æ•°å€¼æ¥è¿”å› x çš„åæ­£åˆ‡å€¼ã€‚</td>
</tr>
<tr>
<td align="left"><a href="https://www.w3school.com.cn/jsref/jsref_atan2.asp" target="_blank" rel="noopener">atan2(y,x)</a></td>
<td align="left">è¿”å›ä» x è½´åˆ°ç‚¹ (x,y) çš„è§’åº¦ï¼ˆä»‹äº -PI/2 ä¸ PI/2 å¼§åº¦ä¹‹é—´ï¼‰ã€‚</td>
</tr>
<tr>
<td align="left"><a href="https://www.w3school.com.cn/jsref/jsref_ceil.asp" target="_blank" rel="noopener">ceil(x)</a></td>
<td align="left">å¯¹æ•°è¿›è¡Œä¸Šèˆå…¥ã€‚</td>
</tr>
<tr>
<td align="left"><a href="https://www.w3school.com.cn/jsref/jsref_cos.asp" target="_blank" rel="noopener">cos(x)</a></td>
<td align="left">è¿”å›æ•°çš„ä½™å¼¦ã€‚</td>
</tr>
<tr>
<td align="left"><a href="https://www.w3school.com.cn/jsref/jsref_exp.asp" target="_blank" rel="noopener">exp(x)</a></td>
<td align="left">è¿”å› e çš„æŒ‡æ•°ã€‚</td>
</tr>
<tr>
<td align="left"><a href="https://www.w3school.com.cn/jsref/jsref_floor.asp" target="_blank" rel="noopener">floor(x)</a></td>
<td align="left">å¯¹æ•°è¿›è¡Œä¸‹èˆå…¥ã€‚</td>
</tr>
<tr>
<td align="left"><a href="https://www.w3school.com.cn/jsref/jsref_log.asp" target="_blank" rel="noopener">log(x)</a></td>
<td align="left">è¿”å›æ•°çš„è‡ªç„¶å¯¹æ•°ï¼ˆåº•ä¸ºeï¼‰ã€‚</td>
</tr>
<tr>
<td align="left"><a href="https://www.w3school.com.cn/jsref/jsref_max.asp" target="_blank" rel="noopener">max(x,y)</a></td>
<td align="left">è¿”å› x å’Œ y ä¸­çš„æœ€é«˜å€¼ã€‚</td>
</tr>
<tr>
<td align="left"><a href="https://www.w3school.com.cn/jsref/jsref_min.asp" target="_blank" rel="noopener">min(x,y)</a></td>
<td align="left">è¿”å› x å’Œ y ä¸­çš„æœ€ä½å€¼ã€‚</td>
</tr>
<tr>
<td align="left"><a href="https://www.w3school.com.cn/jsref/jsref_pow.asp" target="_blank" rel="noopener">pow(x,y)</a></td>
<td align="left">è¿”å› x çš„ y æ¬¡å¹‚ã€‚</td>
</tr>
<tr>
<td align="left"><a href="https://www.w3school.com.cn/jsref/jsref_random.asp" target="_blank" rel="noopener">random()</a></td>
<td align="left">è¿”å› 0 ~ 1 ä¹‹é—´çš„éšæœºæ•°ã€‚</td>
</tr>
<tr>
<td align="left"><a href="https://www.w3school.com.cn/jsref/jsref_round.asp" target="_blank" rel="noopener">round(x)</a></td>
<td align="left">æŠŠæ•°å››èˆäº”å…¥ä¸ºæœ€æ¥è¿‘çš„æ•´æ•°ã€‚</td>
</tr>
<tr>
<td align="left"><a href="https://www.w3school.com.cn/jsref/jsref_sin.asp" target="_blank" rel="noopener">sin(x)</a></td>
<td align="left">è¿”å›æ•°çš„æ­£å¼¦ã€‚</td>
</tr>
<tr>
<td align="left"><a href="https://www.w3school.com.cn/jsref/jsref_sqrt.asp" target="_blank" rel="noopener">sqrt(x)</a></td>
<td align="left">è¿”å›æ•°çš„å¹³æ–¹æ ¹ã€‚</td>
</tr>
<tr>
<td align="left"><a href="https://www.w3school.com.cn/jsref/jsref_tan.asp" target="_blank" rel="noopener">tan(x)</a></td>
<td align="left">è¿”å›è§’çš„æ­£åˆ‡ã€‚</td>
</tr>
<tr>
<td align="left"><a href="https://www.w3school.com.cn/jsref/jsref_tosource_math.asp" target="_blank" rel="noopener">toSource()</a></td>
<td align="left">è¿”å›è¯¥å¯¹è±¡çš„æºä»£ç ã€‚</td>
</tr>
<tr>
<td align="left"><a href="https://www.w3school.com.cn/jsref/jsref_valueof_math.asp" target="_blank" rel="noopener">valueOf()</a></td>
<td align="left">è¿”å› Math å¯¹è±¡çš„åŸå§‹å€¼ã€‚</td>
</tr>
</tbody></table>
]]></content>
      <categories>
        <category>Math</category>
      </categories>
      <tags>
        <tag>Math</tag>
      </tags>
  </entry>
  <entry>
    <title>jsä¹‹callå’Œapply</title>
    <url>/2020/09/14/js%E4%B9%8Bcall%E5%92%8Capply/</url>
    <content><![CDATA[<h3 id="æ˜¯åšå•¥çš„"><a href="#æ˜¯åšå•¥çš„" class="headerlink" title="æ˜¯åšå•¥çš„"></a>æ˜¯åšå•¥çš„</h3><p>call()ã€apply()ã€bind()æ˜¯ç”¨æ¥æ”¹å˜thisçš„æŒ‡å‘çš„ã€‚</p>
<h3 id="callå’Œapplyçš„åŒºåˆ«å’Œç”¨æ³•"><a href="#callå’Œapplyçš„åŒºåˆ«å’Œç”¨æ³•" class="headerlink" title="callå’Œapplyçš„åŒºåˆ«å’Œç”¨æ³•"></a>callå’Œapplyçš„åŒºåˆ«å’Œç”¨æ³•</h3><h4 id="callå’Œapplyçš„åŒºåˆ«"><a href="#callå’Œapplyçš„åŒºåˆ«" class="headerlink" title="callå’Œapplyçš„åŒºåˆ«"></a>callå’Œapplyçš„åŒºåˆ«</h4><p>obj.call(thisObj, arg1, arg2, â€¦);<br>obj.apply(thisObj, [arg1, arg2, â€¦]);<br>callå’Œapplyä½œç”¨éƒ½æ˜¯æŠŠobjç»‘å®šåˆ°thisObjçš„ä½œç”¨ï¼Œå³æ”¹å˜thisçš„æŒ‡å‘ï¼Œç„¶è€Œå”¯ä¸€çš„åŒºåˆ«å°±æ˜¯applyä¼ é€’çš„å‚æ•°å¿…é¡»å¾—æ˜¯æ•°ç»„çš„å½¢å¼ä¼ é€’ï¼Œè€Œcallåˆ™ç›´æ¥è¿ç»­å‚æ•°ä¼ é€’</p>
<a id="more"></a>

<h4 id="callå’Œapplyåœ¨ä»€ä¹ˆåœ°æ–¹å¯ä»¥ç”¨åˆ°å‘¢ï¼Ÿ"><a href="#callå’Œapplyåœ¨ä»€ä¹ˆåœ°æ–¹å¯ä»¥ç”¨åˆ°å‘¢ï¼Ÿ" class="headerlink" title="callå’Œapplyåœ¨ä»€ä¹ˆåœ°æ–¹å¯ä»¥ç”¨åˆ°å‘¢ï¼Ÿ"></a>callå’Œapplyåœ¨ä»€ä¹ˆåœ°æ–¹å¯ä»¥ç”¨åˆ°å‘¢ï¼Ÿ</h4><p>å½“ä¸€ä¸ªå¯¹è±¡éœ€è¦è°ƒç”¨å¦å¤–ä¸€ä¸ªå¯¹è±¡é‡Œé¢çš„æ–¹æ³•çš„æ—¶å€™å°±å¯ä»¥ç”¨åˆ°callå’Œapplyï¼Œcallå’ŒApplyå¯ä»¥ç†è§£æˆæ˜¯ç»§æ‰¿å¦å¤–ä¸€ä¸ªå¯¹è±¡çš„æ–¹æ³•ï¼Œä»¥ä¸‹ä»£ç ä¸¾ä¾‹ï¼š</p>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬å…ˆå»ºç«‹ä¸¤ä¸ªå¯¹è±¡ï¼Œobj1å’Œobj2</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"> var name &#x3D; &quot;å…¨å±€ä¸­çš„name&quot;;</span><br><span class="line">    var obj1 &#x3D; &#123;</span><br><span class="line">        name:&quot;obj1ä¸­çš„name&quot;,</span><br><span class="line">        func1:function()&#123;</span><br><span class="line">            console.log(this.name);</span><br><span class="line">        &#125;,</span><br><span class="line">        func2:function (a,b) &#123;</span><br><span class="line">            console.log(a+b);</span><br><span class="line">            return a+b;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">var obj2 &#x3D; &#123;</span><br><span class="line">	name:&quot;obj2ä¸­çš„name&quot;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">obj1.func1.call(this);&#x2F;&#x2F;è¾“å‡ºï¼šå…¨å±€ä¸­çš„name</span><br><span class="line">obj1.func1.apply(this);&#x2F;&#x2F;è¾“å‡ºï¼šå…¨å±€ä¸­çš„name</span><br><span class="line"></span><br><span class="line">obj1.func1.call(obj2); &#x2F;&#x2F;è¾“å‡ºï¼šobj2ä¸­çš„name</span><br><span class="line">obj1.func1.apply(obj2);&#x2F;&#x2F;è¾“å‡ºï¼šobj2ä¸­çš„name</span><br><span class="line"></span><br><span class="line">obj1.func2.call(obj2,1,2);&#x2F;&#x2F;è¾“å‡ºï¼š3</span><br><span class="line">obj1.func2.apply(obj2,[1,2]);&#x2F;&#x2F;è¾“å‡ºï¼š3</span><br></pre></td></tr></table></figure>



<h4 id="ä¸¾ä¾‹"><a href="#ä¸¾ä¾‹" class="headerlink" title="ä¸¾ä¾‹"></a>ä¸¾ä¾‹</h4><p>ä¸€ä¸ªå«å–µå–µçš„çŒ«å–œæ¬¢åƒé±¼ï¼Œä¸€ä¸ªå«æ±ªæ±ªçš„å°ç‹—å–œæ¬¢å•ƒéª¨å¤´ï¼Œç”¨ä»£ç å®ç°å¦‚ä¸‹ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">var cat = &#123;</span><br><span class="line">  name:"å–µå–µ",</span><br><span class="line">  eatFish:function(param1,param2)&#123;</span><br><span class="line">    console.log("åƒé±¼");</span><br><span class="line">	console.log("thisçš„æŒ‡å‘=&gt;");</span><br><span class="line">	console.log(this);</span><br><span class="line">	console.log(param1,param2);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">var dog = &#123;</span><br><span class="line">	name:"æ±ªæ±ª",</span><br><span class="line">	eatBone:function(param1,param2)&#123;</span><br><span class="line">		console.log("å•ƒéª¨å¤´");</span><br><span class="line">		console.log("thisçš„æŒ‡å‘=&gt;");</span><br><span class="line">		console.log(this);</span><br><span class="line">		console.log(param1,param2)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æœ‰ä¸€å¤©ï¼Œå°ç‹—æ±ªæ±ªå’Œå–µå–µå…±è¿›åˆé¤çš„æ—¶å€™ï¼Œæ±ªæ±ªè¯´è‡ªå·±æƒ³å°å°å°é±¼å¹²çš„å‘³é“ï¼Œä½†æ˜¯å› ä¸ºæœ‰åˆºï¼Œå–µå–µå°±æƒ³äº†ä¸ªåŠæ³•ï¼Œè¯´è‡ªå·±å…ˆåƒï¼Œå®Œäº†å–‚ç»™æ±ªæ±ª</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">//ç¬¬ä¸€ç§ï¼Œç”¨callæ–¹æ³•</span><br><span class="line">cat.eatFish.call(dog,"æ—ºè´¢-13å²","call");</span><br><span class="line"></span><br><span class="line">//ç¬¬äºŒç§ï¼Œç”¨applyæ–¹æ³•ï¼Œå‚æ•°ä¸ä¸€æ ·</span><br><span class="line">cat.eatFish.apply(dog,["æ—ºè´¢-13å²","apply"]);</span><br></pre></td></tr></table></figure>

<p><img src="https://img-blog.csdn.net/20180517112432197?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3UwMTAxNzYwOTc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="img"></p>
<p>è¿™æ ·ï¼Œæ±ªæ±ªå°±åƒåˆ°äº†ç¾å‘³çš„é±¼å¹²ã€‚å¯æ˜¯æ±ªæ±ªæ¯å¨éƒ½æƒ³æ¥ç‚¹å°é±¼å¹²ï¼Œå–µå–µè¿˜è¦å·¥ä½œå»æ‰è€é¼ ï¼Œæ‰€ä»¥å®ƒä»¬åˆæƒ³äº†ä¸€ä¸ªåŠæ³•ï¼Œå–µå–µæŠŠåƒé±¼çš„æ–¹æ³•æ•™ç»™æ±ªæ±ªã€‚è¿™æ ·ï¼Œæ¯æ¬¡æ±ªæ±ªå°±å¯ä»¥è‡ªå·±åƒå°é±¼å¹²äº†ã€‚</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">var eatFishFun = cat.eatFish.bind(dog,"æ—ºè´¢-13å²","bind"); //è¿”å›çš„æ˜¯æ–¹æ³•</span><br><span class="line">eatFishFun();</span><br></pre></td></tr></table></figure>

<p><img src="https://img-blog.csdn.net/20180517112744838?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3UwMTAxNzYwOTc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="img"></p>
<p>bind()æ–¹æ³•åœ¨è¿™é‡Œå†å¤šè¯´ä¸€ä¸‹ï¼Œbindçš„æ—¶å€™ä¼ çš„å‚æ•°ä¼šé¢„å…ˆä¼ ç»™è¿”å›çš„æ–¹æ³•ï¼Œè°ƒç”¨æ–¹æ³•æ—¶å°±ä¸ç”¨å†ä¼ å‚æ•°äº†ã€‚</p>
<p>æ’‡å¼€ä¸Šé¢çš„ä¾‹å­ï¼Œçœ‹çœ‹ä¸€ä¸ªç‰¹æ®Šæƒ…å†µï¼š</p>
<p>å¦‚æœcall()å’Œapply()çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯nullæˆ–è€…undefinedï¼Œé‚£ä¹ˆthisçš„æŒ‡å‘å°±æ˜¯å…¨å±€å˜é‡ï¼Œåœ¨æµè§ˆå™¨é‡Œå°±æ˜¯windowå¯¹è±¡ã€‚</p>
<p><img src="https://img-blog.csdn.net/2018051715053339?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3UwMTAxNzYwOTc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="img"></p>
<h3 id="åº”ç”¨"><a href="#åº”ç”¨" class="headerlink" title="åº”ç”¨"></a>åº”ç”¨</h3><p>apply</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">89</span>,<span class="number">46</span>]</span><br><span class="line"><span class="keyword">var</span> max = <span class="built_in">Math</span>.max.apply(arr)<span class="comment">//89</span></span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>js</category>
      </categories>
      <tags>
        <tag>call</tag>
        <tag>apply</tag>
      </tags>
  </entry>
  <entry>
    <title>jsä¹‹loadshJs</title>
    <url>/2020/10/09/js%E4%B9%8BloadshJs/</url>
    <content><![CDATA[<h3 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h3><p>Lodashæ˜¯ä¸€ä¸ªè‘—åçš„javascriptåŸç”Ÿåº“ï¼Œä¸éœ€è¦å¼•å…¥å…¶ä»–ç¬¬ä¸‰æ–¹ä¾èµ–ã€‚æ˜¯ä¸€ä¸ªæ„åœ¨æé«˜å¼€å‘è€…æ•ˆç‡,æé«˜JSåŸç”Ÿæ–¹æ³•æ€§èƒ½çš„JSåº“ã€‚ç®€å•çš„è¯´å°±æ˜¯ï¼Œå¾ˆå¤šæ–¹æ³•lodashå·²ç»å¸®ä½ å†™å¥½äº†ï¼Œç›´æ¥è°ƒç”¨å°±è¡Œï¼Œä¸ç”¨è‡ªå·±è´¹å°½å¿ƒæ€å»å†™äº†ï¼Œè€Œä¸”å¯ä»¥ç»Ÿä¸€æ–¹æ³•çš„ä¸€è‡´æ€§ã€‚Lodashä½¿ç”¨äº†ä¸€ä¸ªç®€å•çš„ _ ç¬¦å·ï¼Œå°±åƒJqueryçš„ $ ä¸€æ ·ï¼Œååˆ†ç®€æ´ã€‚<br> ç±»ä¼¼çš„è¿˜æœ‰Underscore.jså’ŒLazy.js</p>
<h4 id="æ”¯æŒ"><a href="#æ”¯æŒ" class="headerlink" title="æ”¯æŒ"></a>æ”¯æŒ</h4><p>chrome 43å¾€ä¸Š<br> Firefox 38å¾€ä¸Š<br> IE 6-11<br> MS Edge<br> Safari 5å¾€ä¸Š<br> ï¼ˆå‡ ä¹æ¶µç›–ç°åœ¨å¸‚é¢ä¸Šå¯ä»¥è§åˆ°çš„å¤§éƒ¨åˆ†æµè§ˆå™¨ï¼‰</p>
<h4 id="å¦‚ä½•å®‰è£…"><a href="#å¦‚ä½•å®‰è£…" class="headerlink" title="å¦‚ä½•å®‰è£…"></a>å¦‚ä½•å®‰è£…</h4><a id="more"></a>

<h5 id="æµè§ˆå™¨"><a href="#æµè§ˆå™¨" class="headerlink" title="æµè§ˆå™¨"></a>æµè§ˆå™¨</h5><script src="lodash.js"></script> ç›´æ¥ä¸‹è½½ä¸‹æ¥å¼•å…¥ï¼Œæˆ–è€…ä½¿ç”¨cdn

<h6 id="NPM"><a href="#NPM" class="headerlink" title="NPM"></a>NPM</h6><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> npm i -g npm</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> npm i --save lodash</span></span><br></pre></td></tr></table></figure>

<p>å…ˆå…¨å±€å®‰è£…ï¼Œåœ¨å•ç‹¬å®‰è£…åˆ°é¡¹ç›®ä¸­</p>
<h6 id="node-js"><a href="#node-js" class="headerlink" title="node.js"></a>node.js</h6><p><code>var _ = require(&#39;lodash&#39;);</code></p>
<h4 id="ä¸ºä»€ä¹ˆä½¿ç”¨lodash"><a href="#ä¸ºä»€ä¹ˆä½¿ç”¨lodash" class="headerlink" title="ä¸ºä»€ä¹ˆä½¿ç”¨lodash"></a>ä¸ºä»€ä¹ˆä½¿ç”¨lodash</h4><p>é€šè¿‡ä½¿ç”¨æ•°ç»„ï¼Œæ•°å­—ï¼Œå¯¹è±¡ï¼Œå­—ç¬¦ä¸²ç­‰æ–¹æ³•ï¼ŒLodashä½¿JavaScriptå˜å¾—æ›´ç®€å•ã€‚</p>
<h4 id="å¸¸ç”¨lodashå‡½æ•°"><a href="#å¸¸ç”¨lodashå‡½æ•°" class="headerlink" title="å¸¸ç”¨lodashå‡½æ•°"></a>å¸¸ç”¨lodashå‡½æ•°</h4><p>ï¼ˆå‚è€ƒç‰ˆæœ¬lodash v4.16.1ï¼‰</p>
<h5 id="1ã€Næ¬¡å¾ªç¯"><a href="#1ã€Næ¬¡å¾ªç¯" class="headerlink" title="1ã€Næ¬¡å¾ªç¯"></a>1ã€Næ¬¡å¾ªç¯</h5><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(<span class="string">'------- javascript -------'</span>);</span></span><br><span class="line"><span class="actionscript">    <span class="comment">//jsåŸç”Ÿçš„å¾ªç¯æ–¹æ³•</span></span></span><br><span class="line"><span class="actionscript">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++)&#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(i);</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(<span class="string">'------- lodash -------'</span>);</span></span><br><span class="line"><span class="actionscript">    <span class="comment">//ladashçš„timesæ–¹æ³•</span></span></span><br><span class="line"><span class="actionscript">    _.times(<span class="number">5</span>,<span class="function"><span class="keyword">function</span><span class="params">(a)</span></span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(a);</span></span><br><span class="line">    &#125;);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><code>for</code>è¯­å¥æ˜¯æ‰§è¡Œå¾ªç¯çš„ä¸äºŒé€‰æ‹©ï¼Œä½†åœ¨ä¸Šé¢ä»£ç çš„ä½¿ç”¨åœºæ™¯ä¸‹ï¼Œ<code>_.times()</code>çš„è§£å†³æ–¹å¼æ›´åŠ ç®€æ´å’Œæ˜“äºç†è§£ã€‚</p>
<h5 id="2ã€æ·±å±‚æŸ¥æ‰¾å±æ€§å€¼"><a href="#2ã€æ·±å±‚æŸ¥æ‰¾å±æ€§å€¼" class="headerlink" title="2ã€æ·±å±‚æŸ¥æ‰¾å±æ€§å€¼"></a>2ã€æ·±å±‚æŸ¥æ‰¾å±æ€§å€¼</h5><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> ownerArr = [&#123;</span></span><br><span class="line"><span class="actionscript">        <span class="string">"owner"</span>: <span class="string">"Colin"</span>,</span></span><br><span class="line"><span class="actionscript">        <span class="string">"pets"</span>: [&#123;<span class="string">"name"</span>: <span class="string">"dog1"</span>&#125;, &#123;<span class="string">"name"</span>: <span class="string">"dog2"</span>&#125;]</span></span><br><span class="line">    &#125;, &#123;</span><br><span class="line"><span class="actionscript">        <span class="string">"owner"</span>: <span class="string">"John"</span>,</span></span><br><span class="line"><span class="actionscript">        <span class="string">"pets"</span>: [&#123;<span class="string">"name"</span>: <span class="string">"dog3"</span>&#125;, &#123;<span class="string">"name"</span>: <span class="string">"dog4"</span>&#125;]</span></span><br><span class="line">    &#125;];</span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> jsMap = ownerArr.map(<span class="function"><span class="keyword">function</span> <span class="params">(owner)</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">return</span> owner.pets[<span class="number">0</span>].name;</span></span><br><span class="line">    &#125;);</span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(<span class="string">'------- jsMap -------'</span>);</span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(jsMap);</span></span><br><span class="line"></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> lodashMap = _.map(ownerArr, <span class="string">'pets[0].name'</span>);</span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(<span class="string">'------- lodashMap -------'</span>);</span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(lodashMap);</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>Lodashä¸­çš„<code>_.map</code>æ–¹æ³•å’ŒJavaScriptä¸­åŸç”Ÿçš„æ•°ç»„æ–¹æ³•éå¸¸çš„åƒï¼Œä½†å®ƒè¿˜æ˜¯æœ‰éå¸¸æœ‰ç”¨çš„å‡çº§ã€‚ ä½ å¯ä»¥é€šè¿‡ä¸€ä¸ªå­—ç¬¦ä¸²è€Œä¸æ˜¯å›è°ƒå‡½æ•°æ¥æµè§ˆæ·±åº¦åµŒå¥—çš„å¯¹è±¡å±æ€§ã€‚</p>
<h5 id="3ã€æ·±å…‹éš†å¯¹è±¡"><a href="#3ã€æ·±å…‹éš†å¯¹è±¡" class="headerlink" title="3ã€æ·±å…‹éš†å¯¹è±¡"></a>3ã€æ·±å…‹éš†å¯¹è±¡</h5><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> objA = &#123;</span></span><br><span class="line"><span class="actionscript">        <span class="string">"name"</span>: <span class="string">"æˆˆå¾·æ–¯æ–‡"</span></span></span><br><span class="line">    &#125;;</span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> objB = _.cloneDeep(objA);</span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(objA);</span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(objB);</span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(objA === objB);</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>æ·±åº¦å…‹éš†JavaScriptå¯¹è±¡æ˜¯å›°éš¾çš„ï¼Œå¹¶ä¸”ä¹Ÿæ²¡æœ‰ä»€ä¹ˆç®€å•çš„è§£å†³æ–¹æ¡ˆã€‚ä½ å¯ä»¥ä½¿ç”¨åŸç”Ÿçš„è§£å†³æ–¹æ¡ˆ:<code>JSON.parse(JSON.stringify(objectToClone))</code> è¿›è¡Œæ·±åº¦å…‹éš†ã€‚ä½†æ˜¯ï¼Œè¿™ç§æ–¹æ¡ˆä»…åœ¨å¯¹è±¡å†…éƒ¨æ²¡æœ‰æ–¹æ³•çš„æ—¶å€™æ‰å¯è¡Œã€‚</p>
<h5 id="4ã€åœ¨æŒ‡å®šèŒƒå›´å†…è·å–ä¸€ä¸ªéšæœºå€¼"><a href="#4ã€åœ¨æŒ‡å®šèŒƒå›´å†…è·å–ä¸€ä¸ªéšæœºå€¼" class="headerlink" title="4ã€åœ¨æŒ‡å®šèŒƒå›´å†…è·å–ä¸€ä¸ªéšæœºå€¼"></a>4ã€åœ¨æŒ‡å®šèŒƒå›´å†…è·å–ä¸€ä¸ªéšæœºå€¼</h5><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="actionscript">    <span class="function"><span class="keyword">function</span> <span class="title">getRandomNumber</span><span class="params">(min, max)</span></span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">return</span> <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * (max - min)) + min;</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(getRandomNumber(<span class="number">15</span>, <span class="number">20</span>));</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(_.random(<span class="number">15</span>, <span class="number">20</span>));</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>Lodashä¸­çš„ <code>_.random</code> æ–¹æ³•è¦æ¯”ä¸Šé¢çš„åŸç”Ÿæ–¹æ³•æ›´å¼ºå¤§ä¸çµæ´»ã€‚ä½ å¯ä»¥åªä¼ å…¥ä¸€ä¸ªå‚æ•°ä½œä¸ºæœ€å¤§å€¼ï¼Œ ä½ ä¹Ÿå¯ä»¥æŒ‡å®šè¿”å›çš„ç»“æœä¸ºæµ®ç‚¹æ•°<code>_.random(15,20,true)</code></p>
<h5 id="5ã€æ‰©å±•å¯¹è±¡"><a href="#5ã€æ‰©å±•å¯¹è±¡" class="headerlink" title="5ã€æ‰©å±•å¯¹è±¡"></a>5ã€æ‰©å±•å¯¹è±¡</h5><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="built_in">Object</span>.prototype.extend = <span class="function"><span class="keyword">function</span>(<span class="params">obj</span>) </span>&#123;</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">for</span> (<span class="keyword">var</span> i <span class="keyword">in</span> obj) &#123;</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">if</span> (obj.hasOwnProperty(i)) &#123;    <span class="comment">//åˆ¤æ–­è¢«æ‰©å±•çš„å¯¹è±¡æœ‰æ²¡æœ‰æŸä¸ªå±æ€§ï¼Œ</span></span></span><br><span class="line"><span class="actionscript">                <span class="keyword">this</span>[i] = obj[i];</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> objA = &#123;<span class="string">"name"</span>: <span class="string">"æˆˆå¾·æ–¯æ–‡"</span>, <span class="string">"car"</span>: <span class="string">"å®é©¬"</span>&#125;;</span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> objB = &#123;<span class="string">"name"</span>: <span class="string">"æŸ´ç¡•"</span>, <span class="string">"loveEat"</span>: <span class="literal">true</span>&#125;;</span></span><br><span class="line"></span><br><span class="line">    objA.extend(objB);</span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(objA); </span></span><br><span class="line"></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(_.assign(objA, objB));</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><code>_.assign</code> æ–¹æ³•ä¹Ÿå¯ä»¥æ¥æ”¶å¤šä¸ªå‚æ•°å¯¹è±¡è¿›è¡Œæ‰©å±•ï¼Œéƒ½æ˜¯å¾€åé¢çš„å¯¹è±¡ä¸Šåˆå¹¶</p>
<h5 id="6ã€ä»åˆ—è¡¨ä¸­éšæœºçš„é€‰æ‹©åˆ—è¡¨é¡¹"><a href="#6ã€ä»åˆ—è¡¨ä¸­éšæœºçš„é€‰æ‹©åˆ—è¡¨é¡¹" class="headerlink" title="6ã€ä»åˆ—è¡¨ä¸­éšæœºçš„é€‰æ‹©åˆ—è¡¨é¡¹"></a>6ã€ä»åˆ—è¡¨ä¸­éšæœºçš„é€‰æ‹©åˆ—è¡¨é¡¹</h5><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> smartTeam = [<span class="string">"æˆˆå¾·æ–¯æ–‡"</span>, <span class="string">"æ¨æµ·æœˆ"</span>, <span class="string">"æŸ´ç¡•"</span>, <span class="string">"å¸ˆè´è´"</span>];</span></span><br><span class="line"></span><br><span class="line"><span class="actionscript">    <span class="function"><span class="keyword">function</span> <span class="title">randomSmarter</span><span class="params">(smartTeam)</span></span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> index = <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * smartTeam.length);</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">return</span> smartTeam[index];</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(randomSmarter(smartTeam));</span></span><br><span class="line"></span><br><span class="line"><span class="actionscript">    <span class="comment">// Lodash</span></span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(_.sample(smartTeam));</span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(_.sampleSize(smartTeam,<span class="number">2</span>));</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>æ­¤å¤–ï¼Œä½ ä¹Ÿå¯ä»¥æŒ‡å®šéšæœºè¿”å›å…ƒç´ çš„ä¸ªæ•°<code>_.sampleSize(smartTeam,n)</code>ï¼Œnä¸ºéœ€è¦è¿”å›çš„å…ƒç´ ä¸ªæ•°</p>
<h5 id="7ã€åˆ¤æ–­å¯¹è±¡ä¸­æ˜¯å¦å«æœ‰æŸå…ƒç´ "><a href="#7ã€åˆ¤æ–­å¯¹è±¡ä¸­æ˜¯å¦å«æœ‰æŸå…ƒç´ " class="headerlink" title="7ã€åˆ¤æ–­å¯¹è±¡ä¸­æ˜¯å¦å«æœ‰æŸå…ƒç´ "></a>7ã€åˆ¤æ–­å¯¹è±¡ä¸­æ˜¯å¦å«æœ‰æŸå…ƒç´ </h5><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> smartPerson = &#123;</span></span><br><span class="line"><span class="actionscript">            <span class="string">'name'</span>: <span class="string">'æˆˆå¾·æ–¯æ–‡'</span>,</span></span><br><span class="line"><span class="actionscript">            <span class="string">'gender'</span>: <span class="string">'male'</span></span></span><br><span class="line">        &#125;,</span><br><span class="line"><span class="actionscript">        smartTeam = [<span class="string">"æˆˆå¾·æ–¯æ–‡"</span>, <span class="string">"æ¨æµ·æœˆ"</span>, <span class="string">"æŸ´ç¡•"</span>, <span class="string">"å¸ˆè´è´"</span>];</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(_.includes(smartPerson, <span class="string">'æˆˆå¾·æ–¯æ–‡'</span>));</span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(_.includes(smartTeam, <span class="string">'æ¨æµ·æœˆ'</span>));</span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(_.includes(smartTeam, <span class="string">'æ¨æµ·æœˆ'</span>,<span class="number">2</span>));</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><code>_.includes()</code>ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯éœ€è¦æŸ¥è¯¢çš„å¯¹è±¡ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯éœ€è¦æŸ¥è¯¢çš„å…ƒç´ ï¼Œç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯å¼€å§‹æŸ¥è¯¢çš„ä¸‹æ ‡</p>
<h5 id="8ã€éå†å¾ªç¯"><a href="#8ã€éå†å¾ªç¯" class="headerlink" title="8ã€éå†å¾ªç¯"></a>8ã€éå†å¾ªç¯</h5><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="actionscript">    _([<span class="number">1</span>, <span class="number">2</span>]).forEach(<span class="function"><span class="keyword">function</span><span class="params">(value)</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(value);</span></span><br><span class="line">    &#125;);</span><br><span class="line"><span class="actionscript">    _.forEach([<span class="number">1</span>, <span class="number">3</span>] , <span class="function"><span class="keyword">function</span><span class="params">(value, key)</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(key,value);</span></span><br><span class="line">    &#125;);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>è¿™ä¸¤ç§æ–¹æ³•éƒ½ä¼šåˆ†åˆ«è¾“å‡ºâ€˜1â€™å’Œâ€˜2â€™ï¼Œä¸ä»…æ˜¯æ•°ç»„ï¼Œå¯¹è±¡ä¹Ÿå¯ä»¥ï¼Œæ•°ç»„çš„æ˜¯å<code>key</code>æ˜¯å…ƒç´ çš„ä¸‹æ ‡ï¼Œå½“ä¼ å…¥çš„æ˜¯å¯¹è±¡çš„æ—¶å€™ï¼Œ<code>key</code>æ˜¯å±æ€§ï¼Œ<code>value</code>æ˜¯å€¼</p>
<h5 id="9ã€éå†å¾ªç¯æ‰§è¡ŒæŸä¸ªæ–¹æ³•"><a href="#9ã€éå†å¾ªç¯æ‰§è¡ŒæŸä¸ªæ–¹æ³•" class="headerlink" title="9ã€éå†å¾ªç¯æ‰§è¡ŒæŸä¸ªæ–¹æ³•"></a>9ã€éå†å¾ªç¯æ‰§è¡ŒæŸä¸ªæ–¹æ³•</h5><p><code>_.map()</code></p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="actionscript">    <span class="function"><span class="keyword">function</span> <span class="title">square</span><span class="params">(n)</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">return</span> n * n;</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(_.map([<span class="number">4</span>, <span class="number">8</span>], square));</span></span><br><span class="line"><span class="actionscript">    <span class="comment">// =&gt; [16, 64]</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(_.map(&#123; <span class="string">'a'</span>: <span class="number">4</span>, <span class="string">'b'</span>: <span class="number">8</span> &#125;, square));</span></span><br><span class="line"><span class="actionscript">    <span class="comment">// =&gt; [16, 64] (iteration order is not guaranteed)</span></span></span><br><span class="line"></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> users = [</span></span><br><span class="line"><span class="actionscript">        &#123; <span class="string">'user'</span>: <span class="string">'barney'</span> &#125;,</span></span><br><span class="line"><span class="actionscript">        &#123; <span class="string">'user'</span>: <span class="string">'fred'</span> &#125;</span></span><br><span class="line">    ];</span><br><span class="line"></span><br><span class="line"><span class="actionscript">    <span class="comment">// The `_.property` iteratee shorthand.</span></span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(_.map(users, <span class="string">'user'</span>));</span></span><br><span class="line"><span class="actionscript">    <span class="comment">// =&gt; ['barney', 'fred']</span></span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h5 id="10ã€æ£€éªŒå€¼æ˜¯å¦ä¸ºç©º"><a href="#10ã€æ£€éªŒå€¼æ˜¯å¦ä¸ºç©º" class="headerlink" title="10ã€æ£€éªŒå€¼æ˜¯å¦ä¸ºç©º"></a>10ã€æ£€éªŒå€¼æ˜¯å¦ä¸ºç©º</h5><p><code>_.isEmpty()</code></p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="actionscript">    _.isEmpty(<span class="literal">null</span>);</span></span><br><span class="line"><span class="actionscript">    <span class="comment">// =&gt; true</span></span></span><br><span class="line"></span><br><span class="line"><span class="actionscript">    _.isEmpty(<span class="literal">true</span>);</span></span><br><span class="line"><span class="actionscript">    <span class="comment">// =&gt; true</span></span></span><br><span class="line"></span><br><span class="line">    _.isEmpty(1);</span><br><span class="line"><span class="actionscript">    <span class="comment">// =&gt; true</span></span></span><br><span class="line"></span><br><span class="line">    _.isEmpty([1, 2, 3]);</span><br><span class="line"><span class="actionscript">    <span class="comment">// =&gt; false</span></span></span><br><span class="line"></span><br><span class="line"><span class="actionscript">    _.isEmpty(&#123; <span class="string">'a'</span>: <span class="number">1</span> &#125;);</span></span><br><span class="line"><span class="actionscript">    <span class="comment">// =&gt; false</span></span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h5 id="11ã€æŸ¥æ‰¾å±æ€§"><a href="#11ã€æŸ¥æ‰¾å±æ€§" class="headerlink" title="11ã€æŸ¥æ‰¾å±æ€§"></a>11ã€æŸ¥æ‰¾å±æ€§</h5><p><code>_.find()</code>ã€<code>_.filter()</code>ã€<code>_.reject()</code></p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> users = [</span></span><br><span class="line"><span class="actionscript">        &#123;<span class="string">'user'</span>: <span class="string">'barney'</span>, <span class="string">'age'</span>: <span class="number">36</span>, <span class="string">'active'</span>: <span class="literal">true</span>&#125;,</span></span><br><span class="line"><span class="actionscript">        &#123;<span class="string">'user'</span>: <span class="string">'fred'</span>, <span class="string">'age'</span>: <span class="number">40</span>, <span class="string">'active'</span>: <span class="literal">false</span>&#125;,</span></span><br><span class="line"><span class="actionscript">        &#123;<span class="string">'user'</span>: <span class="string">'pebbles'</span>, <span class="string">'age'</span>: <span class="number">1</span>, <span class="string">'active'</span>: <span class="literal">true</span>&#125;</span></span><br><span class="line">    ];</span><br><span class="line"></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(_.find(users, <span class="function"><span class="keyword">function</span> (<span class="params">o</span>) </span>&#123;</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">return</span> o.age &lt; <span class="number">40</span>;</span></span><br><span class="line">    &#125;));</span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(_.find(users, &#123;<span class="string">'age'</span>: <span class="number">1</span>, <span class="string">'active'</span>: <span class="literal">true</span>&#125;));</span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(_.filter(users, &#123;<span class="string">'age'</span>: <span class="number">1</span>, <span class="string">'active'</span>: <span class="literal">true</span>&#125;));</span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(_.find(users, [<span class="string">'active'</span>, <span class="literal">false</span>]));</span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(_.filter(users, [<span class="string">'active'</span>, <span class="literal">false</span>]));</span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(_.find(users, <span class="string">'active'</span>));</span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(_.filter(users, <span class="string">'active'</span>));</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><code>_.find()</code>ç¬¬ä¸€ä¸ªè¿”å›çœŸå€¼çš„ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚<br> <code>_.filter()</code>è¿”å›çœŸå€¼çš„æ‰€æœ‰å…ƒç´ çš„æ•°ç»„ã€‚<br> <code>_.reject()</code>æ˜¯<code>_.filter</code>çš„åå‘æ–¹æ³•ï¼Œä¸è¿”å›çœŸå€¼çš„ï¼ˆé›†åˆï¼‰å…ƒç´ </p>
<h5 id="12ã€æ•°ç»„å»é‡"><a href="#12ã€æ•°ç»„å»é‡" class="headerlink" title="12ã€æ•°ç»„å»é‡"></a>12ã€æ•°ç»„å»é‡</h5><p><code>_.uniq(array)</code>åˆ›å»ºä¸€ä¸ªå»é‡åçš„arrayæ•°ç»„å‰¯æœ¬ã€‚</p>
<p>å‚æ•°<br> <code>array (Array)</code>: è¦æ£€æŸ¥çš„æ•°ç»„ã€‚</p>
<p>è¿”å›æ–°çš„å»é‡åçš„æ•°ç»„</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> arr1 = [<span class="number">2</span>, <span class="number">1</span>, <span class="number">2</span>];</span></span><br><span class="line"></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> arr2 = _.uniq(arr1);</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="actionscript">    <span class="function"><span class="keyword">function</span> <span class="title">unique</span><span class="params">(arr)</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> newArr = [];</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; arr.length; i++) &#123;</span></span><br><span class="line">            if(newArr.indexOf(arr[i]) == -1)&#123;</span><br><span class="line">                newArr.push(arr[i]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="actionscript">        <span class="keyword">return</span> newArr;</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(arr1);</span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(arr2);</span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(unique(arr1));</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><code>_.uniqBy(array,[iteratee=_.identity])</code>è¿™ä¸ªæ–¹æ³•ç±»ä¼¼ <code>_.uniq</code>ï¼Œé™¤äº†å®ƒæ¥å—ä¸€ä¸ª <code>iteratee</code>ï¼ˆè¿­ä»£å‡½æ•°ï¼‰ï¼Œè°ƒç”¨æ¯ä¸€ä¸ªæ•°ç»„ï¼ˆarrayï¼‰çš„æ¯ä¸ªå…ƒç´ ä»¥äº§ç”Ÿå”¯ä¸€æ€§è®¡ç®—çš„æ ‡å‡†ã€‚iteratee è°ƒç”¨æ—¶ä¼šä¼ å…¥ä¸€ä¸ªå‚æ•°ï¼š(value)ã€‚</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(_.uniqBy([<span class="number">2.1</span>, <span class="number">1.2</span>, <span class="number">2.3</span>], <span class="built_in">Math</span>.floor));</span></span><br><span class="line"><span class="actionscript">    <span class="comment">// =&gt; [2.1, 1.2]</span></span></span><br><span class="line">    </span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(_.uniqBy([&#123; <span class="string">'x'</span>: <span class="number">1</span> &#125;, &#123; <span class="string">'x'</span>: <span class="number">2</span> &#125;, &#123; <span class="string">'x'</span>: <span class="number">1</span> &#125;], <span class="string">'x'</span>));</span></span><br><span class="line"><span class="actionscript">    <span class="comment">// =&gt; [&#123; 'x': 1 &#125;, &#123; 'x': 2 &#125;]</span></span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><code>Math.floor</code>åªæ˜¯å‘ä¸‹å–æ•´ï¼Œå»é‡ï¼Œå¹¶æ²¡æœ‰æ”¹å˜åŸæœ‰çš„æ•°ç»„ï¼Œæ‰€ä»¥è¿˜æ˜¯2.1å’Œ1.2ï¼Œä¸æ˜¯2å’Œ1ã€‚</p>
<h5 id="13ã€æ¨¡æ¿æ’å…¥"><a href="#13ã€æ¨¡æ¿æ’å…¥" class="headerlink" title="13ã€æ¨¡æ¿æ’å…¥"></a>13ã€æ¨¡æ¿æ’å…¥</h5><p><code>_.template([string=&#39;&#39;], [options={}])</code></p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"container"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.bootcss.com/lodash.js/4.17.4/lodash.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.bootcss.com/jquery/3.2.1/jquery.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="javascript">    $(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> data = [&#123;name: <span class="string">'æˆˆå¾·æ–¯æ–‡'</span>&#125;, &#123;name: <span class="string">'æŸ´ç¡•'</span>&#125;, &#123;name: <span class="string">'æ¨æµ·æœˆ'</span>&#125;];</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> t = _.template($(<span class="string">"#tpl"</span>).html());</span></span><br><span class="line"><span class="javascript">        $(<span class="string">"#container"</span>).html(t(data));</span></span><br><span class="line">    &#125;);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/template"</span> <span class="attr">id</span>=<span class="string">"tpl"</span>&gt;</span></span><br><span class="line"><span class="actionscript">    &lt;% _.each(obj,<span class="function"><span class="keyword">function</span><span class="params">(e,i)</span></span>&#123; %&gt;</span></span><br><span class="line"><span class="handlebars"><span class="xml">        <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></span></span><br><span class="line"><span class="handlebars"><span class="xml">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">%=</span> <span class="attr">e.name</span> %&gt;</span><span class="tag">&lt;<span class="name">%=</span> <span class="attr">i</span> %&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span></span><br><span class="line"><span class="handlebars"><span class="xml">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span></span><br><span class="line"><span class="handlebars"><span class="xml">    <span class="tag">&lt;<span class="name">%&#125;)%</span>&gt;</span></span></span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>æ³¨æ„ï¼Œè¿™ä¸ª<code>&lt;script&gt;</code>æ ‡ç­¾çš„<code>type</code>æ˜¯<code>text/template</code>ï¼Œç±»ä¼¼äºreactçš„JSXçš„å†™æ³•ï¼Œå°±æ˜¯jså’Œhtmlå¯ä»¥æ··å†™ï¼Œç”¨<code>&lt;% %&gt;</code>æ‹¬èµ·æ¥çš„å°±æ˜¯jsä»£ç ï¼Œå¯ä»¥æ‰§è¡Œï¼Œç›´æ¥å†™çš„å°±æ˜¯htmlçš„æ ‡ç­¾ï¼Œå¹¶ä¸”æœ‰ç±»ä¼¼MVCæ¡†æ¶çš„çš„æ•°æ®ç»‘å®šï¼Œåœ¨<code>&lt;%= %&gt;</code>ä¸­å¯ä»¥è°ƒç”¨åˆ°æ•°æ®å‘ˆç°ï¼ˆçº¯å±ä¸ªäººè§è§£ï¼Œä¸çŸ¥é“ç†è§£çš„å¯¹ä¸å¯¹ï¼‰</p>
]]></content>
  </entry>
  <entry>
    <title>jsä¹‹ä»Šå¤©æ˜¯æ˜ŸæœŸå‡ </title>
    <url>/2020/09/09/js%E4%B9%8B%E4%BB%8A%E5%A4%A9%E6%98%AF%E6%98%9F%E6%9C%9F%E5%87%A0/</url>
    <content><![CDATA[<h4 id="åˆå­¦"><a href="#åˆå­¦" class="headerlink" title="åˆå­¦"></a>åˆå­¦</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function returnWeekday()&#123;</span><br><span class="line">    let string &#x3D; &quot;ä»Šå¤©æ˜¯æ˜ŸæœŸ&quot;;</span><br><span class="line">    let date &#x3D; new Date().getDay();</span><br><span class="line">    if (date &#x3D;&#x3D;&#x3D; 0) &#123;</span><br><span class="line">        string +&#x3D; &quot;æ—¥&quot;;</span><br><span class="line">    &#125; else if (date &#x3D;&#x3D;&#x3D; 1) &#123;</span><br><span class="line">        string +&#x3D; &quot;ä¸€&quot;;</span><br><span class="line">    &#125; else if (date &#x3D;&#x3D;&#x3D; 2) &#123;</span><br><span class="line">        string +&#x3D; &quot;äºŒ&quot;;</span><br><span class="line">    &#125; else if (date &#x3D;&#x3D;&#x3D; 3) &#123;</span><br><span class="line">        string +&#x3D; &quot;ä¸‰&quot;;</span><br><span class="line">    &#125; else if (date &#x3D;&#x3D;&#x3D; 4) &#123;</span><br><span class="line">        string +&#x3D; &quot;å››&quot;;</span><br><span class="line">    &#125; else if (date &#x3D;&#x3D;&#x3D; 5) &#123;</span><br><span class="line">        string +&#x3D; &quot;äº”&quot;;</span><br><span class="line">    &#125; else if (date &#x3D;&#x3D;&#x3D; 6) &#123;</span><br><span class="line">        string +&#x3D; &quot;å…­&quot;;</span><br><span class="line">    &#125;</span><br><span class="line">    return string</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<a id="more"></a>

<h4 id="å…¥é—¨"><a href="#å…¥é—¨" class="headerlink" title="å…¥é—¨"></a>å…¥é—¨</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function returnWeekday()&#123;</span><br><span class="line">    let string &#x3D; &quot;ä»Šå¤©æ˜¯æ˜ŸæœŸ&quot;;</span><br><span class="line">    let date &#x3D; new Date().getDay();</span><br><span class="line">    switch (date) &#123;</span><br><span class="line">        case 0 :</span><br><span class="line">            string +&#x3D; &quot;æ—¥&quot;;</span><br><span class="line">            break;</span><br><span class="line">        case 1 :</span><br><span class="line">            string +&#x3D; &quot;ä¸€&quot;;</span><br><span class="line">            break;</span><br><span class="line">        case 2 :</span><br><span class="line">            string +&#x3D; &quot;äºŒ&quot;;</span><br><span class="line">            break;</span><br><span class="line">        case 3 :</span><br><span class="line">            string +&#x3D; &quot;ä¸‰&quot;;</span><br><span class="line">            break;</span><br><span class="line">        case 4 :</span><br><span class="line">            string +&#x3D; &quot;å››&quot;;</span><br><span class="line">            break;</span><br><span class="line">        case 5 :</span><br><span class="line">            string +&#x3D; &quot;äº”&quot;;</span><br><span class="line">            break;</span><br><span class="line">        case 6 :</span><br><span class="line">            string +&#x3D; &quot;å…­&quot;;</span><br><span class="line">            break;</span><br><span class="line">    &#125;</span><br><span class="line">    return string</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä¸­çº§"><a href="#ä¸­çº§" class="headerlink" title="ä¸­çº§"></a>ä¸­çº§</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function returnWeekday()&#123;</span><br><span class="line">    let string &#x3D; &quot;ä»Šå¤©æ˜¯æ˜ŸæœŸ&quot;;</span><br><span class="line">    let date &#x3D; new Date().getDay();</span><br><span class="line">    &#x2F;&#x2F; ä½¿ç”¨æ•°ç»„</span><br><span class="line">    let dateArr &#x3D; [ å¤© , ä¸€ , äºŒ , ä¸‰ , å›› , äº” , å…­ ];</span><br><span class="line">    return string + dateArr[date]</span><br><span class="line">&#125;</span><br><span class="line">console.log(returnWeekday())</span><br><span class="line"></span><br><span class="line">å€˜è‹¥æˆ‘ä»¬çš„æ¯ä¸ª case æ˜¯ä¸è§„å¾‹çš„å­—ç¬¦ä¸²å‘¢ï¼Ÿé‚£æˆ‘ä»¬ä½¿ç”¨å¯¹è±¡ï¼Œæ¯ä¸ª case ä¸ºä¸€ä¸ª key</span><br><span class="line">function returnWeekday()&#123;</span><br><span class="line">    let string &#x3D; &quot;ä»Šå¤©æ˜¯æ˜ŸæœŸ&quot;;</span><br><span class="line">    let date &#x3D; new Date().getDay();</span><br><span class="line">    &#x2F;&#x2F; ä½¿ç”¨å¯¹è±¡</span><br><span class="line">    dateObj &#x3D; &#123; </span><br><span class="line">        0:  å¤© , </span><br><span class="line">        1: &quot;ä¸€&quot;, </span><br><span class="line">        2: &quot;äºŒ&quot;, </span><br><span class="line">        3: &quot;ä¸‰&quot;, </span><br><span class="line">        4: &quot;å››&quot;, </span><br><span class="line">        5: &quot;äº”&quot;, </span><br><span class="line">        6: &quot;å…­&quot;, </span><br><span class="line">    &#125;;</span><br><span class="line">    return string + dateObj[date]</span><br><span class="line">&#125;</span><br><span class="line">console.log(returnWeekday())</span><br><span class="line"></span><br><span class="line">ä½¿ç”¨ charAt å­—ç¬¦æ–¹æ³•</span><br><span class="line">&#x2F;&#x2F; charAt å®šä½æ–¹æ³•</span><br><span class="line">function returnWeekday()&#123;</span><br><span class="line">    return &quot;ä»Šå¤©æ˜¯æ˜ŸæœŸ&quot; + &quot;æ—¥ä¸€äºŒä¸‰å››äº”å…­&quot;.charAt(new Date().getDay());</span><br><span class="line">&#125;</span><br><span class="line">console.log(returnWeekday())</span><br></pre></td></tr></table></figure>



<h3 id="éœ€æ±‚å˜åŠ¨-åŒºåˆ†å·¥ä½œæ—¥å’Œä¼‘æ¯æ—¥"><a href="#éœ€æ±‚å˜åŠ¨-åŒºåˆ†å·¥ä½œæ—¥å’Œä¼‘æ¯æ—¥" class="headerlink" title="éœ€æ±‚å˜åŠ¨(åŒºåˆ†å·¥ä½œæ—¥å’Œä¼‘æ¯æ—¥)"></a>éœ€æ±‚å˜åŠ¨(åŒºåˆ†å·¥ä½œæ—¥å’Œä¼‘æ¯æ—¥)</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function returnWeekday()&#123;</span><br><span class="line">    let string &#x3D; &quot;ä»Šå¤©æ˜¯æ˜ŸæœŸ&quot;;</span><br><span class="line">    let date &#x3D; new Date().getDay();</span><br><span class="line">    &#x2F;&#x2F; ä½¿ç”¨å¯¹è±¡</span><br><span class="line">    dateObj &#x3D; &#123; </span><br><span class="line">        0: [&#39;å¤©&#39;,&#39;ä¼‘&#39;], </span><br><span class="line">        1: [&quot;ä¸€&quot;,&#39;å·¥&#39;], </span><br><span class="line">        2: [&quot;äºŒ&quot;,&#39;å·¥&#39;], </span><br><span class="line">        3: [&quot;ä¸‰&quot;,&#39;å·¥&#39;], </span><br><span class="line">        4: [&quot;å››&quot;,&#39;å·¥&#39;], </span><br><span class="line">        5: [&quot;äº”&quot;,&#39;å·¥&#39;], </span><br><span class="line">        6: [&quot;å…­&quot;,&#39;ä¼‘&#39;], </span><br><span class="line">    &#125;</span><br><span class="line">    &#x2F;&#x2F; ç±»å‹ï¼Œè¿™é‡Œä¹Ÿå¯ä»¥å¯¹åº”ç›¸å…³æ–¹æ³•</span><br><span class="line">    dayType &#x3D; &#123;</span><br><span class="line">        &#39;ä¼‘&#39;: function()&#123;</span><br><span class="line">            &#x2F;&#x2F; some code</span><br><span class="line">            console.log(&#39;ä¸ºä¼‘æ¯æ—¥&#39;)</span><br><span class="line">        &#125;,</span><br><span class="line">        &#39;å·¥&#39;: function()&#123;</span><br><span class="line">            &#x2F;&#x2F; some code</span><br><span class="line">            console.log(&#39;ä¸ºå·¥ä½œæ—¥&#39;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    let returnData &#x3D; &#123;</span><br><span class="line">         string  : string + dateObj[date][0],</span><br><span class="line">         method  : dayType[dateObj[date][1]]</span><br><span class="line">    &#125;</span><br><span class="line">    return returnData</span><br><span class="line">&#125;;</span><br><span class="line">console.log(returnWeekday().method.call(this))</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>js</category>
      </categories>
      <tags>
        <tag>js</tag>
        <tag>æ˜ŸæœŸ</tag>
      </tags>
  </entry>
  <entry>
    <title>jsä¹‹å†·é—¨å¥½ç”¨æ–¹æ³•åˆé›†</title>
    <url>/2021/03/17/js%E4%B9%8B%E5%86%B7%E9%97%A8%E5%A5%BD%E7%94%A8%E6%96%B9%E6%B3%95%E5%90%88%E9%9B%86/</url>
    <content><![CDATA[<h2 id="è·å–ä¸€ä¸ªæœˆæœ‰å¤šå°‘å¤©-important"><a href="#è·å–ä¸€ä¸ªæœˆæœ‰å¤šå°‘å¤©-important" class="headerlink" title="è·å–ä¸€ä¸ªæœˆæœ‰å¤šå°‘å¤© (important)"></a>è·å–ä¸€ä¸ªæœˆæœ‰å¤šå°‘å¤© (important)</h2><p>ä»Šå¤©é‡åˆ°ä¸€ä¸ªéœ€æ±‚ï¼Œå·²çŸ¥æœˆä»½ï¼Œå¾—åˆ°è¿™ä¸ªæœˆçš„ç¬¬ä¸€å¤©å’Œæœ€åä¸€å¤©ä½œä¸ºæŸ¥è¯¢æ¡ä»¶æŸ¥èŒƒå›´å†…çš„æ•°æ®</p>
<p><code>new Date(year, month, date, hrs, min, sec)</code>ï¼Œ<code>new Date</code> å¯ä»¥æ¥å—è¿™äº›å‚æ•°åˆ›å»ºä¸€ä¸ªæ—¶é—´å¯¹è±¡ å…¶ä¸­å½“æˆ‘ä»¬æŠŠ <code>date</code> è®¾ç½®ä¸º <code>0</code> çš„æ—¶å€™ï¼Œå¯ä»¥ç›´æ¥é€šè¿‡ <code>getDate()</code> è·å–åˆ°æœ€åä¸€å¤©çš„æ—¥æœŸç„¶åå¾—åˆ°æˆ‘ä»¬è¦çš„æœ€åä¸€å¤©</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">new Date(2019, 12, 0).getDate(); &#x2F;&#x2F; 31</span><br><span class="line">new Date(2018, 2, 0).getDate(); &#x2F;&#x2F; 28</span><br><span class="line">&#x2F;&#x2F; æ ¹æ®è¿™ä¸ªæˆ‘ä»¬å¯ä»¥å¾—åˆ°ä¸€ä¸ªæ–¹æ³•</span><br><span class="line">function getMonthLength(month) &#123;</span><br><span class="line">  const date &#x3D; new Date(month);</span><br><span class="line">  const year &#x3D; date.getFullYear();</span><br><span class="line">  &#x2F;&#x2F; æœˆä»½æ˜¯ä» 0 å¼€å§‹è®¡ç®—çš„</span><br><span class="line">  const _month &#x3D; date.getMonth() + 1;</span><br><span class="line">  return new Date(year, _month, 0).getDate();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<a id="more"></a>

<h2 id="å…³äºå‡½æ•°çš„-length-å±æ€§-important"><a href="#å…³äºå‡½æ•°çš„-length-å±æ€§-important" class="headerlink" title="å…³äºå‡½æ•°çš„ length å±æ€§ (important)"></a>å…³äºå‡½æ•°çš„ length å±æ€§ (important)</h2><p>360 é¢è¯•è¿‡ç¨‹é‡åˆ°ä¸€ä¸ªå¾ˆæœ‰è¶£çš„é—®é¢˜ï¼Œæ˜¯å…³äºå‡½æ•°çš„ length å±æ€§çš„ï¼Œé¢˜ç®€å†™å¦‚ä¸‹</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">(() &#x3D;&gt; 1).length &#x3D;&#x3D;&#x3D; 0; &#x2F;&#x2F; è¾“å‡ºä»€ä¹ˆ</span><br></pre></td></tr></table></figure>

<p>æˆ‘æ‰€ç†è§£çš„æ‹¥æœ‰ <code>length</code> çš„å¯¹è±¡ä¸€èˆ¬éƒ½æ˜¯æ•°ç»„æˆ–è€…ç±»æ•°ç»„å¯¹è±¡ï¼Œæˆ–è€…å®šä¹‰äº† <code>length</code> å±æ€§çš„å¯¹è±¡ï¼Œæ‰€ä»¥æˆ‘å›ç­”è¯´è¿™ä¸ªåº”è¯¥æ˜¯ <code>false</code> å§ï¼Œåæ¥é¢è¯•å‘Šè¯‰æˆ‘å‡½æ•°æ˜¯æœ‰ <code>length</code> å±æ€§çš„ï¼Œå‡½æ•°çš„ <code>length</code> å±æ€§å°±æ˜¯å‡½æ•°å‚æ•°çš„ä¸ªæ•°ï¼Œç¬é—´æˆ‘æç„¶å¤§æ‚Ÿï¼Œå‡½æ•°çš„å‚æ•°å°±æ˜¯ <code>arguments</code>ï¼Œè€Œ <code>arguments</code> ä¹Ÿæ˜¯ä¸€ä¸ªç±»æ•°ç»„å¯¹è±¡æ‰€ä»¥ä»–æ˜¯æœ‰ <code>length</code> å±æ€§çš„</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; so</span><br><span class="line">(() &#x3D;&gt; 1).length &#x3D;&#x3D;&#x3D; 0; &#x2F;&#x2F; è¾“å‡º true</span><br><span class="line">(a &#x3D;&gt; a).length; &#x2F;&#x2F; è¾“å‡º 1</span><br></pre></td></tr></table></figure>

<h2 id="æ•°ç»„ä¸­å­—ç¬¦ä¸²é”®å€¼çš„å¤„ç†"><a href="#æ•°ç»„ä¸­å­—ç¬¦ä¸²é”®å€¼çš„å¤„ç†" class="headerlink" title="æ•°ç»„ä¸­å­—ç¬¦ä¸²é”®å€¼çš„å¤„ç†"></a>æ•°ç»„ä¸­å­—ç¬¦ä¸²é”®å€¼çš„å¤„ç†</h2><p>åœ¨ JavaScript ä¸­æ•°ç»„æ˜¯é€šè¿‡æ•°å­—è¿›è¡Œç´¢å¼•ï¼Œä½†æ˜¯æœ‰è¶£çš„æ˜¯ä»–ä»¬ä¹Ÿæ˜¯å¯¹è±¡ï¼Œæ‰€ä»¥ä¹Ÿå¯ä»¥åŒ…å«<code>å­—ç¬¦ä¸²</code> é”®å€¼å’Œå±æ€§ï¼Œä½†æ˜¯è¿™äº›ä¸ä¼šè¢«è®¡ç®—åœ¨æ•°ç»„çš„é•¿åº¦ï¼ˆlengthï¼‰å†…</p>
<p>å¦‚æœå­—ç¬¦ä¸²é”®å€¼èƒ½å¤Ÿè¢«å¼ºåˆ¶ç±»å‹è½¬æ¢ä¸ºåè¿›åˆ¶æ•°å­—çš„è¯ï¼Œå®ƒå°±ä¼šè¢«å½“åšæ•°å­—ç´¢å¼•æ¥å¤„ç†</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const arr &#x3D; [];</span><br><span class="line">arr[0] &#x3D; 1;</span><br><span class="line">arr[&#39;1&#39;] &#x3D; &#39;å˜¿å˜¿&#39;;</span><br><span class="line">arr[&#39;cym&#39;] &#x3D; &#39;cym&#39;;</span><br><span class="line">console.log(arr); &#x2F;&#x2F; [1, &#39;å˜¿å˜¿&#39;, cym: &#39;cym&#39;]</span><br><span class="line">console.log(arr.length); &#x2F;&#x2F; 2</span><br></pre></td></tr></table></figure>

<h2 id="void-è¿ç®—ç¬¦"><a href="#void-è¿ç®—ç¬¦" class="headerlink" title="void è¿ç®—ç¬¦"></a>void è¿ç®—ç¬¦</h2><p><code>undefined</code> æ˜¯ä¸€ä¸ªå†…ç½®æ ‡å¿—ç¬¦ï¼Œå®ƒçš„å€¼ä¸º <code>undefined</code>ï¼ˆé™¤éè¢«é‡æ–°å®šä¹‰è¿‡ï¼‰ï¼Œé€šè¿‡<code>void</code> è¿ç®—ç¬¦å³å¯å¾—åˆ°è¯¥å€¼</p>
<p>åœ¨ <code>void</code> ä¹‹åçš„è¯­å¥æˆ–è¡¨è¾¾å¼éƒ½å°†è¿”å› <code>undefined</code>ã€‚<code>void</code> å¹¶ä¸ä¼šæ”¹å˜è¡¨è¾¾å¼çš„ç»“æœï¼Œåªæ˜¯è®©è¡¨è¾¾å¼ä¸è¿”å›å€¼</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">void true; &#x2F;&#x2F; undefined</span><br><span class="line">void 0; &#x2F;&#x2F; undefined</span><br></pre></td></tr></table></figure>

<p><code>void</code> è¿ç®—ç¬¦åœ¨å…¶ä»–åœ°æ–¹ä¹Ÿå¯ä»¥æ´¾ä¸Šç”¨åœºï¼Œæ¯”å¦‚ä¸è®©è¡¨è¾¾å¼è¿”å›ä»»ä½•ç»“æœã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; è¯¥å‡½æ•°ä¸éœ€è¦æœ‰ä»»ä½•è¿”å›ç»“æœ</span><br><span class="line">function doSomething(sign) &#123;</span><br><span class="line">  if (!sign) &#123;</span><br><span class="line">    return void setTimeout(doSomething, 100);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;&#x2F; æˆ–è®¸ä½ ç»å¸¸å‘ä¸‹é¢ä¸€æ ·è¿™ä¹ˆå†™</span><br><span class="line">function doSomething(sign) &#123;</span><br><span class="line">  if (!sign) &#123;</span><br><span class="line">    setTimeout(doSomething, 100);</span><br><span class="line">    return;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="å…³äº-JSON-stringify"><a href="#å…³äº-JSON-stringify" class="headerlink" title="å…³äº JSON.stringify"></a>å…³äº JSON.stringify</h2><p><code>JSON.stringify</code> å’Œ <code>toString()</code> æ•ˆæœåŸºæœ¬ç›¸åŒï¼Œåªä¸è¿‡åºåˆ—åŒ–çš„ç»“æœæ€»æ˜¯å­—ç¬¦ä¸²</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">JSON.stringify(42); &#x2F;&#x2F; &quot;42&quot;</span><br><span class="line">JSON.stringify(&#39;42&#39;); &#x2F;&#x2F; &quot;&quot;42&quot;&quot;ï¼ˆå«æœ‰åŒå¼•å·çš„å­—ç¬¦ä¸²ï¼‰</span><br><span class="line">JSON.stringify(null); &#x2F;&#x2F; &quot;null&quot;</span><br><span class="line">JSON.stringify(true); &#x2F;&#x2F; &quot;true&quot;</span><br></pre></td></tr></table></figure>

<h3 id="ä¸å®‰å…¨çš„-JSON-å€¼"><a href="#ä¸å®‰å…¨çš„-JSON-å€¼" class="headerlink" title="ä¸å®‰å…¨çš„ JSON å€¼"></a>ä¸å®‰å…¨çš„ JSON å€¼</h3><p>æ‰€æœ‰å®‰å…¨çš„ <code>JSON</code> å€¼éƒ½å¯ä»¥ä½¿ç”¨ <code>JSON.stringify</code> åºåˆ—åŒ–ï¼Œä¸å®‰å…¨çš„ <code>JSON</code> å€¼æœ‰ï¼š<code>undefined</code>ã€<code>function</code>ã€<code>symbol</code> å’Œ <code>å¾ªç¯å¼•ç”¨</code>ã€‚<code>JSON.stringify</code></p>
<p>åœ¨å¯¹è±¡ä¸­é‡åˆ°è¿™äº›ä¸å®‰å…¨çš„ <code>JSON</code> å€¼çš„æ—¶å€™ä¼šè‡ªåŠ¨å°†å…¶å¿½ç•¥ï¼Œåœ¨æ•°ç»„ä¸­é‡åˆ°åˆ™ä¼šè¿”å›<code>null</code>ï¼Œä»¥ä¿è¯æ•°ç»„æˆå‘˜ä½ç½®ä¸å˜</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">JSON.stringify(undefined); &#x2F;&#x2F; null</span><br><span class="line">JSON.stringify(function () &#123;&#125;); &#x2F;&#x2F; null</span><br><span class="line">JSON.stringify([1, undefined, 2, function () &#123;&#125;, 3]); &#x2F;&#x2F; &quot;1, null, 2, null, 3&quot;</span><br><span class="line">JSON.stringify(&#123; a: 2, b: function () &#123;&#125; &#125;); &#x2F;&#x2F; &quot;&#123;&quot;a&quot;:2&#125;&quot;</span><br></pre></td></tr></table></figure>

<h3 id="toJSON-æ–¹æ³•"><a href="#toJSON-æ–¹æ³•" class="headerlink" title="toJSON æ–¹æ³•"></a>toJSON æ–¹æ³•</h3><p>å¦‚æœå¯¹è±¡ä¸­å®šä¹‰äº† <code>toJSON</code> æ–¹æ³•ï¼Œé‚£ä¹ˆåœ¨ <code>JSON</code> åºåˆ—åŒ–çš„æ—¶å€™ä¼˜å…ˆè°ƒç”¨è¯¥æ–¹æ³•ï¼Œä¸»è¦æ˜¯ä¸ºäº†å¤„ç†å¾ªç¯å¼•ç”¨çš„æ—¶å€™ï¼Œæˆ‘ä»¬è®©å…¶è¿”å›ä¸€ä¸ªåˆç†çš„å€¼</p>
<p>ä¹Ÿå°±æ˜¯è¯´ <code>toJSON</code> æ–¹æ³•åº”è¯¥è¿”å›ä¸€ä¸ªèƒ½å¤Ÿè¢«å­—ç¬¦ä¸²å®‰å…¨åŒ–çš„ <code>JSON</code> å€¼</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const o &#x3D; &#123;</span><br><span class="line">  a: &#39;cym&#39;,</span><br><span class="line">  toJSON() &#123;</span><br><span class="line">    return &#123; c: &#39;b&#39; &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">JSON.stringify(o); &#x2F;&#x2F; &#123;&quot;c&quot;:&quot;b&quot;&#125;</span><br></pre></td></tr></table></figure>

<h3 id="JSON-stringify-çš„ç¬¬äºŒä¸ªå‚æ•°-important"><a href="#JSON-stringify-çš„ç¬¬äºŒä¸ªå‚æ•°-important" class="headerlink" title="JSON.stringify çš„ç¬¬äºŒä¸ªå‚æ•° (important)"></a>JSON.stringify çš„ç¬¬äºŒä¸ªå‚æ•° (important)</h3><p>æˆ‘ä»¬å¯ä»¥å‘ <code>JSON.stringify</code> ä¸­ä¼ é€’ä¸€ä¸ªå¯é€‰å‚æ•° <code>replacer</code>ï¼Œä»–å¯ä»¥ä¹¦æ•°ç»„ä¹Ÿå¯ä»¥ä¹¦å‡½æ•°ï¼Œç”¨æ¥æŒ‡å®šå¯¹è±¡åºåˆ—åŒ–çš„æ—¶å€™å“ªäº›å±æ€§åº”è¯¥è¢«å¤„ç†ï¼Œå“ªäº›åº”è¯¥è¢«æ’é™¤ï¼Œå’Œ <code>toJSON</code> å¾ˆåƒ</p>
<ol>
<li>å½“ <code>replacer</code> æ˜¯ä¸€ä¸ªæ•°ç»„æ—¶ï¼Œé‚£ä¹ˆä»–å¿…é¡»æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ï¼Œå…¶ä¸­åŒ…å«åºåˆ—åŒ–è¦å¤„ç†çš„å¯¹è±¡çš„å±æ€§åç§°ï¼Œé™¤æ­¤ä¹‹å¤–çš„å±æ€§å°±ä¼šè¢«å¿½ç•¥</li>
</ol>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const obj &#x3D; &#123;</span><br><span class="line">  a: 42,</span><br><span class="line">  b: 30,</span><br><span class="line">  c: 100,</span><br><span class="line">&#125;;</span><br><span class="line">JSON.stringify(obj, [&#39;a&#39;, &#39;c&#39;]); &#x2F;&#x2F; &#123;&quot;a&quot;:42,&quot;c&quot;:100&#125;</span><br></pre></td></tr></table></figure>

<ol>
<li>å½“ <code>replacer</code> æ˜¯ä¸€ä¸ªå‡½æ•°æ—¶ï¼Œä»–ä¼šå¯¹å¯¹è±¡æœ¬èº«è°ƒç”¨ä¸€æ¬¡ï¼Œç„¶ååœ¨å¯¹å¯¹è±¡ä¸­çš„æ¯ä¸ªå±æ€§å„è°ƒç”¨ä¸€æ¬¡ã€‚æ¯æ¬¡ä¼ é€’ä¸¤ä¸ªå‚æ•°ï¼ˆå¯¹è±¡çš„é”®å’Œå€¼ï¼‰ã€‚å¦‚æœè¦å¿½ç•¥æŸä¸ªé”®å°±è¿”å›<code>undecided</code>ï¼Œå¦åˆ™å°±è¿”å›æŒ‡å®šçš„å€¼</li>
</ol>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const obj &#x3D; &#123;</span><br><span class="line">  a: 42,</span><br><span class="line">  b: 30,</span><br><span class="line">  c: 100,</span><br><span class="line">&#125;;</span><br><span class="line">JSON.stringify(obj, (k, v) &#x3D;&gt; &#123;</span><br><span class="line">  &#x2F;&#x2F; æ³¨æ„ï¼šç¬¬ä¸€æ¬¡ k æ˜¯ undefinedï¼Œv æ˜¯åŸå¯¹è±¡</span><br><span class="line">  if (k !&#x3D;&#x3D; &#39;c&#39;) return v;</span><br><span class="line">&#125;); &#x2F;&#x2F; &quot;&#123;&quot;a&quot;:42,&quot;b&quot;:30&#125;&quot;</span><br></pre></td></tr></table></figure>

<h2 id="ä¸€å…ƒè¿ç®—ç¬¦"><a href="#ä¸€å…ƒè¿ç®—ç¬¦" class="headerlink" title="ä¸€å…ƒè¿ç®—ç¬¦"></a>ä¸€å…ƒè¿ç®—ç¬¦</h2><p>æˆ‘ä»¬éƒ½çŸ¥é“ä¸€ä¸ªå­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°å­—ï¼Œå¯ä»¥ä½¿ç”¨ <code>+ &quot;12&quot;</code> è½¬æ¢ä¸ºæ•°å­— 12ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ <code>-</code>ï¼Œè¿™æ ·çš„ <code>+ã€-</code> æ˜¯ä¸€å…ƒè¿ç®—ç¬¦ï¼Œè¿™æ ·å°†æ•°å­—è½¬æ¢ä¸ºå­—ç¬¦ä¸²çš„æ–¹æ³•å±äºæ˜¾ç¤ºè½¬æ¢</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">-&#96; è¿ç®—ç¬¦è¿˜æœ‰åè½¬ç¬¦å·ä½çš„åŠŸèƒ½ï¼Œå½“ç„¶ä¸èƒ½æŠŠä¸€å…ƒæ“ä½œç¬¦è¿åœ¨ä¸€èµ·å†™ï¼Œä¸ç„¶ä¼šå˜æˆ &#96;--&#96;ï¼Œå½“åšé€’å‡è¿ç®—ç¬¦å·æ¥è®¡ç®—äº†ï¼Œæˆ‘ä»¬å¯ä»¥ç†è§£ä¸º &#96;-&#96; è¿ç®—ç¬¦å‡ºåœ¨å•æ•°æ¬¡æ•°ä¼šè½¬ç¬¦å·ä½ï¼Œå‡ºç°åŒæ¬¡æ•°ä¼šæŠµæ¶ˆåè½¬ï¼Œæ¯”å¦‚è¯´ &#96;1 - - 1 &#x3D;&#x3D;&#x3D; 2</span><br><span class="line"># è¿™æ˜¯ js ä»£ç å“¦ï¼Œä¸æ˜¯ python</span><br><span class="line">1 + - + - + - 1   # 0</span><br><span class="line">1 - - 1           # 2</span><br><span class="line">1 - - - 1         # 0</span><br></pre></td></tr></table></figure>

<h2 id="å­—ä½åè½¬æ“ä½œç¬¦"><a href="#å­—ä½åè½¬æ“ä½œç¬¦" class="headerlink" title="å­—ä½åè½¬æ“ä½œç¬¦ ~"></a>å­—ä½åè½¬æ“ä½œç¬¦ ~</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">~&#96; è¿”å› 2 çš„è¡¥ç ï¼Œ&#96;~x&#96; å¤§è‡´ç­‰åŒäº &#96;-(x+1)</span><br><span class="line">~42; &#x2F;&#x2F; -(42+1) &#x3D;&#x3D;&#x3D;&gt; -43</span><br></pre></td></tr></table></figure>

<p>åœ¨ <code>-(x+1)</code> ä¸­å”¯ä¸€èƒ½å¤Ÿå¾—åˆ° 0ï¼ˆæˆ–è€…ä¸¥æ ¼æ¥è¯´æ—¶å€™ -0ï¼‰çš„ x å€¼æ˜¯ -1ï¼Œä¹Ÿå°±æ˜¯è¯´ ~ å’Œä¸€äº›æ•°å­—åœ¨ä¸€èµ·ä¼šè¿”å›ä¸€ä¸ªå‡å€¼ 0ï¼Œå…¶ä»–æƒ…å†µä¸‹åˆ™è¿”å›çœŸå€¼</p>
<p>-1 æ˜¯ä¸€ä¸ª <code>å“¨ä½å€¼</code>ï¼Œå“¨ä½å€¼æ˜¯é‚£äº›åœ¨å„ä¸ªç±»å‹ä¸­è¢«èµ‹äºˆäº†ç‰¹æ®Šå«ä¹‰çš„å€¼ã€‚åœ¨ C è¯­è¨€ä¸­ -1 ä»£è¡¨å‡½æ•°æ‰§è¡Œå¤±è´¥ï¼Œå¤§äºç­‰äº 0 çš„å€¼ä»£è¡¨å‡½æ•°æ‰§è¡ŒæˆåŠŸ</p>
<p>æ¯”å¦‚åœ¨ JavaScript ä¸­å­—ç¬¦ä¸²çš„ indexOf æ–¹æ³•ä¹Ÿéµå¾ªè¿™ä¸€æƒ¯ä¾‹ï¼Œè¯¥æ–¹æ³•åœ¨å­—ç¬¦ä¸²ä¸­æœç´¢æŒ‡å®šçš„å­—ç¬¦ä¸²ï¼Œå¦‚æœæ‰¾åˆ°å°±è¿”å›è¯¥å­å­—ç¬¦ä¸²æ‰€åœ¨çš„ä½ç½®ï¼Œå¦åˆ™è¿”å› -1</p>
<h3 id="çš„ç”¨é€”-å’Œ-indexOfçš„è”ç”¨-important"><a href="#çš„ç”¨é€”-å’Œ-indexOfçš„è”ç”¨-important" class="headerlink" title="~ çš„ç”¨é€” (~ å’Œ indexOfçš„è”ç”¨) (important)"></a>~ çš„ç”¨é€” (<code>~</code> å’Œ <code>indexOf</code>çš„è”ç”¨) (important)</h3><p>æˆ‘ä»¬çŸ¥é“åœ¨ JavaScript ä¸­å‡å€¼æœ‰ï¼š<code>undefinedã€nullã€falseã€+0ã€-0ã€NaNã€&#39;&#39;</code>ï¼Œå…¶ä»–éƒ½ä¸ºçœŸå€¼ï¼Œæ‰€ä»¥è´Ÿæ•°ä¹Ÿæ˜¯çœŸå€¼ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥æ‹¿ç€ <code>~</code> å’Œ <code>indexOf</code> ä¸€èµ·æ£€ç»“æœå¼ºåˆ¶ç±»å‹è½¬æ¢ä¸º çœŸ/å‡ å€¼</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const str &#x3D; &#39;hello world&#39;;</span><br><span class="line">~str.indexOf(&#39;lo&#39;); &#x2F;&#x2F; -4ï¼ŒçœŸå€¼</span><br><span class="line">if (~str.indexOf(&#39;lo&#39;)) &#123;</span><br><span class="line">  &#x2F;&#x2F; true</span><br><span class="line">  &#x2F;&#x2F; æ‰¾åˆ°åŒ¹é…</span><br><span class="line">&#125;</span><br><span class="line">~str.indexOf(&#39;ol&#39;); &#x2F;&#x2F; 0ï¼Œå‡å€¼</span><br><span class="line">!~str.indexOf(&#39;ol&#39;); &#x2F;&#x2F; true</span><br><span class="line">if (!~str.indexOf(&#39;ol&#39;)) &#123;</span><br><span class="line">  &#x2F;&#x2F; true</span><br><span class="line">  &#x2F;&#x2F; æ²¡æœ‰æ‰¾åˆ°åŒ¹é…</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>~ è¦æ¯” <code>&gt;=0</code> å’Œ <code>== -1</code> æ›´ç®€æ´</p>
<h3 id="å­—ä½æˆªé™¤"><a href="#å­—ä½æˆªé™¤" class="headerlink" title="å­—ä½æˆªé™¤"></a>å­—ä½æˆªé™¤</h3><p>æˆ‘ä»¬ç»å¸¸ä½¿ç”¨ <code>~~</code> æ¥æˆªå–æ•°å­—å€¼çš„å°æ•°éƒ¨åˆ†ï¼Œä»¥ä¸ºè¿™æ˜¯å’Œ Math.floor æ•ˆæœæ˜¯ä¸€æ ·çš„ï¼Œå®é™…ä¸Šå¹¶éå¦‚æ­¤</p>
<p><code>~~</code> ä¸­ç¬¬ä¸€ä¸ª ~ æ‰§è¡Œ ToInt32 å¹¶åè½¬å­—ä½ï¼Œç„¶åç¬¬äºŒä¸ªåœ¨è¿›è¡Œä¸€æ¬¡å­—ä½åè½¬ï¼Œå°±æ˜¯å°†æ‰€æœ‰çš„å­—ä½åè½¬å›åŸå€¼ï¼Œæœ€åå¾—åˆ°çš„ç»“æœä»æ˜¯ ToInt32 çš„ç»“æœ</p>
<p><code>~~</code> åªé€‚ç”¨äº 32 ä½çš„æ•°å­—ï¼Œæ›´é‡è¦çš„æ˜¯ä»–å¯¹è´Ÿæ•°çš„å¤„ç†ä¸ Math.floor ä¸åŒï¼Œæ‰€ä»¥ä½¿ç”¨æ—¶è¦å¤šåŠ æ³¨æ„</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Math.floor(1.9); &#x2F;&#x2F; 1</span><br><span class="line">~~1.9; &#x2F;&#x2F; 1</span><br><span class="line">&#x2F;&#x2F; æ“ä½œè´Ÿæ•°</span><br><span class="line">Math.floor(-1.9); &#x2F;&#x2F; -2</span><br><span class="line">~~-1.9; &#x2F;&#x2F; -1</span><br><span class="line">~~x&#96; èƒ½å°†å€¼æˆªé™¤ä¸ºä¸€ä¸ª 32 ä½çš„æ•´æ•°ï¼Œ&#96;x | 0&#96; ä¹Ÿå¯ä»¥ï¼Œè€Œä¸”çœ‹èµ·æ¥æ›´ç®€æ´å“¦ï¼Œä¸è¿‡å‡ºäºå¯¹è¿ç®—ç¬¦ä¼˜å…ˆçº§çš„è€ƒè™‘ï¼Œæˆ‘ä»¬æ›´å€¾å‘äºä½¿ç”¨ &#96;~~x</span><br><span class="line">~~1.9; &#x2F;&#x2F; 1</span><br><span class="line">1.9 | 0; &#x2F;&#x2F; 1</span><br><span class="line"></span><br><span class="line">~~-1.9; &#x2F;&#x2F; -1</span><br><span class="line">-1.9 | 0; &#x2F;&#x2F; -1</span><br></pre></td></tr></table></figure>

<h2 id="ç»™å®šä¸€ç»„-url-å®ç°å¹¶å‘è¯·æ±‚"><a href="#ç»™å®šä¸€ç»„-url-å®ç°å¹¶å‘è¯·æ±‚" class="headerlink" title="ç»™å®šä¸€ç»„ url å®ç°å¹¶å‘è¯·æ±‚"></a>ç»™å®šä¸€ç»„ url å®ç°å¹¶å‘è¯·æ±‚</h2><p>åŸé¢˜æ˜¯è¿™æ ·çš„ï¼šç»™å®šä¸€ç»„ urlï¼Œåˆ©ç”¨ js çš„å¼‚æ­¥å®ç°å¹¶å‘è¯·æ±‚ï¼Œå¹¶æŒ‰é¡ºåºè¾“å‡ºç»“æœ</p>
<h3 id="Promise-all"><a href="#Promise-all" class="headerlink" title="Promise.all"></a>Promise.all</h3><p>é¦–å…ˆæˆ‘ä»¬å¯ä»¥æƒ³åˆ°çš„æ˜¯åˆ©ç”¨ <code>Promise.all</code> æ¥å®ç°ï¼Œä»£ç å®ç°å¦‚ä¸‹</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const urls &#x3D; [&#39;.&#x2F;1.json&#39;, &#39;.&#x2F;2.json&#39;, &#39;.&#x2F;3.json&#39;];</span><br><span class="line">function getData(url) &#123;</span><br><span class="line">  &#x2F;&#x2F; è¿”å›ä¸€ä¸ª Promise åˆ©ç”¨ Promise.all æ¥å—</span><br><span class="line">  return new Promise((resolve, reject) &#x3D;&gt; &#123;</span><br><span class="line">    const xhr &#x3D; new XMLHttpRequest();</span><br><span class="line">    xhr.responseType &#x3D; &#39;json&#39;;</span><br><span class="line">    xhr.onreadystatechange &#x3D; () &#x3D;&gt; &#123;</span><br><span class="line">      if (xhr.readyState &#x3D;&#x3D;&#x3D; 4) &#123;</span><br><span class="line">        if (xhr.status &#x3D;&#x3D;&#x3D; 200) &#123;</span><br><span class="line">          resolve(xhr.response);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    xhr.open(&#39;GET&#39;, url, true);</span><br><span class="line">    xhr.send(null);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line">function getMultiData(urls) &#123;</span><br><span class="line">  &#x2F;&#x2F; Promise.all æ¥å—ä¸€ä¸ªåŒ…å« promise çš„æ•°ç»„ï¼Œå¦‚æœä¸æ˜¯ promise æ•°ç»„ä¼šè¢«è½¬æˆ promise</span><br><span class="line">  Promise.all(urls.map(url &#x3D;&gt; getData(url))).then(results &#x3D;&gt; &#123;</span><br><span class="line">    console.log(results);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ä¸ç”¨-Promise"><a href="#ä¸ç”¨-Promise" class="headerlink" title="ä¸ç”¨ Promise"></a>ä¸ç”¨ Promise</h3><p>åŸé¢˜æ˜¯ä¸ç”¨ <code>Promise</code> æ¥å®ç°ï¼Œæˆ‘ä»¬å¯ä»¥å†™ä¸€ä¸ªæ–¹æ³•ï¼ŒåŠ ä¸ªå›è°ƒå‡½æ•°ï¼Œç­‰æ•°æ®å…¨éƒ¨å›æ¥ä¹‹åï¼Œè§¦å‘å›è°ƒå‡½æ•°ä¼ å…¥å¾—åˆ°çš„æ•°æ®ï¼Œé‚£ä¹ˆæ•°æ®å…¨éƒ¨å›æ¥çš„å°±æ˜¯æˆ‘ä»¬è¦è€ƒè™‘çš„æ ¸å¿ƒé—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ä¸ªæ•°ç»„æˆ–è€…å¯¹è±¡ï¼Œç„¶ååˆ¤æ–­ä¸€ä¸‹æ•°ç»„çš„ length å’Œä¼ å…¥çš„ url çš„é•¿åº¦æ˜¯å¦ä¸€æ ·æ¥åšåˆ¤æ–­</p>
<h4 id="ä½¿ç”¨å¯¹è±¡åšæ˜ å°„"><a href="#ä½¿ç”¨å¯¹è±¡åšæ˜ å°„" class="headerlink" title="ä½¿ç”¨å¯¹è±¡åšæ˜ å°„"></a>ä½¿ç”¨å¯¹è±¡åšæ˜ å°„</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const urls &#x3D; [&#39;.&#x2F;1.json&#39;, &#39;.&#x2F;2.json&#39;, &#39;.&#x2F;3.json&#39;];</span><br><span class="line">function getAllDate(urls, cd) &#123;</span><br><span class="line">  const result &#x3D; &#123;&#125;;</span><br><span class="line">  function getData(url, idx) &#123;</span><br><span class="line">    const xhr &#x3D; new XMLHttpRequest();</span><br><span class="line">    xhr.responseType &#x3D; &#39;json&#39;;</span><br><span class="line">    xhr.onreadystatechange &#x3D; () &#x3D;&gt; &#123;</span><br><span class="line">      if (xhr.readyState &#x3D;&#x3D;&#x3D; 4) &#123;</span><br><span class="line">        if (xhr.status &#x3D;&#x3D;&#x3D; 200) &#123;</span><br><span class="line">          result[idx] &#x3D; xhr.response;</span><br><span class="line">          &#x2F;&#x2F; å¦‚æœä¸¤è€… length ç›¸ç­‰è¯´æ˜éƒ½è¯·æ±‚å®Œæˆäº†</span><br><span class="line">          if (Object.keys(result).length &#x3D;&#x3D;&#x3D; urls.length) &#123;</span><br><span class="line">            &#x2F;&#x2F; ç»™å¯¹è±¡æ·»åŠ lengthå±æ€§ï¼Œæ–¹ä¾¿è½¬æ¢æ•°ç»„</span><br><span class="line">            result.length &#x3D; urls.length;</span><br><span class="line">            cd &amp;&amp; cd(Array.from(result));</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line">  &#x2F;&#x2F; è§¦å‘å‡½æ•°æ‰§è¡Œ</span><br><span class="line">  urls.forEach((url, idx) &#x3D;&gt; getData(url, idx));</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;&#x2F; ä½¿ç”¨</span><br><span class="line">getAllDate(urls, data &#x3D;&gt; &#123;</span><br><span class="line">  console.log(data);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h4 id="ä½¿ç”¨æ•°ç»„å®ç°"><a href="#ä½¿ç”¨æ•°ç»„å®ç°" class="headerlink" title="ä½¿ç”¨æ•°ç»„å®ç°"></a>ä½¿ç”¨æ•°ç»„å®ç°</h4><p>å’Œä¸Šé¢çš„åŸºæœ¬æ€è·¯å·®ä¸å¤šï¼Œä¸è¿‡è¿™æ¬¡æ¢æˆäº†æ•°ç»„ï¼Œä¹Ÿå¯ä»¥ç»™ä¸ªä¿¡å·é‡æ¥åšåˆ¤æ–­</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function getGroupData(urls, cb) &#123;</span><br><span class="line">  const results &#x3D; [];</span><br><span class="line">  let count &#x3D; 0;</span><br><span class="line">  const getData &#x3D; url &#x3D;&gt; &#123;</span><br><span class="line">    const xhr &#x3D; new XMLHttpRequest();</span><br><span class="line">    xhr.responseType &#x3D; &#39;json&#39;;</span><br><span class="line">    xhr.onreadystatechange &#x3D; _ &#x3D;&gt; &#123;</span><br><span class="line">      if (xhr.readyState &#x3D;&#x3D;&#x3D; 4) &#123;</span><br><span class="line">        if (xhr.status &#x3D;&#x3D;&#x3D; 200) &#123;</span><br><span class="line">          results.push(xhr.response);</span><br><span class="line">          if (++count &#x3D;&#x3D;&#x3D; urls.length) &#123;</span><br><span class="line">            cb &amp;&amp; cb(results);</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    xhr.open(&#39;GET&#39;, url, true);</span><br><span class="line">    xhr.send(null);</span><br><span class="line">  &#125;;</span><br><span class="line">  urls.forEach(url &#x3D;&gt; getData(url));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">getGroupData(urls, data &#x3D;&gt; &#123;</span><br><span class="line">  console.log(data);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h2 id="ç±»å‹è½¬æ¢é—®é¢˜"><a href="#ç±»å‹è½¬æ¢é—®é¢˜" class="headerlink" title="ç±»å‹è½¬æ¢é—®é¢˜"></a>ç±»å‹è½¬æ¢é—®é¢˜</h2><p>åŸé¢˜ï¼šå¦‚ä½•è®© (a == 1 &amp;&amp; a == 2 &amp;&amp; a == 3) çš„å€¼ä¸º true?</p>
<p>è¿™ä¸ªé—®é¢˜è€ƒæŸ¥çš„æ•°æ®ç±»å‹è½¬æ¢ï¼Œ<code>==</code> ç±»å‹è½¬æ¢æœ‰ä¸ªåŸºæœ¬è§„åˆ™</p>
<ul>
<li><code>NaN</code> ä¸ä»»ä½•å€¼éƒ½ä¸ç›¸ç­‰ï¼ŒåŒ…æ‹¬è‡ªå·±æœ¬èº«</li>
<li><code>undefined</code> ä¸ <code>null</code> ç›¸ç­‰(==)ï¼Œå…¶ä»–éƒ½ä¸ç­‰</li>
<li>å¯¹è±¡ä¸å­—ç¬¦ä¸²ç±»å‹åšæ¯”è¾ƒï¼Œä¼šæŠŠå¯¹è±¡è½¬æ¢æˆå­—ç¬¦ä¸²ç„¶ååšæ¯”è¾ƒ</li>
<li>å…¶ä»–ç±»å‹æ¯”è¾ƒéƒ½è¦è½¬æ¢æˆ <code>æ•°å­—</code> åšæ¯”è¾ƒ</li>
</ul>
<p>é‚£ä¹ˆè¿™ä¸ªé—®é¢˜æˆ‘ä»¬é‡å†™ <code>toString</code> æˆ–è€… <code>valueOf</code> æ–¹æ³•å°±å¯ä»¥äº†</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const a &#x3D; &#123;</span><br><span class="line">  val: 1,</span><br><span class="line">  toString() &#123;</span><br><span class="line">    return this.val++;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">if (a &#x3D;&#x3D; 1 &amp;&amp; a &#x3D;&#x3D; 2 &amp;&amp; a &#x3D;&#x3D; 3) &#123;</span><br><span class="line">  console.log(&#39;ok&#39;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿˜æœ‰ä¸€ç§æ–¹æ³•å®ç°</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var i &#x3D; 1;</span><br><span class="line">Object.defineProperty(window, &#39;a&#39;, &#123;</span><br><span class="line">  get() &#123;</span><br><span class="line">    return i++;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">if (a &#x3D;&#x3D; 1 &amp;&amp; a &#x3D;&#x3D; 2 &amp;&amp; a &#x3D;&#x3D; 3) &#123;</span><br><span class="line">  console.log(&#39;OK&#39;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="æ‹“å±•ä¸€ä¸‹-ä¸ºä»€ä¹ˆæ˜¯-true-important"><a href="#æ‹“å±•ä¸€ä¸‹-ä¸ºä»€ä¹ˆæ˜¯-true-important" class="headerlink" title="æ‹“å±•ä¸€ä¸‹ [] == ![] ä¸ºä»€ä¹ˆæ˜¯ true (important)"></a>æ‹“å±•ä¸€ä¸‹ [] == ![] ä¸ºä»€ä¹ˆæ˜¯ true (important)</h3><p>ä¸Šé¢éšå¼ç±»å‹è½¬æ¢è§„åˆ™ä¸­æåˆ°ï¼Œå…¶ä»–ç±»å‹æ¯”è¾ƒéƒ½è¦è½¬æ¢æˆæ•°å­—åšæ¯”è¾ƒï¼Œè¿™ä¸ªå°±æ˜¯å¯¹åº”é‚£æ¡è§„åˆ™çš„</p>
<ul>
<li>é¦–å…ˆ <code>[].toString()</code> ä¼šå¾—åˆ°ä¸€ä¸ª <code>&#39;&#39;</code> å­—ç¬¦ä¸²</li>
<li><code>![]</code> å¾—åˆ°ä¸€ä¸ªå¸ƒå°”å€¼ <code>false</code></li>
<li><code>&#39;&#39;</code> ä¸ <code>false</code> æ¯”è¾ƒè‚¯å®šè¦è½¬æ¢æˆæ•°å­—æ¯”è¾ƒ</li>
<li>é‚£ä¹ˆ <code>&#39;&#39;</code> è½¬æ¢åˆ™ä¸º <code>0</code>ï¼Œ <code>false</code> è½¬æ¢ä¹Ÿæ˜¯ <code>0</code></li>
<li>æ‰€ä»¥è¿™é“é¢˜å°±æ˜¯ <code>true</code></li>
</ul>
<h2 id="1-toString-çš„é—®é¢˜"><a href="#1-toString-çš„é—®é¢˜" class="headerlink" title="1..toString çš„é—®é¢˜"></a>1..toString çš„é—®é¢˜</h2><p>æœ‰æ—¶å€™æˆ‘ä»¬çœ‹åˆ°åˆ«äººçš„ä»£ç ä¸­ä¼šå†™åˆ°æ•°å­—è°ƒå…¶ä»–ç±»å‹çš„æ–¹æ³•çš„æ—¶å€™ä¼šå†™æˆ <code>1..toString()</code>è¿™æ ·çš„å†™æ³•</p>
<p>å› ä¸ºç›´æ¥ç”¨æ•´æ•°å‹æ•°å­—è°ƒæ–¹æ³•å°±ä¼šæŠ¥é”™ï¼Œä½†æ˜¯å¦‚æœæ˜¯ä¸€ä¸ªæµ®ç‚¹æ•°çš„è¯å°±ä¸ä¼šæŠ¥é”™äº†</p>
<p>å› ä¸ºå¯èƒ½åœ¨ <code>.</code> ä¸Šé¢å­˜åœ¨äº‰è®®ï¼Œä¸€ä¸ªæ•°å­—åé¢åŠ ç‚¹ï¼Œè§£é‡Šå™¨ä»–ä¸çŸ¥é“ä½ è¿™æ˜¯å°æ•°è¿˜æ˜¯è¦è°ƒå–æ–¹æ³•ï¼Œæ‰€ä»¥å°±è·‘å¼‚å¸¸äº†</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">1.toString()     &#x2F;&#x2F; Uncaught SyntaxError: Invalid or unexpected token</span><br><span class="line">1..toString()    &#x2F;&#x2F; &#39;1&#39;</span><br><span class="line">1.2.toString()   &#x2F;&#x2F; &#39;1.2&#39;</span><br></pre></td></tr></table></figure>

<h2 id="Generator"><a href="#Generator" class="headerlink" title="Generator"></a>Generator</h2><h3 id="å¯¹è±¡å¢åŠ è¿­ä»£å™¨"><a href="#å¯¹è±¡å¢åŠ è¿­ä»£å™¨" class="headerlink" title="å¯¹è±¡å¢åŠ è¿­ä»£å™¨"></a>å¯¹è±¡å¢åŠ è¿­ä»£å™¨</h3><p>ç±»æ•°ç»„å¯¹è±¡çš„ç‰¹å¾ï¼šå¿…é¡»æœ‰é•¿åº¦ã€ç´¢å¼•ã€èƒ½å¤Ÿè¢«è¿­ä»£ï¼Œå¦åˆ™è¿™ä¸ªå¯¹è±¡ä¸å¯ä»¥ä½¿ç”¨ <code>...</code> è¯­æ³•è½¬æ•°ç»„ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Array.from è½¬ï¼Œå½“ç„¶æˆ‘ä»¬ä¹Ÿå¯ä»¥ç»™å¯¹è±¡æ·»åŠ ä¸€ä¸ªè¿­ä»£å™¨</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const obj &#x3D; &#123;</span><br><span class="line">  0: 1,</span><br><span class="line">  1: 2,</span><br><span class="line">  2: 3,</span><br><span class="line">  3: 4,</span><br><span class="line">  length: 4,</span><br><span class="line">  [Symbol.iterator]() &#123;</span><br><span class="line">    let idx &#x3D; 0</span><br><span class="line">    return &#123;</span><br><span class="line">      next() &#123;</span><br><span class="line">        return &#123;</span><br><span class="line">          value: obj[idx],</span><br><span class="line">          done: idx++ &gt;&#x3D; obj.length,</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;&#x2F; æ­¤æ—¶å¯¹è±¡å°±è¢«æ·»åŠ äº†è¿­ä»£å™¨</span><br><span class="line">[...obj]  &#x2F;&#x2F; 1 2 3 4</span><br><span class="line">for (const val of obj) &#123;</span><br><span class="line">  console.log(val)  &#x2F;&#x2F; 1 2 3 4</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢çš„é—®é¢˜å¯ä»¥å­—èŠ‚ä½¿ç”¨ç”Ÿæˆå™¨æ¥å®ç°ï¼Œç”Ÿæˆå™¨è¿”å›ä¸€ä¸ªè¿­ä»£å™¨ï¼Œè¿­ä»£å™¨æœ‰ next æ–¹æ³•ï¼Œè°ƒç”¨ next æ–¹æ³•å¯ä»¥è¿”å› value å’Œ done</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const obj &#x3D; &#123;</span><br><span class="line">  0: 1,</span><br><span class="line">  1: 2,</span><br><span class="line">  2: 3,</span><br><span class="line">  3: 4,</span><br><span class="line">  length: 4,</span><br><span class="line">  [Symbol.iterator]: function* () &#123;</span><br><span class="line">    let idx &#x3D; 0</span><br><span class="line">    while (idx !&#x3D;&#x3D; this.length) &#123;</span><br><span class="line">      yield this[idx++]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<h3 id="å®ç°ä¸€ä¸ªå­—ç¬¦ä¸²çš„è¿­ä»£å™¨"><a href="#å®ç°ä¸€ä¸ªå­—ç¬¦ä¸²çš„è¿­ä»£å™¨" class="headerlink" title="å®ç°ä¸€ä¸ªå­—ç¬¦ä¸²çš„è¿­ä»£å™¨"></a>å®ç°ä¸€ä¸ªå­—ç¬¦ä¸²çš„è¿­ä»£å™¨</h3><p>å®ç°ä¸€ä¸ªå­—ç¬¦ä¸²çš„è¿­ä»£å™¨ï¼šä¼ å…¥ä¸€ç»„å­—ç¬¦ä¸²å¹¶è¿”å›å•ä¸ªå­—ç¬¦çš„èŒƒä¾‹ã€‚ä¸€æ—¦æ›´æ–°çš„å­—ç¬¦ä¸²ï¼Œè¾“å‡ºä¹Ÿè·Ÿç€æ›¿æ¢æ‰æ—§çš„</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function generator(str) &#123;</span><br><span class="line">  let idx &#x3D; 0;</span><br><span class="line">  return &#123;</span><br><span class="line">    next() &#123;</span><br><span class="line">      return &#123;</span><br><span class="line">        value: str[idx],</span><br><span class="line">        done: idx++ &gt;&#x3D; str.length,</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;&#x2F; æµ‹è¯•</span><br><span class="line">const str &#x3D; &#39;as&#39;;</span><br><span class="line">let gen &#x3D; generator(str);</span><br><span class="line">console.log(gen.next());</span><br><span class="line">console.log(gen.next());</span><br><span class="line">console.log(gen.next());</span><br><span class="line">console.log(gen.next());</span><br><span class="line">gen &#x3D; generator(&#39;str&#39;);</span><br><span class="line">console.log(gen.next());</span><br><span class="line">console.log(gen.next());</span><br><span class="line">console.log(gen.next());</span><br><span class="line">console.log(gen.next());</span><br><span class="line">&#x2F;&#x2F; &#123; value: &#39;a&#39;, done: false &#125;</span><br><span class="line">&#x2F;&#x2F; &#123; value: &#39;s&#39;, done: false &#125;</span><br><span class="line">&#x2F;&#x2F; &#123; value: undefined, done: true &#125;</span><br><span class="line">&#x2F;&#x2F; &#123; value: undefined, done: true &#125;</span><br><span class="line">&#x2F;&#x2F; &#123; value: &#39;s&#39;, done: false &#125;</span><br><span class="line">&#x2F;&#x2F; &#123; value: &#39;t&#39;, done: false &#125;</span><br><span class="line">&#x2F;&#x2F; &#123; value: &#39;r&#39;, done: false &#125;</span><br><span class="line">&#x2F;&#x2F; &#123; value: undefined, done: true &#125;</span><br></pre></td></tr></table></figure>

<h3 id="ç®€å•æ¨¡æ‹Ÿ-co"><a href="#ç®€å•æ¨¡æ‹Ÿ-co" class="headerlink" title="ç®€å•æ¨¡æ‹Ÿ co"></a>ç®€å•æ¨¡æ‹Ÿ co</h3><p>æ¨¡æ‹Ÿä¸€ä¸‹ co çš„å®ç°</p>
<p>é¦–å…ˆæ¥çœ‹ä¸€åˆ™ä¾‹å­</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const fs &#x3D; require(&#39;fs&#39;);</span><br><span class="line">const path &#x3D; require(&#39;path&#39;);</span><br><span class="line">const &#123; promisify &#125; &#x3D; require(&#39;util&#39;);</span><br><span class="line">const readFile &#x3D; promisify(fs.readFile);</span><br><span class="line"></span><br><span class="line">function* read() &#123;</span><br><span class="line">  const name &#x3D; yield readFile(path.resolve(__dirname, &#39;name.txt&#39;), &#39;utf8&#39;);</span><br><span class="line">  const age &#x3D; yield readFile(path.resolve(__dirname, name), &#39;utf8&#39;);</span><br><span class="line">  return age;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const it &#x3D; read();</span><br><span class="line"></span><br><span class="line">let &#123; value, done &#125; &#x3D; it.next();</span><br><span class="line">value.then(data &#x3D;&gt; &#123;</span><br><span class="line">  let &#123; value, done &#125; &#x3D; it.next(data);</span><br><span class="line">  &#x2F;&#x2F; console.log(data, &#39;???&#39;)</span><br><span class="line">  value.then(data &#x3D;&gt; &#123;</span><br><span class="line">    let &#123; value, done &#125; &#x3D; it.next(data);</span><br><span class="line">    console.log(value);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ co åº“å¯ä»¥å¾ˆå®¹æ˜“è§£å†³è¿™ä¸ªé—®é¢˜</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const co &#x3D; require(&#39;co&#39;);</span><br><span class="line">&#x2F;&#x2F; co æ¥å—ä¸€ä¸ªç”Ÿæˆå™¨</span><br><span class="line">co(read()).then(data &#x3D;&gt; &#123;</span><br><span class="line">  console.log(data);</span><br><span class="line">&#125;);</span><br><span class="line">&#x2F;&#x2F; é‚£æ¨¡æ‹Ÿä¸€ä¸‹</span><br><span class="line">function _co(it) &#123;</span><br><span class="line">  &#x2F;&#x2F; é¦–å…ˆè¿”å›ä¸€ä¸ª promise</span><br><span class="line">  return new Promise((resolve, reject) &#x3D;&gt; &#123;</span><br><span class="line">    &#x2F;&#x2F; å› ä¸ºå¯ä»¥ä¼ å€¼çš„åŸå› ï¼Œä¸å¯ä»¥ç›´æ¥ä½¿ç”¨å¾ªç¯å®ç°ï¼Œéœ€è¦ä½¿ç”¨ é€’å½’</span><br><span class="line">    function next(data) &#123;</span><br><span class="line">      const &#123; value, done &#125; &#x3D; it.next(data);</span><br><span class="line">      if (done) return resolve(value);</span><br><span class="line">      &#x2F;&#x2F; ä¿è¯å€¼æ˜¯ä¸€ä¸ª promise</span><br><span class="line">      Promise.resolve(value).then(data &#x3D;&gt; &#123;</span><br><span class="line">        next(data);</span><br><span class="line">      &#125;, reject);</span><br><span class="line">    &#125;</span><br><span class="line">    next();</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="è²æ³¢é‚£åˆ‡æ•°åˆ—"><a href="#è²æ³¢é‚£åˆ‡æ•°åˆ—" class="headerlink" title="è²æ³¢é‚£åˆ‡æ•°åˆ—"></a>è²æ³¢é‚£åˆ‡æ•°åˆ—</h2><ul>
<li>ä»Šå¤©æ–°ä¸œæ–¹çš„é¢è¯•è¿˜æåˆ°äº†è²æ³¢é‚£åˆ‡æ•°åˆ—ï¼Œå…¶å®è¿™ä¸ªä¸œè¥¿è›®å¾ˆæœ‰è¶£ï¼Œç®€å•ä»‹ç»ä¸€ä¸‹</li>
<li>1ã€1ã€2ã€3ã€5ã€8ã€13ã€21ã€34 â€¦.</li>
<li>è¿™é“é¢˜æœ‰ä¸ªè§„å¾‹ï¼Œç¬¬ä¸€é¡¹åŠ ä¸Šç¬¬äºŒé¡¹æ°¸è¿œç­‰äºç¬¬ä¸‰é¡¹ï¼š1 + 1 = 2ï¼›1 + 2 = 3ï¼›2 + 3 = 5ï¼›3 + 5 = 8 â€¦.</li>
<li>è¦æ±‚æ˜¯ä¼ å…¥ç¬¬å‡ é¡¹ï¼Œå¾—åˆ°è¯¥å€¼ï¼Œæ ¹æ®è¿™ä¸ªè§„å¾‹æ¥å®ç°ä¸€ä¸‹</li>
</ul>
<h3 id="ç®€å•å†™æ³•"><a href="#ç®€å•å†™æ³•" class="headerlink" title="ç®€å•å†™æ³•"></a>ç®€å•å†™æ³•</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function fibonacci(n) &#123;</span><br><span class="line">  &#x2F;&#x2F; ç¬¬ä¸€é¡¹å’Œç¬¬äºŒé¡¹éƒ½è¿”å›1</span><br><span class="line">  if (n &#x3D;&#x3D;&#x3D; 1 || n &#x3D;&#x3D;&#x3D; 2) return 1;</span><br><span class="line">  &#x2F;&#x2F; æˆ‘ä»¬åªè¦è¿”å› n - 1ï¼ˆnçš„å‰ä¸€é¡¹ï¼‰ä¸ n - 2ï¼ˆnçš„å‰ä¸¤é¡¹ï¼‰çš„å’Œä¾¿æ˜¯æˆ‘ä»¬è¦çš„å€¼</span><br><span class="line">  return fibonacci(n - 1) + fibonacci(n - 2);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ä¼˜åŒ–ç‰ˆæœ¬-important"><a href="#ä¼˜åŒ–ç‰ˆæœ¬-important" class="headerlink" title="ä¼˜åŒ–ç‰ˆæœ¬ (important)"></a>ä¼˜åŒ–ç‰ˆæœ¬ (important)</h3><p>ä¸Šé¢çš„å†™æ³•ï¼Œæ±‚ 20 æ¬¡ä»¥å†…çš„æ€»å’Œè¿è¡Œä¼šå¾ˆå¿«ï¼Œ50 æ¬¡ä»¥ä¸Šç‰¹åˆ«æ…¢ï¼Œ100 æ¬¡ ä»¥ä¸Šå¯èƒ½å°±çˆ†æ ˆäº†ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ä¼˜åŒ–å†™æ³•ï¼Œç¼“å­˜æ¯æ¬¡è®¡ç®—åçš„å€¼</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function feibo(n, sum1 &#x3D; 1, sum2 &#x3D; 1) &#123;</span><br><span class="line">  if (n &#x3D;&#x3D;&#x3D; 1 || n &#x3D;&#x3D;&#x3D; 2) return sum2;</span><br><span class="line">  return feibo(n - 1, sum2, sum1 + sum2);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™ç§å†™æ³•ç¼“å­˜äº†ï¼Œæ¯æ¬¡è®¡ç®—åçš„å€¼ï¼Œæ‰§è¡Œæ•ˆç‡ä¼šå¾ˆé«˜ï¼Œ100 æ¬¡ä»¥ä¸Šä¹Ÿä¼šç§’è¿”å›ç»“æœï¼Œè¿™ä¸ªä¹Ÿå«ä½œå°¾é€’å½’ä¼˜åŒ–</p>
<h2 id="è§‚å¯Ÿè€…ä¸å‘å¸ƒè®¢é˜…"><a href="#è§‚å¯Ÿè€…ä¸å‘å¸ƒè®¢é˜…" class="headerlink" title="è§‚å¯Ÿè€…ä¸å‘å¸ƒè®¢é˜…"></a>è§‚å¯Ÿè€…ä¸å‘å¸ƒè®¢é˜…</h2><blockquote>
<p>ä¸€ç›´ä»¥æ¥ï¼Œæˆ‘ä»¥ä¸ºå‘å¸ƒè®¢é˜…å’Œè§‚å¯Ÿè€…æ˜¯ä¸€ä¸ªæ€è·¯ï¼Œä¸€æ¬¡å¶ç„¶çš„æœºä¼šæˆ‘å‘ç°ä»–ä»¬æ˜¯ä¸¤ç§ä¸åŒçš„è®¾è®¡æ€è·¯</p>
</blockquote>
<p>è™½ç„¶ä»–ä»¬éƒ½æ˜¯<code>å®ç°äº†å¯¹è±¡çš„ä¸€ç§ä¸€å¯¹å¤šçš„ä¾èµ–å…³ç³»ï¼Œå½“ä¸€ä¸ªå¯¹è±¡çš„çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶ï¼Œæ‰€æœ‰ä¾èµ–å®ƒçš„å¯¹è±¡éƒ½å°†å¾—å€’é€šçŸ¥ï¼Œç„¶åè‡ªåŠ¨æ›´æ–°</code>ã€‚ä½†æ˜¯ä»–ä»¬ä¹‹é—´æ˜¯æœ‰ä¸€å®šåŒºåˆ«çš„ã€‚</p>
<h3 id="è§‚å¯Ÿè€…æ¨¡å¼"><a href="#è§‚å¯Ÿè€…æ¨¡å¼" class="headerlink" title="è§‚å¯Ÿè€…æ¨¡å¼"></a>è§‚å¯Ÿè€…æ¨¡å¼</h3><p>è§‚å¯Ÿè€…æ¨¡å¼ä¼šæœ‰ <code>è§‚å¯Ÿè€…</code> ä¸ <code>è¢«è§‚å¯Ÿè€…(è§‚å¯Ÿç›®æ ‡)</code> ä¸¤ä¸ªå¯¹è±¡å­˜åœ¨ï¼Œè§‚å¯Ÿè€…å¯ä»¥æœ‰å¤šä¸ªï¼Œè§‚å¯Ÿç›®æ ‡å¯ä»¥æ·»åŠ å¤šä¸ªè§‚å¯Ÿè€…ï¼Œå¯ä»¥é€šçŸ¥è§‚å¯Ÿè€…ã€‚è§‚å¯Ÿè€…æ¨¡å¼æ˜¯é¢å‘ä¸ç›®æ ‡å’Œè§‚å¯Ÿè€…ç¼–ç¨‹çš„ï¼Œè€¦åˆç›®æ ‡å’Œè§‚å¯Ÿè€…</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; è¢«è§‚å¯Ÿè€…</span><br><span class="line">class Subject &#123;</span><br><span class="line">  constructor() &#123;</span><br><span class="line">    this.subs &#x3D; [];</span><br><span class="line">  &#125;</span><br><span class="line">  add(observer) &#123;</span><br><span class="line">    this.subs.push(observer);</span><br><span class="line">  &#125;</span><br><span class="line">  notify(...args) &#123;</span><br><span class="line">    this.subs.forEach(ob &#x3D;&gt; ob.update(...args));</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;&#x2F; è§‚å¯Ÿè€…</span><br><span class="line">class Observer &#123;</span><br><span class="line">  update(...args) &#123;</span><br><span class="line">    console.log(&#39;Observer -&gt; update -&gt; args&#39;, args);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; ä½¿ç”¨</span><br><span class="line">const o1 &#x3D; new Observer();</span><br><span class="line">const o2 &#x3D; new Observer();</span><br><span class="line">const o3 &#x3D; new Observer();</span><br><span class="line">const o5 &#x3D; new Observer();</span><br><span class="line">const sub &#x3D; new Subject();</span><br><span class="line">&#x2F;&#x2F; æ·»åŠ è§‚å¯Ÿè€…</span><br><span class="line">sub.add(o1);</span><br><span class="line">sub.add(o2);</span><br><span class="line">sub.add(o3);</span><br><span class="line">&#x2F;&#x2F; é€šçŸ¥è§‚å¯Ÿè€…</span><br><span class="line">sub.notify(&#39;å˜¿å˜¿å˜¿&#39;);</span><br></pre></td></tr></table></figure>

<h3 id="å‘å¸ƒè®¢é˜…æ¨¡å¼"><a href="#å‘å¸ƒè®¢é˜…æ¨¡å¼" class="headerlink" title="å‘å¸ƒè®¢é˜…æ¨¡å¼"></a>å‘å¸ƒè®¢é˜…æ¨¡å¼</h3><p>å‘å¸ƒè®¢é˜…æ¨¡å¼ä¼šæœ‰ä¸€ä¸ªè°ƒåº¦ä¸­å¿ƒçš„æ¦‚å¿µã€‚æ˜¯é¢å‘è°ƒåº¦ä¸­å¿ƒç¼–ç¨‹çš„ï¼Œå¯¹å‘å¸ƒè€…ä¸è®¢é˜…è€…è§£è€¦</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class PubSub &#123;</span><br><span class="line">  constructor() &#123;</span><br><span class="line">    this.handlers &#x3D; &#123;&#125;;</span><br><span class="line">  &#125;</span><br><span class="line">  subscribe(type, fn) &#123;</span><br><span class="line">    if (!this.handlers[type]) &#123;</span><br><span class="line">      this.handlers[type] &#x3D; [];</span><br><span class="line">    &#125;</span><br><span class="line">    this.handlers[type].push(fn);</span><br><span class="line">  &#125;</span><br><span class="line">  publish(type, ...args) &#123;</span><br><span class="line">    if (!this.handlers[type]) return;</span><br><span class="line">    this.handlers[type].forEach(fn &#x3D;&gt; fn(...args));</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const ps &#x3D; new PubSub();</span><br><span class="line"></span><br><span class="line">ps.subscribe(&#39;a&#39;, console.log);</span><br><span class="line">ps.subscribe(&#39;a&#39;, console.log);</span><br><span class="line">ps.subscribe(&#39;a&#39;, console.log);</span><br><span class="line">ps.subscribe(&#39;a&#39;, console.log);</span><br><span class="line">ps.publish(&#39;a&#39;, &#39;hello world&#39;);</span><br></pre></td></tr></table></figure>

<h2 id="å­—ç¬¦ä¸²è½¬-txt-æ–‡ä»¶ï¼ˆblobï¼‰"><a href="#å­—ç¬¦ä¸²è½¬-txt-æ–‡ä»¶ï¼ˆblobï¼‰" class="headerlink" title="å­—ç¬¦ä¸²è½¬ txt æ–‡ä»¶ï¼ˆblobï¼‰"></a>å­—ç¬¦ä¸²è½¬ txt æ–‡ä»¶ï¼ˆblobï¼‰</h2><p>æœ‰ä¸ªè¦æ±‚ï¼šçº¯å‰ç«¯å®ç°ï¼Œä¸å¯ä»¥ä½¿ç”¨ <code>nodejs</code></p>
<p>å®ç°åŸç†ä¹Ÿå¾ˆç®€å•ï¼Œå°±åƒæˆ‘ä»¬å¹³æ—¶ä¸‹è½½ä¸€ä¸ªæœ¬åœ°æ–‡ä»¶ä¸€æ ·ï¼Œå¯ä»¥åŠ¨æ€çš„åˆ›å»ºä¸€ä¸ªå¯ä»¥ä¸‹è½½çš„ <code>a</code> æ ‡ç­¾ï¼Œç»™å®ƒè®¾ç½® <code>download</code> å±æ€§ï¼Œç„¶åæŠŠä¸‹è½½çš„å†…å®¹è½¬ <code>blob</code> åˆ›å»ºä¸‹è½½é“¾æ¥ä¸‹è½½å³å¯</p>
<p>å…·ä½“å®ç°å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function exportTxt(text, filename) &#123;</span><br><span class="line">  const eleLink &#x3D; document.createElement(&#39;a&#39;);</span><br><span class="line">  eleLink.download &#x3D; filename;</span><br><span class="line">  eleLink.style.display &#x3D; &#39;none&#39;;</span><br><span class="line">  &#x2F;&#x2F; å°†å†…å®¹è½¬ä¸º blob</span><br><span class="line">  const blob &#x3D; new Blob([text]);</span><br><span class="line">  eleLink.href &#x3D; URL.createObjectURL(blob);</span><br><span class="line">  document.body.appendChild(eleLink);</span><br><span class="line">  eleLink.click();</span><br><span class="line">  document.body.removeChild(eleLink);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="å¥‡å¶æ•°åˆ¤æ–­"><a href="#å¥‡å¶æ•°åˆ¤æ–­" class="headerlink" title="å¥‡å¶æ•°åˆ¤æ–­"></a>å¥‡å¶æ•°åˆ¤æ–­</h2><p>å¯èƒ½ä¼šé‡åˆ°ä¸€ä¸ªåšå¥‡å¶æ•°åˆ¤æ–­çš„æ–¹æ³•å§ï¼Œåæ­£æˆ‘é‡åˆ°äº†ï¼Œä¸€å¥è¯æå®š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const isEven &#x3D; num &#x3D;&gt; num % 2 &#x3D;&#x3D;&#x3D; 0;</span><br></pre></td></tr></table></figure>

<h2 id="æ ¼å¼åŒ–é‡‘é’±-important"><a href="#æ ¼å¼åŒ–é‡‘é’±-important" class="headerlink" title="æ ¼å¼åŒ–é‡‘é’± (important)"></a>æ ¼å¼åŒ–é‡‘é’± (important)</h2><p>é¡¹ç›®ä¸­æˆ‘ä»¬ç»å¸¸ä¼šé‡åˆ°é‡‘é’±æ ¼å¼åŒ–éœ€æ±‚ï¼Œæˆ–è€…è¯´æ•°å­—æ ¼å¼åŒ–ä¸€ä¸‹ï¼Œæ–¹ä¾¿é˜…è¯»ï¼ˆæ•°å­—æ¯”è¾ƒå¤§çš„æƒ…å†µä¸‹ï¼‰</p>
<p>æ¯”å¦‚è¯´ <code>999999999</code>ï¼Œç›´æ¥é˜…è¯»å¾ˆä¸ç›´è§‚ï¼Œæ ¼å¼åŒ–å <code>999,999,999</code></p>
<p>é€šå¸¸æˆ‘ä»¬ä¼šä½¿ç”¨æ­£åˆ™æ¥å¤„ç†</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function formatPrice(price) &#123;</span><br><span class="line">  return String(price).replace(&#x2F;\B(?&#x3D;(\d&#123;3&#125;)+(?!\d))&#x2F;g, &#39;,&#39;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¹Ÿå¯ä»¥ä¸ä½¿ç”¨æ­£åˆ™ç„¶åä¼˜é›…çš„å¤„ç†</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function formatPrice(price) &#123;</span><br><span class="line">  return String(price)</span><br><span class="line">    .split(&#39;&#39;)</span><br><span class="line">    .reverse()</span><br><span class="line">    .reduce((prev, next, index) &#x3D;&gt; &#123;</span><br><span class="line">      return (index % 3 ? next : next + &#39;,&#39;) + prev;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢æ˜¯ä¸¤ç§æåˆ°çš„æ¯”è¾ƒå¸¸ç”¨çš„æ–¹æ¡ˆï¼Œä½†æ˜¯ js è¿˜æœ‰ä¸ªæ¯”è¾ƒç‰›é€¼çš„ API å¯ä»¥ç›´æ¥å®ç°è¿™ä¸ªéœ€æ±‚å“¦ï¼Œå®ƒå°±æ˜¯ <code>toLocaleString</code>ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥æ•°å­—è°ƒç”¨è¿™ä¸ªæ–¹æ³•å°±å¯ä»¥å®ç°ï¼Œé‡‘é¢çš„æ ¼å¼åŒ–</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">(999999999).toLocaleString(); &#x2F;&#x2F; 999,999,999</span><br><span class="line">&#x2F;&#x2F; å½“ç„¶è¿˜å¯ä»¥æ›´ç§€ä¸€ç‚¹</span><br><span class="line">const options &#x3D; &#123;</span><br><span class="line">  style: &#39;currency&#39;,</span><br><span class="line">  currency: &#39;CNY&#39;,</span><br><span class="line">&#125;;</span><br><span class="line">(123456).toLocaleString(&#39;zh-CN&#39;, options); &#x2F;&#x2F; Â¥123,456.00</span><br></pre></td></tr></table></figure>

<p><code>toLocaleString</code> å¯ä»¥æ¥æ”¶ä¸¤ä¸ªå¯é€‰å‚æ•°ï¼š<code>locales</code> å’Œ <code>options</code>ï¼Œè€Œä¸”è¿™ä¸ª api åœ¨å„å¤§æµè§ˆå™¨é€šç”¨ä¸å­˜åœ¨å…¼å®¹é—®é¢˜å¹¶ä¸”è¿™ä¸ª <code>api</code> ä¸æ­¢å­˜åœ¨ Number çš„åŸå‹ä¸Šï¼ŒArrayã€Objectã€Date åŸå‹ä¸Šéƒ½æœ‰è¿™ä¸ª apiï¼Œå¹¶ä¸”æ ¼å¼åŒ–å‡ºæ¥çš„å€¼å¯ä»¥æ ¹æ®æˆ‘ä»¬ä¼ å…¥çš„å‚æ•°å‡ºç°å„ç§ç»“æœ</p>
<p>å‚æ•°åŠç”¨æ³•å¯ä»¥å‚è€ƒ MDN</p>
<h2 id="æ·±åº¦å†»ç»“å¯¹è±¡"><a href="#æ·±åº¦å†»ç»“å¯¹è±¡" class="headerlink" title="æ·±åº¦å†»ç»“å¯¹è±¡"></a>æ·±åº¦å†»ç»“å¯¹è±¡</h2><p>åœ¨ vue é¡¹ç›®å¼€å‘ä¸­ï¼Œæœ‰äº›ä¸å˜çš„å¸¸é‡ï¼Œæˆ‘ä»¬ä¸æƒ³ vue ä¸ºä»–åšåŒå‘ç»‘å®šï¼Œä»¥å‡å°‘ä¸€äº›æ€§èƒ½ä¸Šæ¶ˆè€—ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠä½¿ç”¨ <code>Object.freeze</code> å°†å¯¹è±¡å†»ç»“ï¼Œæ­¤æ—¶ vue å°†ä¸ä¼šå¯¹è¿™ä¸ªå¯¹è±¡è¿›è¡Œå†»ç»“ï¼Œä½†æ˜¯è¿™ä¸ªå†»ç»“åªæ˜¯å†»ç»“å¯¹è±¡ç¬¬ä¸€å±‚ï¼Œæ‰€ä»¥é‡åˆ°å¯¹è±¡å±‚çº§æ¯”è¾ƒæ·±çš„è¯ï¼Œæˆ‘ä»¬å¯ä»¥å†™ä¸ªæ·±åº¦å†»ç»“çš„ apiï¼Œæ¥å¯¹å¸¸é‡å¯¹è±¡åšä¸€äº›å†»ç»“ä¼˜åŒ–</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const deepFreeze &#x3D; o &#x3D;&gt; &#123;</span><br><span class="line">  const propNames &#x3D; Object.getOwnPropertyNames(o);</span><br><span class="line">  propNames.forEach(name &#x3D;&gt; &#123;</span><br><span class="line">    const prop &#x3D; o[name];</span><br><span class="line">    if (typeof prop &#x3D;&#x3D;&#x3D; &#39;object&#39; &amp;&amp; prop !&#x3D;&#x3D; null) &#123;</span><br><span class="line">      deepFreeze(prop);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">  return Object.freeze(o);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h2 id="è„±æ•å¤„ç†-æ‰‹æœºå·èº«ä»½è¯å·ä¹‹ç±»çš„ä¿¡æ¯è„±æ•å¸¦-å·-important"><a href="#è„±æ•å¤„ç†-æ‰‹æœºå·èº«ä»½è¯å·ä¹‹ç±»çš„ä¿¡æ¯è„±æ•å¸¦-å·-important" class="headerlink" title="è„±æ•å¤„ç† (æ‰‹æœºå·èº«ä»½è¯å·ä¹‹ç±»çš„ä¿¡æ¯è„±æ•å¸¦*å·)(important)"></a>è„±æ•å¤„ç† (æ‰‹æœºå·èº«ä»½è¯å·ä¹‹ç±»çš„ä¿¡æ¯è„±æ•å¸¦*å·)(important)</h2><p>åœ¨ä¸€äº›æ¶‰åŠåˆ°ç”¨æˆ·éšç§æƒ…å†µä¸‹ï¼Œå¯èƒ½ä¼šé‡åˆ°å¯¹ç”¨æˆ·çš„æ‰‹æœºå·èº«ä»½è¯å·ä¹‹ç±»çš„ä¿¡æ¯è„±æ•ï¼Œä½†æ˜¯è¿™ä¸ªè„±æ•æ•°æ®çš„è§„åˆ™æ˜¯æ ¹æ®ç”¨æˆ·ä¿¡æ¯è¦è„±æ•å­—æ®µåŠ¨æ€çš„ç”Ÿæˆçš„ï¼Œæ­¤æ—¶æˆ‘ä»¬åŠ¨æ€æ‹¼æ¥æ­£åˆ™æ¥å®ç°ä¸€ä¸ªåŠ¨æ€è„±æ•è§„åˆ™</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const encryptReg &#x3D; (before &#x3D; 3, after &#x3D; 4) &#x3D;&gt; &#123;</span><br><span class="line">  return new RegExp(&#39;(\\d&#123;&#39; + before + &#39;&#125;)\\d*(\\d&#123;&#39; + after + &#39;&#125;)&#39;);</span><br><span class="line">&#125;;</span><br><span class="line">&#x2F;&#x2F; ä½¿ç”¨ï¼š&#39;13456789876&#39;.replace(encryptReg(), &#39;$1****$2&#39;) -&gt; &quot;134****9876&quot;</span><br></pre></td></tr></table></figure>

<h2 id="æ ‘éå†"><a href="#æ ‘éå†" class="headerlink" title="æ ‘éå†"></a>æ ‘éå†</h2><p>å¯¹äºæ ‘ç»“æ„çš„éå†ä¸€èˆ¬æœ‰æ·±åº¦ä¼˜å…ˆå’Œå¹¿åº¦ä¼˜å…ˆ</p>
<p>å¹¿åº¦ä¼˜å…ˆå’Œæ·±åº¦ä¼˜å…ˆçš„æ¦‚å¿µå¾ˆç®€å•ï¼ŒåŒºåˆ«å¦‚ä¸‹ï¼š</p>
<ul>
<li>æ·±åº¦ä¼˜å…ˆï¼Œè®¿é—®å®Œä¸€é¢—å­æ ‘å†å»è®¿é—®åé¢çš„å­æ ‘ï¼Œè€Œè®¿é—®å­æ ‘çš„æ—¶å€™ï¼Œå…ˆè®¿é—®æ ¹å†è®¿é—®æ ¹çš„å­æ ‘ï¼Œç§°ä¸ºå…ˆåºéå†ï¼›å…ˆè®¿é—®å­æ ‘å†è®¿é—®æ ¹ï¼Œç§°ä¸ºååºéå†ã€‚</li>
<li>å¹¿åº¦ä¼˜å…ˆï¼Œå³è®¿é—®æ ‘ç»“æ„çš„ç¬¬ n+1 å±‚å‰å¿…é¡»å…ˆè®¿é—®å®Œç¬¬ n å±‚</li>
</ul>
<ol>
<li>æ·±åº¦ä¼˜å…ˆ</li>
</ol>
<p>å…ˆåºéå†</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const treeForEach &#x3D; (tree, func) &#x3D;&gt; &#123;</span><br><span class="line">  tree.forEach(data &#x3D;&gt; &#123;</span><br><span class="line">    func(data);</span><br><span class="line">    data.children &amp;&amp; treeForEach(data.children, func);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>ååºéå†ï¼Œåªéœ€è¦è°ƒæ¢ä¸€ä¸‹èŠ‚ç‚¹éå†å’Œå­æ ‘éå†çš„é¡ºåºå³å¯</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const treeForEach &#x3D; (tree, func) &#x3D;&gt; &#123;</span><br><span class="line">  tree.forEach(data &#x3D;&gt; &#123;</span><br><span class="line">    data.children &amp;&amp; treeForEach(data.children, func);</span><br><span class="line">    func(data);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<ol>
<li>å¹¿åº¦ä¼˜å…ˆ</li>
</ol>
<p>å¹¿åº¦ä¼˜å…ˆçš„æ€è·¯æ˜¯ï¼Œç»´æŠ¤ä¸€ä¸ªé˜Ÿåˆ—ï¼Œé˜Ÿåˆ—çš„åˆå§‹å€¼ä¸ºæ ‘ç»“æ„æ ¹èŠ‚ç‚¹ç»„æˆçš„åˆ—è¡¨ï¼Œé‡å¤æ‰§è¡Œä»¥ä¸‹æ­¥éª¤ç›´åˆ°é˜Ÿåˆ—ä¸ºç©ºã€‚å–å‡ºé˜Ÿåˆ—ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œè¿›è¡Œè®¿é—®ç›¸å…³æ“ä½œï¼Œç„¶åå°†å…¶åä»£å…ƒç´ ï¼ˆå¦‚æœæœ‰ï¼‰å…¨éƒ¨è¿½åŠ åˆ°é˜Ÿåˆ—æœ€åã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const treeForEach &#x3D; (tree, func) &#x3D;&gt; &#123;</span><br><span class="line">  let node,</span><br><span class="line">    list &#x3D; [...tree];</span><br><span class="line">  while ((node &#x3D; list.shift())) &#123;</span><br><span class="line">    func(node);</span><br><span class="line">    node.children &amp;&amp; list.push(...node.children);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h2 id="æ•°ç»„åˆ†ç»„"><a href="#æ•°ç»„åˆ†ç»„" class="headerlink" title="æ•°ç»„åˆ†ç»„"></a>æ•°ç»„åˆ†ç»„</h2><p>å¼€å‘ç§»åŠ¨ç«¯çš„æ—¶å€™ï¼Œé‡åˆ°ä¸€ä¸ªé¦–é¡µèœå•æ”¹ç‰ˆçš„éœ€æ±‚ï¼Œé¦–é¡µèœå•æ ¹æ®æƒé™æ§åˆ¶æ˜¾éšï¼Œè€Œèœå•æ¯é¡µå±•ç¤ºå…«ä¸ªå°èœå•ï¼Œè¶…è¿‡å…«ä¸ªåš swipe æ»‘åŠ¨åˆ‡æ¢ï¼Œå½“æ—¶é¡¹ç›®ç”¨äº† vant åšçš„ UI æ¡†æ¶ï¼Œèœå•é‚£æ¨¡å—å°±é€‰æ‹©äº†ä»–çš„è½®æ’­æ’ä»¶ï¼Œèœå•åšæˆäº†ä¸€ä¸ªæ‰å¹³åŒ–çš„ list é…ç½®ï¼Œé¦–å…ˆæ ¹æ®æƒé™è¿‡æ»¤å‡ºæ‰€æœ‰æœ‰æƒé™çš„èœå•é¡¹ï¼Œç„¶åæ¯å…«ä¸ªä¸€åˆ†ç»„ï¼Œå¤„ç†æˆä¸€ä¸ªäºŒç»´æ•°æ®æ¥éå†èœå•</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const arrayGroupBySize &#x3D; (arr, size &#x3D; 2) &#x3D;&gt; &#123;</span><br><span class="line">  const result &#x3D; [];</span><br><span class="line">  for (let i &#x3D; 0, len &#x3D; arr.length; i &lt; len; i +&#x3D; size) &#123;</span><br><span class="line">    result.push(arr.slice(i, i + size));</span><br><span class="line">  &#125;</span><br><span class="line">  return result;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h2 id="ä¸‹åˆ’çº¿ä¸é©¼å³°-important"><a href="#ä¸‹åˆ’çº¿ä¸é©¼å³°-important" class="headerlink" title="ä¸‹åˆ’çº¿ä¸é©¼å³°(important)"></a>ä¸‹åˆ’çº¿ä¸é©¼å³°(important)</h2><p>åšä¸€äº›æ•°æ®æŒä¹…åŒ–çš„å·¥ä½œçš„æ—¶å€™ç»å¸¸ä¼šå‡ºç°ä¸‹åˆ’çº¿å‘½åå’Œé©¼å³°å‘½åçš„è½¬åŒ–ï¼Œå› ä¸ºåœ¨å‰ç«¯å¤„ç†ä¸­è§„èŒƒæ˜¯é©¼å³°å‘½åï¼Œè€Œåƒ mysql ä¹‹ç±»çš„è§„èŒƒæ˜¯ä¸‹åˆ’çº¿å‘½åï¼Œæ‰€ä»¥åœ¨å¤„ç†åè¿”å›ç»™å‰ç«¯çš„æ•°æ®éœ€è¦è½¬æ¢ä¸ºé©¼å³°å‘½åï¼Œè€Œå¯¹æ•°æ®åº“çš„è¯»å†™éœ€è¦ä¸‹åˆ’çº¿å‘½å</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">é©¼å³°</span><br><span class="line">const toHump &#x3D; name &#x3D;&gt; &#123;</span><br><span class="line">  return name.replace(&#x2F;\_(\w)&#x2F;g, function (all, letter) &#123;</span><br><span class="line">    return letter.toUpperCase();</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br><span class="line">toHump(&#39;_chose_hello&#39;) &#x2F;&#x2F; ChoseHello</span><br><span class="line"></span><br><span class="line">ä¸‹åˆ’çº¿</span><br><span class="line">const toLine &#x3D; name &#x3D;&gt; &#123;</span><br><span class="line">  return name.replace(&#x2F;([A-Z])&#x2F;g, &#39;_$1&#39;).toLowerCase();</span><br><span class="line">&#125;;</span><br><span class="line">toLine(&#39;ChoseHello&#39;)  _chose_hello</span><br></pre></td></tr></table></figure>

<h2 id="æ ¡éªŒæ—¶é—´æ ¼å¼-important"><a href="#æ ¡éªŒæ—¶é—´æ ¼å¼-important" class="headerlink" title="æ ¡éªŒæ—¶é—´æ ¼å¼(important)"></a>æ ¡éªŒæ—¶é—´æ ¼å¼(important)</h2><p>ä¸šåŠ¡ä¸­é‡åˆ°ä¸€ä¸ªæ ¡éªŒä¸€ä¸‹ä¼ å…¥æ—¶é—´æ ¼å¼æ˜¯å¦ä¸ºä¸€ä¸ªæ—¶é—´æ ¼å¼ï¼Œä¸‹é¢çš„æ–¹æ³•å¯ä»¥å®Œç¾æ ¡éªŒ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const isDate &#x3D; str &#x3D;&gt; &#123;</span><br><span class="line">  return typeof str !&#x3D;&#x3D; &#39;number&#39; &amp;&amp; str !&#x3D;&#x3D; null &amp;&amp; new Date(str) !&#x3D;&#x3D; &#39;Invalid Date&#39;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>æŒç»­è®°å½•ä¸­â€¦</p>
]]></content>
      <categories>
        <category>js</category>
      </categories>
      <tags>
        <tag>js</tag>
      </tags>
  </entry>
  <entry>
    <title>jsä¹‹å›¾ç‰‡æ‡’åŠ è½½</title>
    <url>/2021/02/01/js%E4%B9%8B%E5%9B%BE%E7%89%87%E6%87%92%E5%8A%A0%E8%BD%BD/</url>
    <content><![CDATA[<p>å‚è€ƒé“¾æ¥ </p>
<p><a href="https://mp.weixin.qq.com/s/wsaB9pT75msm9usT9i3Xig" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/wsaB9pT75msm9usT9i3Xig</a></p>
<p>window.innerHeightå’Œdocument.documentElement.clientHeightåŒºåˆ«(window.innerHeightå’ŒclentWidthåŒç†)</p>
<p><strong>1.window.innerHeightå±äºBOMï¼ˆæµè§ˆå™¨å¯¹è±¡æ¨¡å‹ï¼‰ï¼Œè€Œdocument.documentElement.clientHeightåˆ™å±äºæ–‡æ¡£å¯¹è±¡æ¨¡å‹</strong></p>
<p><strong>2.window.innerHeightè·å–çš„é«˜åº¦åŒ…å«æ¨ªå‘æ»šåŠ¨æ¡ï¼Œè€Œdocument.documentElement.clientHeightä¸åŒ…å«æ¨ªå‘æ»šåŠ¨æ¡</strong></p>
<h2 id="åŸºäºåŸç”Ÿ-js-å®ç°å›¾ç‰‡æ‡’åŠ è½½"><a href="#åŸºäºåŸç”Ÿ-js-å®ç°å›¾ç‰‡æ‡’åŠ è½½" class="headerlink" title="åŸºäºåŸç”Ÿ js å®ç°å›¾ç‰‡æ‡’åŠ è½½"></a>åŸºäºåŸç”Ÿ js å®ç°å›¾ç‰‡æ‡’åŠ è½½</h2><h4 id="document-documentElement-clientHeight"><a href="#document-documentElement-clientHeight" class="headerlink" title="document.documentElement.clientHeight"></a>document.documentElement.clientHeight</h4><p>è·å–å±å¹•å¯è§†åŒºåŸŸçš„é«˜åº¦ã€‚</p>
<h4 id="element-offsetTop"><a href="#element-offsetTop" class="headerlink" title="element.offsetTop"></a>element.offsetTop</h4><p>è·å–å…ƒç´ ç›¸å¯¹äºæ–‡æ¡£é¡¶éƒ¨çš„é«˜åº¦ã€‚</p>
<h4 id="document-documentElement-scrollTop"><a href="#document-documentElement-scrollTop" class="headerlink" title="document.documentElement.scrollTop"></a>document.documentElement.scrollTop</h4><p>è·å–æµè§ˆå™¨çª—å£é¡¶éƒ¨ä¸æ–‡æ¡£é¡¶éƒ¨ä¹‹é—´çš„è·ç¦»ï¼Œä¹Ÿå°±æ˜¯æ»šåŠ¨æ¡æ»šåŠ¨çš„è·ç¦»ã€‚</p>
<a id="more"></a>

<p>é€šè¿‡ä¸Šé¢ä¸‰ä¸ª APIï¼Œæˆ‘ä»¬è·å¾—äº†ä¸‰ä¸ªå€¼ï¼šå¯è§†åŒºåŸŸçš„é«˜åº¦ã€å…ƒç´ ç›¸å¯¹äºå…¶çˆ¶å…ƒç´ å®¹å™¨é¡¶éƒ¨çš„è·ç¦»ã€æµè§ˆå™¨çª—å£é¡¶éƒ¨ä¸å®¹å™¨å…ƒç´ é¡¶éƒ¨çš„è·ç¦»ä¹Ÿå°±æ˜¯æ»šåŠ¨æ¡æ»šåŠ¨çš„é«˜åº¦ã€‚</p>
<p>è™½ç„¶è¿™å‡ ä¸ª<code>API</code>å¾ˆç®€å•ï¼Œä½†æ˜¯å•çº¯çš„å»è¯´è¿˜æ˜¯æœ‰ç‚¹æŠ½è±¡ï¼Œè¿™é‡Œæˆ‘ä»¬è¿˜æ˜¯ç”¨å›¾æ¥å±•ç¤ºä¸€ä¸‹ï¼š</p>
<p><img src="https://pic1.zhimg.com/80/v2-af1ab0c5f34e468e8647135c1f9f51e4_720w.jpg" alt="img"></p>
<p>çœ‹å®Œä¸Šé¢è¿™å¼ å›¾ç‰‡ï¼Œæˆ‘æƒ³ä½ å·²ç»æ˜ç™½äº†ï¼šå¦‚æœæ»¡è¶³<code>offsetTop-scrollTop&lt;clientHeight</code>ï¼Œåˆ™å›¾ç‰‡è¿›å…¥äº†å¯è§†åŒºå†…ï¼Œæˆ‘ä»¬å°±å»è¯·æ±‚è¿›å…¥å¯è§†åŒºåŸŸçš„å›¾ç‰‡ã€‚</p>
<h3 id="ä»£ç å®ç°"><a href="#ä»£ç å®ç°" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h3><p>åŸºäºä¸Šé¢çš„åˆ†æï¼Œæˆ‘ä»¬å¾ˆå®¹æ˜“å°±å¯ä»¥å†™å‡ºå¦‚ä¸‹ä»£ç ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang&#x3D;&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;meta name&#x3D;&quot;viewport&quot; content&#x3D;&quot;width&#x3D;device-width, initial-scale&#x3D;1.0&quot;&gt;</span><br><span class="line">    &lt;meta http-equiv&#x3D;&quot;X-UA-Compatible&quot; content&#x3D;&quot;ie&#x3D;edge&quot;&gt;</span><br><span class="line">    &lt;title&gt;åŸºäºåŸç”Ÿ js å®ç°å›¾ç‰‡æ‡’åŠ è½½&lt;&#x2F;title&gt;</span><br><span class="line">    &lt;style&gt;</span><br><span class="line">        img &#123;</span><br><span class="line">            display: block;</span><br><span class="line">            width: 100%;</span><br><span class="line">            height: 300px;</span><br><span class="line">            margin-bottom: 20px;</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;&#x2F;style&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;img data-src&#x3D;&quot;.&#x2F;img&#x2F;1.png&quot; alt&#x3D;&quot;&quot;&gt;</span><br><span class="line">    &lt;img data-src&#x3D;&quot;.&#x2F;img&#x2F;2.png&quot; alt&#x3D;&quot;&quot;&gt;</span><br><span class="line">    &lt;img data-src&#x3D;&quot;.&#x2F;img&#x2F;3.png&quot; alt&#x3D;&quot;&quot;&gt;</span><br><span class="line">    &lt;img data-src&#x3D;&quot;.&#x2F;img&#x2F;4.png&quot; alt&#x3D;&quot;&quot;&gt;</span><br><span class="line">    &lt;img data-src&#x3D;&quot;.&#x2F;img&#x2F;5.png&quot; alt&#x3D;&quot;&quot;&gt;</span><br><span class="line">    &lt;img data-src&#x3D;&quot;.&#x2F;img&#x2F;6.png&quot; alt&#x3D;&quot;&quot;&gt;</span><br><span class="line">    &lt;img data-src&#x3D;&quot;.&#x2F;img&#x2F;7.png&quot; alt&#x3D;&quot;&quot;&gt;</span><br><span class="line">    &lt;img data-src&#x3D;&quot;.&#x2F;img&#x2F;8.png&quot; alt&#x3D;&quot;&quot;&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">        var imgs &#x3D; document.querySelectorAll(&#39;img&#39;);</span><br><span class="line">        &#x2F;&#x2F;offsetTopæ˜¯å…ƒç´ ä¸offsetParentçš„è·ç¦»ï¼Œå¾ªç¯è·å–ç›´åˆ°é¡µé¢é¡¶éƒ¨</span><br><span class="line">        function getRealTop(e) &#123;</span><br><span class="line">            var realTop &#x3D; e.offsetTop;</span><br><span class="line">            while(e &#x3D; e.offsetParent) &#123;</span><br><span class="line">                realTop +&#x3D; e.offsetTop;</span><br><span class="line">            &#125;</span><br><span class="line">            return realTop;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        function lazyLoad(imgs) &#123;</span><br><span class="line">            var H &#x3D; document.documentElement.clientHeight;&#x2F;&#x2F;è·å–å¯è§†åŒºåŸŸé«˜åº¦</span><br><span class="line">            var S &#x3D; document.documentElement.scrollTop || document.body.scrollTop;</span><br><span class="line">            for (var i &#x3D; 0; i &lt; imgs.length; i++) &#123;</span><br><span class="line">                if (H + S &gt; getRealTop(imgs[i])) &#123;</span><br><span class="line">                    imgs[i].src &#x3D; imgs[i].getAttribute(&#39;data-src&#39;);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        window.onload &#x3D; window.onscroll &#x3D; function () &#123; &#x2F;&#x2F;onscroll()åœ¨æ»šåŠ¨æ¡æ»šåŠ¨çš„æ—¶å€™è§¦å‘</span><br><span class="line">            lazyLoad(imgs);</span><br><span class="line">        &#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>



<blockquote>
<p>ä½†ä¸Šé¢çš„ä»£ç å¦‚æœä½ åœ¨<code>lazyLoad</code>ä¸­æ‰“å°ï¼Œä½ ä¼šå‘ç°æ»šåŠ¨æ¡ä¸Šä¸‹æ»šåŠ¨æ—¶ï¼Œ<code>lazyLoad</code>ä¼šè¢«é¢‘ç¹è°ƒç”¨ï¼Œé€ æˆå¾ˆå¤§çš„æ€§èƒ½æŸå¤±ï¼Œè¿™é‡Œæˆ‘ä»¬å¯ä»¥ç»™äº‹ä»¶åŠ ä¸ŠèŠ‚æµ<code>throttle</code></p>
</blockquote>
<h2 id="åŸºäº-getBoundingClientRect-å®ç°å›¾ç‰‡æ‡’åŠ è½½"><a href="#åŸºäº-getBoundingClientRect-å®ç°å›¾ç‰‡æ‡’åŠ è½½" class="headerlink" title="åŸºäº getBoundingClientRect()å®ç°å›¾ç‰‡æ‡’åŠ è½½"></a>åŸºäº getBoundingClientRect()å®ç°å›¾ç‰‡æ‡’åŠ è½½</h2><p>å…ˆæ¥äº†è§£ä¸€ä¸‹è¿™ä¸ª<code>API</code>å§ï¼š</p>
<p><code>getBoundingClientRect()</code>ç”¨äºè·å¾—é¡µé¢ä¸­æŸä¸ªå…ƒç´ çš„å·¦ï¼Œä¸Šï¼Œå³å’Œä¸‹åˆ†åˆ«ç›¸å¯¹æµè§ˆå™¨è§†çª—çš„ä½ç½®ã€‚<code>getBoundingClientRect()</code>æ˜¯<code>DOM</code>å…ƒç´ åˆ°æµè§ˆå™¨å¯è§†èŒƒå›´çš„è·ç¦»ï¼ˆä¸åŒ…å«é¡µé¢çœ‹ä¸è§çš„éƒ¨åˆ†ï¼‰ã€‚</p>
<p>è¯¥å‡½æ•°è¿”å›ä¸€ä¸ª<code>rectObject</code>å¯¹è±¡ï¼Œè¯¥å¯¹è±¡æœ‰ 6 ä¸ªå±æ€§ï¼š<code>top</code>, <code>left</code>, <code>bottom</code>, <code>right</code>,<code>width</code>, <code>height</code>ï¼›è¿™é‡Œçš„<code>top</code>ã€<code>left</code>å’Œ<code>css</code>ä¸­çš„ç†è§£å¾ˆç›¸ä¼¼ï¼Œ<code>width</code>ã€<code>height</code>æ˜¯å…ƒç´ è‡ªèº«çš„å®½é«˜ï¼Œä½†æ˜¯<code>right</code>ï¼Œ<code>bottom</code>å’Œ<code>css</code>ä¸­çš„ç†è§£æœ‰ç‚¹ä¸ä¸€æ ·ã€‚<code>right</code>æ˜¯æŒ‡å…ƒç´ å³è¾¹ç•Œè·çª—å£æœ€å·¦è¾¹çš„è·ç¦»ï¼Œ<code>bottom</code>æ˜¯æŒ‡å…ƒç´ ä¸‹è¾¹ç•Œè·çª—å£æœ€ä¸Šé¢çš„è·ç¦»ã€‚</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/LNrWl4n5XIIK2zJ2Sib4NcyG27o0KmtgwLlWQAyRI4Y2vy2Du4JDDmrmNvD8eJMvgvv8lFCfgtkx8R8JgZ7piabA/640?wx_fmt=gif&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="å›¾ç‰‡"></p>
<h3 id="æ€è·¯åˆ†æ"><a href="#æ€è·¯åˆ†æ" class="headerlink" title="æ€è·¯åˆ†æ"></a>æ€è·¯åˆ†æ</h3><p>é€šè¿‡è¿™ä¸ª APIï¼Œæˆ‘ä»¬å°±å¾ˆå®¹æ˜“è·å–<code>img</code>å…ƒç´ ç›¸å¯¹äºè§†å£çš„é¡¶ç‚¹ä½ç½®<code>rectObject.top</code>ï¼Œåªè¦è¿™ä¸ªå€¼å°äºæµè§ˆå™¨çš„é«˜åº¦<code>window.innerHeight</code>å°±è¯´æ˜è¿›å…¥å¯è§†åŒºåŸŸï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function isInSight(el)&#123;</span><br><span class="line">  const bound &#x3D; el.getBoundingClientRect();</span><br><span class="line">  const clientHeight &#x3D; window.innerHeight;</span><br><span class="line">  return bound.top &lt;&#x3D; clientHeight;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ä»£ç å®ç°-1"><a href="#ä»£ç å®ç°-1" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h3><p>è¿™é‡Œç»“åˆç¬¬ä¸€ç§å®ç°æ–¹å¼ï¼Œåšä¸‹æ”¹é€ ï¼Œå°±å¾—åˆ°äº†ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function loadImg(el)&#123;</span><br><span class="line"> if(!el.src)&#123;</span><br><span class="line">   const source &#x3D; el.getAttribute(&#39;data-src&#39;);;</span><br><span class="line">   el.src &#x3D; source;</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br><span class="line">function checkImgs()&#123;</span><br><span class="line">  const imgs &#x3D; document.querySelectorAll(&#39;img&#39;);</span><br><span class="line">  Array.from(imgs).forEach(el &#x3D;&gt;&#123;</span><br><span class="line">    if (isInSight(el))&#123;</span><br><span class="line">      loadImg(el);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line">window.onload &#x3D; function()&#123;</span><br><span class="line">  checkImgs();</span><br><span class="line">&#125;</span><br><span class="line">document.onscroll &#x3D; function () &#123;</span><br><span class="line">  checkImgs();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="åŸºäº-IntersectionObserver-å®ç°å›¾ç‰‡æ‡’åŠ è½½"><a href="#åŸºäº-IntersectionObserver-å®ç°å›¾ç‰‡æ‡’åŠ è½½" class="headerlink" title="åŸºäº IntersectionObserver å®ç°å›¾ç‰‡æ‡’åŠ è½½"></a>åŸºäº IntersectionObserver å®ç°å›¾ç‰‡æ‡’åŠ è½½</h2><h3 id="æ¦‚å¿µ"><a href="#æ¦‚å¿µ" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h3><p>æˆ‘ä»¬åœ¨å¹³æ—¶çš„å¼€å‘ä¸­ï¼Œå¸¸å¸¸éœ€è¦äº†è§£æŸä¸ªå…ƒç´ æ˜¯å¦è¿›å…¥äº†â€è§†å£â€ï¼ˆviewportï¼‰ï¼Œå³ç”¨æˆ·èƒ½ä¸èƒ½çœ‹åˆ°å®ƒã€‚</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_gif/LNrWl4n5XIIK2zJ2Sib4NcyG27o0KmtgwqVrRibSL2Qphibt4wUmg4O50icQ1zyw9tCDEqaA3zCtAxEwaujs2ttSJw/640?wx_fmt=gif&tp=webp&wxfrom=5&wx_lazy=1" alt="å›¾ç‰‡"></p>
<p>ä¸Šå›¾çš„ç»¿è‰²æ–¹å—ä¸æ–­æ»šåŠ¨ï¼Œé¡¶éƒ¨ä¼šæç¤ºå®ƒçš„å¯è§æ€§ã€‚</p>
<p>ä¼ ç»Ÿçš„å®ç°æ–¹æ³•æ˜¯ï¼Œç›‘å¬åˆ°<code>scroll</code>äº‹ä»¶åï¼Œè°ƒç”¨ç›®æ ‡å…ƒç´ ï¼ˆç»¿è‰²æ–¹å—ï¼‰çš„<code>getBoundingClientRect()</code>æ–¹æ³•ï¼Œå¾—åˆ°å®ƒå¯¹åº”äºè§†å£å·¦ä¸Šè§’çš„åæ ‡ï¼Œå†åˆ¤æ–­æ˜¯å¦åœ¨è§†å£ä¹‹å†…ã€‚è¿™ç§æ–¹æ³•çš„ç¼ºç‚¹æ˜¯ï¼Œç”±äº<code>scroll</code>äº‹ä»¶å¯†é›†å‘ç”Ÿï¼Œè®¡ç®—é‡å¾ˆå¤§ï¼Œå®¹æ˜“é€ æˆæ€§èƒ½é—®é¢˜ã€‚</p>
<p>ç›®å‰æœ‰ä¸€ä¸ªæ–°çš„ <code>IntersectionObserver API</code>ï¼Œå¯ä»¥è‡ªåŠ¨â€è§‚å¯Ÿâ€å…ƒç´ æ˜¯å¦å¯è§ï¼Œ<code>Chrome 51+</code>å·²ç»æ”¯æŒã€‚ç”±äºå¯è§ï¼ˆ<code>visible</code>ï¼‰çš„æœ¬è´¨æ˜¯ï¼Œç›®æ ‡å…ƒç´ ä¸è§†å£äº§ç”Ÿä¸€ä¸ªäº¤å‰åŒºï¼Œæ‰€ä»¥è¿™ä¸ª API å«åš<code>äº¤å‰è§‚å¯Ÿå™¨</code>ã€‚</p>
<h3 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h3><p>å®ƒçš„ç”¨æ³•ä¹Ÿéå¸¸ç®€å•ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var io &#x3D; new IntersectionObserver(callback, option);</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä»£ç ä¸­ï¼Œ<code>IntersectionObserver</code>æ˜¯æµè§ˆå™¨åŸç”Ÿæä¾›çš„æ„é€ å‡½æ•°ï¼Œæ¥å—ä¸¤ä¸ªå‚æ•°ï¼š<code>callback</code>æ˜¯å¯è§æ€§å˜åŒ–æ—¶çš„å›è°ƒå‡½æ•°ï¼Œ<code>option</code>æ˜¯é…ç½®å¯¹è±¡ï¼ˆè¯¥å‚æ•°å¯é€‰ï¼‰ã€‚</p>
<p>æ„é€ å‡½æ•°çš„è¿”å›å€¼æ˜¯ä¸€ä¸ªè§‚å¯Ÿå™¨å®ä¾‹ã€‚å®ä¾‹çš„<code>observe</code>æ–¹æ³•å¯ä»¥æŒ‡å®šè§‚å¯Ÿå“ªä¸ª <code>DOM</code> èŠ‚ç‚¹ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; å¼€å§‹è§‚å¯Ÿ</span><br><span class="line">io.observe(document.getElementById(&#39;container&#39;));</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; åœæ­¢è§‚å¯Ÿ</span><br><span class="line">io.unobserve(element);</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; å…³é—­è§‚å¯Ÿå™¨</span><br><span class="line">io.disconnect();</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä»£ç ä¸­ï¼Œ<code>observe</code>çš„å‚æ•°æ˜¯ä¸€ä¸ª <code>DOM</code> èŠ‚ç‚¹å¯¹è±¡ã€‚</p>
<p>å¦‚æœè¦è§‚å¯Ÿå¤šä¸ªèŠ‚ç‚¹ï¼Œå°±è¦å¤šæ¬¡è°ƒç”¨è¿™ä¸ªæ–¹æ³•ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">io.observe(elementA);</span><br><span class="line">io.observe(elementB);</span><br></pre></td></tr></table></figure>

<h3 id="ä»£ç å®ç°-2"><a href="#ä»£ç å®ç°-2" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h3><p>çœ‹å®Œç›¸å…³çš„<code>API</code>ï¼Œä¸‹é¢å°±è®©æˆ‘ä»¬åŸºäº<code>IntersectionObserver</code>æ¥å®ç°å›¾ç‰‡æ‡’åŠ è½½ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const imgs &#x3D; document.querySelectorAll(&#39;img&#39;) &#x2F;&#x2F;è·å–æ‰€æœ‰å¾…è§‚å¯Ÿçš„ç›®æ ‡å…ƒç´ </span><br><span class="line">var options &#x3D; &#123;&#125;</span><br><span class="line">function lazyLoad(target) &#123;</span><br><span class="line">  const observer &#x3D; new IntersectionObserver((entries, observer) &#x3D;&gt; &#123;</span><br><span class="line">    entries.forEach(entrie &#x3D;&gt; &#123;</span><br><span class="line">      if (entrie.isIntersecting) &#123;</span><br><span class="line">        const img &#x3D; entrie.target;</span><br><span class="line">        const src &#x3D; img.getAttribute(&#39;data-src&#39;);</span><br><span class="line">        img.setAttribute(&#39;src&#39;, src)</span><br><span class="line">        observer.unobserve(img); &#x2F;&#x2F; åœæ­¢ç›‘å¬å·²å¼€å§‹åŠ è½½çš„å›¾ç‰‡</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;, options);</span><br><span class="line">  observer.observe(target)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">imgs.forEach(lazyLoad)</span><br></pre></td></tr></table></figure>



<h2 id="img-loading-lazy"><a href="#img-loading-lazy" class="headerlink" title="img.loading=lazy"></a>img.loading=lazy</h2><p>æœ€åè¿™ç§ç›¸å¯¹å°±ç®€å•å¾ˆå¤šäº†ï¼Œå®ƒæ˜¯ <code>Chrome</code> è‡ªå¸¦çš„åŸç”Ÿ <code>lazyload</code> å±æ€§ã€‚æˆ‘ä»¬å…ˆæ¥çœ‹ä¸‹ä»–åœ¨å„å¤§æµè§ˆå™¨çš„æ”¯æŒç¨‹åº¦ï¼š</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/LNrWl4n5XIIK2zJ2Sib4NcyG27o0KmtgwYtRjlRFEmic0tcibqgmiak9CzMTKtYNMKcZT6P4E6hfkRPKpjFg9Z5G0w/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="å›¾ç‰‡"></p>
<blockquote>
<p>â€œ</p>
<p>å…¶å®æ”¯æŒç¨‹åº¦è¿˜ä¸æ˜¯ç‰¹åˆ«å¥½ï¼Œæˆ‘ä»¬ä½ çš„åº”ç”¨å¯¹äºæµè§ˆå™¨å…¼å®¹æ€§è¦æ±‚æ¯”è¾ƒé«˜çš„è¯ï¼Œå»ºè®®è¿˜æ˜¯å…ˆè§‚æœ›ä¸€æ³¢ï½</p>
</blockquote>
<p>å®ƒçš„ä½¿ç”¨ä¹Ÿéå¸¸ç®€å•ï¼Œå¦‚æ ‡é¢˜æ‰€ç¤ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;img src&#x3D;&quot;example.jpg&quot; loading&#x3D;&quot;lazy&quot; alt&#x3D;&quot;zhangxinxu&quot; width&#x3D;&quot;250&quot; height&#x3D;&quot;150&quot;&gt;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>js</category>
      </categories>
      <tags>
        <tag>js</tag>
        <tag>å›¾ç‰‡æ‡’åŠ è½½</tag>
      </tags>
  </entry>
  <entry>
    <title>jsä¹‹å®ç°å›¾ç‰‡ç­‰æ¯”ç¼©æ”¾</title>
    <url>/2021/02/01/js%E4%B9%8B%E5%AE%9E%E7%8E%B0%E5%9B%BE%E7%89%87%E7%AD%89%E6%AF%94%E7%BC%A9%E6%94%BE/</url>
    <content><![CDATA[<h3 id="éœ€æ±‚"><a href="#éœ€æ±‚" class="headerlink" title="éœ€æ±‚"></a>éœ€æ±‚</h3><p>åœ¨å®¹å™¨ç­‰é«˜æˆ–è€…ç­‰å®½çš„æ—¶å€™ï¼Œå®ç°å›¾ç‰‡ä¸å˜å½¢</p>
<h3 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h3><p>å›¾ç‰‡çš„é«˜å’Œå®½éƒ½è¶…é™äº†ï¼Œè¿™æ—¶è¦ç®—ä¸€ä¸‹å“ªä¸ªè¶…çš„å¤šï¼ŒæŒ‰è¶…å¤šçš„ç¼©æ”¾æ¯”ä¾‹ç­‰æ¯”è®¡ç®—å®½å’Œé«˜ã€‚</p>
<p>é«˜è¶…é™ï¼Œå®½æœªè¶…é™ï¼ŒæŒ‰é«˜çš„ç¼©æ”¾ç­‰æ¯”è®¡ç®—ã€‚</p>
<p>å®½è¶…é™ï¼Œé«˜æœªè¶…é€€ï¼ŒæŒ‰å®½çš„ç¼©æ”¾ç­‰æ¯”è®¡ç®—ã€‚</p>
<p>é«˜å®½å‡æœªè¶…é™ï¼Œè¿”å›åŸå§‹å®½å’Œé«˜ã€‚</p>
<a id="more"></a>

<h3 id="å®ç°è¿‡ç¨‹"><a href="#å®ç°è¿‡ç¨‹" class="headerlink" title="å®ç°è¿‡ç¨‹"></a>å®ç°è¿‡ç¨‹</h3><h4 id="è·å–åŸå§‹å›¾ç‰‡å®½é«˜"><a href="#è·å–åŸå§‹å›¾ç‰‡å®½é«˜" class="headerlink" title="è·å–åŸå§‹å›¾ç‰‡å®½é«˜"></a>è·å–åŸå§‹å›¾ç‰‡å®½é«˜</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function getNaturalSize (Domlement) &#123;</span><br><span class="line"> var natureSize &#x3D; &#123;&#125;;</span><br><span class="line"> if(window.naturalWidth &amp;&amp; window.naturalHeight) &#123;</span><br><span class="line">     natureSize.width &#x3D; Domlement.naturalWidth;</span><br><span class="line">     natureSizeheight &#x3D; Domlement.naturalHeight;</span><br><span class="line"> &#125; else &#123;</span><br><span class="line">     var img &#x3D; new Image();</span><br><span class="line">     img.src &#x3D; DomElement.src;</span><br><span class="line">     natureSize.width &#x3D; img.width;</span><br><span class="line">     natureSize.height &#x3D; img.height;</span><br><span class="line"> &#125;</span><br><span class="line"> return natureSize;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; ä½¿ç”¨</span><br><span class="line">var natural &#x3D; getNaturalSize (document.getElementById(&#39;img&#39;)),</span><br><span class="line"> natureWidth &#x3D; natural.width,</span><br><span class="line"> natureHeight &#x3D; natural.height;</span><br></pre></td></tr></table></figure>

<h4 id="è·å–å›¾ç‰‡éœ€å±•ç¤ºçš„å®½åº¦"><a href="#è·å–å›¾ç‰‡éœ€å±•ç¤ºçš„å®½åº¦" class="headerlink" title="è·å–å›¾ç‰‡éœ€å±•ç¤ºçš„å®½åº¦"></a>è·å–å›¾ç‰‡éœ€å±•ç¤ºçš„å®½åº¦</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function scale(maxW, maxH, orgW, orgH) &#123;</span><br><span class="line">    if (orgW &lt; maxW &amp;&amp; orgH &lt; maxH) &#123;</span><br><span class="line">        return &#123; w: orgW, h: orgH &#125;</span><br><span class="line">    &#125; else if (orgW &gt; maxW &amp;&amp; orgH &gt; maxH) &#123;</span><br><span class="line">        var sw &#x3D; orgW &#x2F; maxW, sh &#x3D; orgH &#x2F; maxH;</span><br><span class="line">        if (sw &gt; sh) &#123;</span><br><span class="line">            return &#123; w: maxW, h: maxH &#x2F; sw &#125;;</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            return &#123; w: maxW &#x2F; sh, h: maxH &#125;;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; else if (orgW &gt; maxW) &#123;</span><br><span class="line">        var sw &#x3D; orgW &#x2F; maxW;</span><br><span class="line">        return &#123; w: maxW, h: orgH &#x2F; sw &#125;;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        var sh &#x3D; orgH &#x2F; maxH;</span><br><span class="line">        return &#123; w: orgW&#x2F;sh, h: maxH &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="è°ƒç”¨"><a href="#è°ƒç”¨" class="headerlink" title="è°ƒç”¨"></a>è°ƒç”¨</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var resimg &#x3D; scale(300, 999999, natureWidth, natureHeight);</span><br><span class="line">image.style.width &#x3D; resimg.w + &#39;px&#39;;</span><br><span class="line">image.style.height &#x3D; resimg.h + &#39;px&#39;;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>js</category>
      </categories>
      <tags>
        <tag>js</tag>
        <tag>å›¾ç‰‡ç­‰æ¯”ç¼©æ”¾</tag>
      </tags>
  </entry>
  <entry>
    <title>jsä¹‹å¯¹è±¡çš„æ–¹æ³•åˆé›†</title>
    <url>/2020/09/25/js%E4%B9%8B%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%96%B9%E6%B3%95%E5%90%88%E9%9B%86/</url>
    <content><![CDATA[<h2 id="Objectæ„é€ æ–¹æ³•"><a href="#Objectæ„é€ æ–¹æ³•" class="headerlink" title="Objectæ„é€ æ–¹æ³•"></a><code>Object</code>æ„é€ æ–¹æ³•</h2><ul>
<li><p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign" target="_blank" rel="noopener"><code>Object.assign()</code></a></p>
<p>å°†æ‰€æœ‰å¯æšä¸¾çš„è‡ªèº«å±æ€§çš„å€¼ä»ä¸€ä¸ªæˆ–å¤šä¸ªæºå¯¹è±¡å¤åˆ¶åˆ°ç›®æ ‡å¯¹è±¡ã€‚</p>
</li>
<li><p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/create" target="_blank" rel="noopener"><code>Object.create()</code></a></p>
<p>ç”¨æŒ‡å®šçš„åŸå‹å¯¹è±¡å’Œå±æ€§åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ã€‚</p>
<a id="more"></a>
</li>
<li><p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty" target="_blank" rel="noopener"><code>Object.defineProperty()</code></a></p>
<p>å°†ç»™å®šæè¿°ç¬¦æè¿°çš„å‘½åå±æ€§æ·»åŠ åˆ°å¯¹è±¡ã€‚</p>
</li>
<li><p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperties" target="_blank" rel="noopener"><code>Object.defineProperties()</code></a></p>
<p>å°†ç»™å®šæè¿°ç¬¦æè¿°çš„å‘½åå±æ€§æ·»åŠ åˆ°å¯¹è±¡ã€‚</p>
</li>
<li><p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/entries" target="_blank" rel="noopener"><code>Object.entries()</code></a></p>
<p>è¿”å›ä¸€ä¸ªåŒ…å«<code>[key, value]</code>ç»™å®šå¯¹è±¡<strong>è‡ªå·±çš„</strong>å¯æšä¸¾å­—ç¬¦ä¸²å±æ€§çš„æ‰€æœ‰å¯¹çš„æ•°ç»„ã€‚</p>
</li>
<li><p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/freeze" target="_blank" rel="noopener"><code>Object.freeze()</code></a></p>
<p>å†»ç»“å¯¹è±¡ã€‚å…¶ä»–ä»£ç æ— æ³•åˆ é™¤æˆ–æ›´æ”¹å…¶å±æ€§ã€‚</p>
</li>
<li><p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/fromEntries" target="_blank" rel="noopener"><code>Object.fromEntries()</code></a></p>
<p>ä»å¯è¿­ä»£çš„<code>[key, value]</code>å¯¹ä¸­è¿”å›ä¸€ä¸ªæ–°å¯¹è±¡ã€‚ï¼ˆè¿™æ˜¯çš„åå‘ <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/entries" target="_blank" rel="noopener"><code>Object.entries</code></a>ï¼‰ã€‚</p>
</li>
<li><p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertyDescriptor" target="_blank" rel="noopener"><code>Object.getOwnPropertyDescriptor()</code></a></p>
<p>è¿”å›å¯¹è±¡çš„å‘½åå±æ€§çš„å±æ€§æè¿°ç¬¦ã€‚</p>
</li>
<li><p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertyDescriptors" target="_blank" rel="noopener"><code>Object.getOwnPropertyDescriptors()</code></a></p>
<p>è¿”å›ä¸€ä¸ªåŒ…å«å¯¹è±¡è‡ªèº«æ‰€æœ‰å±æ€§æè¿°ç¬¦çš„å¯¹è±¡ã€‚</p>
</li>
<li><p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertyNames" target="_blank" rel="noopener"><code>Object.getOwnPropertyNames()</code></a></p>
<p>è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œå…¶ä¸­åŒ…å«ç»™å®šå¯¹è±¡<strong>è‡ªå·±</strong>çš„æ‰€æœ‰å¯æšä¸¾å’Œä¸å¯æšä¸¾å±æ€§çš„åç§°ã€‚</p>
</li>
<li><p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertySymbols" target="_blank" rel="noopener"><code>Object.getOwnPropertySymbols()</code></a></p>
<p>è¿”å›ç›´æ¥åœ¨ç»™å®šå¯¹è±¡ä¸Šæ‰¾åˆ°çš„æ‰€æœ‰ç¬¦å·å±æ€§çš„æ•°ç»„ã€‚</p>
</li>
<li><p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/getPrototypeOf" target="_blank" rel="noopener"><code>Object.getPrototypeOf()</code></a></p>
<p>è¿”å›<code>prototype</code>æŒ‡å®šå¯¹è±¡çš„ã€‚</p>
</li>
<li><p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is" target="_blank" rel="noopener"><code>Object.is()</code></a></p>
<p>æ¯”è¾ƒä¸¤ä¸ªå€¼æ˜¯å¦ç›¸åŒã€‚æ±‚æ‰€æœ‰<code>NaN</code>å€¼ï¼ˆä¸åŒäºâ€œæŠ½è±¡ç›¸ç­‰æ¯”è¾ƒâ€å’Œâ€œä¸¥æ ¼ç›¸ç­‰æ¯”è¾ƒâ€ï¼‰ã€‚</p>
</li>
<li><p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/isExtensible" target="_blank" rel="noopener"><code>Object.isExtensible()</code></a></p>
<p>ç¡®å®šæ˜¯å¦å…è®¸æ‰©å±•å¯¹è±¡ã€‚</p>
</li>
<li><p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/isFrozen" target="_blank" rel="noopener"><code>Object.isFrozen()</code></a></p>
<p>ç¡®å®šå¯¹è±¡æ˜¯å¦å†»ç»“ã€‚</p>
</li>
<li><p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/isSealed" target="_blank" rel="noopener"><code>Object.isSealed()</code></a></p>
<p>ç¡®å®šå¯¹è±¡æ˜¯å¦å¯†å°ã€‚</p>
</li>
<li><p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/keys" target="_blank" rel="noopener"><code>Object.keys()</code></a></p>
<p>è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œå…¶ä¸­åŒ…å«ç»™å®šå¯¹è±¡<strong>è‡ªå·±</strong>çš„æ‰€æœ‰å¯æšä¸¾å­—ç¬¦ä¸²å±æ€§çš„åç§°ã€‚</p>
</li>
<li><p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/preventExtensions" target="_blank" rel="noopener"><code>Object.preventExtensions()</code></a></p>
<p>é˜²æ­¢å¯¹è±¡çš„ä»»ä½•æ‰©å±•ã€‚</p>
</li>
<li><p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/seal" target="_blank" rel="noopener"><code>Object.seal()</code></a></p>
<p>é˜²æ­¢å…¶ä»–ä»£ç åˆ é™¤å¯¹è±¡çš„å±æ€§ã€‚</p>
</li>
<li><p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/setPrototypeOf" target="_blank" rel="noopener"><code>Object.setPrototypeOf()</code></a></p>
<p>è®¾ç½®å¯¹è±¡çš„åŸå‹ï¼ˆå…¶å†…éƒ¨<code>[[Prototype]]</code>å±æ€§ï¼‰ã€‚</p>
</li>
<li><p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/values" target="_blank" rel="noopener"><code>Object.values()</code></a></p>
<p>è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œè¯¥æ•°ç»„åŒ…å«ä¸ç»™å®šå¯¹è±¡<strong>è‡ªå·±çš„æ‰€æœ‰</strong>å¯æšä¸¾å­—ç¬¦ä¸²å±æ€§ç›¸å¯¹åº”çš„å€¼ã€‚</p>
</li>
</ul>
<h2 id="Objectå®ä¾‹å’ŒObjectåŸå‹å¯¹è±¡"><a href="#Objectå®ä¾‹å’ŒObjectåŸå‹å¯¹è±¡" class="headerlink" title="Objectå®ä¾‹å’ŒObjectåŸå‹å¯¹è±¡"></a><code>Object</code>å®ä¾‹å’Œ<code>Object</code>åŸå‹å¯¹è±¡</h2><p>JavaScriptä¸­çš„æ‰€æœ‰å¯¹è±¡å‡æ¥è‡ª<code>Object</code>ã€‚æ‰€æœ‰å¯¹è±¡éƒ½ç»§æ‰¿è‡ªçš„æ–¹æ³•å’Œå±æ€§<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/prototype" target="_blank" rel="noopener"><code>Object.prototype</code></a>ï¼Œå°½ç®¡å®ƒä»¬å¯èƒ½ä¼šè¢«è¦†ç›–ã€‚</p>
<p>ä¾‹å¦‚ï¼Œå…¶ä»–æ„é€ å‡½æ•°çš„åŸå‹å°†è¦†ç›–<code>constructor</code>å±æ€§å¹¶æä¾›è‡ªå·±çš„<code>toString()</code>æ–¹æ³•ã€‚å¯¹<code>Object</code>åŸå‹å¯¹è±¡çš„æ›´æ”¹å°†ä¼ æ’­åˆ°æ‰€æœ‰å¯¹è±¡ï¼Œé™¤éç»å—è¿™äº›æ›´æ”¹çš„å±æ€§å’Œæ–¹æ³•åœ¨åŸå‹é“¾ä¸­è¿›ä¸€æ­¥è¢«è¦†ç›–ã€‚</p>
<h3 id="æ€§è´¨"><a href="#æ€§è´¨" class="headerlink" title="æ€§è´¨"></a>æ€§è´¨</h3><ul>
<li><p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/constructor" target="_blank" rel="noopener"><code>Object.prototype.constructor</code></a></p>
<p>æŒ‡å®šåˆ›å»ºå¯¹è±¡åŸå‹çš„å‡½æ•°ã€‚</p>
</li>
</ul>
<h3 id="åˆ¤æ–­ç±»å‹"><a href="#åˆ¤æ–­ç±»å‹" class="headerlink" title="åˆ¤æ–­ç±»å‹"></a>åˆ¤æ–­ç±»å‹</h3><h4 id="1-typeof"><a href="#1-typeof" class="headerlink" title="1.typeof"></a>1.typeof</h4><p>typeofåªèƒ½åˆ¤æ–­åŒºåˆ†åŸºæœ¬ç±»å‹ï¼Œnumberã€stringã€booleanã€undefinedå’Œobject,functionï¼›</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">typeof 0;  &#x2F;&#x2F;number;</span><br><span class="line">typeof true;  &#x2F;&#x2F;boolean;</span><br><span class="line">typeof undefined;  &#x2F;&#x2F;undefined;</span><br><span class="line">typeof &quot;hello world&quot;   &#x2F;&#x2F;string;</span><br><span class="line">typeof function()&#123;&#125;;   &#x2F;&#x2F;function;</span><br><span class="line"></span><br><span class="line">typeof null; &#x2F;&#x2F;object</span><br><span class="line">typeof &#123;&#125;;  &#x2F;&#x2F;object;</span><br><span class="line">typeof []; &#x2F;&#x2F;object</span><br></pre></td></tr></table></figure>

<p>ä»ä¸Šä¾‹æˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼Œ typeof åˆ¤æ–­å¯¹è±¡å’Œæ•°ç»„éƒ½è¿”å›object,å› æ­¤å®ƒæ— æ³•åŒºåˆ†å¯¹è±¡å’Œæ•°ç»„ã€‚</p>
<h4 id="2-instanceof"><a href="#2-instanceof" class="headerlink" title="2.instanceof"></a>2.instanceof</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var a&#x3D;&#123;&#125;;</span><br><span class="line">a instanceof Object  &#x2F;&#x2F;true</span><br><span class="line">a intanceof Array     &#x2F;&#x2F;false</span><br><span class="line">var b&#x3D;[];</span><br><span class="line">b instanceof Array  &#x2F;&#x2F;true</span><br><span class="line">b instanceof  Object &#x2F;&#x2F;true</span><br></pre></td></tr></table></figure>

<p>å› ä¸ºæ•°ç»„å±äºobjectä¸­çš„ä¸€ç§ï¼Œæ‰€ä»¥æ•°ç»„instanceof object,ä¹Ÿæ˜¯true.</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var c&#x3D;&#39;abc&#39;;</span><br><span class="line">c instanceof String; &#x2F;&#x2F;false</span><br><span class="line">var d&#x3D;new String();</span><br><span class="line">d instanceof String  &#x2F;&#x2F;true</span><br></pre></td></tr></table></figure>

<p>instanceofä¸èƒ½åŒºåˆ†åŸºæœ¬ç±»å‹stringå’Œboolean,é™¤éæ˜¯å­—ç¬¦ä¸²å¯¹è±¡å’Œå¸ƒå°”å¯¹è±¡ã€‚å¦‚ä¸Šä¾‹æ‰€ç¤ºã€‚</p>
<h4 id="3-constructor"><a href="#3-constructor" class="headerlink" title="3.constructor"></a>3.constructor</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var o&#x3D;&#123;&#125;;</span><br><span class="line">o.constructor&#x3D;&#x3D;Object  &#x2F;&#x2F;true</span><br><span class="line">var arr&#x3D;[];</span><br><span class="line">arr.constructor&#x3D;&#x3D;Array  &#x2F;&#x2F;true</span><br><span class="line">arr.constructor&#x3D;&#x3D;Object &#x2F;&#x2F;false</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹å‡ºconstructorå¯ä»¥åŒºåˆ†Arrayå’ŒObjectã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var n&#x3D;true;</span><br><span class="line">n.constructor&#x3D;&#x3D;Boolean  &#x2F;&#x2F;true</span><br><span class="line">var num&#x3D;1;</span><br><span class="line">num.constructor&#x3D;&#x3D;Number  &#x2F;&#x2F;true</span><br><span class="line">var str&#x3D;&#39;hello world&#39;;</span><br><span class="line">str.constructor&#x3D;&#x3D;String     &#x2F;&#x2F;true</span><br><span class="line">var num&#x3D;new Number();</span><br><span class="line">num.constructor&#x3D;&#x3D;Number  &#x2F;&#x2F;true</span><br></pre></td></tr></table></figure>

<p>ä¸è¿‡è¦æ³¨æ„ï¼Œconstructorå±æ€§æ˜¯å¯ä»¥è¢«ä¿®æ”¹çš„ï¼Œä¼šå¯¼è‡´æ£€æµ‹å‡ºçš„ç»“æœä¸æ­£ç¡®</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function Person()&#123;</span><br><span class="line">  </span><br><span class="line">&#125;</span><br><span class="line">function Student()&#123;</span><br><span class="line">  </span><br><span class="line">&#125;</span><br><span class="line">Student.prototype &#x3D; new Person();</span><br><span class="line">var John &#x3D; new Student();</span><br><span class="line">console.log(John.constructor&#x3D;&#x3D;Student); &#x2F;&#x2F; false</span><br><span class="line">console.log(John.constructor&#x3D;&#x3D;Person); &#x2F;&#x2F; true</span><br></pre></td></tr></table></figure>

<h5 id="é™¤äº†undefinedå’Œnullï¼Œå…¶ä»–ç±»å‹çš„å˜é‡å‡èƒ½ä½¿ç”¨constructoråˆ¤æ–­å‡ºç±»å‹"><a href="#é™¤äº†undefinedå’Œnullï¼Œå…¶ä»–ç±»å‹çš„å˜é‡å‡èƒ½ä½¿ç”¨constructoråˆ¤æ–­å‡ºç±»å‹" class="headerlink" title="é™¤äº†undefinedå’Œnullï¼Œå…¶ä»–ç±»å‹çš„å˜é‡å‡èƒ½ä½¿ç”¨constructoråˆ¤æ–­å‡ºç±»å‹."></a>é™¤äº†undefinedå’Œnullï¼Œå…¶ä»–ç±»å‹çš„å˜é‡å‡èƒ½ä½¿ç”¨constructoråˆ¤æ–­å‡ºç±»å‹.</h5><h4 id="4-Object-prototype-toString-call-â€”â€”â€”æœ€å¥½ç”¨"><a href="#4-Object-prototype-toString-call-â€”â€”â€”æœ€å¥½ç”¨" class="headerlink" title="4.Object.prototype.toString.call()  â€”â€”â€”æœ€å¥½ç”¨"></a>4.Object.prototype.toString.call()  â€”â€”â€”æœ€å¥½ç”¨</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Object.prototype.toString.call(123)</span><br><span class="line">&#x2F;&#x2F;&quot;[object Number]&quot;</span><br><span class="line"></span><br><span class="line">Object.prototype.toString.call(&#39;str&#39;)</span><br><span class="line">&#x2F;&#x2F;&quot;[object String]&quot;</span><br><span class="line"></span><br><span class="line">Object.prototype.toString.call(true)</span><br><span class="line">&#x2F;&#x2F;&quot;[object Boolean]&quot;</span><br><span class="line"></span><br><span class="line">Object.prototype.toString.call(&#123;&#125;)</span><br><span class="line">&#x2F;&#x2F;&quot;[object Object]&quot;</span><br><span class="line"></span><br><span class="line">Object.prototype.toString.call([])</span><br><span class="line">&#x2F;&#x2F;&quot;[object Array]&quot;</span><br></pre></td></tr></table></figure>

<p>å°è£…ä¸€ä¸ªåˆ¤æ–­æ•°ç»„å’Œå¯¹è±¡çš„æ–¹æ³•</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function typeObj(obj)&#123;</span><br><span class="line">      var type&#x3D;Object.prototype.toString.call(obj);</span><br><span class="line">      if(type&#x3D;&#x3D;&#39;[object Array]&#39;)&#123;</span><br><span class="line">        return &#39;Array&#39;;</span><br><span class="line">      &#125;elseif(type&#x3D;&#x3D;&#39;[object  Object]&#39;)&#123;</span><br><span class="line">        return &#39;Object&#39;;</span><br><span class="line">      &#125;else&#123;</span><br><span class="line">        return &quot;obj is not object or array&quot;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>js</category>
      </categories>
      <tags>
        <tag>js</tag>
        <tag>å¯¹è±¡çš„æ–¹æ³•</tag>
      </tags>
  </entry>
  <entry>
    <title>jsä¹‹å¿«é€Ÿç†è§£ié—­åŒ…</title>
    <url>/2020/09/29/js%E4%B9%8B%E5%BF%AB%E9%80%9F%E7%90%86%E8%A7%A3i%E9%97%AD%E5%8C%85/</url>
    <content><![CDATA[<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; ç´¯åŠ å™¨</span><br><span class="line">function counter() &#123;</span><br><span class="line">  &#x2F;&#x2F; ç§’æ•°</span><br><span class="line">  let second &#x3D; 0;</span><br><span class="line"></span><br><span class="line">  function doCounter() &#123;</span><br><span class="line">    &#x2F;&#x2F; åˆ°è¾¾10ç§’ååœæ­¢</span><br><span class="line">    if (second &#x3D;&#x3D;&#x3D; 10) &#123;</span><br><span class="line">      clearInterval(recordSecond);</span><br><span class="line">      console.log(&#39;è®¡æ—¶ç»“æŸ!&#39;);</span><br><span class="line">      return;</span><br><span class="line">    &#125;</span><br><span class="line">    second +&#x3D; 1;</span><br><span class="line">    console.log(&#96;$&#123;second&#125;ç§’&#96;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  return doCounter;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; å¾—åˆ°ç´¯åŠ å™¨</span><br><span class="line">const doCounterFn &#x3D; counter();</span><br><span class="line"></span><br><span class="line">const recordSecond &#x3D; setInterval(function () &#123;</span><br><span class="line">  &#x2F;&#x2F; è°ƒç”¨ç´¯åŠ å™¨</span><br><span class="line">  doCounterFn();</span><br><span class="line">&#125;, 1000);</span><br></pre></td></tr></table></figure>

<a id="more"></a>

<p>å¤§æ¦‚æ„æ€å°±æ˜¯åµŒå¥—å‡½æ•°çš„å¤–éƒ¨å‡½æ•°å¦‚æœè¿”å›çš„æ˜¯ä¸€ä¸ªå‡½æ•°ï¼ˆå†…éƒ¨å‡½æ•°ï¼‰ï¼Œå˜é‡å’Œä½œç”¨åŸŸä¼šè¢«ä¿å­˜ï¼Œæ‰€ä»¥å¯ä»¥å®ç°å˜é‡ç´¯åŠ </p>
<blockquote>
<p>æä¸€ä¸ªæ¦‚å¿µï¼Œå½“æˆ‘ä»¬å°†å‡½æ•°è°ƒç”¨çš„è¿”å›å€¼èµ‹å€¼ç»™ä¸€ä¸ªå˜é‡æ—¶ï¼Œå¦‚æœè°ƒç”¨çš„è¿™ä¸ªå‡½æ•°è¿”å›çš„æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œé‚£ä¹ˆå˜é‡å¾—åˆ°çš„åˆ™æ˜¯å¯¹è¿™ä¸ª<strong>è¿”å›å‡½æ•°</strong>çš„å¼•ç”¨ï¼ˆè¿”å›å‡½æ•°çš„å†…å­˜åœ°å€ï¼‰ï¼Œå½“ä¸€ä¸ªå‡½æ•°å­˜åœ¨è¢«å¼•ç”¨çš„å…³ç³»ï¼Œåƒåœ¾å›æ”¶æœºåˆ¶åˆ™ä¸ä¼šå›æ”¶å®ƒæ‰€å çš„å†…å­˜ï¼Œä¹Ÿå°±æ˜¯ä¿ç•™è¯¥å‡½æ•°çš„æ•´ä¸ªæ‰§è¡Œä¸Šä¸‹æ–‡å ç”¨çš„å†…å­˜ï¼ˆå˜é‡å¯¹è±¡ï¼Œä½œç”¨åŸŸé“¾ç­‰ï¼‰ã€‚è€Œå› ä¸ºè¿”å›çš„è¿™ä¸ªå‡½æ•°åŒæ—¶åˆæ˜¯æŸä¸ªå‡½æ•°çš„å†…éƒ¨å‡½æ•°ï¼Œäº§ç”Ÿäº†ä½œç”¨åŸŸåµŒå¥—ï¼Œå½¢æˆäº†é—­åŒ…ï¼Œè¿”å›å‡½æ•°çš„ä½œç”¨åŸŸé“¾ä¸ŠåŒ…æ‹¬äº†å¤–éƒ¨å‡½æ•°çš„ä½œç”¨åŸŸï¼Œä¹Ÿå°±æ˜¯è¿”å›å‡½æ•°ä¸­å¯ä»¥è®¿é—®å¤–éƒ¨å‡½æ•°ä¸­å®šä¹‰çš„å˜é‡ã€‚</p>
</blockquote>
<p>å‚è€ƒé“¾æ¥ï¼š<a href="https://juejin.im/post/6877512572178808845" target="_blank" rel="noopener">https://juejin.im/post/6877512572178808845</a></p>
]]></content>
      <categories>
        <category>js</category>
      </categories>
      <tags>
        <tag>js</tag>
        <tag>é—­åŒ…</tag>
      </tags>
  </entry>
  <entry>
    <title>jsä¹‹æ„é€ å‡½æ•°åŸå‹å®ä¾‹</title>
    <url>/2020/09/25/js%E4%B9%8B%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E5%8E%9F%E5%9E%8B%E5%AE%9E%E4%BE%8B/</url>
    <content><![CDATA[<p>é¦–å…ˆç”¨æ„é€ å‡½æ•°ï¼ˆä¸€ä¼šè§£é‡Šä»€ä¹ˆå«åšæ„é€ å‡½æ•°ï¼‰çš„æ–¹æ³•åˆ›å»ºä¸€ä¸ªå¯¹è±¡</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> M=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">this</span>.name=<span class="string">'123'</span>&#125;   <span class="comment">//Æ’ ()&#123;this.name='123'&#125;</span></span><br><span class="line"><span class="keyword">var</span> a1=<span class="keyword">new</span> M()  <span class="comment">//M &#123;name: "123"&#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(a1.name)  <span class="comment">//123</span></span><br></pre></td></tr></table></figure>

<p><strong>æ„é€ å‡½æ•°ï¼š</strong>ç°åœ¨Må°±æ˜¯æ„é€ å‡½æ•°ï¼Œå› ä¸ºä»–è¢«newè¿‡äº†ï¼â€“åœ¨jsä¸­ï¼Œåªè¦æ˜¯è¢«newè¿‡çš„å‡½æ•°éƒ½è¢«æˆä¸ºæ„é€ å‡½æ•°ã€‚</p>
<p><strong>å®ä¾‹å¯¹è±¡ï¼š</strong>ç°åœ¨a1å°±å«åšå®ä¾‹ï¼Œå› ä¸ºä»–æ˜¯è¢«newå‡ºæ¥çš„ï¼â€“åœ¨jsä¸­ï¼Œåªè¦æ˜¯è¢«newå‡ºæ¥çš„å¯¹è±¡éƒ½å«åšå®ä¾‹å¯¹è±¡ã€‚ä¹Ÿå«å®ä¾‹ã€‚</p>
<p><strong>åŸå‹å¯¹è±¡ï¼š</strong>ç°åœ¨M.prototypeå°±æ˜¯åŸå‹å¯¹è±¡ï¼Œæ„é€ å‡½æ•°å‡½æ•°è¢«åˆ›å»ºå‡ºæ¥çš„æ—¶å€™ï¼Œå¤©ç”Ÿå°±å¸¦ä¸€ä¸ªprototypeå±æ€§ï¼Œè€Œè¿™ä¸ªå±æ€§é‡Œé¢çš„ä¸œè¥¿å°±å«åŸå‹å¯¹è±¡ã€‚</p>
 <a id="more"></a>

<p><strong><em>\</em>ä»–ä»¬ä¹‹é—´çš„å…³ç³»å°±å¦‚åŒä¸‹å›¾ï¼š**</strong>æˆ‘ä»¬æš‚æ—¶åªçœ‹ç»¿è‰²æ¡†ä¸­çš„å†…å®¹</p>
<p><img src="https://img-blog.csdnimg.cn/20190624230114432.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM1NDEwNTQ0,size_16,color_FFFFFF,t_70" alt="img"></p>
<p>ä»å›¾ä¸­å¯å¾—çŸ¥4ç§å…³ç³»ï¼š</p>
<p>1ã€æ„é€ å‡½æ•°ï¼ˆä¾‹å­ä¸­çš„Mï¼‰newå‡ºæ¥çš„ä¸œè¥¿å°±å«å®ä¾‹ï¼Œæˆ–è€…å«å®ä¾‹å¯¹è±¡</p>
<p>2ã€æ„é€ å‡½æ•°ï¼ˆä¾‹å­ä¸­çš„Mï¼‰çš„prototypeå±æ€§å°±å«åŸå‹å¯¹è±¡</p>
<p>3ã€åŸå‹å¯¹è±¡ï¼ˆM.prototypeï¼‰ä¸­çš„constructorå…¶å®å°±ç­‰äºæ„é€ å‡½æ•°ï¼Œå¯ä»¥æ‰“å°ä¸€ä¸‹  M.prototype.constructor===M //true</p>
<p>   è¿™æ ·æˆ‘ä»¬å°±çŸ¥é“æ„é€ å‡½æ•°å’ŒåŸå‹å¯¹è±¡çš„å…³ç³»äº†å§ï¼Œå°±æ˜¯ä¸€ä¸ªé—­ç¯ã€‚</p>
<p>4ã€å®ä¾‹ï¼ˆä¾‹å­ä¸­çš„a1ï¼‰çš„_  _proto__å±æ€§å…¶å®å°±æ˜¯æŠŠä»–newå‡ºæ¥çš„é‚£ä¸ªæ„é€ å‡½æ•°çš„prototype</p>
<p>   å¯ä»¥æ‰“å° a1._ <em>proto_</em>===M.prototype //true</p>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬çœ‹å›¾çš„å¦ä¸€åŠ</p>
<p><img src="https://img-blog.csdnimg.cn/20190625102904387.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM1NDEwNTQ0,size_16,color_FFFFFF,t_70" alt="img"></p>
<p>ä¸€ä¸ªè¢«newå‡ºæ¥çš„å®ä¾‹ï¼Œé€šè¿‡æœ¬èº«çš„<strong>proto</strong>å±æ€§æ‰¾åˆ°ä»–çš„åŸå‹å¯¹è±¡ï¼Œç„¶åå†é€šè¿‡ä»–çš„åŸå‹å¯¹è±¡çš„<strong>proto</strong>æ‰¾åˆ°ä»–çš„åŸå‹å¯¹è±¡ï¼Œä¸€ç›´æ‰¾ï¼Œé€’å½’è®¿é—®<strong>proto</strong>æœ€ç»ˆåˆ°å¤´ï¼Œå¹¶ä¸”å€¼æ˜¯nullï¼Œè¿™ä¸ªè¿‡ç¨‹ä»å¤´åˆ°ç»“æŸå°±å«<strong>åŸå‹é“¾</strong></p>
<p>æ„é€ å‡½æ•°çš„contructorå±æ€§</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//åˆ†åˆ«ä»¥å­—é¢é‡å’Œæ„é€ å‡½æ•°çš„æ–¹å¼åˆ›å»º</span></span><br><span class="line"><span class="keyword">let</span> o = &#123;&#125;</span><br><span class="line">o.constructor === <span class="built_in">Object</span> <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> o = <span class="keyword">new</span> <span class="built_in">Object</span></span><br><span class="line">o.constructor === <span class="built_in">Object</span> <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> a = []</span><br><span class="line">a.constructor === <span class="built_in">Array</span> <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> a = <span class="keyword">new</span> <span class="built_in">Array</span></span><br><span class="line">a.constructor === <span class="built_in">Array</span> <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> a = <span class="number">3</span></span><br><span class="line">a.constructor === <span class="built_in">Number</span> <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> n = <span class="keyword">new</span> <span class="built_in">Number</span>(<span class="number">3</span>)</span><br><span class="line">n.constructor === <span class="built_in">Number</span> <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>js</category>
      </categories>
      <tags>
        <tag>js</tag>
        <tag>æ„é€ å‡½æ•°</tag>
        <tag>åŸå‹å¯¹è±¡</tag>
        <tag>å®ä¾‹å¯¹è±¡</tag>
      </tags>
  </entry>
  <entry>
    <title>jsä¹‹æ·±æ‹·è´å’Œæµ…æ‹·è´æ–¹æ³•åˆé›†</title>
    <url>/2020/10/20/js%E4%B9%8B%E6%B7%B1%E6%8B%B7%E8%B4%9D%E5%92%8C%E6%B5%85%E6%8B%B7%E8%B4%9D%E6%96%B9%E6%B3%95%E5%90%88%E9%9B%86/</url>
    <content><![CDATA[<h2 id="jsä¸­çš„å †å’Œæ ˆ"><a href="#jsä¸­çš„å †å’Œæ ˆ" class="headerlink" title="jsä¸­çš„å †å’Œæ ˆ"></a><a href="https://www.cnblogs.com/cherishnow/p/10901586.html" target="_blank" rel="noopener">jsä¸­çš„å †å’Œæ ˆ</a></h2><h3 id="ä¸€-æ ˆå’Œå †"><a href="#ä¸€-æ ˆå’Œå †" class="headerlink" title="ä¸€.æ ˆå’Œå †"></a>ä¸€.æ ˆå’Œå †</h3><p>æ ˆ(stack)ï¼šæ ˆä¼šè‡ªåŠ¨åˆ†é…å†…å­˜ç©ºé—´ï¼Œä¼šè‡ªåŠ¨é‡Šæ”¾ï¼Œå­˜æ”¾åŸºæœ¬ç±»å‹ï¼Œç®€å•çš„æ•°æ®æ®µï¼Œå æ®å›ºå®šå¤§å°çš„ç©ºé—´ã€‚ï¼ˆåŸºæœ¬ç±»å‹ï¼šStringï¼ŒNumberï¼ŒBooleanï¼ŒNullï¼ŒUndefinedï¼‰<br>å †(heap)ï¼šåŠ¨æ€åˆ†é…çš„å†…å­˜ï¼Œå¤§å°ä¸å®šä¹Ÿä¸ä¼šè‡ªåŠ¨é‡Šæ”¾ï¼Œå­˜æ”¾å¼•ç”¨ç±»å‹ï¼ŒæŒ‡é‚£äº›å¯èƒ½ç”±å¤šä¸ªå€¼æ„æˆçš„å¯¹è±¡ï¼Œä¿å­˜åœ¨å †å†…å­˜ä¸­ï¼ŒåŒ…å«å¼•ç”¨ç±»å‹çš„å˜é‡ï¼Œå®é™…ä¸Šä¿å­˜çš„ä¸æ˜¯å˜é‡æœ¬èº«ï¼Œè€Œæ˜¯æŒ‡å‘è¯¥å¯¹è±¡çš„æŒ‡é’ˆã€‚ï¼ˆå¼•ç”¨ç±»å‹ï¼šFunctionï¼ŒArrayï¼ŒObjectï¼‰</p>
<h3 id="äºŒ-åŒºåˆ«"><a href="#äºŒ-åŒºåˆ«" class="headerlink" title="äºŒ.åŒºåˆ«"></a>äºŒ.åŒºåˆ«</h3><p>æ ˆï¼šæ‰€æœ‰åœ¨æ–¹æ³•ä¸­å®šä¹‰çš„å˜é‡éƒ½æ˜¯æ”¾åœ¨æ ˆå†…å­˜ä¸­ï¼Œéšç€æ–¹æ³•çš„æ‰§è¡Œç»“æŸï¼Œè¿™ä¸ªæ–¹æ³•çš„å†…å­˜æ ˆä¹Ÿè‡ªç„¶é”€æ¯ã€‚<br>ä¼˜ç‚¹ï¼šå­˜å–é€Ÿåº¦æ¯”å †å¿«ï¼Œä»…æ¬¡äºç›´æ¥ä½äºCPUä¸­çš„å¯„å­˜å™¨ï¼Œæ•°æ®å¯ä»¥å…±äº«ï¼›<br>ç¼ºç‚¹ï¼šå­˜åœ¨æ ˆä¸­çš„æ•°æ®å¤§å°ä¸ç”Ÿå­˜æœŸå¿…é¡»æ˜¯ç¡®å®šçš„ï¼Œç¼ºä¹çµæ´»æ€§ã€‚<br>å †ï¼šå †å†…å­˜ä¸­çš„å¯¹è±¡ä¸ä¼šéšæ–¹æ³•çš„ç»“æŸè€Œé”€æ¯ï¼Œå³ä½¿æ–¹æ³•ç»“æŸåï¼Œè¿™ä¸ªå¯¹è±¡è¿˜å¯èƒ½è¢«å¦ä¸€ä¸ªå¼•ç”¨å˜é‡æ‰€å¼•ç”¨(å‚æ•°ä¼ é€’)ã€‚åˆ›å»ºå¯¹è±¡æ˜¯ä¸ºäº†åå¤åˆ©ç”¨ï¼Œè¿™ä¸ªå¯¹è±¡å°†è¢«ä¿å­˜åˆ°è¿è¡Œæ—¶æ•°æ®åŒºã€‚</p>
<a id="more"></a>

<h3 id="ä¸‰-æ ˆå’Œå †çš„æº¢å‡º"><a href="#ä¸‰-æ ˆå’Œå †çš„æº¢å‡º" class="headerlink" title="ä¸‰.æ ˆå’Œå †çš„æº¢å‡º"></a>ä¸‰.æ ˆå’Œå †çš„æº¢å‡º</h3><p>æ ˆï¼šå¯ä»¥é€’å½’è°ƒç”¨æ–¹æ³•ï¼Œè¿™æ ·éšç€æ ˆæ·±åº¦çš„å¢åŠ ï¼ŒJVMç»´æŒç€ä¸€æ¡é•¿é•¿çš„æ–¹æ³•è°ƒç”¨è½¨è¿¹ï¼ŒçŸ¥é“å†…å­˜ä¸å¤Ÿåˆ†é…ï¼Œäº§ç”Ÿæ ˆæº¢å‡ºã€‚<br>å †ï¼šå¾ªç¯åˆ›å»ºå¯¹è±¡ï¼Œé€šä¿—ç‚¹å°±æ˜¯ä¸æ–­çš„new ä¸€ä¸ªå¯¹è±¡ã€‚</p>
<h3 id="æ·±æµ…æ‹·è´"><a href="#æ·±æµ…æ‹·è´" class="headerlink" title="æ·±æµ…æ‹·è´"></a>æ·±æµ…æ‹·è´</h3><p>JSä¸­çš„æ•°æ®ç±»å‹æœ‰ä¸¤ç§ï¼Œåˆ†åˆ«æ˜¯åŸºæœ¬æ•°æ®ç±»å‹å’Œå¼•ç”¨æ•°æ®ç±»å‹ï¼Œå‰è€…å­˜æ”¾åœ¨æ ˆä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å€¼çš„å½¢å¼å»è®¿é—®ï¼›åè€…åˆ™æ˜¯å­˜æ”¾åœ¨å †å’Œæ ˆä¸­ï¼Œæˆ‘ä»¬ä¸èƒ½ç›´æ¥æ“ä½œå¯¹è±¡çš„å †å†…å­˜ç©ºé—´ï¼Œåªèƒ½æŒ‰ç…§å¼•ç”¨è¿›è¡Œè®¿é—®ï¼Œå³åªèƒ½è®¿é—®æ ˆä¸­çš„â€œåœ°å€â€ï¼Œè¿™ä¸ªåœ°å€æŒ‡å‘å­˜å‚¨åœ¨å †ä¸­çš„å¯¹è±¡ã€‚</p>
<h4 id="è‡ªå®šä¹‰å‡½æ•°-â€“æµ…æ‹·è´"><a href="#è‡ªå®šä¹‰å‡½æ•°-â€“æµ…æ‹·è´" class="headerlink" title="è‡ªå®šä¹‰å‡½æ•° â€“æµ…æ‹·è´"></a>è‡ªå®šä¹‰å‡½æ•° â€“æµ…æ‹·è´</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var obj&#x3D;&#123;</span><br><span class="line">        name:&#39;zs&#39;,</span><br><span class="line">        age:18,</span><br><span class="line">        friends:[&#39;Kate&#39;,&#39;Bob&#39;,&#39;Mike&#39;],</span><br><span class="line">        hobby:&#123;</span><br><span class="line">            hobby1:&#39;codes&#39;,</span><br><span class="line">            hobby2:&#39;piano&#39;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    function copy(obj1)&#123;</span><br><span class="line">        var obj2&#x3D;&#123;&#125;;</span><br><span class="line">        for(var key in obj1)&#123;</span><br><span class="line">            obj2[key]&#x3D;obj1[key]</span><br><span class="line">        &#125;</span><br><span class="line">        return obj2;</span><br><span class="line">    &#125;</span><br><span class="line">    var result&#x3D;copy(obj);   </span><br><span class="line">    console.log(result.friends);&#x2F;&#x2F;[&quot;Kate&quot;, &quot;Bob&quot;, &quot;Mike&quot;]</span><br></pre></td></tr></table></figure>

<p>ä»¥ä¸Šä»£ç å¯ä»¥å°†objçš„å€¼å®Œå…¨æ‹·è´ç»™obj2ï¼Œçœ‹èµ·æ¥ç¡®å®æ²¡æœ‰é—®é¢˜ï¼Œä½†æ˜¯ä¸€æ—¦ä¿®æ”¹äº†åŸå§‹å¯¹è±¡æˆ–è€…æ‹·è´å¯¹è±¡çš„å¼•ç”¨ç±»å‹çš„å±æ€§å€¼ï¼Œå¦ä¸€ä¸ªå¯¹è±¡çš„å±æ€§å€¼ä¹Ÿä¼šå‘ç”Ÿç›¸åº”çš„æ”¹å˜ï¼Œå¾ˆæ˜æ˜¾è¿™å¹¶ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ã€‚é‚£ä¹ˆä¸ºä»€ä¹ˆä¿®æ”¹åŸºæœ¬ç±»å‹çš„å±æ€§å€¼å¹¶æ²¡æœ‰äº§ç”Ÿå½±å“å‘¢ï¼Ÿé‚£å°±è¦ä»æµ…æ‹·è´åŸç†è¯´èµ·äº†ï¼Œå…¶å®æµ…æ‹·è´åªæ˜¯æ‹·è´ä¸€å±‚ï¼Œå¯¹äºåŸºæœ¬æ•°æ®ç±»å‹æ¥è¯´ï¼Œæ‹·è´çš„æ˜¯å€¼ï¼Œè€Œæ·±å±‚æ¬¡å¯¹è±¡çº§åˆ«çš„åˆ™æ˜¯æ‹·è´å¼•ç”¨ï¼Œä¹Ÿå°±æ˜¯å¹³å¸¸è¯´çš„åœ°å€ã€‚æ—¢ç„¶æ‹·è´çš„å¯¹è±¡ä¸åŸå§‹å¯¹è±¡æŒ‡å‘çš„åœ°å€ç›¸åŒï¼Œé‚£ä¹ˆäºŒè€…ä¾¿ä¼šç›¸äº’å½±å“ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">obj.friends.push(&#39;Cherry&#39;);</span><br><span class="line"></span><br><span class="line">console.log(result.friends);&#x2F;&#x2F;[&quot;Kate&quot;, &quot;Bob&quot;, &quot;Mike&quot;, &quot;Cherry&quot;]</span><br><span class="line"></span><br><span class="line">obj.name&#x3D;&#39;Rose&#39;;</span><br><span class="line"></span><br><span class="line">console.log(result.name);&#x2F;&#x2F;zs</span><br></pre></td></tr></table></figure>



<h4 id="es6çš„æ‰©å±•è¿ç®—ç¬¦ï¼ˆâ€¦ï¼‰â€“æµ…æ‹·è´"><a href="#es6çš„æ‰©å±•è¿ç®—ç¬¦ï¼ˆâ€¦ï¼‰â€“æµ…æ‹·è´" class="headerlink" title="es6çš„æ‰©å±•è¿ç®—ç¬¦ï¼ˆâ€¦ï¼‰â€“æµ…æ‹·è´"></a>es6çš„æ‰©å±•è¿ç®—ç¬¦ï¼ˆâ€¦ï¼‰â€“æµ…æ‹·è´</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let newObj &#x3D; &#123;...obj&#125;;</span><br></pre></td></tr></table></figure>



<h4 id="Object-assign-obj-â€“æµ…æ‹·è´"><a href="#Object-assign-obj-â€“æµ…æ‹·è´" class="headerlink" title="Object.assign(obj) â€“æµ…æ‹·è´"></a>Object.assign(obj) â€“æµ…æ‹·è´</h4><p>ES6ä¸­å¯¹è±¡æ–°å¢äº†ä¸€ä¸ªassignæ–¹æ³•ï¼Œå¯ä»¥è¿…é€Ÿå®ç°<strong>æµ…æ‹·è´</strong>ï¼Œè¿™é‡Œæ¼”ç¤ºä¸€ä¸‹ã€‚å½“ç„¶è¿™ä¸ªæ–¹æ³•ä¹Ÿå­˜åœ¨ç€å¼•ç”¨æ‹·è´äº’ç›¸å½±å“çš„é—®é¢˜ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var obj3&#x3D;Object.assign(obj);</span><br><span class="line"></span><br><span class="line">console.log(obj3.friends)&#x2F;&#x2F;[&quot;Kate&quot;, &quot;Bob&quot;, &quot;Mike&quot;]</span><br></pre></td></tr></table></figure>

<p>åœ¨æ‹·è´å®Œæˆåï¼Œæˆ‘ä»¬å¸Œæœ›ä¸¤ä¸ªå¯¹è±¡ä¹‹é—´äº’ä¸å½±å“ï¼Œä¹Ÿå°±æ˜¯è¯´æ”¹å˜ä»»ä¸€å¯¹è±¡çš„å±æ€§ï¼Œå¦ä¸€ä¸ªå¯¹è±¡éƒ½ä¸ä¼šå‘ç”Ÿæ”¹å˜ã€‚é‚£ä¹ˆæ€æ ·å®ç°æ·±æ‹·è´å‘¢ï¼Ÿè¿™é‡Œä»‹ç»ä¸¤ç§æ–¹æ³•ï¼Œä¸€ç§æ˜¯é€šè¿‡JSONæ¥å®ç°ï¼Œå¦ä¸€ç§æ˜¯è¿ç”¨é€’å½’æ¥è§£å†³ã€‚</p>
<h4 id="JSON-stringify-â€“æ·±æ‹·è´"><a href="#JSON-stringify-â€“æ·±æ‹·è´" class="headerlink" title="JSON.stringify â€“æ·±æ‹·è´"></a>JSON.stringify â€“æ·±æ‹·è´</h4><p>å€Ÿç”¨JSONçš„å±æ€§å¯ä»¥å…ˆç”¨<code>JSON.stringify</code>æŠŠå¯¹è±¡è½¬æˆå­—ç¬¦ä¸²ï¼Œå†ç”¨<code>JSON.parse</code>æŠŠå­—ç¬¦ä¸²è½¬æˆæ–°çš„å¯¹è±¡ã€‚å½“æˆ‘ä»¬æ”¹å˜åŸå§‹å¯¹è±¡çš„å±æ€§å€¼æ—¶ï¼Œæ‹·è´å¯¹è±¡çš„å±æ€§å¹¶ä¸ä¼šå‘ç”Ÿå˜åŒ–ï¼Œä½†æ˜¯è¿™ç§æ–¹æ³•å­˜åœ¨ä¸€ä¸ªå¼Šç«¯ï¼Œæˆ‘ä»¬æ— æ³•æ‹·è´åŸå§‹å¯¹è±¡çš„å‡½æ•°ï¼Œå› ä¸ºå‡½æ•°æ˜¯æ— æ³•è½¬æˆå­—ç¬¦ä¸²çš„ã€‚äºæ˜¯ï¼Œæˆ‘ä»¬å°±å¯ä»¥è€ƒè™‘ç”¨é€’å½’çš„æ–¹æ³•æ¥è§£å†³é—®é¢˜ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function deepCopy(obj1)&#123;</span><br><span class="line">        var copyObj&#x3D;JSON.parse(JSON.stringify(obj1));</span><br><span class="line">        return copyObj;</span><br><span class="line">    &#125;</span><br><span class="line">    var result&#x3D;deepCopy(obj)</span><br><span class="line">    console.log(result.friends);&#x2F;&#x2F;[&quot;Kate&quot;, &quot;Bob&quot;, &quot;Mike&quot;]</span><br><span class="line">    obj.friends.push(&#39;Cherry&#39;);</span><br><span class="line">    console.log(result.friends);&#x2F;&#x2F; [&quot;Kate&quot;, &quot;Bob&quot;, &quot;Mike&quot;]</span><br><span class="line">    console.log(obj.friends);&#x2F;&#x2F;[&quot;Kate&quot;, &quot;Bob&quot;, &quot;Mike&quot;, &quot;Cherry&quot;]</span><br></pre></td></tr></table></figure>



<h4 id="é€’å½’-â€“æ·±æ‹·è´"><a href="#é€’å½’-â€“æ·±æ‹·è´" class="headerlink" title="é€’å½’ â€“æ·±æ‹·è´"></a>é€’å½’ â€“æ·±æ‹·è´</h4><p>ç»ˆæåŠæ³•ï¼šé€’å½’ã€‚å› ä¸ºæˆ‘ä»¬æ— æ³•ç¡®å®šåŸå§‹å¯¹è±¡é‡Œé¢çš„åµŒå¥—å±‚æ•°ï¼Œå› æ­¤å¯ä»¥å€ŸåŠ©é€’å½’çš„æ–¹æ³•ï¼Œå†æ¬¡è°ƒç”¨æ‹·è´å‡½æ•°ï¼Œç›´åˆ°æœ€æ·±å±‚æ•°æ®ä¸ºåŸºæœ¬ç±»å‹ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var obj&#x3D;&#123;</span><br><span class="line">        name:&#39;zs&#39;,</span><br><span class="line">        age:18,</span><br><span class="line">        friends:[&#39;Kate&#39;,&#39;Bob&#39;,&#39;Mike&#39;],</span><br><span class="line">        hobby:&#123;</span><br><span class="line">            hobby1:&#39;codes&#39;,</span><br><span class="line">            hobby2:&#39;piano&#39;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    function deepCopy(origin,target)&#123;</span><br><span class="line">        &#x2F;&#x2F;ç›®æ ‡å€¼å…ˆç½®ä¸ºç©º</span><br><span class="line">        var target&#x3D;null;</span><br><span class="line">        &#x2F;&#x2F;åˆ¤æ–­åŸå§‹å¯¹è±¡çš„æ•°æ®ç±»å‹</span><br><span class="line">        if(typeof origin&#x3D;&#x3D;&#x3D;&#39;object&#39;&amp;&amp;origin!&#x3D;&#x3D;null)&#123;</span><br><span class="line">            &#x2F;&#x2F;åˆ¤æ–­æ‹·è´çš„æ˜¯æ•°ç»„è¿˜æ˜¯å¯¹è±¡</span><br><span class="line">            target&#x3D;origin instanceof Array?[]:&#123;&#125;;</span><br><span class="line">            for(var key in origin)&#123;</span><br><span class="line">                &#x2F;&#x2F;é€’å½’æ‹·è´</span><br><span class="line">                target[key]&#x3D;deepCopy(origin[key],target[key])</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;else&#123;</span><br><span class="line">            &#x2F;&#x2F;åŸºæœ¬ç±»å‹ç›´æ¥èµ‹å€¼</span><br><span class="line">            target&#x3D;origin;</span><br><span class="line">        &#125;</span><br><span class="line">        return target;</span><br><span class="line">    &#125;</span><br><span class="line">    var newObj&#x3D;&#123;&#125;;</span><br><span class="line">    var result&#x3D;deepCopy(obj,newObj);</span><br><span class="line">    console.log(result);</span><br><span class="line">    obj.friends.push(&#39;Cherry&#39;);</span><br><span class="line">    console.log(result.friends);&#x2F;&#x2F; [&quot;Kate&quot;, &quot;Bob&quot;, &quot;Mike&quot;]</span><br><span class="line">    console.log(obj.friends)&#x2F;&#x2F; [&quot;Kate&quot;, &quot;Bob&quot;, &quot;Mike&quot;, &quot;Cherry&quot;]</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>js</category>
      </categories>
      <tags>
        <tag>js</tag>
        <tag>æ·±æ‹·è´æµ…æ‹·è´</tag>
      </tags>
  </entry>
  <entry>
    <title>jsä¹‹é˜²æŠ–å’ŒèŠ‚æµ</title>
    <url>/2020/09/29/js%E4%B9%8B%E9%98%B2%E6%8A%96%E5%92%8C%E8%8A%82%E6%B5%81/</url>
    <content><![CDATA[<h3 id="é˜²æŠ–"><a href="#é˜²æŠ–" class="headerlink" title="é˜²æŠ–"></a>é˜²æŠ–</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">åœ¨äº‹ä»¶è¢«è§¦å‘nç§’åå†æ‰§è¡Œå›è°ƒï¼Œå¦‚æœåœ¨è¿™nç§’å†…åˆè¢«è§¦å‘ï¼Œåˆ™é‡æ–°è®¡æ—¶ã€‚</span><br></pre></td></tr></table></figure>

<p>ä¸¾ä¸ªä¾‹å­ï¼š<br> å½“é¼ æ ‡ç§»åŠ¨åˆ°ä¸€ä¸ªdivä¸Šæ—¶ï¼Œdivçš„å†…å®¹ä¸€ç›´åœ¨æ›´æ–°ï¼Œå¦‚æœä¸ç”¨é˜²æŠ–å¤„ç†ï¼Œæ•ˆæœå¦‚ä¸‹å›¾</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var mydiv &#x3D; document.getElementById(&#39;mydiv&#39;);</span><br><span class="line">       let count &#x3D; 0;</span><br><span class="line">       function myEvent()&#123;</span><br><span class="line">           mydiv.innerText &#x3D; count++;</span><br><span class="line">       &#125;</span><br><span class="line">       mydiv.addEventListener(&#39;mouseover&#39;, function(event)&#123;</span><br><span class="line">           myEvent();</span><br><span class="line">       &#125;);</span><br></pre></td></tr></table></figure>

<a id="more"></a>

<p><img src="https://user-gold-cdn.xitu.io/2020/3/3/1709ebe109bc00dd?imageslim" alt="img"></p>
<p>ä½¿ç”¨äº†é˜²æŠ–åçš„æ•ˆæœ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function debounce(fn,delay) &#123;</span><br><span class="line">           let timeout &#x3D; null;</span><br><span class="line">           return function () &#123;</span><br><span class="line">               if(timeout)&#123;</span><br><span class="line">                   clearTimeout(timeout);</span><br><span class="line">               &#125;</span><br><span class="line">               timeout &#x3D; setTimeout(() &#x3D;&gt; &#123;</span><br><span class="line">                   fn.apply(this, arguments);</span><br><span class="line">               &#125;,delay);</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">       var mydiv &#x3D; document.getElementById(&#39;mydiv&#39;);</span><br><span class="line">       let count &#x3D; 0;</span><br><span class="line">       function myEvent()&#123;</span><br><span class="line">           mydiv.innerText &#x3D; count++;</span><br><span class="line">       &#125;        </span><br><span class="line">       mydiv.addEventListener(&#39;mouseover&#39;, debounce(myEvent,2000));</span><br></pre></td></tr></table></figure>



<p><img src="https://user-gold-cdn.xitu.io/2020/3/3/1709ec48bfa90688?imageslim" alt="img"></p>
<p>ä»£ç å®ç°åŸç†ï¼š<br> å‡½æ•°é˜²æŠ–çš„å…³é”®åœ¨äºï¼Œåœ¨ä¸€ä¸ªåŠ¨ä½œå‘ç”Ÿä¸€å®šæ—¶é—´åï¼Œæ‰æ‰§è¡ŒæŒ‡å®šäº‹ä»¶ï¼›å¦‚æœnç§’å†…é«˜é¢‘äº‹ä»¶å†æ¬¡è¢«è§¦å‘ï¼Œåˆ™é‡æ–°è®¡ç®—æ—¶é—´ï¼›</p>
<p>åœ¨documentä¸­é¼ æ ‡ç§»åŠ¨çš„æ—¶å€™ï¼Œä¼šåœ¨mouseoveræœ€åè§¦å‘çš„2såæ‰§è¡Œå›è°ƒå‡½æ•°myEventï¼›å¦‚æœæˆ‘ä»¬ä¸€ç›´åœ¨æµè§ˆå™¨ä¸­ç§»åŠ¨é¼ æ ‡ï¼ˆæ¯”å¦‚10sï¼‰ï¼Œä¼šå‘ç°ä¼šåœ¨10 + 2såæ‰ä¼šæ‰§è¡ŒmyEventå‡½æ•°ï¼ˆå› ä¸ºclearTimeout(timeout)ï¼‰ï¼Œè¿™ä¸ªå°±æ˜¯å‡½æ•°é˜²æŠ–ã€‚</p>
<h3 id="èŠ‚æµ"><a href="#èŠ‚æµ" class="headerlink" title="èŠ‚æµ"></a>èŠ‚æµ</h3><p>è§„å®šåœ¨ä¸€ä¸ªå•ä½æ—¶é—´å†…ï¼Œåªèƒ½è§¦å‘ä¸€æ¬¡å‡½æ•°ã€‚å¦‚æœè¿™ä¸ªå•ä½æ—¶é—´å†…è§¦å‘å¤šæ¬¡å‡½æ•°ï¼Œåªæœ‰ä¸€æ¬¡ç”Ÿæ•ˆã€‚ç¨€é‡Šäº‹ä»¶æ‰§è¡Œé¢‘ç‡ã€‚</p>
<p><strong>å®šæ—¶å™¨çš„å®ç°æ–¹å¼</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"> function throttle(fn, delay) &#123;</span><br><span class="line">                let hasRun &#x3D; false;</span><br><span class="line">                return function () &#123;</span><br><span class="line">                    if (hasRun) &#123;</span><br><span class="line">                        return;</span><br><span class="line">                    &#125;</span><br><span class="line">                    hasRun &#x3D; true;</span><br><span class="line">                    setTimeout(() &#x3D;&gt; &#123;</span><br><span class="line">                        hasRun &#x3D; false;</span><br><span class="line">                        fn.apply(this, arguments);</span><br><span class="line">                    &#125;, delay);</span><br><span class="line">                &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        var mydiv &#x3D; document.getElementById(&#39;mydiv&#39;);</span><br><span class="line">        let count &#x3D; 0;</span><br><span class="line">        function myEvent()&#123;</span><br><span class="line">            mydiv.innerText &#x3D; count++;</span><br><span class="line">        &#125;        </span><br><span class="line">        mydiv.addEventListener(&#39;mouseover&#39;, throttle(myEvent,2000));</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<p>æ•ˆæœå›¾ï¼š</p>
<p><img src="https://user-gold-cdn.xitu.io/2020/3/3/1709fc48220bf21d?imageslim" alt="img"></p>
<p><strong>æ—¶é—´æˆ³çš„å®ç°æ–¹å¼</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let div &#x3D; document.querySelector(&#39;div&#39;);</span><br><span class="line">var count &#x3D; 0;</span><br><span class="line">function myEvent() &#123;</span><br><span class="line">    div.innerText &#x3D; count++;</span><br><span class="line">&#125;</span><br><span class="line">div.onmouseover &#x3D; throttle(myEvent,2000);</span><br><span class="line">function throttle(func, wait) &#123;</span><br><span class="line">    let pre &#x3D; 0;</span><br><span class="line">    return function () &#123;</span><br><span class="line">        let now &#x3D; new Date().getTime();</span><br><span class="line">        if (now - pre &gt; wait) &#123;</span><br><span class="line">            pre &#x3D; now;</span><br><span class="line">            func.apply(this);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<p>ä»£ç å®ç°åŸç†ï¼šæ¯éš”nç§’æ‰§è¡Œä¸€æ¬¡å›è°ƒå‡½æ•°ã€‚</p>
<h3 id="åº”ç”¨åœºæ™¯"><a href="#åº”ç”¨åœºæ™¯" class="headerlink" title="åº”ç”¨åœºæ™¯"></a>åº”ç”¨åœºæ™¯</h3><p>é˜²æŠ–ï¼š<br> 1ã€searchæœç´¢è”æƒ³ï¼Œç”¨æˆ·åœ¨ä¸æ–­è¾“å…¥å€¼æ—¶ï¼Œç”¨é˜²æŠ–æ¥èŠ‚çº¦è¯·æ±‚èµ„æºï¼›<br> 2ã€windowè§¦å‘resizeçš„æ—¶å€™ï¼Œä¸æ–­çš„è°ƒæ•´æµè§ˆå™¨çª—å£å¤§å°ä¼šä¸æ–­çš„è§¦å‘è¿™ä¸ªäº‹ä»¶ï¼Œç”¨é˜²æŠ–æ¥è®©å…¶åªè§¦å‘ä¸€æ¬¡ï¼›<br> 3ã€é˜²æ­¢é‡å¤æäº¤ï¼›<br> èŠ‚æµï¼š<br> 1ã€é¼ æ ‡ä¸æ–­çš„ç‚¹å‡»è§¦å‘ï¼Œmousedownï¼ˆå•ä½æ—¶é—´å†…åªè§¦å‘ä¸€æ¬¡ï¼‰ï¼›<br> 2ã€ç›‘å¬æ»šåŠ¨äº‹ä»¶ï¼Œæ¯”å¦‚æ˜¯å¦æ»‘åˆ°åº•éƒ¨è‡ªåŠ¨åŠ è½½æ›´å¤šï¼Œç”¨throttleæ¥åˆ¤æ–­ï¼›</p>
<p>é“¾æ¥ï¼š<a href="https://juejin.im/post/6844904080540729357" target="_blank" rel="noopener">https://juejin.im/post/6844904080540729357</a></p>
]]></content>
  </entry>
  <entry>
    <title>jsä½œç”¨åŸŸ</title>
    <url>/2020/07/30/js%E4%BD%9C%E7%94%A8%E5%9F%9F/</url>
    <content><![CDATA[<h3 id="jsä½œç”¨åŸŸ"><a href="#jsä½œç”¨åŸŸ" class="headerlink" title="jsä½œç”¨åŸŸ"></a>jsä½œç”¨åŸŸ</h3><p>![clipboard (2)](jsä½œç”¨åŸŸ.assets/clipboard (2)-1599547611289.png)</p>
<a id="more"></a>

<p>![clipboard (3)](jsä½œç”¨åŸŸ.assets/clipboard (3).png)</p>
<p>![clipboard (4)](jsä½œç”¨åŸŸ.assets/clipboard (4).png)</p>
<p>![clipboard (5)](jsä½œç”¨åŸŸ.assets/clipboard (5).png)</p>
<p>![clipboard (6)](jsä½œç”¨åŸŸ.assets/clipboard (6).png)</p>
<p>![clipboard (7)](jsä½œç”¨åŸŸ.assets/clipboard (7).png)</p>
<p>![clipboard (8)](jsä½œç”¨åŸŸ.assets/clipboard (8)-1599547718223.png)</p>
<p>![clipboard (9)](jsä½œç”¨åŸŸ.assets/clipboard (9).png)</p>
]]></content>
      <categories>
        <category>jsä½œç”¨åŸŸ</category>
      </categories>
      <tags>
        <tag>js</tag>
        <tag>ä½œç”¨åŸŸ</tag>
      </tags>
  </entry>
  <entry>
    <title>jsæ•°ç»„æ–¹æ³•-reduce</title>
    <url>/2020/08/25/js%E6%95%B0%E7%BB%84%E6%96%B9%E6%B3%95-reduce/</url>
    <content><![CDATA[<h1 id="JSæ•°ç»„reduce-æ–¹æ³•è¯¦è§£åŠé«˜çº§æŠ€å·§"><a href="#JSæ•°ç»„reduce-æ–¹æ³•è¯¦è§£åŠé«˜çº§æŠ€å·§" class="headerlink" title="JSæ•°ç»„reduce()æ–¹æ³•è¯¦è§£åŠé«˜çº§æŠ€å·§"></a>JSæ•°ç»„reduce()æ–¹æ³•è¯¦è§£åŠé«˜çº§æŠ€å·§</h1><h4 id="1ã€è¯­æ³•"><a href="#1ã€è¯­æ³•" class="headerlink" title="1ã€è¯­æ³•"></a>1ã€è¯­æ³•</h4><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">arr</span><span class="selector-class">.reduce</span>(<span class="selector-tag">callback</span>,<span class="selector-attr">[initialValue]</span>)</span><br></pre></td></tr></table></figure>

<p>reduce ä¸ºæ•°ç»„ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ ä¾æ¬¡æ‰§è¡Œå›è°ƒå‡½æ•°ï¼Œä¸åŒ…æ‹¬æ•°ç»„ä¸­è¢«åˆ é™¤æˆ–ä»æœªè¢«èµ‹å€¼çš„å…ƒç´ ï¼Œæ¥å—å››ä¸ªå‚æ•°ï¼šåˆå§‹å€¼ï¼ˆæˆ–è€…ä¸Šä¸€æ¬¡å›è°ƒå‡½æ•°çš„è¿”å›å€¼ï¼‰ï¼Œå½“å‰å…ƒç´ å€¼ï¼Œå½“å‰ç´¢å¼•ï¼Œè°ƒç”¨ reduce çš„æ•°ç»„ã€‚</p>
<a id="more"></a>

<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="built_in">array</span>.reduce(function(prev, currentValue, currentIndex, arr), initialValue)</span><br><span class="line"></span><br><span class="line">prev:è¡¨ç¤ºä¸Šä¸€æ¬¡æ‰§è¡Œæ–¹æ³•æ‰€è¿”å›çš„å€¼ï¼Œæˆ–è€…initialValueã€‚ï¼ˆå¦‚æœinitialValueæ²¡æœ‰è®¾ç½®ï¼Œåˆ™å–<span class="built_in">array</span>ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼‰</span><br><span class="line">currentValue:å½“å‰å¾ªç¯çš„<span class="built_in">array</span>çš„å…ƒç´ å€¼</span><br><span class="line">currentIndex:å½“å‰å¾ªç¯çš„<span class="built_in">array</span>çš„å…ƒç´ å€¼æ‰€å¯¹åº”çš„ä¸‹æ ‡</span><br><span class="line">arr:è¡¨ç¤ºå½“å‰æ‰€éå†çš„å‡½æ•°</span><br><span class="line">    </span><br><span class="line">initialValue:ä¸ºprevæŒ‡å®šä¸€ä¸ªåˆå§‹å€¼ï¼Œå¯ä¸å†™ï¼Œåˆ™å–<span class="built_in">array</span>çš„ç¬¬ä¸€ä¸ªå…ƒç´ </span><br></pre></td></tr></table></figure>



<h4 id="2ã€å®ä¾‹è§£æ-initialValue-å‚æ•°"><a href="#2ã€å®ä¾‹è§£æ-initialValue-å‚æ•°" class="headerlink" title="2ã€å®ä¾‹è§£æ initialValue å‚æ•°"></a>2ã€å®ä¾‹è§£æ initialValue å‚æ•°</h4><p>å…ˆçœ‹ç¬¬ä¸€ä¸ªä¾‹å­ï¼š</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>];</span><br><span class="line"><span class="keyword">var</span> sum = arr.reduce(<span class="function"><span class="keyword">function</span>(<span class="params">prev, cur, index, arr</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(prev, cur, index);</span><br><span class="line">    <span class="keyword">return</span> prev + cur;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(arr, sum);</span><br></pre></td></tr></table></figure>

<blockquote>
<p>æ‰“å°ç»“æœï¼š<br> 1 2 1<br> 3 3 2<br> 6 4 3<br> [1, 2, 3, 4] 10</p>
</blockquote>
<p>è¿™é‡Œå¯ä»¥çœ‹å‡ºï¼Œä¸Šé¢çš„ä¾‹å­indexæ˜¯ä»1å¼€å§‹çš„ï¼Œç¬¬ä¸€æ¬¡çš„prevçš„å€¼æ˜¯æ•°ç»„çš„ç¬¬ä¸€ä¸ªå€¼ã€‚æ•°ç»„é•¿åº¦æ˜¯4ï¼Œä½†æ˜¯reduceå‡½æ•°å¾ªç¯3æ¬¡ã€‚</p>
<p>å†çœ‹ç¬¬äºŒä¸ªä¾‹å­ï¼š</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span>  arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>];</span><br><span class="line"><span class="keyword">var</span> sum = arr.reduce(<span class="function"><span class="keyword">function</span>(<span class="params">prev, cur, index, arr</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(prev, cur, index);</span><br><span class="line">    <span class="keyword">return</span> prev + cur;</span><br><span class="line">&#125;ï¼Œ<span class="number">0</span>) <span class="comment">//æ³¨æ„è¿™é‡Œè®¾ç½®äº†åˆå§‹å€¼</span></span><br><span class="line"><span class="built_in">console</span>.log(arr, sum);</span><br></pre></td></tr></table></figure>

<blockquote>
<p>æ‰“å°ç»“æœï¼š<br> 0 1 0<br> 1 2 1<br> 3 3 2<br> 6 4 3<br> [1, 2, 3, 4] 10</p>
</blockquote>
<p>è¿™ä¸ªä¾‹å­indexæ˜¯ä»0å¼€å§‹çš„ï¼Œç¬¬ä¸€æ¬¡çš„prevçš„å€¼æ˜¯æˆ‘ä»¬è®¾ç½®çš„åˆå§‹å€¼0ï¼Œæ•°ç»„é•¿åº¦æ˜¯4ï¼Œreduceå‡½æ•°å¾ªç¯4æ¬¡ã€‚</p>
<p>ç»“è®ºï¼š<code>å¦‚æœæ²¡æœ‰æä¾›initialValueï¼Œreduce ä¼šä»ç´¢å¼•1çš„åœ°æ–¹å¼€å§‹æ‰§è¡Œ callback æ–¹æ³•ï¼Œè·³è¿‡ç¬¬ä¸€ä¸ªç´¢å¼•ã€‚å¦‚æœæä¾›initialValueï¼Œä»ç´¢å¼•0å¼€å§‹ã€‚</code></p>
<p>æ³¨æ„ï¼šå¦‚æœè¿™ä¸ªæ•°ç»„ä¸ºç©ºï¼Œè¿ç”¨reduceæ˜¯ä»€ä¹ˆæƒ…å†µï¼Ÿ</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span>  arr = [];</span><br><span class="line"><span class="keyword">var</span> sum = arr.reduce(<span class="function"><span class="keyword">function</span>(<span class="params">prev, cur, index, arr</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(prev, cur, index);</span><br><span class="line">    <span class="keyword">return</span> prev + cur;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">//æŠ¥é”™ï¼Œ"TypeError: Reduce of empty array with no initial value"</span></span><br></pre></td></tr></table></figure>

<p>ä½†æ˜¯è¦æ˜¯æˆ‘ä»¬è®¾ç½®äº†åˆå§‹å€¼å°±ä¸ä¼šæŠ¥é”™ï¼Œå¦‚ä¸‹ï¼š</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span>  arr = [];</span><br><span class="line"><span class="keyword">var</span> sum = arr.reduce(<span class="function"><span class="keyword">function</span>(<span class="params">prev, cur, index, arr</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(prev, cur, index);</span><br><span class="line">    <span class="keyword">return</span> prev + cur;</span><br><span class="line">&#125;ï¼Œ<span class="number">0</span>)</span><br><span class="line"><span class="built_in">console</span>.log(arr, sum); <span class="comment">// [] 0</span></span><br></pre></td></tr></table></figure>

<p><strong>æ‰€ä»¥ä¸€èˆ¬æ¥è¯´æˆ‘ä»¬æä¾›åˆå§‹å€¼é€šå¸¸æ›´å®‰å…¨</strong></p>
<h4 id="3ã€initialValue-ç±»å‹ä¸åŒçš„åŒºåˆ«"><a href="#3ã€initialValue-ç±»å‹ä¸åŒçš„åŒºåˆ«" class="headerlink" title="3ã€initialValue ç±»å‹ä¸åŒçš„åŒºåˆ«"></a>3ã€initialValue ç±»å‹ä¸åŒçš„åŒºåˆ«</h4><p><strong>åˆå§‹å€¼ä¸ºæ•°å€¼ï¼š</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const arr &#x3D; [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];</span><br><span class="line">const sum &#x3D; arr.reduce(function (prev, current) &#123;</span><br><span class="line">	return prev+current</span><br><span class="line">&#125;, 0)</span><br><span class="line">console.log(sum) &#x2F;&#x2F;55</span><br></pre></td></tr></table></figure>

<p>reduceæ ¹æ®å‡½æ•°ä¼ è¿›æ¥çš„åˆå§‹å€¼ï¼Œä¸æ–­å›è°ƒå åŠ æœ€ç»ˆç®—å‡ºæ•°ç»„çš„å’Œ</p>
<p><strong>åˆå§‹å€¼ä¸ºå¯¹è±¡ï¼š</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const arr &#x3D; [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];</span><br><span class="line">const sum &#x3D; arr.reduce(function (prev, current) &#123;</span><br><span class="line">    prev.count &#x3D; prev.count+current</span><br><span class="line">    return prev</span><br><span class="line">&#125;, &#123;count: 0&#125;)</span><br><span class="line">console.log(sum) &#x2F;&#x2F;&#123;count: 55&#125;</span><br></pre></td></tr></table></figure>

<p>å¦‚æœåˆå§‹å€¼ä¸ºå¯¹è±¡çš„è¯ï¼Œè¿”å›çš„ä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡</p>
<p><strong>åˆå§‹å€¼ä¸ºæ•°ç»„ï¼š</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const str &#x3D; &#39;hello&#39;</span><br><span class="line">const newstr &#x3D; str.split(&#39;&#39;).reduce(function (prev, current) &#123;</span><br><span class="line">    const obj &#x3D; &#123;&#125;;</span><br><span class="line">    obj[current] &#x3D; current;</span><br><span class="line">    prev.push(obj)</span><br><span class="line">    return prev;</span><br><span class="line">&#125;, [])</span><br><span class="line">console.log(newstr)</span><br></pre></td></tr></table></figure>

<p>ç»“æœä¸ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[&#123;</span><br><span class="line">    h: &#39;h&#39;</span><br><span class="line">    &#125;,&#123;</span><br><span class="line">    e: &#39;e&#39;</span><br><span class="line">    &#125;,&#123;</span><br><span class="line">    l: &#39;l&#39;</span><br><span class="line">    &#125;,&#123;</span><br><span class="line">    l: &#39;l&#39;</span><br><span class="line">    &#125;,&#123;</span><br><span class="line">    o: &#39;o&#39;</span><br><span class="line">&#125;]</span><br></pre></td></tr></table></figure>

<p>å¦‚æœåˆå§‹å€¼ä¸ºæ•°ç»„ï¼Œåˆ™è¿”å›çš„ä¹Ÿæ˜¯æ•°ç»„</p>
<h4 id="4ã€reduceçš„ç®€å•ç”¨æ³•"><a href="#4ã€reduceçš„ç®€å•ç”¨æ³•" class="headerlink" title="4ã€reduceçš„ç®€å•ç”¨æ³•"></a>4ã€reduceçš„ç®€å•ç”¨æ³•</h4><p>å½“ç„¶æœ€ç®€å•çš„å°±æ˜¯æˆ‘ä»¬å¸¸ç”¨çš„æ•°ç»„æ±‚å’Œï¼Œæ±‚ä¹˜ç§¯äº†ã€‚</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span>  arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>];</span><br><span class="line"><span class="keyword">var</span> sum = arr.reduce(<span class="function">(<span class="params">x,y</span>)=&gt;</span>x+y)</span><br><span class="line"><span class="keyword">var</span> mul = arr.reduce(<span class="function">(<span class="params">x,y</span>)=&gt;</span>x*y)</span><br><span class="line"><span class="built_in">console</span>.log( sum ); <span class="comment">//æ±‚å’Œï¼Œ10</span></span><br><span class="line"><span class="built_in">console</span>.log( mul ); <span class="comment">//æ±‚ä¹˜ç§¯ï¼Œ24</span></span><br></pre></td></tr></table></figure>



<p>è®¡ç®—æ•°ç»„æœ€å¤§å€¼</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> max = arr.reduce(<span class="function"><span class="keyword">function</span> (<span class="params">prev, cur</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Math</span>.max(prev,cur);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h4 id="4ã€reduceçš„é«˜çº§ç”¨æ³•"><a href="#4ã€reduceçš„é«˜çº§ç”¨æ³•" class="headerlink" title="4ã€reduceçš„é«˜çº§ç”¨æ³•"></a>4ã€reduceçš„é«˜çº§ç”¨æ³•</h4><p>ï¼ˆ1ï¼‰è®¡ç®—æ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ å‡ºç°çš„æ¬¡æ•°</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> names = [<span class="string">'Alice'</span>, <span class="string">'Bob'</span>, <span class="string">'Tiff'</span>, <span class="string">'Bruce'</span>, <span class="string">'Alice'</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> nameNum = names.reduce(<span class="function">(<span class="params">pre,cur</span>)=&gt;</span>&#123;</span><br><span class="line">  <span class="keyword">if</span>(cur <span class="keyword">in</span> pre)&#123;</span><br><span class="line">    pre[cur]++</span><br><span class="line">  &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    pre[cur] = <span class="number">1</span> </span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> pre</span><br><span class="line">&#125;,&#123;&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(nameNum); <span class="comment">//&#123;Alice: 2, Bob: 1, Tiff: 1, Bruce: 1&#125;</span></span><br></pre></td></tr></table></figure>



<p>ï¼ˆ2ï¼‰æ•°ç»„å»é‡</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line">æ–¹æ³•ä¸€</span><br><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">4</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">5</span>]</span><br><span class="line"><span class="keyword">var</span> newArr = arr.reduce(<span class="function"><span class="keyword">function</span> (<span class="params">prev, cur,index,curarr</span>) </span>&#123;</span><br><span class="line">    prev.indexOf(cur) === <span class="number">-1</span> &amp;&amp; prev.push(cur);</span><br><span class="line">    <span class="comment">//è¿™é‡Œè¡¨ç¤ºprevç¬¬ä¸€æ¬¡å»è®¾ç½®çš„initå€¼[]ï¼Œå½“æ»¡è¶³å½“å‰çš„æ–°æ•°ç»„æ²¡æœ‰curï¼ˆå½“å‰å…ƒç´ ï¼‰æ—¶æ‰æ‰§è¡Œpush</span></span><br><span class="line">    <span class="keyword">return</span> prev;</span><br><span class="line">&#125;,[]);</span><br><span class="line"><span class="built_in">console</span>.log(newArr);<span class="comment">//[1,2,3,4,5]</span></span><br><span class="line"></span><br><span class="line">æ–¹æ³•äºŒ</span><br><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">4</span>,<span class="number">1</span>]</span><br><span class="line"><span class="keyword">let</span> newArr = arr.reduce(<span class="function">(<span class="params">pre,cur</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!pre.includes(cur))&#123;</span><br><span class="line">      <span class="keyword">return</span> pre.concat(cur)</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">      <span class="keyword">return</span> pre</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,[])</span><br><span class="line"><span class="built_in">console</span>.log(newArr);<span class="comment">// [1, 2, 3, 4]</span></span><br></pre></td></tr></table></figure>

<p>ï¼ˆ3ï¼‰å°†äºŒç»´æ•°ç»„è½¬åŒ–ä¸ºä¸€ç»´</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [[<span class="number">0</span>, <span class="number">1</span>], [<span class="number">2</span>, <span class="number">3</span>], [<span class="number">4</span>, <span class="number">5</span>]]</span><br><span class="line"><span class="keyword">let</span> newArr = arr.reduce(<span class="function">(<span class="params">pre,cur</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> pre.concat(cur)</span><br><span class="line">&#125;,[])</span><br><span class="line"><span class="built_in">console</span>.log(newArr); <span class="comment">// [0, 1, 2, 3, 4, 5]</span></span><br></pre></td></tr></table></figure>



<p>ï¼ˆ3ï¼‰å°†å¤šç»´æ•°ç»„è½¬åŒ–ä¸ºä¸€ç»´</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [[<span class="number">0</span>, <span class="number">1</span>], [<span class="number">2</span>, <span class="number">3</span>], [<span class="number">4</span>,[<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>]]]</span><br><span class="line"><span class="keyword">const</span> newArr = <span class="function"><span class="keyword">function</span>(<span class="params">arr</span>)</span>&#123;</span><br><span class="line">   <span class="keyword">return</span> arr.reduce(<span class="function">(<span class="params">pre,cur</span>)=&gt;</span>pre.concat(<span class="built_in">Array</span>.isArray(cur)?newArr(cur):cur),[])</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(newArr(arr)); <span class="comment">//[0, 1, 2, 3, 4, 5, 6, 7]</span></span><br></pre></td></tr></table></figure>



<p>ï¼ˆ4ï¼‰å¯¹è±¡é‡Œçš„å±æ€§æ±‚å’Œ</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> result = [</span><br><span class="line">    &#123;</span><br><span class="line">        subject: <span class="string">'math'</span>,</span><br><span class="line">        score: <span class="number">10</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        subject: <span class="string">'chinese'</span>,</span><br><span class="line">        score: <span class="number">20</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        subject: <span class="string">'english'</span>,</span><br><span class="line">        score: <span class="number">30</span></span><br><span class="line">    &#125;</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> sum = result.reduce(<span class="function"><span class="keyword">function</span>(<span class="params">prev, cur</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> cur.score + prev;</span><br><span class="line">&#125;, <span class="number">0</span>);</span><br><span class="line"><span class="built_in">console</span>.log(sum) <span class="comment">//60</span></span><br></pre></td></tr></table></figure>

<p>å‚è€ƒé“¾æ¥ï¼š<a href="https://www.jianshu.com/p/e375ba1cfc47" target="_blank" rel="noopener">https://www.jianshu.com/p/e375ba1cfc47</a></p>
<p>å‚è€ƒé“¾æ¥ï¼š<a href="https://blog.csdn.net/hope93/article/details/86528183" target="_blank" rel="noopener">https://blog.csdn.net/hope93/article/details/86528183</a></p>
]]></content>
      <categories>
        <category>js</category>
      </categories>
      <tags>
        <tag>js</tag>
        <tag>reduce</tag>
        <tag>æ•°ç»„</tag>
      </tags>
  </entry>
  <entry>
    <title>jsæ•°ç»„æ–¹æ³•</title>
    <url>/2020/07/30/js%E6%95%B0%E7%BB%84%E6%96%B9%E6%B3%95/</url>
    <content><![CDATA[<h3 id="15ç§å…³äºJavaScriptçš„æ•°ç»„æ–¹æ³•"><a href="#15ç§å…³äºJavaScriptçš„æ•°ç»„æ–¹æ³•" class="headerlink" title="15ç§å…³äºJavaScriptçš„æ•°ç»„æ–¹æ³•"></a>15ç§å…³äºJavaScriptçš„æ•°ç»„æ–¹æ³•</h3><ul>
<li><p>someï¼ˆï¼‰</p>
</li>
<li><p>reduceï¼ˆï¼‰</p>
</li>
<li><p>Everyï¼ˆï¼‰</p>
</li>
<li><p>mapï¼ˆï¼‰</p>
</li>
<li><p>flatï¼ˆï¼‰</p>
</li>
<li><p>filterï¼ˆï¼‰</p>
<a id="more"></a>
</li>
<li><p>forEachï¼ˆï¼‰</p>
</li>
<li><p>findIndexï¼ˆï¼‰</p>
</li>
<li><p>indexOfï¼ˆï¼‰</p>
</li>
<li><p>findï¼ˆï¼‰</p>
</li>
<li><p>sortï¼ˆï¼‰</p>
</li>
<li><p>concatï¼ˆï¼‰</p>
</li>
<li><p>fillï¼ˆï¼‰</p>
</li>
<li><p>includesï¼ˆï¼‰</p>
</li>
<li><p>reverseï¼ˆï¼‰</p>
</li>
<li><p>flatMapï¼ˆï¼‰</p>
</li>
</ul>
<p>æ³¨æ„ï¼Œå¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å°†ç®€åŒ–ä½œä¸ºå‚æ•°ä¼ é€’çš„å‡½æ•°ã€‚</p>
<p>// Instead of using this waymyAwesomeArray.some(test =&gt; {  if (test === â€œdâ€) {    return test  }})</p>
<p>// Weâ€™ll use the shorter onemyAwesomeArray.some(test =&gt; test === â€œdâ€)</p>
<p>1ã€some()</p>
<p>æ­¤æ–¹æ³•ä¸ºå‚æ•°ä¼ é€’çš„å‡½æ•°æµ‹è¯•æ•°ç»„ã€‚å¦‚æœæœ‰ä¸€ä¸ªå…ƒç´ ä¸æµ‹è¯•å…ƒç´ åŒ¹é…ï¼Œåˆ™è¿”å›trueï¼Œå¦åˆ™è¿”å›falseã€‚</p>
<p>è¯‘è€…æ³¨ï¼š some() ä¸ä¼šå¯¹ç©ºæ•°ç»„è¿›è¡Œæ£€æµ‹ï¼›some() ä¸ä¼šæ”¹å˜åŸå§‹æ•°ç»„ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const myAwesomeArray &#x3D; [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;]</span><br><span class="line"></span><br><span class="line">myAwesomeArray.some(test &#x3D;&gt; test &#x3D;&#x3D;&#x3D; &quot;d&quot;)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;-------&gt; Output : true</span><br></pre></td></tr></table></figure>



<p>2ã€reduceï¼ˆï¼‰</p>
<p>æ­¤æ–¹æ³•æ¥æ”¶ä¸€ä¸ªå‡½æ•°ä½œä¸ºç´¯åŠ å™¨ã€‚å®ƒä¸ºæ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ ä¾æ¬¡æ‰§è¡Œå›è°ƒå‡½æ•°ï¼Œä¸åŒ…æ‹¬æ•°ç»„ä¸­è¢«åˆ é™¤æˆ–è€…ä»æœªè¢«èµ‹å€¼çš„å…ƒç´ ã€‚å‡½æ•°åº”ç”¨äºç´¯åŠ å™¨ï¼Œæ•°ç»„ä¸­çš„æ¯ä¸ªå€¼æœ€ååªè¿”å›ä¸€ä¸ªå€¼ã€‚</p>
<p>è¯‘è€…æ³¨ï¼šreduce() æ–¹æ³•æ¥å—å››ä¸ªå‚æ•°ï¼šåˆå§‹å€¼ï¼ˆä¸Šä¸€æ¬¡å›è°ƒçš„è¿”å›å€¼ï¼‰ï¼Œå½“å‰å…ƒç´ å€¼ï¼Œå½“å‰ç´¢å¼•ï¼ŒåŸæ•°ç»„ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const myAwesomeArray &#x3D; [1, 2, 3, 4, 5]</span><br><span class="line"></span><br><span class="line">myAwesomeArray.reduce((total, value) &#x3D;&gt; total * value)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 1 * 2 * 3 * 4 * 5</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;-------&gt; Output &#x3D; 120</span><br></pre></td></tr></table></figure>



<p>3ã€Everyï¼ˆï¼‰</p>
<p>æ­¤æ–¹æ³•æ˜¯å¯¹æ•°ç»„ä¸­æ¯é¡¹è¿è¡Œç»™å®šå‡½æ•°ï¼Œå¦‚æœæ•°ç»„çš„æ¯ä¸ªå…ƒç´ éƒ½ä¸æµ‹è¯•åŒ¹é…ï¼Œåˆ™è¿”å›trueï¼Œåä¹‹åˆ™è¿”å›falseã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const myAwesomeArray &#x3D; [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;]</span><br><span class="line"></span><br><span class="line">myAwesomeArray.every(test &#x3D;&gt; test &#x3D;&#x3D;&#x3D; &quot;d&quot;)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; -------&gt; Output : false</span><br><span class="line"></span><br><span class="line">const myAwesomeArray2 &#x3D; [&quot;a&quot;, &quot;a&quot;, &quot;a&quot;, &quot;a&quot;, &quot;a&quot;]</span><br><span class="line"></span><br><span class="line">myAwesomeArray2.every(test &#x3D;&gt; test &#x3D;&#x3D;&#x3D; &quot;a&quot;)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;-------&gt; Output : true</span><br></pre></td></tr></table></figure>



<p>4ã€mapï¼ˆï¼‰</p>
<p>è¯¥æ–¹æ³•è¿”å›ä¸€ä¸ªæ–°æ•°ç»„ï¼Œæ•°ç»„ä¸­çš„å…ƒç´ ä¸ºåŸå§‹æ•°ç»„å…ƒç´ è°ƒç”¨å‡½æ•°å¤„ç†åçš„å€¼ã€‚å®ƒæŒ‰ç…§åŸå§‹æ•°ç»„å…ƒç´ é¡ºåºä¾æ¬¡å¤„ç†å…ƒç´ ã€‚</p>
<p>è¯‘è€…æ³¨ï¼šmap() ä¸ä¼šå¯¹ç©ºæ•°ç»„è¿›è¡Œæ£€æµ‹ï¼›map() ä¸ä¼šæ”¹å˜åŸå§‹æ•°ç»„ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const myAwesomeArray &#x3D; [5, 4, 3, 2, 1]</span><br><span class="line"></span><br><span class="line">myAwesomeArray.map(x &#x3D;&gt; x * x)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;--&gt; Output : 25                  </span><br><span class="line"></span><br><span class="line">             16                  </span><br><span class="line"></span><br><span class="line">             9                  </span><br><span class="line"></span><br><span class="line">             4                  </span><br><span class="line"></span><br><span class="line">             1</span><br><span class="line"></span><br><span class="line">let selected_values &#x3D; [ &#39;1&#39;, &#39;5&#39;, &#39;8&#39; ]</span><br><span class="line"></span><br><span class="line">selected_values &#x3D; selected_values.map(Number) &#x2F;&#x2F; [ 1, 5, 8 ]</span><br><span class="line"></span><br><span class="line">selected_values &#x3D; selected_values.map(Boolean) &#x2F;&#x2F;[true, true, true]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;åœ¨æ•°ç»„ä¸­åˆ é™¤æŸä¸ªå¯¹è±¡é‡Œçš„æŸä¸ªå±æ€§å€¼</span><br><span class="line">å¦‚ list &#x3D; [</span><br><span class="line">    &#123;</span><br><span class="line">        China:&#123;name:â€˜å¼ ä¸‰â€™,age:â€˜10â€™&#125;,</span><br><span class="line">        English:&#123;name:â€˜Tonyâ€™,age:â€˜20â€™&#125;,</span><br><span class="line">        Spanish:&#123;name:â€˜Someoneâ€™,age:â€˜12â€™&#125;</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br><span class="line">list.map(item&#x3D;&gt;&#123;</span><br><span class="line">	delete item.English</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>



<p>(é™¤äº†å°†æ‰€æœ‰å€¼éƒ½å¼ºåˆ¶è½¬æ¢ä¸ºæ•´æ•°ï¼Œè¿˜å¯ä»¥é€šè¿‡ç®€å•åœ°æ›´æ”¹mapå‡½æ•°çš„å‚æ•°å°†æ•°ç»„ä¸­çš„æ‰€æœ‰å€¼å¼ºåˆ¶è½¬æ¢ä¸ºå¸ƒå°”å€¼ã€‚)</p>
<p>5ã€flatï¼ˆï¼‰</p>
<p>æ­¤æ–¹æ³•åˆ›å»ºä¸€ä¸ªæ–°æ•°ç»„ï¼Œå…¶ä¸­åŒ…å«å­æ•°ç»„ä¸Šçš„holdenå…ƒç´ ï¼Œå¹¶å°†å…¶å¹³æ•´åˆ°æ–°æ•°ç»„ä¸­ã€‚è¯·æ³¨æ„ï¼Œæ­¤æ–¹æ³•åªèƒ½è¿›è¡Œä¸€ä¸ªçº§åˆ«çš„æ·±åº¦ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const myAwesomeArray &#x3D; [[1, 2], [3, 4], 5]</span><br><span class="line"></span><br><span class="line">myAwesomeArray.flat()</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;-------&gt; Output : [1, 2, 3, 4, 5]</span><br><span class="line"></span><br><span class="line">const myAwesomeArray &#x3D; [[1, 2], [3, 4], 5,[7,[9,10]]]</span><br><span class="line">myAwesomeArray.flat(Infinity)</span><br><span class="line">&#x2F;&#x2F;æ— é™å†…å¾ªç¯</span><br><span class="line">&#x2F;&#x2F;-------&gt; Output : [1, 2, 3, 4, 5]</span><br></pre></td></tr></table></figure>



<p>6ã€filterï¼ˆï¼‰</p>
<p>è¯¥æ–¹æ³•æ¥æ”¶ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ã€‚å¹¶è¿”å›ä¸€ä¸ªæ–°æ•°ç»„ï¼Œè¯¥æ•°ç»„åŒ…å«è¯¥æ•°ç»„çš„æ‰€æœ‰å…ƒç´ ï¼Œä½œä¸ºå‚æ•°ä¼ é€’çš„è¿‡æ»¤å‡½æ•°å¯¹å…¶è¿”å›trueã€‚</p>
<p>è¯‘è€…æ³¨ï¼šfilterï¼ˆï¼‰æ–¹æ³•æ˜¯å¯¹æ•°æ®ä¸­çš„å…ƒç´ è¿›è¡Œè¿‡æ»¤ï¼Œä¹Ÿå°±æ˜¯è¯´æ˜¯ä¸èƒ½ä¿®æ”¹åŸæ•°ç»„ä¸­çš„æ•°æ®ï¼Œåªèƒ½è¯»å–åŸæ•°ç»„ä¸­çš„æ•°æ®ï¼Œcallbackéœ€è¦è¿”å›å¸ƒå°”å€¼ï¼›ä¸ºtrueçš„æ—¶å€™ï¼Œå¯¹åº”çš„å…ƒç´ ç•™ä¸‹æ¥ï¼›ä¸ºfalseçš„æ—¶å€™ï¼Œå¯¹åº”çš„å…ƒç´ è¿‡æ»¤æ‰ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const myAwesomeArray &#x3D; [  &#123; id: 1, name: &quot;john&quot; &#125;,  &#123; id: 2, name: &quot;Ali&quot; &#125;,  &#123; id: 3, name: &quot;Mass&quot; &#125;,  &#123; id: 4, name: &quot;Mass&quot; &#125;,]</span><br><span class="line"></span><br><span class="line">myAwesomeArray.filter(element &#x3D;&gt; element.name &#x3D;&#x3D;&#x3D; &quot;Mass&quot;)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;-------&gt; Output : 0:&#123;id: 3, name: &quot;Mass&quot;&#125;,</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;                   1:&#123;id: 4, name: &quot;Mass&quot;&#125;</span><br></pre></td></tr></table></figure>



<p>7ã€forEachï¼ˆï¼‰</p>
<p>æ­¤æ–¹æ³•ç”¨äºè°ƒç”¨æ•°ç»„çš„æ¯ä¸ªå…ƒç´ ã€‚å¹¶å°†å…ƒç´ ä¼ é€’ç»™å›è°ƒå‡½æ•°ã€‚</p>
<p>è¯‘è€…æ³¨: forEach() å¯¹äºç©ºæ•°ç»„æ˜¯ä¸ä¼šæ‰§è¡Œå›è°ƒå‡½æ•°çš„ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const myAwesomeArray &#x3D; [  &#123; id: 1, name: &quot;john&quot; &#125;,  &#123; id: 2, name: &quot;Ali&quot; &#125;,  &#123; id: 3, name: &quot;Mass&quot; &#125;,]</span><br><span class="line"></span><br><span class="line">myAwesomeArray.forEach(element &#x3D;&gt; console.log(element.name))</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;-------&gt; Output : john                  </span><br><span class="line"></span><br><span class="line">                     Ali                  </span><br><span class="line">                     Mass</span><br></pre></td></tr></table></figure>



<p>8ã€ findIndexï¼ˆï¼‰</p>
<p>æ­¤æ–¹æ³•è¿”å›ä¼ å…¥ä¸€ä¸ªæµ‹è¯•æ¡ä»¶ï¼ˆå‡½æ•°ï¼‰ç¬¦åˆæ¡ä»¶çš„æ•°ç»„ç¬¬ä¸€ä¸ªå…ƒç´ ä½ç½®ã€‚å®ƒä¸ºæ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½è°ƒç”¨ä¸€æ¬¡å‡½æ•°æ‰§è¡Œï¼Œå½“æ•°ç»„ä¸­çš„å…ƒç´ åœ¨æµ‹è¯•æ¡ä»¶æ—¶è¿”å› true æ—¶, findIndex() è¿”å›ç¬¦åˆæ¡ä»¶çš„å…ƒç´ çš„ç´¢å¼•ä½ç½®ï¼Œä¹‹åçš„å€¼ä¸ä¼šå†è°ƒç”¨æ‰§è¡Œå‡½æ•°ã€‚å¦‚æœæ²¡æœ‰ç¬¦åˆæ¡ä»¶çš„å…ƒç´ è¿”å› -1</p>
<p>è¯‘è€…æ³¨ï¼šfindIndex() å¯¹äºç©ºæ•°ç»„ï¼Œå‡½æ•°æ˜¯ä¸ä¼šæ‰§è¡Œçš„ï¼Œ findIndex() å¹¶æ²¡æœ‰æ”¹å˜æ•°ç»„çš„åŸå§‹å€¼ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const myAwesomeArray &#x3D; [  &#123; id: 1, name: &quot;john&quot; &#125;,  &#123; id: 2, name: &quot;Ali&quot; &#125;,  &#123; id: 3, name: &quot;Mass&quot; &#125;,]</span><br><span class="line"></span><br><span class="line">myAwesomeArray.findIndex(element &#x3D;&gt; element.id &#x3D;&#x3D;&#x3D; 3)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; -------&gt; Output : 2</span><br><span class="line"></span><br><span class="line">myAwesomeArray.findIndex(element &#x3D;&gt; element.id &#x3D;&#x3D;&#x3D; 7)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;-------&gt; Output : -1</span><br></pre></td></tr></table></figure>



<p>9ã€ findï¼ˆï¼‰</p>
<p>æ­¤æ–¹æ³•è¿”å›é€šè¿‡æµ‹è¯•ï¼ˆå‡½æ•°å†…åˆ¤æ–­ï¼‰çš„æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ çš„å€¼ã€‚find() æ–¹æ³•ä¸ºæ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½è°ƒç”¨ä¸€æ¬¡å‡½æ•°æ‰§è¡Œï¼šå½“æ•°ç»„ä¸­çš„å…ƒç´ åœ¨æµ‹è¯•æ¡ä»¶æ—¶å› true æ—¶, find() è¿”å›ç¬¦åˆæ¡ä»¶çš„å…ƒç´ ï¼Œä¹‹åçš„å€¼ä¸ä¼šå†è°ƒç”¨æ‰§è¡Œå‡½æ•°ã€‚å¦‚æœæ²¡æœ‰ç¬¦åˆæ¡ä»¶çš„å…ƒç´ è¿”å› undefinedã€‚</p>
<p>è¯‘è€…æ³¨: find() å¯¹äºç©ºæ•°ç»„ï¼Œå‡½æ•°æ˜¯ä¸ä¼šæ‰§è¡Œçš„ï¼›find() å¹¶æ²¡æœ‰æ”¹å˜æ•°ç»„çš„åŸå§‹å€¼ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const myAwesomeArray &#x3D; [  &#123; id: 1, name: &quot;john&quot; &#125;,  &#123; id: 2, name: &quot;Ali&quot; &#125;,  &#123; id: 3, name: &quot;Mass&quot; &#125;,] </span><br><span class="line"></span><br><span class="line">myAwesomeArray.find(element &#x3D;&gt; element.id &#x3D;&#x3D;&#x3D; 3) </span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; -------&gt; Output : &#123;id: 3, name: &quot;Mass&quot;&#125; </span><br><span class="line"></span><br><span class="line">myAwesomeArray.find(element &#x3D;&gt; element.id &#x3D;&#x3D;&#x3D; 7) </span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;-------&gt; Output : undefined</span><br></pre></td></tr></table></figure>



<p>10ã€ sortï¼ˆï¼‰</p>
<p>æ­¤æ–¹æ³•æ¥æ”¶ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ã€‚å®ƒå¯¹æ•°ç»„çš„å…ƒç´ è¿›è¡Œæ’åºå¹¶è¿”å›å®ƒã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨å«æœ‰å‚æ•°çš„sort()æ–¹æ³•è¿›è¡Œæ’åºã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const myAwesomeArray &#x3D; [5, 4, 3, 2, 1]</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; Sort from smallest to largest</span><br><span class="line"></span><br><span class="line">myAwesomeArray.sort((a, b) &#x3D;&gt; a - b)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;  -------&gt; Output : [1, 2, 3, 4, 5]</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;Sort from largest to smallest</span><br><span class="line"></span><br><span class="line">myAwesomeArray.sort((a, b) &#x3D;&gt; b - a)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;-------&gt; Output : [5, 4, 3, 2, 1]</span><br></pre></td></tr></table></figure>



<p>11ã€ concatï¼ˆï¼‰</p>
<p>æ­¤æ–¹æ³•ç”¨äºè¿æ¥ä¸¤ä¸ªæˆ–å¤šä¸ªæ•°ç»„/å€¼ï¼Œå®ƒä¸ä¼šæ”¹å˜ç°æœ‰çš„æ•°ç»„ã€‚è€Œä»…ä»…è¿”å›è¢«è¿æ¥æ•°ç»„çš„ä¸€ä¸ªæ–°æ•°ç»„ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const myAwesomeArray &#x3D; [1, 2, 3, 4, 5]</span><br><span class="line"></span><br><span class="line">const myAwesomeArray2 &#x3D; [10, 20, 30, 40, 50]</span><br><span class="line"></span><br><span class="line">myAwesomeArray.concat(myAwesomeArray2)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;-------&gt; Output : [1, 2, 3, 4, 5, 10, 20, 30, 40, 50]</span><br></pre></td></tr></table></figure>



<p>12ã€ fillï¼ˆï¼‰</p>
<p>æ­¤æ–¹æ³•çš„ä½œç”¨æ˜¯ä½¿ç”¨ä¸€ä¸ªå›ºå®šå€¼æ¥æ›¿æ¢æ•°ç»„ä¸­çš„å…ƒç´ ã€‚è¯¥å›ºå®šå€¼å¯ä»¥æ˜¯å­—æ¯ã€æ•°å­—ã€å­—ç¬¦ä¸²ã€æ•°ç»„ç­‰ç­‰ã€‚å®ƒè¿˜æœ‰ä¸¤ä¸ªå¯é€‰å‚æ•°ï¼Œè¡¨ç¤ºå¡«å……èµ·æ¥çš„å¼€å§‹ä½ç½®ï¼ˆé»˜è®¤ä¸º0ï¼‰ä¸ç»“æŸä½ç½®ï¼ˆé»˜è®¤ä¸ºarray.lengthï¼‰ã€‚</p>
<p>è¯‘è€…æ³¨ï¼šfill() æ–¹æ³•ç”¨äºå°†ä¸€ä¸ªå›ºå®šå€¼æ›¿æ¢æ•°ç»„çš„å…ƒç´ ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const myAwesomeArray &#x3D; [1, 2, 3, 4, 5]</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; The first argument (0) is the value</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; he second argument (1) is the starting index</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; The third argument (3) is the ending index</span><br><span class="line"></span><br><span class="line">myAwesomeArray.fill(0, 1, 3)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;-------&gt; Output : [1, 0, 0, 4, 5]</span><br></pre></td></tr></table></figure>



<p>13ã€ includesï¼ˆï¼‰</p>
<p>æ­¤æ–¹æ³•ç”¨äºåˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦åŒ…å«æŒ‡å®šçš„å­å­—ç¬¦ä¸²ã€‚å¦‚æœæ‰¾åˆ°åŒ¹é…çš„å­—ç¬¦ä¸²åˆ™è¿”å› trueï¼Œå¦åˆ™è¿”å› falseã€‚</p>
<p>è¯‘è€…æ³¨ï¼šincludes() æ–¹æ³•åŒºåˆ†å¤§å°å†™ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const myAwesomeArray &#x3D; [1, 2, 3, 4, 5]</span><br><span class="line"></span><br><span class="line">myAwesomeArray.includes(3)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; -------&gt; Output : true</span><br><span class="line"></span><br><span class="line">myAwesomeArray.includes(8)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; -------&gt; Output : false</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">function test(fruit) &#123;</span><br><span class="line">  &#x2F;&#x2F; æ¡ä»¶æå–åˆ°æ•°ç»„ä¸­</span><br><span class="line">  const redFruits &#x3D; [&#39;apple&#39;, &#39;strawberry&#39;, &#39;cherry&#39;, &#39;cranberries&#39;];</span><br><span class="line"></span><br><span class="line">  if (redFruits.includes(fruit)) &#123;</span><br><span class="line">    console.log(&#39;red&#39;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>14ã€ reverseï¼ˆï¼‰</p>
<p>æ­¤æ–¹æ³•ç”¨äºé¢ å€’æ•°ç»„ä¸­å…ƒç´ çš„é¡ºåºã€‚ç¬¬ä¸€ä¸ªå…ƒç´ æˆä¸ºæœ€åä¸€ä¸ªï¼Œæœ€åä¸€ä¸ªå…ƒç´ å°†æˆä¸ºç¬¬ä¸€ä¸ªã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const myAwesomeArray &#x3D; [&quot;e&quot;, &quot;d&quot;, &quot;c&quot;, &quot;b&quot;, &quot;a&quot;]</span><br><span class="line"></span><br><span class="line">myAwesomeArray.reverse()</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; -------&gt; Output : [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39;]</span><br></pre></td></tr></table></figure>



<p>15ã€ flatMapï¼ˆï¼‰</p>
<p>è¯¥æ–¹æ³•å°†å‡½æ•°åº”ç”¨äºæ•°ç»„çš„æ¯ä¸ªå…ƒç´ ï¼Œç„¶åå°†ç»“æœå‹ç¼©ä¸ºä¸€ä¸ªæ–°æ•°ç»„ã€‚å®ƒåœ¨ä¸€ä¸ªå‡½æ•°ä¸­ç»“åˆäº†flatï¼ˆï¼‰å’Œmapï¼ˆï¼‰ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const myAwesomeArray &#x3D; [[1], [2], [3], [4], [5]]</span><br><span class="line"></span><br><span class="line">myAwesomeArray.flatMap(arr &#x3D;&gt; arr * 10)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;-------&gt; Output : [10, 20, 30, 40, 50]</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;With .flat() and .map()</span><br><span class="line"></span><br><span class="line">myAwesomeArray.flat().map(arr &#x3D;&gt; arr * 10)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;-------&gt; Output : [10, 20, 30, 40, 50]</span><br></pre></td></tr></table></figure>



<p>16ã€ indexOfï¼ˆï¼‰()</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var fruits &#x3D; [&quot;Banana&quot;, &quot;Orange&quot;, &quot;Apple&quot;, &quot;Mango&quot;];</span><br><span class="line">var a &#x3D; fruits.indexOf(&quot;Apple&quot;);</span><br><span class="line">ç»“æœè¾“å‡ºï¼š</span><br><span class="line">2</span><br><span class="line"></span><br><span class="line">æ³¨æ„ï¼š</span><br><span class="line">indexOfæ˜¯ä¼ å…¥ä¸€ä¸ªå€¼.æ‰¾åˆ°äº†è¿”å›ç´¢å¼•,æ²¡æœ‰æ‰¾åˆ°è¿”å›-1</span><br><span class="line">findIndexæ˜¯ä¼ å…¥ä¸€ä¸ªæµ‹è¯•æ¡ä»¶,ä¹Ÿå°±æ˜¯å‡½æ•°,æ‰¾åˆ°äº†è¿”å›ç´¢å¼•,æ²¡æœ‰æ‰¾åˆ°è¿”å›-1.</span><br></pre></td></tr></table></figure>



<p>å®ä¾‹</p>
<p>è¿­ä»£ä¸€ä¸ªç©ºæ•°ç»„</p>
<p>JavaScript ä¸­ç›´æ¥åˆ›å»ºçš„æ•°ç»„æ˜¯æ¾æ•£çš„ï¼Œä»¥è‡³äºä¼šæœ‰å¾ˆå¤šå‘ã€‚è¯•ç€ç”¨æ•°ç»„çš„æ„é€ æ–¹æ³•åˆ›å»ºä¸€ä¸ªæ•°ç»„ï¼Œä½ å°±ä¼šç¬é—´æ˜ç™½äº†ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const arr &#x3D; new Array(4);[undefined, undefined, undefined, undefined]&#x2F;&#x2F; è°·æ­Œæµè§ˆå™¨ä¸­æ˜¯ [empty x 4]</span><br></pre></td></tr></table></figure>

<p>ä½ ä¼šå‘ç°ï¼Œé€šè¿‡ä¸€ä¸ªæ¾æ•£çš„æ•°ç»„å»å¾ªç¯è°ƒç”¨ä¸€äº›è½¬æ¢æ˜¯éå¸¸éš¾çš„ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const arr &#x3D; new Array(4);arr.map((elem, index) &#x3D;&gt; index);[undefined, undefined, undefined, undefined]</span><br></pre></td></tr></table></figure>

<p>æƒ³è¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä½ å¯ä»¥ä½¿ç”¨åœ¨åˆ›å»ºæ–°æ•°ç»„çš„æ—¶å€™ä½¿ç”¨ <em>Array.apply</em>ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const arr &#x3D; Array.apply(null, new Array(4));arr.map((elem, index) &#x3D;&gt; index);[0, 1, 2, 3]</span><br></pre></td></tr></table></figure>



<p>Javascriptå¤šç»´æ•°ç»„æ‰å¹³åŒ–</p>
<p>ä¸‹é¢æ˜¯å°†å¤šä½æ•°ç»„è½¬åŒ–ä¸ºå•ä¸€æ•°ç»„çš„ä¸‰ç§ä¸åŒæ–¹æ³•ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var arr &#x3D; [[1, 2],[3, 4, 5], [6, 7, 8, 9]];</span><br></pre></td></tr></table></figure>

<p>æœŸæœ›ç»“æœï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[1, 2, 3, 4, 5, 6, 7, 8, 9]</span><br></pre></td></tr></table></figure>

<p>è§£å†³æ–¹æ¡ˆ1ï¼šä½¿ç”¨concat()å’Œapply()</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var newArr &#x3D; [].concat.apply([], arr);&#x2F;&#x2F; [1, 2, 3, 4, 5, 6, 7, 8, 9]</span><br></pre></td></tr></table></figure>

<p>è§£å†³æ–¹æ¡ˆ2ï¼šä½¿ç”¨reduce()</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var newArr &#x3D; arr.reduce(function(prev, curr) &#123;  return prev.concat(curr);&#125;);&#x2F;&#x2F; [1, 2, 3, 4, 5, 6, 7, 8, 9]</span><br></pre></td></tr></table></figure>

<p>è§£å†³æ–¹æ¡ˆ3ï¼šä½¿ç”¨ ES6 çš„å±•å¼€è¿ç®—ç¬¦</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var newArr &#x3D; [].concat(...arr);console.log(newArr);&#x2F;&#x2F; [1, 2, 3, 4, 5, 6, 7, 8, 9]</span><br></pre></td></tr></table></figure>

<p>è§£å†³æ–¹æ¡ˆ4ï¼šä½¿ç”¨Array.proptotype.flat</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var newArr &#x3D; arr.flat()</span><br></pre></td></tr></table></figure>



<h2 id="2-ç»™æ–¹æ³•ä¼ ä¸€ä¸ªç©ºå‚æ•°"><a href="#2-ç»™æ–¹æ³•ä¼ ä¸€ä¸ªç©ºå‚æ•°" class="headerlink" title="2. ç»™æ–¹æ³•ä¼ ä¸€ä¸ªç©ºå‚æ•°"></a>2. ç»™æ–¹æ³•ä¼ ä¸€ä¸ªç©ºå‚æ•°</h2><p>å¦‚æœä½ æƒ³è°ƒç”¨ä¸€ä¸ªæ–¹æ³•ï¼Œå¹¶ä¸å¡«å…¶ä¸­çš„ä¸€ä¸ªå‚æ•°æ—¶ï¼ŒJavaScript å°±ä¼šæŠ¥é”™ã€‚</p>
<ul>
<li><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">method(&#39;parameter1&#39;, , &#39;parameter3&#39;); &#x2F;&#x2F; Uncaught SyntaxError: Unexpected token ,</span><br></pre></td></tr></table></figure>

</li>
</ul>
<p>ä¸€ä¸ªæˆ‘ä»¬å¸¸ç”¨çš„è§£å†³æ–¹æ³•æ˜¯ä¼ é€’ null æˆ– undefinedã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">method(&#39;parameter1&#39;, null, &#39;parameter3&#39;) &#x2F;&#x2F; or</span><br><span class="line">method(&#39;parameter1&#39;, undefined, &#39;parameter3&#39;);</span><br></pre></td></tr></table></figure>

<p>æ ¹æ® ES6 ä¸­å¯¹æ‰©å±•è¿ç®—ç¬¦çš„ä»‹ç»ï¼Œæœ‰ä¸€ä¸ªæ›´ç®€æ´çš„æ–¹æ³•å¯ä»¥å°†ç©ºå‚æ•°ä¼ é€’ç»™ä¸€ä¸ªæ–¹æ³•ã€‚æ­£å¦‚ä¸Šé¢æ‰€æåˆ°çš„ï¼Œæ•°ç»„æ˜¯æ¾æ•£çš„ï¼Œæ‰€ä»¥ç»™å®ƒä¼ ç©ºå€¼æ˜¯å¯ä»¥çš„ï¼Œæˆ‘ä»¬æ­£æ˜¯ç”¨åˆ°äº†è¿™ä¸ªä¼˜ç‚¹ã€‚</p>
<ul>
<li><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">method(...[&#39;parameter1&#39;, , &#39;parameter3&#39;]); &#x2F;&#x2F; ä»£ç æ‰§è¡Œäº†...</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h2 id="3-æ•°ç»„å»é‡"><a href="#3-æ•°ç»„å»é‡" class="headerlink" title="3. æ•°ç»„å»é‡"></a>3. æ•°ç»„å»é‡</h2><p>æˆ‘ä¸€ç›´ä¸æ˜ç™½ä¸ºä»€ä¹ˆæ•°ç»„ä¸æä¾›ä¸€ä¸ªå†…ç½®å‡½æ•°å¯ä»¥è®©æˆ‘ä»¬æ–¹ä¾¿çš„å–åˆ°å»é‡ä»¥åçš„å€¼ã€‚æ‰©å±•è¿ç®—ç¬¦å¸®åˆ°äº†æˆ‘ä»¬ï¼Œä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦é…åˆ Setå¯ä»¥ç”Ÿæˆä¸€ä¸ªä¸é‡å¤çš„æ•°ç»„ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const arr &#x3D; [...new Set([1, 2, 3, 3])];&#x2F;&#x2F; [1, 2, 3]</span><br></pre></td></tr></table></figure>





<p>åˆ¤æ–­ä¸€ä¸ªæ•°ç»„ä¸­æ˜¯å¦æœ‰ç›¸åŒçš„</p>
<p>1ï¼Œæ™®é€šæ•°ç»„</p>
<p><img src="/2020/07/30/js%E6%95%B0%E7%BB%84%E6%96%B9%E6%B3%95/Users/admin/AppData/Local/YNote/data/weixinobU7VjrjuSqZnu6-xPbfCXnjhBIM/e9dd2688ece34b1ba81d391336c5e0a1/db3151266e069a56a9ba36f665d74f8.png" alt="img"></p>
<p>å¯¹è±¡æ•°ç»„</p>
<p><img src="/2020/07/30/js%E6%95%B0%E7%BB%84%E6%96%B9%E6%B3%95/Users/admin/AppData/Local/YNote/data/weixinobU7VjrjuSqZnu6-xPbfCXnjhBIM/136023e12af0401f9b684274c3bbc546/clipboard.png" alt="img"></p>
<p>å»é‡æ–¹æ³•</p>
<p>æ™®é€šæ•°ç»„</p>
<p><img src="/2020/07/30/js%E6%95%B0%E7%BB%84%E6%96%B9%E6%B3%95/Users/admin/AppData/Local/YNote/data/weixinobU7VjrjuSqZnu6-xPbfCXnjhBIM/20373a06171a4ac7bcfe9ea9f0852ba1/clipboard.png" alt="img"></p>
<p>å¯¹è±¡æ•°ç»„</p>
<p><img src="/2020/07/30/js%E6%95%B0%E7%BB%84%E6%96%B9%E6%B3%95/Users/admin/AppData/Local/YNote/data/weixinobU7VjrjuSqZnu6-xPbfCXnjhBIM/e50bd5cace6a4f0c9543035efd8a0a1e/clipboard.png" alt="img"></p>
<p>ä¸¾ä¾‹</p>
<p><img src="/2020/07/30/js%E6%95%B0%E7%BB%84%E6%96%B9%E6%B3%95/Users/admin/AppData/Local/YNote/data/weixinobU7VjrjuSqZnu6-xPbfCXnjhBIM/c5aa3be1f55f4308a73d94fedf91ec0b/7a5080667b91dd81a3e75ad1c0ff8dc.png" alt="img"></p>
<p>äºŒç»´æ•°ç»„æ–¹æ³•</p>
<p><img src="/2020/07/30/js%E6%95%B0%E7%BB%84%E6%96%B9%E6%B3%95/Users/admin/AppData/Local/YNote/data/weixinobU7VjrjuSqZnu6-xPbfCXnjhBIM/9a4d248972f74ac184f5ee7787a651d7/5e1f34890adcd7abba1b3fc9c0f0503.jpg" alt="img"></p>
<p>var arr=[[1,2,3,4],[5,6,7,8],[â€˜Aâ€™,â€™Bâ€™,â€™Câ€™,â€™Dâ€™]]</p>
<p>console.log(arr[0].map((n,i)=&gt;arr.reduce((t,c)=&gt;t.concat(c[i]),[])))</p>
<p>äºŒç»´æ•°ç»„ç¿»è½¬</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">ç¿»è½¬äºŒç»´æ•°ç»„</span><br><span class="line"><span class="keyword">var</span> rotate = <span class="function"><span class="keyword">function</span>(<span class="params">matrix</span>) </span>&#123;</span><br><span class="line">     <span class="comment">//é€†æ—¶é’ˆæ—‹è½¬ 90 åº¦</span></span><br><span class="line">    <span class="comment">//åˆ— = è¡Œ</span></span><br><span class="line">    <span class="comment">//è¡Œ = n - 1 - åˆ—(j);  nè¡¨ç¤ºæ€»è¡Œæ•°</span></span><br><span class="line">    <span class="keyword">var</span> temp = [];</span><br><span class="line">    <span class="keyword">var</span> len = matrix.length;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; len; i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> j = <span class="number">0</span>; j &lt; len; j++)&#123;</span><br><span class="line">            <span class="keyword">var</span> k = len - <span class="number">1</span> -j;</span><br><span class="line">            <span class="keyword">if</span>(!temp[k])&#123;</span><br><span class="line">                temp[k] = [];</span><br><span class="line">            &#125;</span><br><span class="line">            temp[k][i] = matrix[i][j];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">   <span class="keyword">return</span> temp;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> rotate180 = <span class="function"><span class="keyword">function</span>(<span class="params">matrix</span>) </span>&#123;</span><br><span class="line">     <span class="comment">//é€†æ—¶é’ˆæ—‹è½¬ 180 åº¦</span></span><br><span class="line">    <span class="comment">//è¡Œ = h - 1 - è¡Œ(i);  hè¡¨ç¤ºæ€»è¡Œæ•°</span></span><br><span class="line">    <span class="comment">//åˆ— = n - 1 - åˆ—(j);  nè¡¨ç¤ºæ€»åˆ—æ•°</span></span><br><span class="line">    <span class="keyword">var</span> temp = [];</span><br><span class="line">    <span class="keyword">var</span> len = matrix.length;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; len; i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> j = <span class="number">0</span>; j &lt; len; j++)&#123;</span><br><span class="line">            <span class="keyword">var</span> k = len - <span class="number">1</span> - i;</span><br><span class="line">            <span class="keyword">if</span>(!temp[k])&#123;</span><br><span class="line">                temp[k] = [];</span><br><span class="line">            &#125;</span><br><span class="line">            temp[k][len<span class="number">-1</span>-j] = matrix[i][j];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">   <span class="keyword">return</span> temp;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> rotate270 = <span class="function"><span class="keyword">function</span>(<span class="params">matrix</span>) </span>&#123;</span><br><span class="line">     <span class="comment">//é€†æ—¶é’ˆæ—‹è½¬ 270 åº¦</span></span><br><span class="line">    <span class="comment">//è¡Œ = åˆ—</span></span><br><span class="line">    <span class="comment">//åˆ— = n - 1 - è¡Œ(i);  nè¡¨ç¤ºæ€»åˆ—æ•°</span></span><br><span class="line">    <span class="keyword">var</span> temp = [];</span><br><span class="line">    <span class="keyword">var</span> len = matrix.length;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; len; i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> j = <span class="number">0</span>; j &lt; len; j++)&#123;</span><br><span class="line">            <span class="keyword">var</span> k = len - <span class="number">1</span> - i;</span><br><span class="line">            <span class="keyword">if</span>(!temp[j])&#123;</span><br><span class="line">                temp[j] = [];</span><br><span class="line">            &#125;</span><br><span class="line">            temp[j][k] = matrix[i][j];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">   <span class="keyword">return</span> temp;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>js</category>
      </categories>
      <tags>
        <tag>js</tag>
        <tag>æ•°ç»„</tag>
      </tags>
  </entry>
  <entry>
    <title>jsæ•°ç»„æ–¹æ³•ä¹‹sort</title>
    <url>/2020/09/30/js%E6%95%B0%E7%BB%84%E6%96%B9%E6%B3%95%E4%B9%8Bsort/</url>
    <content><![CDATA[<p><strong>æ€»ä¹‹ï¼šreturn -1 å’Œreturn b-aæ˜¯é™åº</strong></p>
<p><strong>æ€»ä¹‹ï¼šreturn 1 å’Œreturn a-bæ˜¯å‡åº</strong></p>
<p><strong><code>sort()</code></strong> æ–¹æ³•ç”¨äºå¯¹æ•°ç»„çš„å…ƒç´ è¿›è¡Œæ’åº,å¹¶è¿”å›æ•°ç»„ã€‚é»˜è®¤æ’åºé¡ºåºæ˜¯æ ¹æ®å­—ç¬¦ä¸²<strong><code>Unicode</code></strong>ç ç‚¹ã€‚<br>è¯­æ³•ï¼šarrayObject.sort(sortby)ï¼›å‚æ•°sortbyå¯é€‰ã€‚è§„å®šæ’åºé¡ºåºã€‚å¿…é¡»æ˜¯å‡½æ•°ã€‚<br>æ³¨ï¼šå¦‚æœè°ƒç”¨è¯¥æ–¹æ³•æ—¶æ²¡æœ‰ä½¿ç”¨å‚æ•°ï¼Œå°†æŒ‰å­—æ¯é¡ºåºå¯¹æ•°ç»„ä¸­çš„å…ƒç´ è¿›è¡Œæ’åºï¼Œè¯´å¾—æ›´ç²¾ç¡®ç‚¹ï¼Œæ˜¯æŒ‰ç…§å­—ç¬¦ç¼–ç çš„é¡ºåºè¿›è¡Œæ’åºã€‚è¦å®ç°è¿™ä¸€ç‚¹ï¼Œé¦–å…ˆåº”æŠŠæ•°ç»„çš„å…ƒç´ éƒ½è½¬æ¢æˆå­—ç¬¦ä¸²ï¼ˆå¦‚æœ‰å¿…è¦ï¼‰ï¼Œä»¥ä¾¿è¿›è¡Œæ¯”è¾ƒã€‚</p>
<a id="more"></a>

<p>å¦‚æœæƒ³æŒ‰ç…§å…¶ä»–æ ‡å‡†è¿›è¡Œæ’åºï¼Œå°±éœ€è¦æä¾›æ¯”è¾ƒå‡½æ•°ï¼Œè¯¥å‡½æ•°è¦æ¯”è¾ƒä¸¤ä¸ªå€¼ï¼Œç„¶åè¿”å›ä¸€ä¸ªç”¨äºè¯´æ˜è¿™ä¸¤ä¸ªå€¼çš„ç›¸å¯¹é¡ºåºçš„æ•°å­—ã€‚æ¯”è¾ƒå‡½æ•°åº”è¯¥å…·æœ‰ä¸¤ä¸ªå‚æ•° a å’Œ bï¼Œå…¶è¿”å›å€¼å¦‚ä¸‹ï¼š<br>è‹¥ a å°äº bï¼Œåœ¨æ’åºåçš„æ•°ç»„ä¸­ a åº”è¯¥å‡ºç°åœ¨ b ä¹‹å‰ï¼Œåˆ™è¿”å›ä¸€ä¸ªå°äº 0 çš„å€¼ã€‚<br>è‹¥ a ç­‰äº bï¼Œåˆ™è¿”å› 0ã€‚<br>è‹¥ a å¤§äº bï¼Œåˆ™è¿”å›ä¸€ä¸ªå¤§äº 0 çš„å€¼ã€‚</p>
<p>ä¾‹1ï¼šæˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ªæ•°ç»„ï¼Œå¹¶æŒ‰å­—æ¯é¡ºåºè¿›è¡Œæ’åºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;script type&#x3D;&quot;text&#x2F;javascript&quot;&gt;</span><br><span class="line"></span><br><span class="line">var arr &#x3D; new Array(6)</span><br><span class="line">arr[0] &#x3D; &quot;George&quot;</span><br><span class="line">arr[1] &#x3D; &quot;John&quot;</span><br><span class="line">arr[2] &#x3D; &quot;Thomas&quot;</span><br><span class="line">arr[3] &#x3D; &quot;James&quot;</span><br><span class="line">arr[4] &#x3D; &quot;Adrew&quot;</span><br><span class="line">arr[5] &#x3D; &quot;Martin&quot;</span><br><span class="line"></span><br><span class="line">document.write(arr + &quot;&lt;br &#x2F;&gt;&quot;)</span><br><span class="line">document.write(arr.sort())</span><br><span class="line"></span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">George,John,Thomas,James,Adrew,Martin</span><br><span class="line">Adrew,George,James,John,Martin,Thomas</span><br></pre></td></tr></table></figure>

<p>ä¾‹2ï¼šæˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ªæ•°ç»„ï¼Œå¹¶æŒ‰å­—æ¯é¡ºåºè¿›è¡Œæ’åºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;script type&#x3D;&quot;text&#x2F;javascript&quot;&gt;</span><br><span class="line"></span><br><span class="line">var arr &#x3D; new Array(6)</span><br><span class="line">arr[0] &#x3D; &quot;10&quot;</span><br><span class="line">arr[1] &#x3D; &quot;5&quot;</span><br><span class="line">arr[2] &#x3D; &quot;40&quot;</span><br><span class="line">arr[3] &#x3D; &quot;25&quot;</span><br><span class="line">arr[4] &#x3D; &quot;1000&quot;</span><br><span class="line">arr[5] &#x3D; &quot;1&quot;</span><br><span class="line"></span><br><span class="line">document.write(arr + &quot;&lt;br &#x2F;&gt;&quot;)</span><br><span class="line">document.write(arr.sort())</span><br><span class="line"></span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">10,5,40,25,1000,1</span><br><span class="line">1,10,1000,25,40,5</span><br></pre></td></tr></table></figure>

<p>è¯·æ³¨æ„ï¼Œä¸Šé¢çš„ä»£ç æ²¡æœ‰æŒ‰ç…§æ•°å€¼çš„å¤§å°å¯¹æ•°å­—è¿›è¡Œæ’åºï¼Œè¦å®ç°è¿™ä¸€ç‚¹ï¼Œå°±å¿…é¡»ä½¿ç”¨ä¸€ä¸ªæ’åºå‡½æ•°ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;script type&#x3D;&quot;text&#x2F;javascript&quot;&gt;</span><br><span class="line"></span><br><span class="line">function sortNumber(a,b)</span><br><span class="line">&#123;</span><br><span class="line">return a - b</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var arr &#x3D; new Array(6)</span><br><span class="line">arr[0] &#x3D; &quot;10&quot;</span><br><span class="line">arr[1] &#x3D; &quot;5&quot;</span><br><span class="line">arr[2] &#x3D; &quot;40&quot;</span><br><span class="line">arr[3] &#x3D; &quot;25&quot;</span><br><span class="line">arr[4] &#x3D; &quot;1000&quot;</span><br><span class="line">arr[5] &#x3D; &quot;1&quot;</span><br><span class="line"></span><br><span class="line">document.write(arr + &quot;&lt;br &#x2F;&gt;&quot;)</span><br><span class="line">document.write(arr.sort(sortNumber))</span><br><span class="line"></span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">10,5,40,25,1000,1</span><br><span class="line">1,5,10,25,40,1000</span><br></pre></td></tr></table></figure>

<h3 id="åŸºæœ¬æ’åº"><a href="#åŸºæœ¬æ’åº" class="headerlink" title="åŸºæœ¬æ’åº"></a>åŸºæœ¬æ’åº</h3><p>è¿™é‡Œå¯ä»¥çœ‹å‡ºï¼Œå¦‚æœå®‰è£…å‡åºæ’åˆ—ï¼Œé‚£ä¹ˆæ–¹æ³•ä¸ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function sortNumber(a,b)&#123;</span><br><span class="line">    return a - b</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¦‚æœæ˜¯æŒ‰ç…§é™åºæ’åˆ—åˆ™ä¸ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function sortNumber(a,b)&#123;</span><br><span class="line">    return b - a</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="æ•°ç»„å¯¹è±¡ä¸­çš„æŸä¸ªå±æ€§å€¼è¿›è¡Œæ’åº"><a href="#æ•°ç»„å¯¹è±¡ä¸­çš„æŸä¸ªå±æ€§å€¼è¿›è¡Œæ’åº" class="headerlink" title="æ•°ç»„å¯¹è±¡ä¸­çš„æŸä¸ªå±æ€§å€¼è¿›è¡Œæ’åº"></a>æ•°ç»„å¯¹è±¡ä¸­çš„æŸä¸ªå±æ€§å€¼è¿›è¡Œæ’åº</h3><p><code>sort</code>æ–¹æ³•æ¥æ”¶ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œè¿™é‡ŒåµŒå¥—ä¸€å±‚å‡½æ•°ç”¨æ¥æ¥æ”¶å¯¹è±¡å±æ€§åï¼Œå…¶ä»–éƒ¨åˆ†ä»£ç ä¸æ­£å¸¸ä½¿ç”¨<code>sort</code>æ–¹æ³•ç›¸åŒã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var arr &#x3D; [</span><br><span class="line">    &#123;name:&#39;zopp&#39;,age:0&#125;,</span><br><span class="line">    &#123;name:&#39;gpp&#39;,age:18&#125;,</span><br><span class="line">    &#123;name:&#39;yjj&#39;,age:8&#125;</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line">function compare(property)&#123;</span><br><span class="line">    return function(a,b)&#123;</span><br><span class="line">        var value1 &#x3D; a[property];</span><br><span class="line">        var value2 &#x3D; b[property];</span><br><span class="line">        return value1 - value2;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">var compare &#x3D; function (prop) &#123;</span><br><span class="line">  return function (obj1, obj2) &#123;</span><br><span class="line">      var val1 &#x3D; obj1[prop];</span><br><span class="line">      var val2 &#x3D; obj2[prop];</span><br><span class="line">      if (!isNaN(Number(val1)) &amp;&amp; !isNaN(Number(val2))) &#123;</span><br><span class="line">          val1 &#x3D; Number(val1);</span><br><span class="line">          val2 &#x3D; Number(val2);</span><br><span class="line">      &#125;</span><br><span class="line">      if (val1 &lt; val2) &#123;</span><br><span class="line">          return -1;</span><br><span class="line">      &#125; else if (val1 &gt; val2) &#123;</span><br><span class="line">          return 1;</span><br><span class="line">      &#125; else &#123;</span><br><span class="line">          return 0;</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">console.log(arr.sort(compare(&#39;age&#39;)))</span><br></pre></td></tr></table></figure>

<p>ç»“æœå¦‚å›¾æ‰€ç¤ºï¼š</p>
<p><img src="https://images2015.cnblogs.com/blog/595142/201705/595142-20170515085841119-1950402124.png" alt="img"></p>
<h3 id="æ ¹æ®å‚æ•°ä¸åŒï¼Œæ¥ç¡®å®šæ˜¯å‡åºæ’åˆ—ï¼Œè¿˜æ˜¯é™åºæ’åº"><a href="#æ ¹æ®å‚æ•°ä¸åŒï¼Œæ¥ç¡®å®šæ˜¯å‡åºæ’åˆ—ï¼Œè¿˜æ˜¯é™åºæ’åº" class="headerlink" title="æ ¹æ®å‚æ•°ä¸åŒï¼Œæ¥ç¡®å®šæ˜¯å‡åºæ’åˆ—ï¼Œè¿˜æ˜¯é™åºæ’åº"></a>æ ¹æ®å‚æ•°ä¸åŒï¼Œæ¥ç¡®å®šæ˜¯å‡åºæ’åˆ—ï¼Œè¿˜æ˜¯é™åºæ’åº</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sortBy: function(attr,rev)&#123;</span><br><span class="line">    &#x2F;&#x2F;ç¬¬äºŒä¸ªå‚æ•°æ²¡æœ‰ä¼ é€’ é»˜è®¤å‡åºæ’åˆ—</span><br><span class="line">    if(rev &#x3D;&#x3D;  undefined)&#123;</span><br><span class="line">        rev &#x3D; 1;</span><br><span class="line">    &#125;else&#123;</span><br><span class="line">        rev &#x3D; (rev) ? 1 : -1;</span><br><span class="line">    &#125;</span><br><span class="line">    return function(a,b)&#123;</span><br><span class="line">        a &#x3D; a[attr];</span><br><span class="line">        b &#x3D; b[attr];</span><br><span class="line">        if(a &lt; b)&#123;</span><br><span class="line">            return rev * -1;</span><br><span class="line">        &#125;</span><br><span class="line">        if(a &gt; b)&#123;</span><br><span class="line">            return rev * 1;</span><br><span class="line">        &#125;</span><br><span class="line">        return 0;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">newArray.sort(sortBy(&#39;number&#39;,false))</span><br></pre></td></tr></table></figure>

<h3 id="æŸä¸ªå±æ€§å€¼ç›¸åŒæ—¶ï¼Œæ ¹æ®å¦ä¸€ä¸ªå±æ€§æ’åº"><a href="#æŸä¸ªå±æ€§å€¼ç›¸åŒæ—¶ï¼Œæ ¹æ®å¦ä¸€ä¸ªå±æ€§æ’åº" class="headerlink" title="æŸä¸ªå±æ€§å€¼ç›¸åŒæ—¶ï¼Œæ ¹æ®å¦ä¸€ä¸ªå±æ€§æ’åº"></a>æŸä¸ªå±æ€§å€¼ç›¸åŒæ—¶ï¼Œæ ¹æ®å¦ä¸€ä¸ªå±æ€§æ’åº</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var arr&#x3D; [ </span><br><span class="line">    &#123; &#39;sortNo&#39;: 2, &#39;sortNo2&#39;: 3&#125;,</span><br><span class="line">    &#123; &#39;sortNo&#39;: 1, &#39;sortNo2&#39;: 3&#125;,</span><br><span class="line">    &#123; &#39;sortNo&#39;: 5, &#39;sortNo2&#39;: 3&#125;,</span><br><span class="line">    &#123; &#39;sortNo&#39;: 6, &#39;sortNo2&#39;: 3&#125;,</span><br><span class="line">    &#123; &#39;sortNo&#39;: 7, &#39;sortNo2&#39;: 3&#125;,</span><br><span class="line">    &#123; &#39;sortNo&#39;: 3, &#39;sortNo2&#39;: 4&#125;,</span><br><span class="line">    &#123; &#39;sortNo&#39;: 3, &#39;sortNo2&#39;: 2&#125;,</span><br><span class="line">    &#123; &#39;sortNo&#39;: 3, &#39;sortNo2&#39;: 1&#125;,</span><br><span class="line">    &#123; &#39;sortNo&#39;: 3, &#39;sortNo2&#39;: 3&#125;,</span><br><span class="line">    &#123; &#39;sortNo&#39;: 8, &#39;sortNo2&#39;: 3&#125;,</span><br><span class="line">    &#123; &#39;sortNo&#39;: 4, &#39;sortNo2&#39;: 1&#125;,</span><br><span class="line">    &#123; &#39;sortNo&#39;: 4, &#39;sortNo2&#39;: 2&#125;</span><br><span class="line">];</span><br><span class="line">arr.sort(function(a, b)&#123;</span><br><span class="line">    if (a.sortNo &#x3D;&#x3D;&#x3D; b.sortNo) &#123;</span><br><span class="line">            return b.sortNo2 - a.sortNo2;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">            return a.sortNo - b.sortNo;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line">console.log(arr);</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>js</category>
      </categories>
      <tags>
        <tag>js</tag>
        <tag>æ•°ç»„</tag>
        <tag>sort</tag>
      </tags>
  </entry>
  <entry>
    <title>jsæ–¹æ³•ï¼ˆä¸€ï¼‰</title>
    <url>/2020/07/23/js%E6%96%B9%E6%B3%95%EF%BC%88%E4%B8%80%EF%BC%89/</url>
    <content><![CDATA[<h3 id="è·å–æœåŠ¡å™¨æ—¶é—´"><a href="#è·å–æœåŠ¡å™¨æ—¶é—´" class="headerlink" title="è·å–æœåŠ¡å™¨æ—¶é—´"></a>è·å–æœåŠ¡å™¨æ—¶é—´</h3><a id="more"></a>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="number">1</span>ã€ä¾èµ–jQuery</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getServerDate</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Date</span>($.ajax(&#123; <span class="attr">async</span>: <span class="literal">false</span> &#125;).getResponseHeader(<span class="string">"Date"</span>));</span><br><span class="line">&#125;</span><br><span class="line"><span class="number">2</span>ã€åŸç”Ÿ</span><br><span class="line">ï¼ˆåŒæ­¥ï¼‰</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getServerDate</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> xhr = <span class="literal">null</span>;</span><br><span class="line">  <span class="keyword">if</span> (<span class="built_in">window</span>.XMLHttpRequest) &#123;</span><br><span class="line">    xhr = <span class="keyword">new</span> <span class="built_in">window</span>.XMLHttpRequest();</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123; <span class="comment">// ie</span></span><br><span class="line">    xhr = <span class="keyword">new</span> ActiveObject(<span class="string">"Microsoft"</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  xhr.open(<span class="string">"GET"</span>, <span class="string">"/"</span>, <span class="literal">false</span>)<span class="comment">//falseä¸å¯å˜</span></span><br><span class="line">  xhr.send(<span class="literal">null</span>);</span><br><span class="line">  <span class="keyword">var</span> date = xhr.getResponseHeader(<span class="string">"Date"</span>);</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Date</span>(date);</span><br><span class="line">&#125;</span><br><span class="line">ï¼ˆå¼‚æ­¥ï¼‰</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getServerDate</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> xhr = <span class="literal">null</span>;</span><br><span class="line">  <span class="keyword">if</span> (<span class="built_in">window</span>.XMLHttpRequest) &#123;</span><br><span class="line">    xhr = <span class="keyword">new</span> <span class="built_in">window</span>.XMLHttpRequest();</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123; <span class="comment">// ie</span></span><br><span class="line">    xhr = <span class="keyword">new</span> ActiveObject(<span class="string">"Microsoft"</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  xhr.open(<span class="string">"GET"</span>, <span class="string">"/"</span>, <span class="literal">true</span>);</span><br><span class="line">  xhr.send(<span class="literal">null</span>);</span><br><span class="line">  xhr.onreadystatechange = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> time, date;</span><br><span class="line">    <span class="keyword">if</span> (xhr.readyState == <span class="number">2</span>) &#123;</span><br><span class="line">      time = xhr.getResponseHeader(<span class="string">"Date"</span>);</span><br><span class="line">      date = <span class="keyword">new</span> <span class="built_in">Date</span>(time);</span><br><span class="line">      <span class="built_in">console</span>.log(date);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="userAgent"><a href="#userAgent" class="headerlink" title="userAgent"></a>userAgent</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">userAgentå±æ€§æ˜¯ä¸€ä¸ªåªè¯»çš„å­—ç¬¦ä¸²ï¼Œå£°æ˜äº†æµè§ˆå™¨ç”¨äº HTTP è¯·æ±‚çš„ç”¨æˆ·ä»£ç†å¤´çš„å€¼ã€‚</span><br><span class="line"></span><br><span class="line">ä¸€èˆ¬æ¥è®²ï¼Œå®ƒæ˜¯åœ¨ navigator.appCodeName çš„å€¼ä¹‹ååŠ ä¸Šæ–œçº¿å’Œ navigator.appVersion çš„å€¼æ„æˆçš„ã€‚</span><br><span class="line"></span><br><span class="line">ä¾‹å¦‚ï¼šMozilla / <span class="number">4.0</span>(compatible; MSIE <span class="number">6.0</span>; Windows NT <span class="number">5.2</span>; SV1; .NET CLR <span class="number">1.1</span><span class="number">.4322</span>) ã€‚</span><br><span class="line"></span><br><span class="line"><span class="built_in">document</span>.write(<span class="string">"&lt;p&gt;æµè§ˆå™¨ï¼š"</span>)</span><br><span class="line"><span class="built_in">document</span>.write(navigator.appName + <span class="string">"&lt;/p&gt;"</span>)</span><br><span class="line">æµè§ˆå™¨ï¼šNetscape</span><br><span class="line"></span><br><span class="line"><span class="built_in">document</span>.write(<span class="string">"&lt;p&gt;æµè§ˆå™¨ç‰ˆæœ¬ï¼š"</span>)</span><br><span class="line"><span class="built_in">document</span>.write(navigator.appVersion + <span class="string">"&lt;/p&gt;"</span>)</span><br><span class="line">æµè§ˆå™¨ç‰ˆæœ¬ï¼š<span class="number">5.0</span>(Windows NT <span class="number">10.0</span>; Win64; x64) AppleWebKit / <span class="number">537.36</span>(KHTML, like Gecko) Chrome / <span class="number">77.0</span><span class="number">.3865</span><span class="number">.120</span> Safari / <span class="number">537.36</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">document</span>.write(<span class="string">"&lt;p&gt;ä»£ç ï¼š"</span>)</span><br><span class="line"><span class="built_in">document</span>.write(navigator.appCodeName + <span class="string">"&lt;/p&gt;"</span>)</span><br><span class="line">ä»£ç ï¼šMozilla</span><br><span class="line"></span><br><span class="line"><span class="built_in">document</span>.write(<span class="string">"&lt;p&gt;å¹³å°ï¼š"</span>)</span><br><span class="line"><span class="built_in">document</span>.write(navigator.platform + <span class="string">"&lt;/p&gt;"</span>)</span><br><span class="line">å¹³å°ï¼šWin32</span><br><span class="line"></span><br><span class="line"><span class="built_in">document</span>.write(<span class="string">"&lt;p&gt;Cookies å¯ç”¨ï¼š"</span>)</span><br><span class="line"><span class="built_in">document</span>.write(navigator.cookieEnabled + <span class="string">"&lt;/p&gt;"</span>)</span><br><span class="line">Cookies å¯ç”¨ï¼š<span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">document</span>.write(<span class="string">"&lt;p&gt;æµè§ˆå™¨çš„ç”¨æˆ·ä»£ç†æŠ¥å¤´ï¼š"</span>)</span><br><span class="line"><span class="built_in">document</span>.write(navigator.userAgent + <span class="string">"&lt;/p&gt;"</span>)</span><br><span class="line">æµè§ˆå™¨çš„ç”¨æˆ·ä»£ç†æŠ¥å¤´ï¼šMozilla / <span class="number">5.0</span>(Windows NT <span class="number">10.0</span>; Win64; x64) AppleWebKit / <span class="number">537.36</span>(KHTML, like Gecko) Chrome / <span class="number">77.0</span><span class="number">.3865</span><span class="number">.120</span> Safari / <span class="number">537.36</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> b_version = navigator.appVersion</span><br><span class="line"><span class="keyword">var</span> version = <span class="built_in">parseFloat</span>(b_version)</span><br><span class="line"><span class="built_in">document</span>.write(<span class="string">"æµè§ˆå™¨ç‰ˆæœ¬ï¼š"</span> + version)</span><br><span class="line"></span><br><span class="line"><span class="number">1</span>ã€é€šè¿‡åˆ¤æ–­æµè§ˆå™¨çš„userAgentï¼Œç”¨æ­£åˆ™æ¥åˆ¤æ–­æ˜¯å¦æ˜¯ioså’ŒAndroidå®¢æˆ·ç«¯ã€‚ä»£ç å¦‚ä¸‹ï¼š</span><br><span class="line"></span><br><span class="line"><span class="number">2</span>ã€æ£€æŸ¥æ˜¯å¦æ˜¯ç§»åŠ¨ç«¯ï¼ˆMobileï¼‰ã€ipadã€iphoneã€å¾®ä¿¡ã€QQç­‰ï¼š</span><br><span class="line"></span><br><span class="line">ä½¿ç”¨æ–¹æ³•ï¼š</span><br><span class="line"></span><br><span class="line">æ£€æµ‹æµè§ˆå™¨è¯­è¨€ï¼š</span><br><span class="line"></span><br><span class="line"><span class="number">3</span>ã€åˆ¤æ–­iPhone | iPad | iPod | iOS | Androidå®¢æˆ·ç«¯ï¼š</span><br><span class="line"></span><br><span class="line"><span class="number">4</span>ã€åˆ¤æ–­pcè¿˜æ˜¯ç§»åŠ¨ç«¯ï¼š</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> u = navigator.userAgent;</span><br><span class="line"><span class="keyword">var</span> isAndroid = u.indexOf(<span class="string">'Android'</span>) &gt; <span class="number">-1</span> || u.indexOf(<span class="string">'Adr'</span>) &gt; <span class="number">-1</span>; <span class="comment">//androidç»ˆç«¯</span></span><br><span class="line"><span class="keyword">var</span> isiOS = !!u.match(<span class="regexp">/\(i[^;]+;( U;)? CPU.+Mac OS X/</span>); <span class="comment">//iosç»ˆç«¯</span></span><br></pre></td></tr></table></figure>

<h3 id="æ·±å…‹éš†"><a href="#æ·±å…‹éš†" class="headerlink" title="æ·±å…‹éš†"></a>æ·±å…‹éš†</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">deepClone: function (obj) &#123;</span><br><span class="line">    var _obj &#x3D; JSON.stringify(obj),</span><br><span class="line">    objClone &#x3D; JSON.parse(_obj);</span><br><span class="line">    return objClone</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>



<h3 id="è·å–urlå‚æ•°"><a href="#è·å–urlå‚æ•°" class="headerlink" title="è·å–urlå‚æ•°"></a>è·å–urlå‚æ•°</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">getUrlParam = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> url = location.search;</span><br><span class="line">    <span class="keyword">var</span> theRequest = &#123;&#125;;</span><br><span class="line">    <span class="keyword">if</span> (url.indexOf(<span class="string">"?"</span>) != <span class="number">-1</span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> str = url.substr(<span class="number">1</span>);</span><br><span class="line">        strs = str.split(<span class="string">"&amp;"</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; strs.length; i++) &#123;</span><br><span class="line">            theRequest[strs[i].split(<span class="string">"="</span>)[<span class="number">0</span>]] = strs[i].split(<span class="string">"="</span>)[<span class="number">1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> theRequest;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="encodeURI-å’ŒencodeURIComponent-decodeURI-å’ŒdecodeURIComponent"><a href="#encodeURI-å’ŒencodeURIComponent-decodeURI-å’ŒdecodeURIComponent" class="headerlink" title="encodeURI()å’ŒencodeURIComponent()  decodeURI()å’ŒdecodeURIComponent()"></a>encodeURI()å’ŒencodeURIComponent()  decodeURI()å’ŒdecodeURIComponent()</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">å…¶ä¸­encodeURI()ä¸»è¦ç”¨äºæ•´ä¸ªURI(ä¾‹å¦‚ï¼Œhttp:&#x2F;&#x2F;www.jxbh.cn&#x2F;illegal value.htm)ï¼Œè€Œencode-URIComponent()ä¸»è¦ç”¨äºå¯¹URIä¸­çš„æŸä¸€æ®µ(ä¾‹å¦‚å‰é¢URIä¸­çš„illegal valueï¼htm)è¿›è¡Œç¼–ç ã€‚å®ƒä»¬çš„ä¸»è¦åŒºåˆ«åœ¨äºï¼ŒencodeURI()ä¸ä¼šå¯¹æœ¬èº«å±äºURIçš„ç‰¹æ®Šå­—ç¬¦è¿›è¡Œç¼–ç ï¼Œä¾‹å¦‚å†’å·ã€æ­£æ–œæ ã€é—®å·å’Œäº•å­—å·ï¼›è€ŒencodeURIComponent()åˆ™ä¼šå¯¹å®ƒå‘ç°çš„ä»»ä½•éæ ‡å‡†å­—ç¬¦è¿›è¡Œç¼–ç ã€‚æ¥çœ‹ä¸‹é¢çš„ä¾‹å­ï¼š</span><br><span class="line">var uri&#x3D;&quot;http:&#x2F;&#x2F;www.jxbh.cn&#x2F;illegal value.htm#start&quot;;</span><br><span class="line">&#x2F;&#x2F;â€http: &#x2F;&#x2F;www.jxbh.cn&#x2F;illegal%20value .htm#s tartâ€</span><br><span class="line">alert(encodeURI (uri)):</span><br><span class="line">&#x2F;&#x2F;â€http% 3A%2F%2Fwww.jxbh.cn%2 Fillegal%2 0value. htm%23 startâ€</span><br><span class="line">alert( encodaURIComponent (uri));</span><br><span class="line">ä½¿ç”¨encodeURI()ç¼–ç åçš„ç»“æœæ˜¯é™¤äº†ç©ºæ ¼ä¹‹å¤–çš„å…¶ä»–å­—ç¬¦éƒ½åŸå°ä¸åŠ¨ï¼Œåªæœ‰ç©ºæ ¼è¢«æ›¿æ¢æˆäº†%20ã€‚è€ŒencodeURIComponent()æ–¹æ³•åˆ™ä¼šä½¿ç”¨å¯¹åº”çš„ç¼–ç æ›¿æ¢æ‰€æœ‰éå­—æ¯æ•°å­—å­—ç¬¦ã€‚è¿™ä¹Ÿæ­£æ˜¯å¯ä»¥å¯¹æ•´ä¸ªURIä½¿ç”¨encodeURI()ï¼Œè€Œåªèƒ½å¯¹é™„åŠ åœ¨ç°æœ‰URIåé¢çš„å­—ç¬¦ä¸²ä½¿ç”¨encodeURIComponent()çš„åŸå› æ‰€åœ¨ã€‚ä¸€èˆ¬æ¥è¯´,æˆ‘ä»¬ä½¿ç”¨encodeURIComponent()æ–¹æ³•çš„æ—¶å€™è¦æ¯”ä½¿ç”¨encodeURI()æ›´å¤š,å› ä¸ºåœ¨å®è·µä¸­æ›´å¸¸è§çš„æ˜¯å¯¹æŸ¥è¯¢å­—ç¬¦ä¸²å‚æ•°è€Œä¸æ˜¯å¯¹åŸºç¡€URLè¿›è¡Œç¼–ç .</span><br><span class="line">ç»æˆ‘çš„è§‚æµ‹ï¼Œå¾ˆå¤šç½‘ç«™çš„cookieåœ¨è¿›è¡Œç¼–ç çš„æ—¶å€™ï¼Œæ˜¯encodeURIComponentæ ¼å¼çš„ï¼Œæ‰€ä»¥åº”è¯¥ä½¿ç”¨decodeURIComponent()è¿›è¡Œè§£ç </span><br></pre></td></tr></table></figure>





<h3 id="Trueä¸False"><a href="#Trueä¸False" class="headerlink" title="Trueä¸False"></a>Trueä¸False</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">ä»¥ä¸‹æ˜¯Truthy (çœŸå€¼)</span><br><span class="line"><span class="keyword">if</span> (<span class="literal">true</span>)</span><br><span class="line"><span class="keyword">if</span> (&#123;&#125;)</span><br><span class="line"><span class="keyword">if</span> ([])</span><br><span class="line"><span class="keyword">if</span> (<span class="number">42</span>)</span><br><span class="line"><span class="keyword">if</span> (<span class="string">"foo"</span>)</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">new</span> <span class="built_in">Date</span>())</span><br><span class="line"><span class="keyword">if</span> (<span class="number">-42</span>)</span><br><span class="line"><span class="keyword">if</span> (<span class="number">3.14</span>)</span><br><span class="line"><span class="keyword">if</span> (<span class="number">-3.14</span>)</span><br><span class="line"><span class="keyword">if</span> (<span class="literal">Infinity</span>)</span><br><span class="line"><span class="keyword">if</span> (-<span class="literal">Infinity</span>)</span><br><span class="line">  </span><br><span class="line">ä»¥ä¸‹æ˜¯falsy  å€¼</span><br><span class="line"><span class="keyword">if</span> (<span class="literal">false</span>)</span><br><span class="line"><span class="keyword">if</span> (<span class="literal">null</span>)</span><br><span class="line"><span class="keyword">if</span> (<span class="literal">undefined</span>)</span><br><span class="line"><span class="keyword">if</span> (<span class="number">0</span>)</span><br><span class="line"><span class="keyword">if</span> (<span class="number">0n</span>)</span><br><span class="line"><span class="keyword">if</span> (<span class="literal">NaN</span>)</span><br><span class="line"><span class="keyword">if</span> (<span class="string">''</span>)</span><br><span class="line"><span class="keyword">if</span> (<span class="string">""</span>)</span><br><span class="line"><span class="keyword">if</span> (<span class="string">``</span>)</span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">document</span>.all)</span><br></pre></td></tr></table></figure>

<h3 id="iosä¸‹æ—¶é—´æ ¼å¼é—®é¢˜"><a href="#iosä¸‹æ—¶é—´æ ¼å¼é—®é¢˜" class="headerlink" title="iosä¸‹æ—¶é—´æ ¼å¼é—®é¢˜"></a>iosä¸‹æ—¶é—´æ ¼å¼é—®é¢˜</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">time = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="string">'2016-08-09 00:00:00'</span>).getTimeï¼ˆï¼‰ <span class="comment">//æ‹¿åˆ°çš„å€¼æ˜¯NaN</span></span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Date</span>(<span class="string">'2016-08-09'</span>).getTimeï¼ˆï¼‰ <span class="comment">//æ­£å¸¸</span></span><br><span class="line">åŸå› ï¼šiosä¸‹ä¸æ”¯æŒ<span class="string">'-'</span>æ ¼å¼çš„æ—¶é—´å¯ä»¥æ”¯æŒ<span class="string">'/'</span></span><br><span class="line">è§£å†³æ–¹æ¡ˆï¼šæ”¹æˆ<span class="string">'yy/mm/dd'</span></span><br></pre></td></tr></table></figure>



<h3 id="æ‰“å°å‘¨å‡ "><a href="#æ‰“å°å‘¨å‡ " class="headerlink" title="æ‰“å°å‘¨å‡ "></a>æ‰“å°å‘¨å‡ </h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> week=[<span class="string">'æ˜ŸæœŸæ—¥'</span>,<span class="string">'æ˜ŸæœŸä¸€'</span>,<span class="string">'æ˜ŸæœŸäºŒ'</span>,<span class="string">'æ˜ŸæœŸä¸‰'</span>,<span class="string">'æ˜ŸæœŸå››'</span>,<span class="string">'æ˜ŸæœŸäº”'</span>,<span class="string">'æ˜ŸæœŸå…­'</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> date=<span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line"><span class="built_in">document</span>.write(week[date.getDay()])</span><br></pre></td></tr></table></figure>



<h3 id="js-åˆ¤æ–­å½“å‰æ—¶é—´æ˜¯å¦å¤„äºæŸä¸ªæ—¶é—´æ®µå†…"><a href="#js-åˆ¤æ–­å½“å‰æ—¶é—´æ˜¯å¦å¤„äºæŸä¸ªæ—¶é—´æ®µå†…" class="headerlink" title="js åˆ¤æ–­å½“å‰æ—¶é—´æ˜¯å¦å¤„äºæŸä¸ªæ—¶é—´æ®µå†…"></a>js åˆ¤æ–­å½“å‰æ—¶é—´æ˜¯å¦å¤„äºæŸä¸ªæ—¶é—´æ®µå†…</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">isDuringDate: function (beginDateStr, endDateStr) &#123;</span><br><span class="line">    var curDate &#x3D; new Date(),</span><br><span class="line">    beginDate &#x3D; new Date(beginDateStr),</span><br><span class="line">    endDate &#x3D; new Date(endDateStr);</span><br><span class="line">    if (curDate &gt;&#x3D; beginDate &amp;&amp; curDate &lt;&#x3D; endDate) &#123;</span><br><span class="line">    	return true;</span><br><span class="line">    &#125;</span><br><span class="line">    return false;</span><br><span class="line">&#125;</span><br><span class="line">isDuringDate(&#39;2018&#x2F;09&#x2F;17&#39;, &#39;2030&#x2F;09&#x2F;17&#39;)</span><br></pre></td></tr></table></figure>





<h3 id="å½“å‰æ—¶é—´åŠ åŠä¸ªå°æ—¶"><a href="#å½“å‰æ—¶é—´åŠ åŠä¸ªå°æ—¶" class="headerlink" title="å½“å‰æ—¶é—´åŠ åŠä¸ªå°æ—¶"></a>å½“å‰æ—¶é—´åŠ åŠä¸ªå°æ—¶</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">å½“å‰æ—¶é—´åŠ ä¸ŠåŠä¸ªå°æ—¶ä¸€ä¸ªå°æ—¶ç­‰</span><br><span class="line">getHourDate: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> date = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line">    date.setTime(date.getTime() + <span class="number">0.5</span> * <span class="number">3600</span> * <span class="number">1000</span>);</span><br><span class="line">    <span class="keyword">var</span> FullYear = date.getFullYear();</span><br><span class="line">    <span class="keyword">var</span> month = date.getMonth() + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">var</span> dd = date.getDate();</span><br><span class="line">    <span class="keyword">var</span> hh = date.getHours();</span><br><span class="line">    <span class="keyword">var</span> mm = date.getMinutes();</span><br><span class="line">    <span class="keyword">return</span> FullYear + <span class="string">"-"</span> + month + <span class="string">"-"</span> + dd + <span class="string">" "</span> + hh + <span class="string">":"</span> + mm + <span class="string">":00"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="å½“å‰æ—¶é—´ä¸ç›®æ ‡æ—¶é—´å€’è®¡æ—¶åˆ°è¾¾"><a href="#å½“å‰æ—¶é—´ä¸ç›®æ ‡æ—¶é—´å€’è®¡æ—¶åˆ°è¾¾" class="headerlink" title="å½“å‰æ—¶é—´ä¸ç›®æ ‡æ—¶é—´å€’è®¡æ—¶åˆ°è¾¾"></a>å½“å‰æ—¶é—´ä¸ç›®æ ‡æ—¶é—´å€’è®¡æ—¶åˆ°è¾¾</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">countTime: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">//è·å–å½“å‰æ—¶é—´  </span></span><br><span class="line">    <span class="keyword">var</span> date = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line">    <span class="keyword">var</span> now = date.getTime();</span><br><span class="line">    <span class="comment">//è®¾ç½®æˆªæ­¢æ—¶é—´  </span></span><br><span class="line">    <span class="keyword">var</span> endDate = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="keyword">this</span>.endDate.replace(<span class="regexp">/-/g</span>, <span class="string">'/'</span>));</span><br><span class="line">    <span class="keyword">var</span> end = endDate.getTime();</span><br><span class="line">    <span class="comment">//æ—¶é—´å·®</span></span><br><span class="line">    <span class="keyword">var</span> leftTime = <span class="keyword">this</span>.leftTime = end - now;</span><br><span class="line">    <span class="comment">//å®šä¹‰å˜é‡ d,h,m,sä¿å­˜å€’è®¡æ—¶çš„æ—¶é—´  </span></span><br><span class="line">    <span class="keyword">var</span> d, h, m, s;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.leftTime &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">        d = <span class="built_in">Math</span>.floor(leftTime / <span class="number">1000</span> / <span class="number">60</span> / <span class="number">60</span> / <span class="number">24</span>);</span><br><span class="line">        h = <span class="built_in">Math</span>.floor(leftTime / <span class="number">1000</span> / <span class="number">60</span> / <span class="number">60</span> % <span class="number">24</span>);</span><br><span class="line">        m = <span class="built_in">Math</span>.floor(leftTime / <span class="number">1000</span> / <span class="number">60</span>);</span><br><span class="line">        s = <span class="built_in">Math</span>.floor(leftTime / <span class="number">1000</span> % <span class="number">60</span>);</span><br><span class="line">        <span class="keyword">this</span>.leftStr = d + <span class="string">"å¤©"</span> + h + <span class="string">"æ—¶"</span> + m + <span class="string">"åˆ†"</span> + s + <span class="string">"ç§’"</span></span><br><span class="line">        setTimeout(<span class="keyword">this</span>.countTime, <span class="number">1000</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">this</span>.isCanPay = <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>



<h3 id="å°†å½“å‰æ—¶é—´è½¬åŒ–ä¸º-2018-12-12-12-00-00"><a href="#å°†å½“å‰æ—¶é—´è½¬åŒ–ä¸º-2018-12-12-12-00-00" class="headerlink" title="å°†å½“å‰æ—¶é—´è½¬åŒ–ä¸º 2018-12-12 12:00:00"></a>å°†å½“å‰æ—¶é—´è½¬åŒ–ä¸º 2018-12-12 12:00:00</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> date = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line"><span class="keyword">var</span> formatDateTime = <span class="function"><span class="keyword">function</span> (<span class="params">date</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> y = date.getFullYear();</span><br><span class="line">    <span class="keyword">var</span> m = date.getMonth() + <span class="number">1</span>;</span><br><span class="line">    m = m &lt; <span class="number">10</span> ? (<span class="string">'0'</span> + m) : m;</span><br><span class="line">    <span class="keyword">var</span> d = date.getDate();</span><br><span class="line">    d = d &lt; <span class="number">10</span> ? (<span class="string">'0'</span> + d) : d;</span><br><span class="line">    <span class="keyword">var</span> h = date.getHours();</span><br><span class="line">    h = h &lt; <span class="number">10</span> ? (<span class="string">'0'</span> + h) : h;</span><br><span class="line">    <span class="keyword">var</span> minute = date.getMinutes();</span><br><span class="line">    minute = minute &lt; <span class="number">10</span> ? (<span class="string">'0'</span> + minute) : minute;</span><br><span class="line">    <span class="keyword">var</span> second = date.getSeconds();</span><br><span class="line">    second = second &lt; <span class="number">10</span> ? (<span class="string">'0'</span> + second) : second;</span><br><span class="line">    <span class="keyword">return</span> y + <span class="string">'-'</span> + m + <span class="string">'-'</span> + d + <span class="string">' '</span> + h + <span class="string">':'</span> + minute + <span class="string">':'</span> + second;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>



<h3 id="åˆ¤æ–­å½“å‰æ—¥æœŸæ˜¯å¦ç¦»å¼€"><a href="#åˆ¤æ–­å½“å‰æ—¥æœŸæ˜¯å¦ç¦»å¼€" class="headerlink" title="åˆ¤æ–­å½“å‰æ—¥æœŸæ˜¯å¦ç¦»å¼€"></a>åˆ¤æ–­å½“å‰æ—¥æœŸæ˜¯å¦<strong>ç¦»å¼€</strong></h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">departTimeHandle: <span class="function"><span class="keyword">function</span> (<span class="params">departTime</span>) </span>&#123;</span><br><span class="line">    diff = <span class="keyword">new</span> <span class="built_in">Date</span>(departTime.replace(<span class="regexp">/\-/g</span>, <span class="string">"/"</span>)).getTime() - <span class="keyword">new</span> <span class="built_in">Date</span>().getTime();</span><br><span class="line">    <span class="keyword">if</span> (diff &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        alert(<span class="string">'æœªå‡ºå‘'</span>)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        alert(<span class="string">'å·²ç¦»å¼€'</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> diff;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>



<h3 id="è®¡ç®—ä¸¤ä¸ªæ—¶é—´çš„åˆ†é’Ÿå·®"><a href="#è®¡ç®—ä¸¤ä¸ªæ—¶é—´çš„åˆ†é’Ÿå·®" class="headerlink" title="è®¡ç®—ä¸¤ä¸ªæ—¶é—´çš„åˆ†é’Ÿå·®"></a>è®¡ç®—ä¸¤ä¸ªæ—¶é—´çš„åˆ†é’Ÿå·®</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">TimeDifference</span>(<span class="params">time1, time2</span>) </span>&#123;</span><br><span class="line">    <span class="comment">//æˆªå–å­—ç¬¦ä¸²ï¼Œå¾—åˆ°æ—¥æœŸéƒ¨åˆ†"2009-12-02",ç”¨splitæŠŠå­—ç¬¦ä¸²åˆ†éš”æˆæ•°ç»„</span></span><br><span class="line">    <span class="keyword">var</span> begin1 = time1.substr(<span class="number">0</span>, <span class="number">10</span>).split(<span class="string">"-"</span>);</span><br><span class="line">    <span class="keyword">var</span> end1 = time2.substr(<span class="number">0</span>, <span class="number">10</span>).split(<span class="string">"-"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//å°†æ‹†åˆ†çš„æ•°ç»„é‡æ–°ç»„åˆï¼Œå¹¶å®ä¾‹æˆåŒ–æ–°çš„æ—¥æœŸå¯¹è±¡</span></span><br><span class="line">    <span class="keyword">var</span> date1 = <span class="keyword">new</span> <span class="built_in">Date</span>(begin1[<span class="number">1</span>] + - + begin1[<span class="number">2</span>] + - + begin1[<span class="number">0</span>]);</span><br><span class="line">    <span class="keyword">var</span> date2 = <span class="keyword">new</span> <span class="built_in">Date</span>(end1[<span class="number">1</span>] + - + end1[<span class="number">2</span>] + - + end1[<span class="number">0</span>]);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//å¾—åˆ°ä¸¤ä¸ªæ—¥æœŸä¹‹é—´çš„å·®å€¼mï¼Œä»¥åˆ†é’Ÿä¸ºå•ä½</span></span><br><span class="line">    <span class="comment">//Math.abs(date2-date1)è®¡ç®—å‡ºä»¥æ¯«ç§’ä¸ºå•ä½çš„å·®å€¼</span></span><br><span class="line">    <span class="comment">//Math.abs(date2-date1)/1000å¾—åˆ°ä»¥ç§’ä¸ºå•ä½çš„å·®å€¼</span></span><br><span class="line">    <span class="comment">//Math.abs(date2-date1)/1000/60å¾—åˆ°ä»¥åˆ†é’Ÿä¸ºå•ä½çš„å·®å€¼</span></span><br><span class="line">    <span class="keyword">var</span> m = <span class="built_in">parseInt</span>(<span class="built_in">Math</span>.abs(date2 - date1) / <span class="number">1000</span> / <span class="number">60</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//å°æ—¶æ•°å’Œåˆ†é’Ÿæ•°ç›¸åŠ å¾—åˆ°æ€»çš„åˆ†é’Ÿæ•°</span></span><br><span class="line">    <span class="comment">//time1.substr(11,2)æˆªå–å­—ç¬¦ä¸²å¾—åˆ°æ—¶é—´çš„å°æ—¶æ•°</span></span><br><span class="line">    <span class="comment">//parseInt(time1.substr(11,2))*60æŠŠå°æ—¶æ•°è½¬åŒ–æˆä¸ºåˆ†é’Ÿ</span></span><br><span class="line">    <span class="keyword">var</span> min1 = <span class="built_in">parseInt</span>(time1.substr(<span class="number">11</span>, <span class="number">2</span>)) * <span class="number">60</span> + <span class="built_in">parseInt</span>(time1.substr(<span class="number">14</span>, <span class="number">2</span>));</span><br><span class="line">    <span class="keyword">var</span> min2 = <span class="built_in">parseInt</span>(time2.substr(<span class="number">11</span>, <span class="number">2</span>)) * <span class="number">60</span> + <span class="built_in">parseInt</span>(time2.substr(<span class="number">14</span>, <span class="number">2</span>));</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ä¸¤ä¸ªåˆ†é’Ÿæ•°ç›¸å‡å¾—åˆ°æ—¶é—´éƒ¨åˆ†çš„å·®å€¼ï¼Œä»¥åˆ†é’Ÿä¸ºå•ä½</span></span><br><span class="line">    <span class="keyword">var</span> n = min2 - min1;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//å°†æ—¥æœŸå’Œæ—¶é—´ä¸¤ä¸ªéƒ¨åˆ†è®¡ç®—å‡ºæ¥çš„å·®å€¼ç›¸åŠ ï¼Œå³å¾—åˆ°ä¸¤ä¸ªæ—¶é—´ç›¸å‡åçš„åˆ†é’Ÿæ•°</span></span><br><span class="line">    <span class="keyword">var</span> minutes = m + n;</span><br><span class="line">    <span class="built_in">document</span>.writeln(minutes);</span><br><span class="line">&#125;</span><br><span class="line">TimeDifference(<span class="string">"2019-08-12 15:21:00"</span>, <span class="string">"2019-08-21 10:18:34"</span>);</span><br></pre></td></tr></table></figure>



<p>è®¡ç®—ä¸¤ä¸ªæ—¶é—´ç›¸éš”å‡ å¤©å‡ ä¸ªå°æ—¶å‡ åˆ†é’Ÿå‡ ç§’å‡ æ¯«ç§’</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var  dt1 &#x3D;  &quot;2009-11-5 10:30:01:69&quot;  ;</span><br><span class="line">     var  dt2 &#x3D;  &quot;2009-11-8 9:20:02&quot;</span><br><span class="line">     function  getHoursDiff(dt1,dt2) &#123;</span><br><span class="line">         if ( typeof (dt1)&#x3D;&#x3D; &quot;string&quot; ) &#123;</span><br><span class="line">             dt1&#x3D; new  Date(dt1.replace(&#x2F;-&#x2F;, &#39;&#x2F;&#39; ));</span><br><span class="line">             dt2&#x3D; new  Date(dt2.replace(&#x2F;-&#x2F;, &#39;&#x2F;&#39; ));</span><br><span class="line">         &#125;</span><br><span class="line">         var  res&#x3D;dt2.getTime()-dt1.getTime();</span><br><span class="line">         if (isNaN(res))</span><br><span class="line">             throw  Error( &quot;invalid dates arguments&quot; );</span><br><span class="line"></span><br><span class="line">        var ss &#x3D; 1000;</span><br><span class="line">        var mi &#x3D; ss * 60;</span><br><span class="line">        var hh &#x3D; mi * 60;</span><br><span class="line">        var dd &#x3D; hh * 24;</span><br><span class="line"> </span><br><span class="line">        var day &#x3D; parseInt(res &#x2F; dd);</span><br><span class="line">        var hour &#x3D; parseInt((res&#x2F;hh-day*24));</span><br><span class="line">        var minute &#x3D; parseInt((res&#x2F;mi-day*24*60-hour*60));</span><br><span class="line">        var second &#x3D; parseInt((res&#x2F;ss-day*24*60*60-hour*60*60 -minute*60));</span><br><span class="line">        var milliSecond &#x3D; parseInt((res-day*dd-hour*hh -minute*mi - second*ss));</span><br><span class="line"></span><br><span class="line">        if (day &gt; 0) &#123;</span><br><span class="line">            return parseInt(day) + &quot;å¤©&quot; + hour + &quot;å°æ—¶&quot; + minute + &quot;åˆ†é’Ÿ&quot; + second +&quot;ç§’&quot;+ milliSecond +&quot;æ¯«ç§’&quot;;</span><br><span class="line">        &#125; else if (hour &gt; 0) &#123;</span><br><span class="line">            return hour + &quot;å°æ—¶&quot; + minute + &quot;åˆ†é’Ÿ&quot;;</span><br><span class="line">        &#125; else if (minute &gt; 0) &#123;</span><br><span class="line">            return minute + &quot;åˆ†é’Ÿ&quot;;</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            return 0 + &quot;åˆ†é’Ÿ&quot;;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">     &#125;</span><br><span class="line">  </span><br><span class="line">var  re&#x3D;getHoursDiff(dt1,dt2);</span><br></pre></td></tr></table></figure>



<h3 id="è·ç¦»å½“å‰æ—¥æœŸå¤šå°‘å¤©åçš„æ—¥æœŸ"><a href="#è·ç¦»å½“å‰æ—¥æœŸå¤šå°‘å¤©åçš„æ—¥æœŸ" class="headerlink" title="è·ç¦»å½“å‰æ—¥æœŸå¤šå°‘å¤©åçš„æ—¥æœŸ"></a>è·ç¦»å½“å‰æ—¥æœŸå¤šå°‘å¤©åçš„æ—¥æœŸ</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">GetDateStr</span>(<span class="params">AddDayCount</span>) </span>&#123;   </span><br><span class="line">      <span class="keyword">var</span> dd = <span class="keyword">new</span> <span class="built_in">Date</span>();  </span><br><span class="line">      dd.setDate(dd.getDate()+AddDayCount);<span class="comment">//è·å–AddDayCountå¤©åçš„æ—¥æœŸ</span></span><br><span class="line">      <span class="keyword">var</span> y = dd.getFullYear();   </span><br><span class="line">      <span class="keyword">var</span> m = (dd.getMonth()+<span class="number">1</span>)&lt;<span class="number">10</span>?<span class="string">"0"</span>+(dd.getMonth()+<span class="number">1</span>):(dd.getMonth()+<span class="number">1</span>);<span class="comment">//è·å–å½“å‰æœˆä»½çš„æ—¥æœŸï¼Œä¸è¶³10è¡¥0</span></span><br><span class="line">      <span class="keyword">var</span> d = dd.getDate()&lt;<span class="number">10</span>?<span class="string">"0"</span>+dd.getDate():dd.getDate();<span class="comment">//è·å–å½“å‰å‡ å·ï¼Œä¸è¶³10è¡¥0</span></span><br><span class="line">      <span class="keyword">return</span> y+<span class="string">"-"</span>+m+<span class="string">"-"</span>+d;   </span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>



<h3 id="Date-1556121600000-â€™å’Œâ€˜-Date-1528953453022-0800-â€™æ—¥æœŸæ ¼å¼å¤„ç†"><a href="#Date-1556121600000-â€™å’Œâ€˜-Date-1528953453022-0800-â€™æ—¥æœŸæ ¼å¼å¤„ç†" class="headerlink" title="/Date(1556121600000)/â€™å’Œâ€˜/Date(1528953453022+0800)/â€™æ—¥æœŸæ ¼å¼å¤„ç†"></a>/Date(1556121600000)/â€™å’Œâ€˜/Date(1528953453022+0800)/â€™æ—¥æœŸæ ¼å¼å¤„ç†</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">æ–¹æ³•ä¸€ï¼š</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">handelTime</span>(<span class="params">strTime</span>) </span>&#123;</span><br><span class="line"><span class="keyword">var</span> obj = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="built_in">parseInt</span>(strTime.replace(<span class="string">"/Date("</span>, <span class="string">""</span>).replace(<span class="string">")/"</span>, <span class="string">""</span>), <span class="number">10</span>));</span><br><span class="line">       <span class="keyword">return</span> obj.toLocaleDateString();</span><br><span class="line">&#125;</span><br><span class="line">handelTime(<span class="string">'\/Date(1556121600000)\/'</span>)</span><br><span class="line">æ–¹æ³•äºŒï¼š</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">formatDate</span>(<span class="params">dt</span>) </span>&#123; </span><br><span class="line">  <span class="keyword">var</span> year = dt.getFullYear(); </span><br><span class="line">  <span class="keyword">var</span> month = dt.getMonth() + <span class="number">1</span>; </span><br><span class="line">  <span class="keyword">var</span> date = dt.getDate(); </span><br><span class="line">  <span class="keyword">var</span> hour = dt.getHours(); </span><br><span class="line">  <span class="keyword">var</span> minute = dt.getMinutes(); </span><br><span class="line">  <span class="keyword">var</span> second = dt.getSeconds(); </span><br><span class="line">  <span class="keyword">return</span> year + <span class="string">"-"</span> + month + <span class="string">"-"</span> + date + <span class="string">" "</span> + hour + <span class="string">":"</span> + minute + <span class="string">":"</span> + second; </span><br><span class="line">&#125; </span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Test</span>(<span class="params">time</span>) </span>&#123; </span><br><span class="line">	<span class="keyword">var</span> t= time.slice(<span class="number">6</span>, <span class="number">19</span>) </span><br><span class="line">	<span class="keyword">var</span> NewDtime = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="built_in">parseInt</span>(t)); </span><br><span class="line">	<span class="keyword">return</span> formatDate(NewDtime); </span><br><span class="line">&#125; </span><br><span class="line">Test(<span class="string">"/Date(1528953453022+0800)/"</span>)</span><br></pre></td></tr></table></figure>



<h3 id="éªŒè¯ç 60s"><a href="#éªŒè¯ç 60s" class="headerlink" title="éªŒè¯ç 60s"></a>éªŒè¯ç 60s</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">getCountDown(time=<span class="number">60</span>) &#123; <span class="comment">//éªŒè¯ç ä¸€åˆ†é’Ÿå€’è®¡æ—¶</span></span><br><span class="line">  <span class="keyword">var</span> time = <span class="built_in">parseInt</span>(time);</span><br><span class="line">  <span class="keyword">if</span> (time &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="keyword">this</span>.setData(&#123;</span><br><span class="line">      sendMg: <span class="string">"è·å–éªŒè¯ç "</span></span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">this</span>.setData(&#123;</span><br><span class="line">    time: <span class="built_in">parseInt</span>(time) - <span class="number">1</span>,</span><br><span class="line">    sendMg: <span class="string">"å‰©ä½™"</span> + time + <span class="string">"S"</span></span><br><span class="line">  &#125;)</span><br><span class="line">  setTimeout(<span class="keyword">this</span>.getCountDown, <span class="number">1000</span>);</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>



<h3 id="è·ç¦»å½“å¤©24ç‚¹å‰å€’è®¡æ—¶"><a href="#è·ç¦»å½“å¤©24ç‚¹å‰å€’è®¡æ—¶" class="headerlink" title="è·ç¦»å½“å¤©24ç‚¹å‰å€’è®¡æ—¶"></a>è·ç¦»å½“å¤©24ç‚¹å‰å€’è®¡æ—¶</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">setCountDown: <span class="function"><span class="keyword">function</span> (<span class="params">endTime=<span class="string">'2020-07-29 00:00:00'</span></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> nowTime = <span class="keyword">new</span> <span class="built_in">Date</span>().getTime();<span class="comment">//ç°åœ¨æ—¶é—´ï¼ˆæ—¶é—´æˆ³ï¼‰</span></span><br><span class="line">    <span class="keyword">var</span> endTime = <span class="keyword">new</span> <span class="built_in">Date</span>(endTime).getTime();<span class="comment">//ç»“æŸæ—¶é—´ï¼ˆæ—¶é—´æˆ³ï¼‰</span></span><br><span class="line">    <span class="keyword">var</span> intDiff = (endTime - nowTime) / <span class="number">1000</span>;<span class="comment">//è·ç¦»ç»“æŸçš„æ¯«ç§’æ•°</span></span><br><span class="line">    <span class="keyword">var</span> day = <span class="number">0</span>,</span><br><span class="line">      hour = <span class="number">24</span>,</span><br><span class="line">      minute = <span class="number">60</span>,</span><br><span class="line">      second = <span class="number">60</span>;<span class="comment">//æ—¶é—´é»˜è®¤å€¼</span></span><br><span class="line">    <span class="keyword">if</span> (intDiff &gt; <span class="number">0</span>) &#123;</span><br><span class="line">      day = <span class="built_in">Math</span>.floor(intDiff / (<span class="number">60</span> * <span class="number">60</span> * <span class="number">24</span>));</span><br><span class="line">      hour = <span class="built_in">Math</span>.floor(intDiff / (<span class="number">60</span> * <span class="number">60</span>)) - (day * <span class="number">24</span>);</span><br><span class="line">      minute = <span class="built_in">Math</span>.floor(intDiff / <span class="number">60</span>) - (day * <span class="number">24</span> * <span class="number">60</span>) - (hour * <span class="number">60</span>);</span><br><span class="line">      second = <span class="built_in">Math</span>.floor(intDiff) - (day * <span class="number">24</span> * <span class="number">60</span> * <span class="number">60</span>) - (hour * <span class="number">60</span> * <span class="number">60</span>) - (minute * <span class="number">60</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (hour &lt;= <span class="number">9</span>) hour = <span class="string">'0'</span> + hour;</span><br><span class="line">    <span class="keyword">if</span> (minute &lt;= <span class="number">9</span>) minute = <span class="string">'0'</span> + minute;</span><br><span class="line">    <span class="keyword">if</span> (second &lt;= <span class="number">9</span>) second = <span class="string">'0'</span> + second;</span><br><span class="line">    <span class="keyword">this</span>.setData(&#123;</span><br><span class="line">      showTime: day + <span class="string">':'</span> + hour + <span class="string">':'</span> + minute + <span class="string">':'</span> + second</span><br><span class="line">    &#125;)</span><br><span class="line">    setTimeout(<span class="keyword">this</span>.setCountDown, <span class="number">1000</span>);</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>



<h3 id="æ”¯ä»˜åŠå°æ—¶å€’è®¡æ—¶"><a href="#æ”¯ä»˜åŠå°æ—¶å€’è®¡æ—¶" class="headerlink" title="æ”¯ä»˜åŠå°æ—¶å€’è®¡æ—¶"></a>æ”¯ä»˜åŠå°æ—¶å€’è®¡æ—¶</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">setCountDown: <span class="function"><span class="keyword">function</span> (<span class="params">Time = <span class="string">'2020-07-28 16:25:00'</span></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> setTime = <span class="number">0.5</span> * <span class="number">3600</span> * <span class="number">1000</span>;<span class="comment">//åŠä¸ªå°æ—¶çš„æ¯«ç§’æ•°</span></span><br><span class="line">    <span class="keyword">var</span> nowTime = <span class="keyword">new</span> <span class="built_in">Date</span>().getTime();<span class="comment">//ç°åœ¨æ—¶é—´ï¼ˆæ—¶é—´æˆ³ï¼‰</span></span><br><span class="line">    <span class="keyword">var</span> endTime = <span class="keyword">new</span> <span class="built_in">Date</span>().setTime(<span class="keyword">new</span> <span class="built_in">Date</span>(Time).getTime() + setTime);<span class="comment">//è·ç¦»å‚æ•°åŠä¸ªå°æ—¶åçš„æ—¶é—´</span></span><br><span class="line">    <span class="keyword">var</span> intDiff = (endTime - nowTime) / <span class="number">1000</span>;<span class="comment">//æ¯«ç§’æ•°å·®</span></span><br><span class="line">    <span class="keyword">var</span> day = <span class="number">0</span>,</span><br><span class="line">      hour = <span class="number">24</span>,</span><br><span class="line">      minute = <span class="number">60</span>,</span><br><span class="line">      second = <span class="number">60</span>;<span class="comment">//æ—¶é—´é»˜è®¤å€¼</span></span><br><span class="line">    <span class="keyword">if</span> (intDiff &gt; <span class="number">0</span>) &#123;</span><br><span class="line">      day = <span class="built_in">Math</span>.floor(intDiff / (<span class="number">60</span> * <span class="number">60</span> * <span class="number">24</span>));</span><br><span class="line">      hour = <span class="built_in">Math</span>.floor(intDiff / (<span class="number">60</span> * <span class="number">60</span>)) - (day * <span class="number">24</span>);</span><br><span class="line">      minute = <span class="built_in">Math</span>.floor(intDiff / <span class="number">60</span>) - (day * <span class="number">24</span> * <span class="number">60</span>) - (hour * <span class="number">60</span>);</span><br><span class="line">      second = <span class="built_in">Math</span>.floor(intDiff) - (day * <span class="number">24</span> * <span class="number">60</span> * <span class="number">60</span>) - (hour * <span class="number">60</span> * <span class="number">60</span>) - (minute * <span class="number">60</span>);</span><br><span class="line">      <span class="keyword">if</span> (hour &lt;= <span class="number">9</span>) hour = <span class="string">'0'</span> + hour;</span><br><span class="line">      <span class="keyword">if</span> (minute &lt;= <span class="number">9</span>) minute = <span class="string">'0'</span> + minute;</span><br><span class="line">      <span class="keyword">if</span> (second &lt;= <span class="number">9</span>) second = <span class="string">'0'</span> + second;</span><br><span class="line">      <span class="keyword">this</span>.setData(&#123;</span><br><span class="line">        showTime: day + <span class="string">':'</span> + hour + <span class="string">':'</span> + minute + <span class="string">':'</span> + second</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">      <span class="keyword">this</span>.setData(&#123;</span><br><span class="line">        showTime: <span class="string">'00:00:00'</span></span><br><span class="line">      &#125;)</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">    setTimeout(<span class="keyword">this</span>.setCountDown, <span class="number">1000</span>);</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>



<h3 id="éå†å€¼é”®å¯¹"><a href="#éå†å€¼é”®å¯¹" class="headerlink" title="éå†å€¼é”®å¯¹"></a>éå†å€¼é”®å¯¹</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">test: &#123;</span><br><span class="line">                <span class="string">"é˜¿å·´å˜æ——"</span>: &#123;</span><br><span class="line">                    <span class="string">"hot"</span>: <span class="number">10851</span>,</span><br><span class="line">                    <span class="string">"priority"</span>: <span class="number">0</span>,</span><br><span class="line">                    <span class="string">"match"</span>: <span class="string">"abgq|abagaqi"</span>,</span><br><span class="line">                    <span class="string">"stationCode"</span>: <span class="string">"abagaqi"</span>,</span><br><span class="line">                    <span class="string">"cityId"</span>: <span class="number">269</span>,</span><br><span class="line">                    <span class="string">"cityName"</span>: <span class="string">"é”¡æ—éƒ­å‹’ç›Ÿ"</span>,</span><br><span class="line">                    <span class="string">"provinceId"</span>: <span class="number">19</span>,</span><br><span class="line">                    <span class="string">"provinceName"</span>: <span class="string">"å†…è’™å¤"</span>,</span><br><span class="line">                    <span class="string">"longitude"</span>: <span class="string">"0.000000"</span>,</span><br><span class="line">                    <span class="string">"latitude"</span>: <span class="string">"0.000000"</span>,</span><br><span class="line">                    <span class="string">"siteCode"</span>: <span class="string">""</span></span><br><span class="line">                &#125;,</span><br><span class="line">                <span class="string">"é˜¿å°”å±±"</span>: &#123;</span><br><span class="line">                    <span class="string">"hot"</span>: <span class="number">311502</span>,</span><br><span class="line">                    <span class="string">"priority"</span>: <span class="number">10</span>,</span><br><span class="line">                    <span class="string">"match"</span>: <span class="string">"aes|aershan"</span>,</span><br><span class="line">                    <span class="string">"stationCode"</span>: <span class="string">"aershan"</span>,</span><br><span class="line">                    <span class="string">"cityId"</span>: <span class="number">270</span>,</span><br><span class="line">                    <span class="string">"cityName"</span>: <span class="string">"å…´å®‰ç›Ÿ"</span>,</span><br><span class="line">                    <span class="string">"provinceId"</span>: <span class="number">19</span>,</span><br><span class="line">                    <span class="string">"provinceName"</span>: <span class="string">"å†…è’™å¤"</span>,</span><br><span class="line">                    <span class="string">"longitude"</span>: <span class="string">"119.954934"</span>,</span><br><span class="line">                    <span class="string">"latitude"</span>: <span class="string">"47.177865"</span>,</span><br><span class="line">                    <span class="string">"siteCode"</span>: <span class="string">""</span></span><br><span class="line">                &#125;,</span><br><span class="line">&#125;</span><br><span class="line">éå†æ–¹æ³•ï¼š</span><br><span class="line"><span class="keyword">var</span> allcities = [];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> prop <span class="keyword">in</span> test) &#123;</span><br><span class="line">    <span class="keyword">var</span> city = [];</span><br><span class="line">    city.push(test[prop].provinceId, prop, <span class="string">'0'</span>, test[prop].match, test[prop].stationCode);</span><br><span class="line">    allcities.push(city);</span><br><span class="line">    <span class="comment">// console.log(test[prop]);</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="å¯¹è±¡"><a href="#å¯¹è±¡" class="headerlink" title="å¯¹è±¡"></a>å¯¹è±¡</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">åˆ¤æ–­å¯¹è±¡æ˜¯å¦ä¸ºç©º</span><br><span class="line">evtValue = &#123;&#125;</span><br><span class="line"><span class="built_in">JSON</span>.stringify(evtValue) == <span class="string">'&#123;&#125;'</span></span><br><span class="line"><span class="built_in">Object</span>.keys(evtValue).length == <span class="number">0</span></span><br><span class="line">å–å¯¹è±¡çš„å±æ€§å’Œå€¼</span><br><span class="line"><span class="keyword">var</span> obj = &#123; <span class="string">'id'</span>: <span class="number">1</span>, <span class="string">'name'</span>: <span class="string">'å¶è½æ£®'</span>, <span class="string">'sex'</span>: <span class="string">'å¥³'</span> &#125;;</span><br><span class="line"><span class="keyword">var</span> arr1 = <span class="built_in">Object</span>.keys(obj); --å¯ä»¥è·å–keyå€¼</span><br><span class="line"><span class="keyword">var</span> arr2 = <span class="built_in">Object</span>.values(obj); --å¯ä»¥è·å–valueå€¼</span><br><span class="line"><span class="built_in">console</span>.log(arr1);  <span class="comment">// ['id','name','sex']</span></span><br><span class="line"><span class="built_in">console</span>.log(arr2);  <span class="comment">//  ['1','å¶è½æ£®','å¥³']</span></span><br><span class="line"><span class="built_in">console</span>.log(arr2[<span class="number">1</span>]);  <span class="comment">// å¶è½æ£®</span></span><br></pre></td></tr></table></figure>



<h3 id="window-location"><a href="#window-location" class="headerlink" title="window.location"></a>window.location</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ä¸€ã€window.locationå…·æœ‰ä»¥ä¸‹å±æ€§ï¼š</span><br><span class="line"></span><br><span class="line">1ã€window.location.hrefï¼šå–å¾—å½“å‰åœ°å€æ ä¸­çš„å®Œæ•´URLï¼Œå¯ä»¥é€šè¿‡èµ‹å€¼æ”¹å˜å½“å‰åœ°å€æ ä¸­çš„URLï¼›</span><br><span class="line"></span><br><span class="line">2ã€window.location.search å–å¾—å½“å‰URLçš„å‚æ•°éƒ¨åˆ†ï¼Œå³â€œ?â€åé¢çš„éƒ¨åˆ†ï¼ˆåŒ…æ‹¬é—®å·ï¼‰ï¼Œå¯ä»¥é€šè¿‡èµ‹å€¼æ”¹å˜URLçš„å‚æ•°éƒ¨åˆ†ï¼›</span><br><span class="line"></span><br><span class="line">3ã€window.location.hostï¼šå–å¾—å½“å‰URLä¸­çš„ä¸»æœºä¿¡æ¯ï¼ŒåŒ…æ‹¬ç«¯å£å·ï¼Œå¯ä»¥é€šè¿‡èµ‹å€¼æ”¹å˜ä¸»æœºä¿¡æ¯ï¼›</span><br><span class="line"></span><br><span class="line">4ã€window.location.portï¼šå–å¾—å½“å‰URLä¸­çš„ç«¯å£å·ï¼Œå¯ä»¥é€šè¿‡èµ‹å€¼æ”¹å˜ç«¯å£å·ï¼›</span><br><span class="line"></span><br><span class="line">5ã€window.location.pathnameï¼šå–å¾—å½“å‰URLä¸­çš„è·¯å¾„ä¿¡æ¯ï¼Œå³åŸŸåä¸å‚æ•°ä¹‹é—´çš„éƒ¨åˆ†ï¼Œå¯ä»¥é€šè¿‡èµ‹å€¼æ”¹å˜å½“å‰URLçš„è·¯å¾„ï¼›</span><br><span class="line"></span><br><span class="line">6ã€window.location.protocolï¼šå–å¾—å½“å‰URLçš„åè®®éƒ¨åˆ†ï¼Œæ¯”å¦‚http:ï¼Œhttps:ç­‰ï¼Œå¯ä»¥é€šè¿‡èµ‹å€¼æ”¹å˜URLçš„åè®®éƒ¨åˆ†ï¼›</span><br><span class="line"></span><br><span class="line">è®¾ç½®æœ‰ä»¥ä¸‹æ–¹æ³•ï¼š</span><br><span class="line"></span><br><span class="line">1ã€window.location.replace(url)ï¼šç”¨ä¼ å…¥çš„URLå­—ç¬¦ä¸²æ›¿ä»£å½“å‰çš„URLï¼Œè¯¥æ–¹æ³•ä¼šå°†å†å²è®°å½•ä¸­çš„URLä¸€å¹¶æ›¿æ¢æ‰ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™ä¸ªæ–¹æ³•ä¼šè¦†ç›–ä¹‹å‰çš„å†å²è®°å½•ï¼›</span><br><span class="line"></span><br><span class="line">2ã€window.location.reload()ï¼šé‡æ–°åŠ è½½å½“å‰URLï¼Œç›¸å½“äºåˆ·æ–°ï¼›</span><br><span class="line"></span><br><span class="line">3ã€window.location.assign(url)ï¼šåŠ è½½ä¼ å…¥çš„URLï¼Œè¯¥æ–¹æ³•ä¸ä¼šè¦†ç›–ä¹‹å‰çš„å†å²è®°å½•ï¼›</span><br><span class="line"></span><br><span class="line">if(&quot;https:&quot; &#x3D;&#x3D; document.location.protocol </span><br><span class="line">     alert(&quot;HTTPS&quot;)</span><br><span class="line"> );</span><br><span class="line">document.location.protocol</span><br><span class="line">å¯è®¾ç½®æˆ–è¿”å›å½“å‰ URL çš„åè®®</span><br></pre></td></tr></table></figure>



<h3 id="åˆ¤æ–­æœºå‹â€“iphoneX"><a href="#åˆ¤æ–­æœºå‹â€“iphoneX" class="headerlink" title="åˆ¤æ–­æœºå‹â€“iphoneX"></a>åˆ¤æ–­æœºå‹â€“iphoneX</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isIphoneX</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="regexp">/iphone/gi</span>.test(navigator.userAgent) &amp;&amp; (screen.height == <span class="number">812</span> &amp;&amp; screen.width == <span class="number">375</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="jså®ç°æ ¹æ®èº«ä»½è¯å·ç è¯†åˆ«-æ€§åˆ«-å¹´é¾„-ç”Ÿæ—¥"><a href="#jså®ç°æ ¹æ®èº«ä»½è¯å·ç è¯†åˆ«-æ€§åˆ«-å¹´é¾„-ç”Ÿæ—¥" class="headerlink" title="jså®ç°æ ¹æ®èº«ä»½è¯å·ç è¯†åˆ« æ€§åˆ« å¹´é¾„ ç”Ÿæ—¥"></a>jså®ç°æ ¹æ®èº«ä»½è¯å·ç è¯†åˆ« æ€§åˆ« å¹´é¾„ ç”Ÿæ—¥</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">discriCard</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">//è·å–è¾“å…¥èº«ä»½è¯å·ç  </span></span><br><span class="line">    <span class="keyword">var</span> UUserCard = <span class="string">""</span>;</span><br><span class="line">    <span class="comment">//è·å–å‡ºç”Ÿæ—¥æœŸ </span></span><br><span class="line">    UUserCard.substring(<span class="number">6</span>, <span class="number">10</span>) + <span class="string">"-"</span> + UUserCard.substring(<span class="number">10</span>, <span class="number">12</span>) + <span class="string">"-"</span> + UUserCard.substring(<span class="number">12</span>, <span class="number">14</span>);</span><br><span class="line">    <span class="comment">//è·å–æ€§åˆ« </span></span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">parseInt</span>(UUserCard.substr(<span class="number">16</span>, <span class="number">1</span>)) % <span class="number">2</span> == <span class="number">1</span>) &#123;</span><br><span class="line">        alert(<span class="string">"ç”·"</span>)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        alert(<span class="string">"å¥³"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//è·å–å¹´é¾„ </span></span><br><span class="line">    <span class="keyword">var</span> myDate = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line">    <span class="keyword">var</span> month = myDate.getMonth() + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">var</span> day = myDate.getDate();</span><br><span class="line">    <span class="keyword">var</span> age = myDate.getFullYear() - UUserCard.substring(<span class="number">6</span>, <span class="number">10</span>) - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> (UUserCard.substring(<span class="number">10</span>, <span class="number">12</span>) &lt; month || UUserCard.substring(<span class="number">10</span>, <span class="number">12</span>) == month &amp;&amp; UUserCard.substring(<span class="number">12</span>, <span class="number">14</span>) &lt;= day) &#123;</span><br><span class="line">        age++</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//å¹´é¾„ age </span></span><br><span class="line">    alert(age)</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="éªŒè¯èº«ä»½è¯æœ‰æœ¨æœ‰18å‘¨å²"><a href="#éªŒè¯èº«ä»½è¯æœ‰æœ¨æœ‰18å‘¨å²" class="headerlink" title="éªŒè¯èº«ä»½è¯æœ‰æœ¨æœ‰18å‘¨å²"></a>éªŒè¯èº«ä»½è¯æœ‰æœ¨æœ‰18å‘¨å²</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> self = <span class="keyword">this</span>;</span><br><span class="line"><span class="keyword">var</span> strBirthday = num.substr(<span class="number">6</span>, <span class="number">4</span>) + <span class="string">"/"</span> + num.substr(<span class="number">10</span>, <span class="number">2</span>) + <span class="string">"/"</span> + num.substr(<span class="number">12</span>, <span class="number">2</span>);</span><br><span class="line"><span class="keyword">var</span> birthDate = <span class="keyword">new</span> <span class="built_in">Date</span>(strBirthday);</span><br><span class="line"><span class="keyword">var</span> nowDateTime = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line"><span class="keyword">var</span> age = nowDateTime.getFullYear() - birthDate.getFullYear();</span><br><span class="line"><span class="keyword">if</span> (nowDateTime.getMonth() &lt; birthDate.getMonth() || (nowDateTime.getMonth() == birthDate.getMonth() &amp;&amp; nowDateTime.getDate() &lt; birthDate.getDate())) &#123;</span><br><span class="line">    age--;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (age &lt; <span class="number">18</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="èº«ä»½è¯æ˜¯å¦åˆæ³•"><a href="#èº«ä»½è¯æ˜¯å¦åˆæ³•" class="headerlink" title="èº«ä»½è¯æ˜¯å¦åˆæ³•"></a>èº«ä»½è¯æ˜¯å¦åˆæ³•</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">éªŒè¯èº«ä»½è¯å·æ–¹æ³•</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> IdentityCodeValid = <span class="function">(<span class="params">code</span>) =&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> city=&#123;<span class="number">11</span>:<span class="string">"åŒ—äº¬"</span>,<span class="number">12</span>:<span class="string">"å¤©æ´¥"</span>,<span class="number">13</span>:<span class="string">"æ²³åŒ—"</span>,<span class="number">14</span>:<span class="string">"å±±è¥¿"</span>,<span class="number">15</span>:<span class="string">"å†…è’™å¤"</span>,<span class="number">21</span>:<span class="string">"è¾½å®"</span>,<span class="number">22</span>:<span class="string">"å‰æ—"</span>,<span class="number">23</span>:<span class="string">"é»‘é¾™æ±Ÿ "</span>,<span class="number">31</span>:<span class="string">"ä¸Šæµ·"</span>,<span class="number">32</span>:<span class="string">"æ±Ÿè‹"</span>,<span class="number">33</span>:<span class="string">"æµ™æ±Ÿ"</span>,<span class="number">34</span>:<span class="string">"å®‰å¾½"</span>,<span class="number">35</span>:<span class="string">"ç¦å»º"</span>,<span class="number">36</span>:<span class="string">"æ±Ÿè¥¿"</span>,<span class="number">37</span>:<span class="string">"å±±ä¸œ"</span>,<span class="number">41</span>:<span class="string">"æ²³å—"</span>,<span class="number">42</span>:<span class="string">"æ¹–åŒ— "</span>,<span class="number">43</span>:<span class="string">"æ¹–å—"</span>,<span class="number">44</span>:<span class="string">"å¹¿ä¸œ"</span>,<span class="number">45</span>:<span class="string">"å¹¿è¥¿"</span>,<span class="number">46</span>:<span class="string">"æµ·å—"</span>,<span class="number">50</span>:<span class="string">"é‡åº†"</span>,<span class="number">51</span>:<span class="string">"å››å·"</span>,<span class="number">52</span>:<span class="string">"è´µå·"</span>,<span class="number">53</span>:<span class="string">"äº‘å—"</span>,<span class="number">54</span>:<span class="string">"è¥¿è— "</span>,<span class="number">61</span>:<span class="string">"é™•è¥¿"</span>,<span class="number">62</span>:<span class="string">"ç”˜è‚ƒ"</span>,<span class="number">63</span>:<span class="string">"é’æµ·"</span>,<span class="number">64</span>:<span class="string">"å®å¤"</span>,<span class="number">65</span>:<span class="string">"æ–°ç–†"</span>,<span class="number">71</span>:<span class="string">"å°æ¹¾"</span>,<span class="number">81</span>:<span class="string">"é¦™æ¸¯"</span>,<span class="number">82</span>:<span class="string">"æ¾³é—¨"</span>,<span class="number">91</span>:<span class="string">"å›½å¤– "</span>&#125;;</span><br><span class="line">    <span class="keyword">var</span> tip = <span class="string">""</span>;</span><br><span class="line">    <span class="keyword">var</span> pass= <span class="literal">true</span>;</span><br><span class="line">    <span class="comment">//éªŒè¯èº«ä»½è¯æ ¼å¼ï¼ˆ6ä¸ªåœ°åŒºç¼–ç ï¼Œ8ä½å‡ºç”Ÿæ—¥æœŸï¼Œ3ä½é¡ºåºå·ï¼Œ1ä½æ ¡éªŒä½ï¼‰</span></span><br><span class="line">    <span class="keyword">if</span>(!code || !<span class="regexp">/^\d&#123;6&#125;(18|19|20)?\d&#123;2&#125;(0[1-9]|1[012])(0[1-9]|[12]\d|3[01])\d&#123;3&#125;(\d|X)$/i</span>.test(code))&#123;</span><br><span class="line">        tip = <span class="string">"èº«ä»½è¯å·æ ¼å¼é”™è¯¯"</span>;</span><br><span class="line">        pass = <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">   <span class="keyword">else</span> <span class="keyword">if</span>(!city[code.substr(<span class="number">0</span>,<span class="number">2</span>)])&#123;</span><br><span class="line">        tip = <span class="string">"åœ°å€ç¼–ç é”™è¯¯"</span>;</span><br><span class="line">        pass = <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="comment">//18ä½èº«ä»½è¯éœ€è¦éªŒè¯æœ€åä¸€ä½æ ¡éªŒä½</span></span><br><span class="line">        <span class="keyword">if</span>(code.length == <span class="number">18</span>)&#123;</span><br><span class="line">            code = code.split(<span class="string">''</span>);</span><br><span class="line">            <span class="comment">//âˆ‘(aiÃ—Wi)(mod 11)</span></span><br><span class="line">            <span class="comment">//åŠ æƒå› å­</span></span><br><span class="line">            <span class="keyword">var</span> factor = [ <span class="number">7</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">6</span>, <span class="number">3</span>, <span class="number">7</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">4</span>, <span class="number">2</span> ];</span><br><span class="line">            <span class="comment">//æ ¡éªŒä½</span></span><br><span class="line">            <span class="keyword">var</span> parity = [ <span class="number">1</span>, <span class="number">0</span>, <span class="string">'X'</span>, <span class="number">9</span>, <span class="number">8</span>, <span class="number">7</span>, <span class="number">6</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span> ];</span><br><span class="line">            <span class="keyword">var</span> sum = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">var</span> ai = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">var</span> wi = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">17</span>; i++)</span><br><span class="line">            &#123;</span><br><span class="line">                ai = code[i];</span><br><span class="line">                wi = factor[i];</span><br><span class="line">                sum += ai * wi;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">var</span> last = parity[sum % <span class="number">11</span>];</span><br><span class="line">            <span class="keyword">if</span>(parity[sum % <span class="number">11</span>] != code[<span class="number">17</span>])&#123;</span><br><span class="line">                tip = <span class="string">"æ ¡éªŒä½é”™è¯¯"</span>;</span><br><span class="line">                pass =<span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(code.length == <span class="number">15</span>)&#123;</span><br><span class="line">            <span class="comment">// </span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> pass;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="imgæ ‡ç­¾çš„onerroräº‹ä»¶"><a href="#imgæ ‡ç­¾çš„onerroräº‹ä»¶" class="headerlink" title="imgæ ‡ç­¾çš„onerroräº‹ä»¶"></a>imgæ ‡ç­¾çš„onerroräº‹ä»¶</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="number">1.</span>å¾ªç¯é‡Œçš„å›¾ç‰‡ç›´æ¥å¼•ç”¨åŸç”Ÿäº‹ä»¶</span><br><span class="line">&lt; div v-<span class="keyword">for</span>= <span class="string">"(item,index) in imgSrcList"</span> &gt;</span><br><span class="line">    &lt;p&gt; item.test &lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">    &lt;img :src="'/i</span>travel/itravel/assets/images/common/<span class="string">'+item.test+'</span>.png<span class="string">'" onerror="javascript:this.src='</span>/itravel/itravel/assets/images/ticket/child-desc.png<span class="string">';" /&gt;</span></span><br><span class="line"><span class="string">&lt;div/ &gt;</span></span><br><span class="line"><span class="string">2.åªæœ‰ä¸€ä¸ªè·¯å¾„</span></span><br><span class="line"><span class="string">    &lt;div class="pic" &gt;</span></span><br><span class="line"><span class="string">        &lt;img v-bind: src="item.productInfo.images[0].url" v-on: error="imgError(item)" /&gt;</span></span><br><span class="line"><span class="string">    &lt;div/ &gt;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">imgError: function (item) &#123;</span></span><br><span class="line"><span class="string">    item.productInfo.images[0].url = '</span>http:<span class="comment">//t.cn/RmxJlMa'</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="é€’å½’ä¼˜åŒ–"><a href="#é€’å½’ä¼˜åŒ–" class="headerlink" title="é€’å½’ä¼˜åŒ–"></a>é€’å½’ä¼˜åŒ–</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">é€’å½’ä¼˜åŒ–</span><br><span class="line">function factorial(n) &#123;</span><br><span class="line">    if (n &#x3D;&#x3D;&#x3D; 1) &#123;</span><br><span class="line">        return n;</span><br><span class="line">    &#125;</span><br><span class="line">    return n * factorial(n - 1) &#x2F;&#x2F; é‡ç‚¹åœ¨å°¾éƒ¨è°ƒç”¨è¿”å›</span><br><span class="line">&#125;</span><br><span class="line">ä¹‹å</span><br><span class="line">console.log(factorial(5)) &#x2F;&#x2F; 120</span><br><span class="line">function factorial(n, total &#x3D; 1) &#123;</span><br><span class="line">    if (n &#x3D;&#x3D;&#x3D; 1) &#123;</span><br><span class="line">        return total;</span><br><span class="line">    &#125;</span><br><span class="line">    return factorial(n - 1, total * n); &#x2F;&#x2F; é‡ç‚¹åœ¨å°¾éƒ¨è°ƒç”¨è¿”å›</span><br><span class="line">&#125;</span><br><span class="line">console.log(factorial(5)) &#x2F;&#x2F; 120</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>js</category>
      </categories>
      <tags>
        <tag>js</tag>
        <tag>æœåŠ¡å™¨æ—¶é—´</tag>
      </tags>
  </entry>
  <entry>
    <title>jsæ–¹æ³•ï¼ˆä¸‰ï¼‰</title>
    <url>/2020/07/30/js%E6%96%B9%E6%B3%95%EF%BC%88%E4%B8%89%EF%BC%89/</url>
    <content><![CDATA[<p>1.é‚®ç®±</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const isEmail &#x3D; (s) &#x3D;&gt; &#123;</span><br><span class="line">    return &#x2F;^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+((.[a-zA-Z0-9_-]&#123;2,3&#125;)&#123;1,2&#125;)$&#x2F;.test(s)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>2.æ‰‹æœºå·ç </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const isMobile &#x3D; (s) &#x3D;&gt; &#123;</span><br><span class="line">    return &#x2F;^1[0-9]&#123;10&#125;$&#x2F;.test(s)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<a id="more"></a>

<p>3.ç”µè¯å·ç </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const isPhone &#x3D; (s) &#x3D;&gt; &#123;</span><br><span class="line">    return &#x2F;^([0-9]&#123;3,4&#125;-)?[0-9]&#123;7,8&#125;$&#x2F;.test(s)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>4.æ˜¯å¦urlåœ°å€</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const isURL &#x3D; (s) &#x3D;&gt; &#123;</span><br><span class="line">    return &#x2F;^http[s]?:\&#x2F;\&#x2F;.*&#x2F;.test(s)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>5.æ˜¯å¦å­—ç¬¦ä¸²</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const isString &#x3D; (o) &#x3D;&gt; &#123;</span><br><span class="line">    return Object.prototype.toString.call(o).slice(8, -1) &#x3D;&#x3D;&#x3D; &#39;String&#39;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>6.æ˜¯å¦æ•°å­—</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const isNumber &#x3D; (o) &#x3D;&gt; &#123;</span><br><span class="line">    return Object.prototype.toString.call(o).slice(8, -1) &#x3D;&#x3D;&#x3D; &#39;Number&#39;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>7.æ˜¯å¦boolean</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const isBoolean &#x3D; (o) &#x3D;&gt; &#123;</span><br><span class="line">    return Object.prototype.toString.call(o).slice(8, -1) &#x3D;&#x3D;&#x3D; &#39;Boolean&#39;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>8.æ˜¯å¦å‡½æ•°</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const isFunction &#x3D; (o) &#x3D;&gt; &#123;</span><br><span class="line">    return Object.prototype.toString.call(o).slice(8, -1) &#x3D;&#x3D;&#x3D; &#39;Function&#39;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>9.æ˜¯å¦ä¸ºnull</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const isNull &#x3D; (o) &#x3D;&gt; &#123;</span><br><span class="line">    return Object.prototype.toString.call(o).slice(8, -1) &#x3D;&#x3D;&#x3D; &#39;Null&#39;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>10.æ˜¯å¦undefined</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const isUndefined &#x3D; (o) &#x3D;&gt; &#123;</span><br><span class="line">    return Object.prototype.toString.call(o).slice(8, -1) &#x3D;&#x3D;&#x3D; &#39;Undefined&#39;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>11.æ˜¯å¦å¯¹è±¡</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const isObj &#x3D; (o) &#x3D;&gt; &#123;</span><br><span class="line">    return Object.prototype.toString.call(o).slice(8, -1) &#x3D;&#x3D;&#x3D; &#39;Object&#39;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>12.æ˜¯å¦æ•°ç»„</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const isArray &#x3D; (o) &#x3D;&gt; &#123;</span><br><span class="line">    return Object.prototype.toString.call(o).slice(8, -1) &#x3D;&#x3D;&#x3D; &#39;Array&#39;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>13.æ˜¯å¦æ—¶é—´</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const isDate &#x3D; (o) &#x3D;&gt; &#123;</span><br><span class="line">    return Object.prototype.toString.call(o).slice(8, -1) &#x3D;&#x3D;&#x3D; &#39;Date&#39;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>14.æ˜¯å¦æ­£åˆ™</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const isRegExp &#x3D; (o) &#x3D;&gt; &#123;</span><br><span class="line">    return Object.prototype.toString.call(o).slice(8, -1) &#x3D;&#x3D;&#x3D; &#39;RegExp&#39;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>15.æ˜¯å¦é”™è¯¯å¯¹è±¡</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const isError &#x3D; (o) &#x3D;&gt; &#123;</span><br><span class="line">    return Object.prototype.toString.call(o).slice(8, -1) &#x3D;&#x3D;&#x3D; &#39;Error&#39;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>16.æ˜¯å¦Symbolå‡½æ•°</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const isSymbol &#x3D; (o) &#x3D;&gt; &#123;</span><br><span class="line">    return Object.prototype.toString.call(o).slice(8, -1) &#x3D;&#x3D;&#x3D; &#39;Symbol&#39;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>17.æ˜¯å¦Promiseå¯¹è±¡</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const isPromise &#x3D; (o) &#x3D;&gt; &#123;</span><br><span class="line">    return Object.prototype.toString.call(o).slice(8, -1) &#x3D;&#x3D;&#x3D; &#39;Promise&#39;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>18.æ˜¯å¦Setå¯¹è±¡</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const isSet &#x3D; (o) &#x3D;&gt; &#123;</span><br><span class="line">    return Object.prototype.toString.call(o).slice(8, -1) &#x3D;&#x3D;&#x3D; &#39;Set&#39;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>19.æ˜¯å¦æ˜¯å¾®ä¿¡æµè§ˆå™¨</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const ua &#x3D; navigator.userAgent.toLowerCase();</span><br><span class="line">export const isWeiXin &#x3D; () &#x3D;&gt; &#123;</span><br><span class="line">    return ua.match(&#x2F;microMessenger&#x2F;i) &#x3D;&#x3D; &#39;micromessenger&#39;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>20.æ˜¯å¦æ˜¯ç§»åŠ¨ç«¯</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const isDeviceMobile &#x3D; () &#x3D;&gt; &#123;</span><br><span class="line">    return &#x2F;android|webos|iphone|ipod|balckberry&#x2F;i.test(ua)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>21.æ˜¯å¦æ˜¯QQæµè§ˆå™¨</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const isQQBrowser &#x3D; () &#x3D;&gt; &#123;</span><br><span class="line">    return !!ua.match(&#x2F;mqqbrowser|qzone|qqbrowser|qbwebviewtype&#x2F;i)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>22.æ˜¯å¦æ˜¯çˆ¬è™«</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const isSpider &#x3D; () &#x3D;&gt; &#123;</span><br><span class="line">    return &#x2F;adsbot|googlebot|bingbot|msnbot|yandexbot|baidubot|robot|careerbot|seznambot|bot|baiduspider|jikespider|symantecspider|scannerlwebcrawler|crawler|360spider|sosospider|sogou web sprider|sogou orion spider&#x2F;.test(ua)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>23.æ˜¯å¦ios</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const isIos &#x3D; () &#x3D;&gt; &#123;</span><br><span class="line">    var u &#x3D; navigator.userAgent;</span><br><span class="line">    if (u.indexOf(&#39;Android&#39;) &gt; -1 || u.indexOf(&#39;Linux&#39;) &gt; -1) &#123;  &#x2F;&#x2F;å®‰å“æ‰‹æœº</span><br><span class="line">        return false</span><br><span class="line">    &#125; else if (u.indexOf(&#39;iPhone&#39;) &gt; -1) &#123;&#x2F;&#x2F;è‹¹æœæ‰‹æœº</span><br><span class="line">        return true</span><br><span class="line">    &#125; else if (u.indexOf(&#39;iPad&#39;) &gt; -1) &#123;&#x2F;&#x2F;iPad</span><br><span class="line">        return false</span><br><span class="line">    &#125; else if (u.indexOf(&#39;Windows Phone&#39;) &gt; -1) &#123;&#x2F;&#x2F;winphoneæ‰‹æœº</span><br><span class="line">        return false</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        return false</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>24.æ˜¯å¦ä¸ºPCç«¯</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const isPC &#x3D; () &#x3D;&gt; &#123;</span><br><span class="line">    var userAgentInfo &#x3D; navigator.userAgent;</span><br><span class="line">    var Agents &#x3D; [&quot;Android&quot;, &quot;iPhone&quot;,</span><br><span class="line">        &quot;SymbianOS&quot;, &quot;Windows Phone&quot;,</span><br><span class="line">        &quot;iPad&quot;, &quot;iPod&quot;];</span><br><span class="line">    var flag &#x3D; true;</span><br><span class="line">    for (var v &#x3D; 0; v &lt; Agents.length; v++) &#123;</span><br><span class="line">        if (userAgentInfo.indexOf(Agents[v]) &gt; 0) &#123;</span><br><span class="line">            flag &#x3D; false;</span><br><span class="line">            break;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return flag;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>25.å»é™¤htmlæ ‡ç­¾</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const removeHtmltag &#x3D; (str) &#x3D;&gt; &#123;</span><br><span class="line">    return str.replace(&#x2F;&lt;[^&gt;]+&gt;&#x2F;g, &#39;&#39;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>26.è·å–urlå‚æ•°</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const getQueryString &#x3D; (name) &#x3D;&gt; &#123;</span><br><span class="line">    const reg &#x3D; new RegExp(&#39;(^|&amp;)&#39; + name + &#39;&#x3D;([^&amp;]*)(&amp;|$)&#39;, &#39;i&#39;);</span><br><span class="line">    const search &#x3D; window.location.search.split(&#39;?&#39;)[1] || &#39;&#39;;</span><br><span class="line">    const r &#x3D; search.match(reg) || [];</span><br><span class="line">    return r[2];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>27.åŠ¨æ€å¼•å…¥js</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const injectScript &#x3D; (src) &#x3D;&gt; &#123;</span><br><span class="line">    const s &#x3D; document.createElement(&#39;script&#39;);</span><br><span class="line">    s.type &#x3D; &#39;text&#x2F;javascript&#39;;</span><br><span class="line">    s.async &#x3D; true;</span><br><span class="line">    s.src &#x3D; src;</span><br><span class="line">    const t &#x3D; document.getElementsByTagName(&#39;script&#39;)[0];</span><br><span class="line">    t.parentNode.insertBefore(s, t);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>28.æ ¹æ®urlåœ°å€ä¸‹è½½</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const download &#x3D; (url) &#x3D;&gt; &#123;</span><br><span class="line">    var isChrome &#x3D; navigator.userAgent.toLowerCase().indexOf(&#39;chrome&#39;) &gt; -1;</span><br><span class="line">    var isSafari &#x3D; navigator.userAgent.toLowerCase().indexOf(&#39;safari&#39;) &gt; -1;</span><br><span class="line">    if (isChrome || isSafari) &#123;</span><br><span class="line">        var link &#x3D; document.createElement(&#39;a&#39;);</span><br><span class="line">        link.href &#x3D; url;</span><br><span class="line">        if (link.download !&#x3D;&#x3D; undefined) &#123;</span><br><span class="line">            var fileName &#x3D; url.substring(url.lastIndexOf(&#39;&#x2F;&#39;) + 1, url.length);</span><br><span class="line">            link.download &#x3D; fileName;</span><br><span class="line">        &#125;</span><br><span class="line">        if (document.createEvent) &#123;</span><br><span class="line">            var e &#x3D; document.createEvent(&#39;MouseEvents&#39;);</span><br><span class="line">            e.initEvent(&#39;click&#39;, true, true);</span><br><span class="line">            link.dispatchEvent(e);</span><br><span class="line">            return true;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    if (url.indexOf(&#39;?&#39;) &#x3D;&#x3D;&#x3D; -1) &#123;</span><br><span class="line">        url +&#x3D; &#39;?download&#39;;</span><br><span class="line">    &#125;</span><br><span class="line">    window.open(url, &#39;_self&#39;);</span><br><span class="line">    return true;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>29.elæ˜¯å¦åŒ…å«æŸä¸ªclass</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const hasClass &#x3D; (el, className) &#x3D;&gt; &#123;</span><br><span class="line">    let reg &#x3D; new RegExp(&#39;(^|\\s)&#39; + className + &#39;(\\s|$)&#39;)</span><br><span class="line">    return reg.test(el.className)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>30.elæ·»åŠ æŸä¸ªclass</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const addClass &#x3D; (el, className) &#x3D;&gt; &#123;</span><br><span class="line">    if (hasClass(el, className)) &#123;</span><br><span class="line">        return</span><br><span class="line">    &#125;</span><br><span class="line">    let newClass &#x3D; el.className.split(&#39; &#39;)</span><br><span class="line">    newClass.push(className)</span><br><span class="line">    el.className &#x3D; newClass.join(&#39; &#39;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>31.elå»é™¤æŸä¸ªclass</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const removeClass &#x3D; (el, className) &#x3D;&gt; &#123;</span><br><span class="line">    if (!hasClass(el, className)) &#123;</span><br><span class="line">        return</span><br><span class="line">    &#125;</span><br><span class="line">    let reg &#x3D; new RegExp(&#39;(^|\\s)&#39; + className + &#39;(\\s|$)&#39;, &#39;g&#39;)</span><br><span class="line">    el.className &#x3D; el.className.replace(reg, &#39; &#39;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>32.è·å–æ»šåŠ¨çš„åæ ‡</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const getScrollPosition &#x3D; (el &#x3D; window) &#x3D;&gt; (&#123;</span><br><span class="line">    x: el.pageXOffset !&#x3D;&#x3D; undefined ? el.pageXOffset : el.scrollLeft,</span><br><span class="line">    y: el.pageYOffset !&#x3D;&#x3D; undefined ? el.pageYOffset : el.scrollTop</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>33.æ»šåŠ¨åˆ°é¡¶éƒ¨</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const scrollToTop &#x3D; () &#x3D;&gt; &#123;</span><br><span class="line">    const c &#x3D; document.documentElement.scrollTop || document.body.scrollTop;</span><br><span class="line">    if (c &gt; 0) &#123;</span><br><span class="line">        window.requestAnimationFrame(scrollToTop);</span><br><span class="line">        window.scrollTo(0, c - c &#x2F; 8);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>34.elæ˜¯å¦åœ¨è§†å£èŒƒå›´å†…</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const elementIsVisibleInViewport &#x3D; (el, partiallyVisible &#x3D; false) &#x3D;&gt; &#123;</span><br><span class="line">    const &#123; top, left, bottom, right &#125; &#x3D; el.getBoundingClientRect();</span><br><span class="line">    const &#123; innerHeight, innerWidth &#125; &#x3D; window;</span><br><span class="line">    return partiallyVisible</span><br><span class="line">        ? ((top &gt; 0 &amp;&amp; top &lt; innerHeight) || (bottom &gt; 0 &amp;&amp; bottom &lt; innerHeight)) &amp;&amp;</span><br><span class="line">        ((left &gt; 0 &amp;&amp; left &lt; innerWidth) || (right &gt; 0 &amp;&amp; right &lt; innerWidth))</span><br><span class="line">        : top &gt;&#x3D; 0 &amp;&amp; left &gt;&#x3D; 0 &amp;&amp; bottom &lt;&#x3D; innerHeight &amp;&amp; right &lt;&#x3D; innerWidth;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>35.æ´—ç‰Œç®—æ³•éšæœº</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const shuffle &#x3D; (arr) &#x3D;&gt; &#123;</span><br><span class="line">    var result &#x3D; [],</span><br><span class="line">        random;</span><br><span class="line">    while (arr.length &gt; 0) &#123;</span><br><span class="line">        random &#x3D; Math.floor(Math.random() * arr.length);</span><br><span class="line">        result.push(arr[random])</span><br><span class="line">        arr.splice(random, 1)</span><br><span class="line">    &#125;</span><br><span class="line">    return result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>36.åŠ«æŒç²˜è´´æ¿</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const copyTextToClipboard &#x3D; (value) &#x3D;&gt; &#123;</span><br><span class="line">    var textArea &#x3D; document.createElement(&quot;textarea&quot;);</span><br><span class="line">    textArea.style.background &#x3D; &#39;transparent&#39;;</span><br><span class="line">    textArea.value &#x3D; value;</span><br><span class="line">    document.body.appendChild(textArea);</span><br><span class="line">    textArea.select();</span><br><span class="line">    try &#123;</span><br><span class="line">        var successful &#x3D; document.execCommand(&#39;copy&#39;);</span><br><span class="line">    &#125; catch (err) &#123;</span><br><span class="line">        console.log(&#39;Oops, unable to copy&#39;);</span><br><span class="line">    &#125;</span><br><span class="line">    document.body.removeChild(textArea);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>37.åˆ¤æ–­ç±»å‹é›†åˆ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const checkStr &#x3D; (str, type) &#x3D;&gt; &#123;</span><br><span class="line">    switch (type) &#123;</span><br><span class="line">        case &#39;phone&#39;:   &#x2F;&#x2F;æ‰‹æœºå·ç </span><br><span class="line">            return &#x2F;^1[3|4|5|6|7|8|9][0-9]&#123;9&#125;$&#x2F;.test(str);</span><br><span class="line">        case &#39;tel&#39;:     &#x2F;&#x2F;åº§æœº</span><br><span class="line">            return &#x2F;^(0\d&#123;2,3&#125;-\d&#123;7,8&#125;)(-\d&#123;1,4&#125;)?$&#x2F;.test(str);</span><br><span class="line">        case &#39;card&#39;:    &#x2F;&#x2F;èº«ä»½è¯</span><br><span class="line">            return &#x2F;(^\d&#123;15&#125;$)|(^\d&#123;18&#125;$)|(^\d&#123;17&#125;(\d|X|x)$)&#x2F;.test(str);</span><br><span class="line">        case &#39;pwd&#39;:     &#x2F;&#x2F;å¯†ç ä»¥å­—æ¯å¼€å¤´ï¼Œé•¿åº¦åœ¨6~18ä¹‹é—´ï¼Œåªèƒ½åŒ…å«å­—æ¯ã€æ•°å­—å’Œä¸‹åˆ’çº¿</span><br><span class="line">            return &#x2F;^[a-zA-Z]\w&#123;5,17&#125;$&#x2F;.test(str)</span><br><span class="line">        case &#39;postal&#39;:  &#x2F;&#x2F;é‚®æ”¿ç¼–ç </span><br><span class="line">            return &#x2F;[1-9]\d&#123;5&#125;(?!\d)&#x2F;.test(str);</span><br><span class="line">        case &#39;QQ&#39;:      &#x2F;&#x2F;QQå·</span><br><span class="line">            return &#x2F;^[1-9][0-9]&#123;4,9&#125;$&#x2F;.test(str);</span><br><span class="line">        case &#39;email&#39;:   &#x2F;&#x2F;é‚®ç®±</span><br><span class="line">            return &#x2F;^[\w-]+(\.[\w-]+)*@[\w-]+(\.[\w-]+)+$&#x2F;.test(str);</span><br><span class="line">        case &#39;money&#39;:   &#x2F;&#x2F;é‡‘é¢(å°æ•°ç‚¹2ä½)</span><br><span class="line">            return &#x2F;^\d*(?:\.\d&#123;0,2&#125;)?$&#x2F;.test(str);</span><br><span class="line">        case &#39;URL&#39;:     &#x2F;&#x2F;ç½‘å€</span><br><span class="line">            return &#x2F;(http|ftp|https):\&#x2F;\&#x2F;[\w\-_]+(\.[\w\-_]+)+([\w\-\.,@?^&#x3D;%&amp;:&#x2F;~\+#]*[\w\-\@?^&#x3D;%&amp;&#x2F;~\+#])?&#x2F;.test(str)</span><br><span class="line">        case &#39;IP&#39;:      &#x2F;&#x2F;IP</span><br><span class="line">            return &#x2F;((?:(?:25[0-5]|2[0-4]\\d|[01]?\\d?\\d)\\.)&#123;3&#125;(?:25[0-5]|2[0-4]\\d|[01]?\\d?\\d))&#x2F;.test(str);</span><br><span class="line">        case &#39;date&#39;:    &#x2F;&#x2F;æ—¥æœŸæ—¶é—´</span><br><span class="line">            return &#x2F;^(\d&#123;4&#125;)\-(\d&#123;2&#125;)\-(\d&#123;2&#125;) (\d&#123;2&#125;)(?:\:\d&#123;2&#125;|:(\d&#123;2&#125;):(\d&#123;2&#125;))$&#x2F;.test(str) || &#x2F;^(\d&#123;4&#125;)\-(\d&#123;2&#125;)\-(\d&#123;2&#125;)$&#x2F;.test(str)</span><br><span class="line">        case &#39;number&#39;:  &#x2F;&#x2F;æ•°å­—</span><br><span class="line">            return &#x2F;^[0-9]$&#x2F;.test(str);</span><br><span class="line">        case &#39;english&#39;: &#x2F;&#x2F;è‹±æ–‡</span><br><span class="line">            return &#x2F;^[a-zA-Z]+$&#x2F;.test(str);</span><br><span class="line">        case &#39;chinese&#39;: &#x2F;&#x2F;ä¸­æ–‡</span><br><span class="line">            return &#x2F;^[\\u4E00-\\u9FA5]+$&#x2F;.test(str);</span><br><span class="line">        case &#39;lower&#39;:   &#x2F;&#x2F;å°å†™</span><br><span class="line">            return &#x2F;^[a-z]+$&#x2F;.test(str);</span><br><span class="line">        case &#39;upper&#39;:   &#x2F;&#x2F;å¤§å†™</span><br><span class="line">            return &#x2F;^[A-Z]+$&#x2F;.test(str);</span><br><span class="line">        case &#39;HTML&#39;:    &#x2F;&#x2F;HTMLæ ‡è®°</span><br><span class="line">            return &#x2F;&lt;(&quot;[^&quot;]*&quot;|&#39;[^&#39;]*&#39;|[^&#39;&quot;&gt;])*&gt;&#x2F;.test(str);</span><br><span class="line">        default:</span><br><span class="line">            return true;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>38.ä¸¥æ ¼çš„èº«ä»½è¯æ ¡éªŒ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const isCardID &#x3D; (sId) &#x3D;&gt; &#123;</span><br><span class="line">    if (!&#x2F;(^\d&#123;15&#125;$)|(^\d&#123;17&#125;(\d|X|x)$)&#x2F;.test(sId)) &#123;</span><br><span class="line">        console.log(&#39;ä½ è¾“å…¥çš„èº«ä»½è¯é•¿åº¦æˆ–æ ¼å¼é”™è¯¯&#39;)</span><br><span class="line">        return false</span><br><span class="line">    &#125;</span><br><span class="line">    &#x2F;&#x2F;èº«ä»½è¯åŸå¸‚</span><br><span class="line">    var aCity &#x3D; &#123; 11: &quot;åŒ—äº¬&quot;, 12: &quot;å¤©æ´¥&quot;, 13: &quot;æ²³åŒ—&quot;, 14: &quot;å±±è¥¿&quot;, 15: &quot;å†…è’™å¤&quot;, 21: &quot;è¾½å®&quot;, 22: &quot;å‰æ—&quot;, 23: &quot;é»‘é¾™æ±Ÿ&quot;, 31: &quot;ä¸Šæµ·&quot;, 32: &quot;æ±Ÿè‹&quot;, 33: &quot;æµ™æ±Ÿ&quot;, 34: &quot;å®‰å¾½&quot;, 35: &quot;ç¦å»º&quot;, 36: &quot;æ±Ÿè¥¿&quot;, 37: &quot;å±±ä¸œ&quot;, 41: &quot;æ²³å—&quot;, 42: &quot;æ¹–åŒ—&quot;, 43: &quot;æ¹–å—&quot;, 44: &quot;å¹¿ä¸œ&quot;, 45: &quot;å¹¿è¥¿&quot;, 46: &quot;æµ·å—&quot;, 50: &quot;é‡åº†&quot;, 51: &quot;å››å·&quot;, 52: &quot;è´µå·&quot;, 53: &quot;äº‘å—&quot;, 54: &quot;è¥¿è—&quot;, 61: &quot;é™•è¥¿&quot;, 62: &quot;ç”˜è‚ƒ&quot;, 63: &quot;é’æµ·&quot;, 64: &quot;å®å¤&quot;, 65: &quot;æ–°ç–†&quot;, 71: &quot;å°æ¹¾&quot;, 81: &quot;é¦™æ¸¯&quot;, 82: &quot;æ¾³é—¨&quot;, 91: &quot;å›½å¤–&quot; &#125;;</span><br><span class="line">    if (!aCity[parseInt(sId.substr(0, 2))]) &#123;</span><br><span class="line">        console.log(&#39;ä½ çš„èº«ä»½è¯åœ°åŒºéæ³•&#39;)</span><br><span class="line">        return false</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; å‡ºç”Ÿæ—¥æœŸéªŒè¯</span><br><span class="line">    var sBirthday &#x3D; (sId.substr(6, 4) + &quot;-&quot; + Number(sId.substr(10, 2)) + &quot;-&quot; + Number(sId.substr(12, 2))).replace(&#x2F;-&#x2F;g, &quot;&#x2F;&quot;),</span><br><span class="line">        d &#x3D; new Date(sBirthday)</span><br><span class="line">    if (sBirthday !&#x3D; (d.getFullYear() + &quot;&#x2F;&quot; + (d.getMonth() + 1) + &quot;&#x2F;&quot; + d.getDate())) &#123;</span><br><span class="line">        console.log(&#39;èº«ä»½è¯ä¸Šçš„å‡ºç”Ÿæ—¥æœŸéæ³•&#39;)</span><br><span class="line">        return false</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; èº«ä»½è¯å·ç æ ¡éªŒ</span><br><span class="line">    var sum &#x3D; 0,</span><br><span class="line">        weights &#x3D; [7, 9, 10, 5, 8, 4, 2, 1, 6, 3, 7, 9, 10, 5, 8, 4, 2],</span><br><span class="line">        codes &#x3D; &quot;10X98765432&quot;</span><br><span class="line">    for (var i &#x3D; 0; i &lt; sId.length - 1; i++) &#123;</span><br><span class="line">        sum +&#x3D; sId[i] * weights[i];</span><br><span class="line">    &#125;</span><br><span class="line">    var last &#x3D; codes[sum % 11]; &#x2F;&#x2F;è®¡ç®—å‡ºæ¥çš„æœ€åä¸€ä½èº«ä»½è¯å·ç </span><br><span class="line">    if (sId[sId.length - 1] !&#x3D; last) &#123;</span><br><span class="line">        console.log(&#39;ä½ è¾“å…¥çš„èº«ä»½è¯å·éæ³•&#39;)</span><br><span class="line">        return false</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    return true</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>39.éšæœºæ•°èŒƒå›´</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const random &#x3D; (min, max) &#x3D;&gt; &#123;</span><br><span class="line">    if (arguments.length &#x3D;&#x3D;&#x3D; 2) &#123;</span><br><span class="line">        return Math.floor(min + Math.random() * ((max + 1) - min))</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        return null;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>40.å°†é˜¿æ‹‰ä¼¯æ•°å­—ç¿»è¯‘æˆä¸­æ–‡çš„å¤§å†™æ•°å­—</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const numberToChinese &#x3D; (num) &#x3D;&gt; &#123;</span><br><span class="line">    var AA &#x3D; new Array(&quot;é›¶&quot;, &quot;ä¸€&quot;, &quot;äºŒ&quot;, &quot;ä¸‰&quot;, &quot;å››&quot;, &quot;äº”&quot;, &quot;å…­&quot;, &quot;ä¸ƒ&quot;, &quot;å…«&quot;, &quot;ä¹&quot;, &quot;å&quot;);</span><br><span class="line">    var BB &#x3D; new Array(&quot;&quot;, &quot;å&quot;, &quot;ç™¾&quot;, &quot;ä»Ÿ&quot;, &quot;è¬&quot;, &quot;å„„&quot;, &quot;ç‚¹&quot;, &quot;&quot;);</span><br><span class="line">    var a &#x3D; (&quot;&quot; + num).replace(&#x2F;(^0*)&#x2F;g, &quot;&quot;).split(&quot;.&quot;),</span><br><span class="line">        k &#x3D; 0,</span><br><span class="line">        re &#x3D; &quot;&quot;;</span><br><span class="line">    for (var i &#x3D; a[0].length - 1; i &gt;&#x3D; 0; i--) &#123;</span><br><span class="line">        switch (k) &#123;</span><br><span class="line">            case 0:</span><br><span class="line">                re &#x3D; BB[7] + re;</span><br><span class="line">                break;</span><br><span class="line">            case 4:</span><br><span class="line">                if (!new RegExp(&quot;0&#123;4&#125;&#x2F;&#x2F;d&#123;&quot; + (a[0].length - i - 1) + &quot;&#125;$&quot;)</span><br><span class="line">                    .test(a[0]))</span><br><span class="line">                    re &#x3D; BB[4] + re;</span><br><span class="line">                break;</span><br><span class="line">            case 8:</span><br><span class="line">                re &#x3D; BB[5] + re;</span><br><span class="line">                BB[7] &#x3D; BB[5];</span><br><span class="line">                k &#x3D; 0;</span><br><span class="line">                break;</span><br><span class="line">        &#125;</span><br><span class="line">        if (k % 4 &#x3D;&#x3D; 2 &amp;&amp; a[0].charAt(i + 2) !&#x3D; 0 &amp;&amp; a[0].charAt(i + 1) &#x3D;&#x3D; 0)</span><br><span class="line">            re &#x3D; AA[0] + re;</span><br><span class="line">        if (a[0].charAt(i) !&#x3D; 0)</span><br><span class="line">            re &#x3D; AA[a[0].charAt(i)] + BB[k % 4] + re;</span><br><span class="line">        k++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    if (a.length &gt; 1) &#x2F;&#x2F; åŠ ä¸Šå°æ•°éƒ¨åˆ†(å¦‚æœæœ‰å°æ•°éƒ¨åˆ†)</span><br><span class="line">    &#123;</span><br><span class="line">        re +&#x3D; BB[6];</span><br><span class="line">        for (var i &#x3D; 0; i &lt; a[1].length; i++)</span><br><span class="line">            re +&#x3D; AA[a[1].charAt(i)];</span><br><span class="line">    &#125;</span><br><span class="line">    if (re &#x3D;&#x3D; &#39;ä¸€å&#39;)</span><br><span class="line">        re &#x3D; &quot;å&quot;;</span><br><span class="line">    if (re.match(&#x2F;^ä¸€&#x2F;) &amp;&amp; re.length &#x3D;&#x3D; 3)</span><br><span class="line">        re &#x3D; re.replace(&quot;ä¸€&quot;, &quot;&quot;);</span><br><span class="line">    return re;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>41.å°†æ•°å­—è½¬æ¢ä¸ºå¤§å†™é‡‘é¢</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const changeToChinese &#x3D; (Num) &#x3D;&gt; &#123;</span><br><span class="line">    &#x2F;&#x2F;åˆ¤æ–­å¦‚æœä¼ é€’è¿›æ¥çš„ä¸æ˜¯å­—ç¬¦çš„è¯è½¬æ¢ä¸ºå­—ç¬¦</span><br><span class="line">    if (typeof Num &#x3D;&#x3D; &quot;number&quot;) &#123;</span><br><span class="line">        Num &#x3D; new String(Num);</span><br><span class="line">    &#125;;</span><br><span class="line">    Num &#x3D; Num.replace(&#x2F;,&#x2F;g, &quot;&quot;) &#x2F;&#x2F;æ›¿æ¢tomoney()ä¸­çš„â€œ,â€</span><br><span class="line">    Num &#x3D; Num.replace(&#x2F; &#x2F;g, &quot;&quot;) &#x2F;&#x2F;æ›¿æ¢tomoney()ä¸­çš„ç©ºæ ¼</span><br><span class="line">    Num &#x3D; Num.replace(&#x2F;ï¿¥&#x2F;g, &quot;&quot;) &#x2F;&#x2F;æ›¿æ¢æ‰å¯èƒ½å‡ºç°çš„ï¿¥å­—ç¬¦</span><br><span class="line">    if (isNaN(Num)) &#123; &#x2F;&#x2F;éªŒè¯è¾“å…¥çš„å­—ç¬¦æ˜¯å¦ä¸ºæ•°å­—</span><br><span class="line">        &#x2F;&#x2F;alert(&quot;è¯·æ£€æŸ¥å°å†™é‡‘é¢æ˜¯å¦æ­£ç¡®&quot;);</span><br><span class="line">        return &quot;&quot;;</span><br><span class="line">    &#125;;</span><br><span class="line">    &#x2F;&#x2F;å­—ç¬¦å¤„ç†å®Œæ¯•åå¼€å§‹è½¬æ¢ï¼Œé‡‡ç”¨å‰åä¸¤éƒ¨åˆ†åˆ†åˆ«è½¬æ¢</span><br><span class="line">    var part &#x3D; String(Num).split(&quot;.&quot;);</span><br><span class="line">    var newchar &#x3D; &quot;&quot;;</span><br><span class="line">    &#x2F;&#x2F;å°æ•°ç‚¹å‰è¿›è¡Œè½¬åŒ–</span><br><span class="line">    for (var i &#x3D; part[0].length - 1; i &gt;&#x3D; 0; i--) &#123;</span><br><span class="line">        if (part[0].length &gt; 10) &#123;</span><br><span class="line">            return &quot;&quot;;</span><br><span class="line">            &#x2F;&#x2F;è‹¥æ•°é‡è¶…è¿‡æ‹¾äº¿å•ä½ï¼Œæç¤º</span><br><span class="line">        &#125;</span><br><span class="line">        var tmpnewchar &#x3D; &quot;&quot;</span><br><span class="line">        var perchar &#x3D; part[0].charAt(i);</span><br><span class="line">        switch (perchar) &#123;</span><br><span class="line">            case &quot;0&quot;:</span><br><span class="line">                tmpnewchar &#x3D; &quot;é›¶&quot; + tmpnewchar;</span><br><span class="line">                break;</span><br><span class="line">            case &quot;1&quot;:</span><br><span class="line">                tmpnewchar &#x3D; &quot;å£¹&quot; + tmpnewchar;</span><br><span class="line">                break;</span><br><span class="line">            case &quot;2&quot;:</span><br><span class="line">                tmpnewchar &#x3D; &quot;è´°&quot; + tmpnewchar;</span><br><span class="line">                break;</span><br><span class="line">            case &quot;3&quot;:</span><br><span class="line">                tmpnewchar &#x3D; &quot;å&quot; + tmpnewchar;</span><br><span class="line">                break;</span><br><span class="line">            case &quot;4&quot;:</span><br><span class="line">                tmpnewchar &#x3D; &quot;è‚†&quot; + tmpnewchar;</span><br><span class="line">                break;</span><br><span class="line">            case &quot;5&quot;:</span><br><span class="line">                tmpnewchar &#x3D; &quot;ä¼&quot; + tmpnewchar;</span><br><span class="line">                break;</span><br><span class="line">            case &quot;6&quot;:</span><br><span class="line">                tmpnewchar &#x3D; &quot;é™†&quot; + tmpnewchar;</span><br><span class="line">                break;</span><br><span class="line">            case &quot;7&quot;:</span><br><span class="line">                tmpnewchar &#x3D; &quot;æŸ’&quot; + tmpnewchar;</span><br><span class="line">                break;</span><br><span class="line">            case &quot;8&quot;:</span><br><span class="line">                tmpnewchar &#x3D; &quot;æŒ&quot; + tmpnewchar;</span><br><span class="line">                break;</span><br><span class="line">            case &quot;9&quot;:</span><br><span class="line">                tmpnewchar &#x3D; &quot;ç–&quot; + tmpnewchar;</span><br><span class="line">                break;</span><br><span class="line">        &#125;</span><br><span class="line">        switch (part[0].length - i - 1) &#123;</span><br><span class="line">            case 0:</span><br><span class="line">                tmpnewchar &#x3D; tmpnewchar + &quot;å…ƒ&quot;;</span><br><span class="line">                break;</span><br><span class="line">            case 1:</span><br><span class="line">                if (perchar !&#x3D; 0) tmpnewchar &#x3D; tmpnewchar + &quot;æ‹¾&quot;;</span><br><span class="line">                break;</span><br><span class="line">            case 2:</span><br><span class="line">                if (perchar !&#x3D; 0) tmpnewchar &#x3D; tmpnewchar + &quot;ä½°&quot;;</span><br><span class="line">                break;</span><br><span class="line">            case 3:</span><br><span class="line">                if (perchar !&#x3D; 0) tmpnewchar &#x3D; tmpnewchar + &quot;ä»Ÿ&quot;;</span><br><span class="line">                break;</span><br><span class="line">            case 4:</span><br><span class="line">                tmpnewchar &#x3D; tmpnewchar + &quot;ä¸‡&quot;;</span><br><span class="line">                break;</span><br><span class="line">            case 5:</span><br><span class="line">                if (perchar !&#x3D; 0) tmpnewchar &#x3D; tmpnewchar + &quot;æ‹¾&quot;;</span><br><span class="line">                break;</span><br><span class="line">            case 6:</span><br><span class="line">                if (perchar !&#x3D; 0) tmpnewchar &#x3D; tmpnewchar + &quot;ä½°&quot;;</span><br><span class="line">                break;</span><br><span class="line">            case 7:</span><br><span class="line">                if (perchar !&#x3D; 0) tmpnewchar &#x3D; tmpnewchar + &quot;ä»Ÿ&quot;;</span><br><span class="line">                break;</span><br><span class="line">            case 8:</span><br><span class="line">                tmpnewchar &#x3D; tmpnewchar + &quot;äº¿&quot;;</span><br><span class="line">                break;</span><br><span class="line">            case 9:</span><br><span class="line">                tmpnewchar &#x3D; tmpnewchar + &quot;æ‹¾&quot;;</span><br><span class="line">                break;</span><br><span class="line">        &#125;</span><br><span class="line">        var newchar &#x3D; tmpnewchar + newchar;</span><br><span class="line">    &#125;</span><br><span class="line">    &#x2F;&#x2F;å°æ•°ç‚¹ä¹‹åè¿›è¡Œè½¬åŒ–</span><br><span class="line">    if (Num.indexOf(&quot;.&quot;) !&#x3D; -1) &#123;</span><br><span class="line">        if (part[1].length &gt; 2) &#123;</span><br><span class="line">            &#x2F;&#x2F; alert(&quot;å°æ•°ç‚¹ä¹‹ååªèƒ½ä¿ç•™ä¸¤ä½,ç³»ç»Ÿå°†è‡ªåŠ¨æˆªæ–­&quot;);</span><br><span class="line">            part[1] &#x3D; part[1].substr(0, 2)</span><br><span class="line">        &#125;</span><br><span class="line">        for (i &#x3D; 0; i &lt; part[1].length; i++) &#123;</span><br><span class="line">            tmpnewchar &#x3D; &quot;&quot;</span><br><span class="line">            perchar &#x3D; part[1].charAt(i)</span><br><span class="line">            switch (perchar) &#123;</span><br><span class="line">                case &quot;0&quot;:</span><br><span class="line">                    tmpnewchar &#x3D; &quot;é›¶&quot; + tmpnewchar;</span><br><span class="line">                    break;</span><br><span class="line">                case &quot;1&quot;:</span><br><span class="line">                    tmpnewchar &#x3D; &quot;å£¹&quot; + tmpnewchar;</span><br><span class="line">                    break;</span><br><span class="line">                case &quot;2&quot;:</span><br><span class="line">                    tmpnewchar &#x3D; &quot;è´°&quot; + tmpnewchar;</span><br><span class="line">                    break;</span><br><span class="line">                case &quot;3&quot;:</span><br><span class="line">                    tmpnewchar &#x3D; &quot;å&quot; + tmpnewchar;</span><br><span class="line">                    break;</span><br><span class="line">                case &quot;4&quot;:</span><br><span class="line">                    tmpnewchar &#x3D; &quot;è‚†&quot; + tmpnewchar;</span><br><span class="line">                    break;</span><br><span class="line">                case &quot;5&quot;:</span><br><span class="line">                    tmpnewchar &#x3D; &quot;ä¼&quot; + tmpnewchar;</span><br><span class="line">                    break;</span><br><span class="line">                case &quot;6&quot;:</span><br><span class="line">                    tmpnewchar &#x3D; &quot;é™†&quot; + tmpnewchar;</span><br><span class="line">                    break;</span><br><span class="line">                case &quot;7&quot;:</span><br><span class="line">                    tmpnewchar &#x3D; &quot;æŸ’&quot; + tmpnewchar;</span><br><span class="line">                    break;</span><br><span class="line">                case &quot;8&quot;:</span><br><span class="line">                    tmpnewchar &#x3D; &quot;æŒ&quot; + tmpnewchar;</span><br><span class="line">                    break;</span><br><span class="line">                case &quot;9&quot;:</span><br><span class="line">                    tmpnewchar &#x3D; &quot;ç–&quot; + tmpnewchar;</span><br><span class="line">                    break;</span><br><span class="line">            &#125;</span><br><span class="line">            if (i &#x3D;&#x3D; 0) tmpnewchar &#x3D; tmpnewchar + &quot;è§’&quot;;</span><br><span class="line">            if (i &#x3D;&#x3D; 1) tmpnewchar &#x3D; tmpnewchar + &quot;åˆ†&quot;;</span><br><span class="line">            newchar &#x3D; newchar + tmpnewchar;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    &#x2F;&#x2F;æ›¿æ¢æ‰€æœ‰æ— ç”¨æ±‰å­—</span><br><span class="line">    while (newchar.search(&quot;é›¶é›¶&quot;) !&#x3D; -1)</span><br><span class="line">        newchar &#x3D; newchar.replace(&quot;é›¶é›¶&quot;, &quot;é›¶&quot;);</span><br><span class="line">    newchar &#x3D; newchar.replace(&quot;é›¶äº¿&quot;, &quot;äº¿&quot;);</span><br><span class="line">    newchar &#x3D; newchar.replace(&quot;äº¿ä¸‡&quot;, &quot;äº¿&quot;);</span><br><span class="line">    newchar &#x3D; newchar.replace(&quot;é›¶ä¸‡&quot;, &quot;ä¸‡&quot;);</span><br><span class="line">    newchar &#x3D; newchar.replace(&quot;é›¶å…ƒ&quot;, &quot;å…ƒ&quot;);</span><br><span class="line">    newchar &#x3D; newchar.replace(&quot;é›¶è§’&quot;, &quot;&quot;);</span><br><span class="line">    newchar &#x3D; newchar.replace(&quot;é›¶åˆ†&quot;, &quot;&quot;);</span><br><span class="line">    if (newchar.charAt(newchar.length - 1) &#x3D;&#x3D; &quot;å…ƒ&quot;) &#123;</span><br><span class="line">        newchar &#x3D; newchar + &quot;æ•´&quot;</span><br><span class="line">    &#125;</span><br><span class="line">    return newchar;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>42.åˆ¤æ–­ä¸€ä¸ªå…ƒç´ æ˜¯å¦åœ¨æ•°ç»„ä¸­</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const contains &#x3D; (arr, val) &#x3D;&gt; &#123;</span><br><span class="line">    return arr.indexOf(val) !&#x3D; -1 ? true : false;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>43.æ•°ç»„æ’åºï¼Œ<code>{type} 1ï¼šä»å°åˆ°å¤§ 2ï¼šä»å¤§åˆ°å° 3ï¼šéšæœº</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const sort &#x3D; (arr, type &#x3D; 1) &#x3D;&gt; &#123;</span><br><span class="line">    return arr.sort((a, b) &#x3D;&gt; &#123;</span><br><span class="line">        switch (type) &#123;</span><br><span class="line">            case 1:</span><br><span class="line">                return a - b;</span><br><span class="line">            case 2:</span><br><span class="line">                return b - a;</span><br><span class="line">            case 3:</span><br><span class="line">                return Math.random() - 0.5;</span><br><span class="line">            default:</span><br><span class="line">                return arr;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>44.å»é‡</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const unique &#x3D; (arr) &#x3D;&gt; &#123;</span><br><span class="line">    if (Array.hasOwnProperty(&#39;from&#39;)) &#123;</span><br><span class="line">        return Array.from(new Set(arr));</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        var n &#x3D; &#123;&#125;, r &#x3D; [];</span><br><span class="line">        for (var i &#x3D; 0; i &lt; arr.length; i++) &#123;</span><br><span class="line">            if (!n[arr[i]]) &#123;</span><br><span class="line">                n[arr[i]] &#x3D; true;</span><br><span class="line">                r.push(arr[i]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return r;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>45.æ±‚ä¸¤ä¸ªé›†åˆçš„å¹¶é›†</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const union &#x3D; (a, b) &#x3D;&gt; &#123;</span><br><span class="line">    var newArr &#x3D; a.concat(b);</span><br><span class="line">    return this.unique(newArr);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>46.æ±‚ä¸¤ä¸ªé›†åˆçš„äº¤é›†</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const intersect &#x3D; (a, b) &#x3D;&gt; &#123;</span><br><span class="line">    var _this &#x3D; this;</span><br><span class="line">    a &#x3D; this.unique(a);</span><br><span class="line">    return this.map(a, function (o) &#123;</span><br><span class="line">        return _this.contains(b, o) ? o : null;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>47.åˆ é™¤å…¶ä¸­ä¸€ä¸ªå…ƒç´ </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const remove &#x3D; (arr, ele) &#x3D;&gt; &#123;</span><br><span class="line">    var index &#x3D; arr.indexOf(ele);</span><br><span class="line">    if (index &gt; -1) &#123;</span><br><span class="line">        arr.splice(index, 1);</span><br><span class="line">    &#125;</span><br><span class="line">    return arr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>48.å°†ç±»æ•°ç»„è½¬æ¢ä¸ºæ•°ç»„</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const formArray &#x3D; (ary) &#x3D;&gt; &#123;</span><br><span class="line">    var arr &#x3D; [];</span><br><span class="line">    if (Array.isArray(ary)) &#123;</span><br><span class="line">        arr &#x3D; ary;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        arr &#x3D; Array.prototype.slice.call(ary);</span><br><span class="line">    &#125;;</span><br><span class="line">    return arr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>49.æœ€å¤§å€¼</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const max &#x3D; (arr) &#x3D;&gt; &#123;</span><br><span class="line">    return Math.max.apply(null, arr);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>50.æœ€å°å€¼</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const min &#x3D; (arr) &#x3D;&gt; &#123;</span><br><span class="line">    return Math.min.apply(null, arr);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>51.æ±‚å’Œ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const sum &#x3D; (arr) &#x3D;&gt; &#123;</span><br><span class="line">    return arr.reduce((pre, cur) &#x3D;&gt; &#123;</span><br><span class="line">        return pre + cur</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>52.å¹³å‡å€¼</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const average &#x3D; (arr) &#x3D;&gt; &#123;</span><br><span class="line">    return this.sum(arr) &#x2F; arr.length</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>53.å»é™¤ç©ºæ ¼,<code>type: 1-æ‰€æœ‰ç©ºæ ¼ 2-å‰åç©ºæ ¼ 3-å‰ç©ºæ ¼ 4-åç©ºæ ¼</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const trim &#x3D; (str, type) &#x3D;&gt; &#123;</span><br><span class="line">    type &#x3D; type || 1</span><br><span class="line">    switch (type) &#123;</span><br><span class="line">        case 1:</span><br><span class="line">            return str.replace(&#x2F;\s+&#x2F;g, &quot;&quot;);</span><br><span class="line">        case 2:</span><br><span class="line">            return str.replace(&#x2F;(^\s*)|(\s*$)&#x2F;g, &quot;&quot;);</span><br><span class="line">        case 3:</span><br><span class="line">            return str.replace(&#x2F;(^\s*)&#x2F;g, &quot;&quot;);</span><br><span class="line">        case 4:</span><br><span class="line">            return str.replace(&#x2F;(\s*$)&#x2F;g, &quot;&quot;);</span><br><span class="line">        default:</span><br><span class="line">            return str;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>54.å­—ç¬¦è½¬æ¢ï¼Œ<code>type: 1:é¦–å­—æ¯å¤§å†™ 2ï¼šé¦–å­—æ¯å°å†™ 3ï¼šå¤§å°å†™è½¬æ¢ 4ï¼šå…¨éƒ¨å¤§å†™ 5ï¼šå…¨éƒ¨å°å†™</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const changeCase &#x3D; (str, type) &#x3D;&gt; &#123;</span><br><span class="line">    type &#x3D; type || 4</span><br><span class="line">    switch (type) &#123;</span><br><span class="line">        case 1:</span><br><span class="line">            return str.replace(&#x2F;\b\w+\b&#x2F;g, function (word) &#123;</span><br><span class="line">                return word.substring(0, 1).toUpperCase() + word.substring(1).toLowerCase();</span><br><span class="line"></span><br><span class="line">            &#125;);</span><br><span class="line">        case 2:</span><br><span class="line">            return str.replace(&#x2F;\b\w+\b&#x2F;g, function (word) &#123;</span><br><span class="line">                return word.substring(0, 1).toLowerCase() + word.substring(1).toUpperCase();</span><br><span class="line">            &#125;);</span><br><span class="line">        case 3:</span><br><span class="line">            return str.split(&#39;&#39;).map(function (word) &#123;</span><br><span class="line">                if (&#x2F;[a-z]&#x2F;.test(word)) &#123;</span><br><span class="line">                    return word.toUpperCase();</span><br><span class="line">                &#125; else &#123;</span><br><span class="line">                    return word.toLowerCase()</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;).join(&#39;&#39;)</span><br><span class="line">        case 4:</span><br><span class="line">            return str.toUpperCase();</span><br><span class="line">        case 5:</span><br><span class="line">            return str.toLowerCase();</span><br><span class="line">        default:</span><br><span class="line">            return str;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>55.æ£€æµ‹å¯†ç å¼ºåº¦</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const checkPwd &#x3D; (str) &#x3D;&gt; &#123;</span><br><span class="line">    var Lv &#x3D; 0;</span><br><span class="line">    if (str.length &lt; 6) &#123;</span><br><span class="line">        return Lv</span><br><span class="line">    &#125;</span><br><span class="line">    if (&#x2F;[0-9]&#x2F;.test(str)) &#123;</span><br><span class="line">        Lv++</span><br><span class="line">    &#125;</span><br><span class="line">    if (&#x2F;[a-z]&#x2F;.test(str)) &#123;</span><br><span class="line">        Lv++</span><br><span class="line">    &#125;</span><br><span class="line">    if (&#x2F;[A-Z]&#x2F;.test(str)) &#123;</span><br><span class="line">        Lv++</span><br><span class="line">    &#125;</span><br><span class="line">    if (&#x2F;[\.|-|_]&#x2F;.test(str)) &#123;</span><br><span class="line">        Lv++</span><br><span class="line">    &#125;</span><br><span class="line">    return Lv;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>56.å‡½æ•°èŠ‚æµå™¨</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const debouncer &#x3D; (fn, time, interval &#x3D; 200) &#x3D;&gt; &#123;</span><br><span class="line">    if (time - (window.debounceTimestamp || 0) &gt; interval) &#123;</span><br><span class="line">        fn &amp;&amp; fn();</span><br><span class="line">        window.debounceTimestamp &#x3D; time;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>57.åœ¨å­—ç¬¦ä¸²ä¸­æ’å…¥æ–°å­—ç¬¦ä¸²</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const insertStr &#x3D; (soure, index, newStr) &#x3D;&gt; &#123;</span><br><span class="line">    var str &#x3D; soure.slice(0, index) + newStr + soure.slice(index);</span><br><span class="line">    return str;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>58.åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦é”®å€¼ç›¸åŒ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const isObjectEqual &#x3D; (a, b) &#x3D;&gt; &#123;</span><br><span class="line">    var aProps &#x3D; Object.getOwnPropertyNames(a);</span><br><span class="line">    var bProps &#x3D; Object.getOwnPropertyNames(b);</span><br><span class="line"></span><br><span class="line">    if (aProps.length !&#x3D;&#x3D; bProps.length) &#123;</span><br><span class="line">        return false;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    for (var i &#x3D; 0; i &lt; aProps.length; i++) &#123;</span><br><span class="line">        var propName &#x3D; aProps[i];</span><br><span class="line"></span><br><span class="line">        if (a[propName] !&#x3D;&#x3D; b[propName]) &#123;</span><br><span class="line">            return false;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return true;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>59.16è¿›åˆ¶é¢œè‰²è½¬RGBRGBAå­—ç¬¦ä¸²</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const colorToRGB &#x3D; (val, opa) &#x3D;&gt; &#123;</span><br><span class="line"></span><br><span class="line">    var pattern &#x3D; &#x2F;^(#?)[a-fA-F0-9]&#123;6&#125;$&#x2F;; &#x2F;&#x2F;16è¿›åˆ¶é¢œè‰²å€¼æ ¡éªŒè§„åˆ™</span><br><span class="line">    var isOpa &#x3D; typeof opa &#x3D;&#x3D; &#39;number&#39;; &#x2F;&#x2F;åˆ¤æ–­æ˜¯å¦æœ‰è®¾ç½®ä¸é€æ˜åº¦</span><br><span class="line"></span><br><span class="line">    if (!pattern.test(val)) &#123; &#x2F;&#x2F;å¦‚æœå€¼ä¸ç¬¦åˆè§„åˆ™è¿”å›ç©ºå­—ç¬¦</span><br><span class="line">        return &#39;&#39;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    var v &#x3D; val.replace(&#x2F;#&#x2F;, &#39;&#39;); &#x2F;&#x2F;å¦‚æœæœ‰#å·å…ˆå»é™¤#å·</span><br><span class="line">    var rgbArr &#x3D; [];</span><br><span class="line">    var rgbStr &#x3D; &#39;&#39;;</span><br><span class="line"></span><br><span class="line">    for (var i &#x3D; 0; i &lt; 3; i++) &#123;</span><br><span class="line">        var item &#x3D; v.substring(i * 2, i * 2 + 2);</span><br><span class="line">        var num &#x3D; parseInt(item, 16);</span><br><span class="line">        rgbArr.push(num);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    rgbStr &#x3D; rgbArr.join();</span><br><span class="line">    rgbStr &#x3D; &#39;rgb&#39; + (isOpa ? &#39;a&#39; : &#39;&#39;) + &#39;(&#39; + rgbStr + (isOpa ? &#39;,&#39; + opa : &#39;&#39;) + &#39;)&#39;;</span><br><span class="line">    return rgbStr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>60.è¿½åŠ urlå‚æ•°</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const appendQuery &#x3D; (url, key, value) &#x3D;&gt; &#123;</span><br><span class="line">    var options &#x3D; key;</span><br><span class="line">    if (typeof options &#x3D;&#x3D; &#39;string&#39;) &#123;</span><br><span class="line">        options &#x3D; &#123;&#125;;</span><br><span class="line">        options[key] &#x3D; value;</span><br><span class="line">    &#125;</span><br><span class="line">    options &#x3D; $.param(options);</span><br><span class="line">    if (url.includes(&#39;?&#39;)) &#123;</span><br><span class="line">        url +&#x3D; &#39;&amp;&#39; + options</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        url +&#x3D; &#39;?&#39; + options</span><br><span class="line">    &#125;</span><br><span class="line">    return url;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="61">
<li>ç¦æ­¢ç½‘é¡µå¤åˆ¶ç²˜è´´</li>
</ol>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const html &#x3D; document.querySelector(&#39;html&#39;)</span><br><span class="line"> html.oncopy &#x3D; () &#x3D;&gt; false</span><br><span class="line"> html.onpaste &#x3D; () &#x3D;&gt; false</span><br></pre></td></tr></table></figure>

<ol start="62">
<li>inputæ¡†é™åˆ¶åªèƒ½è¾“å…¥ä¸­æ–‡</li>
</ol>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const input &#x3D; document.querySelector(&#39;input[type&#x3D;&quot;text&quot;]&#39;)</span><br><span class="line"> const clearText &#x3D; target &#x3D;&gt; &#123;</span><br><span class="line">     const &#123;</span><br><span class="line">         value</span><br><span class="line">     &#125; &#x3D; target</span><br><span class="line">     target.value &#x3D; value.replace(&#x2F;[^\u4e00-\u9fa5]&#x2F;g, &#39;&#39;)</span><br><span class="line"> &#125;</span><br><span class="line"> input.onfocus &#x3D; (&#123;target&#125;) &#x3D;&gt; &#123;</span><br><span class="line">     clearText(target)</span><br><span class="line"> &#125;</span><br><span class="line"> input.onkeyup &#x3D; (&#123;target&#125;) &#x3D;&gt; &#123;</span><br><span class="line">     clearText(target)</span><br><span class="line"> &#125;</span><br><span class="line"> input.onblur &#x3D; (&#123;target&#125;) &#x3D;&gt; &#123;</span><br><span class="line">     clearText(target)</span><br><span class="line"> &#125;</span><br><span class="line"> input.oninput &#x3D; (&#123;target&#125;) &#x3D;&gt; &#123;</span><br><span class="line">     clearText(target)</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<ol start="63">
<li>è®¡ç®—ç›®å½•æ ‘çš„æ·±åº¦</li>
</ol>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const tree &#x3D; &#123;</span><br><span class="line">  name: &#39;root&#39;,</span><br><span class="line">  children: [</span><br><span class="line">    &#123; name: &#39;å¶å­1-1&#39; &#125;,</span><br><span class="line">    &#123; name: &#39;å¶å­1-2&#39; &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      name: &#39;å¶å­2-1&#39;,</span><br><span class="line">      children: [&#123;</span><br><span class="line">        name: &#39;å¶å­3-1&#39;,</span><br><span class="line">        children: [&#123;</span><br><span class="line">          name: &#39;å¶å­4-1&#39;</span><br><span class="line">        &#125;]</span><br><span class="line">      &#125;]</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function getDepth(tree) &#123;</span><br><span class="line">  let depth &#x3D; 0</span><br><span class="line"></span><br><span class="line">  if (tree) &#123;</span><br><span class="line">    let arr &#x3D; [tree]</span><br><span class="line">    let temp &#x3D; arr</span><br><span class="line">    while (temp.length) &#123;</span><br><span class="line">      arr &#x3D; temp</span><br><span class="line">      temp &#x3D; []</span><br><span class="line">      for (let i &#x3D; 0; i &lt; arr.length; i++) &#123;</span><br><span class="line">        if (arr[i].children &amp;&amp; arr[i].children.length) &#123;</span><br><span class="line">          for (let j &#x3D; 0; j &lt; arr[i].children.length; j++) &#123;</span><br><span class="line">            temp.push(arr[i].children[j])</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      depth++</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  return depth</span><br><span class="line">&#125;</span><br><span class="line">console.log(getDepth(tree)); &#x2F;&#x2F;è¾“å‡º4</span><br></pre></td></tr></table></figure>



<p>å‚è€ƒé“¾æ¥ <a href="https://mp.weixin.qq.com/s/a_hBJdIxnqrzcx28K56VXA" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/a_hBJdIxnqrzcx28K56VXA</a></p>
]]></content>
      <categories>
        <category>js</category>
      </categories>
      <tags>
        <tag>js</tag>
      </tags>
  </entry>
  <entry>
    <title>less</title>
    <url>/2020/07/27/less/</url>
    <content><![CDATA[<h3 id="lessé«˜çº§ç”¨æ³•è®°å½•"><a href="#lessé«˜çº§ç”¨æ³•è®°å½•" class="headerlink" title="lessé«˜çº§ç”¨æ³•è®°å½•"></a>lessé«˜çº§ç”¨æ³•è®°å½•</h3><ul>
<li><p>æ³¨æ„</p>
<p><img src="/2020/07/27/less/clipboard.png" alt="clipboard"></p>
</li>
</ul>
<a id="more"></a>

<p>![clipboard (1)](less.assets/clipboard (1).png)</p>
<ul>
<li>ä¾‹å¦‚ï¼ˆå˜é‡çš„å»¶è¿ŸåŠ è½½ï¼Œä¼šåŠ è½½ä½œç”¨åŸŸä¸­æœ€åä¸€ä¸ªå˜é‡çš„å€¼ï¼‰</li>
</ul>
<p>![clipboard (2)](less.assets/clipboard (2).png)</p>
<ul>
<li>æ™®é€šæ··åˆï¼ˆè¾“å‡ºåˆ°cssé‡Œï¼‰</li>
</ul>
<p>![clipboard (3)](less.assets/clipboard (3).png)</p>
<ul>
<li>ä¸å¸¦å‚æ•°çš„æ··åˆï¼ˆä¸ä¼šè¾“å‡ºåˆ°cssé‡Œï¼‰</li>
</ul>
<p>![clipboard (4)](less.assets/clipboard (4).png)</p>
<ul>
<li>å¸¦æœ‰å‚æ•°çš„æ··åˆ</li>
</ul>
<p>![clipboard (5)](less.assets/clipboard (5).png)</p>
<ul>
<li>å¸¦æœ‰é»˜è®¤å‚æ•°çš„æ··åˆ</li>
</ul>
<p>![clipboard (6)](less.assets/clipboard (6).png)</p>
<ul>
<li>å‘½åå‚æ•°ï¼ŒæŒ‡å®šå‚æ•°ç»™è°</li>
</ul>
<p>![clipboard (7)](less.assets/clipboard (7).png)</p>
<ul>
<li>@argruments(å‚æ•°åŒ¹é…æ—¶å…¨éƒ¨æ›¿æ¢)</li>
</ul>
<p>![clipboard (10)](less.assets/clipboard (10).png)</p>
<ul>
<li>ç»§æ‰¿ ï¼ˆallç»§æ‰¿æ‰€æœ‰.juzhongä¸­çš„å±æ€§ï¼‰</li>
</ul>
<p>![clipboard (11)](less.assets/clipboard (11).png)</p>
<ul>
<li>é¿å…ç¼–è¯‘ï¼Œè®©æµè§ˆå™¨å»ç¼–è¯‘ï¼ŒåŠ ä¸Š~â€œstringâ€å°±å¯ä»¥=</li>
</ul>
<p>![clipboard (12)](less.assets/clipboard (12)-1599546053799.png)</p>
<ul>
<li><h5 id="æ··åˆçš„åŒ¹é…æ¨¡å¼"><a href="#æ··åˆçš„åŒ¹é…æ¨¡å¼" class="headerlink" title="æ··åˆçš„åŒ¹é…æ¨¡å¼"></a>æ··åˆçš„åŒ¹é…æ¨¡å¼</h5><p>å°±æ˜¯é€šè¿‡æ··åˆçš„ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²å½¢å‚,æ¥ç¡®å®šå…·ä½“è¦æ‰§è¡Œå“ªä¸€ä¸ªåŒåæ··åˆ</p>
</li>
<li><h5 id="é€šç”¨çš„åŒ¹é…æ¨¡å¼"><a href="#é€šç”¨çš„åŒ¹é…æ¨¡å¼" class="headerlink" title="é€šç”¨çš„åŒ¹é…æ¨¡å¼"></a>é€šç”¨çš„åŒ¹é…æ¨¡å¼</h5><p>æ— è®ºåŒåçš„å“ªä¸€ä¸ªæ··åˆè¢«åŒ¹é…äº†, éƒ½ä¼šå…ˆæ‰§è¡Œé€šç”¨åŒ¹é…æ¨¡å¼ä¸­çš„ä»£ç <br>@_: è¡¨ç¤ºé€šç”¨çš„åŒ¹é…æ¨¡å¼</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box1"</span>&gt;</span>æˆ‘èµ›å­£åˆšå¼€å§‹å°±æ¸¯å£å»ºè®¾æ§è‚¡<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box2"</span>&gt;</span>æˆ‘èµ›å­£åˆšå¼€å§‹å°±æ¸¯å£å»ºè®¾æ§è‚¡<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box3"</span>&gt;</span>æˆ‘èµ›å­£åˆšå¼€å§‹å°±æ¸¯å£å»ºè®¾æ§è‚¡<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box4"</span>&gt;</span>æˆ‘èµ›å­£åˆšå¼€å§‹å°±æ¸¯å£å»ºè®¾æ§è‚¡<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">lang</span>=<span class="string">"less"</span>&gt;</span></span><br><span class="line"><span class="css"><span class="selector-class">.triangle</span>(<span class="keyword">@_</span>, @width, @color) &#123;</span></span><br><span class="line">  width: 0;</span><br><span class="line">  height: 0;</span><br><span class="line">  border-style: solid;</span><br><span class="line">&#125;</span><br><span class="line"><span class="css"><span class="selector-class">.triangle</span>(<span class="selector-tag">Bottom</span>, <span class="keyword">@width</span>, @color) &#123;</span></span><br><span class="line"><span class="css">  <span class="selector-tag">border-width</span>: <span class="keyword">@width</span>;</span></span><br><span class="line"><span class="css">  <span class="selector-tag">border-color</span>: <span class="keyword">@color</span> transparent transparent transparent;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="css"><span class="selector-class">.triangle</span>(<span class="selector-tag">Left</span>, <span class="keyword">@width</span>, @color) &#123;</span></span><br><span class="line"><span class="css">  <span class="selector-tag">border-width</span>: <span class="keyword">@width</span>;</span></span><br><span class="line"><span class="css">  <span class="selector-tag">border-color</span>: <span class="selector-tag">transparent</span> <span class="keyword">@color</span> transparent transparent;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="css"><span class="selector-class">.triangle</span>(<span class="selector-tag">Top</span>, <span class="keyword">@width</span>, @color) &#123;</span></span><br><span class="line"><span class="css">  <span class="selector-tag">border-width</span>: <span class="keyword">@width</span>;</span></span><br><span class="line"><span class="css">  <span class="selector-tag">border-color</span>: <span class="selector-tag">transparent</span> <span class="selector-tag">transparent</span> <span class="keyword">@color</span> transparent;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="css"><span class="selector-class">.triangle</span>(<span class="selector-tag">Right</span>, <span class="keyword">@width</span>, @color) &#123;</span></span><br><span class="line"><span class="css">  <span class="selector-tag">border-width</span>: <span class="keyword">@width</span>;</span></span><br><span class="line"><span class="css">  <span class="selector-tag">border-color</span>: <span class="selector-tag">transparent</span> <span class="selector-tag">transparent</span> <span class="selector-tag">transparent</span> <span class="keyword">@color</span>;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.box1</span> &#123;</span></span><br><span class="line"><span class="css">  <span class="selector-class">.triangle</span>(<span class="selector-tag">Top</span>, 50<span class="selector-tag">px</span>, <span class="selector-tag">skyblue</span>);</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="css"><span class="selector-class">.box2</span> &#123;</span></span><br><span class="line"><span class="css">  <span class="selector-class">.triangle</span>(<span class="selector-tag">Bottom</span>, 50<span class="selector-tag">px</span>, <span class="selector-tag">skyblue</span>);</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="css"><span class="selector-class">.box3</span> &#123;</span></span><br><span class="line"><span class="css">  <span class="selector-class">.triangle</span>(<span class="selector-tag">Left</span>, 50<span class="selector-tag">px</span>, <span class="selector-tag">skyblue</span>);</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="css"><span class="selector-class">.box4</span> &#123;</span></span><br><span class="line"><span class="css">  <span class="selector-class">.triangle</span>(<span class="selector-tag">Right</span>, 50<span class="selector-tag">px</span>, <span class="selector-tag">skyblue</span>);</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure>





</li>
</ul>
]]></content>
      <categories>
        <category>less</category>
      </categories>
      <tags>
        <tag>css</tag>
        <tag>less</tag>
      </tags>
  </entry>
  <entry>
    <title>jsæ–¹æ³•ï¼ˆäºŒï¼‰</title>
    <url>/2020/07/30/js%E6%96%B9%E6%B3%95%EF%BC%88%E4%BA%8C%EF%BC%89/</url>
    <content><![CDATA[<h2 id="jsæ–¹æ³•è®°å½•"><a href="#jsæ–¹æ³•è®°å½•" class="headerlink" title="jsæ–¹æ³•è®°å½•"></a>jsæ–¹æ³•è®°å½•</h2><h3 id="Array"><a href="#Array" class="headerlink" title="Array"></a>Array</h3><h4 id="1-æ•°ç»„äº¤é›†"><a href="#1-æ•°ç»„äº¤é›†" class="headerlink" title="1.æ•°ç»„äº¤é›†"></a>1.æ•°ç»„äº¤é›†</h4><p>æ™®é€šæ•°ç»„</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const arr1 &#x3D; [1, 2, 3, 4, 5 , 8 ,9],arr2 &#x3D; [5, 6, 7, 8, 9];</span><br><span class="line">const intersection &#x3D; arr1.filter(function (val) &#123; return arr2.indexOf(val) &gt; -1 &#125;)</span><br><span class="line">console.log(intersection) &#x2F;&#x2F;[5, 8, 9]</span><br><span class="line"></span><br><span class="line">const intersection &#x3D; (list, ...args) &#x3D;&gt; list.filter(item &#x3D;&gt; args.every(list &#x3D;&gt; list.includes(item)))</span><br><span class="line">console.log(intersection([2, 1], [2, 3])) &#x2F;&#x2F; [2]</span><br><span class="line">console.log(intersection([1, 2], [3, 4])) &#x2F;&#x2F; []</span><br></pre></td></tr></table></figure>

<p>æ•°ç»„å¯¹è±¡<br>æ•°ç»„å¯¹è±¡ç›®å‰ä»…é’ˆå¯¹valueå€¼ä¸ºç®€å•çš„Numberï¼ŒStringï¼ŒBoolanæ•°æ®ç±»å‹ æ–‡ä¸­JSON.stringifæ¯”è¾ƒå¯¹è±¡æ˜¯ç®€å†™æ–¹æ³•ï¼Œå®Œæ•´çš„å¯¹è±¡æ¯”è¾ƒè¯·çœ‹æŠ€å·§24.å¯¹è±¡æ˜¯å¦ç›¸ç­‰</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const arr1 &#x3D; [&#123; name: &#39;name1&#39;, id: 1 &#125;, &#123; name: &#39;name2&#39;, id: 2 &#125;, &#123; name: &#39;name3&#39;, id: 3 &#125;, &#123; name: &#39;name5&#39;, id: 5 &#125;];</span><br><span class="line">const arr2 &#x3D; [&#123; name: &#39;name1&#39;, id: 1 &#125;, &#123; name: &#39;name2&#39;, id: 2 &#125;, &#123; name: &#39;name3&#39;, id: 3 &#125;, &#123; name: &#39;name4&#39;, id: 4 &#125;, &#123; name: &#39;name5&#39;, id: 5 &#125;];</span><br><span class="line">const result &#x3D; arr2.filter(function (v) &#123;</span><br><span class="line">  return arr1.some(n &#x3D;&gt; JSON.stringify(n) &#x3D;&#x3D;&#x3D; JSON.stringify(v))</span><br><span class="line">&#125;)</span><br><span class="line">console.log(result); &#x2F;&#x2F; [&#123; name: &#39;name1&#39;, id: 1 &#125;,&#123; name: &#39;name2&#39;, id: 2 &#125;,&#123; name: &#39;name3&#39;, id: 3 &#125;,&#123; name: &#39;name5&#39;, id: 5 &#125;]</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<h4 id="2-æ•°ç»„å¹¶é›†"><a href="#2-æ•°ç»„å¹¶é›†" class="headerlink" title="2.æ•°ç»„å¹¶é›†"></a>2.æ•°ç»„å¹¶é›†</h4><p>æ™®é€šæ•°ç»„</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const arr1 &#x3D; [1, 2, 3, 4, 5, 8, 9]</span><br><span class="line">const arr2 &#x3D; [5, 6, 7, 8, 9];</span><br><span class="line">const result &#x3D; arr1.concat(arr2.filter(v &#x3D;&gt; !arr1.includes(v)))</span><br><span class="line">console.log(result) &#x2F;&#x2F;[1, 2, 3, 4, 5, 8, 9, 6, 7]</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<p>æ•°ç»„å¯¹è±¡</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const arr1 &#x3D; [&#123; name: &#39;name1&#39;, id: 1 &#125;, &#123; name: &#39;name2&#39;, id: 2 &#125;, &#123; name: &#39;name3&#39;, id: 3 &#125;];</span><br><span class="line">const arr2 &#x3D; [&#123; name: &#39;name1&#39;, id: 1 &#125;, &#123; name: &#39;name4&#39;, id: 4 &#125;, &#123; name: &#39;name5&#39;, id: 5 &#125;];</span><br><span class="line">let arr3 &#x3D; arr1.concat(arr2);</span><br><span class="line">let result &#x3D; [];</span><br><span class="line">let obj &#x3D; [];</span><br><span class="line">result &#x3D; arr3.reduce(function (prev, cur, index, arr) &#123;</span><br><span class="line">  obj[cur.id] ? &#39;&#39; : obj[cur.id] &#x3D; true &amp;&amp; prev.push(cur);</span><br><span class="line">  return prev;</span><br><span class="line">&#125;, []);</span><br><span class="line">console.log(result); &#x2F;&#x2F;[&#123; name: &#39;name1&#39;, id: 1 &#125;,&#123; name: &#39;name2&#39;, id: 2 &#125;,&#123; name: &#39;name3&#39;, id: 3 &#125;,&#123; name: &#39;name4&#39;, id: 4 &#125;,&#123; name: &#39;name5&#39;, id: 5 &#125;]</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<h4 id="3-æ•°ç»„å·®é›†"><a href="#3-æ•°ç»„å·®é›†" class="headerlink" title="3.æ•°ç»„å·®é›†"></a>3.æ•°ç»„å·®é›†</h4><p>æ•°ç»„arr1ç›¸å¯¹äºarr2æ‰€æ²¡æœ‰çš„<br>æ™®é€šæ•°ç»„</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const arr1 &#x3D; [1, 2, 3, 4, 5, 8, 9]</span><br><span class="line">const arr2 &#x3D; [5, 6, 7, 8, 9];</span><br><span class="line">const diff &#x3D; arr1.filter(item &#x3D;&gt; !new Set(arr2).has(item))</span><br><span class="line">console.log(diff) &#x2F;&#x2F;[ 1, 2, 3, 4 ]</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<p>æ•°ç»„å¯¹è±¡</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; å¯¹è±¡æ•°ç»„</span><br><span class="line">let arr1 &#x3D; [&#123; name: &#39;name1&#39;, id: 1 &#125;, &#123; name: &#39;name2&#39;, id: 2 &#125;, &#123; name: &#39;name3&#39;, id: 3 &#125;];</span><br><span class="line">let arr2 &#x3D; [&#123; name: &#39;name1&#39;, id: 1 &#125;, &#123; name: &#39;name4&#39;, id: 4 &#125;, &#123; name: &#39;name5&#39;, id: 5 &#125;];</span><br><span class="line">let result &#x3D; arr1.filter(function (v) &#123;</span><br><span class="line">  return arr2.every(n &#x3D;&gt; JSON.stringify(n) !&#x3D;&#x3D; JSON.stringify(v))</span><br><span class="line">&#125;)</span><br><span class="line">console.log(result); &#x2F;&#x2F; [ &#123; name: &#39;name2&#39;, id: 2 &#125;, &#123; name: &#39;name3&#39;, id: 3 &#125; ]</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<h4 id="4-æ•°ç»„è¡¥é›†"><a href="#4-æ•°ç»„è¡¥é›†" class="headerlink" title="4.æ•°ç»„è¡¥é›†"></a>4.æ•°ç»„è¡¥é›†</h4><p>ä¸¤ä¸ªæ•°ç»„å„è‡ªæ²¡æœ‰çš„é›†åˆ<br>æ™®é€šæ•°ç»„</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const arr1 &#x3D; [1, 2, 3, 4, 5, 8, 9]</span><br><span class="line">const arr2 &#x3D; [5, 6, 7, 8, 9];</span><br><span class="line">const difference &#x3D; Array.from(new Set(arr1.concat(arr2).filter(v &#x3D;&gt; !new Set(arr1).has(v) || !new Set(arr2).has(v)))) </span><br><span class="line">console.log(difference) &#x2F;&#x2F;[ 1, 2, 3, 4, 6, 7 ]</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<p>æ•°ç»„å¯¹è±¡</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let arr1 &#x3D; [&#123; name: &#39;name1&#39;, id: 1 &#125;, &#123; name: &#39;name2&#39;, id: 2 &#125;, &#123; name: &#39;name3&#39;, id: 3 &#125;];</span><br><span class="line">let arr2 &#x3D; [&#123; name: &#39;name1&#39;, id: 1 &#125;, &#123; name: &#39;name4&#39;, id: 4 &#125;, &#123; name: &#39;name5&#39;, id: 5 &#125;];</span><br><span class="line">let arr3 &#x3D; arr1.concat(arr2);</span><br><span class="line">let result &#x3D; arr3.filter(function (v) &#123;</span><br><span class="line">  return arr1.every(n &#x3D;&gt; JSON.stringify(n) !&#x3D;&#x3D; JSON.stringify(v)) || arr2.every(n &#x3D;&gt; JSON.stringify(n) !&#x3D;&#x3D; JSON.stringify(v))</span><br><span class="line">&#125;)</span><br><span class="line">console.log(result); &#x2F;&#x2F; [&#123; name: &#39;name2&#39;, id: 2 &#125;,&#123; name: &#39;name3&#39;, id: 3 &#125;,&#123; name: &#39;name4&#39;, id: 4 &#125;,&#123; name: &#39;name5&#39;, id: 5 &#125;]</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<p>æ€»ç»“ä¸€ä¸‹ï¼Œå·®é›†å°±æ˜¯æ•°ç»„arr1ç›¸å¯¹äºarr2æ‰€æ²¡æœ‰çš„é›†åˆï¼Œè¡¥é›†æ˜¯ä¸¤ä¸ªæ•°ç»„å„è‡ªæ²¡æœ‰çš„é›†åˆ</p>
<h4 id="5-æ•°ç»„å»é‡"><a href="#5-æ•°ç»„å»é‡" class="headerlink" title="5.æ•°ç»„å»é‡"></a>5.æ•°ç»„å»é‡</h4><p>æ™®é€šæ•°ç»„</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">console.log(Array.from(new Set([1, 2, 3, 3, 4, 4]))) &#x2F;&#x2F;[1,2,3,4]</span><br><span class="line">console.log([...new Set([1, 2, 3, 3, 4, 4])]) &#x2F;&#x2F;[1,2,3,4]</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<p>æ•°ç»„å¯¹è±¡</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const arr &#x3D; [&#123; name: &#39;name1&#39;, id: 1 &#125;, &#123; name: &#39;name2&#39;, id: 2 &#125;, &#123; name: &#39;name3&#39;, id: 3 &#125;, &#123; name: &#39;name1&#39;, id: 1 &#125;, &#123; name: &#39;name4&#39;, id: 4 &#125;, &#123; name: &#39;name5&#39;, id: 5 &#125;];</span><br><span class="line"> const result &#x3D; [];</span><br><span class="line"> arr.forEach(item&#x3D;&gt;&#123;</span><br><span class="line">    !result.some(v &#x3D;&gt; JSON.stringify(v) &#x3D;&#x3D;&#x3D; JSON.stringify(item)) &amp;&amp; result.push(item)</span><br><span class="line"> &#125;)</span><br><span class="line"> console.log(result) &#x2F;&#x2F;[&#123; name: &#39;name1&#39;, id: 1 &#125;,&#123; name: &#39;name2&#39;, id: 2 &#125;,&#123; name: &#39;name3&#39;, id: 3 &#125;,&#123; name: &#39;name4&#39;, id: 4 &#125;,&#123; name: &#39;name5&#39;, id: 5 &#125;]</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<h4 id="6-æ•°ç»„æ’åº"><a href="#6-æ•°ç»„æ’åº" class="headerlink" title="6.æ•°ç»„æ’åº"></a>6.æ•°ç»„æ’åº</h4><p>æ™®é€šæ•°ç»„</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">console.log([1, 2, 3, 4].sort((a, b) &#x3D;&gt; a - b)); &#x2F;&#x2F; [1, 2,3,4] å‡åº</span><br><span class="line">console.log([1, 2, 3, 4].sort((a, b) &#x3D;&gt; b - a)); &#x2F;&#x2F; [4,3,2,1] é™åº</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<p>æ•°ç»„å¯¹è±¡</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const arr1 &#x3D; [&#123; name: &quot;Rom&quot;, age: 12 &#125;, &#123; name: &quot;Bob&quot;, age: 22 &#125;].sort((a, b) &#x3D;&gt; &#123; return a.age - b.age &#125;)&#x2F;&#x2F;å‡åº</span><br><span class="line">const arr2 &#x3D; [&#123; name: &quot;Rom&quot;, age: 12 &#125;, &#123; name: &quot;Bob&quot;, age: 22 &#125;].sort((a, b) &#x3D;&gt; &#123; return -a.age + b.age &#125;)&#x2F;&#x2F;é™åº</span><br><span class="line">console.log(arr2) &#x2F;&#x2F; [&#123; name: &#39;Bob&#39;, age:22 &#125;, &#123; name: &#39;Rom&#39;, age: 12 &#125;]</span><br><span class="line">console.log(arr1) &#x2F;&#x2F; [ &#123; name: &#39;Rom&#39;, age: 12 &#125;, &#123; name: &#39;Bob&#39;, age: 22 &#125; ]</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<p>ä¸¤ä¸ªç§ç±»å‹æ•°ç»„éƒ½å¯ä»¥ä½¿ç”¨sortæ’åºï¼Œsortæ˜¯æµè§ˆå™¨å†…ç½®æ–¹æ³•ï¼›<br>é»˜è®¤æ˜¯å‡åºæ’åºï¼Œé»˜è®¤è¿”å›ä¸€ä¸ªå‡½æ•°ï¼Œæœ‰ä¸¤ä¸ªå‚æ•°ï¼š<br>(a, b) =&gt; a - b æ˜¯å‡åºï¼›<br>(a, b) =&gt; b - a æ˜¯é™åºã€‚</p>
<h4 id="7-æœ€å¤§å€¼"><a href="#7-æœ€å¤§å€¼" class="headerlink" title="7.æœ€å¤§å€¼"></a>7.æœ€å¤§å€¼</h4><p>æ™®é€šæ•°ç»„</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Math.max(...[1, 2, 3, 4]) &#x2F;&#x2F;4</span><br><span class="line">Math.max.apply(this, [1, 2, 3, 4]) &#x2F;&#x2F;4</span><br><span class="line">[1, 2, 3, 4].reduce((prev, cur, curIndex, arr) &#x3D;&gt; &#123;</span><br><span class="line">   return Math.max(prev, cur);</span><br><span class="line">&#125;, 0) &#x2F;&#x2F;4</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<p>å–æ•°ç»„å¯¹è±¡ä¸­idçš„æœ€å¤§å€¼</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const arr &#x3D; [&#123; id: 1, name: &#39;jack&#39; &#125;,&#123; id: 2, name: &#39;may&#39; &#125;,&#123; id: 3, name: &#39;shawn&#39; &#125;,&#123; id: 4, name: &#39;tony&#39; &#125;]</span><br><span class="line">const arr1 &#x3D; Math.max.apply(Math, arr.map(item &#x3D;&gt; &#123; return item.id &#125;))</span><br><span class="line">const arr2 &#x3D; arr.sort((a, b) &#x3D;&gt; &#123; return b.id - a.id &#125;)[0].id</span><br><span class="line">console.log(arr1) &#x2F;&#x2F; 4</span><br><span class="line">console.log(arr2) &#x2F;&#x2F; 4</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<h4 id="8-æ•°ç»„æ±‚å’Œ"><a href="#8-æ•°ç»„æ±‚å’Œ" class="headerlink" title="8.æ•°ç»„æ±‚å’Œ"></a>8.æ•°ç»„æ±‚å’Œ</h4><p>æ™®é€šæ•°ç»„</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[1, 2, 3, 4].reduce(function (prev, cur) &#123;</span><br><span class="line">  return prev + cur;</span><br><span class="line">&#125;, 0) &#x2F;&#x2F;10 </span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<p>æ•°ç»„å¯¹è±¡</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const sum &#x3D; [&#123;age:1&#125;,&#123;age:2&#125;].reduce(function (prev, cur) &#123;</span><br><span class="line">  return prev + cur.age;</span><br><span class="line">&#125;, 0) &#x2F;&#x2F;3</span><br><span class="line">console.log(sum)</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<h4 id="9-æ•°ç»„åˆå¹¶"><a href="#9-æ•°ç»„åˆå¹¶" class="headerlink" title="9.æ•°ç»„åˆå¹¶"></a>9.æ•°ç»„åˆå¹¶</h4><p>æ™®é€šæ•°ç»„</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const arr1 &#x3D;[1, 2, 3, 4].concat([5, 6]) &#x2F;&#x2F;[1,2,3,4,5,6]</span><br><span class="line">const arr2 &#x3D;[...[1, 2, 3, 4],...[4, 5]] &#x2F;&#x2F;[1,2,3,4,5,6]</span><br><span class="line">const arrA &#x3D; [1, 2], arrB &#x3D; [3, 4]</span><br><span class="line">const arr3 &#x3D;[].concat.apply(arrA, arrB)&#x2F;&#x2F;arrAå€¼ä¸º[1,2,3,4]</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<p>æ•°ç»„å¯¹è±¡</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const arr4 &#x3D; [&#123; age: 1 &#125;].concat([&#123; age: 2 &#125;])</span><br><span class="line">const arr5 &#x3D; [...[&#123; age: 1 &#125;],...[&#123; age: 2 &#125;]]</span><br><span class="line">console.log(arr4) &#x2F;&#x2F;[ &#123; age: 1 &#125;, &#123; age: 2 &#125; ]</span><br><span class="line">console.log(arr5) &#x2F;&#x2F; [ &#123; age: 1 &#125;, &#123; age: 2 &#125; ]</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<h4 id="10-æ•°ç»„æ˜¯å¦åŒ…å«å€¼"><a href="#10-æ•°ç»„æ˜¯å¦åŒ…å«å€¼" class="headerlink" title="10.æ•°ç»„æ˜¯å¦åŒ…å«å€¼"></a>10.æ•°ç»„æ˜¯å¦åŒ…å«å€¼</h4><p>æ™®é€šæ•°ç»„</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">console.log([1, 2, 3].includes(4)) &#x2F;&#x2F;false</span><br><span class="line">console.log([1, 2, 3].indexOf(4)) &#x2F;&#x2F;-1 å¦‚æœå­˜åœ¨æ¢å›ç´¢å¼•</span><br><span class="line">console.log([1, 2, 3].find((item) &#x3D;&gt; item &#x3D;&#x3D;&#x3D; 3)) &#x2F;&#x2F;3 å¦‚æœæ•°ç»„ä¸­æ— å€¼è¿”å›undefined</span><br><span class="line">console.log([1, 2, 3].findIndex((item) &#x3D;&gt; item &#x3D;&#x3D;&#x3D; 3)) &#x2F;&#x2F;2 å¦‚æœæ•°ç»„ä¸­æ— å€¼è¿”å›-1</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<p>æ•°ç»„å¯¹è±¡</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const flag &#x3D; [&#123;age:1&#125;,&#123;age:2&#125;].some(v&#x3D;&gt;JSON.stringify(v)&#x3D;&#x3D;&#x3D;JSON.stringify(&#123;age:2&#125;))</span><br><span class="line">console.log(flag)</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<h4 id="11-æ•°ç»„æ¯ä¸€é¡¹éƒ½æ»¡è¶³"><a href="#11-æ•°ç»„æ¯ä¸€é¡¹éƒ½æ»¡è¶³" class="headerlink" title="11.æ•°ç»„æ¯ä¸€é¡¹éƒ½æ»¡è¶³"></a>11.æ•°ç»„æ¯ä¸€é¡¹éƒ½æ»¡è¶³</h4><p>æ™®é€šæ•°ç»„</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[1, 2, 3].every(item &#x3D;&gt; &#123; return item &gt; 2 &#125;)</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<p>æ•°ç»„å¯¹è±¡</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const arr &#x3D; [&#123; age: 3 &#125;, &#123; age: 4 &#125;, &#123; age: 5 &#125;]</span><br><span class="line">arr.every(item &#x3D;&gt; &#123; return item.age &gt; 2 &#125;) &#x2F;&#x2F; true</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<h4 id="12-æ•°ç»„æœ‰ä¸€é¡¹æ»¡è¶³"><a href="#12-æ•°ç»„æœ‰ä¸€é¡¹æ»¡è¶³" class="headerlink" title="12.æ•°ç»„æœ‰ä¸€é¡¹æ»¡è¶³"></a>12.æ•°ç»„æœ‰ä¸€é¡¹æ»¡è¶³</h4><p>æ™®é€šæ•°ç»„</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[1, 2, 3].some(item &#x3D;&gt; &#123; return item &gt; 2 &#125;)</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<p>æ•°ç»„å¯¹è±¡</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const arr &#x3D; [&#123; age: 3 &#125;, &#123; age: 4 &#125;, &#123; age: 5 &#125;]</span><br><span class="line">arr.some(item &#x3D;&gt; &#123; return item.age &lt; 4 &#125;) &#x2F;&#x2F; true</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<h4 id="13-ç‰ˆæœ¬å·æ’åº"><a href="#13-ç‰ˆæœ¬å·æ’åº" class="headerlink" title="13.ç‰ˆæœ¬å·æ’åº"></a>13.ç‰ˆæœ¬å·æ’åº</h4><p>æ–¹æ³•ä¸€</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function sortNumber(a, b) &#123;</span><br><span class="line">  return a - b</span><br><span class="line">&#125;</span><br><span class="line">const b &#x3D; [1,2,3,7,5,6]</span><br><span class="line">const a &#x3D; [&quot;1.5&quot;, &quot;1.5&quot;, &quot;1.40&quot;, &quot;1.25&quot;, &quot;1.1000&quot;, &quot;1.1&quot;];</span><br><span class="line"></span><br><span class="line">console.log(a.sort(sortNumber)); &#x2F;&#x2F; [ 1, 2, 3, 5, 6, 7 ]</span><br><span class="line">console.log(b.sort(sortNumber)); &#x2F;&#x2F;[ &#39;1.1000&#39;, &#39;1.1&#39;, &#39;1.25&#39;, &#39;1.40&#39;, &#39;1.5&#39;, &#39;1.5&#39; ]</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<p>å¯è§sortæ’åºå¯¹æ•´æ•°å¯ä»¥ï¼Œç±»ä¼¼ç‰ˆæœ¬å·è¿™ä¸ªæ ¼å¼å°±ä¸é€‚ç”¨äº†ï¼Œå› ä¸ºsortå‡½æ•°åœ¨æ¯”è¾ƒå­—ç¬¦ä¸²çš„æ—¶å€™ï¼Œæ˜¯æ¯”è¾ƒå­—ç¬¦ä¸²çš„Unicodeè¿›è¡Œæ’åºçš„ã€‚</p>
<p>æ–¹æ³•äºŒ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;å‡å®šå­—ç¬¦ä¸²çš„æ¯èŠ‚æ•°éƒ½åœ¨5ä½ä»¥ä¸‹</span><br><span class="line">&#x2F;&#x2F;å»é™¤æ•°ç»„ç©ºå€¼||ç©ºæ ¼</span><br><span class="line">if (!Array.prototype.trim) &#123;</span><br><span class="line">  Array.prototype.trim &#x3D; function () &#123;</span><br><span class="line">    let arr &#x3D; []; this.forEach(function (e) &#123;</span><br><span class="line">      if (e.match(&#x2F;\S+&#x2F;)) arr.push(e);</span><br><span class="line">    &#125;)</span><br><span class="line">    return arr;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;æå–æ•°å­—éƒ¨åˆ†</span><br><span class="line">function toNum(a) &#123;</span><br><span class="line">  let d &#x3D; a.toString();</span><br><span class="line">  let c &#x3D; d.split(&#x2F;\D&#x2F;).trim();</span><br><span class="line">  let num_place &#x3D; [&quot;&quot;, &quot;0&quot;, &quot;00&quot;, &quot;000&quot;, &quot;0000&quot;], r &#x3D; num_place.reverse();</span><br><span class="line">  for (let i &#x3D; 0; i &lt; c.length; i++) &#123;</span><br><span class="line">    let len &#x3D; c[i].length;</span><br><span class="line">    c[i] &#x3D; r[len] + c[i];</span><br><span class="line">  &#125;</span><br><span class="line">  let res &#x3D; c.join(&#39;&#39;);</span><br><span class="line">  return res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;æå–å­—ç¬¦</span><br><span class="line">function toChar(a) &#123;</span><br><span class="line">  let d &#x3D; a.toString();</span><br><span class="line">  let c &#x3D; d.split(&#x2F;\.|\d&#x2F;).join(&#39;&#39;);</span><br><span class="line">  return c;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function sortVersions(a, b) &#123;</span><br><span class="line"></span><br><span class="line">  let _a1 &#x3D; toNum(a), _b1 &#x3D; toNum(b);</span><br><span class="line">  if (_a1 !&#x3D;&#x3D; _b1) return _a1 - _b1;</span><br><span class="line">  else &#123;</span><br><span class="line">    _a2 &#x3D; toChar(a).charCodeAt(0).toString(16);</span><br><span class="line">    _b2 &#x3D; toChar(b).charCodeAt(0).toString(16);</span><br><span class="line">    return _a2 - _b2;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let arr1 &#x3D; [&quot;10&quot;, &quot;5&quot;, &quot;40&quot;, &quot;25&quot;, &quot;1000&quot;, &quot;1&quot;];</span><br><span class="line">let arr2 &#x3D; [&quot;1.10&quot;, &quot;1.5&quot;, &quot;1.40&quot;, &quot;1.25&quot;, &quot;1.1000&quot;, &quot;1.1&quot;];</span><br><span class="line">let arr3 &#x3D; [&quot;1.10c&quot;, &quot;1.10b&quot;, &quot;1.10C&quot;, &quot;1.25&quot;, &quot;1.1000&quot;, &quot;1.10A&quot;];</span><br><span class="line">console.log(arr1.sort(sortVersions)) &#x2F;&#x2F;[ &#39;1&#39;, &#39;5&#39;, &#39;10&#39;, &#39;25&#39;, &#39;40&#39;, &#39;1000&#39; ]</span><br><span class="line">console.log(arr2.sort(sortVersions)) &#x2F;&#x2F;[ &#39;1.1&#39;, &#39;1.5&#39;, &#39;1.10&#39;, &#39;1.25&#39;, &#39;1.40&#39;, &#39;1.1000&#39; ]</span><br><span class="line">console.log(arr3.sort(sortVersions)) &#x2F;&#x2F; [ &#39;1.10A&#39;, &#39;1.10C&#39;, &#39;1.10b&#39;, &#39;1.10c&#39;, &#39;1.25&#39;, &#39;1.1000&#39; ]</span><br><span class="line"></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹å‡ºè¿™ä¸ªå‡½æ•°å‡å…¼å®¹æ•´æ•°ï¼Œéæ•´æ•°ï¼Œå­—æ¯ï¼›<br>å­—æ¯æ’åºæ˜¯æ ¹æ®Unicodeæ’åºçš„ï¼Œæ‰€ä»¥1.10båœ¨1.10Cçš„åé¢</p>
<h4 id="14-å¯¹è±¡è½¬æ•°ç»„"><a href="#14-å¯¹è±¡è½¬æ•°ç»„" class="headerlink" title="14. å¯¹è±¡è½¬æ•°ç»„"></a>14. å¯¹è±¡è½¬æ•°ç»„</h4><p>å°†æ•°ç»„çš„keyå’Œvalueè½¬åŒ–æˆæ•°ç»„</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Object.keys(&#123; name: &#39;å¼ ä¸‰&#39;, age: 14 &#125;) &#x2F;&#x2F;[&#39;name&#39;,&#39;age&#39;]</span><br><span class="line">Object.values(&#123; name: &#39;å¼ ä¸‰&#39;, age: 14 &#125;) &#x2F;&#x2F;[&#39;å¼ ä¸‰&#39;,14]</span><br><span class="line">Object.entries(&#123; name: &#39;å¼ ä¸‰&#39;, age: 14 &#125;) &#x2F;&#x2F;[[name,&#39;å¼ ä¸‰&#39;],[age,14]]</span><br><span class="line">Object.fromEntries([name, &#39;å¼ ä¸‰&#39;], [age, 14]) &#x2F;&#x2F;ES10çš„api,Chromeä¸æ”¯æŒ , fireboxè¾“å‡º&#123;name:&#39;å¼ ä¸‰&#39;,age:14&#125;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<h4 id="15-æ•°ç»„è½¬å¯¹è±¡"><a href="#15-æ•°ç»„è½¬å¯¹è±¡" class="headerlink" title="15.æ•°ç»„è½¬å¯¹è±¡"></a>15.æ•°ç»„è½¬å¯¹è±¡</h4><p>å°†æ•°ç»„çš„å€¼è½¬åŒ–ä¸ºå¯¹è±¡çš„value</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const arrName &#x3D; [&#39;å¼ ä¸‰&#39;, &#39;æå››&#39;, &#39;ç‹äº”&#39;]</span><br><span class="line">const arrAge&#x3D;[&#39;20&#39;,&#39;30&#39;,&#39;40&#39;]</span><br><span class="line">const arrDec &#x3D; [&#39;æè¿°1&#39;, &#39;æè¿°2&#39;, &#39;æè¿°3&#39;]</span><br><span class="line">const obj &#x3D; arrName.map((item,index)&#x3D;&gt;&#123;</span><br><span class="line">  return &#123; name: item, age: arrAge[index],dec:arrDec[index]&#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">console.log(obj) &#x2F;&#x2F; [&#123; name: &#39;å¼ ä¸‰&#39;, age: &#39;20&#39;, dec: &#39;æè¿°1&#39; &#125;,&#123; name: &#39;æå››&#39;, age: &#39;30&#39;, dec: &#39;æè¿°2&#39; &#125;,&#123; name: &#39;ç‹äº”&#39;, age: &#39;40&#39;, dec: &#39;æè¿°3&#39; &#125;]</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<h4 id="16-æ•°ç»„è§£æ„"><a href="#16-æ•°ç»„è§£æ„" class="headerlink" title="16.æ•°ç»„è§£æ„"></a>16.æ•°ç»„è§£æ„</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const arr&#x3D;[1,2]; &#x2F;&#x2F;åé¢ä¸€å®šè¦åŠ åˆ†å·ï¼Œå› ä¸ºä¸åŠ è§£é‡Šå™¨ä¼šè®¤ä¸ºåœ¨è¯»æ•°ç»„</span><br><span class="line">[arr[1], arr[0]] &#x3D; [arr[0], arr[1]]; &#x2F;&#x2F; [2,1]</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<h3 id="Object"><a href="#Object" class="headerlink" title="Object"></a>Object</h3><h4 id="17-å¯¹è±¡å˜é‡å±æ€§"><a href="#17-å¯¹è±¡å˜é‡å±æ€§" class="headerlink" title="17.å¯¹è±¡å˜é‡å±æ€§"></a>17.å¯¹è±¡å˜é‡å±æ€§</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const flag &#x3D; true;</span><br><span class="line">const obj &#x3D; &#123;</span><br><span class="line">    a: 0,</span><br><span class="line">    [flag ? &quot;c&quot; : &quot;d&quot;]: 2</span><br><span class="line">&#125;;</span><br><span class="line">&#x2F;&#x2F; obj &#x3D;&gt; &#123; a: 0, c: 2 &#125;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<h4 id="18-å¯¹è±¡å¤šä½™å±æ€§åˆ é™¤"><a href="#18-å¯¹è±¡å¤šä½™å±æ€§åˆ é™¤" class="headerlink" title="18.å¯¹è±¡å¤šä½™å±æ€§åˆ é™¤"></a>18.å¯¹è±¡å¤šä½™å±æ€§åˆ é™¤</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const &#123; name, age, ...obj &#125; &#x3D; &#123; name: &#39;å¼ ä¸‰&#39;, age: 13, dec: &#39;æè¿°1&#39;, info: &#39;ä¿¡æ¯&#39; &#125;</span><br><span class="line">console.log(name)  &#x2F;&#x2F; å¼ ä¸‰</span><br><span class="line">console.log(age)  &#x2F;&#x2F; 13</span><br><span class="line">console.log(obj)  &#x2F;&#x2F; &#123;dec: &#39;æè¿°1&#39;, info: &#39;ä¿¡æ¯&#39; &#125;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<h4 id="19-å¯¹è±¡åµŒå¥—å±æ€§è§£æ„"><a href="#19-å¯¹è±¡åµŒå¥—å±æ€§è§£æ„" class="headerlink" title="19.å¯¹è±¡åµŒå¥—å±æ€§è§£æ„"></a>19.å¯¹è±¡åµŒå¥—å±æ€§è§£æ„</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const &#123; info:&#123; dec&#125; &#125; &#x3D; &#123; name: &#39;å¼ ä¸‰&#39;, age: 13, info:&#123;dec: &#39;æè¿°1&#39;, info: &#39;ä¿¡æ¯&#39; &#125;&#125;</span><br><span class="line">console.log(dec) &#x2F;&#x2F; æè¿°1</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<h4 id="20-è§£æ„å¯¹è±¡å±æ€§åˆ«å"><a href="#20-è§£æ„å¯¹è±¡å±æ€§åˆ«å" class="headerlink" title="20.è§£æ„å¯¹è±¡å±æ€§åˆ«å"></a>20.è§£æ„å¯¹è±¡å±æ€§åˆ«å</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const &#123; name:newName &#125; &#x3D; &#123; name: &#39;å¼ ä¸‰&#39;, age: 13 &#125;</span><br><span class="line">console.log(newName)  &#x2F;&#x2F; å¼ ä¸‰</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<h4 id="21-è§£æ„å¯¹è±¡å±æ€§é»˜è®¤å€¼"><a href="#21-è§£æ„å¯¹è±¡å±æ€§é»˜è®¤å€¼" class="headerlink" title="21.è§£æ„å¯¹è±¡å±æ€§é»˜è®¤å€¼"></a>21.è§£æ„å¯¹è±¡å±æ€§é»˜è®¤å€¼</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const &#123; dec&#x3D;&#39;è¿™æ˜¯é»˜è®¤decå€¼&#39; &#125; &#x3D; &#123; name: &#39;å¼ ä¸‰&#39;, age: 13 &#125;</span><br><span class="line">console.log(dec) &#x2F;&#x2F;è¿™æ˜¯é»˜è®¤decå€¼</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<h4 id="22-æ‹¦æˆªå¯¹è±¡"><a href="#22-æ‹¦æˆªå¯¹è±¡" class="headerlink" title="22.æ‹¦æˆªå¯¹è±¡"></a>22.æ‹¦æˆªå¯¹è±¡</h4><p>åˆ©ç”¨Object.definePropertyæ‹¦æˆªå¯¹è±¡<br>æ— æ³•æ‹¦æˆªæ•°ç»„çš„å€¼</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let obj &#x3D; &#123; name: &#39;&#39;, age: &#39;&#39;, sex: &#39;&#39; &#125;,</span><br><span class="line">  defaultName &#x3D; [&quot;è¿™æ˜¯å§“åé»˜è®¤å€¼1&quot;, &quot;è¿™æ˜¯å¹´é¾„é»˜è®¤å€¼1&quot;, &quot;è¿™æ˜¯æ€§åˆ«é»˜è®¤å€¼1&quot;];</span><br><span class="line">Object.keys(obj).forEach(key &#x3D;&gt; &#123;</span><br><span class="line">  Object.defineProperty(obj, key, &#123; &#x2F;&#x2F; æ‹¦æˆªæ•´ä¸ªobject å¯¹è±¡ï¼Œå¹¶é€šè¿‡getè·å–å€¼ï¼Œsetè®¾ç½®å€¼ï¼Œvue 2.xçš„æ ¸å¿ƒå°±æ˜¯è¿™ä¸ªæ¥ç›‘å¬</span><br><span class="line">    get() &#123;</span><br><span class="line">      return defaultName;</span><br><span class="line">    &#125;,</span><br><span class="line">    set(value) &#123;</span><br><span class="line">      defaultName &#x3D; value;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">console.log(obj.name); &#x2F;&#x2F; [ &#39;è¿™æ˜¯å§“åé»˜è®¤å€¼1&#39;, &#39;è¿™æ˜¯å¹´é¾„é»˜è®¤å€¼1&#39;, &#39;è¿™æ˜¯æ€§åˆ«é»˜è®¤å€¼1&#39; ]</span><br><span class="line">console.log(obj.age); &#x2F;&#x2F; [ &#39;è¿™æ˜¯å§“åé»˜è®¤å€¼1&#39;, &#39;è¿™æ˜¯å¹´é¾„é»˜è®¤å€¼1&#39;, &#39;è¿™æ˜¯æ€§åˆ«é»˜è®¤å€¼1&#39; ]</span><br><span class="line">console.log(obj.sex); &#x2F;&#x2F; [ &#39;è¿™æ˜¯å§“åé»˜è®¤å€¼1&#39;, &#39;è¿™æ˜¯å¹´é¾„é»˜è®¤å€¼1&#39;, &#39;è¿™æ˜¯æ€§åˆ«é»˜è®¤å€¼1&#39; ]</span><br><span class="line">obj.name &#x3D; &quot;è¿™æ˜¯æ”¹å˜å€¼1&quot;;</span><br><span class="line">console.log(obj.name); &#x2F;&#x2F; è¿™æ˜¯æ”¹å˜å€¼1</span><br><span class="line">console.log(obj.age);  &#x2F;&#x2F; è¿™æ˜¯æ”¹å˜å€¼1</span><br><span class="line">console.log(obj.sex); &#x2F;&#x2F; è¿™æ˜¯æ”¹å˜å€¼1</span><br><span class="line"></span><br><span class="line">let objOne &#x3D; &#123;&#125;, defaultNameOne &#x3D; &quot;è¿™æ˜¯é»˜è®¤å€¼2&quot;;</span><br><span class="line">Object.defineProperty(obj, &#39;name&#39;, &#123;</span><br><span class="line">  get() &#123;</span><br><span class="line">    return defaultNameOne;</span><br><span class="line">  &#125;,</span><br><span class="line">  set(value) &#123;</span><br><span class="line">    defaultNameOne &#x3D; value;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line">console.log(objOne.name); &#x2F;&#x2F; undefined</span><br><span class="line">objOne.name &#x3D; &quot;è¿™æ˜¯æ”¹å˜å€¼2&quot;;</span><br><span class="line">console.log(objOne.name); &#x2F;&#x2F; è¿™æ˜¯æ”¹å˜å€¼2</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<p>åˆ©ç”¨proxyæ‹¦æˆªå¯¹è±¡</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let obj &#x3D; &#123; name: &#39;&#39;, age: &#39;&#39;, sex: &#39;&#39; &#125;</span><br><span class="line">let handler &#x3D; &#123;</span><br><span class="line">  get(target, key, receiver) &#123;</span><br><span class="line">    console.log(&quot;get&quot;, key); </span><br><span class="line">    return Reflect.get(target, key, receiver);</span><br><span class="line">  &#125;,</span><br><span class="line">  set(target, key, value, receiver) &#123;</span><br><span class="line">    console.log(&quot;set&quot;, key, value); &#x2F;&#x2F; set name æå››  &#x2F;&#x2F; set age 24</span><br><span class="line">    return Reflect.set(target, key, value, receiver);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">let proxy &#x3D; new Proxy(obj, handler);</span><br><span class="line">proxy.name &#x3D; &quot;æå››&quot;;</span><br><span class="line">proxy.age &#x3D; 24;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<p>defineProtertyå’Œproxyçš„å¯¹æ¯”ï¼š<br>1.defineProtertyæ˜¯es5çš„æ ‡å‡†,proxyæ˜¯es6çš„æ ‡å‡†;<br>2.proxyå¯ä»¥ç›‘å¬åˆ°æ•°ç»„ç´¢å¼•èµ‹å€¼,æ”¹å˜æ•°ç»„é•¿åº¦çš„å˜åŒ–;<br>3.proxyæ˜¯ç›‘å¬å¯¹è±¡,ä¸ç”¨æ·±å±‚éå†,defineProtertyæ˜¯ç›‘å¬å±æ€§;<br>4.åˆ©ç”¨defineProtertyå®ç°åŒå‘æ•°æ®ç»‘å®š(vue2.xé‡‡ç”¨çš„æ ¸å¿ƒ)</p>
<h4 id="23-å¯¹è±¡æ·±åº¦æ‹·è´"><a href="#23-å¯¹è±¡æ·±åº¦æ‹·è´" class="headerlink" title="23.å¯¹è±¡æ·±åº¦æ‹·è´"></a>23.å¯¹è±¡æ·±åº¦æ‹·è´</h4><p>JSON.stringifyæ·±åº¦å…‹éš†å¯¹è±¡;<br>1.æ— æ³•å¯¹å‡½æ•° ã€RegExpç­‰ç‰¹æ®Šå¯¹è±¡çš„å…‹éš†;<br>2.ä¼šæŠ›å¼ƒå¯¹è±¡çš„constructor,æ‰€æœ‰çš„æ„é€ å‡½æ•°ä¼šæŒ‡å‘Object;<br>3.å¯¹è±¡æœ‰å¾ªç¯å¼•ç”¨,ä¼šæŠ¥é”™</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const mapTag &#x3D; &#39;[object Map]&#39;;</span><br><span class="line">const setTag &#x3D; &#39;[object Set]&#39;;</span><br><span class="line">const arrayTag &#x3D; &#39;[object Array]&#39;;</span><br><span class="line">const objectTag &#x3D; &#39;[object Object]&#39;;</span><br><span class="line">const argsTag &#x3D; &#39;[object Arguments]&#39;;</span><br><span class="line"></span><br><span class="line">const boolTag &#x3D; &#39;[object Boolean]&#39;;</span><br><span class="line">const dateTag &#x3D; &#39;[object Date]&#39;;</span><br><span class="line">const numberTag &#x3D; &#39;[object Number]&#39;;</span><br><span class="line">const stringTag &#x3D; &#39;[object String]&#39;;</span><br><span class="line">const symbolTag &#x3D; &#39;[object Symbol]&#39;;</span><br><span class="line">const errorTag &#x3D; &#39;[object Error]&#39;;</span><br><span class="line">const regexpTag &#x3D; &#39;[object RegExp]&#39;;</span><br><span class="line">const funcTag &#x3D; &#39;[object Function]&#39;;</span><br><span class="line"></span><br><span class="line">const deepTag &#x3D; [mapTag, setTag, arrayTag, objectTag, argsTag];</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">function forEach(array, iteratee) &#123;</span><br><span class="line">  let index &#x3D; -1;</span><br><span class="line">  const length &#x3D; array.length;</span><br><span class="line">  while (++index &lt; length) &#123;</span><br><span class="line">    iteratee(array[index], index);</span><br><span class="line">  &#125;</span><br><span class="line">  return array;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function isObject(target) &#123;</span><br><span class="line">  const type &#x3D; typeof target;</span><br><span class="line">  return target !&#x3D;&#x3D; null &amp;&amp; (type &#x3D;&#x3D;&#x3D; &#39;object&#39; || type &#x3D;&#x3D;&#x3D; &#39;function&#39;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function getType(target) &#123;</span><br><span class="line">  return Object.prototype.toString.call(target);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function getInit(target) &#123;</span><br><span class="line">  const Ctor &#x3D; target.constructor;</span><br><span class="line">  return new Ctor();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function cloneSymbol(targe) &#123;</span><br><span class="line">  return Object(Symbol.prototype.valueOf.call(targe));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function cloneReg(targe) &#123;</span><br><span class="line">  const reFlags &#x3D; &#x2F;\w*$&#x2F;;</span><br><span class="line">  const result &#x3D; new targe.constructor(targe.source, reFlags.exec(targe));</span><br><span class="line">  result.lastIndex &#x3D; targe.lastIndex;</span><br><span class="line">  return result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function cloneFunction(func) &#123;</span><br><span class="line">  const bodyReg &#x3D; &#x2F;(?&lt;&#x3D;&#123;)(.|\n)+(?&#x3D;&#125;)&#x2F;m;</span><br><span class="line">  const paramReg &#x3D; &#x2F;(?&lt;&#x3D;\().+(?&#x3D;\)\s+&#123;)&#x2F;;</span><br><span class="line">  const funcString &#x3D; func.toString();</span><br><span class="line">  if (func.prototype) &#123;</span><br><span class="line">    const param &#x3D; paramReg.exec(funcString);</span><br><span class="line">    const body &#x3D; bodyReg.exec(funcString);</span><br><span class="line">    if (body) &#123;</span><br><span class="line">      if (param) &#123;</span><br><span class="line">        const paramArr &#x3D; param[0].split(&#39;,&#39;);</span><br><span class="line">        return new Function(...paramArr, body[0]);</span><br><span class="line">      &#125; else &#123;</span><br><span class="line">        return new Function(body[0]);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">      return null;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; else &#123;</span><br><span class="line">    return eval(funcString);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function cloneOtherType(targe, type) &#123;</span><br><span class="line">  const Ctor &#x3D; targe.constructor;</span><br><span class="line">  switch (type) &#123;</span><br><span class="line">    case boolTag:</span><br><span class="line">    case numberTag:</span><br><span class="line">    case stringTag:</span><br><span class="line">    case errorTag:</span><br><span class="line">    case dateTag:</span><br><span class="line">      return new Ctor(targe);</span><br><span class="line">    case regexpTag:</span><br><span class="line">      return cloneReg(targe);</span><br><span class="line">    case symbolTag:</span><br><span class="line">      return cloneSymbol(targe);</span><br><span class="line">    case funcTag:</span><br><span class="line">      return cloneFunction(targe);</span><br><span class="line">    default:</span><br><span class="line">      return null;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function clone(target, map &#x3D; new WeakMap()) &#123;</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F; å…‹éš†åŸå§‹ç±»å‹</span><br><span class="line">  if (!isObject(target)) &#123;</span><br><span class="line">    return target;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F; åˆå§‹åŒ–</span><br><span class="line">  const type &#x3D; getType(target);</span><br><span class="line">  let cloneTarget;</span><br><span class="line">  if (deepTag.includes(type)) &#123;</span><br><span class="line">    cloneTarget &#x3D; getInit(target, type);</span><br><span class="line">  &#125; else &#123;</span><br><span class="line">    return cloneOtherType(target, type);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F; é˜²æ­¢å¾ªç¯å¼•ç”¨</span><br><span class="line">  if (map.get(target)) &#123;</span><br><span class="line">    return map.get(target);</span><br><span class="line">  &#125;</span><br><span class="line">  map.set(target, cloneTarget);</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F; å…‹éš†set</span><br><span class="line">  if (type &#x3D;&#x3D;&#x3D; setTag) &#123;</span><br><span class="line">    target.forEach(value &#x3D;&gt; &#123;</span><br><span class="line">      cloneTarget.add(clone(value, map));</span><br><span class="line">    &#125;);</span><br><span class="line">    return cloneTarget;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F; å…‹éš†map</span><br><span class="line">  if (type &#x3D;&#x3D;&#x3D; mapTag) &#123;</span><br><span class="line">    target.forEach((value, key) &#x3D;&gt; &#123;</span><br><span class="line">      cloneTarget.set(key, clone(value, map));</span><br><span class="line">    &#125;);</span><br><span class="line">    return cloneTarget;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F; å…‹éš†å¯¹è±¡å’Œæ•°ç»„</span><br><span class="line">  const keys &#x3D; type &#x3D;&#x3D;&#x3D; arrayTag ? undefined : Object.keys(target);</span><br><span class="line">  forEach(keys || target, (value, key) &#x3D;&gt; &#123;</span><br><span class="line">    if (keys) &#123;</span><br><span class="line">      key &#x3D; value;</span><br><span class="line">    &#125;</span><br><span class="line">    cloneTarget[key] &#x3D; clone(target[key], map);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  return cloneTarget;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">console.log(clone(&#123;</span><br><span class="line">  name: &#39;å¼ ä¸‰&#39;, age: 23,</span><br><span class="line">  obj: &#123; name: &#39;æå››&#39;, age: 46 &#125;,</span><br><span class="line">  arr: [1, 2, 3]</span><br><span class="line">&#125;)) &#x2F;&#x2F; &#123; name: &#39;å¼ ä¸‰&#39;, age: 23, obj: &#123; name: &#39;æå››&#39;, age: 46 &#125;, arr: [ 1, 2, 3 ] &#125;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<p>å¯¹è±¡æ·±åº¦å…‹éš†å®é™…ä¸Šå°±æ˜¯è¦å…¼å®¹Arrayï¼ŒRegExpï¼ŒDateï¼ŒFunctionç±»å‹ï¼›<br>å…‹éš†å‡½æ•°å¯ä»¥ç”¨æ­£åˆ™å–å‡ºå‡½æ•°ä½“å’Œå‚æ•°ï¼Œå†å®šä¹‰ä¸€ä¸ªå‡½æ•°å°†å–å‡ºæ¥çš„å€¼èµ‹å€¼è¿›å»<br>è¯¦ç»†è¯·æˆ³å¯¹è±¡æ·±åº¦æ‹·è´</p>
<h4 id="24-å¯¹è±¡æ˜¯å¦ç›¸ç­‰"><a href="#24-å¯¹è±¡æ˜¯å¦ç›¸ç­‰" class="headerlink" title="24.å¯¹è±¡æ˜¯å¦ç›¸ç­‰"></a>24.å¯¹è±¡æ˜¯å¦ç›¸ç­‰</h4><p>å¦‚æœç”¨JSON.stringifyè½¬åŒ–å±æ€§é¡ºåºä¸åŒï¼Œä¹Ÿä¸ç›¸ç­‰ï¼›<br>è€Œä¸”ä¸æ”¯æŒæ— æ³•å¯¹å‡½æ•° ã€RegExpç­‰ç‰¹æ®Šå¯¹è±¡çš„å…‹éš†</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function deepCompare(x, y) &#123;</span><br><span class="line">  var i, l, leftChain, rightChain;</span><br><span class="line"></span><br><span class="line">  function compare2Objects(x, y) &#123;</span><br><span class="line">    var p;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; remember that NaN &#x3D;&#x3D;&#x3D; NaN returns false</span><br><span class="line">    &#x2F;&#x2F; and isNaN(undefined) returns true</span><br><span class="line">    if (isNaN(x) &amp;&amp; isNaN(y) &amp;&amp; typeof x &#x3D;&#x3D;&#x3D; &#39;number&#39; &amp;&amp; typeof y &#x3D;&#x3D;&#x3D; &#39;number&#39;) &#123;</span><br><span class="line">      return true;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; Compare primitives and functions.     </span><br><span class="line">    &#x2F;&#x2F; Check if both arguments link to the same object.</span><br><span class="line">    &#x2F;&#x2F; Especially useful on the step where we compare prototypes</span><br><span class="line">    if (x &#x3D;&#x3D;&#x3D; y) &#123;</span><br><span class="line">      return true;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; Works in case when functions are created in constructor.</span><br><span class="line">    &#x2F;&#x2F; Comparing dates is a common scenario. Another built-ins?</span><br><span class="line">    &#x2F;&#x2F; We can even handle functions passed across iframes</span><br><span class="line">    if ((typeof x &#x3D;&#x3D;&#x3D; &#39;function&#39; &amp;&amp; typeof y &#x3D;&#x3D;&#x3D; &#39;function&#39;) ||</span><br><span class="line">      (x instanceof Date &amp;&amp; y instanceof Date) ||</span><br><span class="line">      (x instanceof RegExp &amp;&amp; y instanceof RegExp) ||</span><br><span class="line">      (x instanceof String &amp;&amp; y instanceof String) ||</span><br><span class="line">      (x instanceof Number &amp;&amp; y instanceof Number)) &#123;</span><br><span class="line">      return x.toString() &#x3D;&#x3D;&#x3D; y.toString();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; At last checking prototypes as good as we can</span><br><span class="line">    if (!(x instanceof Object &amp;&amp; y instanceof Object)) &#123;</span><br><span class="line">      return false;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    if (x.isPrototypeOf(y) || y.isPrototypeOf(x)) &#123;</span><br><span class="line">      return false;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    if (x.constructor !&#x3D;&#x3D; y.constructor) &#123;</span><br><span class="line">      return false;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    if (x.prototype !&#x3D;&#x3D; y.prototype) &#123;</span><br><span class="line">      return false;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; Check for infinitive linking loops</span><br><span class="line">    if (leftChain.indexOf(x) &gt; -1 || rightChain.indexOf(y) &gt; -1) &#123;</span><br><span class="line">      return false;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; Quick checking of one object being a subset of another.</span><br><span class="line">    &#x2F;&#x2F; todo: cache the structure of arguments[0] for performance</span><br><span class="line">    for (p in y) &#123;</span><br><span class="line">      if (y.hasOwnProperty(p) !&#x3D;&#x3D; x.hasOwnProperty(p)) &#123;</span><br><span class="line">        return false;</span><br><span class="line">      &#125; else if (typeof y[p] !&#x3D;&#x3D; typeof x[p]) &#123;</span><br><span class="line">        return false;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    for (p in x) &#123;</span><br><span class="line">      if (y.hasOwnProperty(p) !&#x3D;&#x3D; x.hasOwnProperty(p)) &#123;</span><br><span class="line">        return false;</span><br><span class="line">      &#125; else if (typeof y[p] !&#x3D;&#x3D; typeof x[p]) &#123;</span><br><span class="line">        return false;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      switch (typeof (x[p])) &#123;</span><br><span class="line">        case &#39;object&#39;:</span><br><span class="line">        case &#39;function&#39;:</span><br><span class="line"></span><br><span class="line">          leftChain.push(x);</span><br><span class="line">          rightChain.push(y);</span><br><span class="line"></span><br><span class="line">          if (!compare2Objects(x[p], y[p])) &#123;</span><br><span class="line">            return false;</span><br><span class="line">          &#125;</span><br><span class="line"></span><br><span class="line">          leftChain.pop();</span><br><span class="line">          rightChain.pop();</span><br><span class="line">          break;</span><br><span class="line"></span><br><span class="line">        default:</span><br><span class="line">          if (x[p] !&#x3D;&#x3D; y[p]) &#123;</span><br><span class="line">            return false;</span><br><span class="line">          &#125;</span><br><span class="line">          break;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    return true;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  if (arguments.length &lt; 1) &#123;</span><br><span class="line">    return true; </span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  for (i &#x3D; 1, l &#x3D; arguments.length; i &lt; l; i++) &#123;</span><br><span class="line"></span><br><span class="line">    leftChain &#x3D; []; &#x2F;&#x2F;Todo: this can be cached</span><br><span class="line">    rightChain &#x3D; [];</span><br><span class="line"></span><br><span class="line">    if (!compare2Objects(arguments[0], arguments[i])) &#123;</span><br><span class="line">      return false;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  return true;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const obj1 &#x3D; &#123; </span><br><span class="line">  name: &#39;å¼ ä¸‰&#39;, age: 23, </span><br><span class="line">  obj: &#123; name: &#39;æå››&#39;, age: 46 &#125;, </span><br><span class="line">  arr: [1, 2, 3],</span><br><span class="line">  date:new Date(23),</span><br><span class="line">  reg: new RegExp(&#39;abc&#39;),</span><br><span class="line">  fun: ()&#x3D;&gt;&#123;&#125;</span><br><span class="line"> &#125;</span><br><span class="line">const obj2 &#x3D; &#123; </span><br><span class="line">  name: &#39;å¼ ä¸‰&#39;, age: 23, </span><br><span class="line">  obj: &#123; name: &#39;æå››&#39;, age: 46 &#125;, </span><br><span class="line">  arr: [1, 2, 3],</span><br><span class="line">  date: new Date(23),</span><br><span class="line">  reg: new RegExp(&#39;abc&#39;),</span><br><span class="line">  fun: ()&#x3D;&gt;&#123;&#125;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line">console.log(deepCompare(obj1,obj2)) &#x2F;&#x2F; true</span><br><span class="line"></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<p>åˆ¤æ–­å¯¹è±¡æ˜¯å¦ç›¸ç­‰ï¼Œå®é™…ä¸Šå°±æ˜¯è¦å¤„ç†Arrayï¼ŒDateï¼ŒRegExpï¼ŒObjectï¼ŒFunctionçš„ç‰¹æ®Šç±»å‹æ˜¯å¦ç›¸ç­‰</p>
<h4 id="25-å¯¹è±¡è½¬åŒ–ä¸ºå­—ç¬¦ä¸²"><a href="#25-å¯¹è±¡è½¬åŒ–ä¸ºå­—ç¬¦ä¸²" class="headerlink" title="25.å¯¹è±¡è½¬åŒ–ä¸ºå­—ç¬¦ä¸²"></a>25.å¯¹è±¡è½¬åŒ–ä¸ºå­—ç¬¦ä¸²</h4><p>é€šè¿‡å­—ç¬¦ä¸²+Object çš„æ–¹å¼æ¥è½¬åŒ–å¯¹è±¡ä¸ºå­—ç¬¦ä¸²(å®é™…ä¸Šæ˜¯è°ƒç”¨ .toString() æ–¹æ³•)</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#39;the Math object:&#39; + Math.ceil(3.4)                &#x2F;&#x2F; &quot;the Math object:4&quot;</span><br><span class="line">&#39;the JSON object:&#39; + &#123;name:&#39;æ›¹æ“&#39;&#125;              &#x2F;&#x2F; &quot;the JSON object:[object Object]&quot;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<p>è¦†ç›–å¯¹è±¡çš„toStringå’ŒvalueOfæ–¹æ³•æ¥è‡ªå®šä¹‰å¯¹è±¡çš„ç±»å‹è½¬æ¢</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">2  * &#123; valueOf: ()&#x3D;&gt;&#39;4&#39; &#125;                &#x2F;&#x2F; 8</span><br><span class="line">&#39;J&#39; + &#123; toString: ()&#x3D;&gt;&#39;ava&#39; &#125;                &#x2F;&#x2F; &quot;Java&quot;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<p>å½“+ç”¨åœ¨è¿æ¥å­—ç¬¦ä¸²æ—¶ï¼Œå½“ä¸€ä¸ªå¯¹è±¡æ—¢æœ‰toStringæ–¹æ³•åˆæœ‰valueOfæ–¹æ³•æ—¶å€™ï¼ŒJSé€šè¿‡ç›²ç›®ä½¿ç”¨valueOfæ–¹æ³•æ¥è§£å†³è¿™ç§å«ç³Š;<br>å¯¹è±¡é€šè¿‡valueOfæ–¹æ³•å¼ºåˆ¶è½¬æ¢ä¸ºæ•°å­—ï¼Œé€šè¿‡toStringæ–¹æ³•å¼ºåˆ¶è½¬æ¢ä¸ºå­—ç¬¦ä¸²</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#39;&#39; + &#123;toString:()&#x3D;&gt;&#39;S&#39;,valueOf:()&#x3D;&gt;&#39;J&#39;&#125;  &#x2F;&#x2F;J</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<h3 id="Function"><a href="#Function" class="headerlink" title="Function"></a>Function</h3><h4 id="26-å‡½æ•°éšå¼è¿”å›å€¼"><a href="#26-å‡½æ•°éšå¼è¿”å›å€¼" class="headerlink" title="26.å‡½æ•°éšå¼è¿”å›å€¼"></a>26.å‡½æ•°éšå¼è¿”å›å€¼</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">(()&#x3D;&gt;3)()  &#x2F;&#x2F;3</span><br><span class="line">(()&#x3D;&gt;(</span><br><span class="line">   3</span><br><span class="line">))()</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<p>å‡½æ•°çœç•¥å¤§æ‹¬å·ï¼Œæˆ–è€…å°†å¤§æ‹¬å·æ”¹æˆå°æ‹¬å·å¯ä»¥ç¡®ä¿ä»£ç ä»¥å•ä¸ªè¯­å¥çš„å½¢å¼è¿›è¡Œæ±‚å€¼</p>
<h4 id="27-å‡½æ•°è‡ªæ‰§è¡Œ"><a href="#27-å‡½æ•°è‡ªæ‰§è¡Œ" class="headerlink" title="27.å‡½æ•°è‡ªæ‰§è¡Œ"></a>27.å‡½æ•°è‡ªæ‰§è¡Œ</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const Func &#x3D; function() &#123;&#125;(); &#x2F;&#x2F; å¸¸ç”¨</span><br><span class="line"></span><br><span class="line">(function() &#123;&#125;)(); &#x2F;&#x2F; å¸¸ç”¨</span><br><span class="line">(function() &#123;&#125;()); &#x2F;&#x2F; å¸¸ç”¨</span><br><span class="line">[function() &#123;&#125;()];</span><br><span class="line"></span><br><span class="line">new function() &#123;&#125;;</span><br><span class="line">new function() &#123;&#125;();</span><br><span class="line">void function() &#123;&#125;();</span><br><span class="line">typeof function() &#123;&#125;();</span><br><span class="line">delete function() &#123;&#125;();</span><br><span class="line"></span><br><span class="line">+ function() &#123;&#125;();</span><br><span class="line">- function() &#123;&#125;();</span><br><span class="line">~ function() &#123;&#125;();</span><br><span class="line">! function() &#123;&#125;();</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<h4 id="28-å‡½æ•°å¼‚æ­¥æ‰§è¡Œ"><a href="#28-å‡½æ•°å¼‚æ­¥æ‰§è¡Œ" class="headerlink" title="28.å‡½æ•°å¼‚æ­¥æ‰§è¡Œ"></a>28.å‡½æ•°å¼‚æ­¥æ‰§è¡Œ</h4><p>Promise</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Promise.reject(&#39;è¿™æ˜¯ç¬¬äºŒä¸ª reject å€¼&#39;).then((data)&#x3D;&gt;&#123;</span><br><span class="line">  console.log(data)</span><br><span class="line">&#125;).catch(data&#x3D;&gt;&#123;</span><br><span class="line">  console.log(data) &#x2F;&#x2F;è¿™æ˜¯ç¬¬äºŒä¸ª reject å€¼</span><br><span class="line">&#125;)</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<p>Generator</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function* gen(x) &#123;</span><br><span class="line">  const y &#x3D; yield x + 6;</span><br><span class="line">  return y;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; yield å¦‚æœç”¨åœ¨å¦å¤–ä¸€ä¸ªè¡¨è¾¾å¼ä¸­,è¦æ”¾åœ¨()é‡Œé¢</span><br><span class="line">&#x2F;&#x2F; åƒä¸Šé¢å¦‚æœæ˜¯åœ¨&#x3D;å³è¾¹å°±ä¸ç”¨åŠ ()</span><br><span class="line">function* genOne(x) &#123;</span><br><span class="line">  const y &#x3D; &#96;è¿™æ˜¯ç¬¬ä¸€ä¸ª yield æ‰§è¡Œ:$&#123;yield x + 1&#125;&#96;;</span><br><span class="line">  return y;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const g &#x3D; gen(1);</span><br><span class="line">&#x2F;&#x2F;æ‰§è¡Œ Generator ä¼šè¿”å›ä¸€ä¸ªObject,è€Œä¸æ˜¯åƒæ™®é€šå‡½æ•°è¿”å›return åé¢çš„å€¼</span><br><span class="line">g.next() &#x2F;&#x2F; &#123; value: 7, done: false &#125;</span><br><span class="line">&#x2F;&#x2F;è°ƒç”¨æŒ‡é’ˆçš„ next æ–¹æ³•,ä¼šä»å‡½æ•°çš„å¤´éƒ¨æˆ–ä¸Šä¸€æ¬¡åœä¸‹æ¥çš„åœ°æ–¹å¼€å§‹æ‰§è¡Œï¼Œç›´åˆ°é‡åˆ°ä¸‹ä¸€ä¸ª yield è¡¨è¾¾å¼æˆ–returnè¯­å¥æš‚åœ,ä¹Ÿå°±æ˜¯æ‰§è¡Œyield è¿™ä¸€è¡Œ</span><br><span class="line">&#x2F;&#x2F; æ‰§è¡Œå®Œæˆä¼šè¿”å›ä¸€ä¸ª Object,</span><br><span class="line">&#x2F;&#x2F; value å°±æ˜¯æ‰§è¡Œ yield åé¢çš„å€¼,done è¡¨ç¤ºå‡½æ•°æ˜¯å¦æ‰§è¡Œå®Œæ¯•</span><br><span class="line">g.next() &#x2F;&#x2F; &#123; value: undefined, done: true &#125;</span><br><span class="line">&#x2F;&#x2F; å› ä¸ºæœ€åä¸€è¡Œ return y è¢«æ‰§è¡Œå®Œæˆ,æ‰€ä»¥done ä¸º true</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<p>Async/Await</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function getSomething() &#123;</span><br><span class="line">    return &quot;something&quot;;</span><br><span class="line">&#125;</span><br><span class="line">async function testAsync() &#123;</span><br><span class="line">    return Promise.resolve(&quot;hello async&quot;);</span><br><span class="line">&#125;</span><br><span class="line">async function test() &#123;</span><br><span class="line">    const v1 &#x3D; await getSomething();</span><br><span class="line">    const v2 &#x3D; await testAsync();</span><br><span class="line">    console.log(v1, v2); &#x2F;&#x2F;something å’Œ hello async</span><br><span class="line">&#125;</span><br><span class="line">test();</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<h3 id="String"><a href="#String" class="headerlink" title="String"></a>String</h3><h4 id="29-å­—ç¬¦ä¸²ç¿»è½¬"><a href="#29-å­—ç¬¦ä¸²ç¿»è½¬" class="headerlink" title="29.å­—ç¬¦ä¸²ç¿»è½¬"></a>29.å­—ç¬¦ä¸²ç¿»è½¬</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function reverseStr(str &#x3D; &quot;&quot;) &#123;</span><br><span class="line">  return str.split(&quot;&quot;).reduceRight((t, v) &#x3D;&gt; t + v);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const str &#x3D; &quot;reduce123&quot;;</span><br><span class="line">console.log(reverseStr(str)); &#x2F;&#x2F; &quot;321recuder&quot;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<h4 id="30-urlå‚æ•°åºåˆ—åŒ–"><a href="#30-urlå‚æ•°åºåˆ—åŒ–" class="headerlink" title="30.urlå‚æ•°åºåˆ—åŒ–"></a>30.urlå‚æ•°åºåˆ—åŒ–</h4><p>å°†å¯¹è±¡åºåˆ—åŒ–æˆurlå‚æ•°ä¼ é€’</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function stringifyUrl(search &#x3D; &#123;&#125;) &#123;</span><br><span class="line">  return Object.entries(search).reduce(</span><br><span class="line">    (t, v) &#x3D;&gt; &#96;$&#123;t&#125;$&#123;v[0]&#125;&#x3D;$&#123;encodeURIComponent(v[1])&#125;&amp;&#96;,</span><br><span class="line">    Object.keys(search).length ? &quot;?&quot; : &quot;&quot;</span><br><span class="line">  ).replace(&#x2F;&amp;$&#x2F;, &quot;&quot;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">console.log(stringifyUrl(&#123; age: 27, name: &quot;YZW&quot; &#125;)); &#x2F;&#x2F; &quot;?age&#x3D;27&amp;name&#x3D;YZW&quot;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<h4 id="31-urlå‚æ•°ååºåˆ—åŒ–"><a href="#31-urlå‚æ•°ååºåˆ—åŒ–" class="headerlink" title="31.urlå‚æ•°ååºåˆ—åŒ–"></a>31.urlå‚æ•°ååºåˆ—åŒ–</h4><p>ä¸€èˆ¬ä¼šé€šè¿‡location.searchæ‹¿åˆ°è·¯ç”±ä¼ é€’çš„å‚æ•°ï¼Œå¹¶è¿›è¡Œååºåˆ—åŒ–å¾—åˆ°å¯¹è±¡</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function parseUrlSearch() &#123;</span><br><span class="line">  const search &#x3D; &#39;?age&#x3D;25&amp;name&#x3D;TYJ&#39;</span><br><span class="line">  return search.replace(&#x2F;(^\?)|(&amp;$)&#x2F;g, &quot;&quot;).split(&quot;&amp;&quot;).reduce((t, v) &#x3D;&gt; &#123;</span><br><span class="line">    const [key, val] &#x3D; v.split(&quot;&#x3D;&quot;);</span><br><span class="line">    t[key] &#x3D; decodeURIComponent(val);</span><br><span class="line">    return t;</span><br><span class="line">  &#125;, &#123;&#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">console.log(parseUrlSearch()); &#x2F;&#x2F; &#123; age: &quot;25&quot;, name: &quot;TYJ&quot; &#125;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<h4 id="32-è½¬åŒ–ä¸ºå­—ç¬¦ä¸²"><a href="#32-è½¬åŒ–ä¸ºå­—ç¬¦ä¸²" class="headerlink" title="32.è½¬åŒ–ä¸ºå­—ç¬¦ä¸²"></a>32.è½¬åŒ–ä¸ºå­—ç¬¦ä¸²</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const val &#x3D; 1 + &quot;&quot;; &#x2F;&#x2F; é€šè¿‡+ &#39;&#39;ç©ºå­—ç¬¦ä¸²è½¬åŒ–</span><br><span class="line">console.log(val); &#x2F;&#x2F; &quot;1&quot;</span><br><span class="line">console.log(typeof val); &#x2F;&#x2F; &quot;string&quot;</span><br><span class="line"></span><br><span class="line">const val1 &#x3D; String(1);</span><br><span class="line">console.log(val1); &#x2F;&#x2F; &quot;1&quot;</span><br><span class="line">console.log(typeof val1); &#x2F;&#x2F; &quot;string&quot;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<h3 id="Number"><a href="#Number" class="headerlink" title="Number"></a>Number</h3><h4 id="33-æ•°å­—åƒåˆ†ä½"><a href="#33-æ•°å­—åƒåˆ†ä½" class="headerlink" title="33.æ•°å­—åƒåˆ†ä½"></a>33.æ•°å­—åƒåˆ†ä½</h4><p>æ–¹æ³•ä¸€ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function thousandNum(num &#x3D; 0) &#123;</span><br><span class="line">  const str &#x3D; (+num).toString().split(&quot;.&quot;);</span><br><span class="line">  const int &#x3D; nums &#x3D;&gt; nums.split(&quot;&quot;).reverse().reduceRight((t, v, i) &#x3D;&gt; t + (i % 3 ? v : &#96;$&#123;v&#125;,&#96;), &quot;&quot;).replace(&#x2F;^,|,$&#x2F;g, &quot;&quot;);</span><br><span class="line">  const dec &#x3D; nums &#x3D;&gt; nums.split(&quot;&quot;).reduce((t, v, i) &#x3D;&gt; t + ((i + 1) % 3 ? v : &#96;$&#123;v&#125;,&#96;), &quot;&quot;).replace(&#x2F;^,|,$&#x2F;g, &quot;&quot;);</span><br><span class="line">  return str.length &gt; 1 ? &#96;$&#123;int(str[0])&#125;.$&#123;dec(str[1])&#125;&#96; : int(str[0]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">thousandNum(1234); &#x2F;&#x2F; &quot;1,234&quot;</span><br><span class="line">thousandNum(1234.00); &#x2F;&#x2F; &quot;1,234&quot;</span><br><span class="line">thousandNum(0.1234); &#x2F;&#x2F; &quot;0.123,4&quot;</span><br><span class="line">console.log(thousandNum(1234.5678)); &#x2F;&#x2F; &quot;1,234.567,8&quot;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<p>æ–¹æ³•äºŒ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">console.log(&#39;1234567890&#39;.replace(&#x2F;\B(?&#x3D;(\d&#123;3&#125;)+(?!\d))&#x2F;g, &quot;,&quot;))</span><br><span class="line">console.log((1234567890).toLocaleString())</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<h4 id="34-å­—ç¬¦ä¸²è½¬æ•°å­—"><a href="#34-å­—ç¬¦ä¸²è½¬æ•°å­—" class="headerlink" title="34.å­—ç¬¦ä¸²è½¬æ•°å­—"></a>34.å­—ç¬¦ä¸²è½¬æ•°å­—</h4><p>æ–¹æ³•ä¸€<br>ç”¨*1æ¥è½¬åŒ–ä¸ºæ•°å­—,å®é™…ä¸Šæ˜¯è°ƒç”¨.valueOfæ–¹æ³•</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#39;32&#39; * 1            &#x2F;&#x2F; 32</span><br><span class="line">&#39;ds&#39; * 1            &#x2F;&#x2F; NaN</span><br><span class="line">null * 1            &#x2F;&#x2F; 0</span><br><span class="line">undefined * 1    &#x2F;&#x2F; NaN</span><br><span class="line">1  * &#123; valueOf: ()&#x3D;&gt;&#39;3&#39; &#125;        &#x2F;&#x2F; 3</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<p>æ–¹æ³•äºŒ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">+ &#39;123&#39;            &#x2F;&#x2F; 123</span><br><span class="line">+ &#39;ds&#39;               &#x2F;&#x2F; NaN</span><br><span class="line">+ &#39;&#39;                    &#x2F;&#x2F; 0</span><br><span class="line">+ null              &#x2F;&#x2F; 0</span><br><span class="line">+ undefined    &#x2F;&#x2F; NaN</span><br><span class="line">+ &#123; valueOf: ()&#x3D;&gt;&#39;3&#39; &#125;    &#x2F;&#x2F; 3</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<h4 id="35-åˆ¤æ–­å°æ•°æ˜¯å¦ç›¸ç­‰"><a href="#35-åˆ¤æ–­å°æ•°æ˜¯å¦ç›¸ç­‰" class="headerlink" title="35.åˆ¤æ–­å°æ•°æ˜¯å¦ç›¸ç­‰"></a>35.åˆ¤æ–­å°æ•°æ˜¯å¦ç›¸ç­‰</h4><p>è‚¯å®šæœ‰äººä¼šè¯´è¿™è¿˜ä¸ç®€å•ï¼Œç›´æ¥ç”¨â€™===â€™æ¯”è¾ƒï¼›<br>å®é™…ä¸Š0.1+0.2 !==0.3ï¼Œå› ä¸ºè®¡ç®—æœºä¸èƒ½ç²¾ç¡®è¡¨ç¤º0.1ï¼Œ 0.2è¿™æ ·çš„æµ®ç‚¹æ•°ï¼Œæ‰€ä»¥ç›¸åŠ å°±ä¸æ˜¯0.3äº†</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Number.EPSILON&#x3D;(function()&#123;   &#x2F;&#x2F;è§£å†³å…¼å®¹æ€§é—®é¢˜</span><br><span class="line">    return Number.EPSILON?Number.EPSILON:Math.pow(2,-52);</span><br><span class="line">&#125;)();</span><br><span class="line">&#x2F;&#x2F;ä¸Šé¢æ˜¯ä¸€ä¸ªè‡ªè°ƒç”¨å‡½æ•°ï¼Œå½“JSæ–‡ä»¶åˆšåŠ è½½åˆ°å†…å­˜ä¸­ï¼Œå°±ä¼šå»åˆ¤æ–­å¹¶è¿”å›ä¸€ä¸ªç»“æœ</span><br><span class="line">function numbersequal(a,b)&#123; </span><br><span class="line">    return Math.abs(a-b)&lt;Number.EPSILON;</span><br><span class="line">  &#125;</span><br><span class="line">&#x2F;&#x2F;æ¥ä¸‹æ¥å†åˆ¤æ–­   </span><br><span class="line">const a&#x3D;0.1+0.2, b&#x3D;0.3;</span><br><span class="line">console.log(numbersequal(a,b)); &#x2F;&#x2F;è¿™é‡Œå°±ä¸ºtrueäº†</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<h4 id="36-åŒä½è¿ç®—ç¬¦"><a href="#36-åŒä½è¿ç®—ç¬¦" class="headerlink" title="36.åŒä½è¿ç®—ç¬¦"></a>36.åŒä½è¿ç®—ç¬¦</h4><p>åŒä½è¿ç®—ç¬¦æ¯”Math.floor(),Math.ceil()é€Ÿåº¦å¿«</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">~~7.5                &#x2F;&#x2F; 7</span><br><span class="line">Math.ceil(7.5)       &#x2F;&#x2F; 8</span><br><span class="line">Math.floor(7.5)      &#x2F;&#x2F; 7</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">~~-7.5          &#x2F;&#x2F; -7</span><br><span class="line">Math.floor(-7.5)     &#x2F;&#x2F; -8</span><br><span class="line">Math.ceil(-7.5)      &#x2F;&#x2F; -7</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<p>æ‰€ä»¥è´Ÿæ•°æ—¶ï¼ŒåŒä½è¿ç®—ç¬¦å’ŒMath.ceilç»“æœä¸€è‡´ï¼Œæ­£æ•°æ—¶å’ŒMath.floorç»“æœä¸€è‡´</p>
<h4 id="37-å–æ•´å’Œå¥‡å¶æ€§åˆ¤æ–­"><a href="#37-å–æ•´å’Œå¥‡å¶æ€§åˆ¤æ–­" class="headerlink" title="37.å–æ•´å’Œå¥‡å¶æ€§åˆ¤æ–­"></a>37.å–æ•´å’Œå¥‡å¶æ€§åˆ¤æ–­</h4><p>å–æ•´</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">3.3 | 0         &#x2F;&#x2F; 3</span><br><span class="line">-3.9 | 0        &#x2F;&#x2F; -3</span><br><span class="line"></span><br><span class="line">parseInt(3.3)  &#x2F;&#x2F; 3</span><br><span class="line">parseInt(-3.3) &#x2F;&#x2F; -3</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; å››èˆäº”å…¥å–æ•´</span><br><span class="line">Math.round(3.3) &#x2F;&#x2F; 3</span><br><span class="line">Math.round(-3.3) &#x2F;&#x2F; -3</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; å‘ä¸Šå–æ•´</span><br><span class="line">Math.ceil(3.3) &#x2F;&#x2F; 4</span><br><span class="line">Math.ceil(-3.3) &#x2F;&#x2F; -3</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; å‘ä¸‹å–æ•´</span><br><span class="line">Math.floor(3.3) &#x2F;&#x2F; 3</span><br><span class="line">Math.floor(-3.3) &#x2F;&#x2F; -4</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<p>åˆ¤æ–­å¥‡å¶æ•°</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const num&#x3D;5;</span><br><span class="line">!!(num &amp; 1) &#x2F;&#x2F; true</span><br><span class="line">!!(num % 2) &#x2F;&#x2F; true</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<h3 id="Boolean"><a href="#Boolean" class="headerlink" title="Boolean"></a>Boolean</h3><h4 id="38-åˆ¤æ–­æ•°æ®ç±»å‹"><a href="#38-åˆ¤æ–­æ•°æ®ç±»å‹" class="headerlink" title="38.åˆ¤æ–­æ•°æ®ç±»å‹"></a>38.åˆ¤æ–­æ•°æ®ç±»å‹</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function dataTypeJudge(val, type) &#123;</span><br><span class="line">  const dataType &#x3D; Object.prototype.toString.call(val).replace(&#x2F;\[object (\w+)\]&#x2F;, &quot;$1&quot;).toLowerCase();</span><br><span class="line">  return type ? dataType &#x3D;&#x3D;&#x3D; type : dataType;</span><br><span class="line">&#125;</span><br><span class="line">console.log(dataTypeJudge(&quot;young&quot;)); &#x2F;&#x2F; &quot;string&quot;</span><br><span class="line">console.log(dataTypeJudge(20190214)); &#x2F;&#x2F; &quot;number&quot;</span><br><span class="line">console.log(dataTypeJudge(true)); &#x2F;&#x2F; &quot;boolean&quot;</span><br><span class="line">console.log(dataTypeJudge([], &quot;array&quot;)); &#x2F;&#x2F; true</span><br><span class="line">console.log(dataTypeJudge(&#123;&#125;, &quot;array&quot;)); &#x2F;&#x2F; false</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<p>å¯åˆ¤æ–­ç±»å‹ï¼šundefinedã€nullã€stringã€numberã€booleanã€arrayã€objectã€symbolã€dateã€regexpã€functionã€asyncfunctionã€argumentsã€setã€mapã€weaksetã€weakmap</p>
<h4 id="39-ä½¿ç”¨Booleanè¿‡æ»¤æ•°ç»„å‡å€¼"><a href="#39-ä½¿ç”¨Booleanè¿‡æ»¤æ•°ç»„å‡å€¼" class="headerlink" title="39.ä½¿ç”¨Booleanè¿‡æ»¤æ•°ç»„å‡å€¼"></a>39.ä½¿ç”¨Booleanè¿‡æ»¤æ•°ç»„å‡å€¼</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const compact &#x3D; arr &#x3D;&gt; arr.filter(Boolean)</span><br><span class="line">compact([0, 1, false, 2, &#39;&#39;, 3, &#39;a&#39;, &#39;e&#39; * 23, NaN, &#39;s&#39;, 34])  &#x2F;&#x2F;[ 1, 2, 3, &#39;a&#39;, &#39;s&#39;, 34 ]</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<h4 id="40-çŸ­è·¯è¿ç®—"><a href="#40-çŸ­è·¯è¿ç®—" class="headerlink" title="40.çŸ­è·¯è¿ç®—"></a>40.çŸ­è·¯è¿ç®—</h4><p>||ï¼ˆæˆ–ï¼‰</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const flag &#x3D; false || true &#x2F;&#x2F;true</span><br><span class="line">&#x2F;&#x2F; æŸä¸ªå€¼ä¸ºå‡æ—¶å¯ä»¥ç»™é»˜è®¤å€¼</span><br><span class="line">const arr &#x3D; false || []</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<p>&amp;&amp;ï¼ˆä¸ï¼‰</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const flag1 &#x3D; false &amp;&amp; true &#x2F;&#x2F;false</span><br><span class="line">const flag2 &#x3D; true &amp;&amp; true &#x2F;&#x2F;true</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<h4 id="41-switch-ç®€å†™"><a href="#41-switch-ç®€å†™" class="headerlink" title="41.switch ç®€å†™"></a>41.switch ç®€å†™</h4><p>å¯ä»¥ç”¨å¯¹è±¡æ›¿ä»£switchï¼Œæé«˜ä»£ç å¯è¯»æ€§</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">switch(a) &#123;</span><br><span class="line">  case &#39;å¼ ä¸‰&#39;:</span><br><span class="line">    return &#39;ageæ˜¯12&#39;</span><br><span class="line">  case &#39;æå››&#39;:</span><br><span class="line">    return &#39;ageæ˜¯120&#39;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; ä½¿ç”¨å¯¹è±¡æ›¿æ¢å</span><br><span class="line">const obj &#x3D;&#123;</span><br><span class="line">  &#39;å¼ ä¸‰&#39;: &#39;age12&#39;,</span><br><span class="line">  &#39;æå››&#39;: &#39;age120&#39;,</span><br><span class="line">&#125;</span><br><span class="line">console.log(obj[&#39;å¼ ä¸‰&#39;])</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<h3 id="ç»“è¯­"><a href="#ç»“è¯­" class="headerlink" title="ç»“è¯­"></a>ç»“è¯­</h3><p>æºç åœ°å€ <a href="https://github.com/lanzhsh/react-vue-koa/tree/master/js/skillï¼›" target="_blank" rel="noopener">https://github.com/lanzhsh/react-vue-koa/tree/master/js/skillï¼›</a><br>åŸåˆ›ç å­—ä¸æ˜“ï¼Œæ¬¢è¿startï¼</p>
<h2 id="ç»™ä¸€ä¸ªå‡½æ•°-Bind-å¯¹è±¡"><a href="#ç»™ä¸€ä¸ªå‡½æ•°-Bind-å¯¹è±¡" class="headerlink" title="ç»™ä¸€ä¸ªå‡½æ•° Bind å¯¹è±¡"></a>ç»™ä¸€ä¸ªå‡½æ•° Bind å¯¹è±¡</h2><p>æˆ‘ä»¬ç»å¸¸éœ€è¦å°†ä¸€ä¸ªå¯¹è±¡ç»‘å®šåˆ°ä¸€ä¸ªæ–¹æ³•çš„ this ä¸Šã€‚åœ¨ JS ä¸­ï¼Œå¦‚æœä½ æƒ³è¦è°ƒç”¨ä¸€ä¸ªå‡½æ•°å¹¶æŒ‡å®šå®ƒçš„ this æ—¶å¯ä»¥ä½¿ç”¨ bind æ–¹æ³•ã€‚</p>
<p>Bind è¯­æ³•</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">fun.bind(thisArg[, arg1[, arg2[, ...]]])</span><br></pre></td></tr></table></figure>

<p>å‚æ•°</p>
<p>thisArg</p>
<p>å½“ç»‘å®šå‡½æ•°è¢«è°ƒç”¨æ—¶ï¼Œè¯¥å‚æ•°ä¼šä½œä¸ºåŸå‡½æ•°è¿è¡Œæ—¶çš„ this æŒ‡å‘ã€‚</p>
<p>arg1, arg2, â€¦</p>
<p>å½“ç»‘å®šå‡½æ•°è¢«è°ƒç”¨æ—¶ï¼Œè¿™äº›å‚æ•°å°†ç½®äºå®å‚ä¹‹å‰ä¼ é€’ç»™è¢«ç»‘å®šçš„æ–¹æ³•ã€‚</p>
<p>è¿”å›å€¼</p>
<p>è¿”å›ç”±æŒ‡å®šçš„thiså€¼å’Œåˆå§‹åŒ–å‚æ•°æ”¹é€ çš„åŸå‡½æ•°æ‹·è´</p>
<a id="more"></a>

<h2 id="JS-ä¸­çš„å®ä¾‹"><a href="#JS-ä¸­çš„å®ä¾‹" class="headerlink" title="JS ä¸­çš„å®ä¾‹"></a>JS ä¸­çš„å®ä¾‹</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const myCar &#x3D; &#123; brand: &#39;Ford&#39;, type: &#39;Sedan&#39;, color: &#39;Red&#39;&#125;;</span><br><span class="line">const getBrand &#x3D; function () &#123; console.log(this.brand);&#125;;</span><br><span class="line">const getType &#x3D; function () &#123; console.log(this.type);&#125;;</span><br><span class="line">const getColor &#x3D; function () &#123; console.log(this.color);&#125;;</span><br><span class="line">getBrand(); &#x2F;&#x2F; object not bind,undefined</span><br><span class="line">getBrand(myCar); &#x2F;&#x2F; object not bind,undefined</span><br><span class="line">getType.bind(myCar)(); &#x2F;&#x2F; Sedan</span><br><span class="line">let boundGetColor &#x3D; getColor.bind(myCar);boundGetColor(); &#x2F;&#x2F; Red</span><br></pre></td></tr></table></figure>

<h2 id="è·å–æ–‡ä»¶æ‹“å±•å"><a href="#è·å–æ–‡ä»¶æ‹“å±•å" class="headerlink" title="è·å–æ–‡ä»¶æ‹“å±•å"></a>è·å–æ–‡ä»¶æ‹“å±•å</h2><p>è§£å†³æ–¹æ³• 1: æ­£åˆ™è¡¨è¾¾å¼</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function getFileExtension1(filename) &#123;  return (&#x2F;[.]&#x2F;.exec(filename)) ? &#x2F;[^.]+$&#x2F;.exec(filename)[0] : undefined;&#125;</span><br></pre></td></tr></table></figure>

<p>è§£å†³æ–¹æ³• 2: Stringçš„splitæ–¹æ³•</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function getFileExtension2(filename) &#123;  return filename.split(&#39;.&#39;).pop();&#125;</span><br></pre></td></tr></table></figure>

<p>è§£å†³æ–¹æ³• 3: Stringçš„sliceã€lastIndexOfæ–¹æ³•</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function getFileExtension3(filename) &#123;  return filename.slice((filename.lastIndexOf(&quot;.&quot;) - 1 &gt;&gt;&gt; 0) + 2);&#125;</span><br><span class="line">console.log(getFileExtension3(&#39;&#39;));                            &#x2F;&#x2F; &#39;&#39;console.log(getFileExtension3(&#39;filename&#39;));                    &#x2F;&#x2F; &#39;&#39;console.log(getFileExtension3(&#39;filename.txt&#39;));                &#x2F;&#x2F; &#39;txt&#39;console.log(getFileExtension3(&#39;.hiddenfile&#39;));                 &#x2F;&#x2F; &#39;&#39;console.log(getFileExtension3(&#39;filename.with.many.dots.ext&#39;)); &#x2F;&#x2F; &#39;ext&#39;</span><br></pre></td></tr></table></figure>

<p><strong>*è¿™æ˜¯å¦‚ä½•å®ç°çš„å‘¢?*</strong></p>
<p><strong>**</strong></p>
<ul>
<li>String.lastIndexOf() æ–¹æ³•è¿”å›æŒ‡å®šå€¼ï¼ˆæœ¬ä¾‹ä¸­çš„â€™.â€™ï¼‰åœ¨è°ƒç”¨è¯¥æ–¹æ³•çš„å­—ç¬¦ä¸²ä¸­æœ€åå‡ºç°çš„ä½ç½®ï¼Œå¦‚æœæ²¡æ‰¾åˆ°åˆ™è¿”å› -1ã€‚</li>
<li>å¯¹äºâ€™filenameâ€™å’Œâ€™.hiddenfileâ€™ï¼ŒlastIndexOfçš„è¿”å›å€¼åˆ†åˆ«ä¸º0å’Œ-1æ— ç¬¦å·å³ç§»æ“ä½œç¬¦(Â»&gt;) å°†-1è½¬æ¢ä¸º4294967295ï¼Œå°†-2è½¬æ¢ä¸º4294967294ï¼Œè¿™ä¸ªæ–¹æ³•å¯ä»¥ä¿è¯è¾¹ç¼˜æƒ…å†µæ—¶æ–‡ä»¶åä¸å˜ã€‚</li>
<li>String.prototype.slice() ä»ä¸Šé¢è®¡ç®—çš„ç´¢å¼•å¤„æå–æ–‡ä»¶çš„æ‰©å±•åã€‚å¦‚æœç´¢å¼•æ¯”æ–‡ä»¶åçš„é•¿åº¦å¤§ï¼Œç»“æœä¸ºâ€â€ã€‚</li>
</ul>
<h2 id="é¢„é˜²unapplyæ”»å‡»"><a href="#é¢„é˜²unapplyæ”»å‡»" class="headerlink" title="é¢„é˜²unapplyæ”»å‡»"></a>é¢„é˜²unapplyæ”»å‡»</h2><p>é‡å†™å†…ç½®å¯¹è±¡çš„åŸå‹æ–¹æ³•ï¼Œå¤–éƒ¨ä»£ç å¯ä»¥é€šè¿‡é‡å†™ä»£ç è¾¾åˆ°æš´æ¼å’Œä¿®æ”¹å·²ç»‘å®šå‚æ•°çš„å‡½æ•°ã€‚è¿™åœ¨es5çš„æ–¹æ³•ä¸‹ä½¿ç”¨polyfillæ—¶æ˜¯ä¸€ä¸ªä¸¥é‡çš„å®‰å…¨é—®é¢˜ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; bind polyfill ç¤ºä¾‹function bind(fn) &#123;  var prev &#x3D; Array.prototype.slice.call(arguments, 1);  return function bound() &#123;    var curr &#x3D; Array.prototype.slice.call(arguments, 0);    var args &#x3D; Array.prototype.concat.apply(prev, curr);    return fn.apply(null, args);  &#125;;&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; unapplyæ”»å‡»function unapplyAttack() &#123;  var concat &#x3D; Array.prototype.concat;  Array.prototype.concat &#x3D; function replaceAll() &#123;    Array.prototype.concat &#x3D; concat; &#x2F;&#x2F; restore the correct version    var curr &#x3D; Array.prototype.slice.call(arguments, 0);    var result &#x3D; concat.apply([], curr);    return result;  &#125;;&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢çš„å‡½æ•°å£°æ˜å¿½ç•¥äº†å‡½æ•°bindçš„prevå‚æ•°ï¼Œæ„å‘³ç€è°ƒç”¨unapplyAttackä¹‹åé¦–æ¬¡è°ƒç”¨.concatå°†ä¼šæŠ›å‡ºé”™è¯¯ã€‚</p>
<p>ä½¿ç”¨Object.freezeï¼Œå¯ä»¥ä½¿å¯¹è±¡ä¸å¯å˜ï¼Œä½ å¯ä»¥é˜²æ­¢ä»»ä½•å†…ç½®å¯¹è±¡åŸå‹æ–¹æ³•è¢«é‡å†™ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">(function freezePrototypes() &#123;  if (typeof Object.freeze !&#x3D;&#x3D; &#39;function&#39;) &#123;    throw new Error(&#39;Missing Object.freeze&#39;);  &#125;  Object.freeze(Object.prototype);  Object.freeze(Array.prototype);  Object.freeze(Function.prototype);&#125;());</span><br></pre></td></tr></table></figure>

<p>ç‚¹å‡»è¿™é‡Œï¼Œä½ å¯ä»¥é˜…è¯»æ›´å¤šå…³äºunapplyæ”»å‡»ã€‚</p>
<p>##ç»™ç¼“å­˜è®¾ç½®è¿‡æœŸæ—¶é—´</p>
<p>æ–¹æ¡ˆä¸€ï¼ˆé€šç”¨ï¼‰ï¼šES5æ‰©å±•Storage<a href="https://www.cnblogs.com/ricolee/p/localstorage-expiretime.html#341252870" target="_blank" rel="noopener">#</a></p>
<p>æ€è·¯å¾ˆç®€å•ï¼Œå­˜å‚¨çš„å€¼åŠ ä¸€ä¸ªæ—¶é—´æˆ³ï¼Œä¸‹æ¬¡å–å€¼æ—¶éªŒè¯æ—¶é—´æˆ³ã€‚</p>
<p>æ³¨æ„ï¼š localStorageåªèƒ½å­˜å‚¨å­—ç¬¦ï¼Œå­˜å…¥æ—¶å°†å¯¹è±¡è½¬ä¸ºjsonå­—ç¬¦ä¸²,è¯»å–æ—¶ä¹Ÿè¦è§£æ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;localStorage è®¾ç½®çš„å€¼ä¸èƒ½ä¸ºå¯¹è±¡,è½¬ä¸ºjsonå­—ç¬¦ä¸²</span><br><span class="line">Storage.prototype.setExpire &#x3D; (key, value, expire) &#x3D; &gt;&#123;</span><br><span class="line">    let obj &#x3D; &#123;</span><br><span class="line">        data: value,</span><br><span class="line">        time: Date.now(),</span><br><span class="line">        expire: expire</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    localStorage.setItem(key, JSON.stringify(obj));</span><br><span class="line">&#125;</span><br><span class="line">Storage.prototype.getExpire &#x3D; key &#x3D; &gt;&#123;</span><br><span class="line">    let val &#x3D; localStorage.getItem(key);</span><br><span class="line">    if (!val) &#123;</span><br><span class="line">        return val;</span><br><span class="line">    &#125;</span><br><span class="line">    val &#x3D; JSON.parse(val);</span><br><span class="line">    if (Date.now() - val.time &gt; val.expire) &#123;</span><br><span class="line">        localStorage.removeItem(key);</span><br><span class="line">        return null;</span><br><span class="line">    &#125;</span><br><span class="line">    return val.data;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>æµ‹è¯•ä¸€ä¸‹ï¼š</p>
<p>Copy</p>
<p>localStorage.setExpire(â€˜userIdâ€™,â€™zhangsanâ€™,5000);</p>
<p>window.setInterval(()=&gt;{  console.log(localStorage.getExpire(â€œuserIdâ€));},1000)</p>
<p>å‰5ç§’è¿˜æ˜¯æœ‰å€¼çš„ï¼Œä¹‹åå³ä¸ºnull</p>
<p>æ–¹æ¡ˆäºŒï¼šES6æ‰©å±•Storage<a href="https://www.cnblogs.com/ricolee/p/localstorage-expiretime.html#3576419538" target="_blank" rel="noopener">#</a></p>
<p>å¤§ä½“æ€è·¯å’Œæ–¹æ¡ˆä¸€æ˜¯ä¸€æ ·çš„åªä¸è¿‡æ˜¯ç”¨äº†ES6çš„æœ€æ–°è¯­æ³•å®ç°ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class Storage &#123;</span><br><span class="line">    constructor(props) &#123;</span><br><span class="line">        this.props &#x3D; props || &#123;&#125;</span><br><span class="line">        this.source &#x3D; this.props.source || window.localStorage this.initRun();</span><br><span class="line">    &#125;</span><br><span class="line">    initRun() &#123;</span><br><span class="line">        &#x2F;*        </span><br><span class="line">        * set å­˜å‚¨æ–¹æ³•</span><br><span class="line">        * @ param &#123;String&#125; key é”®        </span><br><span class="line">        * @ param &#123;String&#125; value å€¼ï¼Œå­˜å‚¨çš„å€¼å¯èƒ½æ˜¯æ•°ç»„&#x2F;å¯¹è±¡ï¼Œä¸èƒ½ç›´æ¥å­˜å‚¨ï¼Œéœ€è¦è½¬æ¢ JSON.stringify </span><br><span class="line">        * @ param &#123;String&#125; expired è¿‡æœŸæ—¶é—´ï¼Œä»¥åˆ†é’Ÿä¸ºå•ä½        *&#x2F;</span><br><span class="line">        const reg &#x3D; new RegExp(&quot;__expires__&quot;);</span><br><span class="line">        let data &#x3D; this.source;</span><br><span class="line">        let list &#x3D; Object.keys(data);</span><br><span class="line">        if (list.length &gt; 0) &#123;</span><br><span class="line">            list.map((key, v) &#x3D; &gt;&#123;</span><br><span class="line">                if (!reg.test(key)) &#123;</span><br><span class="line">                    let now &#x3D; Date.now();</span><br><span class="line">                    let expires &#x3D; data[&#96;$ &#123;</span><br><span class="line">                        key</span><br><span class="line">                    &#125;</span><br><span class="line">                    __expires__&#96;] || Date.now + 1;</span><br><span class="line">                    if (now &gt;&#x3D; expires) &#123;</span><br><span class="line">                        this.remove(key);</span><br><span class="line">                    &#125;;</span><br><span class="line">                &#125;;</span><br><span class="line">                return key;</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">    set(key, value, expired) &#123;</span><br><span class="line">        &#x2F;*	    </span><br><span class="line">        * set å­˜å‚¨æ–¹æ³•	    </span><br><span class="line">        * @ param &#123;String&#125;     key é”®	    </span><br><span class="line">        * @ param &#123;String&#125;     value å€¼ï¼Œ	    </span><br><span class="line">        * @ param &#123;String&#125;     expired è¿‡æœŸæ—¶é—´ï¼Œä»¥æ¯«ç§’ä¸ºå•ä½ï¼Œéå¿…é¡»</span><br><span class="line">        *&#x2F;</span><br><span class="line">        let source &#x3D; this.source;</span><br><span class="line">        source[key] &#x3D; JSON.stringify(value);</span><br><span class="line">        if (expired) &#123;</span><br><span class="line">            source[&#96;$ &#123;</span><br><span class="line">                key</span><br><span class="line">            &#125;</span><br><span class="line">            __expires__&#96;] &#x3D; Date.now() + expired</span><br><span class="line">        &#125;;</span><br><span class="line">        return value;</span><br><span class="line">    &#125;</span><br><span class="line">    get(key) &#123;</span><br><span class="line">        &#x2F;*        </span><br><span class="line">        * get è·å–æ–¹æ³•        </span><br><span class="line">        * @ param &#123;String&#125;     key é”®        </span><br><span class="line">        * @ param &#123;String&#125;     expired å­˜å‚¨æ—¶ä¸ºéå¿…é¡»å­—æ®µï¼Œæ‰€ä»¥æœ‰å¯èƒ½å–ä¸åˆ°ï¼Œé»˜è®¤ä¸º Date.now+1        		*&#x2F;</span><br><span class="line">        const source &#x3D; this.source,</span><br><span class="line">        expired &#x3D; source[&#96;$ &#123;</span><br><span class="line">            key</span><br><span class="line">        &#125;</span><br><span class="line">        __expires__&#96;] || Date.now + 1;</span><br><span class="line">        const now &#x3D; Date.now();</span><br><span class="line">        if (now &gt;&#x3D; expired) &#123;</span><br><span class="line">            this.remove(key);</span><br><span class="line">            return;</span><br><span class="line">        &#125;</span><br><span class="line">        const value &#x3D; source[key] ? JSON.parse(source[key]) : source[key];</span><br><span class="line">        return value;</span><br><span class="line">    &#125;</span><br><span class="line">    remove(key) &#123;</span><br><span class="line">        const data &#x3D; this.source,</span><br><span class="line">        value &#x3D; data[key];</span><br><span class="line">        delete data[key];</span><br><span class="line">        delete data[&#96;$ &#123;</span><br><span class="line">            key</span><br><span class="line">        &#125;</span><br><span class="line">        __expires__&#96;];</span><br><span class="line">        return value;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å…¶ä¸­set(),get(),remove()æ–¹æ³•å¯ä»¥ç†è§£ç”¨æ¥å­˜ã€å–ã€åˆ , initRun()åšä»€ä¹ˆç”¨å‘¢ï¼Ÿè¿‡æœŸçš„å€¼åªæœ‰å–æ—¶æ‰èƒ½çŸ¥é“æ˜¯ä¸æ˜¯è¿‡æœŸï¼Œä¸å–ä¸€ç›´å­˜ç€ã€‚initRun()å’Œconstructoråªæ˜¯åœ¨åˆå§‹åŒ–æ—¶å®ç°æ¸…ç†ï¼Œä¹Ÿä¸æ˜¯ä¸€å®šå³æ—¶ã€‚å¦å¤–å†™ä¸€ä¸ªå®šæ—¶å™¨å»æ¸…ç†è²Œä¼¼ä¹Ÿä¸å€¼å½“ï¼Œæ‰€ä»¥è§‰å¾—åšåˆ°è¿™æ ·å·²ç»å¤Ÿç”¨äº†ã€‚</p>
<p>ä½¿ç”¨å¦‚ä¸‹ä»£ç è¿›è¡Œæµ‹è¯•ä¸€ä¸‹,æ•ˆæœå’Œæ–¹æ¡ˆä¸€ç›¸åŒ</p>
<p>var ls=new Storage();</p>
<p>ls.set(â€˜userIdâ€™,â€™zhangsanâ€™,5000);</p>
<p>window.setInterval(()=&gt;{console.log(ls.get(â€œuserIdâ€));},1000)</p>
<h2 id="valueOfæ–¹æ³•"><a href="#valueOfæ–¹æ³•" class="headerlink" title="valueOfæ–¹æ³•"></a>valueOfæ–¹æ³•</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">valueOf()æ–¹æ³•çš„ä½¿ç”¨</span><br><span class="line"></span><br><span class="line">undefinedå’Œnullæ²¡æœ‰valueOf()æ–¹æ³•ï¼Œä½¿ç”¨ä¼šæŠ¥é”™ï¼›</span><br><span class="line">å¸ƒå°”ç±»å‹trueå’Œfalseä¼šè¿”å›åŸå€¼ï¼›</span><br><span class="line">å­—ç¬¦ä¸²ç±»å‹ä¼šè¿”å›åŸå€¼ï¼›</span><br><span class="line">æ•°å­—ï¼š</span><br><span class="line">å¦‚æœæ˜¯æ•´æ•°ï¼Œéœ€è¦ç”¨å°æ‹¬å·å°†æ•°å­—åŒ…èµ·æ¥å†ä½¿ç”¨valueOf()æ–¹æ³•ï¼Œç›´æ¥åœ¨æ•°å­—åé¢è·Ÿ.valueOf()ä¼šæŠ¥é”™ï¼›</span><br><span class="line">å¦‚æœæ˜¯å°æ•°ä¼šè¿”å›åŸå€¼ï¼›</span><br><span class="line">å¯¹è±¡Objectç±»å‹åŠè‡ªå®šä¹‰å¯¹è±¡ç±»å‹ä¼šè¿”å›åŸå¯¹è±¡ï¼ˆæ³¨æ„èŠ±æ‹¬å·å¯èƒ½ä¼šè¢«å½“ä½œä»£ç å—çš„é—®é¢˜ï¼‰ï¼›</span><br><span class="line">å‡½æ•°functionç±»å‹è¿”å›åŸå‡½æ•°ï¼›</span><br><span class="line">æ•°ç»„Arrayç±»å‹è¿”å›åŸæ•°ç»„ï¼›</span><br><span class="line">Dateå¯¹è±¡ç±»å‹è¿”å›æ•°å­—ï¼ˆ1970å¹´1æœˆ1æ—¥00ï¼š00ï¼š00è‡³ç°åœ¨çš„æ¯«ç§’æ•°ï¼‰ï¼›</span><br><span class="line">æ­£åˆ™è¡¨è¾¾å¼RegExpç±»å‹è¿”å›æ­£åˆ™å¯¹è±¡ï¼›</span><br></pre></td></tr></table></figure>

<h2 id="Symbol-toPrimitive"><a href="#Symbol-toPrimitive" class="headerlink" title="Symbol.toPrimitive"></a>Symbol.toPrimitive</h2><p><code>Symbol.toPrimitive</code> æ˜¯ä¸€ä¸ªå†…ç½®çš„ Symbol å€¼ï¼Œå®ƒæ˜¯ä½œä¸ºå¯¹è±¡çš„å‡½æ•°å€¼å±æ€§å­˜åœ¨çš„ï¼Œå½“ä¸€ä¸ªå¯¹è±¡è½¬æ¢ä¸ºå¯¹åº”çš„åŸå§‹å€¼æ—¶ï¼Œä¼šè°ƒç”¨æ­¤å‡½æ•°ã€‚</p>
<p>ä¸‹é¢çš„ä¾‹å­å±•ç¤ºäº†ï¼Œ <code>Symbol.toPrimitive</code> å±æ€§æ˜¯å¦‚ä½•å¹²æ‰°ä¸€ä¸ªå¯¹è±¡è½¬æ¢ä¸ºåŸå§‹å€¼æ—¶è¾“å‡ºçš„ç»“æœçš„ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ä¸€ä¸ªæ²¡æœ‰æä¾› Symbol.toPrimitive å±æ€§çš„å¯¹è±¡ï¼Œå‚ä¸è¿ç®—æ—¶çš„è¾“å‡ºç»“æœ</span></span><br><span class="line"><span class="keyword">var</span> obj1 = &#123;&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(+obj1);     <span class="comment">// NaN</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">`<span class="subst">$&#123;obj1&#125;</span>`</span>); <span class="comment">// "[object Object]"</span></span><br><span class="line"><span class="built_in">console</span>.log(obj1 + <span class="string">""</span>); <span class="comment">// "[object Object]"</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ¥ä¸‹é¢å£°æ˜ä¸€ä¸ªå¯¹è±¡ï¼Œæ‰‹åŠ¨èµ‹äºˆäº† Symbol.toPrimitive å±æ€§ï¼Œå†æ¥æŸ¥çœ‹è¾“å‡ºç»“æœ</span></span><br><span class="line"><span class="keyword">var</span> obj2 = &#123;</span><br><span class="line">  [<span class="built_in">Symbol</span>.toPrimitive](hint) &#123;</span><br><span class="line">    <span class="keyword">if</span> (hint == <span class="string">"number"</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="number">10</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (hint == <span class="string">"string"</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="string">"hello"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(+obj2);     <span class="comment">// 10      -- hint å‚æ•°å€¼æ˜¯ "number"</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">`<span class="subst">$&#123;obj2&#125;</span>`</span>); <span class="comment">// "hello" -- hint å‚æ•°å€¼æ˜¯ "string"</span></span><br><span class="line"><span class="built_in">console</span>.log(obj2 + <span class="string">""</span>); <span class="comment">// "true"  -- hint å‚æ•°å€¼æ˜¯ "default"</span></span><br></pre></td></tr></table></figure>

<h2 id="æ–¹æ³•å’Œå‡½æ•°"><a href="#æ–¹æ³•å’Œå‡½æ•°" class="headerlink" title="æ–¹æ³•å’Œå‡½æ•°"></a>æ–¹æ³•å’Œå‡½æ•°</h2><ol>
<li><p>å•è¯ä¸ä¸€æ ·ã€‚</p>
<p>æ–¹æ³•çš„è‹±æ–‡æ˜¯methodï¼Œå‡½æ•°çš„è‹±æ–‡æ˜¯Functionã€‚</p>
</li>
<li><p>ä½ç½®ä¸ä¸€æ ·ã€‚</p>
<p>å†™åœ¨å¤–é¢ï¼ˆç›´æ¥å†™åœ¨<code>&lt;script&gt;</code>æ ‡ç­¾é‡Œé¢çš„ï¼‰çš„å«å‡½æ•°ï¼Œæ¯”å¦‚è¿™æ ·</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">   function abc()&#123;</span><br><span class="line">   </span><br><span class="line">   &#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<p>å†™åœ¨ç±»é‡Œé¢çš„å«æ–¹æ³•ï¼Œå› ä¸ºæ–¹æ³•å’ŒæŸä¸ªå®ä¾‹æˆ–å¯¹è±¡æ˜¯ç»‘å®šçš„ã€‚æ¯”å¦‚è¿™æ ·ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function Person()&#123;</span><br><span class="line">   &#x2F;&#x2F;å†™åœ¨Personé‡Œé¢çš„å«æ–¹æ³•</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="é«˜é˜¶å‡½æ•°"><a href="#é«˜é˜¶å‡½æ•°" class="headerlink" title="é«˜é˜¶å‡½æ•°"></a><strong>é«˜é˜¶å‡½æ•°</strong></h2><p>æ¥æ”¶å‡½æ•°ä½œä¸ºå‚æ•°æˆ–è€…è¿”å›å‡½æ•°çš„å‡½æ•°ï¼Œéƒ½å¯æˆä¸ºé«˜é˜¶å‡½æ•°ã€‚æ‰€ä»¥å¸¸è§çš„æ–¹æ³•æœ‰ï¼šmap,filter,bind,applyç­‰ã€‚</p>
<h2 id="Arguments"><a href="#Arguments" class="headerlink" title="Arguments"></a>Arguments</h2><p><code>arguments</code>å¯¹è±¡æ˜¯æ‰€æœ‰ï¼ˆéç®­å¤´ï¼‰å‡½æ•°ä¸­éƒ½å¯ç”¨çš„<strong>å±€éƒ¨å˜é‡</strong></p>
<p>ã€€ã€€æ‹¥æœ‰å››ä¸ªå±æ€§ï¼ˆæŒ‰ç…§è§„èŒƒæ¥è¯´åªæœ‰ä¸‰ä¸ªäº†â€”-callerï¼‰</p>
<ul>
<li>ã€€ã€€arguments.calleeâ€”æŒ‡å‘<strong>å½“å‰æ‰§è¡Œ</strong>çš„å‡½æ•°</li>
<li>ã€€ã€€agruments.callerâ€”-æŒ‡å‘è°ƒç”¨<strong>å½“å‰å‡½æ•°çš„å‡½æ•° ï¼ˆå·²ç§»é™¤ï¼‰</strong></li>
<li>ã€€ã€€arguments.lengthâ€”æŒ‡å‘ä¼ é€’ç»™<strong>å½“å‰å‡½æ•°</strong>çš„å‚æ•°æ•°é‡</li>
<li>ã€€ã€€arguments.argumentsâ€” è¿”å›ä¸€ä¸ªæ–°çš„Arrayè¿­ä»£å™¨å¯¹è±¡ï¼Œè¯¥å¯¹è±¡åŒ…å«å‚æ•°ä¸­æ¯ä¸ªç´¢å¼•çš„å€¼</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function func(...args)&#123;</span><br><span class="line">    return args</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func(1,2,3)   &#x2F;&#x2F; [1,2,3]</span><br><span class="line"></span><br><span class="line">&#x2F;* --------------------------------------------------------- *&#x2F;</span><br><span class="line"></span><br><span class="line">function func(a) &#123; </span><br><span class="line">  arguments[0] &#x3D; 99;   &#x2F;&#x2F; æ›´æ–°äº†arguments[0] åŒæ ·æ›´æ–°äº†a</span><br><span class="line">  console.log(a);</span><br><span class="line">&#125;</span><br><span class="line">func(10); &#x2F;&#x2F; 99</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&quot;use strict&quot; </span><br><span class="line">func(10); &#x2F;&#x2F; 10</span><br><span class="line"></span><br><span class="line">&#x2F;* --------------------------------------------------------- *&#x2F;</span><br><span class="line"></span><br><span class="line">function func(a) &#123; </span><br><span class="line">  a &#x3D; 99;              &#x2F;&#x2F; æ›´æ–°äº†a åŒæ ·æ›´æ–°äº†arguments[0] </span><br><span class="line">  console.log(arguments[0]);</span><br><span class="line">&#125;</span><br><span class="line">func(10); &#x2F;&#x2F; 99</span><br><span class="line"></span><br><span class="line">&quot;use strict&quot; </span><br><span class="line">func(10); &#x2F;&#x2F; 10</span><br><span class="line"></span><br><span class="line">&#x2F;* --------------------------------------------------------- *&#x2F;</span><br><span class="line"></span><br><span class="line">function func(a &#x3D; 55) &#123; </span><br><span class="line">  arguments[0] &#x3D; 99; &#x2F;&#x2F;  æ›´æ–°äº†arguments[0]ä¸ä¼šæ›´æ–°a</span><br><span class="line">  console.log(a);</span><br><span class="line">&#125;</span><br><span class="line">func(10); &#x2F;&#x2F; 10</span><br><span class="line"></span><br><span class="line">&#x2F;* --------------------------------------------------------- *&#x2F;</span><br><span class="line"></span><br><span class="line">function func(a &#x3D; 55) &#123; </span><br><span class="line">  a &#x3D; 99; &#x2F;&#x2F; æ›´æ–°äº†aä¸ä¼šæ›´æ–°arguments[0]</span><br><span class="line">  console.log(arguments[0]);</span><br><span class="line">&#125;</span><br><span class="line">func(10); &#x2F;&#x2F; 10</span><br><span class="line"></span><br><span class="line">æ€»ç»“ï¼š</span><br><span class="line">ä¸åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œarguments[0]æ”¹å˜ï¼Œä¼šä½¿ç›¸å¯¹åº”çš„å½¢å‚ä¹Ÿå‘ç”Ÿæ”¹å˜ï¼Œ</span><br><span class="line">ä¿®æ”¹å½¢å‚ï¼Œarguments[0]ä¹Ÿä¼šç›¸åº”è¢«ä¿®æ”¹</span><br><span class="line">è€Œåœ¨ä¸¥æ ¼æ¨¡å¼å’Œæœ‰å½¢å‚çš„æƒ…å†µä¸‹åˆ™ä¸ä¼šè¢«ä¿®æ”¹</span><br></pre></td></tr></table></figure>



<h2 id="æŒ‰ä½æˆ–è¿ç®—ç¬¦å¯ä»¥è¿™æ ·å†™ï¼š"><a href="#æŒ‰ä½æˆ–è¿ç®—ç¬¦å¯ä»¥è¿™æ ·å†™ï¼š" class="headerlink" title="æŒ‰ä½æˆ–è¿ç®—ç¬¦å¯ä»¥è¿™æ ·å†™ï¼š"></a>æŒ‰ä½æˆ–è¿ç®—ç¬¦å¯ä»¥è¿™æ ·å†™ï¼š</h2><p>å¦‚æœå¸Œæœ›å°†æµ®ç‚¹æ•°è½¬æ¢ä¸ºæ•´æ•°ï¼Œå¯ä»¥ä½¿ç”¨<code>Math.floor()</code>ã€<code>Math.ceil()</code>æˆ–<code>Math.round()</code>ã€‚ä½†æ˜¯è¿˜æœ‰ä¸€ç§æ›´å¿«çš„æ–¹æ³•å¯ä»¥ä½¿ç”¨|(ä½æˆ–è¿ç®—ç¬¦)å°†æµ®ç‚¹æ•°æˆªæ–­ä¸ºæ•´æ•°ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">console.log(23.9 | 0);  </span><br><span class="line">&#x2F;&#x2F; Result: 23</span><br><span class="line">console.log(-23.9 | 0);</span><br><span class="line">&#x2F;&#x2F; Result: -23</span><br><span class="line"></span><br><span class="line">console.log(1553&#x2F;10 | 0)  </span><br><span class="line">&#x2F;&#x2F; Result: 155</span><br><span class="line">console.log(1553&#x2F;100 | 0)  </span><br><span class="line">&#x2F;&#x2F; Result: 15</span><br><span class="line">console.log(1553&#x2F;1000 | 0)  </span><br><span class="line">&#x2F;&#x2F; Result: 1</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>js</category>
      </categories>
      <tags>
        <tag>js</tag>
      </tags>
  </entry>
  <entry>
    <title>mdIntro</title>
    <url>/2020/07/15/mdIntro/</url>
    <content><![CDATA[<p><strong>Typora æ˜¯ä¸€æ¬¾æ”¯æŒå®æ—¶é¢„è§ˆçš„ Markdown æ–‡æœ¬ç¼–è¾‘å™¨ã€‚å®ƒæœ‰ OS Xã€Windowsã€Linux ä¸‰ä¸ªå¹³å°çš„ç‰ˆæœ¬ï¼Œå¹¶ä¸”ç”±äºä»åœ¨æµ‹è¯•ä¸­ï¼Œæ˜¯å®Œå…¨å…è´¹çš„ã€‚</strong></p>
<h4 id="æ™ºèƒ½æ ‡ç‚¹"><a href="#æ™ºèƒ½æ ‡ç‚¹" class="headerlink" title="æ™ºèƒ½æ ‡ç‚¹"></a>æ™ºèƒ½æ ‡ç‚¹</h4><p>æˆ‘è®¤ä¸ºã€Œæ™ºèƒ½æ ‡ç‚¹ã€æ˜¯æ¯”è¾ƒæœ‰è¶£çš„ä¸€ç‚¹ã€‚å®ƒå¯ä»¥è‡ªåŠ¨å¸®ä½ å°†ä¸æ˜¯å¾ˆç¾è§‚çš„ç›´å¼•å· <code>&quot;</code> <code>&#39;</code> è½¬åŒ–ä¸ºæ›´ç¾è§‚çš„å¼¯å¼•å· <code>â€œ</code> <code>â€˜</code> <code>â€™</code> <code>â€</code>ã€‚å…·ä½“å†…å®¹ä½ å¯ä»¥åœ¨å®˜æ–¹çš„ <a href="http://support.typora.io/SmartyPants/" target="_blank" rel="noopener">è¿™ç¯‡æ–‡æ¡£</a> ä¸­æŸ¥çœ‹ã€‚å…³äºç›´å¼¯å¼•å·åœ¨ macOS ä¸Šå¦‚ä½•è¾“å…¥ä½ ä¹Ÿå¯ä»¥çœ‹ <a href="https://sspai.com/post/38342" target="_blank" rel="noopener">è¿™ç¯‡æ–‡ç« </a>ã€‚</p>
<hr>
<a id="more"></a>

<h4 id="å›¾ç‰‡æ’å…¥"><a href="#å›¾ç‰‡æ’å…¥" class="headerlink" title="å›¾ç‰‡æ’å…¥"></a>å›¾ç‰‡æ’å…¥</h4><p>Typora æ”¯æŒåœ¨æ‹–åŠ¨æˆ– <code>Ctrl + V</code> ç½‘ç»œå›¾ç‰‡åè‡ªåŠ¨å°†å…¶ä¿å­˜åˆ°æœ¬åœ°ã€‚ä½ å¯ä»¥åœ¨ <code>æ–‡ä»¶ - åå¥½è®¾ç½® - ç¼–è¾‘å™¨ - å›¾ç‰‡æ’å…¥</code> ä¸­é€‰æ‹©å¤åˆ¶åˆ°å“ªä¸ªè·¯å¾„ï¼Œä»€ä¹ˆæƒ…å†µä¸‹éœ€è¦å¤åˆ¶ã€‚</p>
<p><img src="https://cdn.sspai.com/2019/05/24/717da653ad91e938c5f1f40555b9c057.png?imageView2/2/w/1120/q/90/interlace/1/ignore-error/1" alt="img">å›¾ç‰‡æ’å…¥</p>
<p>è¿™ä¸€åŠŸèƒ½ä¿è¯äº†å³ä½¿ç½‘ç»œå›¾ç‰‡æºå¤±æ•ˆäº†ï¼Œä½ è¿˜æœ‰æœ¬åœ°çš„å¤‡ä»½å¯ç”¨ã€‚åŒæ—¶ä¹Ÿèƒ½ä½¿ä½ çš„æ–‡æ¡£æ–‡ä»¶å¤¹æ›´åˆç†ã€å®Œæ•´ã€‚</p>
<hr>
<h4 id="æ‰“å­—æœºæ¨¡å¼å’Œä¸“æ³¨æ¨¡å¼"><a href="#æ‰“å­—æœºæ¨¡å¼å’Œä¸“æ³¨æ¨¡å¼" class="headerlink" title="æ‰“å­—æœºæ¨¡å¼å’Œä¸“æ³¨æ¨¡å¼"></a>æ‰“å­—æœºæ¨¡å¼å’Œä¸“æ³¨æ¨¡å¼</h4><p><strong>ã€Œæ‰“å­—æœºæ¨¡å¼ã€</strong>ä½¿å¾—ä½ æ‰€ç¼–è¾‘çš„é‚£ä¸€è¡Œæ°¸è¿œå¤„äºå±å¹•æ­£ä¸­ã€‚</p>
<p><strong>ã€Œä¸“æ³¨æ¨¡å¼ã€</strong>ä½¿ä½ æ­£åœ¨ç¼–è¾‘çš„é‚£ä¸€è¡Œä¿ç•™é¢œè‰²ï¼Œè€Œå…¶ä»–è¡Œçš„å­—ä½“å‘ˆç°è‰²ã€‚</p>
<p>ä½ å¯ä»¥åœ¨ <code>è§†å›¾ - ä¸“æ³¨æ¨¡å¼ / æ‰“å­—æœºæ¨¡å¼</code> ä¸­å‹¾é€‰ä½¿ç”¨è¿™ä¸¤ä¸ªæ¨¡å¼ã€‚</p>
<p><img src="https://cdn.sspai.com/2019/05/24/8b4e14ef732a23d4cc2a8fb1f8ec016c.gif" alt="img"></p>
<p>ä¸ºäº†é˜²æ­¢ä¸€äº›ç¨‹åº bug çš„å‘ç”Ÿï¼ˆè™½ç„¶åœ¨æˆ‘ä½¿ç”¨ä¸‹æ¥æ„Ÿåˆ°æ˜¯å¾ˆå°‘çš„ï¼‰å¯¼è‡´æ ¼å¼é—®é¢˜æ— æ³•ä¿®æ”¹ï¼ŒTypora ä¿ç•™äº†ä¸€ä¸ª<strong>ã€Œæºä»£ç æ¨¡å¼ã€</strong>ã€‚ä½ å¯ä»¥é€šè¿‡ <code>è§†å›¾ - æºä»£ç æ¨¡å¼</code> æˆ–å·¦ä¸‹è§’çš„ <code>&lt;/&gt;</code> æŒ‰é’®è¿›å…¥ã€‚</p>
<p><img src="https://cdn.sspai.com/2019/05/24/bcda9c4e35725b7297a6b90d8745564e.gif" alt="img"></p>
<hr>
<h4 id="ç©ºæ ¼ä¸æ¢è¡Œ"><a href="#ç©ºæ ¼ä¸æ¢è¡Œ" class="headerlink" title="ç©ºæ ¼ä¸æ¢è¡Œ"></a>ç©ºæ ¼ä¸æ¢è¡Œ</h4><p>Typora åœ¨ç©ºæ ¼ä¸æ¢è¡Œéƒ¨åˆ†ä¸»è¦æ˜¯ä½¿ç”¨ <a href="http://www.commonmark.cn/w/" target="_blank" rel="noopener">CommonMark</a> ä½œä¸ºæ ‡æ³¨è§„èŒƒã€‚ä¸å‰æ–‡æåˆ°çš„ GFM ä¸€æ ·ï¼ŒCommonMark ä¹Ÿæ˜¯æ¯”è¾ƒæµè¡Œçš„ Markdown è¯­è¨€è§„èŒƒï¼ˆè§£æå™¨ï¼‰ä¹‹ä¸€ã€‚</p>
<ul>
<li><strong>ç©ºæ ¼ï¼š</strong>åœ¨è¾“å…¥è¿ç»­çš„ç©ºæ ¼åï¼ŒTypora ä¼šåœ¨ç¼–è¾‘å™¨è§†å›¾é‡Œä¸ºä½ ä¿ç•™è¿™äº›ç©ºæ ¼ï¼Œä½†å½“ä½ æ‰“å°æˆ–å¯¼å‡ºæ—¶ï¼Œè¿™äº›ç©ºæ ¼ä¼šè¢«çœç•¥æˆä¸€ä¸ªã€‚<br>ä½ å¯ä»¥åœ¨æºä»£ç æ¨¡å¼ä¸‹ï¼Œä¸ºæ¯ä¸ªç©ºæ ¼å‰åŠ ä¸€ä¸ª <code>\</code> è½¬ä¹‰ç¬¦ï¼Œæˆ–è€…ç›´æ¥ä½¿ç”¨ HTML é£æ ¼çš„ <code>&amp;nbps;</code> æ¥ä¿æŒè¿ç»­çš„ç©ºæ ¼ã€‚</li>
<li><strong>è½¯æ¢è¡Œï¼š</strong>éœ€è¦è¯´æ˜çš„æ˜¯ï¼Œåœ¨ Markdown è¯­æ³•ä¸­ï¼Œæ¢è¡Œï¼ˆline breakï¼‰ä¸æ¢æ®µæ˜¯ä¸åŒçš„ã€‚ä¸”æ¢è¡Œåˆ†ä¸ºè½¯æ¢è¡Œå’Œç¡¬æ¢è¡Œã€‚åœ¨ Typora ä¸­ï¼Œä½ å¯ä»¥é€šè¿‡ <code>Shift + Enter</code> å®Œæˆä¸€æ¬¡è½¯æ¢è¡Œã€‚è½¯æ¢è¡Œåªåœ¨ç¼–è¾‘ç•Œé¢å¯è§ï¼Œå½“æ–‡æ¡£è¢«å¯¼å‡ºæ—¶æ¢è¡Œä¼šè¢«çœç•¥ã€‚</li>
<li><strong>ç¡¬æ¢è¡Œï¼š</strong>ä½ å¯ä»¥é€šè¿‡ <code>ç©ºæ ¼ + ç©ºæ ¼ + Shift + Enter</code> å®Œæˆä¸€æ¬¡ç¡¬æ¢è¡Œï¼Œè€Œè¿™ä¹Ÿæ˜¯è®¸å¤š Markdown ç¼–è¾‘å™¨æ‰€åŸç”Ÿæ”¯æŒçš„ã€‚ç¡¬æ¢è¡Œåœ¨æ–‡æ¡£è¢«å¯¼å‡ºæ—¶å°†è¢«ä¿ç•™ï¼Œä¸”æ²¡æœ‰æ¢æ®µçš„æ®µåè·ã€‚</li>
<li><strong>æ¢æ®µï¼š</strong>ä½ å¯ä»¥é€šè¿‡ <code>Enter</code> å®Œæˆä¸€æ¬¡æ¢æ®µã€‚Typora ä¼šè‡ªåŠ¨å¸®ä½ å®Œæˆä¸¤æ¬¡ <code>Shift + Enter</code> çš„è½¯æ¢è¡Œï¼Œä»è€Œå®Œæˆä¸€æ¬¡æ¢æ®µã€‚è¿™ä¹Ÿæ„å‘³ç€åœ¨ Markdown è¯­æ³•ä¸‹ï¼Œæ¢æ®µæ˜¯é€šè¿‡åœ¨æ®µä¸æ®µä¹‹é—´åŠ å…¥ç©ºè¡Œæ¥å®ç°çš„ã€‚</li>
<li><strong>Windows é£æ ¼ï¼ˆCR+LFï¼‰ä¸ Unix é£æ ¼ï¼ˆCRï¼‰çš„æ¢è¡Œç¬¦ï¼š</strong>CR è¡¨ç¤ºå›è½¦ <code>\r</code> ï¼Œå³å›åˆ°ä¸€è¡Œçš„å¼€å¤´ï¼Œè€Œ LF è¡¨ç¤ºæ¢è¡Œ <code>\n</code> ï¼Œå³å¦èµ·ä¸€è¡Œã€‚<br>æ‰€ä»¥ Windows é£æ ¼çš„æ¢è¡Œç¬¦æœ¬è´¨æ˜¯ã€Œå›è½¦ + æ¢è¡Œã€ï¼Œè€Œ Unix é£æ ¼çš„æ¢è¡Œç¬¦æ˜¯ã€Œæ¢è¡Œã€ã€‚è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆ Unix / Mac ç³»ç»Ÿä¸‹çš„æ–‡ä»¶ï¼Œå¦‚æœåœ¨ Windows ç³»ç»Ÿç›´æ¥æ‰“å¼€ä¼šå…¨éƒ¨åœ¨åŒä¸€è¡Œå†…ã€‚ ä½ å¯ä»¥åœ¨ <code>æ–‡ä»¶ - åå¥½è®¾ç½® - ç¼–è¾‘å™¨ - é»˜è®¤æ¢è¡Œç¬¦</code> ä¸­å¯¹æ­¤è¿›è¡Œåˆ‡æ¢ã€‚</li>
</ul>
<p>ä¸‹é™„ä»¥ä¸Šå„ç©ºæ ¼ã€æ¢è¡Œã€æ¢æ®µçš„æµ‹è¯•ç»“æœå›¾ã€‚å…·ä½“å†…å®¹ä½ å¯ä»¥åœ¨å®˜ç½‘çš„ <a href="http://support.typora.io/Line-Break/" target="_blank" rel="noopener">è¿™ç¯‡æ–‡æ¡£</a> ä¸­æŸ¥é˜…ã€‚</p>
<p><img src="https://cdn.sspai.com/2019/05/24/5c2fbaa53b27666a7fd0b07ac3e100bf.png?imageView2/2/w/1120/q/90/interlace/1/ignore-error/1" alt="img"></p>
<hr>
<h3 id="æ–‡ä»¶ç³»ç»Ÿ"><a href="#æ–‡ä»¶ç³»ç»Ÿ" class="headerlink" title="æ–‡ä»¶ç³»ç»Ÿ"></a>æ–‡ä»¶ç³»ç»Ÿ</h3><p>é™¤äº†å‰æ–‡æåˆ°çš„æ–‡ä»¶ä¾§è¾¹æ ï¼ŒTypora è¿˜æä¾›äº†ä¸€äº›è€¦åˆåº¦ä¸é«˜çš„æ–‡ä»¶ç³»ç»Ÿã€‚</p>
<ul>
<li><strong>å¿«é€Ÿæ‰“å¼€ï¼š</strong>ä½ å¯ä»¥é€šè¿‡ <code>æ–‡ä»¶ - å¿«é€Ÿæ‰“å¼€...</code> æˆ– <code>Ctrl + P</code> å¿«æ·é”®å¿«é€Ÿæ‰“å¼€æœ€è¿‘çš„æ–‡æ¡£ã€‚</li>
<li><strong>ä¿å­˜ï¼š</strong>Typora æ”¯æŒè‡ªåŠ¨ä¿å­˜ï¼Œä¸€èˆ¬å¾ˆå°‘æœ‰å†™å¥½çš„æ–‡æ¡£ä¸¢å¤±çš„æƒ…å†µã€‚åŒæ—¶å®ƒä¹Ÿæä¾›äº†è¯¸å¦‚ã€Œä¿å­˜ã€ã€ã€Œå¦å­˜ä¸ºã€ã€ã€Œä¿å­˜å…¨éƒ¨æ‰“å¼€çš„æ–‡ä»¶â€¦ã€ä¹‹ç±»çš„åŠŸèƒ½ã€‚</li>
<li><strong>å¯¼å…¥ï¼š</strong>Typora æ”¯æŒéå¸¸å¤šçš„æ–‡ä»¶æ ¼å¼ï¼š.docx, .latex, .tex, .ltx, .rst, .rest, .org, .wiki, .dokuwiki, .textile, .opml, .epubã€‚</li>
<li><strong>å¯¼å‡ºï¼š</strong>Typora åŸç”Ÿæ”¯æŒå¯¼å‡º PDFï¼ŒHTMLç­‰æ ¼å¼ã€‚ä½ å¯ä»¥æ ¹æ®è½¯ä»¶å†…æç¤ºå®‰è£… <strong>Pandoc æ’ä»¶</strong>æ¥å¯¼å‡ºæ›´å¤šä¾‹å¦‚ docxï¼ŒLaTeX ç­‰æ ¼å¼ã€‚ </li>
</ul>
<p><img src="https://cdn.sspai.com/2019/05/24/ba295f21f0b71646bb36a0517e868ced.png?imageView2/2/w/1120/q/90/interlace/1/ignore-error/1" alt="img">å¯¼å‡º</p>
<hr>
<h2 id="ä¸€ä¸ªä¼ªè£…æˆæ–‡æœ¬ç¼–è¾‘å™¨çš„æµè§ˆå™¨"><a href="#ä¸€ä¸ªä¼ªè£…æˆæ–‡æœ¬ç¼–è¾‘å™¨çš„æµè§ˆå™¨" class="headerlink" title="ä¸€ä¸ªä¼ªè£…æˆæ–‡æœ¬ç¼–è¾‘å™¨çš„æµè§ˆå™¨"></a>ä¸€ä¸ªä¼ªè£…æˆæ–‡æœ¬ç¼–è¾‘å™¨çš„æµè§ˆå™¨</h2><p>å½“æˆ‘çš„ä¸€ä¸ªæœ‹å‹é—®æˆ‘ã€ŒTypora æœ‰ä»€ä¹ˆå¥½å†™çš„ï¼Ÿã€æ—¶ï¼Œæˆ‘å›ç­”ã€ŒTypora æ˜¯ä¸€ä¸ªä¼ªè£…æˆæ–‡æœ¬ç¼–è¾‘å™¨çš„æµè§ˆå™¨ã€ã€‚æ˜¯çš„ï¼Œäº‹å®ä¸Šå¦‚æœä½ æœ‰ä¸€å®šçš„è®¡ç®—æœºåŸºç¡€ï¼Œä½ å¯ä»¥æ‰¾åˆ°è®¸å¤šæœ‰å…³äºã€ŒTypora å…¶å®æ˜¯ä¸€ä¸ªæµè§ˆå™¨ã€çš„è››ä¸é©¬è¿¹ã€‚</p>
<p><img src="https://cdn.sspai.com/2019/05/24/13837bcdcded9ae406e8c4aac5f2d752.png?imageView2/2/w/1120/q/90/interlace/1/ignore-error/1" alt="img">å›¾ç‰‡æ’å…¥</p>
<p>åœ¨å›¾ç‰‡æ’å…¥çš„é€‰é¡¹ä¸­ï¼ŒTypora ç”¨äº†ã€Œå¤åˆ¶å›¾ç‰‡åˆ° ./${filename}.assets æ–‡ä»¶å¤¹ã€çš„è¯´æ³•ï¼Œè€Œè¿™å…¶å®æ˜¯ç½‘é¡µå‰ç«¯å¸¸ç”¨çš„ Javascript å­—ç¬¦ä¸²æ¨¡æ¿è¯­æ³•çš„é£æ ¼ã€‚</p>
<p>å†æ¯”å¦‚ï¼ŒTypora å°†æ›´éµå¾ª GFM æ ‡å‡†çš„ Markdown è¯­æ³•æ¨¡å¼ç§°ä¸ºã€Œä¸¥æ ¼æ¨¡å¼ Strict Modeã€ï¼Œè¿™ä¸€è¯´æ³•å¸¸è§äº HTML å’Œ JavaScript ç¼–ç¨‹ä¸­ã€‚ç±»ä¼¼ã€Œæºä»£ç æ¨¡å¼ã€çš„è¯´æ³•ä¹Ÿæ˜¯åŒç†ã€‚</p>
<p>å½“ç„¶ï¼Œæœ€æ˜æ˜¾çš„ä¸€ç‚¹æ˜¯å½“ä½ æŒ‰ä¸‹ <code>Shift + F12</code> å¿«æ·é”®æ—¶ï¼Œé¡µé¢ä¼šå¼¹å‡ºä¸€ä¸ªåŸºäº Chrome çš„å¼€å‘è€…å·¥å…·æ ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬åœ¨æµè§ˆå™¨ä¸­å¸¸è¯´çš„ã€Œå®¡æŸ¥å…ƒç´ ã€ã€‚</p>
<p><img src="https://cdn.sspai.com/2019/05/24/da8c9b305a222cb5fadb41c12da81a12.png?imageView2/2/w/1120/q/90/interlace/1/ignore-error/1" alt="img"></p>
<hr>
<h3 id="CSS"><a href="#CSS" class="headerlink" title="CSS"></a>CSS</h3><p>ä¸ºäº†è®©æ–‡æ¡£æ›´ç¾è§‚ï¼Œæˆ‘ä»¬å¯ä»¥ä¸ºå…¶åŠ ä¸Š CSS styleã€‚æˆ‘è®¤ä¸º Typora å¯¹ CSS çš„æ”¯æŒè®©å®ƒæˆä¸ºä¸€ä¼—æ¡Œé¢ç¬”è®°åº”ç”¨ä¸­æœ€ä¸ä¼—ä¸åŒçš„ä¸€ä¸ªã€‚åœ¨ Typora ä¸­ CSS è¢«ç§°ä¸ºã€Œä¸»é¢˜ã€ï¼Œä½†å…¶æœ¬è´¨ä»æ˜¯ CSS æ–‡ä»¶ã€‚ä½ å¯ä»¥åœ¨ <code>æ–‡ä»¶ - åå¥½è®¾ç½® - ä¸»é¢˜ - æ‰“å¼€ä¸»é¢˜æ–‡ä»¶å¤¹</code> çœ‹åˆ°è¿™äº› CSS æ–‡ä»¶ã€‚</p>
<p><img src="https://cdn.sspai.com/2019/05/24/7d3cfbc92721733e16ed63d72a48a572.png?imageView2/2/w/1120/q/90/interlace/1/ignore-error/1" alt="img"></p>
<hr>
<p>é™¤æ­¤ä»¥å¤–ï¼Œå¦‚æœä½ æœ‰ä¸€å®šçš„ Web ç¼–ç¨‹åŸºç¡€ï¼Œä½ å½“ç„¶ä¹Ÿå¯ä»¥è‡ªå·±ä¿®æ”¹ã€æ–°å»ºé€‚åˆä½ ä½¿ç”¨éœ€æ±‚çš„ CSS æ–‡ä»¶ã€‚æˆ‘è‡ªå·±å°±å†™äº†ä¸€ä»½åä¸º WeChat çš„ CSS æ–‡ä»¶ï¼Œæ¥ç¬¦åˆæˆ‘å…¬ä¼—å·ç‰¹å®šçš„æ’ç‰ˆéœ€æ±‚ï¼Œä¾‹å¦‚æ­£æ–‡æ˜¯ 15pxï¼Œé¡µè¾¹è·æ˜¯ 8ï¼Œå°æ ‡é¢˜æ˜¯ 18px ç­‰ç­‰ã€‚</p>
<p><img src="https://cdn.sspai.com/2019/05/24/317ac1df25fcfc817c03f92d6086764e.png?imageView2/2/w/1120/q/90/interlace/1/ignore-error/1" alt="img"></p>
<p>ä½¿ç”¨ Typora çš„ã€Œä¸»é¢˜ã€åŠŸèƒ½å†™å…¬ä¼—å·çš„ä¸€ä¸ªå¥½å¤„æ˜¯ï¼Œåªéœ€è¦æ¯æ¬¡éƒ½å¥—ç”¨åŒæ ·çš„ä¸»é¢˜ï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨ä¿è¯æ¯æ¬¡æ’ç‰ˆè§„èŒƒéƒ½ç›¸åŒçš„åŒæ—¶ï¼ŒèŠ‚çœè®¸å¤šé‡å¤çš„å·¥ä½œã€‚</p>
<hr>
<h4 id="ä¸»é¢˜"><a href="#ä¸»é¢˜" class="headerlink" title="ä¸»é¢˜"></a>ä¸»é¢˜</h4><p><img src="https://cdn.sspai.com/2019/05/24/98a04c4f9129e0f018d15bc790b376c2.png?imageView2/2/w/1120/q/90/interlace/1/ignore-error/1" alt="img"></p>
<p>é€‰æ‹©ä¸åŒçš„ä¸»é¢˜å¯ä»¥ä½¿æ–‡æ¡£æ‹¥æœ‰ä¸åŒçš„å¤–è§‚ï¼Œä½†ä¸ä¼šå½±å“å†…å®¹ã€‚Typora è‡ªå¸¦äº†è‹¥å¹²ä¸»é¢˜ï¼Œä½ ä¹Ÿå¯ä»¥åœ¨ <a href="http://theme.typora.io/" target="_blank" rel="noopener">å®˜ç½‘</a> ä¸‹è½½æ›´å¤šçš„ä¸»é¢˜ã€‚</p>
<p><img src="https://cdn.sspai.com/2019/05/24/efcf65ba993c4bb0b058d6eb8258df6f.png?imageView2/2/w/1120/q/90/interlace/1/ignore-error/1" alt="img"></p>
<hr>
<h3 id="YAML-front-matter"><a href="#YAML-front-matter" class="headerlink" title="YAML front-matter"></a>YAML front-matter</h3><p>Typora æ”¯æŒåœ¨æ–‡æ¡£å¤´éƒ¨åŠ ä¸ŠåŸºäº YAML çš„ front-matter ä¿¡æ¯ï¼Œè¿™ä¸€ç‰¹æ€§é€‚ç”¨äºæŠŠ Markdown æ–‡æ¡£åˆ†ç±»å½’æ¡£ä¸Šä¼ åˆ°ç”¨ Hexo æ¡†æ¶æ­å»ºçš„åšå®¢ä¸­ã€‚</p>
<p>Front-matter æ˜¯æ–‡ä»¶æœ€ä¸Šæ–¹ä»¥ <code>---</code> åˆ†éš”çš„åŒºåŸŸï¼Œç”¨äºæŒ‡å®šä¸ªåˆ«æ–‡ä»¶çš„å˜é‡ï¼Œä¸¾ä¾‹æ¥è¯´ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">title: Hello World</span><br><span class="line">date: 2013&#x2F;7&#x2F;13 20:46:25</span><br><span class="line">---</span><br></pre></td></tr></table></figure>


<p>å‚è€ƒæ–‡æ¡£ï¼š<a href="https://sspai.com/post/54912" target="_blank" rel="noopener">typora</a></p>
]]></content>
      <categories>
        <category>mysoft</category>
        <category>md</category>
      </categories>
      <tags>
        <tag>soft</tag>
        <tag>md</tag>
      </tags>
  </entry>
  <entry>
    <title>mockè¯­æ³•</title>
    <url>/2020/07/30/mock%E8%AF%AD%E6%B3%95/</url>
    <content><![CDATA[<h2 id="è®¾ç½®è¿Ÿå»¶æ—¶é—´"><a href="#è®¾ç½®è¿Ÿå»¶æ—¶é—´" class="headerlink" title="è®¾ç½®è¿Ÿå»¶æ—¶é—´"></a>è®¾ç½®è¿Ÿå»¶æ—¶é—´</h2><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Mock.setup æ¥è®¾ç½®æ¨¡æ‹Ÿæ•°æ®æ—¶çš„å»¶è¿Ÿæ—¶é—´ï¼Œå•ä½ï¼šæ¯«ç§’ã€‚å¯ä»¥è®¾ç½®ä¸€ä¸ªå›ºå®šçš„æ—¶é—´ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨-è®¾ç½®ä¸€ä¸ªæ—¶é—´æ®µï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; å»¶è¿Ÿ4ç§’</span><br><span class="line">Mock.setup(&#123;</span><br><span class="line">    timeout: 4000</span><br><span class="line">&#125;)</span><br><span class="line">&#x2F;&#x2F; å»¶è¿Ÿ3~9ç§’</span><br><span class="line">Mock.setup(&#123;</span><br><span class="line">    timeout: &#39;3000-9000&#39;</span><br><span class="line">&#125;)</span><br><span class="line">12345678</span><br></pre></td></tr></table></figure>

<a id="more"></a>

<h2 id="æ¨¡æ‹Ÿæ•°æ®"><a href="#æ¨¡æ‹Ÿæ•°æ®" class="headerlink" title="æ¨¡æ‹Ÿæ•°æ®"></a>æ¨¡æ‹Ÿæ•°æ®</h2><p>å¯ä»¥ä½¿ç”¨ Mock.mock ç”Ÿæˆæ¨¡æ‹Ÿæ•°æ®ã€‚</p>
<ol>
<li>ç›´æ¥ç”Ÿæˆæ¨¡æ‹Ÿæ•°æ®</li>
</ol>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Mock.mock(æ¨¡æ¿|function)</span><br></pre></td></tr></table></figure>

<ol>
<li>ä¸ºæ¥å£åœ°å€æ¨¡æ‹Ÿæ•°æ®</li>
</ol>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Mock.mock(url,æ¨¡æ¿|function)</span><br></pre></td></tr></table></figure>

<ol>
<li>ä¸ºæ¥å£ä»¥åŠè¯·æ±‚æ–¹å¼æ¨¡æ‹Ÿæ•°æ®</li>
</ol>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Mock.mock(url,type,æ¨¡æ¿|function)</span><br></pre></td></tr></table></figure>

<p>è¯´æ˜ï¼šurlä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªæ­£åˆ™ã€‚</p>
<p><img src="https://img-blog.csdnimg.cn/20181122001426963.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzIwMTAxNQ==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<h2 id="æ¨¡æ¿è¯­æ³•"><a href="#æ¨¡æ¿è¯­æ³•" class="headerlink" title="æ¨¡æ¿è¯­æ³•"></a>æ¨¡æ¿è¯­æ³•</h2><p>æ¨¡æ‹Ÿæ•°æ®æ—¶è¦æ ¹æ®æ¨¡æ¿æ¥æ¨¡æ‹Ÿï¼Œæ¨¡æ¿æ˜¯ä¸€ä¸ªå¯¹è±¡ç±»å‹çš„å€¼ï¼Œæ ¼å¼ä¸ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#39;åç§°|è§„åˆ™&#39;:&#39;å€¼&#39;</span><br></pre></td></tr></table></figure>

<p>åç§°ï¼šæ¨¡æ‹Ÿçš„æ•°æ®çš„åå­—ã€‚<br>å€¼ï¼šæ¨¡æ‹Ÿçš„æ•°æ®çš„å€¼ã€‚<br>è§„åˆ™ï¼šæ¨¡æ‹Ÿå‡ºæ•°æ®çš„è§„åˆ™ï¼Œå¸¸ç”¨çš„å‡ ä¸ªè§„åˆ™ï¼š</p>
<ol>
<li>min-maxï¼šç”Ÿæˆçš„èŒƒå›´</li>
<li>countï¼šç”Ÿæˆçš„æ•°é‡</li>
<li>+stepï¼šé€’å¢step<br><img src="https://img-blog.csdnimg.cn/2018112200152730.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzIwMTAxNQ==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></li>
</ol>
<p>å¦‚æœå€¼æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œè§„åˆ™ä»£è¡¨æ•°ç»„ä¸­å…ƒç´ çš„ä¸ªæ•°ï¼š</p>
<p><img src="https://img-blog.csdnimg.cn/20181122001606812.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzIwMTAxNQ==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<p>å¦‚æœå¸Œæœ›ç”Ÿæˆçš„IDè‡ªå¢å¯ä»¥ä½¿ç”¨+1</p>
<p><img src="https://img-blog.csdnimg.cn/20181122001616852.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzIwMTAxNQ==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<h2 id="ç”Ÿæˆéšæœºæ•°æ®"><a href="#ç”Ÿæˆéšæœºæ•°æ®" class="headerlink" title="ç”Ÿæˆéšæœºæ•°æ®"></a>ç”Ÿæˆéšæœºæ•°æ®</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">æˆ‘ä»¬ä¸€èˆ¬åœ¨æ¨¡æ‹Ÿæ•°æ®æ—¶éƒ½å¸Œæœ›ç”Ÿæˆä¸€äº›éšæœºçš„æ•°æ®ï¼Œmockä¸­å†…ç½®äº†å¾ˆå¤šç§ä¸åŒç±»å‹çš„éšæœºæ•°æ®ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å®ƒä»¬ç”Ÿæˆå„ç§ç±»å‹çš„éšæœºæ•°æ®ï¼š</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>Type</th>
<th>Method</th>
</tr>
</thead>
<tbody><tr>
<td>åŸºæœ¬ç±»å‹</td>
<td>boolean, natural, integer, float, character, string, range, date, time, datetime, now</td>
</tr>
<tr>
<td>å›¾ç‰‡</td>
<td>image, dataImage</td>
</tr>
<tr>
<td>é¢œè‰²</td>
<td>color</td>
</tr>
<tr>
<td>æ–‡æœ¬</td>
<td>paragraph, sentence, word, title, cparagraph, csentence, cword, ctitle</td>
</tr>
<tr>
<td>å§“å</td>
<td>first, last, name, cfirst, clast, cname</td>
</tr>
<tr>
<td>ç½‘ç«™</td>
<td>url, domain, email, ip, tld</td>
</tr>
<tr>
<td>åœ°å€</td>
<td>area, region</td>
</tr>
<tr>
<td>ç¼–å·</td>
<td>guid, id</td>
</tr>
</tbody></table>
<p>ä½¿ç”¨æ—¶æˆ‘ä»¬åªéœ€è¦æŠŠå€¼è®¾ç½®æˆ <strong>@æ–¹æ³•å</strong> å³å¯ï¼Œæ¯”å¦‚ï¼Œç”Ÿæˆä¸€ä¸ªéšæœºçš„ Emailï¼š</p>
<p><img src="https://img-blog.csdnimg.cn/2018112200163380.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzIwMTAxNQ==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<h1 id="ç”Ÿæˆboolean"><a href="#ç”Ÿæˆboolean" class="headerlink" title="ç”Ÿæˆboolean"></a>ç”Ÿæˆboolean</h1><p>@boolean</p>
<h1 id="ç”Ÿæˆæ•°å­—"><a href="#ç”Ÿæˆæ•°å­—" class="headerlink" title="ç”Ÿæˆæ•°å­—"></a>ç”Ÿæˆæ•°å­—</h1><h2 id="è‡ªç„¶æ•°-gt-0æ•´æ•°"><a href="#è‡ªç„¶æ•°-gt-0æ•´æ•°" class="headerlink" title="è‡ªç„¶æ•°(&gt;=0æ•´æ•°)"></a>è‡ªç„¶æ•°(&gt;=0æ•´æ•°)</h2><p>@natural<br>@natural(min,max)</p>
<h2 id="æ•´æ•°"><a href="#æ•´æ•°" class="headerlink" title="æ•´æ•°"></a>æ•´æ•°</h2><p>@integer<br>@integer(min,max)</p>
<h2 id="å°æ•°"><a href="#å°æ•°" class="headerlink" title="å°æ•°"></a>å°æ•°</h2><p>@float<br>@float(min,max,dmin,dmax)<br>dminï¼šå°æ•°éƒ¨åˆ†ä½æ•°æœ€å°å€¼<br>dmaxï¼šå°æ•°éƒ¨åˆ†ä½æ•°æœ€å¤§å€¼</p>
<h2 id="æ•´æ•°æ•´ç»„"><a href="#æ•´æ•°æ•´ç»„" class="headerlink" title="æ•´æ•°æ•´ç»„"></a>æ•´æ•°æ•´ç»„</h2><p>@range(min,max)<br>@range(min,max,step)<br> stepï¼šé€’å¢çš„æ­¥é•¿</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">@range(10)</span><br><span class="line">&#x2F;&#x2F; &#x3D;&gt; [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]</span><br><span class="line">@range(3, 7)</span><br><span class="line">&#x2F;&#x2F; &#x3D;&gt; [3, 4, 5, 6]</span><br><span class="line">@range(1, 10, 2)</span><br><span class="line">&#x2F;&#x2F; &#x3D;&gt; [1, 3, 5, 7, 9]</span><br><span class="line">@range(1, 10, 3)</span><br><span class="line">&#x2F;&#x2F; &#x3D;&gt; [1, 4, 7]</span><br><span class="line">12345678</span><br></pre></td></tr></table></figure>

<h1 id="ç”Ÿæˆæ–‡æœ¬"><a href="#ç”Ÿæˆæ–‡æœ¬" class="headerlink" title="ç”Ÿæˆæ–‡æœ¬"></a>ç”Ÿæˆæ–‡æœ¬</h1><h2 id="å•ä¸ªå­—ç¬¦"><a href="#å•ä¸ªå­—ç¬¦" class="headerlink" title="å•ä¸ªå­—ç¬¦"></a>å•ä¸ªå­—ç¬¦</h2><p>@character<br>@character(â€˜lower/upper/number/symbolâ€™)<br>@character(pool)</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">å¦‚æœä¼ å…¥äº† &#96;&#39;lower&#39;&#96; æˆ– &#96;&#39;upper&#39;&#96;ã€&#96;&#39;number&#39;&#96;ã€&#96;&#39;symbol&#39;&#96;ï¼Œè¡¨ç¤ºä»å†…ç½®çš„å­—ç¬¦æ± ä¸­é€‰å–ä¸€ä¸ªå­—ç¬¦ï¼š</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    lower: &quot;abcdefghijklmnopqrstuvwxyz&quot;,</span><br><span class="line">    upper: &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;,</span><br><span class="line">    number: &quot;0123456789&quot;,</span><br><span class="line">    symbol: &quot;!@#$%^&amp;*()[]&quot;</span><br><span class="line">&#125;</span><br><span class="line">123456</span><br></pre></td></tr></table></figure>

<h2 id="å­—ç¬¦ä¸²"><a href="#å­—ç¬¦ä¸²" class="headerlink" title="å­—ç¬¦ä¸²"></a>å­—ç¬¦ä¸²</h2><p>@string<br>@string(length)<br>@string(min,max)</p>
<h2 id="è‹±æ–‡å•è¯"><a href="#è‹±æ–‡å•è¯" class="headerlink" title="è‹±æ–‡å•è¯"></a>è‹±æ–‡å•è¯</h2><p>@word<br>@word(length)<br>@word(min,max)</p>
<h2 id="è‹±æ–‡å¥å­"><a href="#è‹±æ–‡å¥å­" class="headerlink" title="è‹±æ–‡å¥å­"></a>è‹±æ–‡å¥å­</h2><p>@sentence<br>@sentence(len)<br>@sentence(min,max)</p>
<h2 id="è‹±æ–‡æ®µè½"><a href="#è‹±æ–‡æ®µè½" class="headerlink" title="è‹±æ–‡æ®µè½"></a>è‹±æ–‡æ®µè½</h2><p>@paragraph<br>@paragraph(len)<br>@paragraph(min,max)</p>
<h2 id="ä¸­æ–‡æ±‰å­—"><a href="#ä¸­æ–‡æ±‰å­—" class="headerlink" title="ä¸­æ–‡æ±‰å­—"></a>ä¸­æ–‡æ±‰å­—</h2><p>@cword<br>@cword(pool)<br>@cword(len)<br>@cword(pool,len)<br>@cword(min,max)<br>@cword(pool,min,max)</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">@cword()</span><br><span class="line">&#x2F;&#x2F; &#x3D;&gt; &quot;å¹²&quot;</span><br><span class="line">@cword(&#39;é›¶ä¸€äºŒä¸‰å››äº”å…­ä¸ƒå…«ä¹å&#39;)</span><br><span class="line">&#x2F;&#x2F; &#x3D;&gt; &quot;å…­&quot;</span><br><span class="line">@cword(3)</span><br><span class="line">&#x2F;&#x2F; &#x3D;&gt; &quot;åˆ«é‡‘æ&quot;</span><br><span class="line">@cword(&#39;é›¶ä¸€äºŒä¸‰å››äº”å…­ä¸ƒå…«ä¹å&#39;, 3)</span><br><span class="line">&#x2F;&#x2F; &#x3D;&gt; &quot;&quot;ä¸ƒä¸ƒä¸ƒ&quot;&quot;</span><br><span class="line">@cword(5, 7)</span><br><span class="line">&#x2F;&#x2F; &#x3D;&gt; &quot;è®¾è¿‡è¯å…¨äº‰å¬&quot;</span><br><span class="line">@cword(&#39;é›¶ä¸€äºŒä¸‰å››äº”å…­ä¸ƒå…«ä¹å&#39;, 5, 7)</span><br><span class="line">&#x2F;&#x2F; &#x3D;&gt; &quot;ä¹ä¸ƒä¸ƒé›¶å››&quot;</span><br><span class="line">123456789101112</span><br></pre></td></tr></table></figure>

<h2 id="ä¸­æ–‡å¥å­"><a href="#ä¸­æ–‡å¥å­" class="headerlink" title="ä¸­æ–‡å¥å­"></a>ä¸­æ–‡å¥å­</h2><p>@csentence<br>@csentence(len)<br>@csentence(min,max)</p>
<h2 id="ä¸­æ–‡æ®µè½"><a href="#ä¸­æ–‡æ®µè½" class="headerlink" title="ä¸­æ–‡æ®µè½"></a>ä¸­æ–‡æ®µè½</h2><p>@cparagraph<br>@cparagraph(len)<br>@cparagraph(min,max)</p>
<h2 id="ä¸­æ–‡æ ‡é¢˜"><a href="#ä¸­æ–‡æ ‡é¢˜" class="headerlink" title="ä¸­æ–‡æ ‡é¢˜"></a>ä¸­æ–‡æ ‡é¢˜</h2><p>@ctitle<br>@ctitle(len)<br>@ctitle(min,max)</p>
<h1 id="ç”Ÿæˆåå­—"><a href="#ç”Ÿæˆåå­—" class="headerlink" title="ç”Ÿæˆåå­—"></a>ç”Ÿæˆåå­—</h1><h2 id="è‹±æ–‡å"><a href="#è‹±æ–‡å" class="headerlink" title="è‹±æ–‡å"></a>è‹±æ–‡å</h2><p>@first<br>å<br>@last<br> å§“<br>@name<br> å§“å<br>@name(middle)<br> middleï¼šæ˜¯å¦ç”Ÿæˆä¸­é—´åå­—</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">@name()</span><br><span class="line">&#x2F;&#x2F; &#x3D;&gt; &quot;Larry Wilson&quot;</span><br><span class="line">@name(true)</span><br><span class="line">&#x2F;&#x2F; &#x3D;&gt; &quot;Helen Carol Martinez&quot;</span><br><span class="line">1234</span><br></pre></td></tr></table></figure>

<h2 id="ä¸­æ–‡å"><a href="#ä¸­æ–‡å" class="headerlink" title="ä¸­æ–‡å"></a>ä¸­æ–‡å</h2><p>@cfirst<br> å§“<br>@clast<br> å<br>@cname<br> å§“å</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">@cname()</span><br><span class="line">&#x2F;&#x2F; &#x3D;&gt; &quot;è¢å†›&quot;</span><br><span class="line">12</span><br></pre></td></tr></table></figure>

<h1 id="ç½‘ç«™"><a href="#ç½‘ç«™" class="headerlink" title="ç½‘ç«™"></a>ç½‘ç«™</h1><h2 id="ç”Ÿæˆä¸€ä¸ªIP"><a href="#ç”Ÿæˆä¸€ä¸ªIP" class="headerlink" title="ç”Ÿæˆä¸€ä¸ªIP"></a>ç”Ÿæˆä¸€ä¸ªIP</h2><p>@ip</p>
<h2 id="ç”Ÿæˆä¸€ä¸ªEmail"><a href="#ç”Ÿæˆä¸€ä¸ªEmail" class="headerlink" title="ç”Ÿæˆä¸€ä¸ªEmail"></a>ç”Ÿæˆä¸€ä¸ªEmail</h2><p>@email<br>@email(domain)<br> domainï¼šæŒ‡å®šåŸŸå</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">@email()</span><br><span class="line">&#x2F;&#x2F; &#x3D;&gt; &quot;x.davis@jackson.edu&quot;</span><br><span class="line">@email(&#39;nuysoft.com&#39;)</span><br><span class="line">&#x2F;&#x2F; &#x3D;&gt; &quot;h.pqpneix@nuysoft.com&quot;</span><br><span class="line">1234</span><br></pre></td></tr></table></figure>

<h2 id="ç”ŸæˆåŸŸå"><a href="#ç”ŸæˆåŸŸå" class="headerlink" title="ç”ŸæˆåŸŸå"></a>ç”ŸæˆåŸŸå</h2><p>@domain</p>
<h2 id="ç”ŸæˆURL"><a href="#ç”ŸæˆURL" class="headerlink" title="ç”ŸæˆURL"></a>ç”ŸæˆURL</h2><p>@url<br>@url(protocol,host)<br> protocolï¼šæŒ‡å®šåè®®ï¼Œä¾‹å¦‚HTTP<br> hostï¼šæŒ‡å®šåŸŸå</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">@url()</span><br><span class="line">&#x2F;&#x2F; &#x3D;&gt; &quot;mid:&#x2F;&#x2F;axmg.bg&#x2F;bhyq&quot;</span><br><span class="line">@url(&#39;http&#39;)</span><br><span class="line">&#x2F;&#x2F; &#x3D;&gt; &quot;http:&#x2F;&#x2F;splap.yu&#x2F;qxzkyoubp&quot;</span><br><span class="line">@url(&#39;http&#39;, &#39;nuysoft.com&#39;)</span><br><span class="line">&#x2F;&#x2F; &#x3D;&gt; &quot;http:&#x2F;&#x2F;nuysoft.com&#x2F;ewacecjhe&quot;</span><br><span class="line">123456</span><br></pre></td></tr></table></figure>

<h1 id="ç”Ÿæˆæ—¶é—´"><a href="#ç”Ÿæˆæ—¶é—´" class="headerlink" title="ç”Ÿæˆæ—¶é—´"></a>ç”Ÿæˆæ—¶é—´</h1><h2 id="åŸºæœ¬ç”¨æ³•"><a href="#åŸºæœ¬ç”¨æ³•" class="headerlink" title="åŸºæœ¬ç”¨æ³•"></a>åŸºæœ¬ç”¨æ³•</h2><p>@date<br>@time<br>@datetime</p>
<h2 id="æ ¼å¼åŒ–æ—¶é—´"><a href="#æ ¼å¼åŒ–æ—¶é—´" class="headerlink" title="æ ¼å¼åŒ–æ—¶é—´"></a>æ ¼å¼åŒ–æ—¶é—´</h2><p>å¯ä»¥é€šè¿‡ format å‚æ•°è®¾ç½®æ—¶é—´çš„æ ¼å¼</p>
<p>@date(format)<br>@time(format)<br>@datetime(format)</p>
<table>
<thead>
<tr>
<th>Format</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead>
<tbody><tr>
<td>yyyy</td>
<td>A full numeric representation of a year, 4 digits</td>
<td>1999 or 2003</td>
</tr>
<tr>
<td>yy</td>
<td>A two digit representation of a year</td>
<td>99 or 03</td>
</tr>
<tr>
<td>y</td>
<td>A two digit representation of a year</td>
<td>99 or 03</td>
</tr>
<tr>
<td>MM</td>
<td>Numeric representation of a month, with leading zeros</td>
<td>01 to 12</td>
</tr>
<tr>
<td>M</td>
<td>Numeric representation of a month, without leading zeros</td>
<td>1 to 12</td>
</tr>
<tr>
<td>dd</td>
<td>Day of the month, 2 digits with leading zeros</td>
<td>01 to 31</td>
</tr>
<tr>
<td>d</td>
<td>Day of the month without leading zeros</td>
<td>1 to 31</td>
</tr>
<tr>
<td>HH</td>
<td>24-hour format of an hour with leading zeros</td>
<td>00 to 23</td>
</tr>
<tr>
<td>H</td>
<td>24-hour format of an hour without leading zeros</td>
<td>0 to 23</td>
</tr>
<tr>
<td>hh</td>
<td>12-hour format of an hour without leading zeros</td>
<td>1 to 12</td>
</tr>
<tr>
<td>h</td>
<td>12-hour format of an hour with leading zeros</td>
<td>01 to 12</td>
</tr>
<tr>
<td>mm</td>
<td>Minutes, with leading zeros</td>
<td>00 to 59</td>
</tr>
<tr>
<td>m</td>
<td>Minutes, without leading zeros</td>
<td>0 to 59</td>
</tr>
<tr>
<td>ss</td>
<td>Seconds, with leading zeros</td>
<td>00 to 59</td>
</tr>
<tr>
<td>s</td>
<td>Seconds, without leading zeros</td>
<td>0 to 59</td>
</tr>
<tr>
<td>SS</td>
<td>Milliseconds, with leading zeros</td>
<td>000 to 999</td>
</tr>
<tr>
<td>S</td>
<td>Milliseconds, without leading zeros</td>
<td>0 to 999</td>
</tr>
<tr>
<td>A</td>
<td>Uppercase Ante meridiem and Post meridiem</td>
<td>AM or PM</td>
</tr>
<tr>
<td>a</td>
<td>Lowercase Ante meridiem and Post meridiem</td>
<td>am or pm</td>
</tr>
<tr>
<td>T</td>
<td>Milliseconds, since 1970-1-1 00:00:00 UTC</td>
<td>759883437303</td>
</tr>
</tbody></table>
<h1 id="ç”Ÿæˆåœ°å€"><a href="#ç”Ÿæˆåœ°å€" class="headerlink" title="ç”Ÿæˆåœ°å€"></a>ç”Ÿæˆåœ°å€</h1><h2 id="ç”Ÿæˆä¸­å›½å¤§åŒº"><a href="#ç”Ÿæˆä¸­å›½å¤§åŒº" class="headerlink" title="ç”Ÿæˆä¸­å›½å¤§åŒº"></a>ç”Ÿæˆä¸­å›½å¤§åŒº</h2><p>@region</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">@region()</span><br><span class="line">&#x2F;&#x2F; &#x3D;&gt; &quot;ååŒ—&quot;</span><br><span class="line">12</span><br></pre></td></tr></table></figure>

<h2 id="ç”Ÿæˆçœä»½"><a href="#ç”Ÿæˆçœä»½" class="headerlink" title="ç”Ÿæˆçœä»½"></a>ç”Ÿæˆçœä»½</h2><p>@province</p>
<h2 id="ç”ŸæˆåŸå¸‚"><a href="#ç”ŸæˆåŸå¸‚" class="headerlink" title="ç”ŸæˆåŸå¸‚"></a>ç”ŸæˆåŸå¸‚</h2><p>@city<br>@city(prefix)<br> prefixï¼šå¸ƒå°”å€¼ï¼Œæ˜¯å¦ç”Ÿæˆæ‰€å±çš„çœ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">@city()</span><br><span class="line">&#x2F;&#x2F; &#x3D;&gt; &quot;å”å±±å¸‚&quot;</span><br><span class="line">@city(true)</span><br><span class="line">&#x2F;&#x2F; &#x3D;&gt; &quot;ç¦å»ºçœ æ¼³å·å¸‚&quot;</span><br><span class="line">1234</span><br></pre></td></tr></table></figure>

<h2 id="ç”Ÿæˆå¿"><a href="#ç”Ÿæˆå¿" class="headerlink" title="ç”Ÿæˆå¿"></a>ç”Ÿæˆå¿</h2><p>@county<br>@county(prefix)<br> prefixï¼šå¸ƒå°”å€¼ï¼Œæ˜¯å¦ç”Ÿæˆæ‰€å±çœã€å¸‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">@county()</span><br><span class="line">&#x2F;&#x2F; &#x3D;&gt; &quot;ä¸Šæ­å¿&quot;</span><br><span class="line">@county(true)</span><br><span class="line">&#x2F;&#x2F; &#x3D;&gt; &quot;ç”˜è‚ƒçœ ç™½é“¶å¸‚ ä¼šå®å¿&quot;</span><br><span class="line">1234</span><br></pre></td></tr></table></figure>

<h2 id="ç”Ÿæˆé‚®æ”¿ç¼–ç "><a href="#ç”Ÿæˆé‚®æ”¿ç¼–ç " class="headerlink" title="ç”Ÿæˆé‚®æ”¿ç¼–ç "></a>ç”Ÿæˆé‚®æ”¿ç¼–ç </h2><p>@zip</p>
<h1 id="ç¼–å·"><a href="#ç¼–å·" class="headerlink" title="ç¼–å·"></a>ç¼–å·</h1><h2 id="èº«ä»½è¯"><a href="#èº«ä»½è¯" class="headerlink" title="èº«ä»½è¯"></a>èº«ä»½è¯</h2><p>@ID</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">@id()</span><br><span class="line">&#x2F;&#x2F; &#x3D;&gt; &quot;420000200710091854&quot;</span><br><span class="line">12</span><br></pre></td></tr></table></figure>

<h2 id="GUID"><a href="#GUID" class="headerlink" title="GUID"></a>GUID</h2><p>@guid</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">@guid()</span><br><span class="line">&#x2F;&#x2F; &#x3D;&gt; &quot;662C63B4-FD43-66F4-3328-C54E3FF0D56E&quot;</span><br><span class="line">12</span><br></pre></td></tr></table></figure>

<h1 id="ç”Ÿæˆå›¾ç‰‡"><a href="#ç”Ÿæˆå›¾ç‰‡" class="headerlink" title="ç”Ÿæˆå›¾ç‰‡"></a>ç”Ÿæˆå›¾ç‰‡</h1><h2 id="å›¾ç‰‡URL"><a href="#å›¾ç‰‡URL" class="headerlink" title="å›¾ç‰‡URL"></a>å›¾ç‰‡URL</h2><p>@image()<br>@image( size )<br>@image( size, background )<br>@image( size, background, text )<br>@image( size, background, foreground, text )<br>@image( size, background, foreground, format, text )<br> sizeï¼šå°ºå¯¸ï¼Œæ ¼å¼ä¸ºï¼šâ€˜å®½xé«˜â€™<br> backgroundï¼šèƒŒæ™¯è‰²ï¼Œæ ¼å¼ä¸ºï¼š#FFFFFF<br> textï¼šå›¾ç‰‡ä¸Šæ˜¾ç¤ºçš„æ–‡æœ¬<br> foregroundï¼šå¹¿æœ¬é¢œè‰²<br> formatï¼šå›¾ç‰‡æ ¼å¼ï¼Œå¯é€‰å€¼åŒ…æ‹¬ï¼špngã€gifã€jpgã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">@image()</span><br><span class="line">&#x2F;&#x2F; &#x3D;&gt; &quot;http:&#x2F;&#x2F;dummyimage.com&#x2F;125x125&quot;</span><br><span class="line">@image(&#39;200x100&#39;)</span><br><span class="line">&#x2F;&#x2F; &#x3D;&gt; &quot;http:&#x2F;&#x2F;dummyimage.com&#x2F;200x100&quot;</span><br><span class="line">@image(&#39;200x100&#39;, &#39;#fb0a2a&#39;)</span><br><span class="line">&#x2F;&#x2F; &#x3D;&gt; &quot;http:&#x2F;&#x2F;dummyimage.com&#x2F;200x100&#x2F;fb0a2a&quot;</span><br><span class="line">@image(&#39;200x100&#39;, &#39;#02adea&#39;, &#39;Hello&#39;)</span><br><span class="line">&#x2F;&#x2F; &#x3D;&gt; &quot;http:&#x2F;&#x2F;dummyimage.com&#x2F;200x100&#x2F;02adea&amp;text&#x3D;Hello&quot;</span><br><span class="line">@image(&#39;200x100&#39;, &#39;#00405d&#39;, &#39;#FFF&#39;, &#39;Mock.js&#39;)</span><br><span class="line">&#x2F;&#x2F; &#x3D;&gt; &quot;http:&#x2F;&#x2F;dummyimage.com&#x2F;200x100&#x2F;00405d&#x2F;FFF&amp;text&#x3D;Mock.js&quot;</span><br><span class="line">@image(&#39;200x100&#39;, &#39;#ffcc33&#39;, &#39;#FFF&#39;, &#39;png&#39;, &#39;!&#39;)</span><br><span class="line">&#x2F;&#x2F; &#x3D;&gt; &quot;http:&#x2F;&#x2F;dummyimage.com&#x2F;200x100&#x2F;ffcc33&#x2F;FFF.png&amp;text&#x3D;!&quot;</span><br><span class="line">123456789101112</span><br></pre></td></tr></table></figure>

<h2 id="Base64å›¾ç‰‡ç¼–ç "><a href="#Base64å›¾ç‰‡ç¼–ç " class="headerlink" title="Base64å›¾ç‰‡ç¼–ç "></a>Base64å›¾ç‰‡ç¼–ç </h2><p>@dataImage<br>@dataImage(size)<br>@dataImage(size,text)</p>
<h1 id="ç”Ÿæˆé¢œè‰²"><a href="#ç”Ÿæˆé¢œè‰²" class="headerlink" title="ç”Ÿæˆé¢œè‰²"></a>ç”Ÿæˆé¢œè‰²</h1><p>@color<br>@hex<br>@rgb<br>@rgba<br>@hsl<br><img src="https://img-blog.csdnimg.cn/20181122001849623.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzIwMTAxNQ==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
]]></content>
      <categories>
        <category>mock</category>
      </categories>
      <tags>
        <tag>mock</tag>
        <tag>mockè¯­æ³•</tag>
      </tags>
  </entry>
  <entry>
    <title>mdUse</title>
    <url>/2020/07/14/mdUse/</url>
    <content><![CDATA[<h3 id="æ ‡é¢˜-å·è¶Šå¤šå­—è¶Šå°"><a href="#æ ‡é¢˜-å·è¶Šå¤šå­—è¶Šå°" class="headerlink" title="æ ‡é¢˜(#å·è¶Šå¤šå­—è¶Šå°)"></a>æ ‡é¢˜(#å·è¶Šå¤šå­—è¶Šå°)</h3><p><img src="http://cdn.sspai.com/attachment/thumbnail/2014/04/15/620e64aa6522f5eaeb788a8b5f1faa5c10f74_mw_800_wm_1_wmp_3.jpg" alt="img"></p>
<hr>
<a id="more"></a>

<h3 id="åˆ—è¡¨ï¼ˆæ— åºç”¨â€˜-â€™æœ‰åºç”¨â€˜1-â€™ï¼‰"><a href="#åˆ—è¡¨ï¼ˆæ— åºç”¨â€˜-â€™æœ‰åºç”¨â€˜1-â€™ï¼‰" class="headerlink" title="åˆ—è¡¨ï¼ˆæ— åºç”¨â€˜*/-/+â€™æœ‰åºç”¨â€˜1.â€™ï¼‰"></a>åˆ—è¡¨ï¼ˆæ— åºç”¨â€˜*/-/+â€™æœ‰åºç”¨â€˜1.â€™ï¼‰</h3><p><img src="http://cdn.sspai.com/attachment/thumbnail/2014/04/15/a72338b96cf4bfc1dacd610756786ae310f75_mw_800_wm_1_wmp_3.jpg" alt="img"></p>
<hr>
<h3 id="å¼•ç”¨ä¸€å°æ®µåˆ«å¤„çš„å¥å­-ä½¿ç”¨â€™-gt-â€™"><a href="#å¼•ç”¨ä¸€å°æ®µåˆ«å¤„çš„å¥å­-ä½¿ç”¨â€™-gt-â€™" class="headerlink" title="å¼•ç”¨ä¸€å°æ®µåˆ«å¤„çš„å¥å­(ä½¿ç”¨â€™&gt;â€™)"></a>å¼•ç”¨ä¸€å°æ®µåˆ«å¤„çš„å¥å­(ä½¿ç”¨â€™&gt;â€™)</h3><blockquote>
<p>å¼•ç”¨ä¸€å°æ®µåˆ«å¤„çš„å¥å­</p>
</blockquote>
<blockquote>
<p>ä¸€çº§</p>
<blockquote>
<p>äºŒçº§</p>
</blockquote>
</blockquote>
<blockquote>
<blockquote>
<blockquote>
<p>ä¸‰çº§</p>
</blockquote>
</blockquote>
</blockquote>
<p><img src="http://cdn.sspai.com/attachment/thumbnail/2014/04/15/07bd8bf6fd38ea7d3bffdc3cae04f6f210f76_mw_800_wm_1_wmp_3.jpg" alt="img"></p>
<hr>
<h3 id="å›¾ç‰‡ä¸é“¾æ¥-åŒºåˆ«åœ¨äºæœ‰æ— â€™-â€™"><a href="#å›¾ç‰‡ä¸é“¾æ¥-åŒºåˆ«åœ¨äºæœ‰æ— â€™-â€™" class="headerlink" title="å›¾ç‰‡ä¸é“¾æ¥(åŒºåˆ«åœ¨äºæœ‰æ— â€™!â€™)"></a>å›¾ç‰‡ä¸é“¾æ¥(åŒºåˆ«åœ¨äºæœ‰æ— â€™!â€™)</h3><p>å¤‡æ³¨ï¼šæ’å…¥å›¾ç‰‡çš„åœ°å€éœ€è¦å›¾åºŠï¼Œè¿™é‡Œæ¨è CloudApp çš„æœåŠ¡ï¼Œç”ŸæˆURLåœ°å€å³å¯ã€‚</p>
<p><img src="http://cdn.sspai.com/attachment/thumbnail/2014/04/15/f96c892fc63933ab186235f7c910753b10f77_mw_800_wm_1_wmp_3.jpg" alt="img"></p>
<hr>
<h3 id="ç²—ä½“ä¸æ–œä½“ä¸åˆ é™¤-å·¦å³ä¸¤ä¸ª-â€˜-â€™-å·¦å³ä¸€ä¸ª-â€˜-â€™-å·¦å³ä¸¤ä¸ªâ€˜-â€™"><a href="#ç²—ä½“ä¸æ–œä½“ä¸åˆ é™¤-å·¦å³ä¸¤ä¸ª-â€˜-â€™-å·¦å³ä¸€ä¸ª-â€˜-â€™-å·¦å³ä¸¤ä¸ªâ€˜-â€™" class="headerlink" title="ç²—ä½“ä¸æ–œä½“ä¸åˆ é™¤(å·¦å³ä¸¤ä¸ª â€˜*â€™ /å·¦å³ä¸€ä¸ª â€˜ *â€™/å·¦å³ä¸¤ä¸ªâ€˜~~â€™)"></a>ç²—ä½“ä¸æ–œä½“ä¸åˆ é™¤(å·¦å³ä¸¤ä¸ª â€˜*â€™ /å·¦å³ä¸€ä¸ª â€˜ *â€™/å·¦å³ä¸¤ä¸ªâ€˜~~â€™)</h3><blockquote>
<p><strong>æˆ‘åŠ ç²—äº†</strong>  <em>æˆ‘æ˜¯æ–œä½“</em>    <del>åˆ é™¤</del></p>
</blockquote>
<hr>
<h3 id="ä»£ç æ¡†ï¼ˆç”¨â€™-â€™åŒ…è£¹ï¼‰"><a href="#ä»£ç æ¡†ï¼ˆç”¨â€™-â€™åŒ…è£¹ï¼‰" class="headerlink" title="ä»£ç æ¡†ï¼ˆç”¨â€™`â€™åŒ…è£¹ï¼‰"></a>ä»£ç æ¡†ï¼ˆç”¨â€™`â€™åŒ…è£¹ï¼‰</h3><p><img src="http://cdn.sspai.com/attachment/thumbnail/2014/04/15/0135456d6a3c1051f0ed54e37cef070010f78_mw_800_wm_1_wmp_3.jpg" alt="img"></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// æ³¨æ„javaå‰é¢æœ‰ç©ºæ ¼</span></span><br><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">    setContentView(R.layout.activity_main);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="åˆ†å‰²çº¿ï¼ˆä¸‰ä¸ªâ€˜-â€™ï¼‰"><a href="#åˆ†å‰²çº¿ï¼ˆä¸‰ä¸ªâ€˜-â€™ï¼‰" class="headerlink" title="åˆ†å‰²çº¿ï¼ˆä¸‰ä¸ªâ€˜***â€™ï¼‰"></a>åˆ†å‰²çº¿ï¼ˆä¸‰ä¸ªâ€˜***â€™ï¼‰</h3><hr>
<h3 id="è¡¨æ ¼-é»˜è®¤å·¦å¯¹é½"><a href="#è¡¨æ ¼-é»˜è®¤å·¦å¯¹é½" class="headerlink" title="è¡¨æ ¼(é»˜è®¤å·¦å¯¹é½)"></a>è¡¨æ ¼(é»˜è®¤å·¦å¯¹é½)</h3><table>
<thead>
<tr>
<th align="left">å·¦å¯¹é½</th>
<th align="right">å³å¯¹é½</th>
<th align="center">å±…ä¸­å¯¹é½</th>
</tr>
</thead>
<tbody><tr>
<td align="left">å•å…ƒæ ¼</td>
<td align="right">å•å…ƒæ ¼</td>
<td align="center">å•å…ƒæ ¼</td>
</tr>
<tr>
<td align="left">å•å…ƒæ ¼</td>
<td align="right">å•å…ƒæ ¼</td>
<td align="center">å•å…ƒæ ¼</td>
</tr>
</tbody></table>
<hr>
<h3 id="è„šæ³¨"><a href="#è„šæ³¨" class="headerlink" title="è„šæ³¨"></a>è„šæ³¨</h3><p>ä½ å¯ä»¥åœ¨éœ€è¦æ’å…¥è„šæ³¨æ ‡å·çš„ä½ç½®å†™ <code>[^ number ]</code> ï¼Œå†åœ¨ä¸‹æ–¹é€šè¿‡ <code>[^ number ]:</code> åœ¨æ–‡æ¡£ä¸­æ’å…¥è„šæ³¨ã€‚æ³¨æ„ä¸è¦é—æ¼äº†è„šæ³¨ç¼–å· <code>number</code> å‰åçš„ç©ºæ ¼ã€‚</p>
<p><img src="https://cdn.sspai.com/2019/05/24/5f82606e6d89fe1eb24705c4ca6b895d.png?imageView2/2/w/1120/q/90/interlace/1/ignore-error/1" alt="img"></p>
<p>è¿™é‡Œæ˜¯è„šæ³¨<a href="https://www.baidu.com" target="_blank" rel="noopener">^1</a></p>
<hr>
<h3 id="emoji"><a href="#emoji" class="headerlink" title="emoji"></a>emoji</h3><p>åœ¨ Typora ä¸­ï¼Œä½ å¯ä»¥ç”¨ <code>:emoji:</code> çš„å½¢å¼æ¥æ‰“å‡º emojiï¼Œè½¯ä»¶ä¼šè‡ªåŠ¨ç»™å‡ºå›¾å½¢çš„æç¤ºï¼Œè¿˜æ˜¯æ¯”è¾ƒå¥½ç”¨çš„ã€‚</p>
<p><img src="https://cdn.sspai.com/2019/05/24/ff26eeb5ff2d6fae16cab163ebfcd096.png?imageView2/2/w/1120/q/90/interlace/1/ignore-error/1" alt="img"></p>
<p>:horse:</p>
<hr>
<h3 id="å¸¸ç”¨å¼¥è¡¥Markdownçš„Htmlæ ‡ç­¾"><a href="#å¸¸ç”¨å¼¥è¡¥Markdownçš„Htmlæ ‡ç­¾" class="headerlink" title="å¸¸ç”¨å¼¥è¡¥Markdownçš„Htmlæ ‡ç­¾"></a>å¸¸ç”¨å¼¥è¡¥Markdownçš„Htmlæ ‡ç­¾</h3><p><span style="color:red">This is red</span></p>
<p align="left">å±…å·¦æ–‡æœ¬</p>
<p align="center">å±…ä¸­æ–‡æœ¬</p> 
<p align="right">å±…å³æ–‡æœ¬</p>

<p>æ¢è¡Œ<br></p>
<p>æ¢è¡Œå</p>
<p><u>æˆ‘æ˜¯ä¸‹åˆ’çº¿<u></u></u></p>
<hr>
<h3 id="æ‰“å¼€å…¨å±€æœç´¢"><a href="#æ‰“å¼€å…¨å±€æœç´¢" class="headerlink" title="æ‰“å¼€å…¨å±€æœç´¢"></a>æ‰“å¼€å…¨å±€æœç´¢</h3><p>ctrl+shift+F</p>
<h3 id="å‡ æ¬¾ä¸»æµå¥½ç”¨çš„markdownç¼–è¾‘å™¨ä»‹ç»"><a href="#å‡ æ¬¾ä¸»æµå¥½ç”¨çš„markdownç¼–è¾‘å™¨ä»‹ç»" class="headerlink" title="å‡ æ¬¾ä¸»æµå¥½ç”¨çš„markdownç¼–è¾‘å™¨ä»‹ç»"></a>å‡ æ¬¾ä¸»æµå¥½ç”¨çš„markdownç¼–è¾‘å™¨ä»‹ç»</h3><ol>
<li><p>Mou</p>
<p> Mou æ˜¯ä¸€æ¬¾ç”±å›½äººå¼€å‘çš„Markdown ç¼–è¾‘å™¨ï¼Œæ”¯æŒå®æ—¶é¢„è§ˆï¼Œä½†æ˜¯ä»…æ”¯æŒ è‹¹æœæ“ä½œç³»ç»Ÿï¼Œå¯ä»¥è¯´æ˜¯ç›®å‰æœ€å¥½ç”¨çš„å…è´¹ Markdown ç¼–è¾‘å™¨ï¼Œå¯¹æ±‰å­—å…¼å®¹æ€§éå¸¸å¥½ã€‚æä¾›è¯­æ³•é«˜äº®ã€åœ¨çº¿é¢„è§ˆã€åŒæ­¥æ»šåŠ¨ã€å…¨å±æ¨¡å¼ï¼Œæ”¯æŒè‡ªå®šä¿å­˜ã€è‡ªåŠ¨åŒ¹é…ï¼Œå…è®¸è‡ªå®šä¹‰ä¸»é¢˜ç­‰ç­‰ã€‚æ”¯æŒ CSSï¼ŒHTML å’Œ PDF å¯¼å‡ºç­‰åŠŸèƒ½ã€‚</p>
<p>   ã€€Mouæ˜¯ç‹¬ç«‹çš„è½¯ä»¶ã€‚</p>
<p>   ã€€æ›´å¤šä»‹ç»åŠä¸‹è½½ï¼š<a href="http://25.io/mou/" target="_blank" rel="noopener">http://25.io/mou/</a></p>
</li>
<li><p>MarkdownPad</p>
<p> MarkdownPadè¢«å¾ˆå¤šäººç§°èµä¸ºwindowsä¸‹æœ€å¥½ç”¨çš„Markdownç¼–è¾‘å™¨ä¹‹ä¸€ï¼Œä¸è¿‡ä»…æ”¯æŒwindowsã€‚å®ƒæœ‰å…è´¹ç‰ˆå’Œæ”¶è´¹ç‰ˆï¼ˆMarkdownPad Proï¼‰ï¼Œä¸€èˆ¬æƒ…å†µä¸‹å…è´¹ç‰ˆå°±å¤Ÿç”¨äº†ï¼Œæƒ³ç”¨proç‰ˆçš„å¯ä»¥è‡ªè¡Œç½‘ä¸Šä¸‹è½½ï¼Œå¼ºå¤§çš„å›½äººcrackæ— å¤„ä¸åœ¨çš„~ ~ã€‚</p>
<p>   ã€€MarkdownPadæ”¯æŒé”®ç›˜å¿«æ·é”®å’Œå·¥å…·æ æ“ä½œï¼Œå³å¯æ·»åŠ æ ‡è®°ä¹Ÿå¯ç§»é™¤ï¼Œæ”¯æŒå³æ—¶HTMLé¢„è§ˆã€æ”¯æŒè‡ªå®šä¹‰é…è‰²æ–¹æ¡ˆã€å­—ä½“ã€å¤§å°å’Œå¸ƒå±€ã€æ”¯æŒéŸ³ä¹è§†é¢‘ï¼Œå¯ä»¥å¯¼å‡ºHTMLå’ŒPDFã€‚</p>
<p>   ã€€MarkdownPadæ˜¯ç‹¬ç«‹çš„è½¯ä»¶ã€‚</p>
<p>   ã€€æ›´å¤šä»‹ç»åŠä¸‹è½½ï¼š<a href="http://markdownpad.com/" target="_blank" rel="noopener">http://markdownpad.com/</a></p>
</li>
<li><p>Typora (æœ¬æ–‡å°±æ˜¯ç”¨çš„è¿™ä¸ªè½¯ä»¶å“¦)</p>
<p> Typoraä¹Ÿæ˜¯éå¸¸ç”¨åï¼Œéå¸¸å¥½ç”¨çš„markdownç¼–è¾‘å™¨ï¼Œå®ƒçš„è®¾è®¡ç†å¿µå¾ˆä¸ä¸€æ ·ï¼Œæ˜¯çœŸæ­£çš„å³æ—¶é¢„è§ˆå‹ç¼–è¾‘å™¨ï¼Œä¸åŒäºå·¦å³ä¸¤ä¸ªçª—å£çš„ç¼–è¾‘å™¨ã€‚Typoraçš„è®¾è®¡ç†å¿µå°±æ˜¯æè‡´ç®€æ´ï¼Œå®ƒå°†ã€Œå†™å­—ã€å’Œã€Œé¢„è§ˆã€è¿™ä¸¤ä»¶äº‹æƒ…åˆå¹¶äº†ã€‚</p>
<p>   ã€€å¦‚æœè¦ä¿®æ”¹å·²ç»å†™å¥½çš„markdownæ ‡è®°å¯ä»¥ç‚¹å‡»åˆ‡æ¢åˆ°â€œæºä»£ç æ¨¡å¼â€ã€‚</p>
<p>   ã€€Typora åŒæ ·æ”¯æŒ Windowsã€OS X å’Œ Linuxå¤šä¸ªæ“ä½œç³»ç»Ÿï¼Œæ”¯æŒæ•°å­¦ç¼–è¾‘ï¼Œå¯ä¸ Word ç›´æ¥æ ¼å¼è½¬æ¢ï¼Œå¯ä»¥è¿›è¡Œå¤šç§æ–‡æ¡£æ ¼å¼è½¬æ¢ã€‚Typora æµç•…åº¦å’Œååº”é€Ÿåº¦å¾ˆå¿«ï¼Œç‰¹åˆ«é€‚åˆé‚£äº›æ‰‹é€Ÿå¿«çš„äººã€‚</p>
<p>   ã€€Typoraæ˜¯ç‹¬ç«‹çš„è½¯ä»¶ã€‚</p>
<p>   ã€€æ›´å¤šä»‹ç»åŠä¸‹è½½ï¼š<a href="https://www.typora.io/" target="_blank" rel="noopener">https://www.typora.io/</a></p>
</li>
<li><p>Atom</p>
<p> Atom å¯ä»¥è¯´æ˜¯ä¸“é—¨ä¸ºç¨‹åºå‘˜æ¨å‡ºçš„ä¸€ä¸ªæ–‡æœ¬ç¼–è¾‘å™¨ï¼Œç•Œé¢ç®€æ´ï¼Œæ”¯æŒå®æ—¶é¢„è§ˆã€‚åŠŸèƒ½éå¸¸å¤šï¼Œé™¤äº†MarkdownåŒæ—¶æ”¯æŒCSSï¼ŒHTMLï¼ŒJavaScriptç­‰ç½‘é¡µç¼–ç¨‹è¯­è¨€ï¼Œè¿˜æ”¯æŒå®å®šä¹‰ï¼Œè‡ªåŠ¨åˆ†å±åŠŸèƒ½ç­‰ã€‚Atomè¿˜å…·æœ‰è¯­ä¹‰è¾“å…¥æ¨¡å¼ï¼Œæ¯”ä¾‹è¾“å…¥codeå³ä¼šè‡ªåŠ¨å¼€å¯ä»£ç æ¨¡å¼ã€‚</p>
<p>   ã€€Atomæ”¯æŒwindowsã€è‹¹æœã€linuxç­‰å¤šç§æ“ä½œç³»ç»Ÿã€‚Atomæ˜¯ç”±è‘—åçš„githubå¹³å°å‡ºå“çš„ã€‚</p>
<p>   ã€€Atomæ˜¯ç‹¬ç«‹çš„è½¯ä»¶ï¼Œä¹Ÿæ”¯æŒæ’ä»¶æ–¹å¼ã€‚</p>
<p>   ã€€æ›´å¤šä»‹ç»åŠä¸‹è½½ï¼š<a href="https://atom.io/" target="_blank" rel="noopener">https://atom.io/</a></p>
</li>
<li><p>Haroopad</p>
<p> Haroopadä¹Ÿæ˜¯ä¸€æ¬¾éå¸¸æµè¡Œçš„ç¼–è¾‘å™¨ï¼Œæ¥è‡ªéŸ©å›½ã€‚Haroopadæ”¯æŒ Windowsã€Mac OS X å’Œ Linuxä¸‰å¤§æ“ä½œç³»ç»Ÿã€‚Haroopadçš„ç‰¹è‰²æ˜¯ä¸»é¢˜æ ·å¼ä¸°å¯Œï¼Œè¯­æ³•é«˜äº®æ”¯æŒæ— æ•°ç§ç¼–ç¨‹è¯­è¨€ï¼Œå‡ ä¹ä½ èƒ½æƒ³åˆ°çš„ç¼–ç¨‹è¯­è¨€ä»–éƒ½æ”¯æŒã€‚Ubuntu/Linux ç”¨æˆ·ä½¿ç”¨è¯¥å·¥å…·æ¯”ä¾‹å¾ˆé«˜ï¼ŒHaroopad ä¹Ÿæ˜¯å¼€æºå…è´¹çš„ã€‚Haroopadä¹Ÿæ”¯æŒå¯¼å‡ºHTMLã€PDFï¼Œä¹Ÿæ”¯æŒæ•°å­¦å…¬å¼å’Œæµç¨‹å›¾ã€‚</p>
<p>   ã€€Haroopadæ˜¯ç‹¬ç«‹çš„è½¯ä»¶ã€‚</p>
<p>   ã€€æ›´å¤šä»‹ç»åŠä¸‹è½½ï¼š<a href="http://pad.haroopress.com/user.html" target="_blank" rel="noopener">http://pad.haroopress.com/user.html</a></p>
</li>
</ol>
<p>å‚è€ƒæ–‡æ¡£ï¼š<a href="https://sspai.com/post/54912" target="_blank" rel="noopener">typora</a></p>
]]></content>
      <categories>
        <category>mysoft</category>
        <category>md</category>
      </categories>
      <tags>
        <tag>soft</tag>
        <tag>md</tag>
      </tags>
  </entry>
  <entry>
    <title>momentJs</title>
    <url>/2020/07/30/momentJs/</url>
    <content><![CDATA[<h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><ul>
<li><p>UTCã€GMTã€æ—¶é—´æˆ³ä¹‹é—´çš„å…³ç³»</p>
<p>æ—¶åŒº</p>
<p>ä¸–ç•Œæ—¶åŒºçš„åˆ’åˆ†ä»¥æœ¬åˆå­åˆçº¿ä¸ºæ ‡å‡†ï¼Œå‘ä¸œ12ä¸ªæ—¶åŒºï¼Œå‘è¥¿12ä¸ªæ—¶åŒºï¼Œå­åˆçº¿æ‰€åœ¨åŒºä¸º0æ—¶åŒºï¼Œä¸œåäºŒåŒºå’Œè¥¿åäºŒåŒºé‡åˆï¼Œæ‰€ä»¥ä¸€å…±æ˜¯24ä¸ªæ—¶åŒºã€‚</p>
</li>
<li><p>GMTå’ŒUTC</p>
<p>GMTï¼š å³æ ¼æ—å¨æ²»æ—¶é—´ï¼ˆGreenwich Mean Timeï¼‰ï¼Œä¹Ÿæ˜¯0æ—¶åŒºçš„æ ‡å‡†æ—¶é—´ã€‚æŒ‡å¤ªé˜³æ¨ªç©¿æ ¼æ—å¨æ²»å­åˆçº¿ï¼ˆæœ¬åˆå­åˆçº¿ï¼‰æ—¶çš„æ—¶é—´ã€‚ä½†ç”±äºåœ°çƒè‡ªè½¬ä¸å‡åŒ€ä¸è§„åˆ™ï¼Œå¯¼è‡´GMTä¸ç²¾ç¡®ï¼Œç°åœ¨å·²ç»ä¸å†ä½œä¸ºä¸–ç•Œæ ‡å‡†æ—¶é—´ä½¿ç”¨ã€‚</p>
<p>UTCï¼š å³åè°ƒä¸–ç•Œæ—¶é—´ï¼ˆCoordinated Universal Timeï¼‰ã€‚UTCæ˜¯ä»¥åŸå­æ—¶ç§’é•¿ä¸ºåŸºç¡€ï¼Œåœ¨æ—¶åˆ»ä¸Šå°½é‡æ¥è¿‘äºGMTçš„ä¸€ç§æ—¶é—´è®¡é‡ç³»ç»Ÿã€‚UTCç°åœ¨ä½œä¸ºä¸–ç•Œæ ‡å‡†æ—¶é—´ä½¿ç”¨ã€‚</p>
<p>æ‰€ä»¥ï¼ŒUTCä¸GMTåŸºæœ¬ä¸Šç­‰åŒï¼Œè¯¯å·®ä¸è¶…è¿‡0.9ç§’ã€‚</p>
</li>
<li><p>æ—¶é—´æˆ³</p>
<p>UNIXæ—¶é—´æˆ³ï¼šæ˜¯ä»UTCæ—¶é—´1970å¹´1æœˆ1æ—¥èµ·åˆ°ç°åœ¨çš„ç§’æ•°ï¼Œä¸è€ƒè™‘é—°ç§’ï¼Œä¸€å¤©æœ‰86400ç§’ï¼Œå®ƒæ˜¯å’Œæ—¶åŒºæ— å…³çš„ï¼Œæ— è®ºåœ¨åœ°çƒä¸Šçš„é‚£ä¸ªè§’è½ï¼ŒåŒä¸€æ—¶åˆ»ï¼ŒUNIXæ—¶é—´æˆ³éƒ½æ˜¯ä¸€æ ·çš„ï¼Œè®¡ç®—æœºçš„æœ¬åœ°æ—¶é—´å°±æ˜¯æ ¹æ® Unixæ—¶é—´æˆ³ + æ—¶åŒºå·® è½¬æ¢è€Œæ¥çš„ã€‚</p>
</li>
<li><p>æœ¬åœ°æ—¶é—´</p>
<p>æœ¬åœ°æ—¶é—´ = UTC + æ—¶åŒºå·®</p>
<p>æ—¶åŒºå·®ï¼šä¸œä¸ºæ­£ï¼Œè¥¿ä¸ºè´Ÿã€‚åœ¨æ­¤ï¼ŒæŠŠä¸œå…«åŒºæ—¶åŒºå·®è®°ä¸º +0800ï¼Œ UTC æ˜¯æ ‡å‡†æ—¶é—´å‚ç…§ï¼ŒGMTï¼ˆæ ¼æ—å¨æ²»æ—¶é—´ï¼‰ã€CSTï¼ˆåŒ—äº¬æ—¶é—´ï¼‰ã€PSTï¼ˆå¤ªå¹³æ´‹æ—¶é—´ï¼‰ç­‰ç­‰æ˜¯å…·ä½“çš„æ—¶åŒºï¼Œå…‘æ¢å¦‚ä¸‹ï¼š</p>
<p>GMT: UTC +0    =    GMT: GMT +0CST: UTC +8    =    CST: GMT +8PST: UTC -8    =    PST: GMT -8</p>
</li>
</ul>
<a id="more"></a>

<h3 id="Momentå®‰è£…ä¸æŒ‚è½½"><a href="#Momentå®‰è£…ä¸æŒ‚è½½" class="headerlink" title="Momentå®‰è£…ä¸æŒ‚è½½"></a>Momentå®‰è£…ä¸æŒ‚è½½</h3><p>å®‰è£…webpack</p>
<p>npm install moment</p>
<p>main.js æŒ‚è½½</p>
<p>import moment from â€˜momentâ€™//å¯¼å…¥æ–‡ä»¶</p>
<p>Vue.prototype.$moment = moment;//èµ‹å€¼ä½¿ç”¨</p>
<p>å›½é™…åŒ–ï¼Œè®¾ç½®ä¸ºç®€ä½“ä¸­æ–‡ï¼Œä¸­æ–‡çš„æ˜ŸæœŸæ˜¯ä»¥æ˜ŸæœŸä¸€å¼€å§‹</p>
<p>moment.locale(â€œzh-cnâ€);</p>
<p>å¸¸ç”¨ä½¿ç”¨æ–¹æ³•</p>
<h3 id="è·å–æ—¶é—´"><a href="#è·å–æ—¶é—´" class="headerlink" title="è·å–æ—¶é—´"></a>è·å–æ—¶é—´</h3><ul>
<li>Start of Time</li>
</ul>
<p>moment().startOf(String)</p>
<ul>
<li><ul>
<li>è·å–ä»Šå¤©0æ—¶0åˆ†0ç§’</li>
</ul>
</li>
</ul>
<p>moment().startOf(â€˜dayâ€™)</p>
<ul>
<li><ul>
<li>è·å–æœ¬å‘¨ç¬¬ä¸€å¤©(å‘¨æ—¥)0æ—¶0åˆ†0ç§’</li>
</ul>
</li>
</ul>
<p>moment().startOf(â€˜weekâ€™)</p>
<ul>
<li><ul>
<li>è·å–æœ¬å‘¨å‘¨ä¸€0æ—¶0åˆ†0ç§’</li>
</ul>
</li>
</ul>
<p>moment().startOf(â€˜isoWeekâ€™)</p>
<ul>
<li><ul>
<li>è·å–å½“å‰æœˆç¬¬ä¸€å¤©0æ—¶0åˆ†0ç§’</li>
</ul>
</li>
</ul>
<p>moment().startOf(â€˜monthâ€™)</p>
<ul>
<li>End of Time</li>
</ul>
<p>moment().endOf(String)</p>
<ul>
<li><ul>
<li>è·å–ä»Šå¤©23æ—¶59åˆ†59ç§’</li>
</ul>
</li>
</ul>
<p>moment().endOf(â€˜dayâ€™)</p>
<ul>
<li><ul>
<li>è·å–æœ¬å‘¨æœ€åä¸€å¤©(å‘¨å…­)23æ—¶59åˆ†59ç§’</li>
</ul>
</li>
</ul>
<p>moment().endOf(â€˜weekâ€™)</p>
<ul>
<li><ul>
<li>è·å–æœ¬å‘¨å‘¨æ—¥23æ—¶59åˆ†59ç§’</li>
</ul>
</li>
</ul>
<p>moment().endOf(â€˜isoWeekâ€™)</p>
<ul>
<li><ul>
<li>è·å–å½“å‰æœˆæœ€åä¸€å¤©23æ—¶59åˆ†59ç§’</li>
</ul>
</li>
</ul>
<p>moment().endOf(â€˜monthâ€™)</p>
<ul>
<li><p>Days in Month</p>
</li>
<li><ul>
<li>è·å–å½“å‰æœˆçš„æ€»å¤©æ•°</li>
</ul>
</li>
</ul>
<p>moment().daysInMonth() </p>
<ul>
<li>Timestamp</li>
</ul>
<ul>
<li><ul>
<li>è·å–æ—¶é—´æˆ³(ä»¥ç§’ä¸ºå•ä½)</li>
</ul>
</li>
</ul>
<ul>
<li><ul>
<li><ol>
<li>moment().format(â€˜Xâ€™) // è¿”å›å€¼ä¸ºå­—ç¬¦ä¸²ç±»å‹</li>
<li>moment().unix() // è¿”å›å€¼ä¸ºæ•°å€¼å‹</li>
</ol>
</li>
</ul>
</li>
</ul>
<ul>
<li><ul>
<li>è·å–æ—¶é—´æˆ³(ä»¥æ¯«ç§’ä¸ºå•ä½)</li>
</ul>
</li>
</ul>
<ul>
<li><ul>
<li><ol>
<li>moment().format(â€˜xâ€™) // è¿”å›å€¼ä¸ºå­—ç¬¦ä¸²ç±»å‹</li>
<li>moment().valueOf() // è¿”å›å€¼ä¸ºæ•°å€¼å‹</li>
</ol>
</li>
</ul>
</li>
</ul>
<ul>
<li>Get Time</li>
</ul>
<ul>
<li><ul>
<li>è·å–å¹´ä»½</li>
</ul>
</li>
</ul>
<ul>
<li><ul>
<li><ol>
<li>moment().year()</li>
<li>moment().get(â€˜yearâ€™)</li>
</ol>
</li>
</ul>
</li>
</ul>
<ul>
<li><ul>
<li>è·å–æœˆä»½</li>
</ul>
</li>
</ul>
<ul>
<li><ul>
<li><ol>
<li>moment().month() (0~11, 0: January, 11: December)</li>
<li>moment().get(â€˜monthâ€™)</li>
</ol>
</li>
</ul>
</li>
</ul>
<ul>
<li><ul>
<li>è·å–ä¸€ä¸ªæœˆä¸­çš„æŸä¸€å¤©</li>
</ul>
</li>
</ul>
<ul>
<li><ul>
<li><ol>
<li>moment().date()</li>
<li>moment().get(â€˜dateâ€™)</li>
</ol>
</li>
</ul>
</li>
</ul>
<ul>
<li><ul>
<li>è·å–ä¸€ä¸ªæ˜ŸæœŸä¸­çš„æŸä¸€å¤©</li>
</ul>
</li>
</ul>
<ul>
<li><ul>
<li><ol>
<li>moment().day() (0~6, 0: Sunday, 6: Saturday)</li>
<li>moment().weekday() (0~6, 0: Sunday, 6: Saturday)</li>
<li>moment().isoWeekday() (1~7, 1: Monday, 7: Sunday)</li>
<li>moment().get(â€˜dayâ€™)</li>
<li>mment().get(â€˜weekdayâ€™)</li>
<li>moment().get(â€˜isoWeekdayâ€™)</li>
</ol>
</li>
</ul>
</li>
</ul>
<ul>
<li><ul>
<li>è·å–å°æ—¶</li>
</ul>
</li>
</ul>
<ul>
<li><ul>
<li><ol>
<li>moment().hours()</li>
<li>moment().get(â€˜hoursâ€™)</li>
</ol>
</li>
</ul>
</li>
</ul>
<ul>
<li><ul>
<li>è·å–åˆ†é’Ÿ</li>
</ul>
</li>
</ul>
<ul>
<li><ul>
<li><ol>
<li>moment().minutes()</li>
<li>moment().get(â€˜minutesâ€™)</li>
</ol>
</li>
</ul>
</li>
</ul>
<ul>
<li><ul>
<li>è·å–ç§’æ•°</li>
</ul>
</li>
</ul>
<ul>
<li><ul>
<li><ol>
<li>moment().seconds()</li>
<li>moment().get(â€˜secondsâ€™)</li>
</ol>
</li>
</ul>
</li>
</ul>
<ul>
<li><ul>
<li>è·å–å½“å‰çš„å¹´æœˆæ—¥æ—¶åˆ†ç§’</li>
</ul>
</li>
</ul>
<ul>
<li><ul>
<li><ol>
<li>moment().toArray() // [years, months, date, hours, minutes, seconds, milliseconds]</li>
<li>moment().toObject() // {years: xxxx, months: x, date: xx â€¦}</li>
</ol>
</li>
</ul>
</li>
</ul>
<p>è®¾ç½®æ—¶é—´</p>
<ul>
<li>Set Time</li>
</ul>
<ul>
<li><ol>
<li>moment().year(Number), moment().month(Number)â€¦</li>
<li>moment().set(String, Int)</li>
<li>moment().set(Object)</li>
</ol>
</li>
</ul>
<ul>
<li><ul>
<li>è®¾ç½®å¹´ä»½</li>
</ul>
</li>
</ul>
<ul>
<li><ul>
<li><ol>
<li>moment().year(2019)</li>
<li>moment().set(â€˜yearâ€™, 2019)</li>
<li>moment().set({year: 2019})</li>
</ol>
</li>
</ul>
</li>
</ul>
<ul>
<li><ul>
<li>è®¾ç½®æœˆä»½</li>
</ul>
</li>
</ul>
<ul>
<li><ul>
<li><ol>
<li>moment().month(11) (0~11, 0: January, 11: December)</li>
<li>moment().set(â€˜monthâ€™, 11) </li>
</ol>
</li>
</ul>
</li>
</ul>
<ul>
<li><ul>
<li>è®¾ç½®æŸä¸ªæœˆä¸­çš„æŸä¸€å¤©</li>
</ul>
</li>
</ul>
<ul>
<li><ul>
<li><ol>
<li>moment().date(15)</li>
<li>moment().set(â€˜dateâ€™, 15)</li>
</ol>
</li>
</ul>
</li>
</ul>
<ul>
<li><ul>
<li>è®¾ç½®æŸä¸ªæ˜ŸæœŸä¸­çš„æŸä¸€å¤©</li>
</ul>
</li>
</ul>
<ul>
<li><ul>
<li><ol>
<li>moment().weekday(0) // è®¾ç½®æ—¥æœŸä¸ºæœ¬å‘¨ç¬¬ä¸€å¤©ï¼ˆå‘¨æ—¥ï¼‰</li>
<li>moment().isoWeekday(1) // è®¾ç½®æ—¥æœŸä¸ºæœ¬å‘¨å‘¨ä¸€</li>
<li>moment().set(â€˜weekdayâ€™, 0)</li>
<li>moment().set(â€˜isoWeekdayâ€™, 1)</li>
</ol>
</li>
</ul>
</li>
</ul>
<ul>
<li><ul>
<li>è®¾ç½®å°æ—¶</li>
</ul>
</li>
</ul>
<ul>
<li><ul>
<li><ol>
<li>moment().hours(12)</li>
<li>moment().set(â€˜hoursâ€™, 12)</li>
</ol>
</li>
</ul>
</li>
</ul>
<ul>
<li><ul>
<li>è®¾ç½®åˆ†é’Ÿ</li>
</ul>
</li>
</ul>
<ul>
<li><ul>
<li><ol>
<li>moment().minutes(30)</li>
<li>moment().set(â€˜minutesâ€™, 30)</li>
</ol>
</li>
</ul>
</li>
</ul>
<ul>
<li><ul>
<li>è®¾ç½®ç§’æ•°</li>
</ul>
</li>
</ul>
<ul>
<li><ul>
<li><ol>
<li>moment().seconds(30)</li>
<li>moment().set(â€˜secondsâ€™, 30)</li>
</ol>
</li>
</ul>
</li>
</ul>
<ul>
<li>Add Timeï¼ˆé€šè¿‡å¢åŠ æ—¶é—´æ¥æ”¹å˜åŸå§‹çš„ momentï¼Œä¼ å…¥è¦å¢åŠ çš„æ—¶é—´çš„é”®ã€ä»¥åŠè¦å¢åŠ çš„æ•°é‡ï¼‰</li>
</ul>
<ul>
<li><ol>
<li>moment().add(Number, String)</li>
<li>moment().add(Object)</li>
</ol>
</li>
</ul>
<ul>
<li><ul>
<li>å¢åŠ å¹´ä»½</li>
</ul>
</li>
</ul>
<ul>
<li><ul>
<li><ol>
<li>moment().add(1, â€˜yearsâ€™)</li>
<li>moment().add({years: 1})</li>
</ol>
</li>
</ul>
</li>
</ul>
<ul>
<li><ul>
<li>å¢åŠ æœˆä»½</li>
</ul>
</li>
</ul>
<p>moment().add(1, â€˜monthsâ€™)</p>
<ul>
<li><ul>
<li>å¢åŠ æ—¥æœŸ</li>
</ul>
</li>
</ul>
<p>moment().add(1, â€˜daysâ€™)</p>
<ul>
<li><ul>
<li>å¢åŠ æ˜ŸæœŸ</li>
</ul>
</li>
</ul>
<p>moment().add(1, â€˜weeksâ€™)</p>
<ul>
<li><ul>
<li>å¢åŠ å°æ—¶</li>
</ul>
</li>
</ul>
<p>moment().add(1, â€˜hoursâ€™)</p>
<ul>
<li><ul>
<li>å¢åŠ åˆ†é’Ÿ</li>
</ul>
</li>
</ul>
<p>moment().add(1, â€˜minutesâ€™)</p>
<ul>
<li><ul>
<li>å¢åŠ ç§’æ•°</li>
</ul>
</li>
</ul>
<p>moment().add(1, â€˜secondsâ€™)</p>
<ul>
<li>Subtract Time(é€šè¿‡å‡å»æ—¶é—´æ¥æ”¹å˜åŸå§‹çš„ moment)</li>
</ul>
<ul>
<li><ol>
<li>moment().subtract(Number, String)</li>
<li>moment().subtract(Object)</li>
</ol>
</li>
</ul>
<ul>
<li><ul>
<li>å‡å»å¹´ä»½</li>
</ul>
</li>
</ul>
<ul>
<li><ul>
<li><ol>
<li>moment().subtract(1, â€˜yearsâ€™)</li>
<li>moment().subtract({years: 1})</li>
</ol>
</li>
</ul>
</li>
</ul>
<ul>
<li><ul>
<li>å‡å»æœˆä»½</li>
</ul>
</li>
</ul>
<p>moment().subtract(1, â€˜monthsâ€™)</p>
<ul>
<li><ul>
<li>å‡å»æ—¥æœŸ</li>
</ul>
</li>
</ul>
<p>moment().subtract(1, â€˜daysâ€™)</p>
<ul>
<li><ul>
<li>å‡å»æ˜ŸæœŸ</li>
</ul>
</li>
</ul>
<p>moment().subtract(1, â€˜weeksâ€™)</p>
<ul>
<li><ul>
<li>å‡å»å°æ—¶</li>
</ul>
</li>
</ul>
<p>moment().subtract(1, â€˜hoursâ€™)</p>
<ul>
<li><ul>
<li>å‡å»åˆ†é’Ÿ</li>
</ul>
</li>
</ul>
<p>moment().subtract(1, â€˜minutesâ€™)</p>
<ul>
<li><ul>
<li>å‡å»ç§’æ•°</li>
</ul>
</li>
</ul>
<p>moment().subtract(1, â€˜secondsâ€™)</p>
<p>æ ¼å¼åŒ–æ—¶é—´</p>
<ul>
<li>Format Time</li>
</ul>
<ul>
<li><ol>
<li>moment().format()</li>
<li>moment().format(String)</li>
</ol>
</li>
</ul>
<ul>
<li><ul>
<li>æ ¼å¼åŒ–å¹´æœˆæ—¥ï¼š â€˜xxxxå¹´xxæœˆxxæ—¥â€™</li>
</ul>
</li>
</ul>
<p>moment().format(â€˜YYYYå¹´MMæœˆDDæ—¥â€™)</p>
<ul>
<li><ul>
<li>æ ¼å¼åŒ–å¹´æœˆæ—¥ï¼š â€˜xxxx-xx-xxâ€™</li>
</ul>
</li>
</ul>
<p>moment().format(â€˜YYYY-MM-DDâ€™)</p>
<ul>
<li><ul>
<li>æ ¼å¼åŒ–æ—¶åˆ†ç§’(24å°æ—¶åˆ¶)ï¼š â€˜xxæ—¶xxåˆ†xxç§’â€™</li>
</ul>
</li>
</ul>
<p>moment().format(â€˜HHæ—¶mmåˆ†ssç§’â€™)</p>
<ul>
<li><ul>
<li>æ ¼å¼åŒ–æ—¶åˆ†ç§’(12å°æ—¶åˆ¶)ï¼šâ€™xx:xx:xx am/pmâ€™</li>
</ul>
</li>
</ul>
<p>moment().format(â€˜hh:mm:ss aâ€™)</p>
<ul>
<li><ul>
<li>æ ¼å¼åŒ–æ—¶é—´æˆ³(ä»¥ç§’ä¸ºå•ä½)</li>
</ul>
</li>
</ul>
<p>moment().format(â€˜Xâ€™) // è¿”å›å€¼ä¸ºå­—ç¬¦ä¸²ç±»å‹</p>
<ul>
<li><ul>
<li>æ ¼å¼åŒ–æ—¶é—´æˆ³(ä»¥æ¯«ç§’ä¸ºå•ä½)</li>
</ul>
</li>
</ul>
<p>moment().format(â€˜xâ€™) // è¿”å›å€¼ä¸ºå­—ç¬¦ä¸²ç±»å‹</p>
<p>æ¯”è¾ƒæ—¶é—´</p>
<ul>
<li>Difference</li>
</ul>
<p>moment().diff(Moment|String|Number|Date|Array)</p>
<ul>
<li><ul>
<li>è·å–ä¸¤ä¸ªæ—¥æœŸä¹‹é—´çš„æ—¶é—´å·®</li>
</ul>
</li>
</ul>
<ul>
<li><ul>
<li><ol>
<li>let start_date = moment().subtract(1, â€˜weeksâ€™)</li>
<li>let end_date = moment()</li>
<li>end_date.diff(start_date) // è¿”å›æ¯«ç§’æ•°</li>
<li>end_date.diff(start_date, â€˜monthsâ€™) // 0</li>
<li>end_date.diff(start_date, â€˜weeksâ€™) // 1</li>
<li>end_date.diff(start_date, â€˜daysâ€™) // 7</li>
<li>start_date.diff(end_date, â€˜daysâ€™) // -7</li>
</ol>
</li>
</ul>
</li>
</ul>
<p>å°†æ¯«ç§’æ•°è½¬ä¸ºæ—¶åˆ†ç§’</p>
<p>const msTime = 4800000;        //80åˆ†é’Ÿ </p>
<p>moment.duration(msTime).hours();       //è½¬ä¸ºå°æ—¶ï¼Œå€¼ä¸º1</p>
<p>moment.duration(msTime).minutes();     //è½¬ä¸ºåˆ†é’Ÿï¼Œå€¼ä¸º20</p>
<p>moment.duration(msTime).seconds();     //è½¬ä¸ºç§’ï¼Œå€¼ä¸º0</p>
<p>è½¬ä¸ºå…¶ä»–å•ä½ï¼š</p>
<p>moment.duration(msTime, â€˜secondsâ€™);        //è½¬ä¸ºç§’</p>
<p>moment.duration(msTime, â€˜minutesâ€™);        //è½¬ä¸ºåˆ†</p>
<p>moment.duration(msTime, â€˜hoursâ€™);          //è½¬ä¸ºå°æ—¶</p>
<p>moment.duration(msTime, â€˜daysâ€™);           //è½¬ä¸ºå¤©</p>
<p>moment.duration(msTime, â€˜weeksâ€™);          //è½¬ä¸ºå‘¨</p>
<p>moment.duration(msTime, â€˜monthsâ€™);         //è½¬ä¸ºæœˆ</p>
<p>moment.duration(msTime, â€˜yearsâ€™);          //è½¬ä¸ºå¹´</p>
<ol start="10">
<li>åˆ¤æ–­ä¸€ä¸ªæ—¥æœŸæ˜¯å¦åœ¨ä¸¤ä¸ªæ—¥æœŸä¹‹å‰  isBetween</li>
</ol>
<p>è¯­æ³•ï¼š this.moment().isBetween(moment-like, moment-like, String, String);</p>
<p>a. ä¸åŒ…å«èµ·å§‹è¿™ä¸¤ä¸ªæ—¥æœŸï¼ˆåªæœ‰ä¸¤ä¸ªå‚æ•°ï¼‰   ==&gt;&gt; ä¸­æ–‡ç½‘åªæœ‰ä¸¤ä¸ªå‚æ•°</p>
<p>this.moment(â€˜2010-10-20â€™).isBetween(â€˜2010-10-19â€™, â€˜2010-10-25â€™); // true</p>
<p>this.moment(â€˜2010-10-19â€™).isBetween(â€˜2010-10-19â€™, â€˜2010-10-25â€™); // false</p>
<p>this.moment(â€˜2010-10-25â€™).isBetween(â€˜2010-10-19â€™, â€˜2010-10-25â€™); // false</p>
<p>b. è‡ªå®šä¹‰æ˜¯å¦åŒ…å«èµ·å§‹æ—¥æœŸï¼ˆå››ä¸ªå‚æ•°ï¼Œä¸»è¦æ˜¯ç¬¬å››ä¸ªå‚æ•°ï¼‰   ==&gt;&gt; è‹±æ–‡ç½‘æ‰æœ‰å››ä¸ªå‚æ•°</p>
<p>ç¬¬ä¸‰ä¸ªå‚æ•°ï¼Œå›ºå®šä¸ºnullï¼›</p>
<p>ç¬¬å››ä¸ªå‚æ•°ï¼Œå­—ç¬¦ä¸²ï¼Œ( ) è¡¨ç¤ºä¸åŒ…å«ï¼Œ[ ] è¡¨ç¤ºåŒ…å«ã€‚å·¦æ‹¬å·åˆ¶å¼€å§‹æ—¥æœŸï¼Œå³æ‹¬å·æ§åˆ¶ç»“æŸæ—¥æœŸ</p>
<p>this.moment(â€˜2016-10-30â€™).isBetween(â€˜2016-10-30â€™, â€˜2016-12-30â€™, null, â€˜()â€™); //false</p>
<p>this.moment(â€˜2016-10-30â€™).isBetween(â€˜2016-10-30â€™, â€˜2016-12-30â€™, null, â€˜[)â€™); //true</p>
<p>this.moment(â€˜2016-10-30â€™).isBetween(â€˜2016-01-01â€™, â€˜2016-10-30â€™, null, â€˜()â€™); //false</p>
<p>this.moment(â€˜2016-10-30â€™).isBetween(â€˜2016-01-01â€™, â€˜2016-10-30â€™, null, â€˜(]â€™); //true</p>
<p>this.moment(â€˜2016-10-30â€™).isBetween(â€˜2016-10-30â€™, â€˜2016-10-30â€™, null, â€˜[]â€™); //true</p>
]]></content>
      <categories>
        <category>moment</category>
      </categories>
      <tags>
        <tag>js</tag>
        <tag>æ’ä»¶</tag>
        <tag>moment</tag>
      </tags>
  </entry>
  <entry>
    <title>mpVue</title>
    <url>/2020/07/30/mpVue/</url>
    <content><![CDATA[<p>å‰æ®µæ—¶é—´ï¼Œç¾å›¢å¼€æºäº†<code>mpvue</code>è¿™ä¸ªé¡¹ç›®ï¼Œä½¿å¾—æˆ‘ä»¬åˆå¤šäº†ä¸€ç§ç”¨æ¥å¼€å‘å°ç¨‹åºçš„æ¡†æ¶é€‰é¡¹ã€‚ç”±äº<code>mpvue</code>æ¡†æ¶æ˜¯å®Œå…¨åŸºäºVueæ¡†æ¶çš„ï¼ˆé‡å†™äº†å…¶runtimeå’Œcompilerï¼‰ï¼Œå› æ­¤åœ¨ç”¨æ³•ä¸Šé¢æ˜¯é«˜åº¦å’ŒVueä¸€è‡´çš„ï¼ˆæŸäº›åŠŸèƒ½ç”±äºå—é™äºå°ç¨‹åºç¯å¢ƒæœ¬èº«çš„åŸå› è€Œä¸èƒ½ä½¿ç”¨ï¼‰ï¼Œè¿™ç»™ä½¿ç”¨è¿‡Vueå¼€å‘Webåº”ç”¨çš„å‰ç«¯å¼€å‘è€…æä¾›äº†æä½çš„åˆ‡æ¢é—¨æ§›æ¥å¼€å‘å°ç¨‹åºã€‚</p>
<p>å¦‚æœä¹‹å‰è¿˜æœªæ›¾ç”¨è¿‡Vueè¿™ä¸ªæ¡†æ¶çš„è¯ï¼Œå»ºè®®ä½ å¯ä»¥å¿«é€Ÿæµè§ˆä¸€ä¸‹Vueçš„å®˜æ–¹æ–‡æ¡£(<a href="https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F" target="_blank" rel="noopener">https://cn.vuejs.org/v2/guide/</a>)ï¼Œæˆ–è€…é€šè¿‡ä¸‹é¢çš„å‡ ä¸ªè§†é¢‘æ•™ç¨‹æ¥äº†è§£ä¸‹Vueçš„åŸºæœ¬ç”¨æ³•ã€‚</p>
<blockquote>
<p>VueåŸºç¡€æ•™ç¨‹è§†é¢‘ï¼š<br><a href="https://links.jianshu.com/go?to=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2Fav25142267" target="_blank" rel="noopener">https://www.bilibili.com/video/av25142267</a><br><a href="https://links.jianshu.com/go?to=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2Fav25143408" target="_blank" rel="noopener">https://www.bilibili.com/video/av25143408</a><br><a href="https://links.jianshu.com/go?to=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2Fav25144006" target="_blank" rel="noopener">https://www.bilibili.com/video/av25144006</a><br><a href="https://links.jianshu.com/go?to=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2Fav25148349" target="_blank" rel="noopener">https://www.bilibili.com/video/av25148349</a><br><a href="https://links.jianshu.com/go?to=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2Fav25148832" target="_blank" rel="noopener">https://www.bilibili.com/video/av25148832</a><br><a href="https://links.jianshu.com/go?to=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2Fav25649895" target="_blank" rel="noopener">https://www.bilibili.com/video/av25649895</a></p>
</blockquote>
<a id="more"></a>

<h4 id="èµ·æ‰‹å¼ï¼šå¿…è¦çš„å¼€å‘ç¯å¢ƒ"><a href="#èµ·æ‰‹å¼ï¼šå¿…è¦çš„å¼€å‘ç¯å¢ƒ" class="headerlink" title="èµ·æ‰‹å¼ï¼šå¿…è¦çš„å¼€å‘ç¯å¢ƒ"></a>èµ·æ‰‹å¼ï¼šå¿…è¦çš„å¼€å‘ç¯å¢ƒ</h4><p>å·¥æ¬²å–„å…¶äº‹å¿…å…ˆåˆ©å…¶å™¨ï¼åœ¨å¼€å§‹å†™ä»£ç ä¹‹å‰ï¼Œè¯·ç¡®ä¿ä½ å·²ç»å®‰è£…äº†å¿…è¦çš„å¼€å‘ç¯å¢ƒå’Œå·¥å…·ï¼Œä»¥ä¸‹æ˜¯å‡ ä¸ªå¿…éœ€çš„å’Œå¯é€‰çš„å·¥å…·ï¼š</p>
<p>1ï¼‰node.js<br>ç°åœ¨ï¼Œå‰ç«¯å·¥å…·é“¾åŸºæœ¬éƒ½ä¾èµ–Node.jsï¼Œæ‰€ä»¥è¯·ç‡å…ˆå®‰è£…å®ƒå§ã€‚</p>
<p>ä¸‹è½½åœ°å€ï¼š<a href="https://links.jianshu.com/go?to=https%3A%2F%2Fnodejs.org%2Fen%2Fdownload%2F" target="_blank" rel="noopener">https://nodejs.org/en/download/</a></p>
<p>å®‰è£…å®Œæˆåï¼Œæ‰“å¼€ä½ çš„å‘½ä»¤è¡Œè¾“å…¥å¦‚ä¸‹å‘½ä»¤ï¼ŒéªŒè¯å®‰è£…æ˜¯å¦æˆåŠŸï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">node --version</span><br><span class="line">&#x2F;&#x2F;æˆåŠŸçš„è¯è¾“å‡ºç±»ä¼¼ï¼šv10.6.0</span><br><span class="line"></span><br><span class="line">npm --version</span><br><span class="line">&#x2F;&#x2F;æˆåŠŸçš„è¯è¾“å‡ºç±»ä¼¼ï¼š6.1.0</span><br></pre></td></tr></table></figure>

<p>ç„¶åï¼Œæˆ‘ä»¬éœ€è¦æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œå°†npmçš„ä¸‹è½½æºåˆ‡æ¢åˆ°å›½å†…æ·˜å®çš„é•œåƒï¼Œä»¥æé«˜ä¸‹è½½æ—¶çš„é€Ÿåº¦å’ŒæˆåŠŸç‡ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm set registry https:&#x2F;&#x2F;registry.npm.taobao.org&#x2F;</span><br></pre></td></tr></table></figure>

<p>2ï¼‰vue-cli<br><code>vue-cli</code>æ˜¯ä¸€ä¸ªvueä¸“ç”¨çš„é¡¹ç›®è„šæ‰‹æ¶å·¥å…·ï¼Œå¯ä»¥ç”¨äºæ–¹ä¾¿çš„åˆ›å»ºvueé¡¹ç›®éª¨æ¶ä»£ç ï¼ŒåŒ…æ‹¬æˆ‘ä»¬è¦è®²åˆ°çš„mpvueçš„é¡¹ç›®ä»£ç ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡å®‰è£…node.jsåé‡Œé¢åŒ…å«çš„npmå·¥å…·æ¥å®‰è£…vue-cliï¼Œåœ¨å‘½ä»¤è¡Œè¾“å…¥å¦‚ä¸‹å‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install vue-cli -g</span><br></pre></td></tr></table></figure>

<p>å®‰è£…å®Œæˆåï¼Œè¾“å…¥å¦‚ä¸‹å‘½ä»¤è¿›è¡ŒéªŒè¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">vue</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; æˆåŠŸçš„è¯ä¼šè¾“å‡ºå¦‚ä¸‹å†…å®¹ï¼š</span><br><span class="line">&#x2F;&#x2F; Usage: vue &lt;command&gt; [options]</span><br><span class="line">&#x2F;&#x2F;</span><br><span class="line">&#x2F;&#x2F; Options:</span><br><span class="line">&#x2F;&#x2F;</span><br><span class="line">&#x2F;&#x2F;    -V, --version  output the version number</span><br><span class="line">&#x2F;&#x2F;    -h, --help     output usage information</span><br><span class="line">&#x2F;&#x2F;</span><br><span class="line">&#x2F;&#x2F; Commands:</span><br><span class="line">&#x2F;&#x2F;</span><br><span class="line">&#x2F;&#x2F;    init           generate a new project from a template</span><br><span class="line">&#x2F;&#x2F;    list           list available official templates</span><br><span class="line">&#x2F;&#x2F;    build          prototype a new project</span><br><span class="line">&#x2F;&#x2F;    create         (for v3 warning only)</span><br><span class="line">&#x2F;&#x2F;    help [cmd]     display help for [cmd]</span><br></pre></td></tr></table></figure>

<p>3ï¼‰å¾®ä¿¡å¼€å‘è€…å·¥å…·<br>è¿™ä¸ªå·¥å…·æ˜¯å¼€å‘ã€è°ƒè¯•å’Œæ¨¡æ‹Ÿè¿è¡Œå¾®ä¿¡å°ç¨‹åºçš„æœ€æ ¸å¿ƒçš„å·¥å…·äº†ï¼Œæ‰€ä»¥å¿…é¡»å®‰è£…ã€‚</p>
<p>ä¸‹è½½åœ°å€ï¼š<a href="https://links.jianshu.com/go?to=https%3A%2F%2Fdevelopers.weixin.qq.com%2Fminiprogram%2Fdev%2Fdevtools%2Fdownload.html" target="_blank" rel="noopener">https://developers.weixin.qq.com/miniprogram/dev/devtools/download.html</a></p>
<p>4ï¼‰Visual Studio Code + Vetur<br>Visual Studio Codeï¼ˆç®€ç§°vscodeï¼‰æ˜¯ç°åœ¨éå¸¸æµè¡Œçš„ä¸€ä¸ªè½»é‡çº§ä»£ç ç¼–è¾‘å™¨ï¼Œæ‹¥æœ‰éå¸¸å¤šå¥½ç”¨çš„è¾…åŠ©å¼€å‘æ’ä»¶ï¼Œåœ¨æˆ‘çš„æ–‡ç« ä¸­æˆ‘éƒ½ä¼šä½¿ç”¨è¿™ä¸ªç¼–è¾‘å™¨æ¥ç¼–è¾‘ä»£ç ã€‚å½“ç„¶ï¼Œå¥½ç”¨çš„ä»£ç ç¼–è¾‘å™¨æœ‰å¾ˆå¤šï¼Œæ¯”å¦‚Sublime Textã€WebStormç­‰ï¼ŒåŒæ ·å¯ä»¥è¾¾åˆ°æˆ‘ä»¬çš„å¼€å‘ç›®çš„ï¼Œä½ ä¹Ÿå°½ç®¡ç”¨ä½ è‡ªå·±æœ€å–œæ¬¢çš„ä»£ç ç¼–è¾‘å™¨æ¥å†™ä»£ç å°±è¡Œäº†ã€‚</p>
<p>ä¸‹è½½åœ°å€ï¼š<a href="https://links.jianshu.com/go?to=https%3A%2F%2Fcode.visualstudio.com" target="_blank" rel="noopener">https://code.visualstudio.com</a></p>
<p>å®‰è£…å®Œvscodeåï¼Œåœ¨å®ƒçš„æ’ä»¶ç®¡ç†å™¨ä¸­ï¼ŒæŸ¥æ‰¾<code>Vetur</code>å¹¶å®‰è£…ï¼Œç„¶åé‡å¯ä¸€ä¸‹vscodeåï¼Œæ’ä»¶å³ç”Ÿæ•ˆï¼š</p>
<p><img src="http://upload-images.jianshu.io/upload_images/3407939-0d192ef619fc6cbc.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp" alt="img"></p>
<p>å®‰è£…Veturæ’ä»¶</p>
<p>Veturæ˜¯ä¸€æ¬¾å¯ä»¥æä¾›Vueè¯­æ³•é«˜äº®ã€è¯­æ³•æ£€æŸ¥å’Œä»£ç å¿«æ·è¾“å…¥ç­‰åŠŸèƒ½çš„æ’ä»¶ï¼Œå¯ä»¥ä¸ºæˆ‘ä»¬çš„å¼€å‘è¿‡ç¨‹æä¾›å¾ˆå¤šä¾¿åˆ©ã€‚</p>
<h4 id="åˆ›å»ºç¬¬ä¸€ä¸ªåŸºäºmpvueçš„å°ç¨‹åºé¡¹ç›®ä»£ç "><a href="#åˆ›å»ºç¬¬ä¸€ä¸ªåŸºäºmpvueçš„å°ç¨‹åºé¡¹ç›®ä»£ç " class="headerlink" title="åˆ›å»ºç¬¬ä¸€ä¸ªåŸºäºmpvueçš„å°ç¨‹åºé¡¹ç›®ä»£ç "></a>åˆ›å»ºç¬¬ä¸€ä¸ªåŸºäºmpvueçš„å°ç¨‹åºé¡¹ç›®ä»£ç </h4><p>èŠ±äº†ç‚¹æ—¶é—´è£…å¥½äº†å¿…è¦çš„å¼€å‘ç¯å¢ƒï¼Œä¸‹é¢æˆ‘ä»¬å°±æ¥åˆ›å»ºæˆ‘ä»¬çš„ç¬¬ä¸€ä¸ªmpvueå°ç¨‹åºé¡¹ç›®ã€‚è¿™é‡Œå°†ç”¨åˆ°å‰é¢å·²å®‰è£…çš„vue-cliï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">vue init mpvue&#x2F;mpvue-quickstart firstapp</span><br></pre></td></tr></table></figure>

<p>å‘½ä»¤è¡Œå°†ä¸€æ­¥æ­¥çš„å¼•å¯¼æˆ‘ä»¬é€‰æ‹©æˆ–å¡«å†™é¡¹ç›®çš„é…ç½®ä¿¡æ¯ï¼Œå¦‚æœä½ è¿˜ä¸å¤ªæ˜ç™½è¿™äº›å†…å®¹çš„å«ä¹‰ï¼Œå¯ä»¥å…ˆç›´æ¥å…¨éƒ¨æŒ‰å›è½¦ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">? Project name firstapp</span><br><span class="line">? wxmp appid touristappid</span><br><span class="line">? Project description A Mpvue project</span><br><span class="line">? Author kevinzhang &lt;kevin.zhang@moredist.com&gt;</span><br><span class="line">? Vue build runtime</span><br><span class="line">? Use Vuex? Yes</span><br><span class="line">? Use ESLint to lint your code? Yes</span><br><span class="line">? Pick an ESLint preset Standard</span><br><span class="line">? å°ç¨‹åºæµ‹è¯•ï¼Œæ•¬è¯·å…³æ³¨æœ€æ–°å¾®ä¿¡å¼€å‘è€…å·¥å…·çš„â€œæµ‹è¯•æŠ¥å‘Šâ€åŠŸèƒ½ </span><br><span class="line"></span><br><span class="line">   vue-cli Â· Generated &quot;firstapp&quot;.</span><br><span class="line"></span><br><span class="line">   To get started:</span><br><span class="line">   </span><br><span class="line">     cd firstapp</span><br><span class="line">     npm install</span><br><span class="line">     npm run dev</span><br><span class="line">   </span><br><span class="line">   Documentation can be found at http:&#x2F;&#x2F;mpvue.com</span><br></pre></td></tr></table></figure>

<p>è¿™ä¸ªè¿‡ç¨‹vue-cliä¸»è¦æ˜¯å…ˆä»è¿œç¨‹çš„ä»£ç ä»“åº“ä¸­ä¸‹è½½äº†ä¸€ä»½æ³¨å†Œåä¸º<code>mpvue/mpvue-quickstart</code>çš„æ¨¡æ¿ä»£ç ï¼Œç„¶åæ ¹æ®å¼€å‘è€…åœ¨å‘½ä»¤è¡Œæç¤ºè¿‡ç¨‹ä¸­è¾“å…¥çš„ä¿¡æ¯ï¼Œç”Ÿæˆä¸€ä»½ç»è¿‡é…ç½®åçš„ä»£ç ã€‚</p>
<p>è¿™ä»½ä»£ç æš‚æ—¶è¿˜è¿è¡Œä¸èµ·æ¥ï¼Œå› ä¸ºå®ƒè¿˜ç¼ºå°‘ä¾èµ–çš„åº“ï¼Œæˆ‘ä»¬éœ€è¦æ‰§è¡Œä»¥ä¸‹å‘½ä»¤è¿›è¡Œä¾èµ–åº“çš„å®‰è£…ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cd firstapp </span><br><span class="line">npm install</span><br></pre></td></tr></table></figure>

<p>ç»è¿‡å‡ åˆ†é’Ÿçš„ä¸‹è½½å®‰è£…ï¼Œä¾èµ–åº“å®‰è£…åˆ°äº†firstappç›®å½•ä¸‹ï¼Œä½ å¯ä»¥çœ‹åˆ°è¯¥ç›®å½•ä¸‹å¤šå‡ºäº†ä¸€ä¸ªnode_modulesç›®å½•ã€‚</p>
<p>ç„¶åï¼Œæ‰§è¡Œå‘½ä»¤è®©è¿™ä¸ªä»£ç è¿è¡Œèµ·æ¥ï¼Œè¿›å…¥å¼€å‘æ¨¡å¼ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm run dev</span><br></pre></td></tr></table></figure>

<p>æˆåŠŸè¿è¡Œåï¼Œè¿™ä¸ªé¡¹ç›®ä»£ç å°±è¿›å…¥å¼€å‘æ¨¡å¼ï¼Œä¸€æ—¦æœ‰æºä»£ç å‘ç”Ÿä¿®æ”¹ï¼Œå°±ä¼šè§¦å‘è‡ªåŠ¨ç¼–è¯‘ã€‚å› ä¸ºmpvueä½¿ç”¨çš„æ˜¯Vue + HTML Webçš„å¼€å‘æ–¹å¼å¼€å‘å°ç¨‹åºï¼Œå®ƒæœ€ç»ˆè¿˜æ˜¯éœ€è¦è¢«è½¬æ¢æˆå°ç¨‹åºçš„ä»£ç æ‰å¯ä»¥åœ¨å°ç¨‹åºç¯å¢ƒè¿è¡Œï¼Œæ‰€ä»¥è¿™é‡Œçš„è‡ªåŠ¨ç¼–è¯‘çš„ç›®çš„å°±æ˜¯è¦æŠŠWebä»£ç ç¼–è¯‘æˆå°ç¨‹åºä»£ç ã€‚ç¼–è¯‘åçš„ä»£ç ä¼šåœ¨<code>dist</code>ç›®å½•ä¸‹ï¼š</p>
<p><img src="http://upload-images.jianshu.io/upload_images/3407939-3572faed43dbdab8.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/668/format/webp" alt="img"></p>
<h4 id="è¿è¡Œå¹¶æŸ¥çœ‹ç»“æœ"><a href="#è¿è¡Œå¹¶æŸ¥çœ‹ç»“æœ" class="headerlink" title="è¿è¡Œå¹¶æŸ¥çœ‹ç»“æœ"></a>è¿è¡Œå¹¶æŸ¥çœ‹ç»“æœ</h4><p>ä¸Šé¢çš„æ­¥éª¤ä¸­ï¼Œæˆ‘ä»¬å¼€å¯å¼€å‘æ¨¡å¼åï¼Œå…¶å®å¹¶ä¸èƒ½çœ‹åˆ°å°ç¨‹åºçš„æ‰§è¡Œæ•ˆæœï¼Œè¦çœŸæ­£çœ‹å°ç¨‹åºçš„è¿è¡Œç•Œé¢çš„è¯ï¼Œæˆ‘ä»¬è¿˜æ˜¯è¦å€ŸåŠ©å¾®ä¿¡å¼€å‘è€…å·¥å…·ã€‚</p>
<p>æ‰“å¼€å¾®ä¿¡å¼€å‘è€…å·¥å…·ï¼Œé€‰æ‹©æ–°å¢é¡¹ç›®ï¼š</p>
<p><img src="http://upload-images.jianshu.io/upload_images/3407939-3ceb36e7472d3ebb.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp" alt="img"></p>
<p>é¡¹ç›®ç›®å½•é€‰æ‹©æŒ‡å‘firstappç›®å½•ï¼š</p>
<p><img src="http://upload-images.jianshu.io/upload_images/3407939-b2d50fa4a653930e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/818/format/webp" alt="img"></p>
<p>ç‚¹å‡»â€œç¡®å®šâ€æŒ‰é’®ï¼Œè¿›å…¥å°ç¨‹åºå¼€å‘ä¸»ç•Œé¢ï¼Œåœ¨å·¦è¾¹çš„å°ç¨‹åºæ¨¡æ‹Ÿå™¨ä¸­å°±èƒ½çœ‹åˆ°firstappå°ç¨‹åºçš„æ‰§è¡Œç»“æœäº†ï¼š</p>
<p><img src="http://upload-images.jianshu.io/upload_images/3407939-fbc41e23b7cb9995.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/938/format/webp" alt="img"></p>
<p>ã€æé†’ã€‘è®°å¾—åœ¨å¾®ä¿¡å¼€å‘è€…å·¥å…·çš„èœå•ã€‹è®¾ç½® ã€‹ç¼–è¾‘è®¾ç½® ä¸­ï¼Œå°†â€œä¿å­˜æ—¶è‡ªåŠ¨ç¼–è¯‘å°ç¨‹åºâ€å‹¾é€‰ä¸Šï¼Œè¿™æ ·å½“mpvueçš„ä»£ç è‡ªåŠ¨ç¼–è¯‘å®Œæˆåï¼Œæ¨¡æ‹Ÿå™¨æ‰ä¼šè‡ªåŠ¨åˆ·æ–°ç•Œé¢ã€‚</p>
<p><img src="http://upload-images.jianshu.io/upload_images/3407939-9b492a2bf48c8162.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/878/format/webp" alt="img"></p>
<p>åœ¨Visual Studio Codeé‡Œé¢æ‰“å¼€é¡¹ç›®æ–‡ä»¶å¤¹ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ç±»ä¼¼å¦‚ä¸‹çš„æ–‡ä»¶ç»“æ„ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">firstapp</span><br><span class="line">â”œâ”€â”€ package.json</span><br><span class="line">â”œâ”€â”€ project.config.json       </span><br><span class="line">â”œâ”€â”€ static            </span><br><span class="line">â”œâ”€â”€ src</span><br><span class="line">â”‚    â”œâ”€â”€ components</span><br><span class="line">â”‚    â”œâ”€â”€ pages</span><br><span class="line">â”‚    â”œâ”€â”€ utils</span><br><span class="line">â”‚    â”œâ”€â”€ App.vue</span><br><span class="line">â”‚    â””â”€â”€ main.js</span><br><span class="line">â”œâ”€â”€ config</span><br><span class="line">â”‚   â”œâ”€â”€ index.js</span><br><span class="line">â”‚   â”œâ”€â”€ dev.env.js</span><br><span class="line">â”‚   â””â”€â”€ prod.env.js</span><br><span class="line">â””â”€â”€ build</span><br></pre></td></tr></table></figure>

<h6 id="1ï¼‰package-jsonæ–‡ä»¶"><a href="#1ï¼‰package-jsonæ–‡ä»¶" class="headerlink" title="1ï¼‰package.jsonæ–‡ä»¶"></a>1ï¼‰package.jsonæ–‡ä»¶</h6><p>package.jsonæ˜¯é¡¹ç›®çš„ä¸»é…ç½®æ–‡ä»¶ï¼Œé‡Œé¢åŒ…å«äº†mpvueé¡¹ç›®çš„åŸºæœ¬æè¿°ä¿¡æ¯ã€é¡¹ç›®æ‰€ä¾èµ–çš„å„ç§ç¬¬ä¸‰æ–¹åº“ä»¥åŠç‰ˆæœ¬ä¿¡æ¯ã€ä»¥åŠå¯æ‰§è¡Œçš„è„šæœ¬ä¿¡æ¯ã€‚</p>
<p>æˆ‘ä»¬çœ‹åˆ°è¯¥æ–‡ä»¶ä¸­çš„<code>scripts</code>éƒ¨åˆ†é…ç½®äº†4ä¸ªå¯æ‰§è¡Œçš„å‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&quot;dev&quot;: &quot;node build&#x2F;dev-server.js&quot;,</span><br><span class="line">&quot;start&quot;: &quot;node build&#x2F;dev-server.js&quot;,</span><br><span class="line">&quot;build&quot;: &quot;node build&#x2F;build.js&quot;,</span><br><span class="line">&quot;lint&quot;: &quot;eslint --ext .js,.vue src&quot;</span><br></pre></td></tr></table></figure>

<ul>
<li><code>dev</code>å’Œ<code>start</code>æ˜¯ä¸¤ä¸ªç­‰ä»·çš„å‘½ä»¤ï¼Œæ‰§è¡Œå…¶ä¸­ä¹‹ä¸€éƒ½å¯ä»¥å°†é¡¹ç›®ä»¥å¼€å‘æ¨¡å¼å¯åŠ¨ã€‚æ‰§è¡Œæ–¹å¼æ˜¯ï¼š</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm start</span><br><span class="line">npm run dev</span><br></pre></td></tr></table></figure>

<ul>
<li><code>lint</code>æŒ‡ä»¤æ˜¯ä½¿ç”¨ESLintæ¥è¿›è¡Œä»£ç è¯­æ³•å’Œæ ¼å¼æ£€æŸ¥ï¼Œä»¥åŠä¿®å¤ä¸€äº›å¯è‡ªåŠ¨ä¿®å¤çš„é—®é¢˜ã€‚æ‰§è¡Œæ–¹å¼æ˜¯ï¼š</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm run lint  #æ£€æŸ¥è¯­æ³•å’Œæ ¼å¼</span><br><span class="line">npm run lint -- --fix #æ£€æŸ¥ä»£ç è¯­æ³•å’Œæ ¼å¼ï¼Œå¹¶ä¿®å¤å¯è‡ªåŠ¨ä¿®å¤çš„é—®é¢˜</span><br></pre></td></tr></table></figure>

<ul>
<li><code>build</code>æŒ‡ä»¤æ˜¯ç”¨äºç”Ÿæˆå‘å¸ƒç”¨ä»£ç çš„ï¼Œå®ƒä¼šå¯¹ä»£ç è¿›è¡Œä¸€äº›å‹ç¼©ä¼˜åŒ–å¤„ç†ã€‚å½“å°ç¨‹åºå¼€å‘å®Œæˆåï¼Œå°†è¦æäº¤å®¡æ ¸æ—¶ï¼Œè¯·ä½¿ç”¨<code>build</code>æ¥ç”Ÿæˆå‘å¸ƒçš„ä»£ç ã€‚</li>
</ul>
<h6 id="2ï¼‰project-config-jsonæ–‡ä»¶"><a href="#2ï¼‰project-config-jsonæ–‡ä»¶" class="headerlink" title="2ï¼‰project.config.jsonæ–‡ä»¶"></a>2ï¼‰project.config.jsonæ–‡ä»¶</h6><p><code>project.config.json</code>æ–‡ä»¶æ˜¯ç”¨äºç®¡ç†å¾®ä¿¡å¼€å‘è€…å·¥å…·çš„å°ç¨‹åºé¡¹ç›®çš„é…ç½®æ–‡ä»¶ï¼Œå…¶ä¸­è®°å½•äº†å°ç¨‹åºçš„appidã€ä»£ç ä¸»ç›®å½•ã€ä»¥åŠç¼–è¯‘é€‰é¡¹ç­‰ç­‰ä¿¡æ¯ï¼Œåœ¨å¾®ä¿¡å¼€å‘è€…å·¥å…·ä¸­å¯¼å…¥å°ç¨‹åºé¡¹ç›®çš„æ—¶å€™ä¸»è¦æ˜¯é€šè¿‡è¯¥é…ç½®æ–‡ä»¶è¯»å–å’Œå†™å…¥é…ç½®ä¿¡æ¯ã€‚</p>
<h6 id="3ï¼‰staticç›®å½•"><a href="#3ï¼‰staticç›®å½•" class="headerlink" title="3ï¼‰staticç›®å½•"></a>3ï¼‰staticç›®å½•</h6><p><code>static</code>ç›®å½•å¯ä»¥ç”¨äºå­˜æ”¾å„ç§å°ç¨‹åºæœ¬åœ°é™æ€èµ„æºï¼Œå¦‚å›¾ç‰‡ã€æ–‡æœ¬æ–‡ä»¶ç­‰ã€‚ä»£ç ä¸­å¯é€šè¿‡ç›¸å¯¹è·¯å¾„æˆ–ç»å¯¹è·¯å¾„è¿›è¡Œè®¿é—®ï¼Œ å¦‚ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;img src&#x3D;&quot;&#x2F;static&#x2F;button.png&quot; &#x2F;&gt;</span><br><span class="line">&lt;img src&#x3D;&quot;..&#x2F;..&#x2F;..&#x2F;static&#x2F;button.png&quot; &#x2F;&gt;</span><br></pre></td></tr></table></figure>

<h6 id="4ï¼‰buildç›®å½•"><a href="#4ï¼‰buildç›®å½•" class="headerlink" title="4ï¼‰buildç›®å½•"></a>4ï¼‰buildç›®å½•</h6><p><code>build</code>ç›®å½•ä¸‹æ˜¯ä¸€äº›ç”¨äºé¡¹ç›®ç¼–è¯‘æ‰“åŒ…çš„node.jsè„šæœ¬å’Œwebpacké…ç½®æ–‡ä»¶ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ä¸éœ€è¦ä¿®æ”¹è¿™äº›æ–‡ä»¶ã€‚</p>
<h6 id="5ï¼‰configç›®å½•"><a href="#5ï¼‰configç›®å½•" class="headerlink" title="5ï¼‰configç›®å½•"></a>5ï¼‰configç›®å½•</h6><p><code>config</code>ç›®å½•ä¸‹åŒ…å«äº†ç”¨äºå¼€å‘å’Œç”Ÿäº§ç¯å¢ƒä¸‹çš„ä¸åŒé…ç½®ï¼Œ<code>dev.env.js</code>ç”¨äºå¼€å‘ç¯å¢ƒï¼Œ<code>prod.env.js</code>ç”¨äºç”Ÿäº§ç¯å¢ƒï¼Œä½ å¯ä»¥å°†å¼€å‘é˜¶æ®µå’Œç”Ÿäº§é˜¶æ®µä¸ä¸€æ ·çš„ä¿¡æ¯ï¼ˆå¦‚åå°APIçš„urlåœ°å€ç­‰ï¼‰é…ç½®åˆ°è¿™ä¸¤ä¸ªæ–‡ä»¶ä¸­å»ï¼Œç„¶ååœ¨ä»£ç ä¸­ä»¥å˜é‡çš„å½¢å¼è¿›è¡Œå¼•ç”¨ã€‚ä¾‹å¦‚ï¼Œè¿™2ä¸ªæ–‡ä»¶ä¸­åˆ†åˆ«é…ç½®äº†ä¸åŒçš„<code>API_BASE_URL</code>å€¼ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; dev.env.js</span><br><span class="line">module.exports &#x3D; merge(prodEnv, &#123;</span><br><span class="line">  NODE_ENV: &#39;&quot;development&quot;&#39;,</span><br><span class="line">  API_BASE_URL: &#39;&quot;http:&#x2F;&#x2F;127.0.0.1:8080&#x2F;api&quot;&#39;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; prod.env.js</span><br><span class="line">module.exports &#x3D; &#123;</span><br><span class="line">  NODE_ENV: &#39;&quot;production&quot;&#39;,</span><br><span class="line">  API_BASE_URL: &#39;&quot;https:&#x2F;&#x2F;www.my-domain.com&#x2F;api&quot;&#39;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>é‚£ä½ åœ¨ç¼–å†™è¯·æ±‚åç«¯APIçš„ä»£ç æ—¶ï¼Œä½ å°±å¯ä»¥ä½¿ç”¨è¿™ä¸ªç¯å¢ƒé…ç½®ï¼Œåƒè¿™æ ·ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const baseURL &#x3D; process.env.API_BASE_URL</span><br><span class="line">wx.request(&#123;</span><br><span class="line">  url: &#96;$&#123;baseURL&#125;&#x2F;products&#96;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·ä¸€æ¥ï¼Œå¼€å‘é˜¶æ®µå’Œä¸Šçº¿å‘å¸ƒé˜¶æ®µçš„ç¯å¢ƒå¯ä»¥æ¸…æ¥šçš„åŒºåˆ†å¼€æ¥ã€‚</p>
<h6 id="5ï¼‰srcç›®å½•"><a href="#5ï¼‰srcç›®å½•" class="headerlink" title="5ï¼‰srcç›®å½•"></a>5ï¼‰srcç›®å½•</h6><p><code>src</code>ç›®å½•æ˜¯æˆ‘ä»¬ä¸»è¦è¿›è¡Œå°ç¨‹åºåŠŸèƒ½ç¼–å†™çš„åœ°æ–¹ã€‚é»˜è®¤ç”Ÿæˆçš„demoä»£ç ä¸ºæˆ‘ä»¬åˆ›å»ºäº†å‡ ä¸ªå­ç›®å½•ï¼š<code>components</code>ã€<code>pages</code>å’Œ<code>utils</code>ï¼Œè¿˜æœ‰2ä¸ªæ–‡ä»¶ï¼š<code>App.vue</code>å’Œ<code>main.js</code>ã€‚å…¶å®å®ƒä»¬éƒ½ä¸æ˜¯å¿…é¡»çš„ï¼Œå¯ä»¥æŒ‰ç…§è‡ªå·±çš„é£æ ¼è¿›è¡Œå®šä¹‰å’Œé…ç½®ã€‚ä¸è¿‡é»˜è®¤åˆ›å»ºçš„è¿™ä¸ªç»“æ„åŸºæœ¬ä¸Šæ˜¯ä¸€ä¸ªçº¦å®šä¿—æˆçš„ç»“æ„äº†ï¼Œæ¯”è¾ƒæ˜“äºç†è§£ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥éµå¾ªè¿™ä¸ªç»“æ„è¿›è¡Œå¼€å‘ã€‚</p>
<ul>
<li>componentsï¼šåœ¨å®é™…å¼€å‘ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å°½é‡å°†ç•Œé¢ä¸Šå¯å¤ç”¨çš„éƒ¨åˆ†ï¼Œæå–æˆvueç»„ä»¶æ”¾å…¥è¯¥ç›®å½•</li>
<li>pagesï¼šå­˜æ”¾å°ç¨‹åºçš„é¡µé¢ã€‚è¯·éµå¾ªæ¯ä¸ªå°ç¨‹åºé¡µé¢æ”¾å…¥ä¸€ä¸ªå•ç‹¬å­ç›®å½•çš„ç»„ç»‡å½¢å¼</li>
<li>utilsï¼šå¯é€‰ï¼ˆå¯åˆ ï¼‰ã€‚å¯ä»¥å°†ä»£ç ä¸­ä¸€äº›å…¬ç”¨å·¥å…·å‡½æ•°ç»„ç»‡æˆæ¨¡å—æ”¾å…¥è¯¥ç›®å½•ä¸‹</li>
<li>å¯æ–°å»ºå…¶ä»–ç›®å½•ï¼Œå­˜æ”¾ä½ å¸Œæœ›ç»„ç»‡èµ·æ¥çš„ä»£ç ã€‚æ¯”å¦‚å…¬ç”¨çš„ä¸šåŠ¡é€»è¾‘ä»£ç ã€è¯·æ±‚åå°APIçš„ä»£ç ç­‰ç­‰</li>
<li>main.js + App.vueï¼šè¿™ä¸¤ä¸ªæ˜¯å…¥å£æ–‡ä»¶ï¼Œç›¸å½“äºåŸç”Ÿå°ç¨‹åºæ¡†æ¶ä¸­çš„<code>app.json</code>å’Œ<code>app.js</code>çš„å¤åˆä½“ã€‚</li>
</ul>
<p>ä¸ºäº†æ¸…æ¥šèµ·è§ï¼Œæˆ‘ä»¬å°†è¦å¯¹vue-cliç”Ÿæˆçš„ä»£ç åšä¸€ä¸ªæ¸…ç†å·¥ä½œï¼Œå…·ä½“å¦‚ä¸‹ï¼š</p>
<ul>
<li>åˆ æ‰<code>src/components</code>ã€<code>src/pages</code>ã€<code>src/utils</code>ä¸‰ä¸ªç›®å½•ä¸‹çš„æ‰€æœ‰ä»£ç æ–‡ä»¶</li>
<li>å°†<code>src/App.vue</code>æ–‡ä»¶ä¸­çš„å†…å®¹é‡ç½®æˆï¼š</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>å°†<code>src/main.js</code>æ–‡ä»¶ä¸­çš„å†…å®¹é‡ç½®æˆï¼š</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import Vue from &#39;vue&#39;</span><br><span class="line">import App from &#39;.&#x2F;App&#39;</span><br><span class="line"></span><br><span class="line">Vue.config.productionTip &#x3D; false</span><br><span class="line">App.mpType &#x3D; &#39;app&#39;</span><br><span class="line"></span><br><span class="line">const app &#x3D; new Vue(App)</span><br><span class="line">app.$mount()</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  config: &#123;</span><br><span class="line">    pages: [],</span><br><span class="line">    window: &#123;</span><br><span class="line">      backgroundTextStyle: &#39;light&#39;,</span><br><span class="line">      navigationBarBackgroundColor: &#39;#fff&#39;,</span><br><span class="line">      navigationBarTitleText: &#39;ç¬¬ä¸€ä¸ªå°ç¨‹åº&#39;,</span><br><span class="line">      navigationBarTextStyle: &#39;black&#39;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è‡³æ­¤ï¼Œæˆ‘ä»¬çš„ä»£ç å°±æˆäº†ä¸€ä¸ªå°ç¨‹åºé¡µé¢éƒ½æ²¡æœ‰çš„åˆå§‹çŠ¶æ€ã€‚</p>
<h4 id="ç¨‹åºå…¥å£"><a href="#ç¨‹åºå…¥å£" class="headerlink" title="ç¨‹åºå…¥å£"></a>ç¨‹åºå…¥å£</h4><p>å­¦ä¹ è¿‡ä½¿ç”¨å°ç¨‹åºåŸç”Ÿæ¡†æ¶å¼€å‘çš„æœ‹å‹éƒ½çŸ¥é“ï¼Œä¸€ä¸ªå°ç¨‹åºçš„å…¥å£åº”è¯¥åŒ…å«è¿™ä¸‰ä¸ªæœ€é‡è¦çš„éƒ¨åˆ†ï¼š<br>1ï¼‰app.json<br>2ï¼‰app.js<br>3ï¼‰é¦–é¡µ</p>
<p>æœ‰äº†è¿™ä¸‰ä¸ªéƒ¨åˆ†ï¼Œæ‰èƒ½æˆåŠŸè¿è¡Œèµ·ä¸€ä¸ªæœ€ç®€å•çš„å°ç¨‹åºã€‚</p>
<h6 id="app-json"><a href="#app-json" class="headerlink" title="app.json"></a>app.json</h6><p><code>app.json</code>æ˜¯å°ç¨‹åºçš„å…¨å±€é…ç½®æ–‡ä»¶ï¼Œå…¶åŒ…å«äº†å°ç¨‹åºçš„é¡µé¢æ–‡ä»¶è·¯å¾„é…ç½®ã€çª—å£çš„å…¨å±€æ ·å¼ä¿¡æ¯ã€åº•éƒ¨é€‰é¡¹å¡å¼èœå•æ çš„é…ç½®ï¼Œä»¥åŠä¸€äº›å°ç¨‹åºç½‘ç»œè¶…æ—¶çš„é…ç½®ç­‰ç­‰ã€‚<code>app.json</code>çš„é…ç½®è¯¦æƒ…æˆ‘ä»¬å¯ä»¥<a href="https://links.jianshu.com/go?to=https%3A%2F%2Fdevelopers.weixin.qq.com%2Fminiprogram%2Fdev%2Fframework%2Fconfig.html" target="_blank" rel="noopener">æŸ¥é˜…å‚è€ƒå°ç¨‹åºçš„å®˜æ–¹æ–‡æ¡£æ¥ä½œè¿›ä¸€æ­¥äº†è§£</a>ã€‚é‚£ä¹ˆï¼Œåœ¨mpvueä¸­æˆ‘ä»¬å¦‚ä½•æ¥åšä¸ä¹‹ç­‰ä»·çš„é…ç½®å‘¢ï¼Ÿ</p>
<p>å…¶å®åœ¨<code>src/main.js</code>ä¸­ï¼Œæˆ‘ä»¬å°±å¯ä»¥å®Œæ•´çš„è¿›è¡Œè¿™äº›ä¿¡æ¯çš„é…ç½®ï¼Œå…·ä½“å¯ä»¥æŸ¥çœ‹è¯¥æ–‡ä»¶çš„æœ€åº•éƒ¨ä»£ç ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export default &#123;</span><br><span class="line">  &#x2F;&#x2F; è¿™éƒ¨åˆ†ç›¸å½“äºåŸç”Ÿå°ç¨‹åºçš„ app.json</span><br><span class="line">  config: &#123;</span><br><span class="line">    pages: [],</span><br><span class="line">    window: &#123;</span><br><span class="line">      backgroundTextStyle: &#39;light&#39;,</span><br><span class="line">      navigationBarBackgroundColor: &#39;#fff&#39;,</span><br><span class="line">      navigationBarTitleText: &#39;ç¬¬ä¸€ä¸ªå°ç¨‹åº&#39;,</span><br><span class="line">      navigationBarTextStyle: &#39;black&#39;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨è¯¥ä»£ç ä¸­é€šè¿‡<code>export default</code>å¯¼å‡ºçš„å¯¹è±¡çš„<code>config</code>å±æ€§ä¸‹çš„å€¼ï¼Œå°±æ˜¯è¿™äº›å°ç¨‹åºçš„é…ç½®ä¿¡æ¯äº†ã€‚</p>
<h6 id="app-js"><a href="#app-js" class="headerlink" title="app.js"></a>app.js</h6><p><code>app.js</code>ä¸­åŒ…å«äº†å°ç¨‹åºçš„å„ç§åŸç”Ÿç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼Œå¦‚<code>onLaunch</code>ã€<code>onShow</code>ç­‰ç­‰ã€‚è€Œåœ¨mpvueä¸­ï¼Œå®ƒä½¿ç”¨äº†ä¸€ä¸ªç®€å•çš„Vueç»„ä»¶<code>App.vue</code>æ¥å®ç°ç­‰ä»·çš„åŠŸèƒ½ã€‚æˆ‘ä»¬åœ¨è¿™ä¸ª<code>App.vue</code>ç»„ä»¶ä¸­å¯ä»¥ç¼–å†™å°ç¨‹åºçš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼ˆé€šå¸¸ä½¿ç”¨Vueçš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼Œä½†ä¹Ÿå…¼å®¹åŸç”Ÿçš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼‰ï¼Œä¹Ÿå¯ä»¥åœ¨å…¶ä¸­åŠ å…¥å°ç¨‹åºçš„å…¨å±€æ ·å¼ï¼ˆç­‰ä»·äºåŸç”Ÿæ–¹å¼ä¸‹çš„<code>app.wxss</code>ï¼‰ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">&#x2F;* è¿™éƒ¨åˆ†ç›¸å½“äºåŸç”Ÿå°ç¨‹åºçš„ app.js *&#x2F;</span><br><span class="line">export default &#123;</span><br><span class="line">  created () &#123;</span><br><span class="line">    console.log(&#39;miniapp created!!!&#39;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">&#x2F;* è¿™éƒ¨åˆ†ç›¸å½“äºåŸç”Ÿå°ç¨‹åºçš„ app.wxss *&#x2F;</span><br><span class="line">.container &#123;</span><br><span class="line">  background-color: #cccccc;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<p>æ¥ç€ï¼Œè¿™ä¸ª<code>App.vue</code>ç»„ä»¶è¢«<code>src/main.js</code>å¼•å…¥å¹¶è¢«è®¾ç½®äº†ä¸€ä¸ª<code>mpType</code>çš„å±æ€§å€¼ï¼Œå…¶å€¼ä¸º<code>app</code>ã€‚è¿™ä¸ªå€¼æ˜¯ä¸ºäº†ä¸åé¢è¦è®²çš„å°ç¨‹åºé¡µé¢ç»„ä»¶æ‰€åŒºåˆ†å¼€æ¥ï¼Œå› ä¸ºå°ç¨‹åºé¡µé¢ç»„ä»¶å’Œè¿™ä¸ª<code>App.vue</code>ç»„ä»¶çš„å†™æ³•å’Œå¼•å…¥æ–¹å¼æ˜¯ä¸€è‡´çš„ï¼Œä¸ºäº†åŒºåˆ†ä¸¤è€…ï¼Œéœ€è¦è®¾ç½®<code>mpType</code>å€¼ã€‚å¼•å…¥è¿™ä¸ª<code>App.vue</code>ç»„ä»¶åï¼Œä¼šç”¨å®ƒä½œä¸ºå‚æ•°æ¥åˆ›å»ºä¸€ä¸ª<a href="https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2Finstance.html" target="_blank" rel="noopener">Vueçš„å®ä¾‹</a>ï¼Œå¹¶è°ƒç”¨<code>$mount()</code>æ–¹æ³•åŠ è½½ã€‚ä¸‹é¢æ˜¯è¿™ä¸ªè¿‡ç¨‹çš„å…³é”®ä»£ç è¡Œï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">App.mpType &#x3D; &#39;app&#39;</span><br><span class="line">const app &#x3D; new Vue(App)</span><br><span class="line">app.$mount()</span><br></pre></td></tr></table></figure>

<h6 id="é¦–é¡µã€ä»¥åŠå…¶ä»–é¡µé¢"><a href="#é¦–é¡µã€ä»¥åŠå…¶ä»–é¡µé¢" class="headerlink" title="é¦–é¡µã€ä»¥åŠå…¶ä»–é¡µé¢"></a>é¦–é¡µã€ä»¥åŠå…¶ä»–é¡µé¢</h6><p>æ¯ä¸ªå°ç¨‹åºéƒ½éœ€è¦è‡³å°‘æœ‰ä¸€ä¸ªé¡µé¢ï¼Œç¬¬ä¸€ä¸ªå±•ç¤ºçš„é¡µé¢è¢«å«åš<em>é¦–é¡µ</em>ã€‚å› ä¸ºå‰é¢å·²ç»æŠŠæ‰€æœ‰çš„é¡µé¢ä»£ç éƒ½åˆ å®Œäº†ï¼Œæ‰€ä»¥æˆ‘ä»¬ç°åœ¨è¦æ–°å»ºä¸€ä¸ªé¦–é¡µã€‚åœ¨<code>src/pages</code>ç›®å½•ä¸‹ï¼Œæˆ‘ä»¬æ–°å»ºä¸€ä¸ªåä¸º<code>index</code>çš„å­ç›®å½•ï¼ˆè¯·éµå¾ªæ¯ä¸ªé¡µé¢æ”¾å…¥ä¸€ä¸ªå­ç›®å½•çš„è‰¯å¥½ä¹ æƒ¯ï¼‰ï¼Œç„¶ååœ¨è¯¥å­ç›®å½•ä¸‹ï¼Œæ–°å»º2ä¸ªæ–‡ä»¶ï¼šä¸€ä¸ªç”¨äºå®ç°é¡µé¢ä¸»ä½“åŠŸèƒ½çš„<code>index.vue</code>ç»„ä»¶ï¼Œå¦ä¸€ä¸ªåˆ™ç”¨äºå°†è¿™ä¸ªé¡µé¢ç»„ä»¶ç”ŸæˆVueå®ä¾‹å¹¶åŠ è½½çš„<code>main.js</code>ã€‚ä»¥åçš„æ¯ä¸€ä¸ªmpvueé¡µé¢ç»„ä»¶éƒ½ä¼šæ‹¥æœ‰è¿™æ ·çš„ç»“æ„ã€‚</p>
<p><img src="http://upload-images.jianshu.io/upload_images/3407939-db653d8b653c1824.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/542/format/webp" alt="img"></p>
<p>ç„¶ååœ¨<code>main.js</code>ä¸­ç¼–å†™å¦‚ä¸‹ä»£ç ï¼Œéå¸¸ç®€å•çš„ä¸€æ®µä»£ç ï¼Œå®ƒçš„åŠŸèƒ½æ˜¯å¼•å…¥<code>index.vue</code>å¹¶åˆ›å»ºVueå®ä¾‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import Vue from &#39;vue&#39;</span><br><span class="line">import App from &#39;.&#x2F;index&#39;</span><br><span class="line"></span><br><span class="line">const app &#x3D; new Vue(App)</span><br><span class="line">app.$mount()</span><br></pre></td></tr></table></figure>

<p>å½“ç„¶äº†ï¼Œä½ ä¹Ÿå¯ä»¥åƒåœ¨<code>src/main.js</code>ä¸­ä¸€æ ·å»å¯¼å‡ºä¸€ä¸ªé¡µé¢çº§åˆ«çš„é…ç½®ï¼Œå› ä¸ºå°ç¨‹åºçš„æ¯ä¸ªé¡µé¢éƒ½å¯ä»¥æœ‰ä¸€äº›å•ç‹¬çš„é…ç½®ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import Vue from &#39;vue&#39;</span><br><span class="line">import App from &#39;.&#x2F;index&#39;</span><br><span class="line"></span><br><span class="line">const app &#x3D; new Vue(App)</span><br><span class="line">app.$mount()</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  config: &#123;</span><br><span class="line">    &#x2F;&#x2F; æ³¨æ„ï¼Œé¡µé¢çº§å¯é…ç½®å±æ€§ç›¸å½“äºåªæ˜¯&#96;src&#x2F;main.js&#96;ä¸­é…ç½®é‡Œçš„&#96;window&#96;éƒ¨åˆ†</span><br><span class="line">    &quot;navigationBarTitleText&quot;: &quot;æ–‡ç« åˆ—è¡¨é¡µé¢&quot;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ¥ç€ï¼Œæˆ‘ä»¬éœ€è¦å®ç°<code>index.vue</code>é¡µé¢ç»„ä»¶ï¼Œå®ƒçš„å†™æ³•æ˜¯æœ€å…¸å‹çš„Vueç»„ä»¶å†™æ³•ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class&#x3D;&quot;container&quot; @click&#x3D;&quot;clickHandle&quot;&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;message&quot;&gt;&#123;&#123;msg&#125;&#125;&lt;&#x2F;div&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      msg: &#39;Hello&#39;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  methods: &#123;</span><br><span class="line">    clickHandle () &#123;</span><br><span class="line">      this.msg &#x3D; &#39;Clicked!!!!!!&#39;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">.message &#123;</span><br><span class="line">  color: red;</span><br><span class="line">  padding: 10px;</span><br><span class="line">  text-align: center;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹åˆ°ï¼Œè¿™ä¸ªç»„ä»¶å®Œå…¨çœ‹ä¸åˆ°å°ç¨‹åºå†™æ³•çš„å½±å­ï¼Œè€Œæ˜¯å…¨éƒ¨ç”±Vueå¼€å‘Webåº”ç”¨çš„å†™æ³•æ¥å®Œæˆï¼šæ•°æ®ç»‘å®šã€äº‹ä»¶å¤„ç†ã€scopedå±€éƒ¨æ ·å¼ã€ä»¥åŠä½¿ç”¨HTMLæ ‡ç­¾æ¥æ„å»ºç•Œé¢ã€‚è¿™æ ·æœ€å¤§åŒ–çš„ä¿æŒå’Œç½‘é¡µåº”ç”¨å¼€å‘ä¸€è‡´ï¼Œå‡å°‘äº†å‰ç«¯äººå‘˜åˆ‡æ¢åˆ°å°ç¨‹åºçš„å­¦ä¹ ç†è§£æˆæœ¬ï¼Œä¹Ÿä¸ºåŸå…ˆä½¿ç”¨Vueå¼€å‘çš„ç½‘é¡µåº”ç”¨ç§»æ¤åˆ°å°ç¨‹åºå¹³å°æä¾›äº†é™ä½è¿ç§»æˆæœ¬çš„å¯èƒ½ã€‚</p>
<p>æ¨¡æ¿éƒ¨åˆ†æˆ‘ä»¬é€šå¸¸å¯ä»¥ç”¨HTMLæ ‡ç­¾æ¥å†™ï¼Œæ¯”å¦‚<code>div</code>ã€<code>span</code>ç­‰ï¼Œå®ƒä»¬ä¼šåœ¨ç¼–è¯‘çš„æ—¶å€™è¢«è‡ªåŠ¨è½¬æ¢æˆå°ç¨‹åºçš„åŸç”Ÿç»„ä»¶<code>view</code>ã€<code>text</code>ä¹‹ç±»ï¼›è€Œé‚£äº›å°ç¨‹åºç‰¹æœ‰çš„ç»„ä»¶å¦‚<code>swiper</code>ã€<code>rich-text</code>ç­‰ï¼Œå¯ä»¥ç›´æ¥åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨ã€‚</p>
<p>åœ¨åŸç”Ÿå°ç¨‹åºçš„é¡µé¢ï¼ˆPageï¼‰ä¸­åŒ…å«äº†å¾ˆå¤šé¡µé¢çš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼Œå¦‚<code>onLoad</code>ã€<code>onUnload</code>ã€<code>onShow</code>ã€<code>onHide</code>ã€<code>onPullDownRefresh</code>ç­‰ç­‰ï¼Œmpvueä¸­æ¨èä½¿ç”¨Vueç»„ä»¶ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼Œè€Œåƒ<code>onPullDownRefresh</code>ã€<code>onReachBottom</code>è¿™ç±»ç‰¹æ®ŠåŠŸèƒ½çš„ç”Ÿå‘½å‘¨æœŸåˆ™éœ€ç›´æ¥ä½¿ç”¨åŸç”Ÿçš„ã€‚</p>
<p>å›å¤´å†æ¥çœ‹ï¼Œå½“æˆ‘ä»¬å®ç°äº†è¿™ä¸ª<code>index.vue</code>é¡µé¢ç»„ä»¶åï¼Œå…¶å®è¿˜ç¼ºæœ€åä¸€ä¸ªæ­¥éª¤ï¼Œå°±æ˜¯éœ€è¦å°†è¿™ä¸ªé¡µé¢ç»„ä»¶æŒ‡å®šä¸ºé¦–é¡µã€‚å¦‚æœæˆ‘ä»¬çš„å°ç¨‹åºåªæœ‰ä¸€ä¸ªé¡µé¢çš„è¯ï¼Œå…¶å®ä¹Ÿå¯ä»¥çœç•¥è¿™ä¸€æ­¥ï¼Œå› ä¸ºmpvueä¼šè‡ªåŠ¨å°†<code>src/pages</code>ç›®å½•ä¸‹çš„é¡µé¢ç»„ä»¶è·¯å¾„æ·»åŠ åˆ°æœ€ç»ˆç¼–è¯‘å‡ºæ¥çš„å°ç¨‹åºé…ç½®æ–‡ä»¶ä¸­å»ï¼ˆå¯ä»¥æ‰“å¼€<code>dist/app.json</code>æ–‡ä»¶è§‚å¯Ÿä¸€ä¸‹ï¼‰ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;pages&quot;: [</span><br><span class="line">    &quot;pages&#x2F;index&#x2F;main&quot;</span><br><span class="line">  ],</span><br><span class="line">  &quot;window&quot;: &#123;</span><br><span class="line">    &quot;backgroundTextStyle&quot;: &quot;light&quot;,</span><br><span class="line">    &quot;navigationBarBackgroundColor&quot;: &quot;#fff&quot;,</span><br><span class="line">    &quot;navigationBarTitleText&quot;: &quot;ç¬¬ä¸€ä¸ªå°ç¨‹åº&quot;,</span><br><span class="line">    &quot;navigationBarTextStyle&quot;: &quot;black&quot;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä½†æ˜¯ï¼Œå¤§å¤šæ•°æƒ…å†µä¸‹æˆ‘ä»¬çš„å°ç¨‹åºä¼šç”±å¾ˆå¤šä¸ªé¡µé¢ç»„æˆï¼Œåœ¨<code>src/pages</code>ç›®å½•ä¸‹ç¼–å†™å¤šä¸ªé¡µé¢ç»„ä»¶åï¼Œmpvueä¹Ÿä¼šè‡ªåŠ¨æŠŠå®ƒä»¬éƒ½æ·»åŠ è¿›é…ç½®æ–‡ä»¶ï¼Œä½†æ˜¯ç”±äºå°ç¨‹åºæœ‰ä¸€ä¸ªæœºåˆ¶ï¼š</p>
<blockquote>
<p>é…ç½®æ–‡ä»¶ä¸­pagesæ•°ç»„é‡Œçš„ç¬¬ä¸€ä¸ªpageè·¯å¾„ä¼šè¢«å½“åšæ˜¯é¦–é¡µ</p>
</blockquote>
<p>å¦‚æœä½ æœŸæœ›çš„é¦–é¡µç»„ä»¶å¹¶æ²¡æœ‰è¢«mpvueæ·»åŠ åˆ°ç¬¬ä¸€ä¸ªè·¯å¾„çš„è¯ï¼Œå°±ä¸ä¼šè¢«å½“åšé¦–é¡µæ˜¾ç¤ºã€‚æ¯”å¦‚æœ‰å¤šä¸ªé¡µé¢ï¼Œå¹¶åœ¨<code>dist/app.json</code>é‡Œç”Ÿæˆçš„æ˜¯ä¸‹é¢çš„åºåˆ—ï¼Œåˆ™ç¬¬ä¸€ä¸ª<code>pages/articles/main</code>é¡µé¢ä¼šè¢«å½“åšé¦–é¡µï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&quot;pages&quot;: [</span><br><span class="line">  &quot;pages&#x2F;articles&#x2F;main&quot;,</span><br><span class="line">  &quot;pages&#x2F;authors&#x2F;main&quot;,</span><br><span class="line">  &quot;pages&#x2F;index&#x2F;main&quot;,</span><br><span class="line">  &quot;pages&#x2F;kickstart&#x2F;main&quot;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<p>ä¸ºäº†è§£å†³è¿™ç§æƒ…å†µï¼Œæˆ‘ä»¬éœ€è¦æ˜¾å¼çš„å»æŒ‡å®šé¦–é¡µã€‚å¯ä»¥åœ¨<code>src/main.js</code>çš„é…ç½®é‡Œï¼ŒåŠ å…¥è¿™æ ·ä¸€è¡Œé…ç½®ä¿¡æ¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">pages: [</span><br><span class="line">  &#39;^pages&#x2F;index&#x2F;main&#39;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„ï¼šä»¥ä¸Šé…ç½®ä¸­æŒ‡å®šä¸ºé¦–é¡µçš„è·¯å¾„å‰é¢æœ‰ä¸ª<code>^</code>ç¬¦å·ã€‚</p>
<p>åŠ å…¥è¿™è¡Œé…ç½®ä¹‹åï¼Œ<code>pages/index/main</code>æ€»æ˜¯ä¼šåœ¨æœ€ç»ˆç”Ÿæˆçš„<code>dist/app.json</code>ä¸­æ’åœ¨ç¬¬ä¸€ä¸ªä½ç½®ï¼Œæˆä¸ºé¦–é¡µã€‚</p>
<p>æ—¢ç„¶<code>mpvue</code>æ˜¯åŸºäºVueçš„ï¼Œé‚£ä¹ˆå°±æ²¡æœ‰ç†ç”±ä¸è¿›ä¸€æ­¥å­¦ä¹ ä¸€ä¸‹Vueæœ€æ ¸å¿ƒçš„ä¸œè¥¿ï¼š<em>ç»„ä»¶</em>ã€‚ç»„ä»¶ç³»ç»Ÿæ˜¯Vueåº”ç”¨å¼€å‘ä¸­æœ€å…·ä»·å€¼çš„ç‰¹æ€§ä¹‹ä¸€ï¼Œåœ¨å‰æ–‡ä¸­å…¶å®æˆ‘ä»¬å°±å·²ç»æœ‰åœ¨ä½¿ç”¨ç»„ä»¶äº†ï¼Œæ¯”å¦‚<code>App.vue</code>å’Œé¦–é¡µ<code>index.vue</code>å°±æ˜¯ä¸¤ä¸ªVueç»„ä»¶ã€‚</p>
<p>ç»„ä»¶æ˜¯ä¸€ç§æŠ½è±¡ï¼Œå…è®¸æˆ‘ä»¬ä½¿ç”¨å°å‹ã€ç‹¬ç«‹å’Œé€šå¸¸å¯å¤ç”¨çš„ç»„ä»¶æ„å»ºå¤§å‹åº”ç”¨ã€‚ä»”ç»†æƒ³æƒ³ï¼Œå‡ ä¹ä»»æ„ç±»å‹çš„åº”ç”¨ç•Œé¢éƒ½å¯ä»¥æŠ½è±¡ä¸ºä¸€ä¸ªç»„ä»¶æ ‘ï¼Œè‹¥å¹²çš„å°ç»„ä»¶å¯ä»¥èšåˆæˆä¸€ä¸ªå®Œæ•´çš„ç•Œé¢ï¼š</p>
<p><img src="http://upload-images.jianshu.io/upload_images/3407939-63a928c25e48b726.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp" alt="img"></p>
<p>ä¸€ä¸ªå¥½çš„ç»„ä»¶ç³»ç»Ÿä¸€å®šä¼šæœ‰è¿™äº›ç‰¹ç‚¹ï¼šå°è£…æ€§ã€å¤ç”¨æ€§ã€æ‰©å±•æ€§ã€‚å¯¹äºVueçš„ç»„ä»¶æ¥è¯´ï¼Œè¿™å‡ ç‚¹éƒ½ç®—æ˜¯å®ç°çš„æ¯”è¾ƒçš„ä¼˜ç§€çš„ã€‚</p>
<h4 id="ç»„ä»¶çš„å°è£…æ€§"><a href="#ç»„ä»¶çš„å°è£…æ€§" class="headerlink" title="ç»„ä»¶çš„å°è£…æ€§"></a>ç»„ä»¶çš„å°è£…æ€§</h4><p>Vueç»„ä»¶çš„å†™æ³•å¯ä»¥é¿å…å°†å±äºä¸€ä¸ªç‹¬ç«‹é€»è¾‘å•ä½çš„ä»£ç æ•£è½åœ¨å„å¤„ï¼Œå¯ä»¥å°†ç•Œé¢ï¼ˆDOMï¼‰ã€æ ·å¼ï¼ˆCSSï¼‰ã€è¡Œä¸ºï¼ˆJSï¼‰ä¸‰éƒ¨åˆ†çš„ä»£ç å¾ˆå¥½çš„ç»„ç»‡åœ¨ä¸€èµ·ï¼ˆæ¨èçš„å®è·µæ˜¯ä½¿ç”¨<code>.vue</code>æ–‡ä»¶ï¼‰ã€‚åœ¨è®¾è®¡ç¼–å†™ä¸€ä¸ªç»„ä»¶æ—¶ï¼Œæˆ‘ä»¬è¦è®°ä½çš„åŸåˆ™å°±æ˜¯ï¼š</p>
<blockquote>
<p>é¿å…å‘å¤–éƒ¨æš´éœ²è¿‡å¤šçš„ä¸œè¥¿ï¼Œåªæš´éœ²å¿…è¦çš„å¤–éƒ¨äº¤äº’æ¥å£ï¼ˆç»„ä»¶å±æ€§ã€äº‹ä»¶ã€æ–¹æ³•ç­‰ï¼‰ã€‚</p>
</blockquote>
<p>ä¸‹é¢æˆ‘ä»¬æ¥åœ¨åŸå…ˆçš„ä»£ç åŸºç¡€ä¸Šï¼Œåˆ›å»ºä¸€ä¸ªç®€å•çš„æŒ‰é’®ç‚¹å‡»è®¡æ•°å™¨ç»„ä»¶ï¼Œå®ƒå°†å®ç°çš„åŠŸèƒ½æ˜¯ï¼šç‚¹å‡»æŒ‰é’®å¹¶å±•ç¤ºå·²ç‚¹å‡»æŒ‰é’®æ¬¡æ•°ã€ç‚¹å‡»æ¸…é›¶æŒ‰é’®å®ç°ç‚¹å‡»æ¬¡æ•°çš„å½’é›¶ã€‚åœ¨<code>src/components</code>ç›®å½•ä¸‹ï¼Œæ–°å»ºä¸€ä¸ª<code>click-counter.vue</code>ç»„ä»¶æ–‡ä»¶ï¼Œå¹¶ç¼–å†™å¦‚ä¸‹ä»£ç ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class&#x3D;&quot;click-counter&quot;&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;counter-num&quot;&gt;æ¬¡æ•°ï¼š&#123;&#123;num&#125;&#125;&lt;&#x2F;div&gt;</span><br><span class="line">    &lt;button class&#x3D;&quot;counter-btn&quot; @click&#x3D;&quot;handleClick&quot;&gt;ç‚¹æˆ‘å‘€ï¼&lt;&#x2F;button&gt;</span><br><span class="line">    &lt;button class&#x3D;&quot;counter-reset-btn&quot; @click&#x3D;&quot;handleResetClick&quot;&gt;æ¸…é›¶&lt;&#x2F;button&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      num: 0</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  methods: &#123;</span><br><span class="line">    handleClick() &#123;</span><br><span class="line">      this.num +&#x3D; 1;</span><br><span class="line">    &#125;,</span><br><span class="line">    handleResetClick() &#123;</span><br><span class="line">      this.num &#x3D; 0;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">.click-counter &#123;</span><br><span class="line">  display: flex;</span><br><span class="line">  align-items: center;</span><br><span class="line">  justify-content: center;</span><br><span class="line">  border: 1px solid red;</span><br><span class="line">  background-color: #ffffff;</span><br><span class="line">  padding: 10px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.counter-num,</span><br><span class="line">.counter-btn,</span><br><span class="line">.counter-reset-btn &#123;</span><br><span class="line">  flex: 1;</span><br><span class="line">  margin: 3px;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<p>ç¼–å†™å®Œè¿™ä¸ªç»„ä»¶åï¼Œæˆ‘ä»¬æ¥å°è¯•åœ¨é¦–é¡µç»„ä»¶<code>src/pages/index/index.vue</code>æ–‡ä»¶ä¸­ä½¿ç”¨å®ƒï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class&#x3D;&quot;container&quot; @click&#x3D;&quot;clickHandle&quot;&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;message&quot;&gt;&#123;&#123;msg&#125;&#125;&lt;&#x2F;div&gt;</span><br><span class="line">    &lt;!-- ä½¿ç”¨ click-counter ç»„ä»¶ --&gt;</span><br><span class="line">    &lt;click-counter &#x2F;&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">&#x2F;&#x2F; å¯¼å…¥ click-counter ç»„ä»¶</span><br><span class="line">import ClickCounter from &quot;@&#x2F;components&#x2F;click-counter&quot;;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  &#x2F;&#x2F; å£°æ˜åœ¨å½“å‰ç»„ä»¶ä¸‹ä½¿ç”¨ counter-click ç»„ä»¶</span><br><span class="line">  components: &#123; ClickCounter &#125;,</span><br><span class="line"></span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      msg: &quot;Hello&quot;</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  methods: &#123;</span><br><span class="line">    clickHandle() &#123;</span><br><span class="line">      this.msg &#x3D; &quot;Clicked!!!!!!&quot;;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">.message &#123;</span><br><span class="line">  color: red;</span><br><span class="line">  padding: 10px;</span><br><span class="line">  text-align: center;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<p>å®Œæˆä¸Šé¢ä¸¤ä¸ªæ­¥éª¤åï¼Œè®°å¾—é‡æ–°è¿è¡Œä¸€ä¸‹å‘½ä»¤è¡Œ<code>npm run dev</code>ï¼ˆæ³¨æ„ç‚¹ï¼šæ–°å¢æ–‡ä»¶å¿…é¡»é‡æ–°è¿è¡Œè¯¥å‘½ä»¤ï¼Œç¼–è¯‘å™¨ä¸ä¼šè‡ªåŠ¨æ£€æµ‹æ–°åŠ å…¥çš„æ–‡ä»¶ï¼‰ã€‚æˆåŠŸåé€šè¿‡å¾®ä¿¡å¼€å‘è€…å·¥å…·çš„æ¨¡æ‹Ÿå™¨æŸ¥çœ‹ï¼Œç»“æœç•Œé¢å°†ä¼šæ˜¯è¿™æ ·çš„ï¼š</p>
<p><img src="http://upload-images.jianshu.io/upload_images/3407939-c8f38ba44e45af23.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/377/format/webp" alt="img"></p>
<p>ç‚¹å‡»â€œç‚¹æˆ‘å‘€ï¼â€æŒ‰é’®ï¼Œè®¡æ•°å™¨å°±ä¼šç´¯åŠ ç‚¹å‡»æ¬¡æ•°å¹¶æ›´æ–°ç•Œé¢ä¸Šçš„æ•°å­—ï¼›è€Œç‚¹å‡»â€œæ¸…é›¶â€æŒ‰é’®ï¼Œåˆ™ä¼šå°†ç»Ÿè®¡æ•°å­—å½’é›¶ã€‚</p>
<p>å›åˆ°ä»£ç ä¸Šæ¥çœ‹ï¼Œå¯¹äº<code>click-counter.vue</code>çš„ä½¿ç”¨è€…<code>index.vue</code>æ¥è¯´ï¼Œå®ƒå¹¶ä¸å…³å¿ƒå¤ªå¤š<code>click-counter.vue</code>çš„å®ç°ç»†èŠ‚ï¼Œå¼•å…¥è¯¥ç»„ä»¶æ–‡ä»¶å¹¶è¿›è¡Œå£°æ˜ï¼Œå°±å¯ä»¥é€šè¿‡æ ‡ç­¾çš„å½¢å¼æ¥ä½¿ç”¨å®ƒäº†ï¼Œéå¸¸ç®€å•æ˜äº†ã€‚è€Œä¸”ï¼Œè¿™æ ·ä¸€ä¸ª<code>click-counter.vue</code>ç»„ä»¶ä¹Ÿå¯ä»¥è¢«æ‹¿åˆ°å…¶ä»–çš„Vue/mpvueä»£ç ä¸­ä½¿ç”¨ï¼Œå…¶ä»–ä½¿ç”¨è€…ä¹Ÿå¹¶ä¸éœ€è¦å…³æ³¨å®ƒçš„å®ç°ç»†èŠ‚ï¼Œè€Œåªéœ€è¦å…³å¿ƒå®ƒèƒ½å®ç°ä»€ä¹ˆåŠŸèƒ½å°±è¡Œäº†ã€‚è¿™å°±æ˜¯ç»„ä»¶å°è£…å¸¦æ¥çš„å¥½å¤„ã€‚</p>
<p>ä¸è¿‡ï¼Œç›®å‰çš„è¿™ä¸ªclick-counterç»„ä»¶è¿˜æ²¡æœ‰è·Ÿå®ƒçš„çˆ¶ç»„ä»¶ä¹‹é—´æœ‰ä»€ä¹ˆäº¤äº’æˆ–é€šä¿¡ï¼Œæ²¡æœ‰ä½“ç°å‡ºâ€œæš´éœ²æ¥å£â€çš„ç‰¹æ€§ï¼Œé‚£è®©æˆ‘ä»¬æ¥å¢åŠ ç‚¹ä»£ç ï¼Œäº†è§£ä¸‹è¿™ä¸€ç‰¹æ€§ã€‚é¦–å…ˆè§£é‡Šä¸€ä¸‹æˆ‘ä»¬è¦å®ç°çš„åŠŸèƒ½ï¼šç»„ä»¶å¯ä»¥æ¥æ”¶ä¸€ä¸ªå¤–éƒ¨è®¾ç½®çš„åˆå§‹ç‚¹å‡»æ¬¡æ•°å€¼ï¼Œåœ¨ç‚¹å‡»â€œç‚¹æˆ‘å‘€ï¼â€æŒ‰é’®çš„æ—¶å€™ï¼Œä»è¿™ä¸ªåˆå§‹å€¼å¼€å§‹è¿›è¡Œç´¯åŠ ï¼›å¹¶ä¸”ç‚¹å‡»æŒ‰é’®åï¼Œå¯ä»¥é€šçŸ¥ç»„ä»¶çš„ä½¿ç”¨è€…ï¼ˆå³çˆ¶ç»„ä»¶ï¼‰å½“å‰çš„ç‚¹å‡»ç»Ÿè®¡å€¼ã€‚</p>
<p>ä¿®æ”¹<code>click-counter.vue</code>çš„ä»£ç ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class&#x3D;&quot;click-counter&quot;&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;counter-num&quot;&gt;æ¬¡æ•°ï¼š&#123;&#123;num&#125;&#125;&lt;&#x2F;div&gt;</span><br><span class="line">    &lt;button class&#x3D;&quot;counter-btn&quot; @click&#x3D;&quot;handleClick&quot;&gt;ç‚¹æˆ‘å‘€ï¼&lt;&#x2F;button&gt;</span><br><span class="line">    &lt;button class&#x3D;&quot;counter-reset-btn&quot; @click&#x3D;&quot;handleResetClick&quot;&gt;æ¸…é›¶&lt;&#x2F;button&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  &#x2F;&#x2F; å¢åŠ ä¸€ä¸ªå¯ä»å¤–éƒ¨ä¼ å…¥çš„å±æ€§initNum</span><br><span class="line">  props: &#123;</span><br><span class="line">    initNum: &#123;</span><br><span class="line">      type: Number,</span><br><span class="line">      default: 0</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      num: this.initNum &#x2F;&#x2F;ä½¿ç”¨ä¼ å…¥çš„initNumå€¼ä½œä¸ºåˆå§‹çš„ç‚¹å‡»æ•°</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  methods: &#123;</span><br><span class="line">    handleClick() &#123;</span><br><span class="line">      this.num +&#x3D; 1;</span><br><span class="line">      this.notifyNum();</span><br><span class="line">    &#125;,</span><br><span class="line">    handleResetClick() &#123;</span><br><span class="line">      this.num &#x3D; 0;</span><br><span class="line">      this.notifyNum();</span><br><span class="line">    &#125;,</span><br><span class="line">    notifyNum() &#123;</span><br><span class="line">      &#x2F;&#x2F;è§¦å‘è‡ªå®šä¹‰äº‹ä»¶ clicknum</span><br><span class="line">      this.$emit(&quot;clicknum&quot;, &#123;</span><br><span class="line">        num: this.num</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">.click-counter &#123;</span><br><span class="line">  display: flex;</span><br><span class="line">  align-items: center;</span><br><span class="line">  justify-content: center;</span><br><span class="line">  border: 1px solid red;</span><br><span class="line">  background-color: #ffffff;</span><br><span class="line">  padding: 10px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.counter-num,</span><br><span class="line">.counter-btn,</span><br><span class="line">.counter-reset-btn &#123;</span><br><span class="line">  flex: 1;</span><br><span class="line">  margin: 3px;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<p>ä¿®æ”¹<code>index.vue</code>çš„ä»£ç ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class&#x3D;&quot;container&quot; @click&#x3D;&quot;clickHandle&quot;&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;message&quot;&gt;&#123;&#123;msg&#125;&#125;&lt;&#x2F;div&gt;</span><br><span class="line">    &lt;!-- ä½¿ç”¨ click-counter ç»„ä»¶ --&gt;</span><br><span class="line">    &lt;click-counter :init-num&#x3D;&quot;10&quot; @clicknum&#x3D;&quot;handleClickNum&quot; &#x2F;&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">&#x2F;&#x2F; å¯¼å…¥ click-counter ç»„ä»¶</span><br><span class="line">import ClickCounter from &quot;@&#x2F;components&#x2F;click-counter&quot;;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  &#x2F;&#x2F; å£°æ˜åœ¨å½“å‰ç»„ä»¶ä¸‹ä½¿ç”¨ counter-click ç»„ä»¶</span><br><span class="line">  components: &#123; ClickCounter &#125;,</span><br><span class="line"></span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      msg: &quot;Hello&quot;</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  methods: &#123;</span><br><span class="line">    clickHandle() &#123;</span><br><span class="line">      this.msg &#x3D; &quot;Clicked!!!!!!&quot;;</span><br><span class="line">    &#125;,</span><br><span class="line">    handleClickNum(data) &#123;</span><br><span class="line">      console.log(&quot;&gt;&gt;&gt;&gt;&gt;&gt;&quot;, data.num);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">.message &#123;</span><br><span class="line">  color: red;</span><br><span class="line">  padding: 10px;</span><br><span class="line">  text-align: center;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<p>è§‚å¯Ÿä»¥ä¸Šä¿®æ”¹åçš„ä»£ç å¯ä»¥å‘ç°ï¼Œåœ¨<code>click-couter.vue</code>ä¸­çš„ä¸»è¦å˜åŒ–æ˜¯ï¼š</p>
<ol>
<li>ä½¿ç”¨<code>props</code>å®šä¹‰äº†ä¸€ä¸ªåä¸º<code>initNum</code>çš„æ•°å­—å‹ç»„ä»¶å±æ€§ï¼ˆä¸”åˆå§‹å€¼ä¸º0ï¼‰ã€‚å®ƒå¯ç”¨äºæ¥æ”¶ä½¿ç”¨ç»„ä»¶å¤–éƒ¨ä¼ å…¥çš„å€¼ã€‚ç„¶åï¼Œè¿™ä¸ª<code>initNum</code>å€¼è¢«èµ‹å€¼åˆ°<code>data</code>ä¸­çš„å±æ€§<code>num</code>ä¸Šä½œä¸ºå®ƒçš„åˆå§‹å€¼ã€‚</li>
<li>åœ¨ä¸¤ä¸ªæŒ‰é’®çš„clickäº‹ä»¶å¤„ç†æ–¹æ³•ä¸­ï¼Œé¢å¤–è°ƒç”¨äº†ä¸€ä¸ª<code>notifyNum()</code>æ–¹æ³•ï¼Œå®ƒå‘ç»„ä»¶è§¦å‘äº†ä¸€ä¸ªè‡ªå®šä¹‰äº‹ä»¶<code>clicknum</code>å¹¶æºå¸¦äº†å½“å‰ç‚¹å‡»æ¬¡æ•°å€¼ã€‚</li>
</ol>
<p>è€Œåœ¨<code>index.vue</code>ä¸­çš„ä¸»è¦å˜åŒ–æ˜¯å®ä¾‹åŒ–<code>click-counter</code>ç»„ä»¶çš„è¿™è¡Œä»£ç ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;click-counter :init-num&#x3D;&quot;10&quot; @clicknum&#x3D;&quot;handleClickNum&quot; &#x2F;&gt;</span><br></pre></td></tr></table></figure>

<p>å®ä¾‹åŒ–ç»„ä»¶çš„æ—¶å€™ï¼Œä¸ºç»„ä»¶ä¼ å…¥äº†<code>initNum</code>å±æ€§å€¼<code>10</code>ï¼›å¹¶ä¸”æ·»åŠ äº†ä¸€ä¸ªå¯¹è‡ªå®šä¹‰äº‹ä»¶<code>clicknum</code>çš„ç›‘å¬æ–¹æ³•ã€‚</p>
<p>è¿™æ ·ä¸€ä¸ªç»“æ„å®ç°äº†æ•°æ®è¿›å…¥ç»„ä»¶/æ•°æ®ä¼ å‡ºç»„ä»¶çš„æœºåˆ¶ï¼Œçˆ¶å­ç»„ä»¶ä¹‹é—´å°±èƒ½å®ç°æ•°æ®é€šä¿¡ã€‚é€šè¿‡æœ‰é™çš„é€šä¿¡ç‚¹è¿›è¡Œæ•°æ®äº’æ¢ï¼Œè€Œä¸æ˜¯ç›´æ¥è¿›è¡Œå‡½æ•°è°ƒç”¨ï¼Œå¯ä»¥ä½¿å¾—ä»£ç ç»“æ„æ›´ä¼˜é›…ã€æ›´æ˜“ç»´æŠ¤ã€‚</p>
<h4 id="ç»„ä»¶çš„å¤ç”¨æ€§"><a href="#ç»„ä»¶çš„å¤ç”¨æ€§" class="headerlink" title="ç»„ä»¶çš„å¤ç”¨æ€§"></a>ç»„ä»¶çš„å¤ç”¨æ€§</h4><p>ç»„ä»¶çš„å¤ç”¨æ€§å°±å¥½ç†è§£çš„å¤šäº†ï¼Œåˆ›å»ºç»„ä»¶çš„ç›®çš„ï¼Œå¤§å¤šæ•°æ—¶å€™å°±æ˜¯å¸Œæœ›è¿™ä¸ªç»„ä»¶å¯ä»¥è¢«å¤šä¸ªåœ°æ–¹ã€å¤šæ¬¡ä½¿ç”¨ï¼Œé¿å…ç¼–å†™é‡å¤çš„ä»£ç ã€‚æ¯”å¦‚æˆ‘ä»¬å‰é¢çš„è®¡æ•°å™¨ç»„ä»¶ï¼Œæœ‰å¯èƒ½ä¸€ä¸ªé¡¹ç›®ä¸­çš„å¤šä¸ªé¡µé¢ä¼šç”¨åˆ°ï¼Œä¹Ÿå¯èƒ½ä¸€ä¸ªé¡µé¢å°±ä¼šä½¿ç”¨å¤šæ¬¡ã€‚</p>
<p>Vueç»„ä»¶çš„å¤ç”¨ä¹Ÿæ˜¯å¾ˆå®¹æ˜“çš„ï¼Œæ¯”å¦‚æˆ‘ä»¬è¦åœ¨å‰é¢ä¾‹å­ä¸­çš„<code>index.vue</code>ä¸­å¤ç”¨è®¡æ•°å™¨ç»„ä»¶ï¼Œåˆ›å»º3ä¸ªè®¡æ•°å™¨ï¼Œé‚£ä¹ˆç›´æ¥åœ¨æ¨¡æ¿éƒ¨åˆ†ç¼–å†™3ä¸ªæ ‡ç­¾å°±è¡Œäº†:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class&#x3D;&quot;container&quot; @click&#x3D;&quot;clickHandle&quot;&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;message&quot;&gt;&#123;&#123;msg&#125;&#125;&lt;&#x2F;div&gt;</span><br><span class="line">    &lt;!-- åˆ›å»º 3ä¸ª click-counter ç»„ä»¶ --&gt;</span><br><span class="line">    &lt;click-counter :init-num&#x3D;&quot;10&quot; @clicknum&#x3D;&quot;handleClickNum&quot; &#x2F;&gt;</span><br><span class="line">    &lt;click-counter :init-num&#x3D;&quot;20&quot; @clicknum&#x3D;&quot;handleClickNum&quot; &#x2F;&gt;</span><br><span class="line">    &lt;click-counter :init-num&#x3D;&quot;30&quot; @clicknum&#x3D;&quot;handleClickNum&quot; &#x2F;&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œåçš„æ•ˆæœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œè¿™ä¸‰ä¸ªè®¡æ•°å™¨éƒ½èƒ½ç‹¬ç«‹ç»Ÿè®¡å„è‡ªçš„ç‚¹å‡»æ•°é‡ï¼š</p>
<p><img src="http://upload-images.jianshu.io/upload_images/3407939-fc10dbe6b6f4c08e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/379/format/webp" alt="img"></p>
<h4 id="ç»„ä»¶çš„æ‰©å±•æ€§"><a href="#ç»„ä»¶çš„æ‰©å±•æ€§" class="headerlink" title="ç»„ä»¶çš„æ‰©å±•æ€§"></a>ç»„ä»¶çš„æ‰©å±•æ€§</h4><p>è°ˆåˆ°æ‰©å±•æ€§ï¼Œæœ‰é¢å‘å¯¹è±¡ç¼–ç¨‹ç»éªŒçš„å¼€å‘è€…å°±ä¼šæƒ³åˆ°â€œç»§æ‰¿(extends)â€ã€‚ç»§æ‰¿æ˜¯ä¸€ç§æ¯”è¾ƒæœ‰æ•ˆçš„æ‰©å±•æœºåˆ¶ï¼Œä¸è¿‡éšç€ç»§æ‰¿çš„å±‚æ¬¡å˜æ·±ï¼Œä»£ç ä¹Ÿä¼šå˜å¾—éš¾ä»¥ç†è§£ã€‚åœ¨Vueç»„ä»¶ä¸­ï¼Œæ²¡æœ‰é‡‡ç”¨ç»§æ‰¿çš„æœºåˆ¶ï¼Œè€Œæ˜¯æ¨èä½¿ç”¨â€œç»„åˆâ€çš„æ–¹å¼ã€‚</p>
<p>åœ¨ç»„åˆç†å¿µä¸‹ï¼Œæˆ‘ä»¬å°½é‡å°†æƒ³å¤ç”¨æ€§é«˜çš„ç»„ä»¶è®¾è®¡åˆ°æœ€å°å¯æ‹†åˆ†å•ä½ï¼Œæ¯”å¦‚æŒ‰é’®ã€è¾“å…¥æ¡†ã€å•é€‰æ¡†ç­‰ç­‰ï¼Œç„¶åå†å°†è¿™äº›ä½å±‚ç»„ä»¶æ”¾å…¥æ›´é«˜å±‚ç»„ä»¶ä¸­ï¼Œä¸€å±‚ä¸€å±‚ï¼Œæ…¢æ…¢æ‹¼è£…å‡ºæ»¡è¶³éœ€æ±‚çš„ä¸šåŠ¡ç•Œé¢ã€‚</p>
<p>é™¤äº†ç»„åˆï¼ŒVueç»„ä»¶è¿˜æä¾›äº†æ’æ§½(Slot)åŠŸèƒ½ï¼Œç›¸å½“äºåœ¨ä¸€ä¸ªç»„ä»¶ä¸­æŒ–å‡ºäº†ä¸€ä¸ªæˆ–å¤šä¸ªå‘ï¼Œåœ¨å…·ä½“ä½¿ç”¨è¿™äº›å…·æœ‰æ’æ§½çš„ç»„ä»¶æ—¶ï¼Œå¯ä»¥é€‰æ‹©å¾€å‘é‡Œé¢å¡«ä»€ä¹ˆå†…å®¹ï¼ˆå…¶ä»–ç»„ä»¶ï¼‰ã€‚</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼Œåœ¨è®¡æ•°å™¨ç»„ä»¶ä¸­ï¼Œæˆ‘ä»¬åœ¨æ¸…é›¶æŒ‰é’®åé¢ç”¨<code>&lt;slot&gt;&lt;/slot&gt;</code>æŒ–äº†ä¸€ä¸ªå‘ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class&#x3D;&quot;click-counter&quot;&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;counter-num&quot;&gt;æ¬¡æ•°ï¼š&#123;&#123;num&#125;&#125;&lt;&#x2F;div&gt;</span><br><span class="line">    &lt;button class&#x3D;&quot;counter-btn&quot; @click&#x3D;&quot;handleClick&quot;&gt;ç‚¹æˆ‘å‘€ï¼&lt;&#x2F;button&gt;</span><br><span class="line">    &lt;button class&#x3D;&quot;counter-reset-btn&quot; @click&#x3D;&quot;handleResetClick&quot;&gt;æ¸…é›¶&lt;&#x2F;button&gt;</span><br><span class="line">    &lt;slot&gt;&lt;&#x2F;slot&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br></pre></td></tr></table></figure>

<p>è€Œåï¼Œåœ¨<code>index.vue</code>ä¸­ä½¿ç”¨è®¡æ•°å™¨ç»„ä»¶æ—¶ï¼Œåœ¨<code>&lt;click-counter&gt;</code>æ ‡ç­¾ä½“ä¸­æ”¾å…¥äº†é¢å¤–çš„å†…å®¹ï¼Œä¼šè¢«ä¼ å…¥è¯¥ç»„ä»¶ä¸­å»ç”¨äºå¡«å‘ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class&#x3D;&quot;container&quot; @click&#x3D;&quot;clickHandle&quot;&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;message&quot;&gt;&#123;&#123;msg&#125;&#125;&lt;&#x2F;div&gt;</span><br><span class="line">    &lt;!-- ä½¿ç”¨ click-counter ç»„ä»¶ --&gt;</span><br><span class="line">    &lt;click-counter :init-num&#x3D;&quot;10&quot; @clicknum&#x3D;&quot;handleClickNum&quot;&gt;</span><br><span class="line">      &lt;!-- å¡«å‘ç”¨... --&gt;</span><br><span class="line">      &lt;input type&#x3D;&quot;checkbox&quot; &#x2F;&gt; ç¦ç”¨</span><br><span class="line">    &lt;&#x2F;click-counter&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br></pre></td></tr></table></figure>

<p>ä»è¿è¡Œç»“æœå¯ä»¥çœ‹åˆ°ï¼Œæ¸…é›¶æŒ‰é’®åé¢å·²ç»å¤šå‡ºäº†æˆ‘ä»¬ä¼ å…¥çš„å¤é€‰æ¡†å’Œæ–‡å­—å†…å®¹:</p>
<p><img src="http://upload-images.jianshu.io/upload_images/3407939-af53245a3d9a569a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/381/format/webp" alt="img"></p>
<p>æ’æ§½å…¶å®å¯ä»¥ç†è§£ä¸ºæ˜¯å¦ä¸€ç§å½¢å¼çš„ç»„ä»¶å±æ€§ï¼šæ™®é€šç»„ä»¶å±æ€§ä¼ å…¥çš„æ˜¯æ¯”è¾ƒç®€å•ç±»å‹çš„æ•°æ®ï¼›è€Œæ’æ§½ä¼ å…¥çš„å¯ä»¥æ˜¯æ›´å¤æ‚çš„ç•Œé¢ç»„ä»¶è€Œå·²ã€‚</p>
<p>ç”±äºmpvueé‡‡ç”¨çš„æ˜¯Vueæ¡†æ¶çš„åŸºç¡€è®¾æ–½ï¼Œæ‰€ä»¥å¤§éƒ¨åˆ†çš„åŠŸèƒ½éƒ½æ˜¯å’Œ<a href="https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F" target="_blank" rel="noopener">Vue</a>ä¸€è‡´çš„ã€‚ä½†æ˜¯ï¼Œmpvueçš„ä»£ç æ¯•ç«Ÿæœ€ç»ˆè¿˜æ˜¯è¦è½¬è¯‘æˆå°ç¨‹åºåŸç”Ÿæ¡†æ¶ä¸‹çš„ä»£ç çš„ï¼Œç”±äºå°ç¨‹åºæ¡†æ¶æœ¬èº«å­˜åœ¨çš„ä¸€äº›åŠŸèƒ½é™åˆ¶ï¼Œå¯¼è‡´æœ‰äº›åŠŸèƒ½ä¸èƒ½è¢«ç¿»è¯‘è¿‡å»ï¼Œä¹Ÿå°±æ˜¯è¯´æœ‰äº›æ ‡å‡†çš„VueåŠŸèƒ½åœ¨mpvueä¸‹æ˜¯ä¸å¯ä»¥ä½¿ç”¨æˆ–æœ‰ç‰¹æ®Šé™åˆ¶çš„ã€‚</p>
<p>ä»Šå¤©æˆ‘ä»¬å°±æ¥ç½—åˆ—ä¸€ä¸‹ï¼Œåœ¨ä½¿ç”¨mpvueçš„æ—¶å€™é‚£äº›éœ€è¦ç‰¹åˆ«æ³¨æ„çš„ç‚¹ã€‚</p>
<h4 id="1-åœ¨æ¨¡æ¿ä¸­ï¼ŒåŠ¨æ€æ’å…¥HTMLçš„v-htmlæŒ‡ä»¤ä¸å¯ç”¨"><a href="#1-åœ¨æ¨¡æ¿ä¸­ï¼ŒåŠ¨æ€æ’å…¥HTMLçš„v-htmlæŒ‡ä»¤ä¸å¯ç”¨" class="headerlink" title="1. åœ¨æ¨¡æ¿ä¸­ï¼ŒåŠ¨æ€æ’å…¥HTMLçš„v-htmlæŒ‡ä»¤ä¸å¯ç”¨"></a>1. åœ¨æ¨¡æ¿ä¸­ï¼ŒåŠ¨æ€æ’å…¥HTMLçš„<code>v-html</code>æŒ‡ä»¤ä¸å¯ç”¨</h4><p>è¿™æ¡å¾ˆå¥½ç†è§£ï¼Œå°ç¨‹åºçš„ç•Œé¢å¹¶ä¸æ˜¯åŸºäºæµè§ˆå™¨çš„BOM/DOMçš„ï¼Œæ‰€ä»¥ä¸èƒ½åŠ¨æ€çš„åœ¨ç•Œé¢æ¨¡æ¿é‡Œç›´æ¥æ’å…¥HTMLç‰‡æ®µæ¥æ˜¾ç¤ºã€‚</p>
<p>é¢˜å¤–è¯ï¼Œå¦‚æœæœ‰åœ¨å°ç¨‹åºé‡Œæ’å…¥htmlç‰‡æ®µçš„éœ€æ±‚æ€ä¹ˆåŠï¼Ÿå¯ä»¥ç”¨<code>&lt;rich-text&gt;</code>ç»„ä»¶æˆ–è€…<code>wxParse</code>(<a href="https://links.jianshu.com/go?to=https%3A%2F%2Fgithub.com%2Ficindy%2FwxParse" target="_blank" rel="noopener">https://github.com/icindy/wxParse</a>)æ¥å®ç°ã€‚</p>
<h4 id="2-åœ¨æ¨¡æ¿ä¸­ï¼Œç”¨äºæ•°æ®ç»‘å®šçš„åŒæ‹¬å·è¯­æ³•æ’å€¼è¡¨è¾¾å¼ä¸­çš„è¡¨è¾¾å¼åŠŸèƒ½å­˜åœ¨è¯¸å¤šé™åˆ¶"><a href="#2-åœ¨æ¨¡æ¿ä¸­ï¼Œç”¨äºæ•°æ®ç»‘å®šçš„åŒæ‹¬å·è¯­æ³•æ’å€¼è¡¨è¾¾å¼ä¸­çš„è¡¨è¾¾å¼åŠŸèƒ½å­˜åœ¨è¯¸å¤šé™åˆ¶" class="headerlink" title="2. åœ¨æ¨¡æ¿ä¸­ï¼Œç”¨äºæ•°æ®ç»‘å®šçš„åŒæ‹¬å·è¯­æ³•æ’å€¼è¡¨è¾¾å¼ä¸­çš„è¡¨è¾¾å¼åŠŸèƒ½å­˜åœ¨è¯¸å¤šé™åˆ¶"></a>2. åœ¨æ¨¡æ¿ä¸­ï¼Œç”¨äºæ•°æ®ç»‘å®šçš„åŒæ‹¬å·è¯­æ³•<code>æ’å€¼è¡¨è¾¾å¼</code>ä¸­çš„è¡¨è¾¾å¼åŠŸèƒ½å­˜åœ¨è¯¸å¤šé™åˆ¶</h4><p>åœ¨Vueæœ¬èº«çš„æ¨¡æ¿å†…åŒæ‹¬å·è¯­æ³•ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹ç»‘å®šå˜é‡è¿›è¡Œæ¯”è¾ƒä¸°å¯Œçš„å¤„ç†ï¼Œæ¯”å¦‚ï¼š</p>
<ul>
<li>å¯ä»¥è°ƒç”¨<code>methods</code>ä¸‹çš„å‡½æ•°ï¼Œ ä¾‹å¦‚ï¼š</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &#96;&lt;div&gt; formatMessage(msg) &lt;&#x2F;div&gt;&#96;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      msg: &quot;Hello,World&quot;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    formatMessage(str) &#123;</span><br><span class="line">      return str.trim().split(&#39;,&#39;).join(&#39;#&#39;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>å¦‚æœå˜é‡æ˜¯å¯¹è±¡çš„è¯ï¼Œä¹Ÿå¯ä»¥è°ƒç”¨å¯¹è±¡çš„æˆå‘˜æ–¹æ³•</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;div&gt; msg.trim().split(&#39;,&#39;).join(&#39;#&#39;) &lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>å¯ä»¥ä½¿ç”¨è¿‡æ»¤å™¨æ¥å¤„ç†å˜é‡ï¼Œæœ€æœ‰ç”¨çš„åœºæ™¯ç®—æ˜¯æ ¼å¼åŒ–æ•°æ®äº†</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;div&gt; msg | format &lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure>

<p>ä»¥ä¸Šè¿™äº›å¥½ç”¨çš„åŠŸèƒ½ï¼Œåœ¨mpvueä¸­ï¼Œè®°å¾—éƒ½æ˜¯é€šé€šä¸èƒ½ç”¨çš„å“¦ï¼ï¼ï¼</p>
<p>æˆ‘ä»¬åªèƒ½åœ¨åŒæ‹¬å·ä¸­ä½¿ç”¨ä¸€äº›ç®€å•çš„è¿ç®—ç¬¦è¿ç®—ï¼ˆ<code>+ - * % ?: ! == === &gt; &lt; [] .</code>ï¼‰ã€‚</p>
<p>ä½†æ˜¯ä¹Ÿå¾—æ‰¾äº›å¯ç”¨çš„æ›¿ä»£æ–¹æ¡ˆå‘ï¼Œå¤§ä¼™å…ˆè€ƒè™‘ä½¿ç”¨<a href="https://links.jianshu.com/go?to=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2Fcomputed.html" target="_blank" rel="noopener">è®¡ç®—å±æ€§(computed)</a>æ¥åšå§ã€‚</p>
<h4 id="3-åœ¨æ¨¡æ¿ä¸­ï¼Œé™¤äº‹ä»¶ç›‘å¬å¤–ï¼Œå…¶ä½™åœ°æ–¹éƒ½ä¸èƒ½è°ƒç”¨methodsä¸‹çš„å‡½æ•°"><a href="#3-åœ¨æ¨¡æ¿ä¸­ï¼Œé™¤äº‹ä»¶ç›‘å¬å¤–ï¼Œå…¶ä½™åœ°æ–¹éƒ½ä¸èƒ½è°ƒç”¨methodsä¸‹çš„å‡½æ•°" class="headerlink" title="3. åœ¨æ¨¡æ¿ä¸­ï¼Œé™¤äº‹ä»¶ç›‘å¬å¤–ï¼Œå…¶ä½™åœ°æ–¹éƒ½ä¸èƒ½è°ƒç”¨methodsä¸‹çš„å‡½æ•°"></a>3. åœ¨æ¨¡æ¿ä¸­ï¼Œé™¤äº‹ä»¶ç›‘å¬å¤–ï¼Œå…¶ä½™åœ°æ–¹éƒ½ä¸èƒ½è°ƒç”¨<code>methods</code>ä¸‹çš„å‡½æ•°</h4><p>åœ¨Vueä¸­ï¼Œæ¨¡æ¿é‡Œè°ƒç”¨<code>methods</code>éƒ¨åˆ†å®šä¹‰çš„å‡½æ•°æ˜¯éå¸¸å¸¸è§çš„ï¼Œæ¯”å¦‚ä¸‹é¢è¿™æ®µä»£ç æ‰€ç¤ºï¼Œåœ¨<code>v-if</code>æŒ‡ä»¤ä¸­è°ƒç”¨å‡½æ•°<code>getErrorNum()</code>ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;div v-if&#x3D;&quot;getErrorNum() &gt; 0  &amp;&amp; code &#x3D;&#x3D; 10001&quot; class&#x3D;&quot;error&quot;&gt; errorMsg &lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure>

<p>å¯æ˜¯ï¼Œåœ¨mpvueé‡Œå°±æ˜¯ä¸å¯ä»¥ç”¨ï¼å› ä¸ºåœ¨å°ç¨‹åºåŸç”Ÿæ¨¡æ¿<code>wxml</code>é‡Œå°±ä¸æ”¯æŒè¿™ç§å‡½æ•°è°ƒç”¨ï¼Œå¯¼è‡´mpvueæ²¡æœ‰å¾ˆå¥½çš„æ–¹å¼è½¬è¯‘è¿‡å»ï¼ˆè™½ç„¶å°ç¨‹åºæœ‰<code>wxs</code>ï¼Œä½†æ˜¯æ„Ÿè§‰ç¿»è¯‘è¿‡å»mpvueè¦åšçš„å·¥ä½œä¼šæ¯”è¾ƒå¤æ‚ï¼‰ã€‚</p>
<p>æ‰€ä»¥ï¼Œå¯ç”¨çš„æ›¿ä»£æ–¹æ¡ˆå¯èƒ½è¿˜æ˜¯è®¡ç®—å±æ€§äº†ã€‚</p>
<h4 id="4-åœ¨æ¨¡æ¿ä¸­ï¼Œä¸æ”¯æŒç›´æ¥ç»‘å®šä¸€ä¸ªå¯¹è±¡åˆ°styleæˆ–classå±æ€§ä¸Š"><a href="#4-åœ¨æ¨¡æ¿ä¸­ï¼Œä¸æ”¯æŒç›´æ¥ç»‘å®šä¸€ä¸ªå¯¹è±¡åˆ°styleæˆ–classå±æ€§ä¸Š" class="headerlink" title="4. åœ¨æ¨¡æ¿ä¸­ï¼Œä¸æ”¯æŒç›´æ¥ç»‘å®šä¸€ä¸ªå¯¹è±¡åˆ°styleæˆ–classå±æ€§ä¸Š"></a>4. åœ¨æ¨¡æ¿ä¸­ï¼Œä¸æ”¯æŒç›´æ¥ç»‘å®šä¸€ä¸ªå¯¹è±¡åˆ°<code>style</code>æˆ–<code>class</code>å±æ€§ä¸Š</h4><p>åœ¨Vueä¸­æˆ‘ä»¬å¯ä»¥ä¸ºHTMLå…ƒç´ çš„<code>class</code>æˆ–<code>style</code>ç»‘å®šä¸€ä¸ªå¯¹è±¡ï¼Œå¹¶æŒ‰ç…§å¯¹è±¡å†…çš„å±æ€§å€¼æ¥å†³å®šæ˜¯å¦æ·»åŠ å¯¹åº”çš„å±æ€§ååˆ°HTMLå…ƒç´ çš„æ ·å¼åã€‚ç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div :class&#x3D;&quot;classObject&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      classObject: &#123;</span><br><span class="line">        active: true,</span><br><span class="line">        &#39;text-danger&#39;: false</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢è¿™æ®µä»£ç çš„è¿è¡Œåç”Ÿæˆçš„HTMLå°†æ˜¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;div class&#x3D;&quot;active&quot;&gt;&lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure>

<p>ä½†æ˜¯åœ¨mpvueä¸‹é¢è¿™ä¸ªç‰¹æ€§ä¹Ÿä¸èƒ½ç”¨ï¼ŒæŒ‰å®˜æ–¹è¯´æ³•æ˜¯ç”±äºæ¶‰åŠåˆ°ä¸€äº›æ€§èƒ½ç›¸å…³çš„åŸå› ã€‚é‚£å¦‚æœè¦åŠ¨æ€æ”¹å˜ç»„ä»¶çš„<code>class</code>è¯¥æ€ä¹ˆå†™å‘¢ï¼Ÿå®˜æ–¹ç»™å‡ºçš„æ–¹å¼æ˜¯è¿™æ ·çš„ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;div :class&#x3D;&quot;&#123; active: classObject.active, &#39;text-danger&#39;: classObject[&#39;text-danger&#39;]&#125;&quot;&gt;&lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure>

<p>å…¶å®æ”¹åŠ¨ä¸å¤§ï¼Œç¨å¾®å¤šæ‰“äº†ä¸€äº›å­—è€Œå·²ï¼Œç›¸å½“äºåœ¨æ¨¡æ¿çš„<code>class</code>é‡Œå†å®šä¹‰ä¸€ä¸ªå¯¹è±¡ç½¢äº†ã€‚ä½†æ˜¯æ®æ–‡æ¡£ä¸­è¯´è¿™æ ·ä¼šæå‡æ€§èƒ½ã€‚å¥½å§ï¼Œä¸ºäº†æ€§èƒ½ï¼Œè¿™ç‚¹éº»çƒ¦è¿˜æ˜¯èƒ½å¿å—çš„ã€‚ä½†æ˜¯å®ƒåˆè¯´äº†ï¼šä»æ€§èƒ½è€ƒè™‘ï¼Œå»ºè®®ä¸è¦è¿‡åº¦ä¾èµ–æ­¤â€¦â€¦çœ‹æ¥å³ä½¿è¿™æ ·ï¼Œä¹Ÿè¿˜æ˜¯æœ‰æ€§èƒ½é—®é¢˜ã€‚</p>
<p>çœ‹æ¥æœ€å¥½ä¸€ç‚¹çš„æ–¹æ¡ˆï¼Œè¿˜æ˜¯å¾—ä½¿ç”¨è®¡ç®—å±æ€§ï¼Œç›´æ¥ç”Ÿæˆä¸€ä¸²æ ·å¼çš„å­—ç¬¦ä¸²ï¼Œç»‘å®šåˆ°<code>class</code>æˆ–<code>style</code>ä¸Šï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div :class&#x3D;&quot;classStr&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      classObject: &#123;</span><br><span class="line">        active: true,</span><br><span class="line">        &#39;text-danger&#39;: false</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  computed: &#123;</span><br><span class="line">    classStr() &#123;</span><br><span class="line">      let arr &#x3D; []</span><br><span class="line">      for (let p in this.classObject) &#123;</span><br><span class="line">        if (this.classObject[p]) &#123;</span><br><span class="line">          arr.push(p)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      return arr.join(&#39; &#39;) </span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<h4 id="5-åœ¨æ¨¡æ¿ä¸­ï¼ŒåµŒå¥—ä½¿ç”¨v-foræ—¶ï¼Œå¿…é¡»æŒ‡å®šç´¢å¼•index"><a href="#5-åœ¨æ¨¡æ¿ä¸­ï¼ŒåµŒå¥—ä½¿ç”¨v-foræ—¶ï¼Œå¿…é¡»æŒ‡å®šç´¢å¼•index" class="headerlink" title="5. åœ¨æ¨¡æ¿ä¸­ï¼ŒåµŒå¥—ä½¿ç”¨v-foræ—¶ï¼Œå¿…é¡»æŒ‡å®šç´¢å¼•index"></a>5. åœ¨æ¨¡æ¿ä¸­ï¼ŒåµŒå¥—ä½¿ç”¨<code>v-for</code>æ—¶ï¼Œå¿…é¡»æŒ‡å®šç´¢å¼•<code>index</code></h4><p>é€šå¸¸ï¼Œæˆ‘ä»¬åœ¨Vueæ¨¡æ¿ä¸­åµŒå¥—å¾ªç¯æ¸²æŸ“æ•°ç»„çš„æ—¶å€™ï¼Œä¸€èˆ¬æ˜¯è¿™ä¸ªæ ·å­çš„ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;ul v-for&#x3D;&quot;category in categories&quot;&gt;</span><br><span class="line">    &lt;li v-for&#x3D;&quot;product in category.products&quot;&gt;&#123;&#123;product.name&#125;&#125;&lt;&#x2F;li&gt;</span><br><span class="line">  &lt;&#x2F;ul&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br></pre></td></tr></table></figure>

<p>ä½†åœ¨mpvueä¸­ä½¿ç”¨è¿™ç§åµŒå¥—ç»“æ„çš„<code>v-for</code>æ—¶ï¼Œåˆ™å¿…é¡»æ¯å±‚çš„<code>v-for</code>ä¸Šéƒ½ç»™å‡ºç´¢å¼•ï¼Œä¸”ç´¢å¼•éœ€å–ä¸åŒåå­—ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;ul v-for&#x3D;&quot;(category, index) in categories&quot;&gt;</span><br><span class="line">    &lt;li v-for&#x3D;&quot;(product, productIndex) in category.products&quot;&gt;&#123;&#123;product.name&#125;&#125;&lt;&#x2F;li&gt;</span><br><span class="line">  &lt;&#x2F;ul&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br></pre></td></tr></table></figure>

<h4 id="6-äº‹ä»¶å¤„ç†ä¸­çš„æ³¨æ„ç‚¹"><a href="#6-äº‹ä»¶å¤„ç†ä¸­çš„æ³¨æ„ç‚¹" class="headerlink" title="6. äº‹ä»¶å¤„ç†ä¸­çš„æ³¨æ„ç‚¹"></a>6. äº‹ä»¶å¤„ç†ä¸­çš„æ³¨æ„ç‚¹</h4><p>åœ¨mpvueä¸­ï¼Œä¸€èˆ¬å¯ä»¥ä½¿ç”¨Webçš„DOMäº‹ä»¶åæ¥ç»‘å®šäº‹ä»¶ï¼Œmpvueä¼šå°†Webäº‹ä»¶åæ˜ å°„æˆå¯¹åº”çš„å°ç¨‹åºäº‹ä»¶åï¼Œå¯¹åº”åˆ—è¡¨å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; å·¦ä¾§ä¸ºWEBäº‹ä»¶ : å³ä¾§ä¸ºå¯¹åº”çš„å°ç¨‹åºäº‹ä»¶</span><br><span class="line">&#123;</span><br><span class="line">    click: &#39;tap&#39;,</span><br><span class="line">    touchstart: &#39;touchstart&#39;,</span><br><span class="line">    touchmove: &#39;touchmove&#39;,</span><br><span class="line">    touchcancel: &#39;touchcancel&#39;,</span><br><span class="line">    touchend: &#39;touchend&#39;,</span><br><span class="line">    tap: &#39;tap&#39;,</span><br><span class="line">    longtap: &#39;longtap&#39;,</span><br><span class="line">    input: &#39;input&#39;,</span><br><span class="line">    change: &#39;change&#39;,</span><br><span class="line">    submit: &#39;submit&#39;,</span><br><span class="line">    blur: &#39;blur&#39;,</span><br><span class="line">    focus: &#39;focus&#39;,</span><br><span class="line">    reset: &#39;reset&#39;,</span><br><span class="line">    confirm: &#39;confirm&#39;,</span><br><span class="line">    columnchange: &#39;columnchange&#39;,</span><br><span class="line">    linechange: &#39;linechange&#39;,</span><br><span class="line">    error: &#39;error&#39;,</span><br><span class="line">    scrolltoupper: &#39;scrolltoupper&#39;,</span><br><span class="line">    scrolltolower: &#39;scrolltolower&#39;,</span><br><span class="line">    scroll: &#39;scroll&#39;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>é™¤äº†ä¸Šé¢çš„ä¹‹å¤–ï¼ŒWebè¡¨å•ç»„ä»¶<code>&lt;input&gt;</code>å’Œ<code>&lt;textarea&gt;</code>çš„changeäº‹ä»¶ä¼šè¢«è½¬ä¸ºbluräº‹ä»¶ã€‚</p>
<p>ç„¶åï¼Œåƒ<code>keydown</code>ã€<code>keypress</code>ä¹‹ç±»çš„é”®ç›˜äº‹ä»¶ä¹Ÿæ²¡æœ‰äº†ï¼Œå› ä¸ºå°ç¨‹åºæ²¡æœ‰é”®ç›˜ï¼Œæ‰€ä»¥ä¸éœ€è¦è¿™äº›äº‹ä»¶ã€‚</p>
<p>è¿˜æœ‰ï¼ŒVueé‡Œé¢ç»‘å®šäº‹ä»¶çš„æ—¶å€™ï¼Œå¯ä»¥æŒ‡å®šäº‹ä»¶ä¿®é¥°ç¬¦ï¼Œä½†æ˜¯åœ¨mpvueé‡Œï¼Œå®˜æ–¹ç»™å‡ºäº†ä¸€äº›æ³¨æ„ä¿¡æ¯ï¼š</p>
<blockquote>
<ul>
<li>.stop çš„ä½¿ç”¨ä¼šé˜»æ­¢å†’æ³¡ï¼Œä½†æ˜¯åŒæ—¶ç»‘å®šäº†ä¸€ä¸ªéå†’æ³¡äº‹ä»¶ï¼Œä¼šå¯¼è‡´è¯¥å…ƒç´ ä¸Šçš„ catchEventName å¤±æ•ˆï¼ã€è¿™ä¸ªäº²æµ‹äº†ä¸€ä¸‹ï¼Œæ„Ÿè§‰æ˜¯æœ€æ–°ç‰ˆæœ¬é‡Œä¿®å¤äº†è¿˜æ˜¯æ€ä¹ˆçš„ï¼Œæ²¡æœ‰æ–‡æ¡£é‡Œè¯´çš„è¿™ä¸ªé—®é¢˜äº†ã€‘</li>
<li>.prevent å¯ä»¥ç›´æ¥å¹²æ‰ï¼Œå› ä¸ºå°ç¨‹åºé‡Œæ²¡æœ‰ä»€ä¹ˆé»˜è®¤äº‹ä»¶ï¼Œæ¯”å¦‚submitå¹¶ä¸ä¼šè·³è½¬é¡µé¢ã€ä¹Ÿå°±æ˜¯ä¸éœ€è¦æ”¯æŒã€‘</li>
<li>.capture æ”¯æŒ 1.0.9 ã€ä¹Ÿå°±æ˜¯åœ¨ mpvue 1.0.9åŠä»¥åç‰ˆæœ¬æ”¯æŒã€‘</li>
<li>.self æ²¡æœ‰å¯ä»¥åˆ¤æ–­çš„æ ‡è¯† ã€ä¹Ÿå°±æ˜¯ä¸æ”¯æŒã€‘</li>
<li>.once ä¹Ÿä¸èƒ½åšï¼Œå› ä¸ºå°ç¨‹åºæ²¡æœ‰ removeEventListener, è™½ç„¶å¯ä»¥ç›´æ¥åœ¨ handleProxy ä¸­å¤„ç†ï¼Œä½†éå¸¸çš„ä¸ä¼˜é›…ï¼Œè¿èƒŒäº†åŸæ„ï¼Œæš‚ä¸è€ƒè™‘ã€ä¹Ÿå°±æ˜¯ä¸æ”¯æŒã€‘</li>
</ul>
</blockquote>
<p>æ‰€ä»¥å‘¢ï¼Œæ€»ä¹‹å½“ä½ åœ¨é‡åˆ°äº‹ä»¶ç›¸å…³çš„é—®é¢˜ï¼Œè¯·å›æ¥æŸ¥çœ‹ä¸€ä¸‹æ–‡æ¡£ï¼Œçœ‹çœ‹è‡ªå·±æ˜¯å¦å·²ç»æ‰åœ¨å‘é‡Œäº†ã€‚</p>
<h4 id="7-å¯¹äºè¡¨å•ï¼Œè¯·ç›´æ¥ä½¿ç”¨å°ç¨‹åºåŸç”Ÿçš„è¡¨å•ç»„ä»¶"><a href="#7-å¯¹äºè¡¨å•ï¼Œè¯·ç›´æ¥ä½¿ç”¨å°ç¨‹åºåŸç”Ÿçš„è¡¨å•ç»„ä»¶" class="headerlink" title="7. å¯¹äºè¡¨å•ï¼Œè¯·ç›´æ¥ä½¿ç”¨å°ç¨‹åºåŸç”Ÿçš„è¡¨å•ç»„ä»¶"></a>7. å¯¹äºè¡¨å•ï¼Œè¯·ç›´æ¥ä½¿ç”¨å°ç¨‹åºåŸç”Ÿçš„è¡¨å•ç»„ä»¶</h4><p>ä¸€å¥è¯ï¼Œè¡¨å•ç»„ä»¶åˆå¤šåˆå¤æ‚ï¼Œæ¡†æ¶å¯èƒ½Holdä¸ä½ã€‚æ‰€ä»¥åœ¨å®é™…å¼€å‘ä¸­ï¼Œæ¨èç›´æ¥ä½¿ç”¨å°ç¨‹åºçš„è¡¨å•ç»„ä»¶æ ‡ç­¾æ¥å†™ï¼Œè€Œä¸æ˜¯ä½¿ç”¨Webçš„è¡¨å•ç»„ä»¶æ ‡ç­¾æ¥å†™ã€‚å½“ç„¶äº†ï¼Œåœ¨mpvueä¸­ä½¿ç”¨äº†å°ç¨‹åºçš„ç»„ä»¶æ ‡ç­¾ï¼Œæ•°æ®ç»‘å®šåŠŸèƒ½è¿˜æ˜¯å®Œå…¨å¯ä»¥ç”¨çš„ã€‚ç»™ä¸ªç¤ºä¾‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;picker @change&#x3D;&quot;handlePickerChange&quot; :value&#x3D;&quot;selectedIndex&quot; :range&#x3D;&quot;messages&quot;&gt;</span><br><span class="line">      &lt;view class&#x3D;&quot;picker&quot;&gt;å½“å‰æ¶ˆæ¯ï¼š messages[selectedIndex] &lt;&#x2F;view&gt;</span><br><span class="line">    &lt;&#x2F;picker&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      selectedIndex: 0,</span><br><span class="line">      messages: [&#39;Hello&#39;, &#39;World&#39;, &#39;Haha&#39;]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    handlePickerChange (e) &#123;</span><br><span class="line">      console.log(e)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<h4 id="å…¶ä»–æ³¨æ„äº‹é¡¹"><a href="#å…¶ä»–æ³¨æ„äº‹é¡¹" class="headerlink" title="å…¶ä»–æ³¨æ„äº‹é¡¹"></a>å…¶ä»–æ³¨æ„äº‹é¡¹</h4><p>å¦å¤–ï¼Œåœ¨Vueå¼€å‘Webåº”ç”¨çš„æ—¶å€™ï¼Œé€šå¸¸ä½¿ç”¨<code>vue-router</code>æ¥è¿›è¡Œé¡µé¢è·¯ç”±ã€‚ä½†æ˜¯åœ¨mpvueå°ç¨‹åºå¼€å‘ä¸­ï¼Œä¸èƒ½ç”¨è¿™ç§æ–¹å¼ï¼Œè¯·ä½¿ç”¨<code>&lt;a&gt;</code>æ ‡ç­¾å’Œå°ç¨‹åºåŸç”ŸAPI <code>wx.navigateTo</code>ç­‰æ¥åšè·¯ç”±åŠŸèƒ½ã€‚</p>
<p>è¿˜æœ‰å°±æ˜¯è¯·æ±‚åç«¯æ•°æ®ï¼Œæˆ‘ä»¬é€šå¸¸åœ¨Webå¼€å‘ä¸­ä½¿ç”¨<code>axios</code>ç­‰ajaxåº“æ¥å®ç°ï¼Œä½†æ˜¯åœ¨å°ç¨‹åºå¼€å‘ä¸­ä¹Ÿæ˜¯ä¸èƒ½ç”¨çš„ï¼Œä¹Ÿè¯·ä½¿ç”¨å°ç¨‹åºçš„åŸç”ŸAPI <code>wx.request</code>ç­‰æ¥è¿›è¡Œã€‚</p>
<p>å¦‚æœä½ ä½¿ç”¨è¿‡åŸç”Ÿçš„å°ç¨‹åºæ¡†æ¶ï¼Œä½ ä¸€å®šç»å†è¿‡æˆ–æ€è€ƒè¿‡æ€ä¹ˆè§£å†³ä»¥ä¸‹çš„é—®é¢˜ï¼š</p>
<ul>
<li>æ€ä¹ˆå­˜æ”¾å¯å…¨å±€è®¿é—®çš„å˜é‡ï¼Ÿ</li>
<li>é¡µé¢è·³è½¬çš„æ—¶å€™ï¼Œæ€ä¹ˆä¼ é€’å‚æ•°åˆ°ä¸‹ä¸€ä¸ªé¡µé¢æ¯”è¾ƒå¥½ï¼Ÿ</li>
<li>é¡µé¢è¿”å›ä¸Šä¸€é¡µçš„æ—¶å€™ï¼Œæ€ä¹ˆä¼ é€’å½“å‰é¡µçš„æ•°æ®åˆ°ä¸Šä¸€é¡µï¼Ÿ</li>
<li>å¤šä¸ªé¡µé¢é—´éœ€è¦åŒæ­¥æ•°æ®ï¼Œæ€ä¹ˆåšæ¯”è¾ƒå¥½ï¼Ÿ</li>
</ul>
<p>ç½‘ä¸Šä¸€æœï¼Œè§£å†³çš„æ–¹æ³•é€šå¸¸ä¹Ÿæ˜¯äº”èŠ±å…«é—¨çš„ï¼Œä»€ä¹ˆé€šè¿‡appä¸Šçš„globalDataå•Šã€é€šè¿‡å­˜å–storageå•Šã€é€šè¿‡ä¸€ä¸ªå•ç‹¬çš„æ¨¡å—(module)å•Šã€é€šè¿‡Pageè·¯ç”±æ ˆå•Šã€é€šè¿‡å¼•å…¥è‡ªå®šä¹‰äº‹ä»¶å•Šã€é€šè¿‡å¼•å…¥reduxå•Šï¼Œç­‰ç­‰ç­‰ç­‰â€¦â€¦</p>
<p>åœ¨åŸç”Ÿå°ç¨‹åºæ¡†æ¶é‡Œï¼Œç¡®å®æ²¡æœ‰æä¾›ä»€ä¹ˆå¤ªç»Ÿä¸€çš„æ–¹å¼æ¥æŒ‡å¯¼å¼€å‘è€…è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå¤§å®¶åªèƒ½å„è‡ªç”¨ç€æš‚æ—¶èƒ½è§£å†³å½“å‰é—®é¢˜çš„æ–¹æ¡ˆã€‚</p>
<p>ä¸è¿‡ï¼Œæ—¢ç„¶æˆ‘ä»¬ç”¨äº†Vue/mpvueï¼Œé‡åˆ°è¿™ç§æƒ…å†µï¼Œè‡ªç„¶è€Œç„¶çš„å°±ä¼šæƒ³åˆ°ä¸€ä¸ªæ–¹æ¡ˆï¼Œé‚£å°±æ˜¯<a href="https://links.jianshu.com/go?to=https%3A%2F%2Fvuex.vuejs.org%2Fzh%2F" target="_blank" rel="noopener">Vuex</a>ã€‚Vuex æ˜¯ä¸€ä¸ªä¸“ä¸º Vue åº”ç”¨ç¨‹åºå¼€å‘çš„çŠ¶æ€ç®¡ç†æ¨¡å¼ï¼Œå®ƒé‡‡ç”¨é›†ä¸­å¼å­˜å‚¨ç®¡ç†åº”ç”¨çš„æ‰€æœ‰ç»„ä»¶çš„çŠ¶æ€ï¼Œå¹¶ä»¥ç›¸åº”çš„è§„åˆ™ä¿è¯çŠ¶æ€ä»¥ä¸€ç§å¯é¢„æµ‹çš„æ–¹å¼å‘ç”Ÿå˜åŒ–ã€‚</p>
<p>é€šè¿‡ä½¿ç”¨Vuexï¼Œæˆ‘ä»¬å¯ä»¥åœ¨mpvueé‡Œå¾ˆæ–¹ä¾¿çš„å¯¹éœ€è¦åœ¨appã€é¡µé¢ã€ç»„ä»¶ä¹‹é—´å…±äº«çš„æ•°æ®è¿›è¡Œå¾ˆå¥½çš„ç»Ÿä¸€ç®¡ç†ï¼Œå¯ä»¥æ›´æ–¹ä¾¿æœ‰æ•ˆçš„åœ¨å„ä¸ªä»£ç éƒ¨åˆ†å¯¹è¿™äº›å…±äº«æ•°æ®è¿›è¡Œè®¿é—®ï¼ŒåŒæ—¶å¯ä»¥ä½¿å¾—ä½ çš„ä»£ç æ¡ç†å˜å¾—æ›´åŠ æ¸…æ™°ã€‚</p>
<p>æˆ‘ä»¬çŸ¥é“ï¼ŒVuexä¸€èˆ¬æœ‰2ç§ç”¨æ³•ï¼Œå½“åˆ›å»ºå¥½storeåï¼š</p>
<ul>
<li>ç¬¬ä¸€ç§ç”¨æ³•æ˜¯å°†storeç»‘å®šåˆ°éœ€è¦è®¿é—®storeå†…å®¹çš„Vueå®ä¾‹ä¸Šï¼Œç„¶åé€šè¿‡è¯¥Vueå®ä¾‹ä¸‹ç»„ä»¶çš„<code>this.$store</code>æ¥å¼•ç”¨ï¼›æˆ–é€šè¿‡<code>mapState</code>ç­‰ä¸€ç³»åˆ—æ˜ å°„å‡½æ•°å°†storeä¸­çš„stateã€gettersã€mutationsã€actionsç­‰æ˜ å°„æˆç»„ä»¶çš„è®¡ç®—å±æ€§æˆ–methodsæ–¹æ³•æ¥ä½¿ç”¨ï¼›</li>
<li>ç¬¬äºŒç§ç”¨æ³•æ˜¯ç›´æ¥åœ¨ç»„ä»¶ä¸­é€šè¿‡<code>import</code>å¯¼å…¥storeæ‰€åœ¨çš„æ¨¡å—æ–‡ä»¶ï¼Œç„¶åè°ƒç”¨è¯¥storeä¸Šçš„ç›¸å…³æ–¹æ³•å’Œå±æ€§ï¼Œæ¯”å¦‚<code>commit()</code>ã€<code>dispatch()</code>ç­‰æ–¹æ³•æ¥æ“ä½œstoreä¸­çš„å†…å®¹ã€‚</li>
</ul>
<p>ç»è¿‡æˆ‘çš„å®æµ‹ï¼Œä¸Šé¢çš„è¿™ä¸¤ç§æ–¹å¼åœ¨mpvueä¸­ä¹Ÿéƒ½æ˜¯å¯ç”¨çš„ã€‚ä½†æ˜¯ï¼Œç”±äºmpvueä¸åƒVue Webå•é¡µåº”ç”¨é‚£ç§å•Vueå®ä¾‹çš„ç»“æ„ï¼Œè€Œæ˜¯é‡‡ç”¨äº†å¤šVueå®ä¾‹çš„ç»“æ„ï¼ˆappå’Œå„ä¸ªé¡µé¢éƒ½ä¼šç”±å•ç‹¬çš„Vueå®ä¾‹æ¥ç®¡ç†ï¼‰ï¼Œæ‰€ä»¥æˆ‘ä¸ªäººæ¨èé‡‡ç”¨ä¸Šé¢æ‰€è¯´çš„ç¬¬äºŒç§ç”¨æ³•ï¼Œè¿™ç§æ–¹å¼ä¼šæ›´åŠ çµæ´»å’Œç®€å•ä¸€äº›ã€‚</p>
<p>è®©æˆ‘ä»¬å¼€å§‹å†™ä»£ç ï¼Œå…ˆåœ¨<code>src</code>ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªstoresç›®å½•ï¼Œæ¥ç€åœ¨storesç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªåä¸º<code>global-store.js</code>çš„æ–‡ä»¶ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import Vue from &#39;vue&#39;</span><br><span class="line">import Vuex from &#39;vuex&#39;;</span><br><span class="line"></span><br><span class="line">Vue.use(Vuex);</span><br><span class="line"></span><br><span class="line">export default new Vuex.Store(&#123;</span><br><span class="line">  state: &#123;</span><br><span class="line">    count: 0</span><br><span class="line">  &#125;,</span><br><span class="line">  mutations: &#123;</span><br><span class="line">    increment: (state) &#x3D;&gt; &#123;</span><br><span class="line">      state.count +&#x3D; 1</span><br><span class="line">    &#125;,</span><br><span class="line">    decrement: (state) &#x3D;&gt; &#123;</span><br><span class="line">      state.count -&#x3D; 1</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>åœ¨è¿™ä¸ªä»£ç ä¸­ï¼Œæˆ‘ä»¬æ–°å»ºäº†ä¸€ä¸ª<code>Store</code>å®ä¾‹ï¼Œç®¡ç†äº†ä¸€ä¸ªåä¸º<code>count</code>çš„æ•°å­—ç±»å‹çš„çŠ¶æ€ï¼Œå¹¶å®šä¹‰äº†2ä¸ªmutationså»æ“ä½œï¼ˆå¢å‡ï¼‰è¿™ä¸ªçŠ¶æ€å€¼ã€‚</p>
<p>æ¥ç€ï¼Œæˆ‘ä»¬è¦åœ¨2ä¸ªé¡µé¢ä¸­è®¿é—®è¿™ä¸ªstoreã€‚è®©æˆ‘ä»¬åœ¨<code>src/pages</code>ç›®å½•ä¸‹ç¼–å†™2ä¸ªé¡µé¢ï¼šindexå’Œtest1ã€‚</p>
<p>è¿™æ˜¯<code>pages/index/index.vue</code>çš„ä»£ç å†…å®¹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class&#x3D;&quot;container&quot;&gt;</span><br><span class="line">    &lt;div&gt;è®¡æ•°ç»“æœï¼š&#123;&#123;count&#125;&#125;&lt;&#x2F;div&gt;</span><br><span class="line">    &lt;a href&#x3D;&quot;&#x2F;pages&#x2F;test1&#x2F;main&quot; class&#x3D;&quot;navlink&quot;&gt;è¿›å…¥è®¡æ•°å™¨é¡µé¢&lt;&#x2F;a&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import globalStore from &quot;..&#x2F;..&#x2F;stores&#x2F;global-store&quot;;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  computed: &#123;</span><br><span class="line">    count() &#123;</span><br><span class="line">      return globalStore.state.count;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">.navlink &#123;</span><br><span class="line">  text-decoration: underline;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<p>è¿™æ˜¯<code>pages/test1/index.vue</code>çš„ä»£ç å†…å®¹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class&#x3D;&quot;container btns&quot;&gt;</span><br><span class="line">    &lt;button class&#x3D;&quot;calbtn&quot; @click&#x3D;&quot;hanleDecrement&quot;&gt;-&lt;&#x2F;button&gt;</span><br><span class="line">    &lt;span class&#x3D;&quot;calnum&quot;&gt;&#123;&#123;count&#125;&#125;&lt;&#x2F;span&gt;</span><br><span class="line">    &lt;button class&#x3D;&quot;calbtn&quot; @click&#x3D;&quot;hanleIncrement&quot;&gt;+&lt;&#x2F;button&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import globalStore from &quot;..&#x2F;..&#x2F;stores&#x2F;global-store&quot;;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  computed: &#123;</span><br><span class="line">    count() &#123;</span><br><span class="line">      return globalStore.state.count;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  methods: &#123;</span><br><span class="line">    hanleIncrement() &#123;</span><br><span class="line">      globalStore.commit(&quot;increment&quot;);</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    hanleDecrement() &#123;</span><br><span class="line">      globalStore.commit(&quot;decrement&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">.btns &#123;</span><br><span class="line">  display: flex;</span><br><span class="line">  align-items: center;</span><br><span class="line">&#125;</span><br><span class="line">.calnum &#123;</span><br><span class="line">  color: red;</span><br><span class="line">  font-size: 32px;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·ï¼Œæˆ‘ä»¬å°±æœ‰äº†2ä¸ªä½¿ç”¨äº†æˆ‘ä»¬å®šä¹‰çš„global-storeçš„é¡µé¢ï¼Œè¿™äº›é¡µé¢éƒ½ä¼šä»storeä¸­è·å–<code>count</code>çŠ¶æ€å€¼å¹¶æ˜¾ç¤ºï¼›åœ¨test1é¡µé¢ä¸­ï¼Œè¿˜ä¼šè°ƒç”¨<code>increment</code>å’Œ<code>decrement</code>ä¸¤ä¸ªmutationså»æ›´æ–°<code>count</code>å€¼ã€‚</p>
<p>è¿è¡Œå°ç¨‹åºï¼Œå¯ä»¥çœ‹åˆ°åˆå§‹è¿›å…¥indexé¡µé¢æ—¶æ˜¯è¿™æ ·çš„ï¼Œé¡µé¢ä¸Šæ˜¾ç¤ºçš„è®¡æ•°ç»“æœæ˜¯0ï¼š</p>
<p><img src="http://upload-images.jianshu.io/upload_images/3407939-4a8524c7edf600c1.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/736/format/webp" alt="img"></p>
<p>indexé¡µé¢</p>
<p>ç„¶åç‚¹å‡»â€œè¿›å…¥è®¡æ•°å™¨é¡µé¢â€è¿›åˆ°test1é¡µé¢ï¼Œå¹¶åœ¨è¿™ä¸ªé¡µé¢ä¸Šç‚¹å‡»åŠ å‡æŒ‰é’®æ“ä½œä¸€ä¸‹ï¼Œå½“ä¸­æ˜¾ç¤ºçš„countæ•°ä¼šå‘ç”Ÿæ”¹å˜ï¼š</p>
<p><img src="http://upload-images.jianshu.io/upload_images/3407939-aa5b58bdb9a7949b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/738/format/webp" alt="img"></p>
<p>test1é¡µé¢</p>
<p>æœ€åï¼Œç‚¹å‡»å·¦ä¸Šè§’è¿”å›æŒ‰é’®è¿”å›indexé¡µé¢ï¼Œä½ å°†å‘ç°è¿™ä¸ªé¡µé¢ä¸Šçš„è®¡æ•°ç»“æœä¹Ÿå·²ç»å‘ç”Ÿäº†æ”¹å˜ï¼Œè‡ªåŠ¨åŒæ­¥æˆå‰é¢æ“ä½œåçš„ç»“æœäº†ï¼š</p>
<p><img src="http://upload-images.jianshu.io/upload_images/3407939-37a8bffb4252c0ff.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/740/format/webp" alt="img"></p>
<p>è¿”å›indexé¡µé¢</p>
<h4 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h4><p>é€šè¿‡è¿™ä¸ªä¾‹å­ï¼Œæ˜¯ä¸æ˜¯æ„Ÿè§‰åˆ°ä½¿ç”¨Vuexåšé¡µé¢é—´çš„ä¼ å€¼å’Œæ•°æ®åŒæ­¥ç‰¹åˆ«ç®€å•ï¼Ÿå¦å¤–ï¼Œä½ ä¹Ÿå¯ä»¥åœ¨<code>src/stores</code>ç›®å½•ä¸‹æŒ‰éœ€åˆ›å»ºå¤šä¸ªstoreæ¨¡å—ï¼Œç‹¬ç«‹ç®¡ç†ä¸åŒä¸šåŠ¡èŒƒå›´çš„æ•°æ®ï¼Œå¹¶æŒ‰éœ€å¯¼å…¥é¡µé¢ç»„ä»¶ä½¿ç”¨ã€‚</p>
<p>Vuexæ˜¯å¼€å‘ä¸­ä¸€ä»¶éå¸¸å¾—åŠ›çš„å·¥å…·ï¼Œå¸Œæœ›ä½ èƒ½å°½å¿«æŒæ¡å®ƒã€‚æ›´å¤šçš„ç”¨æ³•å¯ä»¥å‚è€ƒ<a href="https://links.jianshu.com/go?to=https%3A%2F%2Fvuex.vuejs.org%2Fzh%2F" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£</a>ã€‚</p>
<p>å‚è€ƒé“¾æ¥ <a href="https://www.jianshu.com/p/462494e458c2" target="_blank" rel="noopener">https://www.jianshu.com/p/462494e458c2</a></p>
]]></content>
      <categories>
        <category>mpvue</category>
      </categories>
      <tags>
        <tag>mpvue</tag>
      </tags>
  </entry>
  <entry>
    <title>mysqlçš„ç®€å•ç”¨æ³•</title>
    <url>/2021/03/30/mysql%E7%9A%84%E7%AE%80%E5%8D%95%E7%94%A8%E6%B3%95/</url>
    <content><![CDATA[<p>å‚è€ƒé“¾æ¥ï¼š<a href="https://mp.weixin.qq.com/s/0hWUZmX72OjQtoVlSfp-PQ" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/0hWUZmX72OjQtoVlSfp-PQ</a></p>
<h2 id="å®‰è£…mysql"><a href="#å®‰è£…mysql" class="headerlink" title="å®‰è£…mysql"></a>å®‰è£…mysql</h2><ol>
<li>ä½¿ç”¨brewå·¥å…·å®‰è£…mysql</li>
</ol>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">brew install mysql</span><br></pre></td></tr></table></figure>

<ol>
<li>æŸ¥çœ‹å®‰è£…è·¯å¾„ï¼š</li>
</ol>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">which mysql</span><br></pre></td></tr></table></figure>

<h2 id="é…ç½®æ•°æ®åº“"><a href="#é…ç½®æ•°æ®åº“" class="headerlink" title="é…ç½®æ•°æ®åº“"></a>é…ç½®æ•°æ®åº“</h2><ol>
<li>æ£€æŸ¥mysqlæœåŠ¡è¿›ç¨‹ï¼š</li>
</ol>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ps -ef | grep mysqld</span><br></pre></td></tr></table></figure>

<ol>
<li>å¯åŠ¨æœåŠ¡ï¼š</li>
</ol>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">mysql.server start</span><br></pre></td></tr></table></figure>

<ol>
<li>åœæ­¢æœåŠ¡ï¼š</li>
</ol>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">mysql.server stop</span><br></pre></td></tr></table></figure>

<ol>
<li>æŸ¥çœ‹æœåŠ¡çŠ¶æ€ï¼š</li>
</ol>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">mysql.server status</span><br></pre></td></tr></table></figure>

<ol>
<li>é‡å¯æœåŠ¡çŠ¶æ€ï¼š</li>
</ol>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">mysql.server restart</span><br></pre></td></tr></table></figure>

<ol>
<li>é‡è½½é…ç½®ï¼ˆä¸å½±å“æ•°æ®å†™å…¥)ï¼š</li>
</ol>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">mysql.server reload</span><br></pre></td></tr></table></figure>

<ol>
<li>å¼ºåˆ¶é‡è½½é…ç½®(ä¸å½±å“æ•°æ®å†™å…¥)ï¼š</li>
</ol>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">mysql.server force-reload</span><br></pre></td></tr></table></figure>

<ol>
<li>é€€å‡ºmysqlå‘½ä»¤:Ctrl+D</li>
</ol>
<h2 id="è¿æ¥æ•°æ®åº“"><a href="#è¿æ¥æ•°æ®åº“" class="headerlink" title="è¿æ¥æ•°æ®åº“"></a>è¿æ¥æ•°æ®åº“</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">mysql -u root -p</span><br></pre></td></tr></table></figure>

<h2 id="æ“ä½œæ•°æ®åº“"><a href="#æ“ä½œæ•°æ®åº“" class="headerlink" title="æ“ä½œæ•°æ®åº“"></a>æ“ä½œæ•°æ®åº“</h2><h4 id="1-æ–°å»ºæ•°æ®åº“ï¼š"><a href="#1-æ–°å»ºæ•°æ®åº“ï¼š" class="headerlink" title="1. æ–°å»ºæ•°æ®åº“ï¼š"></a>1. æ–°å»ºæ•°æ®åº“ï¼š</h4><h5 id="è¯­æ³•ï¼š"><a href="#è¯­æ³•ï¼š" class="headerlink" title="è¯­æ³•ï¼š"></a>è¯­æ³•ï¼š</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">CREATE DATABASE æ•°æ®åº“å</span><br></pre></td></tr></table></figure>

<h5 id="å®ä¾‹ï¼š"><a href="#å®ä¾‹ï¼š" class="headerlink" title="å®ä¾‹ï¼š"></a>å®ä¾‹ï¼š</h5><ul>
<li>sqlè¯­å¥ï¼š</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">CREATE DATABASE mentu;</span><br></pre></td></tr></table></figure>

<ul>
<li>æ•ˆæœï¼š</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">mysql&gt; CREATE DATABASE mentu;</span><br><span class="line">Query OK, 1 row affected (0.01 sec)</span><br></pre></td></tr></table></figure>

<h4 id="2-æŸ¥çœ‹æ•°æ®åº“åˆ—è¡¨ï¼š"><a href="#2-æŸ¥çœ‹æ•°æ®åº“åˆ—è¡¨ï¼š" class="headerlink" title="2. æŸ¥çœ‹æ•°æ®åº“åˆ—è¡¨ï¼š"></a>2. æŸ¥çœ‹æ•°æ®åº“åˆ—è¡¨ï¼š</h4><h5 id="è¯­æ³•ï¼š-1"><a href="#è¯­æ³•ï¼š-1" class="headerlink" title="è¯­æ³•ï¼š"></a>è¯­æ³•ï¼š</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">SHOW DATABASES;</span><br></pre></td></tr></table></figure>

<h5 id="å®ä¾‹ï¼š-1"><a href="#å®ä¾‹ï¼š-1" class="headerlink" title="å®ä¾‹ï¼š"></a>å®ä¾‹ï¼š</h5><ul>
<li>sqlè¯­å¥ï¼š</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">SHOW DATABASES;</span><br></pre></td></tr></table></figure>

<ul>
<li>æ•ˆæœï¼š</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">mysql&gt; SHOW DATABASES;</span><br><span class="line">+--------------------+</span><br><span class="line">| Database           |</span><br><span class="line">+--------------------+</span><br><span class="line">| information_schema |</span><br><span class="line">| logic_engine       |</span><br><span class="line">| mentu              |</span><br><span class="line">| mysql              |</span><br><span class="line">| performance_schema |</span><br><span class="line">| sys                |</span><br><span class="line">+--------------------+</span><br><span class="line">6 rows in set (0.02 sec)</span><br></pre></td></tr></table></figure>

<h4 id="3-é€‰æ‹©æ•°æ®åº“ï¼š"><a href="#3-é€‰æ‹©æ•°æ®åº“ï¼š" class="headerlink" title="3. é€‰æ‹©æ•°æ®åº“ï¼š"></a>3. é€‰æ‹©æ•°æ®åº“ï¼š</h4><h5 id="è¯­æ³•ï¼š-2"><a href="#è¯­æ³•ï¼š-2" class="headerlink" title="è¯­æ³•ï¼š"></a>è¯­æ³•ï¼š</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">use æ•°æ®åº“å;</span><br></pre></td></tr></table></figure>

<h5 id="å®ä¾‹ï¼š-2"><a href="#å®ä¾‹ï¼š-2" class="headerlink" title="å®ä¾‹ï¼š"></a>å®ä¾‹ï¼š</h5><ul>
<li>sqlè¯­å¥ï¼š</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">use mentu;</span><br></pre></td></tr></table></figure>

<ul>
<li>æ•ˆæœï¼š</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">mysql&gt; use mentu;</span><br><span class="line">Database changed</span><br></pre></td></tr></table></figure>

<h4 id="4-åˆ é™¤æ•°æ®åº“ï¼š"><a href="#4-åˆ é™¤æ•°æ®åº“ï¼š" class="headerlink" title="4. åˆ é™¤æ•°æ®åº“ï¼š"></a>4. åˆ é™¤æ•°æ®åº“ï¼š</h4><ul>
<li>sqlè¯­å¥ï¼š</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">DROP DATABASE;</span><br></pre></td></tr></table></figure>

<ul>
<li>æ•ˆæœï¼š</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">mysql&gt; DROP DATABASE IF EXISTS mentu;</span><br><span class="line">Query OK, 0 rows affected, 1 warning (0.00 sec)</span><br></pre></td></tr></table></figure>

<h4 id="5-åˆ›å»ºæ•°æ®è¡¨ï¼š"><a href="#5-åˆ›å»ºæ•°æ®è¡¨ï¼š" class="headerlink" title="5. åˆ›å»ºæ•°æ®è¡¨ï¼š"></a>5. åˆ›å»ºæ•°æ®è¡¨ï¼š</h4><h5 id="è¯­æ³•ï¼š-3"><a href="#è¯­æ³•ï¼š-3" class="headerlink" title="è¯­æ³•ï¼š"></a>è¯­æ³•ï¼š</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">CREATE TABLE table_name (column_name column_type);</span><br></pre></td></tr></table></figure>

<h5 id="å®ä¾‹ï¼š-3"><a href="#å®ä¾‹ï¼š-3" class="headerlink" title="å®ä¾‹ï¼š"></a>å®ä¾‹ï¼š</h5><ul>
<li>sqlè¯­å¥ï¼š</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">CREATE TABLE IF NOT EXISTS &#96;user&#96;(</span><br><span class="line">   &#96;id&#96; INT UNSIGNED AUTO_INCREMENT,</span><br><span class="line">   &#96;name&#96; VARCHAR(100) NOT NULL,</span><br><span class="line">   &#96;age&#96; INT  NOT NULL,</span><br><span class="line">   &#96;gender&#96; VARCHAR(100)  NOT NULL,</span><br><span class="line">   PRIMARY KEY ( &#96;id&#96; )</span><br><span class="line">)ENGINE&#x3D;InnoDB DEFAULT CHARSET&#x3D;utf8;</span><br></pre></td></tr></table></figure>

<ul>
<li>è¿è¡Œæ•ˆæœï¼š</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">mysql&gt; CREATE TABLE IF NOT EXISTS &#96;user&#96;(</span><br><span class="line">    -&gt;    &#96;id&#96; INT UNSIGNED AUTO_INCREMENT,</span><br><span class="line">    -&gt;    &#96;name&#96; VARCHAR(100) NOT NULL,</span><br><span class="line">    -&gt;    &#96;age&#96; INT  NOT NULL,</span><br><span class="line">    -&gt;    &#96;gender&#96; VARCHAR(100)  NOT NULL,</span><br><span class="line">    -&gt;    PRIMARY KEY ( &#96;id&#96; )</span><br><span class="line">    -&gt; )ENGINE&#x3D;InnoDB DEFAULT CHARSET&#x3D;utf8;</span><br><span class="line">Query OK, 0 rows affected, 1 warning (0.03 sec)</span><br></pre></td></tr></table></figure>

<h4 id="6-æŸ¥çœ‹æ•°æ®è¡¨"><a href="#6-æŸ¥çœ‹æ•°æ®è¡¨" class="headerlink" title="6. æŸ¥çœ‹æ•°æ®è¡¨"></a>6. æŸ¥çœ‹æ•°æ®è¡¨</h4><ul>
<li>sqlè¯­å¥ï¼š</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">SHOW TABLES;</span><br></pre></td></tr></table></figure>

<ul>
<li>æ•ˆæœï¼š</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">mysql&gt; SHOW TABLES;</span><br><span class="line">+-----------------+</span><br><span class="line">| Tables_in_mentu |</span><br><span class="line">+-----------------+</span><br><span class="line">| user            |</span><br><span class="line">+-----------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<h4 id="7-åˆ é™¤æ•°æ®è¡¨ï¼š"><a href="#7-åˆ é™¤æ•°æ®è¡¨ï¼š" class="headerlink" title="7. åˆ é™¤æ•°æ®è¡¨ï¼š"></a>7. åˆ é™¤æ•°æ®è¡¨ï¼š</h4><h5 id="è¯­æ³•ï¼š-4"><a href="#è¯­æ³•ï¼š-4" class="headerlink" title="è¯­æ³•ï¼š"></a>è¯­æ³•ï¼š</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">DROP TABLE table_name ;</span><br></pre></td></tr></table></figure>

<h5 id="å®ä¾‹ï¼š-4"><a href="#å®ä¾‹ï¼š-4" class="headerlink" title="å®ä¾‹ï¼š"></a>å®ä¾‹ï¼š</h5><ul>
<li>sqlè¯­å¥ï¼š</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">DROP TABLE user;</span><br></pre></td></tr></table></figure>

<ul>
<li>æ•ˆæœï¼š</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">mysql&gt; DROP TABLE user;</span><br><span class="line">Query OK, 0 rows affected (0.07 sec)</span><br></pre></td></tr></table></figure>

<h4 id="8-æ’å…¥æ•°æ®ï¼š"><a href="#8-æ’å…¥æ•°æ®ï¼š" class="headerlink" title="8. æ’å…¥æ•°æ®ï¼š"></a>8. æ’å…¥æ•°æ®ï¼š</h4><h5 id="è¯­æ³•ï¼š-5"><a href="#è¯­æ³•ï¼š-5" class="headerlink" title="è¯­æ³•ï¼š"></a>è¯­æ³•ï¼š</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">INSERT INTO table_name ( field1, field2,...fieldN )</span><br><span class="line">                       VALUES</span><br><span class="line">                       ( value1, value2,...valueN );</span><br></pre></td></tr></table></figure>

<h5 id="å®ä¾‹ï¼š-5"><a href="#å®ä¾‹ï¼š-5" class="headerlink" title="å®ä¾‹ï¼š"></a>å®ä¾‹ï¼š</h5><ul>
<li>sqlè¯­å¥:</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">INSERT INTO user (name,age,gender) VALUES (&quot;é˜¿é—¨&quot;,18,&quot;female&quot;);</span><br></pre></td></tr></table></figure>

<ul>
<li>æ•ˆæœï¼š</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">mysql&gt; INSERT INTO user (name,age,gender) VALUES (&quot;é˜¿é—¨&quot;,18,&quot;female&quot;);</span><br><span class="line">Query OK, 1 row affected (0.02 sec)</span><br></pre></td></tr></table></figure>

<h4 id="9-æŸ¥è¯¢æ•°æ®"><a href="#9-æŸ¥è¯¢æ•°æ®" class="headerlink" title="9. æŸ¥è¯¢æ•°æ®"></a>9. æŸ¥è¯¢æ•°æ®</h4><p>å…ˆé€ ä¸€äº›æ•°æ®ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">user:</span><br><span class="line">+----+--------------+-----+--------+</span><br><span class="line">| id | name         | age | gender |</span><br><span class="line">+----+--------------+-----+--------+</span><br><span class="line">|  1 | é˜¿é—¨1å·      | 188 | female |</span><br><span class="line">|  2 | é˜¿é—¨1å·      |  19 | male   |</span><br><span class="line">|  3 | é˜¿é—¨2å·      |  20 | female |</span><br><span class="line">|  4 | é˜¿é—¨3å·      |  21 | male   |</span><br><span class="line">|  5 | é˜¿é—¨888å·    | 888 | female |</span><br><span class="line">|  6 | é˜¿é—¨5å·      |  23 | male   |</span><br><span class="line">|  7 | é˜¿é—¨6å·      |  24 | female |</span><br><span class="line">|  8 | é˜¿é—¨7å·      |  25 | male   |</span><br><span class="line">|  9 | é˜¿é—¨8å·      |  26 | female |</span><br><span class="line">+----+--------------+-----+--------+</span><br><span class="line"></span><br><span class="line">auth:</span><br><span class="line">+----+---------+-------+-----------------+</span><br><span class="line">| id | user_id | level | level_name      |</span><br><span class="line">+----+---------+-------+-----------------+</span><br><span class="line">|  1 | 1       |     0 | è¶…çº§ç®¡ç†å‘˜      |</span><br><span class="line">|  2 | 2       |     1 | ç®¡ç†å‘˜          |</span><br><span class="line">|  3 | 3       |     1 | ç®¡ç†å‘˜          |</span><br><span class="line">|  4 | 4       |     2 | æ“ä½œå‘˜          |</span><br><span class="line">|  5 | 5       |     2 | æ“ä½œå‘˜          |</span><br><span class="line">|  6 | 6       |     2 | æ“ä½œå‘˜          |</span><br><span class="line">|  7 | 7       |     2 | æ“ä½œå‘˜          |</span><br><span class="line">|  8 | 8       |     2 | æ“ä½œå‘˜          |</span><br><span class="line">|  9 | 9       |     2 | æ“ä½œå‘˜          |</span><br><span class="line">| 10 | 10      |     2 | æ“ä½œå‘˜          |</span><br><span class="line">+----+---------+-------+-----------------+</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">student:</span><br><span class="line">+----+--------+-----+---------+</span><br><span class="line">| id | name   | age | country |</span><br><span class="line">+----+--------+-----+---------+</span><br><span class="line">|  1 | å¼ ä¸‰   |  12 | USA     |</span><br><span class="line">|  2 | æå››   |  12 | CN      |</span><br><span class="line">|  3 | ç‹äº”   |  12 | USA     |</span><br><span class="line">|  4 | æ²ˆå…­   |  12 | CN      |</span><br><span class="line">+----+--------+-----+--------</span><br><span class="line"></span><br><span class="line">teacher:</span><br><span class="line">+----+------+-----+---------+</span><br><span class="line">| id | name | age | country |</span><br><span class="line">+----+------+-----+---------+</span><br><span class="line">|  1 | è€A  |  21 | USA     |</span><br><span class="line">|  2 | è€B  |  22 | CN      |</span><br><span class="line">|  3 | è€C  |  23 | USA     |</span><br><span class="line">|  4 | è€D  |  24 | CN      |</span><br><span class="line">+----+------+-----+---------+</span><br><span class="line">4 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<h5 id="è¯­æ³•ï¼š-6"><a href="#è¯­æ³•ï¼š-6" class="headerlink" title="è¯­æ³•ï¼š"></a>è¯­æ³•ï¼š</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">SELECT column_name,column_name</span><br><span class="line">FROM table_name</span><br><span class="line">[WHERE Clause]</span><br><span class="line">[LIMIT N][ OFFSET M]</span><br></pre></td></tr></table></figure>

<h5 id="å®ä¾‹ï¼š-6"><a href="#å®ä¾‹ï¼š-6" class="headerlink" title="å®ä¾‹ï¼š"></a>å®ä¾‹ï¼š</h5><ol>
<li>è¯»å–æ•°æ®è¡¨ï¼š</li>
</ol>
<ul>
<li>sqlè¯­å¥ï¼š</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">SELECT * FROM student;</span><br></pre></td></tr></table></figure>

<ul>
<li>æ•ˆæœï¼š</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">mysql&gt; SELECT * FROM student;</span><br><span class="line">+----+--------+-----+---------+</span><br><span class="line">| id | name   | age | country |</span><br><span class="line">+----+--------+-----+---------+</span><br><span class="line">|  1 | å¼ ä¸‰   |  12 | USA     |</span><br><span class="line">|  2 | æå››   |  12 | CN      |</span><br><span class="line">|  3 | ç‹äº”   |  12 | USA     |</span><br><span class="line">|  4 | æ²ˆå…­   |  12 | CN      |</span><br><span class="line">+----+--------+-----+---------+</span><br><span class="line">4 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<ol>
<li>WHEREçš„ä½¿ç”¨ï¼š</li>
</ol>
<ul>
<li>è¯­æ³•ï¼š</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">SELECT field1, field2,...fieldN FROM table_name1, table_name2...</span><br><span class="line">[WHERE condition1 [AND [OR]] condition2.....</span><br></pre></td></tr></table></figure>

<ul>
<li>æ¡ä»¶ï¼š</li>
</ul>
<blockquote>
<ol>
<li>é€»è¾‘æ“ä½œç¬¦ï¼šAND æˆ–è€… OR æŒ‡å®šä¸€ä¸ªæˆ–å¤šä¸ªæ¡ä»¶;</li>
<li>å…³ç³»æ“ä½œç¬¦ï¼š= ã€&gt; ã€&lt; ã€&lt;= ã€&gt;=ã€&lt;&gt; ã€!= ; å®ä¾‹ï¼š</li>
</ol>
</blockquote>
<ul>
<li>åŸºç¡€ç”¨æ³•1(å•è¡¨å•æ¡ä»¶)ï¼šsqlè¯­å¥ï¼š</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">SELECT name,age FROM user WHERE gender&#x3D;&#39;male&#39;;</span><br></pre></td></tr></table></figure>

<p>æ•ˆæœï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">mysql&gt; SELECT name,age FROM user WHERE gender&#x3D;&#39;male&#39;;</span><br><span class="line">+------------+-----+</span><br><span class="line">| name       | age |</span><br><span class="line">+------------+-----+</span><br><span class="line">| é˜¿é—¨1å·    |  19 |</span><br><span class="line">| é˜¿é—¨3å·    |  21 |</span><br><span class="line">| é˜¿é—¨5å·    |  23 |</span><br><span class="line">| é˜¿é—¨7å·    |  25 |</span><br><span class="line">+------------+-----+</span><br><span class="line">4 rows in set (0.03 sec)</span><br></pre></td></tr></table></figure>

<ul>
<li>åŸºç¡€ç”¨æ³•2(å•è¡¨å¤šæ¡ä»¶)ï¼šsqlè¯­å¥ï¼š</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">SELECT name,age FROM user WHERE gender&#x3D;&#39;male&#39; AND age&gt;21 OR age&#x3D;19;</span><br></pre></td></tr></table></figure>

<p>æ•ˆæœï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">mysql&gt; SELECT name,age FROM user WHERE gender&#x3D;&#39;male&#39; AND age&gt;21 OR age&#x3D;19;</span><br><span class="line">+------------+-----+</span><br><span class="line">| name       | age |</span><br><span class="line">+------------+-----+</span><br><span class="line">| é˜¿é—¨1å·    |  19 |</span><br><span class="line">| é˜¿é—¨5å·    |  23 |</span><br><span class="line">| é˜¿é—¨7å·    |  25 |</span><br><span class="line">+------------+-----+</span><br><span class="line">3 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<ul>
<li>åŸºç¡€ç”¨æ³•3(å¤šè¡¨å¤šæ¡ä»¶)ï¼š</li>
</ul>
<p>sqlè¯­å¥ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">SELECT name,age,level_name FROM user,auth WHERE user.id&#x3D;auth.user_id AND user.age&gt;25;</span><br></pre></td></tr></table></figure>

<p>æ•ˆæœï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">mysql&gt; SELECT name,age,level_name FROM user,auth WHERE user.id&#x3D;auth.user_id AND user.age&gt;25;</span><br><span class="line">+--------------+-----+-----------------+</span><br><span class="line">| name         | age | level_name      |</span><br><span class="line">+--------------+-----+-----------------+</span><br><span class="line">| é˜¿é—¨1å·      | 188 | è¶…çº§ç®¡ç†å‘˜      |</span><br><span class="line">| é˜¿é—¨888å·    | 888 | æ“ä½œå‘˜          |</span><br><span class="line">| é˜¿é—¨8å·      |  26 | æ“ä½œå‘˜          |</span><br><span class="line">+--------------+-----+-----------------+</span><br><span class="line">3 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<ol>
<li>likeçš„ä½¿ç”¨(ä¸»è¦ç”¨äºæ¨¡ç³ŠæŸ¥è¯¢)ï¼šè¯­æ³•ï¼š</li>
</ol>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">SELECT * from table  WHERE gender LIKE &#39;%fe&#39;;</span><br></pre></td></tr></table></figure>

<p>å®ä¾‹ï¼š</p>
<ul>
<li>sqlè¯­å¥:</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">SELECT * from user  WHERE gender LIKE &#39;%fe%&#39;;</span><br></pre></td></tr></table></figure>

<ul>
<li>æ•ˆæœï¼š</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">mysql&gt; SELECT * from user  WHERE gender LIKE &#39;%fe%&#39;;</span><br><span class="line">+----+--------------+-----+--------+</span><br><span class="line">| id | name         | age | gender |</span><br><span class="line">+----+--------------+-----+--------+</span><br><span class="line">|  1 | é˜¿é—¨1å·      | 188 | female |</span><br><span class="line">|  3 | é˜¿é—¨2å·      |  20 | female |</span><br><span class="line">|  5 | é˜¿é—¨888å·    | 888 | female |</span><br><span class="line">|  7 | é˜¿é—¨6å·      |  24 | female |</span><br><span class="line">|  9 | é˜¿é—¨8å·      |  26 | female |</span><br><span class="line">+----+--------------+-----+--------+</span><br></pre></td></tr></table></figure>

<ol>
<li>UNION(è”è¡¨)ï¼šè¯­æ³•</li>
</ol>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">SELECT expression1, expression2, ... expression_n</span><br><span class="line">FROM tables</span><br><span class="line">[WHERE conditions]</span><br><span class="line">UNION [ALL | DISTINCT]</span><br><span class="line">SELECT expression1, expression2, ... expression_n</span><br><span class="line">FROM tables</span><br><span class="line">[WHERE conditions];</span><br></pre></td></tr></table></figure>

<p>å®ä¾‹:</p>
<ul>
<li>sqlè¯­å¥ï¼š</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">SELECT name, age, country</span><br><span class="line">FROM student</span><br><span class="line">UNION ALL</span><br><span class="line">SELECT name, age, country</span><br><span class="line">FROM teacher;</span><br></pre></td></tr></table></figure>

<ul>
<li>æ•ˆæœï¼š</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">mysql&gt; SELECT name, age, country</span><br><span class="line">    -&gt; FROM student</span><br><span class="line">    -&gt; UNION ALL</span><br><span class="line">    -&gt; SELECT name, age, country</span><br><span class="line">    -&gt; FROM teacher;</span><br><span class="line">+--------+-----+---------+</span><br><span class="line">| name   | age | country |</span><br><span class="line">+--------+-----+---------+</span><br><span class="line">| å¼ ä¸‰   |  12 | USA     |</span><br><span class="line">| æå››   |  12 | CN      |</span><br><span class="line">| ç‹äº”   |  12 | USA     |</span><br><span class="line">| æ²ˆå…­   |  12 | CN      |</span><br><span class="line">| è€A    |  21 | USA     |</span><br><span class="line">| è€B    |  22 | CN      |</span><br><span class="line">| è€C    |  23 | USA     |</span><br><span class="line">| è€D    |  24 | CN      |</span><br><span class="line">+--------+-----+---------+</span><br><span class="line">8 rows in set (0.01 sec)</span><br></pre></td></tr></table></figure>

<ol>
<li>æ’åºï¼š</li>
</ol>
<p>è¯­æ³•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">SELECT field1, field2,...fieldN FROM table_name1, table_name2...</span><br><span class="line">ORDER BY field1 [ASC [DESC][é»˜è®¤ ASC]], [field2...] [ASC [DESC][é»˜è®¤ ASC]]</span><br></pre></td></tr></table></figure>

<p><code>ASC</code>å‡åº<code>DESC</code>é™åº</p>
<p>å®ä¾‹ï¼š-sqlè¯­å¥ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">SELECT name, age, country</span><br><span class="line">FROM student</span><br><span class="line">UNION ALL</span><br><span class="line">SELECT name, age, country</span><br><span class="line">FROM teacher ORDER BY age DESC;</span><br></pre></td></tr></table></figure>

<ul>
<li>æ•ˆæœï¼š</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">mysql&gt; SELECT name, age, country</span><br><span class="line">    -&gt; FROM student</span><br><span class="line">    -&gt; UNION ALL</span><br><span class="line">    -&gt; SELECT name, age, country</span><br><span class="line">    -&gt; FROM teacher ORDER BY age DESC;</span><br><span class="line">+--------+-----+---------+</span><br><span class="line">| name   | age | country |</span><br><span class="line">+--------+-----+---------+</span><br><span class="line">| è€D    |  24 | CN      |</span><br><span class="line">| è€C    |  23 | USA     |</span><br><span class="line">| è€B    |  22 | CN      |</span><br><span class="line">| è€A    |  21 | USA     |</span><br><span class="line">| å¼ ä¸‰   |  12 | USA     |</span><br><span class="line">| æå››   |  12 | CN      |</span><br><span class="line">| ç‹äº”   |  12 | USA     |</span><br><span class="line">| æ²ˆå…­   |  12 | CN      |</span><br><span class="line">+--------+-----+---------+</span><br><span class="line">8 rows in set (0.01 sec)</span><br></pre></td></tr></table></figure>

<h4 id="10-æ›´æ–°æ•°æ®æ•°æ®ï¼š"><a href="#10-æ›´æ–°æ•°æ®æ•°æ®ï¼š" class="headerlink" title="10. æ›´æ–°æ•°æ®æ•°æ®ï¼š"></a>10. æ›´æ–°æ•°æ®æ•°æ®ï¼š</h4><h5 id="è¯­æ³•ï¼š-7"><a href="#è¯­æ³•ï¼š-7" class="headerlink" title="è¯­æ³•ï¼š"></a>è¯­æ³•ï¼š</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">UPDATE table_name SET field1&#x3D;new-value1, field2&#x3D;new-value2</span><br><span class="line">[WHERE Clause]</span><br></pre></td></tr></table></figure>

<h5 id="å®ä¾‹ï¼š-7"><a href="#å®ä¾‹ï¼š-7" class="headerlink" title="å®ä¾‹ï¼š"></a>å®ä¾‹ï¼š</h5><ol>
<li>åŸºç¡€ç”¨æ³•:</li>
</ol>
<ul>
<li>sqlè¯­å¥ï¼š</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">UPDATE user SET name&#x3D;&#39;é˜¿é—¨1å·&#39;, age&#x3D;&#39;188&#39;;</span><br></pre></td></tr></table></figure>

<ul>
<li>æ•ˆæœï¼š</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">mysql&gt; UPDATE user SET name&#x3D;&#39;é˜¿é—¨1å·&#39;, age&#x3D;&#39;188&#39;;</span><br><span class="line">Query OK, 1 row affected (0.00 sec)</span><br><span class="line">Rows matched: 1  Changed: 1  Warnings: 0</span><br></pre></td></tr></table></figure>

<ul>
<li>æ›´æ–°åçš„æ•ˆæœï¼š</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">mysql&gt; SELECT * FROM user;</span><br><span class="line">+----+------------+-----+--------+</span><br><span class="line">| id | name       | age | gender |</span><br><span class="line">+----+------------+-----+--------+</span><br><span class="line">|  1 | é˜¿é—¨1å·    | 188 | female |</span><br><span class="line">+----+------------+-----+--------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<ol>
<li>ä½¿ç”¨WHEREæ¡ä»¶:</li>
</ol>
<ul>
<li>è¯­æ³•ï¼š</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">UPDATE table_name SET field1&#x3D;new-value1, field2&#x3D;new-value2</span><br><span class="line">[WHERE condition1 [AND [OR]] condition2.....</span><br></pre></td></tr></table></figure>

<ul>
<li>å®ä¾‹: sqlè¯­å¥ï¼š</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">UPDATE user SET name&#x3D;&#39;é˜¿é—¨888å·&#39;, age&#x3D;&#39;888&#39; WHERE id&#x3D;5;</span><br><span class="line">WHERE&#96;çš„æ¡ä»¶ä½¿ç”¨å‚è€ƒ **æŸ¥è¯¢æ•°æ®** æ¨¡å—çš„&#96;WHERE</span><br></pre></td></tr></table></figure>

<h4 id="11-åˆ é™¤æ•°æ®"><a href="#11-åˆ é™¤æ•°æ®" class="headerlink" title="11. åˆ é™¤æ•°æ®"></a>11. åˆ é™¤æ•°æ®</h4><h5 id="è¯­æ³•ï¼š-8"><a href="#è¯­æ³•ï¼š-8" class="headerlink" title="è¯­æ³•ï¼š"></a>è¯­æ³•ï¼š</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">DELETE FROM table_name [WHERE Clause]</span><br></pre></td></tr></table></figure>

<h5 id="å®ä¾‹ï¼š-8"><a href="#å®ä¾‹ï¼š-8" class="headerlink" title="å®ä¾‹ï¼š"></a>å®ä¾‹ï¼š</h5><ul>
<li>sqlè¯­å¥ï¼š</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">DELETE FROM user WHERE id&#x3D;10;</span><br></pre></td></tr></table></figure>

<p><code>WHERE</code>çš„æ¡ä»¶ä½¿ç”¨å‚è€ƒ <strong>1.æŸ¥è¯¢æ•°æ®</strong> æ¨¡å—çš„<code>WHERE</code>ä½¿ç”¨ï¼›</p>
<ul>
<li>æ•ˆæœï¼š</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">mysql&gt; DELETE FROM user WHERE id&#x3D;10;</span><br><span class="line">Query OK, 1 row affected (0.00 sec)</span><br></pre></td></tr></table></figure>

<ul>
<li>æ‰§è¡Œåè¡¨çš„æ•°æ®ï¼š</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">mysql&gt; select * from user;</span><br><span class="line">+----+--------------+-----+--------+</span><br><span class="line">| id | name         | age | gender |</span><br><span class="line">+----+--------------+-----+--------+</span><br><span class="line">|  1 | é˜¿é—¨1å·      | 188 | female |</span><br><span class="line">|  2 | é˜¿é—¨1å·      |  19 | male   |</span><br><span class="line">|  3 | é˜¿é—¨2å·      |  20 | female |</span><br><span class="line">|  4 | é˜¿é—¨3å·      |  21 | male   |</span><br><span class="line">|  5 | é˜¿é—¨888å·    | 888 | female |</span><br><span class="line">|  6 | é˜¿é—¨5å·      |  23 | male   |</span><br><span class="line">|  7 | é˜¿é—¨6å·      |  24 | female |</span><br><span class="line">|  8 | é˜¿é—¨7å·      |  25 | male   |</span><br><span class="line">|  9 | é˜¿é—¨8å·      |  26 | female |</span><br><span class="line">+----+--------------+-----+--------+</span><br><span class="line">9 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>mysql</category>
      </categories>
      <tags>
        <tag>mysql</tag>
      </tags>
  </entry>
  <entry>
    <title>npmæ˜¯ä»€ä¹ˆæœ€å…¨è®°å½•</title>
    <url>/2020/07/29/npm%E6%98%AF%E4%BB%80%E4%B9%88%E6%9C%80%E5%85%A8%E8%AE%B0%E5%BD%95/</url>
    <content><![CDATA[<h3 id="npmæ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#npmæ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="npmæ˜¯ä»€ä¹ˆï¼Ÿ"></a>npmæ˜¯ä»€ä¹ˆï¼Ÿ</h3><p>npmå…¨ç§°Node Package Managerï¼Œæ˜¯node.jsçš„æ¨¡å—ä¾èµ–ç®¡ç†å·¥å…·ï¼Œå®ƒæœ‰ä¸€ä¸ªæ—¥ç›Šå¼ºå¤§çš„å¯¹æ‰‹å«yarnï¼Œyarnæ˜¯Facebookå‘å¸ƒçš„ä¸€æ¬¾ä¾èµ–ç®¡ç†å·¥å…·ã€‚</p>
<a id="more"></a>

<h3 id="npmçš„ä½¿ç”¨åœºæ™¯ï¼š"><a href="#npmçš„ä½¿ç”¨åœºæ™¯ï¼š" class="headerlink" title="npmçš„ä½¿ç”¨åœºæ™¯ï¼š"></a>npmçš„ä½¿ç”¨åœºæ™¯ï¼š</h3><p>ä¸Šä¼ åˆ†äº«è‡ªå·±å†™çš„ç¨‹åºä»£ç ï¼ˆåŒ…ï¼‰ï¼Œä¸‹è½½åˆ«äººå†™çš„ç¨‹åºä»£ç ï¼ˆåŒ…ï¼‰ã€‚</p>
<h3 id="npmçš„ç»„æˆï¼š"><a href="#npmçš„ç»„æˆï¼š" class="headerlink" title="npmçš„ç»„æˆï¼š"></a>npmçš„ç»„æˆï¼š</h3><ul>
<li>npmå®˜ç½‘ï¼ˆ<a href="https://links.jianshu.com/go?to=https%3A%2F%2Fwww.npmjs.com%2F" target="_blank" rel="noopener">https://www.npmjs.com/</a>ï¼‰ï¼Œç”¨æ¥ç®¡ç†è®¾ç½®ä¸Šé¢çš„ä»£ç ç¨‹åºåŒ…</li>
<li>ä¸€ä¸ªå¤§æ•°æ®åº“ï¼Œå¤§å®¶åˆ†äº«çš„ç¨‹åºå°±æ”¾åœ¨é‚£é‡Œ</li>
<li>å‘½ä»¤è¡Œå·¥å…·ï¼ˆCLIï¼‰ï¼Œæˆ‘ä»¬é€šè¿‡CLIæ¥ä¸npmäº¤æµ</li>
</ul>
<h3 id="npmæ€ä¹ˆå®‰è£…ä¸å‡çº§"><a href="#npmæ€ä¹ˆå®‰è£…ä¸å‡çº§" class="headerlink" title="npmæ€ä¹ˆå®‰è£…ä¸å‡çº§"></a>npmæ€ä¹ˆå®‰è£…ä¸å‡çº§</h3><p>ä¸NodeJsä¸€èµ·é›†æˆå®‰è£…ï¼Œå®‰è£…NodeJSæ—¶è‡ªåŠ¨å®‰è£…npmã€‚</p>
<h3 id="æŸ¥çœ‹npmç‰ˆæœ¬"><a href="#æŸ¥çœ‹npmç‰ˆæœ¬" class="headerlink" title="æŸ¥çœ‹npmç‰ˆæœ¬"></a>æŸ¥çœ‹npmç‰ˆæœ¬</h3><p>npm -v#6.5.0</p>
<h3 id="æŸ¥çœ‹å¸®åŠ©"><a href="#æŸ¥çœ‹å¸®åŠ©" class="headerlink" title="æŸ¥çœ‹å¸®åŠ©"></a>æŸ¥çœ‹å¸®åŠ©</h3><p>npm help <command></p>
<h3 id="å‡çº§npm"><a href="#å‡çº§npm" class="headerlink" title="å‡çº§npm"></a>å‡çº§npm</h3><p>npm install npm -gnpm install npm@latest -g #å‡çº§åˆ°æœ€æ–°ç‰ˆæœ¬</p>
<h3 id="åŒ…æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#åŒ…æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="åŒ…æ˜¯ä»€ä¹ˆï¼Ÿ"></a>åŒ…æ˜¯ä»€ä¹ˆï¼Ÿ</h3><p>npmçš„æ ¸å¿ƒæ˜¯åŒ…ï¼Œnpmå°†å®ƒç®¡ç†çš„ç¨‹åºéƒ½å«åŒ…ï¼Œæ¯ä¸ªåŒ…é‡Œæœ‰ä¸ªpackage.jsonæ–‡ä»¶ï¼Œä½äºåŒ…çš„æ ¹ç›®å½•ä¸‹ï¼Œç”¨äºå®šä¹‰åŒ…çš„å±æ€§ï¼ˆé…ç½®ä¿¡æ¯ï¼‰ï¼Œæ¯”å¦‚åŒ…çš„åç§°ã€ç‰ˆæœ¬ã€è®¸å¯è¯ç­‰ç­‰ã€‚</p>
<p>åœ¨è¿›è¡Œnpm installå‘½ä»¤æ—¶ï¼Œå°±æ˜¯æ ¹æ®è¿™ä¸ªé…ç½®æ–‡ä»¶ï¼Œæ¥è‡ªåŠ¨ä¸‹è½½è¿™ä¸ªåŒ…æ‰€éœ€çš„æ¨¡å—ï¼Œé…ç½®é¡¹ç›®æ‰€éœ€çš„è¿è¡Œå’Œå¼€å‘ç¯å¢ƒã€‚</p>
<h3 id="package-json"><a href="#package-json" class="headerlink" title="package.json"></a>package.json</h3><p>package.jsonæ˜¯ä¸€ä¸ªJSONå¯¹è±¡ï¼Œæ¯ä¸€ä¸ªé”®å€¼å¯¹å°±æ˜¯å½“é¢åŒ…çš„ä¸€ä¸ªé…ç½®ã€‚</p>
<p>ä¸€ä¸ªpackage.jsonå¸¸ç”¨å­—æ®µ:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;name&quot;: &quot;Hello World&quot;, &#x2F;&#x2F;åŒ…å   </span><br><span class="line">  &quot;version&quot;: &quot;0.0.1&quot;,&#x2F;&#x2F;åŒ…çš„ç‰ˆæœ¬å·ï¼Œä¸»ç‰ˆæœ¬.æ¬¡ç‰ˆæœ¬.è¡¥ä¸ç‰ˆæœ¬    </span><br><span class="line">  &quot;author&quot;: &quot;å¼ ä¸‰&quot;,&#x2F;&#x2F;åŒ…çš„ä½œè€…ï¼Œæ ¼å¼è®¾ç½®ï¼šYour Name &lt;email@example.com&gt; (http:&#x2F;&#x2F;example.com)    </span><br><span class="line">  &quot;description&quot;: &quot;ç¬¬ä¸€ä¸ªnode.jsç¨‹åº&quot;,&#x2F;&#x2F;åŒ…çš„æè¿°    </span><br><span class="line">  &quot;keywords&quot;: [&quot;node.js&quot;, &quot;javascript&quot;],&#x2F;&#x2F;åŒ…çš„å…³é”®è¯        </span><br><span class="line">  &quot;main&quot;: &quot;index.js&quot;,&#x2F;&#x2F;main å­—æ®µæŒ‡å®šäº†ç¨‹åºçš„ä¸»å…¥å£æ–‡ä»¶ï¼Œrequire(&#39;moduleName&#39;) å°±ä¼šåŠ è½½è¿™ä¸ªæ–‡ä»¶ã€‚è¿™ä¸ªå­—æ®µçš„é»˜è®¤å€¼æ˜¯æ¨¡å—æ ¹ç›®å½•ä¸‹é¢çš„ index.jsã€‚   </span><br><span class="line">  &quot;repository&quot;: &#123;&#x2F;&#x2F; åŒ…ä»£ç å­˜æ”¾çš„åœ°æ–¹çš„ç±»å‹ï¼Œå¯ä»¥æ˜¯ git æˆ– svnï¼Œgit å¯åœ¨ Github ä¸Šã€‚   </span><br><span class="line">    &quot;type&quot;: &quot;git&quot;,</span><br><span class="line">    &quot;url&quot;: &quot;https:&#x2F;&#x2F;path&#x2F;to&#x2F;url&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;license&quot;: &quot;MIT&quot;,&#x2F;&#x2F;åŒ…çš„ç‰ˆæƒåè®®  </span><br><span class="line">  &quot;engines&quot;: &#123; &quot;node&quot;: &quot;0.10.x&quot; &#125;,&#x2F;&#x2F;è¯¥æ¨¡å—è¿è¡Œçš„å¹³å°ï¼Œæ¯”å¦‚ Node çš„æŸä¸ªç‰ˆæœ¬æˆ–è€…æµè§ˆå™¨</span><br><span class="line">  &quot;bugs&quot;: &#123; &quot;url&quot;: &quot;http:&#x2F;&#x2F;path&#x2F;to&#x2F;bug&quot;, &quot;email&quot;: &quot;bug@example.com&quot; &#125;,</span><br><span class="line">  &quot;contributors&quot;: [&#123; &quot;name&quot;: &quot;æå››&quot;, &quot;email&quot;: &quot;lisi@example.com&quot; &#125;],&#x2F;&#x2F;åŒ…çš„å…¶ä»–è´¡çŒ®è€…å§“å  </span><br><span class="line">  &quot;scripts&quot;: &#123;&#x2F;&#x2F;è¿è¡Œè„šæœ¬å‘½ä»¤çš„npmå‘½ä»¤è¡Œç¼©å†™ï¼Œæ‰§è¡Œå‘½ä»¤ï¼šnpm run &lt;å‘½ä»¤å&gt;  </span><br><span class="line">    &quot;start&quot;: &quot;node index.js&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;config&quot;: &#123;&#x2F;&#x2F;æ·»åŠ å‘½ä»¤è¡Œçš„ç¯å¢ƒå˜é‡      </span><br><span class="line">    &quot;port&quot;: &quot;8080&quot;&#x2F;&#x2F;å¯ä»¥åœ¨jsä¸­é€šè¿‡process.env.npm_package_config_portè·å–ï¼Œå¯ä»¥é€šè¿‡npm config set &lt;åŒ…å&gt;:port 80ä¿®æ”¹        &#125;, </span><br><span class="line">    &quot;browser&quot;: &#123;&#x2F;&#x2F;ä¾›æµè§ˆå™¨ä½¿ç”¨çš„ç‰ˆæœ¬       </span><br><span class="line">      &quot;tipso&quot;: &quot;.&#x2F;node_modules&#x2F;tipso&#x2F;src&#x2F;tipso.js&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;dependencies&quot;: &#123;&#x2F;&#x2F;é¡¹ç›®è¿è¡Œä¾èµ–åŒ…åˆ—è¡¨ã€‚å¦‚æœä¾èµ–åŒ…æ²¡æœ‰å®‰è£…ï¼Œnpm ä¼šè‡ªåŠ¨å°†ä¾èµ–åŒ…å®‰è£…åœ¨ * node_module ç›®å½•ä¸‹    </span><br><span class="line">      &quot;express&quot;: &quot;latest&quot;,</span><br><span class="line">      &quot;mongoose&quot;: &quot;~3.8.3&quot;,</span><br><span class="line">      &quot;handlebars-runtime&quot;: &quot;~1.0.12&quot;,</span><br><span class="line">      &quot;express3-handlebars&quot;: &quot;~0.5.0&quot;,</span><br><span class="line">      &quot;MD5&quot;: &quot;~1.2.0&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;devDependencies&quot;: &#123;&#x2F;&#x2F;é¡¹ç›®å¼€å‘ä¾èµ–åŒ…åˆ—è¡¨   </span><br><span class="line">      &quot;bower&quot;: &quot;~1.2.8&quot;,</span><br><span class="line">      &quot;grunt&quot;: &quot;~0.4.1&quot;,</span><br><span class="line">      &quot;grunt-contrib-concat&quot;: &quot;~0.3.0&quot;,</span><br><span class="line">      &quot;grunt-contrib-jshint&quot;: &quot;~0.7.2&quot;,</span><br><span class="line">      &quot;grunt-contrib-uglify&quot;: &quot;~0.2.7&quot;,</span><br><span class="line">      &quot;grunt-contrib-clean&quot;: &quot;~0.5.0&quot;,</span><br><span class="line">      &quot;browserify&quot;: &quot;2.36.1&quot;,</span><br><span class="line">      &quot;grunt-browserify&quot;: &quot;~1.3.0&quot;,</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="ä¾èµ–åŒ…ç‰ˆæœ¬æ ¼å¼"><a href="#ä¾èµ–åŒ…ç‰ˆæœ¬æ ¼å¼" class="headerlink" title="ä¾èµ–åŒ…ç‰ˆæœ¬æ ¼å¼:"></a>ä¾èµ–åŒ…ç‰ˆæœ¬æ ¼å¼:</h3><ol>
<li><p>æŒ‡å®šï¼š1.2.2</p>
</li>
<li><p><del>+æŒ‡å®šï¼š</del>1.2.2ï¼Œè¡¨ç¤ºå®‰è£…1.2.xçš„æœ€æ–°ç‰ˆæœ¬ï¼ˆä¸ä½äº1.2.2ï¼Œå°äº1.3.xï¼‰</p>
</li>
<li><p>^ + æŒ‡å®šç‰ˆæœ¬ï¼š^1.2.2ï¼Œè¡¨ç¤ºå®‰è£…1.x.xçš„æœ€æ–°ç‰ˆæœ¬ï¼Œï¼ˆä¸ä½äº1.2.2ï¼Œå°äº2.x.xï¼‰</p>
</li>
<li><p>latestï¼šæœ€æ–°ç‰ˆæœ¬</p>
</li>
</ol>
<h3 id="package-jsonç”Ÿæˆæ–¹å¼ï¼š"><a href="#package-jsonç”Ÿæˆæ–¹å¼ï¼š" class="headerlink" title="package.jsonç”Ÿæˆæ–¹å¼ï¼š"></a>package.jsonç”Ÿæˆæ–¹å¼ï¼š</h3><ol>
<li>æ‰‹å†™</li>
<li>æ‰§è¡Œnpm initç”Ÿæˆ</li>
</ol>
<h3 id="ä¾èµ–åŒ…å†™å…¥package-json"><a href="#ä¾èµ–åŒ…å†™å…¥package-json" class="headerlink" title="ä¾èµ–åŒ…å†™å…¥package.json"></a>ä¾èµ–åŒ…å†™å…¥package.json</h3><p>ä¸åœ¨package.jsonçš„åŒ…è¦å†™å…¥ï¼Œä½¿ç”¨â€“save æˆ–è€…â€“save-dev</p>
<p>npm install express â€“save     # å°†è¯¥æ¨¡å—å†™å…¥dependencieså±æ€§</p>
<p>npm install express â€“save-dev   #å°†è¯¥æ¨¡å—å†™å…¥devDependencieså±æ€§</p>
<h3 id="ä¸‹è½½å®‰è£…ã€å¸è½½ã€æ›´æ–°åŒ…"><a href="#ä¸‹è½½å®‰è£…ã€å¸è½½ã€æ›´æ–°åŒ…" class="headerlink" title="ä¸‹è½½å®‰è£…ã€å¸è½½ã€æ›´æ–°åŒ…"></a>ä¸‹è½½å®‰è£…ã€å¸è½½ã€æ›´æ–°åŒ…</h3><p>å®‰è£…æ–¹å¼ï¼ˆå…¨å±€å®‰è£…ä¸æœ¬åœ°å®‰è£…ï¼‰</p>
<p>npm install express       //æœ¬åœ°å®‰è£…</p>
<p>npm i express         //ç®€å†™     </p>
<p>npm install express -g   //å…¨å±€å®‰è£…</p>
<ul>
<li>å…¨å±€å®‰è£…ï¼šå®‰è£…åŒ…æ”¾åœ¨ /usr/local ä¸‹æˆ–è€…ä½  node çš„å®‰è£…ç›®å½•ï¼Œå¯ä»¥åœ¨å‘½ä»¤è¡Œç›´æ¥ä½¿ç”¨</li>
<li>æœ¬åœ°å®‰è£…ï¼šå®‰è£…åŒ…æ”¾åœ¨ ./node_modules ä¸‹ï¼ˆè¿è¡Œ npm å‘½ä»¤æ—¶æ‰€åœ¨çš„ç›®å½•ï¼‰ï¼Œæ²¡æœ‰æ—¶ä¼šè‡ªåŠ¨åˆ›å»ºï¼Œé€šè¿‡ require() æ¥å¼•å…¥æœ¬åœ°å®‰è£…çš„åŒ…</li>
</ul>
<h3 id="å¼•ç”¨ä¸‹è½½çš„åŒ…"><a href="#å¼•ç”¨ä¸‹è½½çš„åŒ…" class="headerlink" title="å¼•ç”¨ä¸‹è½½çš„åŒ…"></a>å¼•ç”¨ä¸‹è½½çš„åŒ…</h3><p>//var <Module name>= require(â€˜<Module name>â€˜);</Module></Module></p>
<p>var express = require(â€˜expressâ€™);</p>
<h3 id="å¸è½½åŒ…"><a href="#å¸è½½åŒ…" class="headerlink" title="å¸è½½åŒ…"></a>å¸è½½åŒ…</h3><p>npm uninstall express   //åˆ é™¤node_modulesç›®å½•ä¸‹é¢çš„åŒ…</p>
<p>npm uninstall â€“save express      //åˆ é™¤node_modulesçš„åŒ…å’Œpackage.jsonä¸­çš„è¿è¡Œæ—¶ä¾èµ–</p>
<p>npm uninstall â€“save-dev express      //åˆ é™¤node_modulesçš„åŒ…å’Œpackage.jsonä¸­çš„å¼€å‘ä¾èµ–</p>
<p>npm uninstall -g express #å…¨å±€å¸è½½</p>
<h3 id="æ›´æ–°åŒ…"><a href="#æ›´æ–°åŒ…" class="headerlink" title="æ›´æ–°åŒ…"></a>æ›´æ–°åŒ…</h3><p>npm update expressnpm update express -g //æ›´æ–°å…¨å±€åŒ…</p>
<h3 id="package-jsonä¸­çš„ä¾èµ–å…¨éƒ¨æ›´æ–°æˆæœ€æ–°çš„"><a href="#package-jsonä¸­çš„ä¾èµ–å…¨éƒ¨æ›´æ–°æˆæœ€æ–°çš„" class="headerlink" title="package.jsonä¸­çš„ä¾èµ–å…¨éƒ¨æ›´æ–°æˆæœ€æ–°çš„"></a>package.jsonä¸­çš„ä¾èµ–å…¨éƒ¨æ›´æ–°æˆæœ€æ–°çš„</h3><p>npm i -g npm-check-updates</p>
<p>ncu -u</p>
<p>npm install</p>
<h3 id="npm-version"><a href="#npm-version" class="headerlink" title="npm version"></a>npm version</h3><p><code>npm version --help</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm version [&lt;newversion&gt; | major | minor | patch | premajor | preminor | prepatch | prerelease [--preid&#x3D;&lt;prerelease-id&gt;] | from-git]</span><br><span class="line">(run in package dir)</span><br><span class="line">&#39;npm -v&#39; or &#39;npm --version&#39; to print npm version (6.4.1)</span><br><span class="line">&#39;npm view &lt;pkg&gt; version&#39; to view a package&#39;s published version</span><br><span class="line">&#39;npm ls&#39; to inspect current package&#x2F;dependency versions</span><br><span class="line">12345</span><br></pre></td></tr></table></figure>

<p><code>npm version</code>è·å–å½“å‰çš„è¯¦ç»†ç‰ˆæœ¬ä¿¡æ¯ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123; &#39;npm-version-test&#39;: &#39;1.0.0&#39;,</span><br><span class="line">  npm: &#39;6.4.1&#39;,</span><br><span class="line">  ares: &#39;1.14.0&#39;,</span><br><span class="line">  cldr: &#39;33.1&#39;,</span><br><span class="line">  http_parser: &#39;2.8.0&#39;,</span><br><span class="line">  icu: &#39;62.1&#39;,</span><br><span class="line">  modules: &#39;64&#39;,</span><br><span class="line">  napi: &#39;3&#39;,</span><br><span class="line">  nghttp2: &#39;1.33.0&#39;,</span><br><span class="line">  node: &#39;10.10.0&#39;,</span><br><span class="line">  openssl: &#39;1.1.0i&#39;,</span><br><span class="line">  tz: &#39;2018e&#39;,</span><br><span class="line">  unicode: &#39;11.0&#39;,</span><br><span class="line">  uv: &#39;1.23.0&#39;,</span><br><span class="line">  v8: &#39;6.8.275.30-node.24&#39;,</span><br><span class="line">  zlib: &#39;1.2.11&#39; &#125;</span><br><span class="line">12345678910111213141516</span><br></pre></td></tr></table></figure>

<p>ç‰ˆæœ¬å·æœ‰ä¸‰ä½</p>
<blockquote>
<p>   <strong>major.minor.patch</strong></p>
<p>   ä¸»ç‰ˆæœ¬å·.æ¬¡ç‰ˆæœ¬å·.ä¿®è¡¥ç‰ˆæœ¬å·</p>
<ul>
<li>patchï¼šä¿®å¤bugï¼Œå…¼å®¹è€ç‰ˆæœ¬</li>
<li>minorï¼šæ–°å¢åŠŸèƒ½ï¼Œå…¼å®¹è€ç‰ˆæœ¬</li>
<li>majorï¼šæ–°çš„æ¶æ„è°ƒæ•´ï¼Œä¸å…¼å®¹è€ç‰ˆæœ¬</li>
</ul>
</blockquote>
<h5 id="prerelease"><a href="#prerelease" class="headerlink" title="prerelease"></a>prerelease</h5><ol>
<li><code>npm version prerelease</code><br>package.json ä¸­çš„ç‰ˆæœ¬å·<code>1.0.0</code>å˜ä¸º <code>1.0.1-0</code></li>
<li>å†æ¬¡æ‰§è¡Œ <code>npm version prerelease</code><br>package.json ä¸­çš„ç‰ˆæœ¬å·<code>1.0.1-0</code>å˜ä¸º <code>1.0.1-1</code></li>
</ol>
<blockquote>
<p>5,6æ“ä½œè¯´æ˜ å½“æ‰§è¡Œ<code>npm version prerelease</code>æ—¶ï¼Œå¦‚æœæ²¡æœ‰é¢„å‘å¸ƒå·ï¼Œåˆ™å¢åŠ minorï¼ŒåŒæ—¶prerelease è®¾ä¸º0ï¼›<br>å¦‚æœæœ‰prereleaseï¼Œ åˆ™prerelease å¢åŠ 1ã€‚</p>
</blockquote>
<h5 id="prepatch"><a href="#prepatch" class="headerlink" title="prepatch"></a>prepatch</h5><ol>
<li><code>npm version prepatch</code><br>package.json ä¸­çš„ç‰ˆæœ¬å·<code>1.0.1-1</code>å˜ä¸º <code>1.0.2-0</code></li>
</ol>
<blockquote>
<p>prepatch - ç›´æ¥å‡çº§å°å·ï¼Œå¢åŠ é¢„å‘å¸ƒå·ä¸º0ã€‚</p>
</blockquote>
<h5 id="preminor"><a href="#preminor" class="headerlink" title="preminor"></a>preminor</h5><ol>
<li><code>npm version preminor</code><br>package.json ä¸­çš„ç‰ˆæœ¬å·<code>1.0.2-0</code>å˜ä¸º <code>1.1.0-0</code></li>
</ol>
<blockquote>
<p>preminor - ç›´æ¥å‡çº§ä¸­å·ï¼Œå°å·ç½®ä¸º0ï¼Œå¢åŠ é¢„å‘å¸ƒå·ä¸º0ã€‚</p>
</blockquote>
<ol>
<li><code>npm version premajor</code><br>package.json ä¸­çš„ç‰ˆæœ¬å·<code>1.1.0-0</code>å˜ä¸º <code>2.0.0-0</code></li>
</ol>
<blockquote>
<p>premajor - ç›´æ¥å‡çº§å¤§å·ï¼Œä¸­å·ã€å°å·ç½®ä¸º0ï¼Œå¢åŠ é¢„å‘å¸ƒå·ä¸º0ã€‚</p>
</blockquote>
<h5 id="patch-ä¸»è¦ç›®çš„å‡çº§patch"><a href="#patch-ä¸»è¦ç›®çš„å‡çº§patch" class="headerlink" title="patch: ä¸»è¦ç›®çš„å‡çº§patch"></a>patch: ä¸»è¦ç›®çš„å‡çº§patch</h5><ol>
<li><code>npm version patch</code><br>package.json ä¸­çš„ç‰ˆæœ¬å·<code>2.0.0-0</code>å˜ä¸º <code>2.0.0</code>;</li>
<li>å†æ¬¡æ‰§è¡Œ<code>npm version patch</code><br>package.json ä¸­çš„ç‰ˆæœ¬å·<code>2.0.0</code>å˜ä¸º <code>2.0.1</code>;</li>
</ol>
<blockquote>
<p>10,11 æ“ä½œè¯´æ˜ï¼Œpatchï¼šå¦‚æœæœ‰prerelease ï¼Œåˆ™å»æ‰prerelease ï¼Œå…¶ä»–ä¿æŒä¸å˜ï¼›<br>å¦‚æœæ²¡æœ‰prerelease ï¼Œåˆ™å‡çº§minor.</p>
</blockquote>
<h5 id="minorï¼š-ä¸»è¦ç›®çš„å‡çº§minor"><a href="#minorï¼š-ä¸»è¦ç›®çš„å‡çº§minor" class="headerlink" title="minorï¼š ä¸»è¦ç›®çš„å‡çº§minor"></a>minorï¼š ä¸»è¦ç›®çš„å‡çº§minor</h5><ol>
<li><code>npm version minor</code><br>package.json ä¸­çš„ç‰ˆæœ¬å·<code>2.0.1</code>å˜ä¸º <code>2.1.0</code>;</li>
</ol>
<blockquote>
<p>å¦‚æœæ²¡æœ‰prereleaseï¼Œç›´æ¥å‡çº§minorï¼Œ åŒæ—¶patchè®¾ç½®ä¸º0ï¼›</p>
</blockquote>
<ol>
<li><code>npm version premajor</code> <code>2.1.0</code>â€“&gt; <code>3.0.0-0</code>;</li>
<li><code>npm version minor</code> <code>3.0.0-0</code>â€“&gt; <code>3.0.0</code>;</li>
<li><code>npm version prepatch</code> <code>3.0.0</code>â€“&gt;<code>3.0.1-0</code>;</li>
<li><code>npm version minor</code> <code>3.0.1-0</code>â€“&gt;<code>3.1.0</code>;</li>
</ol>
<blockquote>
<p>å¦‚æœæœ‰prereleaseï¼Œ é¦–å…ˆéœ€è¦å»æ‰prereleaseï¼›å¦‚æœpatchä¸º0ï¼Œåˆ™ä¸å‡çº§minorï¼šå¦‚<code>14</code>ï¼›<br>å¦‚æœpatchä¸ä¸º0ï¼Œ åˆ™å‡çº§minorï¼ŒåŒæ—¶patchè®¾ä¸º0ï¼Œå¦‚<code>16</code>ã€‚</p>
</blockquote>
<h5 id="major-ï¼šä¸»è¦ç›®çš„å‡çº§major"><a href="#major-ï¼šä¸»è¦ç›®çš„å‡çº§major" class="headerlink" title="major ï¼šä¸»è¦ç›®çš„å‡çº§major"></a>major ï¼šä¸»è¦ç›®çš„å‡çº§major</h5><ol>
<li><code>npm version major</code> : <code>3.1.0</code> â€“&gt;<code>4.0.0</code></li>
</ol>
<blockquote>
<p>å¦‚æœæ²¡æœ‰preleaseï¼Œåˆ™ç›´æ¥å‡çº§majorï¼Œå…¶ä»–ä½éƒ½ç½®ä¸º0ï¼›</p>
</blockquote>
<ol>
<li><code>npm version premajor</code>: <code>4.0.0</code> â€“&gt; <code>5.0.0-0</code>;</li>
</ol>
<blockquote>
<p>å¦‚æœæœ‰é¢„å‘å¸ƒå·ï¼š minorå’Œpatchéƒ½ä¸º0ï¼Œåˆ™ä¸å‡çº§majorï¼Œåªå°†prerelease å»æ‰ã€‚</p>
</blockquote>
<ol>
<li><code>npm version preminor</code> : <code>5.0.0-0</code>â€“&gt; <code>5.1.0-0</code></li>
<li><code>npm version major</code> : <code>5.1.0-0</code> â€“&gt;<code>6.0.0</code></li>
</ol>
<h3 id="æŸ¥çœ‹å®‰è£…åŒ…ä¿¡æ¯"><a href="#æŸ¥çœ‹å®‰è£…åŒ…ä¿¡æ¯" class="headerlink" title="æŸ¥çœ‹å®‰è£…åŒ…ä¿¡æ¯"></a>æŸ¥çœ‹å®‰è£…åŒ…ä¿¡æ¯</h3><p>npm list    #æŸ¥çœ‹æœ¬åœ°å®‰è£…åŒ…ä¿¡æ¯</p>
<p>npm list -g  #æŸ¥çœ‹å…¨å±€å®‰è£…åŒ…ä¿¡æ¯</p>
<p>npm list express #æŸ¥çœ‹æŸä¸ªå®‰è£…åŒ…ä¿¡æ¯</p>
<p>npm ls    #npm listç®€å†™</p>
<p><img src="http://upload-images.jianshu.io/upload_images/15009210-77025bd3552afff9.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/327/format/webp" alt="img"></p>
<h3 id="æå‡ä¸‹è½½åŒ…çš„é€Ÿåº¦"><a href="#æå‡ä¸‹è½½åŒ…çš„é€Ÿåº¦" class="headerlink" title="æå‡ä¸‹è½½åŒ…çš„é€Ÿåº¦"></a>æå‡ä¸‹è½½åŒ…çš„é€Ÿåº¦</h3><p>ç”±äºnpmçš„åŒ…å¤§å¤šæ˜¯åœ¨å›½å¤–æ•°æ®åº“ï¼Œä¸‹è½½é€Ÿåº¦ä¼šå—åˆ°å½±å“ï¼Œæˆ‘ä»¬æƒ³å¿«ä¸€ç‚¹ï¼Œå¯ä»¥ä½¿ç”¨å›½å†…çš„æ·˜å®é•œåƒã€‚</p>
<p>æ·˜å®NPMé•œåƒæ˜¯ä¸€ä¸ªå®Œæˆçš„npmjs.orgé•œåƒï¼ŒåŸºæœ¬ä¸å®˜ç½‘æœåŠ¡ä¸€è‡´ã€‚</p>
<h3 id="é•œåƒåœ°å€"><a href="#é•œåƒåœ°å€" class="headerlink" title="é•œåƒåœ°å€"></a>é•œåƒåœ°å€</h3><h4 id="æ·˜å®é•œåƒï¼š"><a href="#æ·˜å®é•œåƒï¼š" class="headerlink" title="æ·˜å®é•œåƒï¼š"></a>æ·˜å®é•œåƒï¼š</h4><ul>
<li>æœç´¢åœ°å€ï¼š<a href="https://links.jianshu.com/go?to=http%3A%2F%2Fnpm.taobao.org%2F" target="_blank" rel="noopener">http://npm.taobao.org/</a></li>
<li>registryåœ°å€ï¼š<a href="https://links.jianshu.com/go?to=http%3A%2F%2Fregistry.npm.taobao.org%2F" target="_blank" rel="noopener">http://registry.npm.taobao.org/</a></li>
</ul>
<h4 id="å®˜ç½‘é•œåƒï¼š"><a href="#å®˜ç½‘é•œåƒï¼š" class="headerlink" title="å®˜ç½‘é•œåƒï¼š"></a>å®˜ç½‘é•œåƒï¼š</h4><ul>
<li>æœç´¢åœ°å€ï¼š<a href="https://links.jianshu.com/go?to=https%3A%2F%2Fwww.npmjs.com%2F" target="_blank" rel="noopener">https://www.npmjs.com/</a></li>
<li>registryåœ°å€ï¼š<a href="https://links.jianshu.com/go?to=https%3A%2F%2Fregistry.npmjs.org%2F" target="_blank" rel="noopener">https://registry.npmjs.org/</a></li>
</ul>
<h4 id="ä½¿ç”¨æ·˜å®é•œåƒ"><a href="#ä½¿ç”¨æ·˜å®é•œåƒ" class="headerlink" title="ä½¿ç”¨æ·˜å®é•œåƒ"></a>ä½¿ç”¨æ·˜å®é•œåƒ</h4><p>//ä¸´æ—¶ä½¿ç”¨æ·˜å®é•œåƒ</p>
<p>#å®‰è£…åŒ…æ—¶ä¸´æ—¶åˆ¶å®šé•œåƒåœ°å€ npm â€“registry <a href="https://registry.npm.taobao.org" target="_blank" rel="noopener">https://registry.npm.taobao.org</a> </p>
<p>install express</p>
<p>//æŒä¹…ä½¿ç”¨æ·˜å®é•œåƒ</p>
<p>å…ˆé…ç½®npmé•œåƒï¼Œç„¶åå†å®‰è£…åŒ…</p>
<ul>
<li><p>é…ç½®é•œåƒï¼š</p>
<p>npm config set registry <a href="https://registry.npm.taobao.org" target="_blank" rel="noopener">https://registry.npm.taobao.org</a>  #è®¾ç½®æˆæ·˜å®é•œåƒ</p>
<p>npm config set registry <a href="https://registry.npmjs.org/" target="_blank" rel="noopener">https://registry.npmjs.org/</a>    #è®¾ç½®æˆå®˜ç½‘çš„</p>
</li>
<li><p>ç›‘æµ‹æ˜¯å¦è®¾ç½®æˆåŠŸ</p>
<p>npm config get registry   #æŸ¥è¯¢é•œåƒåœ°å€</p>
<p>npm info express #æŸ¥è¯¢é•œåƒåœ°å€</p>
</li>
<li><p>ä½¿ç”¨cnpmæ¥ä½¿ç”¨æ·˜å®é•œåƒ</p>
</li>
<li><p>å®‰è£…cnpm</p>
<p>npm install -g cnpm â€“registry=<a href="https://registry.npm.taobao.org" target="_blank" rel="noopener">https://registry.npm.taobao.org</a></p>
</li>
<li><p>ä½¿ç”¨cnpmå®‰è£…åŒ…</p>
<p>cnpm install [name]</p>
</li>
<li><p>ä½¿ç”¨nrmæ¥ç®¡ç†åˆ‡æ¢npmæº</p>
<p>nrmä¸“é—¨ç”¨æ¥ç®¡ç†å’Œå¿«é€Ÿåˆ‡æ¢ç§äººé…ç½®çš„registryã€‚</p>
</li>
<li><p>å®‰è£…</p>
<p>npm install -g nrm</p>
</li>
<li><p>åˆ—å‡ºå¯é€‰æº</p>
<p>nrm ls</p>
</li>
<li><p>åˆ‡æ¢æº</p>
<p>nrm use taobao</p>
</li>
<li><p>å¢åŠ æº</p>
<p>nrm add &lt;æºåç§°&gt; &lt;æºåœ°å€&gt;   #æ¯”å¦‚ä¼ä¸šæˆ–ç»„ç»‡æœ‰è‡ªå·±çš„ç§æœ‰æºï¼ˆé•œåƒï¼‰æ—¶</p>
</li>
<li><p>åˆ é™¤æº</p>
<p>nrm del</p>
</li>
<li><p>æµ‹è¯•æºå“åº”</p>
<p>nrm test   #æµ‹è¯•æ‰€æœ‰æºnrm test npm  #æµ‹è¯•npmå®˜æ–¹æº</p>
</li>
</ul>
<h3 id="å¦‚ä½•åˆ›å»ºå’Œå‘å¸ƒè‡ªå·±çš„åŒ…"><a href="#å¦‚ä½•åˆ›å»ºå’Œå‘å¸ƒè‡ªå·±çš„åŒ…" class="headerlink" title="å¦‚ä½•åˆ›å»ºå’Œå‘å¸ƒè‡ªå·±çš„åŒ…"></a>å¦‚ä½•åˆ›å»ºå’Œå‘å¸ƒè‡ªå·±çš„åŒ…</h3><ul>
<li><p>åˆ›å»ºæ¨¡å—</p>
<p>npm init</p>
</li>
</ul>
<p><img src="http://upload-images.jianshu.io/upload_images/15009210-39b52d3d66dece35.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/562/format/webp" alt="img"></p>
<p>â€‹    æ­¤æ—¶ï¼Œç”Ÿæˆäº†package.jsoné…ç½®æ–‡ä»¶</p>
<ul>
<li><p>å¢åŠ å…¥å£æ–‡ä»¶</p>
<p>é»˜è®¤çš„å…¥å£æ–‡ä»¶æ˜¯æ ¹ç›®å½•ä¸‹çš„index.jsï¼Œåœ¨æ ¹ç›®å½•ä¸‹åˆ›å»ºindex.js</p>
<p>//index.js</p>
<p>exports.printMsg = function() {    </p>
<p>â€‹    console.log(â€œThis is a message from the demo packageâ€);</p>
<p>}</p>
</li>
</ul>
<ul>
<li><p>ç™»å½•æˆ–æ³¨å†Œnpmè´¦å·</p>
<p>npm adduser  #æ³¨å†Œnpmè´¦å·</p>
<p>npm login #ç™»å½•npmè´¦å·</p>
</li>
</ul>
<ul>
<li><p>å‘å¸ƒåŒ…</p>
<p>å‘å¸ƒåŒ…ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦åšä¸¤æ­¥ï¼š</p>
</li>
</ul>
<ol>
<li><p>ä¿®æ”¹CHANGE.MDï¼Œè¿™é‡Œè®°å½•äº†æˆ‘ä»¬åŒ…å‘å¸ƒçš„ç‰ˆæœ¬å˜åŒ–æƒ…å†µï¼Œæ ¼å¼è‡ªå®š</p>
</li>
<li><p>ä¿®æ”¹package.jsonä¸­çš„versionå­—æ®µï¼Œè¡¨ç¤ºè¿™æ¬¡å‘å¸ƒçš„åŒ…çš„ç‰ˆæœ¬ï¼Œå¦‚æœä¸ä¿®æ”¹ï¼Œå‘å¸ƒä¼šæŠ¥é”™ã€‚</p>
<p>å‘å¸ƒåŒ…ï¼š</p>
<p>npm publish</p>
</li>
</ol>
<ul>
<li><p>æ’¤é”€å‘å¸ƒ</p>
<p>æ’¤é”€å‘å¸ƒè‡ªå·±å‘å¸ƒè¿‡çš„æŸä¸ªç‰ˆæœ¬ä»£ç </p>
<p>npm unpublish <package>@<version></version></package></p>
<p>å‘å¸ƒæˆåŠŸä¹‹åï¼Œè¿™ä¸ªåŒ…å°±å¯ä»¥é€šè¿‡npm installå‘½ä»¤æ¥è¿›è¡Œå®‰è£…äº†ã€‚</p>
</li>
<li><p>ç®¡ç†åŒ…çš„ç‰ˆæœ¬</p>
<p>å½“æˆ‘ä»¬ä¸‹è½½å’Œå‘å¸ƒæˆ‘ä»¬çš„åŒ…æ—¶ï¼Œéƒ½ä¼šå…³æ³¨åˆ°åŒ…çš„ç‰ˆæœ¬å·ï¼Œnpmä½¿ç”¨è¯­ä¹‰ç‰ˆæœ¬å·æ¥ç®¡ç†åŒ…ã€‚</p>
<p>è¯­ä¹‰ç‰ˆæœ¬å·ç»„æˆï¼šX.Y.Z</p>
<ul>
<li>Xä»£è¡¨ä¸»ç‰ˆæœ¬å·ï¼Œè¡¨ç¤ºæœ‰å¤§å˜åŠ¨ï¼Œå‘ä¸‹ä¸å…¼å®¹</li>
<li>Yä»£è¡¨æ¬¡ç‰ˆæœ¬å·ï¼Œè¡¨ç¤ºæ–°å¢åŠŸèƒ½ï¼Œå‘ä¸‹å…¼å®¹</li>
<li>Zä»£è¡¨è¡¥ä¸ç‰ˆæœ¬å·ï¼Œè¡¨ç¤ºä¿®å¤BUG</li>
</ul>
</li>
</ul>
<h3 id="tips"><a href="#tips" class="headerlink" title="tips"></a>tips</h3><ul>
<li>å¸è½½nodejs</li>
</ul>
<p>C:\ProgramData\Microsoft\Windows\Start Menuè¿™ä¸ªè·¯å¾„ä¸‹é¢æœ‰ä¸ªuninstall node.jsç‚¹å‡»è¿è¡Œåœ¨å®‰è£…å°±è¡Œäº†ï¼Œæ­£å¸¸å¸è½½æ‰èƒ½é‡è£…</p>
<ul>
<li>æ¸…é™¤ç¼“å­˜</li>
</ul>
<p>npm cache clean â€“force</p>
<ul>
<li><p>showå’Œupdate</p>
<p>npm show xxx  //æ˜¾ç¤ºæ¨¡å—è¯¦æƒ…<br>npm update  //å‡çº§å½“å‰ç›®å½•ä¸‹çš„é¡¹ç›®çš„æ‰€æœ‰æ¨¡å—<br>npm update xxx  //å‡çº§å½“å‰ç›®å½•ä¸‹çš„é¡¹ç›®çš„æŒ‡å®šæ¨¡å—<br>npm update -g xxx  //å‡çº§å…¨å±€å®‰è£…çš„æŒ‡å®šæ¨¡å—</p>
</li>
</ul>
<ul>
<li><p>å®‰è£…/å¸è½½ babel</p>
<p>npm install <a href="mailto:babel-loader@7.1.5">babel-loader@7.1.5</a></p>
<p>npm uninstall babel-loader</p>
</li>
<li><p>installç»†è®²</p>
<p>npm install xxx  //å®‰è£…æ¨¡å—å¦‚ä¸æŒ‡å®šç‰ˆæœ¬å·ï¼Œé»˜è®¤ä¼šå®‰è£…æœ€æ–°çš„ç‰ˆæœ¬ï¼Œå®‰è£…ä½†ä¸å†™package.json<br>npm install xxx 0.0.1  //å®‰è£…æŒ‡å®šç‰ˆæœ¬çš„æ¨¡å—<br>npm install â€“save xxx //å®‰è£…å¹¶æŠŠæ¨¡å—çš„ç‰ˆæœ¬ä¿¡æ¯ä¿å­˜åˆ°dependenciesï¼ˆç”Ÿäº§ç¯å¢ƒä¾èµ–ï¼‰ä¸­ï¼Œå³ä½ çš„package.jsonæ–‡ä»¶çš„dependencieså­—æ®µä¸­<br>npm install â€“global xxx<br>npm install â€“save-dev xxx //å®‰è£…å¹¶æŠŠæ¨¡å—ç‰ˆæœ¬ä¿¡æ¯ä¿å­˜åˆ°devDependenciesï¼ˆå¼€å‘ç¯å¢ƒä¾èµ–ï¼‰ä¸­ï¼Œå³ä½ çš„package.jsonæ–‡ä»¶çš„devDependencieså­—æ®µä¸­<br>npm install â€“save-optional xxx //å®‰è£…å¹¶æŠŠæ¨¡å—å®‰è£…åˆ°optionalDependenciesï¼ˆå¯é€‰ç¯å¢ƒä¾èµ–ï¼‰ä¸­ï¼Œå³ä½ çš„package.jsonæ–‡ä»¶çš„optionalDependencieså­—æ®µä¸­<br>npm install â€“save-exact xxx //ç²¾ç¡®çš„å®‰è£…æŒ‡å®šç‰ˆæœ¬çš„æ¨¡å—ï¼Œdependencieså­—æ®µé‡Œæ¯ä¸ªæ¨¡å—ç‰ˆæœ¬å·å‰é¢çš„^ä¼šå–æ¶ˆæ‰</p>
</li>
<li><p>å¸¸è§å®‰è£…</p>
<p>npm install -g cnpm â€“registry=<a href="https://registry.npm.taobao.org" target="_blank" rel="noopener">https://registry.npm.taobao.org</a></p>
<p>npmå›½å†…æ·˜å®çš„é•œåƒï¼ˆå› ä¸ºnpmå®‰è£…æ’ä»¶æ˜¯ä»å›½å¤–æœåŠ¡å™¨ä¸‹è½½ï¼Œå—ç½‘ç»œå½±å“å¤§ï¼Œå¯èƒ½å‡ºç°å¼‚å¸¸ï¼Œå¦‚æœnpmçš„æœåŠ¡å™¨åœ¨ä¸­å›½å°±å¥½äº†ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¹äºåˆ†äº«çš„æ·˜å®å›¢é˜Ÿå¹²äº†è¿™äº‹ã€‚æ¥è‡ªå®˜ç½‘ï¼šâ€œè¿™æ˜¯ä¸€ä¸ªå®Œæ•´ npmjs.org é•œåƒï¼Œä½ å¯ä»¥ç”¨æ­¤ä»£æ›¿å®˜æ–¹ç‰ˆæœ¬(åªè¯»)ï¼ŒåŒæ­¥é¢‘ç‡ç›®å‰ä¸º 10åˆ†é’Ÿ ä¸€æ¬¡ä»¥ä¿è¯å°½é‡ä¸å®˜æ–¹æœåŠ¡åŒæ­¥ã€‚â€ ï¼‰</p>
</li>
</ul>
<p>  npm install -g express</p>
<p>  å…¨å±€å®‰è£…expressæ¨¡å—</p>
<p>  npm install -g vue-cli</p>
<p>  å…¨å±€å®‰è£…vue-cliæ¨¡å—</p>
<p>  npm install -g supervisor</p>
<p>  ç”¨äºæœåŠ¡å™¨ä¸ŠNode.jsåº”ç”¨å´©æºƒçš„æ—¶å€™ï¼Œè‡ªåŠ¨é‡æ–°å¯åŠ¨ã€‚å½“ç„¶å®ƒä¹Ÿå¯ä»¥ç›‘æ§ä½ çš„é¡¹ç›®çš„jsæ–‡ä»¶å˜åŒ–ï¼Œè‡ªåŠ¨é‡å¯æ¥æ–¹ä¾¿è°ƒè¯•ã€‚</p>
<p>  npm install -g pm2</p>
<p>  PM2æ˜¯nodeè¿›ç¨‹ç®¡ç†å·¥å…·ï¼Œå¯ä»¥åˆ©ç”¨å®ƒæ¥ç®€åŒ–å¾ˆå¤šnodeåº”ç”¨ç®¡ç†çš„ç¹çä»»åŠ¡ï¼Œå¦‚æ€§èƒ½ç›‘æ§ã€è‡ªåŠ¨é‡å¯ã€è´Ÿè½½å‡è¡¡ç­‰ï¼Œè€Œä¸”ä½¿ç”¨éå¸¸ç®€å•ã€‚</p>
<p>  npm install -s mongoose</p>
<p>  Mongooseæ˜¯åœ¨node.jså¼‚æ­¥ç¯å¢ƒä¸‹å¯¹mongodbè¿›è¡Œä¾¿æ·æ“ä½œçš„å¯¹è±¡æ¨¡å‹å·¥å…·,å¯ä»¥ç®€å•ç†è§£ä¸ºé“¾æ¥ã€æ“ä½œMongoDBæ•°æ®åº“</p>
<p>  npm install -s md5</p>
<p>  è¿™ä¸ªå°±ä¸è§£é‡Šäº†ï¼ŒMD5æ•°æ®åŠ å¯†</p>
<p>  npm install -s express-session</p>
<p>  æ“ä½œæœåŠ¡å™¨ç«¯çš„session</p>
<p>  npm install -s connect-flash</p>
<p>  connect-flashæ˜¯nodejsä¸­çš„ä¸€ä¸ªæ¨¡å—ï¼Œflashæ˜¯ä¸€ä¸ªæš‚å­˜å™¨ï¼Œè€Œä¸”æš‚å­˜å™¨é‡Œé¢çš„å€¼ä½¿ç”¨è¿‡ä¸€æ¬¡ä¾¿è¢«æ¸…ç©ºï¼Œé€‚åˆç”¨æ¥åšç½‘ç«™çš„æç¤ºä¿¡æ¯ã€‚</p>
<p>  npm install -s multer</p>
<p>  Multeræ˜¯ä¸€ä¸ªnode.jsä¸­é—´ä»¶ï¼Œç”¨äºå¤„ç†multipart/form-dataï¼Œä¸»è¦ç”¨äºä¸Šä¼ æ–‡ä»¶ã€‚</p>
<h3 id="â€˜gulpâ€™ä¸æ˜¯å†…éƒ¨æˆ–å¤–éƒ¨å‘½ä»¤ï¼Œä¹Ÿæ²¡æ˜¯å¯è¿è¡Œçš„ç¨‹åºæˆ–æ‰¹å¤„ç†æ–‡ä»¶-é—®é¢˜è§£å†³æ–¹æ³•"><a href="#â€˜gulpâ€™ä¸æ˜¯å†…éƒ¨æˆ–å¤–éƒ¨å‘½ä»¤ï¼Œä¹Ÿæ²¡æ˜¯å¯è¿è¡Œçš„ç¨‹åºæˆ–æ‰¹å¤„ç†æ–‡ä»¶-é—®é¢˜è§£å†³æ–¹æ³•" class="headerlink" title="â€˜gulpâ€™ä¸æ˜¯å†…éƒ¨æˆ–å¤–éƒ¨å‘½ä»¤ï¼Œä¹Ÿæ²¡æ˜¯å¯è¿è¡Œçš„ç¨‹åºæˆ–æ‰¹å¤„ç†æ–‡ä»¶,é—®é¢˜è§£å†³æ–¹æ³•"></a>â€˜gulpâ€™ä¸æ˜¯å†…éƒ¨æˆ–å¤–éƒ¨å‘½ä»¤ï¼Œä¹Ÿæ²¡æ˜¯å¯è¿è¡Œçš„ç¨‹åºæˆ–æ‰¹å¤„ç†æ–‡ä»¶,é—®é¢˜è§£å†³æ–¹æ³•</h3><p>è§£å†³æ–¹æ³•ï¼š</p>
<p><strong>è§£å†³æ–¹æ³•ä¸€</strong>ï¼šè®¾ç½®ç¯å¢ƒå˜é‡</p>
<p>1.è®¡ç®—æœº(å³å‡»)-&gt;å±æ€§-&gt;é«˜çº§ç³»ç»Ÿè®¾ç½® -&gt; é«˜çº§-&gt;ç¯å¢ƒå˜é‡</p>
<p>2.æ‰¾åˆ°nodeå…¨å±€æ–‡ä»¶è·¯å¾„ï¼Œè¾“å…¥npm config get prefix</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm config get prefix</span><br></pre></td></tr></table></figure>

<p>C:\Users\Administrator\AppData\Roaming\npm è¿™ä¸ªè·¯å¾„å°±æ˜¯nodeå…¨å±€æ–‡ä»¶è·¯å¾„</p>
<p><img src="https://images2015.cnblogs.com/blog/1119043/201704/1119043-20170405172531019-1392920719.png" alt="img"></p>
<p><img src="https://images2015.cnblogs.com/blog/1119043/201704/1119043-20170405172858613-839239581.png" alt="img"></p>
<p>3.å…³é—­å‘½ä»¤è¡Œçª—å£ï¼Œé‡æ–°æ‰“å¼€</p>
<p><strong>è§£å†³æ–¹æ³•äºŒ</strong>ï¼šå…¨å±€å®‰è£…gulp(ç®€å•å¿«é€Ÿï¼Œæ¨è)</p>
<p>1.è¯´æ˜ï¼šå…¨å±€å®‰è£…gulpçš„ç›®çš„æ˜¯é€šè¿‡å®ƒæ‰§è¡Œgulpä»»åŠ¡</p>
<p>2.å®‰è£…ï¼šå‘½ä»¤æç¤ºç¬¦æ‰§è¡Œnpm install gulp -g</p>
<p>3.å‘½ä»¤æç¤ºç¬¦æ‰§è¡Œgulp -v ï¼ŒéªŒè¯ä¸€ä¸‹æ˜¯å¦æ­£ç¡®å®‰è£…</p>
<p>å‡ºç°ç‰ˆæœ¬å·ï¼Œè¯´æ˜é—®é¢˜å·²ç»è§£å†³ï¼Œå¯ä»¥ä½¿ç”¨gulp-vã€gulp lessã€gulp buildç­‰æ‰§è¡Œæ“ä½œ</p>
<p><img src="https://images2015.cnblogs.com/blog/1119043/201704/1119043-20170405173920191-1512489935.png" alt="img"></p>
<h2 id="æ€»ç»“ï¼š"><a href="#æ€»ç»“ï¼š" class="headerlink" title="æ€»ç»“ï¼š"></a>æ€»ç»“ï¼š</h2><p>1.ä¸¤ç§æ–¹æ³•é…ç½®å®Œæˆä¹‹åï¼Œå‘½ä»¤æç¤ºç¬¦éƒ½éœ€å…³é—­ä¹‹åï¼Œå†é‡æ–°æ‰“å¼€ï¼Œæ‰èƒ½èµ·ä½œç”¨ã€‚</p>
<p>2.æ²¡æœ‰å®‰è£…å…¨å±€çš„gulpï¼Œåªå®‰è£…äº†æœ¬åœ°gulp,å‘½ä»¤è¡Œæ— æ³•æ‰§è¡Œgulp-vï¼Œä¹Ÿæ— æ³•æ‰§è¡Œgulpå…¶å®ƒçš„ç›¸å…³å‘½ä»¤ã€‚</p>
<p>å‚è€ƒèµ„æ–™ï¼š</p>
<p>å®˜ç½‘ï¼š<a href="https://links.jianshu.com/go?to=https%3A%2F%2Fwww.npmjs.com.cn%2Fgetting-started%2Finstalling-npm-packages-locally%2F" target="_blank" rel="noopener">https://www.npmjs.com.cn/getting-started/installing-npm-packages-locally/</a></p>
<p>èœé¸Ÿæ•™ç¨‹ï¼š<a href="https://links.jianshu.com/go?to=https%3A%2F%2Fwww.runoob.com%2Fnodejs%2Fnodejs-npm.html" target="_blank" rel="noopener">https://www.runoob.com/nodejs/nodejs-npm.html</a></p>
<p>npmè„šæœ¬ä½¿ç”¨ï¼š<a href="https://links.jianshu.com/go?to=http%3A%2F%2Fwww.ruanyifeng.com%2Fblog%2F2016%2F10%2Fnpm_scripts.html" target="_blank" rel="noopener">http://www.ruanyifeng.com/blog/2016/10/npm_scripts.html</a></p>
<p>package.jsonè¯´æ˜ï¼š<a href="https://links.jianshu.com/go?to=http%3A%2F%2Fjavascript.ruanyifeng.com%2Fnodejs%2Fpackagejson.html" target="_blank" rel="noopener">http://javascript.ruanyifeng.com/nodejs/packagejson.html</a></p>
]]></content>
      <categories>
        <category>npm</category>
      </categories>
      <tags>
        <tag>npm</tag>
        <tag>packageJson</tag>
      </tags>
  </entry>
  <entry>
    <title>nrmåˆ‡æ¢ä»“åº“æº</title>
    <url>/2020/07/30/nrm%E5%88%87%E6%8D%A2%E4%BB%93%E5%BA%93%E6%BA%90/</url>
    <content><![CDATA[<h2 id="0-èƒŒæ™¯"><a href="#0-èƒŒæ™¯" class="headerlink" title="0. èƒŒæ™¯"></a>0. èƒŒæ™¯</h2><p>å…ˆæè¿°ä¸€ä¸‹æ²¡æœ‰nrmæ—¶æˆ‘ä»¬æ˜¯æ€æ ·ä½¿ç”¨npmæºçš„</p>
<p>æŸ¥çœ‹npmæºåœ°å€ï¼Œç»ˆç«¯ä¸­è¾“å…¥</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm config list</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹åˆ°npmæº</p>
<a id="more"></a>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">metrics-registry &#x3D; &quot;https:&#x2F;&#x2F;registry.npmjs.org&#x2F;&quot;</span><br></pre></td></tr></table></figure>

<p>å¦‚æœéœ€è¦ä¿®æ”¹registryåœ°å€ï¼Œä¾‹å¦‚åˆ‡æ¢åˆ°å›½å†…çš„æ·˜å®æº</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm set registry https:&#x2F;&#x2F;registry.npm.taobao.org&#x2F;</span><br></pre></td></tr></table></figure>

<p>å¦‚æœè¦åˆ é™¤è¿™ä¸ªæº</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm config rm registry</span><br></pre></td></tr></table></figure>

<p>è¿™ç§æ–¹å¼ç¼ºä¹å¯¹æºçš„ç®¡ç†ï¼Œåˆ‡æ¢æºéœ€è¦æ¯æ¬¡é…ç½®åœ°å€ã€‚å¦‚æœä½¿ç”¨ä¸­åˆ‡æ¢æºæ¯”è¾ƒé¢‘ç¹ï¼Œé‚£ä¹ˆæ­¥éª¤ä¹Ÿå¾ˆç¹çï¼Œæ‰€ä»¥æˆ‘å¼•å…¥nrmè¿™ä¸€æºç®¡ç†å™¨ã€‚</p>
<h2 id="1-nrmæ˜¯ä»€ä¹ˆ"><a href="#1-nrmæ˜¯ä»€ä¹ˆ" class="headerlink" title="1. nrmæ˜¯ä»€ä¹ˆ"></a>1. nrmæ˜¯ä»€ä¹ˆ</h2><p>nrm æ˜¯ä¸€ä¸ª npm æºç®¡ç†å™¨ï¼Œå…è®¸ä½ å¿«é€Ÿåœ°åœ¨ npm æºé—´åˆ‡æ¢ã€‚</p>
<p>ä»€ä¹ˆæ„æ€å‘¢ï¼Œnpmé»˜è®¤æƒ…å†µä¸‹æ˜¯ä½¿ç”¨npmå®˜æ–¹æºï¼ˆä½¿ç”¨npm config lså‘½ä»¤å¯ä»¥æŸ¥çœ‹ï¼‰ï¼Œåœ¨å›½å†…ç”¨è¿™ä¸ªæºè‚¯å®šæ˜¯ä¸é è°±çš„ï¼Œä¸€èˆ¬æˆ‘ä»¬éƒ½ä¼šç”¨æ·˜å®npmæºï¼š<a href="https://registry.npm.taobao.org/ï¼Œä¿®æ”¹æºçš„æ–¹å¼ä¹Ÿå¾ˆç®€å•ï¼Œåœ¨ç»ˆç«¯è¾“å…¥ï¼š" target="_blank" rel="noopener">https://registry.npm.taobao.org/ï¼Œä¿®æ”¹æºçš„æ–¹å¼ä¹Ÿå¾ˆç®€å•ï¼Œåœ¨ç»ˆç«¯è¾“å…¥ï¼š</a></p>
<p>npm set registry <a href="https://registry.npm.taobao.org/" target="_blank" rel="noopener">https://registry.npm.taobao.org/</a></p>
<p>å†npm config lsæŸ¥çœ‹ï¼Œå·²ç»åˆ‡æ¢æˆåŠŸã€‚</p>
<h2 id="2-å®‰è£…nrm"><a href="#2-å®‰è£…nrm" class="headerlink" title="2. å®‰è£…nrm"></a>2. å®‰è£…nrm</h2><p>åœ¨å‘½ä»¤è¡Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œå…¨å±€å®‰è£…nrmã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install -g nrm</span><br></pre></td></tr></table></figure>

<h2 id="3-æ·»åŠ æ–°çš„æº"><a href="#3-æ·»åŠ æ–°çš„æº" class="headerlink" title="3. æ·»åŠ æ–°çš„æº"></a>3. æ·»åŠ æ–°çš„æº</h2><p>æ‰§è¡Œå‘½ä»¤ nrm add <registry> <url>ï¼Œå…¶ä¸­ registry ä¸ºæºåï¼Œ<code>url</code>ä¸ºæºçš„è·¯å¾„ã€‚ä¾‹å¦‚ä¸‹é¢æ·»åŠ å…¬å¸çš„ç§æœ‰æºã€‚</url></registry></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">nrm add yuxxxx http:&#x2F;&#x2F;sinxxx.yuxxxx.cn:4123&#x2F;</span><br></pre></td></tr></table></figure>

<h2 id="4-åˆ‡æ¢æº"><a href="#4-åˆ‡æ¢æº" class="headerlink" title="4. åˆ‡æ¢æº"></a>4. åˆ‡æ¢æº</h2><p>æ‰§è¡Œå‘½ä»¤ nrm use <registry>åˆ‡æ¢æºã€‚</registry></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">nrm use yuxxxx</span><br></pre></td></tr></table></figure>

<h2 id="5-æŸ¥çœ‹æº"><a href="#5-æŸ¥çœ‹æº" class="headerlink" title="5. æŸ¥çœ‹æº"></a>5. æŸ¥çœ‹æº</h2><p>ç”¨nrm lså‘½ä»¤æŸ¥çœ‹é»˜è®¤é…ç½®ï¼Œå¸¦*å·å³ä¸ºå½“å‰ä½¿ç”¨çš„æºã€‚å¯ä»¥çœ‹å‡ºåˆ‡æ¢å·²ç”Ÿæ•ˆã€‚</p>
<p><img src="https://img2018.cnblogs.com/blog/1001990/201905/1001990-20190515011742654-110730281.png" alt="img"></p>
<h2 id="6-æµ‹è¯•æºå“åº”æ—¶é—´"><a href="#6-æµ‹è¯•æºå“åº”æ—¶é—´" class="headerlink" title="6. æµ‹è¯•æºå“åº”æ—¶é—´"></a>6. æµ‹è¯•æºå“åº”æ—¶é—´</h2><p>é€šè¿‡nrm test <registry>æµ‹è¯•ç›¸åº”æºçš„å“åº”æ—¶é—´ã€‚</registry></p>
<h2 id="7-åˆ é™¤æº"><a href="#7-åˆ é™¤æº" class="headerlink" title="7. åˆ é™¤æº"></a>7. åˆ é™¤æº</h2><p>æ‰§è¡Œå‘½ä»¤ nrm del <registry> åˆ é™¤å¯¹åº”çš„æºã€‚</registry></p>
<h2 id="8-ä½¿ç”¨zpmç§æœ‰ä»“åº“æº"><a href="#8-ä½¿ç”¨zpmç§æœ‰ä»“åº“æº" class="headerlink" title="8. ä½¿ç”¨zpmç§æœ‰ä»“åº“æº"></a>8. ä½¿ç”¨zpmç§æœ‰ä»“åº“æº</h2><p>ä¸¾ä¾‹</p>
<p>å…¨å±€å®‰è£…nrm</p>
<p>npm i nrm -g</p>
<p>æ·»åŠ ä»“åº“æº<br>nrm add zpm <a href="http://119.45.186.39:4873/" target="_blank" rel="noopener">http://119.45.186.39:4873/</a></p>
<p>åˆ é™¤ä»“åº“æº<br>nrm del zpm</p>
<p>ç™»å½•ç”¨æˆ·<br>npm login</p>
<p>æ³¨å†Œç”¨æˆ·<br>npm adduser â€“registry <a href="http://119.45.186.39:4873/" target="_blank" rel="noopener">http://119.45.186.39:4873/</a></p>
<p>æ¥ä¸‹æ¥ä¼šæç¤ºç”¨æˆ·åï¼Œå¯†ç ï¼Œé‚®ç®±ï¼Œè¯·è®°ä½è¿™äº›ï¼Œå› ä¸ºæ¥ä¸‹æ¥è¿˜ä¼šç”¨åˆ°<br>æ‰“å¼€æµè§ˆå™¨è®¿é—® <a href="http://119.45.186.39:4873/" target="_blank" rel="noopener">http://119.45.186.39:4873/</a><br>ç‚¹å‡»å³ä¸Šè§’ç™»å½•ï¼Œè¾“å…¥ç”¨æˆ·åå¯†ç ï¼Œè¿™æ—¶å±•ç¤ºè‡»æ—…æä¾›çš„åŒ…åˆ™è¯´æ˜å¯ä»¥ä¸‹è½½<br>ä½¿ç”¨ç§æœ‰ä»“åº“æº<br>nrm use zpm</p>
<p>è¡¥å……è¯´æ˜ï¼š<br>nrm å‘½ä»¤æŠ¥é”™ï¼ˆæ— æ³•åŠ è½½æ–‡ä»¶ C:\Users\hc\AppData\Roaming\npm\nrm.ps1 ï¼Œå› ä¸ºåœ¨æ­¤ç³»ç»Ÿä¸Šç¦æ­¢è¿è¡Œè„šæœ¬ã€‚ï¼‰<br>è§£å†³æ–¹å¼å¦‚ä¸‹ï¼š<br>1.win+s æœç´¢powershell ä»¥ç®¡ç†èº«ä»½è¿è¡Œ<br>2.ä½¿ç”¨set-ExecutionPolicy RemoteSignedå‘½ä»¤å°†è®¡ç®—æœºä¸Šçš„æ‰§è¡Œç­–ç•¥æ›´æ”¹ä¸º RemoteSigned,è¾“å…¥Yç¡®å®š<br>3.æŸ¥çœ‹è®¡ç®—æœºæ‰§è¡Œç­–ç•¥get-ExecutionPolicy<br>4.æ‰§è¡Œå‘½ä»¤ï¼šSet-ExecutionPolicy RemoteSigned -Scope Processå†æ¬¡è¾“å…¥Yé—®é¢˜è§£`</p>
]]></content>
      <categories>
        <category>nrm</category>
      </categories>
      <tags>
        <tag>nrm</tag>
        <tag>zpm</tag>
        <tag>ä»“åº“æº</tag>
      </tags>
  </entry>
  <entry>
    <title>overflow</title>
    <url>/2020/07/30/overflow/</url>
    <content><![CDATA[<h3 id="overflowè¯¦è§£"><a href="#overflowè¯¦è§£" class="headerlink" title="overflowè¯¦è§£"></a>overflowè¯¦è§£</h3><p>ä¸ºä½¿ overflow æœ‰æ•ˆæœï¼Œå—çº§å®¹å™¨å¿…é¡»æœ‰ä¸€ä¸ªæŒ‡å®šçš„é«˜åº¦ï¼ˆheightæˆ–è€…max-heightï¼‰æˆ–è€…å°†white-spaceè®¾ç½®ä¸ºnowrapã€‚</p>
<p>æ³¨æ„:  è®¾ç½®ä¸€ä¸ªè½´ä¸ºvisibleï¼ˆé»˜è®¤å€¼ï¼‰ï¼ŒåŒæ—¶è®¾ç½®å¦ä¸€ä¸ªè½´ä¸ºä¸åŒçš„å€¼ï¼Œä¼šå¯¼è‡´è®¾ç½®visibleçš„è½´çš„è¡Œä¸ºä¼šå˜æˆautoã€‚ </p>
<p>æ³¨æ„: å³ä½¿å°†overflowè®¾ç½®ä¸ºhiddenï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨JavaScript <a href="https://developer.cdn.mozilla.net/zh-CN/docs/Web/API/Element/scrollTop" target="_blank" rel="noopener">Element.scrollTop</a> å±æ€§æ¥æ»šåŠ¨HTMLå…ƒç´ ã€‚</p>
<a id="more"></a>

<p>è¯­æ³•</p>
<p>/* é»˜è®¤å€¼ã€‚å†…å®¹ä¸ä¼šè¢«ä¿®å‰ªï¼Œä¼šå‘ˆç°åœ¨å…ƒç´ æ¡†ä¹‹å¤– <em>/overflow: visible;/</em> å†…å®¹ä¼šè¢«ä¿®å‰ªï¼Œå¹¶ä¸”å…¶ä½™å†…å®¹ä¸å¯è§ <em>/overflow: hidden;/</em> å†…å®¹ä¼šè¢«ä¿®å‰ªï¼Œæµè§ˆå™¨ä¼šæ˜¾ç¤ºæ»šåŠ¨æ¡ä»¥ä¾¿æŸ¥çœ‹å…¶ä½™å†…å®¹ <em>/overflow: scroll;/</em> ç”±æµè§ˆå™¨å®šå¤ºï¼Œå¦‚æœå†…å®¹è¢«ä¿®å‰ªï¼Œå°±ä¼šæ˜¾ç¤ºæ»šåŠ¨æ¡ <em>/overflow: auto;/</em> è§„å®šä»çˆ¶å…ƒç´ ç»§æ‰¿overflowå±æ€§çš„å€¼ */overflow: inherit;</p>
<p> ä»ä¸‹é¢åˆ—è¡¨ä¸­é€‰å‡ºä¸€ä¸ªæˆ–ä¸¤ä¸ªå…³é”®å­—æ¥æŒ‡å®šoverflow å±æ€§ã€‚å¦‚æœæŒ‡å®šäº†ä¸¤ä¸ªå…³é”®å­—ï¼Œç¬¬ä¸€ä¸ªå…³é”®å­—åº”ç”¨äºoverflow-xï¼Œç¬¬äºŒä¸ªå…³é”®å­—åº”ç”¨äºoverflow-yã€‚å¦åˆ™ï¼Œoverflow-xå’Œoverflow-yéƒ½è®¾ç½®ä¸ºç›¸åŒçš„å€¼ã€‚</p>
<p>æ³¨æ„: åœ¨Firefox 63ä¹‹å‰ï¼Œè¿™äº›å€¼æ˜¯åå‘çš„ï¼Œç¬¬ä¸€ä¸ªå€¼åº”ç”¨äºoverflow-yï¼Œç¬¬äºŒä¸ªå€¼åº”ç”¨äºoverflow-xã€‚Firefox 63æ›´æ–°äº†è¿™ä¸ªé¡ºåºï¼Œä»¥åŒ¹é…å¯¹<a href="https://www.fxsitecompat.com/en-CA/docs/2018/overflow-shorthand-syntax-has-been-updated-to-swap-2-values/" target="_blank" rel="noopener">è§„èŒƒçš„æ›´æ”¹</a>ã€‚æ­¤æ›´æ”¹æ˜¯ä¸ºäº†åŒ¹é…ä½¿ç”¨æ–°é€»è¾‘å±æ€§overflow-blockå’Œoverflow-inlineæ—¶çš„é¡ºåºã€‚</p>
<p>overflow-x: scroll;overflow-y: hidden;</p>
<p>/* On Firefox 61 and 62, this is the same as <em>/  overflow: hidden scroll;</em></p>
<p>/* But on Firefox 63 and later, it will be */   overflow: scroll hidden;</p>
<p>å€¼</p>
<p>visible</p>
<p>é»˜è®¤å€¼ã€‚å†…å®¹ä¸ä¼šè¢«ä¿®å‰ªï¼Œå¯ä»¥å‘ˆç°åœ¨å…ƒç´ æ¡†ä¹‹å¤–ã€‚</p>
<p>hidden</p>
<p>å¦‚æœéœ€è¦ï¼Œå†…å®¹å°†è¢«å‰ªè£ä»¥é€‚åˆå¡«å……æ¡†ã€‚ ä¸æä¾›æ»šåŠ¨æ¡ã€‚</p>
<p>scroll</p>
<p>å¦‚æœéœ€è¦ï¼Œå†…å®¹å°†è¢«å‰ªè£ä»¥é€‚åˆå¡«å……æ¡†ã€‚ æµè§ˆå™¨æ˜¾ç¤ºæ»šåŠ¨æ¡ï¼Œæ— è®ºæ˜¯å¦å®é™…å‰ªåˆ‡äº†ä»»ä½•å†…å®¹ã€‚ ï¼ˆè¿™å¯ä»¥é˜²æ­¢æ»šåŠ¨æ¡åœ¨å†…å®¹æ›´æ”¹æ—¶å‡ºç°æˆ–æ¶ˆå¤±ã€‚ï¼‰æ‰“å°æœºä»å¯èƒ½æ‰“å°æº¢å‡ºçš„å†…å®¹ã€‚</p>
<p>auto</p>
<p>å–å†³äºç”¨æˆ·ä»£ç†ã€‚ å¦‚æœå†…å®¹é€‚åˆå¡«å……æ¡†å†…éƒ¨ï¼Œåˆ™å®ƒçœ‹èµ·æ¥ä¸å¯è§å†…å®¹ç›¸åŒï¼Œä½†ä»ä¼šå»ºç«‹æ–°çš„å—æ ¼å¼åŒ–ä¸Šä¸‹æ–‡ã€‚ å¦‚æœå†…å®¹æº¢å‡ºï¼Œæ¡Œé¢æµè§ˆå™¨ä¼šæä¾›æ»šåŠ¨æ¡ã€‚</p>
<p>overlay  </p>
<p>è¡Œä¸ºä¸autoç›¸åŒï¼Œä½†æ»šåŠ¨æ¡ç»˜åˆ¶åœ¨å†…å®¹ä¹‹ä¸Šè€Œä¸æ˜¯å ç”¨ç©ºé—´ã€‚ ä»…åœ¨åŸºäºWebKitï¼ˆä¾‹å¦‚ï¼ŒSafariï¼‰å’ŒåŸºäºBlinkçš„ï¼ˆä¾‹å¦‚ï¼ŒChromeæˆ–Operaï¼‰æµè§ˆå™¨ä¸­å—æ”¯æŒã€‚</p>
<p>Mozilla æ‰©å±•</p>
<p>-moz-scrollbars-none <a href="https://developer.cdn.mozilla.net/zh-CN/docs/Web/CSS/overflow#Deprecated" target="_blank" rel="noopener">[1]</a></p>
<p>ä½¿ç”¨ overflow:hidden ä»£æ›¿.</p>
<p>-moz-scrollbars-horizontal <a href="https://developer.cdn.mozilla.net/zh-CN/docs/Web/CSS/overflow#Deprecated" target="_blank" rel="noopener">[1]</a></p>
<p>æ¨èä½¿ç”¨ <a href="https://developer.cdn.mozilla.net/zh-CN/docs/Web/CSS/overflow-x" target="_blank" rel="noopener">overflow-x</a> å’Œ <a href="https://developer.cdn.mozilla.net/zh-CN/docs/Web/CSS/overflow-y" target="_blank" rel="noopener">overflow-y</a> .</p>
<p>-moz-scrollbars-vertical <a href="https://developer.cdn.mozilla.net/zh-CN/docs/Web/CSS/overflow#Deprecated" target="_blank" rel="noopener">[1]</a></p>
<p>æ¨èä½¿ç”¨ <a href="https://developer.cdn.mozilla.net/zh-CN/docs/Web/CSS/overflow-x" target="_blank" rel="noopener">overflow-x</a> å’Œ <a href="https://developer.cdn.mozilla.net/zh-CN/docs/Web/CSS/overflow-y" target="_blank" rel="noopener">overflow-y</a> .</p>
<p>-moz-hidden-unscrollable </p>
<p>ä¸»è¦ç”¨äºå†…éƒ¨å’Œä¸»é¢˜ã€‚ç¦ç”¨ æ–¹å‘é”® å’Œ é¼ æ ‡æ»šè½® æ¥æ»šåŠ¨XMLè·Ÿå…ƒç´ ä»¥åŠ<HTML>å’Œ<body>å…ƒç´ ã€‚</body></HTML></p>
]]></content>
      <categories>
        <category>overflow</category>
      </categories>
      <tags>
        <tag>overflow</tag>
      </tags>
  </entry>
  <entry>
    <title>packageJson</title>
    <url>/2020/07/30/packageJson/</url>
    <content><![CDATA[<h3 id="packageJson"><a href="#packageJson" class="headerlink" title="packageJson"></a>packageJson</h3><p>éšç€å‰ç«¯ç”±å¤šé¡µé¢åˆ°å•é¡µé¢ï¼Œç”±é›¶æ•£çš„æ–‡ä»¶åˆ°æ¨¡å—åŒ–å¼€å‘ï¼Œåœ¨ä¸€ä¸ªå®Œæ•´çš„é¡¹ç›®ä¸­ï¼Œpackage.json æ–‡ä»¶æ— å¤„ä¸åœ¨ã€‚é¦–å…ˆï¼Œåœ¨é¡¹ç›®æ ¹ç›®å½•ä¼šæœ‰ï¼Œå…¶æ¬¡åœ¨ node_modules ä¸­ä¹Ÿé¢‘ç°ã€‚é‚£ä¹ˆè¿™ä¸ªæ–‡ä»¶åˆ°åº•æ˜¯å¹²å˜›çš„ï¼Œåˆæœ‰ä»€ä¹ˆä½œç”¨ï¼Œä»Šå¤©ç»™å¤§å®¶æ­æ™“ã€‚</p>
<h3 id="ä¸€ã€package-json-æ–‡ä»¶ä½œç”¨"><a href="#ä¸€ã€package-json-æ–‡ä»¶ä½œç”¨" class="headerlink" title="ä¸€ã€package.json æ–‡ä»¶ä½œç”¨"></a>ä¸€ã€package.json æ–‡ä»¶ä½œç”¨</h3><p>package.json æ–‡ä»¶å…¶å®å°±æ˜¯å¯¹é¡¹ç›®æˆ–è€…æ¨¡å—åŒ…çš„æè¿°ï¼Œé‡Œé¢åŒ…å«è®¸å¤šå…ƒä¿¡æ¯ã€‚æ¯”å¦‚é¡¹ç›®åç§°ï¼Œé¡¹ç›®ç‰ˆæœ¬ï¼Œé¡¹ç›®æ‰§è¡Œå…¥å£æ–‡ä»¶ï¼Œé¡¹ç›®è´¡çŒ®è€…ç­‰ç­‰ã€‚npm install å‘½ä»¤ä¼šæ ¹æ®è¿™ä¸ªæ–‡ä»¶ä¸‹è½½æ‰€æœ‰ä¾èµ–æ¨¡å—ã€‚</p>
<a id="more"></a>

<h3 id="äºŒã€package-json-æ–‡ä»¶åˆ›å»º"><a href="#äºŒã€package-json-æ–‡ä»¶åˆ›å»º" class="headerlink" title="äºŒã€package.json æ–‡ä»¶åˆ›å»º"></a>äºŒã€package.json æ–‡ä»¶åˆ›å»º</h3><p>package.json æ–‡ä»¶åˆ›å»ºæœ‰ä¸¤ç§æ–¹å¼ï¼Œæ‰‹åŠ¨åˆ›å»ºæˆ–è€…è‡ªåŠ¨åˆ›å»ºã€‚</p>
<p>æ‰‹åŠ¨åˆ›å»º</p>
<p>ç›´æ¥åœ¨é¡¹ç›®æ ¹ç›®å½•æ–°å»ºä¸€ä¸ª package.json æ–‡ä»¶ï¼Œç„¶åè¾“å…¥ç›¸å…³çš„å†…å®¹ã€‚</p>
<p>è‡ªåŠ¨åˆ›å»º</p>
<p>ä¹Ÿæ˜¯åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹æ‰§è¡Œ npm initï¼Œç„¶åæ ¹æ®æç¤ºä¸€æ­¥æ­¥è¾“å…¥ç›¸åº”çš„å†…å®¹å®Œæˆåå³å¯è‡ªåŠ¨åˆ›å»ºã€‚</p>
<h3 id="ä¸‰ã€package-json-æ–‡ä»¶ç¤ºä¾‹"><a href="#ä¸‰ã€package-json-æ–‡ä»¶ç¤ºä¾‹" class="headerlink" title="ä¸‰ã€package.json æ–‡ä»¶ç¤ºä¾‹"></a>ä¸‰ã€package.json æ–‡ä»¶ç¤ºä¾‹</h3><p><img src="/2020/07/30/packageJson/clipboard.png" alt="clipboard"></p>
<h3 id="å››ã€package-json-æ–‡ä»¶é…ç½®è¯´æ˜"><a href="#å››ã€package-json-æ–‡ä»¶é…ç½®è¯´æ˜" class="headerlink" title="å››ã€package.json æ–‡ä»¶é…ç½®è¯´æ˜"></a>å››ã€package.json æ–‡ä»¶é…ç½®è¯´æ˜</h3><ul>
<li>nameï¼šé¡¹ç›®/æ¨¡å—åç§°ï¼Œé•¿åº¦å¿…é¡»å°äºç­‰äº214ä¸ªå­—ç¬¦ï¼Œä¸èƒ½ä»¥â€.â€(ç‚¹)æˆ–è€…â€_â€(ä¸‹åˆ’çº¿)å¼€å¤´ï¼Œä¸èƒ½åŒ…å«å¤§å†™å­—æ¯ã€‚</li>
<li>versionï¼šé¡¹ç›®ç‰ˆæœ¬ã€‚</li>
<li>authorï¼šé¡¹ç›®å¼€å‘è€…ï¼Œå®ƒçš„å€¼æ˜¯ä½ åœ¨<a href="https://npmjs.orgç½‘ç«™çš„æœ‰æ•ˆè´¦æˆ·åï¼Œéµå¾ªâ€œè´¦æˆ·å" target="_blank" rel="noopener">https://npmjs.orgç½‘ç«™çš„æœ‰æ•ˆè´¦æˆ·åï¼Œéµå¾ªâ€œè´¦æˆ·å</a>&lt;é‚®ä»¶&gt;â€çš„è§„åˆ™ï¼Œä¾‹å¦‚ï¼šzhangsan <a href="mailto:zhangsan@163.com">zhangsan@163.com</a>ã€‚</li>
<li>descriptionï¼šé¡¹ç›®æè¿°ï¼Œæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚å®ƒå¯ä»¥å¸®åŠ©äººä»¬åœ¨ä½¿ç”¨npm searchæ—¶æ‰¾åˆ°è¿™ä¸ªåŒ…ã€‚</li>
<li>keywordsï¼šé¡¹ç›®å…³é”®å­—ï¼Œæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ã€‚å®ƒå¯ä»¥å¸®åŠ©äººä»¬åœ¨ä½¿ç”¨npm searchæ—¶æ‰¾åˆ°è¿™ä¸ªåŒ…ã€‚</li>
<li>privateï¼šæ˜¯å¦ç§æœ‰ï¼Œè®¾ç½®ä¸º true æ—¶ï¼Œnpm æ‹’ç»å‘å¸ƒã€‚</li>
<li>licenseï¼šè½¯ä»¶æˆæƒæ¡æ¬¾ï¼Œè®©ç”¨æˆ·çŸ¥é“ä»–ä»¬çš„ä½¿ç”¨æƒåˆ©å’Œé™åˆ¶ã€‚</li>
<li>bugsï¼šbug æäº¤åœ°å€ã€‚</li>
<li>contributorsï¼šé¡¹ç›®è´¡çŒ®è€… ã€‚</li>
<li>repositoryï¼šé¡¹ç›®ä»“åº“åœ°å€ã€‚</li>
<li>homepageï¼šé¡¹ç›®åŒ…çš„å®˜ç½‘ URLã€‚</li>
<li>dependenciesï¼šç”Ÿäº§ç¯å¢ƒä¸‹ï¼Œé¡¹ç›®è¿è¡Œæ‰€éœ€ä¾èµ–ã€‚</li>
<li>devDependenciesï¼šå¼€å‘ç¯å¢ƒä¸‹ï¼Œé¡¹ç›®æ‰€éœ€ä¾èµ–ã€‚</li>
<li>scriptsï¼šæ‰§è¡Œ npm è„šæœ¬å‘½ä»¤ç®€å†™ï¼Œæ¯”å¦‚ â€œstartâ€: â€œreact-scripts startâ€, æ‰§è¡Œ npm start å°±æ˜¯è¿è¡Œ â€œreact-scripts startâ€ã€‚</li>
<li>binï¼šå†…éƒ¨å‘½ä»¤å¯¹åº”çš„å¯æ‰§è¡Œæ–‡ä»¶çš„è·¯å¾„ã€‚</li>
<li>mainï¼šé¡¹ç›®é»˜è®¤æ‰§è¡Œæ–‡ä»¶ï¼Œæ¯”å¦‚ require(â€˜webpackâ€™)ï¼›å°±ä¼šé»˜è®¤åŠ è½½ lib ç›®å½•ä¸‹çš„ webpack.js æ–‡ä»¶ï¼Œå¦‚æœæ²¡æœ‰è®¾ç½®ï¼Œåˆ™é»˜è®¤åŠ è½½é¡¹ç›®è·Ÿç›®å½•ä¸‹çš„ index.js æ–‡ä»¶ã€‚</li>
<li>moduleï¼šæ˜¯ä»¥ ES Module(ä¹Ÿå°±æ˜¯ ES6)æ¨¡å—åŒ–æ–¹å¼è¿›è¡ŒåŠ è½½ï¼Œå› ä¸ºæ—©æœŸæ²¡æœ‰ ES6 æ¨¡å—åŒ–æ–¹æ¡ˆæ—¶ï¼Œéƒ½æ˜¯éµå¾ª CommonJS è§„èŒƒï¼Œè€Œ CommonJS è§„èŒƒçš„åŒ…æ˜¯ä»¥ main çš„æ–¹å¼è¡¨ç¤ºå…¥å£æ–‡ä»¶çš„ï¼Œä¸ºäº†åŒºåˆ†å°±æ–°å¢äº† module æ–¹å¼ï¼Œä½†æ˜¯ ES6 æ¨¡å—åŒ–æ–¹æ¡ˆæ•ˆç‡æ›´é«˜ï¼Œæ‰€ä»¥ä¼šä¼˜å…ˆæŸ¥çœ‹æ˜¯å¦æœ‰ module å­—æ®µï¼Œæ²¡æœ‰æ‰ä½¿ç”¨ main å­—æ®µã€‚</li>
<li>eslintConfigï¼šEsLint æ£€æŸ¥æ–‡ä»¶é…ç½®ï¼Œè‡ªåŠ¨è¯»å–éªŒè¯ã€‚</li>
<li>enginesï¼šé¡¹ç›®è¿è¡Œçš„å¹³å°ã€‚</li>
<li>browserslistï¼šä¾›æµè§ˆå™¨ä½¿ç”¨çš„ç‰ˆæœ¬åˆ—è¡¨ã€‚</li>
<li>styleï¼šä¾›æµè§ˆå™¨ä½¿ç”¨æ—¶ï¼Œæ ·å¼æ–‡ä»¶æ‰€åœ¨çš„ä½ç½®ï¼›æ ·å¼æ–‡ä»¶æ‰“åŒ…å·¥å…·parcelifyï¼Œé€šè¿‡å®ƒçŸ¥é“æ ·å¼æ–‡ä»¶çš„æ‰“åŒ…ä½ç½®ã€‚</li>
<li>filesï¼šè¢«é¡¹ç›®åŒ…å«çš„æ–‡ä»¶åæ•°ç»„ã€‚</li>
</ul>
<p>è¡¥å……ï¼ˆ<a href="http://www.w3cbus.com/nodejs/packagejson.html#toc11" target="_blank" rel="noopener">http://www.w3cbus.com/nodejs/packagejson.html#toc11</a>ï¼‰</p>
<ul>
<li><p>manå­—æ®µ</p>
<p>manç”¨æ¥æŒ‡å®šå½“å‰æ¨¡å—çš„manæ–‡æ¡£çš„ä½ç½®ã€‚</p>
<p>â€œmanâ€ :[ â€œ./doc/calc.1â€ ]</p>
</li>
<li><p>preferGlobalå­—æ®µ</p>
</li>
<li><p>preferGlobalçš„å€¼æ˜¯å¸ƒå°”å€¼ï¼Œè¡¨ç¤ºå½“ç”¨æˆ·ä¸å°†è¯¥æ¨¡å—å®‰è£…ä¸ºå…¨å±€æ¨¡å—æ—¶ï¼ˆå³ä¸ç”¨â€“globalå‚æ•°ï¼‰ï¼Œè¦ä¸è¦æ˜¾ç¤ºè­¦å‘Šï¼Œè¡¨ç¤ºè¯¥æ¨¡å—çš„æœ¬æ„å°±æ˜¯å®‰è£…ä¸ºå…¨å±€æ¨¡å—ã€‚</p>
</li>
<li><p>browserå­—æ®µ</p>
<p>browseræŒ‡å®šè¯¥æ¨¡æ¿ä¾›æµè§ˆå™¨ä½¿ç”¨çš„ç‰ˆæœ¬ã€‚Browserifyè¿™æ ·çš„æµè§ˆå™¨æ‰“åŒ…å·¥å…·ï¼Œé€šè¿‡å®ƒå°±çŸ¥é“è¯¥æ‰“åŒ…é‚£ä¸ªæ–‡ä»¶ã€‚</p>
<p>â€œbrowserâ€: {  â€œtipsoâ€: â€œ./node_modules/tipso/src/tipso.jsâ€},</p>
</li>
<li><p>configå­—æ®µ</p>
<p>configå­—æ®µç”¨äºå‘ç¯å¢ƒå˜é‡è¾“å‡ºå€¼ã€‚</p>
</li>
</ul>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªpackage.jsonæ–‡ä»¶ã€‚</p>
<p>{  â€œnameâ€ : â€œfooâ€,  â€œconfigâ€ : { â€œportâ€ : â€œ8080â€ },  â€œscriptsâ€ : { â€œstartâ€ : â€œnode server.jsâ€ }}</p>
<p>ç„¶åï¼Œåœ¨server.jsè„šæœ¬å°±å¯ä»¥å¼•ç”¨configå­—æ®µçš„å€¼ã€‚</p>
<p>http.createServer(â€¦).listen(process.env.npm_package_config_port)</p>
<p>ç”¨æˆ·å¯ä»¥æ”¹å˜è¿™ä¸ªå€¼ã€‚</p>
<p>$ npm config set foo:port 80</p>
<p>peerDependencieså­—æ®µï¼Œå°±æ˜¯ç”¨æ¥ä¾›æ’ä»¶æŒ‡å®šå…¶æ‰€éœ€è¦çš„ä¸»å·¥å…·çš„ç‰ˆæœ¬ã€‚</p>
<p>æœ‰æ—¶ï¼Œä½ çš„é¡¹ç›®å’Œæ‰€ä¾èµ–çš„æ¨¡å—ï¼Œéƒ½ä¼šåŒæ—¶ä¾èµ–å¦ä¸€ä¸ªæ¨¡å—ï¼Œä½†æ˜¯æ‰€ä¾èµ–çš„ç‰ˆæœ¬ä¸ä¸€æ ·ã€‚æ¯”å¦‚ï¼Œä½ çš„é¡¹ç›®ä¾èµ–Aæ¨¡å—å’ŒBæ¨¡å—çš„1.0ç‰ˆï¼Œè€ŒAæ¨¡å—æœ¬èº«åˆä¾èµ–Bæ¨¡å—çš„2.0ç‰ˆã€‚</p>
<p>å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œè¿™ä¸æ„æˆé—®é¢˜ï¼ŒBæ¨¡å—çš„ä¸¤ä¸ªç‰ˆæœ¬å¯ä»¥å¹¶å­˜ï¼ŒåŒæ—¶è¿è¡Œã€‚ä½†æ˜¯ï¼Œæœ‰ä¸€ç§æƒ…å†µï¼Œä¼šå‡ºç°é—®é¢˜ï¼Œå°±æ˜¯è¿™ç§ä¾èµ–å…³ç³»å°†æš´éœ²ç»™ç”¨æˆ·ã€‚</p>
<p>æœ€å…¸å‹çš„åœºæ™¯å°±æ˜¯æ’ä»¶ï¼Œæ¯”å¦‚Aæ¨¡å—æ˜¯Bæ¨¡å—çš„æ’ä»¶ã€‚ç”¨æˆ·å®‰è£…çš„Bæ¨¡å—æ˜¯1.0ç‰ˆæœ¬ï¼Œä½†æ˜¯Aæ’ä»¶åªèƒ½å’Œ2.0ç‰ˆæœ¬çš„Bæ¨¡å—ä¸€èµ·ä½¿ç”¨ã€‚è¿™æ—¶ï¼Œç”¨æˆ·è¦æ˜¯å°†1.0ç‰ˆæœ¬çš„Bçš„å®ä¾‹ä¼ ç»™Aï¼Œå°±ä¼šå‡ºç°é—®é¢˜ã€‚å› æ­¤ï¼Œéœ€è¦ä¸€ç§æœºåˆ¶ï¼Œåœ¨æ¨¡æ¿å®‰è£…çš„æ—¶å€™æé†’ç”¨æˆ·ï¼Œå¦‚æœAå’ŒBä¸€èµ·å®‰è£…ï¼Œé‚£ä¹ˆBå¿…é¡»æ˜¯2.0æ¨¡å—ã€‚</p>
<p>{  â€œnameâ€: â€œchai-as-promisedâ€,  â€œpeerDependenciesâ€: {    â€œchaiâ€: â€œ1.xâ€  }}</p>
<p>ä¸Šé¢ä»£ç æŒ‡å®šï¼Œå®‰è£…chai-as-promisedæ¨¡å—æ—¶ï¼Œä¸»ç¨‹åºchaiå¿…é¡»ä¸€èµ·å®‰è£…ï¼Œè€Œä¸”chaiçš„ç‰ˆæœ¬å¿…é¡»æ˜¯1.xã€‚å¦‚æœä½ çš„é¡¹ç›®æŒ‡å®šçš„ä¾èµ–æ˜¯chaiçš„2.0ç‰ˆæœ¬ï¼Œå°±ä¼šæŠ¥é”™ã€‚</p>
<p>æ³¨æ„ï¼Œä»npm 3.0ç‰ˆå¼€å§‹ï¼ŒpeerDependenciesä¸å†ä¼šé»˜è®¤å®‰è£…äº†ã€‚</p>
<p>![clipboard (1)](packageJson.assets/clipboard (1).png)</p>
]]></content>
      <categories>
        <category>packageJson</category>
      </categories>
      <tags>
        <tag>packageJson</tag>
      </tags>
  </entry>
  <entry>
    <title>postman</title>
    <url>/2020/07/30/postman/</url>
    <content><![CDATA[<h3 id="Postmanä»‹ç»"><a href="#Postmanä»‹ç»" class="headerlink" title="Postmanä»‹ç»"></a>Postmanä»‹ç»</h3><p>Postmanæ˜¯googleå¼€å‘çš„ä¸€æ¬¾åŠŸèƒ½å¼ºå¤§çš„ç½‘é¡µè°ƒè¯•ä¸å‘é€ç½‘é¡µHTTPè¯·æ±‚ï¼Œå¹¶èƒ½è¿è¡Œæµ‹è¯•ç”¨ä¾‹çš„çš„Chromeæ’ä»¶ã€‚å…¶ä¸»è¦åŠŸèƒ½åŒ…æ‹¬ï¼š</p>
<ul>
<li><strong>æ¨¡æ‹Ÿå„ç§HTTP requests</strong></li>
</ul>
<p>ä»å¸¸ç”¨çš„ GETã€POST åˆ° RESTful çš„ PUT ã€ DELETE â€¦ç­‰ç­‰ã€‚ ç”šè‡³è¿˜å¯ä»¥å‘é€æ–‡ä»¶ã€é€å‡ºé¢å¤–çš„ headerã€‚</p>
<ul>
<li><strong>Collection åŠŸèƒ½ï¼ˆæµ‹è¯•é›†åˆï¼‰</strong></li>
</ul>
<a id="more"></a>

<p>Collection æ˜¯ requestsçš„é›†åˆï¼Œåœ¨åšå®Œä¸€å€‹æµ‹è¯•çš„æ™‚å€™ï¼Œ ä½ å¯ä»¥æŠŠé€™æ¬¡çš„ request å­˜åˆ°ç‰¹å®šçš„ Collection é‡Œé¢ï¼Œå¦‚æ­¤ä¸€ä¾†ï¼Œä¸‹æ¬¡è¦åšåŒæ ·çš„æµ‹è¯•æ—¶ï¼Œå°±ä¸éœ€è¦é‡æ–°è¾“å…¥ã€‚è€Œä¸”ä¸€ä¸ªcollectionå¯ä»¥åŒ…å«å¤šæ¡requestï¼Œå¦‚æœæˆ‘ä»¬æŠŠä¸€ä¸ªrequestå½“æˆä¸€ä¸ªtest caseï¼Œé‚£collectionå°±å¯ä»¥çœ‹æˆæ˜¯ä¸€ä¸ªtest suiteã€‚é€šè¿‡collectionçš„å½’ç±»ï¼Œæˆ‘ä»¬å¯ä»¥è‰¯å¥½çš„åˆ†ç±»æµ‹è¯•è½¯ä»¶æ‰€æä¾›çš„API.è€Œä¸” Collection è¿˜å¯ä»¥ Import æˆ–æ˜¯ Share å‡ºä¾†ï¼Œè®©å›¢é˜Ÿé‡Œé¢çš„æ‰€æœ‰äººå…±äº«ä½ å»ºç«‹èµ·ä¾†çš„ Collectionã€‚</p>
<ul>
<li><strong>äººæ€§åŒ–çš„Responseæ•´ç†</strong></li>
</ul>
<p>ä¸€èˆ¬åœ¨ç”¨å…¶ä»–å·¥å…·ä¾†æµ‹è¯•çš„æ™‚å€™ï¼Œresponseçš„å†…å®¹é€šå¸¸éƒ½æ˜¯çº¯æ–‡å­—çš„ rawï¼Œ ä½†å¦‚æœæ˜¯ JSON ï¼Œå°±æ˜¯å¡æˆä¸€æ•´è¡Œçš„ JSONã€‚è¿™ä¼šé€ æˆé˜…è¯»çš„éšœç¢ ï¼Œè€Œ Postman å¯ä»¥é’ˆå¯¹responseå†…å®¹çš„æ ¼å¼è‡ªåŠ¨ç¾åŒ–ã€‚ JSONã€ XML æˆ–æ˜¯ HTML éƒ½æœƒæ•´ç†æˆæˆ‘ä»¬å¯ä»¥é˜…è¯»çš„æ ¼å¼</p>
<ul>
<li><strong>å†…ç½®æµ‹è¯•è„šæœ¬è¯­è¨€</strong></li>
</ul>
<p>Postmanæ”¯æŒç¼–å†™æµ‹è¯•è„šæœ¬ï¼Œå¯ä»¥å¿«é€Ÿçš„æ£€æŸ¥requestçš„ç»“æœï¼Œå¹¶è¿”å›æµ‹è¯•ç»“æœ</p>
<ul>
<li><strong>è®¾å®šå˜é‡ä¸ç¯å¢ƒ</strong></li>
</ul>
<p>Postman å¯ä»¥è‡ªç”± è®¾å®šå˜é‡ä¸Environmentï¼Œä¸€èˆ¬æˆ‘ä»¬åœ¨ç¼–è¾‘requestï¼Œæ ¡éªŒresponseçš„æ—¶å€™ï¼Œæ€»ä¼šéœ€è¦é‡å¤è¾“å…¥æŸäº›å­—ç¬¦ï¼Œæ¯”å¦‚urlï¼Œpostmanå…è®¸æˆ‘ä»¬è®¾å®šå˜é‡æ¥ä¿å­˜è¿™äº›å€¼ã€‚å¹¶ä¸”æŠŠå˜é‡ä¿å­˜åœ¨ä¸åŒçš„ç¯å¢ƒä¸­ã€‚æ¯”å¦‚ï¼Œæˆ‘å€‘å¯èƒ½ä¼šæœ‰å¤šç§ç¯å¢ƒï¼Œ development ã€ staging æˆ– localï¼Œ è€Œè¿™å‡ ç§ç¯å¢ƒä¸­çš„ request URL ä¹Ÿå„ä¸ç›¸åŒï¼Œä½†æˆ‘ä»¬å¯ä»¥åœ¨ä¸åŒçš„ç¯å¢ƒä¸­è®¾å®šåŒæ ·çš„å˜é‡ï¼Œåªæ˜¯å˜é‡çš„å€¼ä¸ä¸€æ ·ï¼Œè¿™æ ·æˆ‘ä»¬å°±ä¸ç”¨ä¿®æ”¹æˆ‘ä»¬çš„æµ‹è¯•è„šæœ¬ï¼Œè€Œæµ‹è¯•ä¸åŒçš„ç¯å¢ƒã€‚</p>
<h3 id="å®‰è£…Postman"><a href="#å®‰è£…Postman" class="headerlink" title="å®‰è£…Postman"></a>å®‰è£…Postman</h3><p>Postmanä½œä¸ºä¸€ä¸ªchromeçš„æ’ä»¶ï¼Œä½ å¯ä»¥æ‰“å¼€chromeï¼Œåœ¨chrome webstoreé‡Œé¢æ‰¾åˆ°ã€‚å½“ç„¶ï¼Œå¦‚æœæ˜¯åœ¨å›½å†…ï¼Œä½ éœ€è¦ç¿»å¢™ï¼Œå¦åˆ™çš„è¯ï¼Œä½ åªèƒ½ç™¾åº¦ä¸€ä¸‹ï¼Œæœç´¢postmançš„å®‰è£…åŒ…è‡ªå·±å®‰è£…åˆ°chromeä¸Šï¼ˆè¿™é‡Œå°±ä¸èµ˜è¿°äº†ï¼Œæœ‰å¾ˆå¤šç±»ä¼¼çš„æ–‡ç« ï¼‰ã€‚è¿™é‡Œéœ€è¦æä¸€ä¸‹çš„æ˜¯ï¼Œä½ å¯ä»¥ä¸ç”¨æ‰“å¼€chromeè€Œç›´æ¥ä½¿ç”¨Postmanï¼Œå…·ä½“çš„æ–¹æ³•æ˜¯ï¼š</p>
<p>é€‰é¡¹-&gt;æ›´å¤šå·¥å…·-&gt;æ‰©å±•ç¨‹åº</p>
<p><img src="https://img-blog.csdn.net/20160601165759918" alt="img"></p>
<p>è¯¦ç»†ä¿¡æ¯-&gt;åˆ›å»ºå¿«æ·æ–¹å¼-&gt;â€˜å…¨éƒ¨å‹¾ä¸Šâ€™<br><img src="https://img-blog.csdn.net/20160601165947779" alt="img"><br>è¿™æ ·ä½ å°±å¯ä»¥åœ¨ä»»ä½•åœ°æ–¹å¯åŠ¨ä½ çš„Postmanäº†</p>
<h3 id="Postman-sending-requests"><a href="#Postman-sending-requests" class="headerlink" title="Postman sending requests"></a>Postman sending requests</h3><p>å®‰è£…å¥½ä¹‹åï¼Œæˆ‘ä»¬å…ˆæ‰“å¼€Postmanï¼Œå¯ä»¥çœ‹åˆ°ç•Œé¢åˆ†æˆå·¦å³ä¸¤ä¸ªéƒ¨åˆ†ï¼Œå³è¾¹æ˜¯æˆ‘ä»¬åå¤´è¦è®²çš„collectionï¼Œå·¦è¾¹æ˜¯ç°åœ¨è¦è®²çš„request builderã€‚åœ¨request builderä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡Postmanå¿«é€Ÿçš„éšæ„ç»„è£…å‡ºæˆ‘ä»¬å¸Œæœ›çš„requestã€‚ä¸€èˆ¬æ¥è¯´ï¼Œæ‰€æœ‰çš„HTTP Requestéƒ½åˆ†æˆ4ä¸ªéƒ¨åˆ†ï¼ŒURL, method, headerså’Œbodyã€‚è€ŒPostmané’ˆå¯¹è¿™å‡ éƒ¨åˆ†éƒ½æœ‰é’ˆå¯¹æ€§çš„å·¥å…·ã€‚</p>
<p><img src="https://img-blog.csdn.net/20160601170546927" alt="img"></p>
<h4 id="URL"><a href="#URL" class="headerlink" title="URL"></a>URL</h4><p>è¦ç»„è£…ä¸€æ¡Request, URLæ°¸è¿œæ˜¯ä½ é¦–å…ˆè¦å¡«çš„å†…å®¹ï¼Œåœ¨Postmané‡Œé¢ä½ æ›¾è¾“å…¥è¿‡çš„URLæ˜¯å¯ä»¥é€šè¿‡ä¸‹æ‹‰è‡ªåŠ¨è¡¥å…¨çš„å“¦ã€‚å¦‚æœä½ ç‚¹å‡»<strong>Params</strong>æŒ‰é’®ï¼ŒPostmanä¼šå¼¹å‡ºä¸€ä¸ªé”®å€¼ç¼–è¾‘å™¨ï¼Œä½ å¯ä»¥åœ¨å“ªé‡Œè¾“å…¥URLçš„Parameterï¼ŒPostmanä¼šå¸®ä½ è‡ªåŠ¨åŠ å…¥åˆ°URLå½“ä¸­ï¼Œåä¹‹ï¼Œå¦‚æœä½ çš„URLå½“ä¸­å·²ç»æœ‰äº†å‚æ•°ï¼Œé‚£Postmanä¼šåœ¨ä½ æ‰“å¼€é”®å€¼ç¼–è¾‘å™¨çš„æ—¶å€™æŠŠå‚æ•°è‡ªåŠ¨è½½å…¥</p>
<p><img src="https://img-blog.csdn.net/20160601171111335" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p>
<h4 id="Headers"><a href="#Headers" class="headerlink" title="Headers"></a>Headers</h4><p>ç‚¹å‡»â€™Headersâ€™æŒ‰é’®ï¼ŒPostmanåŒæ ·ä¼šå¼¹å‡ºä¸€ä¸ªé”®å€¼ç¼–è¾‘å™¨ã€‚åœ¨è¿™é‡Œï¼Œä½ å¯ä»¥éšæ„æ·»åŠ ä½ æƒ³è¦çš„Header attributeï¼ŒåŒæ ·Postmanä¸ºæˆ‘ä»¬é€šè¿‡äº†å¾ˆè´´å¿ƒçš„auto-completeåŠŸèƒ½ï¼Œæ•²å…¥ä¸€ä¸ªå­—æ¯ï¼Œä½ å¯ä»¥ä»ä¸‹æ‹‰èœå•é‡Œé€‰æ‹©ä½ æƒ³è¦çš„æ ‡å‡†atrribute</p>
<p><img src="https://img-blog.csdn.net/20160601172202011" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p>
<h4 id="Method"><a href="#Method" class="headerlink" title="Method"></a>Method</h4><p>è¦é€‰æ‹©Requestçš„Methodæ˜¯å¾ˆç®€å•çš„ï¼ŒPostmanæ”¯æŒæ‰€æœ‰çš„Methodï¼Œè€Œä¸€æ—¦ä½ é€‰æ‹©äº†Methodï¼ŒPostmançš„request bodyç¼–è¾‘å™¨ä¼šæ ¹æ®çš„ä½ é€‰æ‹©ï¼Œè‡ªåŠ¨çš„å‘ç”Ÿæ”¹å˜</p>
<p><img src="https://img-blog.csdn.net/20160601172720544" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p>
<h4 id="Request-Body"><a href="#Request-Body" class="headerlink" title="Request Body"></a>Request Body</h4><p>å¦‚æœæˆ‘ä»¬è¦åˆ›å»ºçš„requestæ˜¯ç±»ä¼¼äºPOSTï¼Œé‚£æˆ‘ä»¬å°±éœ€è¦ç¼–è¾‘Request Bodyï¼ŒPostmanæ ¹æ®body typeçš„ä¸åŒï¼Œæä¾›äº†4ä¸­ç¼–è¾‘æ–¹å¼ï¼š</p>
<ul>
<li>form-data</li>
<li>x-www-form-urlencoded</li>
<li>raw</li>
<li>binary</li>
<li><img src="https://img-blog.csdn.net/20160601173348297" alt="img"></li>
</ul>
<p>ï¼ˆæˆ‘ä»¬è¿™é‡Œæ˜¯å¯ä»¥ä¼ æ–‡ä»¶çš„å“¦ï¼‰</p>
<h4 id="æ¼”ç¤º"><a href="#æ¼”ç¤º" class="headerlink" title="æ¼”ç¤º"></a>æ¼”ç¤º</h4><p>æˆ‘è¿™é‡Œåˆ›å»ºä¸€æ¡å‘é€ç»™google geocodeçš„requestï¼Œçœ‹çœ‹æ˜¯å•¥ç»“æœï¼š</p>
<p><img src="https://img-blog.csdn.net/20160601173955815" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p>
<p>æ³¨æ„ï¼Œåœ¨URLé‡Œé¢æˆ‘ä½¿ç”¨äº†å˜é‡googleMapsï¼Œå¹¶ç”¨æ’å€¼è¡¨è¾¾å¼è°ƒç”¨å®ƒï¼Œè¿™é‡Œæ˜¯ç±»ä¼¼äºAngulaJsçš„è¯­æ³•ï¼ˆæœç„¶æ˜¯åŒä¸€å®¶äººï¼‰ï¼Œå…¶è¿”å›å€¼æ˜¯ï¼š<a href="http://maps.googleapis.com/maps/api/geocode/json" target="_blank" rel="noopener">http://maps.googleapis.com/maps/api/geocode/json</a>ã€‚è€Œè¿™ä¸ªå˜é‡æˆ‘æ˜¯å®šä¹‰åœ¨æˆ‘çš„ç¯å¢ƒGoogleApiTesté‡Œé¢çš„ã€‚è¿™éƒ¨åˆ†çš„å†…å®¹ä¼šåœ¨æ¥ä¸‹æ¥çš„æ–‡ç« é‡Œé¢è®²åˆ°ã€‚</p>
<p>ç‚¹å‡»äº†Sendä¹‹åï¼Œå¯ä»¥åœ¨Postmanä¸Šç›´æ¥çœ‹åˆ°responseçš„å†…å®¹ï¼Œå†…å®¹å¾ˆæ¼‚äº®ï¼ŒPostmanæ ¹æ®å†…å®¹æ£€ç´¢è‡ªåŠ¨æŒ‰JSONçš„æ ¼å¼æ˜¾ç¤ºå‡ºæ¥ï¼ŒåŒæ—¶æˆ‘ä»¬å¯ä»¥æ¸…æ¥šçš„çœ‹åˆ°status codeå’ŒèŠ±è´¹çš„æ—¶é—´ã€‚</p>
<p><img src="https://img-blog.csdn.net/20160601174202429" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p>
<p>å†™åˆ°è¿™ï¼Œæˆ‘æƒ³å¤§å®¶å·²ç»èƒ½å¤Ÿäº†è§£å¦‚ä½•ç”¨Postmanç»„è£…Requestå¹¶ä¸”æŸ¥çœ‹Responseçš„å†…å®¹äº†ï¼Œé‚£æˆ‘ä»¬æ€ä¹ˆç”¨Postmanå»åšæµ‹è¯•å‘¢ï¼Œä¸”å¬ä¸‹å›åˆ†è§£</p>
<p>æˆ‘ä»¬å·²ç»çŸ¥é“å¦‚ä½•ç”¨Postmanç»„è£…å¹¶å‘é€æ¶ˆæ¯ï¼Œé‚£æˆ‘ä»¬å¦‚ä½•æ ¹æ®éœ€æ±‚ç”¨Postmanæ¥åšæµ‹è¯•å‘¢ï¼Ÿåœ¨è¿™å¼€å§‹ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹çœ‹Postmançš„å·¦è¾¹é¢æ¿ï¼š</p>
<p><img src="https://img-blog.csdn.net/20160601175613918" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p>
<p>è¿™é‡ŒåŒ…å«äº†Historyå’ŒCollectionï¼Œæˆ‘ä»¬å¯ä»¥åœ¨Historyé‡Œé¢çœ‹åˆ°æˆ‘ä»¬æ›¾ç»å‘é€è¿‡çš„HTTP Request, æˆ‘ä»¬å¯ä»¥å¾ˆæ–¹ä¾¿çš„é€šè¿‡ç‚¹å‡»ä¸Šé¢çš„é¡¹é‡æ–°æ„å»ºæˆ‘ä»¬çš„requestã€‚è€Œå³è¾¹çš„Request Builderé¢æ¿ä¸Šï¼Œè¿˜æœ‰ä¸¤ä¸ªæŒ‰é’®ï¼ŒPre-request Scriptå’ŒTestsã€‚</p>
<ul>
<li>Pre-request Script<br>å®šä¹‰æˆ‘ä»¬åœ¨å‘é€requestä¹‹å‰éœ€è¦è¿è¡Œçš„ä¸€äº›è„šæœ¬ï¼Œåº”ç”¨åœºæ™¯ä¸»è¦æ˜¯è®¾ç½®å…¨å±€å˜é‡å’Œç¯å¢ƒå˜é‡</li>
<li>Tests<br>å®šä¹‰å‘é€Requestä¹‹åï¼Œéœ€è¦ç”¨è„šæœ¬æ£€æµ‹çš„å†…å®¹ï¼Œä¹Ÿå°±æ˜¯Test caseçš„å†…å®¹ã€‚</li>
</ul>
<p>è¿™é‡Œçš„çš„Testsæ˜¯æˆ‘ä»¬å…³é”®ã€‚</p>
<h3 id="Test"><a href="#Test" class="headerlink" title="Test"></a>Test</h3><p>æ‰“å¼€Testsï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°çª—å£åˆ†æˆä¸¤éƒ¨åˆ†ï¼Œä¸€éƒ¨åˆ†æ˜¯å·¦è¾¹çš„ä»£ç çª—å£å’Œå³è¾¹çš„Snippetçª—å£ï¼Œç‚¹å‡»å¯¹åº”çš„snippetï¼Œpostmanä¼šåœ¨å·¦è¾¹çš„çª—å£ä¸ºæˆ‘ä»¬ç”Ÿæˆå¯¹åº”çš„ä»£ç ï¼Œåœ¨ä¸‹é¢çš„å›¾ä¸­ï¼Œæˆ‘é€‰æ‹©äº†â€œResponse body: is equal to a Stringâ€å’Œâ€œResponse time is less than 200msâ€ï¼Œå¯ä»¥çœ‹åˆ°Postmanåœ¨ä»£ç çª—å£ä¸ºæˆ‘åŠ è½½å¯¹åº”çš„è¯­å¥ï¼Œè¿™é‡Œæˆ‘æŠŠå¸Œæœ›çš„responseBodyæ”¹æˆäº†â€œNo valid parameters!!â€.<br>è¿™æ ·æˆ‘å°±å®Œæˆä¸€æ¡ç®€å•çš„æµ‹è¯•ç”¨ä¾‹ï¼š</p>
<ul>
<li>å½“HTTP Get requestæ²¡æœ‰å¸¦ä»»ä½•å‚æ•°çš„æ—¶å€™ï¼Œå¸Œæœ›responseçš„bodyè¿”å›å­—ç¬¦ä¸²â€œNo valid parameters!!â€</li>
<li>responseTimeå°äº200ms</li>
</ul>
<p><img src="https://img-blog.csdn.net/20160602113359840" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p>
<h3 id="Variables-and-Environment"><a href="#Variables-and-Environment" class="headerlink" title="Variables and Environment"></a>Variables and Environment</h3><p>å¦å¤–ï¼Œè¿™é‡Œå¤§å®¶å¯ä»¥çœ‹åˆ°åœ¨URLè¾“å…¥æ¡†ä¸­ï¼Œæˆ‘ä½¿ç”¨äº†ï¼Œé‚£æˆ‘ä»¬å¦‚ä½•å®šä¹‰å˜é‡å‘¢ï¼Œé¦–å…ˆï¼Œæˆ‘ä»¬å¾—åˆ›å»ºä¸€ä¸ªEnvironmentï¼Œç‚¹å‡»Environmenté‚£ä¸ªbuttonï¼ˆåœ¨è¿™é‡Œæ˜¯â€œSampleEnvâ€é‚£ä¸ªbuttonï¼Œå› ä¸ºæˆ‘å°†å…¶é€‰æ‹©æˆ‘å½“å‰ä½¿ç”¨çš„Environmentï¼‰</p>
<p><img src="https://img-blog.csdn.net/20160602124514851" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p>
<p>åœ¨Postmané‡Œé¢ï¼š</p>
<ul>
<li>EnvironementsåŒ…å«global Environmentï¼Œå³å…¨å±€çš„Environmentï¼Œé‡Œé¢å®šä¹‰çš„å˜é‡åœ¨ä»»ä½•åœ°æ–¹åœ°æ–¹éƒ½å¯ä»¥çœ‹åˆ°</li>
<li>local Environment, é‡Œé¢å®šä¹‰çš„å˜é‡åªæœ‰åœ¨å½“å‰Environmenté‡Œé¢æ‰å¯ä»¥çœ‹åˆ°ï¼Œè¿™é‡Œï¼Œæˆ‘å®šä¹‰äº†ä¸€ä¸ªâ€œSampleEnvâ€</li>
<li>Environmentå¯ä»¥è¢«shareï¼Œé€šè¿‡ä½ çš„postmanè´¦å·æˆ–è€…googleè´¦å·</li>
<li>Environmentå¯ä»¥é€šè¿‡æ–‡ä»¶import</li>
</ul>
<p>ç‚¹å‡»ä¹‹åï¼Œé€‰æ‹©Manage Environmentsã€‚è‹¥è¦æ–°å»ºï¼Œé€‰æ‹©Addã€‚è‹¥è¦ç¼–è¾‘global Environment, é€‰æ‹©Globals</p>
<p><img src="https://img-blog.csdn.net/20160602113947217" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p>
<p>æˆ‘ä»¬æ¥çœ‹çœ‹æˆ‘å·²ç»åˆ›å»ºå¥½çš„SampleEnvï¼Œè¿™é‡Œåªåˆ›å»ºäº†ä¸€ä¸ªå˜é‡myLocalHostï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬ä¹‹å‰çœ‹åˆ°çš„åœ¨URLé‡Œçš„é‚£ä¸ªå˜é‡ï¼Œè¿™ä¸ªå˜é‡åœ¨URLé‡Œå¯ä»¥ç”¨ï¼Œåœ¨test scripté‡Œé¢å¯ä»¥ç”¨ï¼Œä»»ä½•å…¶ä»–åœ°æ–¹ä½ éƒ½å¯ä»¥é€šè¿‡æ’å€¼è¡¨è¾¾å¼ç¬¦å·è·å¾—å®ƒçš„å€¼ã€‚</p>
<p><img src="https://img-blog.csdn.net/20160602125204573" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p>
<p>è¿™é‡Œç¨å¾®ä¸¾ä¾‹ä¸€ä¸‹å˜é‡çš„å¥½å¤„ï¼Œæ¯”å¦‚ä½ æŠŠAPPéƒ¨ç½²åœ¨è‡ªå·±çš„æœºå™¨ä¸Šæ—¶ä½¿ç”¨çš„åŸŸåæ˜¯localhostï¼Œè€Œéƒ¨ç½²åœ¨æœåŠ¡å™¨ä¸Šæ—¶ï¼ŒåŸŸåå°±æ˜¯å…·ä½“çš„æœåŠ¡å™¨ipã€‚ä¸ºäº†åœ¨ä¸¤ç§ä¸åŒç¯å¢ƒä¸Šæµ‹è¯•ä½ çš„APIï¼Œä½ åœ¨æ„å»ºrequestçš„æ—¶å€™å°±éœ€è¦è¾“å…¥ä¸åŒçš„urlï¼Œä½†å¦‚æœä½ ä½¿ç”¨äº†å˜é‡ï¼Œä½ å°±å¯ä»¥ä½¿ç”¨å˜é‡æ¥å¤ç”¨ä½ çš„urlï¼Œä½ åªéœ€åœ¨ä¸åŒçš„environmenté‡Œé¢ç»™urlèµ‹ä¸åŒçš„å€¼ï¼Œé‚£ä½ çš„requestå°±å®Œå…¨ä¸éœ€è¦å˜ã€‚åŒç†ï¼Œåœ¨testsé‡Œé¢ä¹Ÿæ˜¯ä¸€æ ·çš„ã€‚è¿™é‡Œå°±ä¸èµ˜è¿°</p>
<h3 id="Collection"><a href="#Collection" class="headerlink" title="Collection"></a>Collection</h3><p>å®šä¹‰å¥½äº†test case ï¼ˆå†™å¥½çš„Requestå’Œå®šä¹‰å¥½ç»“æœæ£€æŸ¥testsï¼‰,æˆ‘ä»¬å°±éœ€è¦è¿è¡Œï¼Œä½ å¯ä»¥ç®€å•ç‚¹å‡»sendæŒ‰é’®æŸ¥çœ‹ç»“æœï¼Œä½†è¿™æ—¶å€™ä½ ä¸ä¼šæ˜æ˜¾çš„çœ‹åˆ°æµ‹è¯•çš„ç»“æœï¼Œä½ éœ€è¦æŠŠè¿™æ¡requeståŠ å…¥åˆ°collectionå½“ä¸­ã€‚æˆ‘ä»¬å…ˆåˆ›å»ºä¸€ä¸ªcollection:</p>
<p><img src="https://img-blog.csdn.net/20160602130152503" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p>
<p>åœ¨å¼¹å‡ºçš„çª—å£ä¸­åˆ›å»ºä½ çš„collectionï¼Œå‘½åä¸ºä½ test suiteçš„åå­—ï¼š</p>
<p><img src="https://img-blog.csdn.net/20160602130316608" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p>
<p>åˆ›å»ºcollectionä¹‹åï¼ŒæŠŠå·²ç»å†™å¥½çš„request(test case)ä¿å­˜åˆ°collectionï¼ˆtest suiteï¼‰å½“ä¸­ã€‚</p>
<ul>
<li>ç‚¹å‡»saveï¼ŒæŠŠRequest Nameæ”¹æˆä½ çš„test caseçš„åå­—ï¼Œæ¯”å¦‚â€œtest_NoParameter_Expect_WarningInfoâ€;</li>
<li>save to exist collectionï¼Œé€‰æ‹©ä¹‹å‰åˆ›å»ºå¥½çš„collection, â€œTestParametersâ€;</li>
</ul>
<p><img src="https://img-blog.csdn.net/20160602130547344" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p>
<p>ç‚¹å‡»çª—å£ä¸­çš„saveä¹‹åæˆ‘ä»¬å°±å¯ä»¥åœ¨å·¦ç•Œé¢ä¸Šçœ‹åˆ°æˆ‘ä»¬çš„è¿™ä¸ªcollectionå’Œcollectionä¸­çš„requestäº†ï¼š</p>
<p><img src="https://img-blog.csdn.net/20160602131229470" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p>
<p>ç‚¹å‡» â€˜&gt;â€™æŒ‰é’®ï¼ˆç‚¹å‡»äº†ä¹‹åä¼šå˜æˆ â€˜&lt;â€™ï¼‰,æˆ‘ä»¬å°±ä¼šçœ‹åˆ°å¼¹å‡ºçš„çª—å£ä¸­æœ‰ä¸€ä¸ªâ€˜Runâ€™ï¼Œè¿è¡Œä¸€ä¸‹ï¼Œå°±ä¼šå¼¹å‡ºä¸€ä¸ªcollection runnerçš„çª—å£ã€‚ç‚¹å‡»ä¸€ä¸‹start testï¼Œä½ å°±å¯ä»¥çœ‹åˆ°è¿è¡Œçš„ç»“æœï¼Œè¿™é‡Œæˆ‘é€‰æ‹©äº†è¿è¡Œ100æ¬¡ï¼Œåœ¨å·¦è¾¹çª—å£ä½ è¿˜å¯ä»¥çœ‹åˆ°ä¹‹å‰çš„è¿è¡Œè®°å½•ï¼š</p>
<p><img src="https://img-blog.csdn.net/20160602131658457" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p>
<p>åŠ å…¥æˆ‘æŠŠAppçš„æ¥å£æ”¹ä¸ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">    @Override</span><br><span class="line">    protected void doGet( HttpServletRequest request, HttpServletResponse response )</span><br><span class="line">        throws ServletException,</span><br><span class="line">            IOException</span><br><span class="line">    &#123;</span><br><span class="line">        if( request.getParameter( &quot;name&quot; ) !&#x3D; null )</span><br><span class="line">        &#123;</span><br><span class="line">            response.getWriter().print( &quot;lex&quot; );</span><br><span class="line">        &#125;</span><br><span class="line">        else</span><br><span class="line">        &#123;</span><br><span class="line">            response.getWriter().print( &quot;No valid parameters???&quot; );</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">123456789101112131415</span><br></pre></td></tr></table></figure>

<p>è¿™ä¼šå¯¼è‡´response bodyçš„æ¯”è¾ƒä¸åŒ¹é… No valid parameters??? ï¼= No valid parametersï¼ï¼</p>
<p><img src="https://img-blog.csdn.net/20160602132110919" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p>
<p>é‚£ä½ å°±ä¼šçœ‹åˆ° Body is correct caseæ˜¯FAILçš„.</p>
<p>æ€ä¹ˆæ ·ï¼Ÿå­¦ä¼šäº†å—ï¼Ÿ</p>
<p>å‚è€ƒé“¾æ¥<a href="https://blog.csdn.net/u013613428/article/details/51557804" target="_blank" rel="noopener">https://blog.csdn.net/u013613428/article/details/51557804</a></p>
<p>å‚è€ƒé“¾æ¥<a href="https://blog.csdn.net/u013613428/article/details/51557914" target="_blank" rel="noopener">https://blog.csdn.net/u013613428/article/details/51557914</a></p>
<h3 id="æ‹“å±•-ï¼ˆpostwomanï¼‰"><a href="#æ‹“å±•-ï¼ˆpostwomanï¼‰" class="headerlink" title="æ‹“å±• ï¼ˆpostwomanï¼‰"></a>æ‹“å±• ï¼ˆpostwomanï¼‰</h3><p><code>Postwoman</code> å°±éå¸¸æ–¹ä¾¿ï¼Œç›´æ¥è¿è¡Œåœ¨æµè§ˆå™¨</p>
<h4 id="åœ¨çº¿è®¿é—®"><a href="#åœ¨çº¿è®¿é—®" class="headerlink" title="åœ¨çº¿è®¿é—®"></a>åœ¨çº¿è®¿é—®</h4><p>chormeæ’ä»¶ï¼ˆåº”ç”¨å•†åº—ä¸‹è½½ï¼‰</p>
<h4 id="éƒ¨ç½²åˆ°æœ¬åœ°"><a href="#éƒ¨ç½²åˆ°æœ¬åœ°" class="headerlink" title="éƒ¨ç½²åˆ°æœ¬åœ°"></a>éƒ¨ç½²åˆ°æœ¬åœ°</h4><h5 id="Git-éƒ¨ç½²"><a href="#Git-éƒ¨ç½²" class="headerlink" title="Git éƒ¨ç½²"></a>Git éƒ¨ç½²</h5><figure class="highlight php"><table><tr><td class="code"><pre><span class="line">git <span class="keyword">clone</span> https:<span class="comment">//github.com/liyasthomas/postwoman.git</span></span><br><span class="line">cd postwoman</span><br><span class="line">npm install</span><br><span class="line">npm run dev</span><br></pre></td></tr></table></figure>

<p>æ‰“å¼€æµè§ˆå™¨è¾“å…¥ <code>http://localhost:3000</code> å³å¯ã€‚</p>
<h5 id="docker-compose-éƒ¨ç½²"><a href="#docker-compose-éƒ¨ç½²" class="headerlink" title="docker-compose éƒ¨ç½²"></a>docker-compose éƒ¨ç½²</h5><figure class="highlight php"><table><tr><td class="code"><pre><span class="line">git <span class="keyword">clone</span> https:<span class="comment">//github.com/liyasthomas/postwoman.git</span></span><br><span class="line">cd postwoman</span><br><span class="line">docker-compose up</span><br></pre></td></tr></table></figure>

<p>åŒç†ä¹Ÿæ˜¯ <code>http://localhost:3000</code> ç«¯å£è®¿é—®ã€‚</p>
<h5 id="Docker-éƒ¨ç½²"><a href="#Docker-éƒ¨ç½²" class="headerlink" title="Docker éƒ¨ç½²"></a>Docker éƒ¨ç½²</h5><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="comment">#pull</span></span><br><span class="line">docker pull liyasthomas/postwoman</span><br><span class="line"></span><br><span class="line"><span class="comment">#run</span></span><br><span class="line">docker run -p <span class="number">3000</span>:<span class="number">3000</span> liyasthomas/postwoman:latest</span><br><span class="line"></span><br><span class="line"><span class="comment">#build</span></span><br><span class="line">docker build -t postwoman:latest</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>postman</category>
      </categories>
      <tags>
        <tag>æ’ä»¶</tag>
        <tag>postman</tag>
        <tag>Chromeæ’ä»¶</tag>
      </tags>
  </entry>
  <entry>
    <title>reactä¹‹hooks</title>
    <url>/2021/03/02/react%E4%B9%8Bhooks/</url>
    <content><![CDATA[<h2 id="ä¸ºä»€ä¹ˆä½¿ç”¨hooks"><a href="#ä¸ºä»€ä¹ˆä½¿ç”¨hooks" class="headerlink" title="ä¸ºä»€ä¹ˆä½¿ç”¨hooks"></a>ä¸ºä»€ä¹ˆä½¿ç”¨hooks</h2><p>ç±»å†™æ³•æœ‰é‡å¤§é™åˆ¶ï¼Œå¿…é¡»æ˜¯çº¯å‡½æ•°ï¼Œä¸èƒ½åŒ…å«çŠ¶æ€ï¼Œä¹Ÿä¸æ”¯æŒç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼Œå› æ­¤æ— æ³•å–ä»£ç±»ã€‚</p>
<p><strong>React Hooks çš„è®¾è®¡ç›®çš„ï¼Œå°±æ˜¯åŠ å¼ºç‰ˆå‡½æ•°ç»„ä»¶ï¼Œå®Œå…¨ä¸ä½¿ç”¨â€ç±»â€ï¼Œå°±èƒ½å†™å‡ºä¸€ä¸ªå…¨åŠŸèƒ½çš„ç»„ä»¶ã€‚</strong></p>
<p>ä»¥ä¸‹é¢çš„å‡½æ•°ç»„ä»¶ä¸ºä¾‹ã€‚</p>
<blockquote>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Welcome</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>Hello, &#123;props.name&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</blockquote>
<p>è¿™ä¸ªå‡½æ•°åªåšä¸€ä»¶äº‹ï¼Œå°±æ˜¯æ ¹æ®è¾“å…¥çš„å‚æ•°ï¼Œè¿”å›ç»„ä»¶çš„ HTML ä»£ç ã€‚è¿™ç§åªè¿›è¡Œå•çº¯çš„æ•°æ®è®¡ç®—ï¼ˆæ¢ç®—ï¼‰çš„å‡½æ•°ï¼Œåœ¨å‡½æ•°å¼ç¼–ç¨‹é‡Œé¢ç§°ä¸º <strong>â€œçº¯å‡½æ•°â€</strong>ï¼ˆpure functionï¼‰ã€‚</p>
<h2 id="å‰¯æ•ˆåº”æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#å‰¯æ•ˆåº”æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="å‰¯æ•ˆåº”æ˜¯ä»€ä¹ˆï¼Ÿ"></a>å‰¯æ•ˆåº”æ˜¯ä»€ä¹ˆï¼Ÿ</h2><p>çœ‹åˆ°è¿™é‡Œï¼Œä½ å¯èƒ½ä¼šäº§ç”Ÿä¸€ä¸ªç–‘é—®ï¼šå¦‚æœçº¯å‡½æ•°åªèƒ½è¿›è¡Œæ•°æ®è®¡ç®—ï¼Œé‚£äº›ä¸æ¶‰åŠè®¡ç®—çš„æ“ä½œï¼ˆæ¯”å¦‚ç”Ÿæˆæ—¥å¿—ã€å‚¨å­˜æ•°æ®ã€æ”¹å˜åº”ç”¨çŠ¶æ€ç­‰ç­‰ï¼‰åº”è¯¥å†™åœ¨å“ªé‡Œå‘¢ï¼Ÿ</p>
<p>å‡½æ•°å¼ç¼–ç¨‹å°†é‚£äº›è·Ÿæ•°æ®è®¡ç®—æ— å…³çš„æ“ä½œï¼Œéƒ½ç§°ä¸º â€œå‰¯æ•ˆåº”â€ <strong>ï¼ˆside effectï¼‰</strong> ã€‚å¦‚æœå‡½æ•°å†…éƒ¨ç›´æ¥åŒ…å«äº§ç”Ÿå‰¯æ•ˆåº”çš„æ“ä½œï¼Œå°±ä¸å†æ˜¯çº¯å‡½æ•°äº†ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºä¸çº¯çš„å‡½æ•°ã€‚</p>
<p><img src="https://www.wangbase.com/blogimg/asset/202009/bg2020091410.jpg" alt="img"></p>
<p>çº¯å‡½æ•°å†…éƒ¨åªæœ‰é€šè¿‡é—´æ¥çš„æ‰‹æ®µï¼ˆå³é€šè¿‡å…¶ä»–å‡½æ•°è°ƒç”¨ï¼‰ï¼Œæ‰èƒ½åŒ…å«å‰¯æ•ˆåº”ã€‚</p>
<a id="more"></a>

<h2 id="é’©å­ï¼ˆhookï¼‰çš„ä½œç”¨"><a href="#é’©å­ï¼ˆhookï¼‰çš„ä½œç”¨" class="headerlink" title="é’©å­ï¼ˆhookï¼‰çš„ä½œç”¨"></a>é’©å­ï¼ˆhookï¼‰çš„ä½œç”¨</h2><p>è¯´äº†åŠå¤©ï¼Œé‚£ä¹ˆé’©å­åˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿ</p>
<p>ä¸€å¥è¯ï¼Œ<strong>é’©å­ï¼ˆhookï¼‰å°±æ˜¯ React å‡½æ•°ç»„ä»¶çš„å‰¯æ•ˆåº”è§£å†³æ–¹æ¡ˆï¼Œç”¨æ¥ä¸ºå‡½æ•°ç»„ä»¶å¼•å…¥å‰¯æ•ˆåº”ã€‚</strong> å‡½æ•°ç»„ä»¶çš„ä¸»ä½“åªåº”è¯¥ç”¨æ¥è¿”å›ç»„ä»¶çš„ HTML ä»£ç ï¼Œæ‰€æœ‰çš„å…¶ä»–æ“ä½œï¼ˆå‰¯æ•ˆåº”ï¼‰éƒ½å¿…é¡»é€šè¿‡é’©å­å¼•å…¥ã€‚</p>
<p>ç”±äºå‰¯æ•ˆåº”éå¸¸å¤šï¼Œæ‰€ä»¥é’©å­æœ‰è®¸å¤šç§ã€‚React ä¸ºè®¸å¤šå¸¸è§çš„æ“ä½œï¼ˆå‰¯æ•ˆåº”ï¼‰ï¼Œéƒ½æä¾›äº†ä¸“ç”¨çš„é’©å­ã€‚</p>
<ul>
<li><code>useState()</code>ï¼šä¿å­˜çŠ¶æ€</li>
<li><code>useContext()</code>ï¼šä¿å­˜ä¸Šä¸‹æ–‡</li>
<li><code>useRef()</code>ï¼šä¿å­˜å¼•ç”¨</li>
<li>â€¦â€¦</li>
</ul>
<p>ä¸Šé¢è¿™äº›é’©å­ï¼Œéƒ½æ˜¯å¼•å…¥æŸç§ç‰¹å®šçš„å‰¯æ•ˆåº”ï¼Œè€Œ <strong><code>useEffect()</code>æ˜¯é€šç”¨çš„å‰¯æ•ˆåº”é’©å­</strong> ã€‚æ‰¾ä¸åˆ°å¯¹åº”çš„é’©å­æ—¶ï¼Œå°±å¯ä»¥ç”¨å®ƒã€‚å…¶å®ï¼Œä»åå­—ä¹Ÿå¯ä»¥çœ‹å‡ºæ¥ï¼Œå®ƒè·Ÿå‰¯æ•ˆåº”ï¼ˆside effectï¼‰ç›´æ¥ç›¸å…³ã€‚æ‰€æœ‰çš„é’©å­éƒ½æ˜¯ä¸ºå‡½æ•°å¼•å…¥å¤–éƒ¨åŠŸèƒ½ï¼Œæ‰€ä»¥ React çº¦å®šï¼Œé’©å­ä¸€å¾‹ä½¿ç”¨<code>use</code>å‰ç¼€å‘½åï¼Œä¾¿äºè¯†åˆ«ã€‚ä½ è¦ä½¿ç”¨ xxx åŠŸèƒ½ï¼Œé’©å­å°±å‘½åä¸º usexxxã€‚</p>
<p>ä¸‹é¢ä»‹ç» React é»˜è®¤æä¾›çš„å››ä¸ªæœ€å¸¸ç”¨çš„é’©å­ã€‚</p>
<blockquote>
<ul>
<li>useState()</li>
<li>useContext()</li>
<li>useReducer()</li>
<li>useEffect()</li>
</ul>
</blockquote>
<h2 id="useState-ï¼šçŠ¶æ€é’©å­"><a href="#useState-ï¼šçŠ¶æ€é’©å­" class="headerlink" title="useState()ï¼šçŠ¶æ€é’©å­"></a>useState()ï¼šçŠ¶æ€é’©å­</h2><p><code>useState()</code>ç”¨äºä¸ºå‡½æ•°ç»„ä»¶å¼•å…¥çŠ¶æ€ï¼ˆstateï¼‰ã€‚çº¯å‡½æ•°ä¸èƒ½æœ‰çŠ¶æ€ï¼Œæ‰€ä»¥æŠŠçŠ¶æ€æ”¾åœ¨é’©å­é‡Œé¢ã€‚</p>
<p>æ¡ˆä¾‹ï¼šç”¨æˆ·ç‚¹å‡»æŒ‰é’®ï¼Œä¼šå¯¼è‡´æŒ‰é’®çš„æ–‡å­—æ”¹å˜ï¼Œæ–‡å­—å–å†³äºç”¨æˆ·æ˜¯å¦ç‚¹å‡»ï¼Œè¿™å°±æ˜¯çŠ¶æ€ã€‚ä½¿ç”¨<code>useState()</code>é‡å†™å¦‚ä¸‹ã€‚</p>
<blockquote>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; useState &#125; <span class="keyword">from</span> <span class="string">"react"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span>  <span class="title">Button</span>(<span class="params"></span>)  </span>&#123;</span><br><span class="line">  <span class="keyword">const</span>  [buttonText, setButtonText] =  useState(<span class="string">"Click me,   please"</span>);</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">handleClick</span>(<span class="params"></span>)  </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> setButtonText(<span class="string">"Thanks, been clicked!"</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span>  <span class="xml"><span class="tag">&lt;<span class="name">button</span>  <span class="attr">onClick</span>=<span class="string">&#123;handleClick&#125;</span>&gt;</span>&#123;buttonText&#125;<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</blockquote>
<p>ä¸Šé¢ä»£ç ä¸­ï¼ŒButton ç»„ä»¶æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå†…éƒ¨ä½¿ç”¨<code>useState()</code>é’©å­å¼•å…¥çŠ¶æ€ã€‚</p>
<p><code>useState()</code>è¿™ä¸ªå‡½æ•°æ¥å—çŠ¶æ€çš„åˆå§‹å€¼ï¼Œä½œä¸ºå‚æ•°ï¼Œä¸Šä¾‹çš„åˆå§‹å€¼ä¸ºæŒ‰é’®çš„æ–‡å­—ã€‚è¯¥å‡½æ•°è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œæ•°ç»„çš„ç¬¬ä¸€ä¸ªæˆå‘˜æ˜¯ä¸€ä¸ªå˜é‡ï¼ˆä¸Šä¾‹æ˜¯<code>buttonText</code>ï¼‰ï¼ŒæŒ‡å‘çŠ¶æ€çš„å½“å‰å€¼ã€‚ç¬¬äºŒä¸ªæˆå‘˜æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œç”¨æ¥æ›´æ–°çŠ¶æ€ï¼Œçº¦å®šæ˜¯<code>set</code>å‰ç¼€åŠ ä¸ŠçŠ¶æ€çš„å˜é‡åï¼ˆä¸Šä¾‹æ˜¯<code>setButtonText</code>ï¼‰ã€‚</p>
<h2 id="useContext-ï¼šå…±äº«çŠ¶æ€é’©å­"><a href="#useContext-ï¼šå…±äº«çŠ¶æ€é’©å­" class="headerlink" title="useContext()ï¼šå…±äº«çŠ¶æ€é’©å­"></a>useContext()ï¼šå…±äº«çŠ¶æ€é’©å­</h2><p>å¦‚æœéœ€è¦åœ¨ç»„ä»¶ä¹‹é—´å…±äº«çŠ¶æ€ï¼Œå¯ä»¥ä½¿ç”¨<code>useContext()</code>ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import React, &#123; useContext &#125; from &quot;react&quot;;</span><br><span class="line">import ReactDOM from &quot;react-dom&quot;;</span><br><span class="line">import &quot;.&#x2F;styles.css&quot;;</span><br><span class="line"></span><br><span class="line">const AppContext &#x3D; React.createContext(&#123;&#125;);</span><br><span class="line"></span><br><span class="line">const Navbar &#x3D; () &#x3D;&gt; &#123;</span><br><span class="line">  const &#123; username &#125; &#x3D; useContext(AppContext)</span><br><span class="line"></span><br><span class="line">  return (</span><br><span class="line">    &lt;div className&#x3D;&quot;navbar&quot;&gt;</span><br><span class="line">      &lt;p&gt;AwesomeSite&lt;&#x2F;p&gt;</span><br><span class="line">      &lt;p&gt;&#123;username&#125;&lt;&#x2F;p&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const Messages &#x3D; () &#x3D;&gt; &#123;</span><br><span class="line">  const &#123; username &#125; &#x3D; useContext(AppContext)</span><br><span class="line"></span><br><span class="line">  return (</span><br><span class="line">    &lt;div className&#x3D;&quot;messages&quot;&gt;</span><br><span class="line">      &lt;h1&gt;Messages&lt;&#x2F;h1&gt;</span><br><span class="line">      &lt;p&gt;1 message for &#123;username&#125;&lt;&#x2F;p&gt;</span><br><span class="line">      &lt;p className&#x3D;&quot;message&quot;&gt;useContext is awesome!&lt;&#x2F;p&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function App() &#123;</span><br><span class="line">  return (</span><br><span class="line">    &lt;AppContext.Provider value&#x3D;&#123;&#123;</span><br><span class="line">      username: &#39;superawesome&#39;</span><br><span class="line">    &#125;&#125;&gt;</span><br><span class="line">      &lt;div className&#x3D;&quot;App&quot;&gt;</span><br><span class="line">        &lt;Navbar &#x2F;&gt;</span><br><span class="line">        &lt;Messages &#x2F;&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;AppContext.Provider&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const rootElement &#x3D; document.getElementById(&quot;root&quot;);</span><br><span class="line">ReactDOM.render(&lt;App &#x2F;&gt;, rootElement);</span><br></pre></td></tr></table></figure>



<h2 id="useReducer-ï¼šaction-é’©å­"><a href="#useReducer-ï¼šaction-é’©å­" class="headerlink" title="useReducer()ï¼šaction é’©å­"></a>useReducer()ï¼šaction é’©å­</h2><p>React æœ¬èº«ä¸æä¾›çŠ¶æ€ç®¡ç†åŠŸèƒ½ï¼Œé€šå¸¸éœ€è¦ä½¿ç”¨å¤–éƒ¨åº“ã€‚è¿™æ–¹é¢æœ€å¸¸ç”¨çš„åº“æ˜¯ Reduxã€‚</p>
<p>Redux çš„æ ¸å¿ƒæ¦‚å¿µæ˜¯ï¼Œç»„ä»¶å‘å‡º action ä¸çŠ¶æ€ç®¡ç†å™¨é€šä¿¡ã€‚çŠ¶æ€ç®¡ç†å™¨æ”¶åˆ° action ä»¥åï¼Œä½¿ç”¨ Reducer å‡½æ•°ç®—å‡ºæ–°çš„çŠ¶æ€ï¼ŒReducer å‡½æ•°çš„å½¢å¼æ˜¯<code>(state, action) =&gt; newState</code>ã€‚</p>
<p><code>useReducers()</code>é’©å­ç”¨æ¥å¼•å…¥ Reducer åŠŸèƒ½ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import React, &#123; useReducer &#125; from &quot;react&quot;;</span><br><span class="line">import ReactDOM from &quot;react-dom&quot;;</span><br><span class="line">import &quot;.&#x2F;styles.css&quot;;</span><br><span class="line"></span><br><span class="line">const myReducer &#x3D; (state, action) &#x3D;&gt; &#123;</span><br><span class="line">  switch(action.type) &#123;</span><br><span class="line">    case(&#39;countUp&#39;):</span><br><span class="line">      return &#123;</span><br><span class="line">        ...state,</span><br><span class="line">        count: state.count + 1</span><br><span class="line">      &#125;</span><br><span class="line">    default:</span><br><span class="line">      return state</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function App() &#123;</span><br><span class="line">  const [state, dispatch] &#x3D; useReducer(myReducer, &#123; count: 0 &#125;)</span><br><span class="line"></span><br><span class="line">  return (</span><br><span class="line">    &lt;div className&#x3D;&quot;App&quot;&gt;</span><br><span class="line">      &lt;button onClick&#x3D;&#123;() &#x3D;&gt; dispatch(&#123; type: &#39;countUp&#39; &#125;)&#125;&gt;</span><br><span class="line">        +1</span><br><span class="line">      &lt;&#x2F;button&gt;</span><br><span class="line">      &lt;p&gt;Count: &#123;state.count&#125;&lt;&#x2F;p&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const rootElement &#x3D; document.getElementById(&quot;root&quot;);</span><br><span class="line">ReactDOM.render(&lt;App &#x2F;&gt;, rootElement);</span><br></pre></td></tr></table></figure>

<h2 id="useEffect-ï¼šå‰¯ä½œç”¨é’©å­"><a href="#useEffect-ï¼šå‰¯ä½œç”¨é’©å­" class="headerlink" title="useEffect()ï¼šå‰¯ä½œç”¨é’©å­"></a>useEffect()ï¼šå‰¯ä½œç”¨é’©å­</h2><p><code>useEffect()</code>ç”¨æ¥å¼•å…¥å…·æœ‰å‰¯ä½œç”¨çš„æ“ä½œï¼Œæœ€å¸¸è§çš„å°±æ˜¯å‘æœåŠ¡å™¨è¯·æ±‚æ•°æ®ã€‚ä»¥å‰ï¼Œæ”¾åœ¨<code>componentDidMount</code>é‡Œé¢çš„ä»£ç ï¼Œç°åœ¨å¯ä»¥æ”¾åœ¨<code>useEffect()</code>ã€‚</p>
<p><code>useEffect()</code>çš„ç”¨æ³•å¦‚ä¸‹ã€‚</p>
<blockquote>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">useEffect(<span class="function"><span class="params">()</span>  =&gt;</span>  &#123;</span><br><span class="line">  <span class="comment">// Async Action</span></span><br><span class="line">&#125;, [dependencies])</span><br></pre></td></tr></table></figure>
</blockquote>
<p>ä¸Šé¢ç”¨æ³•ä¸­ï¼Œ<code>useEffect()</code>æ¥å—ä¸¤ä¸ªå‚æ•°ã€‚ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå¼‚æ­¥æ“ä½œçš„ä»£ç æ”¾åœ¨é‡Œé¢ã€‚ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œç”¨äºç»™å‡º Effect çš„ä¾èµ–é¡¹ï¼Œåªè¦è¿™ä¸ªæ•°ç»„å‘ç”Ÿå˜åŒ–ï¼Œ<code>useEffect()</code>å°±ä¼šæ‰§è¡Œã€‚ç¬¬äºŒä¸ªå‚æ•°å¯ä»¥çœç•¥ï¼Œè¿™æ—¶æ¯æ¬¡ç»„ä»¶æ¸²æŸ“æ—¶ï¼Œå°±ä¼šæ‰§è¡Œ<code>useEffect()</code>ã€‚</p>
<p>ä¸‹é¢çœ‹ä¸€ä¸ªä¾‹å­ã€‚</p>
<blockquote>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> Person = <span class="function">(<span class="params">&#123; personId &#125;</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> [loading, setLoading] = useState(<span class="literal">true</span>);</span><br><span class="line">  <span class="keyword">const</span> [person, setPerson] = useState(&#123;&#125;);</span><br><span class="line"></span><br><span class="line">  useEffect(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    setLoading(<span class="literal">true</span>); </span><br><span class="line">    fetch(<span class="string">`https://swapi.co/api/people/<span class="subst">$&#123;personId&#125;</span>/`</span>)</span><br><span class="line">      .then(<span class="function"><span class="params">response</span> =&gt;</span> response.json())</span><br><span class="line">      .then(<span class="function"><span class="params">data</span> =&gt;</span> &#123;</span><br><span class="line">        setPerson(data);</span><br><span class="line">        setLoading(<span class="literal">false</span>);</span><br><span class="line">      &#125;);</span><br><span class="line">  &#125;, [personId])</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (loading === <span class="literal">true</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span>Loading ...<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>You're viewing: &#123;person.name&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Height: &#123;person.height&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Mass: &#123;person.mass&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</blockquote>
<p>ä¸Šé¢ä»£ç ä¸­ï¼Œæ¯å½“ç»„ä»¶å‚æ•°<code>personId</code>å‘ç”Ÿå˜åŒ–ï¼Œ<code>useEffect()</code>å°±ä¼šæ‰§è¡Œã€‚ç»„ä»¶ç¬¬ä¸€æ¬¡æ¸²æŸ“æ—¶ï¼Œ<code>useEffect()</code>ä¹Ÿä¼šæ‰§è¡Œã€‚</p>
<h2 id="æ¸…ç†å‰¯æ•ˆåº”"><a href="#æ¸…ç†å‰¯æ•ˆåº”" class="headerlink" title="æ¸…ç†å‰¯æ•ˆåº”"></a>æ¸…ç†å‰¯æ•ˆåº”</h2><p><code>useEffect()</code>å…è®¸è¿”å›ä¸€ä¸ªå‡½æ•°ï¼Œåœ¨ç»„ä»¶å¸è½½æ—¶ï¼Œæ‰§è¡Œè¯¥å‡½æ•°ï¼Œæ¸…ç†å‰¯æ•ˆåº”ã€‚å¦‚æœä¸éœ€è¦æ¸…ç†å‰¯æ•ˆåº”ï¼Œ<code>useEffect()</code>å°±ä¸ç”¨è¿”å›ä»»ä½•å€¼ã€‚</p>
<blockquote>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">useEffect(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> subscription = props.source.subscribe();</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    subscription.unsubscribe();</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;, [props.source]);</span><br></pre></td></tr></table></figure>
</blockquote>
<p>ä¸Šé¢ä¾‹å­ä¸­ï¼Œ<code>useEffect()</code>åœ¨ç»„ä»¶åŠ è½½æ—¶è®¢é˜…äº†ä¸€ä¸ªäº‹ä»¶ï¼Œå¹¶ä¸”è¿”å›ä¸€ä¸ªæ¸…ç†å‡½æ•°ï¼Œåœ¨ç»„ä»¶å¸è½½æ—¶å–æ¶ˆè®¢é˜…ã€‚</p>
]]></content>
      <categories>
        <category>react</category>
      </categories>
      <tags>
        <tag>react</tag>
        <tag>hooks</tag>
      </tags>
  </entry>
  <entry>
    <title>reactä¹‹router</title>
    <url>/2021/03/03/react%E4%B9%8Brouter/</url>
    <content><![CDATA[<h2 id="ä¸€ã€åŸºæœ¬ç”¨æ³•"><a href="#ä¸€ã€åŸºæœ¬ç”¨æ³•" class="headerlink" title="ä¸€ã€åŸºæœ¬ç”¨æ³•"></a>ä¸€ã€åŸºæœ¬ç”¨æ³•</h2><p>React Router å®‰è£…å‘½ä»¤å¦‚ä¸‹ã€‚</p>
<blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ npm install -S react-router</span><br></pre></td></tr></table></figure>
</blockquote>
<p>ä½¿ç”¨æ—¶ï¼Œè·¯ç”±å™¨<code>Router</code>å°±æ˜¯Reactçš„ä¸€ä¸ªç»„ä»¶ã€‚</p>
<blockquote>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; Router &#125; <span class="keyword">from</span> <span class="string">'react-router'</span>;</span><br><span class="line">render(<span class="xml"><span class="tag">&lt;<span class="name">Router</span>/&gt;</span></span>, <span class="built_in">document</span>.getElementById(<span class="string">'app'</span>));</span><br></pre></td></tr></table></figure>
</blockquote>
<a id="more"></a>

<p><code>Router</code>ç»„ä»¶æœ¬èº«åªæ˜¯ä¸€ä¸ªå®¹å™¨ï¼ŒçœŸæ­£çš„è·¯ç”±è¦é€šè¿‡<code>Route</code>ç»„ä»¶å®šä¹‰ã€‚</p>
<blockquote>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; Router, Route, hashHistory &#125; <span class="keyword">from</span> <span class="string">'react-router'</span>;</span><br><span class="line"></span><br><span class="line">render((</span><br><span class="line">  &lt;Router history=&#123;hashHistory&#125;&gt;</span><br><span class="line">    &lt;Route path=<span class="string">"/"</span> component=&#123;App&#125;/&gt;</span><br><span class="line">  &lt;<span class="regexp">/Router&gt;</span></span><br><span class="line"><span class="regexp">), document.getElementById('app'));</span></span><br></pre></td></tr></table></figure>
</blockquote>
<p>ä¸Šé¢ä»£ç ä¸­ï¼Œç”¨æˆ·è®¿é—®æ ¹è·¯ç”±<code>/</code>ï¼ˆæ¯”å¦‚<code>http://www.example.com/</code>ï¼‰ï¼Œç»„ä»¶<code>APP</code>å°±ä¼šåŠ è½½åˆ°<code>document.getElementById(&#39;app&#39;)</code>ã€‚</p>
<p>ä½ å¯èƒ½è¿˜æ³¨æ„åˆ°ï¼Œ<code>Router</code>ç»„ä»¶æœ‰ä¸€ä¸ªå‚æ•°<code>history</code>ï¼Œå®ƒçš„å€¼<code>hashHistory</code>è¡¨ç¤ºï¼Œè·¯ç”±çš„åˆ‡æ¢ç”±URLçš„hashå˜åŒ–å†³å®šï¼Œå³URLçš„<code>#</code>éƒ¨åˆ†å‘ç”Ÿå˜åŒ–ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œç”¨æˆ·è®¿é—®<code>http://www.example.com/</code>ï¼Œå®é™…ä¼šçœ‹åˆ°çš„æ˜¯<code>http://www.example.com/#/</code>ã€‚</p>
<p><code>Route</code>ç»„ä»¶å®šä¹‰äº†URLè·¯å¾„ä¸ç»„ä»¶çš„å¯¹åº”å…³ç³»ã€‚ä½ å¯ä»¥åŒæ—¶ä½¿ç”¨å¤šä¸ª<code>Route</code>ç»„ä»¶ã€‚</p>
<blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;Router history&#x3D;&#123;hashHistory&#125;&gt;</span><br><span class="line">  &lt;Route path&#x3D;&quot;&#x2F;&quot; component&#x3D;&#123;App&#125;&#x2F;&gt;</span><br><span class="line">  &lt;Route path&#x3D;&quot;&#x2F;repos&quot; component&#x3D;&#123;Repos&#125;&#x2F;&gt;</span><br><span class="line">  &lt;Route path&#x3D;&quot;&#x2F;about&quot; component&#x3D;&#123;About&#125;&#x2F;&gt;</span><br><span class="line">&lt;&#x2F;Router&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<p>ä¸Šé¢ä»£ç ä¸­ï¼Œç”¨æˆ·è®¿é—®<code>/repos</code>ï¼ˆæ¯”å¦‚<code>http://localhost:8080/#/repos</code>ï¼‰æ—¶ï¼ŒåŠ è½½<code>Repos</code>ç»„ä»¶ï¼›è®¿é—®<code>/about</code>ï¼ˆ<code>http://localhost:8080/#/about</code>ï¼‰æ—¶ï¼ŒåŠ è½½<code>About</code>ç»„ä»¶ã€‚</p>
<h2 id="äºŒã€åµŒå¥—è·¯ç”±"><a href="#äºŒã€åµŒå¥—è·¯ç”±" class="headerlink" title="äºŒã€åµŒå¥—è·¯ç”±"></a>äºŒã€åµŒå¥—è·¯ç”±</h2><p><code>Route</code>ç»„ä»¶è¿˜å¯ä»¥åµŒå¥—ã€‚</p>
<blockquote>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;Router history=&#123;hashHistory&#125;&gt;</span><br><span class="line">  &lt;Route path=<span class="string">"/"</span> component=&#123;App&#125;&gt;</span><br><span class="line">    &lt;Route path=<span class="string">"/repos"</span> component=&#123;Repos&#125;/&gt;</span><br><span class="line">    &lt;Route path=<span class="string">"/about"</span> component=&#123;About&#125;/&gt;</span><br><span class="line">  &lt;<span class="regexp">/Route&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>Router&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<p>ä¸Šé¢ä»£ç ä¸­ï¼Œç”¨æˆ·è®¿é—®<code>/repos</code>æ—¶ï¼Œä¼šå…ˆåŠ è½½<code>App</code>ç»„ä»¶ï¼Œç„¶ååœ¨å®ƒçš„å†…éƒ¨å†åŠ è½½<code>Repos</code>ç»„ä»¶ã€‚</p>
<blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;App&gt;</span><br><span class="line">  &lt;Repos&#x2F;&gt;</span><br><span class="line">&lt;&#x2F;App&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<p><code>App</code>ç»„ä»¶è¦å†™æˆä¸‹é¢çš„æ ·å­ã€‚</p>
<blockquote>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> React.createClass(&#123;</span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">      &#123;this.props.children&#125;</span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</blockquote>
<p>ä¸Šé¢ä»£ç ä¸­ï¼Œ<code>App</code>ç»„ä»¶çš„<code>this.props.children</code>å±æ€§å°±æ˜¯å­ç»„ä»¶ã€‚</p>
<p>å­è·¯ç”±ä¹Ÿå¯ä»¥ä¸å†™åœ¨<code>Router</code>ç»„ä»¶é‡Œé¢ï¼Œå•ç‹¬ä¼ å…¥<code>Router</code>ç»„ä»¶çš„<code>routes</code>å±æ€§ã€‚</p>
<blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let routes &#x3D; &lt;Route path&#x3D;&quot;&#x2F;&quot; component&#x3D;&#123;App&#125;&gt;</span><br><span class="line">  &lt;Route path&#x3D;&quot;&#x2F;repos&quot; component&#x3D;&#123;Repos&#125;&#x2F;&gt;</span><br><span class="line">  &lt;Route path&#x3D;&quot;&#x2F;about&quot; component&#x3D;&#123;About&#125;&#x2F;&gt;</span><br><span class="line">&lt;&#x2F;Route&gt;;</span><br><span class="line"></span><br><span class="line">&lt;Router routes&#x3D;&#123;routes&#125; history&#x3D;&#123;browserHistory&#125;&#x2F;&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<h2 id="ä¸‰ã€-path-å±æ€§"><a href="#ä¸‰ã€-path-å±æ€§" class="headerlink" title="ä¸‰ã€ path å±æ€§"></a>ä¸‰ã€ path å±æ€§</h2><p><code>Route</code>ç»„ä»¶çš„<code>path</code>å±æ€§æŒ‡å®šè·¯ç”±çš„åŒ¹é…è§„åˆ™ã€‚è¿™ä¸ªå±æ€§æ˜¯å¯ä»¥çœç•¥çš„ï¼Œè¿™æ ·çš„è¯ï¼Œä¸ç®¡è·¯å¾„æ˜¯å¦åŒ¹é…ï¼Œæ€»æ˜¯ä¼šåŠ è½½æŒ‡å®šç»„ä»¶ã€‚</p>
<p>è¯·çœ‹ä¸‹é¢çš„ä¾‹å­ã€‚</p>
<blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;Route path&#x3D;&quot;inbox&quot; component&#x3D;&#123;Inbox&#125;&gt;</span><br><span class="line">   &lt;Route path&#x3D;&quot;messages&#x2F;:id&quot; component&#x3D;&#123;Message&#125; &#x2F;&gt;</span><br><span class="line">&lt;&#x2F;Route&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<p>ä¸Šé¢ä»£ç ä¸­ï¼Œå½“ç”¨æˆ·è®¿é—®<code>/inbox/messages/:id</code>æ—¶ï¼Œä¼šåŠ è½½ä¸‹é¢çš„ç»„ä»¶ã€‚</p>
<blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;Inbox&gt;</span><br><span class="line">  &lt;Message&#x2F;&gt;</span><br><span class="line">&lt;&#x2F;Inbox&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<p>å¦‚æœçœç•¥å¤–å±‚<code>Route</code>çš„<code>path</code>å‚æ•°ï¼Œå†™æˆä¸‹é¢çš„æ ·å­ã€‚</p>
<blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;Route component&#x3D;&#123;Inbox&#125;&gt;</span><br><span class="line">  &lt;Route path&#x3D;&quot;inbox&#x2F;messages&#x2F;:id&quot; component&#x3D;&#123;Message&#125; &#x2F;&gt;</span><br><span class="line">&lt;&#x2F;Route&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<p>ç°åœ¨ç”¨æˆ·è®¿é—®<code>/inbox/messages/:id</code>æ—¶ï¼Œç»„ä»¶åŠ è½½è¿˜æ˜¯åŸæ¥çš„æ ·å­ã€‚</p>
<blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;Inbox&gt;</span><br><span class="line">  &lt;Message&#x2F;&gt;</span><br><span class="line">&lt;&#x2F;Inbox&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<h2 id="å››ã€é€šé…ç¬¦"><a href="#å››ã€é€šé…ç¬¦" class="headerlink" title="å››ã€é€šé…ç¬¦"></a>å››ã€é€šé…ç¬¦</h2><p><code>path</code>å±æ€§å¯ä»¥ä½¿ç”¨é€šé…ç¬¦ã€‚</p>
<blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;Route path&#x3D;&quot;&#x2F;hello&#x2F;:name&quot;&gt;</span><br><span class="line">&#x2F;&#x2F; åŒ¹é… &#x2F;hello&#x2F;michael</span><br><span class="line">&#x2F;&#x2F; åŒ¹é… &#x2F;hello&#x2F;ryan</span><br><span class="line"></span><br><span class="line">&lt;Route path&#x3D;&quot;&#x2F;hello(&#x2F;:name)&quot;&gt;</span><br><span class="line">&#x2F;&#x2F; åŒ¹é… &#x2F;hello</span><br><span class="line">&#x2F;&#x2F; åŒ¹é… &#x2F;hello&#x2F;michael</span><br><span class="line">&#x2F;&#x2F; åŒ¹é… &#x2F;hello&#x2F;ryan</span><br><span class="line"></span><br><span class="line">&lt;Route path&#x3D;&quot;&#x2F;files&#x2F;*.*&quot;&gt;</span><br><span class="line">&#x2F;&#x2F; åŒ¹é… &#x2F;files&#x2F;hello.jpg</span><br><span class="line">&#x2F;&#x2F; åŒ¹é… &#x2F;files&#x2F;hello.html</span><br><span class="line"></span><br><span class="line">&lt;Route path&#x3D;&quot;&#x2F;files&#x2F;*&quot;&gt;</span><br><span class="line">&#x2F;&#x2F; åŒ¹é… &#x2F;files&#x2F; </span><br><span class="line">&#x2F;&#x2F; åŒ¹é… &#x2F;files&#x2F;a</span><br><span class="line">&#x2F;&#x2F; åŒ¹é… &#x2F;files&#x2F;a&#x2F;b</span><br><span class="line"></span><br><span class="line">&lt;Route path&#x3D;&quot;&#x2F;**&#x2F;*.jpg&quot;&gt;</span><br><span class="line">&#x2F;&#x2F; åŒ¹é… &#x2F;files&#x2F;hello.jpg</span><br><span class="line">&#x2F;&#x2F; åŒ¹é… &#x2F;files&#x2F;path&#x2F;to&#x2F;file.jpg</span><br></pre></td></tr></table></figure>
</blockquote>
<p>é€šé…ç¬¦çš„è§„åˆ™å¦‚ä¸‹ã€‚</p>
<blockquote>
<p><strong>ï¼ˆ1ï¼‰<code>:paramName</code></strong></p>
<p><code>:paramName</code>åŒ¹é…URLçš„ä¸€ä¸ªéƒ¨åˆ†ï¼Œç›´åˆ°é‡åˆ°ä¸‹ä¸€ä¸ª<code>/</code>ã€<code>?</code>ã€<code>#</code>ä¸ºæ­¢ã€‚è¿™ä¸ªè·¯å¾„å‚æ•°å¯ä»¥é€šè¿‡<code>this.props.params.paramName</code>å–å‡ºã€‚</p>
<p><strong>ï¼ˆ2ï¼‰<code>()</code></strong></p>
<p><code>()</code>è¡¨ç¤ºURLçš„è¿™ä¸ªéƒ¨åˆ†æ˜¯å¯é€‰çš„ã€‚</p>
<p><strong>ï¼ˆ3ï¼‰<code>\*</code></strong></p>
<p><code>*</code>åŒ¹é…ä»»æ„å­—ç¬¦ï¼Œç›´åˆ°æ¨¡å¼é‡Œé¢çš„ä¸‹ä¸€ä¸ªå­—ç¬¦ä¸ºæ­¢ã€‚åŒ¹é…æ–¹å¼æ˜¯éè´ªå©ªæ¨¡å¼ã€‚</p>
<p><strong>ï¼ˆ4ï¼‰ `\</strong>`**</p>
<p><code>**</code> åŒ¹é…ä»»æ„å­—ç¬¦ï¼Œç›´åˆ°ä¸‹ä¸€ä¸ª<code>/</code>ã€<code>?</code>ã€<code>#</code>ä¸ºæ­¢ã€‚åŒ¹é…æ–¹å¼æ˜¯è´ªå©ªæ¨¡å¼ã€‚</p>
</blockquote>
<p><code>path</code>å±æ€§ä¹Ÿå¯ä»¥ä½¿ç”¨ç›¸å¯¹è·¯å¾„ï¼ˆä¸ä»¥<code>/</code>å¼€å¤´ï¼‰ï¼ŒåŒ¹é…æ—¶å°±ä¼šç›¸å¯¹äºçˆ¶ç»„ä»¶çš„è·¯å¾„ï¼Œå¯ä»¥å‚è€ƒä¸Šä¸€èŠ‚çš„ä¾‹å­ã€‚åµŒå¥—è·¯ç”±å¦‚æœæƒ³æ‘†è„±è¿™ä¸ªè§„åˆ™ï¼Œå¯ä»¥ä½¿ç”¨ç»å¯¹è·¯ç”±ã€‚</p>
<p>è·¯ç”±åŒ¹é…è§„åˆ™æ˜¯ä»ä¸Šåˆ°ä¸‹æ‰§è¡Œï¼Œä¸€æ—¦å‘ç°åŒ¹é…ï¼Œå°±ä¸å†å…¶ä½™çš„è§„åˆ™äº†ã€‚</p>
<blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;Route path&#x3D;&quot;&#x2F;comments&quot; ... &#x2F;&gt;</span><br><span class="line">&lt;Route path&#x3D;&quot;&#x2F;comments&quot; ... &#x2F;&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<p>ä¸Šé¢ä»£ç ä¸­ï¼Œè·¯å¾„<code>/comments</code>åŒæ—¶åŒ¹é…ä¸¤ä¸ªè§„åˆ™ï¼Œç¬¬äºŒä¸ªè§„åˆ™ä¸ä¼šç”Ÿæ•ˆã€‚</p>
<p>è®¾ç½®è·¯å¾„å‚æ•°æ—¶ï¼Œéœ€è¦ç‰¹åˆ«å°å¿ƒè¿™ä¸€ç‚¹ã€‚</p>
<blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;Router&gt;</span><br><span class="line">  &lt;Route path&#x3D;&quot;&#x2F;:userName&#x2F;:id&quot; component&#x3D;&#123;UserPage&#125;&#x2F;&gt;</span><br><span class="line">  &lt;Route path&#x3D;&quot;&#x2F;about&#x2F;me&quot; component&#x3D;&#123;About&#125;&#x2F;&gt;</span><br><span class="line">&lt;&#x2F;Router&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<p>ä¸Šé¢ä»£ç ä¸­ï¼Œç”¨æˆ·è®¿é—®<code>/about/me</code>æ—¶ï¼Œä¸ä¼šè§¦å‘ç¬¬äºŒä¸ªè·¯ç”±è§„åˆ™ï¼Œå› ä¸ºå®ƒä¼šåŒ¹é…<code>/:userName/:id</code>è¿™ä¸ªè§„åˆ™ã€‚å› æ­¤ï¼Œå¸¦å‚æ•°çš„è·¯å¾„ä¸€èˆ¬è¦å†™åœ¨è·¯ç”±è§„åˆ™çš„åº•éƒ¨ã€‚</p>
<p>æ­¤å¤–ï¼ŒURLçš„æŸ¥è¯¢å­—ç¬¦ä¸²<code>/foo?bar=baz</code>ï¼Œå¯ä»¥ç”¨<code>this.props.location.query.bar</code>è·å–ã€‚</p>
<h2 id="äº”ã€IndexRoute-ç»„ä»¶"><a href="#äº”ã€IndexRoute-ç»„ä»¶" class="headerlink" title="äº”ã€IndexRoute ç»„ä»¶"></a>äº”ã€IndexRoute ç»„ä»¶</h2><p>ä¸‹é¢çš„ä¾‹å­ï¼Œä½ ä¼šä¸ä¼šè§‰å¾—æœ‰ä¸€ç‚¹é—®é¢˜ï¼Ÿ</p>
<blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;Router&gt;</span><br><span class="line">  &lt;Route path&#x3D;&quot;&#x2F;&quot; component&#x3D;&#123;App&#125;&gt;</span><br><span class="line">    &lt;Route path&#x3D;&quot;accounts&quot; component&#x3D;&#123;Accounts&#125;&#x2F;&gt;</span><br><span class="line">    &lt;Route path&#x3D;&quot;statements&quot; component&#x3D;&#123;Statements&#125;&#x2F;&gt;</span><br><span class="line">  &lt;&#x2F;Route&gt;</span><br><span class="line">&lt;&#x2F;Router&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<p>ä¸Šé¢ä»£ç ä¸­ï¼Œè®¿é—®æ ¹è·¯å¾„<code>/</code>ï¼Œä¸ä¼šåŠ è½½ä»»ä½•å­ç»„ä»¶ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œ<code>App</code>ç»„ä»¶çš„<code>this.props.children</code>ï¼Œè¿™æ—¶æ˜¯<code>undefined</code>ã€‚</p>
<p>å› æ­¤ï¼Œé€šå¸¸ä¼šé‡‡ç”¨<code>{this.props.children || &lt;Home/&gt;}</code>è¿™æ ·çš„å†™æ³•ã€‚è¿™æ—¶ï¼Œ<code>Home</code>æ˜æ˜æ˜¯<code>Accounts</code>å’Œ<code>Statements</code>çš„åŒçº§ç»„ä»¶ï¼Œå´æ²¡æœ‰å†™åœ¨<code>Route</code>ä¸­ã€‚</p>
<p><code>IndexRoute</code>å°±æ˜¯è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæ˜¾å¼æŒ‡å®š<code>Home</code>æ˜¯æ ¹è·¯ç”±çš„å­ç»„ä»¶ï¼Œå³æŒ‡å®šé»˜è®¤æƒ…å†µä¸‹åŠ è½½çš„å­ç»„ä»¶ã€‚ä½ å¯ä»¥æŠŠ<code>IndexRoute</code>æƒ³è±¡æˆæŸä¸ªè·¯å¾„çš„<code>index.html</code>ã€‚</p>
<blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;Router&gt;</span><br><span class="line">  &lt;Route path&#x3D;&quot;&#x2F;&quot; component&#x3D;&#123;App&#125;&gt;</span><br><span class="line">    &lt;IndexRoute component&#x3D;&#123;Home&#125;&#x2F;&gt;</span><br><span class="line">    &lt;Route path&#x3D;&quot;accounts&quot; component&#x3D;&#123;Accounts&#125;&#x2F;&gt;</span><br><span class="line">    &lt;Route path&#x3D;&quot;statements&quot; component&#x3D;&#123;Statements&#125;&#x2F;&gt;</span><br><span class="line">  &lt;&#x2F;Route&gt;</span><br><span class="line">&lt;&#x2F;Router&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<p>ç°åœ¨ï¼Œç”¨æˆ·è®¿é—®<code>/</code>çš„æ—¶å€™ï¼ŒåŠ è½½çš„ç»„ä»¶ç»“æ„å¦‚ä¸‹ã€‚</p>
<blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;App&gt;</span><br><span class="line">  &lt;Home&#x2F;&gt;</span><br><span class="line">&lt;&#x2F;App&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<p>è¿™ç§ç»„ä»¶ç»“æ„å°±å¾ˆæ¸…æ™°äº†ï¼š<code>App</code>åªåŒ…å«ä¸‹çº§ç»„ä»¶çš„å…±æœ‰å…ƒç´ ï¼Œæœ¬èº«çš„å±•ç¤ºå†…å®¹åˆ™ç”±<code>Home</code>ç»„ä»¶å®šä¹‰ã€‚è¿™æ ·æœ‰åˆ©äºä»£ç åˆ†ç¦»ï¼Œä¹Ÿæœ‰åˆ©äºä½¿ç”¨React Routeræä¾›çš„å„ç§APIã€‚</p>
<p>æ³¨æ„ï¼Œ<code>IndexRoute</code>ç»„ä»¶æ²¡æœ‰è·¯å¾„å‚æ•°<code>path</code>ã€‚</p>
<h2 id="å…­ã€Redirect-ç»„ä»¶"><a href="#å…­ã€Redirect-ç»„ä»¶" class="headerlink" title="å…­ã€Redirect ç»„ä»¶"></a>å…­ã€Redirect ç»„ä»¶</h2><p><code>&lt;Redirect&gt;</code>ç»„ä»¶ç”¨äºè·¯ç”±çš„è·³è½¬ï¼Œå³ç”¨æˆ·è®¿é—®ä¸€ä¸ªè·¯ç”±ï¼Œä¼šè‡ªåŠ¨è·³è½¬åˆ°å¦ä¸€ä¸ªè·¯ç”±ã€‚</p>
<blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;Route path&#x3D;&quot;inbox&quot; component&#x3D;&#123;Inbox&#125;&gt;</span><br><span class="line">  &#123;&#x2F;* ä» &#x2F;inbox&#x2F;messages&#x2F;:id è·³è½¬åˆ° &#x2F;messages&#x2F;:id *&#x2F;&#125;</span><br><span class="line">  ï¼œRedirect from&#x3D;&quot;messages&#x2F;:id&quot; to&#x3D;&quot;&#x2F;messages&#x2F;:id&quot; &#x2F;&gt;</span><br><span class="line">&lt;&#x2F;Route&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<p>ç°åœ¨è®¿é—®<code>/inbox/messages/5</code>ï¼Œä¼šè‡ªåŠ¨è·³è½¬åˆ°<code>/messages/5</code>ã€‚</p>
<h2 id="ä¸ƒã€IndexRedirect-ç»„ä»¶"><a href="#ä¸ƒã€IndexRedirect-ç»„ä»¶" class="headerlink" title="ä¸ƒã€IndexRedirect ç»„ä»¶"></a>ä¸ƒã€IndexRedirect ç»„ä»¶</h2><p><code>IndexRedirect</code>ç»„ä»¶ç”¨äºè®¿é—®æ ¹è·¯ç”±çš„æ—¶å€™ï¼Œå°†ç”¨æˆ·é‡å®šå‘åˆ°æŸä¸ªå­ç»„ä»¶ã€‚</p>
<blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;Route path&#x3D;&quot;&#x2F;&quot; component&#x3D;&#123;App&#125;&gt;</span><br><span class="line">  ï¼œIndexRedirect to&#x3D;&quot;&#x2F;welcome&quot; &#x2F;&gt;</span><br><span class="line">  &lt;Route path&#x3D;&quot;welcome&quot; component&#x3D;&#123;Welcome&#125; &#x2F;&gt;</span><br><span class="line">  &lt;Route path&#x3D;&quot;about&quot; component&#x3D;&#123;About&#125; &#x2F;&gt;</span><br><span class="line">&lt;&#x2F;Route&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<p>ä¸Šé¢ä»£ç ä¸­ï¼Œç”¨æˆ·è®¿é—®æ ¹è·¯å¾„æ—¶ï¼Œå°†è‡ªåŠ¨é‡å®šå‘åˆ°å­ç»„ä»¶<code>welcome</code>ã€‚</p>
<h2 id="å…«ã€Link"><a href="#å…«ã€Link" class="headerlink" title="å…«ã€Link"></a>å…«ã€Link</h2><p><code>Link</code>ç»„ä»¶ç”¨äºå–ä»£<code>&lt;a&gt;</code>å…ƒç´ ï¼Œç”Ÿæˆä¸€ä¸ªé“¾æ¥ï¼Œå…è®¸ç”¨æˆ·ç‚¹å‡»åè·³è½¬åˆ°å¦ä¸€ä¸ªè·¯ç”±ã€‚å®ƒåŸºæœ¬ä¸Šå°±æ˜¯<code>&lt;a&gt;</code>å…ƒç´ çš„React ç‰ˆæœ¬ï¼Œå¯ä»¥æ¥æ”¶<code>Router</code>çš„çŠ¶æ€ã€‚</p>
<blockquote>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">render() &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line">    &lt;ul role="nav"&gt;</span><br><span class="line">      &lt;li&gt;&lt;Link to="/about"&gt;About&lt;/Link&gt;&lt;/li&gt;</span><br><span class="line">      &lt;li&gt;&lt;Link to="/repos"&gt;Repos&lt;/Link&gt;&lt;/li&gt;</span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</blockquote>
<p>å¦‚æœå¸Œæœ›å½“å‰çš„è·¯ç”±ä¸å…¶ä»–è·¯ç”±æœ‰ä¸åŒæ ·å¼ï¼Œè¿™æ—¶å¯ä»¥ä½¿ç”¨<code>Link</code>ç»„ä»¶çš„<code>activeStyle</code>å±æ€§ã€‚</p>
<blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;Link to&#x3D;&quot;&#x2F;about&quot; activeStyle&#x3D;&#123;&#123;color: &#39;red&#39;&#125;&#125;&gt;About&lt;&#x2F;Link&gt;</span><br><span class="line">&lt;Link to&#x3D;&quot;&#x2F;repos&quot; activeStyle&#x3D;&#123;&#123;color: &#39;red&#39;&#125;&#125;&gt;Repos&lt;&#x2F;Link&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<p>ä¸Šé¢ä»£ç ä¸­ï¼Œå½“å‰é¡µé¢çš„é“¾æ¥ä¼šçº¢è‰²æ˜¾ç¤ºã€‚</p>
<p>å¦ä¸€ç§åšæ³•æ˜¯ï¼Œä½¿ç”¨<code>activeClassName</code>æŒ‡å®šå½“å‰è·¯ç”±çš„<code>Class</code>ã€‚</p>
<blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;Link to&#x3D;&quot;&#x2F;about&quot; activeClassName&#x3D;&quot;active&quot;&gt;About&lt;&#x2F;Link&gt;</span><br><span class="line">&lt;Link to&#x3D;&quot;&#x2F;repos&quot; activeClassName&#x3D;&quot;active&quot;&gt;Repos&lt;&#x2F;Link&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<p>ä¸Šé¢ä»£ç ä¸­ï¼Œå½“å‰é¡µé¢çš„é“¾æ¥çš„<code>class</code>ä¼šåŒ…å«<code>active</code>ã€‚</p>
<p>åœ¨<code>Router</code>ç»„ä»¶ä¹‹å¤–ï¼Œå¯¼èˆªåˆ°è·¯ç”±é¡µé¢ï¼Œå¯ä»¥ä½¿ç”¨æµè§ˆå™¨çš„History APIï¼Œåƒä¸‹é¢è¿™æ ·å†™ã€‚</p>
<blockquote>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; browserHistory &#125; <span class="keyword">from</span> <span class="string">'react-router'</span>;</span><br><span class="line">browserHistory.push(<span class="string">'/some/path'</span>);</span><br></pre></td></tr></table></figure>
</blockquote>
<h2 id="ä¹ã€IndexLink"><a href="#ä¹ã€IndexLink" class="headerlink" title="ä¹ã€IndexLink"></a>ä¹ã€IndexLink</h2><p>å¦‚æœé“¾æ¥åˆ°æ ¹è·¯ç”±<code>/</code>ï¼Œä¸è¦ä½¿ç”¨<code>Link</code>ç»„ä»¶ï¼Œè€Œè¦ä½¿ç”¨<code>IndexLink</code>ç»„ä»¶ã€‚</p>
<p>è¿™æ˜¯å› ä¸ºå¯¹äºæ ¹è·¯ç”±æ¥è¯´ï¼Œ<code>activeStyle</code>å’Œ<code>activeClassName</code>ä¼šå¤±æ•ˆï¼Œæˆ–è€…è¯´æ€»æ˜¯ç”Ÿæ•ˆï¼Œå› ä¸º<code>/</code>ä¼šåŒ¹é…ä»»ä½•å­è·¯ç”±ã€‚è€Œ<code>IndexLink</code>ç»„ä»¶ä¼šä½¿ç”¨è·¯å¾„çš„ç²¾ç¡®åŒ¹é…ã€‚</p>
<blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;IndexLink to&#x3D;&quot;&#x2F;&quot; activeClassName&#x3D;&quot;active&quot;&gt;</span><br><span class="line">  Home</span><br><span class="line">&lt;&#x2F;IndexLink&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<p>ä¸Šé¢ä»£ç ä¸­ï¼Œæ ¹è·¯ç”±åªä¼šåœ¨ç²¾ç¡®åŒ¹é…æ—¶ï¼Œæ‰å…·æœ‰<code>activeClassName</code>ã€‚</p>
<p>å¦ä¸€ç§æ–¹æ³•æ˜¯ä½¿ç”¨<code>Link</code>ç»„ä»¶çš„<code>onlyActiveOnIndex</code>å±æ€§ï¼Œä¹Ÿèƒ½è¾¾åˆ°åŒæ ·æ•ˆæœã€‚</p>
<blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;Link to&#x3D;&quot;&#x2F;&quot; activeClassName&#x3D;&quot;active&quot; onlyActiveOnIndex&#x3D;&#123;true&#125;&gt;</span><br><span class="line">  Home</span><br><span class="line">&lt;&#x2F;Link&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<p>å®é™…ä¸Šï¼Œ<code>IndexLink</code>å°±æ˜¯å¯¹<code>Link</code>ç»„ä»¶çš„<code>onlyActiveOnIndex</code>å±æ€§çš„åŒ…è£…ã€‚</p>
<h2 id="åã€histroy-å±æ€§"><a href="#åã€histroy-å±æ€§" class="headerlink" title="åã€histroy å±æ€§"></a>åã€histroy å±æ€§</h2><p><code>Router</code>ç»„ä»¶çš„<code>history</code>å±æ€§ï¼Œç”¨æ¥ç›‘å¬æµè§ˆå™¨åœ°å€æ çš„å˜åŒ–ï¼Œå¹¶å°†URLè§£ææˆä¸€ä¸ªåœ°å€å¯¹è±¡ï¼Œä¾› React Router åŒ¹é…ã€‚</p>
<p><code>history</code>å±æ€§ï¼Œä¸€å…±å¯ä»¥è®¾ç½®ä¸‰ç§å€¼ã€‚</p>
<blockquote>
<ul>
<li>browserHistory</li>
<li>hashHistory</li>
<li>createMemoryHistory</li>
</ul>
</blockquote>
<p>å¦‚æœè®¾ä¸º<code>hashHistory</code>ï¼Œè·¯ç”±å°†é€šè¿‡URLçš„hashéƒ¨åˆ†ï¼ˆ<code>#</code>ï¼‰åˆ‡æ¢ï¼ŒURLçš„å½¢å¼ç±»ä¼¼<code>example.com/#/some/path</code>ã€‚</p>
<blockquote>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; hashHistory &#125; <span class="keyword">from</span> <span class="string">'react-router'</span></span><br><span class="line"></span><br><span class="line">render(</span><br><span class="line">  &lt;Router history=&#123;hashHistory&#125; routes=&#123;routes&#125; /&gt;,</span><br><span class="line">  <span class="built_in">document</span>.getElementById(<span class="string">'app'</span>)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
</blockquote>
<p>å¦‚æœè®¾ä¸º<code>browserHistory</code>ï¼Œæµè§ˆå™¨çš„è·¯ç”±å°±ä¸å†é€šè¿‡<code>Hash</code>å®Œæˆäº†ï¼Œè€Œæ˜¾ç¤ºæ­£å¸¸çš„è·¯å¾„<code>example.com/some/path</code>ï¼ŒèƒŒåè°ƒç”¨çš„æ˜¯æµè§ˆå™¨çš„History APIã€‚</p>
<blockquote>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; browserHistory &#125; <span class="keyword">from</span> <span class="string">'react-router'</span></span><br><span class="line"></span><br><span class="line">render(</span><br><span class="line">  &lt;Router history=&#123;browserHistory&#125; routes=&#123;routes&#125; /&gt;,</span><br><span class="line">  <span class="built_in">document</span>.getElementById(<span class="string">'app'</span>)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
</blockquote>
<p>ä½†æ˜¯ï¼Œè¿™ç§æƒ…å†µéœ€è¦å¯¹<a href="https://github.com/reactjs/react-router/blob/master/docs/guides/Histories.md#configuring-your-server" target="_blank" rel="noopener">æœåŠ¡å™¨æ”¹é€ </a>ã€‚å¦åˆ™ç”¨æˆ·ç›´æ¥å‘æœåŠ¡å™¨è¯·æ±‚æŸä¸ªå­è·¯ç”±ï¼Œä¼šæ˜¾ç¤ºç½‘é¡µæ‰¾ä¸åˆ°çš„404é”™è¯¯ã€‚</p>
<p>å¦‚æœå¼€å‘æœåŠ¡å™¨ä½¿ç”¨çš„æ˜¯<code>webpack-dev-server</code>ï¼ŒåŠ ä¸Š<code>--history-api-fallback</code>å‚æ•°å°±å¯ä»¥äº†ã€‚</p>
<blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ webpack-dev-server --inline --content-base . --<span class="built_in">history</span>-api-fallback</span><br></pre></td></tr></table></figure>
</blockquote>
<p><code>createMemoryHistory</code>ä¸»è¦ç”¨äºæœåŠ¡å™¨æ¸²æŸ“ã€‚å®ƒåˆ›å»ºä¸€ä¸ªå†…å­˜ä¸­çš„<code>history</code>å¯¹è±¡ï¼Œä¸ä¸æµè§ˆå™¨URLäº’åŠ¨ã€‚</p>
<blockquote>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> history = createMemoryHistory(location)</span><br></pre></td></tr></table></figure>
</blockquote>
<h2 id="åä¸€ã€è¡¨å•å¤„ç†"><a href="#åä¸€ã€è¡¨å•å¤„ç†" class="headerlink" title="åä¸€ã€è¡¨å•å¤„ç†"></a>åä¸€ã€è¡¨å•å¤„ç†</h2><p><code>Link</code>ç»„ä»¶ç”¨äºæ­£å¸¸çš„ç”¨æˆ·ç‚¹å‡»è·³è½¬ï¼Œä½†æ˜¯æœ‰æ—¶è¿˜éœ€è¦è¡¨å•è·³è½¬ã€ç‚¹å‡»æŒ‰é’®è·³è½¬ç­‰æ“ä½œã€‚è¿™äº›æƒ…å†µæ€ä¹ˆè·ŸReact Routerå¯¹æ¥å‘¢ï¼Ÿ</p>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªè¡¨å•ã€‚</p>
<blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;form onSubmit&#x3D;&#123;this.handleSubmit&#125;&gt;</span><br><span class="line">  &lt;input type&#x3D;&quot;text&quot; placeholder&#x3D;&quot;userName&quot;&#x2F;&gt;</span><br><span class="line">  &lt;input type&#x3D;&quot;text&quot; placeholder&#x3D;&quot;repo&quot;&#x2F;&gt;</span><br><span class="line">  &lt;button type&#x3D;&quot;submit&quot;&gt;Go&lt;&#x2F;button&gt;</span><br><span class="line">&lt;&#x2F;form&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<p>ç¬¬ä¸€ç§æ–¹æ³•æ˜¯ä½¿ç”¨<code>browserHistory.push</code></p>
<blockquote>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; browserHistory &#125; <span class="keyword">from</span> <span class="string">'react-router'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line">  handleSubmit(event) &#123;</span><br><span class="line">    event.preventDefault()</span><br><span class="line">    <span class="keyword">const</span> userName = event.target.elements[<span class="number">0</span>].value</span><br><span class="line">    <span class="keyword">const</span> repo = event.target.elements[<span class="number">1</span>].value</span><br><span class="line">    <span class="keyword">const</span> path = <span class="string">`/repos/<span class="subst">$&#123;userName&#125;</span>/<span class="subst">$&#123;repo&#125;</span>`</span></span><br><span class="line">    browserHistory.push(path)</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>
</blockquote>
<p>ç¬¬äºŒç§æ–¹æ³•æ˜¯ä½¿ç”¨<code>context</code>å¯¹è±¡ã€‚</p>
<blockquote>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> React.createClass(&#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ask for `router` from context</span></span><br><span class="line">  contextTypes: &#123;</span><br><span class="line">    router: React.PropTypes.object</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  handleSubmit(event) &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    <span class="keyword">this</span>.context.router.push(path)</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</blockquote>
<h2 id="åäºŒã€è·¯ç”±çš„é’©å­"><a href="#åäºŒã€è·¯ç”±çš„é’©å­" class="headerlink" title="åäºŒã€è·¯ç”±çš„é’©å­"></a>åäºŒã€è·¯ç”±çš„é’©å­</h2><p>æ¯ä¸ªè·¯ç”±éƒ½æœ‰<code>Enter</code>å’Œ<code>Leave</code>é’©å­ï¼Œç”¨æˆ·è¿›å…¥æˆ–ç¦»å¼€è¯¥è·¯ç”±æ—¶è§¦å‘ã€‚</p>
<blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;Route path&#x3D;&quot;about&quot; component&#x3D;&#123;About&#125; &#x2F;&gt;</span><br><span class="line">ï¼œRoute path&#x3D;&quot;inbox&quot; component&#x3D;&#123;Inbox&#125;&gt;</span><br><span class="line">  ï¼œRedirect from&#x3D;&quot;messages&#x2F;:id&quot; to&#x3D;&quot;&#x2F;messages&#x2F;:id&quot; &#x2F;&gt;</span><br><span class="line">&lt;&#x2F;Route&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<p>ä¸Šé¢çš„ä»£ç ä¸­ï¼Œå¦‚æœç”¨æˆ·ç¦»å¼€<code>/messages/:id</code>ï¼Œè¿›å…¥<code>/about</code>æ—¶ï¼Œä¼šä¾æ¬¡è§¦å‘ä»¥ä¸‹çš„é’©å­ã€‚</p>
<blockquote>
<ul>
<li><code>/messages/:id</code>çš„<code>onLeave</code></li>
<li><code>/inbox</code>çš„<code>onLeave</code></li>
<li><code>/about</code>çš„<code>onEnter</code></li>
</ul>
</blockquote>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ï¼Œä½¿ç”¨<code>onEnter</code>é’©å­æ›¿ä»£<code>&lt;Redirect&gt;</code>ç»„ä»¶ã€‚</p>
<blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;Route path&#x3D;&quot;inbox&quot; component&#x3D;&#123;Inbox&#125;&gt;</span><br><span class="line">  &lt;Route</span><br><span class="line">    path&#x3D;&quot;messages&#x2F;:id&quot;</span><br><span class="line">    onEnter&#x3D;&#123;</span><br><span class="line">      (&#123;params&#125;, replace) &#x3D;&gt; replace(&#96;&#x2F;messages&#x2F;$&#123;params.id&#125;&#96;)</span><br><span class="line">    &#125; </span><br><span class="line">  &#x2F;&gt;</span><br><span class="line">&lt;&#x2F;Route&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<p><code>onEnter</code>é’©å­è¿˜å¯ä»¥ç”¨æ¥åšè®¤è¯ã€‚</p>
<blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const requireAuth &#x3D; (nextState, replace) &#x3D;&gt; &#123;</span><br><span class="line">    if (!auth.isAdmin()) &#123;</span><br><span class="line">        &#x2F;&#x2F; Redirect to Home page if not an Admin</span><br><span class="line">        replace(&#123; pathname: &#39;&#x2F;&#39; &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">export const AdminRoutes &#x3D; () &#x3D;&gt; &#123;</span><br><span class="line">  return (</span><br><span class="line">     &lt;Route path&#x3D;&quot;&#x2F;admin&quot; component&#x3D;&#123;Admin&#125; onEnter&#x3D;&#123;requireAuth&#125; &#x2F;&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</blockquote>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªé«˜çº§åº”ç”¨ï¼Œå½“ç”¨æˆ·ç¦»å¼€ä¸€ä¸ªè·¯å¾„çš„æ—¶å€™ï¼Œè·³å‡ºä¸€ä¸ªæç¤ºæ¡†ï¼Œè¦æ±‚ç”¨æˆ·ç¡®è®¤æ˜¯å¦ç¦»å¼€ã€‚</p>
<blockquote>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> Home = withRouter(</span><br><span class="line">  React.createClass(&#123;</span><br><span class="line">    componentDidMount() &#123;</span><br><span class="line">      <span class="keyword">this</span>.props.router.setRouteLeaveHook(</span><br><span class="line">        <span class="keyword">this</span>.props.route, </span><br><span class="line">        <span class="keyword">this</span>.routerWillLeave</span><br><span class="line">      )</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    routerWillLeave(nextLocation) &#123;</span><br><span class="line">      <span class="comment">// è¿”å› false ä¼šç»§ç»­åœç•™å½“å‰é¡µé¢ï¼Œ</span></span><br><span class="line">      <span class="comment">// å¦åˆ™ï¼Œè¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œä¼šæ˜¾ç¤ºç»™ç”¨æˆ·ï¼Œè®©å…¶è‡ªå·±å†³å®š</span></span><br><span class="line">      <span class="keyword">if</span> (!<span class="keyword">this</span>.state.isSaved)</span><br><span class="line">        <span class="keyword">return</span> <span class="string">'ç¡®è®¤è¦ç¦»å¼€ï¼Ÿ'</span>;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
</blockquote>
<p>ä¸Šé¢ä»£ç ä¸­ï¼Œ<code>setRouteLeaveHook</code>æ–¹æ³•ä¸º<code>Leave</code>é’©å­æŒ‡å®š<code>routerWillLeave</code>å‡½æ•°ã€‚è¯¥æ–¹æ³•å¦‚æœè¿”å›<code>false</code>ï¼Œå°†é˜»æ­¢è·¯ç”±çš„åˆ‡æ¢ï¼Œå¦åˆ™å°±è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œæç¤ºç”¨æˆ·å†³å®šæ˜¯å¦è¦åˆ‡æ¢ã€‚</p>
]]></content>
      <categories>
        <category>react</category>
      </categories>
      <tags>
        <tag>react</tag>
        <tag>router</tag>
      </tags>
  </entry>
  <entry>
    <title>reactä¹‹äº•å­—æ£‹</title>
    <url>/2020/09/25/react%E4%B9%8B%E4%BA%95%E5%AD%97%E6%A3%8B/</url>
    <content><![CDATA[<p>è§ä¸‹æ–‡</p>
<a id="more"></a>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function Square(props) &#123;</span><br><span class="line">  return (</span><br><span class="line">    &lt;button className&#x3D;&quot;square&quot; onClick&#x3D;&#123;props.onClick&#125;&gt;</span><br><span class="line">      &#123;props.value&#125;</span><br><span class="line">    &lt;&#x2F;button&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class Board extends React.Component &#123;</span><br><span class="line">  renderSquare(i) &#123;</span><br><span class="line">    return (</span><br><span class="line">      &lt;Square</span><br><span class="line">        value&#x3D;&#123;this.props.squares[i]&#125;</span><br><span class="line">        onClick&#x3D;&#123;() &#x3D;&gt; this.props.onClick(i)&#125;</span><br><span class="line">      &#x2F;&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    return (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;div className&#x3D;&quot;board-row&quot;&gt;</span><br><span class="line">          &#123;this.renderSquare(0)&#125;</span><br><span class="line">          &#123;this.renderSquare(1)&#125;</span><br><span class="line">          &#123;this.renderSquare(2)&#125;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">        &lt;div className&#x3D;&quot;board-row&quot;&gt;</span><br><span class="line">          &#123;this.renderSquare(3)&#125;</span><br><span class="line">          &#123;this.renderSquare(4)&#125;</span><br><span class="line">          &#123;this.renderSquare(5)&#125;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">        &lt;div className&#x3D;&quot;board-row&quot;&gt;</span><br><span class="line">          &#123;this.renderSquare(6)&#125;</span><br><span class="line">          &#123;this.renderSquare(7)&#125;</span><br><span class="line">          &#123;this.renderSquare(8)&#125;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class Game extends React.Component &#123;</span><br><span class="line">  constructor(props) &#123;</span><br><span class="line">    super(props);</span><br><span class="line">    this.state &#x3D; &#123;</span><br><span class="line">      history: [</span><br><span class="line">        &#123;</span><br><span class="line">          squares: Array(9).fill(null)</span><br><span class="line">        &#125;</span><br><span class="line">      ],</span><br><span class="line">      stepNumber: 0,</span><br><span class="line">      xIsNext: true</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  handleClick(i) &#123;</span><br><span class="line">    const history &#x3D; this.state.history.slice(0, this.state.stepNumber + 1);</span><br><span class="line">    const current &#x3D; history[history.length - 1];</span><br><span class="line">    const squares &#x3D; current.squares.slice();</span><br><span class="line">    if (calculateWinner(squares) || squares[i]) &#123;</span><br><span class="line">      return;</span><br><span class="line">    &#125;</span><br><span class="line">    squares[i] &#x3D; this.state.xIsNext ? &quot;X&quot; : &quot;O&quot;;</span><br><span class="line">    this.setState(&#123;</span><br><span class="line">      history: history.concat([</span><br><span class="line">        &#123;</span><br><span class="line">          squares: squares</span><br><span class="line">        &#125;</span><br><span class="line">      ]),</span><br><span class="line">      stepNumber: history.length,</span><br><span class="line">      xIsNext: !this.state.xIsNext</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  jumpTo(step) &#123;</span><br><span class="line">    this.setState(&#123;</span><br><span class="line">      stepNumber: step,</span><br><span class="line">      xIsNext: (step % 2) &#x3D;&#x3D;&#x3D; 0</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    const history &#x3D; this.state.history;</span><br><span class="line">    const current &#x3D; history[this.state.stepNumber];</span><br><span class="line">    const winner &#x3D; calculateWinner(current.squares);</span><br><span class="line"></span><br><span class="line">    const moves &#x3D; history.map((step, move) &#x3D;&gt; &#123;</span><br><span class="line">      const desc &#x3D; move ?</span><br><span class="line">        &#39;Go to move #&#39; + move :</span><br><span class="line">        &#39;Go to game start&#39;;</span><br><span class="line">      return (</span><br><span class="line">        &lt;li key&#x3D;&#123;move&#125;&gt;</span><br><span class="line">          &lt;button onClick&#x3D;&#123;() &#x3D;&gt; this.jumpTo(move)&#125;&gt;&#123;desc&#125;&lt;&#x2F;button&gt;</span><br><span class="line">        &lt;&#x2F;li&gt;</span><br><span class="line">      );</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    let status;</span><br><span class="line">    if (winner) &#123;</span><br><span class="line">      status &#x3D; &quot;Winner: &quot; + winner;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">      status &#x3D; &quot;Next player: &quot; + (this.state.xIsNext ? &quot;X&quot; : &quot;O&quot;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    return (</span><br><span class="line">      &lt;div className&#x3D;&quot;game&quot;&gt;</span><br><span class="line">        &lt;div className&#x3D;&quot;game-board&quot;&gt;</span><br><span class="line">          &lt;Board</span><br><span class="line">            squares&#x3D;&#123;current.squares&#125;</span><br><span class="line">            onClick&#x3D;&#123;i &#x3D;&gt; this.handleClick(i)&#125;</span><br><span class="line">          &#x2F;&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">        &lt;div className&#x3D;&quot;game-info&quot;&gt;</span><br><span class="line">          &lt;div&gt;&#123;status&#125;&lt;&#x2F;div&gt;</span><br><span class="line">          &lt;ol&gt;&#123;moves&#125;&lt;&#x2F;ol&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;</span><br><span class="line"></span><br><span class="line">ReactDOM.render(&lt;Game &#x2F;&gt;, document.getElementById(&quot;root&quot;));</span><br><span class="line"></span><br><span class="line">function calculateWinner(squares) &#123;</span><br><span class="line">  const lines &#x3D; [</span><br><span class="line">    [0, 1, 2],</span><br><span class="line">    [3, 4, 5],</span><br><span class="line">    [6, 7, 8],</span><br><span class="line">    [0, 3, 6],</span><br><span class="line">    [1, 4, 7],</span><br><span class="line">    [2, 5, 8],</span><br><span class="line">    [0, 4, 8],</span><br><span class="line">    [2, 4, 6]</span><br><span class="line">  ];</span><br><span class="line">  for (let i &#x3D; 0; i &lt; lines.length; i++) &#123;</span><br><span class="line">    const [a, b, c] &#x3D; lines[i];</span><br><span class="line">    if (squares[a] &amp;&amp; squares[a] &#x3D;&#x3D;&#x3D; squares[b] &amp;&amp; squares[a] &#x3D;&#x3D;&#x3D; squares[c]) &#123;</span><br><span class="line">      return squares[a];</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  return null;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>react</category>
      </categories>
      <tags>
        <tag>react</tag>
        <tag>äº•å­—æ£‹</tag>
      </tags>
  </entry>
  <entry>
    <title>reactä¹‹è„šæ‰‹æ¶æ­å»ºé¡¹ç›®</title>
    <url>/2021/02/20/react%E4%B9%8B%E8%84%9A%E6%89%8B%E6%9E%B6%E6%90%AD%E5%BB%BA%E9%A1%B9%E7%9B%AE/</url>
    <content><![CDATA[<h1 id="ä¸€-è®¤è¯†è„šæ‰‹æ¶"><a href="#ä¸€-è®¤è¯†è„šæ‰‹æ¶" class="headerlink" title="ä¸€. è®¤è¯†è„šæ‰‹æ¶"></a>ä¸€. è®¤è¯†è„šæ‰‹æ¶</h1><h2 id="1-1-å‰ç«¯å·¥ç¨‹çš„å¤æ‚åŒ–"><a href="#1-1-å‰ç«¯å·¥ç¨‹çš„å¤æ‚åŒ–" class="headerlink" title="1.1. å‰ç«¯å·¥ç¨‹çš„å¤æ‚åŒ–"></a>1.1. å‰ç«¯å·¥ç¨‹çš„å¤æ‚åŒ–</h2><p>å¦‚æœæˆ‘ä»¬åªæ˜¯å¼€å‘å‡ ä¸ªå°çš„demoç¨‹åºï¼Œé‚£ä¹ˆæ°¸è¿œä¸éœ€è¦è€ƒè™‘ä¸€äº›å¤æ‚çš„é—®é¢˜ï¼š</p>
<ul>
<li>æ¯”å¦‚ç›®å½•ç»“æ„å¦‚ä½•ç»„ç»‡åˆ’åˆ†ï¼›</li>
<li>æ¯”å¦‚å¦‚ä½•ç®¡ç†æ–‡ä»¶ä¹‹é—´çš„ç›¸äº’ä¾èµ–ï¼›</li>
<li>æ¯”å¦‚å¦‚ä½•ç®¡ç†ç¬¬ä¸‰æ–¹æ¨¡å—çš„ä¾èµ–ï¼›</li>
<li>æ¯”å¦‚é¡¹ç›®å‘å¸ƒå‰å¦‚ä½•å‹ç¼©ã€æ‰“åŒ…é¡¹ç›®ï¼›</li>
<li>ç­‰ç­‰â€¦</li>
</ul>
<a id="more"></a>

<p>ç°ä»£çš„å‰ç«¯é¡¹ç›®å·²ç»è¶Šæ¥è¶Šå¤æ‚äº†ï¼š</p>
<ul>
<li>ä¸ä¼šå†æ˜¯åœ¨HTMLä¸­å¼•å…¥å‡ ä¸ªcssæ–‡ä»¶ï¼Œå¼•å…¥å‡ ä¸ªç¼–å†™çš„jsæ–‡ä»¶æˆ–è€…ç¬¬ä¸‰æ–¹çš„jsæ–‡ä»¶è¿™ä¹ˆç®€å•ï¼›</li>
<li>æ¯”å¦‚csså¯èƒ½æ˜¯ä½¿ç”¨lessã€sassç­‰é¢„å¤„ç†å™¨è¿›è¡Œç¼–å†™ï¼Œæˆ‘ä»¬éœ€è¦å°†å®ƒä»¬è½¬æˆæ™®é€šçš„cssæ‰èƒ½è¢«æµè§ˆå™¨è§£æï¼›</li>
<li>æ¯”å¦‚JavaScriptä»£ç ä¸å†åªæ˜¯ç¼–å†™åœ¨å‡ ä¸ªæ–‡ä»¶ä¸­ï¼Œè€Œæ˜¯é€šè¿‡æ¨¡å—åŒ–çš„æ–¹å¼ï¼Œè¢«ç»„æˆåœ¨<strong>æˆç™¾ä¸Šåƒ</strong>ä¸ªæ–‡ä»¶ä¸­ï¼Œæˆ‘ä»¬éœ€è¦é€šè¿‡æ¨¡å—åŒ–çš„æŠ€æœ¯æ¥ç®¡ç†å®ƒä»¬ä¹‹é—´çš„ç›¸äº’ä¾èµ–ï¼›</li>
<li>æ¯”å¦‚é¡¹ç›®éœ€è¦ä¾èµ–å¾ˆå¤šçš„ç¬¬ä¸‰æ–¹åº“ï¼Œå¦‚ä½•æ›´å¥½çš„ç®¡ç†å®ƒä»¬ï¼ˆæ¯”å¦‚ç®¡ç†å®ƒä»¬çš„ä¾èµ–ã€ç‰ˆæœ¬å‡çº§ç­‰ï¼‰ï¼›</li>
</ul>
<p>ä¸ºäº†è§£å†³ä¸Šé¢è¿™äº›é—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦å†å»å­¦ä¹ ä¸€äº›å·¥å…·ï¼š</p>
<ul>
<li>æ¯”å¦‚babelã€webpackã€gulpã€‚é…ç½®å®ƒä»¬è½¬æ¢è§„åˆ™ã€æ‰“åŒ…ä¾èµ–ã€çƒ­æ›´æ–°ç­‰ç­‰ä¸€äº›çš„å†…å®¹ï¼›</li>
<li>ä½ ä¼šå‘ç°ï¼Œä½ è¿˜æ²¡æœ‰å¼€å§‹åšé¡¹ç›®ï¼Œä½ å°±é¢ä¸´ä¸€ç³»åˆ—çš„å·¥ç¨‹åŒ–é—®é¢˜ï¼›</li>
</ul>
<p><strong>è„šæ‰‹æ¶çš„å‡ºç°ï¼Œå°±æ˜¯å¸®åŠ©æˆ‘ä»¬è§£å†³è¿™ä¸€ç³»åˆ—é—®é¢˜çš„ï¼›</strong></p>
<h2 id="1-2-è„šæ‰‹æ¶æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ"><a href="#1-2-è„šæ‰‹æ¶æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ" class="headerlink" title="1.2. è„šæ‰‹æ¶æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ"></a>1.2. è„šæ‰‹æ¶æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ</h2><p>è„šæ‰‹æ¶</p>
<p>ç¼–ç¨‹ä¸­æåˆ°çš„è„šæ‰‹æ¶ï¼ˆScaffoldï¼‰ï¼Œå…¶å®æ˜¯ä¸€ç§å·¥å…·ï¼Œå¸®æˆ‘ä»¬å¯ä»¥å¿«é€Ÿç”Ÿæˆé¡¹ç›®çš„å·¥ç¨‹åŒ–ç»“æ„ï¼›</p>
<ul>
<li>æ¯ä¸ªé¡¹ç›®ä½œå‡ºå®Œæˆçš„æ•ˆæœä¸åŒï¼Œä½†æ˜¯å®ƒä»¬çš„åŸºæœ¬å·¥ç¨‹åŒ–ç»“æ„æ˜¯ç›¸ä¼¼çš„ï¼›</li>
<li>æ—¢ç„¶ç›¸ä¼¼ï¼Œå°±æ²¡æœ‰å¿…è¦æ¯æ¬¡éƒ½ä»é›¶å¼€å§‹æ­å»ºï¼Œå®Œå…¨å¯ä»¥ä½¿ç”¨ä¸€äº›å·¥å…·ï¼Œå¸®åŠ©æˆ‘ä»¬ç”Ÿäº§åŸºæœ¬çš„å·¥ç¨‹åŒ–æ¨¡æ¿ï¼›</li>
<li>ä¸åŒçš„é¡¹ç›®ï¼Œåœ¨è¿™ä¸ªæ¨¡æ¿çš„åŸºç¡€ä¹‹ä¸Šè¿›è¡Œé¡¹ç›®å¼€å‘æˆ–è€…è¿›è¡Œä¸€äº›é…ç½®çš„ç®€å•ä¿®æ”¹å³å¯ï¼›</li>
<li>è¿™æ ·ä¹Ÿå¯ä»¥é—´æ¥ä¿è¯é¡¹ç›®çš„åŸºæœ¬ç»“æ„ä¸€è‡´æ€§ï¼Œæ–¹ä¾¿åæœŸçš„ç»´æŠ¤ï¼›</li>
</ul>
<p>æ€»ç»“ï¼š<strong>è„šæ‰‹æ¶è®©é¡¹ç›®ä»æ­å»ºåˆ°å¼€å‘ï¼Œå†åˆ°éƒ¨ç½²ï¼Œæ•´ä¸ªæµç¨‹å˜å¾—å¿«é€Ÿå’Œä¾¿æ·ï¼›</strong></p>
<p>å¯¹äºç°åœ¨æ¯”è¾ƒæµè¡Œçš„ä¸‰å¤§æ¡†æ¶éƒ½æœ‰å±äºè‡ªå·±çš„è„šæ‰‹æ¶ï¼š</p>
<ul>
<li>Vueçš„è„šæ‰‹æ¶ï¼švue-cli</li>
<li>Angularçš„è„šæ‰‹æ¶ï¼šangular-cli</li>
<li>Reactçš„è„šæ‰‹æ¶ï¼šcreate-react-app</li>
</ul>
<p>å®ƒä»¬çš„ä½œç”¨éƒ½æ˜¯å¸®åŠ©æˆ‘ä»¬ç”Ÿæˆä¸€ä¸ªé€šç”¨çš„ç›®å½•ç»“æ„ï¼Œå¹¶ä¸”å·²ç»å°†æˆ‘ä»¬æ‰€éœ€çš„å·¥ç¨‹ç¯å¢ƒé…ç½®å¥½ã€‚</p>
<p>ä½¿ç”¨è¿™äº›è„šæ‰‹æ¶éœ€è¦ä¾èµ–ä»€ä¹ˆå‘¢ï¼Ÿ</p>
<ul>
<li>ç›®å‰è¿™äº›è„šæ‰‹æ¶éƒ½æ˜¯ä½¿ç”¨nodeç¼–å†™çš„ï¼Œå¹¶ä¸”éƒ½æ˜¯åŸºäºwebpackçš„ï¼›</li>
<li>æ‰€ä»¥æˆ‘ä»¬å¿…é¡»åœ¨è‡ªå·±çš„ç”µè„‘ä¸Šå®‰è£…nodeç¯å¢ƒï¼›</li>
</ul>
<p>è¿™é‡Œæˆ‘ä»¬ä¸»è¦æ˜¯å­¦ä¹ Reactï¼Œæ‰€ä»¥æˆ‘ä»¬è¿˜æ˜¯ä»¥Reactçš„è„šæ‰‹æ¶å·¥å…·ï¼šcreate-react-appä½œä¸ºè®²è§£ï¼›</p>
<h1 id="äºŒ-create-react-app"><a href="#äºŒ-create-react-app" class="headerlink" title="äºŒ. create-react-app"></a>äºŒ. create-react-app</h1><h2 id="2-1-å®‰è£…ç›¸å…³çš„ä¾èµ–"><a href="#2-1-å®‰è£…ç›¸å…³çš„ä¾èµ–" class="headerlink" title="2.1. å®‰è£…ç›¸å…³çš„ä¾èµ–"></a>2.1. å®‰è£…ç›¸å…³çš„ä¾èµ–</h2><h2 id="2-1-1-å®‰è£…node"><a href="#2-1-1-å®‰è£…node" class="headerlink" title="2.1.1. å®‰è£…node"></a>2.1.1. å®‰è£…node</h2><p>Reactè„šæ‰‹æ¶æœ¬èº«éœ€è¦ä¾èµ–nodeï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å®‰è£…nodeç¯å¢ƒï¼š</p>
<ul>
<li>æ— è®ºæ˜¯windowsè¿˜æ˜¯Mac OSï¼Œéƒ½å¯ä»¥é€šè¿‡nodeå®˜ç½‘ç›´æ¥ä¸‹è½½ï¼›</li>
<li>å®˜ç½‘åœ°å€ï¼š<a href="https://link.zhihu.com/?target=https%3A//nodejs.org/en/download/">https://nodejs.org/en/download/</a></li>
<li>æ³¨æ„ï¼šè¿™é‡Œæ¨èå¤§å®¶ä¸‹è½½LTSï¼ˆLong-term support ï¼‰ç‰ˆæœ¬ï¼Œæ˜¯é•¿æœŸæ”¯æŒç‰ˆæœ¬ï¼Œä¼šæ¯”è¾ƒç¨³å®šï¼›</li>
</ul>
<p><img src="https://pic1.zhimg.com/80/v2-833ee448306a0de9b3898f7603add168_720w.jpg" alt="img"></p>
<p>nodejsä¸‹è½½</p>
<p>ä¸‹è½½åï¼ŒåŒå‡»å®‰è£…å³å¯ï¼š</p>
<ul>
<li>1.å®‰è£…è¿‡ç¨‹ä¸­ï¼Œä¼šè‡ªåŠ¨é…ç½®ç¯å¢ƒå˜é‡ï¼›</li>
<li>2.å®‰è£…æ—¶ï¼Œä¼šåŒæ—¶å¸®åŠ©æˆ‘ä»¬å®‰è£…npmç®¡ç†å·¥å…·ï¼›</li>
</ul>
<p><img src="https://pic1.zhimg.com/80/v2-c5c4d577c00109fe720e3f54c69811fc_720w.jpg" alt="img"></p>
<p>æ£€æµ‹å®‰è£…çš„ç‰ˆæœ¬</p>
<h2 id="2-1-2-åŒ…ç®¡ç†å·¥å…·"><a href="#2-1-2-åŒ…ç®¡ç†å·¥å…·" class="headerlink" title="2.1.2. åŒ…ç®¡ç†å·¥å…·"></a>2.1.2. åŒ…ç®¡ç†å·¥å…·</h2><p><strong>ä»€ä¹ˆæ˜¯npmï¼Ÿ</strong></p>
<ul>
<li>å…¨ç§° Node Package Managerï¼Œå³â€œnodeåŒ…ç®¡ç†å™¨â€ï¼›</li>
<li>ä½œç”¨è‚¯å®šæ˜¯å¸®åŠ©æˆ‘ä»¬ç®¡ç†ä¸€ä¸‹ä¾èµ–çš„å·¥å…·åŒ…ï¼ˆæ¯”å¦‚reactã€react-domã€axiosã€babelã€webpackç­‰ç­‰ï¼‰ï¼›</li>
<li>ä½œè€…å¼€å‘çš„ç›®çš„å°±æ˜¯ä¸ºäº†è§£å†³â€œæ¨¡å—ç®¡ç†å¾ˆç³Ÿç³•â€çš„é—®é¢˜ï¼›</li>
</ul>
<p><strong>å¦å¤–ï¼Œè¿˜æœ‰ä¸€ä¸ªå¤§åé¼é¼çš„nodeåŒ…ç®¡ç†å·¥å…·yarnï¼š</strong></p>
<ul>
<li>Yarnæ˜¯ç”±Facebookã€Googleã€Exponent å’Œ Tilde è”åˆæ¨å‡ºäº†ä¸€ä¸ªæ–°çš„ JS åŒ…ç®¡ç†å·¥å…·ï¼›</li>
<li>Yarn æ˜¯ä¸ºäº†å¼¥è¡¥ npm çš„ä¸€äº›ç¼ºé™·è€Œå‡ºç°çš„ï¼›</li>
<li>æ—©æœŸçš„npmå­˜åœ¨å¾ˆå¤šçš„ç¼ºé™·ï¼Œæ¯”å¦‚å®‰è£…ä¾èµ–é€Ÿåº¦å¾ˆæ…¢ã€ç‰ˆæœ¬ä¾èµ–æ··ä¹±ç­‰ç­‰ä¸€ç³»åˆ—çš„é—®é¢˜ï¼›</li>
<li>è™½ç„¶ä»npm5ç‰ˆæœ¬å¼€å§‹ï¼Œè¿›è¡Œäº†å¾ˆå¤šçš„å‡çº§å’Œæ”¹è¿›ï¼Œä½†æ˜¯ä¾ç„¶å¾ˆå¤šäººå–œæ¬¢ä½¿ç”¨yarnï¼›</li>
<li>Reactè„šæ‰‹æ¶é»˜è®¤ä¹Ÿæ˜¯ä½¿ç”¨yarnï¼›</li>
</ul>
<p>å®‰è£…yarnï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install -g yarn</span><br></pre></td></tr></table></figure>



<p><img src="https://pic4.zhimg.com/80/v2-8bf754189d539c0e829480e6df2de34f_720w.jpeg" alt="img"></p>
<p>æ£€æµ‹yarnå®‰è£…çš„ç‰ˆæœ¬</p>
<p><strong>yarnå’Œnpmçš„å‘½ä»¤å¯¹æ¯”</strong></p>
<p>NpmYarnnpm installyarn installnpm install [package]yarn add [package]npm install â€“save [package]yarn add [package]npm install â€“save-dev [package]yarn add [package] [â€“dev/-D]npm rebuildyarn install â€“forcenpm uninstall [package]yarn remove [package]npm uninstall â€“save [package]yarn remove [package]npm uninstall â€“save-dev [package]yarn remove [package]npm uninstall â€“save-optional [package]yarn remove [package]npm cache cleanyarn cache cleanrm -rf node_modules &amp;&amp; npm installyarn upgrade</p>
<p><strong>cnpmçš„ä½¿ç”¨</strong></p>
<p>åœ¨å›½å†…ï¼ŒæŸäº›æƒ…å†µä½¿ç”¨npmå’Œyarnå¯èƒ½æ— æ³•æ­£å¸¸å®‰è£…ä¸€ä¸ªåº“ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å¯ä»¥é€‰æ‹©ä½¿ç”¨cnpm</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install -g cnpm --registry&#x3D;https:&#x2F;&#x2F;registry.npm.taobao.org</span><br></pre></td></tr></table></figure>

<h2 id="2-1-3-å®‰è£…è„šæ‰‹æ¶"><a href="#2-1-3-å®‰è£…è„šæ‰‹æ¶" class="headerlink" title="2.1.3. å®‰è£…è„šæ‰‹æ¶"></a>2.1.3. å®‰è£…è„šæ‰‹æ¶</h2><p>æœ€åä¸€ä¸ªéœ€è¦å®‰è£…çš„æ˜¯åˆ›å»ºReacté¡¹ç›®çš„è„šæ‰‹æ¶ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install -g create-react-app</span><br></pre></td></tr></table></figure>



<p><img src="https://pic1.zhimg.com/80/v2-f0e7a077c9560cd6b8b189e59635fa14_720w.jpeg" alt="img"></p>
<p>æ£€æŸ¥Reactè„šæ‰‹æ¶</p>
<h2 id="2-2-åˆ›å»ºReacté¡¹ç›®"><a href="#2-2-åˆ›å»ºReacté¡¹ç›®" class="headerlink" title="2.2. åˆ›å»ºReacté¡¹ç›®"></a>2.2. åˆ›å»ºReacté¡¹ç›®</h2><h2 id="2-2-1-åˆ›å»ºReacté¡¹ç›®"><a href="#2-2-1-åˆ›å»ºReacté¡¹ç›®" class="headerlink" title="2.2.1. åˆ›å»ºReacté¡¹ç›®"></a>2.2.1. åˆ›å»ºReacté¡¹ç›®</h2><p>ç°åœ¨ï¼Œæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡è„šæ‰‹æ¶æ¥åˆ›å»ºReacté¡¹ç›®äº†ã€‚</p>
<p>åˆ›å»ºReacté¡¹ç›®çš„å‘½ä»¤å¦‚ä¸‹ï¼š</p>
<ul>
<li>æ³¨æ„ï¼šé¡¹ç›®åç§°ä¸èƒ½åŒ…å«å¤§å†™å­—æ¯</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">create-react-app é¡¹ç›®åç§°</span><br></pre></td></tr></table></figure>

<p>å¦å¤–è¿˜æœ‰æ›´å¤šåˆ›å»ºé¡¹ç›®çš„æ–¹å¼ï¼Œå¯ä»¥å‚è€ƒGitHubçš„readme</p>
<ul>
<li><a href="https://link.zhihu.com/?target=https%3A//github.com/facebook/create-react-app">https://github.com/facebook/create-react-app</a>ï¼›</li>
<li>ä¸Šé¢çš„åˆ›å»ºæ–¹å¼ï¼Œé»˜è®¤ä½¿ç”¨çš„yarnæ¥ç®¡ç†æ•´ä¸ªé¡¹ç›®åŒ…ç›¸å…³çš„ä¾èµ–çš„ï¼›</li>
<li>å¦‚æœå¸Œæœ›ä½¿ç”¨npmï¼Œä¹Ÿå¯ä»¥åœ¨å‚æ•°åé¢åŠ ä¸Š â€“use-npmï¼›</li>
</ul>
<p><img src="https://pic2.zhimg.com/80/v2-e8adfd153e2ba949d3b21645cda356e1_720w.jpg" alt="img"></p>
<p>image-20200615115822464</p>
<p>åˆ›å»ºå®Œæˆåï¼Œè¿›å…¥å¯¹åº”çš„ç›®å½•ï¼Œå°±å¯ä»¥å°†é¡¹ç›®è·‘èµ·æ¥ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cd 01-test-react</span><br><span class="line">yarn start</span><br></pre></td></tr></table></figure>



<p><img src="https://pic3.zhimg.com/80/v2-c001ac893f7ecfa2200467b51c698476_720w.jpg" alt="img"></p>
<p>é¡¹ç›®æ•ˆæœ</p>
<h2 id="2-2-2-ç›®å½•ç»“æ„åˆ†æ"><a href="#2-2-2-ç›®å½•ç»“æ„åˆ†æ" class="headerlink" title="2.2.2. ç›®å½•ç»“æ„åˆ†æ"></a>2.2.2. ç›®å½•ç»“æ„åˆ†æ</h2><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡VSCodeæ‰“å¼€é¡¹ç›®ï¼š</p>
<p><img src="https://pic1.zhimg.com/80/v2-e2143939102786485db3bb55afe28538_720w.jpg" alt="img"></p>
<p>é¡¹ç›®ç›®å½•ç»“æ„</p>
<p>ç›®å½•ç»“æ„åˆ†æï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">test-react</span><br><span class="line">â”œâ”€ README.md &#x2F;&#x2F; readmeè¯´æ˜æ–‡æ¡£</span><br><span class="line">â”œâ”€ package.json &#x2F;&#x2F; å¯¹æ•´ä¸ªåº”ç”¨ç¨‹åºçš„æè¿°ï¼šåŒ…æ‹¬åº”ç”¨åç§°ã€ç‰ˆæœ¬å·ã€ä¸€äº›ä¾èµ–åŒ…ã€ä»¥åŠé¡¹ç›®çš„å¯åŠ¨ã€æ‰“åŒ…ç­‰ç­‰ï¼ˆnodeç®¡ç†é¡¹ç›®å¿…å¤‡æ–‡ä»¶ï¼‰</span><br><span class="line">â”œâ”€ public</span><br><span class="line">â”‚    â”œâ”€ favicon.ico &#x2F;&#x2F; åº”ç”¨ç¨‹åºé¡¶éƒ¨çš„iconå›¾æ ‡</span><br><span class="line">â”‚    â”œâ”€ index.html &#x2F;&#x2F; åº”ç”¨çš„index.htmlå…¥å£æ–‡ä»¶</span><br><span class="line">â”‚    â”œâ”€ logo192.png &#x2F;&#x2F; è¢«åœ¨manifest.jsonä¸­ä½¿ç”¨</span><br><span class="line">â”‚    â”œâ”€ logo512.png &#x2F;&#x2F; è¢«åœ¨manifest.jsonä¸­ä½¿ç”¨</span><br><span class="line">â”‚    â”œâ”€ manifest.json &#x2F;&#x2F; å’ŒWeb appé…ç½®ç›¸å…³</span><br><span class="line">â”‚    â””â”€ robots.txt &#x2F;&#x2F; æŒ‡å®šæœç´¢å¼•æ“å¯ä»¥æˆ–è€…æ— æ³•çˆ¬å–å“ªäº›æ–‡ä»¶</span><br><span class="line">â”œâ”€ src</span><br><span class="line">â”‚    â”œâ”€ App.css &#x2F;&#x2F; Appç»„ä»¶ç›¸å…³çš„æ ·å¼</span><br><span class="line">â”‚    â”œâ”€ App.js &#x2F;&#x2F; Appç»„ä»¶çš„ä»£ç æ–‡ä»¶</span><br><span class="line">â”‚    â”œâ”€ App.test.js &#x2F;&#x2F; Appç»„ä»¶çš„æµ‹è¯•ä»£ç æ–‡ä»¶</span><br><span class="line">â”‚    â”œâ”€ index.css &#x2F;&#x2F; å…¨å±€çš„æ ·å¼æ–‡ä»¶</span><br><span class="line">â”‚    â”œâ”€ index.js &#x2F;&#x2F; æ•´ä¸ªåº”ç”¨ç¨‹åºçš„å…¥å£æ–‡ä»¶</span><br><span class="line">â”‚    â”œâ”€ logo.svg &#x2F;&#x2F; åˆšæ‰å¯åŠ¨é¡¹ç›®ï¼Œæ‰€çœ‹åˆ°çš„Reactå›¾æ ‡</span><br><span class="line">â”‚    â”œâ”€ serviceWorker.js &#x2F;&#x2F; é»˜è®¤å¸®åŠ©æˆ‘ä»¬å†™å¥½çš„æ³¨å†ŒPWAç›¸å…³çš„ä»£ç </span><br><span class="line">â”‚    â””â”€ setupTests.js &#x2F;&#x2F; æµ‹è¯•åˆå§‹åŒ–æ–‡ä»¶</span><br><span class="line">â””â”€ yarn.lock</span><br></pre></td></tr></table></figure>

<p>æ•´ä¸ªç›®å½•ç»“æ„éƒ½éå¸¸å¥½ç†è§£ï¼Œåªæ˜¯æœ‰ä¸€ä¸ªPWAç›¸å…³çš„æ¦‚å¿µï¼š</p>
<ul>
<li>PWAå…¨ç§°Progressive Web Appï¼Œå³æ¸è¿›å¼WEBåº”ç”¨ï¼›</li>
<li>ä¸€ä¸ª PWA åº”ç”¨é¦–å…ˆæ˜¯ä¸€ä¸ªç½‘é¡µ, å¯ä»¥é€šè¿‡ Web æŠ€æœ¯ç¼–å†™å‡ºä¸€ä¸ªç½‘é¡µåº”ç”¨. éšåæ·»åŠ ä¸Š App Manifest å’Œ Service Worker æ¥å®ç° PWA çš„å®‰è£…å’Œç¦»çº¿ç­‰åŠŸèƒ½ï¼›</li>
<li>è¿™ç§Webå­˜åœ¨çš„å½¢å¼ï¼Œæˆ‘ä»¬ä¹Ÿç§°ä¹‹ä¸ºæ˜¯ Web Appï¼›</li>
</ul>
<p>PWAè§£å†³äº†å“ªäº›é—®é¢˜å‘¢ï¼Ÿ</p>
<ul>
<li>å¯ä»¥æ·»åŠ è‡³ä¸»å±å¹•ï¼Œç‚¹å‡»ä¸»å±å¹•å›¾æ ‡å¯ä»¥å®ç°å¯åŠ¨åŠ¨ç”»ä»¥åŠéšè—åœ°å€æ ï¼›</li>
<li>å®ç°ç¦»çº¿ç¼“å­˜åŠŸèƒ½ï¼Œå³ä½¿ç”¨æˆ·æ‰‹æœºæ²¡æœ‰ç½‘ç»œï¼Œä¾ç„¶å¯ä»¥ä½¿ç”¨ä¸€äº›ç¦»çº¿åŠŸèƒ½ï¼›</li>
<li>å®ç°äº†æ¶ˆæ¯æ¨é€ï¼›</li>
<li>ç­‰ç­‰ä¸€ç³»åˆ—ç±»ä¼¼äºNative Appç›¸å…³çš„åŠŸèƒ½ï¼›</li>
</ul>
<p>æ›´å¤šPWAç›¸å…³çš„çŸ¥è¯†ï¼Œå¯ä»¥è‡ªè¡Œå»å­¦ä¹ æ›´å¤šï¼›</p>
<h2 id="2-2-3-webpacké…ç½®"><a href="#2-2-3-webpacké…ç½®" class="headerlink" title="2.2.3. webpacké…ç½®"></a>2.2.3. webpacké…ç½®</h2><p>æˆ‘ä»¬è¯´è¿‡Reactçš„è„šæ‰‹æ¶æ˜¯åŸºäºWebpackæ¥é…ç½®çš„ï¼š</p>
<ul>
<li>webpack æ˜¯ä¸€ä¸ªç°ä»£ JavaScript åº”ç”¨ç¨‹åºçš„é™æ€æ¨¡å—æ‰“åŒ…å™¨(module bundler)ï¼›</li>
<li>å½“ webpack å¤„ç†åº”ç”¨ç¨‹åºæ—¶ï¼Œå®ƒä¼šé€’å½’åœ°æ„å»ºä¸€ä¸ªä¾èµ–å…³ç³»å›¾(dependency graph)ï¼Œå…¶ä¸­åŒ…å«åº”ç”¨ç¨‹åºéœ€è¦çš„æ¯ä¸ªæ¨¡å—ï¼Œç„¶åå°†æ‰€æœ‰è¿™äº›æ¨¡å—æ‰“åŒ…æˆä¸€ä¸ªæˆ–å¤šä¸ª bundleï¼›</li>
</ul>
<p><img src="https://pic3.zhimg.com/80/v2-c0cbdd82bd4defac7bd0422fafba825a_720w.jpg" alt="img"></p>
<p>webpack</p>
<p>åœ¨è¿™é‡Œæˆ‘ä»¬æš‚æ—¶ä¸å±•å¼€æ¥è®²webpackï¼Œå› ä¸ºé‡Œé¢çš„å†…å®¹æ˜¯éå¸¸å¤šçš„ï¼ˆåç»­ä¼šæœ‰ä¸“é—¨è®²webpackçš„ä¸“é¢˜ï¼‰ï¼›</p>
<p>ä½†æ˜¯ï¼Œå¾ˆå¥‡æ€ªï¼šæˆ‘ä»¬å¹¶æ²¡æœ‰åœ¨ç›®å½•ç»“æ„ä¸­çœ‹åˆ°ä»»ä½•webpackç›¸å…³çš„å†…å®¹ï¼Ÿ</p>
<ul>
<li>åŸå› æ˜¯Reactè„šæ‰‹æ¶å°†webpackç›¸å…³çš„é…ç½®éšè—èµ·æ¥äº†ï¼ˆå…¶å®ä»Vue CLI3å¼€å§‹ï¼Œä¹Ÿæ˜¯è¿›è¡Œäº†éšè—ï¼‰ï¼›</li>
</ul>
<p>å¦‚æœæˆ‘ä»¬å¸Œæœ›çœ‹åˆ°webpackçš„é…ç½®ä¿¡æ¯ï¼Œåº”è¯¥æ€ä¹ˆæ¥åšå‘¢ï¼Ÿ</p>
<ul>
<li>æˆ‘ä»¬å¯ä»¥æ‰§è¡Œä¸€ä¸ªpackage.jsonæ–‡ä»¶ä¸­çš„ä¸€ä¸ªè„šæœ¬ï¼šâ€ejectâ€: â€œreact-scripts ejectâ€</li>
<li>è¿™ä¸ªæ“ä½œæ˜¯ä¸å¯é€†çš„ï¼Œæ‰€ä»¥åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ä¼šç»™äºˆæˆ‘ä»¬æç¤ºï¼›</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">yarn eject</span><br></pre></td></tr></table></figure>



<p><img src="https://pic3.zhimg.com/80/v2-1e864c0d1ea72fa9a3c84d1a47084106_720w.jpeg" alt="img"></p>
<p>æ‰§è¡Œè„šæœ¬</p>
<p>æŸ¥çœ‹å’Œå­¦ä¹ webpackç›¸å…³çš„é…ç½®ä¿¡æ¯ï¼š</p>
<p><img src="https://pic2.zhimg.com/80/v2-132539d8ffad9c3a9e66f389cbc132f5_720w.jpg" alt="img"></p>
<p>webpackç›¸å…³é…ç½®</p>
<h2 id="2-3-ä»é›¶ç¼–å†™é¡¹ç›®"><a href="#2-3-ä»é›¶ç¼–å†™é¡¹ç›®" class="headerlink" title="2.3. ä»é›¶ç¼–å†™é¡¹ç›®"></a>2.3. ä»é›¶ç¼–å†™é¡¹ç›®</h2><h2 id="2-3-1-æ–‡ä»¶çš„åˆ å‡"><a href="#2-3-1-æ–‡ä»¶çš„åˆ å‡" class="headerlink" title="2.3.1. æ–‡ä»¶çš„åˆ å‡"></a>2.3.1. æ–‡ä»¶çš„åˆ å‡</h2><p>é€šè¿‡è„šæ‰‹æ¶åˆ›å»ºå®Œé¡¹ç›®ï¼Œå¾ˆå¤šåŒå­¦è¿˜æ˜¯ä¼šæ„Ÿè§‰ç›®å½•ç»“æ„è¿‡äºå¤æ‚ï¼Œæ‰€ä»¥æˆ‘æ‰“ç®—ä»é›¶å¸¦ç€å¤§å®¶æ¥ç¼–å†™ä»£ç ã€‚</p>
<p>æˆ‘ä»¬å…ˆå°†ä¸éœ€è¦çš„æ–‡ä»¶ç»Ÿç»Ÿåˆ æ‰ï¼š</p>
<ul>
<li>1.å°†srcä¸‹çš„æ‰€æœ‰æ–‡ä»¶éƒ½åˆ é™¤</li>
<li>2.å°†publicæ–‡ä»¶ä¸‹é™¤åˆ—favicon.icoå’Œindex.htmlä¹‹å¤–çš„æ–‡ä»¶éƒ½åˆ é™¤æ‰</li>
</ul>
<p><img src="https://pic2.zhimg.com/80/v2-5e08b8a2e69d0b1adf6672a5f395f125_720w.jpg" alt="img"></p>
<p>åˆ é™¤åçš„ç›®å½•ç»“æ„</p>
<p>ä¿®æ”¹index.htmlæ–‡ä»¶ï¼š</p>
<ul>
<li>æˆ‘ä»¬éœ€è¦åˆ é™¤é€‰ä¸­çš„å†…å®¹ï¼›</li>
<li>è¿™ä¸¤è¡Œå†…å®¹æ˜¯æˆ‘ä»¬ä¹‹å‰å¼•å…¥çš„ä¸€ä¸ªå›¾æ ‡å’Œmanifestæ–‡ä»¶</li>
</ul>
<p><img src="https://pic1.zhimg.com/80/v2-75a8403d08b6d580ccad8c5de712244c_720w.jpg" alt="img"></p>
<p>åˆ é™¤é€‰ä¸­çš„ä¸¤è¡Œå†…å®¹</p>
<h2 id="2-3-2-å¼€å§‹ç¼–å†™ä»£ç "><a href="#2-3-2-å¼€å§‹ç¼–å†™ä»£ç " class="headerlink" title="2.3.2. å¼€å§‹ç¼–å†™ä»£ç "></a>2.3.2. å¼€å§‹ç¼–å†™ä»£ç </h2><p>åœ¨srcç›®å½•ä¸‹ï¼Œåˆ›å»ºä¸€ä¸ªindex.jsæ–‡ä»¶ï¼Œå› ä¸ºè¿™æ˜¯webpackæ‰“åŒ…çš„å…¥å£ã€‚</p>
<p>åœ¨index.jsä¸­å¼€å§‹ç¼–å†™Reactä»£ç ï¼š</p>
<ul>
<li>æˆ‘ä»¬ä¼šå‘ç°å’Œå†™çš„ä»£ç æ˜¯é€»è¾‘æ˜¯ä¸€è‡´çš„ï¼›</li>
<li>åªæ˜¯åœ¨æ¨¡å—åŒ–å¼€å‘ä¸­ï¼Œæˆ‘ä»¬éœ€è¦æ‰‹åŠ¨çš„æ¥å¯¼å…¥Reactã€ReactDOMï¼Œå› ä¸ºå®ƒä»¬éƒ½æ˜¯åœ¨æˆ‘ä»¬å®‰è£…çš„æ¨¡å—ä¸­ï¼›</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import React from &quot;react&quot;;</span><br><span class="line">import ReactDOM from &#39;react-dom&#39;;</span><br><span class="line"></span><br><span class="line">ReactDOM.render(&lt;h2&gt;Hello React&lt;&#x2F;h2&gt;, document.getElementById(&quot;root&quot;));</span><br></pre></td></tr></table></figure>



<p><img src="https://pic4.zhimg.com/80/v2-e4a7139edc918d9ef6d0a0583b833523_720w.jpg" alt="img"></p>
<p>å±•ç¤ºæ•ˆæœ</p>
<p>å¦‚æœæˆ‘ä»¬ä¸å¸Œæœ›ç›´æ¥åœ¨ ReactDOM.render ä¸­ç¼–å†™è¿‡å¤šçš„ä»£ç ï¼Œå°±å¯ä»¥å•ç‹¬æŠ½å–ä¸€ä¸ªç»„ä»¶App.jsï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import React, &#123; Component &#125; from &#39;react&#39;;</span><br><span class="line"></span><br><span class="line">export default class App extends Component &#123;</span><br><span class="line">  render() &#123;</span><br><span class="line">    return &lt;h2&gt;Hello App&lt;&#x2F;h2&gt;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨index.jsä¸­å¼•å…¥Appï¼Œå¹¶ä¸”ä½¿ç”¨å®ƒï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import React from &quot;react&quot;;</span><br><span class="line">import ReactDOM from &#39;react-dom&#39;;</span><br><span class="line"></span><br><span class="line">import App from &#39;.&#x2F;App&#39;;</span><br><span class="line"></span><br><span class="line">ReactDOM.render(&lt;App&#x2F;&gt;, document.getElementById(&quot;root&quot;));</span><br></pre></td></tr></table></figure>



<p><img src="https://pic2.zhimg.com/80/v2-74bc4c6a8ed4f527620ffd0c5e3838ad_720w.jpg" alt="img"></p>
<h1 id="ä¸‰-åœ¨Reactä¸­ä½¿ç”¨react-router-domè·¯ç”±"><a href="#ä¸‰-åœ¨Reactä¸­ä½¿ç”¨react-router-domè·¯ç”±" class="headerlink" title="ä¸‰.åœ¨Reactä¸­ä½¿ç”¨react-router-domè·¯ç”±"></a>ä¸‰.åœ¨Reactä¸­ä½¿ç”¨react-router-domè·¯ç”±</h1><h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><p>é¦–å…ˆè¿›å…¥é¡¹ç›®ç›®å½•ï¼Œä½¿ç”¨npmå®‰è£…react-router-domï¼š</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line">npm install react-router-dom --save-dev <span class="comment">//è¿™é‡Œå¯ä»¥ä½¿ç”¨cnpmä»£æ›¿npmå‘½ä»¤</span></span><br></pre></td></tr></table></figure>



<h2 id="åŸºæœ¬æ“ä½œ"><a href="#åŸºæœ¬æ“ä½œ" class="headerlink" title="åŸºæœ¬æ“ä½œ"></a>åŸºæœ¬æ“ä½œ</h2><p>ç„¶åæˆ‘ä»¬æ–°å»ºä¸¤ä¸ªé¡µé¢ï¼Œåˆ†åˆ«å‘½åä¸ºâ€œhomeâ€å’Œâ€œdetailâ€ã€‚åœ¨é¡µé¢ä¸­ç¼–å†™å¦‚ä¸‹ä»£ç ï¼š</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">Home</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">    render() &#123;</span><br><span class="line">        <span class="keyword">return</span> (</span><br><span class="line">            &lt;div&gt;</span><br><span class="line">                &lt;a&gt;å»detail&lt;<span class="regexp">/a&gt;</span></span><br><span class="line"><span class="regexp">            &lt;/</span>div&gt;</span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>home.js</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">Home</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">    render() &#123;</span><br><span class="line">        <span class="keyword">return</span> (</span><br><span class="line">            &lt;div&gt;</span><br><span class="line">                &lt;a&gt;å›åˆ°home&lt;<span class="regexp">/a&gt;</span></span><br><span class="line"><span class="regexp">            &lt;/</span>div&gt;</span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>detail.js</p>
<p>ç„¶åå†æ–°å»ºä¸€ä¸ªè·¯ç”±ç»„ä»¶ï¼Œå‘½åä¸ºâ€œRouter.jsâ€ï¼Œå¹¶ç¼–å†™å¦‚ä¸‹ä»£ç ï¼š</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"><span class="keyword">import</span> &#123;HashRouter, Route, Switch&#125; <span class="keyword">from</span> <span class="string">'react-router-dom'</span>;</span><br><span class="line"><span class="keyword">import</span> Home <span class="keyword">from</span> <span class="string">'../home'</span>;</span><br><span class="line"><span class="keyword">import</span> Detail <span class="keyword">from</span> <span class="string">'../detail'</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> BasicRoute = <span class="function"><span class="params">()</span> =&gt;</span> (</span><br><span class="line">    &lt;HashRouter&gt;</span><br><span class="line">        &lt;Switch&gt;</span><br><span class="line">            &lt;Route exact path=<span class="string">"/"</span> component=&#123;Home&#125;/&gt;</span><br><span class="line">            &lt;Route exact path=<span class="string">"/detail"</span> component=&#123;Detail&#125;/&gt;</span><br><span class="line">        &lt;<span class="regexp">/Switch&gt;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>HashRouter&gt;</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> BasicRoute;</span><br></pre></td></tr></table></figure>

<p>å¦‚ä¸Šä»£ç å®šä¹‰äº†ä¸€ä¸ªçº¯è·¯ç”±ç»„ä»¶ï¼Œå°†ä¸¤ä¸ªé¡µé¢ç»„ä»¶Homeå’ŒDetailä½¿ç”¨Routeç»„ä»¶åŒ…è£¹ï¼Œå¤–é¢å¥—ç”¨Switchä½œè·¯ç”±åŒ¹é…ï¼Œå½“è·¯ç”±ç»„ä»¶æ£€æµ‹åˆ°åœ°å€æ ä¸Routeçš„pathåŒ¹é…æ—¶ï¼Œå°±ä¼šè‡ªåŠ¨åŠ è½½å“åº”çš„é¡µé¢ã€‚<br> ç„¶ååœ¨å…¥å£æ–‡ä»¶ä¸­â€”â€”æˆ‘è¿™é‡ŒæŒ‡å®šçš„æ˜¯index.jsâ€”â€”ç¼–å†™å¦‚ä¸‹ä»£ç ï¼š</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"><span class="keyword">import</span> ReactDOM <span class="keyword">from</span> <span class="string">'react-dom'</span>;</span><br><span class="line"><span class="keyword">import</span> Router <span class="keyword">from</span> <span class="string">'./router/router'</span>;</span><br><span class="line"></span><br><span class="line">ReactDOM.render(</span><br><span class="line">  &lt;Router/&gt;,</span><br><span class="line">  <span class="built_in">document</span>.getElementById(<span class="string">'root'</span>)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œç›¸å½“äºå‘é¡µé¢è¿”å›äº†ä¸€ä¸ªè·¯ç”±ç»„ä»¶ã€‚æˆ‘ä»¬å…ˆè¿è¡Œé¡¹ç›®çœ‹ä¸€ä¸‹æ•ˆæœï¼Œåœ¨åœ°å€æ è¾“å…¥â€œ<a href="https://links.jianshu.com/go?to=http%3A%2F%2Flocalhost%3A3000%2F%23%2F" target="_blank" rel="noopener">http://localhost:3000/#/</a>â€ï¼š</p>
<p><img src="https:////upload-images.jianshu.io/upload_images/6334988-218f06c2483c59ab.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/954/format/webp" alt="img"></p>
<p>home.js</p>
<p>è¾“å…¥â€œ<a href="https://links.jianshu.com/go?to=http%3A%2F%2Flocalhost%3A3000%2F%23%2Fdetail" target="_blank" rel="noopener">http://localhost:3000/#/detail</a>â€ï¼š</p>
<p><img src="https:////upload-images.jianshu.io/upload_images/6334988-1acaaedd68e07674.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/954/format/webp" alt="img"></p>
<p>detail.js</p>
<h2 id="é€šè¿‡aæ ‡ç­¾è·³è½¬"><a href="#é€šè¿‡aæ ‡ç­¾è·³è½¬" class="headerlink" title="é€šè¿‡aæ ‡ç­¾è·³è½¬"></a>é€šè¿‡aæ ‡ç­¾è·³è½¬</h2><p>å¯ä»¥çœ‹åˆ°å…¶å®è·¯ç”±å·²ç»å¼€å§‹å·¥ä½œäº†ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å†æ¥åšé¡µé¢é—´çš„è·³è½¬ã€‚åœ¨home.jså’Œdetail.jsä¸­ï¼Œæˆ‘ä»¬ä¿®æ”¹å¦‚ä¸‹ä»£ç ï¼š</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">Home</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">        render() &#123;</span><br><span class="line">            <span class="keyword">return</span> (</span><br><span class="line">                &lt;div&gt;</span><br><span class="line">                &lt;a href=<span class="string">'#/detail'</span>&gt;å»detail&lt;<span class="regexp">/a&gt;</span></span><br><span class="line"><span class="regexp">            &lt;/</span>div&gt;</span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>home.js</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">Home</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">    render() &#123;</span><br><span class="line">        <span class="keyword">return</span> (</span><br><span class="line">            &lt;div&gt;</span><br><span class="line">                &lt;a href=<span class="string">'#/'</span>&gt;å›åˆ°home&lt;<span class="regexp">/a&gt;</span></span><br><span class="line"><span class="regexp">            &lt;/</span>div&gt;</span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>detail.js</p>
<p>é‡æ–°æ‰“åŒ…è¿è¡Œï¼Œåœ¨æµè§ˆå™¨åœ°å€æ è¾“å…¥â€œ<a href="https://links.jianshu.com/go?to=http%3A%2F%2Flocalhost%3A3000%2F" target="_blank" rel="noopener">http://localhost:3000/</a>â€ï¼Œè¯•è¯•çœ‹é¡µé¢èƒ½å¦æ­£å¸¸è·³è½¬ã€‚å¦‚æœä¸èƒ½ï¼Œè¯·æŒ‰æ­¥éª¤ä¸€æ­¥ä¸€æ­¥æ£€æŸ¥ä»£ç æ˜¯å¦æœ‰è¯¯ã€‚ä»¥ä¸Šæ˜¯ä½¿ç”¨aæ ‡ç­¾çš„hrefè¿›è¡Œé¡µé¢é—´è·³è½¬ï¼Œæ­¤å¤–react-router-domè¿˜æä¾›äº†é€šè¿‡å‡½æ•°çš„æ–¹å¼è·³è½¬é¡µé¢ã€‚</p>
<h2 id="é€šè¿‡å‡½æ•°è·³è½¬"><a href="#é€šè¿‡å‡½æ•°è·³è½¬" class="headerlink" title="é€šè¿‡å‡½æ•°è·³è½¬"></a>é€šè¿‡å‡½æ•°è·³è½¬</h2><p>é¦–å…ˆæˆ‘ä»¬éœ€è¦ä¿®æ”¹router.jsä¸­çš„ä¸¤å¤„ä»£ç ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="keyword">import</span> &#123;HashRouter, Route, Switch, hashHistory&#125; <span class="keyword">from</span> <span class="string">'react-router-dom'</span>;</span><br><span class="line">...</span><br><span class="line">&lt;HashRouter history=&#123;hashHistory&#125;&gt;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<p>ç„¶ååœ¨home.jsä¸­ï¼š</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">Home</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span>(props) &#123;</span><br><span class="line">        <span class="keyword">super</span>(props);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    render() &#123;</span><br><span class="line">        <span class="keyword">return</span> (</span><br><span class="line">            &lt;div&gt;</span><br><span class="line">                &lt;a href=<span class="string">'#/detail'</span>&gt;å»detail&lt;<span class="regexp">/a&gt;</span></span><br><span class="line"><span class="regexp">                &lt;button onClick=&#123;() =&gt; this.props.history.push('detail')&#125;&gt;é€šè¿‡å‡½æ•°è·³è½¬&lt;/</span>button&gt;</span><br><span class="line">            &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">        )</span></span><br><span class="line"><span class="regexp">    &#125;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure>

<p>åœ¨aæ ‡ç­¾ä¸‹é¢æ·»åŠ ä¸€ä¸ªæŒ‰é’®å¹¶åŠ ä¸ŠonClickäº‹ä»¶ï¼Œé€šè¿‡this.props.history.pushè¿™ä¸ªå‡½æ•°è·³è½¬åˆ°detailé¡µé¢ã€‚åœ¨è·¯ç”±ç»„ä»¶ä¸­åŠ å…¥çš„ä»£ç å°±æ˜¯å°†historyè¿™ä¸ªå¯¹è±¡æ³¨å†Œåˆ°ç»„ä»¶çš„propsä¸­å»ï¼Œç„¶åå°±å¯ä»¥åœ¨å­ç»„ä»¶ä¸­é€šè¿‡propsè°ƒç”¨historyçš„pushæ–¹æ³•è·³è½¬é¡µé¢ã€‚</p>
<p>å¾ˆå¤šåœºæ™¯ä¸‹ï¼Œæˆ‘ä»¬è¿˜éœ€è¦åœ¨é¡µé¢è·³è½¬çš„åŒæ—¶ä¼ é€’å‚æ•°ï¼Œåœ¨react-router-domä¸­ï¼ŒåŒæ ·æä¾›äº†ä¸¤ç§æ–¹å¼è¿›è¡Œä¼ å‚ã€‚</p>
<h2 id="urlä¼ å‚"><a href="#urlä¼ å‚" class="headerlink" title="urlä¼ å‚"></a>urlä¼ å‚</h2><p>åœ¨router.jsä¸­ï¼Œä¿®æ”¹å¦‚ä¸‹ä»£ç ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="tag">&lt;<span class="name">Route</span> <span class="attr">exact</span> <span class="attr">path</span>=<span class="string">"/detail/:id"</span> <span class="attr">component</span>=<span class="string">&#123;Detail&#125;/</span>&gt;</span></span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<p>ç„¶åä¿®æ”¹detail.jsï¼Œä½¿ç”¨this.props.match.paramsè·å–urlä¼ è¿‡æ¥çš„å‚æ•°ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line">componentDidMount() &#123;</span><br><span class="line">    console.<span class="built_in">log</span>(<span class="keyword">this</span>.props.match.params);</span><br><span class="line">&#125;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<p>åœ¨åœ°å€æ è¾“å…¥â€œ<a href="https://links.jianshu.com/go?to=http%3A%2F%2Flocalhost%3A3000%2F%23%2Fdetail%2F3" target="_blank" rel="noopener">http://localhost:3000/#/detail/3</a>â€ï¼Œæ‰“å¼€æ§åˆ¶å°ï¼š</p>
<p><img src="https:////upload-images.jianshu.io/upload_images/6334988-28182a2ede7ea1f3.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/421/format/webp" alt="img"></p>
<p>å¯ä»¥çœ‹åˆ°ä¼ è¿‡å»çš„id=3å·²ç»è¢«è·å–åˆ°äº†ã€‚react-router-domå°±æ˜¯é€šè¿‡â€œ/:â€å»åŒ¹é…urlä¼ é€’çš„å‚æ•°ã€‚</p>
<h2 id="éšå¼ä¼ å‚"><a href="#éšå¼ä¼ å‚" class="headerlink" title="éšå¼ä¼ å‚"></a>éšå¼ä¼ å‚</h2><p>æ­¤å¤–è¿˜å¯ä»¥é€šè¿‡pushå‡½æ•°éšå¼ä¼ å‚ã€‚</p>
<p>ä¿®æ”¹home.jsä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">Home</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span>(props) &#123;</span><br><span class="line">        <span class="keyword">super</span>(props);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    render() &#123;</span><br><span class="line">        <span class="keyword">return</span> (</span><br><span class="line">            &lt;div&gt;</span><br><span class="line">                &lt;a href=<span class="string">'#/detail/3'</span>&gt;å»detail&lt;<span class="regexp">/a&gt;</span></span><br><span class="line"><span class="regexp">                    &lt;button onClick=&#123;() =&gt; this.props.history.push(&#123;</span></span><br><span class="line"><span class="regexp">                        pathname: '/</span>detail<span class="string">',</span></span><br><span class="line"><span class="string">                        state: &#123;</span></span><br><span class="line"><span class="string">                            id: 3</span></span><br><span class="line"><span class="string">                        &#125;</span></span><br><span class="line"><span class="string">                &#125;)&#125;&gt;é€šè¿‡å‡½æ•°è·³è½¬&lt;/button&gt;</span></span><br><span class="line"><span class="string">            &lt;/div&gt;</span></span><br><span class="line"><span class="string">        )</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure>

<p>åœ¨detail.jsä¸­ï¼Œå°±å¯ä»¥ä½¿ç”¨this.props.history.location.stateè·å–homeä¼ è¿‡æ¥çš„å‚æ•°ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line">componentDidMount() &#123;</span><br><span class="line">    <span class="comment">//console.log(this.props.match.params);</span></span><br><span class="line">    console.<span class="built_in">log</span>(<span class="keyword">this</span>.props.history.location.state);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è·³è½¬åæ‰“å¼€æ§åˆ¶å°å¯ä»¥çœ‹åˆ°å‚æ•°è¢«æ‰“å°ï¼š</p>
<p><img src="https:////upload-images.jianshu.io/upload_images/6334988-e7b04222dd82d74f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/365/format/webp" alt="img"></p>
<h2 id="å…¶ä»–å‡½æ•°"><a href="#å…¶ä»–å‡½æ•°" class="headerlink" title="å…¶ä»–å‡½æ•°"></a>å…¶ä»–å‡½æ•°</h2><h3 id="replace"><a href="#replace" class="headerlink" title="replace"></a>replace</h3><p>æœ‰äº›åœºæ™¯ä¸‹ï¼Œé‡å¤ä½¿ç”¨pushæˆ–aæ ‡ç­¾è·³è½¬ä¼šäº§ç”Ÿæ­»å¾ªç¯ï¼Œä¸ºäº†é¿å…è¿™ç§æƒ…å†µå‡ºç°ï¼Œreact-router-domæä¾›äº†replaceã€‚åœ¨å¯èƒ½ä¼šå‡ºç°æ­»å¾ªç¯çš„åœ°æ–¹ä½¿ç”¨replaceæ¥è·³è½¬ï¼š</p>
<figure class="highlight kotlin"><table><tr><td class="code"><pre><span class="line"><span class="keyword">this</span>.props.history.replace(<span class="string">'/detail'</span>);</span><br></pre></td></tr></table></figure>

<h3 id="goBack"><a href="#goBack" class="headerlink" title="goBack"></a>goBack</h3><p>åœºæ™¯ä¸­éœ€è¦è¿”å›ä¸Šçº§é¡µé¢çš„æ—¶å€™ä½¿ç”¨ï¼š</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">this</span><span class="selector-class">.props</span><span class="selector-class">.history</span><span class="selector-class">.goBack</span>();</span><br></pre></td></tr></table></figure>



<h2 id="åµŒå¥—è·¯ç”±"><a href="#åµŒå¥—è·¯ç”±" class="headerlink" title="åµŒå¥—è·¯ç”±"></a>åµŒå¥—è·¯ç”±</h2><p>åµŒå¥—è·¯ç”±çš„é€‚ç”¨åœºæ™¯è¿˜æ˜¯æ¯”è¾ƒå¤šçš„ï¼Œæ¥ä¸‹æ¥å°±æ¥ä»‹ç»ä¸€ä¸‹å®ç°æ–¹æ³•ã€‚<br> é¦–å…ˆåœ¨Vueä¸­å®ç°åµŒå¥—è·¯ç”±ï¼Œåªéœ€è¦å°†é…ç½®æ–‡ä»¶å†™æˆchildrenåµŒå¥—ï¼Œç„¶ååœ¨éœ€è¦å±•ç¤ºå­è·¯ç”±çš„ä½ç½®åŠ ä¸Š<router-view></router-view>å³å¯ã€‚Reactä¸­åº”è¯¥å¦‚ä½•å®ç°å‘¢ï¼Ÿå…¶å®åŸç†å’ŒVueç±»ä¼¼ï¼Œåªéœ€è¦åœ¨çˆ¶çº§è·¯ç”±ä¸­åŒ…å«å­è·¯ç”±å³å¯ã€‚è¿™æ ·è¯´å¯èƒ½å¾ˆå¤šåŒå­¦ä¼šä¸€å¤´é›¾æ°´ï¼Œç›´æ¥ä¸Šä»£ç ï¼ˆä¸ä½¿ç”¨ä¸Šé¢çš„ä¾‹å­ï¼‰ï¼š<br> é¦–å…ˆå®šä¹‰çˆ¶çº§ç»„ä»¶MainLayout</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">'./MainLayout.scss'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> &#123; Header, Sider, Content &#125; = Layout;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">MainLayout</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    render() &#123;</span><br><span class="line">        <span class="keyword">return</span> (</span><br><span class="line">            &lt;div className=<span class="string">'main-layout'</span>&gt;</span><br><span class="line">                çˆ¶ç»„ä»¶</span><br><span class="line">            &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">        );</span></span><br><span class="line"><span class="regexp">    &#125;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure>

<p>ç„¶åå®šä¹‰å­ç»„ä»¶Homeï¼š</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123;useState&#125; <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"><span class="keyword">import</span> &#123;Modal, Select&#125; <span class="keyword">from</span> <span class="string">"antd"</span>;</span><br><span class="line"><span class="keyword">import</span> &#123;connect&#125; <span class="keyword">from</span> <span class="string">'react-redux'</span>;</span><br><span class="line"><span class="keyword">import</span> &#123;addCount&#125; <span class="keyword">from</span> <span class="string">'../../servers/home'</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Home</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> [visible, setVisible] = useState(<span class="literal">false</span>);</span><br><span class="line">    <span class="keyword">const</span> &#123;<span class="attr">countNum</span>: &#123;count&#125;, dispatch&#125; = props;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">            å­ç»„ä»¶</span><br><span class="line">        &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">    )</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">export default Home;</span></span><br></pre></td></tr></table></figure>

<p>ç„¶åå°†å®ƒä»¬æ·»åŠ è¿›è·¯ç”±router.jsï¼Œå¹¶ä¸”å…³è”çˆ¶å­å…³ç³»ï¼š</p>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> React from <span class="string">'react'</span>;</span><br><span class="line"><span class="keyword">import</span> &#123;HashRouter, Route, Switch&#125; from <span class="string">"react-router-dom"</span>;</span><br><span class="line"><span class="keyword">import</span> Home from <span class="string">'../pages/Home/Home'</span>;</span><br><span class="line"><span class="keyword">import</span> MainLayout from <span class="string">'../layout/MainLayout'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> BasicRouter = () =&gt; (</span><br><span class="line">    &lt;HashRouter&gt;</span><br><span class="line">        &lt;Switch&gt;</span><br><span class="line">            &lt;Route path=<span class="string">"/index"</span> component=&#123;</span><br><span class="line">                &lt;MainLayout&gt;</span><br><span class="line">                  &lt;Route exact path=<span class="string">"/"</span> component=&#123;Home&#125;/&gt;</span><br><span class="line">                  &lt;Route exact path=<span class="string">"/index"</span> component=&#123;Home&#125;/&gt;</span><br><span class="line">                  &lt;Route path=<span class="string">"/index/home"</span> component=&#123;Home&#125;/&gt;</span><br><span class="line">                &lt;/MainLayout&gt;</span><br><span class="line">             &#125;/&gt;</span><br><span class="line">        &lt;/Switch&gt;</span><br><span class="line">    &lt;/HashRouter&gt;</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> BasicRouter;</span><br></pre></td></tr></table></figure>

<p>åœ¨MainLayoutä¸­ï¼Œä¿®æ”¹å¦‚ä¸‹ä»£ç ï¼š</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">'./MainLayout.scss'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> &#123; Header, Sider, Content &#125; = Layout;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">MainLayout</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    render() &#123;</span><br><span class="line">        <span class="keyword">return</span> (</span><br><span class="line">            &lt;div className=<span class="string">'main-layout'</span>&gt;</span><br><span class="line">                &#123;<span class="keyword">this</span>.props.children&#125;</span><br><span class="line">            &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">        );</span></span><br><span class="line"><span class="regexp">    &#125;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure>

<p>å¦‚æ­¤ï¼Œä¸€ä¸ªåµŒå¥—è·¯ç”±å°±å®Œæˆäº†ã€‚</p>
<h1 id="éè„šæ‰‹æ¶æ­å»º"><a href="#éè„šæ‰‹æ¶æ­å»º" class="headerlink" title="éè„šæ‰‹æ¶æ­å»º"></a>éè„šæ‰‹æ¶æ­å»º</h1><p>ä½¿ç”¨ React çš„ç½‘é¡µæºç ï¼Œç»“æ„å¤§è‡´å¦‚ä¸‹ã€‚</p>
<blockquote>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">  &lt;head&gt;</span><br><span class="line">    &lt;script src=<span class="string">"../build/react.js"</span>&gt;&lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp">    &lt;script src="../</span>build/react-dom.js<span class="string">"&gt;&lt;/script&gt;</span></span><br><span class="line"><span class="string">    &lt;script src="</span>../build/browser.min.js<span class="string">"&gt;&lt;/script&gt;</span></span><br><span class="line"><span class="string">  &lt;/head&gt;</span></span><br><span class="line"><span class="string">  &lt;body&gt;</span></span><br><span class="line"><span class="string">    &lt;div id="</span>example<span class="string">"&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="string">    &lt;script type="</span>text/babel<span class="string">"&gt;</span></span><br><span class="line"><span class="string">      // ** Our code goes here! **</span></span><br><span class="line"><span class="string">		var names = ['Alice', 'Emily', 'Kate'];</span></span><br><span class="line"><span class="string">        var arr = [</span></span><br><span class="line"><span class="string">          &lt;h1&gt;Hello world!&lt;/h1&gt;,</span></span><br><span class="line"><span class="string">          &lt;h2&gt;React is awesome&lt;/h2&gt;,</span></span><br><span class="line"><span class="string">        ];</span></span><br><span class="line"><span class="string">        ReactDOM.render(</span></span><br><span class="line"><span class="string">          &lt;div&gt;</span></span><br><span class="line"><span class="string">            &lt;div&gt; &#123;</span></span><br><span class="line"><span class="string">                names.map(function (name) &#123;</span></span><br><span class="line"><span class="string">                  return &lt;div&gt;Hello, &#123;name&#125;!&lt;/div&gt;</span></span><br><span class="line"><span class="string">                &#125;)</span></span><br><span class="line"><span class="string">            &#125;&lt;/div&gt;</span></span><br><span class="line"><span class="string">            &lt;div&gt;&#123;arr&#125;&lt;/div&gt;</span></span><br><span class="line"><span class="string">          &lt;/div&gt;,</span></span><br><span class="line"><span class="string">          document.getElementById('example')</span></span><br><span class="line"><span class="string">        );</span></span><br><span class="line"><span class="string">    &lt;/script&gt;</span></span><br><span class="line"><span class="string">  &lt;/body&gt;</span></span><br><span class="line"><span class="string">&lt;/html&gt;</span></span><br></pre></td></tr></table></figure>
</blockquote>
<ul>
<li><p>ä¸Šé¢ä»£ç æœ‰ä¸¤ä¸ªåœ°æ–¹éœ€è¦æ³¨æ„ã€‚é¦–å…ˆï¼Œæœ€åä¸€ä¸ª <code>&lt;script&gt;</code> æ ‡ç­¾çš„ <code>type</code> å±æ€§ä¸º <code>text/babel</code> ã€‚è¿™æ˜¯å› ä¸º React ç‹¬æœ‰çš„ JSX è¯­æ³•ï¼Œè·Ÿ JavaScript ä¸å…¼å®¹ã€‚å‡¡æ˜¯ä½¿ç”¨ JSX çš„åœ°æ–¹ï¼Œéƒ½è¦åŠ ä¸Š <code>type=&quot;text/babel&quot;</code> ã€‚</p>
</li>
<li><p>å…¶æ¬¡ï¼Œä¸Šé¢ä»£ç ä¸€å…±ç”¨äº†ä¸‰ä¸ªåº“ï¼š <code>react.js</code> ã€<code>react-dom.js</code> å’Œ <code>Browser.js</code> ï¼Œå®ƒä»¬å¿…é¡»é¦–å…ˆåŠ è½½ã€‚å…¶ä¸­ï¼Œ<code>react.js</code> æ˜¯ React çš„æ ¸å¿ƒåº“ï¼Œ<code>react-dom.js</code> æ˜¯æä¾›ä¸ DOM ç›¸å…³çš„åŠŸèƒ½ï¼Œ<code>Browser.js</code> çš„ä½œç”¨æ˜¯å°† JSX è¯­æ³•è½¬ä¸º JavaScript è¯­æ³•ï¼Œè¿™ä¸€æ­¥å¾ˆæ¶ˆè€—æ—¶é—´ï¼Œå®é™…ä¸Šçº¿çš„æ—¶å€™ï¼Œåº”è¯¥å°†å®ƒæ”¾åˆ°æœåŠ¡å™¨å®Œæˆã€‚</p>
</li>
</ul>
<blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ babel src --out-dir build</span><br></pre></td></tr></table></figure>
</blockquote>
<ul>
<li><p>ä¸Šé¢å‘½ä»¤å¯ä»¥å°† <code>src</code> å­ç›®å½•çš„ <code>js</code> æ–‡ä»¶è¿›è¡Œè¯­æ³•è½¬æ¢ï¼Œè½¬ç åçš„æ–‡ä»¶å…¨éƒ¨æ”¾åœ¨ <code>build</code> å­ç›®å½•ã€‚</p>
</li>
<li><p>HTML è¯­è¨€ç›´æ¥å†™åœ¨ JavaScript è¯­è¨€ä¹‹ä¸­ï¼Œä¸åŠ ä»»ä½•å¼•å·ï¼Œè¿™å°±æ˜¯ <a href="http://facebook.github.io/react/docs/displaying-data.html#jsx-syntax" target="_blank" rel="noopener">JSX çš„è¯­æ³•</a>ï¼Œå®ƒå…è®¸ HTML ä¸ JavaScript çš„æ··å†™ï¼Œé‡åˆ° HTML æ ‡ç­¾ï¼ˆä»¥ <code>&lt;</code> å¼€å¤´ï¼‰ï¼Œå°±ç”¨ HTML è§„åˆ™è§£æï¼›é‡åˆ°ä»£ç å—ï¼ˆä»¥ <code>{</code> å¼€å¤´ï¼‰ï¼Œå°±ç”¨ JavaScript è§„åˆ™è§£æã€‚</p>
</li>
<li><p>JSX å…è®¸ç›´æ¥åœ¨æ¨¡æ¿æ’å…¥ JavaScript å˜é‡ã€‚å¦‚æœè¿™ä¸ªå˜é‡æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œåˆ™ä¼šå±•å¼€è¿™ä¸ªæ•°ç»„çš„æ‰€æœ‰æˆå‘˜</p>
</li>
</ul>
<h2 id="ç»„ä»¶"><a href="#ç»„ä»¶" class="headerlink" title="ç»„ä»¶"></a>ç»„ä»¶</h2><p>React å…è®¸å°†ä»£ç å°è£…æˆç»„ä»¶ï¼ˆcomponentï¼‰ï¼Œç„¶ååƒæ’å…¥æ™®é€š HTML æ ‡ç­¾ä¸€æ ·ï¼Œåœ¨ç½‘é¡µä¸­æ’å…¥è¿™ä¸ªç»„ä»¶ã€‚React.createClass æ–¹æ³•å°±ç”¨äºç”Ÿæˆä¸€ä¸ªç»„ä»¶ç±»</p>
<blockquote>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> HelloMessage = React.createClass(&#123;</span><br><span class="line">  render: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>Hello &#123;this.props.name&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">ReactDOM.render(</span><br><span class="line">  &lt;HelloMessage name=<span class="string">"John"</span> /&gt;,</span><br><span class="line">  <span class="built_in">document</span>.getElementById(<span class="string">'example'</span>)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
</blockquote>
<ul>
<li><p>ä¸Šé¢ä»£ç ä¸­ï¼Œå˜é‡ <code>HelloMessage</code> å°±æ˜¯ä¸€ä¸ªç»„ä»¶ç±»ã€‚æ¨¡æ¿æ’å…¥ <code>&lt;HelloMessage /&gt;</code> æ—¶ï¼Œä¼šè‡ªåŠ¨ç”Ÿæˆ <code>HelloMessage</code> çš„ä¸€ä¸ªå®ä¾‹ï¼ˆä¸‹æ–‡çš„â€ç»„ä»¶â€éƒ½æŒ‡ç»„ä»¶ç±»çš„å®ä¾‹ï¼‰ã€‚æ‰€æœ‰ç»„ä»¶ç±»éƒ½å¿…é¡»æœ‰è‡ªå·±çš„ <code>render</code> æ–¹æ³•ï¼Œç”¨äºè¾“å‡ºç»„ä»¶ã€‚</p>
</li>
<li><p>æ³¨æ„ï¼Œç»„ä»¶ç±»çš„ç¬¬ä¸€ä¸ªå­—æ¯å¿…é¡»å¤§å†™ï¼Œå¦åˆ™ä¼šæŠ¥é”™ï¼Œæ¯”å¦‚<code>HelloMessage</code>ä¸èƒ½å†™æˆ<code>helloMessage</code>ã€‚å¦å¤–ï¼Œç»„ä»¶ç±»åªèƒ½åŒ…å«ä¸€ä¸ªé¡¶å±‚æ ‡ç­¾ï¼Œå¦åˆ™ä¹Ÿä¼šæŠ¥é”™ã€‚</p>
</li>
<li><p>ç»„ä»¶çš„ç”¨æ³•ä¸åŸç”Ÿçš„ HTML æ ‡ç­¾å®Œå…¨ä¸€è‡´ï¼Œå¯ä»¥ä»»æ„åŠ å…¥å±æ€§ï¼Œæ¯”å¦‚ <code>&lt;HelloMessage name=&quot;John&quot;&gt;</code> ï¼Œå°±æ˜¯ <code>HelloMessage</code> ç»„ä»¶åŠ å…¥ä¸€ä¸ª <code>name</code> å±æ€§ï¼Œå€¼ä¸º <code>John</code>ã€‚ç»„ä»¶çš„å±æ€§å¯ä»¥åœ¨ç»„ä»¶ç±»çš„ <code>this.props</code> å¯¹è±¡ä¸Šè·å–ï¼Œæ¯”å¦‚ <code>name</code> å±æ€§å°±å¯ä»¥é€šè¿‡ <code>this.props.name</code> è¯»å–ã€‚</p>
</li>
<li><p>æ·»åŠ ç»„ä»¶å±æ€§ï¼Œæœ‰ä¸€ä¸ªåœ°æ–¹éœ€è¦æ³¨æ„ï¼Œå°±æ˜¯ <code>class</code> å±æ€§éœ€è¦å†™æˆ <code>className</code> ï¼Œ<code>for</code> å±æ€§éœ€è¦å†™æˆ <code>htmlFor</code> ï¼Œè¿™æ˜¯å› ä¸º <code>class</code> å’Œ <code>for</code> æ˜¯ JavaScript çš„ä¿ç•™å­—ã€‚</p>
</li>
</ul>
<h2 id="props"><a href="#props" class="headerlink" title="props"></a>props</h2><ul>
<li><code>this.props</code> å¯¹è±¡çš„å±æ€§ä¸ç»„ä»¶çš„å±æ€§ä¸€ä¸€å¯¹åº”ï¼Œä½†æ˜¯æœ‰ä¸€ä¸ªä¾‹å¤–ï¼Œå°±æ˜¯ <code>this.props.children</code> å±æ€§ã€‚å®ƒè¡¨ç¤ºç»„ä»¶çš„æ‰€æœ‰å­èŠ‚ç‚¹ã€‚è¿™ç§ç”¨æ³•æ˜¯å±äºreactä¸­çš„ç»„ä»¶çš„ç»„åˆï¼šå°†ä¸€ä¸ªç»„ä»¶å†™åœ¨å¦ä¸€ä¸ªç»„ä»¶çš„å†…å®¹ä¸­ï¼Œç„¶ååœ¨å¤–å±‚ç»„ä»¶ä¸­é€šè¿‡ this.props.childrenæ¥æ¥æ”¶å†…å®¹ä¸­çš„ç»„ä»¶ï¼Œ æ•ˆæœä¸Šç±»ä¼¼vueä¸­çš„æ’æ§½ã€‚</li>
</ul>
<blockquote>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> NotesList = React.createClass(&#123;</span><br><span class="line">  render: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;ol&gt;</span><br><span class="line">      &#123;</span><br><span class="line">        React.Children.map(<span class="keyword">this</span>.props.children, <span class="function"><span class="keyword">function</span> (<span class="params">child</span>) </span>&#123;</span><br><span class="line">          <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">li</span>&gt;</span>&#123;child&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span>;</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;</span><br><span class="line">      &lt;<span class="regexp">/ol&gt;</span></span><br><span class="line"><span class="regexp">    );</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp">&#125;);</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">ReactDOM.render(</span></span><br><span class="line"><span class="regexp">  &lt;NotesList&gt;</span></span><br><span class="line"><span class="regexp">    &lt;span&gt;hello&lt;/</span>span&gt;</span><br><span class="line">    &lt;span&gt;world&lt;<span class="regexp">/span&gt;</span></span><br><span class="line"><span class="regexp">  &lt;/</span>NotesList&gt;,</span><br><span class="line">  <span class="built_in">document</span>.body</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
</blockquote>
<p>ä¸Šé¢ä»£ç çš„ <code>NoteList</code> ç»„ä»¶æœ‰ä¸¤ä¸ª <code>span</code> å­èŠ‚ç‚¹ï¼Œå®ƒä»¬éƒ½å¯ä»¥é€šè¿‡ <code>this.props.children</code> è¯»å–ï¼Œè¿è¡Œç»“æœå¦‚ä¸‹ã€‚</p>
<p><img src="http://www.ruanyifeng.com/blogimg/asset/2015/bg2015033110.png" alt="img"></p>
<p>è¿™é‡Œéœ€è¦æ³¨æ„ï¼Œ <code>this.props.children</code> çš„å€¼æœ‰ä¸‰ç§å¯èƒ½ï¼šå¦‚æœå½“å‰ç»„ä»¶æ²¡æœ‰å­èŠ‚ç‚¹ï¼Œå®ƒå°±æ˜¯ <code>undefined</code> ;å¦‚æœæœ‰ä¸€ä¸ªå­èŠ‚ç‚¹ï¼Œæ•°æ®ç±»å‹æ˜¯ <code>object</code> ï¼›å¦‚æœæœ‰å¤šä¸ªå­èŠ‚ç‚¹ï¼Œæ•°æ®ç±»å‹å°±æ˜¯ <code>array</code> ã€‚æ‰€ä»¥ï¼Œå¤„ç† <code>this.props.children</code> çš„æ—¶å€™è¦å°å¿ƒã€‚</p>
<p>React æä¾›ä¸€ä¸ªå·¥å…·æ–¹æ³• <a href="https://facebook.github.io/react/docs/top-level-api.html#react.children" target="_blank" rel="noopener"><code>React.Children</code></a> æ¥å¤„ç† <code>this.props.children</code> ã€‚æˆ‘ä»¬å¯ä»¥ç”¨ <code>React.Children.map</code> æ¥éå†å­èŠ‚ç‚¹ï¼Œè€Œä¸ç”¨æ‹…å¿ƒ <code>this.props.children</code> çš„æ•°æ®ç±»å‹æ˜¯ <code>undefined</code> è¿˜æ˜¯ <code>object</code>ã€‚æ›´å¤šçš„ <code>React.Children</code> çš„æ–¹æ³•ï¼Œè¯·å‚è€ƒ<a href="https://facebook.github.io/react/docs/top-level-api.html#react.children" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£</a>ã€‚</p>
<h3 id="getDefaultProps-æ–¹æ³•å¯ä»¥ç”¨æ¥è®¾ç½®ç»„ä»¶å±æ€§çš„é»˜è®¤å€¼ã€‚"><a href="#getDefaultProps-æ–¹æ³•å¯ä»¥ç”¨æ¥è®¾ç½®ç»„ä»¶å±æ€§çš„é»˜è®¤å€¼ã€‚" class="headerlink" title="getDefaultProps æ–¹æ³•å¯ä»¥ç”¨æ¥è®¾ç½®ç»„ä»¶å±æ€§çš„é»˜è®¤å€¼ã€‚"></a><code>getDefaultProps</code> æ–¹æ³•å¯ä»¥ç”¨æ¥è®¾ç½®ç»„ä»¶å±æ€§çš„é»˜è®¤å€¼ã€‚</h3><blockquote>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> MyTitle = React.createClass(&#123;</span><br><span class="line">  getDefaultProps : <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      title : <span class="string">'Hello World'</span></span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  render: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">     <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">h1</span>&gt;</span> &#123;this.props.title&#125; <span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span>;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">ReactDOM.render(</span><br><span class="line">  &lt;MyTitle /&gt;,</span><br><span class="line">  <span class="built_in">document</span>.body</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
</blockquote>
<h2 id="è·å–çœŸå®çš„DOMèŠ‚ç‚¹"><a href="#è·å–çœŸå®çš„DOMèŠ‚ç‚¹" class="headerlink" title="è·å–çœŸå®çš„DOMèŠ‚ç‚¹"></a>è·å–çœŸå®çš„DOMèŠ‚ç‚¹</h2><p>ç»„ä»¶å¹¶ä¸æ˜¯çœŸå®çš„ DOM èŠ‚ç‚¹ï¼Œè€Œæ˜¯å­˜åœ¨äºå†…å­˜ä¹‹ä¸­çš„ä¸€ç§æ•°æ®ç»“æ„ï¼Œå«åšè™šæ‹Ÿ DOM ï¼ˆvirtual DOMï¼‰ã€‚åªæœ‰å½“å®ƒæ’å…¥æ–‡æ¡£ä»¥åï¼Œæ‰ä¼šå˜æˆçœŸå®çš„ DOM ã€‚æ ¹æ® React çš„è®¾è®¡ï¼Œæ‰€æœ‰çš„ DOM å˜åŠ¨ï¼Œéƒ½å…ˆåœ¨è™šæ‹Ÿ DOM ä¸Šå‘ç”Ÿï¼Œç„¶åå†å°†å®é™…å‘ç”Ÿå˜åŠ¨çš„éƒ¨åˆ†ï¼Œåæ˜ åœ¨çœŸå® DOMä¸Šï¼Œè¿™ç§ç®—æ³•å«åš <a href="http://calendar.perfplanet.com/2013/diff/" target="_blank" rel="noopener">DOM diff</a> ï¼Œå®ƒå¯ä»¥æå¤§æé«˜ç½‘é¡µçš„æ€§èƒ½è¡¨ç°ã€‚</p>
<p>ä½†æ˜¯ï¼Œæœ‰æ—¶éœ€è¦ä»ç»„ä»¶è·å–çœŸå® DOM çš„èŠ‚ç‚¹ï¼Œè¿™æ—¶å°±è¦ç”¨åˆ° <code>ref</code> å±æ€§ï¼ˆæŸ¥çœ‹ <a href="https://github.com/ruanyf/react-demos/blob/master/demo07/index.html" target="_blank" rel="noopener">demo07</a> ï¼‰ã€‚</p>
<blockquote>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> MyComponent = React.createClass(&#123;</span><br><span class="line">  handleClick: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.refs.myTextInput.focus();</span><br><span class="line">  &#125;,</span><br><span class="line">  render: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;input type=<span class="string">"text"</span> ref=<span class="string">"myTextInput"</span> /&gt;</span><br><span class="line">        &lt;input type=<span class="string">"button"</span> value=<span class="string">"Focus the text input"</span> onClick=&#123;<span class="keyword">this</span>.handleClick&#125; /&gt;</span><br><span class="line">      &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">    );</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp">&#125;);</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">ReactDOM.render(</span></span><br><span class="line"><span class="regexp">  &lt;MyComponent /</span>&gt;,</span><br><span class="line">  <span class="built_in">document</span>.getElementById(<span class="string">'example'</span>)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
</blockquote>
<p>ä¸Šé¢ä»£ç ä¸­ï¼Œç»„ä»¶ <code>MyComponent</code> çš„å­èŠ‚ç‚¹æœ‰ä¸€ä¸ªæ–‡æœ¬è¾“å…¥æ¡†ï¼Œç”¨äºè·å–ç”¨æˆ·çš„è¾“å…¥ã€‚è¿™æ—¶å°±å¿…é¡»è·å–çœŸå®çš„ DOM èŠ‚ç‚¹ï¼Œè™šæ‹Ÿ DOM æ˜¯æ‹¿ä¸åˆ°ç”¨æˆ·è¾“å…¥çš„ã€‚ä¸ºäº†åšåˆ°è¿™ä¸€ç‚¹ï¼Œæ–‡æœ¬è¾“å…¥æ¡†å¿…é¡»æœ‰ä¸€ä¸ª <code>ref</code> å±æ€§ï¼Œç„¶å <code>this.refs.[refName]</code> å°±ä¼šè¿”å›è¿™ä¸ªçœŸå®çš„ DOM èŠ‚ç‚¹ã€‚</p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç”±äº <code>this.refs.[refName]</code> å±æ€§è·å–çš„æ˜¯çœŸå® DOM ï¼Œæ‰€ä»¥å¿…é¡»ç­‰åˆ°è™šæ‹Ÿ DOM æ’å…¥æ–‡æ¡£ä»¥åï¼Œæ‰èƒ½ä½¿ç”¨è¿™ä¸ªå±æ€§ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚ä¸Šé¢ä»£ç ä¸­ï¼Œé€šè¿‡ä¸ºç»„ä»¶æŒ‡å®š <code>Click</code> äº‹ä»¶çš„å›è°ƒå‡½æ•°ï¼Œç¡®ä¿äº†åªæœ‰ç­‰åˆ°çœŸå® DOM å‘ç”Ÿ <code>Click</code> äº‹ä»¶ä¹‹åï¼Œæ‰ä¼šè¯»å– <code>this.refs.[refName]</code> å±æ€§ã€‚</p>
<p>React ç»„ä»¶æ”¯æŒå¾ˆå¤šäº‹ä»¶ï¼Œé™¤äº† <code>Click</code> äº‹ä»¶ä»¥å¤–ï¼Œè¿˜æœ‰ <code>KeyDown</code> ã€<code>Copy</code>ã€<code>Scroll</code> ç­‰ï¼Œå®Œæ•´çš„äº‹ä»¶æ¸…å•è¯·æŸ¥çœ‹<a href="http://facebook.github.io/react/docs/events.html#supported-events" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£</a>ã€‚</p>
<h2 id="this-state"><a href="#this-state" class="headerlink" title="this.state"></a>this.state</h2><p>ç»„ä»¶å…ä¸äº†è¦ä¸ç”¨æˆ·äº’åŠ¨ï¼ŒReact çš„ä¸€å¤§åˆ›æ–°ï¼Œå°±æ˜¯å°†ç»„ä»¶çœ‹æˆæ˜¯ä¸€ä¸ªçŠ¶æ€æœºï¼Œä¸€å¼€å§‹æœ‰ä¸€ä¸ªåˆå§‹çŠ¶æ€ï¼Œç„¶åç”¨æˆ·äº’åŠ¨ï¼Œå¯¼è‡´çŠ¶æ€å˜åŒ–ï¼Œä»è€Œè§¦å‘é‡æ–°æ¸²æŸ“ UI ï¼ˆæŸ¥çœ‹ <a href="https://github.com/ruanyf/react-demos/blob/master/demo08/index.html" target="_blank" rel="noopener"><code>demo08</code></a> ï¼‰ã€‚</p>
<blockquote>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> LikeButton = React.createClass(&#123;</span><br><span class="line">  getInitialState: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;<span class="attr">liked</span>: <span class="literal">false</span>&#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  handleClick: <span class="function"><span class="keyword">function</span>(<span class="params">event</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.setState(&#123;<span class="attr">liked</span>: !<span class="keyword">this</span>.state.liked&#125;);</span><br><span class="line">  &#125;,</span><br><span class="line">  render: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> text = <span class="keyword">this</span>.state.liked ? <span class="string">'like'</span> : <span class="string">'haven\'t liked'</span>;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;p onClick=&#123;<span class="keyword">this</span>.handleClick&#125;&gt;</span><br><span class="line">        You &#123;text&#125; <span class="keyword">this</span>. Click to toggle.</span><br><span class="line">      &lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">    );</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp">&#125;);</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">ReactDOM.render(</span></span><br><span class="line"><span class="regexp">  &lt;LikeButton /</span>&gt;,</span><br><span class="line">  <span class="built_in">document</span>.getElementById(<span class="string">'example'</span>)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
</blockquote>
<p>ä¸Šé¢ä»£ç æ˜¯ä¸€ä¸ª <code>LikeButton</code> ç»„ä»¶ï¼Œå®ƒçš„ <code>getInitialState</code> æ–¹æ³•ç”¨äºå®šä¹‰åˆå§‹çŠ¶æ€ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡å¯ä»¥é€šè¿‡ <code>this.state</code> å±æ€§è¯»å–ã€‚å½“ç”¨æˆ·ç‚¹å‡»ç»„ä»¶ï¼Œå¯¼è‡´çŠ¶æ€å˜åŒ–ï¼Œ<code>this.setState</code> æ–¹æ³•å°±ä¿®æ”¹çŠ¶æ€å€¼ï¼Œæ¯æ¬¡ä¿®æ”¹ä»¥åï¼Œè‡ªåŠ¨è°ƒç”¨ <code>this.render</code> æ–¹æ³•ï¼Œå†æ¬¡æ¸²æŸ“ç»„ä»¶ã€‚</p>
<p>ç”±äº <code>this.props</code> å’Œ <code>this.state</code> éƒ½ç”¨äºæè¿°ç»„ä»¶çš„ç‰¹æ€§ï¼Œå¯èƒ½ä¼šäº§ç”Ÿæ··æ·†ã€‚ä¸€ä¸ªç®€å•çš„åŒºåˆ†æ–¹æ³•æ˜¯ï¼Œ<code>this.props</code> è¡¨ç¤ºé‚£äº›ä¸€æ—¦å®šä¹‰ï¼Œå°±ä¸å†æ”¹å˜çš„ç‰¹æ€§ï¼Œè€Œ <code>this.state</code> æ˜¯ä¼šéšç€ç”¨æˆ·äº’åŠ¨è€Œäº§ç”Ÿå˜åŒ–çš„ç‰¹æ€§ã€‚</p>
<h2 id="è¡¨å•"><a href="#è¡¨å•" class="headerlink" title="è¡¨å•"></a>è¡¨å•</h2><p>ç”¨æˆ·åœ¨è¡¨å•å¡«å…¥çš„å†…å®¹ï¼Œå±äºç”¨æˆ·è·Ÿç»„ä»¶çš„äº’åŠ¨ï¼Œæ‰€ä»¥ä¸èƒ½ç”¨ <code>this.props</code> è¯»å–ï¼ˆæŸ¥çœ‹ <a href="https://github.com/ruanyf/react-demos/blob/master/demo09/index.html" target="_blank" rel="noopener"><code>demo9</code></a> ï¼‰ã€‚</p>
<blockquote>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> Input = React.createClass(&#123;</span><br><span class="line">  getInitialState: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;<span class="attr">value</span>: <span class="string">'Hello!'</span>&#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  handleChange: <span class="function"><span class="keyword">function</span>(<span class="params">event</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.setState(&#123;<span class="attr">value</span>: event.target.value&#125;);</span><br><span class="line">  &#125;,</span><br><span class="line">  render: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> value = <span class="keyword">this</span>.state.value;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;input type=<span class="string">"text"</span> value=&#123;value&#125; onChange=&#123;<span class="keyword">this</span>.handleChange&#125; /&gt;</span><br><span class="line">        &lt;p&gt;&#123;value&#125;&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">      &lt;/</span>div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">ReactDOM.render(<span class="xml"><span class="tag">&lt;<span class="name">Input</span>/&gt;</span></span>, <span class="built_in">document</span>.body);</span><br></pre></td></tr></table></figure>
</blockquote>
<p>ä¸Šé¢ä»£ç ä¸­ï¼Œæ–‡æœ¬è¾“å…¥æ¡†çš„å€¼ï¼Œä¸èƒ½ç”¨ <code>this.props.value</code> è¯»å–ï¼Œè€Œè¦å®šä¹‰ä¸€ä¸ª <code>onChange</code> äº‹ä»¶çš„å›è°ƒå‡½æ•°ï¼Œé€šè¿‡ <code>event.target.value</code> è¯»å–ç”¨æˆ·è¾“å…¥çš„å€¼ã€‚<code>textarea</code> å…ƒç´ ã€<code>select</code>å…ƒç´ ã€<code>radio</code>å…ƒç´ éƒ½å±äºè¿™ç§æƒ…å†µï¼Œæ›´å¤šä»‹ç»è¯·å‚è€ƒ<a href="http://facebook.github.io/react/docs/forms.html" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£</a>ã€‚</p>
<h2 id="ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸ"><a href="#ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸ"></a>ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸ</h2><p>ç»„ä»¶çš„<a href="https://facebook.github.io/react/docs/working-with-the-browser.html#component-lifecycle" target="_blank" rel="noopener">ç”Ÿå‘½å‘¨æœŸ</a>åˆ†æˆä¸‰ä¸ªçŠ¶æ€ï¼š</p>
<blockquote>
<ul>
<li>Mountingï¼šå·²æ’å…¥çœŸå® DOM</li>
<li>Updatingï¼šæ­£åœ¨è¢«é‡æ–°æ¸²æŸ“</li>
<li>Unmountingï¼šå·²ç§»å‡ºçœŸå® DOM</li>
</ul>
</blockquote>
<p>React ä¸ºæ¯ä¸ªçŠ¶æ€éƒ½æä¾›äº†ä¸¤ç§å¤„ç†å‡½æ•°ï¼Œ<code>will</code> å‡½æ•°åœ¨è¿›å…¥çŠ¶æ€ä¹‹å‰è°ƒç”¨ï¼Œ<code>did</code> å‡½æ•°åœ¨è¿›å…¥çŠ¶æ€ä¹‹åè°ƒç”¨ï¼Œä¸‰ç§çŠ¶æ€å…±è®¡äº”ç§å¤„ç†å‡½æ•°ã€‚</p>
<blockquote>
<ul>
<li>componentWillMount()</li>
<li>componentDidMount()</li>
<li>componentWillUpdate(object nextProps, object nextState)</li>
<li>componentDidUpdate(object prevProps, object prevState)</li>
<li>componentWillUnmount()</li>
</ul>
</blockquote>
<p>æ­¤å¤–ï¼ŒReact è¿˜æä¾›ä¸¤ç§ç‰¹æ®ŠçŠ¶æ€çš„å¤„ç†å‡½æ•°ã€‚</p>
<blockquote>
<ul>
<li>componentWillReceiveProps(object nextProps)ï¼šå·²åŠ è½½ç»„ä»¶æ”¶åˆ°æ–°çš„å‚æ•°æ—¶è°ƒç”¨</li>
<li>shouldComponentUpdate(object nextProps, object nextState)ï¼šç»„ä»¶åˆ¤æ–­æ˜¯å¦é‡æ–°æ¸²æŸ“æ—¶è°ƒç”¨</li>
</ul>
</blockquote>
]]></content>
      <categories>
        <category>react</category>
      </categories>
      <tags>
        <tag>react</tag>
        <tag>è„šæ‰‹æ¶</tag>
        <tag>create-react-app</tag>
      </tags>
  </entry>
  <entry>
    <title>thisä¹‹å¸¸è§çš„å››ç§ç”¨æ³•</title>
    <url>/2020/09/27/this%E4%B9%8B%E5%B8%B8%E8%A7%81%E7%9A%84%E5%9B%9B%E7%A7%8D%E7%94%A8%E6%B3%95/</url>
    <content><![CDATA[<p><span style="color:red;">ç®­å¤´å‡½æ•°çš„thisæŒ‡å‘windowï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼</span></p>
<p>1.åœ¨ä¸€èˆ¬å‡½æ•°æ–¹æ³•ä¸­ä½¿ç”¨ this æŒ‡ä»£å…¨å±€å¯¹è±¡</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function test()&#123;</span><br><span class="line">ã€€ã€€ã€€ã€€this.x &#x3D; 1;</span><br><span class="line">ã€€ã€€ã€€ã€€alert(this.x);</span><br><span class="line">&#125;</span><br><span class="line">test(); &#x2F;&#x2F; 1</span><br></pre></td></tr></table></figure>

<a id="more"></a>

<p>2.ä½œä¸ºå¯¹è±¡æ–¹æ³•è°ƒç”¨ï¼Œthis æŒ‡ä»£ä¸Šçº§å¯¹è±¡</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">æƒ…å†µä¸€</span><br><span class="line">var x&#x3D;10</span><br><span class="line">function test()&#123;</span><br><span class="line">ã€€ã€€alert(this.x);</span><br><span class="line">&#125;</span><br><span class="line">var o &#x3D; &#123;&#125;;</span><br><span class="line">o.x &#x3D; 1;</span><br><span class="line">o.m &#x3D; test;</span><br><span class="line">o.m(); &#x2F;&#x2F; 1 thisæŒ‡çš„æ˜¯å¯¹è±¡</span><br><span class="line"></span><br><span class="line">æƒ…å†µäºŒ</span><br><span class="line">var x&#x3D;10</span><br><span class="line">function test()&#123;</span><br><span class="line">ã€€ã€€alert(this.x);</span><br><span class="line">&#125;</span><br><span class="line">var o &#x3D; &#123;&#125;;</span><br><span class="line">o.x &#x3D; 1;</span><br><span class="line">o.m &#x3D; test;</span><br><span class="line">var qa&#x3D;o.m</span><br><span class="line">qa(); &#x2F;&#x2F; 10 thisæŒ‡çš„æ˜¯window</span><br></pre></td></tr></table></figure>



<p>3.ä½œä¸ºæ„é€ å‡½æ•°è°ƒç”¨ï¼Œthis æŒ‡ä»£new å‡ºçš„å¯¹è±¡</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ã€€ã€€function test()&#123;</span><br><span class="line">ã€€ã€€ã€€ã€€this.x &#x3D; 1;</span><br><span class="line">ã€€ã€€&#125;</span><br><span class="line">ã€€ã€€var o &#x3D; new test();</span><br><span class="line">ã€€ã€€alert(o.x); &#x2F;&#x2F; 1</span><br><span class="line">&#x2F;&#x2F;è¿è¡Œç»“æœä¸º1ã€‚ä¸ºäº†è¡¨æ˜è¿™æ—¶thisä¸æ˜¯å…¨å±€å¯¹è±¡ï¼Œæˆ‘å¯¹ä»£ç åšä¸€äº›æ”¹å˜ï¼š</span><br><span class="line">ã€€ã€€var x &#x3D; 2;</span><br><span class="line">ã€€ã€€function test()&#123;</span><br><span class="line">ã€€ã€€ã€€ã€€this.x &#x3D; 1;</span><br><span class="line">ã€€ã€€&#125;</span><br><span class="line">ã€€ã€€var o &#x3D; new test();</span><br><span class="line">ã€€ã€€alert(x); &#x2F;&#x2F;2</span><br></pre></td></tr></table></figure>



<p>4.apply è°ƒç”¨ ï¼Œapplyæ–¹æ³•ä½œç”¨æ˜¯æ”¹å˜å‡½æ•°çš„è°ƒç”¨å¯¹è±¡ï¼Œæ­¤æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºæ”¹å˜åè°ƒç”¨è¿™ä¸ªå‡½æ•°çš„å¯¹è±¡ï¼ŒthisæŒ‡ä»£ç¬¬ä¸€ä¸ªå‚æ•°</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ã€€ã€€var x &#x3D; 0;</span><br><span class="line">ã€€ã€€function test()&#123;</span><br><span class="line">ã€€ã€€ã€€ã€€alert(this.x);</span><br><span class="line">ã€€ã€€&#125;</span><br><span class="line">ã€€ã€€var o&#x3D;&#123;&#125;;</span><br><span class="line">ã€€ã€€o.x &#x3D; 1;</span><br><span class="line">ã€€ã€€o.m &#x3D; test;</span><br><span class="line">ã€€ã€€o.m.apply(); &#x2F;&#x2F;0</span><br><span class="line">&#x2F;&#x2F;apply()çš„å‚æ•°ä¸ºç©ºæ—¶ï¼Œé»˜è®¤è°ƒç”¨å…¨å±€å¯¹è±¡ã€‚å› æ­¤ï¼Œè¿™æ—¶çš„è¿è¡Œç»“æœä¸º0ï¼Œè¯æ˜thisæŒ‡çš„æ˜¯å…¨å±€å¯¹è±¡ã€‚å¦‚æœæŠŠæœ€åä¸€è¡Œä»£ç ä¿®æ”¹ä¸º</span><br><span class="line"></span><br><span class="line">ã€€ã€€o.m.apply(o); &#x2F;&#x2F;1</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>js</category>
      </categories>
      <tags>
        <tag>js</tag>
        <tag>this</tag>
      </tags>
  </entry>
  <entry>
    <title>seeckyä¹‹åœ°å›¾å¼€å‘è®°å½•</title>
    <url>/2020/12/23/seecky%E4%B9%8B%E5%9C%B0%E5%9B%BE%E5%BC%80%E5%8F%91%E8%AE%B0%E5%BD%95/</url>
    <content><![CDATA[<h2 id="reactå¼€å‘è®°å½•"><a href="#reactå¼€å‘è®°å½•" class="headerlink" title="reactå¼€å‘è®°å½•"></a>reactå¼€å‘è®°å½•</h2><p>æ‚è®°</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">Fragment </span><br><span class="line"><span class="keyword">import</span> React, &#123; Component, Fragment &#125; <span class="keyword">from</span> <span class="string">'react'</span></span><br><span class="line">&lt;Fragment&gt;</span><br><span class="line">    </span><br><span class="line">&lt;<span class="regexp">/Fragment&gt;</span></span><br><span class="line"><span class="regexp">ä¸æƒ³ç”Ÿæˆå¤šä½™çš„æ ‡ç­¾å¯ä»¥ç”¨è¿™ä¸ªï¼Œç›¸å½“äº&lt;template&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="åŸºæœ¬ç»“æ„"><a href="#åŸºæœ¬ç»“æ„" class="headerlink" title="åŸºæœ¬ç»“æ„"></a>åŸºæœ¬ç»“æ„</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class testComp extends Component&#123;</span><br><span class="line">constructor(props)&#123;</span><br><span class="line">	super(props) &#x2F;&#x2F;æ¥å—å…¶ä»–ç»„ä»¶çš„å‚æ•°,å¿…é¡»åœ¨ä½¿ç”¨thisä¹‹å‰è°ƒç”¨</span><br><span class="line">	this.state&#x3D;&#123; &#x2F;&#x2F;å®šä¹‰è‡ªå·±çš„å˜é‡</span><br><span class="line">			num:1,</span><br><span class="line">			flag:true</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">...</span><br><span class="line">...</span><br><span class="line">export default testComp</span><br></pre></td></tr></table></figure>

<p>*<em>tips: *</em></p>
<p>Es6ä¸­çš„superå¯ä»¥ç”¨åœ¨ç±»çš„ç»§æ‰¿ä¸­ï¼Œsuperå…³é”®å­—ï¼Œå®ƒæŒ‡ä»£çˆ¶ç±»çš„å®ä¾‹ï¼ˆå³çˆ¶ç±»çš„thiså¯¹è±¡ï¼‰ã€‚</p>
<p>å­ç±»å¿…é¡»åœ¨constructoræ–¹æ³•ä¸­è°ƒç”¨superæ–¹æ³•ï¼Œå¦åˆ™æ–°å»ºå®ä¾‹æ—¶ä¼šæŠ¥é”™ã€‚è¿™æ˜¯å› ä¸ºå­ç±»æ²¡æœ‰è‡ªå·±çš„thiså¯¹è±¡ï¼Œè€Œæ˜¯ç»§æ‰¿çˆ¶ç±»çš„thiså¯¹è±¡ï¼Œç„¶åå¯¹å…¶è¿›è¡ŒåŠ å·¥ã€‚</p>
<p>å¦‚æœä¸è°ƒç”¨superæ–¹æ³•ï¼Œå­ç±»å°±å¾—ä¸åˆ°thiså¯¹è±¡ã€‚</p>
<a id="more"></a>

<h3 id="åˆ›å»ºç»„ä»¶çš„ä¸¤ç§æ–¹å¼"><a href="#åˆ›å»ºç»„ä»¶çš„ä¸¤ç§æ–¹å¼" class="headerlink" title="åˆ›å»ºç»„ä»¶çš„ä¸¤ç§æ–¹å¼"></a>åˆ›å»ºç»„ä»¶çš„ä¸¤ç§æ–¹å¼</h3><p>å‡½æ•°å¼ç»„ä»¶</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">'react'</span></span><br><span class="line"><span class="keyword">import</span> ReactDOM <span class="keyword">from</span> <span class="string">'react-dom'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> App = <span class="function">(<span class="params">props</span>) =&gt;</span> <span class="xml"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>æ¬¢è¿è¿›å…¥&#123;props.name&#125;çš„ä¸–ç•Œ<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">ReactDOM.render(</span><br><span class="line">  <span class="comment">// Reactç»„ä»¶çš„è°ƒç”¨æ–¹å¼</span></span><br><span class="line">  &lt;App name=<span class="string">"react"</span> /&gt;,</span><br><span class="line">  <span class="built_in">document</span>.getElementById(<span class="string">'root'</span>)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>classç»„ä»¶</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">'react'</span></span><br><span class="line"><span class="keyword">import</span> ReactDOM <span class="keyword">from</span> <span class="string">'react-dom'</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">App</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">  render () &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      <span class="comment">// æ³¨æ„è¿™é‡Œå¾—ç”¨this.props.name, å¿…é¡»ç”¨this.props</span></span><br><span class="line">      &lt;h1&gt;æ¬¢è¿è¿›å…¥&#123;<span class="keyword">this</span>.props.name&#125;çš„ä¸–ç•Œ&lt;<span class="regexp">/h1&gt;</span></span><br><span class="line"><span class="regexp">    )</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp">ReactDOM.render(</span></span><br><span class="line"><span class="regexp">  &lt;App name="react" /</span>&gt;,</span><br><span class="line">  <span class="built_in">document</span>.getElementById(<span class="string">'root'</span>)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>



<h3 id="å±æ€§-props"><a href="#å±æ€§-props" class="headerlink" title="å±æ€§(props)"></a>å±æ€§(props)</h3><p>æ€»çš„æ¥è¯´ï¼Œåœ¨ä½¿ç”¨ä¸€ä¸ªç»„ä»¶çš„æ—¶å€™ï¼Œå¯ä»¥æŠŠå‚æ•°æ”¾åœ¨æ ‡ç­¾çš„å±æ€§å½“ä¸­ï¼Œæ‰€æœ‰çš„å±æ€§éƒ½ä¼šä½œä¸ºç»„ä»¶ <code>props</code> å¯¹è±¡çš„é”®å€¼ã€‚é€šè¿‡ç®­å¤´å‡½æ•°åˆ›å»ºçš„ç»„ä»¶ï¼Œéœ€è¦é€šè¿‡å‡½æ•°çš„å‚æ•°æ¥æ¥æ”¶<code>props</code>:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; Component, Fragment &#125; <span class="keyword">from</span> <span class="string">'react'</span></span><br><span class="line"><span class="keyword">import</span> ReactDOM <span class="keyword">from</span> <span class="string">'react-dom'</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Title</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  render () &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">        &lt;h1&gt;æ¬¢è¿è¿›å…¥&#123;<span class="keyword">this</span>.props.name&#125;çš„ä¸–ç•Œ&lt;<span class="regexp">/h1&gt;</span></span><br><span class="line"><span class="regexp">    )</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">const Content = (props) =&gt; &#123;</span></span><br><span class="line"><span class="regexp">  return (</span></span><br><span class="line"><span class="regexp">    &lt;p&gt;&#123;props.name&#125;æ˜¯ä¸€ä¸ªæ„å»ºUIçš„åº“&lt;/</span>p&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">App</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  render () &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">        &lt;Fragment&gt;</span><br><span class="line">        &lt;Title name=<span class="string">"React"</span> /&gt;</span><br><span class="line">        &lt;Content name=<span class="string">"React.js"</span> /&gt;</span><br><span class="line">      &lt;<span class="regexp">/Fragment&gt;</span></span><br><span class="line"><span class="regexp">    )</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">ReactDOM.render(</span></span><br><span class="line"><span class="regexp">    &lt;App/</span>&gt;,</span><br><span class="line">  <span class="built_in">document</span>.getElementById(<span class="string">'root'</span>)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>



<h3 id="è®¾ç½®ç»„ä»¶çš„é»˜è®¤props"><a href="#è®¾ç½®ç»„ä»¶çš„é»˜è®¤props" class="headerlink" title="è®¾ç½®ç»„ä»¶çš„é»˜è®¤props"></a>è®¾ç½®ç»„ä»¶çš„é»˜è®¤props</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; Component, Fragment &#125; <span class="keyword">from</span> <span class="string">'react'</span></span><br><span class="line"><span class="keyword">import</span> ReactDOM <span class="keyword">from</span> <span class="string">'react-dom'</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Title</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="comment">// ä½¿ç”¨ç±»åˆ›å»ºçš„ç»„ä»¶ï¼Œç›´æ¥åœ¨è¿™é‡Œå†™staticæ–¹æ³•ï¼Œåˆ›å»ºdefaultProps</span></span><br><span class="line">  <span class="keyword">static</span> defaultProps = &#123;</span><br><span class="line">    name: <span class="string">'React'</span></span><br><span class="line">  &#125;</span><br><span class="line">  render () &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">        &lt;h1&gt;æ¬¢è¿è¿›å…¥&#123;<span class="keyword">this</span>.props.name&#125;çš„ä¸–ç•Œ&lt;<span class="regexp">/h1&gt;</span></span><br><span class="line"><span class="regexp">    )</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">const Content = (props) =&gt; &#123;</span></span><br><span class="line"><span class="regexp">  return (</span></span><br><span class="line"><span class="regexp">    &lt;p&gt;&#123;props.name&#125;æ˜¯ä¸€ä¸ªæ„å»ºUIçš„åº“&lt;/</span>p&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨ç®­å¤´å‡½æ•°åˆ›å»ºçš„ç»„ä»¶ï¼Œéœ€è¦åœ¨è¿™ä¸ªç»„ä»¶ä¸Šç›´æ¥å†™defaultPropså±æ€§</span></span><br><span class="line">Content.defaultProps = &#123;</span><br><span class="line">  name: <span class="string">'React.js'</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">App</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  render () &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">        &lt;Fragment&gt;</span><br><span class="line">        &#123;<span class="comment">/* ç”±äºè®¾ç½®äº†defaultPropsï¼Œ ä¸ä¼ propsä¹Ÿèƒ½æ­£å¸¸è¿è¡Œï¼Œå¦‚æœä¼ é€’äº†å°±ä¼šè¦†ç›–defaultPropsçš„å€¼ */</span>&#125;</span><br><span class="line">        &lt;Title /&gt;</span><br><span class="line">        &lt;Content /&gt;</span><br><span class="line">      &lt;<span class="regexp">/Fragment&gt;</span></span><br><span class="line"><span class="regexp">    )</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">ReactDOM.render(</span></span><br><span class="line"><span class="regexp">    &lt;App/</span>&gt;,</span><br><span class="line">  <span class="built_in">document</span>.getElementById(<span class="string">'root'</span>)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>



<h3 id="props-children"><a href="#props-children" class="headerlink" title="props.children"></a>props.children</h3><p>è¦åœ¨è‡ªå®šä¹‰ç»„ä»¶çš„ä½¿ç”¨åµŒå¥—ç»“æ„ï¼Œå°±éœ€è¦ä½¿ç”¨ <code>props.children</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; Component, Fragment &#125; <span class="keyword">from</span> <span class="string">'react'</span></span><br><span class="line"><span class="keyword">import</span> ReactDOM <span class="keyword">from</span> <span class="string">'react-dom'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> Content = <span class="function">(<span class="params">props</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;p&gt;&#123;props.children&#125;&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">  )</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">class App extends Component &#123;</span></span><br><span class="line"><span class="regexp">  render () &#123;</span></span><br><span class="line"><span class="regexp">    return (</span></span><br><span class="line"><span class="regexp">        &lt;Fragment&gt;</span></span><br><span class="line"><span class="regexp">        &lt;Content&gt;&lt;i&gt;React.js&lt;/i</span>&gt;æ˜¯ä¸€ä¸ªæ„å»ºUIçš„åº“&lt;<span class="regexp">/Content&gt;</span></span><br><span class="line"><span class="regexp">      &lt;/</span>Fragment&gt;</span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ReactDOM.render(</span><br><span class="line">    &lt;App/&gt;,</span><br><span class="line">  <span class="built_in">document</span>.getElementById(<span class="string">'root'</span>)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<h3 id="ä½¿ç”¨prop-typesæ£€æµ‹propsæ•°æ®ç±»å‹"><a href="#ä½¿ç”¨prop-typesæ£€æµ‹propsæ•°æ®ç±»å‹" class="headerlink" title="ä½¿ç”¨prop-typesæ£€æµ‹propsæ•°æ®ç±»å‹"></a>ä½¿ç”¨prop-typesæ£€æµ‹propsæ•°æ®ç±»å‹</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;å®‰è£…</span><br><span class="line">npm install prop-types --save</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;å¼•å…¥</span><br><span class="line">import PropTypes from &#39;prop-types&#39;;</span><br><span class="line">TodoItem.propTypes &#x3D; &#123;</span><br><span class="line">    test: PropTypes.string.isRequired,   &#x2F;&#x2F;åŠ ä¸ŠisRequiredä»¥åï¼Œå³ä½¿çˆ¶ç»„ä»¶æ²¡ä¼ é€’å€¼ä¹Ÿä¼šæŠ›å‡ºè­¦å‘Š</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">import PropTypes from &#39;prop-types&#39;;</span><br><span class="line">TodoItem.propTypes &#x3D; &#123;</span><br><span class="line">    test: PropTypes.arrayOf(PropTypes.string, PropTypes.number)   &#x2F;&#x2F;å¯ä»¥è®¾ç½®å¤šä¸ªç±»å‹</span><br><span class="line">ã€€ã€€ test: PropTypes.oneOfType([PropTypes.string, PropTypes.number])   &#x2F;&#x2F;ç¬¦åˆä»»æ„ä¸€ä¸ªç±»å‹å³å¯</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">é‚£ä¹ˆå¦‚ä½•è§£å†³çˆ¶ç»„ä»¶æ²¡ä¼ é€’å€¼ä¹Ÿä¼šæŠ›å‡ºçš„è­¦å‘Šå‘¢ï¼Ÿå¯ä»¥ä½¿ç”¨reacté‡Œçš„defaultPropsæ¥è®¾ç½®é»˜è®¤çš„propså€¼</span><br><span class="line">TodoItem.defaultProps &#x3D; &#123;</span><br><span class="line">  test: &#39;hello word&#39;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¯¦è§£: <a href="https://www.cnblogs.com/sexintercourse/p/12054344.html" target="_blank" rel="noopener">https://www.cnblogs.com/sexintercourse/p/12054344.html</a></p>
<h3 id="ç”Ÿå‘½å‘¨æœŸï¼ˆé’©å­å‡½æ•°ï¼‰"><a href="#ç”Ÿå‘½å‘¨æœŸï¼ˆé’©å­å‡½æ•°ï¼‰" class="headerlink" title="ç”Ÿå‘½å‘¨æœŸï¼ˆé’©å­å‡½æ•°ï¼‰"></a>ç”Ÿå‘½å‘¨æœŸï¼ˆé’©å­å‡½æ•°ï¼‰</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">domæ¸²æŸ“æˆåŠŸå‰ï¼ˆç›¸å½“äºbeforeMountedï¼‰</span><br><span class="line">componentWillMount()&#123;</span><br><span class="line">...</span><br><span class="line">&#125;</span><br><span class="line">æ¸²æŸ“å‡½æ•°</span><br><span class="line">render()&#123;</span><br><span class="line">	return (</span><br><span class="line">		&lt;div&gt;</span><br><span class="line">			123456</span><br><span class="line">			&lt;div&gt;123456&lt;&#x2F;div&gt;</span><br><span class="line">		&lt;&#x2F;div&gt;</span><br><span class="line">	)</span><br><span class="line">&#125;</span><br><span class="line">domæ¸²æŸ“æˆåŠŸåï¼ˆç›¸å½“äºmountedï¼‰</span><br><span class="line">componentDidMount()&#123;</span><br><span class="line">...</span><br><span class="line">&#125;</span><br><span class="line">å¸è½½å‰</span><br><span class="line">componentWillUnmount()&#123;</span><br><span class="line">...</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">è§¦å‘çš„ä¸€ç³»åˆ—çš„æ–¹æ³• ï¼Œè¿™å°±æ˜¯ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°</span><br><span class="line"></span><br><span class="line">ç»„ä»¶åŠ è½½çš„æ—¶å€™è§¦å‘çš„å‡½æ•°ï¼š</span><br><span class="line"></span><br><span class="line">    constructor ã€componentWillMountã€ render ã€componentDidMount</span><br><span class="line"></span><br><span class="line">ç»„ä»¶æ•°æ®æ›´æ–°çš„æ—¶å€™è§¦å‘çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼š</span><br><span class="line"></span><br><span class="line">    shouldComponentUpdateã€componentWillUpdateã€renderã€componentDidUpdate</span><br><span class="line"></span><br><span class="line">ä½ åœ¨çˆ¶ç»„ä»¶é‡Œé¢æ”¹å˜propsä¼ å€¼çš„æ—¶å€™è§¦å‘çš„ï¼š</span><br><span class="line"></span><br><span class="line">    componentWillReceiveProps</span><br><span class="line"></span><br><span class="line">ç»„ä»¶é”€æ¯çš„æ—¶å€™è§¦å‘çš„ï¼š</span><br><span class="line"></span><br><span class="line">    componentWillUnmount</span><br><span class="line"></span><br><span class="line">å¿…é¡»è®°ä½çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼š</span><br><span class="line"></span><br><span class="line">    *åŠ è½½çš„æ—¶å€™ï¼šcomponentWillMountã€ render ã€componentDidMountï¼ˆdomæ“ä½œï¼‰</span><br><span class="line"></span><br><span class="line">    æ›´æ–°çš„æ—¶å€™ï¼šcomponentWillUpdateã€renderã€componentDidUpdate</span><br><span class="line"></span><br><span class="line">    *é”€æ¯çš„æ—¶å€™ï¼š componentWillUnmount</span><br></pre></td></tr></table></figure>

<p><img src="https://upload-images.jianshu.io/upload_images/16775500-8d325f8093591c76.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/740/format/webp" alt="img"></p>
<h3 id="JSXè¯­æ³•"><a href="#JSXè¯­æ³•" class="headerlink" title="JSXè¯­æ³•"></a>JSXè¯­æ³•</h3><p>JSX å³Javascript XMLï¼Œå®ƒæ˜¯å¯¹JavaScript è¯­æ³•æ‰©å±•ã€‚React ä½¿ç”¨ JSX æ¥æ›¿ä»£å¸¸è§„çš„ JavaScriptã€‚ä½ ä¹Ÿå¯ä»¥è®¤ä¸ºJSXå…¶å®å°±æ˜¯JavaScriptã€‚å½“é‡åˆ°&lt;ï¼ŒJSXå°±å½“HTMLè§£æï¼Œé‡åˆ°{å°±å½“JavaScriptè§£æã€‚</p>
<p><strong>æœ€å¤–å±‚åªèƒ½åµŒå¥—ä¸€ä¸ªæ¯æ ‡ç­¾ï¼Œä¸è¦åµŒå¥—å¤šä¸ª</strong></p>
<p><strong>æ”¯æŒè¡¨è¾¾å¼ï¼Œåªéœ€è¦å°†è¡¨è¾¾å¼å†™åˆ°{}å†…å³å¯ï¼Œä¸èƒ½ä½¿ç”¨if else çš„ï¼Œä½†å¯ä»¥ä½¿ç”¨ä¸‰å…ƒè¿ç®—è¡¨è¾¾å¼</strong><br><strong>æ‰€æœ‰å˜é‡æˆ–è€…æ–¹æ³•ä½¿ç”¨{}ï¼Œstyleä½¿ç”¨æ’å€¼è¡¨è¾¾å¼ï¼Œæ–¹å¼è°ƒç”¨æˆ–è€…æ˜¯</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;script type&#x3D;&quot;text&#x2F;babel&quot;&gt;</span><br><span class="line">    var ok&#x3D;1;</span><br><span class="line">    ReactDOM.render(</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">            &lt;p&gt;&#123;ok&#x3D;&#x3D;1?&quot;æˆ‘å¾ˆå¸…&quot;:&quot;æˆ‘å¾ˆæœ‰æ‰å&quot;&#125;&lt;&#x2F;p&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;,</span><br><span class="line">        document.querySelector(&quot;#wrap&quot;)</span><br><span class="line">    )</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>



<h3 id="dangerouslySetHTMLï¼ˆinnerHTMLï¼‰"><a href="#dangerouslySetHTMLï¼ˆinnerHTMLï¼‰" class="headerlink" title="dangerouslySetHTMLï¼ˆinnerHTMLï¼‰"></a>dangerouslySetHTMLï¼ˆinnerHTMLï¼‰</h3><p>ä½¿ç”¨<code>dangerouslySetHTML</code>å±æ€§ï¼Œå®ƒå…è®¸æˆ‘ä»¬åŠ¨æ€è®¾ç½®<code>innerHTML</code>,å¦åˆ™ä¼šç›´æ¥è½¬ä¹‰æˆæ–‡æœ¬</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">'react'</span></span><br><span class="line"><span class="keyword">import</span> ReactDOM <span class="keyword">from</span> <span class="string">'react-dom'</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">App</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>() &#123;</span><br><span class="line">    <span class="keyword">super</span>()</span><br><span class="line">    <span class="keyword">this</span>.state = &#123;</span><br><span class="line">      content : <span class="string">"&lt;p&gt;React.jsæ˜¯ä¸€ä¸ªæ„å»ºUIçš„åº“&lt;/p&gt;"</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  render () &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">        &lt;div</span><br><span class="line">        <span class="comment">// æ³¨æ„è¿™é‡Œæ˜¯ä¸¤ä¸ªä¸‹ä¸‹åˆ’çº¿ __html</span></span><br><span class="line">        dangerouslySetInnerHTML=&#123;&#123;<span class="attr">__html</span>: <span class="keyword">this</span>.state.content&#125;&#125;</span><br><span class="line">      /&gt;</span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">ReactDOM.render(</span><br><span class="line">    &lt;App/&gt;,</span><br><span class="line">  <span class="built_in">document</span>.getElementById(<span class="string">'root'</span>)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<h3 id="JSXä¸Šçš„style"><a href="#JSXä¸Šçš„style" class="headerlink" title="JSXä¸Šçš„style"></a>JSXä¸Šçš„style</h3><h4 id="æ–¹å¼ä¸€"><a href="#æ–¹å¼ä¸€" class="headerlink" title="æ–¹å¼ä¸€"></a>æ–¹å¼ä¸€</h4><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/babel"</span>&gt;</span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> ok=<span class="number">1</span>;</span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> myStyle=&#123;</span></span><br><span class="line"><span class="actionscript">        color:<span class="string">"red"</span>,</span></span><br><span class="line">        fontSize:50</span><br><span class="line">    &#125;</span><br><span class="line">    ReactDOM.render(</span><br><span class="line"><span class="handlebars"><span class="xml">        <span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span></span><br><span class="line"><span class="handlebars"><span class="xml">            <span class="tag">&lt;<span class="name">p</span> <span class="attr">style</span>=<span class="string">&#123;myStyle&#125;</span>&gt;</span>&#123;ok==1?"æˆ‘å¾ˆå¸…":"æˆ‘å¾ˆæœ‰æ‰å"&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span></span><br><span class="line"><span class="handlebars"><span class="xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span>,</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">document</span>.querySelector(<span class="string">"#wrap"</span>)</span></span><br><span class="line">    )</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="æ–¹å¼äºŒ"><a href="#æ–¹å¼äºŒ" class="headerlink" title="æ–¹å¼äºŒ"></a>æ–¹å¼äºŒ</h4><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/babel"</span>&gt;</span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> ok=<span class="number">1</span>;</span></span><br><span class="line">    ReactDOM.render(</span><br><span class="line"><span class="handlebars"><span class="xml">        <span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span></span><br><span class="line"><span class="actionscript">            <span class="comment">//styleæ­¤å¤„åº”ä¸ºåŒæ‹¬å·</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">p</span> <span class="attr">style</span>=<span class="string">&#123;&#123;</span></span></span></span><br><span class="line"><span class="actionscript">                color:<span class="string">"red"</span>,</span></span><br><span class="line">                fontSize:50</span><br><span class="line"><span class="actionscript">            &#125;&#125;&gt;&#123;ok==<span class="number">1</span>?<span class="string">"æˆ‘å¾ˆå¸…"</span>:<span class="string">"æˆ‘å¾ˆæœ‰æ‰å"</span>&#125;&lt;/p&gt;</span></span><br><span class="line"><span class="handlebars"><span class="xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span>,</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">document</span>.querySelector(<span class="string">"#wrap"</span>)</span></span><br><span class="line">    )</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="JSXä¸Šçš„æ•°ç»„è¾“å‡º"><a href="#JSXä¸Šçš„æ•°ç»„è¾“å‡º" class="headerlink" title="JSXä¸Šçš„æ•°ç»„è¾“å‡º"></a>JSXä¸Šçš„æ•°ç»„è¾“å‡º</h3><h4 id="æ–¹å¼ä¸€-1"><a href="#æ–¹å¼ä¸€-1" class="headerlink" title="æ–¹å¼ä¸€"></a>æ–¹å¼ä¸€</h4><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/babel"</span>&gt;</span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> arr=[</span></span><br><span class="line"><span class="handlebars"><span class="xml">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span>ä½ æ˜¯é£å„¿<span class="tag">&lt;/<span class="name">h1</span>&gt;</span>,</span></span></span><br><span class="line"><span class="handlebars"><span class="xml">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>æˆ‘æ˜¯æ²™<span class="tag">&lt;/<span class="name">h2</span>&gt;</span>,</span></span></span><br><span class="line"><span class="handlebars"><span class="xml">        <span class="tag">&lt;<span class="name">h3</span>&gt;</span>ç¼ ç¼ ç»µç»µåˆ°å¤©æ¶¯<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span></span></span><br><span class="line">    ];</span><br><span class="line">    ReactDOM.render(</span><br><span class="line"><span class="handlebars"><span class="xml">        <span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span></span><br><span class="line">            &#123;arr&#125;</span><br><span class="line"><span class="handlebars"><span class="xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span>,</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">document</span>.querySelector(<span class="string">"#wrap"</span>)</span></span><br><span class="line">    )</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="æ–¹å¼äºŒï¼ˆmapæ¸²æŸ“ï¼‰"><a href="#æ–¹å¼äºŒï¼ˆmapæ¸²æŸ“ï¼‰" class="headerlink" title="æ–¹å¼äºŒï¼ˆmapæ¸²æŸ“ï¼‰"></a>æ–¹å¼äºŒï¼ˆ<strong>mapæ¸²æŸ“</strong>ï¼‰</h4><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/babel"</span>&gt;</span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> arr=[<span class="string">"ä½ æ˜¯é£å„¿"</span>,<span class="string">"æˆ‘æ˜¯æ²™"</span>,<span class="string">"ç¼ ç¼ ç»µç»µåˆ°å¤©æ¶¯"</span>];</span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> lis=arr.map(<span class="function"><span class="keyword">function</span><span class="params">(v)</span></span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">h3</span>&gt;</span>&#123;v&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span></span></span><br><span class="line">    &#125;)</span><br><span class="line">    ReactDOM.render(</span><br><span class="line"><span class="handlebars"><span class="xml">        <span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span></span><br><span class="line">            &#123;lis&#125;</span><br><span class="line"><span class="handlebars"><span class="xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span>,</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">document</span>.querySelector(<span class="string">"#wrap"</span>)</span></span><br><span class="line">    )</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="æ–¹æ³•è°ƒç”¨"><a href="#æ–¹æ³•è°ƒç”¨" class="headerlink" title="æ–¹æ³•è°ƒç”¨"></a>æ–¹æ³•è°ƒç”¨</h3><h4 id="æ–¹å¼ä¸€ï¼šå†…è”è°ƒç”¨æ³•"><a href="#æ–¹å¼ä¸€ï¼šå†…è”è°ƒç”¨æ³•" class="headerlink" title="æ–¹å¼ä¸€ï¼šå†…è”è°ƒç”¨æ³•"></a>æ–¹å¼ä¸€ï¼šå†…è”è°ƒç”¨æ³•</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import React, &#123; Component &#125; from &#39;react&#39;;</span><br><span class="line"></span><br><span class="line">class func extends Component&#123;</span><br><span class="line">    constructor(porps)&#123;</span><br><span class="line">        super(props);</span><br><span class="line">    &#125;</span><br><span class="line">    funcOne()&#123;</span><br><span class="line">        console.log(&#39;å†…è”è°ƒç”¨æ³•&#39;)</span><br><span class="line">    &#125;</span><br><span class="line">    render()&#123;</span><br><span class="line">        return (</span><br><span class="line">            &lt;button onClick&#x3D;&#123;this.funcOne.bind(this)&#125;&gt;&lt;&#x2F;button&gt;</span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="æ–¹å¼äºŒï¼šé…ç½®ä¸­è°ƒç”¨æ³•"><a href="#æ–¹å¼äºŒï¼šé…ç½®ä¸­è°ƒç”¨æ³•" class="headerlink" title="æ–¹å¼äºŒï¼šé…ç½®ä¸­è°ƒç”¨æ³•"></a>æ–¹å¼äºŒï¼šé…ç½®ä¸­è°ƒç”¨æ³•</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import React, &#123; Component &#125; from &#39;react&#39;;</span><br><span class="line"></span><br><span class="line">class func extends Component&#123;</span><br><span class="line">    constructor(porps)&#123;</span><br><span class="line">        super(props);</span><br><span class="line">        this.funcTwo &#x3D; this.funcTwo.bind(this)</span><br><span class="line">    &#125;</span><br><span class="line">    funcTwo()&#123;</span><br><span class="line">        console.log(&#39;é…ç½®ä¸­è°ƒç”¨æ³•&#39;)</span><br><span class="line">    &#125;</span><br><span class="line">    render()&#123;</span><br><span class="line">        return (</span><br><span class="line">            &lt;button onClick&#x3D;&#123;this.funcTwo&#125;&gt;&lt;&#x2F;button&gt;</span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="æ–¹å¼ä¸‰ï¼šç®­å¤´å‡½æ•°è°ƒç”¨æ³•ï¼ˆæœ€æ¨èï¼‰"><a href="#æ–¹å¼ä¸‰ï¼šç®­å¤´å‡½æ•°è°ƒç”¨æ³•ï¼ˆæœ€æ¨èï¼‰" class="headerlink" title="æ–¹å¼ä¸‰ï¼šç®­å¤´å‡½æ•°è°ƒç”¨æ³•ï¼ˆæœ€æ¨èï¼‰"></a>æ–¹å¼ä¸‰ï¼šç®­å¤´å‡½æ•°è°ƒç”¨æ³•ï¼ˆæœ€æ¨èï¼‰</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import React, &#123; Component &#125; from &#39;react&#39;;</span><br><span class="line"></span><br><span class="line">class func extends Component&#123;</span><br><span class="line">    constructor(porps)&#123;</span><br><span class="line">        super(props);</span><br><span class="line">    &#125;</span><br><span class="line">    funcThree:() &#x3D;&gt; &#123;</span><br><span class="line">        console.log(&#39;ç®­å¤´å‡½æ•°è°ƒç”¨æ³•&#39;)</span><br><span class="line">    &#125;</span><br><span class="line">    render()&#123;</span><br><span class="line">        return (</span><br><span class="line">            &lt;button onClick&#x3D;&#123;this.funcThree&#125;&gt;&lt;&#x2F;button&gt;</span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="mapé…ç½®"><a href="#mapé…ç½®" class="headerlink" title="mapé…ç½®"></a>mapé…ç½®</h2><h3 id="ä»æ¥å£è¯»å–mapé…ç½®"><a href="#ä»æ¥å£è¯»å–mapé…ç½®" class="headerlink" title="ä»æ¥å£è¯»å–mapé…ç½®"></a>ä»æ¥å£è¯»å–mapé…ç½®</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">getMapParams() &#123;</span><br><span class="line">        let that &#x3D; this;</span><br><span class="line">        mapAction.getMapParams(that, &#123;</span><br><span class="line">            mapCode: &quot;bigMap&quot;,</span><br><span class="line">            dataReturn: function (params) &#123;</span><br><span class="line">                that.setState(&#123;</span><br><span class="line">                    mapParams: params</span><br><span class="line">                &#125;)</span><br><span class="line">                setTimeout(() &#x3D;&gt; &#123;</span><br><span class="line">                    that.mapInit();</span><br><span class="line">                &#125;, 500);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h3 id="åœ°å›¾åˆå§‹åŒ–"><a href="#åœ°å›¾åˆå§‹åŒ–" class="headerlink" title="åœ°å›¾åˆå§‹åŒ–"></a>åœ°å›¾åˆå§‹åŒ–</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">mapInit() &#123;</span><br><span class="line">        if (map &#x3D;&#x3D; null) &#123;</span><br><span class="line">            let mapUrl &#x3D; &quot;.&#x2F;file&#x2F;loadFMap&quot;;</span><br><span class="line">            map &#x3D; new commonMap.FMMap(&#123;</span><br><span class="line">                &#x2F;&#x2F;æ¸²æŸ“dom</span><br><span class="line">                container: document.getElementById(&#39;mapApplyContainer&#39;),</span><br><span class="line">                &#x2F;&#x2F;åœ°å›¾æœåŠ¡å™¨åœ°å€</span><br><span class="line">                mapServerURL: mapUrl,</span><br><span class="line">                &#x2F;&#x2F;ä¸»é¢˜æœåŠ¡åœ°å€</span><br><span class="line">                mapThemeURL: &#39;.&#x2F;fmaptheme&#x2F;&#39; + localStorage.appid_device + &#39;&#x2F;&#39; + localStorage.buildId_device,</span><br><span class="line">                &#x2F;&#x2F;ä¸»é¢˜id</span><br><span class="line">                defaultThemeName: this.state.mapParams.themeId,</span><br><span class="line">                &#x2F;&#x2F;åœ°å›¾é»˜è®¤æ¯”ä¾‹å°ºçº§åˆ«</span><br><span class="line">                defaultMapScaleLevel: this.state.mapParams.defaultMapScaleLevel,</span><br><span class="line">                &#x2F;&#x2F;åœ°å›¾é»˜è®¤è‡ªå®šä¹‰æ¯”ä¾‹å°º</span><br><span class="line">                defaultMapScale: this.state.mapParams.defaultMapScale,</span><br><span class="line">                &#x2F;&#x2F;æ”¯æŒå•å‡»æ¨¡å‹é«˜äº®ï¼Œfalseä¸ºå•å‡»æ—¶æ¨¡å‹ä¸é«˜äº®</span><br><span class="line">                modelSelectedEffect: false,</span><br><span class="line">                &#x2F;&#x2F;é»˜è®¤æ—‹è½¬è§’</span><br><span class="line">                rotateAngle: this.state.mapParams.rotateAngle,</span><br><span class="line">                &#x2F;&#x2F;é»˜è®¤å€¾æ–œè§’</span><br><span class="line">                defaultTiltAngle: this.state.mapParams.defaultTiltAngle,</span><br><span class="line">                &#x2F;&#x2F;æ¥¼å±‚é—´è·</span><br><span class="line">                defaultGroupSpace: this.state.mapParams.defaultGroupSpace,</span><br><span class="line">                &#x2F;&#x2F;é»˜è®¤åœ°å›¾æ¨¡å‹ï¼ˆ2D&#x2F;3Dï¼‰</span><br><span class="line">                defaultViewMode: this.state.mapParams.defaultViewMode &#x3D;&#x3D; &quot;2D&quot; ? commonMap.FMViewMode.MODE_2D : commonMap.FMViewMode.MODE_3D,</span><br><span class="line">                &#x2F;&#x2F;å¼€åœºåŠ¨ç”»</span><br><span class="line">                viewModeAnimateMode: true,</span><br><span class="line">                focusAlphaMode: false,</span><br><span class="line">                focusAnimateMode: false,</span><br><span class="line">                focusAlpha: 0.1,</span><br><span class="line">                key: this.state.mapParams.webKey,</span><br><span class="line">                appName: this.state.mapParams.webName,</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">        &#x2F;&#x2F;buildId_device -- å»ºç­‘id</span><br><span class="line">        map.openMapById(localStorage.buildId_device);</span><br><span class="line">        const that &#x3D; this;</span><br><span class="line">        &#x2F;&#x2F;åœ°å›¾æ¸²æŸ“ç»“æŸå›è°ƒ</span><br><span class="line">        map.on(&quot;loadComplete&quot;, function (event) &#123;</span><br><span class="line">            that.loadComplete(event);</span><br><span class="line">        &#125;)</span><br><span class="line">        &#x2F;&#x2F;åœ°å›¾ç‚¹å‡»äº‹ä»¶</span><br><span class="line">        map.on(&quot;mapClickNode&quot;, function (event) &#123;</span><br><span class="line">            that.MapClickNode(event);</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>



<h3 id="åœ°å›¾æ¸²æŸ“ç»“æŸå›è°ƒ"><a href="#åœ°å›¾æ¸²æŸ“ç»“æŸå›è°ƒ" class="headerlink" title="åœ°å›¾æ¸²æŸ“ç»“æŸå›è°ƒ"></a>åœ°å›¾æ¸²æŸ“ç»“æŸå›è°ƒ</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">loadComplete &#x3D; (e) &#x3D;&gt; &#123;</span><br><span class="line">        &#x2F;&#x2F;è®¾ç½®åœ°å›¾èƒŒæ™¯é¢œè‰²</span><br><span class="line">        map.setBackgroundColor(&quot;#EEF3F4&quot;, 1);</span><br><span class="line">        &#x2F;&#x2F;è¿›åœºåŠ¨ç”»</span><br><span class="line">        var angle &#x3D; this.state.mapParams.rotateAngle % 360;</span><br><span class="line">        map._map.rotateTo(angle, &#123; animate: true &#125;);</span><br><span class="line">        &#x2F;&#x2F;è·å–å¯è§†æ¥¼å±‚</span><br><span class="line">        &#x2F;&#x2F;mapGroupNames&#x3D;[&quot;b1&quot;,&quot;f1&quot;,&quot;f2&quot;,&quot;f3&quot;,&quot;f4&quot;,&quot;f5&quot;]</span><br><span class="line">        var mapGroupNames &#x3D; [];</span><br><span class="line">        for (var i &#x3D; 0; i &lt; map.listGroups.length; i++) &#123;</span><br><span class="line">            var floorName &#x3D; map.listGroups[i].gname;</span><br><span class="line">            mapGroupNames.push(floorName.toLowerCase());</span><br><span class="line">        &#125;</span><br><span class="line">        &#x2F;&#x2F;æ¸²æŸ“æ¥¼å±‚åˆ‡æ¢æ•°æ®</span><br><span class="line">        &#x2F;&#x2F;è¯»å–groupIDs  map.groupIDs&#x3D;[1,2,3,4,5]</span><br><span class="line">        &#x2F;&#x2F;floorList&#x3D;[&#123;floorNum: &quot;b1&quot;,floorStr: &quot;b1æ¥¼&quot;,groupID: 1&#125;]...</span><br><span class="line">        floorList &#x3D; mapAction.changeGroupNames(mapGroupNames, map.groupIDs);</span><br><span class="line">        if (!this.state.defaultFloor) &#123;</span><br><span class="line">            this.setState(&#123;</span><br><span class="line">                defaultFloor: floorList[0].floorNum</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">        &#x2F;&#x2F;è·å–èšç„¦æ¥¼å±‚çš„id</span><br><span class="line">        focusGroupID &#x3D; mapAction.changeFloorIdToGroupId(this.state.defaultFloor, floorList);</span><br><span class="line">        map.focusGroupID &#x3D; focusGroupID;</span><br><span class="line">        &#x2F;&#x2F;è®¾ç½®æ¥¼å±‚å¯è§ä¸ªæ•°ï¼ˆï¼‰</span><br><span class="line">        if (this.state.multiFloorDisplayFlag) &#123;</span><br><span class="line">            map.visibleGroupIDs &#x3D; map.groupIDs;</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            map.visibleGroupIDs &#x3D; [map.focusGroupID];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>



<h3 id="åˆ‡æ¢æ¥¼å±‚-å¾—åˆ°å½“å‰çš„æ¥¼å±‚focusGroupID"><a href="#åˆ‡æ¢æ¥¼å±‚-å¾—åˆ°å½“å‰çš„æ¥¼å±‚focusGroupID" class="headerlink" title="åˆ‡æ¢æ¥¼å±‚(å¾—åˆ°å½“å‰çš„æ¥¼å±‚focusGroupID)"></a>åˆ‡æ¢æ¥¼å±‚(å¾—åˆ°å½“å‰çš„æ¥¼å±‚focusGroupID)</h3><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span>&gt;</span>æ¥¼å±‚<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Select</span></span></span><br><span class="line"><span class="tag">            <span class="attr">value</span>=<span class="string">&#123;focusGroupID&#125;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">style</span>=<span class="string">&#123;</span> <span class="attr">width:</span> <span class="attr">150</span> &#125;//æ­¤å¤„åº”ä¸ºåŒæ‹¬å·</span></span><br><span class="line"><span class="tag">            <span class="attr">onChange</span>=<span class="string">&#123;this.floorChange&#125;</span></span></span><br><span class="line"><span class="tag">            &gt;</span></span><br><span class="line">        &#123;</span><br><span class="line">        floorList.map(item =&gt; &#123;</span><br><span class="line">        return (item ? <span class="tag">&lt;<span class="name">Select.Option</span> <span class="attr">value</span>=<span class="string">&#123;item.groupID&#125;</span> <span class="attr">key</span>=<span class="string">&#123;item.groupIDs&#125;</span>&gt;</span>&#123;item.floorStr&#125;<span class="tag">&lt;/<span class="name">Select.Option</span>&gt;</span> : null)</span><br><span class="line">        &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">Select</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">js</span><br><span class="line">floorChange = (value) =&gt; &#123;</span><br><span class="line">        focusGroupID = value</span><br><span class="line">        map.focusGroupID = value</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>



<h3 id="åˆ‡æ¢å•æ¥¼å±‚-å¤šæ¥¼å±‚-showSingerOrMultiGroup"><a href="#åˆ‡æ¢å•æ¥¼å±‚-å¤šæ¥¼å±‚-showSingerOrMultiGroup" class="headerlink" title="åˆ‡æ¢å•æ¥¼å±‚/å¤šæ¥¼å±‚(showSingerOrMultiGroup)"></a>åˆ‡æ¢å•æ¥¼å±‚/å¤šæ¥¼å±‚(showSingerOrMultiGroup)</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;div onClick&#x3D;&#123;this.multiFloorDisplay&#125;&gt;</span><br><span class="line">                            &lt;img src&#x3D;&#123;this.state.multiFloorDisplayFlag ? require(&#39;..&#x2F;..&#x2F;img&#x2F;singleFloor.png&#39;) : require(&#39;..&#x2F;..&#x2F;img&#x2F;mulFloor.png&#39;)&#125;&gt;&lt;&#x2F;img&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line"></span><br><span class="line">js                   </span><br><span class="line">    multiFloorDisplay &#x3D; () &#x3D;&gt; &#123;</span><br><span class="line">        &#x2F;&#x2F;åˆ‡æ¢flag</span><br><span class="line">        this.setState(&#123;</span><br><span class="line">            multiFloorDisplayFlag: !this.state.multiFloorDisplayFlag</span><br><span class="line">        &#125;)</span><br><span class="line">        let that &#x3D; this;</span><br><span class="line">        setTimeout(() &#x3D;&gt; &#123;</span><br><span class="line">            &#x2F;&#x2F;æ”¹å˜å•å±‚å¤šå±‚</span><br><span class="line">            map.showSingerOrMultiGroup(that.state.multiFloorDisplayFlag);</span><br><span class="line">            &#x2F;&#x2F;æ”¹å˜2D&#x2F;3D</span><br><span class="line">            if (this.state.multiFloorDisplayFlag) &#123;</span><br><span class="line">                map.viewMode &#x3D; commonMap.FMViewMode.MODE_3D</span><br><span class="line">                this.state.mapParams.defaultViewMode &#x3D; &#39;3D&#39;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;, 0);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>



<h3 id="åˆ‡æ¢2D-3D"><a href="#åˆ‡æ¢2D-3D" class="headerlink" title="åˆ‡æ¢2D/3D"></a>åˆ‡æ¢2D/3D</h3><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">onClick</span>=<span class="string">&#123;this.modeChange&#125;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">span</span> <span class="attr">style</span>=<span class="string">&#123;</span> <span class="attr">userSelect:</span> '<span class="attr">none</span>' &#125;&gt;</span>&#123;this.state.mapParams.defaultViewMode == '2D' ? '3D' : '2D'&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">js</span><br><span class="line">modeChange = () =&gt; &#123;</span><br><span class="line">        let mode = this.state.mapParams;</span><br><span class="line">        if (mode.defaultViewMode == '2D') &#123;</span><br><span class="line">            mode.defaultViewMode = '3D';</span><br><span class="line">            map.viewMode = commonMap.FMViewMode.MODE_3D</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            mode.defaultViewMode = '2D'</span><br><span class="line">            map.viewMode = commonMap.FMViewMode.MODE_2D</span><br><span class="line">        &#125;</span><br><span class="line">        this.setState(&#123;</span><br><span class="line">            mapParams: mode</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="æˆ³ç‚¹ä¸æ›´æ–°"><a href="#æˆ³ç‚¹ä¸æ›´æ–°" class="headerlink" title="æˆ³ç‚¹ä¸æ›´æ–°"></a>æˆ³ç‚¹ä¸æ›´æ–°</h3><h4 id="åæ ‡è½¬æ¢"><a href="#åæ ‡è½¬æ¢" class="headerlink" title="åæ ‡è½¬æ¢"></a>åæ ‡è½¬æ¢</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; åæ ‡è½¬æ¢</span><br><span class="line">convertX(x) &#123;</span><br><span class="line">	return parseInt((x - map.minX) * 1000);</span><br><span class="line">&#125;</span><br><span class="line">convertY(y) &#123;</span><br><span class="line">	return parseInt((map.maxY - y) * 1000);</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;&#x2F;æ¥å£åæ ‡æ”¹ä¸ºmapåæ ‡ï¼Œæˆ³ç‚¹</span><br><span class="line">convertFmapX(x) &#123;</span><br><span class="line">	return (x &#x2F; 1000 + map.minX);</span><br><span class="line">&#125;</span><br><span class="line">convertFmapY(y) &#123;</span><br><span class="line">	return (map.maxY - y &#x2F; 1000);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="å›¾æ ‡æˆ³ç‚¹"><a href="#å›¾æ ‡æˆ³ç‚¹" class="headerlink" title="å›¾æ ‡æˆ³ç‚¹"></a>å›¾æ ‡æˆ³ç‚¹</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">addImageMarkerNormal &#x3D; (pointData) &#x3D;&gt; &#123;</span><br><span class="line">        const pointGroupId &#x3D; mapAction.changeFloorStrToGroupID(pointData.floorNo, floorList);</span><br><span class="line">        if (!pointGroupId) &#123;</span><br><span class="line">            return;</span><br><span class="line">        &#125;</span><br><span class="line">        let imgSrc &#x3D; require(&#39;..&#x2F;imgs&#x2F;woman.png&#39;);</span><br><span class="line">        var group &#x3D; map.getFMGroup(pointGroupId);</span><br><span class="line">        var layer &#x3D; group.getOrCreateLayer(&#39;imageMarker&#39;);</span><br><span class="line">        var im &#x3D; new commonMap.FMImageMarker(&#123;</span><br><span class="line">            id: pointData.id,</span><br><span class="line">            x: this.convertFmapX(pointData.x),</span><br><span class="line">            y: this.convertFmapY(pointData.y),</span><br><span class="line">            height: 1,</span><br><span class="line">            groupID: pointGroupId,</span><br><span class="line">            url: imgSrc,</span><br><span class="line">            size: 30,</span><br><span class="line">            isAlwaysShow: true,</span><br><span class="line">            callback: function () &#123;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        layer.addMarker(im);</span><br><span class="line">        &#x2F;&#x2F; im.userGroupID &#x3D; pointGroupId;</span><br><span class="line">        pointMarkerList.push(im)</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>



<h4 id="æ–‡æœ¬æˆ³ç‚¹"><a href="#æ–‡æœ¬æˆ³ç‚¹" class="headerlink" title="æ–‡æœ¬æˆ³ç‚¹"></a>æ–‡æœ¬æˆ³ç‚¹</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">addTextMarker &#x3D; (pointData) &#x3D;&gt; &#123;</span><br><span class="line">        let gid &#x3D; mapAction.changeFloorStrToGroupID(pointData.floorNo, floorList)</span><br><span class="line">        if (!gid) &#123;</span><br><span class="line">            return</span><br><span class="line">        &#125;</span><br><span class="line">        var group &#x3D; map.getFMGroup(gid);</span><br><span class="line">        var layer &#x3D; group.getOrCreateLayer(&#39;textMarker&#39;);</span><br><span class="line">        var tm &#x3D; new commonMap.FMTextMarker(&#123;</span><br><span class="line">            id: pointData.id,</span><br><span class="line">            x: this.convertFmapX(pointData.x),</span><br><span class="line">            y: this.convertFmapY(pointData.y),</span><br><span class="line">            groupID: gid,</span><br><span class="line">            name: pointData.name,</span><br><span class="line">            fontsize: 13,</span><br><span class="line">            fillcolor: &#39;72,61,139&#39;,</span><br><span class="line">            &#x2F;&#x2F; isAlwaysShow: false,</span><br><span class="line">            height: 1,</span><br><span class="line">            alpha: &#39;0.3&#39;,</span><br><span class="line">            callback: function () &#123;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        layer.addMarker(tm);</span><br><span class="line">        tm.userGroupID &#x3D; gid;</span><br><span class="line">        textMarkerList.push(tm);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>



<h4 id="æ›´æ–°å›¾æ ‡ç‚¹ä½"><a href="#æ›´æ–°å›¾æ ‡ç‚¹ä½" class="headerlink" title="æ›´æ–°å›¾æ ‡ç‚¹ä½"></a>æ›´æ–°å›¾æ ‡ç‚¹ä½</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">updatePoint &#x3D; (pointData) &#x3D;&gt; &#123;</span><br><span class="line">        const pointGroupId &#x3D; mapAction.changeFloorStrToGroupID(pointData.floorNo, floorList);</span><br><span class="line">        if (!pointGroupId) &#123;</span><br><span class="line">            return;</span><br><span class="line">        &#125;</span><br><span class="line">        let imgSrc &#x3D; pointData.alarmStatus ? pointImgObj.warning : pointImgObj.normal;</span><br><span class="line">        imgSrc &#x3D; pointData.localStatus !&#x3D; 1 ? pointImgObj.offline : imgSrc;</span><br><span class="line">        for (let i &#x3D; 0; i &lt; pointMarkerList.length; i++) &#123;</span><br><span class="line">            if (pointMarkerList[i].id_ &#x3D;&#x3D; pointData.id) &#123;</span><br><span class="line">                pointMarkerList[i].setPosition(this.convertFmapX(pointData.x), this.convertFmapY(pointData.y), pointGroupId, 2)</span><br><span class="line">                pointMarkerList[i]._url &#x3D; pointImgObj.warning;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>



<h4 id="æ›´æ–°æ–‡å­—ç‚¹ä½"><a href="#æ›´æ–°æ–‡å­—ç‚¹ä½" class="headerlink" title="æ›´æ–°æ–‡å­—ç‚¹ä½"></a>æ›´æ–°æ–‡å­—ç‚¹ä½</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">updateTextMarker &#x3D; (pointData) &#x3D;&gt; &#123;</span><br><span class="line">        var gid &#x3D; mapAction.changeFloorStrToGroupID(pointData.floorNo, floorList);</span><br><span class="line">        for (let i &#x3D; 0; i &lt; textMarkerList.length; i++) &#123;</span><br><span class="line">            if (textMarkerList[i].id_ &#x3D;&#x3D; pointData.id || textMarkerList[i].id &#x3D;&#x3D; pointData.id) &#123;</span><br><span class="line">                textMarkerList[i].setPosition(this.convertFmapX(pointData.x), this.convertFmapY(pointData.y), gid, 2)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="æ ¹æ®idåˆ é™¤å›¾ç‰‡ç‚¹ä½"><a href="#æ ¹æ®idåˆ é™¤å›¾ç‰‡ç‚¹ä½" class="headerlink" title="æ ¹æ®idåˆ é™¤å›¾ç‰‡ç‚¹ä½"></a>æ ¹æ®idåˆ é™¤å›¾ç‰‡ç‚¹ä½</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">removeImgMarkerByMarker &#x3D; (id) &#x3D;&gt; &#123;</span><br><span class="line">        var index &#x3D; -1;</span><br><span class="line">        for (let i &#x3D; 0; i &lt; pointMarkerList.length; i++) &#123;</span><br><span class="line">            const obj &#x3D; pointMarkerList[i];</span><br><span class="line">            if ((obj.selfID || obj.id || obj.id_) &#x3D;&#x3D;&#x3D; id) &#123;</span><br><span class="line">                index &#x3D; i;</span><br><span class="line">                var group &#x3D; map.getFMGroup(obj.groupID);</span><br><span class="line">                if (!group) &#123;</span><br><span class="line">                    pointMarkerList.splice(i, 1);</span><br><span class="line">                    break;</span><br><span class="line">                &#125;</span><br><span class="line">                var layer &#x3D; group.getOrCreateLayer(&#39;imageMarker&#39;);</span><br><span class="line">                setTimeout(() &#x3D;&gt; &#123;</span><br><span class="line">                    layer.removeMarker(obj);</span><br><span class="line">                &#125;, 0);</span><br><span class="line">                break;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        if (index !&#x3D; -1) &#123;</span><br><span class="line">            pointMarkerList.splice(index, 1);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>



<h4 id="æ ¹æ®idåˆ é™¤æ–‡å­—ç‚¹ä½"><a href="#æ ¹æ®idåˆ é™¤æ–‡å­—ç‚¹ä½" class="headerlink" title="æ ¹æ®idåˆ é™¤æ–‡å­—ç‚¹ä½"></a>æ ¹æ®idåˆ é™¤æ–‡å­—ç‚¹ä½</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">removeTextMarkerById(id) &#123;</span><br><span class="line">        var index &#x3D; -1;</span><br><span class="line">        for (let i &#x3D; 0; i &lt; textMarkerList.length; i++) &#123;</span><br><span class="line">            const obj &#x3D; textMarkerList[i];</span><br><span class="line">            if ((obj.selfID || obj.id || obj.id_) &#x3D;&#x3D;&#x3D; id) &#123;</span><br><span class="line">                index &#x3D; i;</span><br><span class="line">                var group &#x3D; map.getFMGroup(obj.groupID);</span><br><span class="line">                if (!group) &#123;</span><br><span class="line">                    textMarkerList.splice(i, 1);</span><br><span class="line">                    break;</span><br><span class="line">                &#125;</span><br><span class="line">                var layer &#x3D; group.getOrCreateLayer(&#39;textMarker&#39;);</span><br><span class="line">                setTimeout(() &#x3D;&gt; &#123;</span><br><span class="line">                    layer.removeMarker(obj);</span><br><span class="line">                &#125;, 0);</span><br><span class="line">                break;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        if (index !&#x3D; -1) &#123;</span><br><span class="line">            textMarkerList.splice(index, 1);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>



<h2 id="websocketç®€å•ç”¨æ³•"><a href="#websocketç®€å•ç”¨æ³•" class="headerlink" title="websocketç®€å•ç”¨æ³•"></a>websocketç®€å•ç”¨æ³•</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let webSocketHost &#x3D; &#39;&#39;</span><br><span class="line">let ws &#x3D; null</span><br><span class="line"></span><br><span class="line">componentWillMount() &#123;</span><br><span class="line">        &#x2F;&#x2F;è·å–websocketè¯·æ±‚åœ°å€</span><br><span class="line">	var webSocketType &#x3D; (&#39;https:&#39; &#x3D;&#x3D;&#x3D; document.location.protocol) ? &#39;wss&#39; : &#39;ws&#39;;</span><br><span class="line">	webSocketHost &#x3D; webSocketType + &#39;:&#x2F;&#x2F;&#39; + document.location.host + &quot;&#x2F;websocket&#x2F;&quot; + localStorage.buildId_device</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;ä»websocketä¸­è¯»å–æ•°æ®</span><br><span class="line">webSocketStart() &#123;</span><br><span class="line">        let that &#x3D; this;</span><br><span class="line">        if (ws) &#123;</span><br><span class="line">            ws.close()</span><br><span class="line">        &#125;</span><br><span class="line">        &#x2F;&#x2F; ws &#x3D; new WebSocket(&quot;ws:&#x2F;&#x2F;172.16.10.74:8086&#x2F;websocket&#x2F;&quot; + localStorage.buildId_device);</span><br><span class="line">        ws &#x3D; new WebSocket(webSocketHost)</span><br><span class="line">        &#x2F;&#x2F;æ ¹æ®æ¡ä»¶æŸ¥è¯¢websocket</span><br><span class="line">        ws.onopen &#x3D; function (evt) &#123;</span><br><span class="line">            if (that.state.exactID !&#x3D; &quot;&quot;) &#123;</span><br><span class="line">                ws.send(&#39;&#123;&quot;direction&quot;:&quot;bTos&quot;,&quot;requestMethod&quot;:&quot;initGoodsByCondition&quot;,id:&quot;&#39; + that.state.exactID + &#39;&quot;&#125;&#39;);</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                ws.send(&#39;&#123;&quot;direction&quot;:&quot;bTos&quot;,&quot;requestMethod&quot;:&quot;initGoodsByCondition&quot;,nameOrSn:&quot;&#39; + that.state.vagueField + &#39;&quot;,category:&quot;&#39; + (that.state.wsCategory &#x3D;&#x3D; &#39;å…¨éƒ¨&#39; ? &#39;&#39; : that.state.wsCategory) + &#39;&quot;,dept:&quot;&#39; + (that.state.wsDept &#x3D;&#x3D; &#39;å…¨éƒ¨&#39; ? &#39;&#39; : that.state.wsDept) + &#39;&quot;&#125;&#39;);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        ws.onmessage &#x3D; function (evt) &#123;</span><br><span class="line">            const d &#x3D; JSON.parse(evt.data);</span><br><span class="line">            if (d.responseType &#x3D;&#x3D;&#x3D; &quot;ping&quot;) &#123;</span><br><span class="line">                &#x2F;&#x2F;ä¿æŒå‘¼å¸</span><br><span class="line">                ws.send(&#39;&#123;&quot;direction&quot;:&quot;bTos&quot;,&quot;requestMethod&quot;:&quot;pong&quot;,&quot;data&quot;:null&#125;&#39;)</span><br><span class="line">            &#125; else if (d.responseType &#x3D;&#x3D;&#x3D; &quot;initGoodsMonitorPage&quot; || d.responseType &#x3D;&#x3D;&#x3D; &quot;initGoodsByCondition&quot;) &#123;</span><br><span class="line">                &#x2F;&#x2F;å¤„ç†æ•°æ®</span><br><span class="line">                &#x2F;&#x2F;ç§»é™¤æ‰€æœ‰ç‚¹ä½</span><br><span class="line">                that.removeAllTextMarker();</span><br><span class="line">                that.removePointMarker();</span><br><span class="line">                if (d.data.ok) &#123;</span><br><span class="line">                    &#x2F;&#x2F;æ­£å¼æ•°æ®</span><br><span class="line">                    allResData.data &#x3D; JSON.parse(d.data.data).goodsItems;</span><br><span class="line">                    &#x2F;* çƒŸæ„Ÿæ¸©æ¹¿åº¦ *&#x2F;</span><br><span class="line">                    shList &#x3D; JSON.parse(d.data.data).shList;</span><br><span class="line">                    if (showSmokeImg) &#123;</span><br><span class="line">                        for (let kk &#x3D; 0; kk &lt; shList.length; kk++) &#123;</span><br><span class="line">                            const obj &#x3D; shList[kk];</span><br><span class="line">                            that.addSmokeImg(obj);</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                    &#x2F;* æ–‡å­—å’Œå›¾ç‰‡ç‚¹ä½çš„æ·»åŠ  *&#x2F;</span><br><span class="line">                    for (let i &#x3D; 0; i &lt; allResData.data.length; i++) &#123;</span><br><span class="line">                        const obj &#x3D; allResData.data[i];</span><br><span class="line">                        that.addImageMarkerNormal(obj);</span><br><span class="line">                        if (showPointText) &#123;</span><br><span class="line">                            that.addTextMarker(obj);</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; else if (d.responseType &#x3D;&#x3D;&#x3D; &#39;goodsLocation&#39;) &#123;</span><br><span class="line">                &#x2F;&#x2F; console.log(&#39;goodsLocation************&#39;, d.data)</span><br><span class="line">                &#x2F;&#x2F; æ›´æ–°&#x2F;å¢åŠ ç‚¹ä½</span><br><span class="line">                if (!d.data.floorNo) &#123;</span><br><span class="line">                    return;</span><br><span class="line">                &#125;</span><br><span class="line">                &#x2F;&#x2F;åˆ¤æ–­æ¥¼å±‚æ˜¯å¦æ”¹å˜ï¼Œæ”¹å˜å…ˆåˆ é™¤å®šä½ç‚¹å†æ·»åŠ </span><br><span class="line">                let isNewPoint &#x3D; true;</span><br><span class="line">                let oldPointFloorChangeFlag &#x3D; true;</span><br><span class="line">                for (let i &#x3D; 0; i &lt; allResData.data.length; i++) &#123;</span><br><span class="line">                    if (d.data.id &#x3D;&#x3D;&#x3D; allResData.data[i].id) &#123;</span><br><span class="line">                        isNewPoint &#x3D; false;</span><br><span class="line">                        if (d.data.floorNo !&#x3D;&#x3D; allResData.data[i].floorNo) &#123;</span><br><span class="line">                            oldPointFloorChangeFlag &#x3D; false;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                &#x2F;&#x2F; åˆ¤æ–­æ˜¯å¦ä¸ºæ–°å‡ºç°çš„ç‚¹ï¼Œå¦‚æœæ˜¯ï¼Œæ·»åŠ ç‚¹ä½</span><br><span class="line">                if (isNewPoint) &#123;</span><br><span class="line">                    allResData.data.push(d.data);</span><br><span class="line">                    that.addImageMarkerNormal(d.data);</span><br><span class="line">                    if (showPointText) &#123;</span><br><span class="line">                        that.addTextMarker(d.data);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125; else &#123;</span><br><span class="line">                    if (oldPointFloorChangeFlag) &#123;</span><br><span class="line">                        that.removeImgMarkerByMarker(d.data.id);</span><br><span class="line">                        that.removeTextMarkerById(d.data.id)</span><br><span class="line">                        that.addImageMarkerNormal(d.data);</span><br><span class="line">                        if (showPointText) &#123;</span><br><span class="line">                            that.addTextMarker(d.data);</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125; else &#123;</span><br><span class="line">                        if (showPointText) &#123;</span><br><span class="line">                            that.updateTextMarker(d.data);</span><br><span class="line">                        &#125;</span><br><span class="line">                        that.updatePoint(d.data);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                that.changeData(d.data);</span><br><span class="line"></span><br><span class="line">            &#125; else if (d.responseType &#x3D;&#x3D;&#x3D; &#39;smokeTH&#39;) &#123;</span><br><span class="line">                if (showSmokeImg) &#123;</span><br><span class="line">                    for (let i &#x3D; 0; i &lt; shList.length; i++) &#123;</span><br><span class="line">                        if (shList[i].sn &#x3D;&#x3D; d.data.sn) &#123;</span><br><span class="line">                            shList[i].humidity &#x3D; d.data.humidity;</span><br><span class="line">                            shList[i].humidityAlarm &#x3D; d.data.humidityAlarm;</span><br><span class="line">                            shList[i].occurrenceTime &#x3D; d.data.occurrenceTime;</span><br><span class="line">                            shList[i].smokeAlarm &#x3D; d.data.smokeAlarm;</span><br><span class="line">                            shList[i].temperature &#x3D; d.data.temperature;</span><br><span class="line">                            shList[i].temperatureAlarm &#x3D; d.data.temperatureAlarm;</span><br><span class="line">                            that.updateSmokePoint(shList[i]);</span><br><span class="line">                            break;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        ws.onclose &#x3D; function (evt) &#123;</span><br><span class="line">            console.log(&quot;Connection closed.&quot;);</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>react</category>
        <category>map</category>
      </categories>
      <tags>
        <tag>map</tag>
        <tag>react</tag>
      </tags>
  </entry>
  <entry>
    <title>totalcontrol</title>
    <url>/2020/09/04/totalcontrol/</url>
    <content><![CDATA[<h1 id="Total-Controlï¼Œç”µè„‘ä¸æ‰‹æœºåˆæ¬¡è¿æ¥è¯¦ç»†æ•™ç¨‹å¬è¯­éŸ³"><a href="#Total-Controlï¼Œç”µè„‘ä¸æ‰‹æœºåˆæ¬¡è¿æ¥è¯¦ç»†æ•™ç¨‹å¬è¯­éŸ³" class="headerlink" title="Total Controlï¼Œç”µè„‘ä¸æ‰‹æœºåˆæ¬¡è¿æ¥è¯¦ç»†æ•™ç¨‹å¬è¯­éŸ³"></a>Total Controlï¼Œç”µè„‘ä¸æ‰‹æœºåˆæ¬¡è¿æ¥è¯¦ç»†æ•™ç¨‹å¬è¯­éŸ³</h1><p>å¯¹äºå¾ˆå¤šä½¿ç”¨æ‰‹æœºç¾¤æ§è½¯ä»¶çš„ç”¨æˆ·è€Œè¨€ï¼ŒTotal Control ç»å¯¹éƒ½ä¸é™Œç”Ÿã€‚ä½†æ˜¯ï¼Œä¸è®ºè°éƒ½æ˜¯ä»å°ç™½ç»å†è¿‡æ¥çš„ï¼Œä¸€å¼€å§‹ä¹Ÿä¸çŸ¥é“ Total Control æ€ä¹ˆç”¨ã€‚è¿™ç¯‡æ•™ç¨‹ä¼šä»¥é…·æ´¾ 5952 ä¸ºä¾‹ç»™å¤§å®¶è¯¦ç»†è§£ææ‰‹æœºåˆæ¬¡è¿æ¥æ—¶å¯èƒ½é‡åˆ°çš„é—®é¢˜ï¼Œå¹¶æä¾›å¯¹åº”çš„è§£å†³æ–¹æ³•ï¼Œä¾›å¤§å®¶å‚è€ƒä½¿ç”¨ã€‚</p>
<p>æ³¨ï¼šæ­¤æ•™ç¨‹ä»…é€‚ç”¨äºæ‰‹æœºä¸ Total Control æ— æ³•è‡ªåŠ¨è¿æ¥çš„æƒ…å†µã€‚</p>
<h2 id="å·¥å…·-åŸæ–™"><a href="#å·¥å…·-åŸæ–™" class="headerlink" title="å·¥å…·/åŸæ–™"></a>å·¥å…·/åŸæ–™</h2><ul>
<li>ç”µè„‘</li>
<li>å®‰å“æ‰‹æœº</li>
<li>Total Controlæ‰‹æœºç¾¤æ§è½¯ä»¶</li>
</ul>
<a id="more"></a>

<h2 id="æ‰“å¼€æ‰‹æœº-USB-è°ƒè¯•"><a href="#æ‰“å¼€æ‰‹æœº-USB-è°ƒè¯•" class="headerlink" title="æ‰“å¼€æ‰‹æœº USB è°ƒè¯•"></a>æ‰“å¼€æ‰‹æœº USB è°ƒè¯•</h2><ol>
<li><p>1</p>
<p>ä¸‹è½½ Total Control æ‰‹æœºç¾¤æ§è½¯ä»¶ã€‚å®˜æ–¹ç½‘å€ä¸ºï¼š<a href="http://tc.sigma-rt.com.cn/" target="_blank" rel="noopener">http://tc.sigma-rt.com.cn/</a></p>
<p><img src="https://exp-picture.cdn.bcebos.com/cd93a56651598540371b2d51b5a23a42a17ac487.jpg?x-bce-process=image%2Fresize%2Cm_lfit%2Cw_500%2Climit_1" alt="Total Controlï¼Œç”µè„‘ä¸æ‰‹æœºåˆæ¬¡è¿æ¥è¯¦ç»†æ•™ç¨‹"></p>
</li>
<li><p>2</p>
<p>æ‰“å¼€ Total Control ç”µè„‘æ§åˆ¶æ‰‹æœºè½¯ä»¶ï¼Œç‚¹å‡»[æ–°è®¾å¤‡å‘å¯¼]ï¼›</p>
<p><img src="https://exp-picture.cdn.bcebos.com/a31e1214c27bd282b3b888f53cb1eef97ebd3684.jpg?x-bce-process=image%2Fresize%2Cm_lfit%2Cw_500%2Climit_1" alt="Total Controlï¼Œç”µè„‘ä¸æ‰‹æœºåˆæ¬¡è¿æ¥è¯¦ç»†æ•™ç¨‹"></p>
</li>
<li><p>3</p>
<p>ç‚¹å‡»[è¿æ¥å‘å¯¼]ï¼ŒæŒ‰ç…§è¿æ¥å‘å¯¼ä¸­çš„æ­¥éª¤æŒ‡ç¤ºè¿›è¡Œæ“ä½œï¼›</p>
<p><img src="https://exp-picture.cdn.bcebos.com/7efc527c34b33c410e8bfaf2887de137c8762e84.jpg?x-bce-process=image%2Fresize%2Cm_lfit%2Cw_500%2Climit_1" alt="Total Controlï¼Œç”µè„‘ä¸æ‰‹æœºåˆæ¬¡è¿æ¥è¯¦ç»†æ•™ç¨‹"></p>
</li>
<li><p>4</p>
<p>é¦–å…ˆï¼Œå°†æ‰‹æœºçš„ USB çº¿ä¸ç”µè„‘æ–­å¼€è¿æ¥ï¼›</p>
<p><img src="https://exp-picture.cdn.bcebos.com/7c84d1672b5fd54642a791a77fd0b503c9d22484.jpg?x-bce-process=image%2Fresize%2Cm_lfit%2Cw_500%2Climit_1" alt="Total Controlï¼Œç”µè„‘ä¸æ‰‹æœºåˆæ¬¡è¿æ¥è¯¦ç»†æ•™ç¨‹"></p>
</li>
<li><p>5</p>
<p>æ–­å¼€ USB è¿æ¥ä¹‹åï¼Œè¿›è¡Œä¸‹ä¸€æ­¥çš„è®¾ç½®ï¼šæ‰“å¼€æ‰‹æœºç«¯çš„ USB è°ƒè¯•é€‰é¡¹ã€‚</p>
<p>ï¼ˆæ¸©é¦¨æç¤ºï¼šè¯·ä¸è¦å°†æ‰‹æœºè®¾ç½®ä¸ºçœç”µæ¨¡å¼ï¼Œå¦åˆ™å¯èƒ½å¯¼è‡´è¿æ¥å¤±è´¥ã€‚ï¼‰</p>
<p><img src="https://exp-picture.cdn.bcebos.com/b57fb6db574afa32c4ad054454b2dc19cf2c1484.jpg?x-bce-process=image%2Fresize%2Cm_lfit%2Cw_500%2Climit_1" alt="Total Controlï¼Œç”µè„‘ä¸æ‰‹æœºåˆæ¬¡è¿æ¥è¯¦ç»†æ•™ç¨‹"></p>
</li>
<li><p>6</p>
<p>ç‚¹å‡»[è®¾ç½®]ï¼›</p>
<p><img src="https://exp-picture.cdn.bcebos.com/f59dbe39131fceecb1e840c679c4ec9958430b84.jpg?x-bce-process=image%2Fresize%2Cm_lfit%2Cw_500%2Climit_1" alt="Total Controlï¼Œç”µè„‘ä¸æ‰‹æœºåˆæ¬¡è¿æ¥è¯¦ç»†æ•™ç¨‹"></p>
</li>
<li><p>7</p>
<p>é€‰æ‹©[å…³äºæ‰‹æœº]ï¼›</p>
<p><img src="https://exp-picture.cdn.bcebos.com/49bf00425d6b04d12518b33bb213e8e5edee0184.jpg?x-bce-process=image%2Fresize%2Cm_lfit%2Cw_500%2Climit_1" alt="Total Controlï¼Œç”µè„‘ä¸æ‰‹æœºåˆæ¬¡è¿æ¥è¯¦ç»†æ•™ç¨‹"></p>
</li>
<li><p>8</p>
<p>åœ¨[æ‰‹æœºé…ç½®ä¿¡æ¯]ä¸­æ‰¾åˆ°[ç‰ˆæœ¬å·]ï¼›</p>
<p><img src="https://exp-picture.cdn.bcebos.com/3852f6e5eceeadbccc1e6ec3cd18dfdae53b7b84.jpg?x-bce-process=image%2Fresize%2Cm_lfit%2Cw_500%2Climit_1" alt="Total Controlï¼Œç”µè„‘ä¸æ‰‹æœºåˆæ¬¡è¿æ¥è¯¦ç»†æ•™ç¨‹"></p>
</li>
<li><p>9</p>
<p>æ‹‰åˆ°å±å¹•æœ€ä¸‹æ–¹ï¼Œæ‰¾åˆ° [ç‰ˆæœ¬å·]ï¼Œå¿«é€Ÿç‚¹å‡» 5-7 ä¸‹ï¼›</p>
<p><img src="https://exp-picture.cdn.bcebos.com/4e168d5653bbf82019cabfb8ba21056105a36e84.jpg?x-bce-process=image%2Fresize%2Cm_lfit%2Cw_500%2Climit_1" alt="Total Controlï¼Œç”µè„‘ä¸æ‰‹æœºåˆæ¬¡è¿æ¥è¯¦ç»†æ•™ç¨‹"></p>
</li>
<li><p>10</p>
<p>æ­¤æ—¶å±å¹•ä¸Šä¼šæ˜¾ç¤ºâ€œæ‚¨ç°åœ¨å¤„äºå¼€å‘è€…æ¨¡å¼ï¼â€ï¼›</p>
<p><img src="https://exp-picture.cdn.bcebos.com/82eff6d7592ae3ef67493d8254b6326c56666484.jpg?x-bce-process=image%2Fresize%2Cm_lfit%2Cw_500%2Climit_1" alt="Total Controlï¼Œç”µè„‘ä¸æ‰‹æœºåˆæ¬¡è¿æ¥è¯¦ç»†æ•™ç¨‹"></p>
</li>
<li><p>11</p>
<p>è¿”å›åˆ°è®¾ç½®ç•Œé¢,ç‚¹å‡»è¿›å…¥[å¼€å‘è€…é€‰é¡¹]ï¼›</p>
<p><img src="https://exp-picture.cdn.bcebos.com/38332303bbea3e86a87948f05cd4483105eb5584.jpg?x-bce-process=image%2Fresize%2Cm_lfit%2Cw_500%2Climit_1" alt="Total Controlï¼Œç”µè„‘ä¸æ‰‹æœºåˆæ¬¡è¿æ¥è¯¦ç»†æ•™ç¨‹"></p>
</li>
<li><p>12</p>
<p>é€‰æ‹©[ USB è°ƒè¯•]å¹¶æ‰“å¼€ï¼›</p>
<p><img src="https://exp-picture.cdn.bcebos.com/f7e6410f822b74eebd0362abda2c8cf1d9a74a84.jpg?x-bce-process=image%2Fresize%2Cm_lfit%2Cw_500%2Climit_1" alt="Total Controlï¼Œç”µè„‘ä¸æ‰‹æœºåˆæ¬¡è¿æ¥è¯¦ç»†æ•™ç¨‹"></p>
</li>
<li><p>13</p>
<p>ç‚¹å‡»[ç¡®å®š]åï¼Œæ­¤æ—¶æ‰‹æœºçš„ USB è°ƒè¯•å·²ç»è®¾ç½®å®Œæ¯•ã€‚</p>
<p><img src="https://exp-picture.cdn.bcebos.com/49c5d3e34b2c56eed04eafbdf775e5f4fdf54084.jpg?x-bce-process=image%2Fresize%2Cm_lfit%2Cw_500%2Climit_1" alt="Total Controlï¼Œç”µè„‘ä¸æ‰‹æœºåˆæ¬¡è¿æ¥è¯¦ç»†æ•™ç¨‹"></p>
<p>END</p>
</li>
</ol>
<h2 id="å®‰è£…é€šç”¨é©±åŠ¨"><a href="#å®‰è£…é€šç”¨é©±åŠ¨" class="headerlink" title="å®‰è£…é€šç”¨é©±åŠ¨"></a>å®‰è£…é€šç”¨é©±åŠ¨</h2><ol>
<li><p>1</p>
<p><strong>ä¸€éƒ¨åˆ†ç”¨æˆ·åœ¨å®Œæˆä»¥ä¸Šæ“ä½œä¹‹åï¼Œå°±å¯ä»¥æ­£å¸¸å°†æ‰‹æœºä¸ Total Control è¿æ¥å¹¶ä½¿ç”¨ã€‚ä½†å¦‚æœä»ç„¶æ²¡æœ‰è§£å†³æ‚¨çš„é—®é¢˜ï¼Œè¯·ç»§ç»­æŒ‰ç…§ä¸‹é¢çš„æŒ‡ç¤ºè¿›è¡Œæ“ä½œï¼Œå®‰è£…é€šç”¨é©±åŠ¨</strong>ã€‚</p>
</li>
<li><p>2</p>
<p>ç‚¹å‡»[å®‰è£…é©±åŠ¨]ä¸‹çš„[æŸ¥çœ‹å¦‚ä½•å®‰è£…]è¿›å…¥æ­¥éª¤ä¸€ï¼›</p>
<p><img src="https://exp-picture.cdn.bcebos.com/ef4c24ceaad7726bb8d34c54bf0f64781523b984.jpg?x-bce-process=image%2Fresize%2Cm_lfit%2Cw_500%2Climit_1" alt="Total Controlï¼Œç”µè„‘ä¸æ‰‹æœºåˆæ¬¡è¿æ¥è¯¦ç»†æ•™ç¨‹"></p>
</li>
<li><p>3</p>
<p>æ­¥éª¤ä¸€ï¼šç‚¹å‡»[è®¾å¤‡ç®¡ç†å™¨]ï¼Œæ‰¾åˆ°ä½ éœ€è¦å¸è½½çš„è®¾å¤‡ï¼Œ</p>
<p><img src="https://exp-picture.cdn.bcebos.com/bff8683e21c2bbd65ce1445b116186254093ae84.jpg?x-bce-process=image%2Fresize%2Cm_lfit%2Cw_500%2Climit_1" alt="Total Controlï¼Œç”µè„‘ä¸æ‰‹æœºåˆæ¬¡è¿æ¥è¯¦ç»†æ•™ç¨‹"></p>
</li>
<li><p>4</p>
<p>ç‚¹å‡»é¼ æ ‡å³é”®ï¼Œé€‰æ‹©[å¸è½½]ï¼Œç‚¹å‡»[ç¡®å®š]ï¼Œå¼€å§‹å¸è½½é©±åŠ¨ï¼›</p>
<p><img src="https://exp-picture.cdn.bcebos.com/555acf0ff2260d9af93f3e2a622abab84340a584.jpg?x-bce-process=image%2Fresize%2Cm_lfit%2Cw_500%2Climit_1" alt="Total Controlï¼Œç”µè„‘ä¸æ‰‹æœºåˆæ¬¡è¿æ¥è¯¦ç»†æ•™ç¨‹"></p>
</li>
<li><p>5</p>
<p>æ­¥éª¤äºŒï¼šç‚¹å‡»[å®‰è£…é€šç”¨é©±åŠ¨]ï¼›</p>
<p><img src="https://exp-picture.cdn.bcebos.com/430174fec314f1c545df68723c27ac5307889d84.jpg?x-bce-process=image%2Fresize%2Cm_lfit%2Cw_500%2Climit_1" alt="Total Controlï¼Œç”µè„‘ä¸æ‰‹æœºåˆæ¬¡è¿æ¥è¯¦ç»†æ•™ç¨‹"></p>
</li>
<li><p>6</p>
<p>è·Ÿç€å®‰è£…å‘å¯¼å®‰è£…é€šç”¨é©±åŠ¨å³å¯ï¼›</p>
<p><img src="https://exp-picture.cdn.bcebos.com/07c98f2ca5cadce84879294ffcf7980e5e209584.jpg?x-bce-process=image%2Fresize%2Cm_lfit%2Cw_500%2Climit_1" alt="Total Controlï¼Œç”µè„‘ä¸æ‰‹æœºåˆæ¬¡è¿æ¥è¯¦ç»†æ•™ç¨‹"></p>
<p>END</p>
</li>
</ol>
<h2 id="å®‰è£…æ‰‹æœºä¸“å±çš„-USB-é©±åŠ¨"><a href="#å®‰è£…æ‰‹æœºä¸“å±çš„-USB-é©±åŠ¨" class="headerlink" title="å®‰è£…æ‰‹æœºä¸“å±çš„ USB é©±åŠ¨"></a>å®‰è£…æ‰‹æœºä¸“å±çš„ USB é©±åŠ¨</h2><ol>
<li><p>1</p>
<p><strong>å®‰è£…é€šç”¨é©±åŠ¨ä»¥åï¼Œåˆä¼šè§£å†³æ‰ä¸€éƒ¨åˆ†ç”¨æˆ·çš„é—®é¢˜ï¼Œä½†å¦‚æœä¾æ—§ä¸èƒ½é¡ºåˆ©è¿æ¥å¹¶ä½¿ç”¨ Total Control æ‰‹æœºç¾¤æ§è½¯ä»¶ï¼Œåˆ™éœ€è¦å®‰è£…å¯¹åº”æ‰‹æœºå‹å·çš„ä¸“å± USB é©±åŠ¨ã€‚è¿™é‡Œä»¥é…·æ´¾ 5952 ä¸ºä¾‹ä¸ºå¤§å®¶æ¼”ç¤ºã€‚</strong></p>
</li>
<li><p>2</p>
<p>åœ¨æµè§ˆå™¨ä¸­æœç´¢â€œé…·æ´¾ usb é©±åŠ¨ä¸‹è½½â€ï¼›</p>
<p><img src="https://exp-picture.cdn.bcebos.com/5e615d715fdb3620590be43aabc5260f89358d84.jpg?x-bce-process=image%2Fresize%2Cm_lfit%2Cw_500%2Climit_1" alt="Total Controlï¼Œç”µè„‘ä¸æ‰‹æœºåˆæ¬¡è¿æ¥è¯¦ç»†æ•™ç¨‹"></p>
</li>
<li><p>3</p>
<p>ä¸‹è½½å¯¹åº”æ‰‹æœºé©±åŠ¨ï¼Œå¹¶å®‰è£…ï¼›</p>
<p><img src="https://exp-picture.cdn.bcebos.com/c6b994775ddd884c107b06946cef28066a01f684.jpg?x-bce-process=image%2Fresize%2Cm_lfit%2Cw_500%2Climit_1" alt="Total Controlï¼Œç”µè„‘ä¸æ‰‹æœºåˆæ¬¡è¿æ¥è¯¦ç»†æ•™ç¨‹"></p>
<p>END</p>
</li>
</ol>
<h2 id="æ£€æµ‹é©±åŠ¨æ˜¯å¦å®‰è£…æ­£å¸¸"><a href="#æ£€æµ‹é©±åŠ¨æ˜¯å¦å®‰è£…æ­£å¸¸" class="headerlink" title="æ£€æµ‹é©±åŠ¨æ˜¯å¦å®‰è£…æ­£å¸¸"></a>æ£€æµ‹é©±åŠ¨æ˜¯å¦å®‰è£…æ­£å¸¸</h2><ol>
<li><p><strong>é©±åŠ¨å®‰è£…æˆåŠŸåï¼Œæˆ‘ä»¬æä¾›ä¸¤ç§æ–¹å¼æ¥æ£€æµ‹é©±åŠ¨æ˜¯å¦å®‰è£…å®Œæˆã€‚</strong></p>
<p><strong>æ–¹å¼ä¸€ï¼šæ‰“å¼€å‘½ä»¤è¡Œçª—å£ï¼Œæ‰§è¡Œ adb devices å‘½ä»¤æ£€æµ‹ï¼›</strong></p>
<p><strong>æ–¹å¼äºŒï¼šé€šè¿‡æ‰¾åˆ° Total Control æ‰‹æœºç¾¤æ§è½¯ä»¶æ‰€åœ¨çš„æ–‡ä»¶å¤¹åœ°å€ç²˜è´´åˆ°å‘½ä»¤è¡Œçª—å£æ‰§è¡Œ adb devices å‘½ä»¤æ¥æ£€æµ‹ã€‚</strong></p>
</li>
<li><p>æ–¹å¼ä¸€ï¼š ç‚¹å‡»å¼€å§‹ï¼Œé€‰æ‹©[è¿è¡Œ]ï¼›</p>
<p><img src="https://exp-picture.cdn.bcebos.com/9881b1fce186242fab40bdac35e434daf15ee884.jpg?x-bce-process=image%2Fresize%2Cm_lfit%2Cw_500%2Climit_1" alt="Total Controlï¼Œç”µè„‘ä¸æ‰‹æœºåˆæ¬¡è¿æ¥è¯¦ç»†æ•™ç¨‹"></p>
</li>
<li><p>è¾“å…¥â€œcmdâ€ æ‰“å¼€å‘½ä»¤è¡Œçª—å£ï¼Œæ‰§è¡Œ adb devices å‘½ä»¤ï¼›</p>
<p><img src="https://exp-picture.cdn.bcebos.com/ff5c88d818196120a9ff25dd70f202b374d7df84.jpg?x-bce-process=image%2Fresize%2Cm_lfit%2Cw_500%2Climit_1" alt="Total Controlï¼Œç”µè„‘ä¸æ‰‹æœºåˆæ¬¡è¿æ¥è¯¦ç»†æ•™ç¨‹"></p>
</li>
<li><p>å¦‚æœèƒ½æ­£å¸¸æ˜¾ç¤ºä¸‹å›¾ä¸­çš„ä¸²å·ï¼Œåˆ™è¯æ˜é©±åŠ¨è¯†åˆ«æ­£å¸¸ã€‚</p>
<p><img src="https://exp-picture.cdn.bcebos.com/7496877bbbf4da5864e8f7faea0f8b56ac04d784.jpg?x-bce-process=image%2Fresize%2Cm_lfit%2Cw_500%2Climit_1" alt="Total Controlï¼Œç”µè„‘ä¸æ‰‹æœºåˆæ¬¡è¿æ¥è¯¦ç»†æ•™ç¨‹"></p>
</li>
<li><p>æ–¹å¼äºŒï¼šæ‰“å¼€ Total Control æ‰€åœ¨çš„æ–‡ä»¶å¤¹ï¼Œå¤åˆ¶ Total Control æ‰€åœ¨æ–‡ä»¶å¤¹åœ°å€ï¼›</p>
<p><img src="https://exp-picture.cdn.bcebos.com/ac45306817e951e110ca71e55e3da824d9e9cf84.jpg?x-bce-process=image%2Fresize%2Cm_lfit%2Cw_500%2Climit_1" alt="Total Controlï¼Œç”µè„‘ä¸æ‰‹æœºåˆæ¬¡è¿æ¥è¯¦ç»†æ•™ç¨‹"></p>
</li>
<li><p>å°†åœ°å€ç²˜è´´åˆ°å‘½ä»¤è¡Œçª—å£ä¸­ï¼Œæ‰§è¡Œ adb devices å‘½ä»¤ï¼Œå¦‚æœæ˜¾ç¤ºä¸‹å›¾ä¸­çš„ä¸²å·ï¼Œåˆ™é©±åŠ¨å®‰è£…æ­£å¸¸ï¼›</p>
<p><img src="https://exp-picture.cdn.bcebos.com/5917cb3da824d8e9efe092d5da598540112ac884.jpg?x-bce-process=image%2Fresize%2Cm_lfit%2Cw_500%2Climit_1" alt="Total Controlï¼Œç”µè„‘ä¸æ‰‹æœºåˆæ¬¡è¿æ¥è¯¦ç»†æ•™ç¨‹"></p>
</li>
<li><p>7</p>
<p><strong>ä»¥ä¸Šæ­¥éª¤å®Œæˆåï¼Œå°†æ‰‹æœºä¸ç”µè„‘è¿æ¥ï¼Œè¿æ¥æˆåŠŸåï¼Œç”µè„‘ç«¯å°±ä¼šæ˜¾ç¤ºæ‰‹æœºå·²ç»å’Œ Total Control ç”µè„‘æ§åˆ¶æ‰‹æœºè½¯ä»¶æˆåŠŸåŒ¹é…ï¼Œæ­¤æ—¶æ‰‹æœºå·²ç»æˆåŠŸè¿æ¥åˆ°äº† Total Control ä¸Šï¼Œå¯ä»¥æ­£å¼ä½¿ç”¨æ‰‹æœºç¾¤æ§çš„è½¯ä»¶äº†ï¼ä»¥ä¸Šå°±æ˜¯æˆ‘ä¸ºå¤§å®¶æ•´ç†çš„è¯¦ç»†çš„ Total Control ç”µè„‘ä¸æ‰‹æœºåˆæ¬¡è¿æ¥æ•™ç¨‹ï¼Œä½ å­¦ä¼šäº†å—ï¼Ÿ</strong></p>
</li>
</ol>
<p>   <img src="https://exp-picture.cdn.bcebos.com/84010e2a04e23ea2107089c92b10bc33ed38c384.jpg?x-bce-process=image%2Fresize%2Cm_lfit%2Cw_500%2Climit_1" alt="Total Controlï¼Œç”µè„‘ä¸æ‰‹æœºåˆæ¬¡è¿æ¥è¯¦ç»†æ•™ç¨‹"></p>
]]></content>
  </entry>
  <entry>
    <title>thisæŒ‡å‘è¯¦è§£</title>
    <url>/2020/07/30/this%E6%8C%87%E5%90%91%E8%AF%A6%E8%A7%A3/</url>
    <content><![CDATA[<h3 id="å‰ç«¯é¢è¯•ä¹‹å½»åº•ææ‡‚thisæŒ‡å‘"><a href="#å‰ç«¯é¢è¯•ä¹‹å½»åº•ææ‡‚thisæŒ‡å‘" class="headerlink" title="å‰ç«¯é¢è¯•ä¹‹å½»åº•ææ‡‚thisæŒ‡å‘"></a>å‰ç«¯é¢è¯•ä¹‹å½»åº•ææ‡‚thisæŒ‡å‘</h3><p>thisæ˜¯JavaScriptä¸­çš„ä¸€ä¸ªå…³é”®å­—ï¼Œä½†æ˜¯åˆä¸€ä¸ªç›¸å¯¹æ¯”è¾ƒç‰¹åˆ«çš„å…³é”®å­—ï¼Œä¸åƒfunctionã€varã€forã€ifè¿™äº›å…³é”®å­—ä¸€æ ·ï¼Œå¯ä»¥å¾ˆæ¸…æ¥šçš„ææ¸…æ¥šå®ƒåˆ°åº•æ˜¯å¦‚ä½•ä½¿ç”¨çš„ã€‚</p>
<p>thisä¼šåœ¨æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­ç»‘å®šä¸€ä¸ªå¯¹è±¡ï¼Œä½†æ˜¯æ˜¯æ ¹æ®ä»€ä¹ˆæ¡ä»¶ç»‘å®šçš„å‘¢ï¼Ÿåœ¨ä¸åŒçš„æ‰§è¡Œæ¡ä»¶ä¸‹ä¼šç»‘å®šä¸åŒçš„å¯¹è±¡ï¼Œè¿™ä¹Ÿæ˜¯è®©äººæ‰æ‘¸ä¸å®šçš„åœ°æ–¹ã€‚</p>
<p>è¿™ä¸€æ¬¡ï¼Œæˆ‘ä»¬ä¸€èµ·æ¥å½»åº•æå®šthisåˆ°åº•æ˜¯å¦‚ä½•ç»‘å®šçš„å§ï¼</p>
<a id="more"></a>

<p>ä¸€. ç†è§£this</p>
<p>1.1. ä¸ºä»€ä¹ˆä½¿ç”¨this</p>
<p>åœ¨å¸¸è§çš„ç¼–ç¨‹è¯­è¨€ä¸­ï¼Œå‡ ä¹éƒ½æœ‰thisè¿™ä¸ªå…³é”®å­—ï¼ˆObjective-Cä¸­ä½¿ç”¨çš„æ˜¯selfï¼‰ï¼Œä½†æ˜¯JavaScriptä¸­çš„thiså’Œå¸¸è§çš„é¢å‘å¯¹è±¡è¯­è¨€ä¸­çš„thisä¸å¤ªä¸€æ ·ï¼š</p>
<ul>
<li>å¸¸è§é¢å‘å¯¹è±¡çš„ç¼–ç¨‹è¯­è¨€ä¸­ï¼Œæ¯”å¦‚Javaã€C++ã€Swiftã€Dartç­‰ç­‰ä¸€ç³»åˆ—è¯­è¨€ä¸­ï¼Œthisé€šå¸¸åªä¼šå‡ºç°åœ¨ç±»çš„æ–¹æ³•ä¸­ã€‚</li>
<li>ä¹Ÿå°±æ˜¯ä½ éœ€è¦æœ‰ä¸€ä¸ªç±»ï¼Œç±»ä¸­çš„æ–¹æ³•ï¼ˆç‰¹åˆ«æ˜¯å®ä¾‹æ–¹æ³•ï¼‰ä¸­ï¼Œthisä»£è¡¨çš„æ˜¯å½“å‰è°ƒç”¨å¯¹è±¡ã€‚</li>
<li>ä½†æ˜¯JavaScriptä¸­çš„thisæ›´åŠ çµæ´»ï¼Œæ— è®ºæ˜¯å®ƒå‡ºç°çš„ä½ç½®è¿˜æ˜¯å®ƒä»£è¡¨çš„å«ä¹‰ã€‚</li>
</ul>
<p>ä½¿ç”¨thisæœ‰ä»€ä¹ˆæ„ä¹‰å‘¢ï¼Ÿä¸‹é¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡å¯¹è±¡å­—é¢é‡åˆ›å»ºå‡ºæ¥ä¸€ä¸ªå¯¹è±¡ï¼Œå½“æˆ‘ä»¬è°ƒç”¨å¯¹è±¡çš„æ–¹æ³•æ—¶ï¼Œå¸Œæœ›å°†å¯¹è±¡çš„åç§°ä¸€èµ·è¿›è¡Œæ‰“å°ã€‚</p>
<p>å¦‚æœæ²¡æœ‰thisï¼Œé‚£ä¹ˆæˆ‘ä»¬çš„ä»£ç ä¼šæ˜¯ä¸‹é¢çš„å†™æ³•ï¼š</p>
<ul>
<li>åœ¨æ–¹æ³•ä¸­ï¼Œä¸ºäº†èƒ½å¤Ÿè·å–åˆ°nameåç§°ï¼Œå¿…é¡»é€šè¿‡objçš„å¼•ç”¨ï¼ˆå˜é‡åç§°ï¼‰æ¥è·å–ã€‚</li>
<li>ä½†æ˜¯è¿™æ ·åšæœ‰ä¸€ä¸ªå¾ˆå¤§çš„å¼Šç«¯ï¼šå¦‚æœæˆ‘å°†objçš„åç§°æ¢æˆäº†infoï¼Œé‚£ä¹ˆæ‰€æœ‰çš„æ–¹æ³•ä¸­çš„objéƒ½éœ€è¦æ¢æˆinfoã€‚</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var obj &#x3D; &#123;</span><br><span class="line">  name: &quot;why&quot;,</span><br><span class="line">  running: function () &#123;</span><br><span class="line">    console.log(obj.name + &quot; running&quot;);</span><br><span class="line">  &#125;,</span><br><span class="line">  eating: function () &#123;</span><br><span class="line">    console.log(obj.name + &quot; eating&quot;);</span><br><span class="line">  &#125;,</span><br><span class="line">  studying: function () &#123;</span><br><span class="line">    console.log(obj.name + &quot; studying&quot;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>äº‹å®ä¸Šï¼Œä¸Šé¢çš„ä»£ç ï¼Œåœ¨å®é™…å¼€å‘ä¸­ï¼Œæˆ‘ä»¬éƒ½ä¼šä½¿ç”¨thisæ¥è¿›è¡Œä¼˜åŒ–ï¼š</p>
<ul>
<li>å½“æˆ‘ä»¬é€šè¿‡objå»è°ƒç”¨runningã€eatingã€studyingè¿™äº›æ–¹æ³•æ—¶ï¼Œthiså°±æ˜¯æŒ‡å‘çš„objå¯¹è±¡</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var obj &#x3D; &#123;</span><br><span class="line">  name: &quot;why&quot;,</span><br><span class="line">  running: function () &#123;</span><br><span class="line">    console.log(this.name + &quot; running&quot;);</span><br><span class="line">  &#125;,</span><br><span class="line">  eating: function () &#123;</span><br><span class="line">    console.log(this.name + &quot; eating&quot;);</span><br><span class="line">  &#125;,</span><br><span class="line">  studying: function () &#123;</span><br><span class="line">    console.log(this.name + &quot; studying&quot;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>  name: â€œwhyâ€,</p>
<p>  running: function() {</p>
<p>â€‹    console.log(this.name + â€œ runningâ€);</p>
<p>  },</p>
<p>  eating: function() {</p>
<p>â€‹    console.log(this.name + â€œ eatingâ€);</p>
<p>  },</p>
<p>  studying: function() {</p>
<p>â€‹    console.log(this.name + â€œ studyingâ€);</p>
<p>  }</p>
<p>}</p>
<p>æ‰€ä»¥æˆ‘ä»¬ä¼šå‘ç°ï¼Œåœ¨æŸäº›å‡½æ•°æˆ–è€…æ–¹æ³•çš„ç¼–å†™ä¸­ï¼Œthiså¯ä»¥è®©æˆ‘ä»¬æ›´åŠ ä¾¿æ·çš„æ–¹å¼æ¥å¼•ç”¨å¯¹è±¡ï¼Œåœ¨è¿›è¡Œä¸€äº›APIè®¾è®¡æ—¶ï¼Œä»£ç æ›´åŠ çš„ç®€æ´å’Œæ˜“äºå¤ç”¨ã€‚</p>
<p>å½“ç„¶ï¼Œä¸Šé¢åªæ˜¯åº”ç”¨thisçš„ä¸€ä¸ªåœºæ™¯è€Œå·²ï¼Œå¼€å‘ä¸­ä½¿ç”¨åˆ°thisçš„åœºæ™¯åˆ°å¤„éƒ½æ˜¯ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆå®ƒä¸å®¹æ˜“ç†è§£çš„åŸå› ã€‚</p>
<p>1.2. thisæŒ‡å‘ä»€ä¹ˆ</p>
<p>æˆ‘ä»¬å…ˆè¯´ä¸€ä¸ªæœ€ç®€å•çš„ï¼Œthisåœ¨å…¨å±€ä½œç”¨åŸŸä¸‹æŒ‡å‘ä»€ä¹ˆï¼Ÿ</p>
<ul>
<li>è¿™ä¸ªé—®é¢˜éå¸¸å®¹æ˜“å›ç­”ï¼Œåœ¨æµè§ˆå™¨ä¸­æµ‹è¯•å°±æ˜¯æŒ‡å‘window</li>
<li>æ‰€ä»¥ï¼Œåœ¨å…¨å±€ä½œç”¨åŸŸä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥è®¤ä¸ºthiså°±æ˜¯æŒ‡å‘çš„window</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">console.log(this); &#x2F;&#x2F; window</span><br><span class="line"></span><br><span class="line">var name &#x3D; &quot;why&quot;;</span><br><span class="line"></span><br><span class="line">console.log(this.name); &#x2F;&#x2F; why</span><br><span class="line"></span><br><span class="line">console.log(window.name); &#x2F;&#x2F; why</span><br></pre></td></tr></table></figure>



<p>ä½†æ˜¯ï¼Œå¼€å‘ä¸­å¾ˆå°‘ç›´æ¥åœ¨å…¨å±€ä½œç”¨åŸŸä¸‹å»ä½¿ç”¨thisï¼Œé€šå¸¸éƒ½æ˜¯åœ¨å‡½æ•°ä¸­ä½¿ç”¨ã€‚</p>
<p>æ‰€æœ‰çš„å‡½æ•°åœ¨è¢«è°ƒç”¨æ—¶ï¼Œéƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ‰§è¡Œä¸Šä¸‹æ–‡ï¼š</p>
<ul>
<li>è¿™ä¸ªä¸Šä¸‹æ–‡ä¸­è®°å½•ç€å‡½æ•°çš„è°ƒç”¨æ ˆã€å‡½æ•°çš„è°ƒç”¨æ–¹å¼ã€ä¼ å…¥çš„å‚æ•°ä¿¡æ¯ç­‰ï¼›</li>
<li>thisä¹Ÿæ˜¯å…¶ä¸­çš„ä¸€ä¸ªå±æ€§ï¼›</li>
</ul>
<p>æˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸ªè®©äººå›°æƒ‘çš„é—®é¢˜ï¼š</p>
<ul>
<li>å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œæˆ‘ä»¬é‡‡ç”¨ä¸‰ç§ä¸åŒçš„æ–¹å¼å¯¹å®ƒè¿›è¡Œè°ƒç”¨ï¼Œå®ƒäº§ç”Ÿäº†ä¸‰ç§ä¸åŒçš„ç»“æœ</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; å®šä¹‰ä¸€ä¸ªå‡½æ•°</span><br><span class="line">function foo() &#123;</span><br><span class="line">  console.log(this);</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;&#x2F; 1.è°ƒç”¨æ–¹å¼ä¸€: ç›´æ¥è°ƒç”¨</span><br><span class="line">foo(); &#x2F;&#x2F; window</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 2.è°ƒç”¨æ–¹å¼äºŒ: å°†fooæ”¾åˆ°ä¸€ä¸ªå¯¹è±¡ä¸­,å†è°ƒç”¨</span><br><span class="line">var obj &#x3D; &#123;</span><br><span class="line">  name: &quot;why&quot;,</span><br><span class="line">  foo: foo</span><br><span class="line">&#125;</span><br><span class="line">obj.foo() &#x2F;&#x2F; objå¯¹è±¡</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 3.è°ƒç”¨æ–¹å¼ä¸‰: é€šè¿‡call&#x2F;applyè°ƒç”¨</span><br><span class="line">foo.call(&quot;abc&quot;); &#x2F;&#x2F; String &#123;&quot;abc&quot;&#125;å¯¹è±¡</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢çš„æ¡ˆä¾‹å¯ä»¥ç»™æˆ‘ä»¬ä»€ä¹ˆæ ·çš„å¯ç¤ºå‘¢ï¼Ÿ</p>
<ul>
<li>1.å‡½æ•°åœ¨è°ƒç”¨æ—¶ï¼ŒJavaScriptä¼šé»˜è®¤ç»™thisç»‘å®šä¸€ä¸ªå€¼ï¼›</li>
<li>2.thisçš„ç»‘å®šå’Œå®šä¹‰çš„ä½ç½®ï¼ˆç¼–å†™çš„ä½ç½®ï¼‰æ²¡æœ‰å…³ç³»ï¼›</li>
<li>3.thisçš„ç»‘å®šå’Œè°ƒç”¨æ–¹å¼ä»¥åŠè°ƒç”¨çš„ä½ç½®æœ‰å…³ç³»ï¼›</li>
<li>4.thisæ˜¯åœ¨è¿è¡Œæ—¶è¢«ç»‘å®šçš„ï¼›</li>
</ul>
<p>é‚£ä¹ˆthisåˆ°åº•æ˜¯æ€ä¹ˆæ ·çš„ç»‘å®šè§„åˆ™å‘¢ï¼Ÿä¸€èµ·æ¥å­¦ä¹ ä¸€ä¸‹å§</p>
<p>äºŒ. thisç»‘å®šè§„åˆ™</p>
<p>æˆ‘ä»¬ç°åœ¨å·²ç»çŸ¥é“thisæ— éå°±æ˜¯åœ¨å‡½æ•°è°ƒç”¨æ—¶è¢«ç»‘å®šçš„ä¸€ä¸ªå¯¹è±¡ï¼Œæˆ‘ä»¬å°±éœ€è¦çŸ¥é“å®ƒåœ¨ä¸åŒçš„åœºæ™¯ä¸‹çš„ç»‘å®šè§„åˆ™å³å¯ã€‚</p>
<p>2.1. é»˜è®¤ç»‘å®š</p>
<p>ä»€ä¹ˆæƒ…å†µä¸‹ä½¿ç”¨é»˜è®¤ç»‘å®šå‘¢ï¼Ÿç‹¬ç«‹å‡½æ•°è°ƒç”¨ã€‚</p>
<ul>
<li>ç‹¬ç«‹çš„å‡½æ•°è°ƒç”¨æˆ‘ä»¬å¯ä»¥ç†è§£æˆå‡½æ•°æ²¡æœ‰è¢«ç»‘å®šåˆ°æŸä¸ªå¯¹è±¡ä¸Šè¿›è¡Œè°ƒç”¨ï¼›</li>
</ul>
<p>æ¡ˆä¾‹ä¸€ï¼šæ™®é€šå‡½æ•°è°ƒç”¨</p>
<ul>
<li>è¯¥å‡½æ•°ç›´æ¥è¢«è°ƒç”¨ï¼Œå¹¶æ²¡æœ‰è¿›è¡Œä»»ä½•çš„å¯¹è±¡å…³è”ï¼›</li>
<li>è¿™ç§ç‹¬ç«‹çš„å‡½æ•°è°ƒç”¨ä¼šä½¿ç”¨é»˜è®¤ç»‘å®šï¼Œé€šå¸¸é»˜è®¤ç»‘å®šæ—¶ï¼Œå‡½æ•°ä¸­çš„thisæŒ‡å‘å…¨å±€å¯¹è±¡ï¼ˆwindowï¼‰ï¼›</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function foo() &#123;</span><br><span class="line">  console.log(this); &#x2F;&#x2F; window</span><br><span class="line">&#125;</span><br><span class="line">foo();</span><br></pre></td></tr></table></figure>



<p>æ¡ˆä¾‹äºŒï¼šå‡½æ•°è°ƒç”¨é“¾ï¼ˆä¸€ä¸ªå‡½æ•°åˆè°ƒç”¨å¦å¤–ä¸€ä¸ªå‡½æ•°ï¼‰</p>
<ul>
<li>æ‰€æœ‰çš„å‡½æ•°è°ƒç”¨éƒ½æ²¡æœ‰è¢«ç»‘å®šåˆ°æŸä¸ªå¯¹è±¡ä¸Šï¼›</li>
</ul>
<p>// 2.æ¡ˆä¾‹äºŒ:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function test1() &#123;</span><br><span class="line">  console.log(this); &#x2F;&#x2F; window</span><br><span class="line">  test2();</span><br><span class="line">&#125;</span><br><span class="line">function test2() &#123;</span><br><span class="line">  console.log(this); &#x2F;&#x2F; window</span><br><span class="line">  test3()</span><br><span class="line">&#125;</span><br><span class="line">function test3() &#123;</span><br><span class="line">  console.log(this); &#x2F;&#x2F; window</span><br><span class="line">&#125;</span><br><span class="line">test1();</span><br></pre></td></tr></table></figure>



<p>æ¡ˆä¾‹ä¸‰ï¼šå°†å‡½æ•°ä½œä¸ºå‚æ•°ï¼Œä¼ å…¥åˆ°å¦ä¸€ä¸ªå‡½æ•°ä¸­</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function foo(func) &#123;</span><br><span class="line">  func()</span><br><span class="line">&#125;</span><br><span class="line">function bar() &#123;</span><br><span class="line">  console.log(this); &#x2F;&#x2F; window</span><br><span class="line">&#125;</span><br><span class="line">foo(bar);</span><br></pre></td></tr></table></figure>



<p>æˆ‘ä»¬å¯¹æ¡ˆä¾‹è¿›è¡Œä¸€äº›ä¿®æ”¹ï¼Œè€ƒè™‘ä¸€ä¸‹æ‰“å°ç»“æœæ˜¯å¦ä¼šå‘ç”Ÿå˜åŒ–ï¼š</p>
<ul>
<li>è¿™é‡Œçš„ç»“æœä¾ç„¶æ˜¯windowï¼Œä¸ºä»€ä¹ˆå‘¢ï¼Ÿ</li>
<li>åŸå› éå¸¸ç®€å•ï¼Œåœ¨çœŸæ­£å‡½æ•°è°ƒç”¨çš„ä½ç½®ï¼Œå¹¶æ²¡æœ‰è¿›è¡Œä»»ä½•çš„å¯¹è±¡ç»‘å®šï¼Œåªæ˜¯ä¸€ä¸ªç‹¬ç«‹å‡½æ•°çš„è°ƒç”¨ï¼›</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function foo(func) &#123;</span><br><span class="line">  func()</span><br><span class="line">&#125;</span><br><span class="line">var obj &#x3D; &#123;</span><br><span class="line">  name: &quot;why&quot;,</span><br><span class="line">  bar: function() &#123;</span><br><span class="line">    console.log(this); &#x2F;&#x2F; window</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">foo(obj.bar);</span><br></pre></td></tr></table></figure>



<p>2.2. éšå¼ç»‘å®š</p>
<p>å¦å¤–ä¸€ç§æ¯”è¾ƒå¸¸è§çš„è°ƒç”¨æ–¹å¼æ˜¯é€šè¿‡æŸä¸ªå¯¹è±¡è¿›è¡Œè°ƒç”¨çš„ï¼š</p>
<ul>
<li>ä¹Ÿå°±æ˜¯å®ƒçš„è°ƒç”¨ä½ç½®ä¸­ï¼Œæ˜¯é€šè¿‡æŸä¸ªå¯¹è±¡å‘èµ·çš„å‡½æ•°è°ƒç”¨ã€‚</li>
</ul>
<p>æ¡ˆä¾‹ä¸€ï¼šé€šè¿‡å¯¹è±¡è°ƒç”¨å‡½æ•°</p>
<ul>
<li>fooçš„è°ƒç”¨ä½ç½®æ˜¯obj.foo()æ–¹å¼è¿›è¡Œè°ƒç”¨çš„</li>
<li>é‚£ä¹ˆfooè°ƒç”¨æ—¶thisä¼šéšå¼çš„è¢«ç»‘å®šåˆ°objå¯¹è±¡ä¸Š</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function foo() &#123;</span><br><span class="line">  console.log(this); &#x2F;&#x2F; objå¯¹è±¡</span><br><span class="line">&#125;</span><br><span class="line">var obj &#x3D; &#123;</span><br><span class="line">  name: &quot;why&quot;,</span><br><span class="line">  foo: foo</span><br><span class="line">&#125;</span><br><span class="line">obj.foo();</span><br></pre></td></tr></table></figure>



<p>æ¡ˆä¾‹äºŒï¼šæ¡ˆä¾‹ä¸€çš„å˜åŒ–</p>
<ul>
<li>æˆ‘ä»¬é€šè¿‡obj2åˆå¼•ç”¨äº†obj1å¯¹è±¡ï¼Œå†é€šè¿‡obj1å¯¹è±¡è°ƒç”¨fooå‡½æ•°ï¼›</li>
<li>é‚£ä¹ˆfooè°ƒç”¨çš„ä½ç½®ä¸Šå…¶å®è¿˜æ˜¯obj1è¢«ç»‘å®šäº†thisï¼›</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function foo() &#123;</span><br><span class="line">  console.log(this); &#x2F;&#x2F; objå¯¹è±¡</span><br><span class="line">&#125;</span><br><span class="line">var obj1 &#x3D; &#123;</span><br><span class="line">  name: &quot;obj1&quot;,</span><br><span class="line">  foo: foo</span><br><span class="line">&#125;</span><br><span class="line">var obj2 &#x3D; &#123;</span><br><span class="line">  name: &quot;obj2&quot;,</span><br><span class="line">  obj1: obj1</span><br><span class="line">&#125;</span><br><span class="line">obj2.obj1.foo();</span><br></pre></td></tr></table></figure>



<p>æ¡ˆä¾‹ä¸‰ï¼šéšå¼ä¸¢å¤±</p>
<ul>
<li>ç»“æœæœ€ç»ˆæ˜¯windowï¼Œä¸ºä»€ä¹ˆæ˜¯windowå‘¢ï¼Ÿ</li>
<li>å› ä¸ºfooæœ€ç»ˆè¢«è°ƒç”¨çš„ä½ç½®æ˜¯barï¼Œè€Œbaråœ¨è¿›è¡Œè°ƒç”¨æ—¶æ²¡æœ‰ç»‘å®šä»»ä½•çš„å¯¹è±¡ï¼Œä¹Ÿå°±æ²¡æœ‰å½¢æˆéšå¼ç»‘å®šï¼›</li>
<li>ç›¸å½“äºæ˜¯ä¸€ç§é»˜è®¤ç»‘å®šï¼›</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function foo() &#123;</span><br><span class="line">  console.log(this);</span><br><span class="line">&#125;</span><br><span class="line">var obj1 &#x3D; &#123;</span><br><span class="line">  name: &quot;obj1&quot;,</span><br><span class="line">  foo: foo</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;&#x2F; è®²obj1çš„fooèµ‹å€¼ç»™bar</span><br><span class="line">var bar &#x3D; obj1.foo;</span><br><span class="line">bar();</span><br></pre></td></tr></table></figure>



<p>2.3. æ˜¾ç¤ºç»‘å®š</p>
<p>éšå¼ç»‘å®šæœ‰ä¸€ä¸ªå‰ææ¡ä»¶ï¼š</p>
<ul>
<li>å¿…é¡»åœ¨è°ƒç”¨çš„å¯¹è±¡å†…éƒ¨æœ‰ä¸€ä¸ªå¯¹å‡½æ•°çš„å¼•ç”¨ï¼ˆæ¯”å¦‚ä¸€ä¸ªå±æ€§ï¼‰ï¼›</li>
<li>å¦‚æœæ²¡æœ‰è¿™æ ·çš„å¼•ç”¨ï¼Œåœ¨è¿›è¡Œè°ƒç”¨æ—¶ï¼Œä¼šæŠ¥æ‰¾ä¸åˆ°è¯¥å‡½æ•°çš„é”™è¯¯ï¼›</li>
<li>æ­£æ˜¯é€šè¿‡è¿™ä¸ªå¼•ç”¨ï¼Œé—´æ¥çš„å°†thisç»‘å®šåˆ°äº†è¿™ä¸ªå¯¹è±¡ä¸Šï¼›</li>
</ul>
<p>å¦‚æœæˆ‘ä»¬ä¸å¸Œæœ›åœ¨ å¯¹è±¡å†…éƒ¨ åŒ…å«è¿™ä¸ªå‡½æ•°çš„å¼•ç”¨ï¼ŒåŒæ—¶åˆå¸Œæœ›åœ¨è¿™ä¸ªå¯¹è±¡ä¸Šè¿›è¡Œå¼ºåˆ¶è°ƒç”¨ï¼Œè¯¥æ€ä¹ˆåšå‘¢ï¼Ÿ</p>
<ul>
<li>JavaScriptæ‰€æœ‰çš„å‡½æ•°éƒ½å¯ä»¥ä½¿ç”¨callå’Œapplyæ–¹æ³•ï¼ˆè¿™ä¸ªå’ŒPrototypeæœ‰å…³ï¼‰ã€‚</li>
</ul>
<ul>
<li><ul>
<li>å®ƒä»¬ä¸¤ä¸ªçš„åŒºåˆ«è¿™é‡Œä¸å†å±•å¼€ï¼›</li>
<li>å…¶å®éå¸¸ç®€å•ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ç›¸åŒçš„ï¼Œåé¢çš„å‚æ•°ï¼Œapplyä¸ºæ•°ç»„ï¼Œcallä¸ºå‚æ•°åˆ—è¡¨ï¼›</li>
</ul>
</li>
</ul>
<ul>
<li>è¿™ä¸¤ä¸ªå‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°éƒ½è¦æ±‚æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡çš„ä½œç”¨æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿå°±æ˜¯ç»™thiså‡†å¤‡çš„ã€‚</li>
<li>åœ¨è°ƒç”¨è¿™ä¸ªå‡½æ•°æ—¶ï¼Œä¼šå°†thisç»‘å®šåˆ°è¿™ä¸ªä¼ å…¥çš„å¯¹è±¡ä¸Šã€‚</li>
</ul>
<p>å› ä¸ºä¸Šé¢çš„è¿‡ç¨‹ï¼Œæˆ‘ä»¬æ˜ç¡®çš„ç»‘å®šäº†thisæŒ‡å‘çš„å¯¹è±¡ï¼Œæ‰€ä»¥ç§°ä¹‹ä¸º æ˜¾ç¤ºç»‘å®šã€‚</p>
<p>2.3.1. callã€apply</p>
<p>é€šè¿‡callæˆ–è€…applyç»‘å®šthiså¯¹è±¡</p>
<ul>
<li>æ˜¾ç¤ºç»‘å®šåï¼Œthiså°±ä¼šæ˜ç¡®çš„æŒ‡å‘ç»‘å®šçš„å¯¹è±¡</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function foo() &#123;</span><br><span class="line">  console.log(this);</span><br><span class="line">&#125;</span><br><span class="line">foo.call(window); &#x2F;&#x2F; window</span><br><span class="line">foo.call(&#123;name: &quot;why&quot;&#125;); &#x2F;&#x2F; &#123;name: &quot;why&quot;&#125;</span><br><span class="line">foo.call(123); &#x2F;&#x2F; Numberå¯¹è±¡,å­˜æ”¾æ—¶123</span><br></pre></td></tr></table></figure>



<p>2.3.2. bindå‡½æ•°</p>
<p>å¦‚æœæˆ‘ä»¬å¸Œæœ›ä¸€ä¸ªå‡½æ•°æ€»æ˜¯æ˜¾ç¤ºçš„ç»‘å®šåˆ°ä¸€ä¸ªå¯¹è±¡ä¸Šï¼Œå¯ä»¥æ€ä¹ˆåšå‘¢ï¼Ÿ</p>
<p>æ–¹æ¡ˆä¸€ï¼šè‡ªå·±æ‰‹å†™ä¸€ä¸ªè¾…åŠ©å‡½æ•°ï¼ˆäº†è§£ï¼‰</p>
<ul>
<li>æˆ‘ä»¬æ‰‹åŠ¨å†™äº†ä¸€ä¸ªbindçš„è¾…åŠ©å‡½æ•°</li>
<li>è¿™ä¸ªè¾…åŠ©å‡½æ•°çš„ç›®çš„æ˜¯åœ¨æ‰§è¡Œfooæ—¶ï¼Œæ€»æ˜¯è®©å®ƒçš„thisç»‘å®šåˆ°objå¯¹è±¡ä¸Š</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function foo() &#123;</span><br><span class="line">  console.log(this);</span><br><span class="line">&#125;</span><br><span class="line">var obj &#x3D; &#123;</span><br><span class="line">  name: &quot;why&quot;</span><br><span class="line">&#125;</span><br><span class="line">function bind(func, obj) &#123;</span><br><span class="line">  return function() &#123;</span><br><span class="line">    return func.apply(obj, arguments);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">var bar &#x3D; bind(foo, obj);</span><br><span class="line">bar(); &#x2F;&#x2F; objå¯¹è±¡</span><br><span class="line">bar(); &#x2F;&#x2F; objå¯¹è±¡</span><br><span class="line">bar(); &#x2F;&#x2F; objå¯¹è±¡</span><br></pre></td></tr></table></figure>



<p>æ–¹æ¡ˆäºŒï¼šä½¿ç”¨Function.prototype.bind</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function foo() &#123;</span><br><span class="line">  console.log(this);</span><br><span class="line">&#125;</span><br><span class="line">var obj &#x3D; &#123;</span><br><span class="line">  name: &quot;why&quot;</span><br><span class="line">&#125;</span><br><span class="line">var bar &#x3D; foo.bind(obj);</span><br><span class="line">bar(); &#x2F;&#x2F; objå¯¹è±¡</span><br><span class="line">bar(); &#x2F;&#x2F; objå¯¹è±¡</span><br><span class="line">bar(); &#x2F;&#x2F; objå¯¹è±¡</span><br></pre></td></tr></table></figure>



<p>2.3.3. å†…ç½®å‡½æ•°</p>
<p>æœ‰äº›æ—¶å€™ï¼Œæˆ‘ä»¬ä¼šè°ƒç”¨ä¸€äº›JavaScriptçš„å†…ç½®å‡½æ•°ï¼Œæˆ–è€…ä¸€äº›ç¬¬ä¸‰æ–¹åº“ä¸­çš„å†…ç½®å‡½æ•°ã€‚</p>
<ul>
<li>è¿™äº›å†…ç½®å‡½æ•°ä¼šè¦æ±‚æˆ‘ä»¬ä¼ å…¥å¦å¤–ä¸€ä¸ªå‡½æ•°ï¼›</li>
<li>æˆ‘ä»¬è‡ªå·±å¹¶ä¸ä¼šæ˜¾ç¤ºçš„è°ƒç”¨è¿™äº›å‡½æ•°ï¼Œè€Œä¸”JavaScriptå†…éƒ¨æˆ–è€…ç¬¬ä¸‰æ–¹åº“å†…éƒ¨ä¼šå¸®åŠ©æˆ‘ä»¬æ‰§è¡Œï¼›</li>
<li>è¿™äº›å‡½æ•°ä¸­çš„thisåˆæ˜¯å¦‚ä½•ç»‘å®šçš„å‘¢ï¼Ÿ</li>
</ul>
<p>æ¡ˆä¾‹ä¸€ï¼šsetTimeout</p>
<ul>
<li>setTimeoutä¸­ä¼šä¼ å…¥ä¸€ä¸ªå‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°ä¸­çš„thisé€šå¸¸æ˜¯window</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">setTimeout(function() &#123;</span><br><span class="line">  console.log(this); &#x2F;&#x2F; window</span><br><span class="line">&#125;, 1000);</span><br></pre></td></tr></table></figure>



<p>ä¸ºä»€ä¹ˆè¿™é‡Œæ˜¯windowå‘¢ï¼Ÿ</p>
<ul>
<li>è¿™ä¸ªå’ŒsetTimeoutæºç çš„å†…éƒ¨è°ƒç”¨æœ‰å…³ï¼›</li>
<li>setTimeoutå†…éƒ¨æ˜¯é€šè¿‡applyè¿›è¡Œç»‘å®šçš„thiså¯¹è±¡ï¼Œå¹¶ä¸”ç»‘å®šçš„æ˜¯å…¨å±€å¯¹è±¡ï¼›</li>
</ul>
<p>æ¡ˆä¾‹äºŒï¼šæ•°ç»„çš„forEach</p>
<p>æ•°ç»„æœ‰ä¸€ä¸ªé«˜é˜¶å‡½æ•°forEachï¼Œç”¨äºå‡½æ•°çš„éå†ï¼š</p>
<ul>
<li>åœ¨forEachä¸­ä¼ å…¥çš„å‡½æ•°æ‰“å°çš„ä¹Ÿæ˜¯Windowå¯¹è±¡ï¼›</li>
<li>è¿™æ˜¯å› ä¸ºé»˜è®¤æƒ…å†µä¸‹ä¼ å…¥çš„å‡½æ•°æ˜¯è‡ªåŠ¨è°ƒç”¨å‡½æ•°ï¼ˆé»˜è®¤ç»‘å®šï¼‰ï¼›</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var names &#x3D; [&quot;abc&quot;, &quot;cba&quot;, &quot;nba&quot;];</span><br><span class="line">names.forEach(function(item) &#123;</span><br><span class="line">  console.log(this); &#x2F;&#x2F; ä¸‰æ¬¡window</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>



<p>æˆ‘ä»¬æ˜¯å¦å¯ä»¥æ”¹å˜è¯¥å‡½æ•°çš„thisæŒ‡å‘å‘¢ï¼Ÿ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">forEachå‚æ•°</span><br><span class="line">var names &#x3D; [&quot;abc&quot;, &quot;cba&quot;, &quot;nba&quot;];</span><br><span class="line">var obj &#x3D; &#123;name: &quot;why&quot;&#125;;</span><br><span class="line">names.forEach(function(item) &#123;</span><br><span class="line">  console.log(this); &#x2F;&#x2F; ä¸‰æ¬¡objå¯¹è±¡</span><br><span class="line">&#125;, obj);</span><br></pre></td></tr></table></figure>



<p>æ¡ˆä¾‹ä¸‰ï¼šdivçš„ç‚¹å‡»</p>
<p>å¦‚æœæˆ‘ä»¬æœ‰ä¸€ä¸ªdivå…ƒç´ ï¼š</p>
<ul>
<li><p>æ³¨æ„ï¼šçœç•¥äº†éƒ¨åˆ†ä»£ç </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">  .box &#123;</span><br><span class="line">    width: 200px;</span><br><span class="line">    height: 200px;</span><br><span class="line">    background-color: red;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br><span class="line">&lt;div class&#x3D;&quot;box&quot;&gt;&lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure>



</li>
</ul>
<p>è·å–å…ƒç´ èŠ‚ç‚¹ï¼Œå¹¶ä¸”ç›‘å¬ç‚¹å‡»ï¼š</p>
<ul>
<li>åœ¨ç‚¹å‡»äº‹ä»¶çš„å›è°ƒä¸­ï¼ŒthisæŒ‡å‘è°å‘¢ï¼Ÿboxå¯¹è±¡ï¼›</li>
<li>è¿™æ˜¯å› ä¸ºåœ¨å‘ç”Ÿç‚¹å‡»æ—¶ï¼Œæ‰§è¡Œä¼ å…¥çš„å›è°ƒå‡½æ•°è¢«è°ƒç”¨æ—¶ï¼Œä¼šå°†boxå¯¹è±¡ç»‘å®šåˆ°è¯¥å‡½æ•°ä¸­ï¼›</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var box &#x3D; document.querySelector(&quot;.box&quot;);</span><br><span class="line">box.onclick &#x3D; function() &#123;</span><br><span class="line">  console.log(this); &#x2F;&#x2F; boxå¯¹è±¡</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>æ‰€ä»¥ä¼ å…¥åˆ°å†…ç½®å‡½æ•°çš„å›è°ƒå‡½æ•°thiså¦‚ä½•ç¡®å®šå‘¢ï¼Ÿ</p>
<ul>
<li>æŸäº›å†…ç½®çš„å‡½æ•°ï¼Œæˆ‘ä»¬å¾ˆéš¾ç¡®å®šå®ƒå†…éƒ¨æ˜¯å¦‚ä½•è°ƒç”¨ä¼ å…¥çš„å›è°ƒå‡½æ•°ï¼›</li>
<li>ä¸€æ–¹é¢å¯ä»¥é€šè¿‡åˆ†ææºç æ¥ç¡®å®šï¼Œå¦ä¸€æ–¹é¢æˆ‘ä»¬å¯ä»¥é€šè¿‡ç»éªŒï¼ˆè§å¤šè¯†å¹¿ï¼‰æ¥ç¡®å®šï¼›</li>
<li>ä½†æ˜¯æ— è®ºå¦‚ä½•ï¼Œé€šå¸¸éƒ½æ˜¯æˆ‘ä»¬ä¹‹å‰è®²è¿‡çš„è§„åˆ™æ¥ç¡®å®šçš„ï¼›</li>
</ul>
<p>2.4. newç»‘å®š</p>
<p>JavaScriptä¸­çš„å‡½æ•°å¯ä»¥å½“åšä¸€ä¸ªç±»çš„æ„é€ å‡½æ•°æ¥ä½¿ç”¨ï¼Œä¹Ÿå°±æ˜¯ä½¿ç”¨newå…³é”®å­—ã€‚</p>
<p>ä½¿ç”¨newå…³é”®å­—æ¥è°ƒç”¨å‡½æ•°æ—¶ï¼Œä¼šæ‰§è¡Œå¦‚ä¸‹çš„æ“ä½œï¼š</p>
<ul>
<li>1.åˆ›å»ºä¸€ä¸ªå…¨æ–°çš„å¯¹è±¡ï¼›</li>
<li>2.è¿™ä¸ªæ–°å¯¹è±¡ä¼šè¢«æ‰§è¡ŒPrototypeè¿æ¥ï¼›</li>
<li>3.è¿™ä¸ªæ–°å¯¹è±¡ä¼šç»‘å®šåˆ°å‡½æ•°è°ƒç”¨çš„thisä¸Šï¼ˆthisçš„ç»‘å®šåœ¨è¿™ä¸ªæ­¥éª¤å®Œæˆï¼‰ï¼›</li>
<li>4.å¦‚æœå‡½æ•°æ²¡æœ‰è¿”å›å…¶ä»–å¯¹è±¡ï¼Œè¡¨è¾¾å¼ä¼šè¿”å›è¿™ä¸ªæ–°å¯¹è±¡ï¼›</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; åˆ›å»ºPerson</span><br><span class="line"></span><br><span class="line">function Person(name) &#123;</span><br><span class="line"></span><br><span class="line">  console.log(this); &#x2F;&#x2F; Person &#123;&#125;</span><br><span class="line"></span><br><span class="line">  this.name &#x3D; name; &#x2F;&#x2F; Person &#123;name: &quot;why&quot;&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var p &#x3D; new Person(&quot;why&quot;);</span><br><span class="line"></span><br><span class="line">console.log(p);</span><br></pre></td></tr></table></figure>



<p>2.5. è§„åˆ™ä¼˜å…ˆçº§</p>
<p>å­¦ä¹ äº†å››æ¡è§„åˆ™ï¼Œæ¥ä¸‹æ¥å¼€å‘ä¸­æˆ‘ä»¬åªéœ€è¦å»æŸ¥æ‰¾å‡½æ•°çš„è°ƒç”¨åº”ç”¨äº†å“ªæ¡è§„åˆ™å³å¯ï¼Œä½†æ˜¯å¦‚æœä¸€ä¸ªå‡½æ•°è°ƒç”¨ä½ç½®åº”ç”¨äº†å¤šæ¡è§„åˆ™ï¼Œä¼˜å…ˆçº§è°æ›´é«˜å‘¢ï¼Ÿ</p>
<p>1.é»˜è®¤è§„åˆ™çš„ä¼˜å…ˆçº§æœ€ä½</p>
<p>æ¯«æ— ç–‘é—®ï¼Œé»˜è®¤è§„åˆ™çš„ä¼˜å…ˆçº§æ˜¯æœ€ä½çš„ï¼Œå› ä¸ºå­˜åœ¨å…¶ä»–è§„åˆ™æ—¶ï¼Œå°±ä¼šé€šè¿‡å…¶ä»–è§„åˆ™çš„æ–¹å¼æ¥ç»‘å®šthis</p>
<p>2.æ˜¾ç¤ºç»‘å®šä¼˜å…ˆçº§é«˜äºéšå¼ç»‘å®š</p>
<p>æ˜¾ç¤ºç»‘å®šå’Œéšå¼ç»‘å®šå“ªä¸€ä¸ªä¼˜å…ˆçº§æ›´é«˜å‘¢ï¼Ÿè¿™ä¸ªæˆ‘ä»¬å¯ä»¥æµ‹è¯•ä¸€ä¸‹ï¼š</p>
<ul>
<li>ç»“æœæ˜¯obj2ï¼Œè¯´æ˜æ˜¯æ˜¾ç¤ºç»‘å®šç”Ÿæ•ˆäº†</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function foo() &#123;</span><br><span class="line"></span><br><span class="line">  console.log(this);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var obj1 &#x3D; &#123;</span><br><span class="line"></span><br><span class="line">  name: &quot;obj1&quot;,</span><br><span class="line"></span><br><span class="line">  foo: foo</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var obj2 &#x3D; &#123;</span><br><span class="line"></span><br><span class="line">  name: &quot;obj2&quot;,</span><br><span class="line"></span><br><span class="line">  foo: foo</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; éšå¼ç»‘å®š</span><br><span class="line"></span><br><span class="line">obj1.foo(); &#x2F;&#x2F; obj1</span><br><span class="line"></span><br><span class="line">obj2.foo(); &#x2F;&#x2F; obj2</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; éšå¼ç»‘å®šå’Œæ˜¾ç¤ºç»‘å®šåŒæ—¶å­˜åœ¨</span><br><span class="line"></span><br><span class="line">obj1.foo.call(obj2); &#x2F;&#x2F; obj2, è¯´æ˜éšå¼ç»‘å®šä¼˜å…ˆçº§æ›´é«˜</span><br></pre></td></tr></table></figure>



<p>3.newç»‘å®šä¼˜å…ˆçº§é«˜äºéšå¼ç»‘å®š</p>
<ul>
<li>ç»“æœæ˜¯fooï¼Œè¯´æ˜æ˜¯newç»‘å®šç”Ÿæ•ˆäº†</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function foo() &#123;</span><br><span class="line"></span><br><span class="line">  console.log(this);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var obj &#x3D; &#123;</span><br><span class="line"></span><br><span class="line">  name: &quot;why&quot;,</span><br><span class="line"></span><br><span class="line">  foo: foo</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">new obj.foo(); &#x2F;&#x2F; fooå¯¹è±¡, è¯´æ˜newç»‘å®šä¼˜å…ˆçº§æ›´é«˜</span><br></pre></td></tr></table></figure>



<p>4.newç»‘å®šä¼˜å…ˆçº§é«˜äºbind</p>
<p>newç»‘å®šå’Œcallã€applyæ˜¯ä¸å…è®¸åŒæ—¶ä½¿ç”¨çš„ï¼Œæ‰€ä»¥ä¸å­˜åœ¨è°çš„ä¼˜å…ˆçº§æ›´é«˜</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function foo() &#123;</span><br><span class="line"></span><br><span class="line">  console.log(this);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var obj &#x3D; &#123;</span><br><span class="line"></span><br><span class="line">  name: &quot;obj&quot;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var foo &#x3D; new foo.call(obj);</span><br></pre></td></tr></table></figure>



<p>newå’ŒcallåŒæ—¶ä½¿ç”¨</p>
<p>ä½†æ˜¯newç»‘å®šæ˜¯å¦å¯ä»¥å’Œbindåçš„å‡½æ•°åŒæ—¶ä½¿ç”¨å‘¢ï¼Ÿå¯ä»¥</p>
<ul>
<li>ç»“æœæ˜¾ç¤ºä¸ºfooï¼Œé‚£ä¹ˆè¯´æ˜æ˜¯newç»‘å®šç”Ÿæ•ˆäº†</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function foo() &#123;</span><br><span class="line"></span><br><span class="line">  console.log(this);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var obj &#x3D; &#123;</span><br><span class="line"></span><br><span class="line">  name: &quot;obj&quot;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; var foo &#x3D; new foo.call(obj);</span><br><span class="line"></span><br><span class="line">var bar &#x3D; foo.bind(obj);</span><br><span class="line"></span><br><span class="line">var foo &#x3D; new bar(); &#x2F;&#x2F; æ‰“å°foo, è¯´æ˜ä½¿ç”¨çš„æ˜¯newç»‘å®š</span><br></pre></td></tr></table></figure>



<p>ä¼˜å…ˆçº§æ€»ç»“ï¼š</p>
<ul>
<li>newç»‘å®š &gt; æ˜¾ç¤ºç»‘å®šï¼ˆbindï¼‰&gt; éšå¼ç»‘å®š &gt; é»˜è®¤ç»‘å®š</li>
</ul>
<p>ä¸‰. thisè§„åˆ™ä¹‹å¤–</p>
<p>æˆ‘ä»¬è®²åˆ°çš„è§„åˆ™å·²ç»è¶³ä»¥åº”ä»˜å¹³æ—¶çš„å¼€å‘ï¼Œä½†æ˜¯æ€»æœ‰ä¸€äº›è¯­æ³•ï¼Œè¶…å‡ºäº†æˆ‘ä»¬çš„è§„åˆ™ä¹‹å¤–ã€‚ï¼ˆç¥è¯æ•…äº‹å’ŒåŠ¨æ¼«ä¸­æ€»æ˜¯æœ‰ç±»ä¼¼è¿™æ ·çš„äººç‰©ï¼‰</p>
<p>3.1. å¿½ç•¥æ˜¾ç¤ºç»‘å®š</p>
<p>å¦‚æœåœ¨æ˜¾ç¤ºç»‘å®šä¸­ï¼Œæˆ‘ä»¬ä¼ å…¥ä¸€ä¸ªnullæˆ–è€…undefinedï¼Œé‚£ä¹ˆè¿™ä¸ªæ˜¾ç¤ºç»‘å®šä¼šè¢«å¿½ç•¥ï¼Œä½¿ç”¨é»˜è®¤è§„åˆ™ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function foo() &#123;</span><br><span class="line"></span><br><span class="line">  console.log(this);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var obj &#x3D; &#123;</span><br><span class="line"></span><br><span class="line">  name: &quot;why&quot;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">foo.call(obj); &#x2F;&#x2F; objå¯¹è±¡</span><br><span class="line"></span><br><span class="line">foo.call(null); &#x2F;&#x2F; window</span><br><span class="line"></span><br><span class="line">foo.call(undefined); &#x2F;&#x2F; window</span><br><span class="line"></span><br><span class="line">var bar &#x3D; foo.bind(null);</span><br><span class="line"></span><br><span class="line">bar(); &#x2F;&#x2F; window</span><br></pre></td></tr></table></figure>



<p>3.2. é—´æ¥å‡½æ•°å¼•ç”¨</p>
<p>å¦å¤–ä¸€ç§æƒ…å†µï¼Œåˆ›å»ºä¸€ä¸ªå‡½æ•°çš„ é—´æ¥å¼•ç”¨ï¼Œè¿™ç§æƒ…å†µä½¿ç”¨é»˜è®¤ç»‘å®šè§„åˆ™ã€‚</p>
<p>æˆ‘ä»¬å…ˆæ¥çœ‹ä¸‹é¢çš„æ¡ˆä¾‹ç»“æœæ˜¯ä»€ä¹ˆï¼Ÿ</p>
<ul>
<li>(num2 = num1)çš„ç»“æœæ˜¯num1çš„å€¼ï¼›</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var num1 &#x3D; 100;</span><br><span class="line"></span><br><span class="line">var num2 &#x3D; 0;</span><br><span class="line"></span><br><span class="line">var result &#x3D; (num2 &#x3D; num1);</span><br><span class="line"></span><br><span class="line">console.log(result); &#x2F;&#x2F; 100</span><br></pre></td></tr></table></figure>



<p>æˆ‘ä»¬æ¥ä¸‹é¢çš„å‡½æ•°èµ‹å€¼ç»“æœï¼š</p>
<ul>
<li>èµ‹å€¼(obj2.foo = obj1.foo)çš„ç»“æœæ˜¯fooå‡½æ•°ï¼›</li>
<li>fooå‡½æ•°è¢«ç›´æ¥è°ƒç”¨ï¼Œé‚£ä¹ˆæ˜¯é»˜è®¤ç»‘å®šï¼›</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function foo() &#123;</span><br><span class="line"></span><br><span class="line">  console.log(this);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var obj1 &#x3D; &#123;</span><br><span class="line"></span><br><span class="line">  name: &quot;obj1&quot;,</span><br><span class="line"></span><br><span class="line">  foo: foo</span><br><span class="line"></span><br><span class="line">&#125;; </span><br><span class="line"></span><br><span class="line">var obj2 &#x3D; &#123;</span><br><span class="line"></span><br><span class="line">  name: &quot;obj2&quot;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">obj1.foo(); &#x2F;&#x2F; obj1å¯¹è±¡</span><br><span class="line"></span><br><span class="line">(obj2.foo &#x3D; obj1.foo)();  &#x2F;&#x2F; window</span><br></pre></td></tr></table></figure>



<p>3.3. ES6ç®­å¤´å‡½æ•°</p>
<p>åœ¨ES6ä¸­æ–°å¢ä¸€ä¸ªéå¸¸å¥½ç”¨çš„å‡½æ•°ç±»å‹ï¼šç®­å¤´å‡½æ•°</p>
<ul>
<li>è¿™é‡Œä¸å†å…·ä½“ä»‹ç»ç®­å¤´å‡½æ•°çš„ç”¨æ³•ï¼Œå¯ä»¥è‡ªè¡Œå­¦ä¹ ã€‚</li>
</ul>
<p>ç®­å¤´å‡½æ•°ä¸ä½¿ç”¨thisçš„å››ç§æ ‡å‡†è§„åˆ™ï¼ˆä¹Ÿå°±æ˜¯ä¸ç»‘å®šthisï¼‰ï¼Œè€Œæ˜¯æ ¹æ®å¤–å±‚ä½œç”¨åŸŸæ¥å†³å®šthisã€‚</p>
<p>æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªæ¨¡æ‹Ÿç½‘ç»œè¯·æ±‚çš„æ¡ˆä¾‹ï¼š</p>
<ul>
<li>è¿™é‡Œæˆ‘ä½¿ç”¨setTimeoutæ¥æ¨¡æ‹Ÿç½‘ç»œè¯·æ±‚ï¼Œè¯·æ±‚åˆ°æ•°æ®åå¦‚ä½•å¯ä»¥å­˜æ”¾åˆ°dataä¸­å‘¢ï¼Ÿ</li>
<li>æˆ‘ä»¬éœ€è¦æ‹¿åˆ°objå¯¹è±¡ï¼Œè®¾ç½®dataï¼›</li>
<li>ä½†æ˜¯ç›´æ¥æ‹¿åˆ°çš„thisæ˜¯windowï¼Œæˆ‘ä»¬éœ€è¦åœ¨å¤–å±‚å®šä¹‰ï¼švar _this = this</li>
<li>åœ¨setTimeoutçš„å›è°ƒå‡½æ•°ä¸­ä½¿ç”¨_thiså°±ä»£è¡¨äº†objå¯¹è±¡</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var obj &#x3D; &#123;</span><br><span class="line"></span><br><span class="line">  data: [],</span><br><span class="line"></span><br><span class="line">  getData: function() &#123;</span><br><span class="line"></span><br><span class="line">    var _this &#x3D; this;</span><br><span class="line"></span><br><span class="line">    setTimeout(function() &#123;</span><br><span class="line"></span><br><span class="line">      &#x2F;&#x2F; æ¨¡æ‹Ÿè·å–åˆ°çš„æ•°æ®</span><br><span class="line"></span><br><span class="line">      var res &#x3D; [&quot;abc&quot;, &quot;cba&quot;, &quot;nba&quot;];</span><br><span class="line"></span><br><span class="line">      _this.data.push(...res);</span><br><span class="line"></span><br><span class="line">    &#125;, 1000);</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">obj.getData();</span><br></pre></td></tr></table></figure>



<p>ä¸Šé¢çš„ä»£ç åœ¨ES6ä¹‹å‰æ˜¯æˆ‘ä»¬æœ€å¸¸ç”¨çš„æ–¹å¼ï¼Œä»ES6å¼€å§‹ï¼Œæˆ‘ä»¬ä¼šä½¿ç”¨ç®­å¤´å‡½æ•°ï¼š</p>
<ul>
<li>ä¸ºä»€ä¹ˆåœ¨setTimeoutçš„å›è°ƒå‡½æ•°ä¸­å¯ä»¥ç›´æ¥ä½¿ç”¨thiså‘¢ï¼Ÿ</li>
<li>å› ä¸ºç®­å¤´å‡½æ•°å¹¶ä¸ç»‘å®šthiså¯¹è±¡ï¼Œé‚£ä¹ˆthiså¼•ç”¨å°±ä¼šä»ä¸Šå±‚ä½œç”¨åŸŸä¸­æ‰¾åˆ°å¯¹åº”çš„this</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var obj &#x3D; &#123;</span><br><span class="line"></span><br><span class="line">  data: [],</span><br><span class="line"></span><br><span class="line">  getData: function() &#123;</span><br><span class="line"></span><br><span class="line">    setTimeout(() &#x3D;&gt; &#123;</span><br><span class="line"></span><br><span class="line">      &#x2F;&#x2F; æ¨¡æ‹Ÿè·å–åˆ°çš„æ•°æ®</span><br><span class="line"></span><br><span class="line">      var res &#x3D; [&quot;abc&quot;, &quot;cba&quot;, &quot;nba&quot;];</span><br><span class="line"></span><br><span class="line">      this.data.push(...res);</span><br><span class="line"></span><br><span class="line">    &#125;, 1000);</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">obj.getData();</span><br></pre></td></tr></table></figure>



<p>æ€è€ƒï¼šå¦‚æœgetDataä¹Ÿæ˜¯ä¸€ä¸ªç®­å¤´å‡½æ•°ï¼Œé‚£ä¹ˆsetTimeoutä¸­çš„å›è°ƒå‡½æ•°ä¸­çš„thisæŒ‡å‘è°å‘¢ï¼Ÿ</p>
<ul>
<li>ç­”æ¡ˆæ˜¯windowï¼›</li>
<li>ä¾ç„¶æ˜¯ä¸æ–­çš„ä»ä¸Šå±‚ä½œç”¨åŸŸæ‰¾ï¼Œé‚£ä¹ˆæ‰¾åˆ°äº†å…¨å±€ä½œç”¨åŸŸï¼›</li>
<li>åœ¨å…¨å±€ä½œç”¨åŸŸå†…ï¼Œthisä»£è¡¨çš„å°±æ˜¯window</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var obj &#x3D; &#123;</span><br><span class="line"></span><br><span class="line">  data: [],</span><br><span class="line"></span><br><span class="line">  getData: () &#x3D;&gt; &#123;</span><br><span class="line"></span><br><span class="line">    setTimeout(() &#x3D;&gt; &#123;</span><br><span class="line"></span><br><span class="line">      console.log(this); &#x2F;&#x2F; window</span><br><span class="line"></span><br><span class="line">    &#125;, 1000);</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">obj.getData();</span><br></pre></td></tr></table></figure>



<p>å››. thisé¢è¯•é¢˜</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">4.1. é¢è¯•é¢˜ä¸€ï¼š</span><br><span class="line"></span><br><span class="line">var name &#x3D; &quot;window&quot;;</span><br><span class="line"></span><br><span class="line">var person &#x3D; &#123;</span><br><span class="line"></span><br><span class="line">  name: &quot;person&quot;,</span><br><span class="line"></span><br><span class="line">  sayName: function () &#123;</span><br><span class="line"></span><br><span class="line">    console.log(this.name);</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">function sayName() &#123;</span><br><span class="line"></span><br><span class="line">  var sss &#x3D; person.sayName;</span><br><span class="line"></span><br><span class="line">  sss(); </span><br><span class="line"></span><br><span class="line">  person.sayName(); </span><br><span class="line"></span><br><span class="line">  (person.sayName)(); </span><br><span class="line"></span><br><span class="line">  (b &#x3D; person.sayName)(); </span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">sayName();</span><br><span class="line"></span><br><span class="line">è¿™é“é¢è¯•é¢˜éå¸¸ç®€å•ï¼Œæ— éå°±æ˜¯ç»•ä¸€ä¸‹ï¼Œå¸Œæœ›æŠŠé¢è¯•è€…ç»•æ™•ï¼š</span><br><span class="line"></span><br><span class="line">function sayName() &#123;</span><br><span class="line"></span><br><span class="line">  var sss &#x3D; person.sayName;</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F; ç‹¬ç«‹å‡½æ•°è°ƒç”¨ï¼Œæ²¡æœ‰å’Œä»»ä½•å¯¹è±¡å…³è”</span><br><span class="line"></span><br><span class="line">  sss(); &#x2F;&#x2F; window</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F; å…³è”</span><br><span class="line"></span><br><span class="line">  person.sayName(); &#x2F;&#x2F; person</span><br><span class="line"></span><br><span class="line">  (person.sayName)(); &#x2F;&#x2F; person</span><br><span class="line"></span><br><span class="line">  (b &#x3D; person.sayName)(); &#x2F;&#x2F; window</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">4.2. é¢è¯•é¢˜äºŒï¼š</span><br><span class="line"></span><br><span class="line">var name &#x3D; &#39;window&#39;</span><br><span class="line"></span><br><span class="line">var person1 &#x3D; &#123;</span><br><span class="line"></span><br><span class="line">  name: &#39;person1&#39;,</span><br><span class="line"></span><br><span class="line">  foo1: function () &#123;</span><br><span class="line"></span><br><span class="line">    console.log(this.name)</span><br><span class="line"></span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  foo2: () &#x3D;&gt; console.log(this.name),</span><br><span class="line"></span><br><span class="line">  foo3: function () &#123;</span><br><span class="line"></span><br><span class="line">    return function () &#123;</span><br><span class="line"></span><br><span class="line">      console.log(this.name)</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  foo4: function () &#123;</span><br><span class="line"></span><br><span class="line">    return () &#x3D;&gt; &#123;</span><br><span class="line"></span><br><span class="line">      console.log(this.name)</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var person2 &#x3D; &#123; name: &#39;person2&#39; &#125;</span><br><span class="line"></span><br><span class="line">person1.foo1(); </span><br><span class="line"></span><br><span class="line">person1.foo1.call(person2); </span><br><span class="line"></span><br><span class="line">person1.foo2();</span><br><span class="line"></span><br><span class="line">person1.foo2.call(person2);</span><br><span class="line"></span><br><span class="line">person1.foo3()();</span><br><span class="line"></span><br><span class="line">person1.foo3.call(person2)();</span><br><span class="line"></span><br><span class="line">person1.foo3().call(person2);</span><br><span class="line"></span><br><span class="line">person1.foo4()();</span><br><span class="line"></span><br><span class="line">person1.foo4.call(person2)();</span><br><span class="line"></span><br><span class="line">person1.foo4().call(person2);</span><br><span class="line"></span><br><span class="line">ä¸‹é¢æ˜¯ä»£ç è§£æï¼š</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; éšå¼ç»‘å®šï¼Œè‚¯å®šæ˜¯person1</span><br><span class="line"></span><br><span class="line">person1.foo1(); &#x2F;&#x2F; person1</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; éšå¼ç»‘å®šå’Œæ˜¾ç¤ºç»‘å®šçš„ç»“åˆï¼Œæ˜¾ç¤ºç»‘å®šç”Ÿæ•ˆï¼Œæ‰€ä»¥æ˜¯person2</span><br><span class="line"></span><br><span class="line">person1.foo1.call(person2); &#x2F;&#x2F; person2</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; foo2()æ˜¯ä¸€ä¸ªç®­å¤´å‡½æ•°ï¼Œä¸é€‚ç”¨æ‰€æœ‰çš„è§„åˆ™</span><br><span class="line"></span><br><span class="line">person1.foo2() &#x2F;&#x2F; window</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; foo2ä¾ç„¶æ˜¯ç®­å¤´å‡½æ•°ï¼Œä¸é€‚ç”¨äºæ˜¾ç¤ºç»‘å®šçš„è§„åˆ™</span><br><span class="line"></span><br><span class="line">person1.foo2.call(person2) &#x2F;&#x2F; window</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; è·å–åˆ°foo3ï¼Œä½†æ˜¯è°ƒç”¨ä½ç½®æ˜¯å…¨å±€ä½œç”¨äºä¸‹ï¼Œæ‰€ä»¥æ˜¯é»˜è®¤ç»‘å®šwindow</span><br><span class="line"></span><br><span class="line">person1.foo3()() &#x2F;&#x2F; window</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; foo3æ˜¾ç¤ºç»‘å®šåˆ°person2ä¸­</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; ä½†æ˜¯æ‹¿åˆ°çš„è¿”å›å‡½æ•°ä¾ç„¶æ˜¯åœ¨å…¨å±€ä¸‹è°ƒç”¨ï¼Œæ‰€ä»¥ä¾ç„¶æ˜¯window</span><br><span class="line"></span><br><span class="line">person1.foo3.call(person2)() &#x2F;&#x2F; window</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; æ‹¿åˆ°foo3è¿”å›çš„å‡½æ•°ï¼Œé€šè¿‡æ˜¾ç¤ºç»‘å®šåˆ°person2ä¸­ï¼Œæ‰€ä»¥æ˜¯person2</span><br><span class="line"></span><br><span class="line">person1.foo3().call(person2) &#x2F;&#x2F; person2</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; foo4()çš„å‡½æ•°è¿”å›çš„æ˜¯ä¸€ä¸ªç®­å¤´å‡½æ•°</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; ç®­å¤´å‡½æ•°çš„æ‰§è¡Œæ‰¾ä¸Šå±‚ä½œç”¨åŸŸï¼Œæ˜¯person1</span><br><span class="line"></span><br><span class="line">person1.foo4()() &#x2F;&#x2F; person1</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; foo4()æ˜¾ç¤ºç»‘å®šåˆ°person2ä¸­ï¼Œå¹¶ä¸”è¿”å›ä¸€ä¸ªç®­å¤´å‡½æ•°</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; ç®­å¤´å‡½æ•°æ‰¾ä¸Šå±‚ä½œç”¨åŸŸï¼Œæ˜¯person2</span><br><span class="line"></span><br><span class="line">person1.foo4.call(person2)() &#x2F;&#x2F; person2</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; foo4è¿”å›çš„æ˜¯ç®­å¤´å‡½æ•°ï¼Œç®­å¤´å‡½æ•°åªçœ‹ä¸Šå±‚ä½œç”¨åŸŸ</span><br><span class="line"></span><br><span class="line">person1.foo4().call(person2) &#x2F;&#x2F; person1</span><br></pre></td></tr></table></figure>



<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">4.3. é¢è¯•é¢˜ä¸‰:</span><br><span class="line"></span><br><span class="line">var name &#x3D; &#39;window&#39;</span><br><span class="line"></span><br><span class="line">function Person (name) &#123;</span><br><span class="line"></span><br><span class="line">  this.name &#x3D; name</span><br><span class="line"></span><br><span class="line">  this.foo1 &#x3D; function () &#123;</span><br><span class="line"></span><br><span class="line">    console.log(this.name)</span><br><span class="line"></span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  this.foo2 &#x3D; () &#x3D;&gt; console.log(this.name),</span><br><span class="line"></span><br><span class="line">  this.foo3 &#x3D; function () &#123;</span><br><span class="line"></span><br><span class="line">    return function () &#123;</span><br><span class="line"></span><br><span class="line">      console.log(this.name)</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  this.foo4 &#x3D; function () &#123;</span><br><span class="line"></span><br><span class="line">    return () &#x3D;&gt; &#123;</span><br><span class="line"></span><br><span class="line">      console.log(this.name)</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var person1 &#x3D; new Person(&#39;person1&#39;)</span><br><span class="line"></span><br><span class="line">var person2 &#x3D; new Person(&#39;person2&#39;)</span><br><span class="line"></span><br><span class="line">person1.foo1()</span><br><span class="line"></span><br><span class="line">person1.foo1.call(person2)</span><br><span class="line"></span><br><span class="line">person1.foo2()</span><br><span class="line"></span><br><span class="line">person1.foo2.call(person2)</span><br><span class="line"></span><br><span class="line">person1.foo3()()</span><br><span class="line"></span><br><span class="line">person1.foo3.call(person2)()</span><br><span class="line"></span><br><span class="line">person1.foo3().call(person2)</span><br><span class="line"></span><br><span class="line">person1.foo4()()</span><br><span class="line"></span><br><span class="line">person1.foo4.call(person2)()</span><br><span class="line"></span><br><span class="line">person1.foo4().call(person2)</span><br><span class="line"></span><br><span class="line">ä¸‹é¢æ˜¯ä»£ç è§£æï¼š</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; éšå¼ç»‘å®š</span><br><span class="line"></span><br><span class="line">person1.foo1() &#x2F;&#x2F; peron1</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; æ˜¾ç¤ºç»‘å®šä¼˜å…ˆçº§å¤§äºéšå¼ç»‘å®š</span><br><span class="line"></span><br><span class="line">person1.foo1.call(person2) &#x2F;&#x2F; person2</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; fooæ˜¯ä¸€ä¸ªç®­å¤´å‡½æ•°ï¼Œä¼šæ‰¾ä¸Šå±‚ä½œç”¨åŸŸä¸­çš„thisï¼Œé‚£ä¹ˆå°±æ˜¯person1</span><br><span class="line"></span><br><span class="line">person1.foo2() &#x2F;&#x2F; person1</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; fooæ˜¯ä¸€ä¸ªç®­å¤´å‡½æ•°ï¼Œä½¿ç”¨callè°ƒç”¨ä¸ä¼šå½±å“thisçš„ç»‘å®šï¼Œå’Œä¸Šé¢ä¸€æ ·å‘ä¸Šå±‚æŸ¥æ‰¾</span><br><span class="line"></span><br><span class="line">person1.foo2.call(person2) &#x2F;&#x2F; person1</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; è°ƒç”¨ä½ç½®æ˜¯å…¨å±€ç›´æ¥è°ƒç”¨ï¼Œæ‰€ä»¥ä¾ç„¶æ˜¯windowï¼ˆé»˜è®¤ç»‘å®šï¼‰</span><br><span class="line"></span><br><span class="line">person1.foo3()() &#x2F;&#x2F; window</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; æœ€ç»ˆè¿˜æ˜¯æ‹¿åˆ°äº†foo3è¿”å›çš„å‡½æ•°ï¼Œåœ¨å…¨å±€ç›´æ¥è°ƒç”¨ï¼ˆé»˜è®¤ç»‘å®šï¼‰</span><br><span class="line"></span><br><span class="line">person1.foo3.call(person2)() &#x2F;&#x2F; window</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; æ‹¿åˆ°foo3è¿”å›çš„å‡½æ•°åï¼Œé€šè¿‡callç»‘å®šåˆ°person2ä¸­è¿›è¡Œäº†è°ƒç”¨</span><br><span class="line"></span><br><span class="line">person1.foo3().call(person2) &#x2F;&#x2F; person2</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; foo4è¿”å›äº†ç®­å¤´å‡½æ•°ï¼Œå’Œè‡ªèº«ç»‘å®šæ²¡æœ‰å…³ç³»ï¼Œä¸Šå±‚æ‰¾åˆ°person1</span><br><span class="line"></span><br><span class="line">person1.foo4()() &#x2F;&#x2F; person1</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; foo4è°ƒç”¨æ—¶ç»‘å®šäº†person2ï¼Œè¿”å›çš„å‡½æ•°æ˜¯ç®­å¤´å‡½æ•°ï¼Œè°ƒç”¨æ—¶ï¼Œæ‰¾åˆ°äº†ä¸Šå±‚ç»‘å®šçš„person2</span><br><span class="line"></span><br><span class="line">person1.foo4.call(person2)() &#x2F;&#x2F; person2</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; foo4è°ƒç”¨è¿”å›çš„ç®­å¤´å‡½æ•°ï¼Œå’Œcallè°ƒç”¨æ²¡æœ‰å…³ç³»ï¼Œæ‰¾åˆ°ä¸Šå±‚çš„person1</span><br><span class="line"></span><br><span class="line">person1.foo4().call(person2) &#x2F;&#x2F; person1</span><br></pre></td></tr></table></figure>



<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">4.4. é¢è¯•é¢˜å››ï¼š</span><br><span class="line"></span><br><span class="line">var name &#x3D; &#39;window&#39;</span><br><span class="line"></span><br><span class="line">function Person (name) &#123;</span><br><span class="line"></span><br><span class="line">  this.name &#x3D; name</span><br><span class="line"></span><br><span class="line">  this.obj &#x3D; &#123;</span><br><span class="line"></span><br><span class="line">    name: &#39;obj&#39;,</span><br><span class="line"></span><br><span class="line">    foo1: function () &#123;</span><br><span class="line"></span><br><span class="line">      return function () &#123;</span><br><span class="line"></span><br><span class="line">        console.log(this.name)</span><br><span class="line"></span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    foo2: function () &#123;</span><br><span class="line"></span><br><span class="line">      return () &#x3D;&gt; &#123;</span><br><span class="line"></span><br><span class="line">        console.log(this.name)</span><br><span class="line"></span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var person1 &#x3D; new Person(&#39;person1&#39;)</span><br><span class="line"></span><br><span class="line">var person2 &#x3D; new Person(&#39;person2&#39;)</span><br><span class="line"></span><br><span class="line">person1.obj.foo1()()</span><br><span class="line"></span><br><span class="line">person1.obj.foo1.call(person2)()</span><br><span class="line"></span><br><span class="line">person1.obj.foo1().call(person2)</span><br><span class="line"></span><br><span class="line">person1.obj.foo2()()</span><br><span class="line"></span><br><span class="line">person1.obj.foo2.call(person2)()</span><br><span class="line"></span><br><span class="line">person1.obj.foo2().call(person2)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ä¸‹é¢æ˜¯ä»£ç è§£æï¼š</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; obj.foo1()è¿”å›ä¸€ä¸ªå‡½æ•°</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; è¿™ä¸ªå‡½æ•°åœ¨å…¨å±€ä½œç”¨äºä¸‹ç›´æ¥æ‰§è¡Œï¼ˆé»˜è®¤ç»‘å®šï¼‰</span><br><span class="line"></span><br><span class="line">person1.obj.foo1()() &#x2F;&#x2F; window</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; æœ€ç»ˆè¿˜æ˜¯æ‹¿åˆ°ä¸€ä¸ªè¿”å›çš„å‡½æ•°ï¼ˆè™½ç„¶å¤šäº†ä¸€æ­¥callçš„ç»‘å®šï¼‰</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; è¿™ä¸ªå‡½æ•°åœ¨å…¨å±€ä½œç”¨äºä¸‹ç›´æ¥æ‰§è¡Œï¼ˆé»˜è®¤ç»‘å®šï¼‰</span><br><span class="line"></span><br><span class="line">person1.obj.foo1.call(person2)() &#x2F;&#x2F; window</span><br><span class="line"></span><br><span class="line">person1.obj.foo1().call(person2) &#x2F;&#x2F; person2</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; æ‹¿åˆ°foo2()çš„è¿”å›å€¼ï¼Œæ˜¯ä¸€ä¸ªç®­å¤´å‡½æ•°</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; ç®­å¤´å‡½æ•°åœ¨æ‰§è¡Œæ—¶æ‰¾ä¸Šå±‚ä½œç”¨åŸŸä¸‹çš„thisï¼Œå°±æ˜¯obj</span><br><span class="line"></span><br><span class="line">person1.obj.foo2()() &#x2F;&#x2F; obj</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; foo2()çš„è¿”å›å€¼ï¼Œä¾ç„¶æ˜¯ç®­å¤´å‡½æ•°ï¼Œä½†æ˜¯åœ¨æ‰§è¡Œfoo2æ—¶ç»‘å®šäº†person2</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; ç®­å¤´å‡½æ•°åœ¨æ‰§è¡Œæ—¶æ‰¾ä¸Šå±‚ä½œç”¨åŸŸä¸‹çš„thisï¼Œæ‰¾åˆ°çš„æ˜¯person2</span><br><span class="line"></span><br><span class="line">person1.obj.foo2.call(person2)() &#x2F;&#x2F; person2</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; foo2()çš„è¿”å›å€¼ï¼Œä¾ç„¶æ˜¯ç®­å¤´å‡½æ•°</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; ç®­å¤´å‡½æ•°é€šè¿‡callè°ƒç”¨æ˜¯ä¸ä¼šç»‘å®šthisï¼Œæ‰€ä»¥æ‰¾ä¸Šå±‚ä½œç”¨åŸŸä¸‹çš„thisæ˜¯obj</span><br><span class="line"></span><br><span class="line">person1.obj.foo2().call(person2) &#x2F;&#x2F; obj</span><br><span class="line"></span><br><span class="line">person1.obj.foo1()()</span><br><span class="line"></span><br><span class="line">person1.obj.foo1.call(person2)()</span><br><span class="line"></span><br><span class="line">person1.obj.foo1().call(person2)</span><br><span class="line"></span><br><span class="line">person1.obj.foo2()()</span><br><span class="line"></span><br><span class="line">person1.obj.foo2.call(person2)()</span><br><span class="line"></span><br><span class="line">person1.obj.foo2().call(person2)</span><br><span class="line"></span><br><span class="line">ä¸‹é¢æ˜¯ä»£ç è§£æï¼š</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; obj.foo1()è¿”å›ä¸€ä¸ªå‡½æ•°</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; è¿™ä¸ªå‡½æ•°åœ¨å…¨å±€ä½œç”¨äºä¸‹ç›´æ¥æ‰§è¡Œï¼ˆé»˜è®¤ç»‘å®šï¼‰</span><br><span class="line"></span><br><span class="line">person1.obj.foo1()() &#x2F;&#x2F; window</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; æœ€ç»ˆè¿˜æ˜¯æ‹¿åˆ°ä¸€ä¸ªè¿”å›çš„å‡½æ•°ï¼ˆè™½ç„¶å¤šäº†ä¸€æ­¥callçš„ç»‘å®šï¼‰</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; è¿™ä¸ªå‡½æ•°åœ¨å…¨å±€ä½œç”¨äºä¸‹ç›´æ¥æ‰§è¡Œï¼ˆé»˜è®¤ç»‘å®šï¼‰</span><br><span class="line"></span><br><span class="line">person1.obj.foo1.call(person2)() &#x2F;&#x2F; window</span><br><span class="line"></span><br><span class="line">person1.obj.foo1().call(person2) &#x2F;&#x2F; person2</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; æ‹¿åˆ°foo2()çš„è¿”å›å€¼ï¼Œæ˜¯ä¸€ä¸ªç®­å¤´å‡½æ•°</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; ç®­å¤´å‡½æ•°åœ¨æ‰§è¡Œæ—¶æ‰¾ä¸Šå±‚ä½œç”¨åŸŸä¸‹çš„thisï¼Œå°±æ˜¯obj</span><br><span class="line"></span><br><span class="line">person1.obj.foo2()() &#x2F;&#x2F; obj</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; foo2()çš„è¿”å›å€¼ï¼Œä¾ç„¶æ˜¯ç®­å¤´å‡½æ•°ï¼Œä½†æ˜¯åœ¨æ‰§è¡Œfoo2æ—¶ç»‘å®šäº†person2</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; ç®­å¤´å‡½æ•°åœ¨æ‰§è¡Œæ—¶æ‰¾ä¸Šå±‚ä½œç”¨åŸŸä¸‹çš„thisï¼Œæ‰¾åˆ°çš„æ˜¯person2</span><br><span class="line"></span><br><span class="line">person1.obj.foo2.call(person2)() &#x2F;&#x2F; person2</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; foo2()çš„è¿”å›å€¼ï¼Œä¾ç„¶æ˜¯ç®­å¤´å‡½æ•°</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; ç®­å¤´å‡½æ•°é€šè¿‡callè°ƒç”¨æ˜¯ä¸ä¼šç»‘å®šthisï¼Œæ‰€ä»¥æ‰¾ä¸Šå±‚ä½œç”¨åŸŸä¸‹çš„thisæ˜¯obj</span><br><span class="line"></span><br><span class="line">person1.obj.foo2().call(person2) &#x2F;&#x2F; obj</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>js</category>
      </categories>
      <tags>
        <tag>js</tag>
        <tag>this</tag>
      </tags>
  </entry>
  <entry>
    <title>tsä¹‹é‡æ„vueé¡¹ç›®</title>
    <url>/2021/02/24/ts%E4%B9%8B%E9%87%8D%E6%9E%84vue%E9%A1%B9%E7%9B%AE/</url>
    <content><![CDATA[<h3 id="vueé¡¹ç›®ä¸­ä½¿ç”¨tsï¼ˆtypescriptï¼‰å…¥é—¨æ•™ç¨‹"><a href="#vueé¡¹ç›®ä¸­ä½¿ç”¨tsï¼ˆtypescriptï¼‰å…¥é—¨æ•™ç¨‹" class="headerlink" title="vueé¡¹ç›®ä¸­ä½¿ç”¨tsï¼ˆtypescriptï¼‰å…¥é—¨æ•™ç¨‹"></a>vueé¡¹ç›®ä¸­ä½¿ç”¨tsï¼ˆtypescriptï¼‰å…¥é—¨æ•™ç¨‹</h3><h3 id="1ã€å¼•å…¥Typescript"><a href="#1ã€å¼•å…¥Typescript" class="headerlink" title="1ã€å¼•å…¥Typescript"></a>1ã€å¼•å…¥Typescript</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">npm install vue-<span class="class"><span class="keyword">class</span>-<span class="title">component</span> <span class="title">vue</span>-<span class="title">property</span>-<span class="title">decorator</span> --<span class="title">save</span></span></span><br><span class="line"><span class="class"><span class="title">npm</span> <span class="title">install</span> <span class="title">ts</span>-<span class="title">loader</span> <span class="title">typescript</span> <span class="title">tslint</span> <span class="title">tslint</span>-<span class="title">loader</span> <span class="title">tslint</span>-<span class="title">config</span>-<span class="title">standard</span> --<span class="title">save</span>-<span class="title">dev</span></span></span><br></pre></td></tr></table></figure>

<ul>
<li><code>vue-class-component</code>ï¼šæ‰©å±•vueæ”¯æŒtypescriptï¼Œå°†åŸæœ‰çš„vueè¯­æ³•é€šè¿‡å£°æ˜çš„æ–¹å¼æ¥æ”¯æŒts</li>
<li><code>vue-property-decorator</code>ï¼šåŸºäºvue-class-componentæ‰©å±•æ›´å¤šè£…é¥°å™¨</li>
<li><code>ts-loader</code>ï¼šè®©webpackèƒ½å¤Ÿè¯†åˆ«tsæ–‡ä»¶</li>
<li><code>tslint-loader</code>ï¼štslintç”¨æ¥çº¦æŸæ–‡ä»¶ç¼–ç </li>
<li><code>tslint-config-standard</code>ï¼š tslint é…ç½® standardé£æ ¼çš„çº¦æŸ</li>
</ul>
<h3 id="2ã€é…ç½®æ–‡ä»¶"><a href="#2ã€é…ç½®æ–‡ä»¶" class="headerlink" title="2ã€é…ç½®æ–‡ä»¶"></a>2ã€é…ç½®æ–‡ä»¶</h3><h4 id="webpacké…ç½®"><a href="#webpacké…ç½®" class="headerlink" title="webpacké…ç½®"></a>webpacké…ç½®</h4><p>æ ¹æ®é¡¹ç›®çš„ä¸åŒé…ç½®çš„åœ°æ–¹ä¸åŒï¼Œå¦‚æœæ˜¯vue cli 3.0åˆ›å»ºçš„é¡¹ç›®éœ€è¦åœ¨vue.config.jsä¸­é…ç½®ï¼Œå¦‚æœæ˜¯3.0ä»¥ä¸‹ç‰ˆæœ¬çš„è¯ï¼Œéœ€è¦webpack.base.confä¸­é…ç½®ã€‚(ä»¥ä¸‹è¯´æ˜æ˜¯åœ¨webpack.base.confæ–‡ä»¶ä¸­æ›´æ”¹)</p>
<ol>
<li>åœ¨resolve.extensionsä¸­å¢åŠ .tsï¼Œç›®çš„æ˜¯åœ¨ä»£ç ä¸­å¼•å…¥tsæ–‡ä»¶ä¸ç”¨å†™.tsåç¼€</li>
</ol>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">resolve: &#123;</span><br><span class="line">  extensions: [<span class="string">'.js'</span>, <span class="string">'.vue'</span>, <span class="string">'.json'</span>, <span class="string">'.ts'</span>],</span><br><span class="line">  alias: &#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>åœ¨module.rulesä¸­å¢åŠ tsçš„rules</li>
</ol>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">module</span>: &#123;</span><br><span class="line">   rules: [</span><br><span class="line">     &#123;</span><br><span class="line">       test: <span class="regexp">/\.ts$/</span>,</span><br><span class="line">       exclude: <span class="regexp">/node_modules/</span>,</span><br><span class="line">       enforce: <span class="string">'pre'</span>,</span><br><span class="line">       loader: <span class="string">'tslint-loader'</span></span><br><span class="line">     &#125;,</span><br><span class="line">     &#123;</span><br><span class="line">       test: <span class="regexp">/\.tsx?$/</span>,</span><br><span class="line">       loader: <span class="string">'ts-loader'</span>,</span><br><span class="line">       exclude: <span class="regexp">/node_modules/</span>,</span><br><span class="line">       options: &#123;</span><br><span class="line">         appendTsSuffixTo: [<span class="regexp">/\.vue$/</span>]</span><br><span class="line">       &#125;</span><br><span class="line">     &#125;</span><br><span class="line">   ]</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>tsconfig.jsoné…ç½®<br>ts-loaderä¼šæ£€ç´¢æ–‡ä»¶ä¸­çš„tsconfig.json.ä»¥å…¶ä¸­çš„è§„åˆ™æ¥è§£ætsæ–‡ä»¶ï¼Œè¯¦ç»†çš„é…ç½®å¯ä»¥å‚è€ƒ<a href="https://www.tslang.cn/docs/handbook/tsconfig-json.html" target="_blank" rel="noopener">https://www.tslang.cn/docs/handbook/tsconfig-json.html</a><br>è´´ä¸Šæµ‹è¯•é¡¹ç›®tsconfig.jsonæ–‡ä»¶</li>
</ol>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="comment">// ç¼–è¯‘é€‰é¡¹</span></span><br><span class="line">  <span class="string">"compilerOptions"</span>: &#123;</span><br><span class="line">    <span class="comment">// è¾“å‡ºç›®å½•</span></span><br><span class="line">    <span class="string">"outDir"</span>: <span class="string">"./output"</span>,</span><br><span class="line">    <span class="comment">// æ˜¯å¦åŒ…å«å¯ä»¥ç”¨äº debug çš„ sourceMap</span></span><br><span class="line">    <span class="string">"sourceMap"</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="comment">// ä»¥ä¸¥æ ¼æ¨¡å¼è§£æ</span></span><br><span class="line">    <span class="string">"strict"</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="comment">// é‡‡ç”¨çš„æ¨¡å—ç³»ç»Ÿ</span></span><br><span class="line">    <span class="string">"module"</span>: <span class="string">"esnext"</span>,</span><br><span class="line">    <span class="comment">// å¦‚ä½•å¤„ç†æ¨¡å—</span></span><br><span class="line">    <span class="string">"moduleResolution"</span>: <span class="string">"node"</span>,</span><br><span class="line">    <span class="comment">// ç¼–è¯‘è¾“å‡ºç›®æ ‡ ES ç‰ˆæœ¬</span></span><br><span class="line">    <span class="string">"target"</span>: <span class="string">"es5"</span>,</span><br><span class="line">    <span class="comment">// å…è®¸ä»æ²¡æœ‰è®¾ç½®é»˜è®¤å¯¼å‡ºçš„æ¨¡å—ä¸­é»˜è®¤å¯¼å…¥</span></span><br><span class="line">    <span class="string">"allowSyntheticDefaultImports"</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="comment">// å°†æ¯ä¸ªæ–‡ä»¶ä½œä¸ºå•ç‹¬çš„æ¨¡å—</span></span><br><span class="line">    <span class="string">"isolatedModules"</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="comment">// å¯ç”¨è£…é¥°å™¨</span></span><br><span class="line">    <span class="string">"experimentalDecorators"</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="comment">// å¯ç”¨è®¾è®¡ç±»å‹å…ƒæ•°æ®ï¼ˆç”¨äºåå°„ï¼‰</span></span><br><span class="line">    <span class="string">"emitDecoratorMetadata"</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="comment">// åœ¨è¡¨è¾¾å¼å’Œå£°æ˜ä¸Šæœ‰éšå«çš„anyç±»å‹æ—¶æŠ¥é”™</span></span><br><span class="line">    <span class="string">"noImplicitAny"</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="comment">// ä¸æ˜¯å‡½æ•°çš„æ‰€æœ‰è¿”å›è·¯å¾„éƒ½æœ‰è¿”å›å€¼æ—¶æŠ¥é”™ã€‚</span></span><br><span class="line">    <span class="string">"noImplicitReturns"</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="comment">// ä» tslib å¯¼å…¥å¤–éƒ¨å¸®åŠ©åº“: æ¯”å¦‚__extendsï¼Œ__restç­‰</span></span><br><span class="line">    <span class="string">"importHelpers"</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="comment">// ç¼–è¯‘è¿‡ç¨‹ä¸­æ‰“å°æ–‡ä»¶å</span></span><br><span class="line">    <span class="string">"listFiles"</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="comment">// ç§»é™¤æ³¨é‡Š</span></span><br><span class="line">    <span class="string">"removeComments"</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="string">"suppressImplicitAnyIndexErrors"</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="comment">// å…è®¸ç¼–è¯‘javascriptæ–‡ä»¶</span></span><br><span class="line">    <span class="string">"allowJs"</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="comment">// è§£æéç›¸å¯¹æ¨¡å—åçš„åŸºå‡†ç›®å½•</span></span><br><span class="line">    <span class="string">"baseUrl"</span>: <span class="string">"./"</span>,</span><br><span class="line">    <span class="comment">// æŒ‡å®šç‰¹æ®Šæ¨¡å—çš„è·¯å¾„</span></span><br><span class="line">    <span class="string">"paths"</span>: &#123;</span><br><span class="line">      <span class="string">"jquery"</span>: [</span><br><span class="line">        <span class="string">"node_modules/jquery/dist/jquery"</span></span><br><span class="line">      ]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// ç¼–è¯‘è¿‡ç¨‹ä¸­éœ€è¦å¼•å…¥çš„åº“æ–‡ä»¶çš„åˆ—è¡¨</span></span><br><span class="line">    <span class="string">"lib"</span>: [</span><br><span class="line">      <span class="string">"dom"</span>,</span><br><span class="line">      <span class="string">"es2015"</span>,</span><br><span class="line">      <span class="string">"es2015.promise"</span></span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="4">
<li>tslint.jsoné…ç½®<br>åœ¨ç›®å½•ä¸­æ–°å¢tslint.jsonæ–‡ä»¶ï¼Œç”±äºæˆ‘ä»¬å‰é¢å®‰è£…äº†tslint-config-standardï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥ç”¨tslint-config-standardä¸­è§„åˆ™ï¼Œæ–‡ä»¶å¦‚ä¸‹:</li>
</ol>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">"extends"</span>: <span class="string">"tslint-config-standard"</span>,</span><br><span class="line">  <span class="string">"globals"</span>: &#123;</span><br><span class="line">    <span class="string">"require"</span>: <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3ã€è®©é¡¹ç›®è¯†åˆ«-ts"><a href="#3ã€è®©é¡¹ç›®è¯†åˆ«-ts" class="headerlink" title="3ã€è®©é¡¹ç›®è¯†åˆ«.ts"></a>3ã€è®©é¡¹ç›®è¯†åˆ«.ts</h3><p>ç”±äº TypeScript é»˜è®¤å¹¶ä¸æ”¯æŒ *.vue åç¼€çš„æ–‡ä»¶ï¼Œæ‰€ä»¥åœ¨ vue é¡¹ç›®ä¸­å¼•å…¥çš„æ—¶å€™éœ€è¦åˆ›å»ºä¸€ä¸ª vue-shim.d.ts æ–‡ä»¶ï¼Œæ”¾åœ¨æ ¹ç›®å½•ä¸‹</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">declare <span class="built_in">module</span> <span class="string">'*.vue'</span> &#123;</span><br><span class="line">  <span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span>;</span><br><span class="line">  <span class="keyword">export</span> <span class="keyword">default</span> Vue;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="4ã€å®é™…åº”ç”¨"><a href="#4ã€å®é™…åº”ç”¨" class="headerlink" title="4ã€å®é™…åº”ç”¨"></a>4ã€å®é™…åº”ç”¨</h3><p>å›é¡¾ä¸‹æˆ‘ä»¬æ—¥å¸¸å·¥ä½œä¸­å¸¸ç”¨çš„vueçš„ä¸œè¥¿</p>
<ul>
<li>data() ä¸­å®šä¹‰æ•°æ®</li>
<li>å­ç»„ä»¶é€šè¿‡propsæ¥å—çˆ¶ç»„ä»¶ä¼ æ¥çš„å€¼</li>
<li>å­ç»„ä»¶é€šè¿‡$emitç»™çˆ¶ç»„ä»¶ä¼ é€’ä¿¡æ¯</li>
<li>é€šè¿‡watchæ¥è¿›è¡Œè§‚å¯Ÿæ•°æ®</li>
<li>é€šè¿‡computedè®¡ç®—å±æ€§</li>
<li>vueç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•</li>
<li>è·¯ç”±ä»¥åŠvuex<br> è¿™ä¸€ç¯‡ç« å°†æ ¹æ®<strong>vue-class-component</strong>ä»¥åŠ<strong>vue-property-decorator</strong>æ¥è¯´æ˜é™¤äº†è·¯ç”±ä»¥åŠvuexçš„ä½¿ç”¨æ–¹æ³•ï¼Œé€šè¿‡é€šè¿‡vueå†™tsæœ‰ä¸¤ç§æ–¹æ³•ï¼Œä¸€ç§æ˜¯å’ŒåŸæœ‰å†™æ³•ç±»ä¼¼çš„è¿˜æœ‰ä¸€ç§æ˜¯åŸºäºç±»çš„å†™æ³•ã€‚ä»¥ä¸‹æ‰€æœ‰çš„å†™æ³•éƒ½æ˜¯åŸºäºç±»çš„å†™æ³•</li>
</ul>
<h4 id="data-ä¸­å®šä¹‰æ•°æ®"><a href="#data-ä¸­å®šä¹‰æ•°æ®" class="headerlink" title="data()ä¸­å®šä¹‰æ•°æ®"></a>data()ä¸­å®šä¹‰æ•°æ®</h4><p>å‰é¢è¯´è¿‡äº†ï¼Œè£…é¥°å™¨classå°†ç±»çš„åŸå‹ä¸­çš„æ•°æ®ç›´æ¥æŒ‚åœ¨ç›¸å¯¹åº”çš„åŸæœ‰vueæ–¹æ³•ä¸­ï¼Œä½†æ˜¯dataé™¤å¤–ï¼Œdataåªç›´æ¥å°†éè£…é¥°å™¨ä»¥åŠéæ–¹æ³•çš„ç›´æ¥æ”¾åœ¨data()ä¸­ ï¼Œæ‰€ä»¥æˆ‘ä»¬å®šä¹‰çš„æ—¶å€™åªéœ€è¦è¿™æ ·åšå³å¯</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> <span class="title">extends</span> <span class="title">Vue</span> &#123;</span></span><br><span class="line"> <span class="keyword">public</span> message1: <span class="built_in">string</span> = <span class="string">"asd"</span></span><br><span class="line"> <span class="keyword">public</span> message2: <span class="built_in">string</span> = <span class="string">"asd1"</span>;</span><br><span class="line"> <span class="keyword">public</span> message3: <span class="built_in">string</span> = <span class="string">"asd2"</span>;</span><br></pre></td></tr></table></figure>



<h4 id="propsä¼ å€¼"><a href="#propsä¼ å€¼" class="headerlink" title="propsä¼ å€¼"></a>propsä¼ å€¼</h4><p>propsçš„è¯å°±æ²¡æœ‰dataé‚£ä¹ˆèˆ’æœäº†ï¼Œå› ä¸ºä»–éœ€è¦ä½¿ç”¨è£…é¥°å™¨äº†ï¼Œå†™æ³•å¦‚ä¸‹</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">@Prop(&#123;</span><br><span class="line">   type: Number,</span><br><span class="line">   default: 1,</span><br><span class="line">   required: false</span><br><span class="line"> &#125;)</span><br><span class="line"> propA?: number</span><br><span class="line"> &#x2F;&#x2F;ä¼šæœ€ç»ˆè½¬æ¢æˆ</span><br><span class="line"> props:&#123;</span><br><span class="line">      propA:&#39;&#39;</span><br><span class="line"> &#125;</span><br><span class="line"> @Prop()</span><br><span class="line"> propB:string</span><br></pre></td></tr></table></figure>

<p>å¦‚æœæ²¡æœ‰é»˜è®¤å€¼çš„å»ºè®®ä½¿ç”¨å¯é€‰å±æ€§ï¼Ÿæ¥å®šä¹‰ï¼Œè¿™æ ·é¿å…æŠ¥é”™ã€‚</p>
<h4 id="emitä¼ å€¼"><a href="#emitä¼ å€¼" class="headerlink" title="$emitä¼ å€¼"></a>$emitä¼ å€¼</h4><p>$emitä¼ å€¼æ¶‰åŠåˆ°ä¸¤éƒ¨åˆ†ï¼Œä¸€ä¸ªæ˜¯çˆ¶ç»„ä»¶å®šä¹‰çš„æ–¹æ³•ï¼Œä¸€ä¸ªæ˜¯å­ç»„ä»¶è§¦å‘ã€‚å½“å‰emitæœ‰ä¸‰ç§æ–¹æ³•<br> é¦–å…ˆå­ç»„ä»¶çš„å†™æ³•</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"test-container"</span>&gt;</span></span><br><span class="line">    &#123;&#123;message&#125;&#125;</span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"ç‚¹å‡»è§¦å‘çˆ¶çº§æ–¹æ³•"</span> @<span class="attr">click</span>=<span class="string">"bindSend"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"ç‚¹å‡»è§¦å‘çˆ¶çº§æ–¹æ³•"</span> @<span class="attr">click</span>=<span class="string">"handleSend"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"ç‚¹å‡»è§¦å‘çˆ¶çº§æ–¹æ³•"</span> @<span class="attr">click</span>=<span class="string">"bindSend2"</span>/&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- &lt;Hello&gt;&lt;/Hello&gt; --&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">lang</span>=<span class="string">"ts"</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="keyword">import</span> &#123; Component, Prop, Vue, Watch, Emit &#125; <span class="keyword">from</span> <span class="string">"vue-property-decorator"</span>;</span></span><br><span class="line"><span class="actionscript"><span class="comment">// æ³¨æ˜æ­¤ç±»ä¸ºä¸€ä¸ªvueç»„ä»¶</span></span></span><br><span class="line">@Component(&#123;&#125;)</span><br><span class="line"><span class="javascript"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> <span class="keyword">extends</span> <span class="title">Vue</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">  <span class="comment">// ç¬¬ä¸€ç§</span></span></span><br><span class="line">  @Emit()</span><br><span class="line"><span class="actionscript">  <span class="keyword">private</span> bindSend():string&#123;</span></span><br><span class="line"><span class="actionscript">      <span class="keyword">return</span> <span class="keyword">this</span>.message</span></span><br><span class="line">  &#125;</span><br><span class="line"><span class="actionscript"> <span class="comment">// ç¬¬äºŒç§</span></span></span><br><span class="line">  @Emit()</span><br><span class="line"><span class="actionscript">  <span class="keyword">private</span> bindSend1(msg:string)&#123;</span></span><br><span class="line"><span class="actionscript">      <span class="comment">// å¦‚æœä¸å¤„ç†å¯ä»¥ä¸å†™ä¸‹é¢çš„ï¼Œä¼šè‡ªåŠ¨å°†å‚æ•°å›ä¼ </span></span></span><br><span class="line"><span class="actionscript">      msg += <span class="string">'love'</span>;</span></span><br><span class="line"><span class="actionscript">      <span class="keyword">return</span> msg;</span></span><br><span class="line">  &#125;</span><br><span class="line"><span class="actionscript">  <span class="comment">//åŸæœ‰æ”¾åœ¨methodsä¸­çš„æ–¹æ³•å¹³é“ºå‡ºæ¥</span></span></span><br><span class="line"><span class="actionscript">  <span class="keyword">public</span> handleSend():<span class="keyword">void</span> &#123;</span></span><br><span class="line"><span class="actionscript">      <span class="keyword">this</span>.bindSend1(<span class="keyword">this</span>.message);</span></span><br><span class="line">  &#125;</span><br><span class="line"><span class="actionscript">  <span class="comment">// ç¬¬ä¸‰ç§</span></span></span><br><span class="line"><span class="actionscript">  <span class="comment">// è¿™é‡Œçš„emitä¸­çš„å‚æ•°æ˜¯è¡¨æ˜çˆ¶çº§é€šè¿‡ä»€ä¹ˆæ¥å—ï¼Œç±»ä¼¼ä»¥å‰çš„$emit('çˆ¶çº§å®šä¹‰çš„æ–¹æ³•')</span></span></span><br><span class="line"><span class="actionscript">  @Emit(<span class="string">'test'</span>)</span></span><br><span class="line"><span class="actionscript">  <span class="keyword">private</span> bindSend2()&#123;</span></span><br><span class="line"><span class="actionscript">      <span class="keyword">return</span> <span class="string">'è¿™ä¸ªå¯ä»¥ç”¨testæ¥å—'</span>;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>çˆ¶ç»„ä»¶çš„æ¥æ”¶ä»£ç ,è¿™é‡Œçˆ¶ç»„ä»¶æ‡’å¾—æ¢æˆtså†™æ³•äº†ï¼Œæ„æ€åˆ°äº†å°±è¡Œäº†ï¼ˆå“ˆå“ˆï¼‰</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Test</span> <span class="attr">:propA</span>=<span class="string">"propA"</span> @<span class="attr">bind-send</span> = <span class="string">"bindSend"</span> @<span class="attr">bind-send1</span> = <span class="string">'handleSend1'</span> @<span class="attr">test</span> = <span class="string">'handleSend2'</span>&gt;</span><span class="tag">&lt;/<span class="name">Test</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="actionscript">  name: <span class="string">'App'</span>,</span></span><br><span class="line">  components: &#123;</span><br><span class="line"><span class="javascript">    Test:<span class="function"><span class="params">()</span>=&gt;</span><span class="keyword">import</span>(<span class="string">'./components/test.vue'</span>)</span></span><br><span class="line">  &#125;,</span><br><span class="line">  data()&#123;</span><br><span class="line"><span class="actionscript">    <span class="keyword">return</span> &#123;&#125;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    bindSend(val) &#123;</span><br><span class="line"><span class="javascript">      <span class="built_in">console</span>.log(<span class="string">'å­é›†è§¦å‘äº†emitæ–¹æ³•'</span> +val);</span></span><br><span class="line">    &#125;,</span><br><span class="line">    handleSend1(val) &#123;</span><br><span class="line"><span class="javascript">      <span class="built_in">console</span>.log(<span class="string">'å­é›†è§¦å‘äº†emitæ–¹æ³•'</span> +val);</span></span><br><span class="line">    &#125;,</span><br><span class="line">    handleSend2(val) &#123;</span><br><span class="line"><span class="javascript">       <span class="built_in">console</span>.log(<span class="string">'å­é›†è§¦å‘äº†emitæ–¹æ³•'</span> +val);</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>å¦‚æœæˆ‘ä»¬éœ€è¦ä¼ å¤šä¸ªå€¼çš„è¯ï¼Œæˆ‘ä»¬æ€ä¹ˆå¼„å‘¢ï¼Ÿæ¥ä¸€èµ·çœ‹çœ‹æºç çš„å®ç°ä½ å°±çŸ¥é“äº†</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">Emit</span>(<span class="params">event</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params">_target, propertyKey, descriptor</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> key = hyphenate(propertyKey);</span><br><span class="line">        <span class="keyword">var</span> original = descriptor.value;</span><br><span class="line">        descriptor.value = <span class="function"><span class="keyword">function</span> <span class="title">emitter</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">var</span> _this = <span class="keyword">this</span>;</span><br><span class="line">            <span class="keyword">var</span> args = [];</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">var</span> _i = <span class="number">0</span>; _i &lt; <span class="built_in">arguments</span>.length; _i++) &#123;</span><br><span class="line">                args[_i] = <span class="built_in">arguments</span>[_i];</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">var</span> emit = <span class="function"><span class="keyword">function</span> (<span class="params">returnValue</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">var</span> emitName = event || key;</span><br><span class="line">                <span class="keyword">if</span> (returnValue === <span class="literal">undefined</span>) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (args.length === <span class="number">0</span>) &#123;</span><br><span class="line">                        _this.$emit(emitName);</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">else</span> <span class="keyword">if</span> (args.length === <span class="number">1</span>) &#123;</span><br><span class="line">                        _this.$emit(emitName, args[<span class="number">0</span>]);</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">else</span> &#123;</span><br><span class="line">                        _this.$emit.apply(_this, [emitName].concat(args));</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="keyword">if</span> (args.length === <span class="number">0</span>) &#123;</span><br><span class="line">                        _this.$emit(emitName, returnValue);</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">else</span> <span class="keyword">if</span> (args.length === <span class="number">1</span>) &#123;</span><br><span class="line">                        _this.$emit(emitName, returnValue, args[<span class="number">0</span>]);</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">else</span> &#123;</span><br><span class="line">                        _this.$emit.apply(_this, [emitName, returnValue].concat(args));</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;;</span><br><span class="line">            <span class="keyword">var</span> returnValue = original.apply(<span class="keyword">this</span>, args);</span><br><span class="line">            <span class="keyword">if</span> (isPromise(returnValue)) &#123;</span><br><span class="line">                returnValue.then(emit);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                emit(returnValue);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> returnValue;</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>é€šè¿‡æºç æˆ‘ä»¬å¯ä»¥å‘ç°æœ‰ä¸¤ç§æ–¹æ³•ï¼Œå¦‚æœåœ¨æ–¹æ³•ä¸­ä¹Ÿå°±æ˜¯</p>
<figure class="highlight kotlin"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Emit()</span></span><br><span class="line"> <span class="keyword">private</span> bindSend1(msg:string)&#123;</span><br><span class="line">     <span class="comment">// å¦‚æœä¸å¤„ç†å¯ä»¥ä¸å†™ä¸‹é¢çš„ï¼Œä¼šè‡ªåŠ¨å°†å‚æ•°å›ä¼ </span></span><br><span class="line">     msg += <span class="string">'love'</span>;</span><br><span class="line">     <span class="keyword">return</span> msg;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<p>é€šè¿‡returnè¿”å›çš„æ–¹å¼è¯çš„è¯åªä¼šå–args[0]ï¼Œæ‰€ä»¥è¿™ç§æƒ…å†µå»ºè®®ç›´æ¥ä»¥ä¸€ä¸ªå¯¹è±¡æˆ–è€…æ•°ç»„æ–¹å¼ä¼ é€’<br> ä¸Šé¢è¯´åˆ°äº†ç»™çˆ¶ç»„ä»¶ä¼ å€¼çš„æ—¶å€™å¯ä»¥åªé€šè¿‡å‚æ•°ï¼Œè€Œä¸éœ€è¦return,é‚£ä¹ˆæºç ä¸­å¯ä»¥çœ‹åˆ°<strong>var returnValue = original.apply(this, args);</strong>æ‰€ä»¥æˆ‘ä»¬ä¹Ÿå¯ä»¥è¿™æ ·æ¥ä¼ </p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line">@Emit()</span><br><span class="line">  <span class="function"><span class="keyword">private</span> <span class="title">bindSend1</span>(<span class="params">msg:<span class="keyword">string</span>,love:<span class="keyword">string</span></span>)</span>&#123;&#125;</span><br><span class="line">  <span class="comment">//åŸæœ‰æ”¾åœ¨methodsä¸­çš„æ–¹æ³•å¹³é“ºå‡ºæ¥</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">handleSend</span>(<span class="params"></span>):<span class="keyword">void</span></span> &#123;</span><br><span class="line">      <span class="keyword">this</span>.bindSend1(<span class="keyword">this</span>.message,<span class="string">'love'</span>);</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<p>çˆ¶ç»„ä»¶ä¸­æ¥å—æ•°æ®</p>
<figure class="highlight kotlin"><table><tr><td class="code"><pre><span class="line">handleSend1(<span class="keyword">val</span>,val1) &#123;</span><br><span class="line">  console.log(<span class="string">'å­é›†è§¦å‘äº†emitæ–¹æ³•'</span> +<span class="keyword">val</span> + val1);</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>



<h4 id="watchè§‚å¯Ÿæ•°æ®"><a href="#watchè§‚å¯Ÿæ•°æ®" class="headerlink" title="watchè§‚å¯Ÿæ•°æ®"></a>watchè§‚å¯Ÿæ•°æ®</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;åŸæœ‰çš„watchå±æ€§</span><br><span class="line">  @Watch(&#39;propA&#39;,&#123;</span><br><span class="line">      deep:true</span><br><span class="line">  &#125;)</span><br><span class="line">  test(newValue:string,oldValue:string)&#123;</span><br><span class="line">      console.log(&#39;propAå€¼æ”¹å˜äº†&#39; + newValue);</span><br><span class="line">  &#125;</span><br><span class="line">&#x2F;&#x2F;ä¼šè¢«è½¬åŒ–æˆ</span><br><span class="line">watchï¼š&#123;</span><br><span class="line">  propAï¼šhandler(newValue,oldValue)&#123;</span><br><span class="line">      this.test(newValue,oldValue);</span><br><span class="line">  &#125;,</span><br><span class="line">  deep:true</span><br><span class="line">&#125;</span><br><span class="line">testæ–¹æ³•ä¼šè¢«è½¬åŒ–åˆ°methodsä¸­</span><br></pre></td></tr></table></figure>

<h4 id="computedè®¡ç®—å±æ€§"><a href="#computedè®¡ç®—å±æ€§" class="headerlink" title="computedè®¡ç®—å±æ€§"></a>computedè®¡ç®—å±æ€§</h4><p>åœ¨å‰é¢<strong>vue-class-component</strong>ä»‹ç»é‡Œé¢æˆ‘ä»¬æåˆ°è¿‡Componentæ€ä¹ˆå¤„ç†æ•°æ®çš„</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (descriptor.<span class="keyword">get</span> || descriptor.<span class="keyword">set</span>) &#123;</span><br><span class="line">            <span class="comment">// å¦‚æœå­˜åœ¨getå’Œset,åˆ™ä¸ºè®¡ç®—å±æ€§</span></span><br><span class="line">   (options.computed || (options.computed = &#123;&#125;))[key] = &#123;</span><br><span class="line">      <span class="keyword">get</span>: descriptor.<span class="keyword">get</span>,</span><br><span class="line">       <span class="keyword">set</span>: descriptor.<span class="keyword">set</span></span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ‰€ä»¥æˆ‘ä»¬åœ¨å†™è®¡ç®—å±æ€§çš„æ—¶å€™åªéœ€è¦æŒ‰ç…§ä»¥ä¸‹æ–¹æ³•å†™å³å¯</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">get</span> <span class="title">computedMsg</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="string">'è¿™é‡Œæ˜¯è®¡ç®—å±æ€§'</span> + <span class="keyword">this</span>.message;</span><br><span class="line"> &#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">set</span> <span class="title">computedMsg</span>(<span class="params">message:<span class="keyword">string</span></span>)</span>&#123;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<h4 id="vueç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•"><a href="#vueç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•" class="headerlink" title="vueç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•"></a>vueç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•</h4><p>å’Œä»¥å‰ä¸€æ ·ä½¿ç”¨å³å¯</p>
]]></content>
      <categories>
        <category>ts</category>
        <category>vue</category>
      </categories>
      <tags>
        <tag>ts</tag>
      </tags>
  </entry>
  <entry>
    <title>v-lazy</title>
    <url>/2020/07/27/v-lazy/</url>
    <content><![CDATA[<h3 id="vueå›¾ç‰‡æ‡’åŠ è½½æ’ä»¶â€“v-lazy"><a href="#vueå›¾ç‰‡æ‡’åŠ è½½æ’ä»¶â€“v-lazy" class="headerlink" title="vueå›¾ç‰‡æ‡’åŠ è½½æ’ä»¶â€“v-lazy"></a>vueå›¾ç‰‡æ‡’åŠ è½½æ’ä»¶â€“v-lazy</h3><ol>
<li><p>å®‰è£…æ’ä»¶ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install vue-lazyload --save-dev</span><br></pre></td></tr></table></figure>

<p>â€‹</p>
</li>
</ol>
<ol>
<li><p>main.jså¼•å…¥æ’ä»¶ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import VueLazyLoad from &#39;vue-lazyload&#39;</span><br><span class="line">Vue.use(VueLazyLoad,&#123;</span><br><span class="line">    error:&#39;.&#x2F;static&#x2F;error.png&#39;,</span><br><span class="line">    loading:&#39;.&#x2F;static&#x2F;loading.png&#39;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>â€‹</p>
</li>
<li><p>vueæ–‡ä»¶ä¸­å°†éœ€è¦æ‡’åŠ è½½çš„å›¾ç‰‡ç»‘å®š v-bind:src ä¿®æ”¹ä¸º v-lazy </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;img class&#x3D;&quot;item-pic&quot; v-lazy&#x3D;&quot;newItem.picUrl&quot;&#x2F;&gt;</span><br></pre></td></tr></table></figure>

<p>â€‹</p>
</li>
</ol>
]]></content>
      <categories>
        <category>v-lazy</category>
        <category>vue</category>
      </categories>
      <tags>
        <tag>vue</tag>
        <tag>æ’ä»¶</tag>
        <tag>v-lazy</tag>
      </tags>
  </entry>
  <entry>
    <title>vantweapp</title>
    <url>/2020/07/22/vantweapp/</url>
    <content><![CDATA[<h3 id="å°ç¨‹åºæ’ä»¶â€“vantWeapp"><a href="#å°ç¨‹åºæ’ä»¶â€“vantWeapp" class="headerlink" title="å°ç¨‹åºæ’ä»¶â€“vantWeapp"></a>å°ç¨‹åºæ’ä»¶â€“vantWeapp</h3><blockquote>
<ol>
<li>æ–°å»ºä¸ªé¡¹ç›®</li>
</ol>
</blockquote>
<blockquote>
<ol start="2">
<li>æ‰¾åˆ°é¡¹ç›®æ–‡ä»¶å¤¹ npm init åˆå§‹åŒ–ä¸€ä¸ªå«package.jsonçš„æ–‡ä»¶ä¸€è·¯å›è½¦å³å¯</li>
</ol>
</blockquote>
<blockquote>
<ol start="3">
<li>ç»§ç»­æ‰§è¡Œå‘½ä»¤å®‰è£… Vant Weapp<br><code>npm i @vant/weapp -S --production</code> </li>
</ol>
</blockquote>
<blockquote>
<ol start="4">
<li>ç‚¹å‡» å¼€å‘è€…èœå•é‡Œé¢çš„å·¥å…· &gt;æ„å»ºnpm å¦‚ä¸‹å›¾</li>
</ol>
</blockquote>
<a id="more"></a>

<p><img src="http://upload-images.jianshu.io/upload_images/7211385-9510055e041611cc.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/939/format/webp" alt="img"></p>
<blockquote>
<ol start="5">
<li>è¿˜æ˜¯å¼€å‘è€…å·¥å…·é‡Œé¢çš„è¯¦æƒ… ä½¿ç”¨npmæ¨¡å—å‹¾é€‰ä¸Š</li>
</ol>
</blockquote>
<p><img src="http://upload-images.jianshu.io/upload_images/7211385-d50190f6a674c31d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/684/format/webp" alt="img"></p>
<blockquote>
<ol start="6">
<li>åœ¨å¼•ç”¨çš„é¡µé¢jsonæˆ–è€…app.jsoné‡Œæ·»åŠ å¼•å…¥çš„ç»„ä»¶åå­—</li>
</ol>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&quot;usingComponents&quot;: &#123;</span><br><span class="line">  &quot;van-button&quot;: &quot;@vant&#x2F;weapp&#x2F;button&#x2F;index&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><img src="http://upload-images.jianshu.io/upload_images/7211385-6163f82f17c59fcc.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/984/format/webp" alt="img"></p>
<blockquote>
<ol start="7">
<li>æœ€åå°±æ˜¯åœ¨ä½ çš„é¡µé¢ç”¨ä½¿ç”¨äº† å¦‚ä¸‹å›¾ï¼š</li>
</ol>
</blockquote>
<p><img src="http://upload-images.jianshu.io/upload_images/7211385-d2fbd97f8301d40d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp" alt="img"></p>
<p><a href="https://www.jianshu.com/p/a63f21206b91" target="_blank" rel="noopener">å‚è€ƒé“¾æ¥</a></p>
<p><a href="https://youzan.github.io/vant-weapp/#/intro" target="_blank" rel="noopener">å®˜ç½‘åœ°å€</a></p>
]]></content>
      <categories>
        <category>plugins</category>
      </categories>
      <tags>
        <tag>å°ç¨‹åº</tag>
        <tag>plugins</tag>
      </tags>
  </entry>
  <entry>
    <title>verdaccioç§æœæ­å»º</title>
    <url>/2020/08/11/verdaccio%E7%A7%81%E6%9C%8D%E6%90%AD%E5%BB%BA/</url>
    <content><![CDATA[<h3 id="1-å®‰è£…verdaccio"><a href="#1-å®‰è£…verdaccio" class="headerlink" title="1 å®‰è£…verdaccio"></a>1 å®‰è£…verdaccio</h3><p><code>$ npm install --global verdaccio</code></p>
<h4 id="1-1-verdaccioç›®å½•ç»“æ„"><a href="#1-1-verdaccioç›®å½•ç»“æ„" class="headerlink" title="1.1 verdaccioç›®å½•ç»“æ„"></a>1.1 verdaccioç›®å½•ç»“æ„</h4><p>å®‰è£…åçš„æ–‡ä»¶åœ¨ï¼šC:\Users(ç”¨æˆ·å)\AppData\Roaming\verdaccioä¸‹</p>
<p><img src="/2020/08/11/verdaccio%E7%A7%81%E6%9C%8D%E6%90%AD%E5%BB%BA/01.png" alt="01"></p>
<a id="more"></a>

<h4 id="1-2-é…ç½®æ–‡ä»¶"><a href="#1-2-é…ç½®æ–‡ä»¶" class="headerlink" title="1.2 é…ç½®æ–‡ä»¶"></a>1.2 é…ç½®æ–‡ä»¶</h4><hr>
<p>1ã€é…ç½®npmä»“åº“çš„ä½ç½®ï¼Œæ‰¾ä¸€ä¸ªä½ç½®æ–°å»ºä¸€ä¸ªç›®å½•ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="/2020/08/11/verdaccio%E7%A7%81%E6%9C%8D%E6%90%AD%E5%BB%BA/02.png" alt="01"></p>
<p><img src="/2020/08/11/verdaccio%E7%A7%81%E6%9C%8D%E6%90%AD%E5%BB%BA/02.png" alt="01"></p>
<p>2ã€æ‰¾åˆ°é…ç½®æ–‡ä»¶çš„storageé€‰é¡¹ï¼Œç„¶åæŠŠä»“åº“çš„ä½ç½®å¡«å†™è¿›å»ï¼Œæ³¨æ„æ˜¯ç”¨æ–œçº¿ï¼Œè€Œä¸æ˜¯åæ–œçº¿ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="/2020/08/11/verdaccio%E7%A7%81%E6%9C%8D%E6%90%AD%E5%BB%BA/03.png" alt="01"></p>
<h3 id="2-æœ¬åœ°localhostå¯åŠ¨"><a href="#2-æœ¬åœ°localhostå¯åŠ¨" class="headerlink" title="2 æœ¬åœ°localhostå¯åŠ¨"></a>2 æœ¬åœ°localhostå¯åŠ¨</h3><p><code>$ verdaccio</code></p>
<p><img src="/2020/08/11/verdaccio%E7%A7%81%E6%9C%8D%E6%90%AD%E5%BB%BA/04.png" alt="01"><br>ç›´æ¥æ‰“å¼€ <a href="http://localhost:4873/" target="_blank" rel="noopener">http://localhost:4873/</a></p>
<p><img src="/2020/08/11/verdaccio%E7%A7%81%E6%9C%8D%E6%90%AD%E5%BB%BA/05.png" alt="01"></p>
<h3 id="3-åˆ›å»ºç”¨æˆ·"><a href="#3-åˆ›å»ºç”¨æˆ·" class="headerlink" title="3 åˆ›å»ºç”¨æˆ·"></a>3 åˆ›å»ºç”¨æˆ·</h3><p><code>$ npm adduser --registry http://localhost:4873</code><br>ç„¶åæˆ‘ä»¬åœ¨<a href="http://localhost:4873/ä¸Šé¢ç›´æ¥ç‚¹Loginå°±å¯ä»¥ç™»é™†äº†" target="_blank" rel="noopener">http://localhost:4873/ä¸Šé¢ç›´æ¥ç‚¹Loginå°±å¯ä»¥ç™»é™†äº†</a></p>
<p><strong>è¿™é‡Œï¼Œå¦‚æœæˆ‘ä»¬å·²ç»è£…äº†nrm ï¼Œå¯ä»¥ç®€ä¾¿ä¸Šé¢è¿™å¥æ“ä½œï¼šæˆ‘ä»¬ç›´æ¥åˆ©ç”¨nrmæŠŠé•œåƒæºåˆ‡æ¢åˆ°æˆ‘ä»¬çš„<a href="http://localhost:4873/ä¸Šé¢ï¼Œç„¶å$" target="_blank" rel="noopener">http://localhost:4873/ä¸Šé¢ï¼Œç„¶å$</a> npm adduserå°±å¯ä»¥äº†</strong></p>
<h5 id="nrmæ“ä½œæ–¹æ³•"><a href="#nrmæ“ä½œæ–¹æ³•" class="headerlink" title="nrmæ“ä½œæ–¹æ³•"></a>nrmæ“ä½œæ–¹æ³•</h5><ul>
<li><p><code>$ npm install -g nrm</code><br>å…¨å±€å®‰è£…nrm</p>
</li>
<li><p><code>$ nrm ls</code><br>ç”¨æ¥æŸ¥çœ‹npmæº</p>
<p><img src="/2020/08/11/verdaccio%E7%A7%81%E6%9C%8D%E6%90%AD%E5%BB%BA/06.png" alt="01"></p>
<p>åç§°å‰æœ‰* çš„æ˜¯å½“å‰ç”¨npmä¸‹è½½åŒ…çš„æ—¶å€™çš„åœ°å€ï¼Œæ¯”å¦‚æˆªå›¾é‡Œé¢ï¼Œå½“æˆ‘<code>npm install</code>ä»¥åï¼Œå°±ä¼šä»<a href="http://localhost:4873/ä¸Šé¢ä¸‹è½½åŒ…ï¼Œè€Œä¸æ˜¯ä»npmç½‘ç«™ä¸Šé¢ä¸‹è½½" target="_blank" rel="noopener">http://localhost:4873/ä¸Šé¢ä¸‹è½½åŒ…ï¼Œè€Œä¸æ˜¯ä»npmç½‘ç«™ä¸Šé¢ä¸‹è½½</a></p>
</li>
<li><p><code>$ nrm use æºåç§°</code><br>è®¾ç½®å½“å‰npmæº</p>
</li>
<li><p><img src="/2020/08/11/verdaccio%E7%A7%81%E6%9C%8D%E6%90%AD%E5%BB%BA/07.png" alt="01"><br>è¿™é‡Œæˆ‘å°±æŠŠnpmæºæ¢æˆäº†npmjsï¼Œå½“ç„¶å’±ä»¬å®‰è£…nodeä»¥åï¼Œnpmé»˜è®¤å°±æ˜¯ä»è¿™é‡Œä¸‹è½½ã€‚</p>
</li>
<li><p><code>$ nrm add åç§° åœ°å€</code><br>åˆ›å»ºæ–°çš„æº</p>
<p><img src="/2020/08/11/verdaccio%E7%A7%81%E6%9C%8D%E6%90%AD%E5%BB%BA/08.png" alt="01"></p>
</li>
<li><p><code>$ nrm del åç§°</code><br>åˆ é™¤æº</p>
<p><img src="/2020/08/11/verdaccio%E7%A7%81%E6%9C%8D%E6%90%AD%E5%BB%BA/09.png" alt="01"></p>
</li>
</ul>
<ul>
<li><p>è¿™äº›è®°ä¸ä½éƒ½æ²¡å…³ç³»ï¼Œç›´æ¥<code>$ nrm</code>å…¨éƒ½å¯ä»¥æŸ¥çœ‹</p>
<p><img src="/2020/08/11/verdaccio%E7%A7%81%E6%9C%8D%E6%90%AD%E5%BB%BA/10.png" alt="01"></p>
</li>
</ul>
<h3 id="4-å‘å¸ƒåŒ…"><a href="#4-å‘å¸ƒåŒ…" class="headerlink" title="4 å‘å¸ƒåŒ…"></a>4 å‘å¸ƒåŒ…</h3><p><code>$ npm publish --registry http://localhost:4873</code><br>è¿™é‡Œæˆ‘éšä¾¿æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œé€šè¿‡npm initæ–°å»ºä¸€ä¸ªé¡¹ç›®ï¼Œç„¶ååœ¨è¿™ä¸ªç›®å½•ä¸‹ï¼Œ<code>npm publish --registry http://localhost:4873</code></p>
<p><img src="/2020/08/11/verdaccio%E7%A7%81%E6%9C%8D%E6%90%AD%E5%BB%BA/11.png" alt="01"></p>
<p>æ­¤æ—¶ï¼Œæ–‡ä»¶é‡Œé¢æœ‰äº†package.json</p>
<p><img src="/2020/08/11/verdaccio%E7%A7%81%E6%9C%8D%E6%90%AD%E5%BB%BA/12.png" alt="01"></p>
<p><img src="/2020/08/11/verdaccio%E7%A7%81%E6%9C%8D%E6%90%AD%E5%BB%BA/13.png" alt="01"></p>
<h3 id="5-åœ¨éœ€è¦çš„é¡¹ç›®ä¸­å¼•å…¥åŒ…"><a href="#5-åœ¨éœ€è¦çš„é¡¹ç›®ä¸­å¼•å…¥åŒ…" class="headerlink" title="5 åœ¨éœ€è¦çš„é¡¹ç›®ä¸­å¼•å…¥åŒ…"></a>5 åœ¨éœ€è¦çš„é¡¹ç›®ä¸­å¼•å…¥åŒ…</h3><ol>
<li>æ–°å»ºä¸€ä¸ªç›®å½•ï¼Œnpm init </li>
<li>npm install åŒ…çš„åå­—ï¼ˆåœ¨package.jsonä¸­åŠ ä¸ŠåŒ…çš„åå­—å’Œç‰ˆæœ¬ï¼Œnpm iï¼‰</li>
</ol>
<h3 id="6-é…ç½®æˆä»»æ„ipï¼Œåˆ«çš„ç”µè„‘å¯ä»¥è®¿é—®ç§æœ‰åŒ…"><a href="#6-é…ç½®æˆä»»æ„ipï¼Œåˆ«çš„ç”µè„‘å¯ä»¥è®¿é—®ç§æœ‰åŒ…" class="headerlink" title="6 é…ç½®æˆä»»æ„ipï¼Œåˆ«çš„ç”µè„‘å¯ä»¥è®¿é—®ç§æœ‰åŒ…"></a>6 é…ç½®æˆä»»æ„ipï¼Œåˆ«çš„ç”µè„‘å¯ä»¥è®¿é—®ç§æœ‰åŒ…</h3><p>1ã€åœ¨é…ç½®æ–‡ä»¶çš„æœ«å°¾æ·»åŠ listen: 0.0.0.0:4873ï¼Œé…ç½®æ­¤é€‰é¡¹åˆ™æ˜¯å…è®¸ä»»ä½•å¤–éƒ¨çš„æ‰€æœ‰IPéƒ½å¯ä»¥è®¿é—®åˆ°æ­¤æœåŠ¡ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="/2020/08/11/verdaccio%E7%A7%81%E6%9C%8D%E6%90%AD%E5%BB%BA/14.png" alt="01"></p>
<p>2ã€ç„¶åé‡æ–°å¯åŠ¨verdaccioï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="/2020/08/11/verdaccio%E7%A7%81%E6%9C%8D%E6%90%AD%E5%BB%BA/15.png" alt="01"></p>
<p>3ã€ç„¶ååœ¨å¦å¤–ä¸€å°ç”µè„‘å³å¯æ‰“å¼€ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="/2020/08/11/verdaccio%E7%A7%81%E6%9C%8D%E6%90%AD%E5%BB%BA/16.png" alt="01"></p>
<p>4ã€ç”±äºç”µè„‘çš„Ipæ˜¯è‡ªåŠ¨è·å–çš„ï¼Œå½“ç”µè„‘é‡å¯IPæœ‰å¯èƒ½ä¼šæ”¹å˜ï¼Œå› æ­¤æœ€å¥½éœ€è¦æ‰‹åŠ¨è®¾ç½®ä¸€ä¸ªIPï¼Œç„¶åä½¿ç”¨nrm add localnpm <a href="http://192.168.1.250:4873æ·»åŠ åˆ°npmæºä¸­ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š">http://192.168.1.250:4873æ·»åŠ åˆ°npmæºä¸­ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</a></p>
<p><img src="/2020/08/11/verdaccio%E7%A7%81%E6%9C%8D%E6%90%AD%E5%BB%BA/17.png" alt="01"></p>
<p>5ã€ç„¶åé€šè¿‡nrm use localnpmæ¥åˆ‡æ¢æºï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œæˆ‘ä»¬å°±åˆ‡æ¢åˆ°æˆ‘ä»¬åˆšåˆšæ·»åŠ çš„æºäº†ï¼š</p>
<h3 id="æŠ¥é”™è®°å½•"><a href="#æŠ¥é”™è®°å½•" class="headerlink" title="æŠ¥é”™è®°å½•"></a>æŠ¥é”™è®°å½•</h3><p>npm adduseræŠ¥é”™Unable to authenticateå’Œnpm publishæŠ¥é”™404</p>
<p>è§£å†³åŠæ³•ï¼šå°±æ˜¯ç”¨æˆ·åå·²ç»è¢«æ³¨å†Œäº†ï¼Œæ¢ä¸ªç”¨æˆ·å</p>
]]></content>
      <categories>
        <category>verdaccio</category>
      </categories>
      <tags>
        <tag>ç§æœ‰æœåŠ¡å™¨</tag>
        <tag>verdaccio</tag>
      </tags>
  </entry>
  <entry>
    <title>vså’ŒvsCodeçš„plugins</title>
    <url>/2020/07/17/vs%E5%92%8CvsCode%E7%9A%84plugins/</url>
    <content><![CDATA[<h3 id="vså’ŒvsCodeæ’ä»¶"><a href="#vså’ŒvsCodeæ’ä»¶" class="headerlink" title="vså’ŒvsCodeæ’ä»¶"></a>vså’ŒvsCodeæ’ä»¶</h3><a id="more"></a>

<ol>
<li><p>vs</p>
<blockquote>
<ul>
<li>web compiler  å°†lesså’Œjsç¼–è¯‘æˆcsså’Œes5</li>
<li>force UTF-8 ï¼ˆNo Bomï¼‰  å°†æ–‡æ¡£ç¼–è¯‘æˆutf-8çš„æ–‡æ¡£æ ¼å¼è¾“å‡º(ä¹Ÿå¯ä»¥ç”¨è®°äº‹æœ¬æ‰“å¼€å¦å­˜ä¸º,è§£å†³é¡µé¢æ‰“å¼€å‡ºç°&amp;#65279ï¼Œæ˜¾ç¤ºå¤šä½™ç©ºç™½)</li>
<li>force UTF-8 ï¼ˆWith Bomï¼‰</li>
</ul>
</blockquote>
</li>
</ol>
<ol start="2">
<li><blockquote>
<ul>
<li>Auto Close Tag   è‡ªåŠ¨é—­åˆæ ‡ç­¾</li>
<li>Image preview  æ‚¬åœæ—¶æ˜¾ç¤ºå›¾åƒé¢„è§ˆ</li>
<li>CSS Peek å†…è”åŠ è½½ css æ–‡ä»¶å¹¶åœ¨é‚£é‡Œè¿›è¡Œå¿«é€Ÿç¼–è¾‘</li>
<li>Auto Rename Tag è‡ªåŠ¨é‡å‘½åæ ‡ç­¾</li>
<li>Highlight Matching Tag  çªå‡ºæ˜¾ç¤ºåŒ¹é…çš„å¼€å§‹æˆ–ç»“æŸæ ‡ç­¾</li>
<li>Auto-Save on Window Change å…³é—­çª—å£è‡ªåŠ¨ä¿å­˜</li>
<li>Chinese (Simplified) Language Pack for Visual Studio Code ä¸­æ–‡åŒ…</li>
<li>CSS Tree é€‰ä¸­æ ‡ç­¾ç”Ÿæˆcssæ–‡ä»¶æ ‘ï¼ˆCtrl + shift + pé€‰æ‹© Generate CSS treeï¼‰</li>
<li>Easy LESS å¯ç›´æ¥ç”Ÿæˆå°ç¨‹åºwxss</li>
<li>filesize æŸ¥çœ‹æ–‡ä»¶å¤§å°</li>
<li>Path Intellisense è‡ªåŠ¨æç¤ºæ–‡ä»¶è·¯å¾„</li>
<li>Git Histroy/Local Histroy æ–‡ä»¶å†å²è®°å½•</li>
<li>Material Icon Theme æ–‡ä»¶å›¾æ ‡</li>
<li>vscode-icons å›¾æ ‡æ’ä»¶</li>
<li>Bracket Pair Colorizer æ‹¬å·é¢œè‰²é«˜äº®</li>
<li>open in browser åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€</li>
<li>vscode-fileheader æ–‡ä»¶å¤´éƒ¨ä¿¡æ¯</li>
<li>Vue 2 Snippets vueä»£ç ç‰‡æ®µæç¤º</li>
<li>vetur  vueè¯­æ³•é«˜äº®/æ ¼å¼åŒ–/ä»£ç ç‰‡æ®µ/è¯­æ³•æ£€æŸ¥ç­‰</li>
<li>minapp å¾®ä¿¡å°ç¨‹åºæ ‡ç­¾ã€å±æ€§çš„æ™ºèƒ½è¡¥å…¨ï¼ˆåŒæ—¶æ”¯æŒåŸç”Ÿå°ç¨‹åºã€mpvue å’Œ wepy æ¡†æ¶ï¼Œå¹¶æä¾› snippetsï¼‰</li>
<li>Stylus Language  åŸºäºNode.jsçš„CSSçš„é¢„å¤„ç†æ¡†æ¶</li>
<li>live-server å®æ—¶ç®€æ˜“æœåŠ¡å™¨</li>
<li>Live Share å®æ—¶å…±äº«ï¼ˆvs å’Œvscodeï¼‰</li>
<li>Live Share Audio å®æ—¶å…±äº«éŸ³é¢‘</li>
</ul>
</blockquote>
</li>
</ol>
<p><a href="https://marketplace.visualstudio.com/search?term=%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91%E5%8A%A9%E6%89%8B&target=VSCode&category=Programming%20Languages&sortBy=Relevance">æ’ä»¶å®˜ç½‘åœ°å€</a></p>
<p><a href="https://mp.weixin.qq.com/s/LAe29D9nZvCcvs_Kr_PWZQ" target="_blank" rel="noopener">æ›´å¤šæ’ä»¶</a></p>
]]></content>
      <categories>
        <category>vså’ŒvsCode</category>
      </categories>
      <tags>
        <tag>vs</tag>
        <tag>plugins</tag>
        <tag>vsCode</tag>
      </tags>
  </entry>
  <entry>
    <title>vue-devtools</title>
    <url>/2020/07/30/vue-devtools/</url>
    <content><![CDATA[<h3 id="Vue-js-devtools"><a href="#Vue-js-devtools" class="headerlink" title="Vue.js devtools"></a>Vue.js devtools</h3><p>Vue.js devtoolsæ˜¯åŸºäºgoogle chromeæµè§ˆå™¨çš„ä¸€æ¬¾è°ƒè¯•vue.jsåº”ç”¨çš„å¼€å‘è€…æµè§ˆå™¨æ‰©å±•ï¼Œå¯ä»¥åœ¨æµè§ˆå™¨å¼€å‘è€…å·¥å…·ä¸‹è°ƒè¯•ä»£ç ã€‚</p>
<a id="more"></a>

<p>1ï¼‰é¦–å…ˆåœ¨githubä¸‹è½½devtoolsæºç ï¼Œåœ°å€ï¼š<a href="https://github.com/vuejs/vue-devtools%E3%80%82" target="_blank" rel="noopener">https://github.com/vuejs/vue-devtoolsã€‚</a></p>
<p><img src="https://images2017.cnblogs.com/blog/1215920/201709/1215920-20170919205434540-2015837660.png" alt="img"></p>
<p>2ï¼‰ä¸‹è½½å¥½åè¿›å…¥vue-devtools-masterå·¥ç¨‹ æ‰§è¡Œcnpm install, ä¸‹è½½ä¾èµ–ï¼Œç„¶åæ‰§è¡Œnpm run buildï¼Œç¼–è¯‘æºç¨‹åºã€‚</p>
<p><img src="https://images2017.cnblogs.com/blog/1215920/201709/1215920-20170919191704853-826104445.png" alt="img"></p>
<p><img src="https://images2017.cnblogs.com/blog/1215920/201709/1215920-20170919191820884-273399978.png" alt="img"></p>
<p>3ï¼‰ç¼–è¯‘å®Œæˆåï¼Œç›®å½•ç»“æ„å¦‚ä¸‹ï¼š<br><img src="https://images2017.cnblogs.com/blog/1215920/201709/1215920-20170919191916743-1974845966.png" alt="img"></p>
<p>ä¿®æ”¹shellsã€chromeç›®å½•ä¸‹çš„mainifest.json ä¸­çš„persistantä¸ºtrueï¼š</p>
<p><img src="https://images2017.cnblogs.com/blog/1215920/201709/1215920-20170919192429618-1364706689.png" alt="img"></p>
<p><img src="https://images2017.cnblogs.com/blog/1215920/201709/1215920-20170919192727806-166414555.png" alt="img"></p>
<p> 4ï¼‰æ‰“å¼€è°·æ­Œæµè§ˆå™¨çš„è®¾ç½®â€”&gt;æ‰©å±•ç¨‹åºï¼Œå¹¶å‹¾é€‰å¼€å‘è€…æ¨¡å¼</p>
<p><img src="https://images2017.cnblogs.com/blog/1215920/201709/1215920-20170919203319915-287514806.png" alt="img"></p>
<p><img src="https://images2017.cnblogs.com/blog/1215920/201709/1215920-20170919203457306-737425079.png" alt="img"></p>
<p>ç„¶åå°†åˆšåˆšç¼–è¯‘åçš„å·¥ç¨‹ä¸­çš„shellsç›®å½•ä¸‹ï¼Œchromeçš„æ•´ä¸ªæ–‡ä»¶å¤¹ç›´æ¥æ‹–æ‹½åˆ°å½“å‰æµè§ˆå™¨ä¸­ï¼Œå¹¶é€‰æ‹©å¯ç”¨ï¼Œå³å¯å°†æ’ä»¶å®‰è£…åˆ°æµè§ˆå™¨ã€‚</p>
<p><img src="https://images2017.cnblogs.com/blog/1215920/201709/1215920-20170919203631071-371299784.png" alt="img"></p>
<p>5ï¼‰æ‰“å¼€ä¸€ä¸ªå·²æœ‰çš„vueé¡¹ç›®ï¼Œè¿è¡Œé¡¹ç›®ï¼Œç„¶ååœ¨æµè§ˆå™¨ä¸­â€”&gt;è®¾ç½®â€”&gt;æ›´å¤šå·¥å…·â€”&gt;å¼€å‘è€…å·¥å…·ï¼Œè¿›å…¥è°ƒè¯•æ¨¡å¼ï¼š</p>
<p>å‘ç°vue.js is not detected  ï¼Œå¯ä»¥è°ƒæ•´ä¸€ä¸‹webpack.config.jsçš„ä»£ç ï¼Œ</p>
<p><img src="https://images2017.cnblogs.com/blog/1215920/201709/1215920-20170919204337603-2116004923.png" alt="img"></p>
<hr>
<p><img src="https://images2017.cnblogs.com/blog/1215920/201709/1215920-20170919205246228-260599521.png" alt="img"></p>
<p>æœ€åï¼Œé‡å¯ä¸€ä¸‹ä½ çš„vueé¡¹ç›®åº”è¯¥å°±å¯ä»¥ä½¿ç”¨äº†ã€‚</p>
<p> <img src="https://images2017.cnblogs.com/blog/1215920/201709/1215920-20170919205319915-1870577461.png" alt="img"></p>
<p> å‚è€ƒé“¾æ¥ï¼š<a href="https://www.cnblogs.com/tanyongli/p/7554045.html" target="_blank" rel="noopener">https://www.cnblogs.com/tanyongli/p/7554045.html</a></p>
]]></content>
      <categories>
        <category>devtools</category>
      </categories>
      <tags>
        <tag>devtools</tag>
      </tags>
  </entry>
  <entry>
    <title>vue-filter</title>
    <url>/2020/08/04/vue-filter/</url>
    <content><![CDATA[<h3 id="è¿‡æ»¤"><a href="#è¿‡æ»¤" class="headerlink" title="è¿‡æ»¤"></a>è¿‡æ»¤</h3><ol>
<li>å…¨å±€è¿‡æ»¤æ–¹æ³•</li>
</ol>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;å…¨å±€è¿‡æ»¤å™¨æ§åˆ¶æµ®ç‚¹æ•°è®¡ç®—æ˜¾ç¤ºå‡ ä½å°æ•°ï¼Œé»˜è®¤2ä½</span><br><span class="line">main.js</span><br><span class="line">Vue.filter(&#39;tofixed&#39;, function (value,num&#x3D;2) &#123;</span><br><span class="line">  if (!value) return 0</span><br><span class="line">  return value.toFixed(num)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">é¡µé¢ä½¿ç”¨</span><br><span class="line">&lt;span&gt;(vipData.DiscountRate*10) | tofixed(1)&lt;&#x2F;span</span><br></pre></td></tr></table></figure>

<ol start="2">
<li><p>å±€éƒ¨è¿‡æ»¤å™¨</p>
<a id="more"></a>

</li>
</ol>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"> data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      that:this,</span><br><span class="line">      searchValue: &quot;&quot;,</span><br><span class="line">      searchResult: []</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  filters:&#123;</span><br><span class="line">    brightenKeyword(val,that)&#123;</span><br><span class="line">      const Reg &#x3D; new RegExp(that.searchValue, &#39;ig&#39;);</span><br><span class="line">      return val.replace(Reg, &#96;&lt;span class&#x3D;&quot;redColor&quot;&gt;$&#123;that.searchValue&#125;&lt;&#x2F;span&gt;&#96;);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">é¡µé¢ä½¿ç”¨</span><br><span class="line"> &lt;li v-for&#x3D;&quot;item in searchResult&quot; :key&#x3D;&quot;item&quot; v-html&#x3D;&quot;$options.filters.brightenKeyword(item,that)&quot;&gt;&lt;&#x2F;li&gt;</span><br></pre></td></tr></table></figure>



<ol start="3">
<li>æ³¨å†Œå…¨å±€ç»„ä»¶</li>
</ol>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; æ­£å¸¸æ³¨å†Œå…¨å±€ç»„ä»¶çš„æ—¶å€™ï¼Œç¬¬äºŒä¸ªå‚æ•°åº”è¯¥æ˜¯å¯¹è±¡ã€‚å…¨å±€ç»„ä»¶å¿…é¡»å†™åœ¨Vueå®ä¾‹åˆ›å»ºä¹‹å‰ï¼Œæ‰åœ¨è¯¥æ ¹å…ƒç´ ä¸‹é¢ç”Ÿæ•ˆï¼›</span><br><span class="line">Vue.component(&#39;public1&#39;, &#123;</span><br><span class="line"> template: &#39;&lt;div&gt;æ­£å¸¸çš„ç»„ä»¶æ¨¡å¼&lt;&#x2F;div&gt;&#39;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>



<ol start="4">
<li>ç§æœ‰ç»„ä»¶</li>
</ol>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">&lt;div id&#x3D;&quot;app1&quot;&gt;</span><br><span class="line">    &lt;child-component&gt;&lt;&#x2F;child-component&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    new Vue(&#123;</span><br><span class="line">        el: &quot;#app1&quot;,</span><br><span class="line">        components:&#123;</span><br><span class="line">            &quot;child-component&quot;:&#123;</span><br><span class="line">                template:&quot;&lt;h1&gt;æˆ‘æ˜¯å±€éƒ¨ç»„ä»¶&lt;&#x2F;h1&gt;&quot;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>



]]></content>
      <categories>
        <category>filter</category>
      </categories>
      <tags>
        <tag>vue</tag>
        <tag>filter</tag>
      </tags>
  </entry>
  <entry>
    <title>vue-lottieåŠ¨ç”»</title>
    <url>/2020/07/30/vue-lottie%E5%8A%A8%E7%94%BB/</url>
    <content><![CDATA[<p>å®‰è£…vue-lottieåŒ…</p>
<p>npm install â€“save vue-lottie</p>
<a id="more"></a>

<p>å¼•ç”¨vue-lottie</p>
<p>åœ¨main.jså¼•å…¥å¹¶å…¨å±€æ³¨å†Œç»„ä»¶</p>
<p>import lottie from â€˜vue-lottieâ€™;</p>
<p>Vue.component(â€˜lottieâ€™, lottie)</p>
<p>å¼•å…¥LottieåŠ¨ç”»èµ„æº</p>
<p>å°†æˆ‘ä»¬åœ¨<a href="https://www.lottiefiles.com/popular" target="_blank" rel="noopener">Lottiefiles</a>ä¸‹è½½ä¸‹æ¥çš„ç›¸åº”åŠ¨ç”»èµ„æºä¿å­˜åˆ°é¡¹ç›®ä¸­å¹¶æ˜ å…¥</p>
<p>// ç¬¬ä¸€æ­¥ï¼šscriptä¸­å¼•å…¥èµ„æºimport * as animationData from â€œ../assets/lottie/loading.jsonâ€;</p>
<p>// ç¬¬äºŒæ­¥ï¼šä½¿ç”¨ç»„ä»¶</p>
<lottie :options="defaultOptions" :height="200" :width="200" v-on:animcreated="handleAnimation">

<p>// ç¬¬ä¸‰æ­¥ï¼šdataé‡Œé¢æ·»åŠ ç›¸åº”å±æ€§</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">data() &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        defaultOptions: &#123;</span><br><span class="line">            animationData: animationData</span><br><span class="line">        &#125;,</span><br><span class="line">        animationSpeed: <span class="number">1</span>,</span><br><span class="line">        anim: &#123;&#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125; </span><br><span class="line"><span class="comment">//ç¬¬å››æ­¥ï¼šå®šä¹‰æ–¹æ³•</span></span><br><span class="line">methods: &#123;    </span><br><span class="line">	handleAnimation: <span class="function"><span class="keyword">function</span>(<span class="params">anim</span>) </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.anim = anim;        </span><br><span class="line">		<span class="built_in">console</span>.log(anim); <span class="comment">//è¿™é‡Œå¯ä»¥çœ‹åˆ° lottie å¯¹è±¡çš„å…¨éƒ¨å±æ€§    </span></span><br><span class="line">	&#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</lottie>]]></content>
      <categories>
        <category>vue</category>
      </categories>
      <tags>
        <tag>vue</tag>
        <tag>lottie</tag>
      </tags>
  </entry>
  <entry>
    <title>vue-mixin</title>
    <url>/2020/07/30/vue-mixin/</url>
    <content><![CDATA[<h3 id="mixin"><a href="#mixin" class="headerlink" title="mixin"></a>mixin</h3><h4 id="å±€éƒ¨å¼•ç”¨"><a href="#å±€éƒ¨å¼•ç”¨" class="headerlink" title="å±€éƒ¨å¼•ç”¨"></a>å±€éƒ¨å¼•ç”¨</h4><p>1.åˆ›å»ºmixinçš„jsæ–‡ä»¶</p>
<a id="more"></a>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const info&#x3D;&#123;</span><br><span class="line">    data()&#123;</span><br><span class="line">        return &#123;</span><br><span class="line">            name: &quot;curry&quot;,</span><br><span class="line">            sex: &quot;man&quot;,</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>2.å¼•å…¥åˆ›å»ºçš„jsæ–‡ä»¶ï¼ˆèŠ±æ‹¬å·å¿…é¡»å†™ï¼Œmixinsï¼Œsä¸èƒ½å¿˜ï¼‰</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import &#123;info&#125; from &#39;mixinæ–‡ä»¶çš„è·¯å¾„&#39;</span><br><span class="line">export default &#123;</span><br><span class="line">	mixins:[info]ã€€ </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>3.ä½¿ç”¨mixinä¸­çš„æ•°æ®ï¼ˆç»„ä»¶ä¸­ç›´æ¥ä½¿ç”¨ï¼‰</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">console.log(this.name) &#x2F;&#x2F;curry</span><br></pre></td></tr></table></figure>



<h4 id="å…¨å±€æ³¨å†Œ"><a href="#å…¨å±€æ³¨å†Œ" class="headerlink" title="å…¨å±€æ³¨å†Œ"></a>å…¨å±€æ³¨å†Œ</h4><p><strong>æ–¹æ³•ä¸€</strong>ï¼šåœ¨å·¥ç¨‹çš„main.jsä¸­ç›´æ¥æ³¨å†Œï¼Œå®ç°å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import Vue from &#39;vue&#39;;</span><br><span class="line">import App from &#39;.&#x2F;App&#39;;</span><br><span class="line"></span><br><span class="line">Vue.mixin(&#123;</span><br><span class="line">  created() &#123;</span><br><span class="line">    console.log(&#39;å…¨å±€æ··å…¥çš„é’©å­å‡½æ•°&#39;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">&#x2F;* eslint-disable no-new *&#x2F;</span><br><span class="line">new Vue(&#123;</span><br><span class="line">  el: &#39;#app&#39;,</span><br><span class="line">  components: &#123; App &#125;,</span><br><span class="line">  template: &#39;&lt;App&#x2F;&gt;&#39;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>



<p><strong>æ–¹æ³•äºŒ</strong>ï¼š</p>
<p>æ¨¡å—åŒ–æ³¨å†Œï¼Œæ–°å»ºmixin.jsæ–‡ä»¶å¹¶æ·»åŠ ä»¥ä¸‹ä»£ç ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export default &#123;</span><br><span class="line">  install(Vue) &#123;</span><br><span class="line">    Vue.mixin(&#123;</span><br><span class="line">      created() &#123;</span><br><span class="line">        console.log(&#39;å…¨å±€æ··å…¥çš„é’©å­å‡½æ•°&#39;);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç„¶ååœ¨main.jsä¸­å¼•å…¥è¯¥æ–‡ä»¶å¹¶ä½¿ç”¨useæ–¹æ³•è¿›è¡Œæ³¨å†Œ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import Vue from &#39;vue&#39;;</span><br><span class="line">import App from &#39;.&#x2F;App&#39;;</span><br><span class="line">import myMixin from &#39;.&#x2F;mixin.js&#39;;</span><br><span class="line"></span><br><span class="line">Vue.use(myMixin);</span><br><span class="line"></span><br><span class="line">&#x2F;* eslint-disable no-new *&#x2F;</span><br><span class="line">new Vue(&#123;</span><br><span class="line">  el: &#39;#app&#39;,</span><br><span class="line">  components: &#123; App &#125;,</span><br><span class="line">  template: &#39;&lt;App&#x2F;&gt;&#39;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>mixin</category>
      </categories>
      <tags>
        <tag>vue</tag>
        <tag>mixin</tag>
      </tags>
  </entry>
  <entry>
    <title>vue-mock</title>
    <url>/2020/07/30/vue-mock/</url>
    <content><![CDATA[<h3 id="vueä¸­ä½¿ç”¨mock"><a href="#vueä¸­ä½¿ç”¨mock" class="headerlink" title="vueä¸­ä½¿ç”¨mock"></a>vueä¸­ä½¿ç”¨mock</h3><h3 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h3><p>npm install mockjs â€“save</p>
<p>npm install axios â€“save</p>
<p>å®‰è£…axiosæ˜¯ä¸ºäº†èƒ½æ¨¡æ‹Ÿåå°æ¥å£ã€‚</p>
<a id="more"></a>

<h3 id="å»ºç«‹ç›®å½•ç»“æ„å¦‚ä¸‹ï¼š"><a href="#å»ºç«‹ç›®å½•ç»“æ„å¦‚ä¸‹ï¼š" class="headerlink" title="å»ºç«‹ç›®å½•ç»“æ„å¦‚ä¸‹ï¼š"></a>å»ºç«‹ç›®å½•ç»“æ„å¦‚ä¸‹ï¼š</h3><p><img src="https://img-blog.csdn.net/20180731124828244?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3hpYW94aWFvamllMTIzMjE=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="img"></p>
<h3 id="åœ¨main-jså¼•å…¥mockjs"><a href="#åœ¨main-jså¼•å…¥mockjs" class="headerlink" title="åœ¨main.jså¼•å…¥mockjs"></a>åœ¨main.jså¼•å…¥mockjs</h3><p><img src="https://img-blog.csdn.net/20180731125441827?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3hpYW94aWFvamllMTIzMjE=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="img"></p>
<h3 id="mock-js"><a href="#mock-js" class="headerlink" title="mock.js"></a>mock.js</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> Mock <span class="keyword">from</span> <span class="string">'mockjs'</span> <span class="comment">// å¼•å…¥mockjs</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">const</span> Random = Mock.Random <span class="comment">// Mock.Random æ˜¯ä¸€ä¸ªå·¥å…·ç±»ï¼Œç”¨äºç”Ÿæˆå„ç§éšæœºæ•°æ®</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">let</span> data = [] <span class="comment">// ç”¨äºæ¥å—ç”Ÿæˆæ•°æ®çš„æ•°ç»„</span></span><br><span class="line"><span class="keyword">let</span> size = [</span><br><span class="line">  <span class="string">'300x250'</span>, <span class="string">'250x250'</span>, <span class="string">'240x400'</span>, <span class="string">'336x280'</span>, </span><br><span class="line">  <span class="string">'180x150'</span>, <span class="string">'720x300'</span>, <span class="string">'468x60'</span>, <span class="string">'234x60'</span>, </span><br><span class="line">  <span class="string">'88x31'</span>, <span class="string">'120x90'</span>, <span class="string">'120x60'</span>, <span class="string">'120x240'</span>, </span><br><span class="line">  <span class="string">'125x125'</span>, <span class="string">'728x90'</span>, <span class="string">'160x600'</span>, <span class="string">'120x600'</span>, </span><br><span class="line">  <span class="string">'300x600'</span></span><br><span class="line">] <span class="comment">// å®šä¹‰éšæœºå€¼</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i ++) &#123; <span class="comment">// å¯è‡ªå®šä¹‰ç”Ÿæˆçš„ä¸ªæ•°</span></span><br><span class="line">  <span class="keyword">let</span> template = &#123;</span><br><span class="line">    <span class="string">'Boolean'</span>: Random.boolean, <span class="comment">// å¯ä»¥ç”ŸæˆåŸºæœ¬æ•°æ®ç±»å‹</span></span><br><span class="line">    <span class="string">'Natural'</span>: Random.natural(<span class="number">1</span>, <span class="number">10</span>), <span class="comment">// ç”Ÿæˆ1åˆ°100ä¹‹é—´è‡ªç„¶æ•°</span></span><br><span class="line">    <span class="string">'Integer'</span>: Random.integer(<span class="number">1</span>, <span class="number">100</span>), <span class="comment">// ç”Ÿæˆ1åˆ°100ä¹‹é—´çš„æ•´æ•°</span></span><br><span class="line">    <span class="string">'Float'</span>: Random.float(<span class="number">0</span>, <span class="number">100</span>, <span class="number">0</span>, <span class="number">5</span>), <span class="comment">// ç”Ÿæˆ0åˆ°100ä¹‹é—´çš„æµ®ç‚¹æ•°,å°æ•°ç‚¹åå°¾æ•°ä¸º0åˆ°5ä½</span></span><br><span class="line">    <span class="string">'Character'</span>: Random.character(), <span class="comment">// ç”Ÿæˆéšæœºå­—ç¬¦ä¸²,å¯åŠ å‚æ•°å®šä¹‰è§„åˆ™</span></span><br><span class="line">    <span class="string">'String'</span>: Random.string(<span class="number">2</span>, <span class="number">10</span>), <span class="comment">// ç”Ÿæˆ2åˆ°10ä¸ªå­—ç¬¦ä¹‹é—´çš„å­—ç¬¦ä¸²</span></span><br><span class="line">    <span class="string">'Range'</span>: Random.range(<span class="number">0</span>, <span class="number">10</span>, <span class="number">2</span>), <span class="comment">// ç”Ÿæˆä¸€ä¸ªéšæœºæ•°ç»„</span></span><br><span class="line">    <span class="string">'Date'</span>: Random.date(), <span class="comment">// ç”Ÿæˆä¸€ä¸ªéšæœºæ—¥æœŸ,å¯åŠ å‚æ•°å®šä¹‰æ—¥æœŸæ ¼å¼</span></span><br><span class="line">    <span class="string">'Image'</span>: Random.image(Random.size, <span class="string">'#02adea'</span>, <span class="string">'Hello'</span>), <span class="comment">// Random.sizeè¡¨ç¤ºå°†ä»sizeæ•°æ®ä¸­ä»»é€‰ä¸€ä¸ªæ•°æ®</span></span><br><span class="line">    <span class="string">'Color'</span>: Random.color(), <span class="comment">// ç”Ÿæˆä¸€ä¸ªé¢œè‰²éšæœºå€¼</span></span><br><span class="line">    <span class="string">'Paragraph'</span>:Random.paragraph(<span class="number">2</span>, <span class="number">5</span>), <span class="comment">//ç”Ÿæˆ2è‡³5ä¸ªå¥å­çš„æ–‡æœ¬</span></span><br><span class="line">    <span class="string">'Name'</span>: Random.name(), <span class="comment">// ç”Ÿæˆå§“å</span></span><br><span class="line">    <span class="string">'Url'</span>: Random.url(), <span class="comment">// ç”Ÿæˆwebåœ°å€</span></span><br><span class="line">    <span class="string">'Address'</span>: Random.province() <span class="comment">// ç”Ÿæˆåœ°å€</span></span><br><span class="line">  &#125;</span><br><span class="line">  data.push(template)</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">Mock.mock(<span class="string">'/data/index'</span>, <span class="string">'post'</span>, data) <span class="comment">// æ ¹æ®æ•°æ®æ¨¡æ¿ç”Ÿæˆæ¨¡æ‹Ÿæ•°æ®</span></span><br></pre></td></tr></table></figure>

<h3 id="api-js"><a href="#api-js" class="headerlink" title="api.js"></a>api.js</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">'axios'</span></span><br><span class="line"> </span><br><span class="line">axios.defaults.headers.post[<span class="string">'Content-Type'</span>] = <span class="string">'application/x-www-form-urlencoded'</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">// è¯·æ±‚æ‹¦æˆªå™¨</span></span><br><span class="line">axios.interceptors.request.use(<span class="function"><span class="keyword">function</span>(<span class="params">config</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> config;</span><br><span class="line">  &#125;, <span class="function"><span class="keyword">function</span>(<span class="params">error</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Promise</span>.reject(error);</span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="comment">// å“åº”æ‹¦æˆªå™¨</span></span><br><span class="line">axios.interceptors.response.use(<span class="function"><span class="keyword">function</span>(<span class="params">response</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> response;</span><br><span class="line">&#125;, <span class="function"><span class="keyword">function</span>(<span class="params">error</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Promise</span>.reject(error);</span><br><span class="line">&#125;)</span><br><span class="line"> </span><br><span class="line"><span class="comment">// å°è£…axiosçš„postè¯·æ±‚</span></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">fetch</span>(<span class="params">url, params</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    axios.post(url, params)</span><br><span class="line">      .then(<span class="function"><span class="params">response</span> =&gt;</span> &#123;</span><br><span class="line">        resolve(response.data);</span><br><span class="line">      &#125;)</span><br><span class="line">      .catch(<span class="function">(<span class="params">error</span>) =&gt;</span> &#123;</span><br><span class="line">        reject(error);</span><br><span class="line">      &#125;)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  mockdata(url, params) &#123;</span><br><span class="line">    <span class="keyword">return</span> fetch(url, params);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="mock-vue"><a href="#mock-vue" class="headerlink" title="mock.vue"></a>mock.vue</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">  &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line"><span class="keyword">import</span> api <span class="keyword">from</span> <span class="string">'./../axios/api.js'</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  name: <span class="string">'Mock'</span>,</span><br><span class="line">  data () &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      dataShow: []</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  created () &#123;</span><br><span class="line">    <span class="keyword">this</span>.getdata()</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    getdata: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      api.mockdata(<span class="string">'/data/index'</span>)</span><br><span class="line">      .then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(res);</span><br><span class="line">        <span class="keyword">this</span>.dataShow = res.data;</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp">&lt;!-- Add "scoped" attribute to limit CSS to this component only --&gt;</span></span><br><span class="line"><span class="regexp">&lt;style scoped&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>style&gt;</span><br></pre></td></tr></table></figure>

<h3 id="æ§åˆ¶å°æ‰“å°å‡ºçš„æ•°æ®"><a href="#æ§åˆ¶å°æ‰“å°å‡ºçš„æ•°æ®" class="headerlink" title="æ§åˆ¶å°æ‰“å°å‡ºçš„æ•°æ®"></a>æ§åˆ¶å°æ‰“å°å‡ºçš„æ•°æ®</h3><p><img src="https://img-blog.csdn.net/20180731125545864?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3hpYW94aWFvamllMTIzMjE=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="img"></p>
<p>ä»¥ä¸Šæ˜¯ä½¿ç”¨mockjsç”Ÿæˆçš„æ¨¡æ‹Ÿæ•°æ®ï¼ŒåŸºæœ¬å¯ä»¥æ»¡è¶³å¹³æ—¶å¼€å‘çš„éœ€è¦ï¼Œä¸è¿‡mockjsè¿˜æœ‰å…¶ä»–çš„ç”¨æ³•æœªèƒ½ä¸€ä¸€åˆ—å‡ºæ¥ï¼Œå»ºè®®å„ä½æœ‹å‹ä»¬å»mockå®˜ç½‘çš„æ–‡æ¡£äº†è§£æ›´å¤šï¼Œåœ°å€ï¼š<a href="http://mockjs.com/" target="_blank" rel="noopener">http://mockjs.com/</a> ã€‚</p>
]]></content>
      <categories>
        <category>mock</category>
      </categories>
      <tags>
        <tag>vue</tag>
        <tag>mock</tag>
      </tags>
  </entry>
  <entry>
    <title>vue-nextTick</title>
    <url>/2020/08/06/vue-nextTick/</url>
    <content><![CDATA[<h4 id="å¼‚æ­¥æ›´æ–°é˜Ÿåˆ—ï¼š"><a href="#å¼‚æ­¥æ›´æ–°é˜Ÿåˆ—ï¼š" class="headerlink" title="å¼‚æ­¥æ›´æ–°é˜Ÿåˆ—ï¼š"></a>å¼‚æ­¥æ›´æ–°é˜Ÿåˆ—ï¼š</h4><p>è¯·è®°ä½ï¼š<strong>vueæ˜¯ä¾é æ•°æ®é©±åŠ¨è§†å›¾æ›´æ–°çš„ï¼Œè¯¥æ›´æ–°çš„è¿‡ç¨‹æ˜¯å¼‚æ­¥çš„ã€‚</strong>å³ï¼šå½“ä¾¦å¬åˆ°ä½ çš„æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶ï¼Œ Vueå°†å¼€å¯ä¸€ä¸ªé˜Ÿåˆ—ï¼ˆè¯¥é˜Ÿåˆ—è¢«Vueå®˜æ–¹ç§°ä¸ºå¼‚æ­¥æ›´æ–°é˜Ÿåˆ—ï¼‰ã€‚è§†å›¾éœ€è¦ç­‰é˜Ÿåˆ—ä¸­æ‰€æœ‰æ•°æ®å˜åŒ–å®Œæˆä¹‹åï¼Œå†ç»Ÿä¸€è¿›è¡Œæ›´æ–°ã€‚ç¤ºä¾‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;div id&#x3D;&quot;myApp&quot;&gt;</span><br><span class="line">    &lt;input type&#x3D;&quot;button&quot; value&#x3D;&quot;ç‚¹æˆ‘å‘€&quot; @click&#x3D;&quot;changeStr&quot;&gt;</span><br><span class="line">    &lt;p ref&#x3D;&quot;myP&quot;&gt;&#123;&#123;str&#125;&#125;&lt;&#x2F;p&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    new Vue(&#123;</span><br><span class="line">        el:&quot;#myApp&quot;,</span><br><span class="line">        data:&#123;</span><br><span class="line">            str:&quot;å…¬ä¼—å· å¼ åŸ¹è·ƒï¼Œå…³æ³¨å®ƒçš„äººå¾ˆå°‘ï¼&quot;</span><br><span class="line">        &#125;,</span><br><span class="line">        methods:&#123;</span><br><span class="line">            changeStr()&#123;</span><br><span class="line">                this.str &#x3D; &quot;æ¬¢è¿å…³æ³¨å…¬ä¼—å· å¼ åŸ¹è·ƒï¼Œæ”¶çœ‹æ›´å¤šç²¾å½©å†…å®¹ï¼&quot;;</span><br><span class="line">                &#x2F;&#x2F; è¾“å‡ºç»“æœï¼šå…¬ä¼—å· å¼ åŸ¹è·ƒï¼Œå…³æ³¨å®ƒçš„äººå¾ˆå°‘ï¼</span><br><span class="line">                console.log(this.$refs.myP.innerText)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<a id="more"></a>

<p>é€šè¿‡ä»¥ä¸Šç¤ºä¾‹çš„è¾“å‡ºç»“æœå¯ä»¥æœ‰åŠ›è¯æ˜ï¼š<strong>Vue å®ç°çš„å“åº”å¼å¹¶ä¸æ˜¯æ•°æ®å‘ç”Ÿå˜åŒ–ä¹‹åè§†å›¾ç«‹å³å˜åŒ–ã€‚</strong></p>
<p>æ›´æ”¹ä¸Šä¸ªç¤ºä¾‹ä¸­çš„changeStræ–¹æ³•å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">changeStr()&#123;</span><br><span class="line">    this.str &#x3D; &quot;æ¬¢è¿å…³æ³¨å…¬ä¼—å· å¼ åŸ¹è·ƒï¼Œæ”¶çœ‹æ›´å¤šç²¾å½©å†…å®¹ï¼&quot;;</span><br><span class="line">    this.$nextTick(()&#x3D;&gt;&#123;</span><br><span class="line">        &#x2F;&#x2F; è¾“å‡ºç»“æœï¼šæˆ‘çˆ±ä½ ä¸­å›½ï¼Œæˆ‘äº²çˆ±çš„æ¯äº²ï¼</span><br><span class="line">        console.log(this.$refs.myP.innerText);</span><br><span class="line">    &#125;);</span><br><span class="line">    this.str &#x3D; &quot;æˆ‘çˆ±ä½ ä¸­å›½ï¼Œæˆ‘äº²çˆ±çš„æ¯äº²ï¼&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä»è¾“å‡ºçš„ç»“æœå¯ä»¥çœ‹å‡ºï¼šæˆ‘ä»¬å¯ä»¥é€šè¿‡<code>$nextTick()</code> è·å–åˆ°æ›´æ–°ä¹‹åçš„<code>DOM</code>ã€‚</p>
<h4 id="åº”ç”¨åœºæ™¯"><a href="#åº”ç”¨åœºæ™¯" class="headerlink" title="åº”ç”¨åœºæ™¯"></a>åº”ç”¨åœºæ™¯</h4><p>1ã€å¦‚æœè¦åœ¨<code>created()</code>é’©å­å‡½æ•°ä¸­è¿›è¡Œçš„<code>DOM</code>æ“ä½œï¼Œç”±äº<code>created()</code>é’©å­å‡½æ•°ä¸­è¿˜æœªå¯¹DOMè¿›è¡Œä»»ä½•æ¸²æŸ“ï¼Œæ‰€ä»¥æ— æ³•ç›´æ¥æ“ä½œï¼Œéœ€è¦é€šè¿‡<code>$nextTick()</code>æ¥å®Œæˆã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">created()&#123;</span><br><span class="line">    this.$nextTick(()&#x3D;&gt;&#123;</span><br><span class="line">        this.$refs.myP.innerText &#x3D; &quot;æˆ‘æ˜¯ä¸€åªå°å°å°å°é¸Ÿï¼Œæƒ³è¦é£ï¼Œå´æ€ä¹ˆæ ·ä¹Ÿé£ä¸é«˜ï¼&quot;;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>æ³¨ï¼šåœ¨<code>created()</code>é’©å­å‡½æ•°ä¸­è¿›è¡Œçš„<code>DOM</code>æ“ä½œï¼Œä¸ä½¿ç”¨<code>$nextTick()</code>ä¼šæŠ¥é”™ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;  Error in created hook: &quot;TypeError: Cannot set property &#39;innerText&#39; of undefined&quot;</span><br><span class="line">created()&#123;</span><br><span class="line">    this.$refs.myP.innerText &#x3D; &quot;æˆ‘æ˜¯ä¸€åªå°å°å°å°é¸Ÿï¼Œæƒ³è¦é£ï¼Œå´æ€ä¹ˆæ ·ä¹Ÿé£ä¸é«˜ï¼&quot;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>2ã€æ›´æ–°æ•°æ®åï¼Œæƒ³è¦ä½¿ç”¨jså¯¹æ–°çš„è§†å›¾è¿›è¡Œæ“ä½œæ—¶ã€‚</p>
<p>3ã€åœ¨ä½¿ç”¨æŸäº›ç¬¬ä¸‰æ–¹æ’ä»¶æ—¶ ï¼Œè¿™äº›æ’ä»¶éœ€è¦domåŠ¨æ€å˜åŒ–åé‡æ–°åº”ç”¨è¯¥æ’ä»¶ï¼Œè¿™æ—¶å€™å°±éœ€è¦ä½¿ç”¨<code>$nextTick()</code>æ¥é‡æ–°åº”ç”¨æ’ä»¶çš„æ–¹æ³•ã€‚ç¤ºä¾‹ï¼ˆç•¥ï¼‰</p>
]]></content>
      <categories>
        <category>vue</category>
      </categories>
      <tags>
        <tag>vue</tag>
        <tag>nextTick</tag>
      </tags>
  </entry>
  <entry>
    <title>vue-ref</title>
    <url>/2020/08/06/vue-ref/</url>
    <content><![CDATA[<h3 id="å«ä¹‰"><a href="#å«ä¹‰" class="headerlink" title="å«ä¹‰"></a>å«ä¹‰</h3><p>åœ¨åŸç”Ÿé‡Œè·å–DOMå…ƒç´ ï¼Œéœ€document.querySelectorï¼ˆâ€.input1â€ï¼‰è·å–è¿™ä¸ªdomèŠ‚ç‚¹ï¼Œç„¶ååœ¨è·å–input1çš„å€¼ã€‚</p>
<p>ä½†æ˜¯ç”¨refç»‘å®šä¹‹åï¼Œæˆ‘ä»¬å°±ä¸éœ€è¦åœ¨è·å–domèŠ‚ç‚¹äº†ï¼Œç›´æ¥åœ¨ä¸Šé¢çš„inputä¸Šç»‘å®šinput1ï¼Œç„¶å$refsé‡Œé¢è°ƒç”¨å°±è¡Œã€‚</p>
<p>ç„¶ååœ¨javascripté‡Œé¢è¿™æ ·è°ƒç”¨ï¼šthis.$refs.input1  è¿™æ ·å°±å¯ä»¥å‡å°‘è·å–domèŠ‚ç‚¹çš„æ¶ˆè€—äº†</p>
<a id="more"></a>

<h3 id="ç”¨æ³•"><a href="#ç”¨æ³•" class="headerlink" title="ç”¨æ³•"></a>ç”¨æ³•</h3><p>ref æœ‰ä¸‰ç§ç”¨æ³•ï¼š</p>
<p>ã€€ã€€1ã€ref åŠ åœ¨æ™®é€šçš„å…ƒç´ ä¸Šï¼Œç”¨this.$refs.name è·å–åˆ°çš„æ˜¯domå…ƒç´ </p>
<p>ã€€ã€€2ã€ref åŠ åœ¨å­ç»„ä»¶ä¸Šï¼Œç”¨his.$refs.name è·å–åˆ°çš„æ˜¯<strong>ç»„ä»¶å®ä¾‹ï¼Œå¯ä»¥ä½¿ç”¨ç»„ä»¶çš„æ‰€æœ‰æ–¹æ³•</strong>ã€‚</p>
<p>â€‹    3ã€<strong>ref éœ€è¦åœ¨domæ¸²æŸ“å®Œæˆåæ‰ä¼šæœ‰</strong>ï¼Œåœ¨ä½¿ç”¨çš„æ—¶å€™ç¡®ä¿domå·²ç»æ¸²æŸ“å®Œæˆã€‚æ¯”å¦‚åœ¨ç”Ÿå‘½å‘¨æœŸ <strong>mounted(){} é’©å­ä¸­è°ƒç”¨</strong>ï¼Œæˆ–è€…<strong>åœ¨ this.$nextTick(()=&gt;{}) ä¸­è°ƒç”¨</strong>ã€‚</p>
<p>ã€€ã€€4ã€å¦‚æœref æ˜¯å¾ªç¯å‡ºæ¥çš„ï¼Œ<strong>æœ‰å¤šä¸ªé‡åï¼Œé‚£ä¹ˆrefçš„å€¼ä¼šæ˜¯ä¸€ä¸ªæ•°ç»„</strong> ï¼Œæ­¤æ—¶è¦æ‹¿åˆ°å•ä¸ªçš„ref åªéœ€è¦å¾ªç¯å°±å¯ä»¥äº†ã€‚</p>
<p><img src="https://images2018.cnblogs.com/blog/1158910/201808/1158910-20180801214632214-356594092.png" alt="img"></p>
<h3 id="ä¸€ã€refä½¿ç”¨åœ¨å¤–é¢çš„ç»„ä»¶ä¸Š"><a href="#ä¸€ã€refä½¿ç”¨åœ¨å¤–é¢çš„ç»„ä»¶ä¸Š" class="headerlink" title="ä¸€ã€refä½¿ç”¨åœ¨å¤–é¢çš„ç»„ä»¶ä¸Š"></a>ä¸€ã€refä½¿ç”¨åœ¨å¤–é¢çš„ç»„ä»¶ä¸Š</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;div id&#x3D;&quot;ref-outside-component&quot; v-on:click&#x3D;&quot;consoleRef&quot;&gt;</span><br><span class="line">    &lt;component-father ref&#x3D;&quot;outsideComponentRef&quot;&gt;</span><br><span class="line">    &lt;&#x2F;component-father&gt;</span><br><span class="line">    &lt;p&gt;refåœ¨å¤–é¢çš„ç»„ä»¶ä¸Š&lt;&#x2F;p&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line"></span><br><span class="line">    var refoutsidecomponentTem&#x3D;&#123;</span><br><span class="line">        template:&quot;&lt;div class&#x3D;&#39;childComp&#39;&gt;&lt;h5&gt;æˆ‘æ˜¯å­ç»„ä»¶&lt;&#x2F;h5&gt;&lt;&#x2F;div&gt;&quot;</span><br><span class="line">    &#125;;</span><br><span class="line">    var refoutsidecomponent&#x3D;new Vue(&#123;</span><br><span class="line">        el:&quot;#ref-outside-component&quot;,</span><br><span class="line">        components:&#123;</span><br><span class="line">            &quot;component-father&quot;:refoutsidecomponentTem</span><br><span class="line">        &#125;,</span><br><span class="line">        methods:&#123;</span><br><span class="line">            consoleRef:function () &#123;</span><br><span class="line">                console.log(this); &#x2F;&#x2F; #ref-outside-component     vueå®ä¾‹</span><br><span class="line">                console.log(this.$refs.outsideComponentRef);  &#x2F;&#x2F; div.childComp vueå®ä¾‹ï¼Œç»„ä»¶å®ä¾‹</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure>



<h3 id="äºŒã€refä½œç”¨åœ¨å¤–é¢å…ƒç´ ä¸Š"><a href="#äºŒã€refä½œç”¨åœ¨å¤–é¢å…ƒç´ ä¸Š" class="headerlink" title="äºŒã€refä½œç”¨åœ¨å¤–é¢å…ƒç´ ä¸Š"></a>äºŒã€refä½œç”¨åœ¨å¤–é¢å…ƒç´ ä¸Š</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;refåœ¨å¤–é¢çš„å…ƒç´ ä¸Š</span><br><span class="line">&lt;div id&#x3D;&quot;ref-outside-dom&quot; v-on:click&#x3D;&quot;consoleRef&quot; &gt;</span><br><span class="line">   &lt;component-father&gt;</span><br><span class="line">   &lt;&#x2F;component-father&gt;</span><br><span class="line">   &lt;p ref&#x3D;&quot;outsideDomRef&quot;&gt;refåœ¨å¤–é¢çš„å…ƒç´ ä¸Š&lt;&#x2F;p&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line"></span><br><span class="line">    var refoutsidedomTem&#x3D;&#123;</span><br><span class="line">        template:&quot;&lt;div class&#x3D;&#39;childComp&#39;&gt;&lt;h5&gt;æˆ‘æ˜¯å­ç»„ä»¶&lt;&#x2F;h5&gt;&lt;&#x2F;div&gt;&quot;</span><br><span class="line">    &#125;;</span><br><span class="line">    var refoutsidedom&#x3D;new Vue(&#123;</span><br><span class="line">        el:&quot;#ref-outside-dom&quot;,</span><br><span class="line">        components:&#123;</span><br><span class="line">            &quot;component-father&quot;:refoutsidedomTem</span><br><span class="line">        &#125;,</span><br><span class="line">        methods:&#123;</span><br><span class="line">            consoleRef:function () &#123;</span><br><span class="line">                console.log(this); &#x2F;&#x2F; #ref-outside-dom    vueå®ä¾‹</span><br><span class="line">                console.log(this.$refs.outsideDomRef);  &#x2F;&#x2F;  &lt;p&gt;æ ‡ç­¾domå…ƒç´  refåœ¨å¤–é¢çš„å…ƒç´ ä¸Š&lt;&#x2F;p&gt;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure>

<p>[</p>
<h3 id="ä¸‰ã€refä½¿ç”¨åœ¨é‡Œé¢çš„å…ƒç´ ä¸Šâ€“å±€éƒ¨æ³¨å†Œç»„ä»¶"><a href="#ä¸‰ã€refä½¿ç”¨åœ¨é‡Œé¢çš„å…ƒç´ ä¸Šâ€“å±€éƒ¨æ³¨å†Œç»„ä»¶" class="headerlink" title="ä¸‰ã€refä½¿ç”¨åœ¨é‡Œé¢çš„å…ƒç´ ä¸Šâ€“å±€éƒ¨æ³¨å†Œç»„ä»¶"></a>ä¸‰ã€refä½¿ç”¨åœ¨é‡Œé¢çš„å…ƒç´ ä¸Šâ€“å±€éƒ¨æ³¨å†Œç»„ä»¶</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;refåœ¨é‡Œé¢çš„å…ƒç´ ä¸Š</span><br><span class="line">&lt;div id&#x3D;&quot;ref-inside-dom&quot;&gt;</span><br><span class="line">    &lt;component-father&gt;</span><br><span class="line">    &lt;&#x2F;component-father&gt;</span><br><span class="line">    &lt;p&gt;refåœ¨é‡Œé¢çš„å…ƒç´ ä¸Š&lt;&#x2F;p&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line"></span><br><span class="line">    var refinsidedomTem&#x3D;&#123;</span><br><span class="line">        template:&quot;&lt;div class&#x3D;&#39;childComp&#39; v-on:click&#x3D;&#39;consoleRef&#39;&gt;&quot; +</span><br><span class="line">                       &quot;&lt;h5 ref&#x3D;&#39;insideDomRef&#39;&gt;æˆ‘æ˜¯å­ç»„ä»¶&lt;&#x2F;h5&gt;&quot; +</span><br><span class="line">                  &quot;&lt;&#x2F;div&gt;&quot;,</span><br><span class="line">        methods:&#123;</span><br><span class="line">            consoleRef:function () &#123;</span><br><span class="line">                console.log(this);  &#x2F;&#x2F; div.childComp   vueå®ä¾‹ </span><br><span class="line">                console.log(this.$refs.insideDomRef);  &#x2F;&#x2F; &lt;h5 &gt;æˆ‘æ˜¯å­ç»„ä»¶&lt;&#x2F;h5&gt;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    var refinsidedom&#x3D;new Vue(&#123;</span><br><span class="line">        el:&quot;#ref-inside-dom&quot;,</span><br><span class="line">        components:&#123;</span><br><span class="line">            &quot;component-father&quot;:refinsidedomTem</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);[</span><br></pre></td></tr></table></figure>

<h3 id="å››ã€refä½¿ç”¨åœ¨é‡Œé¢çš„å…ƒç´ ä¸Šâ€“å…¨å±€æ³¨å†Œç»„ä»¶"><a href="#å››ã€refä½¿ç”¨åœ¨é‡Œé¢çš„å…ƒç´ ä¸Šâ€“å…¨å±€æ³¨å†Œç»„ä»¶" class="headerlink" title="å››ã€refä½¿ç”¨åœ¨é‡Œé¢çš„å…ƒç´ ä¸Šâ€“å…¨å±€æ³¨å†Œç»„ä»¶"></a>å››ã€refä½¿ç”¨åœ¨é‡Œé¢çš„å…ƒç´ ä¸Šâ€“å…¨å±€æ³¨å†Œç»„ä»¶</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;refåœ¨é‡Œé¢çš„å…ƒç´ ä¸Š--å…¨å±€æ³¨å†Œ</span><br><span class="line">&lt;div id&#x3D;&quot;ref-inside-dom-all&quot;&gt;</span><br><span class="line">    &lt;ref-inside-dom-quanjv&gt;&lt;&#x2F;ref-inside-dom-quanjv&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line"></span><br><span class="line">    Vue.component(&quot;ref-inside-dom-quanjv&quot;,&#123;</span><br><span class="line">        template:&quot;&lt;div class&#x3D;&#39;insideFather&#39;&gt; &quot; +</span><br><span class="line">                    &quot;&lt;input type&#x3D;&#39;text&#39; ref&#x3D;&#39;insideDomRefAll&#39; v-on:input&#x3D;&#39;showinsideDomRef&#39;&gt;&quot; +</span><br><span class="line">                    &quot;  &lt;p&gt;refåœ¨é‡Œé¢çš„å…ƒç´ ä¸Š--å…¨å±€æ³¨å†Œ &lt;&#x2F;p&gt; &quot; +</span><br><span class="line">                  &quot;&lt;&#x2F;div&gt;&quot;,</span><br><span class="line">        methods:&#123;</span><br><span class="line">            showinsideDomRef:function () &#123;</span><br><span class="line">                console.log(this); &#x2F;&#x2F;è¿™é‡Œçš„thiså…¶å®è¿˜æ˜¯div.insideFather</span><br><span class="line">                console.log(this.$refs.insideDomRefAll); &#x2F;&#x2F; &lt;input  type&#x3D;&quot;text&quot;&gt;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    var refinsidedomall&#x3D;new Vue(&#123;</span><br><span class="line">        el:&quot;#ref-inside-dom-all&quot;</span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>vue</category>
      </categories>
      <tags>
        <tag>vue</tag>
        <tag>ref</tag>
      </tags>
  </entry>
  <entry>
    <title>vue-router</title>
    <url>/2020/08/05/vue-router/</url>
    <content><![CDATA[<h3 id="Vueè·¯ç”±ï¼ˆvue-routerï¼‰è¯¦ç»†è®²è§£æŒ‡å—"><a href="#Vueè·¯ç”±ï¼ˆvue-routerï¼‰è¯¦ç»†è®²è§£æŒ‡å—" class="headerlink" title="Vueè·¯ç”±ï¼ˆvue-routerï¼‰è¯¦ç»†è®²è§£æŒ‡å—"></a><a href="https://www.cnblogs.com/dengyao-blogs/p/11562257.html" target="_blank" rel="noopener">Vueè·¯ç”±ï¼ˆvue-routerï¼‰è¯¦ç»†è®²è§£æŒ‡å—</a></h3><h4 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h4><p>ä¸­æ–‡æ–‡æ¡£ï¼š<a href="https://router.vuejs.org/zh/" target="_blank" rel="noopener">https://router.vuejs.org/zh/</a></p>
<p>Vue Router æ˜¯ <a href="http://cn.vuejs.org/" target="_blank" rel="noopener">Vue.js</a> å®˜æ–¹çš„è·¯ç”±ç®¡ç†å™¨ã€‚å®ƒå’Œ Vue.js çš„æ ¸å¿ƒæ·±åº¦é›†æˆï¼Œè®©æ„å»ºå•é¡µé¢åº”ç”¨å˜å¾—æ˜“å¦‚åæŒã€‚è·¯ç”±å®é™…ä¸Šå°±æ˜¯å¯ä»¥ç†è§£ä¸ºæŒ‡å‘ï¼Œå°±æ˜¯æˆ‘åœ¨é¡µé¢ä¸Šç‚¹å‡»ä¸€ä¸ªæŒ‰é’®éœ€è¦è·³è½¬åˆ°å¯¹åº”çš„é¡µé¢ï¼Œè¿™å°±æ˜¯è·¯ç”±è·³è½¬ï¼›</p>
<a id="more"></a>

<h4 id="å•è¯è§£æ"><a href="#å•è¯è§£æ" class="headerlink" title="å•è¯è§£æ"></a>å•è¯è§£æ</h4><p>é¦–å…ˆæˆ‘ä»¬æ¥å­¦ä¹ ä¸‰ä¸ªå•è¯ï¼ˆrouteï¼Œroutesï¼Œrouterï¼‰ï¼š</p>
<p>ã€€ã€€<strong>route</strong>ï¼šé¦–å…ˆå®ƒæ˜¯ä¸ªå•æ•°ï¼Œè¯‘ä¸ºè·¯ç”±ï¼Œå³æˆ‘ä»¬å¯ä»¥ç†è§£ä¸ºå•ä¸ªè·¯ç”±æˆ–è€…æŸä¸€ä¸ªè·¯ç”±ï¼›<strong>å¯ä»¥è·å– name ï¼Œ path ï¼Œparamsï¼Œqueryç­‰ï¼›</strong></p>
<p>ã€€ã€€<strong>router</strong>ï¼šè¯‘ä¸ºè·¯ç”±å™¨ï¼Œä¸Šé¢éƒ½æ˜¯è·¯ç”±ï¼Œè¿™ä¸ªæ˜¯è·¯ç”±å™¨ï¼Œæˆ‘ä»¬å¯ä»¥ç†è§£ä¸ºä¸€ä¸ªå®¹å™¨åŒ…å«ä¸Šè¿°ä¸¤ä¸ªæˆ–è€…è¯´å®ƒæ˜¯ä¸€ä¸ªç®¡ç†è€…ï¼Œè´Ÿè´£ç®¡ç†ä¸Šè¿°ä¸¤ä¸ªï¼›ä¸¾ä¸ªå¸¸è§çš„åœºæ™¯çš„ä¾‹å­ï¼šå½“ç”¨æˆ·åœ¨é¡µé¢ä¸Šç‚¹å‡»æŒ‰é’®çš„æ—¶å€™ï¼Œè¿™ä¸ªæ—¶å€™routerå°±ä¼šå»routesä¸­å»æŸ¥æ‰¾routeï¼Œå°±æ˜¯è¯´è·¯ç”±å™¨ä¼šå»è·¯ç”±é›†åˆä¸­æ‰¾å¯¹åº”çš„è·¯ç”±ï¼›<strong>$router.pushå¯ä»¥è·³è½¬é¡µé¢</strong>ï¼Œ<strong>$router.goåˆ™è¿”å›ä¸Šä¸€ä¸ªé¡µé¢</strong></p>
<p>ã€€ã€€<strong>routes</strong>ï¼šå®ƒæ˜¯ä¸ªå¤æ•°ï¼Œè¡¨ç¤ºå¤šä¸ªçš„é›†åˆæ‰èƒ½ä¸ºå¤æ•°ï¼›å³æˆ‘ä»¬å¯ä»¥ç†è§£ä¸ºå¤šä¸ªè·¯ç”±çš„é›†åˆï¼ŒJSä¸­è¡¨ç¤ºå¤šç§ä¸åŒçŠ¶æ€çš„é›†åˆçš„å½¢å¼åªæœ‰æ•°ç»„å’Œå¯¹è±¡ä¸¤ç§ï¼Œäº‹å®ä¸Šå®˜æ–¹å®šä¹‰routesæ˜¯ä¸€ä¸ªæ•°ç»„ï¼›æ‰€ä»¥æˆ‘ä»¬è®°ä½äº†ï¼Œroutesè¡¨ç¤ºå¤šä¸ªæ•°ç»„çš„é›†åˆï¼›<strong>route.jsä¸­routeså­˜æ”¾çš„è·¯ç”±é›†åˆ</strong></p>
<h4 id="å®‰è£…é¡¹ç›®"><a href="#å®‰è£…é¡¹ç›®" class="headerlink" title="å®‰è£…é¡¹ç›®"></a>å®‰è£…é¡¹ç›®</h4><p>ã€€ã€€é¦–å…ˆéœ€è¦å®‰è£…vue-cliæ¥æ„å»ºä¸€ä¸ªvueçš„å¼€å‘ç¯å¢ƒï¼Œå®‰è£…å®Œvue-cliä¹‹åï¼Œæˆ‘ä»¬çš„é¡¹ç›®ç›®å½•ç»“æ„å¦‚ä¸‹ï¼š</p>
<p>ã€€ã€€ã€€<img src="https://img2018.cnblogs.com/blog/1650307/201909/1650307-20190921113853486-2102414267.png" alt="img"></p>
<p> ã€€ã€€ç„¶åæˆ‘ä»¬åœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥npm install vue-router -gæ¥å®‰è£…vue-routerï¼Œå®‰è£…å®Œä¹‹åæˆ‘ä»¬å¯ä»¥æ‰“å¼€package.jsonçœ‹åˆ°vue-routerçš„ç‰ˆæœ¬å·</p>
<h5 id="ç®€å•è·³è½¬"><a href="#ç®€å•è·³è½¬" class="headerlink" title="ç®€å•è·³è½¬"></a>ç®€å•è·³è½¬</h5><p>æˆ‘ä»¬åœ¨srcç›®å½•ä¸‹æ–°å»ºä¸‰ä¸ªæ–‡ä»¶ï¼Œåˆ†åˆ«ä¸ºpage1.vueå’Œpage2.vueä»¥åŠrouter.jsï¼š</p>
<p>page1.vueï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;h1&gt;page1&lt;&#x2F;h1&gt;</span><br><span class="line">        &lt;p&gt;&#123;&#123;msg&#125;&#125;&lt;&#x2F;p&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    export default &#123;</span><br><span class="line">        data () &#123;</span><br><span class="line">            return &#123;</span><br><span class="line">                msg: &quot;æˆ‘æ˜¯page1ç»„ä»¶&quot;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>



<p> page2.vueï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;h1&gt;page2&lt;&#x2F;h1&gt;</span><br><span class="line">        &lt;p&gt;&#123;&#123;msg&#125;&#125;&lt;&#x2F;p&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    export default &#123;</span><br><span class="line">        data () &#123;</span><br><span class="line">            return &#123;</span><br><span class="line">                msg: &quot;æˆ‘æ˜¯page2ç»„ä»¶&quot;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>



<p>router.js</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;å¼•å…¥vue</span><br><span class="line">import Vue from &#39;vue&#39;;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;å¼•å…¥vue-router</span><br><span class="line">import VueRouter from &#39;vue-router&#39;;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;ç¬¬ä¸‰æ–¹åº“éœ€è¦useä¸€ä¸‹æ‰èƒ½ç”¨</span><br><span class="line">Vue.use(VueRouter)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;å¼•ç”¨page1é¡µé¢</span><br><span class="line">import page1  from &#39;.&#x2F;page1.vue&#39;;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;å¼•ç”¨page2é¡µé¢</span><br><span class="line">import page2  from &#39;.&#x2F;page2.vue&#39;;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;å®šä¹‰routesè·¯ç”±çš„é›†åˆï¼Œæ•°ç»„ç±»å‹</span><br><span class="line">const routes&#x3D;[</span><br><span class="line">    &#x2F;&#x2F;å•ä¸ªè·¯ç”±å‡ä¸ºå¯¹è±¡ç±»å‹ï¼Œpathä»£è¡¨çš„æ˜¯è·¯å¾„ï¼Œcomponentä»£è¡¨ç»„ä»¶</span><br><span class="line">    &#123;path:&#39;&#x2F;page1&#39;,component:page1&#125;,</span><br><span class="line">    &#123;path:&quot;&#x2F;page2&quot;,component:page2&#125;,</span><br><span class="line">    &#x2F;&#x2F;æ‡’åŠ è½½å†™æ³•</span><br><span class="line">    &#123;path:&quot;&#x2F;page3&quot;,component:() &#x3D;&gt; import(&#39;.&#x2F;page3.vue&#39;)&#125;</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;å®ä¾‹åŒ–VueRouterå¹¶å°†routesæ·»åŠ è¿›å»</span><br><span class="line">const router&#x3D;new VueRouter(&#123;</span><br><span class="line">&#x2F;&#x2F;ES6ç®€å†™ï¼Œç­‰äºroutesï¼šroutes</span><br><span class="line">    routes</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;æŠ›å‡ºè¿™ä¸ªè¿™ä¸ªå®ä¾‹å¯¹è±¡æ–¹ä¾¿å¤–éƒ¨è¯»å–ä»¥åŠè®¿é—®</span><br><span class="line">export default router</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œæˆ‘ä»¬å†ä¿®æ”¹ä¸€ä¸‹main.js</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import Vue from &#39;vue&#39;</span><br><span class="line">import App from &#39;.&#x2F;App&#39;</span><br><span class="line">&#x2F;&#x2F;å¼•ç”¨router.js</span><br><span class="line">import router from &#39;.&#x2F;router.js&#39;</span><br><span class="line">Vue.config.productionTip &#x3D; false</span><br><span class="line"></span><br><span class="line">&#x2F;* eslint-disable no-new *&#x2F;</span><br><span class="line">new Vue(&#123;</span><br><span class="line">  el: &#39;#app&#39;,</span><br><span class="line">&#x2F;&#x2F;ä¸€å®šè¦æ³¨å…¥åˆ°vueçš„å®ä¾‹å¯¹è±¡ä¸Š</span><br><span class="line">  router,</span><br><span class="line">  components: &#123; App &#125;,</span><br><span class="line">  template: &#39;&lt;App&#x2F;&gt;&#39;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>



<p>ä¿®æ”¹App.vue</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">    &lt;img src&#x3D;&quot;.&#x2F;assets&#x2F;logo.png&quot;&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">	&#x2F;&#x2F;router-linkå®šä¹‰é¡µé¢ä¸­ç‚¹å‡»è§¦å‘éƒ¨åˆ†ã€€ã€€</span><br><span class="line">      &lt;router-link to&#x3D;&quot;&#x2F;page1&quot;&gt;Page1&lt;&#x2F;router-link&gt;</span><br><span class="line">      &lt;router-link to&#x3D;&quot;&#x2F;page2&quot;&gt;Page2&lt;&#x2F;router-link&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">	&#x2F;&#x2F;router-viewå®šä¹‰é¡µé¢ä¸­æ˜¾ç¤ºéƒ¨åˆ†</span><br><span class="line">    &lt;router-view&gt;&lt;&#x2F;router-view&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;App&#39;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>



<h5 id="é‡å®šå‘"><a href="#é‡å®šå‘" class="headerlink" title="é‡å®šå‘"></a>é‡å®šå‘</h5><p>å°±è¿™æ ·ï¼Œæˆ‘ä»¬çš„é¡µé¢å°±å¯ä»¥è¿›è¡Œè·¯ç”±è·³è½¬å’Œåˆ‡æ¢äº†ï¼Œè·¯ç”±çš„åŸºæœ¬ä½¿ç”¨å°±å®Œæˆäº†ï¼›ä½†æ˜¯æœ‰ä¸ªé—®é¢˜å°±æ˜¯æˆ‘ä»¬ç¬¬ä¸€æ¬¡è¿›å»æ˜¯çœ‹ä¸åˆ°è·¯ç”±é¡µé¢çš„ï¼Œè¿™æ˜¯å› ä¸ºæˆ‘ä»¬æ²¡æœ‰è®¾ç½®é»˜è®¤å€¼ï¼Œæˆ‘ä»¬é¦–æ¬¡è¿›å…¥çš„æ—¶å€™è·¯å¾„æ˜¯ä¸ºç©ºçš„ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥è¿™ä¹ˆè§£å†³ï¼š</p>
<p>router.js</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import Vue from &#39;vue&#39;;</span><br><span class="line">import VueRouter from &#39;vue-router&#39;;</span><br><span class="line">Vue.use(VueRouter)</span><br><span class="line">import page1  from &#39;.&#x2F;page1.vue&#39;;</span><br><span class="line">import page2  from &#39;.&#x2F;page2.vue&#39;;</span><br><span class="line">import user   from &#39;.&#x2F;user.vue&#39;</span><br><span class="line"></span><br><span class="line">const routes&#x3D;[</span><br><span class="line">    &#123;path:&#39;&#x2F;page1&#39;,component:page1&#125;,</span><br><span class="line">    &#123;path:&quot;&#x2F;page2&quot;,component:page2&#125;,</span><br><span class="line">    &#x2F;&#x2F;å¯ä»¥é…ç½®é‡å®šå‘</span><br><span class="line">    &#123;path:&#39;&#39;,redirect:&quot;page1&quot;&#125;</span><br><span class="line">    &#x2F;&#x2F;æˆ–è€…é‡æ–°å†™ä¸ªè·¯å¾„ä¸ºç©ºçš„è·¯ç”±</span><br><span class="line">    &#123;path:&quot;&quot;,component:page1&#125;</span><br><span class="line">]</span><br><span class="line">const router&#x3D;new VueRouter(&#123;</span><br><span class="line">    routes</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">export default router</span><br></pre></td></tr></table></figure>



<p>ä¸Šé¢çš„ä¸¤ç§è§£å†³æ–¹æ¡ˆéƒ½æ˜¯å¯ä»¥è§£å†³çš„ï¼Œé…ç½®é‡å®šå‘çš„æ„æ€å°±æ˜¯å½“åŒ¹é…åˆ°è·¯å¾„ä¸ºç©ºçš„æ—¶å€™ï¼Œå°±ä¼šé‡å®šå‘åˆ°page1ï¼Œæ‰§è¡Œpage1çš„è·¯ç”±ï¼›æˆ–è€…æˆ‘ä»¬ä¹Ÿå¯ä»¥é‡æ–°é…ç½®ä¸ªè·¯ç”±ï¼Œè·¯å¾„ä¸ºç©ºçš„æ—¶å€™router-viewå±•ç¤ºpage1çš„é¡µé¢ï¼›</p>
<p>ç”¨é‡å®šå‘å’Œå•ç‹¬é…ç½®è·¯ç”±çš„åŒºåˆ«ï¼š</p>
<p>ã€€ã€€é‡å®šå‘å®é™…ä¸Šæ˜¯å½“åŒ¹é…åˆ°è·¯å¾„ç¬¦åˆæ¡ä»¶çš„æ—¶å€™å»æ‰§è¡Œå¯¹åº”çš„è·¯ç”±ï¼Œå½“ç„¶è¿™ä¸ªæ—¶å€™çš„urlä¸Šé¢çš„åœ°å€æ˜¾ç¤ºçš„æ˜¯å¯¹åº”çš„è·¯ç”±ï¼Œé¡µé¢ä¹Ÿæ˜¯å¯¹åº”çš„è·¯ç”±é¡µé¢ï¼›</p>
<p>ã€€ã€€é‡æ–°é…ç½®è·¯ç”±æ˜¯å½“åŒ¹é…åˆ°è·¯å¾„ç¬¦åˆæ¡ä»¶çš„æ—¶å€™ï¼Œrouter-viewé¡µé¢å±•ç¤ºéƒ¨åˆ†è´Ÿè´£æ‹¿ç¬¦åˆæ¡ä»¶è·¯ç”±çš„é¡µé¢æ¥å±•ç¤ºï¼Œå®é™…ä¸Šurlæ˜¯æ²¡æœ‰å‘ç”Ÿå˜åŒ–çš„ï¼›</p>
<h5 id="åŠ¨æ€è·¯ç”±åŒ¹é…ï¼š"><a href="#åŠ¨æ€è·¯ç”±åŒ¹é…ï¼š" class="headerlink" title="åŠ¨æ€è·¯ç”±åŒ¹é…ï¼š"></a>åŠ¨æ€è·¯ç”±åŒ¹é…ï¼š</h5><p>ã€€ã€€å…¶å®æˆ‘ä»¬çš„ç”Ÿæ´»ä¸­æœ‰å¾ˆå¤šè¿™æ ·çš„ä¾‹å­ï¼Œä¸çŸ¥é“å¤§å®¶ç•™æ„æ²¡æœ‰ï¼Ÿæ¯”å¦‚ä¸€ä¸ªç½‘ç«™æˆ–è€…åå°ç®¡ç†ç³»ç»Ÿä¸­ï¼Œåœ¨æˆ‘ä»¬ç™»å½•ä¹‹åï¼Œæ˜¯ä¸æ˜¯é€šå¸¸ä¼šæœ‰ä¸€ä¸ªæ¬¢è¿å›æ¥ï¼ŒXXXä¹‹ç±»çš„æç¤ºè¯­ï¼Œè¿™ä¸ªæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡åŠ¨æ€è·¯ç”±æ¥å®ç°è¿™ä¸ªæ•ˆæœï¼›</p>
<p>é¦–å…ˆåœ¨srcç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªuser.vueæ–‡ä»¶ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;h1&gt;user&lt;&#x2F;h1&gt;</span><br><span class="line">       &#x2F;&#x2F;è¿™é‡Œå¯ä»¥é€šè¿‡$route.params.nameæ¥è·å–è·¯ç”±çš„å‚æ•°</span><br><span class="line">        &lt;p&gt;æ¬¢è¿å›æ¥,$route.params.name&lt;&#x2F;p&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    export default &#123;</span><br><span class="line">        data () &#123;</span><br><span class="line">            return &#123;</span><br><span class="line">                msg: &quot;æˆ‘æ˜¯page1ç»„ä»¶&quot;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>



<p>ç„¶åæˆ‘ä»¬ä¿®æ”¹App.vueæ–‡ä»¶çš„ä»£ç ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">    &lt;img src&#x3D;&quot;.&#x2F;assets&#x2F;logo.png&quot;&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;router-link to&#x3D;&quot;&#x2F;page1&quot;&gt;Page1&lt;&#x2F;router-link&gt;</span><br><span class="line">      &lt;router-link to&#x3D;&quot;&#x2F;page2&quot;&gt;Page2&lt;&#x2F;router-link&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;æ·»åŠ ä¸¤ä¸ªrouter-linkæ ‡ç­¾</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;router-link to&#x3D;&quot;&#x2F;user&#x2F;xianyu&quot;&gt;åŠ¨æ€è·¯ç”±å’¸é±¼&lt;&#x2F;router-link&gt;</span><br><span class="line">      &lt;router-link to&#x3D;&quot;&#x2F;user&#x2F;mengxiang&quot;&gt;åŠ¨æ€è·¯ç”±æ¢¦æƒ³&lt;&#x2F;router-link&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;router-view&gt;&lt;&#x2F;router-view&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;App&#39;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<p>ä¿®æ”¹æˆ‘ä»¬çš„router.js</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import Vue from &#39;vue&#39;;</span><br><span class="line">import VueRouter from &#39;vue-router&#39;;</span><br><span class="line">Vue.use(VueRouter)</span><br><span class="line">import page1  from &#39;.&#x2F;page1.vue&#39;;</span><br><span class="line">import page2  from &#39;.&#x2F;page2.vue&#39;;</span><br><span class="line">import user   from &#39;.&#x2F;user.vue&#39;</span><br><span class="line"></span><br><span class="line">const routes&#x3D;[</span><br><span class="line">    &#123;path:&#39;&#x2F;page1&#39;,component:page1&#125;,</span><br><span class="line">    &#123;path:&quot;&#x2F;page2&quot;,component:page2&#125;,</span><br><span class="line">    &#x2F;&#x2F; &#123;path:&#39;&#39;,redirect:&quot;page1&quot;&#125;</span><br><span class="line">    &#123;path:&quot;&quot;,component:page1&#125;,</span><br><span class="line"> 	&#x2F;&#x2F;ä½¿ç”¨å†’å·æ ‡è®°ï¼Œå½“åŒ¹é…åˆ°çš„æ—¶å€™ï¼Œå‚æ•°å€¼ä¼šè¢«è®¾ç½®åˆ°this.$route.paramsä¸­</span><br><span class="line">    &#123;path:&quot;&#x2F;user&#x2F;:name&quot;,component:user&#125;</span><br><span class="line">    </span><br><span class="line">]</span><br><span class="line"></span><br><span class="line">const router&#x3D;new VueRouter(&#123;</span><br><span class="line">    routes</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">export default router</span><br></pre></td></tr></table></figure>

<p>é…ç½®å¥½äº†ï¼Œä¸å‡ºæ„å¤–æ˜¯èƒ½æ­£å¸¸è¿è¡Œçš„ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹æ•ˆæœï¼š</p>
<p><img src="https://img2018.cnblogs.com/blog/1650307/201909/1650307-20190921135641595-1931722345.png" alt="img"></p>
<p> åŠ¨æ€è·¯ç”±åŒ¹é…ç»™æˆ‘ä»¬æä¾›äº†æ–¹ä¾¿ï¼Œä½¿å¾—æˆ‘ä»¬é€šè¿‡é…ç½®ä¸€ä¸ªè·¯ç”±æ¥å®ç°é¡µé¢å±€éƒ¨ä¿®æ”¹çš„æ•ˆæœï¼Œç»™ç”¨æˆ·é€ æˆä¸€ç§å¤šä¸ªé¡µé¢çš„æ„Ÿè§‰ï¼Œæ˜¯ä¸æ˜¯å¾ˆé…·ï¼ï¼ï¼</p>
<p>é…·çš„åŒæ—¶ä¹Ÿä¼šç»™æˆ‘ä»¬å¸¦æ¥ä¸€äº›é—®é¢˜ï¼Œå› ä¸ºä½¿ç”¨è·¯ç”±å‚æ•°æ—¶ï¼Œä»/user/xianyuå¯¼èˆªåˆ°/user/mengxiangï¼ŒåŸæ¥çš„ç»„ä»¶å®ä¾‹ä¼šè¢«å¤ç”¨ï¼Œä¸¤ä¸ªè·¯ç”±éƒ½æ¸²æŸ“åŒä¸ªç»„ä»¶ï¼Œæ¯”èµ·é”€æ¯å†åˆ›å»ºï¼Œæ˜¾ç¤ºå¤ç”¨æ˜¾å¾—æ•ˆç‡æ›´é«˜ï¼Œå¸¦æ¥çš„çš„åªç®¡é—®é¢˜å°±æ˜¯ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°ä¸ä¼šå†è¢«è°ƒç”¨ï¼Œä¹Ÿå°±æ˜¯ä¸ä¼šå†è¢«è§¦å‘ï¼›ä½†æ˜¯åŠæ³•æ€»æ¯”é—®é¢˜å¤šï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ç›‘å¬$routeå¯¹è±¡æ¥å®ç°;</p>
<p>ä¿®æ”¹user.vueçš„ä»£ç </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;h1&gt;user&lt;&#x2F;h1&gt;</span><br><span class="line">        &lt;p&gt;æ¬¢è¿å›æ¥,&#123;&#123;msg&#125;&#125;&lt;&#x2F;p&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    export default &#123;</span><br><span class="line">        data () &#123;</span><br><span class="line">            return &#123;</span><br><span class="line">                &#x2F;&#x2F; msg: &quot;æˆ‘æ˜¯page1ç»„ä»¶&quot;</span><br><span class="line">                msg:&quot;&quot;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        watch:&#123;</span><br><span class="line">		&#x2F;&#x2F;toè¡¨ç¤ºå³å°†è¦è¿›å…¥çš„é‚£ä¸ªç»„ä»¶ï¼Œfromè¡¨ç¤ºä»å“ªä¸ªç»„ä»¶è¿‡æ¥çš„</span><br><span class="line">            $route(to,from)&#123;</span><br><span class="line">                this.msg&#x3D;to.params.name; </span><br><span class="line">                console.log(111);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<p>æ•ˆæœå›¾å¦‚ä¸‹ï¼š</p>
<p><img src="https://img2018.cnblogs.com/blog/1650307/201909/1650307-20190921141325741-575913091.png" alt="img"></p>
<p> æˆ‘ä»¬å¯ä»¥å¾ˆæ˜æ˜¾çš„çœ‹åˆ°æˆ‘ä»¬ç›‘å¬çš„$routeå¯¹è±¡è¢«è§¦å‘äº†ï¼Œæ§åˆ¶å°ä¹Ÿè¾“å‡ºäº†ï¼›</p>
<p>ä¸‹é¢æˆ‘ä»¬æ¥ä¸€èµ·çœ‹ä¸€ä¸‹åµŒå¥—è·¯ç”±ï¼š</p>
<p>#####ã€€åµŒå¥—è·¯ç”±ï¼š</p>
<p>å¾ˆå¤šæ—¶å€™æˆ‘ä»¬çš„é¡µé¢ç»“æ„å†³å®šäº†æˆ‘ä»¬å¯èƒ½éœ€è¦åµŒå¥—è·¯ç”±ï¼Œæ¯”å¦‚å½“æˆ‘ä»¬è¿›å…¥ä¸»é¡µä¹‹åæœ‰åˆ†ç±»ï¼Œç„¶åå½“é€‰æ‹©å…¶ä¸­ä¸€ä¸ªåˆ†ç±»ä¹‹åè¿›å…¥å¯¹åº”çš„è¯¦æƒ…ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±å¯ä»¥ç”¨åˆ°åµŒå¥—è·¯ç”±ï¼›å®˜æ–¹æ–‡æ¡£ä¸­ç»™æˆ‘ä»¬æä¾›äº†ä¸€ä¸ªchildrenå±æ€§ï¼Œè¿™ä¸ªå±æ€§æ˜¯ä¸€ä¸ªæ•°ç»„ç±»å‹ï¼Œé‡Œé¢å®é™…æ”¾ç€ä¸€ç»„è·¯ç”±ï¼›è¿™ä¸ªæ—¶å€™çˆ¶å­å…³ç³»ç»“æ„å°±å‡ºæ¥äº†ï¼Œæ‰€ä»¥childrenå±æ€§é‡Œé¢çš„æ˜¯è·¯ç”±ç›¸å¯¹æ¥è¯´æ˜¯childrenå±æ€§å¤–éƒ¨è·¯ç”±çš„å­è·¯ç”±ï¼›</p>
<p>å¥½è®°æ€§ä¸å¦‚çƒ‚ä»£ç ï¼Œè®©æˆ‘ä»¬é€šè¿‡ä»£ç æ¥çœ‹ä¸€çœ‹ï¼š</p>
<p>ã€€ã€€é¦–å…ˆåœ¨æˆ‘ä»¬çš„srcç›®å½•ä¸‹æ–°å»ºä¸¤ä¸ªvueæ–‡ä»¶ï¼Œåˆ†åˆ«æ˜¯phone.vueå’Œcomputer.vue</p>
<p>ã€€ã€€phone.vue</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;p&gt;&#123;&#123;msg&#125;&#125;&lt;&#x2F;p&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    export default &#123;</span><br><span class="line">        data () &#123;</span><br><span class="line">            return &#123;</span><br><span class="line">                msg: &quot;åµŒå¥—æ‰‹æœºç»„ä»¶&quot;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<p>ã€€ã€€computer.vue</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;p&gt;&#123;&#123;msg&#125;&#125;&lt;&#x2F;p&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    export default &#123;</span><br><span class="line">        data () &#123;</span><br><span class="line">            return &#123;</span><br><span class="line">                msg: &quot;åµŒå¥—ç”µè„‘ç»„ä»¶&quot;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<p>ç„¶åæˆ‘ä»¬å†ä¿®æ”¹æˆ‘ä»¬çš„App.vueæ–‡ä»¶ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">    &lt;img src&#x3D;&quot;.&#x2F;assets&#x2F;logo.png&quot;&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;router-link to&#x3D;&quot;&#x2F;page1&quot;&gt;Page1&lt;&#x2F;router-link&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;router-view&gt;&lt;&#x2F;router-view&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;App&#39;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">#app &#123;</span><br><span class="line">  font-family: &#39;Avenir&#39;, Helvetica, Arial, sans-serif;</span><br><span class="line">  -webkit-font-smoothing: antialiased;</span><br><span class="line">  -moz-osx-font-smoothing: grayscale;</span><br><span class="line">  text-align: center;</span><br><span class="line">  color: #2c3e50;</span><br><span class="line">  margin-top: 60px;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<p>é€šè¿‡ä¸Šé¢çš„App.vueæ–‡ä»¶æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬æ­¤æ—¶é¡µé¢åªæœ‰ä¸€ä¸ªpage1çš„æ ‡ç­¾äº†ï¼›</p>
<p>æˆ‘ä»¬å†æ¥ä¿®æ”¹router.js</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import Vue from &#39;vue&#39;;</span><br><span class="line">import VueRouter from &#39;vue-router&#39;;</span><br><span class="line">Vue.use(VueRouter)</span><br><span class="line">import page1  from &#39;.&#x2F;page1.vue&#39;;</span><br><span class="line">import page2  from &#39;.&#x2F;page2.vue&#39;;</span><br><span class="line">import user   from &#39;.&#x2F;user.vue&#39;;</span><br><span class="line">import phone  from &#39;.&#x2F;phone.vue&#39;;</span><br><span class="line">import computer from &#39;.&#x2F;computer.vue&#39;</span><br><span class="line"></span><br><span class="line">const routes&#x3D;[</span><br><span class="line">    &#123;</span><br><span class="line">        path:&#39;&#x2F;page1&#39;,</span><br><span class="line">        component:page1,</span><br><span class="line">        children: [</span><br><span class="line">            &#123;</span><br><span class="line">                path: &quot;phone&quot;,</span><br><span class="line">                component: phone</span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                path: &quot;computer&quot;,</span><br><span class="line">                component: computer</span><br><span class="line">            &#125;,</span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line">    </span><br><span class="line">]</span><br><span class="line"></span><br><span class="line">const router&#x3D;new VueRouter(&#123;</span><br><span class="line">    routes</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">export default router</span><br></pre></td></tr></table></figure>

<p>ä¸ºäº†å¤§å®¶çœ‹çš„ç›´è§‚ç‚¹ï¼Œå…¶ä»–è·¯ç”±å…¨éƒ¨æ³¨é‡Šäº†ï¼Œé¡µé¢åªå‰©ä¸‹/page1è¿™ä¸€ä¸ªè·¯ç”±äº†ï¼›</p>
<p><img src="https://img2018.cnblogs.com/blog/1650307/201909/1650307-20190921144040749-976651739.png" alt="img"></p>
<p>ä¸Šé¢è¯´åˆ°äº†ï¼Œchildrenå±æ€§å…¶å®å°±æ˜¯ä¸€ä¸ªå­è·¯ç”±é›†åˆï¼Œæ•°ç»„ç»“æ„é‡Œé¢æ”¾ç€å­è·¯ç”±ï¼›</p>
<p>æ•ˆæœå›¾å¦‚ä¸‹ï¼š</p>
<p><img src="https://img2018.cnblogs.com/blog/1650307/201909/1650307-20190921144102502-80898094.png" alt="img"></p>
<h5 id="è·¯ç”±å¯¼èˆªä¸¤ç§æ–¹å¼ï¼š"><a href="#è·¯ç”±å¯¼èˆªä¸¤ç§æ–¹å¼ï¼š" class="headerlink" title="è·¯ç”±å¯¼èˆªä¸¤ç§æ–¹å¼ï¼š"></a>è·¯ç”±å¯¼èˆªä¸¤ç§æ–¹å¼ï¼š</h5><p>ã€€ã€€<strong>æ ‡ç­¾å¯¼èˆªï¼š</strong>æ ‡ç­¾å¯¼èˆª<router-link><router-link>æ˜¯é€šè¿‡è½¬ä¹‰ä¸º<a></a>æ ‡ç­¾è¿›è¡Œè·³è½¬ï¼Œå…¶ä¸­router-linkæ ‡ç­¾ä¸­çš„toå±æ€§ä¼šè¢«è½¬ä¹‰ä¸ºaæ ‡ç­¾ä¸­çš„hrefå±æ€§ï¼›</router-link></router-link></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;è·³è½¬åˆ°åä¸ºuserè·¯ç”±ï¼Œå¹¶ä¼ é€’å‚æ•°userId</span><br><span class="line">&lt;router-link :to&#x3D;&quot;&#123; name: &#39;user&#39;, params: &#123; userId: 123 &#125;&#125;&quot;&gt;User&lt;&#x2F;router-link&gt;</span><br></pre></td></tr></table></figure>

<p>ã€€ã€€</p>
<p>â€‹    <strong>ç¼–ç¨‹å¼å¯¼èˆªï¼š</strong>æˆ‘ä»¬å¯ä»¥é€šè¿‡this.$router.push()è¿™ä¸ªæ–¹æ³•æ¥å®ç°ç¼–ç¨‹å¼å¯¼èˆªï¼Œå½“ç„¶ä¹Ÿå¯ä»¥å®ç°å‚æ•°ä¼ é€’ï¼Œè¿™ç§ç¼–ç¨‹å¼å¯¼èˆªä¸€èˆ¬æ˜¯ç”¨äºæŒ‰é’®ç‚¹å‡»ä¹‹åè·³è½¬</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">router.push(&#123; name: &#39;user&#39;, params: &#123; userId: 123 &#125;&#125;)</span><br></pre></td></tr></table></figure>

<p>è¿™ä¸¤è€…éƒ½ä¼šæŠŠè·¯ç”±å¯¼èˆªåˆ°user/123è·¯å¾„</p>
<h5 id="è·¯ç”±ä¼ å‚-params-ä¸-query"><a href="#è·¯ç”±ä¼ å‚-params-ä¸-query" class="headerlink" title="è·¯ç”±ä¼ å‚ params ä¸ query"></a>è·¯ç”±ä¼ å‚ params ä¸ query</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">queryè¦ç”¨pathæ¥å¼•å…¥ï¼Œparamsè¦ç”¨nameæ¥å¼•å…¥</span><br><span class="line">tourlname()&#123;</span><br><span class="line">   this.$router.push(&#123; name: &#39;user&#39;, params: &#123; userId: 123 &#125;&#125;)</span><br><span class="line">&#125;,</span><br><span class="line">tourlpath()&#123;</span><br><span class="line">   this.$router.push(&#123; path: &#39;&#x2F;user&#39;, query: &#123; userId: 123 &#125;&#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">è·å–å‚æ•°çš„ä¸åŒ</span><br><span class="line">$route.params.userId</span><br><span class="line">$route.query.userId</span><br><span class="line"></span><br><span class="line">paramsç±»ä¼¼äºpostï¼Œä¸æ˜¾ç¤ºå‚æ•°å</span><br><span class="line">queryç±»ä¼¼äºæˆ‘ä»¬ajaxä¸­getä¼ å‚ï¼Œåœ¨æµè§ˆå™¨åœ°å€æ ä¸­æ˜¾ç¤ºå‚æ•°åï¼Œ</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨paramsä¼ é€’å‚æ•°ï¼Œurlä¸Šåªä¼šå‡ºç°æ•°æ®ï¼Œä¸ä¼šå‡ºç°å…·ä½“å­—æ®µ<br><img src="https://img-blog.csdnimg.cn/20200718154856867.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>è€Œä½¿ç”¨æŸ¥è¯¢å‚æ•°queryçš„æ–¹å¼ï¼Œurlä¸Šä¼šå‡ºç°å…·ä½“çš„å­—æ®µï¼Œæ¯”è¾ƒä¸å®‰å…¨<br><img src="https://img-blog.csdnimg.cn/2020071815491147.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<p>å¤šä¸ªå‚æ•°<br>ç›´æ¥åœ¨è·¯ç”±è·¯å¾„ä¸Šæ‹¼æ¥å¤šä¸ªå‚æ•°<br><img src="https://img-blog.csdnimg.cn/20200718154421681.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>å¯¹åº”ç»„ä»¶ä½¿ç”¨è·¯ç”±çš„æ–¹æ³•å¦‚ä¸‹ï¼š<br><img src="https://img-blog.csdnimg.cn/20200718154444639.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<p><strong>æ³¨æ„ï¼Œparamsä¼ å‚æ—¶ï¼Œå¦‚æœæ²¡æœ‰åœ¨è·¯ç”±ä¸­å®šä¹‰å‚æ•°ï¼Œä¹Ÿæ˜¯å¯ä»¥ä¼ è¿‡å»çš„ï¼ŒåŒæ—¶ä¹Ÿèƒ½æ¥æ”¶åˆ°ï¼Œä½†æ˜¯ä¸€æ—¦åˆ·æ–°é¡µé¢ï¼Œè¿™ä¸ªå‚æ•°å°±ä¸å­˜åœ¨äº†ã€‚è¿™å¯¹äºéœ€è¦ä¾èµ–å‚æ•°è¿›è¡ŒæŸäº›æ“ä½œçš„è¡Œä¸ºæ˜¯è¡Œä¸é€šçš„</strong></p>
<h5 id="propsä¼ å‚"><a href="#propsä¼ å‚" class="headerlink" title="propsä¼ å‚"></a>propsä¼ å‚</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Aè·³åˆ°Bé¡µé¢</span><br><span class="line"></span><br><span class="line">å¸ƒå°”æ¨¡å¼</span><br><span class="line">Aé¡µé¢</span><br><span class="line">&lt;router-link to&#x3D;&quot;&#x2F;user&#x2F;you&#x2F;18&quot;&gt;user&lt;&#x2F;router-link&gt;</span><br><span class="line"></span><br><span class="line">Bé¡µé¢</span><br><span class="line">props:[&quot;id&quot;,&quot;age&quot;],</span><br><span class="line"></span><br><span class="line">router.js</span><br><span class="line">&#123;</span><br><span class="line">    path: &quot;&#x2F;B&#x2F;:id&#x2F;:age&quot;,</span><br><span class="line">    component: user,</span><br><span class="line">    props: true</span><br><span class="line">&#125;,</span><br><span class="line"></span><br><span class="line">å‡½æ•°æ¨¡å¼</span><br><span class="line">Aé¡µé¢</span><br><span class="line">&lt;p @click&#x3D;&quot;url&quot;&gt;&#123;&#123;msg&#125;&#125;&lt;&#x2F;p&gt;</span><br><span class="line">methods: &#123;</span><br><span class="line">  url() &#123;</span><br><span class="line">    this.$router.push(&#123;</span><br><span class="line">      path: &quot;&#x2F;user&#x2F;test&quot;,</span><br><span class="line">      query: &#123;</span><br><span class="line">      	articleTitle: &quot;æ–‡ç« 1&quot;,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;,</span><br><span class="line">  </span><br><span class="line">Bé¡µé¢</span><br><span class="line">props:[&quot;id&quot;,&quot;age&quot;],</span><br><span class="line"></span><br><span class="line">router.js</span><br><span class="line">&#123;</span><br><span class="line">    path: &quot;&#x2F;B&#x2F;:id&quot;,</span><br><span class="line">    component: user,</span><br><span class="line">    props: (route) &#x3D;&gt; (&#123;</span><br><span class="line">      id: route.params.id,</span><br><span class="line">      age: route.query.age</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;,</span><br><span class="line"></span><br><span class="line">å¯¹è±¡æ¨¡å¼</span><br><span class="line">router.js</span><br><span class="line">&#123;</span><br><span class="line">    path: &quot;&#x2F;user&#x2F;:id&quot;,</span><br><span class="line">    component: user,</span><br><span class="line">    props: &#123;  &#x2F;&#x2F; å†™æ­»</span><br><span class="line">      food: &#39;banana&#39;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>



<p>æ€»ç»“ï¼š</p>
<p>paramsæ‹¼æ¥å‚æ•°å€¼ï¼Œé¡µé¢åˆ·æ–°ä¼šä¸¢å¤±<br>queryæ‹¼æ¥å‚æ•°åå’Œå‚æ•°å€¼,è€Œä¸”æš´éœ²äº†ä¿¡æ¯ï¼ˆæœ€å¸¸ç”¨ï¼‰<br>propså‚æ•°å€¼ï¼Œé¡µé¢åˆ·æ–°ä¹Ÿä¸ä¼šä¸¢å¤±ï¼ˆæœ€ä¿é™©ï¼‰</p>
<h5 id="å‘½åè·¯ç”±ï¼š"><a href="#å‘½åè·¯ç”±ï¼š" class="headerlink" title="å‘½åè·¯ç”±ï¼š"></a>å‘½åè·¯ç”±ï¼š</h5><p>æœ‰çš„æ—¶å€™ï¼Œé€šè¿‡ä¸€ä¸ªåç§°æ¥æ ‡è¯†ä¸€ä¸ªè·¯ç”±æ˜¾å¾—æ›´æ–¹ä¾¿ä¸€äº›ï¼Œæ‰€ä»¥å®˜æ–¹ä¸ºäº†æ–¹ä¾¿æˆ‘ä»¬å·æ‡’ï¼Œåˆç»™æˆ‘ä»¬åœ¨è·¯ç”±ä¸­æ·»åŠ äº†ä¸€ä¸ªnameå±æ€§ï¼Œå‘½åè¿™ä¸ªå±æ€§ä¹‹åæˆ‘ä»¬è®¿é—®è¿™ä¸ªå±æ€§å°±ç­‰äºç›´æ¥è®¿é—®åˆ°è·¯ç”±ï¼›</p>
<p>ã€€ã€€æ™®é€šè·¯ç”±ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">router.push(&#123; path: &#39;&#x2F;user&#x2F;:userId&#39;, params: &#123; userId: 123 &#125;&#125;)</span><br></pre></td></tr></table></figure>



<p>ã€€ã€€å‘½åè·¯ç”±ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">router.push(&#123; name: &#39;user&#39;, params: &#123; userId: 123 &#125;&#125;)</span><br></pre></td></tr></table></figure>

<p>å…¶å®ä¸¤è€…å¹¶æ²¡æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Œåªæ˜¯æä¾›äº†ä¸¤ç§æ–¹å¼æ¥è®¿é—®è·¯ç”±ï¼Œå¯ä»¥é€šè¿‡è·¯å¾„æ¥åŒ¹é…ä¹Ÿå¯ä»¥é€šè¿‡åˆ«åæ¥åŒ¹é…ï¼›</p>
<h5 id="è·¯ç”±å­—æ®µ"><a href="#è·¯ç”±å­—æ®µ" class="headerlink" title="è·¯ç”±å­—æ®µ"></a>è·¯ç”±å­—æ®µ</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const routes &#x3D; [</span><br><span class="line">  &#123;</span><br><span class="line">    path: &quot;&#x2F;user&#x2F;:name&quot;, &#x2F;&#x2F;åŠ¨æ€è·¯ç”±</span><br><span class="line">    name: &quot;user&quot;, &#x2F;&#x2F; å‘½åè®¾ç½® name å€¼</span><br><span class="line">    alias: &#39;&#x2F;home_page&#39;, &#x2F;&#x2F; åˆ«å</span><br><span class="line">    meta: &#123;  &#x2F;&#x2F; è·¯ç”±å…ƒä¿¡æ¯ &lt;h1&gt; $route.meta.title&lt;&#x2F;h1&gt;ï¼Œå¯å˜ this.$route.meta.title &#x3D; &quot;é¦–é¡µ&quot;;</span><br><span class="line">      title: &#39;ä¸»é¡µ&#39;</span><br><span class="line">    &#125;,</span><br><span class="line">    component: user, </span><br><span class="line">    components: &#123;  &#x2F;&#x2F; åŠ s å‘½åå¤šä¸ªè§†å›¾</span><br><span class="line">      default: () &#x3D;&gt; import(&#39;views&#x2F;child.vue&#39;),</span><br><span class="line">      email: () &#x3D;&gt; import(&#39;views&#x2F;email.vue&#39;),</span><br><span class="line">      tel: () &#x3D;&gt; import(&#39;views&#x2F;tel.vue&#39;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>



<h5 id="è·¯ç”±æ¨¡å¼"><a href="#è·¯ç”±æ¨¡å¼" class="headerlink" title="è·¯ç”±æ¨¡å¼"></a>è·¯ç”±æ¨¡å¼</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export default new Router(&#123;</span><br><span class="line">  mode: &#39;hash&#39;,  &#x2F;&#x2F; é»˜è®¤ #&#x2F;</span><br><span class="line">  routes</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">export default new Router(&#123;</span><br><span class="line">  mode: &#39;history&#39;,  </span><br><span class="line">  routes</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>



<h5 id="æ¨¡å—å°è£…"><a href="#æ¨¡å—å°è£…" class="headerlink" title="æ¨¡å—å°è£…"></a>æ¨¡å—å°è£…</h5><p>é¦–å…ˆæˆ‘ä»¬åœ¨routeræ–‡ä»¶å¤¹ä¸­åˆ›å»ºä¸€ä¸ªindex.jsä½œä¸ºè·¯ç”±çš„å…¥å£æ–‡ä»¶ï¼Œç„¶åæ–°å»ºä¸€ä¸ªmodulesæ–‡ä»¶å¤¹ï¼Œé‡Œé¢å­˜æ”¾å„ä¸ªæ¨¡å—çš„è·¯ç”±æ–‡ä»¶ã€‚ä¾‹å¦‚è¿™é‡Œå‚¨å­˜äº†ä¸€ä¸ªvote.jsæŠ•ç¥¨æ¨¡å—çš„è·¯ç”±æ–‡ä»¶å’Œä¸€ä¸ªå…¬å…±æ¨¡å—çš„è·¯ç”±æ–‡ä»¶ã€‚ä¸‹é¢ç›´æ¥ä¸Šindex.jså§ï¼Œè€Œååœ¨ç®€å•ä»‹ç»ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import Vue from &#39;vue&#39;</span><br><span class="line">import Router from &#39;vue-router&#39;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; å…¬å…±é¡µé¢çš„è·¯ç”±æ–‡ä»¶</span><br><span class="line">import PUBLIC from &#39;.&#x2F;modules&#x2F;public&#39; </span><br><span class="line">&#x2F;&#x2F; æŠ•ç¥¨æ¨¡å—çš„è·¯ç”±æ–‡ä»¶</span><br><span class="line">import VOTE from &#39;.&#x2F;modules&#x2F;vote&#39; </span><br><span class="line"></span><br><span class="line">Vue.use(Router)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; å®šä¹‰è·¯ç”±</span><br><span class="line">const router &#x3D; new Router(&#123;  </span><br><span class="line">    mode: &#39;history&#39;,  </span><br><span class="line">    routes: [    </span><br><span class="line">        ...PUBLIC,    </span><br><span class="line">        ...VOTE,  </span><br><span class="line">    ]</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; è·¯ç”±å˜åŒ–æ—¶</span><br><span class="line">router.beforeEach((to, from, next) &#x3D;&gt; &#123;    </span><br><span class="line">    if (document.title !&#x3D;&#x3D; to.meta.title) &#123;        </span><br><span class="line">        document.title &#x3D; to.meta.title;    </span><br><span class="line">    &#125;    </span><br><span class="line">    next()</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; å¯¼å‡º</span><br><span class="line">export default routerå¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<p>é¦–å…ˆå¼•å…¥vueå’Œrouteræœ€åå¯¼å‡ºï¼Œè¿™å°±ä¸å¤šè¯´äº†ï¼ŒåŸºæœ¬çš„æ“ä½œã€‚</p>
<p>è¿™é‡ŒæŠŠrouter.beforeEachçš„æ“ä½œå†™äº†routerçš„index.jsæ–‡ä»¶ä¸­ï¼Œæœ‰äº›äººå¯èƒ½ä¼šå†™åœ¨main.jsä¸­ï¼Œè¿™ä¹Ÿæ²¡æœ‰é”™ï¼Œåªä¸è¿‡ï¼Œä¸ªäººè€Œè¨€ï¼Œæ—¢ç„¶æ˜¯è·¯ç”±çš„æ“ä½œï¼Œè¿˜æ˜¯æ”¾åœ¨è·¯ç”±æ–‡ä»¶ä¸­ç®¡ç†æ›´å¥½äº›ã€‚è¿™é‡Œå°±é¡ºä¾¿æ¼”ç¤ºäº†ï¼Œå¦‚ä½•åœ¨é¡µé¢åˆ‡æ¢æ—¶ï¼Œè‡ªåŠ¨ä¿®æ”¹é¡µé¢æ ‡é¢˜çš„æ“ä½œã€‚</p>
<p>è€Œåå¼•å…¥ä½ æ ¹æ®è·¯ç”±æ¨¡å—åˆ’åˆ†çš„å„ä¸ªjsæ–‡ä»¶ï¼Œç„¶ååœ¨å®ä¾‹åŒ–è·¯ç”±çš„æ—¶å€™ï¼Œåœ¨routesæ•°ç»„ä¸­ï¼Œå°†å¯¼å…¥çš„å„ä¸ªæ–‡ä»¶é€šè¿‡ç»“æ„èµ‹å€¼çš„æ–¹æ³•å–å‡ºæ¥ã€‚æœ€ç»ˆçš„ç»“æœå’Œæ­£å¸¸çš„å†™æ³•æ˜¯ä¸€æ ·çš„ã€‚</p>
<p>ç„¶åçœ‹ä¸‹æˆ‘ä»¬å¯¼å…¥çš„vote.jså§ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;** </span><br><span class="line"> * æŠ•ç¥¨æ¨¡å—çš„routeråˆ—è¡¨  </span><br><span class="line"> *&#x2F;</span><br><span class="line"></span><br><span class="line">export default [    </span><br><span class="line">    &#x2F;&#x2F; æŠ•ç¥¨æ¨¡å—é¦–é¡µ    </span><br><span class="line">    &#123;        </span><br><span class="line">        path: &#39;&#x2F;vote&#x2F;index&#39;,        </span><br><span class="line">        name: &#39;VoteIndex&#39;,        </span><br><span class="line">        component: resolve &#x3D;&gt; require([&#39;@&#x2F;view&#x2F;vote&#x2F;index&#39;], resolve),        </span><br><span class="line">        meta: &#123;            </span><br><span class="line">            title: &#39;æŠ•ç¥¨&#39;        </span><br><span class="line">        &#125;    </span><br><span class="line">    &#125;,    </span><br><span class="line">    &#x2F;&#x2F; è¯¦æƒ…é¡µ    </span><br><span class="line">    &#123;        </span><br><span class="line">        path: &#39;&#x2F;vote&#x2F;detail&#39;,        </span><br><span class="line">        name: &#39;VoteDetail&#39;,        </span><br><span class="line">        component: resolve &#x3D;&gt; require([&#39;@&#x2F;view&#x2F;vote&#x2F;detail&#39;], resolve),</span><br><span class="line">        meta: &#123;            </span><br><span class="line">            title: &#39;æŠ•ç¥¨è¯¦æƒ…&#39;        </span><br><span class="line">        &#125;    </span><br><span class="line">&#125;]</span><br></pre></td></tr></table></figure>



<h5 id="è¿‡æ¸¡åŠ¨æ•ˆ"><a href="#è¿‡æ¸¡åŠ¨æ•ˆ" class="headerlink" title="è¿‡æ¸¡åŠ¨æ•ˆ"></a><strong>è¿‡æ¸¡åŠ¨æ•ˆ</strong></h5><ul>
<li>å•ä¸ªè·¯ç”±è¿‡æ¸¡</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;transition name&#x3D;&quot;router&quot;&gt;</span><br><span class="line">    &lt;router-view&gt;&lt;&#x2F;router-view&gt;</span><br><span class="line">  &lt;&#x2F;transition&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">  .router-enter &#123;</span><br><span class="line">    &#x2F;&#x2F; ...</span><br><span class="line">  &#125;</span><br><span class="line">  .router-enter-active &#123;</span><br><span class="line">    &#x2F;&#x2F; ...</span><br><span class="line">  &#125;</span><br><span class="line">  .router-enter-to &#123;</span><br><span class="line">    &#x2F;&#x2F; ...</span><br><span class="line">  &#125;</span><br><span class="line">  .router-leave &#123;</span><br><span class="line">    &#x2F;&#x2F; ...</span><br><span class="line">  &#125;</span><br><span class="line">  .router-leave-active &#123;</span><br><span class="line">    &#x2F;&#x2F; ...</span><br><span class="line">  &#125;</span><br><span class="line">  .router-leave-to &#123;</span><br><span class="line">    &#x2F;&#x2F; ...</span><br><span class="line">  &#125;</span><br><span class="line">    </span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>åŠ¨æ€è¿‡æ¸¡</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;!-- ä½¿ç”¨åŠ¨æ€çš„ transition name --&gt;</span><br><span class="line">&lt;transition :name&#x3D;&quot;transitionName&quot;&gt;</span><br><span class="line">  &lt;router-view&gt;&lt;&#x2F;router-view&gt;</span><br><span class="line">&lt;&#x2F;transition&gt;</span><br><span class="line"></span><br><span class="line">è·¯ç”±çš„metaä¸­å®šä¹‰ä¸€ä¸ªtreeå±æ€§</span><br><span class="line">const routers&#x3D;[</span><br><span class="line">    	&#123;</span><br><span class="line">    		path: &#39;&#x2F;test&#39;,</span><br><span class="line">    		name: &#39;test&#39;,   &#x2F;&#x2F;è´¢åŠ¡æŸ¥è¯¢é¡µ</span><br><span class="line">    		component: resolve &#x3D;&gt; require([&#39;@&#x2F;page&#x2F;test&#x2F;test&#39;], resolve),</span><br><span class="line">    		meta:&#123;</span><br><span class="line">    		   	title : &#39;æµ‹è¯•é¡µ&#39;, &#x2F;&#x2F; æ ‡é¢˜è®¾ç½®åœ¨è¿™é‡Œ</span><br><span class="line">    			tree: 4,</span><br><span class="line">       &#125;</span><br><span class="line">	&#125;,</span><br><span class="line">	&#123;</span><br><span class="line">		path: &#39;&#x2F;list1&#39;,</span><br><span class="line">		name: &#39;list1&#39;,   &#x2F;&#x2F;è´¢åŠ¡æŸ¥è¯¢é¡µ</span><br><span class="line">		component: resolve &#x3D;&gt; require([&#39;@&#x2F;page&#x2F;test&#x2F;list1&#39;], resolve),</span><br><span class="line">		meta:&#123;</span><br><span class="line">		   	title : &#39;æµ‹è¯•é¡µ&#39;, &#x2F;&#x2F; æ ‡é¢˜è®¾ç½®åœ¨è¿™é‡Œ</span><br><span class="line">			tree: 1,</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;,</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line">å¯¼èˆªå®ˆå«</span><br><span class="line">&#x2F;&#x2F;è·¯ç”±è·³è½¬å‰è¿›åé€€åŠ¨ç”»,VueåŸå‹ä¸Šå®šä¹‰transitionä¸ºåŠ¨ç”»æ•ˆæœ</span><br><span class="line">router.beforeEach ( (to, from, next) &#x3D;&gt; &#123;</span><br><span class="line">    Vue.prototype.transition &#x3D; &#39;slide-none&#39;;</span><br><span class="line">    if(from.meta.tree &gt; to.meta.tree) &#123;</span><br><span class="line">        &#x2F;&#x2F; åé€€,æƒ³å³æ»‘åŠ¨</span><br><span class="line">        Vue.prototype.transition &#x3D; &#39;slide-right&#39;;</span><br><span class="line">        from.meta.keepAlive &#x3D; false;</span><br><span class="line">        to.meta.keepAlive &#x3D; true;</span><br><span class="line">    &#125; else if(from.meta.tree &lt; to.meta.tree) &#123;</span><br><span class="line">        &#x2F;&#x2F; å‰è¿›,æƒ³å·¦æ»‘åŠ¨</span><br><span class="line">        Vue.prototype.transition &#x3D; &#39;slide-left&#39;;</span><br><span class="line">        from.meta.keepAlive &#x3D; true;</span><br><span class="line">        to.meta.keepAlive &#x3D; false;</span><br><span class="line">	&#125;else &#123;</span><br><span class="line">		&#x2F;&#x2F; åŒä¸€å±‚çº§,æ— åŠ¨ç”»</span><br><span class="line">		Vue.prototype.transition &#x3D; &#39;slide-none&#39;;</span><br><span class="line">		from.meta.keepAlive &#x3D; true;</span><br><span class="line">		to.meta.keepAlive &#x3D; true;</span><br><span class="line">	&#125;</span><br><span class="line">	&#x2F;&#x2F;ä½¿ç”¨titleä½œä¸ºè·¯ç”±åç§°</span><br><span class="line">	if (to.meta.title) &#123;</span><br><span class="line">        document.title &#x3D; to.meta.title;</span><br><span class="line">    &#125;</span><br><span class="line">	next();</span><br><span class="line">&#125;)</span><br><span class="line">æˆ–è€…</span><br><span class="line">&#x2F;&#x2F; watch $route å†³å®šä½¿ç”¨å“ªç§è¿‡æ¸¡ ï¼ˆå¼ƒç”¨ï¼‰</span><br><span class="line">watch: &#123;</span><br><span class="line">&#39;$route&#39; (to, from) &#123;</span><br><span class="line">    const toDepth &#x3D; to.meta.tree</span><br><span class="line">    const fromDepth &#x3D; from.meta.tree</span><br><span class="line">    this.transitionName &#x3D; toDepth &lt; fromDepth ? &#39;slide-right&#39; : &#39;slide-left&#39;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">css</span><br><span class="line">@keyframes slideInLeft &#123;</span><br><span class="line">    from &#123;</span><br><span class="line">        transform: translate3d(100%, 0, 0);</span><br><span class="line">        position: fixed;</span><br><span class="line">        top: 0;</span><br><span class="line">        left: 0;</span><br><span class="line">        opacity: 1;</span><br><span class="line">    &#125;</span><br><span class="line">    to &#123;</span><br><span class="line">        transform: translate3d(0, 0, 0);</span><br><span class="line">        position: fixed;</span><br><span class="line">        top: 0;</span><br><span class="line">        left: 0;</span><br><span class="line">        opacity: 1;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">@keyframes slideInRight &#123;</span><br><span class="line">    from &#123;</span><br><span class="line">        transform: translate3d(0%, 0, 0);</span><br><span class="line">        position: fixed;</span><br><span class="line">        top: 0;</span><br><span class="line">        left: 0;</span><br><span class="line">        opacity: 1;</span><br><span class="line">    &#125;</span><br><span class="line">    to &#123;</span><br><span class="line">        transform: translate3d(-100%, 0, 0);</span><br><span class="line">        position: fixed;</span><br><span class="line">        top: 0;</span><br><span class="line">        left: 0;</span><br><span class="line">        opacity: 1;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">.slide-left-enter-active&#123;</span><br><span class="line">    position: fixed;</span><br><span class="line">    top: 0;</span><br><span class="line">    left: 0%;</span><br><span class="line">    width: 100vw;</span><br><span class="line">    height: 100vh;</span><br><span class="line">    animation: slideInLeft 1s linear forwards;</span><br><span class="line">&#125;</span><br><span class="line">.slide-left-leave-active&#123;</span><br><span class="line">    position: fixed;</span><br><span class="line">    top: 0;</span><br><span class="line">    left: 0%;</span><br><span class="line">    width: 100vw;</span><br><span class="line">    height: 100vh;</span><br><span class="line">    animation: slideInRight 1s linear forwards;</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;*å‘å³æ»‘åŠ¨*&#x2F;</span><br><span class="line">@keyframes slideOutLeft &#123;</span><br><span class="line">    from &#123;</span><br><span class="line">        transform: translate3d(-100%, 0, 0);</span><br><span class="line">        position: fixed;</span><br><span class="line">        top: 0;</span><br><span class="line">        left: 0;</span><br><span class="line">        opacity: 1;</span><br><span class="line">    &#125;</span><br><span class="line">    to &#123;</span><br><span class="line">        transform: translate3d(0%, 0, 0);</span><br><span class="line">        position: fixed;</span><br><span class="line">        top: 0;</span><br><span class="line">        left: 0;</span><br><span class="line">        opacity: 1;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">@keyframes slideOutRight &#123;</span><br><span class="line">    from &#123;</span><br><span class="line">        transform: translate3d(0%, 0, 0);</span><br><span class="line">        position: fixed;</span><br><span class="line">        top: 0;</span><br><span class="line">        left: 0;</span><br><span class="line">        opacity: 1;</span><br><span class="line">    &#125;</span><br><span class="line">    to &#123;</span><br><span class="line">        transform: translate3d(100%, 0, 0);</span><br><span class="line">        position: fixed;</span><br><span class="line">        top: 0;</span><br><span class="line">        left: 0;</span><br><span class="line">        opacity: 1;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">.slide-right-enter-active&#123;</span><br><span class="line">    position: fixed;</span><br><span class="line">    top: 0;</span><br><span class="line">    left: 0%;</span><br><span class="line">    width: 100vw;</span><br><span class="line">    height: 100vh;</span><br><span class="line">    animation: slideOutLeft 1s linear forwards;</span><br><span class="line">&#125;</span><br><span class="line">.slide-right-leave-active&#123;</span><br><span class="line">    position: fixed;</span><br><span class="line">    top: 0;</span><br><span class="line">    left: 0%;</span><br><span class="line">    width: 100vw;</span><br><span class="line">    height: 100vh;</span><br><span class="line">    animation: slideOutRight 1s linear forwards;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>









<h5 id="å¯¼èˆªå®ˆå«-é’©å­å‡½æ•°-ç”Ÿå‘½å‘¨æœŸå‡½æ•°-ã€"><a href="#å¯¼èˆªå®ˆå«-é’©å­å‡½æ•°-ç”Ÿå‘½å‘¨æœŸå‡½æ•°-ã€" class="headerlink" title="å¯¼èˆªå®ˆå«(é’©å­å‡½æ•°/ç”Ÿå‘½å‘¨æœŸå‡½æ•°)ã€"></a><strong>å¯¼èˆªå®ˆå«</strong>(é’©å­å‡½æ•°/ç”Ÿå‘½å‘¨æœŸå‡½æ•°)ã€</h5><ul>
<li>å…¨å±€å¯¼èˆªå®ˆå«</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; src&#x2F;router&#x2F;index.js</span><br><span class="line">import Vue from &#39;vue&#39;</span><br><span class="line">import Router from &#39;vue-router&#39;</span><br><span class="line">import routes from &#39;.&#x2F;router.js&#39;</span><br><span class="line">Vue.use(Router)</span><br><span class="line"></span><br><span class="line">const router &#x3D;  new Router(&#123;</span><br><span class="line">  routes</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; å‡è®¾ç™»å½•åˆ¤æ–­</span><br><span class="line">const HAS_LOGIN &#x3D; true</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; å…¨å±€è·¯ç”±å‰ç½®å®ˆå«</span><br><span class="line">router.beforeEach((to, from, next) &#x3D;&gt; &#123;</span><br><span class="line">  &#x2F;&#x2F; to å³å°†è·³è½¬åˆ°çš„è·¯ç”±å¯¹è±¡</span><br><span class="line">  &#x2F;&#x2F; from å°†è¦ç¦»å¼€çš„è·¯ç”±å¯¹è±¡</span><br><span class="line">  &#x2F;&#x2F; next() å‡½æ•°</span><br><span class="line">  </span><br><span class="line">  &#x2F;&#x2F; å¼€å§‹æ˜¯å¦è¿›å…¥ç™»å½•</span><br><span class="line">  if (to.name !&#x3D;&#x3D; &#39;login&#39;) &#123;</span><br><span class="line">    if (HAS_LOGIN) next()  &#x2F;&#x2F; å¦‚æœç™»å½•äº†, ç»§ç»­</span><br><span class="line">    else next(&#123;</span><br><span class="line">      name: &#39;login&#39;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125; else &#123; &#x2F;&#x2F; å¦‚æœè·³è½¬åˆ°ç™»å½•é¡µé¢</span><br><span class="line">    if (HAS_LOGIN) next(&#123;name: &#39;home&#39;&#125;) &#x2F;&#x2F; ç™»å½•äº†, åˆ°ä¸»é¡µ</span><br><span class="line">    else next()  &#x2F;&#x2F; æ²¡æœ‰ç™»å½• next()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; å…¨å±€è·¯ç”±åç½®å®ˆå«</span><br><span class="line">router.afterEach((to, from) &#x3D;&gt; &#123;</span><br><span class="line">  &#x2F;&#x2F; å¯ä»¥è®¾ç½® loading çš„è¿›åº¦ ä¸º false</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">export default router</span><br></pre></td></tr></table></figure>

<ul>
<li>è·¯ç”±ç‹¬äº«å®ˆå«</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; router.js</span><br><span class="line">import Home from &#39;.&#x2F;views&#x2F;Home.vue&#39;</span><br><span class="line">export default [</span><br><span class="line">  &#123;</span><br><span class="line">    path: &#39;&#x2F;&#39;,  &#x2F;&#x2F; url è·¯å¾„</span><br><span class="line">    name: &#39;Home&#39;,</span><br><span class="line">    component: Home,  &#x2F;&#x2F; è·¯å¾„å¯¹åº”æ¸²æŸ“ç»„ä»¶</span><br><span class="line">    beforeEnter: (to, from, next) &#x3D;&gt; &#123;</span><br><span class="line">      &#x2F;&#x2F; ...</span><br><span class="line">      next()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<ul>
<li>ç»„ä»¶å†…çš„é’©å­</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; home.vue</span><br><span class="line">&lt;template&gt;</span><br><span class="line">  home</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">  export default &#123;</span><br><span class="line">    beforeRouteEnter (to, from, next) &#x3D;&gt; &#123;</span><br><span class="line">      &#x2F;&#x2F; åœ¨æ¸²æŸ“è¯¥ç»„ä»¶çš„å¯¹åº”è·¯ç”±è¢« confirm å‰è°ƒç”¨</span><br><span class="line">      &#x2F;&#x2F; ä¸ï¼èƒ½ï¼è·å–ç»„ä»¶å®ä¾‹ &#96;this&#96;</span><br><span class="line">      &#x2F;&#x2F; å› ä¸ºå½“å®ˆå«æ‰§è¡Œå‰ï¼Œç»„ä»¶å®ä¾‹è¿˜æ²¡è¢«åˆ›å»º</span><br><span class="line">      next(vm &#x3D;&gt; &#123;</span><br><span class="line">        console.log(vm)</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;,</span><br><span class="line">    &#x2F;&#x2F; ç”¨æˆ·ç¼–è¾‘æœªä¿å­˜ç¦»å¼€, å¯ä»¥è¯¢é—®æ˜¯å¦ç¦»å¼€</span><br><span class="line">    beforeRouteLeave (to, from, next) &#123;</span><br><span class="line">      &#x2F;&#x2F; å¯¼èˆªç¦»å¼€è¯¥ç»„ä»¶çš„å¯¹åº”è·¯ç”±æ—¶è°ƒç”¨</span><br><span class="line">      &#x2F;&#x2F; å¯ä»¥è®¿é—®ç»„ä»¶å®ä¾‹ &#96;this&#96;</span><br><span class="line">      const leave &#x3D; confirm(&#39;æ‚¨ç¡®è®¤è¦ç¦»å¼€å—&#39;)</span><br><span class="line">      if (leave) next()</span><br><span class="line">      else next(false)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; argu.vue</span><br><span class="line">&lt;template&gt;</span><br><span class="line">  argu</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">  export default &#123;</span><br><span class="line">    beforeRouteUpdate (to, from, next) &#123;</span><br><span class="line">      &#x2F;&#x2F; åœ¨å½“å‰è·¯ç”±æ”¹å˜ï¼Œä½†æ˜¯è¯¥ç»„ä»¶è¢«å¤ç”¨æ—¶è°ƒç”¨</span><br><span class="line">      &#x2F;&#x2F; ä¸¾ä¾‹æ¥è¯´ï¼Œå¯¹äºä¸€ä¸ªå¸¦æœ‰åŠ¨æ€å‚æ•°çš„è·¯å¾„ &#x2F;foo&#x2F;:idï¼Œåœ¨ &#x2F;foo&#x2F;1 å’Œ &#x2F;foo&#x2F;2 ä¹‹é—´è·³è½¬çš„æ—¶å€™ï¼Œ</span><br><span class="line">      &#x2F;&#x2F; ç”±äºä¼šæ¸²æŸ“åŒæ ·çš„ Foo ç»„ä»¶ï¼Œå› æ­¤ç»„ä»¶å®ä¾‹ä¼šè¢«å¤ç”¨ã€‚è€Œè¿™ä¸ªé’©å­å°±ä¼šåœ¨è¿™ä¸ªæƒ…å†µä¸‹è¢«è°ƒç”¨ã€‚</span><br><span class="line">      &#x2F;&#x2F; å¯ä»¥è®¿é—®ç»„ä»¶å®ä¾‹ &#96;this&#96;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>å®Œæ•´çš„å¯¼èˆªè§£ææµç¨‹</li>
</ul>
<ol>
<li>å¯¼èˆªè¢«è§¦å‘ã€‚</li>
<li>åœ¨å¤±æ´»çš„ç»„ä»¶é‡Œè°ƒç”¨ç¦»å¼€å®ˆå«ã€‚<code>beforeRouteLeave</code></li>
<li>è°ƒç”¨å…¨å±€çš„ <code>beforeEach</code> å®ˆå«ã€‚</li>
<li>åœ¨é‡ç”¨çš„ç»„ä»¶é‡Œè°ƒç”¨ <code>beforeRouteUpdate</code> å®ˆå« (2.2+)ã€‚</li>
<li>åœ¨è·¯ç”±é…ç½®é‡Œè°ƒç”¨ <code>beforeEnter</code>ã€‚</li>
<li>è§£æå¼‚æ­¥è·¯ç”±ç»„ä»¶ã€‚</li>
<li>åœ¨è¢«æ¿€æ´»çš„ç»„ä»¶é‡Œè°ƒç”¨ <code>beforeRouteEnter</code>ã€‚</li>
<li>è°ƒç”¨å…¨å±€çš„ <code>beforeResolve</code> å®ˆå« (2.5+)ã€‚</li>
<li>å¯¼èˆªè¢«ç¡®è®¤ã€‚</li>
<li>è°ƒç”¨å…¨å±€çš„ <code>afterEach</code> é’©å­ã€‚</li>
<li>è§¦å‘ <code>DOM</code> æ›´æ–°ã€‚</li>
<li>ç”¨åˆ›å»ºå¥½çš„å®ä¾‹è°ƒç”¨ <code>beforeRouteEnter</code> å®ˆå«ä¸­ä¼ ç»™ next çš„å›è°ƒå‡½æ•°ã€‚</li>
</ol>
<h5 id="è·¯ç”±é’©å­åœ¨å®é™…å¼€å‘ä¸­çš„åº”ç”¨åœºæ™¯"><a href="#è·¯ç”±é’©å­åœ¨å®é™…å¼€å‘ä¸­çš„åº”ç”¨åœºæ™¯" class="headerlink" title="è·¯ç”±é’©å­åœ¨å®é™…å¼€å‘ä¸­çš„åº”ç”¨åœºæ™¯"></a>è·¯ç”±é’©å­åœ¨å®é™…å¼€å‘ä¸­çš„åº”ç”¨åœºæ™¯</h5><p>beforeRouteLeave, ä½¿ç”¨åœºæ™¯åˆ†åˆ«ä¸ºä¸€ä¸‹ä¸‰ç±»æƒ…å†µï¼š<br>1ã€æ¸…é™¤å½“å‰ç»„ä»¶ä¸­çš„å®šæ—¶å™¨,å½“ä¸€ä¸ªç»„ä»¶ä¸­æœ‰ä¸€ä¸ªå®šæ—¶å™¨æ—¶, åœ¨è·¯ç”±è¿›è¡Œåˆ‡æ¢çš„æ—¶å€™, å¯ä½¿ç”¨beforeRouteLeaveå°†å®šæ—¶å™¨è¿›è¡Œæ¸…æ¥š, ä»¥å…å ç”¨å†…å­˜:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">beforeRouteLeave (to, from, next) &#123;</span><br><span class="line"> window.clearInterval(this.timer) &#x2F;&#x2F;æ¸…é™¤å®šæ—¶å™¨</span><br><span class="line"> next()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>2ã€å½“é¡µé¢ä¸­æœ‰æœªå…³é—­çš„çª—å£, æˆ–æœªä¿å­˜çš„å†…å®¹æ—¶, é˜»æ­¢é¡µé¢è·³è½¬å¦‚æœé¡µé¢å†…æœ‰é‡è¦çš„ä¿¡æ¯éœ€è¦ç”¨æˆ·ä¿å­˜åæ‰èƒ½è¿›è¡Œè·³è½¬, æˆ–è€…æœ‰å¼¹å‡ºæ¡†çš„æƒ…å†µ. åº”è¯¥é˜»æ­¢ç”¨æˆ·è·³è½¬</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">beforeRouteLeave (to, from, next) &#123;</span><br><span class="line"> &#x2F;&#x2F;åˆ¤æ–­æ˜¯å¦å¼¹å‡ºæ¡†çš„çŠ¶æ€å’Œä¿å­˜ä¿¡æ¯ä¸å¦</span><br><span class="line"> if (this.dialogVisibility &#x3D;&#x3D;&#x3D; true) &#123;</span><br><span class="line">  this.dialogVisibility &#x3D; false &#x2F;&#x2F;å…³é—­å¼¹å‡ºæ¡†</span><br><span class="line">  next(false) &#x2F;&#x2F;å›åˆ°å½“å‰é¡µé¢, é˜»æ­¢é¡µé¢è·³è½¬</span><br><span class="line"> &#125;else if(this.saveMessage &#x3D;&#x3D;&#x3D; false) &#123;</span><br><span class="line">  &#x2F;&#x2F;å¼¹å‡ºè­¦å‘Š</span><br><span class="line">  next(false) &#x2F;&#x2F;å›åˆ°å½“å‰é¡µé¢, é˜»æ­¢é¡µé¢è·³è½¬</span><br><span class="line"> &#125;else &#123;</span><br><span class="line">  next() &#x2F;&#x2F;å¦åˆ™å…è®¸è·³è½¬</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>3ã€ä¿å­˜ç›¸å…³å†…å®¹åˆ°Vuexä¸­æˆ–Sessionä¸­,å½“ç”¨æˆ·éœ€è¦å…³é—­é¡µé¢æ—¶, å¯ä»¥å°†å…¬ç”¨çš„ä¿¡æ¯ä¿å­˜åˆ°sessionæˆ–Vuexä¸­;</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">beforeRouteLeave (to, from, next) &#123;</span><br><span class="line">  localStorage.setItem(name, content); &#x2F;&#x2F;ä¿å­˜åˆ°localStorageä¸­</span><br><span class="line">  next()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>é™¤äº†ä½¿ç”¨é’©å­å‡½æ•°å¤–ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨ watch æ¥ç›‘å¬ $route å¯¹è±¡ï¼Œç„¶åæ ¹æ®è·¯ç”±å‚æ•°çš„å˜åŒ–æ¥è¿›è¡Œå“åº”ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  export default &#123;</span><br><span class="line">    name: &#39;App&#39;,</span><br><span class="line">    watch: &#123;</span><br><span class="line">      &#39;$route&#39; (to, from) &#123;</span><br><span class="line">        &#x2F;&#x2F; å¯¹è·¯ç”±å˜åŒ–ä½œå‡ºå“åº”...</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>mock</category>
      </categories>
      <tags>
        <tag>vue</tag>
        <tag>router</tag>
      </tags>
  </entry>
  <entry>
    <title>vue-skeleton-webpack-plugin</title>
    <url>/2020/09/10/vue-skeleton-webpack-plugin/</url>
    <content><![CDATA[<h3 id="æ¶æ„å›¾"><a href="#æ¶æ„å›¾" class="headerlink" title="æ¶æ„å›¾"></a>æ¶æ„å›¾</h3><p><img src="/2020/09/10/vue-skeleton-webpack-plugin/image-20200910115921296.png" alt="image-20200910115921296"></p>
<a id="more"></a>

<h3 id="ä¸‹è½½"><a href="#ä¸‹è½½" class="headerlink" title="ä¸‹è½½"></a>ä¸‹è½½</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install vue-skeleton-webpack-plugin</span><br></pre></td></tr></table></figure>



<h3 id="æ–°å»ºwebpack-skeleton-conf-js"><a href="#æ–°å»ºwebpack-skeleton-conf-js" class="headerlink" title="æ–°å»ºwebpack.skeleton.conf.js"></a>æ–°å»ºwebpack.skeleton.conf.js</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#39;use strict&#39;;</span><br><span class="line"></span><br><span class="line">const path &#x3D; require(&#39;path&#39;)</span><br><span class="line">const merge &#x3D; require(&#39;webpack-merge&#39;)</span><br><span class="line">const baseWebpackConfig &#x3D; require(&#39;.&#x2F;webpack.base.conf&#39;)</span><br><span class="line">const nodeExternals &#x3D; require(&#39;webpack-node-externals&#39;)</span><br><span class="line">const utils &#x3D; require(&#39;.&#x2F;utils&#39;)</span><br><span class="line">const config &#x3D; require(&#39;..&#x2F;config&#39;)</span><br><span class="line">const isProduction &#x3D; process.env.NODE_ENV &#x3D;&#x3D;&#x3D; &#39;production&#39;</span><br><span class="line">const sourceMapEnabled &#x3D; isProduction</span><br><span class="line">  ? config.build.productionSourceMap</span><br><span class="line">  : config.dev.cssSourceMap</span><br><span class="line"></span><br><span class="line">function resolve(dir) &#123;</span><br><span class="line">  return path.join(__dirname, dir)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let skeletonWebpackConfig &#x3D; merge(baseWebpackConfig, &#123;</span><br><span class="line">  target: &#39;node&#39;,</span><br><span class="line">  devtool: false,</span><br><span class="line">  entry: &#123;</span><br><span class="line">    app: resolve(&#39;..&#x2F;src&#x2F;entry-skeleton.js&#39;)</span><br><span class="line">  &#125;,</span><br><span class="line">  output: Object.assign(&#123;&#125;, baseWebpackConfig.output, &#123;</span><br><span class="line">    libraryTarget: &#39;commonjs2&#39;</span><br><span class="line">  &#125;),</span><br><span class="line">  externals: nodeExternals(&#123;</span><br><span class="line">    whitelist: &#x2F;\.css$&#x2F;</span><br><span class="line">  &#125;),</span><br><span class="line">  plugins: []</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; important: enable extract-text-webpack-plugin</span><br><span class="line">skeletonWebpackConfig.module.rules[0].options.loaders &#x3D; utils.cssLoaders(&#123;</span><br><span class="line">  sourceMap: sourceMapEnabled,</span><br><span class="line">  extract: true</span><br><span class="line">&#125;),</span><br><span class="line"></span><br><span class="line">module.exports &#x3D; skeletonWebpackConfig</span><br></pre></td></tr></table></figure>



<h3 id="webpack-prod-conf-js-webpack-dev-conf-js"><a href="#webpack-prod-conf-js-webpack-dev-conf-js" class="headerlink" title="webpack.prod.conf.js/webpack.dev.conf.js"></a>webpack.prod.conf.js/webpack.dev.conf.js</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const SkeletonWebpackPlugin &#x3D; require(&#39;vue-skeleton-webpack-plugin&#39;)</span><br><span class="line"></span><br><span class="line">plugins: [</span><br><span class="line">new SkeletonWebpackPlugin(&#123;</span><br><span class="line">      webpackConfig: require(&#39;.&#x2F;webpack.skeleton.conf&#39;),</span><br><span class="line">      quiet: true,</span><br><span class="line">      minimize: true,</span><br><span class="line">      router: &#123;</span><br><span class="line">        mode: &#39;hash&#39;,</span><br><span class="line">        routes: [</span><br><span class="line">            &#123;</span><br><span class="line">              path: &#39;&#x2F;page1&#39;,</span><br><span class="line">              skeletonId: &#39;skeleton1&#39;</span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">              path: &#39;&#x2F;Hello&#39;,</span><br><span class="line">              skeletonId: &#39;skeleton2&#39;</span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">              path: &#39;&#x2F;&#39;,</span><br><span class="line">              skeletonId: &#39;skeleton2&#39;</span><br><span class="line">            &#125;,</span><br><span class="line">        ]</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;),</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;å‚æ•°è¯´æ˜</span><br><span class="line">webpackConfig å¿…å¡«ï¼Œæ¸²æŸ“ skeleton çš„ webpack é…ç½®å¯¹è±¡</span><br><span class="line">insertAfter é€‰å¡«ï¼Œæ¸²æŸ“ DOM ç»“æœæ’å…¥ä½ç½®ï¼Œé»˜è®¤å€¼ä¸ºå­—ç¬¦ä¸² &#39;&lt;div id&#x3D;&quot;app&quot;&gt;&#39;</span><br><span class="line">ä¹Ÿå¯ä»¥ä¼ å…¥ Functionï¼Œæ–¹æ³•ç­¾åä¸º insertAfter(entryKey: string): stringï¼Œè¿”å›å€¼ä¸ºæŒ‚è½½ç‚¹å­—ç¬¦ä¸²</span><br><span class="line">quiet é€‰å¡«ï¼Œåœ¨æœåŠ¡ç«¯æ¸²æŸ“æ—¶æ˜¯å¦éœ€è¦è¾“å‡ºä¿¡æ¯åˆ°æ§åˆ¶å°</span><br><span class="line">router é€‰å¡« SPA ä¸‹é…ç½®å„ä¸ªè·¯ç”±è·¯å¾„å¯¹åº”çš„ Skeleton</span><br><span class="line">mode é€‰å¡« è·¯ç”±æ¨¡å¼ï¼Œä¸¤ä¸ªæœ‰æ•ˆå€¼ history|hash</span><br><span class="line">routes é€‰å¡« è·¯ç”±æ•°ç»„ï¼Œå…¶ä¸­æ¯ä¸ªè·¯ç”±å¯¹è±¡åŒ…å«ä¸¤ä¸ªå±æ€§ï¼š</span><br><span class="line">path è·¯ç”±è·¯å¾„</span><br><span class="line">skeletonId Skeleton DOM çš„ id</span><br><span class="line">minimize é€‰å¡« SPA ä¸‹æ˜¯å¦éœ€è¦å‹ç¼©æ³¨å…¥ HTML çš„ JS ä»£ç </span><br></pre></td></tr></table></figure>



<h3 id="srcä¸‹æ–°å»ºentry-skeleton-js"><a href="#srcä¸‹æ–°å»ºentry-skeleton-js" class="headerlink" title="srcä¸‹æ–°å»ºentry-skeleton.js"></a>srcä¸‹æ–°å»ºentry-skeleton.js</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import Vue from &#39;vue&#39;;</span><br><span class="line">import Skeleton1 from &#39;.&#x2F;Skeleton1&#39;;</span><br><span class="line">import Skeleton2 from &#39;.&#x2F;Skeleton2&#39;;</span><br><span class="line"></span><br><span class="line">export default new Vue(&#123;</span><br><span class="line">    components: &#123;</span><br><span class="line">        Skeleton1,</span><br><span class="line">        Skeleton2</span><br><span class="line">    &#125;,</span><br><span class="line">    template: &#96;</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">            &lt;skeleton1 id&#x3D;&quot;skeleton1&quot; style&#x3D;&quot;display:none&quot;&#x2F;&gt;</span><br><span class="line">            &lt;skeleton2 id&#x3D;&quot;skeleton2&quot; style&#x3D;&quot;display:none&quot;&#x2F;&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">    &#96;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>



<h3 id="srcä¸‹æ–°å»ºSkeleton1-vue-Skeleton1-vue"><a href="#srcä¸‹æ–°å»ºSkeleton1-vue-Skeleton1-vue" class="headerlink" title="srcä¸‹æ–°å»ºSkeleton1.vue/Skeleton1.vue"></a>srcä¸‹æ–°å»ºSkeleton1.vue/Skeleton1.vue</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Skeleton1.vue</span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class&#x3D;&quot;skeleton-wrapper&quot;&gt;</span><br><span class="line">    Skeleton For Home</span><br><span class="line">    &lt;div class&#x3D;&quot;skeleton-wrapper&quot;&gt;Skeleton For Home&lt;&#x2F;div&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;skeleton-wrapper&quot;&gt;Skeleton For Home&lt;&#x2F;div&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;skeleton-wrapper&quot;&gt;Skeleton For Home&lt;&#x2F;div&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;skeleton-wrapper&quot;&gt;Skeleton For Home&lt;&#x2F;div&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;skeleton2&quot;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">.skeleton-header &#123;</span><br><span class="line">  height: 152px;</span><br><span class="line">  background: grey;</span><br><span class="line">  margin-top: 60px;</span><br><span class="line">  width: 152px;</span><br><span class="line">  margin: 60px auto;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.skeleton-block &#123;</span><br><span class="line">  display: flex;</span><br><span class="line">  flex-direction: column;</span><br><span class="line">  padding-top: 8px;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br><span class="line"></span><br><span class="line">Skeleton2.vue</span><br><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;skeleton-wrapper&quot;&gt;</span><br><span class="line">        &lt;header class&#x3D;&quot;skeleton-header&quot;&gt;&lt;&#x2F;header&gt;</span><br><span class="line">        &lt;section class&#x3D;&quot;skeleton-block&quot;&gt;</span><br><span class="line">            &lt;img src&#x3D;&quot;data:image&#x2F;svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2aWV3Qm94PSIwIDAgMTA4MCAyNjEiPjxkZWZzPjxwYXRoIGlkPSJiIiBkPSJNMCAwaDEwODB2MjYwSDB6Ii8+PGZpbHRlciBpZD0iYSIgd2lkdGg9IjIwMCUiIGhlaWdodD0iMjAwJSIgeD0iLTUwJSIgeT0iLTUwJSIgZmlsdGVyVW5pdHM9Im9iamVjdEJvdW5kaW5nQm94Ij48ZmVPZmZzZXQgZHk9Ii0xIiBpbj0iU291cmNlQWxwaGEiIHJlc3VsdD0ic2hhZG93T2Zmc2V0T3V0ZXIxIi8+PGZlQ29sb3JNYXRyaXggaW49InNoYWRvd09mZnNldE91dGVyMSIgdmFsdWVzPSIwIDAgMCAwIDAuOTMzMzMzMzMzIDAgMCAwIDAgMC45MzMzMzMzMzMgMCAwIDAgMCAwLjkzMzMzMzMzMyAwIDAgMCAxIDAiLz48L2ZpbHRlcj48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwIDEpIj48dXNlIGZpbGw9IiMwMDAiIGZpbHRlcj0idXJsKCNhKSIgeGxpbms6aHJlZj0iI2IiLz48dXNlIGZpbGw9IiNGRkYiIHhsaW5rOmhyZWY9IiNiIi8+PHBhdGggZmlsbD0iI0Y2RjZGNiIgZD0iTTIzMCA0NGg1MzN2NDZIMjMweiIvPjxyZWN0IHdpZHRoPSIxNzIiIGhlaWdodD0iMTcyIiB4PSIzMCIgeT0iNDQiIGZpbGw9IiNGNkY2RjYiIHJ4PSI0Ii8+PHBhdGggZmlsbD0iI0Y2RjZGNiIgZD0iTTIzMCAxMThoMzY5djMwSDIzMHpNMjMwIDE4MmgzMjN2MzBIMjMwek04MTIgMTE1aDIzOHYzOUg4MTJ6TTgwOCAxODRoMjQydjMwSDgwOHpNOTE3IDQ4aDEzM3YzN0g5MTd6Ii8+PC9nPjwvc3ZnPg&#x3D;&#x3D;&quot;&gt;</span><br><span class="line">            &lt;img src&#x3D;&quot;data:image&#x2F;svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2aWV3Qm94PSIwIDAgMTA4MCAyNjEiPjxkZWZzPjxwYXRoIGlkPSJiIiBkPSJNMCAwaDEwODB2MjYwSDB6Ii8+PGZpbHRlciBpZD0iYSIgd2lkdGg9IjIwMCUiIGhlaWdodD0iMjAwJSIgeD0iLTUwJSIgeT0iLTUwJSIgZmlsdGVyVW5pdHM9Im9iamVjdEJvdW5kaW5nQm94Ij48ZmVPZmZzZXQgZHk9Ii0xIiBpbj0iU291cmNlQWxwaGEiIHJlc3VsdD0ic2hhZG93T2Zmc2V0T3V0ZXIxIi8+PGZlQ29sb3JNYXRyaXggaW49InNoYWRvd09mZnNldE91dGVyMSIgdmFsdWVzPSIwIDAgMCAwIDAuOTMzMzMzMzMzIDAgMCAwIDAgMC45MzMzMzMzMzMgMCAwIDAgMCAwLjkzMzMzMzMzMyAwIDAgMCAxIDAiLz48L2ZpbHRlcj48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwIDEpIj48dXNlIGZpbGw9IiMwMDAiIGZpbHRlcj0idXJsKCNhKSIgeGxpbms6aHJlZj0iI2IiLz48dXNlIGZpbGw9IiNGRkYiIHhsaW5rOmhyZWY9IiNiIi8+PHBhdGggZmlsbD0iI0Y2RjZGNiIgZD0iTTIzMCA0NGg1MzN2NDZIMjMweiIvPjxyZWN0IHdpZHRoPSIxNzIiIGhlaWdodD0iMTcyIiB4PSIzMCIgeT0iNDQiIGZpbGw9IiNGNkY2RjYiIHJ4PSI0Ii8+PHBhdGggZmlsbD0iI0Y2RjZGNiIgZD0iTTIzMCAxMThoMzY5djMwSDIzMHpNMjMwIDE4MmgzMjN2MzBIMjMwek04MTIgMTE1aDIzOHYzOUg4MTJ6TTgwOCAxODRoMjQydjMwSDgwOHpNOTE3IDQ4aDEzM3YzN0g5MTd6Ii8+PC9nPjwvc3ZnPg&#x3D;&#x3D;&quot;&gt;</span><br><span class="line">        &lt;&#x2F;section&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">    name: &#39;skeleton&#39;</span><br><span class="line">&#125;;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line"></span><br><span class="line">.skeleton-header &#123;</span><br><span class="line">    height: 152px;</span><br><span class="line">    background: grey;</span><br><span class="line">    margin-top: 60px;</span><br><span class="line">    width: 152px;</span><br><span class="line">    margin: 60px auto;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.skeleton-block &#123;</span><br><span class="line">    display: flex;</span><br><span class="line">    flex-direction: column;</span><br><span class="line">    padding-top: 8px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>



<p>attentionsï¼šé¡¹ç›®éœ€è¦é‡æ–°å¯åŠ¨ï¼Œnpm run build æ‰“åŒ…</p>
]]></content>
      <categories>
        <category>vue</category>
      </categories>
      <tags>
        <tag>vue</tag>
        <tag>vue-skeleton-webpack-plugin</tag>
      </tags>
  </entry>
  <entry>
    <title>vue-slot</title>
    <url>/2020/08/04/vue-slot/</url>
    <content><![CDATA[<h2 id="ä»€ä¹ˆæ˜¯æ’æ§½ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯æ’æ§½ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯æ’æ§½ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯æ’æ§½ï¼Ÿ</h2><ul>
<li>æ’æ§½ï¼ˆSlotï¼‰æ˜¯Vueæå‡ºæ¥çš„ä¸€ä¸ªæ¦‚å¿µï¼Œæ­£å¦‚åå­—ä¸€æ ·ï¼Œæ’æ§½ç”¨äºå†³å®šå°†æ‰€æºå¸¦çš„å†…å®¹ï¼Œæ’å…¥åˆ°æŒ‡å®šçš„æŸä¸ªä½ç½®ï¼Œä»è€Œä½¿æ¨¡æ¿åˆ†å—ï¼Œå…·æœ‰æ¨¡å—åŒ–çš„ç‰¹è´¨å’Œæ›´å¤§çš„é‡ç”¨æ€§ã€‚</li>
<li>!!!æ’æ§½æ˜¾ä¸æ˜¾ç¤ºã€æ€æ ·æ˜¾ç¤ºæ˜¯ç”±çˆ¶ç»„ä»¶æ¥æ§åˆ¶çš„ï¼Œè€Œæ’æ§½åœ¨å“ªé‡Œæ˜¾ç¤ºå°±ç”±å­ç»„ä»¶æ¥è¿›è¡Œæ§åˆ¶</li>
</ul>
<a id="more"></a>

<h2 id="æ€ä¹ˆç”¨æ’æ§½ï¼Ÿ"><a href="#æ€ä¹ˆç”¨æ’æ§½ï¼Ÿ" class="headerlink" title="æ€ä¹ˆç”¨æ’æ§½ï¼Ÿ"></a>æ€ä¹ˆç”¨æ’æ§½ï¼Ÿ</h2><h3 id="é»˜è®¤æ’æ§½"><a href="#é»˜è®¤æ’æ§½" class="headerlink" title="é»˜è®¤æ’æ§½"></a>é»˜è®¤æ’æ§½</h3><p>çˆ¶ç»„ä»¶</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    æˆ‘æ˜¯çˆ¶ç»„ä»¶</span><br><span class="line">    &lt;slotOne1&gt;</span><br><span class="line">      &lt;p style&#x3D;&quot;color:red&quot;&gt;æˆ‘æ˜¯çˆ¶ç»„ä»¶æ’æ§½å†…å®¹&lt;&#x2F;p&gt;</span><br><span class="line">    &lt;&#x2F;slotOne1&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>åœ¨çˆ¶ç»„ä»¶å¼•ç”¨çš„å­ç»„ä»¶ä¸­å†™å…¥æƒ³è¦æ˜¾ç¤ºçš„å†…å®¹ï¼ˆå¯ä»¥ä½¿ç”¨æ ‡ç­¾ï¼Œä¹Ÿå¯ä»¥ä¸ç”¨ï¼‰</p>
</blockquote>
<p>å­ç»„ä»¶(slotOne1)</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class&#x3D;&quot;slotOne1&quot;&gt;</span><br><span class="line">    &lt;div&gt;æˆ‘æ˜¯slotOne1ç»„ä»¶&lt;&#x2F;div&gt;</span><br><span class="line">    &lt;slot&gt;&lt;&#x2F;slot&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>åœ¨å­ç»„ä»¶ä¸­å†™å…¥slotï¼Œslotæ‰€åœ¨çš„ä½ç½®å°±æ˜¯çˆ¶ç»„ä»¶è¦æ˜¾ç¤ºçš„å†…å®¹</p>
</blockquote>
<p><img src="https://img2018.cnblogs.com/blog/1472147/201811/1472147-20181112144105784-1098819459.png" alt="img"></p>
<h3 id="å…·åæ’æ§½"><a href="#å…·åæ’æ§½" class="headerlink" title="å…·åæ’æ§½"></a>å…·åæ’æ§½</h3><p>å­ç»„ä»¶</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class&#x3D;&quot;slottwo&quot;&gt;</span><br><span class="line">    &lt;div&gt;slottwo&lt;&#x2F;div&gt;</span><br><span class="line">    &lt;slot name&#x3D;&quot;header&quot;&gt;&lt;&#x2F;slot&gt;</span><br><span class="line">    &lt;slot&gt;&lt;&#x2F;slot&gt;</span><br><span class="line">    &lt;slot name&#x3D;&quot;footer&quot;&gt;&lt;&#x2F;slot&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>åœ¨å­ç»„ä»¶ä¸­å®šä¹‰äº†ä¸‰ä¸ªslotæ ‡ç­¾ï¼Œå…¶ä¸­æœ‰ä¸¤ä¸ªåˆ†åˆ«æ·»åŠ äº†nameå±æ€§headerå’Œfooter</p>
</blockquote>
<p>çˆ¶ç»„ä»¶</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    æˆ‘æ˜¯çˆ¶ç»„ä»¶</span><br><span class="line">    &lt;slot-two&gt;</span><br><span class="line">      &lt;p&gt;å•¦å•¦å•¦ï¼Œå•¦å•¦å•¦ï¼Œæˆ‘æ˜¯å–æŠ¥çš„å°è¡Œå®¶&lt;&#x2F;p&gt;</span><br><span class="line">      &lt;template slot&#x3D;&quot;header&quot;&gt;</span><br><span class="line">          &lt;p&gt;æˆ‘æ˜¯nameä¸ºheaderçš„slot&lt;&#x2F;p&gt;</span><br><span class="line">      &lt;&#x2F;template&gt;</span><br><span class="line">      &lt;p slot&#x3D;&quot;footer&quot;&gt;æˆ‘æ˜¯nameä¸ºfooterçš„slot&lt;&#x2F;p&gt;</span><br><span class="line">    &lt;&#x2F;slot-two&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>åœ¨çˆ¶ç»„ä»¶ä¸­ä½¿ç”¨templateå¹¶å†™å…¥å¯¹åº”çš„slotå€¼æ¥æŒ‡å®šè¯¥å†…å®¹åœ¨å­ç»„ä»¶ä¸­ç°å®çš„ä½ç½®ï¼ˆå½“ç„¶ä¹Ÿä¸ç”¨å¿…é¡»å†™åˆ°templateï¼‰ï¼Œæ²¡æœ‰å¯¹åº”å€¼çš„å…¶ä»–å†…å®¹ä¼šè¢«æ”¾åˆ°å­ç»„ä»¶ä¸­æ²¡æœ‰æ·»åŠ nameå±æ€§çš„slotä¸­</p>
</blockquote>
<p><img src="https://img2018.cnblogs.com/blog/1472147/201811/1472147-20181112144415380-998676771.png" alt="img"></p>
<h3 id="æ’æ§½çš„é»˜è®¤å†…å®¹"><a href="#æ’æ§½çš„é»˜è®¤å†…å®¹" class="headerlink" title="æ’æ§½çš„é»˜è®¤å†…å®¹"></a>æ’æ§½çš„é»˜è®¤å†…å®¹</h3><p>çˆ¶ç»„ä»¶</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    æˆ‘æ˜¯çˆ¶ç»„ä»¶</span><br><span class="line">    &lt;slot-two&gt;&lt;&#x2F;slot-two&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br></pre></td></tr></table></figure>

<p>å­ç»„ä»¶</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class&#x3D;&quot;slottwo&quot;&gt;</span><br><span class="line">    &lt;slot&gt;æˆ‘ä¸æ˜¯å–æŠ¥çš„å°è¡Œå®¶&lt;&#x2F;slot&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>å¯ä»¥åœ¨å­ç»„ä»¶çš„slotæ ‡ç­¾ä¸­å†™å…¥å†…å®¹ï¼Œå½“çˆ¶ç»„ä»¶æ²¡æœ‰å†™å…¥å†…å®¹æ—¶ä¼šæ˜¾ç¤ºå­ç»„ä»¶çš„é»˜è®¤å†…å®¹ï¼Œå½“çˆ¶ç»„ä»¶å†™å…¥å†…å®¹æ—¶ï¼Œä¼šæ›¿æ¢å­ç»„ä»¶çš„é»˜è®¤å†…å®¹</p>
</blockquote>
<p><img src="https://img2018.cnblogs.com/blog/1472147/201811/1472147-20181112144645560-431732801.png" alt="img"></p>
<h3 id="ç¼–è¯‘ä½œç”¨åŸŸ"><a href="#ç¼–è¯‘ä½œç”¨åŸŸ" class="headerlink" title="ç¼–è¯‘ä½œç”¨åŸŸ"></a>ç¼–è¯‘ä½œç”¨åŸŸ</h3><p>çˆ¶ç»„ä»¶</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    æˆ‘æ˜¯çˆ¶ç»„ä»¶</span><br><span class="line">    &lt;slot-two&gt;</span><br><span class="line">      &lt;p&gt;&#123;&#123;name&#125;&#125;&lt;&#x2F;p&gt;</span><br><span class="line">    &lt;&#x2F;slot-two&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      nameï¼š &#39;Jack&#39;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<p>å­ç»„ä»¶</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class&#x3D;&quot;slottwo&quot;&gt;</span><br><span class="line">    &lt;slot&gt;&lt;&#x2F;slot&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br></pre></td></tr></table></figure>

<p><img src="https://img2018.cnblogs.com/blog/1472147/201811/1472147-20181112145001679-568383132.png" alt="img"></p>
<h3 id="ä½œç”¨åŸŸæ’æ§½"><a href="#ä½œç”¨åŸŸæ’æ§½" class="headerlink" title="ä½œç”¨åŸŸæ’æ§½"></a>ä½œç”¨åŸŸæ’æ§½</h3><p>å­ç»„ä»¶</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    æˆ‘æ˜¯ä½œç”¨åŸŸæ’æ§½çš„å­ç»„ä»¶</span><br><span class="line">    &lt;slot :data&#x3D;&quot;user&quot;&gt;&lt;&#x2F;slot&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;slotthree&#39;,</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      user: [</span><br><span class="line">        &#123;name: &#39;Jack&#39;, sex: &#39;boy&#39;&#125;,</span><br><span class="line">        &#123;name: &#39;Jone&#39;, sex: &#39;girl&#39;&#125;,</span><br><span class="line">        &#123;name: &#39;Tom&#39;, sex: &#39;boy&#39;&#125;</span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>åœ¨å­ç»„ä»¶çš„slotæ ‡ç­¾ä¸Šç»‘å®šéœ€è¦çš„å€¼</p>
</blockquote>
<p>çˆ¶ç»„ä»¶</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    æˆ‘æ˜¯ä½œç”¨åŸŸæ’æ§½</span><br><span class="line">    &lt;slot-three&gt;</span><br><span class="line">      &lt;template slot-scope&#x3D;&quot;user&quot;&gt;</span><br><span class="line">        &lt;div v-for&#x3D;&quot;(item, index) in user.data&quot; :key&#x3D;&quot;index&quot;&gt;</span><br><span class="line">        &#123;&#123;item&#125;&#125;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">      &lt;&#x2F;template&gt;</span><br><span class="line">    &lt;&#x2F;slot-three&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>åœ¨çˆ¶ç»„ä»¶ä¸Šä½¿ç”¨slot-scopeå±æ€§ï¼Œuser.dataå°±æ˜¯å­ç»„ä»¶ä¼ è¿‡æ¥çš„å€¼</p>
</blockquote>
]]></content>
      <categories>
        <category>vue</category>
      </categories>
      <tags>
        <tag>vue</tag>
        <tag>slot</tag>
      </tags>
  </entry>
  <entry>
    <title>vue_templateæ ‡ç­¾ç›¸å…³</title>
    <url>/2020/07/30/vue-template%E6%A0%87%E7%AD%BE%E7%9B%B8%E5%85%B3/</url>
    <content><![CDATA[<h3 id="äº‹ä»¶"><a href="#äº‹ä»¶" class="headerlink" title="äº‹ä»¶"></a>äº‹ä»¶</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">v-on:keyup.enter--@dblclick(åŒå‡»)</span><br><span class="line">v-on:dblclick--@dblclick(åŒå‡»)</span><br></pre></td></tr></table></figure>

<a id="more"></a>

<h3 id="è¡¨å•ä¿®é¥°ç¬¦"><a href="#è¡¨å•ä¿®é¥°ç¬¦" class="headerlink" title="è¡¨å•ä¿®é¥°ç¬¦"></a>è¡¨å•ä¿®é¥°ç¬¦</h3><p><a href="https://cn.vuejs.org/v2/guide/forms.html#lazy" target="_blank" rel="noopener">.lazy</a></p>
<p>åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼Œv-model åœ¨æ¯æ¬¡ input äº‹ä»¶è§¦å‘åå°†è¾“å…¥æ¡†çš„å€¼ä¸æ•°æ®è¿›è¡ŒåŒæ­¥ (é™¤äº†<a href="https://cn.vuejs.org/v2/guide/forms.html#vmodel-ime-tip" target="_blank" rel="noopener">ä¸Šè¿°</a>è¾“å…¥æ³•ç»„åˆæ–‡å­—æ—¶)ã€‚ä½ å¯ä»¥æ·»åŠ  lazy ä¿®é¥°ç¬¦ï¼Œä»è€Œè½¬å˜ä¸ºä½¿ç”¨ changeäº‹ä»¶è¿›è¡ŒåŒæ­¥ï¼š</p>
<!-- åœ¨â€œchangeâ€æ—¶è€Œéâ€œinputâ€æ—¶æ›´æ–° --><input v-model.lazy="msg">

<p><a href="https://cn.vuejs.org/v2/guide/forms.html#number" target="_blank" rel="noopener">.number</a></p>
<p>å¦‚æœæƒ³è‡ªåŠ¨å°†ç”¨æˆ·çš„è¾“å…¥å€¼è½¬ä¸ºæ•°å€¼ç±»å‹ï¼Œå¯ä»¥ç»™ v-model æ·»åŠ  number ä¿®é¥°ç¬¦ï¼š</p>
<input v-model.number="age" type="number">

<p>è¿™é€šå¸¸å¾ˆæœ‰ç”¨ï¼Œå› ä¸ºå³ä½¿åœ¨ type=â€numberâ€ æ—¶ï¼ŒHTML è¾“å…¥å…ƒç´ çš„å€¼ä¹Ÿæ€»ä¼šè¿”å›å­—ç¬¦ä¸²ã€‚å¦‚æœè¿™ä¸ªå€¼æ— æ³•è¢« parseFloat() è§£æï¼Œåˆ™ä¼šè¿”å›åŸå§‹çš„å€¼ã€‚</p>
<p><a href="https://cn.vuejs.org/v2/guide/forms.html#trim" target="_blank" rel="noopener">.trim</a></p>
<p>å¦‚æœè¦è‡ªåŠ¨è¿‡æ»¤ç”¨æˆ·è¾“å…¥çš„é¦–å°¾ç©ºç™½å­—ç¬¦ï¼Œå¯ä»¥ç»™ v-model æ·»åŠ  trim ä¿®é¥°ç¬¦ï¼š</p>
<input v-model.trim="msg">



<h3 id="isçš„ä½œç”¨"><a href="#isçš„ä½œç”¨" class="headerlink" title=":isçš„ä½œç”¨"></a>:isçš„ä½œç”¨</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">åŠ¨æ€åˆ‡æ¢ä¸åŒç»„ä»¶</span><br><span class="line">&lt;div v-bind:is&#x3D;&quot;currentView&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">return &#123;</span><br><span class="line">    currentView:&#39;component1&#39;</span><br><span class="line">     &#x2F;&#x2F;å½“å‰ç»„ä»¶</span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line">è§£æDOMæ¨¡æ¿ : è§£é™¤é™åˆ¶å…ƒç´ </span><br><span class="line">&lt;table&gt;</span><br><span class="line">      &lt;my-component&gt;&lt;&#x2F;my-component&gt;</span><br><span class="line">&lt;&#x2F;table&gt;</span><br><span class="line">&lt;!-- è¿™ä¸ªè‡ªå®šä¹‰ç»„ä»¶&lt;my-component&gt;ä¼šè¢«ä½œä¸ºæ— æ•ˆçš„å†…å®¹æå‡åˆ°å¤–éƒ¨ï¼Œå¹¶å¯¼è‡´æœ€ç»ˆæ¸²æŸ“ç»“æœå‡ºé”™ã€‚ --&gt;</span><br><span class="line">&lt;table&gt; &lt;tr is&#x3D;&quot;my-component&quot;&gt;&lt;&#x2F;tr&gt; &lt;&#x2F;table&gt;</span><br><span class="line">&lt;!--å¢åŠ isç‰¹æ€§æ¥æ‰©å±•ï¼Œä»è€Œè¾¾åˆ°å¯ä»¥åœ¨è¿™äº›å—é™åˆ¶çš„htmlå…ƒç´ ä¸­ä½¿ç”¨ --&gt;</span><br></pre></td></tr></table></figure>



<h3 id="vueä¸­â€™-nativeâ€™ä¿®é¥°ç¬¦çš„ä½¿ç”¨"><a href="#vueä¸­â€™-nativeâ€™ä¿®é¥°ç¬¦çš„ä½¿ç”¨" class="headerlink" title="vueä¸­â€™. nativeâ€™ä¿®é¥°ç¬¦çš„ä½¿ç”¨"></a>vueä¸­â€™. nativeâ€™ä¿®é¥°ç¬¦çš„ä½¿ç”¨</h3><p>è¯¥ä¿®é¥°ç¬¦çš„ä½œç”¨å°±æ˜¯æŠŠä¸€ä¸ªvueç»„ä»¶è½¬åŒ–ä¸ºä¸€ä¸ªæ™®é€šçš„HTMLæ ‡ç­¾ï¼Œå¹¶ä¸”è¯¥ä¿®é¥°ç¬¦å¯¹æ™®é€šHTMLæ ‡ç­¾æ˜¯æ²¡æœ‰ä»»ä½•ä½œç”¨çš„ã€‚(å­ç»„ä»¶ç›´æ¥è°ƒç”¨çˆ¶ç»„ä»¶ä¸­çš„æ–¹æ³•)</p>
<p><img src="https://img-blog.csdnimg.cn/20200305115116484.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3F3cTE1MDM=,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<h3 id="classç±»å"><a href="#classç±»å" class="headerlink" title="classç±»å"></a>classç±»å</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">classç±»å</span><br><span class="line">&lt;!-- ç¬¬ä¸€ç§æ–¹å¼:å¯¹è±¡çš„å½¢å¼ --&gt;</span><br><span class="line">&lt;!-- ç¬¬ä¸€ä¸ªå‚æ•° ç±»åï¼Œ ç¬¬äºŒä¸ªå‚æ•°ï¼šbooleanå€¼ --&gt;</span><br><span class="line">&lt;!-- å¯¹è±¡çš„å½¢å¼: ç”¨èŠ±æ‹¬å·åŒ…è£¹èµ·æ¥ï¼Œç±»åç”¨å¼•å·ï¼Œ --&gt;</span><br><span class="line">&lt;!-- ä¼˜ç‚¹: ä»¥å¯¹è±¡çš„å½¢å¼å¯ä»¥å†™å¤šä¸ªï¼Œç”¨é€—å·åˆ†å¼€ --&gt;</span><br><span class="line">&lt;p :class&#x3D;&quot;&#123;&#39;p1&#39; : true&#125;&quot;&gt;å¯¹è±¡çš„å½¢å¼(æ–‡å­—çš„é¢œè‰²)&lt;&#x2F;p&gt;</span><br><span class="line">&lt;p :class&#x3D;&quot;&#123;&#39;p1&#39; : false, &#39;p&#39;: true&#125;&quot;&gt;å¯¹è±¡çš„å½¢å¼(æ–‡å­—çš„é¢œè‰²)&lt;&#x2F;p&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- ç¬¬äºŒç§æ–¹å¼:ä¸‰å…ƒè¡¨è¾¾å¼ æ³¨æ„ç‚¹ï¼šæ”¾åœ¨æ•°ç»„ä¸­ï¼Œç±»åè¦ç”¨å¼•å·--&gt;</span><br><span class="line">&lt;p :class&#x3D;&quot;[ 1 &lt; 2 ? &#39;p1&#39; : &#39;p&#39; ]&quot; &gt;ä¸‰å…ƒè¡¨ç¤ºå¼(æ–‡å­—çš„é¢œè‰²)&lt;&#x2F;p&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- ç¬¬ä¸‰ç§æ–¹å¼: æ•°ç»„çš„å½¢å¼ --&gt;</span><br><span class="line">&lt;p :class&#x3D;&quot;[isTrue, isFalse]&quot;&gt;æ•°ç»„çš„å½¢å¼(æ–‡å­—çš„é¢œè‰²)&lt;&#x2F;p&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- æ•°ç»„ä¸­ç”¨å¯¹è±¡ --&gt;</span><br><span class="line">&lt;p :class&#x3D;&quot;[&#123;&#39;p1&#39;: false&#125;, isFalse]&quot;&gt;æ•°ç»„ä¸­ä½¿ç”¨å¯¹è±¡(æ–‡å­—çš„é¢œè‰²)&lt;&#x2F;p&gt;</span><br><span class="line"> </span><br><span class="line">&lt;!--è¡¥å……:  classä¸­è¿˜å¯ä»¥ä¼ æ–¹æ³•ï¼Œåœ¨æ–¹æ³•ä¸­è¿”å›ç±»å--&gt;</span><br><span class="line">&lt;p :class&#x3D;&quot;setClass&quot;&gt;é€šè¿‡æ–¹æ³•è®¾ç½®classç±»å&lt;&#x2F;p&gt;</span><br></pre></td></tr></table></figure>



<h3 id="å¼•å…¥lessæ³¨æ„ç‚¹"><a href="#å¼•å…¥lessæ³¨æ„ç‚¹" class="headerlink" title="å¼•å…¥lessæ³¨æ„ç‚¹"></a>å¼•å…¥lessæ³¨æ„ç‚¹</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">å•æ–‡ä»¶ç»„ä»¶å¼•ç”¨cssæ–‡ä»¶çš„æ–¹å¼</span><br><span class="line">1.scriptä¸­å¼•å…¥</span><br><span class="line">&lt;script&gt;</span><br><span class="line">	import &#39;bulma&#x2F;css&#x2F;bulma.css&#39;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">2.styleä¸­å¼•å…¥</span><br><span class="line">&lt;style lang&#x3D;&quot;stylus&quot;&gt;</span><br><span class="line">	@import &#39;~bulma&#x2F;css&#x2F;bulma.css&#39;;è¿™ä¸ªåˆ†å·ä¸€å®šè¦å†™ï¼Œè¦ä¸ä¼šæŠ¥é”™</span><br><span class="line">&lt;&#x2F;style&gt;</span><br><span class="line"> </span><br><span class="line">3.å…¨å±€å¼•å…¥</span><br><span class="line">å°†å¤–éƒ¨çš„cssæ–‡ä»¶æ”¾åˆ°styleæ–‡ä»¶ä¸‹ï¼Œå¼•å…¥å¤–éƒ¨æ–‡ä»¶åªéœ€åœ¨main.jsæ–‡ä»¶ä¸­</span><br><span class="line">import &#39;.&#x2F;style&#x2F;reset.css&#39;</span><br></pre></td></tr></table></figure>



<h3 id="v-once-ä¿æŒæ’å€¼è¡¨è¾¾å¼å€¼ä¸å˜ï¼Œæ— æ³•åœ¨consoleé‡Œæ”¹å˜appçš„å€¼éå“åº”å¼"><a href="#v-once-ä¿æŒæ’å€¼è¡¨è¾¾å¼å€¼ä¸å˜ï¼Œæ— æ³•åœ¨consoleé‡Œæ”¹å˜appçš„å€¼éå“åº”å¼" class="headerlink" title="v-once(ä¿æŒæ’å€¼è¡¨è¾¾å¼å€¼ä¸å˜ï¼Œæ— æ³•åœ¨consoleé‡Œæ”¹å˜appçš„å€¼éå“åº”å¼ )"></a>v-once(ä¿æŒæ’å€¼è¡¨è¾¾å¼å€¼ä¸å˜ï¼Œæ— æ³•åœ¨consoleé‡Œæ”¹å˜appçš„å€¼éå“åº”å¼ )</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">v-once&#x3D;&quot;&#123;&#123;messenger&#125;&#125;&quot;</span><br></pre></td></tr></table></figure>



<h3 id="v-preï¼ˆä¸è¦è§£æå˜é‡-v-pre-åŸæ ·è¾“å‡ºï¼‰"><a href="#v-preï¼ˆä¸è¦è§£æå˜é‡-v-pre-åŸæ ·è¾“å‡ºï¼‰" class="headerlink" title="v-preï¼ˆä¸è¦è§£æå˜é‡ v-pre åŸæ ·è¾“å‡ºï¼‰"></a>v-preï¼ˆä¸è¦è§£æå˜é‡ v-pre åŸæ ·è¾“å‡ºï¼‰</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">v-pre&#x3D;&quot;&#123;&#123;messenger&#125;&#125;&quot;</span><br></pre></td></tr></table></figure>



<h3 id="keep-alive"><a href="#keep-alive" class="headerlink" title="keep-alive"></a>keep-alive</h3><p>keep-aliveæ˜¯Vueæä¾›çš„ä¸€ä¸ªæŠ½è±¡ç»„ä»¶ï¼Œç”¨æ¥å¯¹ç»„ä»¶è¿›è¡Œç¼“å­˜ï¼Œä»è€ŒèŠ‚çœæ€§èƒ½ï¼Œç”±äºæ˜¯ä¸€ä¸ªæŠ½è±¡ç»„ä»¶ï¼Œæ‰€ä»¥åœ¨vé¡µé¢æ¸²æŸ“å®Œæ¯•åä¸ä¼šè¢«æ¸²æŸ“æˆä¸€ä¸ªDOMå…ƒç´ </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;keep-alive&gt; </span><br><span class="line"></span><br><span class="line">   &lt;loading&gt;&lt;&#x2F;loading&gt;</span><br><span class="line"></span><br><span class="line">&lt;&#x2F;keep-laive&gt;</span><br></pre></td></tr></table></figure>

<p>å½“ç»„ä»¶åœ¨keep-aliveå†…è¢«åˆ‡æ¢æ—¶ç»„ä»¶çš„activatedã€deactivatedè¿™ä¸¤ä¸ªç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°ä¼šè¢«æ‰§è¡Œ</p>
<p>è¢«åŒ…è£¹åœ¨keep-aliveä¸­çš„ç»„ä»¶çš„çŠ¶æ€å°†ä¼šè¢«ä¿ç•™ï¼Œä¾‹å¦‚æˆ‘ä»¬å°†æŸä¸ªåˆ—è¡¨ç±»ç»„ä»¶å†…å®¹æ»‘åŠ¨åˆ°ç¬¬100æ¡ä½ç½®ï¼Œé‚£ä¹ˆæˆ‘ä»¬åœ¨åˆ‡æ¢åˆ°ä¸€ä¸ªç»„ä»¶åå†æ¬¡åˆ‡æ¢å›åˆ°è¯¥ç»„ä»¶ï¼Œè¯¥ç»„ä»¶çš„ä½ç½®çŠ¶æ€ä¾æ—§ä¼šä¿æŒåœ¨ç¬¬100æ¡åˆ—è¡¨å¤„</p>
<ul>
<li><p>å›åˆ°é¡¶éƒ¨</p>
<p>åœ¨keep-aliveæ¿€æ´»ä¼šè§¦å‘activatedé’©å­å‡½æ•°ï¼Œé‚£ä¹ˆåœ¨è¯¥å‡½æ•°å†…è®¾ç½®scrollTopä¸º0</p>
</li>
<li><p>å¼ºåˆ¶åˆ·æ–°æŸäº›ç»„ä»¶</p>
<ul>
<li>åˆ©ç”¨includeã€excludeå±æ€§</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;keep-alive include&#x3D;&quot;bookLists,bookLists&quot;&gt;</span><br><span class="line"></span><br><span class="line">      &lt;router-view&gt;&lt;&#x2F;router-view&gt;</span><br><span class="line"></span><br><span class="line">&lt;&#x2F;keep-alive&gt;</span><br><span class="line"></span><br><span class="line">&lt;keep-alive exclude&#x3D;&quot;indexLists&quot;&gt;</span><br><span class="line"></span><br><span class="line">      &lt;router-view&gt;&lt;&#x2F;router-view&gt;</span><br><span class="line"></span><br><span class="line">&lt;&#x2F;keep-alive&gt;</span><br></pre></td></tr></table></figure>

<p>includeå±æ€§è¡¨ç¤ºåªæœ‰nameå±æ€§ä¸ºbookListsï¼ŒbookListsçš„ç»„ä»¶ä¼šè¢«ç¼“å­˜ï¼Œï¼ˆæ³¨æ„æ˜¯ç»„ä»¶çš„åå­—ï¼Œä¸æ˜¯è·¯ç”±çš„åå­—ï¼‰å…¶å®ƒç»„ä»¶ä¸ä¼šè¢«ç¼“å­˜excludeå±æ€§è¡¨ç¤ºé™¤äº†nameå±æ€§ä¸ºindexListsçš„ç»„ä»¶ä¸ä¼šè¢«ç¼“å­˜ï¼Œå…¶å®ƒç»„ä»¶éƒ½ä¼šè¢«ç¼“å­˜</p>
<ul>
<li><ul>
<li>åˆ©ç”¨metaå±æ€§</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export</span><br><span class="line">default[&#123;</span><br><span class="line">        path:</span><br><span class="line">        &#39;&#x2F;&#39;,</span><br><span class="line">        name: &#39;home&#39;,</span><br><span class="line">        components: Home,</span><br><span class="line">        meta: &#123;</span><br><span class="line">            keepAlive: true &#x2F;&#x2F;éœ€è¦è¢«ç¼“å­˜çš„ç»„ä»¶ </span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">        path: &#39;&#x2F;book&#39;,</span><br><span class="line">        name: &#39;book&#39;,</span><br><span class="line">        components: Book,</span><br><span class="line">        meta: &#123;</span><br><span class="line">        keepAlive: false &#x2F;&#x2F;ä¸éœ€è¦è¢«ç¼“å­˜çš„ç»„ä»¶ </span><br><span class="line">        &#125;</span><br><span class="line">       ]</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;keep-alive&gt; </span><br><span class="line"> 	&lt;router-view v-if&#x3D;&quot;this.$route.meat.keepAlive&quot;&gt;&lt;&#x2F;router-view&gt;</span><br><span class="line"> 	&lt;!--è¿™é‡Œæ˜¯ä¼šè¢«ç¼“å­˜çš„ç»„ä»¶--&gt;</span><br><span class="line">&lt;&#x2F;keep-alive&gt;</span><br><span class="line"></span><br><span class="line">&lt;keep-alive&gt;</span><br><span class="line"> 	 &lt;router-view v-if&#x3D;&quot;!this.$route.meat.keepAlive&quot;&gt;&lt;&#x2F;router-view&gt;</span><br><span class="line">  	&lt;!--è¿™é‡Œæ˜¯ä¸ä¼šè¢«ç¼“å­˜çš„ç»„ä»¶--&gt;</span><br><span class="line">&lt;&#x2F;keep-alive&gt;</span><br></pre></td></tr></table></figure>



<h3 id="data-v-23d425f8-å±æ€§"><a href="#data-v-23d425f8-å±æ€§" class="headerlink" title="[data-v-23d425f8]å±æ€§"></a>[data-v-23d425f8]å±æ€§</h3><p> è¿™æ˜¯åœ¨æ ‡è®°vueæ–‡ä»¶ä¸­cssæ—¶ä½¿ç”¨scopedæ ‡è®°äº§ç”Ÿçš„ï¼Œå› ä¸ºè¦ä¿è¯å„æ–‡ä»¶ä¸­çš„cssä¸ç›¸äº’å½±å“ï¼Œç»™æ¯ä¸ªcomponentéƒ½åšäº†å”¯ä¸€çš„æ ‡è®°ï¼Œæ‰€ä»¥æ¯å¼•å…¥ä¸€ä¸ªcomponentå°±ä¼šå‡ºç°ä¸€ä¸ªæ–°çš„â€™data-v-xxxâ€™æ ‡è®°</p>
<p>ä½¿ç”¨æ·±åº¦é€‰æ‹©å™¨/deep/å¯ä»¥æ”¹å˜ç¬¬ä¸‰æ–¹çš„æ ·å¼ï¼Œå¹¶ä¸”ä¼šåˆdata-vå±æ€§ï¼Œä¸ä¼šæ±¡æŸ“å…¨å±€ï¼Œåªåœ¨å½“å‰ä½œç”¨åŸŸç”Ÿæ•ˆï¼Œç›¸å½“äºscoped</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">.van-tabs &#x2F;deep&#x2F; .van-ellipsis &#123; color: blue&#125;;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<p>ç¼–è¯‘åçš„ç»“æœå°±æ˜¯ï¼š</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz/nyQjSftfElZ8QI3e1icLryxdaRFq0iaHdytHUuoDluRyGKZsr2MicRaRLHKqD7sYaYhYSHKpI0rgF6ERUbGyzN2kA/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"></p>
<p>è¿™æ ·å°±ä¸ä¼šç»™van-ellipsisä¹Ÿæ·»åŠ [data-v-23d425f8]å±æ€§äº†ã€‚è‡³æ­¤ä½ å¯ä»¥æ„‰å¿«çš„ä¿®æ”¹ç¬¬ä¸‰æ–¹ç»„ä»¶çš„æ ·å¼äº†ã€‚</p>
<p>å½“ç„¶äº†è¿™é‡Œçš„æ·±åº¦é€‰æ‹©å™¨<code>/deep/</code>æ˜¯å› ä¸ºæˆ‘ç”¨çš„<code>less</code>è¯­è¨€ï¼Œå¦‚æœä½ æ²¡æœ‰ä½¿ç”¨<code>less/sass</code>ç­‰ï¼Œå¯ä»¥ç”¨<code>&gt;&gt;&gt;</code>ç¬¦å·ã€‚</p>
<style scoped>
    .parent >>> .child { /* ... */ }
</style>



<h3 id="æ¸…é™¤å®šæ—¶å™¨çš„-onceæ–¹æ³•"><a href="#æ¸…é™¤å®šæ—¶å™¨çš„-onceæ–¹æ³•" class="headerlink" title="æ¸…é™¤å®šæ—¶å™¨çš„$onceæ–¹æ³•"></a>æ¸…é™¤å®šæ—¶å™¨çš„$onceæ–¹æ³•</h3><p>è¯¥æ–¹æ³•æ˜¯é€šè¿‡$onceè¿™ä¸ªäº‹ä»¶ä¾¦å¬å™¨å™¨åœ¨å®šä¹‰å®Œå®šæ—¶å™¨ä¹‹åçš„ä½ç½®æ¥æ¸…é™¤å®šæ—¶å™¨ã€‚ä»¥ä¸‹æ˜¯å®Œæ•´ä»£ç ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const timer &#x3D; setInterval(() &#x3D;&gt;&#123;                    </span><br><span class="line">    &#x2F;&#x2F; æŸäº›å®šæ—¶å™¨æ“ä½œ                </span><br><span class="line">&#125;, 500);            </span><br><span class="line">&#x2F;&#x2F; é€šè¿‡$onceæ¥ç›‘å¬å®šæ—¶å™¨ï¼Œåœ¨beforeDestroyé’©å­å¯ä»¥è¢«æ¸…é™¤ã€‚</span><br><span class="line">this.$once(&#39;hook:beforeDestroy&#39;, () &#x3D;&gt; &#123;            </span><br><span class="line">    clearInterval(timer);                                    </span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>



<h3 id="remæ–‡ä»¶çš„å¯¼å…¥é—®é¢˜ï¼š"><a href="#remæ–‡ä»¶çš„å¯¼å…¥é—®é¢˜ï¼š" class="headerlink" title="remæ–‡ä»¶çš„å¯¼å…¥é—®é¢˜ï¼š"></a>remæ–‡ä»¶çš„å¯¼å…¥é—®é¢˜ï¼š</h3><p>æˆ‘ä»¬åœ¨åšæ‰‹æœºç«¯æ—¶ï¼Œé€‚é…æ˜¯å¿…é¡»è¦å¤„ç†çš„ä¸€ä¸ªé—®é¢˜ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¤„ç†é€‚é…çš„æ–¹æ¡ˆå°±æ˜¯é€šè¿‡å†™ä¸€ä¸ªrem.jsï¼ŒåŸç†å¾ˆç®€å•ï¼Œå°±æ˜¯æ ¹æ®ç½‘é¡µå°ºå¯¸è®¡ç®—htmlçš„font-sizeå¤§å°ï¼ŒåŸºæœ¬ä¸Šå°ä¼™ä¼´ä»¬éƒ½çŸ¥é“ï¼Œè¿™é‡Œç›´æ¥é™„ä¸Šä»£ç ï¼Œä¸å¤šåšä»‹ç»ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">(function(c, d) &#123;</span><br><span class="line">    var e &#x3D; document.documentElement || document.body,</span><br><span class="line">    a &#x3D; &quot;orientationchange&quot; in window ? &quot;orientationchange&quot;: &quot;resize&quot;,</span><br><span class="line">    b &#x3D; function() &#123;</span><br><span class="line">        var f &#x3D; e.clientWidth;</span><br><span class="line">        e.style.fontSize &#x3D; (f &gt;&#x3D; 750) ? &quot;100px&quot;: 100 * (f &#x2F; 750) + &quot;px&quot;</span><br><span class="line">    &#125;;</span><br><span class="line">    b();</span><br><span class="line">    c.addEventListener(a, b, false)</span><br><span class="line">&#125;)(window);</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œè¯´ä¸‹æ€ä¹ˆå¼•å…¥çš„é—®é¢˜ï¼Œå¾ˆç®€å•ã€‚åœ¨main.jsä¸­ï¼Œç›´æ¥<code>import &#39;./config/rem&#39;</code>å¯¼å…¥å³å¯ã€‚importçš„è·¯å¾„æ ¹æ®ä½ çš„æ–‡ä»¶è·¯å¾„å»å¡«å†™ã€‚</p>
<h3 id="åŒå‘æ•°æ®ç»‘å®š"><a href="#åŒå‘æ•°æ®ç»‘å®š" class="headerlink" title="åŒå‘æ•°æ®ç»‘å®š"></a>åŒå‘æ•°æ®ç»‘å®š</h3><p><strong>æ–¹å¼ä¸€ï¼š</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;empty v-model&#x3D;&quot;msg&quot;&gt;&lt;&#x2F;empty&gt;å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<p>å­ç»„ä»¶å†™æ³•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; ç‚¹å‡»è¯¥æŒ‰é’®è§¦å‘çˆ¶å­ç»„ä»¶çš„æ•°æ®åŒæ­¥</span><br><span class="line">&lt;div class&#x3D;&quot;share-btn&quot; @click&#x3D;&quot;confirm&quot;&gt;ç¡®å®š&lt;&#x2F;div&gt;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; æ¥æ”¶çˆ¶ç»„ä»¶ä¼ é€’çš„valueå€¼</span><br><span class="line">&#x2F;&#x2F; æ³¨æ„ï¼Œè¿™ç§å®ç°æ–¹æ³•ï¼Œè¿™é‡Œåªèƒ½ä½¿ç”¨valueå±æ€§å</span><br><span class="line">props: &#123;            </span><br><span class="line">    value: &#123;                </span><br><span class="line">        type: Boolean,                </span><br><span class="line">        default: false            </span><br><span class="line">    &#125;        </span><br><span class="line">&#125;,</span><br><span class="line">methods: &#123;            </span><br><span class="line">    confirm () &#123;                </span><br><span class="line">        &#x2F;&#x2F; åŒå‘æ•°æ®ç»‘å®šçˆ¶ç»„ä»¶:valueå¯¹åº”çš„å€¼ </span><br><span class="line">        &#x2F;&#x2F; é€šè¿‡$emitè§¦å‘çˆ¶ç»„ä»¶inputäº‹ä»¶ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºä¼ é€’ç»™çˆ¶ç»„ä»¶çš„å€¼ï¼Œè¿™é‡Œä¼ é€’äº†ä¸€ä¸ªfalseå€¼ </span><br><span class="line">        &#x2F;&#x2F; å¯ä»¥ç†è§£ä¸ºæœ€ä¸Šé¢å±•ç¤ºçš„@input&#x3D;&quot;msg &#x3D; $event.target.value&quot;è¿™ä¸ªäº‹ä»¶</span><br><span class="line">        &#x2F;&#x2F; å³è§¦å‘çˆ¶ç»„ä»¶çš„inputäº‹ä»¶ï¼Œå¹¶å°†ä¼ é€’çš„å€¼â€˜falseâ€™èµ‹å€¼ç»™msg             </span><br><span class="line">        this.$emit(&#39;input&#39;, false)            </span><br><span class="line">    &#125;        </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>æ–¹å¼äºŒï¼š</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;empty v-model&#x3D;&quot;msg&quot;&gt;&lt;&#x2F;empty&gt;å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<p>å­ç»„ä»¶å†™æ³•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;div class&#x3D;&quot;share-btn&quot; @click&#x3D;&quot;confirm&quot;&gt;ç¡®å®š&lt;&#x2F;div&gt;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; modelé€‰é¡¹ç”¨æ¥é¿å…å†²çª</span><br><span class="line">&#x2F;&#x2F; propå±æ€§ç”¨æ¥æŒ‡å®špropså±æ€§ä¸­çš„å“ªä¸ªå€¼ç”¨æ¥æ¥æ”¶çˆ¶ç»„ä»¶v-modelä¼ é€’çš„å€¼</span><br><span class="line">&#x2F;&#x2F; ä¾‹å¦‚è¿™é‡Œç”¨propsä¸­çš„showæ¥æ¥æ”¶çˆ¶ç»„ä»¶ä¼ é€’çš„v-modelå€¼</span><br><span class="line">&#x2F;&#x2F; eventï¼šä¸ºäº†æ–¹ä¾¿ç†è§£ï¼Œå¯ä»¥ç®€å•ç†è§£ä¸ºçˆ¶ç»„ä»¶@inputçš„åˆ«åï¼Œä»è€Œé¿å…å†²çª</span><br><span class="line">&#x2F;&#x2F; eventçš„å€¼å¯¹åº”äº†ä½ emitæ—¶è¦æäº¤çš„äº‹ä»¶åï¼Œä½ å¯ä»¥å«aaï¼Œä¹Ÿå¯ä»¥å«bbï¼Œä½†æ˜¯è¦å‘½åè¦æœ‰æ„ä¹‰å“¦ï¼ï¼ï¼</span><br><span class="line">model: &#123;            </span><br><span class="line">    prop: &#39;show&#39;,            </span><br><span class="line">    event: &#39;changed&#39;        </span><br><span class="line">&#125;,</span><br><span class="line">props: &#123;</span><br><span class="line">    &#x2F;&#x2F; ç”±äºmodelé€‰é¡¹ä¸­çš„propå±æ€§æŒ‡å®šäº†ï¼Œæ‰€ä»¥showæ¥æ”¶çš„æ˜¯çˆ¶ç»„ä»¶v-modelä¼ é€’çš„å€¼            </span><br><span class="line">    show: &#123;                </span><br><span class="line">        type: Boolean,                </span><br><span class="line">        default: false            </span><br><span class="line">    &#125;        </span><br><span class="line">&#125;,        </span><br><span class="line">methods: &#123;            </span><br><span class="line">    confirm () &#123;                </span><br><span class="line">        &#x2F;&#x2F; åŒå‘æ•°æ®ç»‘å®šçˆ¶ç»„ä»¶ä¼ é€’çš„å€¼</span><br><span class="line">        &#x2F;&#x2F; ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œå¯¹åº”modelé€‰é¡¹çš„eventçš„å€¼ï¼Œä½ å¯ä»¥å«aaï¼Œbbbï¼Œcccï¼Œèµ·åéšä½  </span><br><span class="line">        this.$emit(&#39;changed&#39;, false)            </span><br><span class="line">    &#125;        </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>æ–¹å¼ä¸‰ï¼š.sync</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;empty :oneprop.sync&#x3D;&quot;msg&quot;&gt;&lt;&#x2F;empty&gt;</span><br><span class="line"></span><br><span class="line">data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">        msg: &#39;&#39;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<p>å­ç»„ä»¶ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;div class&#x3D;&quot;share-btn&quot; @click&#x3D;&quot;changeMsg&quot;&gt;æ”¹å˜msgå€¼&lt;&#x2F;div&gt;</span><br><span class="line"></span><br><span class="line">props: &#123;            </span><br><span class="line">    oneprop: &#123;                </span><br><span class="line">        type: String,                </span><br><span class="line">        default: &#39;hello world&#39;</span><br><span class="line">    &#125;        </span><br><span class="line">&#125;,        </span><br><span class="line">methods: &#123;            </span><br><span class="line">    changeMsg () &#123;                </span><br><span class="line">        &#x2F;&#x2F; åŒå‘æ•°æ®æµ</span><br><span class="line">        this.$emit(&#39;update:msg&#39;, &#39;helow world&#39;)           </span><br><span class="line">    &#125;        </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="äº‹ä»¶ä»¬"><a href="#äº‹ä»¶ä»¬" class="headerlink" title="äº‹ä»¶ä»¬"></a>äº‹ä»¶ä»¬</h3><ul>
<li><code>vm.$emit(event ,[...args])</code>è¿™ä¸ªapiï¼Œå…¶ä¸»è¦ä½œç”¨å°±æ˜¯ç”¨æ¥è§¦å‘å½“å‰å®ä¾‹ä¸Šçš„äº‹ä»¶ã€‚é™„åŠ å‚æ•°éƒ½ä¼šä¼ ç»™ç›‘å¬å™¨å›è°ƒã€‚å­ç»„ä»¶ä¹Ÿå±äºå½“å‰å®ä¾‹ã€‚ç¬¬ä¸€ä¸ªå‚æ•°ï¼šè¦è§¦å‘çš„äº‹ä»¶åç§°ã€‚åç»­çš„å‚æ•°å¯é€‰ï¼šå³ä½œä¸ºå‚æ•°ä¼ é€’ç»™è¦è§¦å‘çš„äº‹ä»¶ã€‚æ–‡æ¡£</li>
<li>ç›‘å¬å½“å‰å®ä¾‹ä¸Šçš„è‡ªå®šä¹‰äº‹ä»¶ï¼Œäº‹ä»¶å¯ä»¥æœ‰$emitè§¦å‘ï¼Œä¹Ÿèƒ½<strong>é€šè¿‡hookç›‘å¬åˆ°é’©å­å‡½æ•°ï¼Œ</strong></li>
</ul>
<p>vm.$on( event, callback )ï¼šä¸€ç›´ç›‘å¬ï¼›æ–‡æ¡£</p>
<p>vm.$once( event, callback )ï¼šç›‘å¬ä¸€æ¬¡ï¼›æ–‡æ¡£</p>
<p>vm.$off( [event, callback] )ï¼šç§»é™¤ç›‘å¬ï¼›æ–‡æ¡£</p>
<p>ç›‘å¬$emitè§¦å‘çš„è‡ªå®šä¹‰äº‹ä»¶ï¼Œä¸Šé¢å·²ç»æœ‰è¿‡ç”¨æ³•äº†ï¼Œç›‘å¬é’©å­å‡½æ•°ï¼Œåœ¨ä¸Šé¢çš„å®šæ—¶å™¨é‚£å—ä¹Ÿæœ‰æ¼”ç¤ºåˆ°ã€‚ç›‘å¬é’©å­å‡½æ•°çš„åœºæ™¯ä½¿ç”¨çš„ä¸å¤šï¼Œä½†æ˜¯è¿˜æ˜¯è¦çŸ¥é“çš„ã€‚</p>
<ul>
<li>vm.$attrsï¼šå¯ä»¥è·å–åˆ°çˆ¶ç»„ä»¶ä¼ é€’çš„é™¤classå’Œstyleå¤–çš„æ‰€æœ‰è‡ªå®šä¹‰å±æ€§ã€‚</li>
<li>vm.$listenersï¼šå¯ä»¥è·å–åˆ°çˆ¶ç»„ä»¶ä¼ é€’çš„æ‰€æœ‰è‡ªå®šä¹‰äº‹ä»¶</li>
</ul>
<p>ä¾‹å¦‚ï¼šçˆ¶ç»„ä»¶:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;empty</span><br><span class="line">    :msg&#x3D;&quot;message&quot;</span><br><span class="line">    :title&#x3D;&quot;articleTitle&quot;</span><br><span class="line">    @confirm&#x3D;&quot;func1&quot;</span><br><span class="line">    @cancel&#x3D;&quot;func2&quot;</span><br><span class="line">&gt;&lt;&#x2F;empty&gt;å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<p>å°±å¯ä»¥åœ¨å­ç»„ä»¶ä¸­è·å–çˆ¶ç»„ä»¶ä¼ é€’çš„å±æ€§å’Œäº‹ä»¶ï¼Œè€Œä¸ç”¨åœ¨propsä¸­å®šä¹‰ã€‚å­ç»„ä»¶ç®€å•æ¼”ç¤ºå¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">created() &#123;            </span><br><span class="line">    const msg &#x3D; this.$attrs.msg; &#x2F;&#x2F; è·å–çˆ¶ç»„ä»¶ä¼ é€’çš„msg</span><br><span class="line">    this.$listeners.confirm &amp;&amp; this.$listeners.confirm(); &#x2F;&#x2F;è‹¥ç»„ä»¶ä¼ é€’äº‹ä»¶confirmåˆ™æ‰§è¡Œ</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>vue</category>
      </categories>
      <tags>
        <tag>vue</tag>
        <tag>æ ‡ç­¾</tag>
      </tags>
  </entry>
  <entry>
    <title>vue-vuex</title>
    <url>/2020/08/05/vue-vuex/</url>
    <content><![CDATA[<h1 id="æœ€å…¨VueçŠ¶æ€ç®¡ç†æ¨¡å¼"><a href="#æœ€å…¨VueçŠ¶æ€ç®¡ç†æ¨¡å¼" class="headerlink" title="æœ€å…¨VueçŠ¶æ€ç®¡ç†æ¨¡å¼"></a>æœ€å…¨VueçŠ¶æ€ç®¡ç†æ¨¡å¼</h1><h2 id="ä¸€ã€åˆè¯†VueX"><a href="#ä¸€ã€åˆè¯†VueX" class="headerlink" title="ä¸€ã€åˆè¯†VueX"></a>ä¸€ã€åˆè¯†VueX</h2><h3 id="1-1-å…³äºVueX"><a href="#1-1-å…³äºVueX" class="headerlink" title="1.1 å…³äºVueX"></a>1.1 å…³äº<code>VueX</code></h3><p><code>VueX</code>æ˜¯é€‚ç”¨äºåœ¨<code>Vue</code>é¡¹ç›®å¼€å‘æ—¶ä½¿ç”¨çš„çŠ¶æ€ç®¡ç†å·¥å…·ã€‚</p>
<p>è¯•æƒ³ä¸€ä¸‹ï¼Œå¦‚æœåœ¨ä¸€ä¸ªé¡¹ç›®å¼€å‘ä¸­é¢‘ç¹çš„ä½¿ç”¨ç»„ä»¶ä¼ å‚çš„æ–¹å¼æ¥åŒæ­¥<code>data</code>ä¸­çš„å€¼ï¼Œä¸€æ—¦é¡¹ç›®å˜å¾—å¾ˆåºå¤§ï¼Œç®¡ç†å’Œç»´æŠ¤è¿™äº›å€¼å°†æ˜¯ç›¸å½“æ£˜æ‰‹çš„å·¥ä½œã€‚</p>
<p>ä¸ºæ­¤ï¼Œ<code>Vue</code>ä¸ºè¿™äº›è¢«å¤šä¸ªç»„ä»¶é¢‘ç¹ä½¿ç”¨çš„å€¼æä¾›äº†ä¸€ä¸ªç»Ÿä¸€ç®¡ç†çš„å·¥å…·â€”â€”<code>VueX</code>ã€‚</p>
<p>åœ¨å…·æœ‰<code>VueX</code>çš„Vueé¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬åªéœ€è¦æŠŠè¿™äº›å€¼å®šä¹‰åœ¨VueXä¸­ï¼Œå³å¯åœ¨æ•´ä¸ªVueé¡¹ç›®çš„ç»„ä»¶ä¸­ä½¿ç”¨ã€‚</p>
<h3 id="1-2-å®‰è£…"><a href="#1-2-å®‰è£…" class="headerlink" title="1.2 å®‰è£…"></a>1.2 å®‰è£…</h3><p>ç”±äº<code>VueX</code>æ˜¯åœ¨å­¦ä¹ <code>VueCli</code>åè¿›è¡Œçš„ï¼Œæ‰€ä»¥åœ¨ä¸‹æ–‡å‡ºç°çš„é¡¹ç›®çš„ç›®å½•è¯·å‚ç…§<code>VueCli 2.x</code>æ„å»ºçš„ç›®å½•ã€‚</p>
<p>ä»¥ä¸‹æ­¥éª¤çš„å‰ææ˜¯ä½ å·²ç»å®Œæˆäº†Vueé¡¹ç›®æ„å»ºï¼Œå¹¶ä¸”å·²è½¬è‡³è¯¥é¡¹ç›®çš„æ–‡ä»¶ç›®å½•ä¸‹ã€‚</p>
<ul>
<li><p>Npmå®‰è£…Vuex</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">npm i vuex -s</span><br></pre></td></tr></table></figure>
</li>
<li><p>åœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹æ–°å¢ä¸€ä¸ª<code>store</code>æ–‡ä»¶å¤¹ï¼Œåœ¨è¯¥æ–‡ä»¶å¤¹å†…åˆ›å»ºindex.js</p>
<p>æ­¤æ—¶ä½ çš„é¡¹ç›®çš„<code>src</code>æ–‡ä»¶å¤¹åº”å½“æ˜¯è¿™æ ·çš„</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">â”‚  App.vue</span><br><span class="line">â”‚  main.js</span><br><span class="line">â”‚</span><br><span class="line">â”œâ”€assets</span><br><span class="line">â”‚      logo.png</span><br><span class="line">â”‚</span><br><span class="line">â”œâ”€components</span><br><span class="line">â”‚      HelloWorld.vue</span><br><span class="line">â”‚</span><br><span class="line">â”œâ”€router</span><br><span class="line">â”‚      index.js</span><br><span class="line">â”‚</span><br><span class="line">â””â”€store</span><br><span class="line">       index.js</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="1-3-ä½¿ç”¨"><a href="#1-3-ä½¿ç”¨" class="headerlink" title="1.3 ä½¿ç”¨"></a>1.3 ä½¿ç”¨</h3><h4 id="1-3-1-åˆå§‹åŒ–storeä¸‹index-jsä¸­çš„å†…å®¹"><a href="#1-3-1-åˆå§‹åŒ–storeä¸‹index-jsä¸­çš„å†…å®¹" class="headerlink" title="1.3.1 åˆå§‹åŒ–storeä¸‹index.jsä¸­çš„å†…å®¹"></a>1.3.1 åˆå§‹åŒ–<code>store</code>ä¸‹<code>index.js</code>ä¸­çš„å†…å®¹</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></span><br><span class="line"><span class="keyword">import</span> Vuex <span class="keyword">from</span> <span class="string">'vuex'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//æŒ‚è½½Vuex</span></span><br><span class="line">Vue.use(Vuex)</span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆ›å»ºVueXå¯¹è±¡</span></span><br><span class="line"><span class="keyword">const</span> store = <span class="keyword">new</span> Vuex.Store(&#123;</span><br><span class="line">    state:&#123;</span><br><span class="line">        <span class="comment">//å­˜æ”¾çš„é”®å€¼å¯¹å°±æ˜¯æ‰€è¦ç®¡ç†çš„çŠ¶æ€</span></span><br><span class="line">        name:<span class="string">'helloVueX'</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> store</span><br></pre></td></tr></table></figure>



<h4 id="1-3-2-å°†storeæŒ‚è½½åˆ°å½“å‰é¡¹ç›®çš„Vueå®ä¾‹å½“ä¸­å»ï¼ˆå®˜æ–¹æä¾›äº†ä¸€ç§æœºåˆ¶å°†çŠ¶æ€ä»æ ¹ç»„ä»¶-â€œæ³¨å…¥â€-åˆ°æ¯ä¸€ä¸ªå­ç»„ä»¶ä¸­ï¼‰"><a href="#1-3-2-å°†storeæŒ‚è½½åˆ°å½“å‰é¡¹ç›®çš„Vueå®ä¾‹å½“ä¸­å»ï¼ˆå®˜æ–¹æä¾›äº†ä¸€ç§æœºåˆ¶å°†çŠ¶æ€ä»æ ¹ç»„ä»¶-â€œæ³¨å…¥â€-åˆ°æ¯ä¸€ä¸ªå­ç»„ä»¶ä¸­ï¼‰" class="headerlink" title="1.3.2 å°†storeæŒ‚è½½åˆ°å½“å‰é¡¹ç›®çš„Vueå®ä¾‹å½“ä¸­å»ï¼ˆå®˜æ–¹æä¾›äº†ä¸€ç§æœºåˆ¶å°†çŠ¶æ€ä»æ ¹ç»„ä»¶ â€œæ³¨å…¥â€ åˆ°æ¯ä¸€ä¸ªå­ç»„ä»¶ä¸­ï¼‰"></a>1.3.2 å°†storeæŒ‚è½½åˆ°å½“å‰é¡¹ç›®çš„Vueå®ä¾‹å½“ä¸­å»ï¼ˆå®˜æ–¹æä¾›äº†ä¸€ç§æœºåˆ¶å°†çŠ¶æ€ä»æ ¹ç»„ä»¶ â€œæ³¨å…¥â€ åˆ°æ¯ä¸€ä¸ªå­ç»„ä»¶ä¸­ï¼‰</h4><p>æ‰“å¼€main.js</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">'./App'</span></span><br><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">'./router'</span></span><br><span class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">'./store'</span></span><br><span class="line"></span><br><span class="line">Vue.config.productionTip = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* eslint-disable no-new */</span></span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  el: <span class="string">'#app'</span>,</span><br><span class="line">  router,</span><br><span class="line">  store,  <span class="comment">//store:store å’Œrouterä¸€æ ·ï¼Œå°†æˆ‘ä»¬åˆ›å»ºçš„Vuexå®ä¾‹æŒ‚è½½åˆ°è¿™ä¸ªvueå®ä¾‹ä¸­</span></span><br><span class="line">  render: <span class="function"><span class="params">h</span> =&gt;</span> h(App)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>



<h4 id="1-3-3-åœ¨ç»„ä»¶ä¸­ä½¿ç”¨Vuex"><a href="#1-3-3-åœ¨ç»„ä»¶ä¸­ä½¿ç”¨Vuex" class="headerlink" title="1.3.3 åœ¨ç»„ä»¶ä¸­ä½¿ç”¨Vuex"></a>1.3.3 åœ¨ç»„ä»¶ä¸­ä½¿ç”¨Vuex</h4><ul>
<li>åŸç”Ÿå†™æ³•</li>
</ul>
<p>é‚£ä¹ˆæˆ‘ä»¬å¦‚ä½•åœ¨ Vue ç»„ä»¶ä¸­å±•ç¤ºçŠ¶æ€å‘¢ï¼Ÿç”±äº Vuex çš„çŠ¶æ€å­˜å‚¨æ˜¯å“åº”å¼çš„ï¼Œä» store å®ä¾‹ä¸­è¯»å–çŠ¶æ€æœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯åœ¨<a href="https://cn.vuejs.org/guide/computed.html" target="_blank" rel="noopener">è®¡ç®—å±æ€§</a>ä¸­è¿”å›æŸä¸ªçŠ¶æ€ï¼Œæ¯å½“ <code>store.state.count</code> å˜åŒ–çš„æ—¶å€™, éƒ½ä¼šé‡æ–°æ±‚å–è®¡ç®—å±æ€§ï¼Œå¹¶åˆ·æ–°ç•Œé¢ã€‚å¦‚ä¸‹ï¼š</p>
<figure class="highlight kotlin"><table><tr><td class="code"><pre><span class="line">.js</span><br><span class="line"><span class="keyword">import</span> Vue from <span class="string">'vue'</span></span><br><span class="line"><span class="keyword">import</span> Vuex from <span class="string">'vuex'</span></span><br><span class="line"></span><br><span class="line">Vue.use(Vuex)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> store = new Vuex.Store(&#123;</span><br><span class="line">  state: &#123;</span><br><span class="line">    count: <span class="number">0</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line">export store</span><br><span class="line"></span><br><span class="line">.vue</span><br><span class="line"><span class="keyword">import</span> &#123;store&#125; from ./js</span><br><span class="line"><span class="comment">// åˆ›å»ºä¸€ä¸ª Counter ç»„ä»¶</span></span><br><span class="line"><span class="keyword">const</span> Counter = &#123;</span><br><span class="line">  <span class="keyword">data</span>() &#123; <span class="keyword">return</span> &#123;&#125; &#125;,</span><br><span class="line">  template: `&lt;div&gt; count &lt;/div&gt;`,</span><br><span class="line">  computed: &#123;</span><br><span class="line">    count () &#123;</span><br><span class="line">      store.state.count</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>æ³¨æ„ï¼šå¦‚æœä½ æŠŠ <code>store.state.count</code> æ”¾åœ¨ data ä¸­ï¼Œ <code>store.state.count</code> çš„å˜åŒ–æ˜¯ä¸ä¼šä¸»åŠ¨è§¦å‘ç•Œé¢åˆ·æ–°çš„ï¼Œå½“ç„¶ï¼Œä¹Ÿä¸èƒ½ç›´æ¥è¿™æ ·ï¼š<code>&lt;div&gt; store.state.count &lt;/div&gt;</code> ï¼Œå› ä¸ºåœ¨æ¨¡æ¿ä¸­æ˜¯æ— æ³•ç›´æ¥è®¿é—®åˆ° store å¯¹è±¡çš„ï¼Œæ‰€ä»¥è¿™æ ·å†™æ— ç–‘ä¼šæŠ¥é”™ã€‚</strong></p>
<ul>
<li>æŒ‚è½½å…¨å±€å†™æ³•</li>
</ul>
<p>ä¾‹å¦‚åœ¨App.vueä¸­ï¼Œæˆ‘ä»¬è¦å°†stateä¸­å®šä¹‰çš„nameæ‹¿æ¥åœ¨h1æ ‡ç­¾ä¸­æ˜¾ç¤º</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">'app'</span>&gt;</span></span><br><span class="line">        name:</span><br><span class="line">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123; $store.state.name &#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>æˆ–è€…è¦åœ¨ç»„ä»¶æ–¹æ³•ä¸­ä½¿ç”¨</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">...,</span><br><span class="line">methods:&#123;</span><br><span class="line">    add()&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="keyword">this</span>.$store.state.name)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<p><strong>æ³¨æ„ï¼Œè¯·ä¸è¦åœ¨æ­¤å¤„æ›´æ”¹<code>state</code>ä¸­çš„çŠ¶æ€çš„å€¼ï¼Œåæ–‡ä¸­å°†ä¼šè¯´æ˜</strong></p>
<h3 id="1-4-å®‰è£…Vueå¼€å‘å·¥å…·VueDevtools"><a href="#1-4-å®‰è£…Vueå¼€å‘å·¥å…·VueDevtools" class="headerlink" title="1.4 å®‰è£…Vueå¼€å‘å·¥å…·VueDevtools"></a>1.4 å®‰è£…Vueå¼€å‘å·¥å…·VueDevtools</h3><p>åœ¨Vueé¡¹ç›®å¼€å‘ä¸­ï¼Œéœ€è¦ç›‘æ§é¡¹ç›®ä¸­å¾—å„ç§å€¼ï¼Œä¸ºäº†æé«˜æ•ˆç‡ï¼ŒVueæä¾›äº†ä¸€æ¬¾æµè§ˆå™¨æ‰©å±•â€”â€”VueDevtoolsã€‚</p>
<p><img src="https:////upload-images.jianshu.io/upload_images/16550832-e1b684e312a9bd1f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp" alt="img"></p>
<p>åœ¨å­¦ä¹ VueXæ—¶ï¼Œæ›´ä¸ºéœ€è¦ä½¿ç”¨è¯¥æ’ä»¶ã€‚å…³äºè¯¥æ’ä»¶çš„ä½¿ç”¨å¯ä»¥ç§»æ­¥å®˜ç½‘ï¼Œåœ¨æ­¤ä¸å†èµ˜å™ã€‚</p>
<h2 id="äºŒã€VueXä¸­çš„æ ¸å¿ƒå†…å®¹"><a href="#äºŒã€VueXä¸­çš„æ ¸å¿ƒå†…å®¹" class="headerlink" title="äºŒã€VueXä¸­çš„æ ¸å¿ƒå†…å®¹"></a>äºŒã€VueXä¸­çš„æ ¸å¿ƒå†…å®¹</h2><p>åœ¨VueXå¯¹è±¡ä¸­ï¼Œå…¶å®ä¸æ­¢æœ‰<code>state</code>,è¿˜æœ‰ç”¨æ¥æ“ä½œ<code>state</code>ä¸­æ•°æ®çš„æ–¹æ³•é›†ï¼Œä»¥åŠå½“æˆ‘ä»¬éœ€è¦å¯¹<code>state</code>ä¸­çš„æ•°æ®éœ€è¦åŠ å·¥çš„æ–¹æ³•é›†ç­‰ç­‰æˆå‘˜ã€‚</p>
<p>æˆå‘˜åˆ—è¡¨ï¼š</p>
<ul>
<li>state     å­˜æ”¾çŠ¶æ€</li>
<li>mutations   stateæˆå‘˜æ“ä½œ</li>
<li>getters     åŠ å·¥stateæˆå‘˜ç»™å¤–ç•Œ</li>
<li>actions     å¼‚æ­¥æ“ä½œ</li>
<li>modules   æ¨¡å—åŒ–çŠ¶æ€ç®¡ç†</li>
</ul>
<h3 id="2-1-VueXçš„å·¥ä½œæµç¨‹"><a href="#2-1-VueXçš„å·¥ä½œæµç¨‹" class="headerlink" title="2.1 VueXçš„å·¥ä½œæµç¨‹"></a>2.1 VueXçš„å·¥ä½œæµç¨‹</h3><p><img src="https:////upload-images.jianshu.io/upload_images/16550832-20d0ad3c60a99111.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/701/format/webp" alt="img"></p>
<p>Vuexå®˜ç½‘ç»™å‡ºçš„æµç¨‹å›¾</p>
<p>é¦–å…ˆï¼Œ<code>Vue</code>ç»„ä»¶å¦‚æœè°ƒç”¨æŸä¸ª<code>VueX</code>çš„æ–¹æ³•è¿‡ç¨‹ä¸­éœ€è¦å‘åç«¯è¯·æ±‚æ—¶æˆ–è€…è¯´å‡ºç°å¼‚æ­¥æ“ä½œæ—¶ï¼Œéœ€è¦<code>dispatch</code> VueXä¸­<code>actions</code>çš„æ–¹æ³•ï¼Œä»¥ä¿è¯æ•°æ®çš„åŒæ­¥ã€‚å¯ä»¥è¯´ï¼Œ<code>action</code>çš„å­˜åœ¨å°±æ˜¯ä¸ºäº†è®©<code>mutations</code>ä¸­çš„æ–¹æ³•èƒ½åœ¨å¼‚æ­¥æ“ä½œä¸­èµ·ä½œç”¨ã€‚</p>
<p>å¦‚æœæ²¡æœ‰å¼‚æ­¥æ“ä½œï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥ç›´æ¥åœ¨ç»„ä»¶å†…æäº¤çŠ¶æ€ä¸­çš„<code>Mutations</code>ä¸­è‡ªå·±ç¼–å†™çš„æ–¹æ³•æ¥è¾¾æˆå¯¹<code>state</code>æˆå‘˜çš„æ“ä½œã€‚æ³¨æ„ï¼Œ<code>1.3.3èŠ‚</code>ä¸­æœ‰æåˆ°ï¼Œä¸å»ºè®®åœ¨ç»„ä»¶ä¸­ç›´æ¥å¯¹<code>state</code>ä¸­çš„æˆå‘˜è¿›è¡Œæ“ä½œï¼Œè¿™æ˜¯å› ä¸ºç›´æ¥ä¿®æ”¹(ä¾‹å¦‚ï¼š<code>this.$store.state.name = &#39;hello&#39;</code>)çš„è¯ä¸èƒ½è¢«<code>VueDevtools</code>æ‰€ç›‘æ§åˆ°ã€‚</p>
<p>æœ€åè¢«ä¿®æ”¹åçš„stateæˆå‘˜ä¼šè¢«æ¸²æŸ“åˆ°ç»„ä»¶çš„åŸä½ç½®å½“ä¸­å»ã€‚</p>
<h3 id="2-2-Mutations"><a href="#2-2-Mutations" class="headerlink" title="2.2 Mutations"></a>2.2 Mutations</h3><p><code>mutations</code>æ˜¯æ“ä½œ<code>state</code>æ•°æ®çš„æ–¹æ³•çš„é›†åˆï¼Œæ¯”å¦‚å¯¹è¯¥æ•°æ®çš„ä¿®æ”¹ã€å¢åŠ ã€åˆ é™¤ç­‰ç­‰ã€‚</p>
<h4 id="2-2-1-Mutationsä½¿ç”¨æ–¹æ³•"><a href="#2-2-1-Mutationsä½¿ç”¨æ–¹æ³•" class="headerlink" title="2.2.1 Mutationsä½¿ç”¨æ–¹æ³•"></a>2.2.1 Mutationsä½¿ç”¨æ–¹æ³•</h4><p><code>mutations</code>æ–¹æ³•éƒ½æœ‰é»˜è®¤çš„å½¢å‚ï¼š</p>
<p>(<strong>[state]</strong> <strong>[,payload]</strong>)</p>
<ul>
<li><code>state</code>æ˜¯å½“å‰<code>VueX</code>å¯¹è±¡ä¸­çš„<code>state</code></li>
<li><code>payload</code>æ˜¯è¯¥æ–¹æ³•åœ¨è¢«è°ƒç”¨æ—¶ä¼ é€’å‚æ•°ä½¿ç”¨çš„</li>
</ul>
<p>ä¾‹å¦‚ï¼Œæˆ‘ä»¬ç¼–å†™ä¸€ä¸ªæ–¹æ³•ï¼Œå½“è¢«æ‰§è¡Œæ—¶ï¼Œèƒ½æŠŠä¸‹ä¾‹ä¸­çš„nameå€¼ä¿®æ”¹ä¸º<code>&quot;jack&quot;</code>,æˆ‘ä»¬åªéœ€è¦è¿™æ ·åš</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">index.js</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></span><br><span class="line"><span class="keyword">import</span> Vuex <span class="keyword">from</span> <span class="string">'vuex'</span></span><br><span class="line"></span><br><span class="line">Vue.use(Vuex)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> store = <span class="keyword">new</span> Vuex.store(&#123;</span><br><span class="line">    state:&#123;</span><br><span class="line">        name:<span class="string">'helloVueX'</span></span><br><span class="line">    &#125;,</span><br><span class="line">    mutations:&#123;</span><br><span class="line">        <span class="comment">//es6è¯­æ³•ï¼Œç­‰åŒedit:funcion()&#123;...&#125;</span></span><br><span class="line">        edit(state)&#123;</span><br><span class="line">            state.name = <span class="string">'jack'</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> store</span><br></pre></td></tr></table></figure>

<p>è€Œåœ¨ç»„ä»¶ä¸­ï¼Œæˆ‘ä»¬éœ€è¦è¿™æ ·å»è°ƒç”¨è¿™ä¸ª<code>mutation</code>â€”â€”ä¾‹å¦‚åœ¨App.vueçš„æŸä¸ª<code>method</code>ä¸­:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">this</span>.$store.commit(<span class="string">'edit'</span>)</span><br></pre></td></tr></table></figure>



<h4 id="2-2-2-Mutationä¼ å€¼"><a href="#2-2-2-Mutationä¼ å€¼" class="headerlink" title="2.2.2 Mutationä¼ å€¼"></a>2.2.2 Mutationä¼ å€¼</h4><p>åœ¨å®é™…ç”Ÿäº§è¿‡ç¨‹ä¸­ï¼Œä¼šé‡åˆ°éœ€è¦åœ¨æäº¤æŸä¸ª<code>mutation</code>æ—¶éœ€è¦æºå¸¦ä¸€äº›å‚æ•°ç»™æ–¹æ³•ä½¿ç”¨ã€‚</p>
<p>å•ä¸ªå€¼æäº¤æ—¶:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">this</span>.$store.commit(<span class="string">'edit'</span>,<span class="number">15</span>)</span><br></pre></td></tr></table></figure>

<p>å½“éœ€è¦å¤šå‚æäº¤æ—¶ï¼Œæ¨èæŠŠä»–ä»¬æ”¾åœ¨ä¸€ä¸ªå¯¹è±¡ä¸­æ¥æäº¤:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">this</span>.$store.commit(<span class="string">'edit'</span>,&#123;<span class="attr">age</span>:<span class="number">15</span>,<span class="attr">sex</span>:<span class="string">'ç”·'</span>&#125;)</span><br></pre></td></tr></table></figure>

<p>æ¥æ”¶æŒ‚è½½çš„å‚æ•°ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">edit(state,payload)&#123;</span><br><span class="line">    state.name = <span class="string">'jack'</span></span><br><span class="line">    <span class="built_in">console</span>.log(payload) <span class="comment">// 15æˆ–&#123;age:15,sex:'ç”·'&#125;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¦ä¸€ç§æäº¤æ–¹å¼</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">this</span>.$store.commit(&#123;</span><br><span class="line">    type:<span class="string">'edit'</span>,</span><br><span class="line">    payload:&#123;</span><br><span class="line">        age:<span class="number">15</span>,</span><br><span class="line">        sex:<span class="string">'ç”·'</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>



<h4 id="2-2-3-å¢åˆ stateä¸­çš„æˆå‘˜"><a href="#2-2-3-å¢åˆ stateä¸­çš„æˆå‘˜" class="headerlink" title="2.2.3 å¢åˆ stateä¸­çš„æˆå‘˜"></a>2.2.3 å¢åˆ stateä¸­çš„æˆå‘˜</h4><p>ä¸ºäº†é…åˆVueçš„å“åº”å¼æ•°æ®ï¼Œæˆ‘ä»¬åœ¨Mutationsçš„æ–¹æ³•ä¸­ï¼Œåº”å½“ä½¿ç”¨Vueæä¾›çš„æ–¹æ³•æ¥è¿›è¡Œæ“ä½œã€‚å¦‚æœä½¿ç”¨<code>delete</code>æˆ–è€…<code>xx.xx = xx</code>çš„å½¢å¼å»åˆ æˆ–å¢ï¼Œåˆ™Vueä¸èƒ½å¯¹æ•°æ®è¿›è¡Œå®æ—¶å“åº”ã€‚</p>
<ul>
<li><p>Vue.set ä¸ºæŸä¸ªå¯¹è±¡è®¾ç½®æˆå‘˜çš„å€¼ï¼Œè‹¥ä¸å­˜åœ¨åˆ™æ–°å¢</p>
<p>ä¾‹å¦‚å¯¹stateå¯¹è±¡ä¸­æ·»åŠ ä¸€ä¸ªageæˆå‘˜</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">Vue.set(state,<span class="string">"age"</span>,<span class="number">15</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>Vue.delete åˆ é™¤æˆå‘˜</p>
<p>å°†åˆšåˆšæ·»åŠ çš„ageæˆå‘˜åˆ é™¤</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">Vue.delete(state,<span class="string">'age'</span>)</span><br></pre></td></tr></table></figure>



</li>
</ul>
<h4 id="2-2-4ä½¿ç”¨å¸¸é‡"><a href="#2-2-4ä½¿ç”¨å¸¸é‡" class="headerlink" title="2.2.4ä½¿ç”¨å¸¸é‡"></a>2.2.4ä½¿ç”¨å¸¸é‡</h4><p>å°±æ˜¯ä½¿ç”¨å¸¸é‡æ¥æ›¿ä»£ mutation äº‹ä»¶çš„åå­—ã€‚</p>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line"><span class="comment">// mutation-types.js</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> SOME_MUTATION = <span class="string">'SOME_MUTATION'</span></span><br></pre></td></tr></table></figure>

<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="comment">// store.js</span></span><br><span class="line"><span class="keyword">import</span> Vuex <span class="keyword">from</span> <span class="string">'vuex'</span></span><br><span class="line"><span class="keyword">import</span> &#123; SOME_MUTATION &#125; <span class="keyword">from</span> <span class="string">'./mutation-types'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> store = <span class="keyword">new</span> Vuex.Store(&#123;</span><br><span class="line">  state: &#123; ... &#125;,</span><br><span class="line">  mutations: &#123;</span><br><span class="line">    <span class="comment">// ä½¿ç”¨ ES2015 é£æ ¼çš„è®¡ç®—å±æ€§å‘½ååŠŸèƒ½æ¥ä½¿ç”¨ä¸€ä¸ªå¸¸é‡ä½œä¸ºå‡½æ•°å</span></span><br><span class="line">    [SOME_MUTATION] (state) &#123;</span><br><span class="line">      <span class="comment">// mutate state</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>å¯èƒ½æœ‰äººä¼šæœ‰ç–‘é—®å•Šï¼Œè¿™æ ·åšåˆ°åº•æœ‰å•¥ç”¨ï¼Œè¿˜å¾—å¤šåˆ›å»ºä¸ªç±»å‹æ–‡ä»¶ï¼Œç”¨çš„æ—¶å€™è¿˜è¦å¯¼å…¥è¿›æ¥ï¼Œä¸å«Œéº»çƒ¦å—ï¼</p>
<p>æˆ‘ä»¬çœ‹çœ‹ï¼Œmutation æ˜¯æ€ä¹ˆè°ƒç”¨çš„ï¼š<code>store.commit(&#39;increment&#39;)</code>ï¼Œå¯ä»¥å‘ç°ï¼Œè¿™é‡Œ commit æäº¤çš„æ–¹æ³• <code>increment</code>ï¼Œæ˜¯ä»¥å­—ç¬¦ä¸²çš„å½¢å¼ä»£å…¥çš„ã€‚è€Œå®šä¹‰æˆå¸¸é‡å…·æœ‰å”¯ä¸€æ€§ï¼Œä¸å…è®¸é‡å¤å®šä¹‰æˆ–è¦†ç›–ã€‚</p>
<h3 id="2-3-Getters"><a href="#2-3-Getters" class="headerlink" title="2.3 Getters"></a>2.3 Getters</h3><p>å¯ä»¥å¯¹stateä¸­çš„æˆå‘˜åŠ å·¥åä¼ é€’ç»™å¤–ç•Œ</p>
<p>Gettersä¸­çš„æ–¹æ³•æœ‰ä¸¤ä¸ªé»˜è®¤å‚æ•°</p>
<ul>
<li>state å½“å‰VueXå¯¹è±¡ä¸­çš„çŠ¶æ€å¯¹è±¡</li>
<li>getters å½“å‰getterså¯¹è±¡ï¼Œç”¨äºå°†gettersä¸‹çš„å…¶ä»–getteræ‹¿æ¥ç”¨</li>
</ul>
<h4 id="ç²—è¯´"><a href="#ç²—è¯´" class="headerlink" title="ç²—è¯´"></a>ç²—è¯´</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">getters:&#123;</span><br><span class="line">    nameInfo(state)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"å§“å:"</span>+state.name</span><br><span class="line">    &#125;,</span><br><span class="line">    fullInfo(state,getters)&#123;</span><br><span class="line">        <span class="keyword">return</span> getters.nameInfo+<span class="string">'å¹´é¾„:'</span>+state.age</span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç»„ä»¶ä¸­è°ƒç”¨</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">this</span>.$store.getters.fullInfo</span><br></pre></td></tr></table></figure>



<h4 id="ç»†è¯´"><a href="#ç»†è¯´" class="headerlink" title="ç»†è¯´"></a>ç»†è¯´</h4><p>æœ‰æ—¶å€™ï¼Œæˆ‘ä»¬ä¼šå‘ç° State ä¸­çš„æ•°æ®ï¼Œå¹¶ä¸æ˜¯æˆ‘ä»¬ç›´æ¥æƒ³è¦çš„ï¼Œè€Œæ˜¯éœ€è¦ç»è¿‡ç›¸åº”çš„å¤„ç†åï¼Œæ‰èƒ½æ»¡è¶³æˆ‘ä»¬çš„éœ€æ±‚ã€‚</p>
<p>æ¯”å¦‚åœ¨ä¸€ä¸ªç»„ä»¶ä¸­ï¼Œæˆ‘ä»¬éœ€è¦æŠŠ state ä¸­çš„æ—¥æœŸ <code>date</code> è½¬æ¢æˆæ˜ŸæœŸå‡ æ¥å±•ç¤ºï¼š</p>
<figure class="highlight kotlin"><table><tr><td class="code"><pre><span class="line">computed: &#123;</span><br><span class="line">  weekDate () &#123;</span><br><span class="line">    <span class="keyword">return</span> moment(<span class="keyword">this</span>.$store.state.date).format(<span class="string">'dddd'</span>); </span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„ï¼šè¿™é‡Œçš„ <a href="http://momentjs.cn/" target="_blank" rel="noopener">moment</a> æ˜¯ä¸€ä¸ªç¬¬ä¸‰æ–¹æ—¥æœŸå¤„ç†ç±»åº“ï¼Œä½¿ç”¨ä¹‹å‰éœ€è¦å¯¼å…¥ã€‚</p>
<p>å¦‚æœåªæœ‰ä¸€ä¸ªç»„ä»¶éœ€è¦è¿™æ ·åšè¿˜å¥½ï¼Œä½†å¦‚æœåœ¨å¾ˆå¤šç»„ä»¶ä¸­ï¼Œéƒ½éœ€è¦è¿™ä¹ˆè½¬æ¢çš„è¯ï¼Œé‚£å°±å¾—åœ¨æ¯ä¸€ä¸ªç»„ä»¶ä¸­éƒ½éœ€è¦æŠŠè¿™ä¸ªå‡½æ•°å¤åˆ¶è¿‡å»ã€‚è€Œä¸”ï¼Œä¸€æ—¦äº§å“ç»ç†å¿ƒæƒ…ä¸å¥½ï¼Œä¸æƒ³ç”¨æ˜ŸæœŸå‡ æ¥æ˜¾ç¤ºï¼Œæƒ³ç›´æ¥ç”¨ <code>2018-10-30 11:12:23</code> è¿™ç§æ–¹å¼æ¥æ˜¾ç¤ºæ—¥æœŸï¼Œé‚£ä½ å°±å¾—åœ¨æ‰€æœ‰ç”¨åˆ°å®ƒçš„ç»„ä»¶ä¸­å»æ›´æ”¹æ—¥æœŸæ ¼å¼åŒ–çš„æ–¹æ³•ï¼Œå²‚ä¸éš¾å—è‡³æã€‚å°±ç®—ä½ æŠŠå®ƒå•ç‹¬æŠ½å–å‡ºæ¥ä½œä¸ºä¸€ä¸ªå…¬å…±çš„å‡½æ•°ï¼Œå„ç§å¯¼å…¥ä¹Ÿéº»çƒ¦ï¼Œæœ€é‡è¦çš„æ˜¯ä¸å¥½ç»Ÿä¸€ç®¡ç†ã€‚</p>
<p>æ‰€ä»¥ï¼Œè¿™ä¸ªæ—¶å€™ï¼ŒVuex åˆå¼•å…¥äº†ä¸€ä¸ªç‰›é€¼çš„ç©æ„å„¿ï¼Œ<strong>Getter</strong>ã€‚æˆ‘ä»¬å¯ä»¥æŠŠå®ƒå½“æˆ store ä¸­çš„è®¡ç®—å±æ€§ï¼ˆcomputedï¼‰ã€‚</p>
<blockquote>
<p>å°±åƒè®¡ç®—å±æ€§ä¸€æ ·ï¼Œgetter çš„è¿”å›å€¼ä¼šæ ¹æ®å®ƒçš„ä¾èµ–è¢«ç¼“å­˜èµ·æ¥ï¼Œä¸”åªæœ‰å½“å®ƒçš„ä¾èµ–å€¼å‘ç”Ÿäº†æ”¹å˜æ‰ä¼šè¢«é‡æ–°è®¡ç®—ã€‚</p>
</blockquote>
<p>æˆ‘ä»¬çœ‹çœ‹è¿™ä¸¤ä¸ªä¾‹å­ï¼Œç€é‡æ³¨æ„ä¸‹é‡Œé¢çš„æ³¨é‡Šï¼š</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> store = <span class="keyword">new</span> Vuex.Store(&#123;</span><br><span class="line">  state: &#123;</span><br><span class="line">    date: <span class="keyword">new</span> <span class="built_in">Date</span>()</span><br><span class="line">  &#125;,</span><br><span class="line">  getters: &#123;</span><br><span class="line">    <span class="comment">// Getter æ¥å— state ä½œä¸ºå…¶ç¬¬ä¸€ä¸ªå‚æ•°</span></span><br><span class="line">    weekDate: <span class="function"><span class="params">state</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> moment(state.date).format(<span class="string">'dddd'</span>); </span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line">getters: &#123;</span><br><span class="line">  <span class="comment">// Getter è¿˜ä¹Ÿå¯ä»¥æ¥æ”¶ getters ä½œä¸ºç¬¬äºŒä¸ªå‚æ•°</span></span><br><span class="line">  dateLength: <span class="function">(<span class="params">state, getters</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> getters.weekDate.length;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸ä½†å¦‚æ­¤ï¼ŒGetter è¿˜ä¼šå°† store.getters å¯¹è±¡æš´éœ²å‡ºå»ï¼Œä½ å¯ä»¥ä»¥å±æ€§çš„å½¢å¼è®¿é—®è¿™äº›å€¼ï¼š</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">console</span><span class="selector-class">.log</span>(<span class="selector-tag">store</span><span class="selector-class">.getters</span><span class="selector-class">.weekDate</span>)</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬å¯ä»¥å¾ˆå®¹æ˜“åœ°åœ¨ä»»ä½•ç»„ä»¶ä¸­ä½¿ç”¨å®ƒï¼š</p>
<figure class="highlight kotlin"><table><tr><td class="code"><pre><span class="line">computed: &#123;</span><br><span class="line">  weekDate () &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.$store.getters.weekDate</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>ç°åœ¨éœ€æ±‚åˆå˜äº†ï¼Œæ¯ä¸ªæ¨¡å—è¦æ˜¾ç¤ºçš„ weekDate çš„æ ¼å¼ä¸ä¸€æ ·ï¼Œæœ‰çš„æ˜¾ç¤ºå…¨éƒ¨æ—¥æœŸï¼Œæœ‰çš„éœ€è¦æ˜¾ç¤ºæ˜ŸæœŸå‡ ï¼Œæ€ä¹ˆåŠï¼Ÿ</p>
<p><strong>å¥½åŠï¼Œé‚£å°±ç»™ Getter ä¼ å‚å‘—ï¼Œä½†æ˜¯æ€ä¹ˆä¼ å‘¢ï¼Ÿ</strong></p>
<p>å› ä¸º Getter åœ¨é€šè¿‡å±æ€§è®¿é—®æ—¶æ˜¯ä½œä¸º Vue çš„å“åº”å¼ç³»ç»Ÿçš„ä¸€éƒ¨åˆ†ç¼“å­˜å…¶ä¸­çš„ï¼Œæ‰€ä»¥æ˜¯ä¸èƒ½ç›´æ¥ <code>store.getters.weekDate(&#39;MM Do YY&#39;)</code>ï¼Œå› ä¸º weekDate å¹¶ä¸æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒä»…ä»…åªæ˜¯ä¸€ä¸ªå±æ€§è€Œå·²ã€‚</p>
<p>é‚£ä¹ˆæ—¢ç„¶å±æ€§ä¸èƒ½ä¼ å‚ï¼Œæ€ä¹ˆåŠå‘¢ï¼Ÿé‚£æˆ‘ä»¬å°±æƒ³åŠæ³•æŠŠè¿™ä¸ªå±æ€§å˜æˆä¸€ä¸ªå‡½æ•°ä¸å°±è¡Œäº†ã€‚</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line">getters: &#123;</span><br><span class="line">  <span class="comment">// è¿”å›ä¸€ä¸ªå‡½æ•°ï¼Œå°±å¯ä»¥ä¼ å‚äº†</span></span><br><span class="line">  weekDate: <span class="function">(<span class="params">state</span>) =&gt;</span> <span class="function">(<span class="params">fm</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> moment(state.date).format(fm ? fm : <span class="string">'dddd'</span>); </span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨å¦‚ä¸‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">store.getters.weekDate(<span class="string">'MM Do YY'</span>)</span><br></pre></td></tr></table></figure>



<h3 id="2-4-Actions"><a href="#2-4-Actions" class="headerlink" title="2.4 Actions"></a>2.4 Actions</h3><h4 id="ç²—è¯´-1"><a href="#ç²—è¯´-1" class="headerlink" title="ç²—è¯´"></a>ç²—è¯´</h4><p>ç”±äºç›´æ¥åœ¨<code>mutation</code>æ–¹æ³•ä¸­è¿›è¡Œå¼‚æ­¥æ“ä½œï¼Œå°†ä¼šå¼•èµ·æ•°æ®å¤±æ•ˆã€‚æ‰€ä»¥æä¾›äº†Actionsæ¥ä¸“é—¨è¿›è¡Œå¼‚æ­¥æ“ä½œï¼Œæœ€ç»ˆæäº¤<code>mutation</code>æ–¹æ³•ã€‚</p>
<p><code>Actions</code>ä¸­çš„æ–¹æ³•æœ‰ä¸¤ä¸ªé»˜è®¤å‚æ•°</p>
<ul>
<li><code>context</code> ä¸Šä¸‹æ–‡(ç›¸å½“äºç®­å¤´å‡½æ•°ä¸­çš„this)å¯¹è±¡</li>
<li><code>payload</code> æŒ‚è½½å‚æ•°</li>
</ul>
<p>ä¾‹å¦‚ï¼Œæˆ‘ä»¬åœ¨ä¸¤ç§’ä¸­åæ‰§è¡Œ<code>2.2.2</code>èŠ‚ä¸­çš„<code>edit</code>æ–¹æ³•</p>
<p>ç”±äº<code>setTimeout</code>æ˜¯å¼‚æ­¥æ“ä½œï¼Œæ‰€ä»¥éœ€è¦ä½¿ç”¨<code>actions</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">actions:&#123;</span><br><span class="line">    aEdit(context,payload)&#123;</span><br><span class="line">        setTimeout(<span class="function"><span class="params">()</span>=&gt;</span>&#123;</span><br><span class="line">            context.commit(<span class="string">'edit'</span>,payload)</span><br><span class="line">        &#125;,<span class="number">2000</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨ç»„ä»¶ä¸­è°ƒç”¨:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">this</span>.$store.dispatch(<span class="string">'aEdit'</span>,&#123;<span class="attr">age</span>:<span class="number">15</span>&#125;)</span><br></pre></td></tr></table></figure>

<p><strong>æ”¹è¿›:</strong></p>
<p>ç”±äºæ˜¯å¼‚æ­¥æ“ä½œï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä¸ºæˆ‘ä»¬çš„å¼‚æ­¥æ“ä½œå°è£…ä¸ºä¸€ä¸ª<code>Promise</code>å¯¹è±¡</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">aEdit(context,payload)&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line">        setTimeout(<span class="function"><span class="params">()</span>=&gt;</span>&#123;</span><br><span class="line">            context.commit(<span class="string">'edit'</span>,payload)</span><br><span class="line">            resolve()</span><br><span class="line">        &#125;,<span class="number">2000</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="ç»†è¯´-1"><a href="#ç»†è¯´-1" class="headerlink" title="ç»†è¯´"></a>ç»†è¯´</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Action ç±»ä¼¼äº mutationï¼Œä¸åŒåœ¨äºï¼š</span><br><span class="line"></span><br><span class="line">1ã€Action æäº¤çš„æ˜¯ mutationï¼Œè€Œä¸æ˜¯ç›´æ¥å˜æ›´çŠ¶æ€ã€‚</span><br><span class="line">2ã€Action å¯ä»¥åŒ…å«ä»»æ„å¼‚æ­¥æ“ä½œã€‚</span><br></pre></td></tr></table></figure>

<p>çœ‹ä¸€ä¸ªç®€å•çš„ action ç¤ºä¾‹ï¼š</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> store = <span class="keyword">new</span> Vuex.Store(&#123;</span><br><span class="line">  state: &#123;</span><br><span class="line">    count: <span class="number">0</span></span><br><span class="line">  &#125;,</span><br><span class="line">  mutations: &#123;</span><br><span class="line">    increment (state) &#123;</span><br><span class="line">      state.count++</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  actions: &#123;</span><br><span class="line">    increment (context) &#123;</span><br><span class="line">      context.commit(<span class="string">'increment'</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹åˆ°ï¼ŒAction å‡½æ•°æ¥å—ä¸€ä¸ª <code>context</code> å‚æ•°ï¼Œæ³¨æ„ï¼Œè¿™ä¸ªå‚æ•°å¯ä¸ä¸€èˆ¬ï¼Œå®ƒä¸ store å®ä¾‹æœ‰ç€ç›¸åŒçš„æ–¹æ³•å’Œå±æ€§ï¼Œä½†æ˜¯ä»–ä»¬å¹¶ä¸æ˜¯åŒä¸€ä¸ªå®ä¾‹ï¼Œåé¢å­¦ä¹  Modules çš„æ—¶å€™ä¼šä»‹ç»å®ƒä»¬ä¸ºä»€ä¹ˆä¸ä¸€æ ·ã€‚</p>
<p>æ‰€ä»¥åœ¨è¿™é‡Œå¯ä»¥ä½¿ç”¨ <code>context.commit</code> æ¥æäº¤ä¸€ä¸ª mutationï¼Œæˆ–è€…é€šè¿‡ <code>context.state</code> å’Œ <code>context.getters</code> æ¥è·å– state å’Œ gettersã€‚</p>
<p>å½“ç„¶ï¼Œä¸ºäº†ä»£ç ç®€åŒ–ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ ES2015 çš„ <a href="https://github.com/lukehoban/es6features#destructuring" target="_blank" rel="noopener">å‚æ•°è§£æ„</a> æ¥ç›´æ¥å±•å¼€ï¼Œä¾¿äº <code>commit</code>ã€<code>state</code> ç­‰å¤šæ¬¡è°ƒç”¨ã€‚å¦‚ä¸‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">actions: &#123;</span><br><span class="line">  increment (&#123; commit &#125;) &#123;</span><br><span class="line">    commit(<span class="string">'increment'</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h5 id="åˆ†å‘-Action"><a href="#åˆ†å‘-Action" class="headerlink" title="åˆ†å‘ Action"></a>åˆ†å‘ Action</h5><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">store.dispatch(<span class="string">'increment'</span>)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Mutation é€šè¿‡ <code>store.commit</code> è§¦å‘ï¼Œé‚£ä¹ˆ Action åˆ™é€šè¿‡ <code>store.dispatch</code> æ–¹æ³•è§¦å‘ã€‚</p>
<p>ä¹ä¸€çœ¼çœ‹ä¸Šå»æ„Ÿè§‰å¤šæ­¤ä¸€ä¸¾ï¼Œæˆ‘ä»¬ç›´æ¥åˆ†å‘ mutation å²‚ä¸æ›´æ–¹ä¾¿ï¼Ÿå®é™…ä¸Šå¹¶éå¦‚æ­¤ï¼Œè¿˜è®°å¾— mutation å¿…é¡»åŒæ­¥æ‰§è¡Œè¿™ä¸ªé™åˆ¶ä¹ˆï¼ŸAction å°±ä¸å—çº¦æŸï¼æˆ‘ä»¬å¯ä»¥åœ¨ action å†…éƒ¨æ‰§è¡Œå¼‚æ­¥æ“ä½œï¼š</p>
</blockquote>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line">actions: &#123;</span><br><span class="line">  incrementAsync (&#123; commit &#125;) &#123;</span><br><span class="line">    setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">      commit(<span class="string">'increment'</span>)</span><br><span class="line">    &#125;, <span class="number">1000</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å’Œ Mutation åˆ†å‘çš„æ–¹å¼å¼‚æ›²åŒå·¥ï¼Œè¿™æ˜¯æ³¨æ„è¿™é‡Œæ˜¯ <code>dispatch</code>ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ä»¥è½½è·å½¢å¼åˆ†å‘</span></span><br><span class="line">store.dispatch(<span class="string">'incrementAsync'</span>, &#123;</span><br><span class="line">  amount: <span class="number">10</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä»¥å¯¹è±¡å½¢å¼åˆ†å‘</span></span><br><span class="line">store.dispatch(&#123;</span><br><span class="line">  <span class="keyword">type</span>: <span class="string">'incrementAsync'</span>,</span><br><span class="line">  amount: <span class="number">10</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>



<blockquote>
<p>æ¥çœ‹ä¸€ä¸ªæ›´åŠ å®é™…çš„è´­ç‰©è½¦ç¤ºä¾‹ï¼Œæ¶‰åŠåˆ°è°ƒç”¨å¼‚æ­¥ API å’Œåˆ†å‘å¤šé‡ mutationï¼š</p>
</blockquote>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line">actions: &#123;</span><br><span class="line">  checkout (&#123; commit, state &#125;, products) &#123;</span><br><span class="line">    <span class="comment">// æŠŠå½“å‰è´­ç‰©è½¦çš„ç‰©å“å¤‡ä»½èµ·æ¥</span></span><br><span class="line">    <span class="keyword">const</span> savedCartItems = [...state.cart.added]</span><br><span class="line">    <span class="comment">// å‘å‡ºç»“è´¦è¯·æ±‚ï¼Œç„¶åä¹è§‚åœ°æ¸…ç©ºè´­ç‰©è½¦</span></span><br><span class="line">    commit(types.CHECKOUT_REQUEST)</span><br><span class="line">    <span class="comment">// è´­ç‰© API æ¥å—ä¸€ä¸ªæˆåŠŸå›è°ƒå’Œä¸€ä¸ªå¤±è´¥å›è°ƒ</span></span><br><span class="line">    shop.buyProducts(</span><br><span class="line">      products,</span><br><span class="line">      <span class="comment">// æˆåŠŸæ“ä½œ</span></span><br><span class="line">      () =&gt; commit(types.CHECKOUT_SUCCESS),</span><br><span class="line">      <span class="comment">// å¤±è´¥æ“ä½œ</span></span><br><span class="line">      () =&gt; commit(types.CHECKOUT_FAILURE, savedCartItems)</span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>æ³¨æ„ç¤ºä¾‹ä¸­æ­£åœ¨è¿›è¡Œä¸€ç³»åˆ—çš„å¼‚æ­¥æ“ä½œï¼Œå¹¶ä¸”é€šè¿‡æäº¤ mutation æ¥è®°å½• action äº§ç”Ÿçš„å‰¯ä½œç”¨ï¼ˆå³çŠ¶æ€å˜æ›´ï¼‰ã€‚</p>
</blockquote>
<h5 id="ç»„åˆ-Action"><a href="#ç»„åˆ-Action" class="headerlink" title="ç»„åˆ Action"></a>ç»„åˆ Action</h5><blockquote>
<p>Action é€šå¸¸æ˜¯å¼‚æ­¥çš„ï¼Œé‚£ä¹ˆå¦‚ä½•çŸ¥é“ action ä»€ä¹ˆæ—¶å€™ç»“æŸå‘¢ï¼Ÿæ›´é‡è¦çš„æ˜¯ï¼Œæˆ‘ä»¬å¦‚ä½•æ‰èƒ½ç»„åˆå¤šä¸ª actionï¼Œä»¥å¤„ç†æ›´åŠ å¤æ‚çš„å¼‚æ­¥æµç¨‹ï¼Ÿ</p>
<p>é¦–å…ˆï¼Œä½ éœ€è¦æ˜ç™½ <code>store.dispatch</code> å¯ä»¥å¤„ç†è¢«è§¦å‘çš„ action çš„å¤„ç†å‡½æ•°è¿”å›çš„ Promiseï¼Œå¹¶ä¸” <code>store.dispatch</code> ä»æ—§è¿”å› Promiseï¼š</p>
</blockquote>
<p>ä¸çŸ¥é“ä»€ä¹ˆæ˜¯ Promise çš„ï¼Œå¯ä»¥ <a href="https://www.liaoxuefeng.com/wiki/001434446689867b27157e896e74d51a89c25cc8b43bdb3000/0014345008539155e93fc16046d4bb7854943814c4f9dc2000" target="_blank" rel="noopener">æˆ³æ­¤äº†è§£ä¸‹</a>ã€‚</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line">actions: &#123;</span><br><span class="line">  actionA (&#123; commit &#125;) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">      setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">        commit(<span class="string">'someMutation'</span>)</span><br><span class="line">        resolve()</span><br><span class="line">      &#125;, <span class="number">1000</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è°ƒç”¨:</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line">store.dispatch(<span class="string">'actionA'</span>).then(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>å½“ç„¶ï¼Œä¹Ÿå¯ä»¥è¿™æ ·ï¼š</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line">actions: &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  actionB (&#123; dispatch, commit &#125;) &#123;</span><br><span class="line">    <span class="keyword">return</span> dispatch(<span class="string">'actionA'</span>).then(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">      commit(<span class="string">'someOtherMutation'</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬è¿˜å¯ä»¥åˆ©ç”¨ <a href="https://tc39.github.io/ecmascript-asyncawait/" target="_blank" rel="noopener">async / await</a> çš„æ–¹å¼ç»„åˆ action ï¼š</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å‡è®¾ getData() å’Œ getOtherData() è¿”å›çš„æ˜¯ Promise</span></span><br><span class="line">actions: &#123;</span><br><span class="line">  <span class="function"><span class="keyword">async</span> <span class="title">actionA</span> (<span class="params">&#123; commit &#125;</span>)</span> &#123;</span><br><span class="line">    commit(<span class="string">'gotData'</span>, <span class="keyword">await</span> getData())</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function"><span class="keyword">async</span> <span class="title">actionB</span> (<span class="params">&#123; dispatch, commit &#125;</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">await</span> dispatch(<span class="string">'actionA'</span>) <span class="comment">// ç­‰å¾… actionA å®Œæˆ</span></span><br><span class="line">    commit(<span class="string">'gotOtherData'</span>, <span class="keyword">await</span> getOtherData())</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>ä¸€ä¸ª <code>store.dispatch</code> åœ¨ä¸åŒæ¨¡å—ä¸­å¯ä»¥è§¦å‘å¤šä¸ª action å‡½æ•°ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œåªæœ‰å½“æ‰€æœ‰è§¦å‘å‡½æ•°å®Œæˆåï¼Œè¿”å›çš„ Promise æ‰ä¼šæ‰§è¡Œã€‚</p>
</blockquote>
<p>æˆ‘ä»¬åœ¨å®é™…é¡¹ç›®ä¸­ç»å¸¸çš„ä¼šé‡åˆ°è¿™ç§æƒ…å†µï¼Œæ¯”å¦‚è¯´ä½ ç°åœ¨æƒ³è¦å¤„ç† B äº‹ä»¶ï¼Œä½†æ˜¯ B äº‹ä»¶éœ€è¦ä¸€ç§èµ„æºæ‰èƒ½è¿›è¡Œï¼Œè€Œè¿™ç§èµ„æºå¿…é¡»é€šè¿‡ A äº‹ä»¶æ¥è·å¾—ã€‚è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬å°±éœ€è¦ç»„åˆ Action æ¥å¤„ç†è¿™äº›äº‹ä»¶äº†ã€‚</p>
<h3 id="2-5mapStateã€mapGettersã€mapActionsã€mapMutationsçš„ä½¿ç”¨"><a href="#2-5mapStateã€mapGettersã€mapActionsã€mapMutationsçš„ä½¿ç”¨" class="headerlink" title="2.5mapStateã€mapGettersã€mapActionsã€mapMutationsçš„ä½¿ç”¨"></a>2.5mapStateã€mapGettersã€mapActionsã€mapMutationsçš„ä½¿ç”¨</h3><h4 id="mapState"><a href="#mapState" class="headerlink" title="mapState"></a>mapState</h4><p>é€šè¿‡å‰é¢çš„å­¦ä¹ ï¼Œæˆ‘ä»¬çŸ¥é“ï¼Œä» store å®ä¾‹ä¸­è¯»å–çŠ¶æ€æœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯åœ¨<a href="https://cn.vuejs.org/guide/computed.html" target="_blank" rel="noopener">è®¡ç®—å±æ€§</a>ä¸­è¿”å›æŸä¸ªçŠ¶æ€ã€‚</p>
<p>é‚£ä¹ˆï¼Œå½“ä¸€ä¸ªç»„ä»¶éœ€è¦è·å–å¤šä¸ªçŠ¶æ€çš„æ—¶å€™ï¼Œæ€ä¹ˆåŠï¼Ÿæ˜¯ä¸æ˜¯è¿™æ ·ï¼š</p>
<figure class="highlight kotlin"><table><tr><td class="code"><pre><span class="line">export <span class="keyword">default</span> &#123;</span><br><span class="line">  ...</span><br><span class="line">  computed: &#123;</span><br><span class="line">      a () &#123;</span><br><span class="line">        <span class="keyword">return</span> store.state.a</span><br><span class="line">      &#125;,</span><br><span class="line">      b () &#123;</span><br><span class="line">        <span class="keyword">return</span> store.state.b</span><br><span class="line">      &#125;,</span><br><span class="line">      c () &#123;</span><br><span class="line">        <span class="keyword">return</span> store.state.c</span><br><span class="line">      &#125;,</span><br><span class="line">      ...</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å½“ç„¶ï¼Œè¿™æ ·æ˜¯æ²¡é—®é¢˜çš„ï¼Œä½†æ˜¯æ€»æ„Ÿè§‰å†™èµ·æ¥å¾ˆéš¾å—ï¼Œçœ‹èµ·æ¥æ›´éš¾å—æ˜¯å§ï¼æ—¢ç„¶è¿™ä¹ˆå®¹æ˜“æˆ‘ä»¬å°±æ„Ÿå—åˆ°äº†ï¼ŒVuex èƒ½æ„Ÿå—ä¸åˆ°å—ï¼Œèƒ½å¿å¾—äº†å—ï¼Ÿ</p>
<p>ç»å¯¹ä¸èƒ½å¿ï¼Œæ‰€ä»¥ <code>mapState</code> è¾…åŠ©å‡½æ•°è¢«åˆ›é€ äº†å‡ºæ¥ï¼Œç”¨æ¥æå®šè¿™ä¸ªäººäººä¸ºä¹‹å’¬ç‰™åˆ‡é½¿çš„ç—›ç‚¹ã€‚</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="comment">// åœ¨å•ç‹¬æ„å»ºçš„ç‰ˆæœ¬ä¸­è¾…åŠ©å‡½æ•°ä¸º Vuex.mapState</span></span><br><span class="line"><span class="keyword">import</span> &#123; mapState &#125; <span class="keyword">from</span> <span class="string">'vuex'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  computed: mapState(&#123;</span><br><span class="line">    <span class="comment">// ç®­å¤´å‡½æ•°å¯ä½¿ä»£ç æ›´ç®€ç»ƒ</span></span><br><span class="line">    a: <span class="function"><span class="params">state</span> =&gt;</span> state.a,</span><br><span class="line">    b: <span class="function"><span class="params">state</span> =&gt;</span> state.b,</span><br><span class="line">    c: <span class="function"><span class="params">state</span> =&gt;</span> state.c,</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ä¼ å­—ç¬¦ä¸²å‚æ•° 'b'</span></span><br><span class="line">    <span class="comment">// ç­‰åŒäº `state =&gt; state.b`</span></span><br><span class="line">    bAlias: <span class="string">'b'</span>,</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ä¸ºäº†èƒ½å¤Ÿä½¿ç”¨ `this` è·å–å±€éƒ¨çŠ¶æ€</span></span><br><span class="line">    <span class="comment">// å¿…é¡»ä½¿ç”¨å¸¸è§„å‡½æ•°</span></span><br><span class="line">    cInfo (state) &#123;</span><br><span class="line">      <span class="keyword">return</span> state.c + <span class="keyword">this</span>.info</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>é€šè¿‡ä¸Šé¢çš„ç¤ºä¾‹ï¼Œå¯ä»¥äº†è§£åˆ°ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥æŠŠéœ€è¦ç”¨åˆ°çš„çŠ¶æ€å…¨éƒ¨å­˜æ”¾åœ¨ <code>mapState</code> é‡Œé¢è¿›è¡Œç»Ÿä¸€ç®¡ç†ï¼Œè€Œä¸”è¿˜å¯ä»¥å–åˆ«åï¼Œåšé¢å¤–çš„æ“ä½œç­‰ç­‰ã€‚</p>
<p>å¦‚æœæ‰€æ˜ å°„çš„è®¡ç®—å±æ€§åç§°ä¸ state çš„å­èŠ‚ç‚¹åç§°ç›¸åŒæ—¶ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥æ›´åŠ ç®€åŒ–ï¼Œç»™ <code>mapState</code> ä¼ ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line">computed: mapState([</span><br><span class="line">  <span class="comment">// æ˜ å°„ this.a ä¸º store.state.a</span></span><br><span class="line">  <span class="string">'a'</span>,</span><br><span class="line">  <span class="string">'b'</span>,</span><br><span class="line">  <span class="string">'c'</span></span><br><span class="line">])</span><br></pre></td></tr></table></figure>

<p>å› ä¸º <code>computed</code> è¿™ä¸ªè®¡ç®—å±æ€§æ¥æ”¶çš„æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œæ‰€ä»¥ç”±ä¸Šé¢çš„ç¤ºä¾‹ä»£ç å¯ä»¥çœ‹å‡ºï¼Œ<code>mapState</code> å‡½æ•°è¿”å›çš„æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œç°åœ¨å¦‚æœæƒ³è¦å’Œå±€éƒ¨çš„è®¡ç®—å±æ€§æ··åˆä½¿ç”¨çš„è¯ï¼Œå¯ä»¥ä½¿ç”¨ ES6 çš„è¯­æ³•è¿™æ ·å†™æ¥å¤§å¤§ç®€åŒ–ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line">computed: &#123;</span><br><span class="line">  localComputed () &#123; </span><br><span class="line">    ...</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// ä½¿ç”¨å¯¹è±¡å±•å¼€è¿ç®—ç¬¦å°†æ­¤å¯¹è±¡æ··å…¥åˆ°å¤–éƒ¨å¯¹è±¡ä¸­</span></span><br><span class="line">  ...mapState(&#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>äº†è§£äº† <code>mapState</code> è¾…åŠ©å‡½æ•°åï¼Œæ¥ä¸‹æ¥çš„å‡ ä¸ªè¾…åŠ©å‡½æ•°çš„ç”¨æ³•ä¹ŸåŸºæœ¬ä¸Šéƒ½å·®ä¸å¤šäº†ï¼Œæˆ‘ä»¬ç»§ç»­å¾€ä¸‹çœ‹ã€‚</p>
<h4 id="mapGetters"><a href="#mapGetters" class="headerlink" title="mapGetters"></a>mapGetters</h4><p>è¿™ä¸ªå’Œ <code>mapState</code> åŸºæœ¬ä¸Šæ²¡å•¥åŒºåˆ«ï¼Œç®€å•çœ‹ä¸‹å®˜æ–¹çš„ä¾‹å­ï¼Œå°±æ‡‚äº†ï¼š</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; mapGetters &#125; <span class="keyword">from</span> <span class="string">'vuex'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  computed: &#123;</span><br><span class="line">    ...mapGetters([</span><br><span class="line">      <span class="string">'doneTodosCount'</span>,</span><br><span class="line">      <span class="string">'anotherGetter'</span>,</span><br><span class="line">      <span class="comment">// ...</span></span><br><span class="line">    ])</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å–ä¸ªåˆ«åï¼Œé‚£å°±ç”¨å¯¹è±¡çš„å½¢å¼ï¼Œä»¥ä¸‹ç¤ºä¾‹çš„æ„æ€å°±æ˜¯æŠŠ <code>this.doneCount</code> æ˜ å°„ä¸º <code>this.$store.getters.doneTodosCount</code>ã€‚</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">mapGetters</span>(&#123;</span><br><span class="line">  <span class="attribute">doneCount</span>: <span class="string">'doneTodosCount'</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h4 id="mapMutations"><a href="#mapMutations" class="headerlink" title="mapMutations"></a>mapMutations</h4><p>ç›´æ¥çœ‹ç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; mapMutations &#125; <span class="keyword">from</span> <span class="string">'vuex'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  methods: &#123;</span><br><span class="line">    ...mapMutations([</span><br><span class="line">      <span class="comment">// å°† `this.increment()` æ˜ å°„ä¸º </span></span><br><span class="line">      <span class="comment">// `this.$store.commit('increment')`</span></span><br><span class="line">      <span class="string">'increment'</span>, </span><br><span class="line">      <span class="comment">// `mapMutations` ä¹Ÿæ”¯æŒè½½è·ï¼š</span></span><br><span class="line">      <span class="comment">// å°† `this.incrementBy(amount)` æ˜ å°„ä¸º </span></span><br><span class="line">      <span class="comment">// `this.$store.commit('incrementBy', amount)`</span></span><br><span class="line">      <span class="string">'incrementBy'</span> </span><br><span class="line">    ]),</span><br><span class="line">    ...mapMutations(&#123;</span><br><span class="line">      <span class="comment">// å°† `this.add()` æ˜ å°„ä¸º </span></span><br><span class="line">      <span class="comment">// `this.$store.commit('increment')`</span></span><br><span class="line">      add: <span class="string">'increment'</span> </span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç®€ç›´ä¸è¦å¤ªå¥½ç”¨ï¼Œè¿è½½è·ä¹Ÿå¯ä»¥ç›´æ¥æ”¯æŒã€‚</p>
<h4 id="mapActions"><a href="#mapActions" class="headerlink" title="mapActions"></a>mapActions</h4><p>å’Œ <code>mapMutations</code> ç”¨æ³•ä¸€æ¨¡ä¸€æ ·ï¼Œæ¢ä¸ªåå­—å³å¯ã€‚</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; mapActions &#125; <span class="keyword">from</span> <span class="string">'vuex'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  methods: &#123;</span><br><span class="line">    ...mapActions([</span><br><span class="line">      <span class="comment">// å°† `this.increment()` æ˜ å°„ä¸º </span></span><br><span class="line">      <span class="comment">// `this.$store. dispatch('increment')`</span></span><br><span class="line">      <span class="string">'increment'</span>, </span><br><span class="line">      <span class="comment">// `mapActions` ä¹Ÿæ”¯æŒè½½è·ï¼š</span></span><br><span class="line">      <span class="comment">// å°† `this.incrementBy(amount)` æ˜ å°„ä¸º </span></span><br><span class="line">      <span class="comment">// `this.$store. dispatch('incrementBy', amount)`</span></span><br><span class="line">      <span class="string">'incrementBy'</span> </span><br><span class="line">    ]),</span><br><span class="line">    ...mapActions(&#123;</span><br><span class="line">      <span class="comment">// å°† `this.add()` æ˜ å°„ä¸º </span></span><br><span class="line">      <span class="comment">// `this.$store. dispatch('increment')`</span></span><br><span class="line">      add: <span class="string">'increment'</span> </span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æƒ³è¦åœ¨ç»„ä»¶ä¸­è°ƒç”¨ï¼Œç›´æ¥ <code>this.xxx</code> å°±å®Œäº†ã€‚</p>
<h3 id="2-6-Models"><a href="#2-6-Models" class="headerlink" title="2.6 Models"></a>2.6 Models</h3><h4 id="ç²—è¯´-2"><a href="#ç²—è¯´-2" class="headerlink" title="ç²—è¯´"></a>ç²—è¯´</h4><p>å½“é¡¹ç›®åºå¤§ï¼ŒçŠ¶æ€éå¸¸å¤šæ—¶ï¼Œå¯ä»¥é‡‡ç”¨æ¨¡å—åŒ–ç®¡ç†æ¨¡å¼ã€‚Vuex å…è®¸æˆ‘ä»¬å°† store åˆ†å‰²æˆ<strong>æ¨¡å—ï¼ˆmoduleï¼‰</strong>ã€‚æ¯ä¸ªæ¨¡å—æ‹¥æœ‰è‡ªå·±çš„ <code>stateã€mutationã€actionã€getter</code>ã€ç”šè‡³æ˜¯åµŒå¥—å­æ¨¡å—â€”â€”ä»ä¸Šè‡³ä¸‹è¿›è¡ŒåŒæ ·æ–¹å¼çš„åˆ†å‰²ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">models:&#123;</span><br><span class="line">    a:&#123;</span><br><span class="line">        state:&#123;&#125;,</span><br><span class="line">        getters:&#123;&#125;,</span><br><span class="line">        ....</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç»„ä»¶å†…è°ƒç”¨æ¨¡å—açš„çŠ¶æ€ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">this</span>.$store.state.a</span><br></pre></td></tr></table></figure>

<p>è€Œæäº¤æˆ–è€…<code>dispatch</code>æŸä¸ªæ–¹æ³•å’Œä»¥å‰ä¸€æ ·,ä¼šè‡ªåŠ¨æ‰§è¡Œæ‰€æœ‰æ¨¡å—å†…çš„å¯¹åº”<code>type</code>çš„æ–¹æ³•ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">this</span>.$store.commit(<span class="string">'editKey'</span>)</span><br><span class="line"><span class="keyword">this</span>.$store.dispatch(<span class="string">'aEditKey'</span>)</span><br></pre></td></tr></table></figure>

<h4 id="ç»†è¯´-2"><a href="#ç»†è¯´-2" class="headerlink" title="ç»†è¯´"></a>ç»†è¯´</h4><p>åœ¨å‰è¨€é‡Œé¢ï¼Œæˆ‘ä»¬å·²ç»äº† Module çš„åŸºæœ¬èŒè´£ï¼Œé‚£ä¹ˆå…·ä½“å¦‚ä½•ä½¿ç”¨å‘¢ï¼Ÿ</p>
<p>Vuex å…è®¸æˆ‘ä»¬å°† store åˆ†å‰²æˆå¤§å¤§å°å°çš„å¯¹è±¡ï¼Œæ¯ä¸ªå¯¹è±¡ä¹Ÿéƒ½æ‹¥æœ‰è‡ªå·±çš„ stateã€getterã€mutationã€actionï¼Œè¿™ä¸ªå¯¹è±¡æˆ‘ä»¬æŠŠå®ƒå«åš moduleï¼ˆæ¨¡å—ï¼‰ï¼Œåœ¨æ¨¡å—ä¸­è¿˜å¯ä»¥ç»§ç»­åµŒå¥—å­æ¨¡å—ã€å­å­æ¨¡å— â€¦â€¦</p>
<p>ç°åœ¨åœ¨ <code>src</code> é‡Œé¢å»ºä¸ªæ–‡ä»¶å¤¹ï¼Œå‘½åä¸º <code>module</code>ï¼Œç„¶åå†é‡Œé¢æ–°å»ºä¸€ä¸ª <code>moduleA.js</code> æ–‡ä»¶ï¼Œå¹¶ç¼–å†™å¦‚ä¸‹ä»£ç ï¼š</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">export</span> <span class="selector-tag">default</span> &#123;</span><br><span class="line">    <span class="attribute">state</span>: &#123;</span><br><span class="line">        text: <span class="string">'moduleA'</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="selector-tag">getters</span>: &#123;&#125;,</span><br><span class="line">    <span class="selector-tag">mutations</span>: &#123;&#125;,</span><br><span class="line">    <span class="selector-tag">actions</span>: &#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¦‚ä¸Šï¼Œå†å»ºä¸€ä¸ª <code>moduleB.js</code> æ–‡ä»¶ï¼Œè¿™é‡Œå°±ä¸é‡å¤äº†ã€‚</p>
<p>ç„¶åæ‰“å¼€ <code>store.js</code> æ–‡ä»¶ï¼Œå¯¼å…¥è¿™ä¸¤ä¸ª module ï¼š</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> moduleA <span class="keyword">from</span> <span class="string">'./module/moduleA'</span>;</span><br><span class="line"><span class="keyword">import</span> moduleB <span class="keyword">from</span> <span class="string">'./module/moduleB'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> Vuex.Store(&#123;</span><br><span class="line">    modules: &#123;</span><br><span class="line">        moduleA, moduleB,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™ä¸ªæ—¶å€™ï¼Œstore ä¸­å·²ç»æ³¨å…¥äº†ä¸¤ä¸ªå­æ¨¡å— <code>moduleA moduleB</code>ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ <code>App.vue</code> ä¸­é€šè¿‡ <code>this.$store.state.moduleA.text</code> è¿™ç§æ–¹å¼æ¥ç›´æ¥è®¿é—®æ¨¡å—ä¸­çš„ state æ•°æ®ã€‚å¦‚ä¸‹ä¿®æ”¹ï¼š</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ...</span></span><br><span class="line">computed: &#123;</span><br><span class="line">    ...mapState(&#123;</span><br><span class="line">        name: <span class="function"><span class="params">state</span> =&gt;</span> state.moduleA.text</span><br><span class="line">    &#125;),</span><br><span class="line">&#125;,</span><br><span class="line"><span class="comment">// ...</span></span><br></pre></td></tr></table></figure>

<p>ç”±æ­¤å¯çŸ¥ï¼Œæ¨¡å—å†…éƒ¨çš„ state æ˜¯å±€éƒ¨çš„ï¼Œåªå±äºæ¨¡å—æœ¬èº«æ‰€æœ‰ï¼Œæ‰€ä»¥å¤–éƒ¨å¿…é¡»é€šè¿‡å¯¹åº”çš„æ¨¡å—åè¿›è¡Œè®¿é—®ã€‚</p>
<p><strong>ä½†æ˜¯</strong>æ³¨æ„äº†ï¼š</p>
<p>æ¨¡å—å†…éƒ¨çš„ actionã€mutation å’Œ getter é»˜è®¤å¯æ˜¯æ³¨å†Œåœ¨<strong>å…¨å±€å‘½åç©ºé—´</strong>çš„ï¼Œè¿™æ ·ä½¿å¾—å¤šä¸ªæ¨¡å—èƒ½å¤Ÿå¯¹åŒä¸€ mutation æˆ– action ä½œå‡ºå“åº”ã€‚</p>
<p>è¿™é‡Œä»¥ mutation çš„å“åº”ä¸ºä¾‹ï¼Œç»™ moduleA å’Œ moduleB åˆ†åˆ«æ–°å¢ä¸€ä¸ª mutationsï¼Œå¦‚ä¸‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mutations: &#123;</span><br><span class="line">    setText(state) &#123;</span><br><span class="line">        state.text = <span class="string">'A'</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<p>moduleB å’Œä¸Šé¢ä¸€æ ·ï¼ŒæŠŠæ–‡æœ¬åç§°ä¿®æ”¹ä¸€ä¸‹å³å¯ï¼Œè¿™é‡Œå°±ä¸é‡å¤äº†ã€‚ç„¶åå›åˆ° <code>App.vue</code> ä¸­ï¼Œä¿®æ”¹å¦‚ä¸‹ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">import</span> &#123;mapState, mapMutations&#125; <span class="keyword">from</span> <span class="string">'vuex'</span>;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line">        computed: &#123;</span><br><span class="line">            ...mapState(&#123;</span><br><span class="line"><span class="javascript">                name: <span class="function"><span class="params">state</span> =&gt;</span> (state.moduleA.text + <span class="string">'å’Œ'</span> + state.moduleB.text)</span></span><br><span class="line">            &#125;),</span><br><span class="line">        &#125;,</span><br><span class="line">        methods: &#123;</span><br><span class="line"><span class="actionscript">            ...mapMutations([<span class="string">'setText'</span>]),</span></span><br><span class="line">            modifyNameAction() &#123;</span><br><span class="line"><span class="actionscript">                <span class="keyword">this</span>.setText();</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>è¿è¡Œç„¶åç‚¹å‡»ä¿®æ”¹ï¼Œæˆ‘ä»¬ä¼šå‘ç°æ¨¡å— A å’Œ B ä¸­çš„ <code>text</code> å€¼éƒ½æ”¹å˜äº†ã€‚å½“ç„¶ï¼Œaction çš„ç”¨æ³•ä¸€æ¨¡ä¸€æ ·ï¼Œå¤§å®¶ä¹Ÿå¯ä»¥è¯•è¯•ã€‚</p>
<p>å¦‚æœæ¨¡å—ä¹‹é—´çš„æ•°æ®æœ‰äº¤é›†çš„è¯ï¼Œé‚£ä¹ˆæˆ‘ä»¬å…¶å®å°±å¯ä»¥é€šè¿‡è¿™ç§æ–¹å¼ï¼Œæ¥åŒæ­¥æ›´æ–°æ¨¡å—ä¹‹é—´çš„æ•°æ®ï¼Œè™½ç„¶çœ‹èµ·æ¥éå¸¸çš„æ–¹ä¾¿ï¼Œä½†æ˜¯ç”¨çš„æ—¶å€™å¯ä¸€å®šè¦è°¨æ…ï¼Œè¿™ç§å¤„ç†æ–¹å¼ä¸€æ—¦æ²¡ç”¨å¥½ï¼Œé‡åˆ°é”™è¯¯ï¼Œæ’æŸ¥èµ·æ¥è¿˜æ˜¯æ¯”è¾ƒæœ‰éš¾åº¦çš„ã€‚</p>
<h5 id="è®¿é—®æ ¹èŠ‚ç‚¹"><a href="#è®¿é—®æ ¹èŠ‚ç‚¹" class="headerlink" title="è®¿é—®æ ¹èŠ‚ç‚¹"></a>è®¿é—®æ ¹èŠ‚ç‚¹</h5><p>æˆ‘ä»¬å·²ç»çŸ¥æ™“ï¼Œæ¨¡å—å†…éƒ¨çš„ state æ˜¯å±€éƒ¨çš„ï¼Œåªå±äºæ¨¡å—æœ¬èº«æ‰€æœ‰ã€‚é‚£ä¹ˆå¦‚æœæˆ‘ä»¬è¦æƒ³åœ¨æ¨¡å—ä¸­è®¿é—® store æ ¹èŠ‚ç‚¹çš„æ•°æ® stateï¼Œæ€ä¹ˆåŠå‘¢ï¼Ÿ</p>
<p>å¾ˆç®€å•ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ¨¡å—å†…éƒ¨çš„ getter å’Œ action ä¸­ï¼Œé€šè¿‡ rootState è¿™ä¸ªå‚æ•°æ¥è·å–ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ç»™ <code>modelA.js</code> æ–‡ä»¶æ·»åŠ ä¸€ç‚¹ä»£ç ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    getters: &#123;</span><br><span class="line">        <span class="comment">// æ³¨æ„:rootStateå¿…é¡»æ˜¯ç¬¬ä¸‰ä¸ªå‚æ•°</span></span><br><span class="line">        detail(state, getters, rootState) &#123;</span><br><span class="line">            <span class="keyword">return</span> state.text + <span class="string">'-'</span> + rootState.name;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    actions: &#123;</span><br><span class="line">        callAction(&#123;state, rootState&#125;) &#123;</span><br><span class="line">            alert(state.text + <span class="string">'-'</span> + rootState.name);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç„¶åä¿®æ”¹ <code>App.vue</code> ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">import</span> &#123;mapActions, mapGetters&#125; <span class="keyword">from</span> <span class="string">'vuex'</span>;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line">        computed: &#123;</span><br><span class="line">            ...mapGetters(&#123;</span><br><span class="line"><span class="actionscript">                name: <span class="string">'detail'</span></span></span><br><span class="line">            &#125;),</span><br><span class="line">        &#125;,</span><br><span class="line">        methods: &#123;</span><br><span class="line"><span class="actionscript">            ...mapActions([<span class="string">'callAction'</span>]),</span></span><br><span class="line">            modifyNameAction() &#123;</span><br><span class="line"><span class="actionscript">                <span class="keyword">this</span>.callAction();</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>ç„¶åè¿è¡Œä½ ä¼šå‘ç°ï¼Œæ ¹èŠ‚ç‚¹çš„æ•°æ®å·²ç»è¢«æˆ‘ä»¬è·å–åˆ°äº†ã€‚è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯åœ¨ getters ä¸­ï¼ŒrootState æ˜¯ä»¥ç¬¬ä¸‰ä¸ªå‚æ•°æš´éœ²å‡ºæ¥çš„ï¼Œå¦å¤–ï¼Œè¿˜æœ‰ç¬¬å››ä¸ªå‚æ•° rootGettersï¼Œç”¨æ¥è·å¾—æ ¹èŠ‚ç‚¹çš„ getters ä¿¡æ¯ï¼Œè¿™é‡Œå°±ä¸æ¼”ç¤ºäº†ï¼Œæ„Ÿå…´è¶£è‡ªå·±å¯ä»¥å»å°è¯•ã€‚å”¯ä¸€è¦å¼ºè°ƒçš„å°±æ˜¯åƒä¸‡ä¸è¦å¼„é”™å‚æ•°çš„ä½ç½®äº†ã€‚</p>
<p>å½“ç„¶ï¼Œaction ä¸­ä¹Ÿèƒ½æ¥æ”¶åˆ° rootGettersï¼Œä½†æ˜¯åœ¨ action ä¸­ï¼Œç”±äºå®ƒæ¥æ”¶è¿‡æ¥çš„æ•°æ®éƒ½è¢«åŒ…åœ¨ <code>context</code> å¯¹è±¡ä¸­çš„ï¼Œæ‰€ä»¥è§£åŒ…å‡ºæ¥æ²¡æœ‰ä»€ä¹ˆé¡ºåºçš„é™åˆ¶ã€‚</p>
<h5 id="å‘½åç©ºé—´"><a href="#å‘½åç©ºé—´" class="headerlink" title="å‘½åç©ºé—´"></a>å‘½åç©ºé—´</h5><p>å‰é¢æˆ‘ä»¬å·²ç»çŸ¥é“äº†ï¼Œæ¨¡å—å†…éƒ¨çš„ actionã€mutation å’Œ getter é»˜è®¤æ˜¯æ³¨å†Œåœ¨å…¨å±€å‘½åç©ºé—´çš„ã€‚å¦‚æœæˆ‘ä»¬åªæƒ³è®©ä»–ä»¬åœ¨å½“å‰çš„æ¨¡å—ä¸­ç”Ÿæ•ˆï¼Œåº”è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ</p>
<p><strong>é€šè¿‡æ·»åŠ  <code>namespaced: true</code> çš„æ–¹å¼ä½¿å…¶æˆä¸ºå¸¦å‘½åç©ºé—´çš„æ¨¡å—ã€‚</strong>å½“æ¨¡å—è¢«æ³¨å†Œåï¼Œå®ƒçš„æ‰€æœ‰ getterã€action åŠ mutation éƒ½ä¼šè‡ªåŠ¨æ ¹æ®æ¨¡å—æ³¨å†Œçš„è·¯å¾„è°ƒæ•´å‘½åã€‚</p>
<p>æˆ‘ä»¬åœ¨ <code>moduleA.js</code> ä¸­æ·»åŠ  <code>namespaced: true</code>ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    namespaced: <span class="literal">true</span>,</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™ä¸ªæ—¶å€™å†å»è¿è¡Œä»£ç ï¼Œä½ ä¼šå‘ç°å¦‚ä¸‹é”™è¯¯ï¼š</p>
<blockquote>
<p>[vuex] unknown getter: detail</p>
</blockquote>
<p>åœ¨å…¨å±€ getter ä¸­å·²ç»æ‰¾ä¸åˆ° <code>detail</code> çš„è¿™ä¸ªæ–¹æ³•äº†ï¼Œå› ä¸ºå®ƒçš„è·¯åŠ²å·²ç»æ”¹å˜äº†ï¼Œä¸å†å±äºå…¨å±€ï¼Œä»…ä»…åªå±äº moduleA äº†ã€‚æ‰€ä»¥ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œå¦‚æœæˆ‘ä»¬æƒ³è¦è®¿é—®å®ƒï¼Œå¿…é¡»å¸¦ä¸Šè·¯åŠ²æ‰è¡Œã€‚ä¿®æ”¹ <code>App.vue</code> å¦‚ä¸‹ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">import</span> &#123;mapActions, mapGetters&#125; <span class="keyword">from</span> <span class="string">'vuex'</span>;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line">        computed: &#123;</span><br><span class="line">            ...mapGetters(&#123;</span><br><span class="line"><span class="actionscript">                name: <span class="string">'moduleA/detail'</span></span></span><br><span class="line">            &#125;),</span><br><span class="line">        &#125;,</span><br><span class="line">        methods: &#123;</span><br><span class="line">            ...mapActions(&#123;</span><br><span class="line"><span class="actionscript">                call: <span class="string">'moduleA/callAction'</span></span></span><br><span class="line">            &#125;),</span><br><span class="line">            modifyNameAction() &#123;</span><br><span class="line"><span class="actionscript">                <span class="keyword">this</span>.call();</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>æ³¨æ„ï¼Œå¦‚æœä¸€ä¸ªæ¨¡å—å¯ç”¨äº†å‘½åç©ºé—´ï¼Œé‚£ä¹ˆå®ƒé‡Œé¢çš„ getter å’Œ action ä¸­æ”¶åˆ°çš„ getterï¼Œdispatch å’Œ commit ä¹Ÿéƒ½æ˜¯å±€éƒ¨åŒ–çš„ï¼Œä¸éœ€è¦åœ¨åŒä¸€æ¨¡å—å†…é¢å¤–æ·»åŠ ç©ºé—´åå‰ç¼€ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ›´æ”¹ <code>namespaced</code> å±æ€§åä¸éœ€è¦ä¿®æ”¹æ¨¡å—å†…çš„ä»»ä½•ä»£ç ã€‚</p>
<p>é‚£ä¹ˆæˆ‘ä»¬å¦‚ä½•<strong>åœ¨å¸¦å‘½åç©ºé—´çš„æ¨¡å—å†…è®¿é—®å…¨å±€å†…å®¹</strong>å‘¢ï¼Ÿ</p>
<p>é€šè¿‡å‰é¢çš„å­¦ä¹ ï¼Œæˆ‘ä»¬å·²ç»äº†è§£åˆ°ï¼š</p>
<blockquote>
<p>å¦‚æœä½ å¸Œæœ›ä½¿ç”¨å…¨å±€ state å’Œ getterï¼ŒrootState å’Œ rootGetter ä¼šä½œä¸ºç¬¬ä¸‰å’Œç¬¬å››å‚æ•°ä¼ å…¥ getterï¼Œä¹Ÿä¼šé€šè¿‡ context å¯¹è±¡çš„å±æ€§ä¼ å…¥ actionã€‚</p>
</blockquote>
<p>ç°åœ¨å¦‚æœæƒ³è¦åœ¨å…¨å±€å‘½åç©ºé—´å†…åˆ†å‘ action æˆ–æäº¤ mutation çš„è¯ï¼Œé‚£ä¹ˆæˆ‘ä»¬åªéœ€è¦å°† å°† <code>{ root: true }</code> ä½œä¸ºç¬¬ä¸‰å‚æ•°ä¼ ç»™ dispatch æˆ– commit å³å¯ã€‚</p>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    namespaced: <span class="keyword">true</span>,</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    actions: &#123;</span><br><span class="line">        callAction(&#123;state, commit, rootState&#125;) &#123;</span><br><span class="line">            commit(<span class="string">'setName'</span>, <span class="string">'æ”¹å˜'</span>, &#123;root: <span class="keyword">true</span>&#125;);</span><br><span class="line">            alert(state.text + <span class="string">'-'</span> + rootState.name);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ¥ä¸‹æ¥çœ‹çœ‹å¦‚ä½•<strong>åœ¨å¸¦å‘½åç©ºé—´çš„æ¨¡å—å†…æ³¨å†Œå…¨å±€ action</strong>ã€‚</p>
<blockquote>
<p>è‹¥éœ€è¦åœ¨å¸¦å‘½åç©ºé—´çš„æ¨¡å—æ³¨å†Œå…¨å±€ actionï¼Œä½ å¯æ·»åŠ  <code>root: true</code>ï¼Œå¹¶å°†è¿™ä¸ª action çš„å®šä¹‰æ”¾åœ¨å‡½æ•° handler ä¸­ã€‚</p>
</blockquote>
<p>å†™æ³•ç¨å¾®æœ‰ç‚¹å˜åŒ–ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹ï¼Œä¿®æ”¹ <code>moduleA.js</code>ï¼Œå¦‚ä¸‹ï¼š</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    namespaced: <span class="literal">true</span>,</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    actions: &#123;</span><br><span class="line">        callAction: &#123;</span><br><span class="line">            root: <span class="literal">true</span>,</span><br><span class="line">            handler (namespacedContext, payload) &#123;</span><br><span class="line">                <span class="keyword">let</span> &#123;state, commit&#125; = namespacedContext;</span><br><span class="line">                commit(<span class="string">'setText'</span>);</span><br><span class="line">                alert(state.text);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç®€å•è§£é‡Šä¸‹ï¼Œè¿™é‡Œçš„ <code>namespacedContext</code> å°±ç›¸å½“äºå½“å‰æ¨¡å—çš„ä¸Šä¸‹æ–‡å¯¹è±¡ï¼Œ<code>payload</code> æ˜¯è°ƒç”¨çš„æ—¶å€™æ‰€ä¼ å…¥çš„å‚æ•°ï¼Œå½“ç„¶ä¹Ÿå«è½½è·ã€‚</p>
<p>ç¤ºä¾‹å°±è®²åˆ°è¿™é‡Œï¼Œæ¥ä¸‹æ¥çœ‹çœ‹<strong>å¸¦å‘½åç©ºé—´çš„ç»‘å®šå‡½æ•°</strong>ã€‚</p>
<p>å…³äº <code>mapState, mapGetters, mapActions</code> å’Œ <code>mapMutations</code> è¿™äº›å‡½æ•°å¦‚ä½•æ¥ç»‘å®šå¸¦å‘½åç©ºé—´çš„æ¨¡å—ï¼Œä¸Šé¢ç¤ºä¾‹ä»£ç ä¸­å…¶å®å·²ç»éƒ½å†™è¿‡äº†ï¼Œè¿™é‡Œå†çœ‹çœ‹å¦å¤–å‡ ç§æ›´ç®€ä¾¿çš„å†™æ³•ï¼Œå…ˆçœ‹çœ‹ä¹‹å‰çš„å†™æ³•ã€‚</p>
<p>è¿™é‡Œå°±ç”¨å®˜æ–¹çš„ç¤ºä¾‹ä»£ç ä¸¾ä¾‹è¯´æ˜ï¼š</p>
<figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line"><span class="symbol">computed:</span> &#123;</span><br><span class="line">    ...mapState(&#123;</span><br><span class="line">        <span class="symbol">a:</span> state =&gt; state.some.nested<span class="class">.<span class="keyword">module</span>.<span class="title">a</span>,</span></span><br><span class="line">        <span class="symbol">b:</span> state =&gt; state.some.nested<span class="class">.<span class="keyword">module</span>.<span class="title">b</span></span></span><br><span class="line">    &#125;)</span><br><span class="line">&#125;,</span><br><span class="line"><span class="symbol">methods:</span> &#123;</span><br><span class="line">    ...mapActions([</span><br><span class="line">        /<span class="regexp">/ -&gt; this['some/nested</span><span class="regexp">/module/foo</span><span class="string">']()</span></span><br><span class="line"><span class="string">        '</span>some/nested/<span class="class"><span class="keyword">module</span>/<span class="title">foo</span>', </span></span><br><span class="line">        /<span class="regexp">/ -&gt; this['some/nested</span><span class="regexp">/module/bar</span><span class="string">']()</span></span><br><span class="line"><span class="string">        '</span>some/nested/<span class="class"><span class="keyword">module</span>/<span class="title">bar</span>' </span></span><br><span class="line">    ])</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ›´ä¼˜é›…çš„å†™æ³•ï¼š</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line">computed: &#123;</span><br><span class="line">    ...mapState(<span class="string">'some/nested/module'</span>, &#123;</span><br><span class="line">        a: <span class="function"><span class="params">state</span> =&gt;</span> state.a,</span><br><span class="line">        b: <span class="function"><span class="params">state</span> =&gt;</span> state.b</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;,</span><br><span class="line">methods: &#123;</span><br><span class="line">    ...mapActions(<span class="string">'some/nested/module'</span>, [</span><br><span class="line">        <span class="string">'foo'</span>, <span class="comment">// -&gt; this.foo()</span></span><br><span class="line">        <span class="string">'bar'</span> <span class="comment">// -&gt; this.bar()</span></span><br><span class="line">    ])</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>å°†æ¨¡å—çš„ç©ºé—´åç§°å­—ç¬¦ä¸²ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ä¼ é€’ç»™ä¸Šè¿°å‡½æ•°ï¼Œè¿™æ ·æ‰€æœ‰ç»‘å®šéƒ½ä¼šè‡ªåŠ¨å°†è¯¥æ¨¡å—ä½œä¸ºä¸Šä¸‹æ–‡ã€‚</p>
<p>æˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡ä½¿ç”¨ <code>createNamespacedHelpers</code> åˆ›å»ºåŸºäºæŸä¸ªå‘½åç©ºé—´è¾…åŠ©å‡½æ•°ã€‚å®ƒè¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œå¯¹è±¡é‡Œæœ‰æ–°çš„ç»‘å®šåœ¨ç»™å®šå‘½åç©ºé—´å€¼ä¸Šçš„ç»„ä»¶ç»‘å®šè¾…åŠ©å‡½æ•°ï¼š</p>
</blockquote>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createNamespacedHelpers &#125; <span class="keyword">from</span> <span class="string">'vuex'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> &#123; mapState, mapActions &#125; = createNamespacedHelpers(<span class="string">'some/nested/module'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  computed: &#123;</span><br><span class="line">    <span class="comment">// åœ¨ `some/nested/module` ä¸­æŸ¥æ‰¾</span></span><br><span class="line">    ...mapState(&#123;</span><br><span class="line">      a: <span class="function"><span class="params">state</span> =&gt;</span> state.a,</span><br><span class="line">      b: <span class="function"><span class="params">state</span> =&gt;</span> state.b</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    <span class="comment">// åœ¨ `some/nested/module` ä¸­æŸ¥æ‰¾</span></span><br><span class="line">    ...mapActions([</span><br><span class="line">      <span class="string">'foo'</span>,</span><br><span class="line">      <span class="string">'bar'</span></span><br><span class="line">    ])</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h5 id="æ¨¡å—çš„åŠ¨æ€æ³¨å†Œ"><a href="#æ¨¡å—çš„åŠ¨æ€æ³¨å†Œ" class="headerlink" title="æ¨¡å—çš„åŠ¨æ€æ³¨å†Œ"></a>æ¨¡å—çš„åŠ¨æ€æ³¨å†Œ</h5><p>è¿™ä¸€ç« èŠ‚ï¼Œå®˜ç½‘è®²å¾—æ¯”è¾ƒæ¸…æ¥šï¼Œæ‰€ä»¥ç›´æ¥æ¬è¿‡æ¥äº†ã€‚</p>
<blockquote>
<p>åœ¨ store åˆ›å»ºä¹‹åï¼Œå¯ä»¥ä½¿ç”¨ <code>store.registerModule</code> æ–¹æ³•åŠ¨æ€çš„æ³¨å†Œæ¨¡å—ï¼š</p>
</blockquote>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="comment">// æ³¨å†Œæ¨¡å— `myModule`</span></span><br><span class="line">store.registerModule(<span class="string">'myModule'</span>, &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// æ³¨å†ŒåµŒå¥—æ¨¡å— `nested/myModule`</span></span><br><span class="line">store.registerModule([<span class="string">'nested'</span>, <span class="string">'myModule'</span>], &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>ä¹‹åå°±å¯ä»¥é€šè¿‡ <code>store.state.myModule</code> å’Œ <code>store.state.nested.myModule</code> è®¿é—®æ¨¡å—çš„çŠ¶æ€ã€‚</p>
<p>æ¨¡å—åŠ¨æ€æ³¨å†ŒåŠŸèƒ½ä½¿å¾—å…¶ä»– Vue æ’ä»¶å¯ä»¥é€šè¿‡åœ¨ store ä¸­é™„åŠ æ–°æ¨¡å—çš„æ–¹å¼æ¥ä½¿ç”¨ Vuex ç®¡ç†çŠ¶æ€ã€‚ä¾‹å¦‚ï¼Œ<a href="https://github.com/vuejs/vuex-router-sync" target="_blank" rel="noopener"><code>vuex-router-sync</code></a> æ’ä»¶å°±æ˜¯é€šè¿‡åŠ¨æ€æ³¨å†Œæ¨¡å—å°† vue-router å’Œ vuex ç»“åˆåœ¨ä¸€èµ·ï¼Œå®ç°åº”ç”¨çš„è·¯ç”±çŠ¶æ€ç®¡ç†ã€‚</p>
<p>ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ <code>store.unregisterModule(moduleName)</code> æ¥åŠ¨æ€å¸è½½æ¨¡å—ã€‚æ³¨æ„ï¼Œä½ ä¸èƒ½ä½¿ç”¨æ­¤æ–¹æ³•å¸è½½é™æ€æ¨¡å—ï¼ˆå³åˆ›å»º store æ—¶å£°æ˜çš„æ¨¡å—ï¼‰ã€‚</p>
<p>åœ¨æ³¨å†Œä¸€ä¸ªæ–° module æ—¶ï¼Œä½ å¾ˆæœ‰å¯èƒ½æƒ³ä¿ç•™è¿‡å»çš„ stateï¼Œä¾‹å¦‚ä»ä¸€ä¸ªæœåŠ¡ç«¯æ¸²æŸ“çš„åº”ç”¨ä¿ç•™ stateã€‚ä½ å¯ä»¥é€šè¿‡ <code>preserveState</code> é€‰é¡¹å°†å…¶å½’æ¡£ï¼š<code>store.registerModule(&#39;a&#39;, module, { preserveState: true })</code>ã€‚</p>
</blockquote>
<h5 id="æ¨¡å—é‡ç”¨"><a href="#æ¨¡å—é‡ç”¨" class="headerlink" title="æ¨¡å—é‡ç”¨"></a>æ¨¡å—é‡ç”¨</h5><p>å°±ä¸€ç‚¹ï¼Œé‡ç”¨ä¼šå¯¼è‡´æ¨¡å—ä¸­çš„æ•°æ® state è¢«æ±¡æŸ“ï¼Œæ‰€ä»¥å’Œ Vue ä¸­çš„ data ä¸€æ ·ï¼Œä¹Ÿä½¿ç”¨ä¸€ä¸ªå‡½æ•°æ¥ç”³æ˜ state å³å¯ã€‚</p>
<figure class="highlight kotlin"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> MyReusableModule = &#123;</span><br><span class="line">  state () &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      foo: <span class="string">'bar'</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">//...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="ä¸‰ã€è§„èŒƒç›®å½•ç»“æ„"><a href="#ä¸‰ã€è§„èŒƒç›®å½•ç»“æ„" class="headerlink" title="ä¸‰ã€è§„èŒƒç›®å½•ç»“æ„"></a>ä¸‰ã€è§„èŒƒç›®å½•ç»“æ„</h2><p>å¦‚æœæŠŠæ•´ä¸ª<code>store</code>éƒ½æ”¾åœ¨<code>index.js</code>ä¸­æ˜¯ä¸åˆç†çš„ï¼Œæ‰€ä»¥éœ€è¦æ‹†åˆ†ã€‚æ¯”è¾ƒåˆé€‚çš„ç›®å½•æ ¼å¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">store:.</span><br><span class="line">â”‚  actions.js</span><br><span class="line">â”‚  getters.js</span><br><span class="line">â”‚  index.js</span><br><span class="line">â”‚  mutations.js</span><br><span class="line">â”‚  mutations_type.js   ##è¯¥é¡¹ä¸ºå­˜æ”¾mutaionsæ–¹æ³•å¸¸é‡çš„æ–‡ä»¶ï¼ŒæŒ‰éœ€è¦å¯åŠ å…¥</span><br><span class="line">â”‚</span><br><span class="line">â””â”€modules</span><br><span class="line">        Astore.js</span><br></pre></td></tr></table></figure>

<p>å¯¹åº”çš„å†…å®¹å­˜æ”¾åœ¨å¯¹åº”çš„æ–‡ä»¶ä¸­ï¼Œå’Œä»¥å‰ä¸€æ ·ï¼Œåœ¨<code>index.js</code>ä¸­å­˜æ”¾å¹¶å¯¼å‡º<code>store</code>ã€‚<code>state</code>ä¸­çš„æ•°æ®å°½é‡æ”¾åœ¨<code>index.js</code>ä¸­ã€‚è€Œ<code>modules</code>ä¸­çš„<code>Astore</code>å±€éƒ¨æ¨¡å—çŠ¶æ€å¦‚æœå¤šçš„è¯ä¹Ÿå¯ä»¥è¿›è¡Œç»†åˆ†ã€‚</p>
<p>å‚è€ƒé“¾æ¥ï¼š<a href="https://www.jianshu.com/p/2e5973fe1223" target="_blank" rel="noopener">https://www.jianshu.com/p/2e5973fe1223</a></p>
<p>å‚è€ƒé“¾æ¥ï¼š<a href="https://www.jianshu.com/p/83d5677b0928" target="_blank" rel="noopener">https://www.jianshu.com/p/83d5677b0928</a></p>
]]></content>
      <categories>
        <category>vue</category>
      </categories>
      <tags>
        <tag>vue</tag>
        <tag>æ ‡ç­¾</tag>
      </tags>
  </entry>
  <entry>
    <title>vue-å‰è¿›åé€€fåŠ¨ç”»</title>
    <url>/2020/07/30/vue-%E5%89%8D%E8%BF%9B%E5%90%8E%E9%80%80f%E5%8A%A8%E7%94%BB/</url>
    <content><![CDATA[<p><strong>ä¸€ä¸¶é¦–å…ˆé…ç½®è·¯ç”±å¹¶ä¸”ä¿®æ”¹è·¯ç”±é…ç½®</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">è·¯ç”±é…ç½®å°±ä¸è®²äº†</span><br><span class="line">é‡ç‚¹ï¼Œç»™VueRouteæ·»åŠ ä¸€ä¸ªgoBackæ–¹æ³•ï¼Œç”¨äºè®°å½•è·¯ç”±çš„å‰è¿›åé€€çŠ¶æ€ this.isBack &#x3D; true </span><br><span class="line">VueRouter.prototype.goBack &#x3D; function () &#123; </span><br><span class="line">ã€€ã€€this.isBack &#x3D; true</span><br><span class="line">ã€€ã€€window.history.go(-1)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<a id="more"></a>

<h3 id="äºŒä¸¶ç›‘å¬è·¯ç”±å˜åŒ–ï¼ˆåœ¨è·¯ç”±å˜åŒ–æ—¶åˆ¤æ–­æ­¤æ—¶çš„è·¯ç”±çŠ¶æ€æ˜¯å‰è¿›è¿˜æ˜¯åé€€ï¼‰"><a href="#äºŒä¸¶ç›‘å¬è·¯ç”±å˜åŒ–ï¼ˆåœ¨è·¯ç”±å˜åŒ–æ—¶åˆ¤æ–­æ­¤æ—¶çš„è·¯ç”±çŠ¶æ€æ˜¯å‰è¿›è¿˜æ˜¯åé€€ï¼‰" class="headerlink" title="äºŒä¸¶ç›‘å¬è·¯ç”±å˜åŒ–ï¼ˆåœ¨è·¯ç”±å˜åŒ–æ—¶åˆ¤æ–­æ­¤æ—¶çš„è·¯ç”±çŠ¶æ€æ˜¯å‰è¿›è¿˜æ˜¯åé€€ï¼‰**"></a>äºŒä¸¶ç›‘å¬è·¯ç”±å˜åŒ–ï¼ˆåœ¨è·¯ç”±å˜åŒ–æ—¶åˆ¤æ–­æ­¤æ—¶çš„è·¯ç”±çŠ¶æ€æ˜¯å‰è¿›è¿˜æ˜¯åé€€ï¼‰**</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">ã€€ã€€&lt;div&gt;</span><br><span class="line">ã€€ã€€ã€€ã€€åŠ¨æ€ç»‘å®šè·¯ç”±åŠ¨ç”»ï¼Œæ ¹æ®è·¯ç”±çŠ¶æ€çš„ä¸åŒç»‘å®šä¸åŒçš„è·¯ç”±åŠ¨ç”»åˆ†åˆ«ä¸º  ï¼šâ€˜slide-leftâ€™  å’Œ &#39;slide-right&#39;</span><br><span class="line">ã€€ã€€ã€€ã€€&lt;transition :name&#x3D;&quot;transitionName&quot;&gt; </span><br><span class="line">ã€€ã€€ã€€ã€€ã€€ã€€&lt;router-view class&#x3D;&quot;Router&quot;&gt;&lt;&#x2F;router-view&gt;</span><br><span class="line">ã€€ã€€ã€€ã€€&lt;&#x2F;transition&gt;</span><br><span class="line">ã€€ã€€&lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">ã€€ã€€data() &#123;</span><br><span class="line">ã€€ã€€ã€€ã€€return &#123;</span><br><span class="line">ã€€ã€€ã€€ã€€ã€€ã€€transitionName: &#39;slide-right&#39;  &#x2F;&#x2F; é»˜è®¤åŠ¨æ€è·¯ç”±å˜åŒ–ä¸ºslide-right</span><br><span class="line">ã€€ã€€ã€€ã€€&#125;</span><br><span class="line">ã€€ã€€&#125;,</span><br><span class="line">ã€€ã€€watch: &#123;</span><br><span class="line">ã€€ã€€ã€€&#39;$route&#39; (to, from) &#123;</span><br><span class="line">ã€€ã€€ã€€     &#x2F;&#x2F;æ–¹æ³•ä¸€</span><br><span class="line">ã€€ã€€ã€€ã€€   let isBack &#x3D; this.$router.isBack  &#x2F;&#x2F;  ç›‘å¬è·¯ç”±å˜åŒ–æ—¶çš„çŠ¶æ€ä¸ºå‰è¿›è¿˜æ˜¯åé€€**</span><br><span class="line">ã€€ã€€ã€€ã€€ã€€ã€€if(isBack) &#123;</span><br><span class="line">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€this.transitionName &#x3D; &#39;slide-right&#39;</span><br><span class="line">ã€€ã€€ã€€ã€€ã€€ã€€&#125; else &#123;</span><br><span class="line">ã€€ã€€ã€€ã€€ã€€ã€€   this.transitionName &#x3D; &#39;slide-left&#39;</span><br><span class="line">ã€€ã€€ã€€ã€€ã€€  &#125;</span><br><span class="line">ã€€ã€€		this.$router.isBack &#x3D; false</span><br><span class="line">ã€€ã€€		</span><br><span class="line">ã€€ã€€		&#x2F;&#x2F;æ–¹æ³•äºŒåœ¨è·¯ç”±metaä¸­è®¾ç½®index</span><br><span class="line">ã€€ã€€		&#x2F;&#x2F; å¦‚æœtoç´¢å¼•å¤§äºfromç´¢å¼•,åˆ¤æ–­ä¸ºå‰è¿›çŠ¶æ€,åä¹‹åˆ™ä¸ºåé€€çŠ¶æ€ </span><br><span class="line">          if (to.meta.index &gt; from.meta.index)&#123;</span><br><span class="line">           &#x2F;&#x2F; è®¾ç½®åŠ¨ç”»åç§°</span><br><span class="line">            this.transitionName &#x3D; &#39;slide-left&#39;;</span><br><span class="line">          &#125; else&#123;</span><br><span class="line">            this.transitionName &#x3D; &#39;slide-right&#39;;</span><br><span class="line">          &#125;</span><br><span class="line">ã€€ã€€  &#125;</span><br><span class="line">ã€€&#125; </span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>



<h3 id="ä¸‰ä¸¶ç»™å‰è¿›åé€€åŠ¨ç”»æ·»åŠ ä¸åŒçš„åŠ¨ç”»æ•ˆæœï¼Œå…·ä½“ä»£ç å¦‚ä¸‹ï¼š"><a href="#ä¸‰ä¸¶ç»™å‰è¿›åé€€åŠ¨ç”»æ·»åŠ ä¸åŒçš„åŠ¨ç”»æ•ˆæœï¼Œå…·ä½“ä»£ç å¦‚ä¸‹ï¼š" class="headerlink" title="ä¸‰ä¸¶ç»™å‰è¿›åé€€åŠ¨ç”»æ·»åŠ ä¸åŒçš„åŠ¨ç”»æ•ˆæœï¼Œå…·ä½“ä»£ç å¦‚ä¸‹ï¼š"></a>ä¸‰ä¸¶ç»™å‰è¿›åé€€åŠ¨ç”»æ·»åŠ ä¸åŒçš„åŠ¨ç”»æ•ˆæœï¼Œå…·ä½“ä»£ç å¦‚ä¸‹ï¼š</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">.Router &#123;</span><br><span class="line">     position: absolute;</span><br><span class="line">     width: 100%;</span><br><span class="line">     transition: all .8s ease;</span><br><span class="line">     top: 40px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.slide-left-enter,</span><br><span class="line"> .slide-right-leave-active &#123;</span><br><span class="line">     opacity: 0;</span><br><span class="line">    -webkit-transform: translate(100%, 0);</span><br><span class="line">    transform: translate(100%, 0);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.slide-left-leave-active,</span><br><span class="line">.slide-right-enter &#123;</span><br><span class="line">     opacity: 0;</span><br><span class="line">    -webkit-transform: translate(-100%, 0);</span><br><span class="line">    transform: translate(-100% 0);</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>



<h3 id="å››ä¸¶è·¯ç”±å‰è¿›çš„æ—¶å€™æŒ‰æ­£å¸¸æ–¹æ³•èµ°å°±è¡Œäº†ï¼›"><a href="#å››ä¸¶è·¯ç”±å‰è¿›çš„æ—¶å€™æŒ‰æ­£å¸¸æ–¹æ³•èµ°å°±è¡Œäº†ï¼›" class="headerlink" title="å››ä¸¶è·¯ç”±å‰è¿›çš„æ—¶å€™æŒ‰æ­£å¸¸æ–¹æ³•èµ°å°±è¡Œäº†ï¼›"></a>å››ä¸¶è·¯ç”±å‰è¿›çš„æ—¶å€™æŒ‰æ­£å¸¸æ–¹æ³•èµ°å°±è¡Œäº†ï¼›</h3><h3 id="äº”ä¸¶åé€€çš„æ—¶å€™è°ƒç”¨goBackæ–¹æ³•å°±OKï¼›"><a href="#äº”ä¸¶åé€€çš„æ—¶å€™è°ƒç”¨goBackæ–¹æ³•å°±OKï¼›" class="headerlink" title="äº”ä¸¶åé€€çš„æ—¶å€™è°ƒç”¨goBackæ–¹æ³•å°±OKï¼›"></a>äº”ä¸¶åé€€çš„æ—¶å€™è°ƒç”¨<strong>goBack</strong>æ–¹æ³•å°±OKï¼›</h3><p>åœ¨éœ€è¦ç‚¹å‡»è¿”å›çš„æŒ‰é’®ä¸­è®¾ç½® goback</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">methods: &#123;</span><br><span class="line">    goback () &#123;</span><br><span class="line">      this.$router.goBack()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>vue</category>
      </categories>
      <tags>
        <tag>vue</tag>
        <tag>åŠ¨ç”»</tag>
      </tags>
  </entry>
  <entry>
    <title>vue_æ–¹æ³•ç›¸å…³</title>
    <url>/2020/07/30/vue-%E6%96%B9%E6%B3%95%E7%9B%B8%E5%85%B3/</url>
    <content><![CDATA[<h3 id="åŒ¹é…å­—ä½“æ ‡çº¢"><a href="#åŒ¹é…å­—ä½“æ ‡çº¢" class="headerlink" title="åŒ¹é…å­—ä½“æ ‡çº¢"></a>åŒ¹é…å­—ä½“æ ‡çº¢</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">brightenKeyword: function(val, keyword) &#123;</span><br><span class="line">    &#x2F;&#x2F;val &#x3D; val + &#39;&#39;;</span><br><span class="line">    &#x2F;&#x2F;if (val.indexOf(keyword) !&#x3D;&#x3D; -1 &amp;&amp; keyword !&#x3D;&#x3D; &#39;&#39;) &#123;</span><br><span class="line">    &#x2F;&#x2F;    return val.replace(keyword, &#39;&lt;font color&#x3D;&quot;#409EFF&quot;&gt;&#39; + keyword + &#39;&lt;&#x2F;font&gt;&#39;)</span><br><span class="line">    &#x2F;&#x2F;&#125; else &#123;</span><br><span class="line">    &#x2F;&#x2F;    return val</span><br><span class="line">    &#x2F;&#x2F;&#125;</span><br><span class="line">    const Reg &#x3D; new RegExp(keyword, &#39;i&#39;);</span><br><span class="line">    if (val) &#123;</span><br><span class="line">        return val.replace(Reg, &#96; &lt; span class &#x3D; &quot;redColor zl-theme-price&quot; &gt; $ &#123;keyword&#125; &lt; &#x2F;span&gt;&#96;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,&#x2F;</span><br></pre></td></tr></table></figure>

<a id="more"></a>

<h3 id="å›¾ç‰‡çš„å¾ªç¯è¾“å‡º"><a href="#å›¾ç‰‡çš„å¾ªç¯è¾“å‡º" class="headerlink" title="å›¾ç‰‡çš„å¾ªç¯è¾“å‡º"></a>å›¾ç‰‡çš„å¾ªç¯è¾“å‡º</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;h3&gt;&lt;img :src&#x3D;&quot;imgIcon[index]&quot; width&#x3D;&quot;15px&quot; &gt;&#123;&#123;item.title&#125;&#125;&lt;&#x2F;h3&gt;</span><br><span class="line"> data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">        imgIcon:[</span><br><span class="line">          require(&#39;@&#x2F;common&#x2F;img&#x2F;icon-search00.png&#39;),</span><br><span class="line">          require(&#39;@&#x2F;common&#x2F;img&#x2F;icon-search01.png&#39;),</span><br><span class="line">          require(&#39;@&#x2F;common&#x2F;img&#x2F;icon-search02.png&#39;),</span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>



<h3 id="åˆ«å-éœ€è¦é‡å¯vscodeæ‰èƒ½ç”Ÿæ•ˆ"><a href="#åˆ«å-éœ€è¦é‡å¯vscodeæ‰èƒ½ç”Ÿæ•ˆ" class="headerlink" title="åˆ«å(éœ€è¦é‡å¯vscodeæ‰èƒ½ç”Ÿæ•ˆ)"></a>åˆ«å(éœ€è¦é‡å¯vscodeæ‰èƒ½ç”Ÿæ•ˆ)</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#39;@&#39;: resolve(&#39;src&#39;),</span><br><span class="line">&#39;components&#39;: resolve(&#39;@&#x2F;components&#39;),</span><br><span class="line"></span><br><span class="line">åœ¨æ ‡ç­¾å†…å¿…é¡»ä½¿ç”¨~</span><br><span class="line">&lt;img src&#x3D;&quot;~asset&#x2F;image&#x2F;header.jpng&quot;&#x2F;&gt;</span><br></pre></td></tr></table></figure>



<h3 id="thisæŒ‡å‘"><a href="#thisæŒ‡å‘" class="headerlink" title="thisæŒ‡å‘"></a>thisæŒ‡å‘</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">new Vue(&#123;</span><br><span class="line">    el:&quot;#app1&quot;,</span><br><span class="line">    data:&#123;that:this&#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">        f:function()&#123;</span><br><span class="line">          console.log(this) &#x2F;&#x2F;vueå®ä¾‹</span><br><span class="line">        &#125;,</span><br><span class="line">        f1:()&#x3D;&gt;&#123;</span><br><span class="line">            console.log(this)&#x2F;&#x2F;window</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">å»ºè®®ä½¿ç”¨es5çš„ç”¨æ³•ï¼Œç”¨thatå®šä¹‰</span><br></pre></td></tr></table></figure>



<h3 id="éçˆ¶å­ç»„ä»¶é€šä¿¡â€“åˆ›å»ºç©ºå®ä¾‹"><a href="#éçˆ¶å­ç»„ä»¶é€šä¿¡â€“åˆ›å»ºç©ºå®ä¾‹" class="headerlink" title="éçˆ¶å­ç»„ä»¶é€šä¿¡â€“åˆ›å»ºç©ºå®ä¾‹"></a>éçˆ¶å­ç»„ä»¶é€šä¿¡â€“åˆ›å»ºç©ºå®ä¾‹</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">    &lt;foo&gt;&lt;&#x2F;foo&gt;</span><br><span class="line">    &lt;bar&gt;&lt;&#x2F;bar&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line"></span><br><span class="line">	&#x2F;&#x2F;ä½¿ç”¨ä¸€ä¸ªç©ºçš„å®ä¾‹æ¥ä½œä¸ºä¸­å¤®äº‹ä»¶æ€»çº¿ã€‚</span><br><span class="line">    var eventBus&#x3D;new Vue(&#123;&#125;);</span><br><span class="line">    </span><br><span class="line">    &#x2F;&#x2F;fooç»„ä»¶</span><br><span class="line">    Vue.component(&#39;foo&#39;,&#123;</span><br><span class="line">        template:&#39;&lt;div&gt;&lt;p&gt;the count of foo is &#123;&#123;fooCount&#125;&#125;&lt;&#x2F;p&gt;&#39; +</span><br><span class="line">                &#39;&lt;button @click&#x3D;&quot;emitevent&quot;&gt;Add bar\&#39;s count&lt;&#x2F;button&gt;&lt;&#x2F;div&gt;&#39;,</span><br><span class="line">        data:function () &#123;</span><br><span class="line">            return &#123;fooCount:0&#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        methods:&#123;</span><br><span class="line">            emitevent:function () &#123;</span><br><span class="line">			&#x2F;&#x2F;è¿™é‡Œè¦ä½¿ç”¨ä¸­å¤®äº‹ä»¶å‘é€ä¿¡å·ã€‚</span><br><span class="line">                eventBus.$emit(&#39;emitevent&#39;);</span><br><span class="line">            &#125;</span><br><span class="line">            &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">    </span><br><span class="line">    &#x2F;&#x2F;barç»„ä»¶</span><br><span class="line">    Vue.component(&#39;bar&#39;,&#123;</span><br><span class="line">        template:&#39;&lt;div&gt;&lt;p&gt;the count of bar is &#123;&#123;barCount&#125;&#125;&lt;&#x2F;p&gt;&#39; +</span><br><span class="line">                &#39;&lt;button &gt;B&lt;&#x2F;button&gt;&lt;&#x2F;div&gt;&#39;,</span><br><span class="line">        data:function () &#123;</span><br><span class="line">            return &#123;barCount:0&#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        mounted:function () &#123;</span><br><span class="line">		&#x2F;&#x2F;è¿™é‡Œè¦ä½¿ç”¨ä¸­å¤®äº‹ä»¶æ¥å—ä¿¡å·ã€‚å¹¶ä¸”æ˜¯åœ¨ç»„ä»¶æŒ‚è½½å®Œæˆåã€‚</span><br><span class="line">            var _this&#x3D;this;</span><br><span class="line">            eventBus.$on(&#39;emitevent&#39;,function () &#123;</span><br><span class="line">                _this.barCount+&#x3D;1; &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">    </span><br><span class="line">    var app&#x3D;new Vue(&#123;</span><br><span class="line">        el:&#39;#app&#39;,</span><br><span class="line">    &#125;)</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>



<h3 id="å¸¸ç”¨jsåº“"><a href="#å¸¸ç”¨jsåº“" class="headerlink" title="å¸¸ç”¨jsåº“"></a>å¸¸ç”¨jsåº“</h3><h4 id="lodash"><a href="#lodash" class="headerlink" title="lodash"></a>lodash</h4><p>ä¸€ä¸ªè‘—åçš„javascriptåŸç”Ÿåº“ï¼Œä¸éœ€è¦å¼•å…¥å…¶ä»–ç¬¬ä¸‰æ–¹ä¾èµ–</p>
<h4 id="echarts"><a href="#echarts" class="headerlink" title="echarts"></a>echarts</h4><p>ä¸€ä¸ªçº¯JavaScriptå›¾è¡¨åº“ â€“<a href="https://echarts.apache.org/zh/index.html" target="_blank" rel="noopener">echarts.apache.org</a></p>
<h3 id="åŒå‘ç»‘å®šåŸç†"><a href="#åŒå‘ç»‘å®šåŸç†" class="headerlink" title="åŒå‘ç»‘å®šåŸç†"></a>åŒå‘ç»‘å®šåŸç†</h3><p>vueå®ç°æ•°æ®åŒå‘ç»‘å®šä¸»è¦æ˜¯ï¼šé‡‡ç”¨æ•°æ®åŠ«æŒç»“åˆå‘å¸ƒè€…-è®¢é˜…è€…æ¨¡å¼çš„æ–¹å¼ï¼Œé€šè¿‡Object.definePropertyï¼ˆï¼‰æ¥åŠ«æŒå„ä¸ªå±æ€§çš„setterï¼Œgetterï¼Œåœ¨æ•°æ®å˜åŠ¨æ—¶å‘å¸ƒæ¶ˆæ¯ç»™è®¢é˜…è€…ï¼Œè§¦å‘ç›¸åº”ç›‘å¬å›è°ƒã€‚å½“æŠŠä¸€ä¸ªæ™®é€š Javascript å¯¹è±¡ä¼ ç»™ Vue å®ä¾‹æ¥ä½œä¸ºå®ƒçš„ data é€‰é¡¹æ—¶ï¼ŒVue å°†éå†å®ƒçš„å±æ€§ï¼Œç”¨ Object.defineProperty å°†å®ƒä»¬è½¬ä¸º getter/setterã€‚ç”¨æˆ·çœ‹ä¸åˆ° getter/setterï¼Œä½†æ˜¯åœ¨å†…éƒ¨å®ƒä»¬è®© Vue è¿½è¸ªä¾èµ–ï¼Œåœ¨å±æ€§è¢«è®¿é—®å’Œä¿®æ”¹æ—¶é€šçŸ¥å˜åŒ–ã€‚</p>
<h3 id="staticå’Œassets"><a href="#staticå’Œassets" class="headerlink" title="staticå’Œassets"></a>staticå’Œassets</h3><p>1.staticä¸­çš„æ–‡ä»¶æ˜¯ä¸ä¼šç»è¿‡webpackç¼–è¯‘çš„ï¼Œä¸€èˆ¬å»ºè®®å­˜æ”¾ä¸€äº›å¤–éƒ¨ç¬¬ä¸‰æ–¹ï¼ˆå…¬ç”¨ï¼‰çš„é™æ€èµ„æºæ–‡ä»¶ã€‚</p>
<p>2.assetså› ä¸ºä¼šç»è¿‡webpackç¼–è¯‘ï¼Œå»ºè®®æ˜¯å­˜æ”¾ä¸€äº›åªæœ‰ç»„ä»¶è‡ªå·±ä½¿ç”¨åˆ°çš„é™æ€èµ„æºã€‚</p>
]]></content>
      <categories>
        <category>vue</category>
      </categories>
      <tags>
        <tag>vue</tag>
        <tag>æ–¹æ³•</tag>
      </tags>
  </entry>
  <entry>
    <title>vueä¹‹flvjs</title>
    <url>/2021/03/19/vue%E4%B9%8Bflvjs/</url>
    <content><![CDATA[<p>å‚è€ƒé“¾æ¥ :<a href="https://blog.csdn.net/HJFQC/article/details/109626836" target="_blank" rel="noopener">https://blog.csdn.net/HJFQC/article/details/109626836</a><br>å®‰è£…ä¾èµ–</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install --save flv.js</span><br></pre></td></tr></table></figure>



<p>vueé¡µé¢</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"> &lt;div class&#x3D;&quot;video&quot;&gt;</span><br><span class="line">      &lt;video</span><br><span class="line">       id&#x3D;&quot;vPull&quot;</span><br><span class="line">       controls</span><br><span class="line">       autoplay</span><br><span class="line">       muted</span><br><span class="line">       width&#x3D;&quot;100%&quot;</span><br><span class="line">       height&#x3D;&quot;100%&quot;&gt;</span><br><span class="line">      &lt;&#x2F;video&gt;</span><br><span class="line"> &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br></pre></td></tr></table></figure>

<a id="more"></a> 

<p>jséƒ¨åˆ†</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">import flv from &quot;flv.js&quot;;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;&quot;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      player: null,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    play(urls) &#123;</span><br><span class="line">      let video &#x3D; document.getElementById(&quot;vPull&quot;); &#x2F;&#x2F;å®šä¹‰æ’­æ”¾è·¯å¾„</span><br><span class="line">      if (flv.isSupported()) &#123;</span><br><span class="line">        this.player &#x3D; flv.createPlayer(</span><br><span class="line">          &#123;</span><br><span class="line">            type: &quot;flv&quot;,</span><br><span class="line">            isLive: true,</span><br><span class="line">            url: urls,</span><br><span class="line">          &#125;,</span><br><span class="line">          &#123;</span><br><span class="line">            enableWorker: false, &#x2F;&#x2F;ä¸å¯ç”¨åˆ†ç¦»çº¿ç¨‹</span><br><span class="line">            enableStashBuffer: false, &#x2F;&#x2F;å…³é—­IOéšè—ç¼“å†²åŒº</span><br><span class="line">            isLive: true,</span><br><span class="line">            lazyLoad: false,</span><br><span class="line">          &#125;</span><br><span class="line">        );</span><br><span class="line">      &#125; else &#123;</span><br><span class="line">        console.log(&quot;ä¸æ”¯æŒçš„æ ¼å¼&quot;);</span><br><span class="line">        return;</span><br><span class="line">      &#125;</span><br><span class="line">      this.player.attachMediaElement(video);</span><br><span class="line">      this.player.load();</span><br><span class="line">      this.player.play();</span><br><span class="line">    &#125;,</span><br><span class="line">    destruction() &#123;</span><br><span class="line">      &#x2F;&#x2F;é”€æ¯å¯¹è±¡</span><br><span class="line">      if (this.player) &#123;</span><br><span class="line">        this.player.pause();</span><br><span class="line">        this.player.destroy();</span><br><span class="line">        this.player &#x3D; null;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  created() &#123;</span><br><span class="line">    this.play(&#39;http:&#x2F;&#x2F;1011.hlsplay.aodianyun.com&#x2F;demo&#x2F;game.flv&#39;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>



<h3 id="API"><a href="#API" class="headerlink" title="API"></a>API</h3><p><a href="https://github.com/bilibili/flv.js/blob/master/docs/api.md" target="_blank" rel="noopener">åŸæ–‡ä»¶ï¼ˆapi.mdï¼‰</a></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> flv <span class="keyword">from</span> <span class="string">"flv.js"</span>;</span><br></pre></td></tr></table></figure>

<p>åŠŸèƒ½ç±»<br>åˆ›å»ºflvæ’­æ”¾å™¨</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let player &#x3D; flv.createPlayer(mediaDataSource: MediaDataSource, config?: Config);</span><br></pre></td></tr></table></figure>

<p>createPlayer()æ–¹æ³•æœ‰ä¸¤ä¸ªå‚æ•°ï¼ŒMediaDataSourceå’Œconfigä¸¤ä¸ªå‚æ•°ï¼ŒMediaDataSourceå¿…ä¼ ï¼Œconfigå¯ä¼ å¯ä¸ä¼ ï¼Œè¿”å›å€¼ä¸ºplayer;</p>
<p><img src="/2021/03/19/vue%E4%B9%8Bflvjs/image-20210319104534115.png" alt="image-20210319104534115"></p>
<p>å¦‚æœ<code>segments</code>å­˜åœ¨å­—æ®µï¼Œåˆ™transmuxerä¼šå°†å…¶<code>MediaDataSource</code>è§†ä¸º<strong>å¤šéƒ¨åˆ†</strong>æºã€‚</p>
<p>åœ¨å¤šéƒ¨åˆ†æ¨¡å¼ä¸‹ï¼Œç»“æ„ä¸­çš„<code>duration</code> <code>filesize</code> <code>url</code>å­—æ®µ<code>MediaDataSource</code>å°†è¢«å¿½ç•¥ã€‚</p>
<p><img src="/2021/03/19/vue%E4%B9%8Bflvjs/image-20210319104556362.png" alt="image-20210319104556362"></p>
<p><img src="/2021/03/19/vue%E4%B9%8Bflvjs/image-20210319104639743.png" alt="image-20210319104639743"></p>
<p>flv.isSupported()</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function isSupported(): boolean;</span><br></pre></td></tr></table></figure>

<p>playerå®ä¾‹å­˜åœ¨è¿”å›trueï¼Œå¦åˆ™è¿”å›fasle</p>
<p>flv.getFeatureList()</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function getFeatureList(): FeatureList;</span><br></pre></td></tr></table></figure>

<p>è¿”å› FeatureList å¯¹è±¡</p>
<p><img src="/2021/03/19/vue%E4%B9%8Bflvjs/image-20210319104707073.png" alt="image-20210319104707073"></p>
<h3 id="Playerå¯¹è±¡"><a href="#Playerå¯¹è±¡" class="headerlink" title="Playerå¯¹è±¡"></a>Playerå¯¹è±¡</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">interface Player &#123;</span><br><span class="line">    constructor(mediaDataSource: MediaDataSource, config?: Config): Player;</span><br><span class="line">    destroy(): void;</span><br><span class="line">    on(event: string, listener: Function): void;</span><br><span class="line">    off(event: string, listener: Function): void;</span><br><span class="line">    attachMediaElement(mediaElement: HTMLMediaElement): void;</span><br><span class="line">    detachMediaElement(): void;</span><br><span class="line">    load(): void;&#x2F;&#x2F;åŠ è½½</span><br><span class="line">    unload(): void;&#x2F;&#x2F;å¸è½½</span><br><span class="line">    play(): Promise&lt;void&gt;;&#x2F;&#x2F;æ’­æ”¾</span><br><span class="line">    pause(): void;&#x2F;&#x2F;æš‚åœ</span><br><span class="line">    type: string;</span><br><span class="line">    buffered: TimeRanges;</span><br><span class="line">    duration: number;</span><br><span class="line">    volume: number;</span><br><span class="line">    muted: boolean;</span><br><span class="line">    currentTime: number;</span><br><span class="line">    mediaInfo: Object;</span><br><span class="line">    statisticsInfo: Object;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="è§†é¢‘æµå»¶è¿Ÿ"><a href="#è§†é¢‘æµå»¶è¿Ÿ" class="headerlink" title="è§†é¢‘æµå»¶è¿Ÿ"></a>è§†é¢‘æµå»¶è¿Ÿ</h3><p>åœ¨æ™®é€šçš„ç½‘ç»œç¯å¢ƒä¸‹,flv.jsæ’­æ”¾http-flvçš„è§†é¢‘æµå»¶è¿Ÿå¤§æ¦‚åœ¨3~5ç§’å·¦å³,å¯¹äºå®æ—¶æ€§è¦æ±‚æ¯”è¾ƒé«˜çš„åœºæ™¯,æ˜¾ç„¶æ˜¯ä¸é€‚ç”¨çš„,é‚£ä¹ˆæ€ä¹ˆæ‰èƒ½é™ä½å»¶è¿Ÿå‘¢? é€šè¿‡å¯¹buffered(ç¼“å†²åŒºæœ«å°¾)å’ŒcurrentTime(å½“å‰æ’­æ”¾ä½ç½®)çš„æ¯”è¾ƒ,å‘ç°å·®å€¼å¤§æ¦‚åœ¨1.8ç§’å·¦å³,è¿™æ—¶å€™å°±éœ€è¦æˆ‘ä»¬å®šæ—¶æ£€æµ‹currentTimeå’Œbufferedçš„å·®å€¼,ç„¶åæ‰‹åŠ¨è·³å¸§,ä½¿currentTimeå’ŒbufferedåŒæ­¥(PS:è¿™ä¸¤ä¸ªå€¼åœ¨Playerå¯¹è±¡ä¸­å¯ä»¥è·å–åˆ°,å¯ä»¥æŸ¥çœ‹æˆ‘çš„ä¸Šä¸€ç¯‡å¸–å­:vueä½¿ç”¨flv.js(bilibili)æ‹‰æµ),ä»£ç å¦‚ä¸‹:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">setInterval(() &#x3D;&gt; &#123;</span><br><span class="line">      if (this.player.buffered.length) &#123;</span><br><span class="line">        let end &#x3D; this.player.buffered.end(0);&#x2F;&#x2F;è·å–å½“å‰bufferedå€¼</span><br><span class="line">        let diff &#x3D; end - this.player.currentTime;&#x2F;&#x2F;è·å–bufferedä¸currentTimeçš„å·®å€¼</span><br><span class="line">        if (diff &gt;&#x3D; 0.5) &#123;&#x2F;&#x2F;å¦‚æœå·®å€¼å¤§äºç­‰äº0.5 æ‰‹åŠ¨è·³å¸§ è¿™é‡Œå¯æ ¹æ®è‡ªèº«éœ€æ±‚æ¥å®š</span><br><span class="line">          this.player.currentTime &#x3D; this.player.buffered.end(0);&#x2F;&#x2F;æ‰‹åŠ¨è·³å¸§</span><br><span class="line">       &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;, 2000); &#x2F;&#x2F;2000æ¯«ç§’æ‰§è¡Œä¸€æ¬¡</span><br></pre></td></tr></table></figure>

<h3 id="æ–­æµé‡è¿"><a href="#æ–­æµé‡è¿" class="headerlink" title="æ–­æµé‡è¿"></a>æ–­æµé‡è¿</h3><p>è§†é¢‘ç›´æ’­æ—¶,æœ‰æ—¶å€™ä¼šé‡åˆ°è§†é¢‘loading,å¡é¡¿,æœ‰å¯èƒ½æ˜¯æœ¬åœ°ç½‘ç»œæ³¢åŠ¨æˆ–è€…æœåŠ¡ç«¯æµæ–­å¼€,æˆ‘ä»¬å¯ä»¥é€šè¿‡ç›‘å¬<code>flvjs.Events.ERROR</code>æ¥åˆ¤æ–­è¿æ¥æ˜¯å¦å·²ç»æ–­å¼€,ç»§è€Œè¿›è¡Œæ–­æµé‡è¿,ä»£ç å¦‚ä¸‹:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">this.player.on(flvjs.Events.ERROR, (errorType, errorDetail, errorInfo) &#x3D;&gt; &#123;</span><br><span class="line">		console.log(&quot;errorType:&quot;, errorType);</span><br><span class="line">        console.log(&quot;errorDetail:&quot;, errorDetail);</span><br><span class="line">        console.log(&quot;errorInfo:&quot;, errorInfo);</span><br><span class="line">        &#x2F;&#x2F;è§†é¢‘å‡ºé”™åé”€æ¯é‡æ–°åˆ›å»º</span><br><span class="line">         if (this.player) &#123;</span><br><span class="line">          this.player.pause();</span><br><span class="line">          this.player.unload();</span><br><span class="line">          this.player.detachMediaElement();</span><br><span class="line">          this.player.destroy();</span><br><span class="line">          this.player&#x3D; null;</span><br><span class="line">          this.createPlayer(videoElement, this.url);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;);</span><br></pre></td></tr></table></figure>

<h3 id="ç”»é¢å¡æ­»"><a href="#ç”»é¢å¡æ­»" class="headerlink" title="ç”»é¢å¡æ­»"></a>ç”»é¢å¡æ­»</h3><p>å¦‚æœæ§åˆ¶å°æ²¡æœ‰é”™è¯¯ä¿¡æ¯,è€Œä¸”æŸ¥çœ‹networkå‘ç°è§†é¢‘æµæ²¡æœ‰æ–­å¼€,ä½†æ˜¯ç”»é¢ä¸€ç›´åœ¨loadingæˆ–è€…å¡ä½ä¸åŠ¨,æˆ‘è¿™è¾¹çš„åŸå› æ˜¯æœåŠ¡ç«¯æ¨æµçªç„¶æ–­å¼€,ç„¶ååœ¨å¾ˆå¿«çš„æ—¶é—´å†…ç»§ç»­æ¨æµ,è¿™ä¸ªæ—¶å€™å› ä¸ºå®¢æˆ·ç«¯çš„è¶…æ—¶æ—¶é—´è¿˜æ²¡æœ‰ç»“æŸ,æµä¼šç»§ç»­æ¨é€åˆ°åŸé“¾æ¥,è¿™ä¸ªæ—¶å€™æˆ‘ä»¬çš„è§†é¢‘ä¼šå¡åœ¨æ‰çº¿çš„é‚£ä¸ªæ—¶é—´,ä¸ä¼šç»§ç»­æ’­æ”¾.è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±éœ€è¦ç›‘å¬æ¨æµçš„decodedFrame,å¦‚æœdecodedFrameä¸å†å‘ç”Ÿå˜åŒ–,æˆ‘ä»¬å°±é”€æ¯æ‰è¯¥å®ä¾‹å¹¶è¿›è¡Œé‡æ–°è¿æ¥,ä»£ç å¦‚ä¸‹:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">this.player.on(&quot;statistics_info&quot;, function (res) &#123;</span><br><span class="line">       if (this.lastDecodedFrame &#x3D;&#x3D; 0) &#123;</span><br><span class="line">         this.lastDecodedFrame &#x3D; res.decodedFrames;</span><br><span class="line">         return;</span><br><span class="line">       &#125;</span><br><span class="line">       if (this.lastDecodedFrame !&#x3D; res.decodedFrames) &#123;</span><br><span class="line">         this.lastDecodedFrame &#x3D; res.decodedFrames;</span><br><span class="line">       &#125; else &#123;</span><br><span class="line">           this.lastDecodedFrame &#x3D; 0;</span><br><span class="line">           if (this.player) &#123;</span><br><span class="line">             this.player.pause();</span><br><span class="line">             this.player.unload();</span><br><span class="line">             this.player.detachMediaElement();</span><br><span class="line">             this.player.destroy();</span><br><span class="line">             this.player&#x3D; null;</span><br><span class="line">             this.createPlayer(videoElement, this.url);</span><br><span class="line">         &#125;</span><br><span class="line">       &#125;</span><br><span class="line">     &#125;);</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>flvjs</category>
      </categories>
      <tags>
        <tag>vue</tag>
        <tag>video</tag>
      </tags>
  </entry>
  <entry>
    <title>vueä¹‹videojsçš„ä½¿ç”¨</title>
    <url>/2021/02/03/vue%E4%B9%8Bvideojs%E7%9A%84%E4%BD%BF%E7%94%A8/</url>
    <content><![CDATA[<p>åœ¨vueä¸­ä½¿ç”¨videojs</p>
<a id="more"></a>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;test&quot;&gt;</span><br><span class="line">            &lt;div class&#x3D;&quot;demo&quot;&gt;</span><br><span class="line">                &lt;!-- videojsçš„ä½¿ç”¨ --&gt;</span><br><span class="line">                &lt;video class&#x3D;&quot;video-js vjs-big-play-centered&quot; id&#x3D;&quot;myvideo&quot; ref&#x3D;&quot;videoRef&quot; data-setup&#x3D;&quot;&#123;&#125;&quot;&gt;&lt;&#x2F;video&gt;</span><br><span class="line">                &lt;Button type&#x3D;&quot;primary&quot; @click&#x3D;&quot;clickMe&quot;&gt;12131&lt;&#x2F;Button&gt;</span><br><span class="line">                &lt;Button type&#x3D;&quot;primary&quot; @click&#x3D;&quot;decrement&quot;&gt;reduce&lt;&#x2F;Button&gt;</span><br><span class="line">                &lt;Button type&#x3D;&quot;primary&quot; @click&#x3D;&quot;increment&quot;&gt;add&lt;&#x2F;Button&gt;</span><br><span class="line">                &lt;!-- video-playeræ’ä»¶çš„ä½¿ç”¨ --&gt;</span><br><span class="line">                &lt;video-player class&#x3D;&quot;video-player vjs-custom-skin&quot; ref&#x3D;&quot;videoPlayer&quot; :playsinline&#x3D;&quot;true&quot;</span><br><span class="line">                    :options&#x3D;&quot;playerOptions&quot;&gt;&lt;&#x2F;video-player&gt;</span><br><span class="line">            &lt;&#x2F;div&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">import videojs from &#39;video.js&#39;</span><br><span class="line">export default &#123;</span><br><span class="line">    name: &#39;pie&#39;,</span><br><span class="line">    data() &#123;</span><br><span class="line">        return &#123;</span><br><span class="line">            myPlayer: null,</span><br><span class="line">            playerOptions: &#123;</span><br><span class="line">                playbackRates: [0.5, 1.0, 1.5, 2.0], &#x2F;&#x2F;å¯é€‰æ‹©çš„æ’­æ”¾é€Ÿåº¦</span><br><span class="line">                autoplay: true, &#x2F;&#x2F;å¦‚æœtrue,æµè§ˆå™¨å‡†å¤‡å¥½æ—¶å¼€å§‹å›æ”¾ã€‚</span><br><span class="line">                muted: false, &#x2F;&#x2F; é»˜è®¤æƒ…å†µä¸‹å°†ä¼šæ¶ˆé™¤ä»»ä½•éŸ³é¢‘ã€‚</span><br><span class="line">                loop: false, &#x2F;&#x2F; è§†é¢‘ä¸€ç»“æŸå°±é‡æ–°å¼€å§‹ã€‚</span><br><span class="line">                preload: &#39;auto&#39;, &#x2F;&#x2F; å»ºè®®æµè§ˆå™¨åœ¨&lt;video&gt;åŠ è½½å…ƒç´ åæ˜¯å¦åº”è¯¥å¼€å§‹ä¸‹è½½è§†é¢‘æ•°æ®ã€‚autoæµè§ˆå™¨é€‰æ‹©æœ€ä½³è¡Œä¸º,ç«‹å³å¼€å§‹åŠ è½½è§†é¢‘ï¼ˆå¦‚æœæµè§ˆå™¨æ”¯æŒï¼‰</span><br><span class="line">                language: &#39;zh-CN&#39;,</span><br><span class="line">                aspectRatio: &#39;16:9&#39;, &#x2F;&#x2F; å°†æ’­æ”¾å™¨ç½®äºæµç•…æ¨¡å¼ï¼Œå¹¶åœ¨è®¡ç®—æ’­æ”¾å™¨çš„åŠ¨æ€å¤§å°æ—¶ä½¿ç”¨è¯¥å€¼ã€‚å€¼åº”è¯¥ä»£è¡¨ä¸€ä¸ªæ¯”ä¾‹ - ç”¨å†’å·åˆ†éš”çš„ä¸¤ä¸ªæ•°å­—ï¼ˆä¾‹å¦‚&quot;16:9&quot;æˆ–&quot;4:3&quot;ï¼‰</span><br><span class="line">                fluid: true, &#x2F;&#x2F; å½“trueæ—¶ï¼ŒVideo.js playerå°†æ‹¥æœ‰æµä½“å¤§å°ã€‚æ¢å¥è¯è¯´ï¼Œå®ƒå°†æŒ‰æ¯”ä¾‹ç¼©æ”¾ä»¥é€‚åº”å…¶å®¹å™¨ã€‚</span><br><span class="line">                sources: [&#123;</span><br><span class="line">                    type: &quot;&quot;,</span><br><span class="line">                    src: &#39;&#x2F;static&#x2F;mp4&#x2F;myvideo.mp4&#39;&#x2F;&#x2F;urlåœ°å€</span><br><span class="line">                &#125;],</span><br><span class="line">                poster: &quot;&#x2F;static&#x2F;imgs&#x2F;click.jpg&quot;, &#x2F;&#x2F;ä½ çš„å°é¢åœ°å€</span><br><span class="line">                &#x2F;&#x2F; width: document.documentElement.clientWidth,</span><br><span class="line">                notSupportedMessage: &#39;æ­¤è§†é¢‘æš‚æ— æ³•æ’­æ”¾ï¼Œè¯·ç¨åå†è¯•&#39;, &#x2F;&#x2F;å…è®¸è¦†ç›–Video.jsæ— æ³•æ’­æ”¾åª’ä½“æºæ—¶æ˜¾ç¤ºçš„é»˜è®¤ä¿¡æ¯ã€‚</span><br><span class="line">                controlBar: &#123;</span><br><span class="line">                    timeDivider: true,&#x2F;&#x2F;å½“å‰æ—¶é—´å’ŒæŒç»­æ—¶é—´çš„åˆ†éš”ç¬¦</span><br><span class="line">                    durationDisplay: true,&#x2F;&#x2F;æ˜¾ç¤ºæŒç»­æ—¶é—´</span><br><span class="line">                    remainingTimeDisplay: false,&#x2F;&#x2F;æ˜¯å¦æ˜¾ç¤ºå‰©ä½™æ—¶é—´åŠŸèƒ½</span><br><span class="line">                    fullscreenToggle: true  &#x2F;&#x2F;å…¨å±æŒ‰é’®</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    mounted() &#123;</span><br><span class="line">        this.myPlayer &#x3D; videojs(&#39;myvideo&#39;, &#123;</span><br><span class="line">            &#x2F;&#x2F;ç¡®å®šæ’­æ”¾å™¨æ˜¯å¦å…·æœ‰ç”¨æˆ·å¯ä»¥ä¸ä¹‹äº¤äº’çš„æ§ä»¶ã€‚æ²¡æœ‰æ§ä»¶ï¼Œå¯åŠ¨è§†é¢‘æ’­æ”¾çš„å”¯ä¸€æ–¹æ³•æ˜¯ä½¿ç”¨autoplayå±æ€§æˆ–é€šè¿‡Player APIã€‚</span><br><span class="line">            controls: true,</span><br><span class="line">            &#x2F;&#x2F;è‡ªåŠ¨æ’­æ”¾å±æ€§,muted:é™éŸ³æ’­æ”¾</span><br><span class="line">            muted: true,</span><br><span class="line">            &#x2F;&#x2F;  autoplay: true,</span><br><span class="line">            &#x2F;&#x2F;å»ºè®®æµè§ˆå™¨æ˜¯å¦åº”åœ¨&lt;video&gt;åŠ è½½å…ƒç´ åç«‹å³å¼€å§‹ä¸‹è½½è§†é¢‘æ•°æ®ã€‚</span><br><span class="line">            preload: &quot;auto&quot;,</span><br><span class="line">            &#x2F;&#x2F;è®¾ç½®è§†é¢‘æ’­æ”¾å™¨çš„æ˜¾ç¤ºå®½åº¦ï¼ˆä»¥åƒç´ ä¸ºå•ä½ï¼‰</span><br><span class="line">            width: &quot;960px&quot;,</span><br><span class="line">            &#x2F;&#x2F;è®¾ç½®è§†é¢‘æ’­æ”¾å™¨çš„æ˜¾ç¤ºé«˜åº¦ï¼ˆä»¥åƒç´ ä¸ºå•ä½ï¼‰</span><br><span class="line">            height: &quot;522px&quot;,</span><br><span class="line">            &#x2F;&#x2F; url</span><br><span class="line">            poster: &#39;&#x2F;static&#x2F;imgs&#x2F;click.jpg&#39;, &#x2F;&#x2F; å°é¢å›¾ç‰‡</span><br><span class="line">            sources: [&#123;</span><br><span class="line">                src: &#39;&#x2F;static&#x2F;mp4&#x2F;myvideo.mp4&#39;</span><br><span class="line">            &#125;],</span><br><span class="line">            playbackRates: [0.5, 1, 1.5, 2, 3] &#x2F;&#x2F;å€é€Ÿæ’­æ”¾</span><br><span class="line"></span><br><span class="line">        &#125;, function onPlayerReady() &#123;</span><br><span class="line">            &#x2F;&#x2F;è§†é¢‘å‡†å¤‡å®Œæ¯•</span><br><span class="line">            videojs.log(&#39;Your player is ready!&#39;); &#x2F;&#x2F; æ¯”å¦‚ï¼š æ’­æ”¾é‡+1è¯·æ±‚</span><br><span class="line">            &#x2F;&#x2F;è§†é¢‘æ’­æ”¾å®Œæ¯•</span><br><span class="line">            this.on(&#39;ended&#39;, function () &#123;</span><br><span class="line">                videojs.log(&#39;Awww...over so soon?!&#39;);</span><br><span class="line">            &#125;);</span><br><span class="line">            &#x2F;&#x2F;è§†é¢‘å¼€å§‹æ’­æ”¾</span><br><span class="line">            this.play();</span><br><span class="line">            &#x2F;&#x2F;è§†é¢‘æ€»æ—¶é•¿</span><br><span class="line">            console.log(this.duration());</span><br><span class="line">            &#x2F;&#x2F; å·²ç»ç¼“å­˜äº†å¤šä¹…</span><br><span class="line">            console.log(this.buffered());</span><br><span class="line">            &#x2F;&#x2F;è·å–å®½é«˜</span><br><span class="line">            console.log(this.width());</span><br><span class="line">            console.log(this.height());</span><br><span class="line">            &#x2F;&#x2F;è®¾ç½®å®½é«˜</span><br><span class="line">            &#x2F;&#x2F; this.width(300);</span><br><span class="line">            &#x2F;&#x2F; this.height(200);</span><br><span class="line">            console.log(this.width());</span><br><span class="line">            console.log(this.height());</span><br><span class="line">            &#x2F;&#x2F;è·å–å£°éŸ³</span><br><span class="line">            console.log(this.volume(), &#39;volume&#39;);</span><br><span class="line">            &#x2F;&#x2F;è®¾ç½®å£°éŸ³å¤§å°ï¼ŒèŒƒå›´0~1</span><br><span class="line">            this.volume(0.9);</span><br><span class="line">            console.log(this.volume(), &#39;volume&#39;);</span><br><span class="line">            console.log(this, &#39;this&#39;);</span><br><span class="line"></span><br><span class="line">            &#x2F;&#x2F;è§†é¢‘æ’­æ”¾å‡ºé”™</span><br><span class="line">            setTimeout(() &#x3D;&gt; &#123;   &#x2F;&#x2F;å»¶æ—¶ç¡®ä¿èƒ½ç›‘å¬åˆ°è§†é¢‘æºé”™è¯¯</span><br><span class="line">                var mediaError &#x3D; this.error();</span><br><span class="line">                if (mediaError !&#x3D; null &amp;&amp; mediaError.code) &#123;</span><br><span class="line">                    alert(&#39;å•Šå“¦ï¼Œæ’­æ”¾å‡ºé”™äº†ã€‚&lt;br&gt;è¯·åˆ·æ–°é‡è¯•ï¼Œå¦‚æ— æ³•æ’­æ”¾å»ºè®®æ‚¨è§‚çœ‹å…¶å®ƒå†…å®¹ã€‚&#39;)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;, 1000);</span><br><span class="line">        &#125;);</span><br><span class="line">        &#x2F;&#x2F; this.myPlayer.on(&quot;ended&quot;, function () &#123;</span><br><span class="line">        &#x2F;&#x2F;     console.log(&quot;è§†é¢‘æ’­æ”¾ç»“æŸ&quot;);</span><br><span class="line">        &#x2F;&#x2F; &#125;)</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F; this.myPlayer.on(&quot;pause&quot;, function () &#123;</span><br><span class="line">        &#x2F;&#x2F;     console.log(&quot;ç‚¹å‡»æš‚åœ&quot;);</span><br><span class="line">        &#x2F;&#x2F; &#125;)</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F; this.myPlayer.on(&quot;play&quot;, function () &#123;</span><br><span class="line">        &#x2F;&#x2F;     console.log(&quot;ç‚¹å‡»æ’­æ”¾&quot;);</span><br><span class="line">        &#x2F;&#x2F; &#125;)</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F; this.myPlayer.on(&quot;volumechange&quot;, function () &#123;</span><br><span class="line">        &#x2F;&#x2F;     console.log(&quot;å£°éŸ³æ”¹å˜&quot;);</span><br><span class="line">        &#x2F;&#x2F; &#125;)</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F; this.myPlayer.on(&quot;timeupdate&quot;, function () &#123;</span><br><span class="line">        &#x2F;&#x2F;     console.log(&quot;è§†é¢‘æ’­æ”¾ä¸­&quot;);</span><br><span class="line">        &#x2F;&#x2F; &#125;)</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F; this.myPlayer.on(&quot;seeked&quot;, function () &#123;</span><br><span class="line">        &#x2F;&#x2F;     console.log(&quot;è§†é¢‘è·³è½¬ç»“æŸ&quot;);</span><br><span class="line">        &#x2F;&#x2F; &#125;)</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F; this.myPlayer.on(&quot;seeking&quot;, function () &#123;</span><br><span class="line">        &#x2F;&#x2F;     console.log(&quot;è§†é¢‘è·³è½¬ä¸­&quot;);</span><br><span class="line">        &#x2F;&#x2F; &#125;)</span><br><span class="line">        window.addEventListener(&#39;keyup&#39;, this.handleKeyup)</span><br><span class="line">    &#125;,</span><br><span class="line">    beforeDestroy() &#123;</span><br><span class="line">        const videoDom &#x3D; this.$refs.videoRef;   &#x2F;&#x2F;ä¸èƒ½ç”¨document è·å–èŠ‚ç‚¹</span><br><span class="line">        videojs(videoDom).dispose();  &#x2F;&#x2F;é”€æ¯videoå®ä¾‹ï¼Œé¿å…å‡ºç°èŠ‚ç‚¹ä¸å­˜åœ¨ ä½†æ˜¯flashä¸€ç›´åœ¨æ‰§è¡Œ,ä¹Ÿé¿å…é‡æ–°è¿›å…¥é¡µé¢videoæœªé‡æ–°å£°æ˜</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">        clickMe() &#123;</span><br><span class="line">            &#x2F;&#x2F;è®¾ç½®èµ·å§‹æ’­æ”¾æ—¶é—´ï¼Œå•ä½æ˜¯ç§’</span><br><span class="line">            this.myPlayer.currentTime(5)</span><br><span class="line">            console.log(this.myPlayer.currentTime(), &#39;this.myPlayer.currentTime()&#39;);</span><br><span class="line"></span><br><span class="line">        &#125;,</span><br><span class="line">        &#x2F;&#x2F;åé€€3s</span><br><span class="line">        decrement() &#123;</span><br><span class="line">            this.myPlayer.currentTime(this.myPlayer.currentTime() !&#x3D;&#x3D; 0 ? this.myPlayer.currentTime() - 2 : 1);</span><br><span class="line">        &#125;,</span><br><span class="line">        &#x2F;&#x2F;å‰è¿›3s</span><br><span class="line">        increment() &#123;</span><br><span class="line">            this.myPlayer.currentTime(this.myPlayer.volume !&#x3D;&#x3D; this.myPlayer.duration ? this.myPlayer.currentTime() + 2 : 1);</span><br><span class="line">        &#125;,</span><br><span class="line">        handleKeyup(event) &#123;</span><br><span class="line">            var vol &#x3D; 0.1;  &#x2F;&#x2F;1ä»£è¡¨100%éŸ³é‡ï¼Œæ¯æ¬¡å¢å‡0.1</span><br><span class="line">            var time &#x3D; 2; &#x2F;&#x2F;å•ä½ç§’ï¼Œæ¯æ¬¡å¢å‡10ç§’</span><br><span class="line">            console.log(&quot;keyCode:&quot; + event.keyCode);</span><br><span class="line">            var e &#x3D; event || window.event || arguments.callee.caller.arguments[0];</span><br><span class="line">            &#x2F;&#x2F;é¼ æ ‡ä¸Šä¸‹é”®æ§åˆ¶è§†é¢‘éŸ³é‡</span><br><span class="line">            if (e &amp;&amp; e.keyCode &#x3D;&#x3D;&#x3D; 38) &#123;</span><br><span class="line">                &#x2F;&#x2F; æŒ‰ å‘ä¸Šé”®</span><br><span class="line">                this.myPlayer.volume(this.myPlayer.volume() !&#x3D;&#x3D; 1 ? this.myPlayer.volume() + vol : 1);</span><br><span class="line">                return false;</span><br><span class="line"></span><br><span class="line">            &#125; else if (e &amp;&amp; e.keyCode &#x3D;&#x3D;&#x3D; 40) &#123;</span><br><span class="line">                &#x2F;&#x2F; æŒ‰ å‘ä¸‹é”®</span><br><span class="line">                this.myPlayer.volume(this.myPlayer.volume() !&#x3D;&#x3D; 1 ? this.myPlayer.volume() - vol : 1);</span><br><span class="line">                return false;</span><br><span class="line"></span><br><span class="line">            &#125; else if (e &amp;&amp; e.keyCode &#x3D;&#x3D;&#x3D; 37) &#123;</span><br><span class="line">                &#x2F;&#x2F; æŒ‰ å‘å·¦é”®</span><br><span class="line">                this.myPlayer.currentTime(this.myPlayer.currentTime() !&#x3D;&#x3D; 0 ? this.myPlayer.currentTime() - time : 1);</span><br><span class="line">                return false;</span><br><span class="line"></span><br><span class="line">            &#125; else if (e &amp;&amp; e.keyCode &#x3D;&#x3D;&#x3D; 39) &#123;</span><br><span class="line">                &#x2F;&#x2F; æŒ‰ å‘å³é”®</span><br><span class="line">                this.myPlayer.currentTime(this.myPlayer.volume !&#x3D;&#x3D; this.myPlayer.duration ? this.myPlayer.currentTime() + time : 1);</span><br><span class="line">                return false;</span><br><span class="line"></span><br><span class="line">            &#125; else if (e &amp;&amp; e.keyCode &#x3D;&#x3D;&#x3D; 32) &#123;</span><br><span class="line">                &#x2F;&#x2F; æŒ‰ç©ºæ ¼é”® åˆ¤æ–­å½“å‰æ˜¯å¦æš‚åœ</span><br><span class="line">                this.myPlayer.paused() &#x3D;&#x3D;&#x3D; true ? this.myPlayer.play() : this.myPlayer.pause();</span><br><span class="line">                return false;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">.test &#123;</span><br><span class="line">    width: 100%;</span><br><span class="line">    height: 100vh;</span><br><span class="line">    display: flex;</span><br><span class="line">    flex-direction: column;</span><br><span class="line">&#125;</span><br><span class="line">.test div &#123;</span><br><span class="line">    flex: 1;</span><br><span class="line">&#125;</span><br><span class="line">#pie &#123;</span><br><span class="line">    width: 100%;</span><br><span class="line">    height: 100%;</span><br><span class="line">&#125;</span><br><span class="line">.demo &#123;</span><br><span class="line">    width: 960px;</span><br><span class="line">    height: 522px;</span><br><span class="line">    display: inline-block;</span><br><span class="line">    text-align: center;</span><br><span class="line">    line-height: 100px;</span><br><span class="line">    border: 1px solid transparent;</span><br><span class="line">    border-radius: 4px;</span><br><span class="line">    overflow: hidden;</span><br><span class="line">    background: #fff;</span><br><span class="line">    position: relative;</span><br><span class="line">    box-shadow: 0 1px 1px rgba(0, 0, 0, 0.2);</span><br><span class="line">    margin-right: 4px;</span><br><span class="line">    display: flex;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.demo:hover &#123;</span><br><span class="line">    display: block;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>video</category>
      </categories>
      <tags>
        <tag>vue</tag>
        <tag>video</tag>
      </tags>
  </entry>
  <entry>
    <title>vueä¹‹ä¸Šæ‹‰åŠ è½½åŸç†</title>
    <url>/2020/09/16/vue%E4%B9%8B%E4%B8%8A%E6%8B%89%E5%8A%A0%E8%BD%BD%E5%8E%9F%E7%90%86/</url>
    <content><![CDATA[<h1 id="æ•ˆæœ"><a href="#æ•ˆæœ" class="headerlink" title="æ•ˆæœ"></a>æ•ˆæœ</h1><p>è´´ä¸Šæ•ˆæœå±•ç¤ºï¼š<br><img src="https://mmbiz.qpic.cn/mmbiz_gif/1NOXMW586usqMUQjWlJXNU83Pxk8DicribgBBbuvZ13dRfOBLsInRicV51f90TJDiblOfwq1LuN27vTaqssPfF5NeQ/640?wx_fmt=gif&tp=webp&wxfrom=5&wx_lazy=1" alt="img"></p>
<h1 id="å®ç°æ€è·¯"><a href="#å®ç°æ€è·¯" class="headerlink" title="å®ç°æ€è·¯"></a>å®ç°æ€è·¯</h1><p>æ ·å¼æ–¹é¢ä¸å¤šèµ˜è¿°ï¼Œæ»šåŠ¨åŒºåŸŸæ˜¯ç»™å›ºå®šé«˜åº¦ï¼Œè®¾ç½® <code>overflow-y: auto</code> æ¥å®ç°ã€‚</p>
<p>æ¥ä¸‹æ¥çœ‹çœ‹jsæ–¹é¢çš„å®ç°ï¼Œå…¶å®ä¹Ÿå¾ˆç®€å•ï¼Œè§¦å‘çš„æ¡ä»¶æ˜¯ï¼š<code>å¯è§†é«˜åº¦</code> + <code>æ»šåŠ¨è·ç¦»</code> &gt;= <code>å®é™…é«˜åº¦</code> ã€‚ä¾‹å­æˆ‘ä¼šä½¿ç”¨<code>vue</code>æ¥å®ç°ï¼Œå’ŒåŸç”Ÿå®ç°æ˜¯ä¸€æ ·çš„ã€‚</p>
<ul>
<li>å¯è§†é«˜åº¦(offsetHeight)ï¼šé€šè¿‡ <code>dom</code> çš„ <code>offsetHeight</code> è·å¾—ï¼Œè¡¨ç¤ºåŒºåŸŸå›ºå®šçš„é«˜åº¦ã€‚è¿™é‡Œæˆ‘æ¨èé€šè¿‡ <code>getBoundingClientRect()</code> æ¥è·å–é«˜åº¦ï¼Œå› ä¸ºä½¿ç”¨å‰è€…ä¼šå¼•èµ·æµè§ˆå™¨å›æµï¼Œé€ æˆä¸€äº›æ€§èƒ½é—®é¢˜ã€‚</li>
<li>æ»šåŠ¨é«˜åº¦(scrollTop)ï¼šæ»šåŠ¨äº‹ä»¶ä¸­é€šè¿‡ <code>e.target.scrollTop</code> è·å–ï¼Œè¡¨ç¤ºæ»šåŠ¨æ¡è·ç¦»é¡¶éƒ¨çš„px</li>
<li>å®é™…é«˜åº¦(scrollHeight)ï¼šé€šè¿‡ <code>dom</code> çš„ <code>scrollHeight</code> è·å¾—ï¼Œè¡¨ç¤ºåŒºåŸŸå†…æ‰€æœ‰å†…å®¹çš„é«˜åº¦ï¼ˆåŒ…æ‹¬æ»šåŠ¨è·ç¦»ï¼‰ï¼Œä¹Ÿå°±æ˜¯å®é™…é«˜åº¦</li>
</ul>
<a id="more"></a>

<h1 id="åŸºç¡€å®ç°"><a href="#åŸºç¡€å®ç°" class="headerlink" title="åŸºç¡€å®ç°"></a>åŸºç¡€å®ç°</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">onScroll(e) &#123;</span><br><span class="line">    let scrollTop &#x3D; e.target.scrollTop &#x2F;&#x2F;æ»šåŠ¨é«˜åº¦</span><br><span class="line">    let scrollHeight &#x3D; e.target.scrollHeight &#x2F;&#x2F;å®é™…é«˜åº¦</span><br><span class="line">    let offsetHeight &#x3D; Math.ceil(e.target.getBoundingClientRect().height)&#x2F;&#x2F;å¯è§†é«˜åº¦</span><br><span class="line">    let currentHeight &#x3D; scrollTop + offsetHeight</span><br><span class="line">    if (currentHeight &gt;&#x3D; scrollHeight) &#123;</span><br><span class="line">        console.log(&#39;è§¦åº•&#39;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://mmbiz.qpic.cn/mmbiz_gif/1NOXMW586usqMUQjWlJXNU83Pxk8Dicribp9bOZENlSxoMU2MQtaNovYQXIb65qUPxKwWtTibqm9icMicOxXsFSUlMQ/640?wx_fmt=gif&tp=webp&wxfrom=5&wx_lazy=1" alt="img"></p>
<p>so easy~</p>
<h1 id="åŠ ç‚¹ç»†èŠ‚"><a href="#åŠ ç‚¹ç»†èŠ‚" class="headerlink" title="åŠ ç‚¹ç»†èŠ‚"></a>åŠ ç‚¹ç»†èŠ‚</h1><p>åŠ ç‚¹ç»†èŠ‚ï¼Œç°åœ¨æˆ‘ä»¬å¸Œæœ›æ˜¯ç¦»åº•éƒ¨ä¸€å®šè·ç¦»å°±è§¦å‘äº‹ä»¶ï¼Œè€Œä¸æ˜¯ç­‰åˆ°å®Œå…¨è§¦åº•ã€‚å¦‚æœä½ åšè¿‡å°ç¨‹åºï¼Œè¿™å’Œ<code>onReachBottom</code>å·®ä¸å¤šçš„æ„æ€ã€‚</p>
<p>å£°æ˜ä¸€ä¸ªç¦»åº•éƒ¨çš„è·ç¦»å˜é‡<code>reachBottomDistance</code></p>
<p>è¿™æ—¶å€™è§¦å‘æ¡ä»¶ï¼š<code>å¯è§†é«˜åº¦</code> + <code>æ»šåŠ¨è·ç¦»</code> + <code>reachBottomDistance</code> &gt;= <code>å®é™…é«˜åº¦</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export default &#123;</span><br><span class="line">  data()&#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      reachBottomDistance: 100</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    onScroll(e) &#123;</span><br><span class="line">        let scrollTop &#x3D; e.target.scrollTop</span><br><span class="line">        let scrollHeight &#x3D; e.target.scrollHeight</span><br><span class="line">        let offsetHeight &#x3D; Math.ceil(e.target.getBoundingClientRect().height)</span><br><span class="line">        let currentHeight &#x3D; scrollTop + offsetHeight + this.reachBottomDistance</span><br><span class="line">        if (currentHeight &gt;&#x3D; scrollHeight) &#123;</span><br><span class="line">            console.log(&#39;è§¦åº•&#39;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://mmbiz.qpic.cn/mmbiz_gif/1NOXMW586usqMUQjWlJXNU83Pxk8DicribkC2ZSbcwoQfvEQdXUGzpzibj2IK0xQawxOm2q1t6L5N0Sj21Mmb2fJw/640?wx_fmt=gif&tp=webp&wxfrom=5&wx_lazy=1" alt="img"></p>
<p>åœ¨è·ç¦»åº•éƒ¨100pxæ—¶æˆåŠŸè§¦å‘äº‹ä»¶ï¼Œä½†ç”±äº100pxå¾€ä¸‹çš„åŒºåŸŸæ˜¯ç¬¦åˆæ¡ä»¶çš„ï¼Œä¼šå¯¼è‡´ä¸€ç›´è§¦å‘ï¼Œè¿™ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ã€‚</p>
<p>æ¥ä¸‹æ¥åšä¸€äº›å¤„ç†ï¼Œè®©å…¶è¿›å…¥ååªè§¦å‘ä¸€æ¬¡:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export default &#123;</span><br><span class="line">  data()&#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      isReachBottom: false,</span><br><span class="line">      reachBottomDistance: 100</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    onScroll(e) &#123;</span><br><span class="line">        let scrollTop &#x3D; e.target.scrollTop</span><br><span class="line">        let scrollHeight &#x3D; e.target.scrollHeight</span><br><span class="line">        let offsetHeight &#x3D; Math.ceil(e.target.getBoundingClientRect().height)</span><br><span class="line">        let currentHeight &#x3D; scrollTop + offsetHeight + this.reachBottomDistance</span><br><span class="line"></span><br><span class="line">        if(currentHeight &lt; scrollHeight &amp;&amp; this.isReachBottom)&#123;</span><br><span class="line">          this.isReachBottom &#x3D; false</span><br><span class="line">        &#125;</span><br><span class="line">        if(this.isReachBottom)&#123;</span><br><span class="line">          return</span><br><span class="line">        &#125;</span><br><span class="line">        if (currentHeight &gt;&#x3D; scrollHeight) &#123;</span><br><span class="line">          this.isReachBottom &#x3D; true</span><br><span class="line">          console.log(&#39;è§¦åº•&#39;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://mmbiz.qpic.cn/mmbiz_gif/1NOXMW586usqMUQjWlJXNU83Pxk8Dicribqic9sKlSTeB0CianJYNJMViaUdChLxbic397ItI3Gb0O8VhpoadpCSzAQA/640?wx_fmt=gif&tp=webp&wxfrom=5&wx_lazy=1" alt="img"></p>
<h1 id="ä¼˜åŒ–"><a href="#ä¼˜åŒ–" class="headerlink" title="ä¼˜åŒ–"></a>ä¼˜åŒ–</h1><p>å®æ—¶å»è·å–ä½ç½®ä¿¡æ¯ç¨å¾®ä¼šæŸè€—æ€§èƒ½ï¼Œæˆ‘ä»¬åº”è¯¥æŠŠä¸å˜çš„ç¼“å­˜èµ·æ¥ï¼Œåªå®æ—¶è·å–å¯å˜çš„éƒ¨åˆ†</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export default &#123;</span><br><span class="line">  data()&#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      isReachBottom: false,</span><br><span class="line">      reachBottomDistance: 100</span><br><span class="line">      scrollHeight: 0,</span><br><span class="line">      offsetHeight: 0,</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  mounted()&#123;</span><br><span class="line">    &#x2F;&#x2F; é¡µé¢åŠ è½½å®Œæˆå  å°†é«˜åº¦å­˜å‚¨èµ·æ¥</span><br><span class="line">    let dom &#x3D; document.querySelector(&#39;.comment-area .comment-list&#39;)</span><br><span class="line">    this.scrollHeight &#x3D; dom.scrollHeight</span><br><span class="line">    this.offsetHeight &#x3D; Math.ceil(dom.getBoundingClientRect().height)</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    onScroll(e) &#123;</span><br><span class="line">        let scrollTop &#x3D; e.target.scrollTop</span><br><span class="line">        let currentHeight &#x3D; scrollTop + this.offsetHeight + this.reachBottomDistance</span><br><span class="line"></span><br><span class="line">        if(currentHeight &lt; this.scrollHeight &amp;&amp; this.isReachBottom)&#123;</span><br><span class="line">          this.isReachBottom &#x3D; false</span><br><span class="line">        &#125;</span><br><span class="line">        if(this.isReachBottom)&#123;</span><br><span class="line">          return</span><br><span class="line">        &#125;</span><br><span class="line">        if (currentHeight &gt;&#x3D; this.scrollHeight) &#123;</span><br><span class="line">          this.isReachBottom &#x3D; true</span><br><span class="line">          console.log(&#39;è§¦åº•&#39;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å®ç°åˆ°è¿™é‡Œå°±å‘Šä¸€æ®µè½ï¼Œå¦‚æœä½ æœ‰æ›´å¥½çš„æ€è·¯å’Œå€¼å¾—æ”¹è¿›çš„åœ°æ–¹ï¼Œæ¬¢è¿äº¤æµ~</p>
]]></content>
      <categories>
        <category>vue</category>
      </categories>
      <tags>
        <tag>vue</tag>
        <tag>ä¸Šæ‹‰åŠ è½½</tag>
      </tags>
  </entry>
  <entry>
    <title>vueä¹‹ä¸Šæ‹‰åŠ è½½åŸç†</title>
    <url>/2020/09/16/vue%E4%B9%8B%E4%B8%8A%E6%8B%89%E5%8A%A0%E8%BD%BD%E5%8E%9F%E7%90%86%E7%9A%84%E4%B8%89/</url>
    <content><![CDATA[<h1 id="æ•ˆæœ"><a href="#æ•ˆæœ" class="headerlink" title="æ•ˆæœ"></a>æ•ˆæœ</h1><p>è´´ä¸Šæ•ˆæœå±•ç¤ºï¼š<br><img src="https://mmbiz.qpic.cn/mmbiz_gif/1NOXMW586usqMUQjWlJXNU83Pxk8DicribgBBbuvZ13dRfOBLsInRicV51f90TJDiblOfwq1LuN27vTaqssPfF5NeQ/640?wx_fmt=gif&tp=webp&wxfrom=5&wx_lazy=1" alt="img"></p>
<h1 id="å®ç°æ€è·¯"><a href="#å®ç°æ€è·¯" class="headerlink" title="å®ç°æ€è·¯"></a>å®ç°æ€è·¯</h1><p>æ ·å¼æ–¹é¢ä¸å¤šèµ˜è¿°ï¼Œæ»šåŠ¨åŒºåŸŸæ˜¯ç»™å›ºå®šé«˜åº¦ï¼Œè®¾ç½® <code>overflow-y: auto</code> æ¥å®ç°ã€‚</p>
<p>æ¥ä¸‹æ¥çœ‹çœ‹jsæ–¹é¢çš„å®ç°ï¼Œå…¶å®ä¹Ÿå¾ˆç®€å•ï¼Œè§¦å‘çš„æ¡ä»¶æ˜¯ï¼š<code>å¯è§†é«˜åº¦</code> + <code>æ»šåŠ¨è·ç¦»</code> &gt;= <code>å®é™…é«˜åº¦</code> ã€‚ä¾‹å­æˆ‘ä¼šä½¿ç”¨<code>vue</code>æ¥å®ç°ï¼Œå’ŒåŸç”Ÿå®ç°æ˜¯ä¸€æ ·çš„ã€‚</p>
<ul>
<li>å¯è§†é«˜åº¦(offsetHeight)ï¼šé€šè¿‡ <code>dom</code> çš„ <code>offsetHeight</code> è·å¾—ï¼Œè¡¨ç¤ºåŒºåŸŸå›ºå®šçš„é«˜åº¦ã€‚è¿™é‡Œæˆ‘æ¨èé€šè¿‡ <code>getBoundingClientRect()</code> æ¥è·å–é«˜åº¦ï¼Œå› ä¸ºä½¿ç”¨å‰è€…ä¼šå¼•èµ·æµè§ˆå™¨å›æµï¼Œé€ æˆä¸€äº›æ€§èƒ½é—®é¢˜ã€‚</li>
<li>æ»šåŠ¨é«˜åº¦(scrollTop)ï¼šæ»šåŠ¨äº‹ä»¶ä¸­é€šè¿‡ <code>e.target.scrollTop</code> è·å–ï¼Œè¡¨ç¤ºæ»šåŠ¨æ¡è·ç¦»é¡¶éƒ¨çš„px</li>
<li>å®é™…é«˜åº¦(scrollHeight)ï¼šé€šè¿‡ <code>dom</code> çš„ <code>scrollHeight</code> è·å¾—ï¼Œè¡¨ç¤ºåŒºåŸŸå†…æ‰€æœ‰å†…å®¹çš„é«˜åº¦ï¼ˆåŒ…æ‹¬æ»šåŠ¨è·ç¦»ï¼‰ï¼Œä¹Ÿå°±æ˜¯å®é™…é«˜åº¦</li>
</ul>
<h1 id="åŸºç¡€å®ç°"><a href="#åŸºç¡€å®ç°" class="headerlink" title="åŸºç¡€å®ç°"></a>åŸºç¡€å®ç°</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">onScroll(e) &#123;</span><br><span class="line">    let scrollTop &#x3D; e.target.scrollTop</span><br><span class="line">    let scrollHeight &#x3D; e.target.scrollHeight</span><br><span class="line">    let offsetHeight &#x3D; Math.ceil(e.target.getBoundingClientRect().height)</span><br><span class="line">    let currentHeight &#x3D; scrollTop + offsetHeight</span><br><span class="line">    if (currentHeight &gt;&#x3D; scrollHeight) &#123;</span><br><span class="line">        console.log(&#39;è§¦åº•&#39;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://mmbiz.qpic.cn/mmbiz_gif/1NOXMW586usqMUQjWlJXNU83Pxk8Dicribp9bOZENlSxoMU2MQtaNovYQXIb65qUPxKwWtTibqm9icMicOxXsFSUlMQ/640?wx_fmt=gif&tp=webp&wxfrom=5&wx_lazy=1" alt="img"></p>
<p>so easy~</p>
<h1 id="åŠ ç‚¹ç»†èŠ‚"><a href="#åŠ ç‚¹ç»†èŠ‚" class="headerlink" title="åŠ ç‚¹ç»†èŠ‚"></a>åŠ ç‚¹ç»†èŠ‚</h1><p>åŠ ç‚¹ç»†èŠ‚ï¼Œç°åœ¨æˆ‘ä»¬å¸Œæœ›æ˜¯ç¦»åº•éƒ¨ä¸€å®šè·ç¦»å°±è§¦å‘äº‹ä»¶ï¼Œè€Œä¸æ˜¯ç­‰åˆ°å®Œå…¨è§¦åº•ã€‚å¦‚æœä½ åšè¿‡å°ç¨‹åºï¼Œè¿™å’Œ<code>onReachBottom</code>å·®ä¸å¤šçš„æ„æ€ã€‚</p>
<p>å£°æ˜ä¸€ä¸ªç¦»åº•éƒ¨çš„è·ç¦»å˜é‡<code>reachBottomDistance</code></p>
<p>è¿™æ—¶å€™è§¦å‘æ¡ä»¶ï¼š<code>å¯è§†é«˜åº¦</code> + <code>æ»šåŠ¨è·ç¦»</code> + <code>reachBottomDistance</code> &gt;= <code>å®é™…é«˜åº¦</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export default &#123;</span><br><span class="line">  data()&#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      reachBottomDistance: 100</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    onScroll(e) &#123;</span><br><span class="line">        let scrollTop &#x3D; e.target.scrollTop</span><br><span class="line">        let scrollHeight &#x3D; e.target.scrollHeight</span><br><span class="line">        let offsetHeight &#x3D; Math.ceil(e.target.getBoundingClientRect().height)</span><br><span class="line">        let currentHeight &#x3D; scrollTop + offsetHeight + this.reachBottomDistance</span><br><span class="line">        if (currentHeight &gt;&#x3D; scrollHeight) &#123;</span><br><span class="line">            console.log(&#39;è§¦åº•&#39;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://mmbiz.qpic.cn/mmbiz_gif/1NOXMW586usqMUQjWlJXNU83Pxk8DicribkC2ZSbcwoQfvEQdXUGzpzibj2IK0xQawxOm2q1t6L5N0Sj21Mmb2fJw/640?wx_fmt=gif&tp=webp&wxfrom=5&wx_lazy=1" alt="img"></p>
<p>åœ¨è·ç¦»åº•éƒ¨100pxæ—¶æˆåŠŸè§¦å‘äº‹ä»¶ï¼Œä½†ç”±äº100pxå¾€ä¸‹çš„åŒºåŸŸæ˜¯ç¬¦åˆæ¡ä»¶çš„ï¼Œä¼šå¯¼è‡´ä¸€ç›´è§¦å‘ï¼Œè¿™ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ã€‚</p>
<p>æ¥ä¸‹æ¥åšä¸€äº›å¤„ç†ï¼Œè®©å…¶è¿›å…¥ååªè§¦å‘ä¸€æ¬¡:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export default &#123;</span><br><span class="line">  data()&#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      isReachBottom: false,</span><br><span class="line">      reachBottomDistance: 100</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    onScroll(e) &#123;</span><br><span class="line">        let scrollTop &#x3D; e.target.scrollTop</span><br><span class="line">        let scrollHeight &#x3D; e.target.scrollHeight</span><br><span class="line">        let offsetHeight &#x3D; Math.ceil(e.target.getBoundingClientRect().height)</span><br><span class="line">        let currentHeight &#x3D; scrollTop + offsetHeight + this.reachBottomDistance</span><br><span class="line"></span><br><span class="line">        if(currentHeight &lt; scrollHeight &amp;&amp; this.isReachBottom)&#123;</span><br><span class="line">          this.isReachBottom &#x3D; false</span><br><span class="line">        &#125;</span><br><span class="line">        if(this.isReachBottom)&#123;</span><br><span class="line">          return</span><br><span class="line">        &#125;</span><br><span class="line">        if (currentHeight &gt;&#x3D; scrollHeight) &#123;</span><br><span class="line">          this.isReachBottom &#x3D; true</span><br><span class="line">          console.log(&#39;è§¦åº•&#39;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://mmbiz.qpic.cn/mmbiz_gif/1NOXMW586usqMUQjWlJXNU83Pxk8Dicribqic9sKlSTeB0CianJYNJMViaUdChLxbic397ItI3Gb0O8VhpoadpCSzAQA/640?wx_fmt=gif&tp=webp&wxfrom=5&wx_lazy=1" alt="img"></p>
<h1 id="ä¼˜åŒ–"><a href="#ä¼˜åŒ–" class="headerlink" title="ä¼˜åŒ–"></a>ä¼˜åŒ–</h1><p>å®æ—¶å»è·å–ä½ç½®ä¿¡æ¯ç¨å¾®ä¼šæŸè€—æ€§èƒ½ï¼Œæˆ‘ä»¬åº”è¯¥æŠŠä¸å˜çš„ç¼“å­˜èµ·æ¥ï¼Œåªå®æ—¶è·å–å¯å˜çš„éƒ¨åˆ†</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export default &#123;</span><br><span class="line">  data()&#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      isReachBottom: false,</span><br><span class="line">      reachBottomDistance: 100</span><br><span class="line">      scrollHeight: 0,</span><br><span class="line">      offsetHeight: 0,</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  mounted()&#123;</span><br><span class="line">    &#x2F;&#x2F; é¡µé¢åŠ è½½å®Œæˆå  å°†é«˜åº¦å­˜å‚¨èµ·æ¥</span><br><span class="line">    let dom &#x3D; document.querySelector(&#39;.comment-area .comment-list&#39;)</span><br><span class="line">    this.scrollHeight &#x3D; dom.scrollHeight</span><br><span class="line">    this.offsetHeight &#x3D; Math.ceil(dom.getBoundingClientRect().height)</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    onScroll(e) &#123;</span><br><span class="line">        let scrollTop &#x3D; e.target.scrollTop</span><br><span class="line">        let currentHeight &#x3D; scrollTop + this.offsetHeight + this.reachBottomDistance</span><br><span class="line"></span><br><span class="line">        if(currentHeight &lt; this.scrollHeight &amp;&amp; this.isReachBottom)&#123;</span><br><span class="line">          this.isReachBottom &#x3D; false</span><br><span class="line">        &#125;</span><br><span class="line">        if(this.isReachBottom)&#123;</span><br><span class="line">          return</span><br><span class="line">        &#125;</span><br><span class="line">        if (currentHeight &gt;&#x3D; this.scrollHeight) &#123;</span><br><span class="line">          this.isReachBottom &#x3D; true</span><br><span class="line">          console.log(&#39;è§¦åº•&#39;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å®ç°åˆ°è¿™é‡Œå°±å‘Šä¸€æ®µè½ï¼Œå¦‚æœä½ æœ‰æ›´å¥½çš„æ€è·¯å’Œå€¼å¾—æ”¹è¿›çš„åœ°æ–¹ï¼Œæ¬¢è¿äº¤æµ~</p>
]]></content>
  </entry>
  <entry>
    <title>vueä¹‹å®ç°ä¸€ä¸ª6ä¸ªè¾“å…¥æ¡†çš„éªŒè¯ç è¾“å…¥ç»„ä»¶</title>
    <url>/2021/03/04/vue%E4%B9%8B%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA6%E4%B8%AA%E8%BE%93%E5%85%A5%E6%A1%86%E7%9A%84%E9%AA%8C%E8%AF%81%E7%A0%81%E8%BE%93%E5%85%A5%E7%BB%84%E4%BB%B6/</url>
    <content><![CDATA[<p>è¦å®ç°çš„åŠŸèƒ½ï¼š</p>
<p>å®Œå…¨å’Œå•è¾“å…¥æ¡†ä¸€æ ·çš„æ“ä½œï¼Œç”šè‡³å¯ä»¥æ’å…¥è¦†ç›–ï¼š<br>1ï¼Œé™åˆ¶è¾“å…¥æ•°å­—<br>2ï¼Œæ­£å¸¸è¾“å…¥<br>3ï¼Œbackspaceåˆ é™¤<br>4ï¼Œpasteä»»æ„ä½ç½®ç²˜è´´è¾“å…¥<br>5ï¼Œå…‰æ ‡é€‰ä¸­ä¸€ä¸ªæ•°å­—ï¼Œæ»šè½®å¯ä»¥å¾®è°ƒæ•°å­—å¤§å°ï¼Œé™åˆ¶0-9<br>6ï¼Œ123|456 è‡ªåŠ¨è¦†ç›–å…‰æ ‡åè¾“å…¥çš„å­—ç¬¦ï¼Œæ­¤æ—¶å…‰æ ‡åœ¨3åï¼Œç»§ç»­è¾“å…¥111ï¼Œä¼šå¾—åˆ°123111ï¼Œè€Œä¸ç”¨æ‰‹åŠ¨åˆ é™¤456<br>7ï¼Œå°è£…æˆvueå•æ–‡ä»¶ç»„ä»¶ï¼Œæ–¹ä¾¿ä»»æ„è°ƒç”¨ã€‚</p>
<p>æœ€ç»ˆæ•ˆæœå¦‚å›¾ï¼š</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/eXCSRjyNYcbLW2rcSXrkU3CUXfoWZQLvFvY0icKjdEfJBRsjVVqxYYiceb3DeiaVXbkkn3b8CbEnicBMXfM4Mvoabw/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="å›¾ç‰‡"></p>
<p>æ¨¡æ¿ä»£ç </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class&#x3D;&quot;input-box&quot;&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;input-content&quot; @keydown&#x3D;&quot;keydown&quot; @keyup&#x3D;&quot;keyup&quot; @paste&#x3D;&quot;paste&quot; @mousewheel&#x3D;&quot;mousewheel&quot;</span><br><span class="line">        @input&#x3D;&quot;inputEvent&quot;&gt;</span><br><span class="line">      &lt;input max&#x3D;&quot;9&quot; min&#x3D;&quot;0&quot; maxlength&#x3D;&quot;1&quot; data-index&#x3D;&quot;0&quot; v-model.trim.number&#x3D;&quot;input[0]&quot; type&#x3D;&quot;number&quot;</span><br><span class="line">          ref&#x3D;&quot;firstinput&quot;&#x2F;&gt;</span><br><span class="line">      &lt;input max&#x3D;&quot;9&quot; min&#x3D;&quot;0&quot; maxlength&#x3D;&quot;1&quot; data-index&#x3D;&quot;1&quot; v-model.trim.number&#x3D;&quot;input[1]&quot; type&#x3D;&quot;number&quot;&#x2F;&gt;</span><br><span class="line">      &lt;input max&#x3D;&quot;9&quot; min&#x3D;&quot;0&quot; maxlength&#x3D;&quot;1&quot; data-index&#x3D;&quot;2&quot; v-model.trim.number&#x3D;&quot;input[2]&quot; type&#x3D;&quot;number&quot;&#x2F;&gt;</span><br><span class="line">      &lt;input max&#x3D;&quot;9&quot; min&#x3D;&quot;0&quot; maxlength&#x3D;&quot;1&quot; data-index&#x3D;&quot;3&quot; v-model.trim.number&#x3D;&quot;input[3]&quot; type&#x3D;&quot;number&quot;&#x2F;&gt;</span><br><span class="line">      &lt;input max&#x3D;&quot;9&quot; min&#x3D;&quot;0&quot; maxlength&#x3D;&quot;1&quot; data-index&#x3D;&quot;4&quot; v-model.trim.number&#x3D;&quot;input[4]&quot; type&#x3D;&quot;number&quot;&#x2F;&gt;</span><br><span class="line">      &lt;input max&#x3D;&quot;9&quot; min&#x3D;&quot;0&quot; maxlength&#x3D;&quot;1&quot; data-index&#x3D;&quot;5&quot; v-model.trim.number&#x3D;&quot;input[5]&quot; type&#x3D;&quot;number&quot;&#x2F;&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br></pre></td></tr></table></figure>

<p>å®ç°äº†é”®ç›˜çš„keydown/keyup/paste/inputå’Œé¼ æ ‡æ»šè½®mousewheeläº‹ä»¶<br>ä½¿ç”¨äº†6ä¸ªè¾“å…¥æ¡†çš„æ–¹æ¡ˆæ¥å®ç°ã€‚</p>
<p>æ ·å¼éƒ¨åˆ†ï¼šä½¿ç”¨äº†scssæ¨¡å¼</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;style scoped&gt;</span><br><span class="line">  .input-box &#123;</span><br><span class="line">    .input-content &#123;</span><br><span class="line">      width: 512px;</span><br><span class="line">      height: 60px;</span><br><span class="line">      display: flex;</span><br><span class="line">      align-items: center;</span><br><span class="line">      justify-content: space-between;</span><br><span class="line"></span><br><span class="line">      input &#123;</span><br><span class="line">        color: inherit;</span><br><span class="line">        font-family: inherit;</span><br><span class="line">        border: 0;</span><br><span class="line">        outline: 0;</span><br><span class="line">        border-bottom: 1px solid #919191;</span><br><span class="line">        height: 60px;</span><br><span class="line">        width: 60px;</span><br><span class="line">        font-size: 44px;</span><br><span class="line">        text-align: center;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    input::-webkit-outer-spin-button,</span><br><span class="line">    input::-webkit-inner-spin-button &#123;</span><br><span class="line">      appearance: none;</span><br><span class="line">      margin: 0;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<p>å…·ä½“å®ç°é€»è¾‘ï¼šä¸»è¦å®ç°ä»¥ä¸Šå‡ ä¸ªé”®ç›˜äº‹ä»¶æ“ä½œã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  export default &#123;</span><br><span class="line">    data() &#123;</span><br><span class="line">      return &#123;</span><br><span class="line">        &#x2F;&#x2F; å­˜æ”¾ç²˜è´´è¿›æ¥çš„æ•°å­—</span><br><span class="line">        pasteResult: [],</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;,</span><br><span class="line">    props: [&#39;code&#39;],</span><br><span class="line">    computed: &#123;</span><br><span class="line">      input() &#123;</span><br><span class="line">        &#x2F;&#x2F; code æ˜¯çˆ¶ç»„ä»¶ä¼ è¿›æ¥çš„é»˜è®¤å€¼ï¼Œå¿…é¡»æ˜¯6ä½é•¿åº¦çš„æ•°ç»„ï¼Œè¿™é‡Œå°±ä¸å†åšå®¹é”™åˆ¤æ–­å¤„ç†</span><br><span class="line">        &#x2F;&#x2F; æœ€åç©ºæ•°ç»„æ˜¯é»˜è®¤å€¼</span><br><span class="line">        return this.code || this.pasteResult.length &#x3D;&#x3D;&#x3D; 6 ? this.pasteResult : [&#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;]</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">      &#x2F;&#x2F; è§£å†³ä¸€ä¸ªè¾“å…¥æ¡†è¾“å…¥å¤šä¸ªå­—ç¬¦</span><br><span class="line">      inputEvent(e) &#123;</span><br><span class="line">        var index &#x3D; e.target.dataset.index * 1;</span><br><span class="line">        var el &#x3D; e.target;</span><br><span class="line">        this.$set(this.input, index, el.value.slice(0, 1))</span><br><span class="line">      &#125;,</span><br><span class="line">      keydown(e) &#123;</span><br><span class="line">        var index &#x3D; e.target.dataset.index * 1;</span><br><span class="line">        var el &#x3D; e.target;</span><br><span class="line">        if (e.key &#x3D;&#x3D;&#x3D; &#39;Backspace&#39;) &#123;</span><br><span class="line">          if (this.input[index].length &gt; 0) &#123;</span><br><span class="line">            this.$set(this.input, index, &#39;&#39;)</span><br><span class="line">          &#125; else &#123;</span><br><span class="line">            if (el.previousElementSibling) &#123;</span><br><span class="line">              el.previousElementSibling.focus()</span><br><span class="line">              this.$set(this.input, index - 1, &#39;&#39;)</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125; else if (e.key &#x3D;&#x3D;&#x3D; &#39;Delete&#39;) &#123;</span><br><span class="line">          if (this.input[index].length &gt; 0) &#123;</span><br><span class="line">            this.$set(this.input, index, &#39;&#39;)</span><br><span class="line">          &#125; else &#123;</span><br><span class="line">            if (el.nextElementSibling) &#123;</span><br><span class="line">              this.$set(this.input, index &#x3D; 1, &#39;&#39;)</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">          if (el.nextElementSibling) &#123;</span><br><span class="line">            el.nextElementSibling.focus()</span><br><span class="line">          &#125;</span><br><span class="line">        &#125; else if (e.key &#x3D;&#x3D;&#x3D; &#39;Home&#39;) &#123;</span><br><span class="line">          el.parentElement.children[0] &amp;&amp; el.parentElement.children[0].focus()</span><br><span class="line">        &#125; else if (e.key &#x3D;&#x3D;&#x3D; &#39;End&#39;) &#123;</span><br><span class="line">          el.parentElement.children[this.input.length - 1] &amp;&amp; el.parentElement.children[this.input.length - 1].focus()</span><br><span class="line">        &#125; else if (e.key &#x3D;&#x3D;&#x3D; &#39;ArrowLeft&#39;) &#123;</span><br><span class="line">          if (el.previousElementSibling) &#123;</span><br><span class="line">            el.previousElementSibling.focus()</span><br><span class="line">          &#125;</span><br><span class="line">        &#125; else if (e.key &#x3D;&#x3D;&#x3D; &#39;ArrowRight&#39;) &#123;</span><br><span class="line">          if (el.nextElementSibling) &#123;</span><br><span class="line">            el.nextElementSibling.focus()</span><br><span class="line">          &#125;</span><br><span class="line">        &#125; else if (e.key &#x3D;&#x3D;&#x3D; &#39;ArrowUp&#39;) &#123;</span><br><span class="line">          if (this.input[index] * 1 &lt; 9) &#123;</span><br><span class="line">            this.$set(this.input, index, (this.input[index] * 1 + 1).toString());</span><br><span class="line">          &#125;</span><br><span class="line">        &#125; else if (e.key &#x3D;&#x3D;&#x3D; &#39;ArrowDown&#39;) &#123;</span><br><span class="line">          if (this.input[index] * 1 &gt; 0) &#123;</span><br><span class="line">            this.$set(this.input, index, (this.input[index] * 1 - 1).toString());</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      keyup(e) &#123;</span><br><span class="line">        var index &#x3D; e.target.dataset.index * 1;</span><br><span class="line">        var el &#x3D; e.target;</span><br><span class="line">        if (&#x2F;Digit|Numpad&#x2F;i.test(e.code)) &#123;</span><br><span class="line">          this.$set(this.input, index, e.code.replace(&#x2F;Digit|Numpad&#x2F;i, &#39;&#39;));</span><br><span class="line">          el.nextElementSibling &amp;&amp; el.nextElementSibling.focus();</span><br><span class="line">          if (index &#x3D;&#x3D;&#x3D; 5) &#123;</span><br><span class="line">            if (this.input.join(&#39;&#39;).length &#x3D;&#x3D;&#x3D; 6) &#123;</span><br><span class="line">              document.activeElement.blur();</span><br><span class="line">              this.$emit(&#39;complete&#39;, this.input);</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">          if (this.input[index] &#x3D;&#x3D;&#x3D; &#39;&#39;) &#123;</span><br><span class="line">            this.$set(this.input, index, &#39;&#39;);</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      mousewheel(e) &#123;</span><br><span class="line">        var index &#x3D; e.target.dataset.index;</span><br><span class="line">        if (e.wheelDelta &gt; 0) &#123;</span><br><span class="line">          if (this.input[index] * 1 &lt; 9) &#123;</span><br><span class="line">            this.$set(this.input, index, (this.input[index] * 1 + 1).toString());</span><br><span class="line">          &#125;</span><br><span class="line">        &#125; else if (e.wheelDelta &lt; 0) &#123;</span><br><span class="line">          if (this.input[index] * 1 &gt; 0) &#123;</span><br><span class="line">            this.$set(this.input, index, (this.input[index] * 1 - 1).toString());</span><br><span class="line">          &#125;</span><br><span class="line">        &#125; else if (e.key &#x3D;&#x3D;&#x3D; &#39;Enter&#39;) &#123;</span><br><span class="line">          if (this.input.join(&#39;&#39;).length &#x3D;&#x3D;&#x3D; 6) &#123;</span><br><span class="line">            document.activeElement.blur();</span><br><span class="line">            this.$emit(&#39;complete&#39;, this.input);</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      paste(e) &#123;</span><br><span class="line">        &#x2F;&#x2F; å½“è¿›è¡Œç²˜è´´æ—¶</span><br><span class="line">        e.clipboardData.items[0].getAsString(str &#x3D;&gt; &#123;</span><br><span class="line">          if (str.toString().length &#x3D;&#x3D;&#x3D; 6) &#123;</span><br><span class="line">            this.pasteResult &#x3D; str.split(&#39;&#39;);</span><br><span class="line">            document.activeElement.blur();</span><br><span class="line">            this.$emit(&#39;complete&#39;, this.input);</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    mounted() &#123;</span><br><span class="line">      &#x2F;&#x2F; ç­‰å¾…domæ¸²æŸ“å®Œæˆï¼Œåœ¨æ‰§è¡Œfocus,å¦åˆ™æ— æ³•è·å–åˆ°ç„¦ç‚¹</span><br><span class="line">      this.$nextTick(() &#x3D;&gt; &#123;</span><br><span class="line">        this.$refs.firstinput.focus()</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>vue</category>
      </categories>
      <tags>
        <tag>vue</tag>
        <tag>éªŒè¯ç </tag>
      </tags>
  </entry>
  <entry>
    <title>vueä¹‹å¼•å…¥svgçŸ¢é‡å›¾æ ‡</title>
    <url>/2021/03/01/vue%E4%B9%8B%E5%BC%95%E5%85%A5svg%E7%9F%A2%E9%87%8F%E5%9B%BE%E6%A0%87/</url>
    <content><![CDATA[<h2 id="Vueé¡¹ç›®ä¸­ä½¿ç”¨svgå›¾æ ‡-éœ€è¦é‡æ–°npm-run-dev"><a href="#Vueé¡¹ç›®ä¸­ä½¿ç”¨svgå›¾æ ‡-éœ€è¦é‡æ–°npm-run-dev" class="headerlink" title="Vueé¡¹ç›®ä¸­ä½¿ç”¨svgå›¾æ ‡(éœ€è¦é‡æ–°npm run dev)"></a>Vueé¡¹ç›®ä¸­ä½¿ç”¨svgå›¾æ ‡(éœ€è¦é‡æ–°npm run dev)</h2><h4 id="ä¸€ã€é…ç½®"><a href="#ä¸€ã€é…ç½®" class="headerlink" title="ä¸€ã€é…ç½®"></a>ä¸€ã€é…ç½®</h4><p>1.å®‰è£…ä¾èµ–ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install svg-sprite-loader --save-dev</span><br></pre></td></tr></table></figure>

<p>2.é…ç½®buildæ–‡ä»¶å¤¹ä¸­çš„webpack.base.conf.jsï¼Œä¸»è¦åœ¨ä¸¤ä¸ªåœ°æ–¹æ·»åŠ ä»£ç ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">exclude: [resolve(&#39;src&#x2F;icons&#39;)],</span><br></pre></td></tr></table></figure>

<a id="more"></a> 

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">        test: &#x2F;\.svg$&#x2F;,</span><br><span class="line">        loader: &#39;svg-sprite-loader&#39;,</span><br><span class="line">        include: [resolve(&#39;src&#x2F;icons&#39;)],</span><br><span class="line">        options: &#123;</span><br><span class="line">          symbolId: &#39;icon-[name]&#39;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>



<p> <img src="https://img2018.cnblogs.com/blog/1320274/201902/1320274-20190213172248614-856859048.png" alt="img"></p>
<p>3.åœ¨src/componentsä¸‹æ–°å»ºæ–‡ä»¶å¤¹åŠæ–‡ä»¶SvgIcon/index.vueï¼Œindex.vueä¸­å†…å®¹å¦‚ä¸‹</p>
<p><img src="https://img2018.cnblogs.com/blog/1320274/201902/1320274-20190213172446241-453546490.png" alt="img"></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;svg :class&#x3D;&quot;svgClass&quot; aria-hidden&#x3D;&quot;true&quot; v-on&#x3D;&quot;$listeners&quot;&gt;</span><br><span class="line">    &lt;use :xlink:href&#x3D;&quot;iconName&quot;&#x2F;&gt;</span><br><span class="line">  &lt;&#x2F;svg&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"> </span><br><span class="line">&lt;script&gt;</span><br><span class="line">  export default &#123;</span><br><span class="line">    name: &#39;SvgIcon&#39;,</span><br><span class="line">    props: &#123;</span><br><span class="line">      iconClass: &#123;</span><br><span class="line">        type: String,</span><br><span class="line">        required: true</span><br><span class="line">      &#125;,</span><br><span class="line">      className: &#123;</span><br><span class="line">        type: String,</span><br><span class="line">        default: &#39;&#39;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    computed: &#123;</span><br><span class="line">      iconName() &#123;</span><br><span class="line">        return &#96;#icon-$&#123;this.iconClass&#125;&#96;</span><br><span class="line">      &#125;,</span><br><span class="line">      svgClass() &#123;</span><br><span class="line">        if (this.className) &#123;</span><br><span class="line">          return &#39;svg-icon &#39; + this.className</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">          return &#39;svg-icon&#39;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"> </span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">  .svg-icon &#123;</span><br><span class="line">    width: 1em;</span><br><span class="line">    height: 1em;</span><br><span class="line">    vertical-align: -0.15em;</span><br><span class="line">    fill: currentColor;</span><br><span class="line">    overflow: hidden;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<p>4.åœ¨srcä¸‹æ–°å»ºiconsæ–‡ä»¶å¤¹ï¼ŒåŠiconsæ–‡ä»¶å¤¹ä¸‹svgæ–‡ä»¶å¤¹ã€index.jsæ–‡ä»¶ï¼Œ index.jsæ–‡ä»¶å†…å®¹å¦‚ä¸‹</p>
<p><img src="https://img2018.cnblogs.com/blog/1320274/201902/1320274-20190213172928086-1928999179.png" alt="img"></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import Vue from &#39;vue&#39;</span><br><span class="line">import SvgIcon from &#39;@&#x2F;components&#x2F;SvgIcon&#39;&#x2F;&#x2F; svgç»„ä»¶</span><br><span class="line"> </span><br><span class="line">&#x2F;&#x2F; register globally</span><br><span class="line">Vue.component(&#39;svg-icon&#39;, SvgIcon)</span><br><span class="line"> </span><br><span class="line">const req &#x3D; require.context(&#39;.&#x2F;svg&#39;, false, &#x2F;\.svg$&#x2F;)</span><br><span class="line">const requireAll &#x3D; requireContext &#x3D;&gt; requireContext.keys().map(requireContext)</span><br><span class="line">requireAll(req)</span><br></pre></td></tr></table></figure>

<p>5.åœ¨main.jsä¸­å¼•å…¥svg</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import &#39;.&#x2F;icons&#39;</span><br></pre></td></tr></table></figure>

<p><img src="https://img2018.cnblogs.com/blog/1320274/201902/1320274-20190213173418873-138542214.png" alt="img"></p>
<h4 id="äºŒã€ä½¿ç”¨"><a href="#äºŒã€ä½¿ç”¨" class="headerlink" title="äºŒã€ä½¿ç”¨"></a>äºŒã€ä½¿ç”¨</h4><p>1.ä¸‹è½½svgå›¾ç‰‡ï¼Œè¿™é‡Œä½¿ç”¨é˜¿é‡Œäº‘æä¾›çš„iconfontï¼š<a href="https://www.iconfont.cn/collections/index?spm=a313x.7781069.1998910419.4&amp;type=1" target="_blank" rel="noopener">https://www.iconfont.cn/collections/index?spm=a313x.7781069.1998910419.4&amp;type=1</a></p>
<p>2.ç‚¹å‡»å›¾ç‰‡ï¼Œä¸‹è½½svgæ ¼å¼å³å¯ï¼Œå°†ä¸‹è½½ä¸‹æ¥çš„å›¾ç‰‡æ”¾ç½®åˆ°åˆ°é¡¹ç›®ä¸­çš„svgæ–‡ä»¶å¤¹ä¸‹</p>
<p><img src="https://img2018.cnblogs.com/blog/1320274/201902/1320274-20190214084831123-802190607.png" alt="img"></p>
<p>3.åœ¨é¡µé¢ä¸­ä½¿ç”¨</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;svg-icon icon-class&#x3D;&quot;test&quot;&gt;&lt;&#x2F;svg-icon&gt;</span><br></pre></td></tr></table></figure>

<p><img src="https://img2018.cnblogs.com/blog/1320274/201902/1320274-20190214084923686-260663094.png" alt="img"></p>
]]></content>
      <categories>
        <category>vue</category>
      </categories>
      <tags>
        <tag>vue</tag>
        <tag>svg</tag>
      </tags>
  </entry>
  <entry>
    <title>vueä¹‹æ€§èƒ½ä¼˜åŒ–</title>
    <url>/2021/03/17/vue%E4%B9%8B%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/</url>
    <content><![CDATA[<p>å‚è€ƒé“¾æ¥ï¼š<a href="https://mp.weixin.qq.com/s/uJ5-O4d4DqR2sIQzDqKVQw" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/uJ5-O4d4DqR2sIQzDqKVQw</a></p>
<h2 id="ä¸€ã€ä»£ç å±‚é¢çš„ä¼˜åŒ–"><a href="#ä¸€ã€ä»£ç å±‚é¢çš„ä¼˜åŒ–" class="headerlink" title="ä¸€ã€ä»£ç å±‚é¢çš„ä¼˜åŒ–"></a>ä¸€ã€ä»£ç å±‚é¢çš„ä¼˜åŒ–</h2><h3 id="1-1ã€v-if-å’Œ-v-show-åŒºåˆ†ä½¿ç”¨åœºæ™¯"><a href="#1-1ã€v-if-å’Œ-v-show-åŒºåˆ†ä½¿ç”¨åœºæ™¯" class="headerlink" title="1.1ã€v-if å’Œ v-show åŒºåˆ†ä½¿ç”¨åœºæ™¯"></a>1.1ã€v-if å’Œ v-show åŒºåˆ†ä½¿ç”¨åœºæ™¯</h3><p><strong>v-if</strong> æ˜¯ <strong>çœŸæ­£</strong> çš„æ¡ä»¶æ¸²æŸ“ï¼Œå› ä¸ºå®ƒä¼šç¡®ä¿åœ¨åˆ‡æ¢è¿‡ç¨‹ä¸­æ¡ä»¶å—å†…çš„äº‹ä»¶ç›‘å¬å™¨å’Œå­ç»„ä»¶é€‚å½“åœ°è¢«é”€æ¯å’Œé‡å»ºï¼›ä¹Ÿæ˜¯<strong>æƒ°æ€§çš„</strong>ï¼šå¦‚æœåœ¨åˆå§‹æ¸²æŸ“æ—¶æ¡ä»¶ä¸ºå‡ï¼Œåˆ™ä»€ä¹ˆä¹Ÿä¸åšâ€”â€”ç›´åˆ°æ¡ä»¶ç¬¬ä¸€æ¬¡å˜ä¸ºçœŸæ—¶ï¼Œæ‰ä¼šå¼€å§‹æ¸²æŸ“æ¡ä»¶å—ã€‚</p>
<p><strong>v-show</strong> å°±ç®€å•å¾—å¤šï¼Œ ä¸ç®¡åˆå§‹æ¡ä»¶æ˜¯ä»€ä¹ˆï¼Œå…ƒç´ æ€»æ˜¯ä¼šè¢«æ¸²æŸ“ï¼Œå¹¶ä¸”åªæ˜¯ç®€å•åœ°åŸºäº CSS çš„ display å±æ€§è¿›è¡Œåˆ‡æ¢ã€‚</p>
<p>æ‰€ä»¥ï¼Œv-if é€‚ç”¨äºåœ¨è¿è¡Œæ—¶å¾ˆå°‘æ”¹å˜æ¡ä»¶ï¼Œä¸éœ€è¦é¢‘ç¹åˆ‡æ¢æ¡ä»¶çš„åœºæ™¯ï¼›v-show åˆ™é€‚ç”¨äºéœ€è¦éå¸¸é¢‘ç¹åˆ‡æ¢æ¡ä»¶çš„åœºæ™¯ã€‚</p>
<a id="more"></a> 

<h3 id="1-2ã€computed-å’Œ-watch-åŒºåˆ†ä½¿ç”¨åœºæ™¯"><a href="#1-2ã€computed-å’Œ-watch-åŒºåˆ†ä½¿ç”¨åœºæ™¯" class="headerlink" title="1.2ã€computed å’Œ watch åŒºåˆ†ä½¿ç”¨åœºæ™¯"></a>1.2ã€computed å’Œ watch åŒºåˆ†ä½¿ç”¨åœºæ™¯</h3><p><strong>computedï¼š</strong> æ˜¯è®¡ç®—å±æ€§ï¼Œä¾èµ–å…¶å®ƒå±æ€§å€¼ï¼Œå¹¶ä¸” computed çš„å€¼æœ‰ç¼“å­˜ï¼Œåªæœ‰å®ƒä¾èµ–çš„å±æ€§å€¼å‘ç”Ÿæ”¹å˜ï¼Œä¸‹ä¸€æ¬¡è·å– computed çš„å€¼æ—¶æ‰ä¼šé‡æ–°è®¡ç®— computed çš„å€¼ï¼›</p>
<p><strong>watchï¼š</strong> æ›´å¤šçš„æ˜¯ã€Œè§‚å¯Ÿã€çš„ä½œç”¨ï¼Œç±»ä¼¼äºæŸäº›æ•°æ®çš„ç›‘å¬å›è°ƒ ï¼Œæ¯å½“ç›‘å¬çš„æ•°æ®å˜åŒ–æ—¶éƒ½ä¼šæ‰§è¡Œå›è°ƒè¿›è¡Œåç»­æ“ä½œï¼›</p>
<p><strong>è¿ç”¨åœºæ™¯ï¼š</strong></p>
<ul>
<li>å½“æˆ‘ä»¬éœ€è¦è¿›è¡Œæ•°å€¼è®¡ç®—ï¼Œå¹¶ä¸”ä¾èµ–äºå…¶å®ƒæ•°æ®æ—¶ï¼Œåº”è¯¥ä½¿ç”¨ computedï¼Œå› ä¸ºå¯ä»¥åˆ©ç”¨ computed çš„ç¼“å­˜ç‰¹æ€§ï¼Œé¿å…æ¯æ¬¡è·å–å€¼æ—¶ï¼Œéƒ½è¦é‡æ–°è®¡ç®—ï¼›</li>
<li>å½“æˆ‘ä»¬éœ€è¦åœ¨æ•°æ®å˜åŒ–æ—¶æ‰§è¡Œå¼‚æ­¥æˆ–å¼€é”€è¾ƒå¤§çš„æ“ä½œæ—¶ï¼Œåº”è¯¥ä½¿ç”¨ watchï¼Œä½¿ç”¨ watch é€‰é¡¹å…è®¸æˆ‘ä»¬æ‰§è¡Œå¼‚æ­¥æ“ä½œ ( è®¿é—®ä¸€ä¸ª API )ï¼Œé™åˆ¶æˆ‘ä»¬æ‰§è¡Œè¯¥æ“ä½œçš„é¢‘ç‡ï¼Œå¹¶åœ¨æˆ‘ä»¬å¾—åˆ°æœ€ç»ˆç»“æœå‰ï¼Œè®¾ç½®ä¸­é—´çŠ¶æ€ã€‚è¿™äº›éƒ½æ˜¯è®¡ç®—å±æ€§æ— æ³•åšåˆ°çš„ã€‚</li>
</ul>
<h3 id="1-3ã€v-for-éå†å¿…é¡»ä¸º-item-æ·»åŠ -keyï¼Œä¸”é¿å…åŒæ—¶ä½¿ç”¨-v-if"><a href="#1-3ã€v-for-éå†å¿…é¡»ä¸º-item-æ·»åŠ -keyï¼Œä¸”é¿å…åŒæ—¶ä½¿ç”¨-v-if" class="headerlink" title="1.3ã€v-for éå†å¿…é¡»ä¸º item æ·»åŠ  keyï¼Œä¸”é¿å…åŒæ—¶ä½¿ç”¨ v-if"></a>1.3ã€v-for éå†å¿…é¡»ä¸º item æ·»åŠ  keyï¼Œä¸”é¿å…åŒæ—¶ä½¿ç”¨ v-if</h3><p><strong>ï¼ˆ1ï¼‰v-for éå†å¿…é¡»ä¸º item æ·»åŠ  key</strong></p>
<p>åœ¨åˆ—è¡¨æ•°æ®è¿›è¡Œéå†æ¸²æŸ“æ—¶ï¼Œéœ€è¦ä¸ºæ¯ä¸€é¡¹ item è®¾ç½®å”¯ä¸€ key å€¼ï¼Œæ–¹ä¾¿ Vue.js å†…éƒ¨æœºåˆ¶ç²¾å‡†æ‰¾åˆ°è¯¥æ¡åˆ—è¡¨æ•°æ®ã€‚å½“ state æ›´æ–°æ—¶ï¼Œæ–°çš„çŠ¶æ€å€¼å’Œæ—§çš„çŠ¶æ€å€¼å¯¹æ¯”ï¼Œè¾ƒå¿«åœ°å®šä½åˆ° diff ã€‚</p>
<p><strong>ï¼ˆ2ï¼‰v-for éå†é¿å…åŒæ—¶ä½¿ç”¨ v-if</strong></p>
<p>v-for æ¯” v-if ä¼˜å…ˆçº§é«˜ï¼Œå¦‚æœæ¯ä¸€æ¬¡éƒ½éœ€è¦éå†æ•´ä¸ªæ•°ç»„ï¼Œå°†ä¼šå½±å“é€Ÿåº¦ï¼Œå°¤å…¶æ˜¯å½“ä¹‹éœ€è¦æ¸²æŸ“å¾ˆå°ä¸€éƒ¨åˆ†çš„æ—¶å€™ï¼Œå¿…è¦æƒ…å†µä¸‹åº”è¯¥æ›¿æ¢æˆ computed å±æ€§ã€‚</p>
<p><strong>æ¨èï¼š</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;ul&gt;</span><br><span class="line">  &lt;li</span><br><span class="line">    v-for&#x3D;&quot;user in activeUsers&quot;</span><br><span class="line">    :key&#x3D;&quot;user.id&quot;&gt;</span><br><span class="line">    &#123;&#123; user.name &#125;&#125;</span><br><span class="line">  &lt;&#x2F;li&gt;</span><br><span class="line">&lt;&#x2F;ul&gt;</span><br><span class="line">computed: &#123;</span><br><span class="line">  activeUsers: function () &#123;</span><br><span class="line">    return this.users.filter(function (user) &#123;</span><br><span class="line"> return user.isActive</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<p><strong>ä¸æ¨èï¼š</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;ul&gt;</span><br><span class="line">  &lt;li</span><br><span class="line">    v-for&#x3D;&quot;user in users&quot;</span><br><span class="line">    v-if&#x3D;&quot;user.isActive&quot;</span><br><span class="line">    :key&#x3D;&quot;user.id&quot;&gt;</span><br><span class="line">    &#123;&#123; user.name &#125;&#125;</span><br><span class="line">  &lt;&#x2F;li&gt;</span><br><span class="line">&lt;&#x2F;ul&gt;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<h3 id="1-4ã€é•¿åˆ—è¡¨æ€§èƒ½ä¼˜åŒ–"><a href="#1-4ã€é•¿åˆ—è¡¨æ€§èƒ½ä¼˜åŒ–" class="headerlink" title="1.4ã€é•¿åˆ—è¡¨æ€§èƒ½ä¼˜åŒ–"></a>1.4ã€é•¿åˆ—è¡¨æ€§èƒ½ä¼˜åŒ–</h3><p>Vue ä¼šé€šè¿‡ Object.defineProperty å¯¹æ•°æ®è¿›è¡ŒåŠ«æŒï¼Œæ¥å®ç°è§†å›¾å“åº”æ•°æ®çš„å˜åŒ–ï¼Œç„¶è€Œæœ‰äº›æ—¶å€™æˆ‘ä»¬çš„ç»„ä»¶å°±æ˜¯çº¯ç²¹çš„æ•°æ®å±•ç¤ºï¼Œä¸ä¼šæœ‰ä»»ä½•æ”¹å˜ï¼Œæˆ‘ä»¬å°±ä¸éœ€è¦ Vue æ¥åŠ«æŒæˆ‘ä»¬çš„æ•°æ®ï¼Œåœ¨å¤§é‡æ•°æ®å±•ç¤ºçš„æƒ…å†µä¸‹ï¼Œè¿™èƒ½å¤Ÿå¾ˆæ˜æ˜¾çš„å‡å°‘ç»„ä»¶åˆå§‹åŒ–çš„æ—¶é—´ï¼Œé‚£å¦‚ä½•ç¦æ­¢ Vue åŠ«æŒæˆ‘ä»¬çš„æ•°æ®å‘¢ï¼Ÿå¯ä»¥é€šè¿‡ Object.freeze æ–¹æ³•æ¥å†»ç»“ä¸€ä¸ªå¯¹è±¡ï¼Œä¸€æ—¦è¢«å†»ç»“çš„å¯¹è±¡å°±å†ä¹Ÿä¸èƒ½è¢«ä¿®æ”¹äº†ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export default &#123;</span><br><span class="line">  data: () &#x3D;&gt; (&#123;</span><br><span class="line">    users: &#123;&#125;</span><br><span class="line">  &#125;),</span><br><span class="line">  async created() &#123;</span><br><span class="line">    const users &#x3D; await axios.get(&quot;&#x2F;api&#x2F;users&quot;);</span><br><span class="line">    this.users &#x3D; Object.freeze(users);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<h3 id="1-5ã€äº‹ä»¶çš„é”€æ¯"><a href="#1-5ã€äº‹ä»¶çš„é”€æ¯" class="headerlink" title="1.5ã€äº‹ä»¶çš„é”€æ¯"></a>1.5ã€äº‹ä»¶çš„é”€æ¯</h3><p>Vue ç»„ä»¶é”€æ¯æ—¶ï¼Œä¼šè‡ªåŠ¨æ¸…ç†å®ƒä¸å…¶å®ƒå®ä¾‹çš„è¿æ¥ï¼Œè§£ç»‘å®ƒçš„å…¨éƒ¨æŒ‡ä»¤åŠäº‹ä»¶ç›‘å¬å™¨ï¼Œä½†æ˜¯ä»…é™äºç»„ä»¶æœ¬èº«çš„äº‹ä»¶ã€‚å¦‚æœåœ¨ js å†…ä½¿ç”¨ addEventListene ç­‰æ–¹å¼æ˜¯ä¸ä¼šè‡ªåŠ¨é”€æ¯çš„ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ç»„ä»¶é”€æ¯æ—¶æ‰‹åŠ¨ç§»é™¤è¿™äº›äº‹ä»¶çš„ç›‘å¬ï¼Œä»¥å…é€ æˆå†…å­˜æ³„éœ²ï¼Œå¦‚ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">created() &#123;</span><br><span class="line">  addEventListener(&#39;click&#39;, this.click, false)</span><br><span class="line">&#125;,</span><br><span class="line">beforeDestroy() &#123;</span><br><span class="line">  removeEventListener(&#39;click&#39;, this.click, false)</span><br><span class="line">&#125;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<h3 id="1-6ã€å›¾ç‰‡èµ„æºæ‡’åŠ è½½"><a href="#1-6ã€å›¾ç‰‡èµ„æºæ‡’åŠ è½½" class="headerlink" title="1.6ã€å›¾ç‰‡èµ„æºæ‡’åŠ è½½"></a>1.6ã€å›¾ç‰‡èµ„æºæ‡’åŠ è½½</h3><p>å¯¹äºå›¾ç‰‡è¿‡å¤šçš„é¡µé¢ï¼Œä¸ºäº†åŠ é€Ÿé¡µé¢åŠ è½½é€Ÿåº¦ï¼Œæ‰€ä»¥å¾ˆå¤šæ—¶å€™æˆ‘ä»¬éœ€è¦å°†é¡µé¢å†…æœªå‡ºç°åœ¨å¯è§†åŒºåŸŸå†…çš„å›¾ç‰‡å…ˆä¸åšåŠ è½½ï¼Œ ç­‰åˆ°æ»šåŠ¨åˆ°å¯è§†åŒºåŸŸåå†å»åŠ è½½ã€‚è¿™æ ·å¯¹äºé¡µé¢åŠ è½½æ€§èƒ½ä¸Šä¼šæœ‰å¾ˆå¤§çš„æå‡ï¼Œä¹Ÿæé«˜äº†ç”¨æˆ·ä½“éªŒã€‚æˆ‘ä»¬åœ¨é¡¹ç›®ä¸­ä½¿ç”¨ Vue çš„ vue-lazyload æ’ä»¶ï¼š</p>
<p>ï¼ˆ1ï¼‰å®‰è£…æ’ä»¶</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install vue-lazyload --save-dev</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<p>ï¼ˆ2ï¼‰åœ¨å…¥å£æ–‡ä»¶ man.js ä¸­å¼•å…¥å¹¶ä½¿ç”¨</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import VueLazyload from &#39;vue-lazyload&#39;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<p>ç„¶åå† vue ä¸­ç›´æ¥ä½¿ç”¨</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Vue.use(VueLazyload)</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<p>æˆ–è€…æ·»åŠ è‡ªå®šä¹‰é€‰é¡¹</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Vue.use(VueLazyload, &#123;</span><br><span class="line">preLoad: 1.3,</span><br><span class="line">error: &#39;dist&#x2F;error.png&#39;,</span><br><span class="line">loading: &#39;dist&#x2F;loading.gif&#39;,</span><br><span class="line">attempt: 1</span><br><span class="line">&#125;)</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<p>ï¼ˆ3ï¼‰åœ¨ vue æ–‡ä»¶ä¸­å°† img æ ‡ç­¾çš„ src å±æ€§ç›´æ¥æ”¹ä¸º v-lazy ï¼Œä»è€Œå°†å›¾ç‰‡æ˜¾ç¤ºæ–¹å¼æ›´æ”¹ä¸ºæ‡’åŠ è½½æ˜¾ç¤ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;img v-lazy&#x3D;&quot;&#x2F;static&#x2F;img&#x2F;1.png&quot;&gt;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<p>ä»¥ä¸Šä¸º vue-lazyload æ’ä»¶çš„ç®€å•ä½¿ç”¨ï¼Œå¦‚æœè¦çœ‹æ’ä»¶çš„æ›´å¤šå‚æ•°é€‰é¡¹ï¼Œå¯ä»¥æŸ¥çœ‹ vue-lazyload çš„ github åœ°å€ã€‚</p>
<h3 id="1-7ã€è·¯ç”±æ‡’åŠ è½½"><a href="#1-7ã€è·¯ç”±æ‡’åŠ è½½" class="headerlink" title="1.7ã€è·¯ç”±æ‡’åŠ è½½"></a>1.7ã€è·¯ç”±æ‡’åŠ è½½</h3><p>Vue æ˜¯å•é¡µé¢åº”ç”¨ï¼Œå¯èƒ½ä¼šæœ‰å¾ˆå¤šçš„è·¯ç”±å¼•å…¥ ï¼Œè¿™æ ·ä½¿ç”¨ webpcak æ‰“åŒ…åçš„æ–‡ä»¶å¾ˆå¤§ï¼Œå½“è¿›å…¥é¦–é¡µæ—¶ï¼ŒåŠ è½½çš„èµ„æºè¿‡å¤šï¼Œé¡µé¢ä¼šå‡ºç°ç™½å±çš„æƒ…å†µï¼Œä¸åˆ©äºç”¨æˆ·ä½“éªŒã€‚å¦‚æœæˆ‘ä»¬èƒ½æŠŠä¸åŒè·¯ç”±å¯¹åº”çš„ç»„ä»¶åˆ†å‰²æˆä¸åŒçš„ä»£ç å—ï¼Œç„¶åå½“è·¯ç”±è¢«è®¿é—®çš„æ—¶å€™æ‰åŠ è½½å¯¹åº”çš„ç»„ä»¶ï¼Œè¿™æ ·å°±æ›´åŠ é«˜æ•ˆäº†ã€‚è¿™æ ·ä¼šå¤§å¤§æé«˜é¦–å±æ˜¾ç¤ºçš„é€Ÿåº¦ï¼Œä½†æ˜¯å¯èƒ½å…¶ä»–çš„é¡µé¢çš„é€Ÿåº¦å°±ä¼šé™ä¸‹æ¥ã€‚</p>
<p><strong>è·¯ç”±æ‡’åŠ è½½ï¼š</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const Foo &#x3D; () &#x3D;&gt; import(&#39;.&#x2F;Foo.vue&#39;)</span><br><span class="line">const router &#x3D; new VueRouter(&#123;</span><br><span class="line">  routes: [</span><br><span class="line">    &#123; path: &#39;&#x2F;foo&#39;, component: Foo &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;)</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<h3 id="1-8ã€ç¬¬ä¸‰æ–¹æ’ä»¶çš„æŒ‰éœ€å¼•å…¥"><a href="#1-8ã€ç¬¬ä¸‰æ–¹æ’ä»¶çš„æŒ‰éœ€å¼•å…¥" class="headerlink" title="1.8ã€ç¬¬ä¸‰æ–¹æ’ä»¶çš„æŒ‰éœ€å¼•å…¥"></a>1.8ã€ç¬¬ä¸‰æ–¹æ’ä»¶çš„æŒ‰éœ€å¼•å…¥</h3><p>æˆ‘ä»¬åœ¨é¡¹ç›®ä¸­ç»å¸¸ä¼šéœ€è¦å¼•å…¥ç¬¬ä¸‰æ–¹æ’ä»¶ï¼Œå¦‚æœæˆ‘ä»¬ç›´æ¥å¼•å…¥æ•´ä¸ªæ’ä»¶ï¼Œä¼šå¯¼è‡´é¡¹ç›®çš„ä½“ç§¯å¤ªå¤§ï¼Œæˆ‘ä»¬å¯ä»¥å€ŸåŠ© <code>babel-plugin-component</code> ï¼Œç„¶åå¯ä»¥åªå¼•å…¥éœ€è¦çš„ç»„ä»¶ï¼Œä»¥è¾¾åˆ°å‡å°é¡¹ç›®ä½“ç§¯çš„ç›®çš„ã€‚ä»¥ä¸‹ä¸ºé¡¹ç›®ä¸­å¼•å…¥ element-ui ç»„ä»¶åº“ä¸ºä¾‹ï¼š</p>
<p>ï¼ˆ1ï¼‰é¦–å…ˆï¼Œå®‰è£… <code>babel-plugin-component</code> ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install babel-plugin-component -D</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<p>ï¼ˆ2ï¼‰ç„¶åï¼Œå°† .babelrc ä¿®æ”¹ä¸ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;presets&quot;: [[&quot;es2015&quot;, &#123; &quot;modules&quot;: false &#125;]],</span><br><span class="line">  &quot;plugins&quot;: [</span><br><span class="line">    [</span><br><span class="line">      &quot;component&quot;,</span><br><span class="line">      &#123;</span><br><span class="line">        &quot;libraryName&quot;: &quot;element-ui&quot;,</span><br><span class="line">        &quot;styleLibraryName&quot;: &quot;theme-chalk&quot;</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<p>ï¼ˆ3ï¼‰åœ¨ main.js ä¸­å¼•å…¥éƒ¨åˆ†ç»„ä»¶ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import Vue from &#39;vue&#39;;</span><br><span class="line">import &#123; Button, Select &#125; from &#39;element-ui&#39;;</span><br><span class="line"></span><br><span class="line"> Vue.use(Button)</span><br><span class="line"> Vue.use(Select)</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<h3 id="1-9ã€ä¼˜åŒ–æ— é™åˆ—è¡¨æ€§èƒ½"><a href="#1-9ã€ä¼˜åŒ–æ— é™åˆ—è¡¨æ€§èƒ½" class="headerlink" title="1.9ã€ä¼˜åŒ–æ— é™åˆ—è¡¨æ€§èƒ½"></a>1.9ã€ä¼˜åŒ–æ— é™åˆ—è¡¨æ€§èƒ½</h3><p>å¦‚æœä½ çš„åº”ç”¨å­˜åœ¨éå¸¸é•¿æˆ–è€…æ— é™æ»šåŠ¨çš„åˆ—è¡¨ï¼Œé‚£ä¹ˆéœ€è¦é‡‡ç”¨ çª—å£åŒ– çš„æŠ€æœ¯æ¥ä¼˜åŒ–æ€§èƒ½ï¼Œåªéœ€è¦æ¸²æŸ“å°‘éƒ¨åˆ†åŒºåŸŸçš„å†…å®¹ï¼Œå‡å°‘é‡æ–°æ¸²æŸ“ç»„ä»¶å’Œåˆ›å»º dom èŠ‚ç‚¹çš„æ—¶é—´ã€‚ä½ å¯ä»¥å‚è€ƒä»¥ä¸‹å¼€æºé¡¹ç›® vue-virtual-scroll-list å’Œ vue-virtual-scroller æ¥ä¼˜åŒ–è¿™ç§æ— é™åˆ—è¡¨çš„åœºæ™¯çš„ã€‚</p>
<h3 id="1-10ã€æœåŠ¡ç«¯æ¸²æŸ“-SSR-or-é¢„æ¸²æŸ“"><a href="#1-10ã€æœåŠ¡ç«¯æ¸²æŸ“-SSR-or-é¢„æ¸²æŸ“" class="headerlink" title="1.10ã€æœåŠ¡ç«¯æ¸²æŸ“ SSR or é¢„æ¸²æŸ“"></a>1.10ã€æœåŠ¡ç«¯æ¸²æŸ“ SSR or é¢„æ¸²æŸ“</h3><p>æœåŠ¡ç«¯æ¸²æŸ“æ˜¯æŒ‡ Vue åœ¨å®¢æˆ·ç«¯å°†æ ‡ç­¾æ¸²æŸ“æˆçš„æ•´ä¸ª html ç‰‡æ®µçš„å·¥ä½œåœ¨æœåŠ¡ç«¯å®Œæˆï¼ŒæœåŠ¡ç«¯å½¢æˆçš„ html ç‰‡æ®µç›´æ¥è¿”å›ç»™å®¢æˆ·ç«¯è¿™ä¸ªè¿‡ç¨‹å°±å«åšæœåŠ¡ç«¯æ¸²æŸ“ã€‚</p>
<p><strong>ï¼ˆ1ï¼‰æœåŠ¡ç«¯æ¸²æŸ“çš„ä¼˜ç‚¹ï¼š</strong></p>
<ul>
<li>æ›´å¥½çš„ SEOï¼šå› ä¸º SPA é¡µé¢çš„å†…å®¹æ˜¯é€šè¿‡ Ajax è·å–ï¼Œè€Œæœç´¢å¼•æ“çˆ¬å–å·¥å…·å¹¶ä¸ä¼šç­‰å¾… Ajax å¼‚æ­¥å®Œæˆåå†æŠ“å–é¡µé¢å†…å®¹ï¼Œæ‰€ä»¥åœ¨ SPA ä¸­æ˜¯æŠ“å–ä¸åˆ°é¡µé¢é€šè¿‡ Ajax è·å–åˆ°çš„å†…å®¹ï¼›è€Œ SSR æ˜¯ç›´æ¥ç”±æœåŠ¡ç«¯è¿”å›å·²ç»æ¸²æŸ“å¥½çš„é¡µé¢ï¼ˆæ•°æ®å·²ç»åŒ…å«åœ¨é¡µé¢ä¸­ï¼‰ï¼Œæ‰€ä»¥æœç´¢å¼•æ“çˆ¬å–å·¥å…·å¯ä»¥æŠ“å–æ¸²æŸ“å¥½çš„é¡µé¢ï¼›</li>
<li>æ›´å¿«çš„å†…å®¹åˆ°è¾¾æ—¶é—´ï¼ˆé¦–å±åŠ è½½æ›´å¿«ï¼‰ï¼šSPA ä¼šç­‰å¾…æ‰€æœ‰ Vue ç¼–è¯‘åçš„ js æ–‡ä»¶éƒ½ä¸‹è½½å®Œæˆåï¼Œæ‰å¼€å§‹è¿›è¡Œé¡µé¢çš„æ¸²æŸ“ï¼Œæ–‡ä»¶ä¸‹è½½ç­‰éœ€è¦ä¸€å®šçš„æ—¶é—´ç­‰ï¼Œæ‰€ä»¥é¦–å±æ¸²æŸ“éœ€è¦ä¸€å®šçš„æ—¶é—´ï¼›SSR ç›´æ¥ç”±æœåŠ¡ç«¯æ¸²æŸ“å¥½é¡µé¢ç›´æ¥è¿”å›æ˜¾ç¤ºï¼Œæ— éœ€ç­‰å¾…ä¸‹è½½ js æ–‡ä»¶åŠå†å»æ¸²æŸ“ç­‰ï¼Œæ‰€ä»¥ SSR æœ‰æ›´å¿«çš„å†…å®¹åˆ°è¾¾æ—¶é—´ï¼›</li>
</ul>
<p><strong>ï¼ˆ2ï¼‰æœåŠ¡ç«¯æ¸²æŸ“çš„ç¼ºç‚¹ï¼š</strong></p>
<ul>
<li>æ›´å¤šçš„å¼€å‘æ¡ä»¶é™åˆ¶ï¼šä¾‹å¦‚æœåŠ¡ç«¯æ¸²æŸ“åªæ”¯æŒ beforCreate å’Œ created ä¸¤ä¸ªé’©å­å‡½æ•°ï¼Œè¿™ä¼šå¯¼è‡´ä¸€äº›å¤–éƒ¨æ‰©å±•åº“éœ€è¦ç‰¹æ®Šå¤„ç†ï¼Œæ‰èƒ½åœ¨æœåŠ¡ç«¯æ¸²æŸ“åº”ç”¨ç¨‹åºä¸­è¿è¡Œï¼›å¹¶ä¸”ä¸å¯ä»¥éƒ¨ç½²åœ¨ä»»ä½•é™æ€æ–‡ä»¶æœåŠ¡å™¨ä¸Šçš„å®Œå…¨é™æ€å•é¡µé¢åº”ç”¨ç¨‹åº SPA ä¸åŒï¼ŒæœåŠ¡ç«¯æ¸²æŸ“åº”ç”¨ç¨‹åºï¼Œéœ€è¦å¤„äº Node.js server è¿è¡Œç¯å¢ƒï¼›</li>
<li>æ›´å¤šçš„æœåŠ¡å™¨è´Ÿè½½ï¼šåœ¨ Node.js ä¸­æ¸²æŸ“å®Œæ•´çš„åº”ç”¨ç¨‹åºï¼Œæ˜¾ç„¶ä¼šæ¯”ä»…ä»…æä¾›é™æ€æ–‡ä»¶çš„ server æ›´åŠ å¤§é‡å ç”¨CPU èµ„æºï¼Œå› æ­¤å¦‚æœä½ é¢„æ–™åœ¨é«˜æµé‡ç¯å¢ƒä¸‹ä½¿ç”¨ï¼Œè¯·å‡†å¤‡ç›¸åº”çš„æœåŠ¡å™¨è´Ÿè½½ï¼Œå¹¶æ˜æ™ºåœ°é‡‡ç”¨ç¼“å­˜ç­–ç•¥ã€‚</li>
</ul>
<p>å¦‚æœä½ çš„é¡¹ç›®çš„ SEO å’Œ é¦–å±æ¸²æŸ“æ˜¯è¯„ä»·é¡¹ç›®çš„å…³é”®æŒ‡æ ‡ï¼Œé‚£ä¹ˆä½ çš„é¡¹ç›®å°±éœ€è¦æœåŠ¡ç«¯æ¸²æŸ“æ¥å¸®åŠ©ä½ å®ç°æœ€ä½³çš„åˆå§‹åŠ è½½æ€§èƒ½å’Œ SEOï¼Œå…·ä½“çš„ Vue SSR å¦‚ä½•å®ç°ï¼Œå¯ä»¥å‚è€ƒä½œè€…çš„å¦ä¸€ç¯‡æ–‡ç« ã€ŠVue SSR è¸©å‘ä¹‹æ—…ã€‹ã€‚å¦‚æœä½ çš„ Vue é¡¹ç›®åªéœ€æ”¹å–„å°‘æ•°è¥é”€é¡µé¢ï¼ˆä¾‹å¦‚  <code>/ï¼Œ /aboutï¼Œ /contac</code>t ç­‰ï¼‰çš„ SEOï¼Œé‚£ä¹ˆä½ å¯èƒ½éœ€è¦<strong>é¢„æ¸²æŸ“</strong>ï¼Œåœ¨æ„å»ºæ—¶ (build time) ç®€å•åœ°ç”Ÿæˆé’ˆå¯¹ç‰¹å®šè·¯ç”±çš„é™æ€ HTML æ–‡ä»¶ã€‚ä¼˜ç‚¹æ˜¯è®¾ç½®é¢„æ¸²æŸ“æ›´ç®€å•ï¼Œå¹¶å¯ä»¥å°†ä½ çš„å‰ç«¯ä½œä¸ºä¸€ä¸ªå®Œå…¨é™æ€çš„ç«™ç‚¹ï¼Œå…·ä½“ä½ å¯ä»¥ä½¿ç”¨ prerender-spa-plugin å°±å¯ä»¥è½»æ¾åœ°æ·»åŠ é¢„æ¸²æŸ“ ã€‚</p>
<h2 id="äºŒã€Webpack-å±‚é¢çš„ä¼˜åŒ–"><a href="#äºŒã€Webpack-å±‚é¢çš„ä¼˜åŒ–" class="headerlink" title="äºŒã€Webpack å±‚é¢çš„ä¼˜åŒ–"></a>äºŒã€Webpack å±‚é¢çš„ä¼˜åŒ–</h2><h3 id="2-1ã€Webpack-å¯¹å›¾ç‰‡è¿›è¡Œå‹ç¼©"><a href="#2-1ã€Webpack-å¯¹å›¾ç‰‡è¿›è¡Œå‹ç¼©" class="headerlink" title="2.1ã€Webpack å¯¹å›¾ç‰‡è¿›è¡Œå‹ç¼©"></a>2.1ã€Webpack å¯¹å›¾ç‰‡è¿›è¡Œå‹ç¼©</h3><p>åœ¨ vue é¡¹ç›®ä¸­é™¤äº†å¯ä»¥åœ¨ <code>webpack.base.conf.js</code> ä¸­ url-loader ä¸­è®¾ç½® limit å¤§å°æ¥å¯¹å›¾ç‰‡å¤„ç†ï¼Œå¯¹å°äº limit çš„å›¾ç‰‡è½¬åŒ–ä¸º base64 æ ¼å¼ï¼Œå…¶ä½™çš„ä¸åšæ“ä½œã€‚æ‰€ä»¥å¯¹æœ‰äº›è¾ƒå¤§çš„å›¾ç‰‡èµ„æºï¼Œåœ¨è¯·æ±‚èµ„æºçš„æ—¶å€™ï¼ŒåŠ è½½ä¼šå¾ˆæ…¢ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ <code>image-webpack-loader</code>æ¥å‹ç¼©å›¾ç‰‡ï¼š</p>
<p>ï¼ˆ1ï¼‰é¦–å…ˆï¼Œå®‰è£… image-webpack-loader ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install image-webpack-loader --save-dev</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<p>ï¼ˆ2ï¼‰ç„¶åï¼Œåœ¨ webpack.base.conf.js ä¸­è¿›è¡Œé…ç½®ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  test: &#x2F;\.(png|jpe?g|gif|svg)(\?.*)?$&#x2F;,</span><br><span class="line">  use:[</span><br><span class="line">    &#123;</span><br><span class="line">    loader: &#39;url-loader&#39;,</span><br><span class="line">    options: &#123;</span><br><span class="line">      limit: 10000,</span><br><span class="line">      name: utils.assetsPath(&#39;img&#x2F;[name].[hash:7].[ext]&#39;)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      loader: &#39;image-webpack-loader&#39;,</span><br><span class="line">      options: &#123;</span><br><span class="line">        bypassOnDebug: true,</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<h3 id="2-2ã€å‡å°‘-ES6-è½¬ä¸º-ES5-çš„å†—ä½™ä»£ç "><a href="#2-2ã€å‡å°‘-ES6-è½¬ä¸º-ES5-çš„å†—ä½™ä»£ç " class="headerlink" title="2.2ã€å‡å°‘ ES6 è½¬ä¸º ES5 çš„å†—ä½™ä»£ç "></a>2.2ã€å‡å°‘ ES6 è½¬ä¸º ES5 çš„å†—ä½™ä»£ç </h3><p>Babel æ’ä»¶ä¼šåœ¨å°† ES6 ä»£ç è½¬æ¢æˆ ES5 ä»£ç æ—¶ä¼šæ³¨å…¥ä¸€äº›è¾…åŠ©å‡½æ•°ï¼Œä¾‹å¦‚ä¸‹é¢çš„ ES6 ä»£ç ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class HelloWebpack extends Component&#123;...&#125;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<p>è¿™æ®µä»£ç å†è¢«è½¬æ¢æˆèƒ½æ­£å¸¸è¿è¡Œçš„ ES5 ä»£ç æ—¶éœ€è¦ä»¥ä¸‹ä¸¤ä¸ªè¾…åŠ©å‡½æ•°ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">babel-runtime&#x2F;helpers&#x2F;createClass  &#x2F;&#x2F; ç”¨äºå®ç° class è¯­æ³•</span><br><span class="line">babel-runtime&#x2F;helpers&#x2F;inherits  &#x2F;&#x2F; ç”¨äºå®ç° extends è¯­æ³•</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<p>åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼Œ Babel ä¼šåœ¨æ¯ä¸ªè¾“å‡ºæ–‡ä»¶ä¸­å†…åµŒè¿™äº›ä¾èµ–çš„è¾…åŠ©å‡½æ•°ä»£ç ï¼Œå¦‚æœå¤šä¸ªæºä»£ç æ–‡ä»¶éƒ½ä¾èµ–è¿™äº›è¾…åŠ©å‡½æ•°ï¼Œé‚£ä¹ˆè¿™äº›è¾…åŠ©å‡½æ•°çš„ä»£ç å°†ä¼šå‡ºç°å¾ˆå¤šæ¬¡ï¼Œé€ æˆä»£ç å†—ä½™ã€‚ä¸ºäº†ä¸è®©è¿™äº›è¾…åŠ©å‡½æ•°çš„ä»£ç é‡å¤å‡ºç°ï¼Œå¯ä»¥åœ¨ä¾èµ–å®ƒä»¬æ—¶é€šè¿‡ <code>require(&#39;babel-runtime/helpers/createClass&#39;)</code> çš„æ–¹å¼å¯¼å…¥ï¼Œè¿™æ ·å°±èƒ½åšåˆ°åªè®©å®ƒä»¬å‡ºç°ä¸€æ¬¡ã€‚<code>babel-plugin-transform-runtime</code> æ’ä»¶å°±æ˜¯ç”¨æ¥å®ç°è¿™ä¸ªä½œç”¨çš„ï¼Œå°†ç›¸å…³è¾…åŠ©å‡½æ•°è¿›è¡Œæ›¿æ¢æˆå¯¼å…¥è¯­å¥ï¼Œä»è€Œå‡å° babel ç¼–è¯‘å‡ºæ¥çš„ä»£ç çš„æ–‡ä»¶å¤§å°ã€‚</p>
<p>ï¼ˆ1ï¼‰é¦–å…ˆï¼Œå®‰è£… <code>babel-plugin-transform-runtime</code> ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install babel-plugin-transform-runtime --save-dev</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<p>ï¼ˆ2ï¼‰ç„¶åï¼Œä¿®æ”¹ .babelrc é…ç½®æ–‡ä»¶ä¸ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&quot;plugins&quot;: [</span><br><span class="line">    &quot;transform-runtime&quot;</span><br><span class="line">]</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<p>å¦‚æœè¦çœ‹æ’ä»¶çš„æ›´å¤šè¯¦ç»†å†…å®¹ï¼Œå¯ä»¥æŸ¥çœ‹babel-plugin-transform-runtime çš„ è¯¦ç»†ä»‹ç»ã€‚</p>
<h3 id="2-3ã€æå–å…¬å…±ä»£ç "><a href="#2-3ã€æå–å…¬å…±ä»£ç " class="headerlink" title="2.3ã€æå–å…¬å…±ä»£ç "></a>2.3ã€æå–å…¬å…±ä»£ç </h3><p>å¦‚æœé¡¹ç›®ä¸­æ²¡æœ‰å»å°†æ¯ä¸ªé¡µé¢çš„ç¬¬ä¸‰æ–¹åº“å’Œå…¬å…±æ¨¡å—æå–å‡ºæ¥ï¼Œåˆ™é¡¹ç›®ä¼šå­˜åœ¨ä»¥ä¸‹é—®é¢˜ï¼š</p>
<ul>
<li>ç›¸åŒçš„èµ„æºè¢«é‡å¤åŠ è½½ï¼Œæµªè´¹ç”¨æˆ·çš„æµé‡å’ŒæœåŠ¡å™¨çš„æˆæœ¬ã€‚</li>
<li>æ¯ä¸ªé¡µé¢éœ€è¦åŠ è½½çš„èµ„æºå¤ªå¤§ï¼Œå¯¼è‡´ç½‘é¡µé¦–å±åŠ è½½ç¼“æ…¢ï¼Œå½±å“ç”¨æˆ·ä½“éªŒã€‚</li>
</ul>
<p>æ‰€ä»¥æˆ‘ä»¬éœ€è¦å°†å¤šä¸ªé¡µé¢çš„å…¬å…±ä»£ç æŠ½ç¦»æˆå•ç‹¬çš„æ–‡ä»¶ï¼Œæ¥ä¼˜åŒ–ä»¥ä¸Šé—®é¢˜ ã€‚Webpack å†…ç½®äº†ä¸“é—¨ç”¨äºæå–å¤šä¸ªChunk ä¸­çš„å…¬å…±éƒ¨åˆ†çš„æ’ä»¶ CommonsChunkPluginï¼Œæˆ‘ä»¬åœ¨é¡¹ç›®ä¸­ CommonsChunkPlugin çš„é…ç½®å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; æ‰€æœ‰åœ¨ package.json é‡Œé¢ä¾èµ–çš„åŒ…ï¼Œéƒ½ä¼šè¢«æ‰“åŒ…è¿› vendor.js è¿™ä¸ªæ–‡ä»¶ä¸­ã€‚</span><br><span class="line">new webpack.optimize.CommonsChunkPlugin(&#123;</span><br><span class="line">  name: &#39;vendor&#39;,</span><br><span class="line">  minChunks: function(module, count) &#123;</span><br><span class="line">    return (</span><br><span class="line">      module.resource &amp;&amp;</span><br><span class="line">      &#x2F;\.js$&#x2F;.test(module.resource) &amp;&amp;</span><br><span class="line">      module.resource.indexOf(</span><br><span class="line">        path.join(__dirname, &#39;..&#x2F;node_modules&#39;)</span><br><span class="line">      ) &#x3D;&#x3D;&#x3D; 0</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;),</span><br><span class="line">&#x2F;&#x2F; æŠ½å–å‡ºä»£ç æ¨¡å—çš„æ˜ å°„å…³ç³»</span><br><span class="line">new webpack.optimize.CommonsChunkPlugin(&#123;</span><br><span class="line">  name: &#39;manifest&#39;,</span><br><span class="line">  chunks: [&#39;vendor&#39;]</span><br><span class="line">&#125;)</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<p>å¦‚æœè¦çœ‹æ’ä»¶çš„æ›´å¤šè¯¦ç»†å†…å®¹ï¼Œå¯ä»¥æŸ¥çœ‹ CommonsChunkPlugin çš„ è¯¦ç»†ä»‹ç»ã€‚</p>
<h3 id="2-4ã€æ¨¡æ¿é¢„ç¼–è¯‘"><a href="#2-4ã€æ¨¡æ¿é¢„ç¼–è¯‘" class="headerlink" title="2.4ã€æ¨¡æ¿é¢„ç¼–è¯‘"></a>2.4ã€æ¨¡æ¿é¢„ç¼–è¯‘</h3><p>å½“ä½¿ç”¨ DOM å†…æ¨¡æ¿æˆ– JavaScript å†…çš„å­—ç¬¦ä¸²æ¨¡æ¿æ—¶ï¼Œæ¨¡æ¿ä¼šåœ¨è¿è¡Œæ—¶è¢«ç¼–è¯‘ä¸ºæ¸²æŸ“å‡½æ•°ã€‚é€šå¸¸æƒ…å†µä¸‹è¿™ä¸ªè¿‡ç¨‹å·²ç»è¶³å¤Ÿå¿«äº†ï¼Œä½†å¯¹æ€§èƒ½æ•æ„Ÿçš„åº”ç”¨è¿˜æ˜¯æœ€å¥½é¿å…è¿™ç§ç”¨æ³•ã€‚</p>
<p>é¢„ç¼–è¯‘æ¨¡æ¿æœ€ç®€å•çš„æ–¹å¼å°±æ˜¯ä½¿ç”¨å•æ–‡ä»¶ç»„ä»¶â€”â€”ç›¸å…³çš„æ„å»ºè®¾ç½®ä¼šè‡ªåŠ¨æŠŠé¢„ç¼–è¯‘å¤„ç†å¥½ï¼Œæ‰€ä»¥æ„å»ºå¥½çš„ä»£ç å·²ç»åŒ…å«äº†ç¼–è¯‘å‡ºæ¥çš„æ¸²æŸ“å‡½æ•°è€Œä¸æ˜¯åŸå§‹çš„æ¨¡æ¿å­—ç¬¦ä¸²ã€‚</p>
<p>å¦‚æœä½ ä½¿ç”¨ webpackï¼Œå¹¶ä¸”å–œæ¬¢åˆ†ç¦» JavaScript å’Œæ¨¡æ¿æ–‡ä»¶ï¼Œä½ å¯ä»¥ä½¿ç”¨ vue-template-loaderï¼Œå®ƒä¹Ÿå¯ä»¥åœ¨æ„å»ºè¿‡ç¨‹ä¸­æŠŠæ¨¡æ¿æ–‡ä»¶è½¬æ¢æˆä¸º JavaScript æ¸²æŸ“å‡½æ•°ã€‚</p>
<h3 id="2-5ã€æå–ç»„ä»¶çš„-CSS"><a href="#2-5ã€æå–ç»„ä»¶çš„-CSS" class="headerlink" title="2.5ã€æå–ç»„ä»¶çš„ CSS"></a>2.5ã€æå–ç»„ä»¶çš„ CSS</h3><p>å½“ä½¿ç”¨å•æ–‡ä»¶ç»„ä»¶æ—¶ï¼Œç»„ä»¶å†…çš„ CSS ä¼šä»¥ style æ ‡ç­¾çš„æ–¹å¼é€šè¿‡ JavaScript åŠ¨æ€æ³¨å…¥ã€‚è¿™æœ‰ä¸€äº›å°å°çš„è¿è¡Œæ—¶å¼€é”€ï¼Œå¦‚æœä½ ä½¿ç”¨æœåŠ¡ç«¯æ¸²æŸ“ï¼Œè¿™ä¼šå¯¼è‡´ä¸€æ®µ â€œæ— æ ·å¼å†…å®¹é—ªçƒ (fouc) â€ ã€‚å°†æ‰€æœ‰ç»„ä»¶çš„ CSS æå–åˆ°åŒä¸€ä¸ªæ–‡ä»¶å¯ä»¥é¿å…è¿™ä¸ªé—®é¢˜ï¼Œä¹Ÿä¼šè®© CSS æ›´å¥½åœ°è¿›è¡Œå‹ç¼©å’Œç¼“å­˜ã€‚</p>
<p>æŸ¥é˜…è¿™ä¸ªæ„å»ºå·¥å…·å„è‡ªçš„æ–‡æ¡£æ¥äº†è§£æ›´å¤šï¼š</p>
<ul>
<li>webpack + vue-loader ( vue-cli çš„ webpack æ¨¡æ¿å·²ç»é¢„å…ˆé…ç½®å¥½)</li>
<li>Browserify + vueify</li>
<li>Rollup + rollup-plugin-vue</li>
</ul>
<h3 id="2-6ã€ä¼˜åŒ–-SourceMap"><a href="#2-6ã€ä¼˜åŒ–-SourceMap" class="headerlink" title="2.6ã€ä¼˜åŒ– SourceMap"></a>2.6ã€ä¼˜åŒ– SourceMap</h3><p>æˆ‘ä»¬åœ¨é¡¹ç›®è¿›è¡Œæ‰“åŒ…åï¼Œä¼šå°†å¼€å‘ä¸­çš„å¤šä¸ªæ–‡ä»¶ä»£ç æ‰“åŒ…åˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œå¹¶ä¸”ç»è¿‡å‹ç¼©ã€å»æ‰å¤šä½™çš„ç©ºæ ¼ã€babelç¼–è¯‘åŒ–åï¼Œæœ€ç»ˆå°†ç¼–è¯‘å¾—åˆ°çš„ä»£ç ä¼šç”¨äºçº¿ä¸Šç¯å¢ƒï¼Œé‚£ä¹ˆè¿™æ ·å¤„ç†åçš„ä»£ç å’Œæºä»£ç ä¼šæœ‰å¾ˆå¤§çš„å·®åˆ«ï¼Œå½“æœ‰ bugçš„æ—¶å€™ï¼Œæˆ‘ä»¬åªèƒ½å®šä½åˆ°å‹ç¼©å¤„ç†åçš„ä»£ç ä½ç½®ï¼Œæ— æ³•å®šä½åˆ°å¼€å‘ç¯å¢ƒä¸­çš„ä»£ç ï¼Œå¯¹äºå¼€å‘æ¥è¯´ä¸å¥½è°ƒå¼å®šä½é—®é¢˜ï¼Œå› æ­¤ sourceMap å‡ºç°äº†ï¼Œå®ƒå°±æ˜¯ä¸ºäº†è§£å†³ä¸å¥½è°ƒå¼ä»£ç é—®é¢˜çš„ã€‚</p>
<p>SourceMap çš„å¯é€‰å€¼å¦‚ä¸‹ï¼ˆ+ å·è¶Šå¤šï¼Œä»£è¡¨é€Ÿåº¦è¶Šå¿«ï¼Œ- å·è¶Šå¤šï¼Œä»£è¡¨é€Ÿåº¦è¶Šæ…¢, o ä»£è¡¨ä¸­ç­‰é€Ÿåº¦ ï¼‰</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz/1NOXMW586uuZnAApLr38mFVUApdS1l7pxWJBXQWCcpo02gia9Py9xx27CvQOnOmVEkJtKXibzcCCtJuRl9Ujwx3Q/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="å›¾ç‰‡">1.png</p>
<p><strong>å¼€å‘ç¯å¢ƒæ¨èï¼šcheap-module-eval-source-map</strong></p>
<p><strong>ç”Ÿäº§ç¯å¢ƒæ¨èï¼šcheap-module-source-map</strong></p>
<p>åŸå› å¦‚ä¸‹ï¼š</p>
<ul>
<li><strong>cheap</strong>ï¼šæºä»£ç ä¸­çš„åˆ—ä¿¡æ¯æ˜¯æ²¡æœ‰ä»»ä½•ä½œç”¨ï¼Œå› æ­¤æˆ‘ä»¬æ‰“åŒ…åçš„æ–‡ä»¶ä¸å¸Œæœ›åŒ…å«åˆ—ç›¸å…³ä¿¡æ¯ï¼Œåªæœ‰è¡Œä¿¡æ¯èƒ½å»ºç«‹æ‰“åŒ…å‰åçš„ä¾èµ–å…³ç³»ã€‚å› æ­¤ä¸ç®¡æ˜¯å¼€å‘ç¯å¢ƒæˆ–ç”Ÿäº§ç¯å¢ƒï¼Œæˆ‘ä»¬éƒ½å¸Œæœ›æ·»åŠ  cheap çš„åŸºæœ¬ç±»å‹æ¥å¿½ç•¥æ‰“åŒ…å‰åçš„åˆ—ä¿¡æ¯ï¼›</li>
<li><strong>module</strong> ï¼šä¸ç®¡æ˜¯å¼€å‘ç¯å¢ƒè¿˜æ˜¯æ­£å¼ç¯å¢ƒï¼Œæˆ‘ä»¬éƒ½å¸Œæœ›èƒ½å®šä½åˆ°bugçš„æºä»£ç å…·ä½“çš„ä½ç½®ï¼Œæ¯”å¦‚è¯´æŸä¸ª Vue æ–‡ä»¶æŠ¥é”™äº†ï¼Œæˆ‘ä»¬å¸Œæœ›èƒ½å®šä½åˆ°å…·ä½“çš„ Vue æ–‡ä»¶ï¼Œå› æ­¤æˆ‘ä»¬ä¹Ÿéœ€è¦ module é…ç½®ï¼›</li>
<li><strong>soure-map</strong> ï¼šsource-map ä¼šä¸ºæ¯ä¸€ä¸ªæ‰“åŒ…åçš„æ¨¡å—ç”Ÿæˆç‹¬ç«‹çš„ soucemap æ–‡ä»¶ ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦å¢åŠ source-map å±æ€§ï¼›</li>
<li><strong>eval-source-map</strong>ï¼ševal æ‰“åŒ…ä»£ç çš„é€Ÿåº¦éå¸¸å¿«ï¼Œå› ä¸ºå®ƒä¸ç”Ÿæˆ map æ–‡ä»¶ï¼Œä½†æ˜¯å¯ä»¥å¯¹ eval ç»„åˆä½¿ç”¨ eval-source-map ä½¿ç”¨ä¼šå°† map æ–‡ä»¶ä»¥ DataURL çš„å½¢å¼å­˜åœ¨æ‰“åŒ…åçš„ js æ–‡ä»¶ä¸­ã€‚åœ¨æ­£å¼ç¯å¢ƒä¸­ä¸è¦ä½¿ç”¨ eval-source-map, å› ä¸ºå®ƒä¼šå¢åŠ æ–‡ä»¶çš„å¤§å°ï¼Œä½†æ˜¯åœ¨å¼€å‘ç¯å¢ƒä¸­ï¼Œå¯ä»¥è¯•ç”¨ä¸‹ï¼Œå› ä¸ºä»–ä»¬æ‰“åŒ…çš„é€Ÿåº¦å¾ˆå¿«ã€‚</li>
</ul>
<h3 id="2-7ã€æ„å»ºç»“æœè¾“å‡ºåˆ†æ"><a href="#2-7ã€æ„å»ºç»“æœè¾“å‡ºåˆ†æ" class="headerlink" title="2.7ã€æ„å»ºç»“æœè¾“å‡ºåˆ†æ"></a>2.7ã€æ„å»ºç»“æœè¾“å‡ºåˆ†æ</h3><p>Webpack è¾“å‡ºçš„ä»£ç å¯è¯»æ€§éå¸¸å·®è€Œä¸”æ–‡ä»¶éå¸¸å¤§ï¼Œè®©æˆ‘ä»¬éå¸¸å¤´ç–¼ã€‚ä¸ºäº†æ›´ç®€å•ã€ç›´è§‚åœ°åˆ†æè¾“å‡ºç»“æœï¼Œç¤¾åŒºä¸­å‡ºç°äº†è®¸å¤šå¯è§†åŒ–åˆ†æå·¥å…·ã€‚è¿™äº›å·¥å…·ä»¥å›¾å½¢çš„æ–¹å¼å°†ç»“æœæ›´ç›´è§‚åœ°å±•ç¤ºå‡ºæ¥ï¼Œè®©æˆ‘ä»¬å¿«é€Ÿäº†è§£é—®é¢˜æ‰€åœ¨ã€‚æ¥ä¸‹æ¥è®²è§£æˆ‘ä»¬åœ¨ Vue é¡¹ç›®ä¸­ç”¨åˆ°çš„åˆ†æå·¥å…·ï¼š<code>webpack-bundle-analyzer</code> ã€‚</p>
<p>æˆ‘ä»¬åœ¨é¡¹ç›®ä¸­ <code>webpack.prod.conf.js</code> è¿›è¡Œé…ç½®ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">if (config.build.bundleAnalyzerReport) &#123;</span><br><span class="line">  var BundleAnalyzerPlugin &#x3D;   require(&#39;webpack-bundle-analyzer&#39;).BundleAnalyzerPlugin;</span><br><span class="line">  webpackConfig.plugins.push(new BundleAnalyzerPlugin());</span><br><span class="line">&#125;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œ <code>$ npm run build \--report</code> åç”Ÿæˆåˆ†ææŠ¥å‘Šå¦‚ä¸‹ï¼š</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_gif/1NOXMW586uuZnAApLr38mFVUApdS1l7pTU6eP6ic6c4IT4h26QO5h8jkiaiajylBbRAuqyMtjs7zbGWOvoC1E2icEQ/640?wx_fmt=gif&tp=webp&wxfrom=5&wx_lazy=1" alt="å›¾ç‰‡">1.png</p>
<h3 id="2-8ã€Vue-é¡¹ç›®çš„ç¼–è¯‘ä¼˜åŒ–"><a href="#2-8ã€Vue-é¡¹ç›®çš„ç¼–è¯‘ä¼˜åŒ–" class="headerlink" title="2.8ã€Vue é¡¹ç›®çš„ç¼–è¯‘ä¼˜åŒ–"></a>2.8ã€Vue é¡¹ç›®çš„ç¼–è¯‘ä¼˜åŒ–</h3><p>å¦‚æœä½ çš„ Vue é¡¹ç›®ä½¿ç”¨ Webpack ç¼–è¯‘ï¼Œéœ€è¦ä½ å–ä¸€æ¯å’–å•¡çš„æ—¶é—´ï¼Œé‚£ä¹ˆä¹Ÿè®¸ä½ éœ€è¦å¯¹é¡¹ç›®çš„ Webpack é…ç½®è¿›è¡Œä¼˜åŒ–ï¼Œæé«˜ Webpack çš„æ„å»ºæ•ˆç‡ã€‚å…·ä½“å¦‚ä½•è¿›è¡Œ Vue é¡¹ç›®çš„ Webpack æ„å»ºä¼˜åŒ–ï¼Œå¯ä»¥å‚è€ƒä½œè€…çš„å¦ä¸€ç¯‡æ–‡ç« ã€Š Vue é¡¹ç›® Webpack ä¼˜åŒ–å®è·µã€‹</p>
<h2 id="ä¸‰ã€åŸºç¡€çš„-Web-æŠ€æœ¯ä¼˜åŒ–"><a href="#ä¸‰ã€åŸºç¡€çš„-Web-æŠ€æœ¯ä¼˜åŒ–" class="headerlink" title="ä¸‰ã€åŸºç¡€çš„ Web æŠ€æœ¯ä¼˜åŒ–"></a>ä¸‰ã€åŸºç¡€çš„ Web æŠ€æœ¯ä¼˜åŒ–</h2><h3 id="3-1ã€å¼€å¯-gzip-å‹ç¼©"><a href="#3-1ã€å¼€å¯-gzip-å‹ç¼©" class="headerlink" title="3.1ã€å¼€å¯ gzip å‹ç¼©"></a>3.1ã€å¼€å¯ gzip å‹ç¼©</h3><p>gzip æ˜¯ GNUzip çš„ç¼©å†™ï¼Œæœ€æ—©ç”¨äº UNIX ç³»ç»Ÿçš„æ–‡ä»¶å‹ç¼©ã€‚HTTP åè®®ä¸Šçš„ gzip ç¼–ç æ˜¯ä¸€ç§ç”¨æ¥æ”¹è¿› web åº”ç”¨ç¨‹åºæ€§èƒ½çš„æŠ€æœ¯ï¼Œweb æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯ï¼ˆæµè§ˆå™¨ï¼‰å¿…é¡»å…±åŒæ”¯æŒ gzipã€‚ç›®å‰ä¸»æµçš„æµè§ˆå™¨ï¼ŒChromeï¼Œfirefoxï¼ŒIEç­‰éƒ½æ”¯æŒè¯¥åè®®ã€‚å¸¸è§çš„æœåŠ¡å™¨å¦‚ Apacheï¼ŒNginxï¼ŒIIS åŒæ ·æ”¯æŒï¼Œgzip å‹ç¼©æ•ˆç‡éå¸¸é«˜ï¼Œé€šå¸¸å¯ä»¥è¾¾åˆ° 70% çš„å‹ç¼©ç‡ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœä½ çš„ç½‘é¡µæœ‰ 30Kï¼Œå‹ç¼©ä¹‹åå°±å˜æˆäº† 9K å·¦å³</p>
<p>ä»¥ä¸‹æˆ‘ä»¬ä»¥æœåŠ¡ç«¯ä½¿ç”¨æˆ‘ä»¬ç†Ÿæ‚‰çš„ express ä¸ºä¾‹ï¼Œå¼€å¯ gzip éå¸¸ç®€å•ï¼Œç›¸å…³æ­¥éª¤å¦‚ä¸‹ï¼š</p>
<ul>
<li>å®‰è£…ï¼š</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install compression --save</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<ul>
<li>æ·»åŠ ä»£ç é€»è¾‘ï¼š</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var compression &#x3D; require(&#39;compression&#39;);</span><br><span class="line">var app &#x3D; express();</span><br><span class="line">app.use(compression())</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<ul>
<li><p>é‡å¯æœåŠ¡ï¼Œè§‚å¯Ÿç½‘ç»œé¢æ¿é‡Œé¢çš„ response headerï¼Œå¦‚æœçœ‹åˆ°å¦‚ä¸‹çº¢åœˆé‡Œçš„å­—æ®µåˆ™è¡¨æ˜ gzip å¼€å¯æˆåŠŸ ï¼š</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz/1NOXMW586uuZnAApLr38mFVUApdS1l7p2GGE5klNlnnqE31bjibxSzmcrVe6HDXVILuicMUC0rycY4T8smKNXNvw/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="å›¾ç‰‡">1.png</p>
</li>
</ul>
<h3 id="3-2ã€æµè§ˆå™¨ç¼“å­˜"><a href="#3-2ã€æµè§ˆå™¨ç¼“å­˜" class="headerlink" title="3.2ã€æµè§ˆå™¨ç¼“å­˜"></a>3.2ã€æµè§ˆå™¨ç¼“å­˜</h3><p>ä¸ºäº†æé«˜ç”¨æˆ·åŠ è½½é¡µé¢çš„é€Ÿåº¦ï¼Œå¯¹é™æ€èµ„æºè¿›è¡Œç¼“å­˜æ˜¯éå¸¸å¿…è¦çš„ï¼Œæ ¹æ®æ˜¯å¦éœ€è¦é‡æ–°å‘æœåŠ¡å™¨å‘èµ·è¯·æ±‚æ¥åˆ†ç±»ï¼Œå°† HTTP ç¼“å­˜è§„åˆ™åˆ†ä¸ºä¸¤å¤§ç±»ï¼ˆå¼ºåˆ¶ç¼“å­˜ï¼Œå¯¹æ¯”ç¼“å­˜ï¼‰ï¼Œå¦‚æœå¯¹ç¼“å­˜æœºåˆ¶è¿˜ä¸æ˜¯äº†è§£å¾ˆæ¸…æ¥šçš„ï¼Œå¯ä»¥å‚è€ƒä½œè€…å†™çš„å…³äº HTTP ç¼“å­˜çš„æ–‡ç« ã€Šæ·±å…¥ç†è§£HTTPç¼“å­˜æœºåˆ¶åŠåŸç†ã€‹ï¼Œè¿™é‡Œä¸å†èµ˜è¿°ã€‚</p>
<h3 id="3-3ã€CDN-çš„ä½¿ç”¨"><a href="#3-3ã€CDN-çš„ä½¿ç”¨" class="headerlink" title="3.3ã€CDN çš„ä½¿ç”¨"></a>3.3ã€CDN çš„ä½¿ç”¨</h3><p>æµè§ˆå™¨ä»æœåŠ¡å™¨ä¸Šä¸‹è½½ CSSã€js å’Œå›¾ç‰‡ç­‰æ–‡ä»¶æ—¶éƒ½è¦å’ŒæœåŠ¡å™¨è¿æ¥ï¼Œè€Œå¤§éƒ¨åˆ†æœåŠ¡å™¨çš„å¸¦å®½æœ‰é™ï¼Œå¦‚æœè¶…è¿‡é™åˆ¶ï¼Œç½‘é¡µå°±åŠå¤©ååº”ä¸è¿‡æ¥ã€‚è€Œ CDN å¯ä»¥é€šè¿‡ä¸åŒçš„åŸŸåæ¥åŠ è½½æ–‡ä»¶ï¼Œä»è€Œä½¿ä¸‹è½½æ–‡ä»¶çš„å¹¶å‘è¿æ¥æ•°å¤§å¤§å¢åŠ ï¼Œä¸”CDN å…·æœ‰æ›´å¥½çš„å¯ç”¨æ€§ï¼Œæ›´ä½çš„ç½‘ç»œå»¶è¿Ÿå’Œä¸¢åŒ…ç‡ ã€‚</p>
<h3 id="3-4ã€ä½¿ç”¨-Chrome-Performance-æŸ¥æ‰¾æ€§èƒ½ç“¶é¢ˆ"><a href="#3-4ã€ä½¿ç”¨-Chrome-Performance-æŸ¥æ‰¾æ€§èƒ½ç“¶é¢ˆ" class="headerlink" title="3.4ã€ä½¿ç”¨ Chrome Performance æŸ¥æ‰¾æ€§èƒ½ç“¶é¢ˆ"></a>3.4ã€ä½¿ç”¨ Chrome Performance æŸ¥æ‰¾æ€§èƒ½ç“¶é¢ˆ</h3><p>Chrome çš„ Performance é¢æ¿å¯ä»¥å½•åˆ¶ä¸€æ®µæ—¶é—´å†…çš„ js æ‰§è¡Œç»†èŠ‚åŠæ—¶é—´ã€‚ä½¿ç”¨ Chrome å¼€å‘è€…å·¥å…·åˆ†æé¡µé¢æ€§èƒ½çš„æ­¥éª¤å¦‚ä¸‹ã€‚</p>
<ol>
<li>æ‰“å¼€ Chrome å¼€å‘è€…å·¥å…·ï¼Œåˆ‡æ¢åˆ° Performance é¢æ¿</li>
<li>ç‚¹å‡» Record å¼€å§‹å½•åˆ¶</li>
<li>åˆ·æ–°é¡µé¢æˆ–å±•å¼€æŸä¸ªèŠ‚ç‚¹</li>
<li>ç‚¹å‡» Stop åœæ­¢å½•åˆ¶</li>
</ol>
<p><img src="https://mmbiz.qpic.cn/mmbiz/1NOXMW586uuZnAApLr38mFVUApdS1l7pVB8h36MDeQMVnx3KGEjjCoP2aY0YmichWEED4z9rYpurYL3zwQjS2gA/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="å›¾ç‰‡"></p>
]]></content>
      <categories>
        <category>vue</category>
      </categories>
      <tags>
        <tag>vue</tag>
        <tag>æ€§èƒ½ä¼˜åŒ–</tag>
      </tags>
  </entry>
  <entry>
    <title>vueä¹‹æƒ¯æ€§æ»šåŠ¨åŠ¨æ•ˆ</title>
    <url>/2020/09/23/vue%E4%B9%8B%E6%83%AF%E6%80%A7%E6%BB%9A%E5%8A%A8%E5%8A%A8%E6%95%88/</url>
    <content><![CDATA[<p>è§ä¸‹æ–‡</p>
<a id="more"></a>

<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">template</span> <span class="attr">id</span>=<span class="string">"tpl"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span></span></span><br><span class="line"><span class="tag">        <span class="attr">ref</span>=<span class="string">"wrapper"</span></span></span><br><span class="line"><span class="tag">        @<span class="attr">touchstart.prevent</span>=<span class="string">"onStart"</span></span></span><br><span class="line"><span class="tag">        @<span class="attr">touchmove.prevent</span>=<span class="string">"onMove"</span></span></span><br><span class="line"><span class="tag">        @<span class="attr">touchend.prevent</span>=<span class="string">"onEnd"</span></span></span><br><span class="line"><span class="tag">        @<span class="attr">touchcancel.prevent</span>=<span class="string">"onEnd"</span></span></span><br><span class="line"><span class="tag">        @<span class="attr">transitionend</span>=<span class="string">"onTransitionEnd"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span> <span class="attr">ref</span>=<span class="string">"scroller"</span> <span class="attr">:style</span>=<span class="string">"scrollerStyle"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">"item in list"</span>&gt;</span>&#123;&#123;item&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">      <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="actionscript">        el: <span class="string">'#app'</span>,</span></span><br><span class="line"><span class="actionscript">        template: <span class="string">'#tpl'</span>,</span></span><br><span class="line">        computed: &#123;</span><br><span class="line">          list() &#123;&#125;,</span><br><span class="line">          scrollerStyle() &#123;</span><br><span class="line"><span class="actionscript">            <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">              <span class="string">'transform'</span>: <span class="string">`translate3d(0, <span class="subst">$&#123;<span class="keyword">this</span>.offsetY&#125;</span>px, 0)`</span>,</span></span><br><span class="line"><span class="javascript">              <span class="string">'transition-duration'</span>: <span class="string">`<span class="subst">$&#123;<span class="keyword">this</span>.duration&#125;</span>ms`</span>,</span></span><br><span class="line"><span class="actionscript">              <span class="string">'transition-timing-function'</span>: <span class="keyword">this</span>.bezier,</span></span><br><span class="line">            &#125;;</span><br><span class="line">          &#125;,</span><br><span class="line">        &#125;,</span><br><span class="line">        data() &#123;</span><br><span class="line"><span class="actionscript">          <span class="keyword">return</span> &#123;</span></span><br><span class="line">            minY: 0,</span><br><span class="line">            maxY: 0,</span><br><span class="line">            wrapperHeight: 0,</span><br><span class="line">            duration: 0,</span><br><span class="line"><span class="actionscript">            bezier: <span class="string">'linear'</span>,</span></span><br><span class="line"><span class="actionscript">            pointY: <span class="number">0</span>,                    <span class="comment">// touchStart æ‰‹åŠ¿ y åæ ‡</span></span></span><br><span class="line"><span class="actionscript">            startY: <span class="number">0</span>,                    <span class="comment">// touchStart å…ƒç´  y åç§»å€¼</span></span></span><br><span class="line"><span class="actionscript">            offsetY: <span class="number">0</span>,                   <span class="comment">// å…ƒç´ å®æ—¶ y åç§»å€¼</span></span></span><br><span class="line"><span class="actionscript">            startTime: <span class="number">0</span>,                 <span class="comment">// æƒ¯æ€§æ»‘åŠ¨èŒƒå›´å†…çš„ startTime</span></span></span><br><span class="line"><span class="actionscript">            momentumStartY: <span class="number">0</span>,            <span class="comment">// æƒ¯æ€§æ»‘åŠ¨èŒƒå›´å†…çš„ startY</span></span></span><br><span class="line"><span class="actionscript">            momentumTimeThreshold: <span class="number">300</span>,   <span class="comment">// æƒ¯æ€§æ»‘åŠ¨çš„å¯åŠ¨ æ—¶é—´é˜ˆå€¼</span></span></span><br><span class="line"><span class="actionscript">            momentumYThreshold: <span class="number">15</span>,       <span class="comment">// æƒ¯æ€§æ»‘åŠ¨çš„å¯åŠ¨ è·ç¦»é˜ˆå€¼</span></span></span><br><span class="line"><span class="actionscript">            isStarted: <span class="literal">false</span>,             <span class="comment">// starté”</span></span></span><br><span class="line">          &#125;;</span><br><span class="line">        &#125;,</span><br><span class="line">        mounted() &#123;</span><br><span class="line"><span class="javascript">          <span class="keyword">this</span>.$nextTick(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">this</span>.wrapperHeight = <span class="keyword">this</span>.$refs.wrapper.getBoundingClientRect().height;</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">this</span>.minY = <span class="keyword">this</span>.wrapperHeight - <span class="keyword">this</span>.$refs.scroller.getBoundingClientRect().height;</span></span><br><span class="line">          &#125;);</span><br><span class="line">        &#125;,</span><br><span class="line">        methods: &#123;</span><br><span class="line">          onStart(e) &#123;</span><br><span class="line"><span class="actionscript">            <span class="keyword">const</span> point = e.touches ? e.touches[<span class="number">0</span>] : e;</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">this</span>.isStarted = <span class="literal">true</span>;</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">this</span>.duration = <span class="number">0</span>;</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">this</span>.stop();</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">this</span>.pointY = point.pageY;</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">this</span>.momentumStartY = <span class="keyword">this</span>.startY = <span class="keyword">this</span>.offsetY;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">this</span>.startTime = <span class="keyword">new</span> <span class="built_in">Date</span>().getTime();</span></span><br><span class="line">          &#125;,</span><br><span class="line">          onMove(e) &#123;</span><br><span class="line"><span class="actionscript">            <span class="keyword">if</span> (!<span class="keyword">this</span>.isStarted) <span class="keyword">return</span>;</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">const</span> point = e.touches ? e.touches[<span class="number">0</span>] : e;</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">const</span> deltaY = point.pageY - <span class="keyword">this</span>.pointY;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">this</span>.offsetY = <span class="built_in">Math</span>.round(<span class="keyword">this</span>.startY + deltaY);</span></span><br><span class="line"><span class="javascript">            <span class="keyword">const</span> now = <span class="keyword">new</span> <span class="built_in">Date</span>().getTime();</span></span><br><span class="line"><span class="actionscript">            <span class="comment">// è®°å½•åœ¨è§¦å‘æƒ¯æ€§æ»‘åŠ¨æ¡ä»¶ä¸‹çš„åç§»å€¼å’Œæ—¶é—´</span></span></span><br><span class="line"><span class="actionscript">            <span class="keyword">if</span> (now - <span class="keyword">this</span>.startTime &gt; <span class="keyword">this</span>.momentumTimeThreshold) &#123;</span></span><br><span class="line"><span class="actionscript">              <span class="keyword">this</span>.momentumStartY = <span class="keyword">this</span>.offsetY;</span></span><br><span class="line"><span class="actionscript">              <span class="keyword">this</span>.startTime = now;</span></span><br><span class="line">            &#125;</span><br><span class="line">          &#125;,</span><br><span class="line">          onEnd(e) &#123;</span><br><span class="line"><span class="actionscript">            <span class="keyword">if</span> (!<span class="keyword">this</span>.isStarted) <span class="keyword">return</span>;</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">this</span>.isStarted = <span class="literal">false</span>;</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">if</span> (<span class="keyword">this</span>.isNeedReset()) <span class="keyword">return</span>;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">const</span> absDeltaY = <span class="built_in">Math</span>.abs(<span class="keyword">this</span>.offsetY - <span class="keyword">this</span>.momentumStartY);</span></span><br><span class="line"><span class="javascript">            <span class="keyword">const</span> duration = <span class="keyword">new</span> <span class="built_in">Date</span>().getTime() - <span class="keyword">this</span>.startTime;</span></span><br><span class="line"><span class="actionscript">            <span class="comment">// å¯åŠ¨æƒ¯æ€§æ»‘åŠ¨</span></span></span><br><span class="line"><span class="actionscript">            <span class="keyword">if</span> (duration &lt; <span class="keyword">this</span>.momentumTimeThreshold &amp;&amp; absDeltaY &gt; <span class="keyword">this</span>.momentumYThreshold) &#123;</span></span><br><span class="line"><span class="actionscript">              <span class="keyword">const</span> momentum = <span class="keyword">this</span>.momentum(<span class="keyword">this</span>.offsetY, <span class="keyword">this</span>.momentumStartY, duration);</span></span><br><span class="line"><span class="javascript">              <span class="keyword">this</span>.offsetY = <span class="built_in">Math</span>.round(momentum.destination);</span></span><br><span class="line"><span class="actionscript">              <span class="keyword">this</span>.duration = momentum.duration;</span></span><br><span class="line"><span class="actionscript">              <span class="keyword">this</span>.bezier = momentum.bezier;</span></span><br><span class="line">            &#125;</span><br><span class="line">          &#125;,</span><br><span class="line">          onTransitionEnd() &#123;</span><br><span class="line"><span class="actionscript">            <span class="keyword">this</span>.isNeedReset();</span></span><br><span class="line">          &#125;,</span><br><span class="line">          momentum(current, start, duration) &#123;</span><br><span class="line"><span class="actionscript">            <span class="keyword">const</span> durationMap = &#123;</span></span><br><span class="line"><span class="actionscript">              <span class="string">'noBounce'</span>: <span class="number">2500</span>,</span></span><br><span class="line"><span class="actionscript">              <span class="string">'weekBounce'</span>: <span class="number">800</span>,</span></span><br><span class="line"><span class="actionscript">              <span class="string">'strongBounce'</span>: <span class="number">400</span>,</span></span><br><span class="line">            &#125;;</span><br><span class="line"><span class="actionscript">            <span class="keyword">const</span> bezierMap = &#123;</span></span><br><span class="line"><span class="actionscript">              <span class="string">'noBounce'</span>: <span class="string">'cubic-bezier(.17, .89, .45, 1)'</span>,</span></span><br><span class="line"><span class="actionscript">              <span class="string">'weekBounce'</span>: <span class="string">'cubic-bezier(.25, .46, .45, .94)'</span>,</span></span><br><span class="line"><span class="actionscript">              <span class="string">'strongBounce'</span>: <span class="string">'cubic-bezier(.25, .46, .45, .94)'</span>,</span></span><br><span class="line">            &#125;;</span><br><span class="line"><span class="javascript">            <span class="keyword">let</span> type = <span class="string">'noBounce'</span>;</span></span><br><span class="line"><span class="actionscript">            <span class="comment">// æƒ¯æ€§æ»‘åŠ¨åŠ é€Ÿåº¦</span></span></span><br><span class="line"><span class="actionscript">            <span class="keyword">const</span> deceleration = <span class="number">0.003</span>;</span></span><br><span class="line"><span class="actionscript">            <span class="comment">// å›å¼¹é˜»åŠ›</span></span></span><br><span class="line"><span class="actionscript">            <span class="keyword">const</span> bounceRate = <span class="number">10</span>;</span></span><br><span class="line"><span class="actionscript">            <span class="comment">// å¼ºå¼±å›å¼¹çš„åˆ†å‰²å€¼</span></span></span><br><span class="line"><span class="actionscript">            <span class="keyword">const</span> bounceThreshold = <span class="number">300</span>;</span></span><br><span class="line"><span class="actionscript">            <span class="comment">// å›å¼¹çš„æœ€å¤§é™åº¦</span></span></span><br><span class="line"><span class="actionscript">            <span class="keyword">const</span> maxOverflowY = <span class="keyword">this</span>.wrapperHeight / <span class="number">6</span>;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">let</span> overflowY;</span></span><br><span class="line"></span><br><span class="line"><span class="actionscript">            <span class="keyword">const</span> distance = current - start;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">const</span> speed = <span class="number">2</span> * <span class="built_in">Math</span>.abs(distance) / duration;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">let</span> destination = current + speed / deceleration * (distance &lt; <span class="number">0</span> ? <span class="number">-1</span> : <span class="number">1</span>);</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">if</span> (destination &lt; <span class="keyword">this</span>.minY) &#123;</span></span><br><span class="line"><span class="actionscript">              overflowY = <span class="keyword">this</span>.minY - destination;</span></span><br><span class="line"><span class="actionscript">              type = overflowY &gt; bounceThreshold ? <span class="string">'strongBounce'</span> : <span class="string">'weekBounce'</span>;</span></span><br><span class="line"><span class="javascript">              destination = <span class="built_in">Math</span>.max(<span class="keyword">this</span>.minY - maxOverflowY, <span class="keyword">this</span>.minY - overflowY / bounceRate);</span></span><br><span class="line"><span class="actionscript">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (destination &gt; <span class="keyword">this</span>.maxY) &#123;</span></span><br><span class="line"><span class="actionscript">              overflowY = destination - <span class="keyword">this</span>.maxY;</span></span><br><span class="line"><span class="actionscript">              type = overflowY &gt; bounceThreshold ? <span class="string">'strongBounce'</span> : <span class="string">'weekBounce'</span>;</span></span><br><span class="line"><span class="javascript">              destination = <span class="built_in">Math</span>.min(<span class="keyword">this</span>.maxY + maxOverflowY, <span class="keyword">this</span>.maxY + overflowY / bounceRate);</span></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"><span class="actionscript">            <span class="keyword">return</span> &#123;</span></span><br><span class="line">              destination,</span><br><span class="line">              duration: durationMap[type],</span><br><span class="line">              bezier: bezierMap[type],</span><br><span class="line">            &#125;;</span><br><span class="line">          &#125;,</span><br><span class="line"><span class="actionscript">          <span class="comment">// è¶…å‡ºè¾¹ç•Œæ—¶éœ€è¦é‡ç½®ä½ç½®</span></span></span><br><span class="line">          isNeedReset() &#123;</span><br><span class="line"><span class="javascript">            <span class="keyword">let</span> offsetY;</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">if</span> (<span class="keyword">this</span>.offsetY &lt; <span class="keyword">this</span>.minY) &#123;</span></span><br><span class="line"><span class="actionscript">              offsetY = <span class="keyword">this</span>.minY;</span></span><br><span class="line"><span class="actionscript">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">this</span>.offsetY &gt; <span class="keyword">this</span>.maxY) &#123;</span></span><br><span class="line"><span class="actionscript">              offsetY = <span class="keyword">this</span>.maxY;</span></span><br><span class="line">            &#125;</span><br><span class="line"><span class="actionscript">            <span class="keyword">if</span> (<span class="keyword">typeof</span> offsetY !== <span class="string">'undefined'</span>) &#123;</span></span><br><span class="line"><span class="actionscript">              <span class="keyword">this</span>.offsetY = offsetY;</span></span><br><span class="line"><span class="actionscript">              <span class="keyword">this</span>.duration = <span class="number">500</span>;</span></span><br><span class="line"><span class="actionscript">              <span class="keyword">this</span>.bezier = <span class="string">'cubic-bezier(.165, .84, .44, 1)'</span>;</span></span><br><span class="line"><span class="actionscript">              <span class="keyword">return</span> <span class="literal">true</span>;</span></span><br><span class="line">            &#125;</span><br><span class="line"><span class="actionscript">            <span class="keyword">return</span> <span class="literal">false</span>;</span></span><br><span class="line">          &#125;,</span><br><span class="line"><span class="actionscript">          <span class="comment">// åœæ­¢æ»šåŠ¨</span></span></span><br><span class="line">          stop() &#123;</span><br><span class="line"><span class="javascript">            <span class="keyword">const</span> matrix = <span class="built_in">window</span>.getComputedStyle(<span class="keyword">this</span>.$refs.scroller).getPropertyValue(<span class="string">'transform'</span>);</span></span><br><span class="line"><span class="javascript">            <span class="keyword">this</span>.offsetY = <span class="built_in">Math</span>.round(+matrix.split(<span class="string">')'</span>)[<span class="number">0</span>].split(<span class="string">', '</span>)[<span class="number">5</span>]);</span></span><br><span class="line">          &#125;,</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;);</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>vue</category>
      </categories>
      <tags>
        <tag>vue</tag>
        <tag>æ»šåŠ¨</tag>
      </tags>
  </entry>
  <entry>
    <title>vueä¹‹è§£å†³vue-cliæ‰“åŒ…åå•ä¸ªæ–‡ä»¶è¿‡å¤§çš„é—®é¢˜</title>
    <url>/2021/03/16/vue%E4%B9%8B%E8%A7%A3%E5%86%B3vue-cli%E6%89%93%E5%8C%85%E5%90%8E%E5%8D%95%E4%B8%AA%E6%96%87%E4%BB%B6%E8%BF%87%E5%A4%A7%E7%9A%84%E9%97%AE%E9%A2%98/</url>
    <content><![CDATA[<h2 id="0-å¦‚ä½•æ‰“åŒ…ååœ¨æœ¬åœ°æ‰“å¼€distä¸‹çš„index-html"><a href="#0-å¦‚ä½•æ‰“åŒ…ååœ¨æœ¬åœ°æ‰“å¼€distä¸‹çš„index-html" class="headerlink" title="0.å¦‚ä½•æ‰“åŒ…ååœ¨æœ¬åœ°æ‰“å¼€distä¸‹çš„index.html"></a>0.å¦‚ä½•æ‰“åŒ…ååœ¨æœ¬åœ°æ‰“å¼€distä¸‹çš„index.html</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install -g serve</span><br><span class="line"></span><br><span class="line">serve -s dist</span><br></pre></td></tr></table></figure>

<a id="more"></a>

<h2 id="1-å€ŸåŠ©webpack-bundle-analyzerå¸®åŠ©åˆ†æ"><a href="#1-å€ŸåŠ©webpack-bundle-analyzerå¸®åŠ©åˆ†æ" class="headerlink" title="1.å€ŸåŠ©webpack-bundle-analyzerå¸®åŠ©åˆ†æ"></a>1.å€ŸåŠ©webpack-bundle-analyzerå¸®åŠ©åˆ†æ</h2><p>tips: åœ¨cli3.0ä¸­è¯¥æ’ä»¶å·²ç»é…ç½®å¥½äº†ï¼Œå¦‚ä¸‹æ˜¯cli4.0çš„é…ç½®æ–¹æ³•</p>
<h4 id="æ–¹æ³•ä¸€"><a href="#æ–¹æ³•ä¸€" class="headerlink" title="æ–¹æ³•ä¸€"></a>æ–¹æ³•ä¸€</h4><p>é¦–å…ˆå®‰è£…webpack-bundle-analyzer</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">yarn add webpack-bundle-analyzer -D</span><br></pre></td></tr></table></figure>

<p>ç„¶ååœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»ºvue.config.jsï¼Œç„¶ååœ¨æ–‡ä»¶ä¸­å†™å…¥ä»¥ä¸‹ä»£ç </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const WebpackBundleAnalyzerPlugin &#x3D; require(&#39;webpack-bundle-analyzer&#39;).BundleAnalyzerPlugin</span><br><span class="line"></span><br><span class="line">module.exports &#x3D; &#123;</span><br><span class="line">    configureWebpack: &#123;</span><br><span class="line">        plugins: [new WebpackBundleAnalyzerPlugin()]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç„¶åæ‰§è¡Œ<code>yarn build</code> åœ¨æµè§ˆå™¨ä¼šè‡ªåŠ¨æ‰“å¼€æˆ‘ä»¬çš„ä½¿ç”¨åŒ…åˆ†ææ–‡ä»¶</p>
<h4 id="æ–¹æ³•äºŒ"><a href="#æ–¹æ³•äºŒ" class="headerlink" title="æ–¹æ³•äºŒ"></a>æ–¹æ³•äºŒ</h4><p>å®‰è£…</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install webpack-bundle-analyzer --save-dev</span><br></pre></td></tr></table></figure>

<p>vue.config.jsé…ç½®</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    chainWebpack: <span class="function"><span class="params">config</span> =&gt;</span> &#123;</span><br><span class="line">        config</span><br><span class="line">            .plugin(<span class="string">'webpack-bundle-analyzer'</span>)</span><br><span class="line">            .use(<span class="built_in">require</span>(<span class="string">'webpack-bundle-analyzer'</span>).BundleAnalyzerPlugin)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="2-æ‰“åŒ…æ—¶æ’é™¤Vueå’ŒElementUI"><a href="#2-æ‰“åŒ…æ—¶æ’é™¤Vueå’ŒElementUI" class="headerlink" title="2.æ‰“åŒ…æ—¶æ’é™¤Vueå’ŒElementUI"></a>2.æ‰“åŒ…æ—¶æ’é™¤Vueå’ŒElementUI</h2><p>ç¬¬ä¸€æ­¥ï¼š<br>åœ¨vue.config.js ä¸­æ·»åŠ  externalsæ¥å‘Šè¯‰webpackæˆ‘ä»¬è¿™äº›ç¬¬ä¸‰æ–¹åº“ä¸éœ€è¦æ‰“åŒ…</p>
<p><img src="/2021/03/16/vue%E4%B9%8B%E8%A7%A3%E5%86%B3vue-cli%E6%89%93%E5%8C%85%E5%90%8E%E5%8D%95%E4%B8%AA%E6%96%87%E4%BB%B6%E8%BF%87%E5%A4%A7%E7%9A%84%E9%97%AE%E9%A2%98/C:%5CUsers%5Cdali%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20210316181612158.png" alt="image-20210316181612158"></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">config.set(&#39;externals&#39;,&#123;</span><br><span class="line">	&#39;element-ui&#39;: &#39;Eleme	</span><br><span class="line">	&#39;vue&#39;: &#39;Vue&#39;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p><strong>ä¿®æ”¹ main.js æ³¨é‡Šæ‰ Vue å’Œ ElementUI</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; import Vue from &#39;vue&#39;</span><br><span class="line">&#x2F;&#x2F; import ElementUI from &#39;element-ui&#39;</span><br><span class="line">&#x2F;&#x2F; import &#39;element-ui&#x2F;lib&#x2F;theme-chalk&#x2F;index.css&#39;</span><br></pre></td></tr></table></figure>



<p><strong>ä¿®æ”¹ index.html CDNå¼•å…¥ Vue å’Œ ElementUI<br>æ³¨æ„ï¼Œä¸€å®šè¦é”ç‰ˆæœ¬ï¼Œä½¿ç”¨@æ¥æŒ‡å®šå¼•å…¥ç¬¬ä¸‰æ–¹jsçš„ç‰ˆæœ¬</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;!-- å¼•å…¥æ ·å¼ --&gt;</span><br><span class="line">&lt;link rel&#x3D;&quot;stylesheet&quot; href&#x3D;&quot;https:&#x2F;&#x2F;unpkg.com&#x2F;element-ui@2.4.6&#x2F;lib&#x2F;theme-chalk&#x2F;index.css&quot;&gt;</span><br><span class="line"></span><br><span class="line">...</span><br><span class="line">&lt;!-- å¼•å…¥js --&gt;</span><br><span class="line">&lt;script src&#x3D;&quot;https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;npm&#x2F;vue@2.6.10&#x2F;dist&#x2F;vue.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">&lt;script src&#x3D;&quot;https:&#x2F;&#x2F;unpkg.com&#x2F;element-ui@2.4.6&#x2F;lib&#x2F;index.js&quot;&gt;&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>



<h2 id="3-è§£å†³åœ¨é¦–é¡µåŠ è½½çš„æ—¶å€™ä¾ç„¶ä¼šæŠŠå…¶ä»–é¡µé¢éœ€è¦çš„ç»„ä»¶çš„jsæ–‡ä»¶å’Œcssæ–‡ä»¶è¿›è¡Œè¯·æ±‚åŠ è½½"><a href="#3-è§£å†³åœ¨é¦–é¡µåŠ è½½çš„æ—¶å€™ä¾ç„¶ä¼šæŠŠå…¶ä»–é¡µé¢éœ€è¦çš„ç»„ä»¶çš„jsæ–‡ä»¶å’Œcssæ–‡ä»¶è¿›è¡Œè¯·æ±‚åŠ è½½" class="headerlink" title="3.è§£å†³åœ¨é¦–é¡µåŠ è½½çš„æ—¶å€™ä¾ç„¶ä¼šæŠŠå…¶ä»–é¡µé¢éœ€è¦çš„ç»„ä»¶çš„jsæ–‡ä»¶å’Œcssæ–‡ä»¶è¿›è¡Œè¯·æ±‚åŠ è½½"></a>3.è§£å†³åœ¨é¦–é¡µåŠ è½½çš„æ—¶å€™ä¾ç„¶ä¼šæŠŠå…¶ä»–é¡µé¢éœ€è¦çš„ç»„ä»¶çš„jsæ–‡ä»¶å’Œcssæ–‡ä»¶è¿›è¡Œè¯·æ±‚åŠ è½½</h2><p>tipsï¼šæŒ‰éœ€åŠ è½½å¦‚æœä¸æ›´æ”¹prefetchï¼Œä»ç„¶ä¼šå°†æ‰€æœ‰çš„jsåœ¨é¦–é¡µä¸€æ¬¡æ€§å…¨éƒ¨åŠ è½½ç»“æŸ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">module.exports &#x3D; &#123;</span><br><span class="line">    chainWebpack(config) &#123;</span><br><span class="line">        &#x2F;&#x2F; ç§»é™¤ prefetch æ’ä»¶ï¼ˆè§£å†³é¦–æ¬¡è¿›å…¥é¡µé¢æ‰€æœ‰èµ„æºé¢„åŠ è½½ï¼‰</span><br><span class="line">        config.plugins.delete(&#39;prefetch&#39;);</span><br><span class="line">        &#x2F;&#x2F;  æˆ–è€… &#x2F;&#x2F; ä¿®æ”¹prefetchï¼š</span><br><span class="line">        &#x2F;&#x2F; config.plugin(&#39;prefetch&#39;).tap(options &#x3D;&gt; &#123; </span><br><span class="line">        &#x2F;&#x2F;   options[0].fileBlacklist &#x3D; options[0].fileBlacklist || [] </span><br><span class="line">        &#x2F;&#x2F;   options[0].fileBlacklist.push(&#x2F;myasyncRoute(.)+?\.js$&#x2F;) </span><br><span class="line">        &#x2F;&#x2F;   return options </span><br><span class="line">        &#x2F;&#x2F; &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">ç¬¬ä¸€ç§æ–¹æ³•æ¯”è¾ƒå¥½ç”¨</span><br></pre></td></tr></table></figure>



<h2 id="4-éšè—-æ”¾å¼€js-mapæˆ–è€…css-mapæ–‡ä»¶"><a href="#4-éšè—-æ”¾å¼€js-mapæˆ–è€…css-mapæ–‡ä»¶" class="headerlink" title="4.éšè—/æ”¾å¼€js.mapæˆ–è€…css.mapæ–‡ä»¶"></a>4.éšè—/æ”¾å¼€js.mapæˆ–è€…css.mapæ–‡ä»¶</h2><p>åœ¨vue.config.js ä¸­æ·»åŠ </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">module.exports &#x3D; &#123;</span><br><span class="line">    productionSourceMap: false,</span><br><span class="line">    css: &#123;</span><br><span class="line">        extract: false, &#x2F;&#x2F; æ˜¯å¦ä½¿ç”¨cssåˆ†ç¦»æ’ä»¶ ExtractTextPlugin</span><br><span class="line">        sourceMap: true &#x2F;&#x2F; å¼€å¯ CSS source maps?</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="5-ä½¿ç”¨è·¯ç”±æ‡’åŠ è½½çš„ä¸åŒå†™æ³•"><a href="#5-ä½¿ç”¨è·¯ç”±æ‡’åŠ è½½çš„ä¸åŒå†™æ³•" class="headerlink" title="5.ä½¿ç”¨è·¯ç”±æ‡’åŠ è½½çš„ä¸åŒå†™æ³•"></a>5.ä½¿ç”¨è·¯ç”±æ‡’åŠ è½½çš„ä¸åŒå†™æ³•</h2><p>å†™æ³•ä¸€</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const Foo &#x3D; () &#x3D;&gt; import(&#39;.&#x2F;Foo.vue&#39;)</span><br><span class="line"></span><br><span class="line">const router &#x3D; new VueRouter(&#123;</span><br><span class="line">  routes: [</span><br><span class="line">    &#123; path: &#39;&#x2F;foo&#39;, component: Foo &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>å†™æ³•äºŒ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const Foo &#x3D; (resolve) &#x3D;&gt; &#123;</span><br><span class="line">  import(&#39;components&#x2F;Foo.vue&#39;).then((module) &#x3D;&gt; &#123;</span><br><span class="line">    resolve(module)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const router &#x3D; new VueRouter(&#123;</span><br><span class="line">  routes: [</span><br><span class="line">    &#123; path: &#39;&#x2F;foo&#39;, component: Foo &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>å†™æ³•ä¸‰ (æœ€ç®€å•)</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const router &#x3D; new VueRouter(&#123;</span><br><span class="line">  routes: [</span><br><span class="line">    &#123; path: &#39;&#x2F;foo&#39;, component: ()&#x3D;&gt;import(&#39;components&#x2F;Foo.vue&#39;) &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h2 id="6-å…³äºprocess-env-NODE-ENV"><a href="#6-å…³äºprocess-env-NODE-ENV" class="headerlink" title="6.å…³äºprocess.env.NODE_ENV"></a>6.å…³äºprocess.env.NODE_ENV</h2><p>ç›¸ä¿¡å¤§å®¶åœ¨å¼€å‘çš„æ—¶å€™ä¸€å®šä¼šæœ‰è·Ÿå¤šä¸ªå¼€å‘ç¯å¢ƒï¼Œæ¯”å¦‚development/feature/sandbox/productionï¼Œå› ä¸ºè¿™ç©æ„æˆ‘çœŸæ˜¯åƒäº†å¤§äºï¼Œåˆšå¼€å§‹æ²¡çœ‹æ–‡æ¡£ï¼Œ ç›´æ¥åœ¨æ‰§è¡Œpackage.jsonçš„scriptå‘½ä»¤çš„æ—¶å€™é€šè¿‡cross-env NODE_ENV=xxx æ¥ä¿®æ”¹ç¯å¢ƒå˜é‡ï¼Œå¯¼è‡´æ— æ³•ä½¿ç”¨vue-cliå·¥å…·ä¸ºæˆ‘ä»¬æä¾›çš„ä»£ç ä¼˜åŒ–åŠŸèƒ½</p>
<p>æ³¨æ„: process.env_NODE_ENVçš„å€¼åªèƒ½ä¸º<code>development</code>ã€<code>production</code>ï¼Œä¸è¦ä¿®æ”¹ä¸ºå…¶ä»–å€¼ï¼Œä¸ç„¶å¯èƒ½ä¼šå‡ºç°å…¶ä»–é—®é¢˜ï¼Œå¦‚æœä½ çœŸçš„æƒ³åœ¨ä¸åŒçš„ç¯å¢ƒä½¿ç”¨ä¸åŒçš„æ¥å£åœ°å€æˆ–è€…ã€å…¶ä»–çš„å†…å®¹æˆ‘ä»¬å¯ä»¥ç”¨vue-cliä¸ºæˆ‘ä»¬æä¾›çš„<code>--mode</code>è¾¾åˆ°ç›®çš„ï¼Œæ¯”å¦‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&quot;scripts&quot;: &#123;</span><br><span class="line">    &quot;serve&quot;: &quot;vue-cli-service serve&quot;,</span><br><span class="line">    &quot;build&quot;: &quot;vue-cli-service build&quot;,</span><br><span class="line">    &quot;build:sanbox&quot;: &quot;vue-cli-service build --mode sanbox&quot;,</span><br><span class="line">    &quot;build:feature&quot;: &quot;vue-cli-service build --mode feature&quot;,</span><br><span class="line">    &quot;lint&quot;: &quot;vue-cli-service lint&quot;,</span><br><span class="line">    &quot;precommit&quot;: &quot;yarn lint&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œvue-cliä¼šè¯»å–é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„.env.xxxç›¸å…³æ–‡ä»¶ï¼Œâ€“modeä¼šä¿®æ”¹process.env.NODE_ENVçš„å€¼ï¼Œæˆ‘ä»¬éœ€è¦å†å¯¹åº”çš„envé‡Œé¢æŠŠNODE_ENVæ”¹å†™å›æ¥ï¼Œæ¯”å¦‚ä¸€ä¸ª<code>.env.sanbox</code>ç¯å¢ƒä»£ç å¦‚ä¸‹</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">NODE_ENV&#x3D;&#39;production&#39;</span><br><span class="line">VUE_APP_ENV&#x3D;&#39;sanbox&#39;</span><br></pre></td></tr></table></figure>

<p>å½“æˆ‘ä»¬æ‰§è¡Œ<code>yarn build:sanbox</code>çš„æ—¶å€™å°±ä¼šåŠ è½½è¿™ä¸ªæ–‡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡<code>process.env.VUE_APP_ENV</code>æ¥è®¿é—®å¯¹åº”è®¾ç½®çš„å€¼ï¼Œæ³¨æ„åªæœ‰<code>VIE_APP_</code>å‰ç¼€çš„ç¯å¢ƒå˜é‡æ‰ä¼šè¢«<code>webpack.DefinePlugin</code>é™æ€åµŒå…¥åˆ°å®¢æˆ·ç«¯ä¾§çš„åŒ…ä¸­ã€‚</p>
<p>æ¯”å¦‚æˆ‘ä»¬éœ€è¦ä¸åŒçš„æ„å»ºå‘½ä»¤æ„å»ºä¸åŒçš„çš„publicPathçš„æ—¶å€™æˆ‘ä»¬å¯ä»¥è¿™æ ·åš</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> map = &#123;</span><br><span class="line">    production: <span class="string">'/'</span>,</span><br><span class="line">    feature: <span class="string">'/feature'</span>,</span><br><span class="line">    sanbox: <span class="string">'/sanbox'</span>,</span><br><span class="line">    development: <span class="string">'/development'</span>,</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> env = process.env.VUE_APP_ENV</span><br><span class="line"><span class="keyword">const</span> publicPath =  map[env]</span><br><span class="line"><span class="keyword">const</span> PATH = <span class="built_in">require</span>(<span class="string">'path'</span>)</span><br><span class="line"><span class="keyword">const</span> WebpackBundleAnalyzerPlugin = <span class="built_in">require</span>(<span class="string">'webpack-bundle-analyzer'</span>).BundleAnalyzerPlugin</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    publicPath,</span><br><span class="line">    configureWebpack: &#123;</span><br><span class="line">        externals: &#123;</span><br><span class="line">            <span class="string">"lodash"</span>: <span class="string">'_'</span>,</span><br><span class="line">            <span class="string">"qiniu"</span>: <span class="string">'qiniu'</span>,</span><br><span class="line">            <span class="string">"vue"</span>: <span class="string">'Vue'</span>,</span><br><span class="line">            <span class="string">"echarts"</span>: <span class="string">'echarts'</span>,</span><br><span class="line">            <span class="string">"element-ui"</span>: <span class="string">'ELEMENT'</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">        resolve: &#123;</span><br><span class="line">            extensions: [<span class="string">'.js'</span>, <span class="string">'.vue'</span>, <span class="string">'.json'</span>, <span class="string">'.ts'</span>, <span class="string">'.tsx'</span>],</span><br><span class="line">            alias: &#123;</span><br><span class="line">                <span class="string">'$root'</span>: PATH.resolve(__dirname)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        plugins: [<span class="keyword">new</span> WebpackBundleAnalyzerPlugin()]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>vue</category>
      </categories>
      <tags>
        <tag>vue</tag>
        <tag>æ‰“åŒ…</tag>
        <tag>webpack-bundle-analyzer</tag>
      </tags>
  </entry>
  <entry>
    <title>vueæ›´æ”¹æ‰“åŒ…è·¯å¾„</title>
    <url>/2020/08/10/vue%E6%9B%B4%E6%94%B9%E6%89%93%E5%8C%85%E8%B7%AF%E5%BE%84/</url>
    <content><![CDATA[<h3 id="æ ¹ç›®å½•æ–°å»º-env-local"><a href="#æ ¹ç›®å½•æ–°å»º-env-local" class="headerlink" title="æ ¹ç›®å½•æ–°å»º.env.local"></a>æ ¹ç›®å½•æ–°å»º.env.local</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">VUE_APP_assetsRoot &#x3D; D:\zhenlvProject\webtouch\TC.itravel.WebFly\fly2.0\dist  ï¼ˆç›®æ ‡è·¯å¾„ï¼‰</span><br><span class="line">VUE_APP_USER &#x3D; dali</span><br></pre></td></tr></table></figure>

<a id="more"></a>

<h3 id="buildä¸‹æ–°å»ºreadEnv-js"><a href="#buildä¸‹æ–°å»ºreadEnv-js" class="headerlink" title="buildä¸‹æ–°å»ºreadEnv.js"></a>buildä¸‹æ–°å»ºreadEnv.js</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const fs &#x3D; require(&#39;fs&#39;);</span><br><span class="line">const path &#x3D; require(&#39;path&#39;);</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; è¯»å–ç¯å¢ƒå˜é‡çš„æ–‡ä»¶æŠŠå®ƒè½¬åŒ–æˆå¯¹è±¡</span><br><span class="line"></span><br><span class="line">const readEnv &#x3D; (file) &#x3D;&gt; &#123; &#x2F;&#x2F; flieä¸ºæ–‡ä»¶è·¯å¾„</span><br><span class="line">  let fileName &#x3D; path.join(__dirname, file);</span><br><span class="line">  let envParams &#x3D; &#123;&#125;</span><br><span class="line">  try&#123;</span><br><span class="line">    let fileData &#x3D; fs.readFileSync(fileName, &#123; encoding: &#39;utf8&#39; &#125;)</span><br><span class="line">    let deleteBlankData &#x3D; fileData.replace(&#x2F;\r&#x2F;g, &#39;,&#39;).replace(&#x2F;\s+&#x2F;g, &quot;&quot;) &#x2F;&#x2F; æŠŠæ¢è¡Œå’Œå›è½¦æ›¿æ¢å¹¶åˆ é™¤ç©ºæ ¼</span><br><span class="line">    let arr &#x3D; deleteBlankData.split(&#39;,&#39;).map(item &#x3D;&gt; &#123;</span><br><span class="line">      return item.split(&#39;&#x3D;&#39;)</span><br><span class="line">    &#125;) &#x2F;&#x2F; [ [ &#39;a&#39;, &#39;1&#39; ], [ &#39;b&#39;, &#39;2&#39; ] ]</span><br><span class="line">    arr.forEach(item &#x3D;&gt; &#123;</span><br><span class="line">      if (item[1])&#123;</span><br><span class="line">        envParams[item[0]] &#x3D; &#96;&quot;$&#123;item[1]&#125;&quot;&#96;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;catch&#123;</span><br><span class="line">    fs.appendFileSync(fileName, &#39;&#39;)</span><br><span class="line">  &#125;</span><br><span class="line">  return envParams &#x2F;&#x2F;&#123; a: &#39;1&#39;, b: &#39;2&#39; &#125;</span><br><span class="line">  &#x2F;&#x2F; å¯ä»¥æ¥ç€å¤„ç†</span><br><span class="line">  &#x2F;* åƒvue-cli3 æ–°ç‰ˆcreate-react-app ä¸€æ ·è§„å®šç¯å¢ƒå˜é‡çš„Keyå¿…é¡»ä»¥(VUE_APP_)  (REACT_APP_) å¼€å¤´ *&#x2F;</span><br><span class="line">&#125;</span><br><span class="line">module.exports &#x3D; readEnv</span><br></pre></td></tr></table></figure>



<h3 id="configä¸‹index-js"><a href="#configä¸‹index-js" class="headerlink" title="configä¸‹index.js"></a>configä¸‹index.js</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">å¼•å…¥</span><br><span class="line">const readEnv &#x3D; require(&#39;..&#x2F;build&#x2F;readEnv&#39;)</span><br><span class="line">const localEnv &#x3D; readEnv(&#39;..&#x2F;.env.local&#39;)</span><br><span class="line">&#x2F;&#x2F; VUE_APP_assetsRoot è¯·è®¾ç½®æˆç»å¯¹è·¯å¾„</span><br><span class="line">const assetsRoot &#x3D;</span><br><span class="line">  localEnv.VUE_APP_assetsRoot ?</span><br><span class="line">    localEnv.VUE_APP_assetsRoot.replace(&#x2F;\&quot;&#x2F;g, &quot;&quot;) :</span><br><span class="line">    path.resolve(__dirname, &quot;..&#x2F;dist&quot;)</span><br><span class="line"></span><br><span class="line">åº”ç”¨</span><br><span class="line">æ”¹å˜å‰</span><br><span class="line">build: &#123;</span><br><span class="line">    &#x2F;&#x2F; Template for index.html</span><br><span class="line">    index: path.resolve(__dirname, &quot;..&#x2F;dist&#x2F;index.html&quot;),</span><br><span class="line">    &#x2F;&#x2F; index: path.resolve(__dirname, &#39;..&#x2F;..&#x2F;Views&#x2F;Home&#x2F;Hotel.cshtml&#39;),</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; Paths</span><br><span class="line">    assetsRoot: path.resolve(__dirname, &quot;..&#x2F;dist&quot;),</span><br><span class="line">    assetsSubDirectory: &quot;static&quot;,</span><br><span class="line">    assetsPublicPath: &quot;&#x2F;vtravel&#x2F;fly2.0&#x2F;dist&#x2F;&quot;,</span><br><span class="line">&#125;</span><br><span class="line">æ”¹å˜å</span><br><span class="line">  build: &#123;</span><br><span class="line">    &#x2F;&#x2F; Template for index.html</span><br><span class="line">    index: &#96;$&#123;assetsRoot&#125;&#x2F;index.html&#96;,</span><br><span class="line">    &#x2F;&#x2F; index: path.resolve(__dirname, &#39;..&#x2F;..&#x2F;Views&#x2F;Home&#x2F;Hotel.cshtml&#39;),</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; Paths</span><br><span class="line">    assetsRoot: assetsRoot,</span><br><span class="line">    assetsSubDirectory: &quot;static&quot;,</span><br><span class="line">    assetsPublicPath: &quot;&#x2F;vtravel&#x2F;fly2.0&#x2F;dist&#x2F;&quot;,</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>vue</category>
      </categories>
      <tags>
        <tag>vue</tag>
        <tag>æ‰“åŒ…è·¯å¾„</tag>
      </tags>
  </entry>
  <entry>
    <title>vueä¹‹é¡¶éƒ¨è¿›åº¦æ¡</title>
    <url>/2021/01/19/vue%E4%B9%8B%E9%A1%B6%E9%83%A8%E8%BF%9B%E5%BA%A6%E6%9D%A1/</url>
    <content><![CDATA[<h3 id="Vue-é¡µé¢åŠ è½½è¿›åº¦æ¡nprogressçš„ä½¿ç”¨"><a href="#Vue-é¡µé¢åŠ è½½è¿›åº¦æ¡nprogressçš„ä½¿ç”¨" class="headerlink" title="Vue é¡µé¢åŠ è½½è¿›åº¦æ¡nprogressçš„ä½¿ç”¨"></a>Vue é¡µé¢åŠ è½½è¿›åº¦æ¡nprogressçš„ä½¿ç”¨</h3><p><a href="https://blog.csdn.net/qq_42540989/article/details/109220608" target="_blank" rel="noopener">https://blog.csdn.net/qq_42540989/article/details/109220608</a></p>
<p>å‰è¨€ï¼šå®¢æˆ·åœ¨è®¿é—®ç½‘é¡µçš„æ—¶å€™æƒ³è¦çœ‹åˆ°ç½‘é¡µåŠ è½½çš„è¿›åº¦ï¼Œæ‰€ä»¥ä½¿ç”¨ <strong>nprogress</strong> æ¥å®ç°å½“é¡µé¢è·³è½¬æ˜¯å‡ºç°åœ¨æµè§ˆå™¨é¡¶éƒ¨çš„è¿›åº¦æ¡ï¼Œå®ƒæ˜¯è½»é‡çº§çš„è¿›åº¦æ¡ç»„ä»¶ï¼Œä½¿ç”¨ç®€ä¾¿ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿é›†æˆåˆ°åº”ç”¨ä¸­æ¥ã€‚</p>
<a id="more"></a>

<p>æ•ˆæœï¼š</p>
<p><img src="https://img-blog.csdnimg.cn/20201022151816265.gif" alt="img"></p>
<p>ä¸€ã€å‚è€ƒèµ„æ–™</p>
<p>å®˜ç½‘ï¼š<a href="https://ricostacruz.com/nprogress/" target="_blank" rel="noopener">https://ricostacruz.com/nprogress/</a><br>githubï¼š<a href="https://github.com/rstacruz/nprogress" target="_blank" rel="noopener">https://github.com/rstacruz/nprogress</a></p>
<p>äºŒ ã€å®‰è£… <strong>nprogress</strong> </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; ä½¿ç”¨npm æˆ–è€…yarn å®‰è£…</span><br><span class="line"></span><br><span class="line">npm install --save nprogress </span><br><span class="line">yarn add nprogress</span><br></pre></td></tr></table></figure>

<p>ä¸‰ã€ä½¿ç”¨(2ç§æ–¹å¼å¼•å…¥)</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;ä½¿ç”¨script å’Œlink å¼•å…¥å¯¹åº”æ–‡ä»¶</span><br><span class="line">&lt;script src&#x3D;&#39;nprogress.js&#39;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">&lt;link rel&#x3D;&#39;stylesheet&#39; href&#x3D;&#39;nprogress.css&#39;&#x2F;&gt;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; å…¨å±€å¼•å…¥ åœ¨main.jsä¸­å¼•å…¥nprogressæ’ä»¶å’Œæ ·å¼ï¼Œ</span><br><span class="line">import NProgress from â€˜nprogressâ€™ </span><br><span class="line">import â€˜nprogress&#x2F;nprogress.cssâ€™</span><br></pre></td></tr></table></figure>

<p>å››ã€åœ¨è·¯ç”±ä¸­æ·»åŠ  <strong>nprogress</strong></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">NProgress.configure(&#123; <span class="attr">showSpinner</span>: <span class="literal">false</span> &#125;)</span><br><span class="line"><span class="comment">//åœ¨è·¯ç”±è·³è½¬å‰ç”¨NProgress.start()æ ‡è®°ä¸‹è¿›åº¦æ¡å¼€å§‹</span></span><br><span class="line">router.beforeEach(<span class="function">(<span class="params">to, <span class="keyword">from</span>, next</span>) =&gt;</span> &#123;</span><br><span class="line"> NProgress.start()</span><br><span class="line"> next()</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">//åœ¨è·¯ç”±è·³è½¬åç”¨NProgress.done()æ ‡è®°ä¸‹ç»“æŸ</span></span><br><span class="line">router.afterEach(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line"> NProgress.done()</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>äº”ã€è¿›åº¦æ¡æ ·å¼ä¿®æ”¹</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; åœ¨app.vueä¸­</span><br><span class="line">#nprogress .bar &#123;</span><br><span class="line"> height: 10rpx !important;        &#x2F;&#x2F;é«˜åº¦</span><br><span class="line"> background: red !important;  &#x2F;&#x2F;é¢œè‰²</span><br><span class="line"> &#125;</span><br><span class="line">#nprogress .peg&#123;</span><br><span class="line">    box-shadow: 0px 0px 10px 0px red !important;&#x2F;&#x2F;æŠ•å½±</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å…­ã€å…¶ä»–å‚æ•°</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">å¯ä»¥é€šè¿‡è°ƒç”¨ .set(n)æ¥è®¾ç½®è¿›åº¦ï¼Œnæ˜¯0-1çš„æ•°å­—ã€‚</span><br><span class="line">NProgress.set(0.0);     &#x2F;&#x2F; Sorta same as .start()</span><br><span class="line">NProgress.set(0.4);</span><br><span class="line">NProgress.set(1.0);     &#x2F;&#x2F; Sorta same as .done()</span><br><span class="line">å¯ä»¥ä½¿ç”¨inc()éšæœºå¢é•¿è¿›åº¦æ¡ï¼Œæ³¨æ„ï¼Œè¿™ä¸ªæ–¹æ³•æ°¸è¿œä¸ä¼šè®©è¿›åº¦æ¡è¾¾åˆ°100%ã€‚</span><br><span class="line">NProgress.inc();</span><br><span class="line">NProgress.configure(&#123; showSpinner: false &#125;) &#x2F;&#x2F;ç¦ç”¨è¿›åº¦ç¯</span><br><span class="line">NProgress.configure(&#123; trickle : false &#125;)    &#x2F;&#x2F;å…³é—­è¿›åº¦æ¡æ­¥è¿›</span><br><span class="line">NProgress.configure(&#123; trickleRate : 10&#125;)    &#x2F;&#x2F;æ¯æ¬¡æ­¥è¿›å¢é•¿å¤šå°‘</span><br><span class="line">NProgress.configure(&#123; trickleSpeed : 200&#125;)  &#x2F;&#x2F;æ¯æ¬¡æ­¥è¿›é—´éš”ï¼Œå•ä½æ¯«ç§’ms</span><br><span class="line">NProgress.configure(&#123; easing: &#39;linear&#39;&#125;)    &#x2F;&#x2F;åŠ¨ç”»æ–¹å‘</span><br><span class="line">NProgress.configure(&#123; speed : 10&#125;)          &#x2F;&#x2F;åŠ¨ç”»é€Ÿåº¦ï¼Œå•ä½æ¯«ç§’ms</span><br><span class="line">NProgress.configure(&#123; minimum : 0.08&#125;)      &#x2F;&#x2F;æœ€å°ç™¾åˆ†æ¯”</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>vue</category>
      </categories>
      <tags>
        <tag>vue</tag>
        <tag>router</tag>
      </tags>
  </entry>
  <entry>
    <title>vueè‡ªåŠ¨å›å¤æ¡ˆä¾‹</title>
    <url>/2020/07/30/vue%E8%87%AA%E5%8A%A8%E5%9B%9E%E5%A4%8D%E6%A1%88%E4%BE%8B/</url>
    <content><![CDATA[<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="number">1.</span>ç”¨æˆ·æé—®é¢˜çš„è‡ªåŠ¨å›ç­”æ¡ˆä¾‹ï¼ˆ_.debounceã€ _.capitalizeã€https:<span class="comment">//lodash.com/docs#debounce --ç‰¹æ®Šæ–¹æ³•æ¼”ç¤ºï¼‰</span></span><br><span class="line">&lt;div id=<span class="string">"watch-example"</span>&gt;</span><br><span class="line">        &lt;p&gt;</span><br><span class="line">            Ask a yes/no question:  </span><br><span class="line">            &lt;input v-model=<span class="string">"question"</span>&gt;</span><br><span class="line">        &lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">        &lt;p&gt; answer &lt;/</span>p&gt;</span><br><span class="line">&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">&lt;script src="https:/</span><span class="regexp">/cdn.jsdelivr.net/</span>npm/axios@<span class="number">0.12</span><span class="number">.0</span>/dist/axios.min.js<span class="string">"&gt;&lt;/script&gt;</span></span><br><span class="line"><span class="string">&lt;script src="</span>https:<span class="comment">//cdn.jsdelivr.net/npm/lodash@4.13.1/lodash.min.js"&gt;&lt;/script&gt;</span></span><br><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="keyword">var</span> watchExampleVM = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">        el: <span class="string">'#watch-example'</span>,</span><br><span class="line">        data: &#123;</span><br><span class="line">            question: <span class="string">''</span>,</span><br><span class="line">            answer: <span class="string">'I cannot give you an answer until you ask a question!'</span></span><br><span class="line">        &#125;,</span><br><span class="line">        watch: &#123;</span><br><span class="line">            <span class="comment">// å¦‚æœ `question` å‘ç”Ÿæ”¹å˜ï¼Œè¿™ä¸ªå‡½æ•°å°±ä¼šè¿è¡Œ</span></span><br><span class="line">            question: <span class="function"><span class="keyword">function</span> (<span class="params">newQuestion, oldQuestion</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">this</span>.answer = <span class="string">'Waiting for you to stop typing...'</span></span><br><span class="line">                <span class="keyword">this</span>.debouncedGetAnswer()</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        created: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="comment">// `_.debounce` æ˜¯ä¸€ä¸ªé€šè¿‡ Lodash é™åˆ¶æ“ä½œé¢‘ç‡çš„å‡½æ•°ã€‚</span></span><br><span class="line">            <span class="comment">// åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å¸Œæœ›é™åˆ¶è®¿é—® yesno.wtf/api çš„é¢‘ç‡</span></span><br><span class="line">            <span class="comment">// AJAX è¯·æ±‚ç›´åˆ°ç”¨æˆ·è¾“å…¥å®Œæ¯•æ‰ä¼šå‘å‡ºã€‚æƒ³è¦äº†è§£æ›´å¤šå…³äº</span></span><br><span class="line">            <span class="comment">// `_.debounce` å‡½æ•° (åŠå…¶è¿‘äº² `_.throttle`) çš„çŸ¥è¯†ï¼Œ</span></span><br><span class="line">            <span class="comment">// è¯·å‚è€ƒï¼šhttps://lodash.com/docs#debounce</span></span><br><span class="line">            <span class="keyword">this</span>.debouncedGetAnswer = _.debounce(<span class="keyword">this</span>.getAnswer, <span class="number">500</span>)</span><br><span class="line">        &#125;,</span><br><span class="line">        methods: &#123;</span><br><span class="line">            getAnswer: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">                <span class="keyword">if</span> (<span class="keyword">this</span>.question.indexOf(<span class="string">'?'</span>) === <span class="number">-1</span>) &#123;</span><br><span class="line">                    <span class="keyword">this</span>.answer = <span class="string">'Questions usually contain a question mark. ;-)'</span></span><br><span class="line">                    <span class="keyword">return</span></span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">this</span>.answer = <span class="string">'Thinking...'</span></span><br><span class="line">                <span class="keyword">var</span> vm = <span class="keyword">this</span></span><br><span class="line">                axios.get(<span class="string">'https://yesno.wtf/api'</span>)</span><br><span class="line">                    .then(<span class="function"><span class="keyword">function</span> (<span class="params">response</span>) </span>&#123;</span><br><span class="line">                        vm.answer = _.capitalize(response.data.answer)</span><br><span class="line">                    &#125;)</span><br><span class="line">                    .catch(<span class="function"><span class="keyword">function</span> (<span class="params">error</span>) </span>&#123;</span><br><span class="line">                        vm.answer = <span class="string">'Error! Could not reach the API. '</span> + error</span><br><span class="line">                    &#125;)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>vue</category>
      </categories>
      <tags>
        <tag>vue</tag>
        <tag>æ¡ˆä¾‹</tag>
      </tags>
  </entry>
  <entry>
    <title>vueé¢è¯•é¢˜è®°å½•</title>
    <url>/2020/09/14/vue%E9%9D%A2%E8%AF%95%E9%A2%98%E8%AE%B0%E5%BD%95/</url>
    <content><![CDATA[<h3 id="å•é€‰é¢˜"><a href="#å•é€‰é¢˜" class="headerlink" title="å•é€‰é¢˜"></a>å•é€‰é¢˜</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">1. Vue å®ä¾‹çš„ data å±æ€§ï¼Œå¯ä»¥åœ¨å“ªäº›ç”Ÿå‘½å‘¨æœŸä¸­è·å–åˆ°ï¼Ÿbcd</span><br><span class="line">A. beforeCreate</span><br><span class="line">B. created</span><br><span class="line">C. beforeMount</span><br><span class="line">D. mounted</span><br><span class="line"></span><br><span class="line">2. ä¸‹åˆ—å¯¹ Vue åŸç†çš„å™è¿°ï¼Œå“ªäº›æ˜¯æ­£ç¡®çš„ï¼Ÿabcd</span><br><span class="line">A. Vue ä¸­çš„æ•°ç»„å˜æ›´é€šçŸ¥ï¼Œé€šè¿‡æ‹¦æˆªæ•°ç»„æ“ä½œæ–¹æ³•è€Œå®ç°</span><br><span class="line">B. ç¼–è¯‘å™¨ç›®æ ‡æ˜¯åˆ›å»ºæ¸²æŸ“å‡½æ•°ï¼Œæ¸²æŸ“å‡½æ•°æ‰§è¡Œåå°†å¾—åˆ° VNode æ ‘</span><br><span class="line">C. ç»„ä»¶å†… data å‘ç”Ÿå˜åŒ–æ—¶ä¼šé€šçŸ¥å…¶å¯¹åº” watcherï¼Œæ‰§è¡Œå¼‚æ­¥æ›´æ–°</span><br><span class="line">D. patching ç®—æ³•é¦–å…ˆè¿›è¡ŒåŒå±‚çº§æ¯”è¾ƒï¼Œå¯èƒ½æ‰§è¡Œçš„æ“ä½œæ˜¯èŠ‚ç‚¹çš„å¢åŠ ã€åˆ é™¤å’Œæ›´æ–°</span><br><span class="line"></span><br><span class="line">3. å¯¹äº Vue ä¸­å“åº”å¼æ•°æ®åŸç†çš„è¯´æ³•ï¼Œä¸‹åˆ—å“ªé¡¹æ˜¯ä¸æ­£ç¡®çš„ï¼Ÿbd</span><br><span class="line">A. é‡‡ç”¨æ•°æ®åŠ«æŒæ–¹å¼ï¼Œå³ Object.defineProperty() åŠ«æŒ data ä¸­å„å±æ€§ï¼Œå®ç°å“åº”å¼æ•°æ®</span><br><span class="line">B. è§†å›¾ä¸­çš„å˜åŒ–ä¼šé€šè¿‡ watcher æ›´æ–° data ä¸­çš„æ•°æ®</span><br><span class="line">C. è‹¥ data ä¸­æŸå±æ€§å¤šæ¬¡å‘ç”Ÿå˜åŒ–ï¼Œwatcher ä»…ä¼šè¿›å…¥æ›´æ–°é˜Ÿåˆ—ä¸€æ¬¡</span><br><span class="line">D. é€šè¿‡ç¼–è¯‘è¿‡ç¨‹è¿›è¡Œä¾èµ–æ”¶é›†</span><br><span class="line"></span><br><span class="line">4. ä¸‹åˆ—è¯´æ³•ä¸æ­£ç¡®çš„æ˜¯å“ªé¡¹ï¼Ÿb</span><br><span class="line">A. key çš„ä½œç”¨ä¸»è¦æ˜¯ä¸ºäº†é«˜æ•ˆåœ°æ›´æ–°è™šæ‹Ÿ DOM</span><br><span class="line">B. è‹¥æŒ‡å®šäº†ç»„ä»¶çš„ template é€‰é¡¹ï¼Œrender å‡½æ•°ä¸ä¼šæ‰§è¡Œ</span><br><span class="line">C. ä½¿ç”¨ vm.$nextTick å¯ä»¥ç¡®ä¿è·å¾— DOM å¼‚æ­¥æ›´æ–°çš„ç»“æœ</span><br><span class="line">D. è‹¥æ²¡æœ‰ el é€‰é¡¹ï¼Œvm.$mount(dom) å¯å°† Vue å®ä¾‹æŒ‚è½½äºæŒ‡å®šå…ƒç´ ä¸Š</span><br><span class="line"></span><br><span class="line">5. ä¸‹åˆ—å…³äº Vuex çš„æè¿°ï¼Œä¸æ­£ç¡®çš„æ˜¯å“ªé¡¹ï¼Ÿc</span><br><span class="line">A. Vuex é€šè¿‡ Vue å®ç°å“åº”å¼çŠ¶æ€ï¼Œå› æ­¤åªèƒ½ç”¨äº Vue</span><br><span class="line">B. Vuex æ˜¯ä¸€ä¸ªçŠ¶æ€ç®¡ç†æ¨¡å¼</span><br><span class="line">C. Vuex ä¸»è¦ç”¨äºå¤šè§†å›¾é—´çŠ¶æ€å…¨å±€å…±äº«ä¸ç®¡ç†</span><br><span class="line">D. åœ¨ Vuex ä¸­æ”¹å˜çŠ¶æ€ï¼Œå¯ä»¥é€šè¿‡ mutations å’Œ actions</span><br><span class="line"></span><br><span class="line">6. å…³äº Vue ç»„ä»¶é—´çš„å‚æ•°ä¼ é€’ï¼Œä¸‹åˆ—å“ªé¡¹æ˜¯ä¸æ­£ç¡®çš„ï¼Ÿb</span><br><span class="line">A. è‹¥å­ç»„ä»¶ç»™çˆ¶ç»„ä»¶ä¼ å€¼ï¼Œå¯ä½¿ç”¨ $emit æ–¹æ³•</span><br><span class="line">B. ç¥–å­™ç»„ä»¶ä¹‹é—´å¯ä»¥ä½¿ç”¨ provide å’Œ inject æ–¹å¼è·¨å±‚çº§ç›¸äº’ä¼ å€¼</span><br><span class="line">C. è‹¥å­ç»„ä»¶ä½¿ç”¨ $emit(&#39;say&#39;) æ´¾å‘äº‹ä»¶ï¼Œçˆ¶ç»„ä»¶å¯ä½¿ç”¨ @say ç›‘å¬</span><br><span class="line">D. è‹¥çˆ¶ç»„ä»¶ç»™å­ç»„ä»¶ä¼ å€¼ï¼Œå­ç»„ä»¶å¯é€šè¿‡ props æ¥å—æ•°æ®</span><br><span class="line"></span><br><span class="line">7. ä¸‹åˆ—å…³äº vue-router çš„æè¿°ï¼Œä¸æ­£ç¡®çš„æ˜¯å“ªé¡¹ï¼Ÿc</span><br><span class="line">A. vue-router çš„å¸¸ç”¨æ¨¡å¼æœ‰ hash å’Œ history ä¸¤ç§</span><br><span class="line">B. å¯é€šè¿‡ addRoutes æ–¹æ³•åŠ¨æ€æ·»åŠ è·¯ç”±</span><br><span class="line">C. å¯é€šè¿‡ beforeEnter å¯¹å•ä¸ªç»„ä»¶è¿›è¡Œè·¯ç”±å®ˆå«</span><br><span class="line">D. vue-router å€ŸåŠ© Vue å®ç°å“åº”å¼çš„è·¯ç”±ï¼Œå› æ­¤åªèƒ½ç”¨äº Vue</span><br><span class="line"></span><br><span class="line">8. ä¸‹åˆ—è¯´æ³•ä¸æ­£ç¡®çš„æ˜¯å“ªé¡¹ï¼Ÿc</span><br><span class="line">A. å¯é€šè¿‡ this.$parent æŸ¥æ‰¾å½“å‰ç»„ä»¶çš„çˆ¶ç»„ä»¶</span><br><span class="line">B. å¯ä½¿ç”¨ this.$refs æŸ¥æ‰¾å‘½åå­ç»„ä»¶</span><br><span class="line">C. å¯ä½¿ç”¨ this.$children æŒ‰é¡ºåºæŸ¥æ‰¾å½“å‰ç»„ä»¶çš„ç›´æ¥å­ç»„ä»¶</span><br><span class="line">D. å¯ä½¿ç”¨ $root æŸ¥æ‰¾æ ¹ç»„ä»¶ï¼Œå¹¶å¯é…åˆ children éå†å…¨éƒ¨ç»„ä»¶</span><br><span class="line"></span><br><span class="line">9. ä¸‹åˆ—å…³äº v-model çš„è¯´æ³•ï¼Œå“ªé¡¹æ˜¯ä¸æ­£ç¡®çš„ï¼Ÿc</span><br><span class="line">A. v-model èƒ½å®ç°åŒå‘ç»‘å®š</span><br><span class="line">B. v-model æœ¬è´¨ä¸Šæ˜¯è¯­æ³•ç³–ï¼Œå®ƒè´Ÿè´£ç›‘å¬ç”¨æˆ·çš„è¾“å…¥äº‹ä»¶ä»¥æ›´æ–°æ•°æ®</span><br><span class="line">C. v-model æ˜¯å†…ç½®æŒ‡ä»¤ï¼Œä¸èƒ½ç”¨åœ¨è‡ªå®šä¹‰ç»„ä»¶ä¸Š</span><br><span class="line">D. å¯¹ input ä½¿ç”¨ v-modelï¼Œå®é™…ä¸Šæ˜¯æŒ‡å®šå…¶ :value å’Œ :input</span><br><span class="line"></span><br><span class="line">10. å…³äº Vue çš„ç”Ÿå‘½å‘¨æœŸï¼Œä¸‹åˆ—å“ªé¡¹æ˜¯ä¸æ­£ç¡®çš„ï¼Ÿd</span><br><span class="line">A. DOM æ¸²æŸ“åœ¨ mounted ä¸­å°±å·²ç»å®Œæˆäº†</span><br><span class="line">B. Vue å®ä¾‹ä»åˆ›å»ºåˆ°é”€æ¯çš„è¿‡ç¨‹ï¼Œå°±æ˜¯ç”Ÿå‘½å‘¨æœŸ</span><br><span class="line">C. created è¡¨ç¤ºå®Œæˆæ•°æ®è§‚æµ‹ã€å±æ€§å’Œæ–¹æ³•çš„è¿ç®—å’Œåˆå§‹åŒ–äº‹ä»¶ï¼Œæ­¤æ—¶ $el å±æ€§è¿˜æœªæ˜¾ç¤ºå‡ºæ¥</span><br><span class="line">D. é¡µé¢é¦–æ¬¡åŠ è½½è¿‡ç¨‹ä¸­ï¼Œä¼šä¾æ¬¡è§¦å‘ beforeCreateï¼Œcreatedï¼ŒbeforeMountï¼Œmountedï¼ŒbeforeUpdateï¼Œupdated</span><br></pre></td></tr></table></figure>

<a id="more"></a>

<p>å¥½åœ¨æ‹œå¤©å“¥æ‰€èµï¼Œæˆ‘ä»¬è¿˜æ˜¯åˆ·å‡ºäº†ã€Œæƒå¨çš„ã€å‚è€ƒç­”æ¡ˆï¼Œè¯·æŸ¥æ”¶ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">1. BCD</span><br><span class="line">2. ABCD</span><br><span class="line">3. BD</span><br><span class="line">4. B</span><br><span class="line">5. C</span><br><span class="line">6. B</span><br><span class="line">7. C</span><br><span class="line">8. C</span><br><span class="line">9. C</span><br><span class="line">10. D</span><br></pre></td></tr></table></figure>

<p>plus: <a href="https://mp.weixin.qq.com/s/a1mnUief7w9SqSRC8jlDEQ" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/a1mnUief7w9SqSRC8jlDEQ</a></p>
<h3 id="ç”Ÿå‘½å‘¨æœŸæ³¨æ„ç‚¹ï¼š"><a href="#ç”Ÿå‘½å‘¨æœŸæ³¨æ„ç‚¹ï¼š" class="headerlink" title="ç”Ÿå‘½å‘¨æœŸæ³¨æ„ç‚¹ï¼š"></a>ç”Ÿå‘½å‘¨æœŸæ³¨æ„ç‚¹ï¼š</h3><p>ä¸€äº›åº”ç”¨é’©å­å‡½æ•°çš„æƒ³æ³•</p>
<ul>
<li><p>åœ¨createdé’©å­ä¸­å¯ä»¥å¯¹dataæ•°æ®è¿›è¡Œæ“ä½œï¼Œè¿™ä¸ªæ—¶å€™å¯ä»¥è¿›è¡Œajaxè¯·æ±‚å°†è¿”å›çš„æ•°æ®èµ‹ç»™dataã€‚</p>
</li>
<li><p>è™½ç„¶updatedå‡½æ•°ä¼šåœ¨æ•°æ®å˜åŒ–æ—¶è¢«è§¦å‘ï¼Œä½†å´ä¸èƒ½å‡†ç¡®çš„åˆ¤æ–­æ˜¯é‚£ä¸ªå±æ€§å€¼è¢«æ”¹å˜ï¼Œæ‰€ä»¥åœ¨å®é™…æƒ…å†µä¸­ç”¨computedæˆ–matchå‡½æ•°æ¥ç›‘å¬å±æ€§çš„å˜åŒ–ï¼Œå¹¶åšä¸€äº›å…¶ä»–çš„æ“ä½œã€‚</p>
</li>
<li><p>åœ¨mountedé’©å­å¯¹æŒ‚è½½çš„domè¿›è¡Œæ“ä½œï¼Œæ­¤æ—¶ï¼ŒDOMå·²ç»è¢«æ¸²æŸ“åˆ°é¡µé¢ä¸Šã€‚</p>
</li>
<li><p>åœ¨ä½¿ç”¨vue-routeræ—¶æœ‰æ—¶éœ€è¦ä½¿ç”¨<keep-alive></keep-alive>æ¥ç¼“å­˜ç»„ä»¶çŠ¶æ€ï¼Œè¿™ä¸ªæ—¶å€™createdé’©å­å°±ä¸ä¼šè¢«é‡å¤è°ƒç”¨äº†ï¼Œå¦‚æœæˆ‘ä»¬çš„å­ç»„ä»¶éœ€è¦åœ¨æ¯æ¬¡åŠ è½½æˆ–åˆ‡æ¢çŠ¶æ€çš„æ—¶å€™è¿›è¡ŒæŸäº›æ“ä½œï¼Œå¯ä»¥ä½¿ç”¨activatedé’©å­è§¦å‘ã€‚</p>
</li>
<li><p>æ‰€æœ‰çš„ç”Ÿå‘½å‘¨æœŸé’©å­è‡ªåŠ¨ç»‘å®š this ä¸Šä¸‹æ–‡åˆ°å®ä¾‹ä¸­ï¼Œæ‰€ä»¥ä¸èƒ½ä½¿ç”¨ç®­å¤´å‡½æ•°æ¥å®šä¹‰ä¸€ä¸ªç”Ÿå‘½å‘¨æœŸæ–¹æ³• (ä¾‹å¦‚ created: () =&gt; this.fetchTodos())ã€‚è¿™æ˜¯å¯¼è‡´thisæŒ‡å‘çˆ¶çº§ã€‚</p>
<p>å°ç»“</p>
</li>
<li><p>åŠ è½½æ¸²æŸ“è¿‡ç¨‹</p>
</li>
</ul>
<blockquote>
<p>çˆ¶beforeCreate-&gt;çˆ¶created-&gt;çˆ¶beforeMount-&gt;å­beforeCreate-&gt;å­created-&gt;å­beforeMount-&gt;å­mounted-&gt;çˆ¶mounted</p>
</blockquote>
<ul>
<li>å­ç»„ä»¶æ›´æ–°è¿‡ç¨‹</li>
</ul>
<blockquote>
<p>çˆ¶beforeUpdate-&gt;å­beforeUpdate-&gt;å­updated-&gt;çˆ¶updated</p>
</blockquote>
<ul>
<li>çˆ¶ç»„ä»¶æ›´æ–°è¿‡ç¨‹</li>
</ul>
<blockquote>
<p>çˆ¶beforeUpdate-&gt;çˆ¶updated</p>
</blockquote>
<ul>
<li>é”€æ¯è¿‡ç¨‹</li>
</ul>
<blockquote>
<p>çˆ¶beforeDestroy-&gt;å­beforeDestroy-&gt;å­destroyed-&gt;çˆ¶destroyed</p>
</blockquote>
<h3 id="è·¯ç”±ç¯‡"><a href="#è·¯ç”±ç¯‡" class="headerlink" title="è·¯ç”±ç¯‡"></a>è·¯ç”±ç¯‡</h3><h4 id="vueè·¯ç”±hashæ¨¡å¼å’Œhistoryæ¨¡å¼å®ç°åŸç†åˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Œä»–ä»¬çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#vueè·¯ç”±hashæ¨¡å¼å’Œhistoryæ¨¡å¼å®ç°åŸç†åˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Œä»–ä»¬çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="vueè·¯ç”±hashæ¨¡å¼å’Œhistoryæ¨¡å¼å®ç°åŸç†åˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Œä»–ä»¬çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ"></a>vueè·¯ç”±hashæ¨¡å¼å’Œhistoryæ¨¡å¼å®ç°åŸç†åˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Œä»–ä»¬çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ</h4><ul>
<li><p>hash æ¨¡å¼ï¼š</p>
</li>
<li><ul>
<li>#åé¢ hash å€¼çš„å˜åŒ–ï¼Œä¸ä¼šå¯¼è‡´æµè§ˆå™¨å‘æœåŠ¡å™¨å‘å‡ºè¯·æ±‚ï¼Œæµè§ˆå™¨ä¸å‘å‡ºè¯·æ±‚ï¼Œå°±ä¸ä¼šåˆ·æ–°é¡µé¢</li>
<li>é€šè¿‡ç›‘å¬ <strong>hashchange</strong> äº‹ä»¶å¯ä»¥çŸ¥é“ hash å‘ç”Ÿäº†å“ªäº›å˜åŒ–ï¼Œç„¶åæ ¹æ® hash å˜åŒ–æ¥å®ç°æ›´æ–°é¡µé¢éƒ¨åˆ†å†…å®¹çš„æ“ä½œã€‚</li>
</ul>
</li>
<li><p>history æ¨¡å¼ï¼š</p>
</li>
<li><ul>
<li>history æ¨¡å¼çš„å®ç°ï¼Œä¸»è¦æ˜¯ HTML5 æ ‡å‡†å‘å¸ƒçš„ä¸¤ä¸ª APIï¼Œ<strong>pushState</strong> å’Œ <strong>replaceState</strong>ï¼Œè¿™ä¸¤ä¸ª API å¯ä»¥åœ¨æ”¹å˜ urlï¼Œä½†æ˜¯ä¸ä¼šå‘é€è¯·æ±‚ã€‚è¿™æ ·å°±å¯ä»¥ç›‘å¬ url å˜åŒ–æ¥å®ç°æ›´æ–°é¡µé¢éƒ¨åˆ†å†…å®¹çš„æ“ä½œ</li>
</ul>
</li>
<li><p>åŒºåˆ«</p>
</li>
<li><ul>
<li>url å±•ç¤ºä¸Šï¼Œhash æ¨¡å¼æœ‰â€œ#â€ï¼Œhistory æ¨¡å¼æ²¡æœ‰</li>
<li>åˆ·æ–°é¡µé¢æ—¶ï¼Œhash æ¨¡å¼å¯ä»¥æ­£å¸¸åŠ è½½åˆ° hash å€¼å¯¹åº”çš„é¡µé¢ï¼Œè€Œ history æ²¡æœ‰å¤„ç†çš„è¯ï¼Œä¼šè¿”å› 404ï¼Œä¸€èˆ¬éœ€è¦åç«¯å°†æ‰€æœ‰é¡µé¢éƒ½é…ç½®é‡å®šå‘åˆ°é¦–é¡µè·¯ç”±</li>
<li>å…¼å®¹æ€§ï¼Œhash å¯ä»¥æ”¯æŒä½ç‰ˆæœ¬æµè§ˆå™¨å’Œ IEã€‚</li>
</ul>
</li>
</ul>
]]></content>
      <categories>
        <category>vue</category>
      </categories>
      <tags>
        <tag>vue</tag>
        <tag>é¢è¯•</tag>
      </tags>
  </entry>
  <entry>
    <title>vueè‡ªå®šä¹‰æŒ‡ä»¤</title>
    <url>/2020/08/05/vue%E8%87%AA%E5%AE%9A%E4%B9%89%E6%8C%87%E4%BB%A4/</url>
    <content><![CDATA[<h3 id="å…¨å±€è‡ªå®šä¹‰æŒ‡ä»¤"><a href="#å…¨å±€è‡ªå®šä¹‰æŒ‡ä»¤" class="headerlink" title="å…¨å±€è‡ªå®šä¹‰æŒ‡ä»¤"></a>å…¨å±€è‡ªå®šä¹‰æŒ‡ä»¤</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">    &lt;p&gt;é¡µé¢è½½å…¥æ—¶ï¼Œinput å…ƒç´ è‡ªåŠ¨è·å–ç„¦ç‚¹ï¼š&lt;&#x2F;p&gt;</span><br><span class="line">    &lt;input v-focus&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line"> </span><br><span class="line">&lt;script&gt;</span><br><span class="line">&#x2F;&#x2F; æ³¨å†Œä¸€ä¸ªå…¨å±€è‡ªå®šä¹‰æŒ‡ä»¤ v-focus</span><br><span class="line">Vue.directive(&#39;focus&#39;, &#123;</span><br><span class="line">  &#x2F;&#x2F; å½“ç»‘å®šå…ƒç´ æ’å…¥åˆ° DOM ä¸­ã€‚</span><br><span class="line">  inserted: function (el) &#123;</span><br><span class="line">    &#x2F;&#x2F; èšç„¦å…ƒç´ </span><br><span class="line">    el.focus()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line">&#x2F;&#x2F; åˆ›å»ºæ ¹å®ä¾‹</span><br><span class="line">new Vue(&#123;</span><br><span class="line">  el: &#39;#app&#39;</span><br><span class="line">&#125;)</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<a id="more"></a>

<h3 id="å±€éƒ¨è‡ªå®šä¹‰æŒ‡ä»¤"><a href="#å±€éƒ¨è‡ªå®šä¹‰æŒ‡ä»¤" class="headerlink" title="å±€éƒ¨è‡ªå®šä¹‰æŒ‡ä»¤"></a>å±€éƒ¨è‡ªå®šä¹‰æŒ‡ä»¤</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">  &lt;p&gt;é¡µé¢è½½å…¥æ—¶ï¼Œinput å…ƒç´ è‡ªåŠ¨è·å–ç„¦ç‚¹ï¼š&lt;&#x2F;p&gt;</span><br><span class="line">  &lt;input v-focus&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line"> </span><br><span class="line">&lt;script&gt;</span><br><span class="line">&#x2F;&#x2F; åˆ›å»ºæ ¹å®ä¾‹</span><br><span class="line">new Vue(&#123;</span><br><span class="line">  el: &#39;#app&#39;,</span><br><span class="line">  directives: &#123;</span><br><span class="line">    &#x2F;&#x2F; æ³¨å†Œä¸€ä¸ªå±€éƒ¨çš„è‡ªå®šä¹‰æŒ‡ä»¤ v-focus</span><br><span class="line">    focus: &#123;</span><br><span class="line">      &#x2F;&#x2F; æŒ‡ä»¤çš„å®šä¹‰</span><br><span class="line">      inserted: function (el) &#123;</span><br><span class="line">        &#x2F;&#x2F; èšç„¦å…ƒç´ </span><br><span class="line">        el.focus()</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>



<h3 id="é’©å­"><a href="#é’©å­" class="headerlink" title="é’©å­"></a>é’©å­</h3><h5 id="é’©å­å‡½æ•°"><a href="#é’©å­å‡½æ•°" class="headerlink" title="é’©å­å‡½æ•°"></a>é’©å­å‡½æ•°</h5><p>æŒ‡ä»¤å®šä¹‰å‡½æ•°æä¾›äº†å‡ ä¸ªé’©å­å‡½æ•°ï¼ˆå¯é€‰ï¼‰ï¼š</p>
<ul>
<li><code>bind</code>: åªè°ƒç”¨ä¸€æ¬¡ï¼ŒæŒ‡ä»¤ç¬¬ä¸€æ¬¡ç»‘å®šåˆ°å…ƒç´ æ—¶è°ƒç”¨ï¼Œç”¨è¿™ä¸ªé’©å­å‡½æ•°å¯ä»¥å®šä¹‰ä¸€ä¸ªåœ¨ç»‘å®šæ—¶æ‰§è¡Œä¸€æ¬¡çš„åˆå§‹åŒ–åŠ¨ä½œã€‚</li>
<li><code>inserted</code>: è¢«ç»‘å®šå…ƒç´ æ’å…¥çˆ¶èŠ‚ç‚¹æ—¶è°ƒç”¨ï¼ˆçˆ¶èŠ‚ç‚¹å­˜åœ¨å³å¯è°ƒç”¨ï¼Œä¸å¿…å­˜åœ¨äº document ä¸­ï¼‰ã€‚</li>
<li><code>update</code>: è¢«ç»‘å®šå…ƒç´ æ‰€åœ¨çš„æ¨¡æ¿æ›´æ–°æ—¶è°ƒç”¨ï¼Œè€Œä¸è®ºç»‘å®šå€¼æ˜¯å¦å˜åŒ–ã€‚é€šè¿‡æ¯”è¾ƒæ›´æ–°å‰åçš„ç»‘å®šå€¼ï¼Œå¯ä»¥å¿½ç•¥ä¸å¿…è¦çš„æ¨¡æ¿æ›´æ–°ï¼ˆè¯¦ç»†çš„é’©å­å‡½æ•°å‚æ•°è§ä¸‹ï¼‰ã€‚</li>
<li><code>componentUpdated</code>: è¢«ç»‘å®šå…ƒç´ æ‰€åœ¨æ¨¡æ¿å®Œæˆä¸€æ¬¡æ›´æ–°å‘¨æœŸæ—¶è°ƒç”¨ã€‚</li>
<li><code>unbind</code>: åªè°ƒç”¨ä¸€æ¬¡ï¼Œ æŒ‡ä»¤ä¸å…ƒç´ è§£ç»‘æ—¶è°ƒç”¨ã€‚</li>
</ul>
<h5 id="é’©å­å‡½æ•°å‚æ•°"><a href="#é’©å­å‡½æ•°å‚æ•°" class="headerlink" title="é’©å­å‡½æ•°å‚æ•°"></a>é’©å­å‡½æ•°å‚æ•°</h5><p>é’©å­å‡½æ•°çš„å‚æ•°æœ‰ï¼š</p>
<ul>
<li><p><strong>el</strong>: æŒ‡ä»¤æ‰€ç»‘å®šçš„å…ƒç´ ï¼Œå¯ä»¥ç”¨æ¥ç›´æ¥æ“ä½œ DOM ã€‚</p>
</li>
<li><p>binding</p>
<p>: ä¸€ä¸ªå¯¹è±¡ï¼ŒåŒ…å«ä»¥ä¸‹å±æ€§ï¼š</p>
<ul>
<li><strong>name</strong>: æŒ‡ä»¤åï¼Œä¸åŒ…æ‹¬ <code>v-</code> å‰ç¼€ã€‚</li>
<li><strong>value</strong>: æŒ‡ä»¤çš„ç»‘å®šå€¼ï¼Œ ä¾‹å¦‚ï¼š <code>v-my-directive=&quot;1 + 1&quot;</code>, value çš„å€¼æ˜¯ <code>2</code>ã€‚</li>
<li><strong>oldValue</strong>: æŒ‡ä»¤ç»‘å®šçš„å‰ä¸€ä¸ªå€¼ï¼Œä»…åœ¨ <code>update</code> å’Œ <code>componentUpdated</code> é’©å­ä¸­å¯ç”¨ã€‚æ— è®ºå€¼æ˜¯å¦æ”¹å˜éƒ½å¯ç”¨ã€‚</li>
<li><strong>expression</strong>: ç»‘å®šå€¼çš„è¡¨è¾¾å¼æˆ–å˜é‡åã€‚ ä¾‹å¦‚ <code>v-my-directive=&quot;1 + 1&quot;</code> ï¼Œ expression çš„å€¼æ˜¯ <code>&quot;1 + 1&quot;</code>ã€‚</li>
<li><strong>arg</strong>: ä¼ ç»™æŒ‡ä»¤çš„å‚æ•°ã€‚ä¾‹å¦‚ <code>v-my-directive:foo</code>ï¼Œ arg çš„å€¼æ˜¯ <code>&quot;foo&quot;</code>ã€‚</li>
<li><strong>modifiers</strong>: ä¸€ä¸ªåŒ…å«ä¿®é¥°ç¬¦çš„å¯¹è±¡ã€‚ ä¾‹å¦‚ï¼š <code>v-my-directive.foo.bar</code>, ä¿®é¥°ç¬¦å¯¹è±¡ modifiers çš„å€¼æ˜¯ <code>{ foo: true, bar: true }</code>ã€‚</li>
</ul>
</li>
<li><p><strong>vnode</strong>: Vue ç¼–è¯‘ç”Ÿæˆçš„è™šæ‹ŸèŠ‚ç‚¹ã€‚</p>
</li>
<li><p><strong>oldVnode</strong>: ä¸Šä¸€ä¸ªè™šæ‹ŸèŠ‚ç‚¹ï¼Œä»…åœ¨ <code>update</code> å’Œ <code>componentUpdated</code> é’©å­ä¸­å¯ç”¨ã€‚</p>
</li>
</ul>
<p>  ä»¥ä¸‹å®ä¾‹æ¼”ç¤ºäº†è¿™äº›å‚æ•°çš„ä½¿ç”¨ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;div id&#x3D;&quot;app&quot;  v-runoob:hello.a.b&#x3D;&quot;message&quot;&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line"> </span><br><span class="line">&lt;script&gt;</span><br><span class="line">Vue.directive(&#39;runoob&#39;, &#123;</span><br><span class="line">  bind: function (el, binding, vnode) &#123;</span><br><span class="line">    var s &#x3D; JSON.stringify</span><br><span class="line">    el.innerHTML &#x3D;</span><br><span class="line">      &#39;name: &#39;       + s(binding.name) + &#39;&lt;br&gt;&#39; +</span><br><span class="line">      &#39;value: &#39;      + s(binding.value) + &#39;&lt;br&gt;&#39; +</span><br><span class="line">      &#39;expression: &#39; + s(binding.expression) + &#39;&lt;br&gt;&#39; +</span><br><span class="line">      &#39;argument: &#39;   + s(binding.arg) + &#39;&lt;br&gt;&#39; +</span><br><span class="line">      &#39;modifiers: &#39;  + s(binding.modifiers) + &#39;&lt;br&gt;&#39; +</span><br><span class="line">      &#39;vnode keys: &#39; + Object.keys(vnode).join(&#39;, &#39;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line">new Vue(&#123;</span><br><span class="line">  el: &#39;#app&#39;,</span><br><span class="line">  data: &#123;</span><br><span class="line">    message: &#39;èœé¸Ÿæ•™ç¨‹!&#39;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>



<h3 id="ç®€å†™"><a href="#ç®€å†™" class="headerlink" title="ç®€å†™"></a>ç®€å†™</h3><p>æœ‰æ—¶å€™æˆ‘ä»¬ä¸éœ€è¦å…¶ä»–é’©å­å‡½æ•°ï¼Œæˆ‘ä»¬å¯ä»¥ç®€å†™å‡½æ•°ï¼Œå¦‚ä¸‹æ ¼å¼ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">    &lt;div v-runoob&#x3D;&quot;red&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line"> </span><br><span class="line">&lt;script&gt;</span><br><span class="line">Vue.directive(&#39;runoob&#39;, function (el, binding) &#123;</span><br><span class="line">  &#x2F;&#x2F; è®¾ç½®æŒ‡ä»¤çš„èƒŒæ™¯é¢œè‰²</span><br><span class="line">  el.style.backgroundColor &#x3D; binding.value.color</span><br><span class="line">&#125;)</span><br><span class="line">new Vue(&#123;</span><br><span class="line">  el: &#39;#app&#39;</span><br><span class="line">&#125;)</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>



<p>æŒ‡ä»¤å‡½æ•°å¯æ¥å—æ‰€æœ‰åˆæ³•çš„ JavaScript è¡¨è¾¾å¼ï¼Œä»¥ä¸‹å®ä¾‹ä¼ å…¥äº† JavaScript å¯¹è±¡ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">    &lt;div v-runoob&#x3D;&quot;&#123; color: &#39;green&#39;, text: &#39;èœé¸Ÿæ•™ç¨‹!&#39; &#125;&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line"> </span><br><span class="line">&lt;script&gt;</span><br><span class="line">Vue.directive(&#39;runoob&#39;, function (el, binding) &#123;</span><br><span class="line">    &#x2F;&#x2F; ç®€å†™æ–¹å¼è®¾ç½®æ–‡æœ¬åŠèƒŒæ™¯é¢œè‰²</span><br><span class="line">    el.innerHTML &#x3D; binding.value.text</span><br><span class="line">    el.style.backgroundColor &#x3D; binding.value.color</span><br><span class="line">&#125;)</span><br><span class="line">new Vue(&#123;</span><br><span class="line">  el: &#39;#app&#39;</span><br><span class="line">&#125;)</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>vue</category>
      </categories>
      <tags>
        <tag>vue</tag>
        <tag>directive</tag>
      </tags>
  </entry>
  <entry>
    <title>vueé¡¹ç›®æ­å»º</title>
    <url>/2020/08/05/vue%E9%A1%B9%E7%9B%AE%E6%90%AD%E5%BB%BA/</url>
    <content><![CDATA[<h3 id="ä»æ— åˆ°æœ‰æ­å»º"><a href="#ä»æ— åˆ°æœ‰æ­å»º" class="headerlink" title="ä»æ— åˆ°æœ‰æ­å»º"></a>ä»æ— åˆ°æœ‰æ­å»º</h3><ol>
<li><p>é¦–å…ˆä¸‹è½½node.jsè¦æ±‚ç‰ˆæœ¬åœ¨8.9ä»¥ä¸Š        å®˜ç½‘ï¼š<a href="https://links.jianshu.com/go?to=https%3A%2F%2Fnodejs.org%2Fzh-cn%2F" target="_blank" rel="noopener">https://nodejs.org/zh-cn/</a></p>
<p>ä¸‹è½½å®Œå¯æ£€æŸ¥åœ¨windowsä»»åŠ¡å‘½ä»¤è¡Œé‡Œè¾“å…¥node -v</p>
</li>
</ol>
<ol start="2">
<li>ä½¿ç”¨æ·˜å®NPMé•œåƒæºä¸‹è½½æ¯”è¾ƒå¿«    å‘½ä»¤ï¼šnpm install -g cnpm â€“registry=<a href="https://links.jianshu.com/go?to=https%3A%2F%2Fregistry.npm.taobao.org%2F" target="_blank" rel="noopener">https://registry.npm.taobao.org</a></li>
</ol>
<ol start="3">
<li><p>å®‰è£…vue-cliï¼ˆå…¨å±€å®‰è£…vue-cliï¼‰    å‘½ä»¤ï¼šcnpm install vue-cli -g</p>
<p>æ£€æŸ¥ç¯å¢ƒæ˜¯å¦å®‰è£…ä¸Šï¼švue -V</p>
</li>
</ol>
<p>åˆ›å»ºvueé¡¹ç›®ï¼š</p>
<h5 id="vue-cli2-0å®‰è£…"><a href="#vue-cli2-0å®‰è£…" class="headerlink" title="vue-cli2.0å®‰è£…"></a>vue-cli2.0å®‰è£…</h5><p>vue init webpack vuecli_2.0(åç§°)</p>
<a id="more"></a>

<h5 id="vue-cli3-0åˆ›å»ºé¡¹ç›®"><a href="#vue-cli3-0åˆ›å»ºé¡¹ç›®" class="headerlink" title="vue-cli3.0åˆ›å»ºé¡¹ç›®"></a>vue-cli3.0åˆ›å»ºé¡¹ç›®</h5><p>1ã€vue create vuecli_3.0(åç§°)<br>2ã€é»˜è®¤é€‰æ‹©defaultæ–¹å¼å³å¯</p>
<h5 id="vue2-0å’Œvue3-0çš„åŒºåˆ«"><a href="#vue2-0å’Œvue3-0çš„åŒºåˆ«" class="headerlink" title="vue2.0å’Œvue3.0çš„åŒºåˆ«"></a>vue2.0å’Œvue3.0çš„åŒºåˆ«</h5><p>1.æ‰“åŒ…æ–¹å¼ï¼š<br>â€‹    2.0æ˜¯é€šè¿‡:npm run dev<br>â€‹    3.0æ˜¯ï¼šnpm run serve<br>â€‹    è‡³äºä¸ºä»€ä¹ˆä¼šå˜ï¼Œæ¥çœ‹ä¸€ä¸‹package.json</p>
<p>2.æ–‡ä»¶å¤¹ç›®å½•ï¼š<br>â€‹    3.0å–æ¶ˆæ‰äº†configç›®å½•ã€buildç›®å½•ã€staticç›®å½• ,è¿˜æœ‰æœ€é‡è¦çš„ä¸€ç‚¹ï¼Œ3.0çš„å®‰è£…é¡¹ç›®æ—¶è‡ªåŠ¨ä¸‹è½½node-model<br>â€‹    vue.config.jsä¹Ÿæ²¡äº†ï¼Œéœ€è¦æ‰‹åŠ¨æ·»åŠ ã€‚</p>
<p>vue create æ˜¯vue-cli3.xçš„åˆå§‹åŒ–æ–¹å¼ï¼Œç›®å‰æ¨¡æ¿æ˜¯å›ºå®šçš„ï¼Œæ¨¡æ¿é€‰é¡¹å¯è‡ªç”±é…ç½®ï¼Œåˆ›å»ºå‡ºæ¥çš„æ˜¯vue-cli3çš„é¡¹ç›®ï¼Œä¸cue-cli2é¡¹ç›®ç»“æ„ä¸åŒï¼Œé…ç½®æ–¹æ³•ä¸åŒï¼Œå…·ä½“é…ç½®æ–¹æ³•å‚è€ƒå®˜æ–¹æ–‡æ¡£ã€‚vue init æ˜¯vue-cli2.xçš„åˆå§‹åŒ–æ–¹å¼ï¼Œå¯ä»¥ä½¿ç”¨githubä¸Šé¢çš„ä¸€äº›æ¨¡æ¿æ¥åˆå§‹åŒ–é¡¹ç›®ï¼Œwebpackæ˜¯å®˜æ–¹æ¨èçš„æ ‡å‡†æ¨¡æ¿åã€‚vue-cli2.xé¡¹ç›®å‘3.xè¿ç§»åªéœ€è¦æŠŠstaticç›®å½•å¤åˆ¶åˆ°publicç›®å½•ä¸‹ï¼Œè€é¡¹ç›®çš„srcç›®å½•è¦†ç›–3.xçš„srcç›®å½•(å¦‚æœä¿®æ”¹äº†é…ç½®ï¼Œå¯ä»¥æŸ¥çœ‹æ–‡æ¡£ï¼Œç”¨cli3çš„æ–¹æ³•è¿›è¡Œé…ç½®)</p>
<h5 id="vue-cli2å‡çº§åˆ°vue-cli3"><a href="#vue-cli2å‡çº§åˆ°vue-cli3" class="headerlink" title="vue cli2å‡çº§åˆ°vue cli3"></a>vue cli2å‡çº§åˆ°vue cli3</h5><p>1.å…ˆå‡çº§npmçš„ç‰ˆæœ¬</p>
<p>â€‹    npm install -g npm</p>
<p>2.å†å¸è½½ä¹‹å‰çš„vue cli 2.9.6</p>
<p>â€‹    npm uninstall -g @vue/cli</p>
<p>3.ä¸‹è½½æœ€æ–°çš„vue cliç‰ˆæœ¬</p>
<p>â€‹    npm install -g @vue/cli</p>
<h5 id="è¿è¡Œ"><a href="#è¿è¡Œ" class="headerlink" title="è¿è¡Œ"></a>è¿è¡Œ</h5><p> è¿›å…¥æ­¤æ–‡ä»¶å¤¹ï¼šcd vuecli_2.0/vuecli_3.0</p>
<p>è¿è¡Œï¼šnpm installï¼ˆâ€™webpack-dev-serverâ€™ ä¸æ˜¯å†…éƒ¨æˆ–å¤–éƒ¨å‘½ä»¤ï¼Œä¹Ÿä¸æ˜¯å¯è¿è¡Œçš„ç¨‹åº æˆ–æ‰¹å¤„ç†æ–‡ä»¶ã€‚ï¼‰</p>
<p>è¿è¡Œï¼šnpm run dev        </p>
<p>è¿è¡Œä¹‹åä¼šå¯¼å‡ºç½‘å€ï¼š<a href="http://localhost:8080" target="_blank" rel="noopener">http://localhost:8080</a></p>
<p>åœ¨ç½‘é¡µä¸Šè¾“å…¥ä¸Šé¢çš„ç½‘å€å³å¯</p>
]]></content>
      <categories>
        <category>vue</category>
      </categories>
      <tags>
        <tag>vue</tag>
        <tag>æ­å»º</tag>
      </tags>
  </entry>
  <entry>
    <title>webpack4æœ€å…¨è§£æ</title>
    <url>/2020/09/23/webpack4%E6%9C%80%E5%85%A8%E8%A7%A3%E6%9E%90/</url>
    <content><![CDATA[<h4 id="å‘½ä»¤åˆé›†"><a href="#å‘½ä»¤åˆé›†" class="headerlink" title="å‘½ä»¤åˆé›†"></a>å‘½ä»¤åˆé›†</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">webpack-cliå¯ä»¥è®©æˆ‘ä»¬åœ¨å‘½ä»¤è¡Œé‡Œè¾“å…¥webpackç›¸å…³å‘½ä»¤</span><br><span class="line"></span><br><span class="line">æœ¬åœ°å®‰è£…webpack webpack-cli</span><br><span class="line">npm webpack webpack-cli -D </span><br><span class="line"></span><br><span class="line">ç”Ÿæˆé»˜è®¤çš„packpage.json</span><br><span class="line">npm init -y</span><br><span class="line"></span><br><span class="line">æŸ¥çœ‹æ—§çš„ç‰ˆæœ¬å·</span><br><span class="line">npm info webpack</span><br><span class="line"></span><br><span class="line">å…¨å±€å®‰è£…ç¿»è¯‘æŸä¸ªjs</span><br><span class="line">webpack index.js</span><br><span class="line"></span><br><span class="line">æœ¬åœ°å®‰è£…ç¿»è¯‘æŸä¸ªjs</span><br><span class="line">npx webpack index.js</span><br><span class="line"></span><br><span class="line">æŸ¥çœ‹æœ¬åœ°å®‰è£…çš„webpack</span><br><span class="line">npx webpack -v </span><br><span class="line"></span><br><span class="line">æ›´æ”¹é…ç½®æ–‡ä»¶(ç”±é»˜è®¤çš„webpack.config.jsæ”¹æˆwebpackconfig.js)</span><br><span class="line">npx webpack --config webpackconfig.js</span><br></pre></td></tr></table></figure>

<a id="more"></a>

<h4 id="é…ç½®è§£é‡Š"><a href="#é…ç½®è§£é‡Š" class="headerlink" title="é…ç½®è§£é‡Š"></a>é…ç½®è§£é‡Š</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">module.exports&#x3D;&#123;</span><br><span class="line">	mode:&quot;production&quot;,&#x2F;&#x2F;é»˜è®¤æ¨¡å¼ï¼Œæ‰“åŒ…å‡ºçš„jsæ˜¯è¢«å‹ç¼©è¿‡çš„</span><br><span class="line">	&#x2F;&#x2F;mode:&quot;development&quot;,&#x2F;&#x2F;å¼€å‘æ¨¡å¼ï¼Œæ‰“åŒ…å‡ºçš„jsæ˜¯åŸç”Ÿ</span><br><span class="line">	devtool:&quot;cheap-inline-module-source-map&quot;,</span><br><span class="line">	&#x2F;&#x2F;development devtool:&quot;cheap-module-eval-source-map&quot;</span><br><span class="line">	&#x2F;&#x2F;production devtool:&quot;cheap-module-source-map&quot;</span><br><span class="line">	&#x2F;&#x2F;source-map--ä¼šç”Ÿæˆä¸€ä¸ªmapçš„æ˜ å°„æ–‡ä»¶ï¼Œinline-æ˜ å°„å…³ç³»æ”¾è¿›bundle.jså»ï¼Œcheap-åªæç¤ºå¤šå°‘è¡Œé”™è¯¯ï¼Œä¸æç¤ºåˆ—ï¼Œæé«˜æ‰“åŒ…é€Ÿåº¦ï¼Œå¹¶ä¸”åªæ£€æŸ¥è‡ªå·±çš„ä¸šåŠ¡ä»£ç ï¼Œmodule-ä¹Ÿæ£€æŸ¥ç¬¬ä¸‰æ–¹çš„ä»£ç ï¼Œevalä½¿ç”¨evalå‡½æ•°ç”Ÿæˆæ˜ å°„å…³ç³»</span><br><span class="line">    &#x2F;&#x2F;å…¥å£æ–‡ä»¶çš„é…ç½®é¡¹</span><br><span class="line">    entry:&#123;&#125;,</span><br><span class="line">    &#x2F;&#x2F;å‡ºå£æ–‡ä»¶çš„é…ç½®é¡¹</span><br><span class="line">    output:&#123;&#125;,</span><br><span class="line">    &#x2F;&#x2F;æ¨¡å—ï¼šä¾‹å¦‚è§£è¯»CSS,å›¾ç‰‡å¦‚ä½•è½¬æ¢ï¼Œå‹ç¼©</span><br><span class="line">    module:&#123;&#125;,</span><br><span class="line">    &#x2F;&#x2F;æ’ä»¶ï¼Œç”¨äºç”Ÿäº§æ¨¡ç‰ˆå’Œå„é¡¹åŠŸèƒ½</span><br><span class="line">    plugins:[],</span><br><span class="line">    &#x2F;&#x2F;é…ç½®webpackå¼€å‘æœåŠ¡åŠŸèƒ½</span><br><span class="line">    devServer:&#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="æ‰‹å†™æ¨¡æ‹Ÿwebpack-dev-server-webpack-dev-middleware"><a href="#æ‰‹å†™æ¨¡æ‹Ÿwebpack-dev-server-webpack-dev-middleware" class="headerlink" title="æ‰‹å†™æ¨¡æ‹Ÿwebpack-dev-server(webpack-dev-middleware)"></a>æ‰‹å†™æ¨¡æ‹Ÿwebpack-dev-server(webpack-dev-middleware)</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install webpack-dev-middleware express -D</span><br></pre></td></tr></table></figure>

<p><img src="/2020/09/23/webpack4%E6%9C%80%E5%85%A8%E8%A7%A3%E6%9E%90/image-20200924160201890.png" alt="image-20200924160201890"></p>
<p><img src="/2020/09/23/webpack4%E6%9C%80%E5%85%A8%E8%A7%A3%E6%9E%90/image-20200924160033781.png" alt="image-20200924160033781"></p>
<h4 id="babel-polyfillï¼ˆæ³¨å…¥es6çš„è¯­æ³•ï¼‰"><a href="#babel-polyfillï¼ˆæ³¨å…¥es6çš„è¯­æ³•ï¼‰" class="headerlink" title="@babel/polyfillï¼ˆæ³¨å…¥es6çš„è¯­æ³•ï¼‰"></a>@babel/polyfillï¼ˆæ³¨å…¥es6çš„è¯­æ³•ï¼‰</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install @babel&#x2F;pollyfill --save</span><br></pre></td></tr></table></figure>

<h5 id="main-jså¼•å…¥-babel-polyfill"><a href="#main-jså¼•å…¥-babel-polyfill" class="headerlink" title="main.jså¼•å…¥@babel/polyfill"></a>main.jså¼•å…¥@babel/polyfill</h5><p><img src="/2020/09/23/webpack4%E6%9C%80%E5%85%A8%E8%A7%A3%E6%9E%90/image-20200924164534979.png" alt="image-20200924164534979"></p>
<h5 id="å±æ€§ï¼ˆtargetsï¼šä»€ä¹ˆæ¡ä»¶ä¸‹éœ€è¦å¼•å…¥ï¼ŒuseBuiltInsï¼šæŒ‰éœ€å¼•å…¥ï¼‰"><a href="#å±æ€§ï¼ˆtargetsï¼šä»€ä¹ˆæ¡ä»¶ä¸‹éœ€è¦å¼•å…¥ï¼ŒuseBuiltInsï¼šæŒ‰éœ€å¼•å…¥ï¼‰" class="headerlink" title="å±æ€§ï¼ˆtargetsï¼šä»€ä¹ˆæ¡ä»¶ä¸‹éœ€è¦å¼•å…¥ï¼ŒuseBuiltInsï¼šæŒ‰éœ€å¼•å…¥ï¼‰"></a>å±æ€§ï¼ˆtargetsï¼šä»€ä¹ˆæ¡ä»¶ä¸‹éœ€è¦å¼•å…¥ï¼ŒuseBuiltInsï¼šæŒ‰éœ€å¼•å…¥ï¼‰</h5><p><img src="/2020/09/23/webpack4%E6%9C%80%E5%85%A8%E8%A7%A3%E6%9E%90/image-20200924164800345.png" alt="image-20200924164800345"></p>
<h5 id="ä¹¦å†™ç¬¬ä¸‰æ–¹åº“çš„æ—¶å€™ï¼Œä¸Šé¢çš„å†™æ³•ä¼šæ±¡æŸ“å…¨å±€ï¼Œå»ºè®®ä½¿ç”¨ä¸‹é¢çš„æ–¹å¼"><a href="#ä¹¦å†™ç¬¬ä¸‰æ–¹åº“çš„æ—¶å€™ï¼Œä¸Šé¢çš„å†™æ³•ä¼šæ±¡æŸ“å…¨å±€ï¼Œå»ºè®®ä½¿ç”¨ä¸‹é¢çš„æ–¹å¼" class="headerlink" title="ä¹¦å†™ç¬¬ä¸‰æ–¹åº“çš„æ—¶å€™ï¼Œä¸Šé¢çš„å†™æ³•ä¼šæ±¡æŸ“å…¨å±€ï¼Œå»ºè®®ä½¿ç”¨ä¸‹é¢çš„æ–¹å¼"></a>ä¹¦å†™ç¬¬ä¸‰æ–¹åº“çš„æ—¶å€™ï¼Œä¸Šé¢çš„å†™æ³•ä¼šæ±¡æŸ“å…¨å±€ï¼Œå»ºè®®ä½¿ç”¨ä¸‹é¢çš„æ–¹å¼</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install @babel&#x2F;plugin-transform-runtime --save-dev</span><br><span class="line">npm install @babel&#x2F;runtime --save</span><br><span class="line">&#x2F;&#x2F;corejsä»falseæ”¹æˆ2éœ€è¦ä¸‹è½½corejs2</span><br><span class="line">npm install @babel&#x2F;runtime-corejs2 --save</span><br></pre></td></tr></table></figure>

<p><strong>æ³¨é‡Šå¼•å…¥</strong></p>
<p><img src="/2020/09/23/webpack4%E6%9C%80%E5%85%A8%E8%A7%A3%E6%9E%90/image-20200924165956498.png" alt="image-20200924165956498"></p>
<p><img src="/2020/09/23/webpack4%E6%9C%80%E5%85%A8%E8%A7%A3%E6%9E%90/image-20200924171225161.png" alt="image-20200924171225161"></p>
<p><img src="/2020/09/23/webpack4%E6%9C%80%E5%85%A8%E8%A7%A3%E6%9E%90/image-20200924165725570.png" alt="image-20200924165725570"></p>
<h4 id="ä½¿ç”¨webpackä¸­çš„babelæ‰“åŒ…react"><a href="#ä½¿ç”¨webpackä¸­çš„babelæ‰“åŒ…react" class="headerlink" title="ä½¿ç”¨webpackä¸­çš„babelæ‰“åŒ…react"></a>ä½¿ç”¨webpackä¸­çš„babelæ‰“åŒ…react</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install @bable&#x2F;preset-react --save-dev</span><br><span class="line">npm install react react-dom --save</span><br></pre></td></tr></table></figure>

<p><img src="/2020/09/23/webpack4%E6%9C%80%E5%85%A8%E8%A7%A3%E6%9E%90/image-20200924172440951.png" alt="image-20200924172440951"></p>
<p><img src="/2020/09/23/webpack4%E6%9C%80%E5%85%A8%E8%A7%A3%E6%9E%90/image-20200924171913293.png" alt="image-20200924171913293"></p>
<h4 id="Tree-Shaking-åªæ”¯æŒES-module"><a href="#Tree-Shaking-åªæ”¯æŒES-module" class="headerlink" title="Tree Shaking(åªæ”¯æŒES module)"></a>Tree Shaking(åªæ”¯æŒES module)</h4><p>developmentæ¨¡å¼ä¸‹éœ€è¦é…ç½®optimization</p>
<p><img src="/2020/09/23/webpack4%E6%9C%80%E5%85%A8%E8%A7%A3%E6%9E%90/image-20200924174545413.png" alt="image-20200924174545413"></p>
<p><img src="/2020/09/23/webpack4%E6%9C%80%E5%85%A8%E8%A7%A3%E6%9E%90/image-20200924174650855.png" alt="image-20200924174650855"></p>
<p>productionæ¨¡å¼ä¸‹ä¸éœ€è¦é…ç½®optimization</p>
<p>sideEffectsçš„å€¼ä¸ºfalseï¼Œæ„å‘³ç€æ‰€æœ‰æ–‡ä»¶éƒ½éœ€è¦ä½¿ç”¨tree shaking</p>
<p>sideEffects:[â€œ*.cssâ€,â€@bable/polyfillâ€],æ„å‘³ç€è¿™ä¸¤ä¸ªæ–‡ä»¶ä¸éœ€è¦tree shaking</p>
<p><img src="/2020/09/23/webpack4%E6%9C%80%E5%85%A8%E8%A7%A3%E6%9E%90/image-20200924174438221.png" alt="image-20200924174438221"></p>
<h4 id="åŒºåˆ†developmentå’Œproductionç¯å¢ƒ"><a href="#åŒºåˆ†developmentå’Œproductionç¯å¢ƒ" class="headerlink" title="åŒºåˆ†developmentå’Œproductionç¯å¢ƒ"></a>åŒºåˆ†developmentå’Œproductionç¯å¢ƒ</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm run dev(dev)</span><br><span class="line">npm run build(prod)</span><br></pre></td></tr></table></figure>



<p><img src="/2020/09/23/webpack4%E6%9C%80%E5%85%A8%E8%A7%A3%E6%9E%90/image-20200924175922131.png" alt="image-20200924175922131"></p>
<h4 id="åˆ†ç¦»åŸºç¡€webpackçš„config"><a href="#åˆ†ç¦»åŸºç¡€webpackçš„config" class="headerlink" title="åˆ†ç¦»åŸºç¡€webpackçš„config"></a>åˆ†ç¦»åŸºç¡€webpackçš„config</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm intall webpack-merge -D</span><br></pre></td></tr></table></figure>

<p><img src="/2020/09/23/webpack4%E6%9C%80%E5%85%A8%E8%A7%A3%E6%9E%90/image-20200924180246753.png" alt="image-20200924180246753"></p>
]]></content>
      <categories>
        <category>webpack4</category>
      </categories>
      <tags>
        <tag>webpack4</tag>
      </tags>
  </entry>
  <entry>
    <title>webpack3æœ€å…¨è§£æ</title>
    <url>/2020/09/21/webpack3%E6%9C%80%E5%85%A8%E8%A7%A3%E6%9E%90/</url>
    <content><![CDATA[<h3 id="å¼€å§‹ï¼ˆä»¥3-Xç‰ˆæœ¬ä¸ºä¾‹ï¼Œå†…å®¹æœ‰è¿‡æ—¶çš„è¿˜æ²¡æ›´æ–°ï¼‰"><a href="#å¼€å§‹ï¼ˆä»¥3-Xç‰ˆæœ¬ä¸ºä¾‹ï¼Œå†…å®¹æœ‰è¿‡æ—¶çš„è¿˜æ²¡æ›´æ–°ï¼‰" class="headerlink" title="å¼€å§‹ï¼ˆä»¥3.Xç‰ˆæœ¬ä¸ºä¾‹ï¼Œå†…å®¹æœ‰è¿‡æ—¶çš„è¿˜æ²¡æ›´æ–°ï¼‰"></a>å¼€å§‹ï¼ˆä»¥3.Xç‰ˆæœ¬ä¸ºä¾‹ï¼Œå†…å®¹æœ‰è¿‡æ—¶çš„è¿˜æ²¡æ›´æ–°ï¼‰</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;æ–°å»ºæ–‡ä»¶å¤¹</span><br><span class="line">mkdir webpack_demo</span><br><span class="line">cd webpack_demo</span><br><span class="line">&#x2F;&#x2F;å…¨å±€å®‰è£…webpack</span><br><span class="line">npm install -g webpack@3.6.0</span><br><span class="line">&#x2F;&#x2F;åˆå§‹åŒ–ç”Ÿæˆpackage.json</span><br><span class="line">npm init </span><br><span class="line">&#x2F;&#x2F;å¼€å‘æ—¶ä¾èµ–</span><br><span class="line">npm install --save-dev webpack@3.6.0</span><br></pre></td></tr></table></figure>

<a id="more"></a>

<h3 id="å®æ“"><a href="#å®æ“" class="headerlink" title="å®æ“"></a>å®æ“</h3><p>é¦–å…ˆè¿›å…¥ä¸ŠèŠ‚è¯¾æˆ‘ä»¬å»ºç«‹çš„webpack_demoç›®å½•ã€‚è¿›å…¥ååœ¨æ ¹ç›®å½•å»ºç«‹ä¸¤ä¸ªæ–‡ä»¶å¤¹ï¼Œåˆ†åˆ«æ˜¯srcæ–‡ä»¶å¤¹å’Œdistæ–‡ä»¶å¤¹ï¼š</p>
<ul>
<li>srcæ–‡ä»¶å¤¹ï¼šç”¨æ¥å­˜æ”¾æˆ‘ä»¬ç¼–å†™çš„javascriptä»£ç ï¼Œå¯ä»¥ç®€å•çš„ç†è§£ä¸ºç”¨JavaScriptç¼–å†™çš„æ¨¡å—ã€‚</li>
<li>distæ–‡ä»¶å¤¹ï¼šç”¨æ¥å­˜æ”¾ä¾›æµè§ˆå™¨è¯»å–çš„æ–‡ä»¶ï¼Œè¿™ä¸ªæ˜¯webpackæ‰“åŒ…æˆçš„æ–‡ä»¶ã€‚</li>
</ul>
<p>ä½ å¯ä»¥ç†è§£æˆsrcæ˜¯æºç æ–‡ä»¶ï¼Œdistæ˜¯æˆ‘ä»¬ç¼–è¯‘æ‰“åŒ…å¥½çš„æ–‡ä»¶ï¼›ä¸€ä¸ªç”¨äºå¼€å‘ç¯å¢ƒï¼Œä¸€ä¸ªç”¨äºç”Ÿäº§ç¯å¢ƒã€‚</p>
<h4 id="æ–°å»ºæ–‡ä»¶ç›®å½•-ç¼–å†™ç¨‹åºæ–‡ä»¶"><a href="#æ–°å»ºæ–‡ä»¶ç›®å½•-ç¼–å†™ç¨‹åºæ–‡ä»¶" class="headerlink" title="æ–°å»ºæ–‡ä»¶ç›®å½•-ç¼–å†™ç¨‹åºæ–‡ä»¶"></a>æ–°å»ºæ–‡ä»¶ç›®å½•-ç¼–å†™ç¨‹åºæ–‡ä»¶</h4><p>/dist/index.html</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang&#x3D;&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;meta name&#x3D;&quot;viewport&quot; content&#x3D;&quot;width&#x3D;device-width, initial-scale&#x3D;1.0&quot;&gt;</span><br><span class="line">    &lt;meta http-equiv&#x3D;&quot;X-UA-Compatible&quot; content&#x3D;&quot;ie&#x3D;edge&quot;&gt;</span><br><span class="line">    &lt;title&gt;jspang webpack&lt;&#x2F;title&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div id&#x3D;&quot;title&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">    &lt;script src&#x3D;&quot;.&#x2F;bundle.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œå¼•å…¥äº†ä¸€ä¸ªJavaScriptçš„bundle.jsæ–‡ä»¶ã€‚è¿™ä¸ªæ–‡ä»¶ç°åœ¨è¿˜æ²¡æœ‰ï¼Œè¿™æ˜¯ç”¨webpackæ‰§è¡Œæ‰“åŒ…å‘½ä»¤åç”Ÿäº§çš„æ–‡ä»¶ã€‚æˆ‘ä»¬çš„index.htmlå†™å¥½åï¼Œæ¥ä¸‹æ¥åœ¨srcæ–‡ä»¶å¤¹ä¸‹å»ºç«‹entry.jsçš„æ–‡ä»¶ï¼Œç”¨äºç¼–å†™æˆ‘ä»¬çš„JavaScriptä»£ç ï¼Œä¹Ÿæ˜¯æˆ‘ä»¬çš„å…¥å£æ–‡ä»¶ã€‚</p>
<p>src/entry.js</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">document.getElementById(&#39;title&#39;).innerHTML&#x3D;&#39;Hello Webpack&#39;;</span><br></pre></td></tr></table></figure>

<p>è¿™ä¸ªæ–‡ä»¶çš„ä»£ç å¾ˆç®€å•ï¼Œå°±æ˜¯åœ¨</p>
<p>æ ‡ç­¾é‡Œå†™å…¥Hello Webpackè¿™å¥è¯ã€‚</p>
<h4 id="ç¬¬ä¸€æ¬¡Webpackæ‰“åŒ…"><a href="#ç¬¬ä¸€æ¬¡Webpackæ‰“åŒ…" class="headerlink" title="ç¬¬ä¸€æ¬¡Webpackæ‰“åŒ…"></a><strong>ç¬¬ä¸€æ¬¡Webpackæ‰“åŒ…</strong></h4><p>Webpackå…¶å®æ˜¯å¯ä»¥åœ¨ç»ˆç«¯ï¼ˆå‘½ä»¤è¡Œï¼‰ä¸­ä½¿ç”¨çš„ï¼ŒåŸºæœ¬ä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">webpack &#123;entry file&#125; &#123;destination for bundled file&#125;</span><br><span class="line">&#x2F;&#x2F;æœ¬ä¾‹ä¸­</span><br><span class="line">webpack src&#x2F;entry.js dist&#x2F;bundle.js</span><br></pre></td></tr></table></figure>

<ul>
<li>{entery file}:å…¥å£æ–‡ä»¶çš„è·¯å¾„ï¼Œæœ¬æ–‡ä¸­å°±æ˜¯src/entery.jsçš„è·¯å¾„ï¼›</li>
<li>{destination for bundled file}:å¡«å†™æ‰“åŒ…åå­˜æ”¾çš„è·¯å¾„ã€‚</li>
<li>æ³¨æ„ï¼šåœ¨å‘½ä»¤è¡Œä¸­æ˜¯ä¸éœ€è¦å†™{ }çš„ã€‚</li>
</ul>
<p>å‘½ä»¤æ‰§è¡ŒæˆåŠŸåï¼Œä¼šåœ¨distç›®å½•ä¸‹å‡ºç°bundle.jsæ–‡ä»¶ï¼Œè¿™æ—¶æˆ‘ä»¬å°±å¯ä»¥åœ¨æµè§ˆå™¨ä¸­é¢„è§ˆç»“æœäº†ï¼Œç½‘é¡µä¸­æ˜¾ç¤ºå‡ºäº†Hello Webpackçš„ä¿¡æ¯ã€‚</p>
<h4 id="é…ç½®æ–‡ä»¶ï¼šå…¥å£å’Œå‡ºå£-é…ç½®æ–‡ä»¶webpack-config-js"><a href="#é…ç½®æ–‡ä»¶ï¼šå…¥å£å’Œå‡ºå£-é…ç½®æ–‡ä»¶webpack-config-js" class="headerlink" title="é…ç½®æ–‡ä»¶ï¼šå…¥å£å’Œå‡ºå£-é…ç½®æ–‡ä»¶webpack.config.js"></a>é…ç½®æ–‡ä»¶ï¼šå…¥å£å’Œå‡ºå£-é…ç½®æ–‡ä»¶webpack.config.js</h4><p>ä¸ŠèŠ‚è¯¾é€šè¿‡ä¸€ä¸ªå°Demoæˆ‘ä»¬å¯¹Webpackæœ‰äº†åˆæ­¥äº†è§£ï¼Œä½†æ˜¯ä¸ŠèŠ‚è¯¾çš„ç»ˆç«¯æ‰“åŒ…æ–¹æ¡ˆï¼Œåœ¨å®é™…å¼€å‘ä¸­å¹¶ä¸ä½¿ç”¨ï¼Œè€Œæ˜¯ä½¿ç”¨Webpackçš„é…ç½®æ–‡ä»¶çš„æ–¹å¼è¿›è¡Œè®¾ç½®ã€‚è¿™èŠ‚è¯¾æˆ‘ä»¬å°±å­¦ä¸€ä¸‹é…ç½®æ–‡ä»¶çš„å¤§ä½“ç»“æ„å’Œå…¥å£å‡ºå£æ–‡ä»¶çš„é…ç½®ã€‚</p>
<p>webpack.config.jså°±æ˜¯Webpackçš„é…ç½®æ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶éœ€è¦è‡ªå·±åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹æ‰‹åŠ¨å»ºç«‹ã€‚å»ºç«‹å¥½åæˆ‘ä»¬å¯¹å…¶è¿›è¡Œé…ç½®ï¼Œå…ˆçœ‹ä¸‹é¢çš„ä»£ç ï¼ˆwebpack.config.jsçš„åŸºæœ¬ç»“æ„ï¼‰ï¼Œè¿™æ˜¯ä¸€ä¸ªæ²¡æœ‰å†…å®¹çš„æ ‡å‡†webpacké…ç½®æ¨¡ç‰ˆã€‚</p>
<p>webpack.config.js</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">module.exports&#x3D;&#123;</span><br><span class="line">    &#x2F;&#x2F;å…¥å£æ–‡ä»¶çš„é…ç½®é¡¹</span><br><span class="line">    entry:&#123;&#125;,</span><br><span class="line">    &#x2F;&#x2F;å‡ºå£æ–‡ä»¶çš„é…ç½®é¡¹</span><br><span class="line">    output:&#123;&#125;,</span><br><span class="line">    &#x2F;&#x2F;æ¨¡å—ï¼šä¾‹å¦‚è§£è¯»CSS,å›¾ç‰‡å¦‚ä½•è½¬æ¢ï¼Œå‹ç¼©</span><br><span class="line">    module:&#123;&#125;,</span><br><span class="line">    &#x2F;&#x2F;æ’ä»¶ï¼Œç”¨äºç”Ÿäº§æ¨¡ç‰ˆå’Œå„é¡¹åŠŸèƒ½</span><br><span class="line">    plugins:[],</span><br><span class="line">    &#x2F;&#x2F;é…ç½®webpackå¼€å‘æœåŠ¡åŠŸèƒ½</span><br><span class="line">    devServer:&#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>entryï¼šé…ç½®å…¥å£æ–‡ä»¶çš„åœ°å€ï¼Œå¯ä»¥æ˜¯å•ä¸€å…¥å£ï¼Œä¹Ÿå¯ä»¥æ˜¯å¤šå…¥å£ã€‚</li>
<li>outputï¼šé…ç½®å‡ºå£æ–‡ä»¶çš„åœ°å€ï¼Œåœ¨webpack2.Xç‰ˆæœ¬åï¼Œæ”¯æŒå¤šå‡ºå£é…ç½®ã€‚</li>
<li>moduleï¼šé…ç½®æ¨¡å—ï¼Œä¸»è¦æ˜¯è§£æCSSå’Œå›¾ç‰‡è½¬æ¢å‹ç¼©ç­‰åŠŸèƒ½ã€‚</li>
<li>pluginsï¼šé…ç½®æ’ä»¶ï¼Œæ ¹æ®ä½ çš„éœ€è¦é…ç½®ä¸åŒåŠŸèƒ½çš„æ’ä»¶ã€‚</li>
<li>devServerï¼šé…ç½®å¼€å‘æœåŠ¡åŠŸèƒ½ï¼ŒåæœŸæˆ‘ä»¬ä¼šè¯¦ç»†è®²è§£ã€‚</li>
</ul>
<p>entryé€‰é¡¹ï¼ˆå…¥å£é…ç½®ï¼‰</p>
<p>è¿™ä¸ªé€‰é¡¹å°±æ˜¯é…ç½®æˆ‘ä»¬è¦å‹ç¼©çš„æ–‡ä»¶ä¸€èˆ¬æ˜¯JavaScriptæ–‡ä»¶ï¼ˆå½“ç„¶ä¹Ÿå¯ä»¥æ˜¯CSSâ€¦..ï¼‰ã€‚æŒ‰ç…§ä¸ŠèŠ‚è¯¾çš„ä»£ç (å¦‚æœä½ ä¸ŠèŠ‚è¯¾çš„ä»£ç è¿˜æ²¡ä½œï¼Œé‚£ä½ å¯ä»¥è¿”å›å»é‡æ–°ä½œä¸€ä¸‹)ï¼Œè¿™é‡Œè¦å¡«å†™çš„æ˜¯srcç›®å½•ä¸‹çš„entery.jsæ–‡ä»¶ã€‚</p>
<p>wepback.config.jsä¸­çš„entryé€‰é¡¹</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;å…¥å£æ–‡ä»¶çš„é…ç½®é¡¹</span><br><span class="line">entry:&#123;</span><br><span class="line">    &#x2F;&#x2F;é‡Œé¢çš„enteryæ˜¯å¯ä»¥éšä¾¿å†™çš„</span><br><span class="line">    entry:&#39;.&#x2F;src&#x2F;entry.js&#39;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<p><strong>outputé€‰é¡¹ï¼ˆå‡ºå£é…ç½®ï¼‰</strong></p>
<p>å‡ºå£é…ç½®æ˜¯ç”¨æ¥å‘Šè¯‰webpackæœ€åæ‰“åŒ…æ–‡ä»¶çš„åœ°å€å’Œæ–‡ä»¶åç§°çš„ã€‚æŒ‰ç…§ä¸ŠèŠ‚è¯¾çš„æ“ä½œï¼Œåº”è¯¥æ‰“åŒ…åˆ°distç›®å½•ä¸‹ã€‚åœ¨ç¼–å†™å‡ºå£æ–‡ä»¶æ—¶ï¼Œæˆ‘ä»¬éœ€è¦ç”¨åˆ°ä¸€ç‚¹Nodeçš„çŸ¥è¯†ï¼Œå¦‚æœä½ è¿˜ä¸ä¼šNodeä¹Ÿæ²¡æœ‰ å…³ç³»ï¼Œå°±ç®€å•çš„ä¸¤å¥ä»£ç ï¼Œä½ è®°ä½å°±å¯ä»¥äº†ï¼ˆåœ¨è§†é¢‘ä¸­æˆ‘è¿˜æœ‰è¯¦ç»†çš„è®²è§£ï¼‰ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;å‡ºå£æ–‡ä»¶çš„é…ç½®é¡¹</span><br><span class="line">output:&#123;</span><br><span class="line">    &#x2F;&#x2F;æ‰“åŒ…çš„è·¯å¾„æ–‡èŒ</span><br><span class="line">    path:path.resolve(__dirname,&#39;dist&#39;),</span><br><span class="line">    &#x2F;&#x2F;æ‰“åŒ…çš„æ–‡ä»¶åç§°</span><br><span class="line">    filename:&#39;bundle.js&#39;</span><br><span class="line"></span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<p>å¦‚æœä½ åªè¿™æ ·å†™ï¼Œæ˜¯ä¼šæŠ¥é”™çš„ï¼šæ‰¾ä¸åˆ°pathè¿™ä¸ªä¸œè¥¿ã€‚æ‰€ä»¥æˆ‘ä»¬è¦åœ¨webpack.config.jsçš„å¤´éƒ¨å¼•å…¥pathï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const  path  &#x3D;  require(&#39;path&#39;);</span><br></pre></td></tr></table></figure>

<p>å…¶å®path.resolve(__dirname,â€™distâ€™)å°±æ˜¯è·å–äº†é¡¹ç›®çš„ç»å¯¹è·¯å¾„ã€‚</p>
<p>filename:æ˜¯æ‰“åŒ…åçš„æ–‡ä»¶åç§°ï¼Œè¿™é‡Œæˆ‘ä»¬èµ·åä¸ºbundle.jsã€‚</p>
<p>ç°åœ¨webpack.config.jsçš„ä»£ç ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const path &#x3D; require(&#39;path&#39;);</span><br><span class="line">module.exports&#x3D;&#123;</span><br><span class="line">    &#x2F;&#x2F;å…¥å£æ–‡ä»¶çš„é…ç½®é¡¹</span><br><span class="line">    entry:&#123;</span><br><span class="line">        entry:&#39;.&#x2F;src&#x2F;entry.js&#39;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#x2F;&#x2F;å‡ºå£æ–‡ä»¶çš„é…ç½®é¡¹</span><br><span class="line">    output:&#123;</span><br><span class="line">        &#x2F;&#x2F;è¾“å‡ºçš„è·¯å¾„ï¼Œç”¨äº†Nodeè¯­æ³•</span><br><span class="line">        path:path.resolve(__dirname,&#39;dist&#39;),</span><br><span class="line">        &#x2F;&#x2F;è¾“å‡ºçš„æ–‡ä»¶åç§°</span><br><span class="line">        filename:&#39;bundle.js&#39;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#x2F;&#x2F;æ¨¡å—ï¼šä¾‹å¦‚è§£è¯»CSS,å›¾ç‰‡å¦‚ä½•è½¬æ¢ï¼Œå‹ç¼©</span><br><span class="line">    module:&#123;&#125;,</span><br><span class="line">    &#x2F;&#x2F;æ’ä»¶ï¼Œç”¨äºç”Ÿäº§æ¨¡ç‰ˆå’Œå„é¡¹åŠŸèƒ½</span><br><span class="line">    plugins:[],</span><br><span class="line">    &#x2F;&#x2F;é…ç½®webpackå¼€å‘æœåŠ¡åŠŸèƒ½</span><br><span class="line">    devServer:&#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™ä¸ªä»£ç å†™å®Œåï¼Œå¯ä»¥åœ¨ç»ˆç«¯ä¸­ç›´æ¥è¾“å…¥webpackå°±ä¼šè¿›è¡Œæ‰“åŒ…ã€‚</p>
<p>åœ¨å®é™…å¼€å‘ä¸­æˆ‘ä»¬éƒ½æ˜¯é€šè¿‡é…ç½®æ–‡ä»¶è¿›è¡Œæ‰“åŒ…çš„ï¼Œæ‰€ä»¥å¿…é¡»è¦æŒæ¡å¥½ã€‚</p>
<p><strong>å¤šå…¥å£ã€å¤šå‡ºå£é…ç½®</strong></p>
<p>Webpackåœ¨ç‰ˆæœ¬1çš„æ—¶å€™å¾ˆéš¾è®¾ç½®å¤šå‡ºå£æ–‡ä»¶ï¼Œä½†æ˜¯åœ¨2ç‰ˆæœ¬å¼€å§‹å°±å˜çš„å¾ˆæ–¹ä¾¿äº†ã€‚ç›´æ¥çœ‹å¤šå…¥å£å’Œå¤šå‡ºå£çš„æ–‡ä»¶é…ç½®ï¼Œç„¶åå¯ä»¥å’Œå•ä¸€å‡ºå£å¯¹æ¯”ä¸€ä¸‹ï¼Œä½ ä¼šå‘ç°è¿™ç§è®¾ç½®éå¸¸ç®€å•ï¼ˆåªéœ€æ”¹åŠ¨ä¸¤ç‚¹é…ç½®å°±å¯ä»¥ï¼‰ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const path &#x3D; &#96;require&#96;(&#39;path&#39;);</span><br><span class="line">module.exports&#x3D;&#123;</span><br><span class="line">    &#x2F;&#x2F;å…¥å£æ–‡ä»¶çš„é…ç½®é¡¹</span><br><span class="line">    entry:&#123;</span><br><span class="line">        entry:&#39;.&#x2F;src&#x2F;entry.js&#39;,</span><br><span class="line">        &#x2F;&#x2F;è¿™é‡Œæˆ‘ä»¬åˆå¼•å…¥äº†ä¸€ä¸ªå…¥å£æ–‡ä»¶</span><br><span class="line">        entry2:&#39;.&#x2F;src&#x2F;entry2.js&#39;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#x2F;&#x2F;å‡ºå£æ–‡ä»¶çš„é…ç½®é¡¹</span><br><span class="line">    output:&#123;</span><br><span class="line">        &#x2F;&#x2F;è¾“å‡ºçš„è·¯å¾„ï¼Œç”¨äº†Nodeè¯­æ³•</span><br><span class="line">        path:path.resolve(__dirname,&#39;dist&#39;),</span><br><span class="line">        &#x2F;&#x2F;è¾“å‡ºçš„æ–‡ä»¶åç§°</span><br><span class="line">        &#x2F;&#x2F;filename:&#39;[name].js&#39;æ‰“åŒ…åˆ°distæ–‡ä»¶å¤¹ä¸‹</span><br><span class="line">        filename:&#39;js&#x2F;[name].js&#39;&#x2F;&#x2F;æ‰“åŒ…åˆ°dist&#x2F;jsæ–‡ä»¶å¤¹ä¸‹</span><br><span class="line">    &#125;,</span><br><span class="line">    &#x2F;&#x2F;æ¨¡å—ï¼šä¾‹å¦‚è§£è¯»CSS,å›¾ç‰‡å¦‚ä½•è½¬æ¢ï¼Œå‹ç¼©</span><br><span class="line">    module:&#123;&#125;,</span><br><span class="line">    &#x2F;&#x2F;æ’ä»¶ï¼Œç”¨äºç”Ÿäº§æ¨¡ç‰ˆå’Œå„é¡¹åŠŸèƒ½</span><br><span class="line">    plugins:[],</span><br><span class="line">    &#x2F;&#x2F;é…ç½®webpackå¼€å‘æœåŠ¡åŠŸèƒ½</span><br><span class="line">    devServer:&#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹åˆ°ä»£ç çš„ç¬¬7å’Œ14è¡Œè¿›è¡Œäº†å¢åŠ å’Œä¿®æ”¹ï¼Œåœ¨å…¥å£æ–‡ä»¶é…ç½®ä¸­ï¼Œå¢åŠ äº†ä¸€ä¸ªentry2.jsçš„å…¥å£æ–‡ä»¶ï¼ˆè¿™ä¸ªæ–‡ä»¶ä½ éœ€è¦è‡ªå·±æ‰‹åŠ¨å»ºç«‹ï¼‰ï¼Œè¿™æ—¶å€™è¦æ‰“åŒ…çš„å°±æœ‰äº†ä¸¤ä¸ªå…¥å£æ–‡ä»¶ã€‚åœ¨ä»£ç 14è¡Œæˆ‘ä»¬æŠŠåŸæ¥çš„bundle.jsä¿®æ”¹æˆäº†<code>[name].js</code>ã€‚</p>
<p><code>[name]</code>çš„æ„æ€æ˜¯æ ¹æ®å…¥å£æ–‡ä»¶çš„åç§°ï¼Œæ‰“åŒ…æˆç›¸åŒçš„åç§°ï¼Œæœ‰å‡ ä¸ªå…¥å£æ–‡ä»¶ï¼Œå°±å¯ä»¥æ‰“åŒ…å‡ºå‡ ä¸ªæ–‡ä»¶ã€‚</p>
<h4 id="é…ç½®æ–‡ä»¶ï¼š-æœåŠ¡å’Œçƒ­æ›´æ–°-webpack-dev-server"><a href="#é…ç½®æ–‡ä»¶ï¼š-æœåŠ¡å’Œçƒ­æ›´æ–°-webpack-dev-server" class="headerlink" title="é…ç½®æ–‡ä»¶ï¼š æœåŠ¡å’Œçƒ­æ›´æ–°-webpack-dev-server"></a>é…ç½®æ–‡ä»¶ï¼š æœåŠ¡å’Œçƒ­æ›´æ–°-webpack-dev-server</h4><p>ä½œä¸ºä¸€ä¸ªå‰ç«¯å·¥ç¨‹å¸ˆï¼Œæœ€å¤§çš„ç¼–ç¨‹éœ€æ±‚ä¹‹ä¸€å°±æ˜¯æ‰€è§å³æ‰€å¾—çš„å·¥å…·ï¼Œä¹Ÿå°±æ˜¯å¸¸è¯´çš„çƒ­æ›´æ–°ã€‚è¿™èŠ‚è¯¾å°±å­¦ä¹ ç”¨webpack3.6ç‰ˆæœ¬å®ç°çƒ­æ›´æ–°æ•ˆæœã€‚</p>
<p><strong>è®¾ç½®webpack-dev-server</strong></p>
<p>è¦æ‰§è¡Œ<code>webpack-dev-server</code>æ˜¯è¦å…ˆç”¨<code>npm install webpack-dev-server â€“save-dev</code>æ¥è¿›è¡Œä¸‹è½½çš„ã€‚ä¸‹è½½å¥½åï¼Œéœ€è¦é…ç½®ä¸€ä¸‹devServerã€‚æœ€ç®€å•çš„devServeré…ç½®é¡¹åªæœ‰å››ä¸ªã€‚å…ˆçœ‹ä¸€ä¸‹ä»£ç ï¼Œç„¶åæˆ‘å†ä½œè§£é‡Šã€‚</p>
<p>/webpack.config.js</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">devServer:&#123;</span><br><span class="line">        &#x2F;&#x2F;è®¾ç½®åŸºæœ¬ç›®å½•ç»“æ„</span><br><span class="line">        contentBase:path.resolve(__dirname,&#39;dist&#39;),</span><br><span class="line">        &#x2F;&#x2F;æœåŠ¡å™¨çš„IPåœ°å€ï¼Œå¯ä»¥ä½¿ç”¨IPä¹Ÿå¯ä»¥ä½¿ç”¨localhost</span><br><span class="line">        host:&#39;localhost&#39;,</span><br><span class="line">        &#x2F;&#x2F;æœåŠ¡ç«¯å‹ç¼©æ˜¯å¦å¼€å¯</span><br><span class="line">        compress:true,</span><br><span class="line">        &#x2F;&#x2F;é…ç½®æœåŠ¡ç«¯å£å·</span><br><span class="line">        port:1717</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>contentBase:é…ç½®æœåŠ¡å™¨åŸºæœ¬è¿è¡Œè·¯å¾„ï¼Œç”¨äºæ‰¾åˆ°ç¨‹åºæ‰“åŒ…åœ°å€ã€‚</li>
<li>hostï¼šæœåŠ¡è¿è¡Œåœ°å€ï¼Œå»ºè®®ä½¿ç”¨æœ¬æœºIPï¼Œè¿™é‡Œä¸ºäº†è®²è§£æ–¹ä¾¿ï¼Œæ‰€ä»¥ç”¨localhostã€‚</li>
<li>compressï¼šæœåŠ¡å™¨ç«¯å‹ç¼©é€‰å‹ï¼Œä¸€èˆ¬è®¾ç½®ä¸ºå¼€å¯ï¼Œå¦‚æœä½ å¯¹æœåŠ¡å™¨å‹ç¼©æ„Ÿå…´è¶£ï¼Œå¯ä»¥è‡ªè¡Œå­¦ä¹ ã€‚</li>
<li>portï¼šæœåŠ¡è¿è¡Œç«¯å£ï¼Œå»ºè®®ä¸ä½¿ç”¨80ï¼Œå¾ˆå®¹æ˜“è¢«å ç”¨ï¼Œè¿™é‡Œä½¿ç”¨äº†1717.</li>
</ul>
<p><strong>æ³¨æ„ï¼š</strong>è¿™é‡Œéœ€è¦ä½¿ç”¨npm æ¥è¿›è¡Œå®‰è£…<code>webpack-dev-server</code>äº†ï¼Œ å‘½ä»¤å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install webpack-dev-server@2.9.1 --save-dev</span><br></pre></td></tr></table></figure>

<p>è¿™æ˜¯æœ¬åœ°å®‰è£…ï¼Œæ‰€ä»¥ä½¿ç”¨äº†â€“save-devã€‚</p>
<p>é…ç½®å¥½åï¼Œä½ å¯ä»¥è¯•ç€åœ¨ç»ˆç«¯ä¸­è¾“å…¥webpack-dev-server,å¦‚æœå¯ä»¥æ‰§è¡ŒæˆåŠŸï¼Œä½†æ˜¯å¾€å¾€æç¤ºä¸‹é¢çš„é”™è¯¯ï¼ˆæˆ–è€…æ˜¯æ— æ³•æ‰¾åˆ°å†…éƒ¨æˆ–å¤–éƒ¨å‘½ä»¤ï¼‰ã€‚</p>
<p>å‡ºç°ä¸‹é¢çš„é”™è¯¯ä¸ç”¨æ…Œå¼ ï¼Œæˆ‘ä»¬åªè¦åœ¨package.jsoné‡Œé…ç½®ä¸€ä¸‹scriptsé€‰é¡¹å°±å¯ä»¥æ‰§è¡Œäº†ã€‚</p>
<p>/package.json</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&quot;scripts&quot;: &#123;</span><br><span class="line">    &quot;server&quot;:&quot;webpack-dev-server&quot;</span><br><span class="line"> &#125;,</span><br></pre></td></tr></table></figure>

<p>é…ç½®å¥½ä¿å­˜åï¼Œåœ¨ç»ˆç«¯é‡Œè¾“å…¥ <code>npm run server</code> æ‰“å¼€æœåŠ¡å™¨ã€‚ç„¶ååœ¨æµè§ˆå™¨åœ°å€æ è¾“å…¥<a href="http://localhost:1717å°±å¯ä»¥çœ‹åˆ°ç»“æœäº†ã€‚/">http://localhost:1717å°±å¯ä»¥çœ‹åˆ°ç»“æœäº†ã€‚</a></p>
<p><strong>æ”¯æŒçƒ­æ›´æ–°</strong></p>
<p>åœ¨npm run server å¯åŠ¨åï¼Œå®ƒæ˜¯æœ‰ä¸€ç§ç›‘æ§æœºåˆ¶çš„ï¼ˆä¹Ÿå«watchï¼‰ã€‚å®ƒå¯ä»¥ç›‘æ§åˆ°æˆ‘ä»¬ä¿®æ”¹æºç ï¼Œå¹¶ç«‹å³åœ¨æµè§ˆå™¨é‡Œç»™æˆ‘ä»¬æ›´æ–°ã€‚</p>
<p>æ³¨æ„ï¼šè¿™é‡Œåªæ˜¯æˆ‘ä»¬çš„webpack3.6ç‰ˆæœ¬æ”¯æŒï¼Œåœ¨3.5ç‰ˆæœ¬æ—¶è¦æ”¯æŒçƒ­æ›´æ–°è¿˜éœ€è¦ä¸€äº›å…¶ä»–çš„æ“ä½œã€‚å› ä¸ºå·²ç»æœ‰äº†æˆç†Ÿçš„3.6ç‰ˆæœ¬ï¼Œæˆ‘å°±ä¸å†ä»‹ç»ä½ç‰ˆæœ¬çš„æ“ä½œæ–¹æ³•ã€‚è¿˜æœ‰ä¸€ç§æƒ…å†µã€‚å¦‚æœä½ éƒ½è®¾ç½®å¥½äº†ï¼Œä½†æ˜¯ä¸è¿›è¡Œçƒ­æ›´æ–°ï¼Œå¯èƒ½æ˜¯ä½ ç³»ç»Ÿçš„é—®é¢˜ï¼Œåœ¨Linuxå’ŒMaä¸Šæ”¯æŒè‰¯å¥½ï¼Œåœ¨Windowsä¸Šæœ‰æ—¶ä¼šå‡ºç°é—®é¢˜ã€‚</p>
<h4 id="æ¨¡å—ï¼šCSSæ–‡ä»¶æ‰“åŒ…"><a href="#æ¨¡å—ï¼šCSSæ–‡ä»¶æ‰“åŒ…" class="headerlink" title="æ¨¡å—ï¼šCSSæ–‡ä»¶æ‰“åŒ…"></a>æ¨¡å—ï¼šCSSæ–‡ä»¶æ‰“åŒ…</h4><p>Webpackåœ¨ç”Ÿäº§ç¯å¢ƒä¸­æœ‰ä¸€ä¸ªé‡è¦çš„ä½œç”¨å°±æ˜¯å‡å°‘httpçš„è¯·æ±‚æ•°ï¼Œå°±æ˜¯æŠŠå¤šä¸ªæ–‡ä»¶æ‰“åŒ…åˆ°ä¸€ä¸ªjsé‡Œï¼Œè¿™æ ·è¯·æ±‚æ•°å°±å¯ä»¥å‡å°‘å¥½å¤šã€‚è¿™èŠ‚è¯¾æˆ‘ä»¬å°±å­¦ä¹ ä¸€ä¸ªé‡è¦çš„çŸ¥è¯†ï¼ŒæŠŠæˆ‘ä»¬çš„CSSæ–‡ä»¶æ‰“åŒ…ã€‚åœ¨å­¦ä¹ CSSæ‰“åŒ…ä¹‹å‰ï¼Œéœ€è¦å…ˆå¯¹webpack.config.jsé‡Œçš„Loadersé…ç½®é¡¹è¿›è¡Œäº†è§£ã€‚</p>
<p><strong>Loaders</strong></p>
<p>Loadersæ˜¯Webpackæœ€é‡è¦çš„åŠŸèƒ½ä¹‹ä¸€ï¼Œä»–ä¹Ÿæ˜¯Webpackå¦‚æ­¤ç››è¡Œçš„åŸå› ã€‚é€šè¿‡ä½¿ç”¨ä¸åŒçš„Loaderï¼ŒWebpackå¯ä»¥çš„è„šæœ¬å’Œå·¥å…·ï¼Œä»è€Œå¯¹ä¸åŒçš„æ–‡ä»¶æ ¼å¼è¿›è¡Œç‰¹å®šå¤„ç†ã€‚</p>
<p>ç®€å•çš„ä¸¾å‡ ä¸ªLoadersä½¿ç”¨ä¾‹å­ï¼š</p>
<ul>
<li>å¯ä»¥æŠŠSASSæ–‡ä»¶çš„å†™æ³•è½¬æ¢æˆCSSï¼Œè€Œä¸åœ¨ä½¿ç”¨å…¶ä»–è½¬æ¢å·¥å…·ã€‚</li>
<li>å¯ä»¥æŠŠES6æˆ–è€…ES7çš„ä»£ç ï¼Œè½¬æ¢æˆå¤§å¤šæµè§ˆå™¨å…¼å®¹çš„JSä»£ç ã€‚</li>
<li>å¯ä»¥æŠŠReactä¸­çš„JSXè½¬æ¢æˆJavaScriptä»£ç ã€‚</li>
</ul>
<p>æ³¨æ„ï¼šæ‰€æœ‰çš„Loaderséƒ½éœ€è¦åœ¨npmä¸­å•ç‹¬è¿›è¡Œå®‰è£…ï¼Œå¹¶åœ¨webpack.config.jsé‡Œè¿›è¡Œé…ç½®ã€‚ä¸‹é¢æˆ‘ä»¬å¯¹Loadersçš„é…ç½®å‹ç®€å•æ¢³ç†ä¸€ä¸‹ã€‚</p>
<ul>
<li>testï¼šç”¨äºåŒ¹é…å¤„ç†æ–‡ä»¶çš„æ‰©å±•åçš„è¡¨è¾¾å¼ï¼Œè¿™ä¸ªé€‰é¡¹æ˜¯å¿…é¡»è¿›è¡Œé…ç½®çš„ï¼›</li>
<li>useï¼šloaderåç§°ï¼Œå°±æ˜¯ä½ è¦ä½¿ç”¨æ¨¡å—çš„åç§°ï¼Œè¿™ä¸ªé€‰é¡¹ä¹Ÿå¿…é¡»è¿›è¡Œé…ç½®ï¼Œå¦åˆ™æŠ¥é”™ï¼›</li>
<li>include/exclude:æ‰‹åŠ¨æ·»åŠ å¿…é¡»å¤„ç†çš„æ–‡ä»¶ï¼ˆæ–‡ä»¶å¤¹ï¼‰æˆ–å±è”½ä¸éœ€è¦å¤„ç†çš„æ–‡ä»¶ï¼ˆæ–‡ä»¶å¤¹ï¼‰ï¼ˆå¯é€‰ï¼‰ï¼›</li>
<li>queryï¼šä¸ºloadersæä¾›é¢å¤–çš„è®¾ç½®é€‰é¡¹ï¼ˆå¯é€‰ï¼‰ã€‚</li>
</ul>
<p>æ˜ç™½äº†Loaderæ˜¯ä»€ä¹ˆåï¼Œå°±å¼€å§‹è¿™èŠ‚è¯¾çš„æ­£é¢˜ï¼Œå¦‚ä½•æ‰“åŒ…CSSæ–‡ä»¶ã€‚</p>
<p><strong>æ‰“åŒ…CSSæ–‡ä»¶ï¼š</strong></p>
<p>å»ºç«‹index.cssæ–‡ä»¶</p>
<p>è¦æ‰“åŒ…CSSä½ å¿…é¡»å…ˆè¦æœ‰ä¸ªCSSæ–‡ä»¶ï¼Œåœ¨/srcç›®å½•ä¸‹ï¼Œæˆ‘ä»¬å»ºç«‹ä¸€ä¸ªcssæ–‡ä»¶å¤¹ï¼Œåœ¨æ–‡ä»¶å¤¹é‡Œå»ºç«‹index.cssæ–‡ä»¶ã€‚ä»£ç å†…å®¹å¦‚ä¸‹ã€‚</p>
<p>./src/css/index.css</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">body&#123;</span><br><span class="line">    background-color: red;</span><br><span class="line">    color: white;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>CSSæ–‡ä»¶å»ºç«‹å¥½åï¼Œéœ€è¦å¼•å…¥åˆ°å…¥å£æ–‡ä»¶ä¸­ï¼Œæ‰å¯ä»¥æ‰“åŒ…åˆ°ï¼Œè¿™é‡Œæˆ‘ä»¬å¼•å…¥åˆ°entry.jsä¸­ã€‚</p>
<p><code>/src/entery.js</code>ä¸­åœ¨é¦–è¡ŒåŠ å…¥ä»£ç ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import &quot;.&#x2F;css&#x2F;index.css&quot;;</span><br><span class="line">æˆ–è€… require(&quot;.&#x2F;css&#x2F;index.css&quot;)</span><br></pre></td></tr></table></figure>

<p>CSSå’Œå¼•å…¥åšå¥½åï¼Œæˆ‘ä»¬å°±éœ€è¦ä½¿ç”¨loaderæ¥è§£æCSSæ–‡ä»¶äº†ï¼Œè¿™é‡Œæˆ‘ä»¬éœ€è¦ä¸¤ä¸ªè§£æç”¨çš„loaderï¼Œåˆ†åˆ«æ˜¯style-loaderå’Œcss-loaderã€‚</p>
<p><strong>style-loader:</strong></p>
<p>å®ƒæ˜¯ç”¨æ¥å¤„ç†cssæ–‡ä»¶ä¸­çš„url()ç­‰ï¼Œnpmä¸­çš„ç½‘å€ï¼š<code>https://www.npmjs.com/package/style-loader</code></p>
<p>ç”¨npm install è¿›è¡Œé¡¹ç›®å®‰è£…ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install style-loader@0.13.1 --save-dev</span><br></pre></td></tr></table></figure>

<p><strong>css-loaderï¼š</strong></p>
<p>å®ƒæ˜¯ç”¨æ¥å°†cssæ’å…¥åˆ°é¡µé¢çš„styleæ ‡ç­¾ã€‚npmä¸­çš„ç½‘å€ï¼š<a href="https://www.npmjs.com/package/css-loader" target="_blank" rel="noopener">https://www.npmjs.com/package/css-loader</a></p>
<p>ç”¨npm install è¿›è¡Œé¡¹ç›®å®‰è£…ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install css-loader@0.25.0 --save-dev</span><br></pre></td></tr></table></figure>

<p>ä¸€èµ·ä¸‹è½½</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install style-loader@0.13.1 css-loader@0.25.0 --save-dev</span><br></pre></td></tr></table></figure>

<p>ä¸¤ä¸ªloaderéƒ½ä¸‹è½½å®‰è£…å¥½åï¼Œæˆ‘ä»¬å°±å¯ä»¥é…ç½®æˆ‘ä»¬loadersäº†ã€‚</p>
<p><strong>loadersé…ç½®ï¼š</strong></p>
<p>ä¿®æ”¹webpack.config.jsä¸­moduleå±æ€§ä¸­çš„é…ç½®ä»£ç å¦‚ä¸‹ï¼š</p>
<p>webpack.config.js</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">module:&#123;</span><br><span class="line">        rules: [</span><br><span class="line">            &#123;</span><br><span class="line">              test: &#x2F;\.css$&#x2F;,</span><br><span class="line">              use: [ &#39;style-loader&#39;, &#39;css-loader&#39; ]</span><br><span class="line">            &#125;</span><br><span class="line">          ]</span><br><span class="line">    &#125;,</span><br></pre></td></tr></table></figure>

<p>webpackçš„loaderçš„é…ç½®æ˜¯ä»å³å¾€å·¦çš„ï¼Œä»ä¸Šé¢ä»£ç çœ‹çš„è¯ï¼Œå°±æ˜¯å…ˆä½¿ç”¨css-loaderä¹‹åä½¿ç”¨style-loaderã€‚</p>
<p>åŒç†ï¼Œå¦‚æœä½ ä½¿ç”¨lessæ¥å†™æ ·å¼çš„è¯ï¼Œåˆ™éœ€è¦å…ˆç”¨less-loaderæ¥ç¼–è¯‘æ ·å¼æ–‡ä»¶ä¸ºcssæ–‡ä»¶ï¼Œå†ç»§ç»­ä½¿ç”¨css-loaderä¸style-loaderã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  module: &#123;</span><br><span class="line">    loaders: [</span><br><span class="line">      &#123; test: &#x2F;\.$&#x2F;, loader: &quot;style-loader!css-loader!less-loader&quot; &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="JSå‹ç¼©æ’ä»¶"><a href="#JSå‹ç¼©æ’ä»¶" class="headerlink" title="JSå‹ç¼©æ’ä»¶"></a>JSå‹ç¼©æ’ä»¶</h4><p><strong>å‹ç¼©JSä»£ç ï¼š</strong></p>
<p>åœ¨Webpackä¸­å¯ä»¥å¾ˆè½»æ¾çš„å®ç°JSä»£ç çš„å‹ç¼©ï¼Œå®ƒæ˜¯é€šè¿‡æ’ä»¶çš„æ–¹å¼å®ç°çš„ï¼Œè¿™é‡Œæˆ‘ä»¬å°±å…ˆæ¥å¼•å…¥ä¸€ä¸ªuglifyjs-webpack-plugin(JSå‹ç¼©æ’ä»¶ï¼Œç®€ç§°uglify)ã€‚</p>
<p><strong>æ³¨æ„ï¼š</strong>è™½ç„¶uglifyjsæ˜¯æ’ä»¶ï¼Œä½†æ˜¯webpackç‰ˆæœ¬é‡Œé»˜è®¤å·²ç»é›†æˆï¼Œä¸éœ€è¦å†æ¬¡å®‰è£…ã€‚</p>
<p><strong>å¼•å…¥ï¼š</strong></p>
<p>æˆ‘ä»¬éœ€è¦åœ¨webpack.config.jsä¸­å¼•å…¥uglifyjs-webpack-gluginæ’ä»¶</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const uglify &#x3D; &#96;require&#96;(&#39;uglifyjs-webpack-plugin&#39;);</span><br></pre></td></tr></table></figure>

<p>å¼•å…¥ååœ¨pluginsé…ç½®é‡Œnewä¸€ä¸ª uglifyå¯¹è±¡å°±å¯ä»¥äº†ï¼Œä»£ç å¦‚ä¸‹ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">plugins:[</span><br><span class="line">       new uglify()</span><br><span class="line">   ],</span><br></pre></td></tr></table></figure>

<p>è¿™æ—¶å€™åœ¨ç»ˆç«¯ä¸­ä½¿ç”¨webpackè¿›è¡Œæ‰“åŒ…ï¼Œä½ ä¼šå‘ç°JSä»£ç å·²ç»è¢«å‹ç¼©äº†ã€‚å¦‚æœä½ ç”¨çš„VSCodeçš„è¯ï¼Œå¯ä»¥æŒ‰Alt+Zè®©ä»–æ–‡ä»¶è‡ªåŠ¨æ¢è¡Œï¼ŒæŸ¥çœ‹æ•ˆæœã€‚</p>
<p>è´´å‡ºé€šè¿‡6èŠ‚è¯¾å­¦ä¹ ï¼Œç°åœ¨webpack.config.jsæ–‡ä»¶ä¸­çš„æ‰€æœ‰ä»£ç ï¼Œè¿™æ ·å¤§å®¶å¯ä»¥å¯¹ç…§å­¦ä¹ ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const path&#x3D;&#96;require&#96;(&#39;path&#39;);</span><br><span class="line">const uglify &#x3D; &#96;require&#96;(&#39;uglifyjs-webpack-plugin&#39;);</span><br><span class="line">module.exports&#x3D;&#123;</span><br><span class="line">    entry:&#123;</span><br><span class="line">        entry:&#39;.&#x2F;src&#x2F;entry.js&#39;,</span><br><span class="line">        entry2:&#39;.&#x2F;src&#x2F;entry2.js&#39;</span><br><span class="line">    &#125;,</span><br><span class="line">    output:&#123;</span><br><span class="line">        path:path.resolve(__dirname,&#39;dist&#39;),</span><br><span class="line">        filename:&#39;[name].js&#39;</span><br><span class="line">    &#125;,</span><br><span class="line">    module:&#123;</span><br><span class="line">        rules:[</span><br><span class="line">            &#123;</span><br><span class="line">                test:&#x2F;\.css$&#x2F;,</span><br><span class="line">                use: [&quot;style-loader&quot;, &quot;css-loader&quot;]</span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line">    plugins:[</span><br><span class="line">        new uglify()</span><br><span class="line">    ],</span><br><span class="line">    devServer:&#123;</span><br><span class="line">       contentBase:path.resolve(__dirname,&#39;dist&#39;),</span><br><span class="line">       host:&#39;192.168.0.104&#39;,</span><br><span class="line">       compress:true,</span><br><span class="line">       port:1717</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="HTMLæ–‡ä»¶çš„å‘å¸ƒ"><a href="#HTMLæ–‡ä»¶çš„å‘å¸ƒ" class="headerlink" title="HTMLæ–‡ä»¶çš„å‘å¸ƒ"></a>HTMLæ–‡ä»¶çš„å‘å¸ƒ</h4><p>æœ‰ç»éªŒçš„å°ä¼™ä¼´å…¶å®ä¸€çœ¼å°±å¯ä»¥çœ‹å‡ºï¼Œç°åœ¨æˆ‘ä»¬çš„é¡¹ç›®ç»“æ„æ˜¯æœ‰é—®é¢˜çš„ï¼Œæˆ‘ä»¬æŠŠindex.htmlç›´æ¥æ”¾åˆ°äº†distæ–‡ä»¶å¤¹ä¸‹ï¼Œè¿™è‚¯å®šæ˜¯ä¸æ­£ç¡®çš„ï¼Œåº”è¯¥æ”¾åˆ°æˆ‘ä»¬srcç›®å½•ä¸‹ã€‚ä½†æ˜¯å‰æœŸæˆ‘ä»¬ä¸ºäº†å¾ªåºæ¸è¿›çš„å­¦ä¹ ï¼Œæ‰€ä»¥æŠŠindex.htmlæ”¾åˆ°äº†distç›®å½•ä¸‹ã€‚è¿™èŠ‚è¯¾æˆ‘ä»¬å°±å­¦ä¹ å¦‚ä½•æŠŠhtmlæ–‡ä»¶æ‰“åŒ…åˆ°æˆ‘ä»¬çš„ç”Ÿäº§è·¯å¾„ä¸‹ã€‚</p>
<p><strong>devServerå’ŒJSå‹ç¼©çš„å†²çª</strong></p>
<p>ä¸ŠèŠ‚è¯¾å­¦ä¹ äº†JSå‹ç¼©ï¼Œåœ¨è§†é¢‘ä¸­æˆ‘ä½¿ç”¨äº†webpackè¿›è¡Œæ‰“åŒ…ï¼Œè€Œæ²¡æœ‰ä½¿ç”¨npm run server è¿›è¡Œé¢„è§ˆï¼Œä¹Ÿå°±æ˜¯è¯´æ²¡æœ‰å¯ç”¨devServeré‡Œçš„é…ç½®ã€‚é‚£æœ‰äº›å°ä¼™ä¼´åœ¨å­¦ä¹ å®Œè§†é¢‘åï¼Œåœ¨ç»ˆç«¯ä¸­è¾“å…¥äº†npm run serverè¿›è¡Œäº†é¢„è§ˆï¼Œå‘ç°ç»ˆç«¯ä¸­æŠ¥é”™äº†ã€‚</p>
<p>è¦å¼„æ˜ç™½è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å…ˆè¦å¼„æ¸…æ¥šä»€ä¹ˆæ˜¯å¼€å‘ç¯å¢ƒï¼Œä»€ä¹ˆæ˜¯ç”Ÿäº§ç¯å¢ƒã€‚å¼€å‘ç¯å¢ƒä¸­æ˜¯åŸºæœ¬ä¸ä¼šå¯¹jsè¿›è¡Œå‹ç¼©çš„ï¼Œåœ¨å¼€å‘é¢„è§ˆæ—¶æˆ‘ä»¬éœ€è¦æ˜ç¡®çš„æŠ¥é”™è¡Œæ•°å’Œé”™è¯¯ä¿¡æ¯ï¼Œæ‰€ä»¥å®Œå…¨æ²¡æœ‰å¿…è¦å‹ç¼©JavasScriptä»£ç ã€‚è€Œç”Ÿäº§ç¯å¢ƒä¸­æ‰ä¼šå‹ç¼©JSä»£ç ï¼Œç”¨äºåŠ å¿«ç¨‹åºçš„å·¥ä½œæ•ˆç‡ã€‚devServerç”¨äºå¼€å‘ç¯å¢ƒï¼Œè€Œå‹ç¼©JSç”¨äºç”Ÿäº§ç¯å¢ƒï¼Œåœ¨å¼€å‘ç¯å¢ƒä¸­ä½œç”Ÿäº§ç¯å¢ƒçš„äº‹æƒ…æ‰€ä»¥Webpackè®¾ç½®äº†å†²çªæŠ¥é”™ã€‚</p>
<p>åœ¨å®é™…å¼€å‘ä¸­ï¼Œwebpacké…ç½®æ–‡ä»¶æ˜¯åˆ†å¼€çš„ï¼Œå¼€å‘ç¯å¢ƒä¸€ä¸ªæ–‡ä»¶ï¼Œç”Ÿäº§ç¯å¢ƒä¸€ä¸ªæ–‡ä»¶ã€‚</p>
<p><strong>æ‰“åŒ…HTMLæ–‡ä»¶</strong></p>
<p>æˆ‘ä»¬å…ˆæŠŠdistä¸­çš„htmlæ–‡ä»¶å‰ªåˆ‡åˆ°srcç›®å½•ä¸­ï¼Œå¹¶å»æ‰æˆ‘ä»¬çš„JSå¼•å…¥ä»£ç ï¼ˆwebpackä¼šè‡ªåŠ¨ä¸ºæˆ‘ä»¬å¼•å…¥JSï¼‰ï¼Œå› ä¸ºè¿™æ‰æ˜¯æˆ‘ä»¬çœŸå®å·¥ä½œçš„ç›®å½•æ–‡ä»¶ç»“æ„ã€‚</p>
<p>ç„¶åæˆ‘ä»¬é…ç½®webpack.config.jsæ–‡ä»¶ï¼Œå…ˆå¼•å…¥æˆ‘ä»¬çš„html-webpack-pluginæ’ä»¶ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const htmlPlugin&#x3D; &#96;require&#96;(&#39;html-webpack-plugin&#39;);</span><br></pre></td></tr></table></figure>

<p>å¼•å…¥åä½¿ç”¨npmè¿›è¡Œå®‰è£…åŒ…ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install --save-dev html-webpack-plugin</span><br></pre></td></tr></table></figure>

<p>æœ€ååœ¨webpack.config.jsé‡Œçš„pluginsé‡Œè¿›è¡Œæ’ä»¶é…ç½®ï¼Œé…ç½®ä»£ç å¦‚ä¸‹ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">new htmlPlugin(&#123;</span><br><span class="line">           minify:&#123;</span><br><span class="line">               removeAttributeQuotes:true</span><br><span class="line">           &#125;,</span><br><span class="line">           hash:true,</span><br><span class="line">           template:&#39;.&#x2F;src&#x2F;index.html&#39;</span><br><span class="line"></span><br><span class="line">       &#125;)</span><br></pre></td></tr></table></figure>

<ul>
<li>minifyï¼šæ˜¯å¯¹htmlæ–‡ä»¶è¿›è¡Œå‹ç¼©ï¼ŒremoveAttrubuteQuotesæ˜¯å´æ‰å±æ€§çš„åŒå¼•å·ã€‚</li>
<li>hashï¼šä¸ºäº†å¼€å‘ä¸­jsæœ‰ç¼“å­˜æ•ˆæœï¼Œæ‰€ä»¥åŠ å…¥hashï¼Œè¿™æ ·å¯ä»¥æœ‰æ•ˆé¿å…ç¼“å­˜JSã€‚</li>
<li>templateï¼šæ˜¯è¦æ‰“åŒ…çš„htmlæ¨¡ç‰ˆè·¯å¾„å’Œæ–‡ä»¶åç§°ã€‚</li>
</ul>
<p>ä¸Šè¾¹çš„éƒ½é…ç½®å®Œæˆåï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨ç»ˆç«¯ä¸­ä½¿ç”¨webpackï¼Œè¿›è¡Œæ‰“åŒ…ã€‚ä½ ä¼šçœ‹åˆ°index.htmlæ–‡ä»¶å·²ç»è¢«æ‰“åŒ…åˆ°æˆ‘ä»¬çš„distç›®å½•ä¸‹äº†ï¼Œå¹¶ä¸”è‡ªåŠ¨ä¸ºæˆ‘ä»¬å¼•å…¥äº†è·¯å£çš„JSæ–‡ä»¶ã€‚</p>
<p><strong>æ€»ç»“ï¼š</strong></p>
<p>htmlæ–‡ä»¶çš„æ‰“åŒ…å¯ä»¥æœ‰æ•ˆçš„åŒºåˆ†å¼€å‘ç›®å½•å’Œç”Ÿäº§ç›®å½•ï¼Œåœ¨webpackçš„é…ç½®ä¸­ä¹Ÿè¦ææ¸…æ¥šå“ªäº›é…ç½®ç”¨äºç”Ÿäº§ç¯å¢ƒï¼Œå“ªäº›é…ç½®ç”¨äºå¼€å‘ç¯å¢ƒï¼Œé¿å…ä¸¤ç§ç¯å¢ƒçš„é…ç½®å†²çªã€‚</p>
<h4 id="å›¾ç‰‡è¿ˆå‘ï¼šCSSä¸­çš„å›¾ç‰‡å¤„ç†ï¼ˆé‡‡ç”¨file-loaderã€url-loaderï¼‰"><a href="#å›¾ç‰‡è¿ˆå‘ï¼šCSSä¸­çš„å›¾ç‰‡å¤„ç†ï¼ˆé‡‡ç”¨file-loaderã€url-loaderï¼‰" class="headerlink" title="å›¾ç‰‡è¿ˆå‘ï¼šCSSä¸­çš„å›¾ç‰‡å¤„ç†ï¼ˆé‡‡ç”¨file-loaderã€url-loaderï¼‰"></a>å›¾ç‰‡è¿ˆå‘ï¼šCSSä¸­çš„å›¾ç‰‡å¤„ç†ï¼ˆé‡‡ç”¨file-loaderã€url-loaderï¼‰</h4><p>åœ¨å­¦ä¹ Webapckè¿‡ç¨‹ä¸­ä½ å¯èƒ½é‡åˆ°çš„ç¬¬ä¸€ä¸ªå‘å°±æ˜¯CSSä¸­çš„å›¾ç‰‡å¤„ç†ã€‚å¾ˆå¤šwebpackæ–°æ‰‹éƒ½åœ¨å›¾ç‰‡çš„å‘ä¸­æ— æ³•è‡ªæ‹”ï¼ˆæœ‰çš„å°ä¼™ä¼´åœ¨å¼€å‘ç¯å¢ƒä¸­æ˜¯å¯ä»¥æ‰¾åˆ°å›¾ç‰‡çš„ï¼Œä½†æ˜¯ä¸€æ‰“åŒ…åå°±æ‰¾ä¸åˆ°å›¾ç‰‡äº†ï¼Œæœ‰çš„å°ä¼™ä¼´æ˜¯ä¸çŸ¥é“å¦‚ä½•æ­£ç¡®å¼•å…¥htmlæˆ–è€…cssä¸­çš„å›¾ç‰‡ï¼Œå¯¼è‡´ç¨‹åºå‡ºé”™ï¼‰ï¼Œæˆ‘ä»¬å°†ç”¨ä¸‰èŠ‚è¯¾æ—¶é—´æå½»åº•èµ°å‡ºwebpackå›¾ç‰‡çš„å‘ã€‚</p>
<p><strong>å›¾ç‰‡å†™å…¥CSS</strong></p>
<p>ä½ å¯ä»¥å…ˆåœ¨ç½‘ä¸Šæ‰¾ä¸€ä¸ªå›¾ç‰‡ï¼Œæˆ‘è¿™é‡Œå°±è‡ªæ‹çš„ä½¿ç”¨äº†æˆ‘çš„å¤´åƒï¼Œå¦‚æœä½ éœ€è¦ä¸‹è½½ï¼Œä¹Ÿå¯ä»¥ä¸‹è½½ï¼ˆå½“ç„¶ä½ å¯ä»¥å®Œå…¨è‡ªå·±æ‰¾ä¸€ä¸ªè‡ªå·±å–œæ¬¢çš„ï¼‰ã€‚</p>
<p>æ‰¾åˆ°å›¾ç‰‡ååœ¨srcç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªimagesæ–‡ä»¶å¤¹ï¼ŒæŠŠå›¾ç‰‡æ”¾å…¥imagesæ–‡ä»¶å¤¹ã€‚</p>
<p>åœ¨index.htmlæ–‡ä»¶ä¸­å¢åŠ ä¸€ä¸ªæ”¾ç½®divçš„æ ‡ç­¾ï¼ˆéœ€è¦æ³¨æ„çš„æ˜¯è¿™é‡Œä¿®æ”¹çš„æ˜¯srcä¸‹çš„index.htmlæ–‡ä»¶ï¼Œä¸æ˜¯distä¸‹çš„ï¼Œè¿™ç‚¹æ–°æ‰‹å¾ˆå®¹æ˜“å¼„æ··ï¼Œè¦æ ¼å¤–æ³¨æ„ï¼‰ï¼Œä»£ç å¦‚ä¸‹ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;div id&#x3D;&quot;tupian&quot;&gt;&lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure>

<p>ç¼–å†™cssæ–‡ä»¶ï¼ŒæŠŠä½ ç”¨çš„å›¾ç‰‡ä½œä¸ºèƒŒæ™¯æ˜¾ç¤ºã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#tupian&#123;</span><br><span class="line">   background-image: url(..&#x2F;images&#x2F;manhua.png);</span><br><span class="line">   width:466px;</span><br><span class="line">   height:453px;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç¼–å†™å®Œæˆåï¼Œæˆ‘ä»¬å¯ä»¥è¯•ç€ç”¨webpackå»æ‰“åŒ…ä¸€ä¸‹ã€‚ä½ ä¼šå‘ç°ç»ˆç«¯ä¸­æ˜¯æŠ¥é”™çš„ï¼Œå…·ä½“é”™è¯¯å¯ä»¥çœ‹ä¸‹å›¾ã€‚ <img src="http://7xjyw1.com1.z0.glb.clouddn.com/webpack_aadd.png" alt="alt"></p>
<p><strong>file-loaderã€url-loader</strong></p>
<p>ä¸Šé¢çš„é”™è¯¯æ˜¯ç”±äºç¼ºå°‘loaderçš„è§£æï¼Œå¯¹loaderå…¶å®æˆ‘ä»¬å¹¶ä¸é™Œç”Ÿï¼Œå› ä¸ºå‰è¾¹å·²ç»å­¦ä¹ äº†CSSæ‰“åŒ…çš„loaderã€‚æˆ‘ä»¬å…ˆå®‰è£…ä¸¤ä¸ªè§£æå›¾ç‰‡ç”¨çš„loaderã€‚</p>
<p>å®‰è£…file-loaderå’Œurl-loader</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install --save-dev file-loader url-loader</span><br></pre></td></tr></table></figure>

<p>å®‰è£…å¥½åæˆ‘ä»¬éœ€è¦å¯¹ä¸¤ä¸ªloaderè¿›è¡ŒåŸºæœ¬çš„äº†è§£ï¼Œå­¦ä¹ å°½é‡åšåˆ°çŸ¥å…¶ç„¶çŸ¥å…¶æ‰€ä»¥ç„¶ã€‚</p>
<p><strong>file-loaderï¼š</strong>è§£å†³å¼•ç”¨è·¯å¾„çš„é—®é¢˜ï¼Œæ‹¿backgroundæ ·å¼ç”¨urlå¼•å…¥èƒŒæ™¯å›¾æ¥è¯´ï¼Œæˆ‘ä»¬éƒ½çŸ¥é“ï¼Œwebpackæœ€ç»ˆä¼šå°†å„ä¸ªæ¨¡å—æ‰“åŒ…æˆä¸€ä¸ªæ–‡ä»¶ï¼Œå› æ­¤æˆ‘ä»¬æ ·å¼ä¸­çš„urlè·¯å¾„æ˜¯ç›¸å¯¹å…¥å£htmlé¡µé¢çš„ï¼Œè€Œä¸æ˜¯ç›¸å¯¹äºåŸå§‹cssæ–‡ä»¶æ‰€åœ¨çš„è·¯å¾„çš„ã€‚è¿™å°±ä¼šå¯¼è‡´å›¾ç‰‡å¼•å…¥å¤±è´¥ã€‚è¿™ä¸ªé—®é¢˜æ˜¯ç”¨file-loaderè§£å†³çš„ï¼Œfile-loaderå¯ä»¥è§£æé¡¹ç›®ä¸­çš„urlå¼•å…¥ï¼ˆä¸ä»…é™äºcssï¼‰ï¼Œæ ¹æ®æˆ‘ä»¬çš„é…ç½®ï¼Œå°†å›¾ç‰‡æ‹·è´åˆ°ç›¸åº”çš„è·¯å¾„ï¼Œå†æ ¹æ®æˆ‘ä»¬çš„é…ç½®ï¼Œä¿®æ”¹æ‰“åŒ…åæ–‡ä»¶å¼•ç”¨è·¯å¾„ï¼Œä½¿ä¹‹æŒ‡å‘æ­£ç¡®çš„æ–‡ä»¶ã€‚</p>
<p><strong>url-loaderï¼š</strong>å¦‚æœå›¾ç‰‡è¾ƒå¤šï¼Œä¼šå‘å¾ˆå¤šhttpè¯·æ±‚ï¼Œä¼šé™ä½é¡µé¢æ€§èƒ½ã€‚è¿™ä¸ªé—®é¢˜å¯ä»¥é€šè¿‡url-loaderè§£å†³ã€‚url-loaderä¼šå°†å¼•å…¥çš„å›¾ç‰‡ç¼–ç ï¼Œç”ŸæˆdataURlã€‚ç›¸å½“äºæŠŠå›¾ç‰‡æ•°æ®ç¿»è¯‘æˆä¸€ä¸²å­—ç¬¦ã€‚å†æŠŠè¿™ä¸²å­—ç¬¦æ‰“åŒ…åˆ°æ–‡ä»¶ä¸­ï¼Œæœ€ç»ˆåªéœ€è¦å¼•å…¥è¿™ä¸ªæ–‡ä»¶å°±èƒ½è®¿é—®å›¾ç‰‡äº†ã€‚å½“ç„¶ï¼Œå¦‚æœå›¾ç‰‡è¾ƒå¤§ï¼Œç¼–ç ä¼šæ¶ˆè€—æ€§èƒ½ã€‚å› æ­¤url-loaderæä¾›äº†ä¸€ä¸ªlimitå‚æ•°ï¼Œå°äºlimitå­—èŠ‚çš„æ–‡ä»¶ä¼šè¢«è½¬ä¸ºDataURlï¼Œå¤§äºlimitçš„è¿˜ä¼šä½¿ç”¨file-loaderè¿›è¡Œcopyã€‚</p>
<p>é…ç½®url-loader</p>
<p>æˆ‘ä»¬å®‰è£…å¥½åï¼Œå°±å¯ä»¥ä½¿ç”¨è¿™ä¸ªloaderäº†ï¼Œè®°å¾—åœ¨loaderä½¿ç”¨æ—¶ä¸éœ€è¦ç”¨requireå¼•å…¥ï¼Œåœ¨pluginsæ‰éœ€è¦ä½¿ç”¨requireå¼•å…¥ã€‚</p>
<p>webpack.config.jsæ–‡ä»¶</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;æ¨¡å—ï¼šä¾‹å¦‚è§£è¯»CSS,å›¾ç‰‡å¦‚ä½•è½¬æ¢ï¼Œå‹ç¼©</span><br><span class="line">   module:&#123;</span><br><span class="line">       rules: [</span><br><span class="line">           &#123;</span><br><span class="line">             test: &#x2F;\.css$&#x2F;,</span><br><span class="line">             use: [ &#39;style-loader&#39;, &#39;css-loader&#39; ]</span><br><span class="line">           &#125;,</span><br><span class="line">           &#123;</span><br><span class="line">              test:&#x2F;\.(png|jpg|gif)&#x2F; ,</span><br><span class="line">              use:[&#123;</span><br><span class="line">                  loader:&#39;url-loader&#39;,</span><br><span class="line">                  options:&#123;</span><br><span class="line">                      limit:5000</span><br><span class="line">                  &#125;</span><br><span class="line">              &#125;]</span><br><span class="line">           &#125;</span><br><span class="line">         ]</span><br><span class="line">   &#125;,</span><br></pre></td></tr></table></figure>

<ul>
<li>test:/.(png|jpg|gif)/æ˜¯åŒ¹é…å›¾ç‰‡æ–‡ä»¶åç¼€åç§°ã€‚</li>
<li>useï¼šæ˜¯æŒ‡å®šä½¿ç”¨çš„loaderå’Œloaderçš„é…ç½®å‚æ•°ã€‚</li>
<li>limitï¼šæ˜¯æŠŠå°äº5000çš„å›¾ç‰‡æ‰“æˆBase64çš„æ ¼å¼ï¼Œå†™å…¥JSï¼Œå¤§äº5000çš„å›¾ç‰‡ä½¿ç”¨åŸæ¥çš„æ ¼å¼</li>
</ul>
<p>å†™å¥½åå°±å¯ä»¥ä½¿ç”¨webpackè¿›è¡Œæ‰“åŒ…äº†ï¼Œè¿™å›ä½ ä¼šå‘ç°æ‰“åŒ…å¾ˆé¡ºåˆ©çš„å®Œæˆäº†ã€‚å…·ä½“çš„Base64çš„æ ¼å¼ï¼Œä½ å¯ä»¥æŸ¥çœ‹è§†é¢‘ä¸­çš„æ ·å­ã€‚</p>
<p><strong>ä¸ºä»€ä¹ˆåªä½¿ç”¨äº†url-loader</strong></p>
<p>æœ‰çš„å°ä¼™ä¼´ä¼šå‘ç°æˆ‘ä»¬å¹¶æ²¡æœ‰åœ¨webpack.config.jsä¸­ä½¿ç”¨file-loaderï¼Œä½†æ˜¯ä¾ç„¶æ‰“åŒ…æˆåŠŸäº†ã€‚æˆ‘ä»¬éœ€è¦äº†è§£file-loaderå’Œurl-loaderçš„å…³ç³»ã€‚url-loaderå’Œfile-loaderæ˜¯ä»€ä¹ˆå…³ç³»å‘¢ï¼Ÿç®€ç­”åœ°è¯´ï¼Œurl-loaderå°è£…äº†file-loaderã€‚url-loaderä¸ä¾èµ–äºfile-loaderï¼Œå³ä½¿ç”¨url-loaderæ—¶ï¼Œåªéœ€è¦å®‰è£…url-loaderå³å¯ï¼Œä¸éœ€è¦å®‰è£…file-loaderï¼Œå› ä¸ºurl-loaderå†…ç½®äº†file-loaderã€‚é€šè¿‡ä¸Šé¢çš„ä»‹ç»ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œurl-loaderå·¥ä½œåˆ†ä¸¤ç§æƒ…å†µï¼š</p>
<p>1.æ–‡ä»¶å¤§å°å°äºlimitå‚æ•°ï¼Œurl-loaderå°†ä¼šæŠŠæ–‡ä»¶è½¬ä¸ºDataURLï¼ˆBase64æ ¼å¼ï¼‰ï¼›</p>
<p>2.æ–‡ä»¶å¤§å°å¤§äºlimitï¼Œurl-loaderä¼šè°ƒç”¨file-loaderè¿›è¡Œå¤„ç†ï¼Œå‚æ•°ä¹Ÿä¼šç›´æ¥ä¼ ç»™file-loaderã€‚</p>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œå…¶å®æˆ‘ä»¬åªå®‰è£…ä¸€ä¸ªurl-loaderå°±å¯ä»¥äº†ã€‚ä½†æ˜¯ä¸ºäº†ä»¥åçš„æ“ä½œæ–¹ä¾¿ï¼Œæˆ‘ä»¬è¿™é‡Œå°±é¡ºä¾¿å®‰è£…ä¸Šfile-loaderã€‚</p>
<h4 id="CSSåˆ†ç¦»ä¸å›¾ç‰‡è·¯å¾„å¤„ç†ï¼ˆextract-text-webpack-pluginæ’ä»¶-ï¼‰"><a href="#CSSåˆ†ç¦»ä¸å›¾ç‰‡è·¯å¾„å¤„ç†ï¼ˆextract-text-webpack-pluginæ’ä»¶-ï¼‰" class="headerlink" title="CSSåˆ†ç¦»ä¸å›¾ç‰‡è·¯å¾„å¤„ç†ï¼ˆextract-text-webpack-pluginæ’ä»¶/ï¼‰"></a>CSS<strong>åˆ†ç¦»ä¸å›¾ç‰‡è·¯å¾„å¤„ç†</strong>ï¼ˆextract-text-webpack-pluginæ’ä»¶/ï¼‰</h4><p>é€šè¿‡ä¸ŠèŠ‚è¯¾çš„å­¦ä¹ å·²ç»èƒ½æŠŠå°å›¾ç‰‡æ‰“åŒ…æˆBase64æ ¼å¼ï¼Œä¹Ÿå¯¹webpackå¯¹å›¾ç‰‡çš„æ‰“åŒ…æœ‰ä¸ªåŸºæœ¬äº†è§£ã€‚è¿™èŠ‚è¯¾ä¸»è¦å­¦ä¹ ä¸¤ä¸ªçŸ¥è¯†ï¼šç¬¬ä¸€ä¸ªæ˜¯æŠŠCSSä»JavasScriptä»£ç ä¸­åˆ†ç¦»å‡ºæ¥ï¼Œç¬¬äºŒä¸ªæ˜¯å¦‚ä½•å¤„ç†åˆ†ç¦»å‡ºæ¥åCSSä¸­çš„å›¾ç‰‡è·¯å¾„ä¸å¯¹é—®é¢˜ã€‚</p>
<p><strong>CSSåˆ†ç¦»:extract-text-webpack-plugin</strong></p>
<p>æœ‰äº›ç®€å•çš„äº¤äº’é¡µé¢ä¸­ï¼Œä½ çš„JavasScripté¡µé¢ä»£ç ä¼šéå¸¸å°‘ï¼Œè€Œå¤§éƒ¨åˆ†ä»£ç éƒ½åœ¨CSSä¸­ï¼Œè¿™æ—¶å€™é¡¹ç›®ç»„é•¿ä¼šè¦æ±‚æŠŠCSSå•ç‹¬æå–å‡ºæ¥ï¼Œæ–¹ä¾¿ä»¥åæ›´æ”¹ã€‚é‡åˆ°è¿™ä¸ªéœ€æ±‚ä½ ä¸è¦æƒŠæ…Œï¼Œå·²ç»æœ‰å¤§ç¥ä¸ºæˆ‘ä»¬å‡†å¤‡å¥½äº†å¯¹è±¡çš„æ’ä»¶ï¼ˆpluginï¼‰ã€‚</p>
<p>extract-text-webpack-plugin</p>
<p>è¿™ä¸ªæ’ä»¶å°±å¯ä»¥å®Œç¾çš„è§£å†³æˆ‘ä»¬æå–CSSçš„éœ€æ±‚ï¼Œä½†æ˜¯webpackå®˜æ–¹å…¶å®å¹¶ä¸å»ºè®®è¿™æ ·ä½œï¼Œä»–ä»¬è®¤ä¸ºCSSå°±åº”è¯¥æ‰“åŒ…åˆ°JavasScriptå½“ä¸­ä»¥å‡å°‘httpçš„è¯·æ±‚æ•°ã€‚ä½†ç°å®ä¸­çš„éœ€æ±‚å¾€å¾€ä¸æ˜¯æˆ‘ä»¬å‰ç«¯èƒ½æ§åˆ¶çš„ï¼Œæœ‰äº›éœ€æ±‚æ˜¯æˆ‘ä»¬ä¸èƒ½æ§åˆ¶çš„ï¼Œåˆ†ç¦»CSSå°±æ˜¯è¿™æ ·ä¸€ä¸ªæ—¢åˆç†ç”±ä¸åˆç†çš„éœ€æ±‚ã€‚</p>
<p><strong>å®‰è£…ï¼š</strong>å½•åˆ¶è¯¾ç¨‹æ—¶çš„ç‰ˆæœ¬æ˜¯3.0.0ç‰ˆæœ¬ï¼Œç›´æ¥ä½¿ç”¨npm install å°±å¯ä»¥å®‰è£…ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install --save-dev extract-text-webpack-plugin</span><br></pre></td></tr></table></figure>

<p><strong>å¼•å…¥ï¼š</strong>å®‰è£…å®Œæˆåï¼Œéœ€è¦å…ˆç”¨requireå¼•å…¥ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const extractTextPlugin &#x3D; &#96;require&#96;(&quot;extract-text-webpack-plugin&quot;);</span><br></pre></td></tr></table></figure>

<p><strong>è®¾ç½®Pluginsï¼š</strong>å¼•å…¥æˆåŠŸåéœ€è¦åœ¨pluginså±æ€§ä¸­è¿›è¡Œé…ç½®ã€‚è¿™é‡Œåªè¦newä¸€ä¸‹è¿™ä¸ªå¯¹è±¡å°±å¯ä»¥äº†ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">new extractTextPlugin(&quot;&#x2F;css&#x2F;index.css&quot;)</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œçš„/css/index.cssæ˜¯åˆ†ç¦»åçš„è·¯å¾„ä½ç½®ã€‚è¿™éƒ¨é…ç½®å®Œæˆåï¼ŒåŒ…è£…ä»£ç ï¼šè¿˜è¦ä¿®æ”¹åŸæ¥æˆ‘ä»¬çš„style-loaderå’Œcss-loaderã€‚</p>
<p>ä¿®æ”¹ä»£ç å¦‚ä¸‹ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">module:&#123;</span><br><span class="line">        rules: [</span><br><span class="line">            &#123;</span><br><span class="line">              test: &#x2F;\.css$&#x2F;,</span><br><span class="line">              use: extractTextPlugin.extract(&#123;</span><br><span class="line">                fallback: &quot;style-loader&quot;,</span><br><span class="line">                use: &quot;css-loader&quot;</span><br><span class="line">              &#125;)</span><br><span class="line">            &#125;,&#123;</span><br><span class="line">               test:&#x2F;\.(png|jpg|gif)&#x2F; ,</span><br><span class="line">               use:[&#123;</span><br><span class="line">                   loader:&#39;url-loader&#39;,</span><br><span class="line">                   options:&#123;</span><br><span class="line">                       limit:500000</span><br><span class="line">                   &#125;</span><br><span class="line">               &#125;]</span><br><span class="line">            &#125;</span><br><span class="line">          ]</span><br><span class="line">    &#125;,</span><br></pre></td></tr></table></figure>

<p>ä½œå®Œä¸Šè¾¹è¿™å››éƒ¨åï¼Œå°±å¯ä»¥ä½¿ç”¨webpackè¿›è¡Œæ‰“åŒ…äº†ã€‚</p>
<p><strong>å›¾ç‰‡è·¯å¾„é—®é¢˜ï¼š</strong></p>
<p>åˆ©ç”¨extract-text-webpack-pluginæ’ä»¶å¾ˆè½»æ¾çš„å°±æŠŠCSSæ–‡ä»¶åˆ†ç¦»äº†å‡ºæ¥ï¼Œä½†æ˜¯CSSè·¯å¾„å¹¶ä¸æ­£ç¡®ï¼Œå¾ˆå¤šå°ä¼™ä¼´å°±åœ¨è¿™é‡Œæä¸ªå‡ å¤©è¿˜æ˜¯æ²¡æœ‰å¤´ç»ªï¼Œç½‘ä¸Šä¹Ÿç»™å‡ºäº†å¾ˆå¤šçš„è§£å†³æ–¹æ¡ˆï¼Œæˆ‘è§‰çš„æœ€å¥½çš„è§£å†³æ–¹æ¡ˆæ˜¯ä½¿ç”¨publicPathè§£å†³ï¼Œæˆ‘ä¹Ÿä¸€ç›´åœ¨ç”¨ã€‚</p>
<p>publicPathï¼šæ˜¯åœ¨webpack.config.jsæ–‡ä»¶çš„outputé€‰é¡¹ä¸­ï¼Œä¸»è¦ä½œç”¨å°±æ˜¯å¤„ç†é™æ€æ–‡ä»¶è·¯å¾„çš„ã€‚</p>
<p>åœ¨å¤„ç†å‰ï¼Œæˆ‘ä»¬åœ¨webpack.config.js ä¸Šæ–¹å£°æ˜ä¸€ä¸ªå¯¹è±¡ï¼Œå«websiteã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var website &#x3D;&#123;</span><br><span class="line">    publicPath:&quot;http:&#x2F;&#x2F;192.168.1.108:1717&#x2F;&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„ï¼Œè¿™é‡Œçš„IPå’Œç«¯å£ï¼Œæ˜¯ä½ æœ¬æœºçš„ipæˆ–è€…æ˜¯ä½ devServeré…ç½®çš„IPå’Œç«¯å£ã€‚</p>
<p>ç„¶ååœ¨outputé€‰é¡¹ä¸­å¼•ç”¨è¿™ä¸ªå¯¹è±¡çš„publicPathå±æ€§ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;å‡ºå£æ–‡ä»¶çš„é…ç½®é¡¹</span><br><span class="line">    output:&#123;</span><br><span class="line">        &#x2F;&#x2F;è¾“å‡ºçš„è·¯å¾„ï¼Œç”¨äº†Nodeè¯­æ³•</span><br><span class="line">        path:path.resolve(__dirname,&#39;dist&#39;),</span><br><span class="line">        &#x2F;&#x2F;è¾“å‡ºçš„æ–‡ä»¶åç§°</span><br><span class="line">        filename:&#39;[name].js&#39;,</span><br><span class="line">        publicPath:website.publicPath</span><br><span class="line">    &#125;,</span><br></pre></td></tr></table></figure>

<p>é…ç½®å®Œæˆåï¼Œä½ å†ä½¿ç”¨webpackå‘½ä»¤è¿›è¡Œæ‰“åŒ…ï¼Œä½ ä¼šå‘ç°åŸæ¥çš„ç›¸å¯¹è·¯å¾„æ”¹ä¸ºäº†ç»å¯¹è·¯å¾„ï¼Œè¿™æ ·æ¥è®²é€Ÿåº¦æ›´å¿«ã€‚</p>
<p><strong>æ€»ç»“ï¼š</strong>è¿™èŠ‚è¯¾æˆ‘ä»¬å®ç°äº†CSSçš„åˆ†ç¦»ï¼Œå¹¶åœ¨åˆ†ç¦»åå¤„ç†äº†å›¾ç‰‡è·¯å¾„ä¸å¯¹çš„é—®é¢˜ã€‚å¤„ç†è·¯å¾„çš„æ–¹æ³•ä¸€å®šè¦å……åˆ†ç†è§£ï¼Œå› ä¸ºè¿™åœ¨å·¥ä½œä¸­ç»å¸¸ç”¨åˆ°ã€‚</p>
<h4 id="å›¾ç‰‡è¿ˆå‘ï¼šå¤„ç†HTMLä¸­çš„å›¾ç‰‡-html-withimg-loader"><a href="#å›¾ç‰‡è¿ˆå‘ï¼šå¤„ç†HTMLä¸­çš„å›¾ç‰‡-html-withimg-loader" class="headerlink" title="å›¾ç‰‡è¿ˆå‘ï¼šå¤„ç†HTMLä¸­çš„å›¾ç‰‡(html-withimg-loader)"></a>å›¾ç‰‡è¿ˆå‘ï¼šå¤„ç†HTMLä¸­çš„å›¾ç‰‡(html-withimg-loader)</h4><p>æœ‰çš„å°ä¼™ä¼´åœ¨å­¦ä¹ è§†é¢‘æ—¶ï¼Œå¹¶æ²¡æœ‰å…¨å±€å®‰è£…webpackï¼Œè€Œæ˜¯ä½¿ç”¨äº†é¡¹ç›®å®‰è£…ã€‚é¦–å…ˆæˆ‘è¦è¯´çš„æ˜¯ï¼Œè¿™ç§åšæ³•æ˜¯webpackæ¨å´‡çš„ï¼Œwebpackå¹¶ä¸é¼“åŠ±å…¨å±€å®‰è£…webpackã€‚ä½†æ˜¯å°ä¼™ä¼´çœ‹æˆ‘è§†é¢‘ä¸­ç›´æ¥åœ¨ç»ˆç«¯ç”¨webpackè¿›è¡Œæ‰“åŒ…é¡¹ç›®ï¼Œä»–ä½¿ç”¨æ—¶ä¼šå‡ºç°ä¸æ˜¯å†…éƒ¨å‘½ä»¤æˆ–è€…å¤–éƒ¨å‘½ä»¤ã€‚</p>
<p>è¿™æ—¶å€™éœ€è¦é…ç½®package.jsoné‡Œçš„scriptsé€‰é¡¹ï¼Œæˆ‘ä»¬ä»¥å‰çš„è¯¾ç¨‹å·²ç»å­¦ä¹ äº†é…ç½® webpack-dev-serverå‘½ä»¤ï¼Œåœ¨è¿™ä¸ªå‘½ä»¤ä¸‹é¢æˆ‘ä»¬å†åŠ ä¸€ä¸ªbuildå‘½ä»¤è¿›è¡Œæ‰“åŒ…é¡¹ç›®ä½¿ç”¨ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&quot;scripts&quot;: &#123;</span><br><span class="line">    &quot;server&quot;: &quot;webpack-dev-server --open&quot;,</span><br><span class="line">    &quot;build&quot;:&quot;webpack&quot;</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>

<p>é…ç½®å®Œæˆåï¼Œå¯ä»¥åœ¨æ§åˆ¶å°è¾“å…¥npm run build è¿›è¡Œæ‰“åŒ…ã€‚</p>
<p><strong>å¦‚ä½•æŠŠå›¾ç‰‡æ”¾åˆ°æŒ‡å®šçš„æ–‡ä»¶å¤¹ä¸‹</strong></p>
<p>å‰è¾¹ä¸¤èŠ‚è¯¾ç¨‹ï¼Œæ‰“åŒ…åçš„å›¾ç‰‡å¹¶æ²¡æœ‰æ”¾åˆ°imagesæ–‡ä»¶å¤¹ä¸‹ï¼Œè¦æ”¾åˆ°imagesæ–‡ä»¶å¤¹ä¸‹ï¼Œå…¶å®åªéœ€è¦é…ç½®æˆ‘ä»¬çš„url-loaderé€‰é¡¹å°±å¯ä»¥äº†ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">module:&#123;</span><br><span class="line">        rules: [</span><br><span class="line">            &#123;</span><br><span class="line">              test: &#x2F;\.css$&#x2F;,</span><br><span class="line">              use: extractTextPlugin.extract(&#123;</span><br><span class="line">                fallback: &quot;style-loader&quot;,</span><br><span class="line">                use: &quot;css-loader&quot;</span><br><span class="line">              &#125;)</span><br><span class="line">            &#125;,&#123;</span><br><span class="line">               test:&#x2F;\.(png|jpg|gif)&#x2F; ,</span><br><span class="line">               use:[&#123;</span><br><span class="line">                   loader:&#39;url-loader&#39;,</span><br><span class="line">                   options:&#123;</span><br><span class="line">                       limit:5000,</span><br><span class="line">                       name:[name]_[hash:7].[ext]&#x2F;&#x2F;å ä½ç¬¦ï¼Œnameå¼•ç”¨åŸæ¥å›¾ç‰‡çš„åå­—ï¼Œhashæ‰“åŒ…çš„æ—¶å€™çš„hashå€¼ï¼Œextå¼•ç”¨åŸæ¥å›¾ç‰‡çš„åç¼€</span><br><span class="line">                       outputPath:&#39;images&#x2F;&#39;,&#x2F;&#x2F;è¾“å…¥æ–‡ä»¶å¤¹</span><br><span class="line">                   &#125;</span><br><span class="line">               &#125;]</span><br><span class="line">            &#125;</span><br><span class="line">          ]</span><br><span class="line">    &#125;,</span><br></pre></td></tr></table></figure>

<p>è¿™å›ä½ å†æ‰§è¡Œæ‰“åŒ…å°±å¯ä»¥æŠŠå›¾ç‰‡æ‰“åŒ…åˆ°imagesæ–‡ä»¶å¤¹é‡Œäº†ã€‚</p>
<p><strong>html-withimg-loader</strong></p>
<p>html-withimg-loaderå°±æ˜¯æˆ‘ä»¬ä»Šå¤©çš„é‡ç‚¹äº†ï¼Œè¿™ä¸ªæ’ä»¶å¹¶ä¸æ˜¯å¾ˆç«ï¼Œä¹Ÿæ˜¯æˆ‘ä¸ªäººå–œæ¬¢çš„ä¸€ä¸ªå°loaderã€‚è§£å†³çš„é—®é¢˜å°±æ˜¯åœ¨hmtlæ–‡ä»¶ä¸­å¼•å…¥å›¾ç‰‡æ ‡ç­¾çš„é—®é¢˜ã€‚</p>
<p>å®‰è£…ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install html-withimg-loader --save</span><br></pre></td></tr></table></figure>

<p><strong>é…ç½®loader</strong></p>
<p>webpack.config.js</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    test: &#x2F;\.(htm|html)$&#x2F;i,</span><br><span class="line">     use:[ &#39;html-withimg-loader&#39;] </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç„¶ååœ¨ç»ˆç«¯ä¸­å¯ä»¥è¿›è¡Œæ‰“åŒ…äº†ã€‚ä½ ä¼šå‘ç°imagesè¢«å¾ˆå¥½çš„æ‰“åŒ…äº†ã€‚å¹¶ä¸”è·¯å¾„ä¹Ÿå®Œå…¨æ­£ç¡®ã€‚</p>
<p>æ€»ç»“ï¼šæˆ‘ä»¬é€šè¿‡ä¸‰èŠ‚è¯¾çš„æ—¶é—´è®²äº†webpackå›¾ç‰‡ä¸­çš„å‘ï¼Œè¿™äº›å‘åœ¨æˆ‘åˆå­¦webpackåˆæœŸç»™æˆ‘å¸¦æ¥äº†ä¸å°‘çš„éº»çƒ¦ï¼Œæˆ‘ä¹Ÿç®—æ˜¯å€¾å›Šç›¸æ•™äº†ï¼Œå¸Œæœ›å°ä¼™ä¼´ä»¬æœ‰æ‰€æ”¶è·ã€‚åœ¨ä½ å·¥ä½œä¸­é‡åˆ°å›¾ç‰‡çš„é—®é¢˜ï¼Œä¹Ÿå¯ä»¥è¿”å›æ–‡ç« é‡Œè¿›è¡Œå¯¹æ¯”æŸ¥æ‰¾é—®é¢˜ã€‚</p>
<h4 id="CSSè¿›é˜¶ï¼šLessæ–‡ä»¶çš„æ‰“åŒ…å’Œåˆ†ç¦»"><a href="#CSSè¿›é˜¶ï¼šLessæ–‡ä»¶çš„æ‰“åŒ…å’Œåˆ†ç¦»" class="headerlink" title="CSSè¿›é˜¶ï¼šLessæ–‡ä»¶çš„æ‰“åŒ…å’Œåˆ†ç¦»"></a>CSSè¿›é˜¶ï¼šLessæ–‡ä»¶çš„æ‰“åŒ…å’Œåˆ†ç¦»</h4><p>ç¬¬05èŠ‚ä¸­å·²ç»è®²è¿‡CSSæ–‡ä»¶çš„æ‰“åŒ…ï¼Œåæ¥åˆè®²äº†CSSåˆ†ç¦»ã€‚è¿™èŠ‚æˆ‘ä»¬è®²è§£ä¸€ä¸‹Lessæ–‡ä»¶å¦‚ä½•æ‰“åŒ…å’Œåˆ†ç¦»ã€‚Less æ˜¯ä¸€é—¨ CSS é¢„å¤„ç†è¯­è¨€ï¼Œå®ƒæ‰©å±•äº† CSS è¯­è¨€ï¼Œå¢åŠ äº†å˜é‡ã€Mixinã€å‡½æ•°ç­‰ç‰¹æ€§ï¼Œä½¿ CSS æ›´æ˜“ç»´æŠ¤å’Œæ‰©å±•ã€‚ä¹Ÿå°±æ˜¯è¯´Lessç»™æˆ‘ä»¬æ¯ç‡¥å•ä¸€çš„æ ·å¼æ–‡ä»¶åŠ å…¥äº†ç¼–ç¨‹æœºåˆ¶ï¼Œè¿™è®©æˆ‘ä»¬è¿™äº›å‰ç«¯ç¨‹åºå‘˜å¾ˆå—ç”¨ï¼Œæ‰€ä»¥åœ¨å·¥ä½œä¸­å¤§éƒ¨åˆ†ç¨‹åºå‘˜éƒ½ä½¿ç”¨äº†Leesså¼€å‘ã€‚</p>
<p><strong>æ‰“åŒ…Lessæ–‡ä»¶</strong></p>
<p>å®‰è£…:</p>
<p>è¦ä½¿ç”¨Lessï¼Œæˆ‘ä»¬è¦é¦–å…ˆå®‰è£…Lessçš„æœåŠ¡ï¼Œå½“ç„¶ä¹Ÿæ˜¯ç”¨npmæ¥è¿›è¡Œå®‰è£…ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install --save-dev less</span><br></pre></td></tr></table></figure>

<p>è¿˜éœ€è¦å®‰è£…Less-loaderç”¨æ¥æ‰“åŒ…ä½¿ç”¨ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm n install --save-dev less-loader</span><br></pre></td></tr></table></figure>

<p>å†™loaderé…ç½®ï¼š</p>
<p>å®‰è£…å¥½åï¼Œéœ€è¦åœ¨webpack.config.jsé‡Œç¼–å†™loaderé…ç½®ï¼Œå½“ç„¶è¦æƒ³æ­£ç¡®è§£ææˆCSSï¼Œè¿˜æ˜¯éœ€è¦style-loaderå’Œcss-loaderçš„å¸®åŠ©ï¼Œä½†æ˜¯è¿™ä¸¤ä¸ªloaderå‰è¾¹å·²ç»è®²è¿‡äº†ï¼Œæ‰€ä»¥åœ¨è¿™é‡Œå°±ä¸é‡å¤äº†ï¼Œå¦‚æœä½ è¿˜å¯¹è¿™ä¸¤ä¸ªloaderä¸ç†Ÿæ‚‰ï¼Œé‚£è‡ªè¡Œå›å»è¡¥å‰è¾¹çš„ç¬¬äº”èŠ‚å§ã€‚</p>
<p>webpack.config.js</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    test: &#x2F;\.less$&#x2F;,</span><br><span class="line">    use: [&#123;</span><br><span class="line">           loader: &quot;style-loader&quot; &#x2F;&#x2F; creates style nodes from JS strings</span><br><span class="line">        &#125;, &#123;</span><br><span class="line">            loader: &quot;css-loader&quot; &#x2F;&#x2F; translates CSS into CommonJS</span><br><span class="line">        , &#123;</span><br><span class="line">            loader: &quot;less-loader&quot; &#x2F;&#x2F; compiles Less to CSS</span><br><span class="line">        &#125;]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>ç¼–å†™ä¸€ä¸ªlessæ–‡ä»¶</strong></p>
<p>ç°åœ¨webpackçš„é…ç½®å¥½äº†ï¼Œæˆ‘ä»¬è¿˜éœ€è¦ç¼–å†™ä¸€ä¸ªlessæ–‡ä»¶ï¼Œè¿™é‡Œæ˜æ–‡ä¸ºblack.less.é‡Œè¾¹åªåšä¸€ä»¶æ˜¯å°±æ˜¯æŠŠä¸€ä¸ªå±‚çš„èƒŒæ™¯è®¾ç½®æˆé»‘è‰²ã€‚</p>
<p>black.less</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">@base :#000;</span><br><span class="line">#gogo&#123;</span><br><span class="line">    width:300px;</span><br><span class="line">    height:300px;</span><br><span class="line">    background-color:@base;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œ#gogoæ˜¯å±‚çš„IDåç§°ã€‚@baseæ˜¯æˆ‘ä»¬è®¾ç½®çš„å˜é‡åç§°ã€‚</p>
<p><strong>å¼•å…¥åˆ°æˆ‘ä»¬entery.jsæ–‡ä»¶ä¸­</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import less from &#39;.&#x2F;css&#x2F;black.less&#39;;</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥æŠŠlessæ–‡ä»¶è¿›è¡Œæ‰“åŒ…äº†ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨webpackå‘½ä»¤æ‰“åŒ…è¯•ä¸€è¯•ã€‚</p>
<p><strong>æŠŠLeesæ–‡ä»¶åˆ†ç¦»ã€‚</strong></p>
<p>æˆ‘ä»¬ä¹‹å‰è®²äº†extract-text-webpack-pluginè¿™ä¸ªæ’ä»¶ï¼Œæƒ³æŠŠLessæ–‡ä»¶åˆ†ç¦»å‡ºæ¥çš„æ–¹æ³•è·Ÿè¿™ä¸ªå‡ ä¹ä¸€æ ·ï¼Œä¹‹å‰çš„æˆ‘ä»¬åœ¨ç¬¬09èŠ‚ä¸­è®²è¿‡ï¼Œè¿™é‡Œæˆ‘ä»¬å°±åªè®²lessçš„loaderé…ç½®æ–¹æ³•ã€‚ï¼ˆæ­¤å¤„å»ºè®®æ”¶çœ‹è§†é¢‘ï¼‰</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">            test: &#x2F;\.less$&#x2F;,</span><br><span class="line">            use: extractTextPlugin.extract(&#123;</span><br><span class="line">                use: [&#123;</span><br><span class="line">                    loader: &quot;css-loader&quot;</span><br><span class="line">                &#125;, &#123;</span><br><span class="line">                    loader: &quot;less-loader&quot;</span><br><span class="line">                &#125;],</span><br><span class="line">                &#x2F;&#x2F; use style-loader in development</span><br><span class="line">                fallback: &quot;style-loader&quot;</span><br><span class="line">            &#125;)</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<p>é…ç½®å¥½åï¼Œä½ ä¼šå‘ç°lessè¢«åˆ†ç¦»åˆ°äº†index.cssæ–‡ä»¶é‡Œã€‚</p>
<p>æ€»ç»“ï¼šLessæ˜¯éå¸¸å¥½çš„CSSæ‰©å±•ï¼Œä½†æ˜¯Lesså¾—è½¬æ¢ç¨æ˜¾éº»çƒ¦ï¼Œå¥½çš„æ˜¯webpackä¸ºæˆ‘ä»¬æä¾›äº†ç®€å•è½»æ¾çš„è½¬æ¢æ–¹æ³•ã€‚å¸Œæœ›å°ä¼™ä¼´å¯ä»¥å­¦å¥½è¿™ä¸€è¯¾ï¼Œåœ¨ä½ ä»¬çš„å·¥ä½œä¸­éƒ½å¼€å§‹ä½¿ç”¨Lessç¼–å†™ä½ ä»¬cssä»£ç ã€‚</p>
<h4 id="CSSè¿›é˜¶ï¼šSASSæ–‡ä»¶çš„æ‰“åŒ…å’Œåˆ†ç¦»"><a href="#CSSè¿›é˜¶ï¼šSASSæ–‡ä»¶çš„æ‰“åŒ…å’Œåˆ†ç¦»" class="headerlink" title="CSSè¿›é˜¶ï¼šSASSæ–‡ä»¶çš„æ‰“åŒ…å’Œåˆ†ç¦»"></a>CSSè¿›é˜¶ï¼šSASSæ–‡ä»¶çš„æ‰“åŒ…å’Œåˆ†ç¦»</h4><p>ä¸ŠèŠ‚è¯¾å­¦ä¹ äº†Lessçš„æ‰“åŒ…å’Œåˆ†ç¦»ï¼Œç¾¤é‡Œä½¿ç”¨SASSçš„å°ä¼™ä¼´é©¬ä¸Šå°±ä¸å¹²äº†ï¼Œè¦æ±‚è®²ä¸€ä¸‹SASSçš„é…ç½®ï¼Œå…¶å®ä½ ä¼šäº†Lesså¾—é…ç½®ï¼ŒSASSçš„é…ç½®å¯ä»¥å¾ˆè½»æ¾çš„å­¦ä¼šï¼Œä¸ºäº†å…¬å¹³å…¬æ­£ï¼Œé‚£æˆ‘ä»¬å°±ç”¨ä¸€èŠ‚è¯¾çš„æ—¶é—´å­¦ä¸€ä¸‹SASSçš„é…ç½®çš„ã€‚</p>
<p><strong>å®‰è£…SASSæ‰“åŒ…çš„loader</strong></p>
<p>è¿™é‡Œéœ€è¦ åœ¨é¡¹ç›®ç›®å½•ä¸‹ç”¨npmå®‰è£…ä¸¤ä¸ªåŒ…ã€‚node-sasså’Œsass-loader</p>
<p>node-sassï¼šå› ä¸ºsass-loaderä¾èµ–äºnode-sassï¼Œæ‰€ä»¥éœ€è¦å…ˆå®‰è£…node-sass</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm n install --save-dev node-sass</span><br></pre></td></tr></table></figure>

<p>sass-loader:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install --save-dev sass-loader</span><br></pre></td></tr></table></figure>

<p><strong>æ³¨æ„ï¼š</strong>åœ¨ç”¨npmå®‰è£…æ—¶ï¼Œè¿™ä¸ªloaderå¾ˆå®¹æ˜“å®‰è£…å¤±è´¥ï¼Œæœ€å¥½ä½¿ç”¨cnpmæ¥è¿›è¡Œå®‰è£…ã€‚å¦‚æœä½ å®‰è£…ä¸€ç›´æŠ¥é”™ï¼Œæœ€å¥½æ˜¯æŠŠnode_modulesæ–‡ä»¶å¤¹åˆ é™¤åï¼Œå†é‡æ–°å®‰è£…ã€‚</p>
<p>ç¼–å†™loaderé…ç½®</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">                test: &#x2F;\.scss$&#x2F;,</span><br><span class="line">                use: [&#123;</span><br><span class="line">                    loader: &quot;style-loader&quot; &#x2F;&#x2F; creates style nodes from JS strings</span><br><span class="line">                &#125;, &#123;</span><br><span class="line">                    loader: &quot;css-loader&quot; &#x2F;&#x2F; translates CSS into CommonJS</span><br><span class="line">                &#125;, &#123;</span><br><span class="line">                    loader: &quot;sass-loader&quot; &#x2F;&#x2F; compiles Sass to CSS</span><br><span class="line">                &#125;]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>Sassæ–‡ä»¶çš„ç¼–å†™</strong></p>
<p>å†™å¥½loaderé…ç½®åï¼Œå°±å¯ä»¥æ„‰å¿«çš„ç¼–å†™sassæ–‡ä»¶æ‹‰ï¼Œä½†æ˜¯ä¸è¦å¿˜è®°æŠŠsassæ–‡ä»¶å¼•å…¥åˆ°entery.jsä¸­ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$nav-color: #FFF;</span><br><span class="line">#nav &#123;</span><br><span class="line">  $width: 100%;</span><br><span class="line">  width: $width;</span><br><span class="line">  height:30px;</span><br><span class="line">  background-color: $nav-color;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>éƒ½å®Œæˆåï¼Œä½ å°±å¯ä»¥å¯åŠ¨æˆ‘ä»¬npm run server æ¥æŸ¥çœ‹æ•ˆæœäº†ã€‚</p>
<p><strong>æŠŠSASSæ–‡ä»¶åˆ†ç¦»ã€‚</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">            test: &#x2F;\.scss$&#x2F;,</span><br><span class="line">            use: extractTextPlugin.extract(&#123;</span><br><span class="line">                use: [&#123;</span><br><span class="line">                    loader: &quot;css-loader&quot;</span><br><span class="line">                &#125;, &#123;</span><br><span class="line">                    loader: &quot;sass-loader&quot;</span><br><span class="line">                &#125;],</span><br><span class="line">                &#x2F;&#x2F; use style-loader in development</span><br><span class="line">                fallback: &quot;style-loader&quot;</span><br><span class="line">            &#125;)</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<p>è¿™èŠ‚è¯¾ç®—æ˜¯ä¸“é—¨ä¸ºsassä½¿ç”¨è€…å½•åˆ¶çš„å§ï¼Œå…¶å®æ•´ä½“è¿‡ç¨‹å’Œlessçš„ä½¿ç”¨å·®ä¸å¤šï¼Œå¸Œæœ›ä½ èƒ½åœ¨å·¥ä½œä¸­å¼€å§‹ä½¿ç”¨sassï¼Œå¹¶å†™å‡ºæ¼‚äº®çš„cssä»£ç ã€‚</p>
<h4 id="CSSè¿›é˜¶ï¼šè‡ªåŠ¨å¤„ç†csså‰ç¼€ï¼Œå…¼å®¹æµè§ˆå™¨"><a href="#CSSè¿›é˜¶ï¼šè‡ªåŠ¨å¤„ç†csså‰ç¼€ï¼Œå…¼å®¹æµè§ˆå™¨" class="headerlink" title="CSSè¿›é˜¶ï¼šè‡ªåŠ¨å¤„ç†csså‰ç¼€ï¼Œå…¼å®¹æµè§ˆå™¨"></a>CSSè¿›é˜¶ï¼šè‡ªåŠ¨å¤„ç†csså‰ç¼€ï¼Œå…¼å®¹æµè§ˆå™¨</h4><p>è¿™èŠ‚è¯¾æˆ‘ä»¬å°±å­¦ä¹ ä¸€ä¸‹å¦‚ä½•é€šè¿‡postcss-loaderç»™css3å±æ€§è‡ªåŠ¨æ·»åŠ å‰ç¼€ã€‚</p>
<p><strong>ä»€ä¹ˆæ˜¯å±æ€§å‰ç¼€</strong></p>
<p>æˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸‹ä»£ç ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">-webkit-transform: rotate(45deg);</span><br><span class="line">        transform: rotate(45deg);</span><br></pre></td></tr></table></figure>

<p>ä¸ºäº†æµè§ˆå™¨çš„å…¼å®¹æ€§ï¼Œæœ‰æ—¶å€™æˆ‘ä»¬å¿…é¡»åŠ å…¥-webkit,-ms,-o,-mozè¿™äº›å‰ç¼€ã€‚ç›®çš„å°±æ˜¯è®©æˆ‘ä»¬å†™çš„é¡µé¢åœ¨æ¯ä¸ªæµè§ˆå™¨ä¸­éƒ½å¯ä»¥é¡ºåˆ©è¿è¡Œã€‚</p>
<p><strong>PostCSS</strong></p>
<p>PostCSSæ˜¯ä¸€ä¸ªCSSçš„å¤„ç†å¹³å°ï¼Œå®ƒå¯ä»¥å¸®åŠ©ä½ çš„CSSå®ç°æ›´å¤šçš„åŠŸèƒ½ï¼Œä½†æ˜¯ä»Šå¤©æˆ‘ä»¬å°±é€šè¿‡å…¶ä¸­çš„ä¸€ä¸ªåŠ å‰ç¼€çš„åŠŸèƒ½ï¼Œåˆæ­¥äº†è§£ä¸€ä¸‹PostCSSã€‚</p>
<p><strong>å®‰è£…</strong></p>
<p>éœ€è¦å®‰è£…ä¸¤ä¸ªåŒ…postcss-loader å’Œautoprefixerï¼ˆè‡ªåŠ¨æ·»åŠ å‰ç¼€çš„æ’ä»¶ï¼‰</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install --save-dev postcss-loader autoprefixer</span><br></pre></td></tr></table></figure>

<p>postcss.config.js</p>
<p>postCSSæ¨èåœ¨é¡¹ç›®æ ¹ç›®å½•ï¼ˆå’Œwebpack.config.jsåŒçº§ï¼‰ï¼Œå»ºç«‹ä¸€ä¸ªpostcss.config.jsæ–‡ä»¶ã€‚</p>
<p>postcss.config.js</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">module.exports &#x3D; &#123;</span><br><span class="line">    plugins: &#123;  </span><br><span class="line">        &#39;autoprefixer&#39;: &#123;browsers: &#39;last 5 version&#39;&#125;  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br><span class="line">æˆ–è€…</span><br><span class="line">module.exports &#x3D; &#123;</span><br><span class="line">    plugins: [</span><br><span class="line">        require(&#39;autoprefixer&#39;)</span><br><span class="line">    ] </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™å°±æ˜¯å¯¹postCSSä¸€ä¸ªç®€å•çš„é…ç½®ï¼Œå¼•å…¥äº†autoprefixeræ’ä»¶ã€‚è®©postCSSæ‹¥æœ‰æ·»åŠ å‰ç¼€çš„èƒ½åŠ›ï¼Œå®ƒä¼šæ ¹æ® can i use æ¥å¢åŠ ç›¸åº”çš„css3å±æ€§å‰ç¼€ã€‚</p>
<p><strong>ç¼–å†™loader</strong></p>
<p>å¯¹postcss.config.jsé…ç½®å®Œæˆåï¼Œæˆ‘ä»¬è¿˜éœ€è¦ç¼–å†™æˆ‘ä»¬çš„loaderé…ç½®ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">      test: &#x2F;\.css$&#x2F;,</span><br><span class="line">      use: [</span><br><span class="line">            &#123;</span><br><span class="line">              loader: &quot;style-loader&quot;</span><br><span class="line">            &#125;, &#123;</span><br><span class="line">              loader: &quot;css-loader&quot;,</span><br><span class="line">              options: &#123;</span><br><span class="line">                 modules: true</span><br><span class="line">              &#125;</span><br><span class="line">            &#125;, &#123;</span><br><span class="line">              loader: &quot;postcss-loader&quot;</span><br><span class="line">            &#125;</span><br><span class="line">      ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>æå–CSS</strong></p>
<p>é…ç½®æå–CSSçš„loaderé…ç½®.</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    test: &#x2F;\.css$&#x2F;,</span><br><span class="line">    use: extractTextPlugin.extract(&#123;</span><br><span class="line">        fallback: &#39;style-loader&#39;,</span><br><span class="line">        use: [</span><br><span class="line">            &#123; loader: &#39;css-loader&#39;, options: &#123; importLoaders: 1 &#125; &#125;,</span><br><span class="line">            &#39;postcss-loader&#39;</span><br><span class="line">        ]</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ€»ç»“:postcssè¿˜æœ‰å¾ˆå¤šåŠŸèƒ½ï¼Œæˆ‘å¸Œæœ›å°ä¼™ä¼´å­¦ä¼šè‡ªå­¦ã€‚è¿™é‡Œç»™å‡ºpostcss-loaderçš„githubåœ°å€ï¼š<a href="https://github.com/postcss/postcss-loader" target="_blank" rel="noopener">https://github.com/postcss/postcss-loader</a></p>
<h4 id="CSSè¿›é˜¶ï¼šæ¶ˆé™¤æœªä½¿ç”¨çš„CSS"><a href="#CSSè¿›é˜¶ï¼šæ¶ˆé™¤æœªä½¿ç”¨çš„CSS" class="headerlink" title="CSSè¿›é˜¶ï¼šæ¶ˆé™¤æœªä½¿ç”¨çš„CSS"></a>CSSè¿›é˜¶ï¼šæ¶ˆé™¤æœªä½¿ç”¨çš„CSS</h4><p>åƒBootstrapè¿™æ ·çš„æ¡†æ¶å¾€å¾€ä¼šå¸¦æœ‰å¾ˆå¤šCSSã€‚åœ¨é¡¹ç›®ä¸­é€šå¸¸æˆ‘ä»¬åªä½¿ç”¨å®ƒçš„ä¸€å°éƒ¨åˆ†ã€‚å°±ç®—æˆ‘ä»¬è‡ªå·±å†™CSSï¼Œéšç€é¡¹ç›®çš„è¿›å±•ï¼ŒCSSä¹Ÿä¼šè¶Šæ¥è¶Šå¤šï¼Œæœ‰æ—¶å€™éœ€æ±‚æ›´æ”¹ï¼Œå¸¦æ¥äº†DOMç»“æ„çš„æ›´æ”¹ï¼Œè¿™æ—¶å€™æˆ‘ä»¬å¯èƒ½æ— æš‡å…³æ³¨CSSæ ·å¼ï¼Œé€ æˆå¾ˆå¤šCSSçš„å†—ä½™ã€‚è¿™èŠ‚è¯¾å°±å­¦ä¹ ç”¨webpackæ¶ˆé™¤æœªä½¿ç”¨çš„CSSã€‚</p>
<p><strong>PurifyCSS</strong></p>
<p>ä½¿ç”¨PurifyCSSå¯ä»¥å¤§å¤§å‡å°‘CSSå†—ä½™ï¼Œæ¯”å¦‚æˆ‘ä»¬ç»å¸¸ä½¿ç”¨çš„BootStrap(140KB)å°±å¯ä»¥å‡å°‘åˆ°åªæœ‰35KBå¤§å°ã€‚è¿™åœ¨å®é™…å¼€å‘å½“ä¸­æ˜¯éå¸¸æœ‰ç”¨çš„ã€‚</p>
<p><strong>å®‰è£…PurifyCSS-webpack</strong></p>
<p>ä»åå­—ä½ å°±å¯ä»¥çœ‹å‡ºè¿™æ˜¯ä¸€ä¸ªæ’ä»¶ï¼Œè€Œä¸æ˜¯loaderã€‚æ‰€ä»¥è¿™ä¸ªéœ€è¦å®‰è£…è¿˜éœ€è¦å¼•å…¥ã€‚ PurifyCSS-webpackè¦ä»¥æ¥äºpurify-cssè¿™ä¸ªåŒ…ï¼Œæ‰€ä»¥è¿™ä¸¤ä¸ªéƒ½éœ€è¦å®‰è£…ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npmn  i -D purifycss-webpack purify-css</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œçš„-Dä»£è¡¨çš„æ˜¯â€“save-dev ,åªæ˜¯ä¸€ä¸ªç®€å†™ã€‚</p>
<p><strong>å¼•å…¥glob</strong></p>
<p>å› ä¸ºæˆ‘ä»¬éœ€è¦åŒæ­¥æ£€æŸ¥htmlæ¨¡æ¿ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å¼•å…¥nodeçš„globå¯¹è±¡ä½¿ç”¨ã€‚åœ¨webpack.config.jsæ–‡ä»¶å¤´éƒ¨å¼•å…¥globã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const glob &#x3D; &#96;require&#96;(&#39;glob&#39;);</span><br></pre></td></tr></table></figure>

<p>å¼•å…¥purifycss-webpack</p>
<p>åŒæ ·åœ¨webpack.config.jsæ–‡ä»¶å¤´éƒ¨å¼•å…¥purifycss-webpack</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const PurifyCSSPlugin &#x3D; &#96;require&#96;(&quot;purifycss-webpack&quot;);</span><br></pre></td></tr></table></figure>

<p><strong>é…ç½®plugins</strong></p>
<p>å¼•å…¥å®Œæˆåæˆ‘ä»¬éœ€è¦åœ¨webpack.config.jsé‡Œé…ç½®pluginsã€‚ä»£ç å¦‚ä¸‹ï¼Œé‡ç‚¹çœ‹æ ‡é»„éƒ¨åˆ†ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">plugins:[</span><br><span class="line">    &#x2F;&#x2F;new uglify() </span><br><span class="line">    new htmlPlugin(&#123;</span><br><span class="line">        minify:&#123;</span><br><span class="line">            removeAttrubuteQuotes:true</span><br><span class="line">        &#125;,</span><br><span class="line">        hash:true,</span><br><span class="line">        template:&#39;.&#x2F;src&#x2F;index.html&#39;</span><br><span class="line"></span><br><span class="line">    &#125;),</span><br><span class="line">    new extractTextPlugin(&quot;css&#x2F;index.css&quot;),</span><br><span class="line">    new PurifyCSSPlugin(&#123;</span><br><span class="line">        &#x2F;&#x2F; Give paths to parse for rules. These should be absolute!</span><br><span class="line">        paths: glob.sync(path.join(__dirname, &#39;src&#x2F;*.html&#39;)),</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œé…ç½®äº†ä¸€ä¸ªpathsï¼Œä¸»è¦æ˜¯éœ€æ‰¾htmlæ¨¡æ¿ï¼Œpurifycssæ ¹æ®è¿™ä¸ªé…ç½®ä¼šéå†ä½ çš„æ–‡ä»¶ï¼ŒæŸ¥æ‰¾å“ªäº›cssè¢«ä½¿ç”¨äº†ã€‚</p>
<p><strong>æ³¨æ„ï¼š</strong>ä½¿ç”¨è¿™ä¸ªæ’ä»¶å¿…é¡»é…åˆextract-text-webpack-pluginè¿™ä¸ªæ’ä»¶ï¼Œè¿™ä¸ªæ’ä»¶åœ¨å‰è¾¹çš„è¯¾ç¨‹å·²ç»è®²è§£è¿‡äº†ã€‚å¦‚æœä½ è¿˜ä¸ä¼šè¯·è‡ªå­¦ä¸€ä¸‹ã€‚</p>
<p>é…ç½®å¥½ä¸Šè¾¹çš„ä»£ç ï¼Œæˆ‘ä»¬å¯ä»¥æ•…æ„åœ¨cssæ–‡ä»¶é‡Œå†™ä¸€äº›ç”¨ä¸åˆ°çš„å±æ€§ï¼Œç„¶åç”¨webpackæ‰“åŒ…ï¼Œä½ ä¼šå‘ç°æ²¡ç”¨çš„CSSå·²ç»è‡ªåŠ¨ç»™ä½ åˆ é™¤æ‰äº†ã€‚åœ¨å·¥ä½œä¸­è®°å¾—ä¸€å®šè¦é…ç½®è¿™ä¸ªpluginsï¼Œå› ä¸ºè¿™å†³å®šä½ ä»£ç çš„è´¨é‡ï¼Œéå¸¸æœ‰ç”¨ã€‚</p>
<h4 id="æ‰“åŒ…iconfontå­—ä½“æ–‡ä»¶"><a href="#æ‰“åŒ…iconfontå­—ä½“æ–‡ä»¶" class="headerlink" title="æ‰“åŒ…iconfontå­—ä½“æ–‡ä»¶"></a>æ‰“åŒ…iconfontå­—ä½“æ–‡ä»¶</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">        test: &#x2F;\.(woff2?|eot|ttf|otf)(\?.*)?$&#x2F;,</span><br><span class="line">        loader: &quot;url-loader&quot;,</span><br><span class="line">        options: &#123;</span><br><span class="line">          limit: 10000,</span><br><span class="line">          name: utils.assetsPath(&quot;fonts&#x2F;[name].[hash:7].[ext]&quot;)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="ç»™webpackå¢åŠ bableæ”¯æŒï¼ˆes6è½¬es5ï¼‰"><a href="#ç»™webpackå¢åŠ bableæ”¯æŒï¼ˆes6è½¬es5ï¼‰" class="headerlink" title="ç»™webpackå¢åŠ bableæ”¯æŒï¼ˆes6è½¬es5ï¼‰"></a>ç»™webpackå¢åŠ bableæ”¯æŒï¼ˆes6è½¬es5ï¼‰</h4><p>åœ¨å‰ç«¯å¼€å‘ä¸­éƒ½å¼€å§‹ä½¿ç”¨ES6çš„è¯­æ³•äº†ï¼Œè™½ç„¶è¯´webpack3å¢åŠ äº†ä¸€äº›ES6çš„è½¬æ¢æ”¯æŒï¼Œä½†æ˜¯å®é™…æ•ˆæœä¸æ˜¯å¾ˆå¥½ï¼Œä¹Ÿå¯èƒ½æ˜¯æœ¬äººæŠ€æœ¯æœ‰é™ï¼Œæ²¡å‘æŒ¥å‡ºçœŸæ­£çš„åŠŸèƒ½ã€‚æ‰€ä»¥æˆ‘åœ¨å¼€å‘ä¸­è¿˜æ˜¯å–œæ¬¢æ·»åŠ Babel-loaderçš„ï¼Œæˆ‘ä¹ŸæŸ¥çœ‹äº†ä¸€äº›åˆ«äººçš„webpacké…ç½®ä¹Ÿéƒ½å¢åŠ äº†babel-loaderï¼Œæ‰€ä»¥è¿™èŠ‚è¯¾æˆ‘ä»¬å­¦ä¹ ä¸€ä¸‹å¦‚ä½•å¢åŠ Babelæ”¯æŒã€‚ï¼ˆæ­¤èŠ‚æ–‡ç« éƒ¨åˆ†å†…å®¹å¼•ç”¨äº†zhangwangå¤§ç¥çš„æ–‡ç« å†…å®¹ï¼‰</p>
<p>Babelæ˜¯ä»€ä¹ˆï¼Ÿ Babelå…¶å®æ˜¯ä¸€ä¸ªç¼–è¯‘JavaScriptçš„å¹³å°ï¼Œå®ƒçš„å¼ºå¤§ä¹‹å¤„è¡¨ç°åœ¨å¯ä»¥é€šè¿‡ä¾¿å®œå¸®ä½ è¾¾åˆ°ä»¥ä¸‹ç›®çš„ï¼š</p>
<p>ä½¿ç”¨ä¸‹ä¸€ä»£çš„javaScriptä»£ç (ES6,ES7â€¦.)ï¼Œå³ä½¿è¿™äº›æ ‡å‡†ç›®å‰å¹¶æœªè¢«å½“å‰çš„æµè§ˆå™¨å®Œå…¨æ”¯æŒã€‚</p>
<p>ä½¿ç”¨åŸºäºJavaScriptè¿›è¡Œäº†æ‰©å±•çš„è¯­è¨€ï¼Œæ¯”å¦‚Reactçš„JSXã€‚</p>
<p><strong>Babelçš„å®‰è£…ä¸é…ç½®</strong></p>
<p>Babelå…¶å®æ˜¯å‡ ä¸ªæ¨¡å—åŒ–çš„åŒ…ï¼Œå…¶æ ¸å¿ƒåŠŸèƒ½ä½äºç§°ä¸ºbabel-coreçš„npmåŒ…ä¸­ï¼Œwebpackå¯ä»¥æŠŠå…¶ä¸åŒçš„åŒ…æ•´åˆåœ¨ä¸€èµ·ä½¿ç”¨ï¼Œå¯¹äºæ¯ä¸€ä¸ªä½ éœ€è¦çš„åŠŸèƒ½æˆ–æ‹“å±•ï¼Œä½ éƒ½éœ€è¦å®‰è£…å•ç‹¬çš„åŒ…ï¼ˆç”¨å¾—æœ€å¤šçš„æ˜¯è§£æES6çš„babel-preset-es2015åŒ…å’Œè§£æJSXçš„babel-preset-reactåŒ…ï¼‰ã€‚</p>
<p>æˆ‘ä»¬å…ˆä¸€æ¬¡æ€§å®‰è£…è¿™äº›ä¾èµ–åŒ…</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cnpm c install --save-dev babel-core babel-loader babel-preset-es2015 babel-preset-react</span><br></pre></td></tr></table></figure>

<p>åœ¨webpackä¸­é…ç½®Babelçš„æ–¹æ³•å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    test:&#x2F;\.(jsx|js)$&#x2F;,</span><br><span class="line">    use:&#123;</span><br><span class="line">        loader:&#39;babel-loader&#39;,</span><br><span class="line">        options:&#123;</span><br><span class="line">            presets:[</span><br><span class="line">                &quot;es2015&quot;,&quot;react&quot;</span><br><span class="line">            ]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    exclude:&#x2F;node_modules&#x2F;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç°åœ¨ä½ å·²ç»å¯ä»¥ç”¨webapckè½¬æ¢ES6çš„è¯­æ³•å…¼å®¹å„ä¸ªæµè§ˆå™¨äº†ï¼Œæˆ‘ä»¬å¯ä»¥ä¿®æ”¹ä¸€ä¸‹entry.jsçš„ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import css from &#39;.&#x2F;css&#x2F;index.css&#39;;</span><br><span class="line">&#123;</span><br><span class="line">    let jspangString &#x3D; &#39;Hello Webpack&#39;</span><br><span class="line">    document.getElementById(&#39;title&#39;).innerHTML&#x3D;jspangString; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢çš„ä»£ç ä½¿ç”¨äº†ES6çš„letå£°æ˜æ–¹æ³•ã€‚å¦‚æœä½ ä¸ä½¿ç”¨Babelæ¥è¿›è¡Œè½¬æ¢ï¼Œä½ ä¼šå‘ç°æ‰“åŒ…å‡ºæ¥çš„jsä»£ç æ²¡æœ‰ä½œå…¼å®¹å¤„ç†ï¼Œä½¿ç”¨äº†Babelè½¬æ¢çš„ä»£ç æ˜¯è¿›è¡Œå¤„ç†è¿‡çš„ã€‚</p>
<p><strong>.babelrcé…ç½®</strong></p>
<p>è™½ç„¶Babelå¯ä»¥ç›´æ¥åœ¨webpack.config.jsä¸­è¿›è¡Œé…ç½®ï¼Œä½†æ˜¯è€ƒè™‘åˆ°babelå…·æœ‰éå¸¸å¤šçš„é…ç½®é€‰é¡¹ï¼Œå¦‚æœå¸è½½webapck.config.jsä¸­ä¼šéå¸¸çš„é›é•¿ä¸å¯é˜…è¯»ï¼Œæ‰€ä»¥æˆ‘ä»¬ç»å¸¸æŠŠé…ç½®å¸è½½.babelrcæ–‡ä»¶é‡Œã€‚</p>
<p>åœ¨é¡¹ç›®æ ¹ç›®å½•æ–°å»º.babelrcæ–‡ä»¶ï¼Œå¹¶æŠŠé…ç½®å†™åˆ°æ–‡ä»¶é‡Œã€‚</p>
<p>.babelrc</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;presets&quot;:[&quot;react&quot;,&quot;es2015&quot;]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>.webpack.config.jsé‡Œçš„loaderé…ç½®</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    test:&#x2F;\.(jsx|js)$&#x2F;,</span><br><span class="line">    use:&#123;</span><br><span class="line">        loader:&#39;babel-loader&#39;,</span><br><span class="line">    &#125;,</span><br><span class="line">    exclude:&#x2F;node_modules&#x2F;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>ENVï¼š</strong></p>
<p>ç°åœ¨ç½‘ç»œä¸Šå·²ç»ä¸æµè¡Œbabel-preset-es2015ï¼Œç°åœ¨å®˜æ–¹æ¨èä½¿ç”¨çš„æ˜¯babel-preset-env,é‚£æˆ‘ä»¬ä¸ºäº†ç´§è·Ÿæ½®æµï¼Œæˆ‘ä»¬åœ¨è®²ä¸€ä¸‹envçš„é…ç½®æ–¹æ³•ã€‚</p>
<p>é¦–å…ˆéœ€è¦ä¸‹è½½ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm n install --save-dev babel-preset-env</span><br></pre></td></tr></table></figure>

<p>ç„¶åä¿®æ”¹.babelrcé‡Œçš„é…ç½®æ–‡ä»¶ã€‚å…¶å®åªè¦æŠŠä¹‹å‰çš„es2015æ¢æˆenvå°±å¯ä»¥äº†ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;presets&quot;:[&quot;react&quot;,&quot;env&quot;]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ€»ç»“ï¼šå¯¹äºåœ¨Reactä¸­Babelçš„ä½¿ç”¨ï¼Œå¦‚ä½•è§£æJSXï¼Œæˆ‘ä¼šåœ¨åè¾¹çš„è¯¾ç¨‹ä½œè¯¦ç»†äº†è§£ï¼Œå¤§å®¶ä¸è¦ç€æ€¥ã€‚åœ¨å®é™…å·¥ä½œä¸­è¿˜æ˜¯è¦å®‰è£…Babelçš„ï¼Œè¿™æ ·èƒ½æ›´å¥½çš„å…¼å®¹æ¯ç§æµè§ˆå™¨ï¼Œè€ŒæŠŠBabelçš„é…ç½®æ–‡ä»¶åˆ†è§£å‡ºæ¥æ˜¯æœ€å¥½çš„é€‰æ‹©ã€‚</p>
<h4 id="æ‰“åŒ…åå¦‚ä½•è°ƒè¯•"><a href="#æ‰“åŒ…åå¦‚ä½•è°ƒè¯•" class="headerlink" title="æ‰“åŒ…åå¦‚ä½•è°ƒè¯•"></a>æ‰“åŒ…åå¦‚ä½•è°ƒè¯•</h4><p>ä½œä¸ºä¸€ä¸ªç¨‹åºå‘˜æ¯å¤©çš„å¤§éƒ¨åˆ†å·¥ä½œå°±æ˜¯è°ƒè¯•è‡ªå·±å†™çš„ç¨‹åºï¼Œé‚£æˆ‘ä»¬ä½¿ç”¨äº†webpackåï¼Œæ‰€ä»¥ä»£ç éƒ½æ‰“åŒ…åˆ°äº†ä¸€èµ·ï¼Œç»™è°ƒè¯•å¸¦æ¥äº†éº»çƒ¦ï¼Œä½†æ˜¯webpackå·²ç»ä¸ºæˆ‘ä»¬å……åˆ†è€ƒè™‘å¥½äº†è¿™ç‚¹ï¼Œå®ƒæ”¯æŒç”Ÿäº§Source Mapsæ¥æ–¹ä¾¿æˆ‘ä»¬çš„è°ƒè¯•ã€‚ï¼ˆæ•²é»‘æ¿ï¼Œè¿™èŠ‚å¯èƒ½åç†è®ºä¸€ç‚¹ã€‚ï¼‰</p>
<p>åœ¨ä½¿ç”¨webpackæ—¶åªè¦é€šè¿‡ç®€å•çš„devtoolé…ç½®ï¼Œwebapckå°±ä¼šè‡ªåŠ¨ç»™æˆ‘ä»¬ç”Ÿäº§source maps æ–‡ä»¶ï¼Œmapæ–‡ä»¶æ˜¯ä¸€ç§å¯¹åº”ç¼–è¯‘æ–‡ä»¶å’Œæºæ–‡ä»¶çš„æ–¹æ³•ï¼Œè®©æˆ‘ä»¬è°ƒè¯•èµ·æ¥æ›´ç®€å•ã€‚</p>
<p>å››ç§é€‰é¡¹</p>
<p>åœ¨é…ç½®devtoolæ—¶ï¼Œwebpackç»™æˆ‘ä»¬æä¾›äº†å››ç§é€‰é¡¹ã€‚</p>
<ul>
<li>source-map:åœ¨ä¸€ä¸ªå•ç‹¬æ–‡ä»¶ä¸­äº§ç”Ÿä¸€ä¸ªå®Œæ•´ä¸”åŠŸèƒ½å®Œå…¨çš„æ–‡ä»¶ã€‚è¿™ä¸ªæ–‡ä»¶å…·æœ‰æœ€å¥½çš„source map,ä½†æ˜¯å®ƒä¼šå‡æ…¢æ‰“åŒ…é€Ÿåº¦ï¼›</li>
<li>cheap-module-source-map:åœ¨ä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶ä¸­äº§ç”Ÿä¸€ä¸ªä¸å¸¦åˆ—æ˜ å°„çš„mapï¼Œä¸å¸¦åˆ—æ˜ å°„æé«˜äº†æ‰“åŒ…é€Ÿåº¦ï¼Œä½†æ˜¯ä¹Ÿä½¿å¾—æµè§ˆå™¨å¼€å‘è€…å·¥å…·åªèƒ½å¯¹åº”åˆ°å…·ä½“çš„è¡Œï¼Œä¸èƒ½å¯¹åº”åˆ°å…·ä½“çš„åˆ—ï¼ˆç¬¦å·ï¼‰,ä¼šå¯¹è°ƒè¯•é€ æˆä¸ä¾¿ã€‚</li>
<li>eval-source-map:ä½¿ç”¨evalæ‰“åŒ…æºæ–‡ä»¶æ¨¡å—ï¼Œåœ¨åŒä¸€ä¸ªæ–‡ä»¶ä¸­ç”Ÿäº§å¹²å‡€çš„å®Œæ•´ç‰ˆçš„sourcemapï¼Œä½†æ˜¯å¯¹æ‰“åŒ…åè¾“å‡ºçš„JSæ–‡ä»¶çš„æ‰§è¡Œå…·æœ‰æ€§èƒ½å’Œå®‰å…¨çš„éšæ‚£ã€‚åœ¨å¼€å‘é˜¶æ®µè¿™æ˜¯ä¸€ä¸ªéå¸¸å¥½çš„é€‰é¡¹ï¼Œåœ¨ç”Ÿäº§é˜¶æ®µåˆ™ä¸€å®šè¦ä¸å¼€å¯è¿™ä¸ªé€‰é¡¹ã€‚</li>
<li>cheap-module-eval-source-map:è¿™æ˜¯åœ¨æ‰“åŒ…æ–‡ä»¶æ—¶æœ€å¿«çš„ç”Ÿäº§source mapçš„æ–¹æ³•ï¼Œç”Ÿäº§çš„ Source map ä¼šå’Œæ‰“åŒ…åçš„JavaScriptæ–‡ä»¶åŒè¡Œæ˜¾ç¤ºï¼Œæ²¡æœ‰å½±å°„åˆ—ï¼Œå’Œeval-source-mapé€‰é¡¹å…·æœ‰ç›¸ä¼¼çš„ç¼ºç‚¹ã€‚</li>
</ul>
<p>å››ç§æ‰“åŒ…æ¨¡å¼ï¼Œæœ‰ä¸Šåˆ°ä¸‹æ‰“åŒ…é€Ÿåº¦è¶Šæ¥è¶Šå¿«ï¼Œä¸è¿‡åŒæ—¶ä¹Ÿå…·æœ‰è¶Šæ¥è¶Šå¤šçš„è´Ÿé¢ä½œç”¨ï¼Œè¾ƒå¿«çš„æ‰“åŒ…é€Ÿåº¦çš„åæœå°±æ˜¯å¯¹æ‰§è¡Œå’Œè°ƒè¯•æœ‰ä¸€å®šçš„å½±å“ã€‚</p>
<p>ä¸ªäººæ„è§æ˜¯ï¼Œå¦‚æœå¤§å‹é¡¹ç›®å¯ä»¥ä½¿ç”¨source-mapï¼Œå¦‚æœæ˜¯ä¸­å°å‹é¡¹ç›®ä½¿ç”¨eval-source-mapå°±å®Œå…¨å¯ä»¥åº”å¯¹ï¼Œéœ€è¦å¼ºè°ƒè¯´æ˜çš„æ˜¯ï¼Œsource mapåªé€‚ç”¨äºå¼€å‘é˜¶æ®µï¼Œä¸Šçº¿å‰è®°å¾—ä¿®æ”¹è¿™äº›è°ƒè¯•è®¾ç½®ã€‚</p>
<p>ç®€å•çš„é…ç½®ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">module.exports &#x3D; &#123;</span><br><span class="line">  devtool: &#39;eval-source-map&#39;,</span><br><span class="line">  entry:  __dirname + &quot;&#x2F;app&#x2F;main.js&quot;,</span><br><span class="line">  output: &#123;</span><br><span class="line">    path: __dirname + &quot;&#x2F;public&quot;,</span><br><span class="line">    filename: &quot;bundle.js&quot;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ€»ç»“ï¼šè°ƒè¯•åœ¨å¼€å‘ä¸­ä¹Ÿæ˜¯å¿…ä¸å¯å°‘çš„ï¼Œä½†æ˜¯ä¸€å®šè¦è®°å¾—åœ¨ä¸Šçº¿å‰ä¸€å®šè¦ä¿®æ”¹webpacké…ç½®ï¼Œåœ¨æ‰“å‡ºä¸Šçº¿åŒ…ã€‚</p>
<h4 id="å®æˆ˜æŠ€å·§ï¼šå¼€å‘å’Œç”Ÿäº§å¹¶è¡Œè®¾ç½®"><a href="#å®æˆ˜æŠ€å·§ï¼šå¼€å‘å’Œç”Ÿäº§å¹¶è¡Œè®¾ç½®" class="headerlink" title="å®æˆ˜æŠ€å·§ï¼šå¼€å‘å’Œç”Ÿäº§å¹¶è¡Œè®¾ç½®"></a>å®æˆ˜æŠ€å·§ï¼šå¼€å‘å’Œç”Ÿäº§å¹¶è¡Œè®¾ç½®</h4><p><strong>ä¾èµ–ä¸åŒ</strong></p>
<p>ä¸€ä¸ªé¡¹ç›®ä¸­æ˜¯æœ‰å¼€å‘ç¯å¢ƒå’Œç”Ÿäº§ç¯å¢ƒçš„ï¼Œè¿™ä¸¤ä¸ªç¯å¢ƒçš„ä¾èµ–ä¹Ÿæ˜¯ä¸åŒçš„ã€‚</p>
<ul>
<li>å¼€å‘ä¾èµ–ï¼šåªåœ¨å¼€å‘ä¸­ç”¨æ¥å¸®åŠ©ä½ è¿›è¡Œå¼€å‘ï¼Œç®€åŒ–ä»£ç æˆ–è€…ç”Ÿæˆå…¼å®¹è®¾ç½®çš„ä»¥æ¥åŒ…ã€‚ä½ å¯ä»¥æ‰“å¼€package.jsonæ¥æŸ¥çœ‹ï¼ŒdevDependenciesçš„ä¸‹é¢çš„è¿™äº›åŒ…ä¸ºå¼€å‘ä½¿ç”¨çš„åŒ…ã€‚è¿™äº›åŒ…åœ¨ç”Ÿäº§ç¯å¢ƒä¸­å¹¶æ²¡æœ‰ç”¨å¤„ã€‚</li>
<li>ç”Ÿäº§ä¾èµ–ï¼šå°±æ˜¯æ¯”å¦‚æˆ‘ä»¬çš„jsä½¿ç”¨äº†jqueryï¼Œjqueryçš„ç¨‹åºè¦åœ¨æµè§ˆå™¨ç«¯èµ·ä½œç”¨ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬æœ€ç»ˆçš„ç¨‹åºä¹Ÿéœ€è¦è¿™ä¸ªåŒ…ï¼Œè¿™å°±æ˜¯ç”Ÿäº§ä¾èµ–ã€‚è¿™äº›åŒ…åœ¨dependenciesä¸­ã€‚</li>
</ul>
<p>npmå®‰è£…</p>
<p>å‡å¦‚æˆ‘ä»¬è¦åœ¨é¡¹ç›®ä¸­ä½¿ç”¨jqueryåº“ï¼Œè¿™æ—¶å€™æˆ‘ä»¬ä¸€èˆ¬æœ‰ä¸‰ç§å®‰è£…æ–¹æ³•ï¼Œæ¯ç§æˆ‘éƒ½è¯¦ç»†è®²è§£ä¸€ä¸‹ã€‚</p>
<p><strong>ç¬¬ä¸€ç§ï¼š</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install jquery</span><br></pre></td></tr></table></figure>

<p>å®‰è£…å®Œæˆåï¼Œä½ ä¼šå‘ç°åœ¨package.jsonä¸­å¹¶ä¸å­˜åœ¨è¿™ä¸ªåŒ…çš„ä¾èµ–ã€‚å¦‚æœä½ é¡¹ç›®æ‹·è´ç»™åˆ«äººç»§ç»­å¼€å‘ï¼Œæˆ–è€…åˆ«äººå’Œä½ gitåˆä½œï¼Œå†æ¬¡ä¸‹è½½é¡¹ç›®npm installæ—¶å°±ä¼šç¼ºå°‘è¿™ä¸ªjqueryåŒ…ã€‚é¡¹ç›®å°±ä¼šæ— æ³•æ­£å¸¸è¿è¡Œï¼Œæ‰€ä»¥è¿™ä¹Ÿæ˜¯æˆ‘ä»¬æœ€ä¸èµæˆçš„å®‰è£…æ–¹æ³•ã€‚</p>
<p><strong>ç¬¬äºŒç§ï¼š</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm n install jquery --save</span><br></pre></td></tr></table></figure>

<p>å®‰è£…å®Œæˆåï¼Œå®ƒå­˜åœ¨äºpackage.jsonçš„dependenciesä¸­ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒæ˜¯ç”Ÿäº§ç¯å¢ƒéœ€è¦ä¾èµ–çš„åŒ…ï¼ˆä¸Šçº¿æ—¶éœ€è¦çš„ä»¥æ¥åŒ…ï¼‰ã€‚</p>
<p><strong>ç¬¬ä¸‰ç§ï¼š</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install jquery --save-dev</span><br></pre></td></tr></table></figure>

<p>å®‰è£…å®Œæˆåï¼Œå®ƒå­˜åœ¨äºpackage.jsonçš„devDependenciesä¸­ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒæ˜¯å¼€å‘ç¯å¢ƒä¸­éœ€è¦çš„ï¼Œä¸Šçº¿å¹¶ä¸éœ€è¦è¿™ä¸ªåŒ…çš„ä¾èµ–ã€‚</p>
<p><strong>å®‰è£…å…¨éƒ¨é¡¹ç›®ä¾èµ–åŒ…ï¼š</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install</span><br></pre></td></tr></table></figure>

<p>å®‰è£…ç”Ÿäº§ç¯å¢ƒä¾èµ–åŒ…ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install --production</span><br></pre></td></tr></table></figure>

<p><strong>é…ç½®ç”Ÿäº§å’Œå¼€å‘å¹¶è¡Œ</strong></p>
<p>æˆ‘ä»¬åœ¨ä»¥å‰çš„é…ç½®ä¸­è®¾ç½®äº†ä¸€ä¸ªå˜é‡websiteï¼Œç”¨äºé™æ€èµ„æºæ­£ç¡®æ‰¾åˆ°è·¯å¾„ã€‚é‚£å¦‚æœç”Ÿäº§ç¯å¢ƒå’Œå¼€å‘ç¯å¢ƒä¸ä¸€æ ·ï¼Œè€Œä¸”æˆ‘ä»¬éœ€è¦æ¥å›åˆ‡æ¢ï¼Œè¿™æ—¶å€™æˆ‘ä»¬éœ€è¦æ›´å¥½çš„è®¾ç½®æ–¹æ³•ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var website&#x3D;&#123;</span><br><span class="line">    publicPath:&quot;http:&#x2F;&#x2F;192.168.0.104:1717&#x2F;&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>é‡‡ç”¨æ’ä»¶çš„å½¢å¼è®¾ç½®ç¯å¢ƒå˜é‡çš„å€¼</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">plugins:[</span><br><span class="line">       new webpack.DefinePlugin(&#123;</span><br><span class="line">           &#39;process.env&#39;: &#123;</span><br><span class="line">               NODE_ENV: &#39;&quot;production&quot;&#39;</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;)</span><br><span class="line">   ],</span><br></pre></td></tr></table></figure>

<p><strong>ä¿®æ”¹package.jsonå‘½ä»¤</strong></p>
<p>å…¶å®å°±æ˜¯æ·»åŠ ä¸€ä¸ªdevè®¾ç½®ï¼Œå¹¶é€šè¿‡ç¯å¢ƒå˜é‡æ¥è¿›è¡ŒåŒºåˆ†ï¼Œä¸‹é¢æ˜¯package.jsoné‡Œçš„å€¼ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&quot;scripts&quot;: &#123;</span><br><span class="line">    &quot;server&quot;: &quot;webpack-dev-server --open&quot;,</span><br><span class="line">    &quot;dev&quot;:&quot;set NODE_ENV&#x3D;dev&amp;webapck&quot;,</span><br><span class="line">    &quot;build&quot;: &quot;set NODE_ENV&#x3D;build&amp;webpack&quot;</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>

<p><strong>ä¿®æ”¹webpack.config.jsæ–‡ä»¶</strong></p>
<p>å¯ä»¥åˆ©ç”¨nodeçš„è¯­æ³•æ¥è¯»å–NODE_ENVçš„å€¼ï¼Œç„¶åæ ¹æ®NODE_ENVçš„å€¼ç”¨ifâ€“elseåˆ¤æ–­ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">if(process.env.NODE_ENV&#x3D;&#x3D; &quot;build&quot;)&#123;</span><br><span class="line">    var website&#x3D;&#123;</span><br><span class="line">        publicPath:&quot;http:&#x2F;&#x2F;192.168.0.104:1717&#x2F;&quot;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;else&#123;</span><br><span class="line">    var website&#x3D;&#123;</span><br><span class="line">        publicPath:&quot;http:&#x2F;&#x2F;cdn.jspang.com&#x2F;&quot;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¦‚æœä½ è¯´æˆ‘æƒ³çœ‹ä¸€ä¸‹ä¼ è¿‡æ¥çš„å€¼åˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿå¯ä»¥ç”¨ä¸‹é¢çš„è¾“å‡ºè¯­å¥ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">console.log( encodeURIComponent(process.env.NODE_ENV) );</span><br></pre></td></tr></table></figure>

<p><strong>Macä¸‹çš„package.jsonè®¾ç½®</strong></p>
<p>MACç”µè„‘ä¸‹éœ€è¦æŠŠsetæ¢æˆexportï¼Œå¹¶ä¸”è¦å¤šåŠ ä¸€ä¸ª&amp;ç¬¦ï¼Œå…·ä½“ä»£ç å¦‚ä¸‹ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&quot;scripts&quot;: &#123;</span><br><span class="line">    &quot;server&quot;: &quot;webpack-dev-server --open&quot;,</span><br><span class="line">    &quot;dev&quot;:&quot;export NODE_ENV&#x3D;dev&amp;&amp;webpack&quot;,</span><br><span class="line">    &quot;build&quot;: &quot;export NODE_ENV&#x3D;build&amp;&amp;webpack&quot;</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>



<h4 id="å®æˆ˜æŠ€å·§ï¼šwebpackæ¨¡å—åŒ–é…ç½®"><a href="#å®æˆ˜æŠ€å·§ï¼šwebpackæ¨¡å—åŒ–é…ç½®" class="headerlink" title="å®æˆ˜æŠ€å·§ï¼šwebpackæ¨¡å—åŒ–é…ç½®"></a>å®æˆ˜æŠ€å·§ï¼šwebpackæ¨¡å—åŒ–é…ç½®</h4><p>ç°åœ¨çš„å‰ç«¯å¼€å‘éšç€ES6çš„æ™®åŠå·²ç»å¤§é¢ç§¯ä½¿ç”¨æ¨¡å—åŒ–è¿›è¡Œå¼€å‘äº†ï¼Œé‚£åœ¨webpack.config.jsé…ç½®æ–‡ä»¶ä¸­ï¼Œå¦‚ä½•è¿›è¡Œæ¨¡å—åŒ–å¼€å‘é‚£ï¼Ÿä¾‹å¦‚æŠŠå¼€å‘ç¯å¢ƒçš„å†™åˆ°ä¸€ä¸ªæ¨¡å—ä¸­ï¼ŒæŠŠç”Ÿäº§ç¯å¢ƒçš„å†™åˆ°ä¸€ä¸ªæ¨¡å—ä¸­ã€‚è¿™èŠ‚è¯¾æˆ‘ä»¬å°±ç”¨ä¸€èŠ‚è¯¾çš„æ—¶é—´å­¦ä¹ ä¸€ä¸‹webpackæ¨¡å—åŒ–é…ç½®çš„æŠ€å·§ã€‚</p>
<p><strong>JSä¸­çš„æ¨¡å—åŒ–å®ç°</strong></p>
<p>å…ˆæ¥çœ‹ä¸€ä¸‹JavaScriptå¦‚ä½•å®ç°æ¨¡å—è¯å¼€å‘ã€‚å…¶å®å¾ˆå¤šå°ä¼™ä¼´éƒ½ä¼šè¿™ç§æ“ä½œï¼Œé‚£æˆ‘ä»¬å°±å½“å¤ä¹ äº†ï¼Œå†é¢„ä¹ ä¸€éçŸ¥è¯†ã€‚çœ‹ä¸‹é¢ES6ä¸­çš„æ¨¡å—åŒ–ä»£ç ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function jspang()&#123;</span><br><span class="line">    alert(&#39;jspang.com:&#39;+&#39;webpack&#39;);</span><br><span class="line">&#125;</span><br><span class="line">module.exports&#x3D;jspang;</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢çš„ä»£ç æ˜¯ä¸€ä¸ªæœ€ç®€å•çš„es6æ¨¡å—åŒ–å†™æ³•ï¼Œæˆ‘ä»¬å£°æ˜äº†ä¸€ä¸ªjspangæ–¹æ³•ï¼Œå¹¶ä¸”æŠŠè¿™ä¸ªæ–¹æ³•ç”¨module.exportsè¿›è¡Œæš´éœ²å‡ºå»ã€‚ç„¶åæˆ‘ä»¬åœ¨å…¥å£æ–‡ä»¶ä¸­ç”¨importè¿›è¡Œå¼•å…¥ï¼Œå¹¶è¿›è¡Œä½¿ç”¨ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import jspang from &#39;.&#x2F;jspang.js&#39;;</span><br><span class="line">jspang();</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬äº†è§£å¦‚ä½•ä½œJavascriptçš„æ¨¡å—åŒ–åï¼Œå…¶å®webpackçš„æ¨¡å—åŒ–å’Œä¸Šè¾¹çš„è¿‡ç¨‹å¾ˆç±»ä¼¼ã€‚</p>
<p><strong>webpackæ¨¡å—</strong></p>
<p>ä¸ºäº†è®©å¤§å®¶å®¹æ˜“çœ‹æ‡‚ï¼Œæˆ‘æŠŠwebpack.config.jsä¸­çš„entryå…¥å£æ–‡ä»¶è¿›è¡Œæ¨¡å—åŒ–è®¾ç½®ï¼Œå•ç‹¬æ‹¿å‡ºæ¥åˆ¶ä½œæˆä¸€ä¸ªæ¨¡å—ã€‚</p>
<p>é¦–å…ˆåœ¨æ ¹ç›®å½•ï¼Œæ–°å»ºä¸€ä¸ªwebpack_configæ–‡ä»¶å¤¹ï¼Œç„¶åæ–°å»ºentry_webpack.jsæ–‡ä»¶ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<p>entry_webpack.js</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;å£°æ˜entryå˜é‡</span><br><span class="line">const entry &#x3D;&#123;&#125;;  </span><br><span class="line">&#x2F;&#x2F;å£°æ˜è·¯å¾„å±æ€§</span><br><span class="line">entry.path&#x3D;&#123;</span><br><span class="line">    entry:&#39;.&#x2F;src&#x2F;entry.js&#39;  </span><br><span class="line">&#125;</span><br><span class="line">&#x2F;&#x2F;è¿›è¡Œæ¨¡å—åŒ–</span><br><span class="line">module.exports &#x3D;entry;</span><br></pre></td></tr></table></figure>

<p>é…ç½®çš„æ¨¡å—åŒ–ä»£ç ç¼–å†™å¥½ä»¥åï¼Œéœ€è¦åœ¨webpack.config.jsä¸­å¼•å…¥ï¼Œæ³¨æ„è¿™é‡Œçš„å¼•å…¥åªèƒ½ä½¿ç”¨requireçš„æ–¹æ³•ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const entry &#x3D; require(&quot;.&#x2F;webpack_config&#x2F;entry_webpack.js&quot;)</span><br></pre></td></tr></table></figure>

<p>ç„¶ååœ¨å…¥å£æ–‡ä»¶éƒ¨åˆ†ï¼Œä¿®æ”¹æˆå¦‚ä¸‹ä»£ç ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">entry:entry.path,</span><br></pre></td></tr></table></figure>

<p>è¿™æ—¶å€™ä½ å¯ä»¥å†æ¬¡ä½¿ç”¨npm run dev è¿›è¡Œæµ‹è¯•ï¼Œä½ ä¼šå‘ç°æ¨¡å—åŒ–æˆåŠŸäº†ã€‚</p>
<p><strong>æ€»ç»“ï¼š</strong>æ¨¡å—åŒ–åœ¨å®é™…å·¥ä½œä¸­æ˜¯å¿…ä¸å¯å°‘çš„æ“ä½œï¼Œä½†æ˜¯ç°åœ¨çš„webpackæ•™ç¨‹è¿˜å¾ˆå°‘è®²åˆ°ï¼Œå¤§å®¶ä¸€å®šè¦é‡è§†è¿™èŠ‚ï¼Œå› ä¸ºå¦‚æœä½ æä¸æ¸…è¿™èŠ‚çš„å†…å®¹ï¼Œå¯èƒ½ä½ çœ‹åˆ«äººçš„é…ç½®ä¹Ÿä¼šçœ‹ä¸æ˜ç™½ã€‚è®°å¾—ä¸€å®šè¦åŠ¨æ‰‹ç»ƒä¹ æ“ä½œï¼Œå¦åˆ™ä½ ä¸‹é¢çš„è¯¾ç¨‹ä¹Ÿæ²¡åŠæ³•å­¦ä¹ ã€‚</p>
<h4 id="å®æˆ˜æŠ€å·§ï¼šä¼˜é›…æ‰“åŒ…ç¬¬ä¸‰æ–¹ç±»åº“ï¼ˆJQueryï¼‰"><a href="#å®æˆ˜æŠ€å·§ï¼šä¼˜é›…æ‰“åŒ…ç¬¬ä¸‰æ–¹ç±»åº“ï¼ˆJQueryï¼‰" class="headerlink" title="å®æˆ˜æŠ€å·§ï¼šä¼˜é›…æ‰“åŒ…ç¬¬ä¸‰æ–¹ç±»åº“ï¼ˆJQueryï¼‰"></a>å®æˆ˜æŠ€å·§ï¼šä¼˜é›…æ‰“åŒ…ç¬¬ä¸‰æ–¹ç±»åº“ï¼ˆJQueryï¼‰</h4><p>åœ¨å·¥ä½œä¸­å¼•ç”¨ç¬¬ä¸‰æ–¹çš„æ¡†æ¶æ˜¯å¿…ä¸å¯å°‘çš„ï¼Œæ¯”å¦‚å¼•å…¥JQueryæˆ–è€…Vueï¼Œä½†æ˜¯å¾ˆå¤šå°ä¼™ä¼´ä¸€é‡åˆ°å¼•å…¥ç¬¬ä¸‰æ–¹çš„ç±»åº“æ—¶å°±ä¸çŸ¥é“å¦‚ä½•æ“ä½œäº†ã€‚è¿™èŠ‚è¯¾å°±å­¦ä¹ ä¸€ä¸‹å¦‚ä½•ä¼˜é›…å¹¶æ­£ç¡®çš„ç”¨webpackå¼•å…¥ç¬¬ä¸‰æ–¹åº“ã€‚ï¼ˆæœ¬èŠ‚å»ºè®®æ”¶çœ‹è§†é¢‘å­¦ä¹ ï¼‰æˆ‘ä»¬è®²ä¸¤ç§æ‰“åŒ…çš„æ–¹æ³•ï¼Œå°ä¼™ä¼´ä»¬å¯ä»¥æ ¹æ®è‡ªå·±çš„å–œå¥½é€‰æ‹©ï¼Œä¸ªäººè®¤ä¸ºä¸¤ç§éƒ½æ˜¯æ¯”è¾ƒä¸é”™çš„ã€‚</p>
<p><strong>å¼•å…¥JQuery</strong></p>
<p>å…¶å®å¼•ç”¨ç¬¬ä¸‰æ–¹åº“çš„æ–¹æ³•æœ‰å¾ˆå¤šç§ï¼Œä½†æ˜¯æœ‰äº›å¹¶ä¸æ˜¯å¾ˆä¼˜é›…ï¼Œè¿˜æœ‰äº›æ–¹æ³•ä¼šå‡ºç°æ‰“åŒ…é—®é¢˜ï¼ŒæŠ€æœ¯èƒ–åœ¨è¿™é‡Œä»‹ç»ä¸€ä¸‹è‡ªå·±å·¥ä½œä¸­å¼•å…¥ç¬¬ä¸‰æ–¹æ¨¡å—çš„æ–¹æ³•ï¼Œæˆ‘ä»¬å°±æ‹¿JQueryä¸ºä¾‹ã€‚å°ä¼™ä¼´ä»¬è¦ä¸¾ä¸€åä¸‰ï¼Œå­¦ä¼šåè¯•ç€è‡ªå·±å¼•å…¥Vueè¯•è¯•ã€‚</p>
<p>å®‰è£…JQuery</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install --save jquery</span><br></pre></td></tr></table></figure>

<p>å®‰è£…æ—¶éœ€è¦æ³¨æ„çš„æ—¶Jqueryæœ€ç»ˆè¦åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä½¿ç”¨ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿™é‡Œè¦ä½¿ç”¨â€“saveè¿›è¡Œå®‰è£…ã€‚</p>
<p><strong>ä¿®æ”¹entry.jsæ–‡ä»¶</strong></p>
<p>å®‰è£…å¥½åï¼Œè¿˜éœ€è¦å¼•å…¥åˆ°æˆ‘ä»¬çš„entry.jsä¸­ï¼Œè¿™é‡Œç›´æ¥ä½¿ç”¨importè¿›è¡Œå¼•å…¥å°±å¯ä»¥ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import $ from &#39;jquery&#39;;</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œå¼•å…¥æ˜¯ä¸éœ€è¦æˆ‘ä»¬å†™ç›¸å¯¹è·¯å¾„çš„ï¼Œå› ä¸ºjqueryçš„åŒ…æ˜¯åœ¨node_modulesé‡Œçš„ï¼Œåªè¦å†™ä¸€ä¸ªåŒ…åjqueryï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨ä¸ºæˆ‘ä»¬æŸ¥æ‰¾çš„ã€‚</p>
<p>å¼•å…¥å¥½åæˆ‘ä»¬å°±å¯ä»¥åœ¨entry.jsé‡Œä½¿ç”¨jqueryï¼Œæˆ‘ä»¬å¯ä»¥åŠ å…¥ä¸‹é¢çš„ä»£ç ï¼Œç„¶åè¿›è¡Œæµ‹è¯•ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$(&#39;#title&#39;).html(&#39;Hello JSpang&#39;);</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹åˆ°ä¸Šé¢æ˜¯æ ‡å‡†çš„jqueryä»£ç ï¼Œä½ å¯ä»¥ä½¿ç”¨npm run server è¿›è¡Œæµ‹è¯•ï¼Œç°åœ¨ä»£ç é¡ºåˆ©è¿è¡Œäº†ï¼Œè¿™è¯´æ˜æˆ‘ä»¬å¼•ç”¨çš„JQueryåº“æˆåŠŸäº†ã€‚éœ€è¦è¯´çš„æ˜¯ä½ ä¸ä»…å¯ä»¥åœ¨å…¥å£ä¸­è¿›è¡Œå¼•å…¥ï¼Œä½ è¿˜å¯ä»¥åœ¨ä»»ä½•ä½ éœ€è¦çš„jsä¸­å¼•å…¥ï¼Œwebpackå¹¶ä¸ä¼šé‡å¤æ‰“åŒ…ï¼Œå®ƒåªç»™æˆ‘ä»¬æ‰“åŒ…ä¸€æ¬¡ã€‚</p>
<p><strong>ç”¨pluginå¼•å…¥</strong></p>
<p>å¦‚æœä½ è§‰çš„ä¸Šé¢çš„æ–¹æ³•å’Œwebpackæ²¡ä»€ä¹ˆå…³ç³»ï¼Œåªæ˜¯æ™®é€šçš„å¼•å…¥ï¼Œwebpackåªæ˜¯è´Ÿè´£äº†ä¸€ä¸‹æ‰“åŒ…ï¼Œè¿™æ ·å¹¶æ²¡æœ‰å…¨å±€æ„Ÿã€‚é‚£å†å­¦ä¹ ä¸€ç§åœ¨webapck.config.jsä¸­é…ç½®çš„æ–¹æ³•ï¼Œè¿™ç§ä¸éœ€è¦ä½ åœ¨å…¥å£æ–‡ä»¶ä¸­å¼•å…¥ï¼Œè€Œæ˜¯webpackç»™ä½ ä½œäº†å…¨å±€å¼•å…¥ã€‚è¿™ä¸ªæ’ä»¶å°±æ˜¯ProvidePluginã€‚</p>
<p>ProvidePluginæ˜¯ä¸€ä¸ªwebpackè‡ªå¸¦çš„æ’ä»¶ï¼ŒProvideçš„æ„æ€å°±æ˜¯è£…å¤‡ã€æä¾›ã€‚å› ä¸ºProvidePluginæ˜¯webpackè‡ªå¸¦çš„æ’ä»¶ï¼Œæ‰€ä»¥è¦å…ˆå†webpack.config.jsä¸­å¼•å…¥webpackã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">constc  webpack &#x3D; require(&#39;webpack&#39;);</span><br></pre></td></tr></table></figure>

<p>åœ¨webpack.config.jsé‡Œå¼•å…¥å¿…é¡»ä½¿ç”¨requireï¼Œå¦åˆ™ä¼šæŠ¥é”™çš„ï¼Œè¿™ç‚¹å°ä¼™ä¼´ä»¬ä¸€å®šè¦æ³¨æ„ã€‚</p>
<p>å¼•å…¥æˆåŠŸåé…ç½®æˆ‘ä»¬çš„pluginsæ¨¡å—ï¼Œä»£ç å¦‚ä¸‹ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">plugins:[</span><br><span class="line">    new webpack.ProvidePlugin(&#123;</span><br><span class="line">        $:&quot;jquery&quot;</span><br><span class="line">    &#125;)</span><br><span class="line">],</span><br></pre></td></tr></table></figure>

<p>é…ç½®å¥½åï¼Œå°±å¯ä»¥åœ¨ä½ çš„å…¥å£æ–‡ä»¶ä¸­ä½¿ç”¨äº†ï¼Œè€Œä¸ç”¨å†æ¬¡å¼•å…¥äº†ã€‚è¿™æ˜¯ä¸€ç§å…¨å±€çš„å¼•å…¥ï¼Œåœ¨å®é™…å·¥ä½œä¸­ä¹Ÿå¯ä»¥å¾ˆå¥½çš„è§„èŒƒé¡¹ç›®æ‰€ä½¿ç”¨çš„ç¬¬ä¸‰æ–¹åº“ã€‚</p>
<p><strong>æ€»ç»“ï¼š</strong>æ¯ä¸€ä¸ªé¡¹ç›®éƒ½å¯èƒ½å¼•å…¥ç¬¬ä¸‰æ–¹ç±»åº“ï¼Œè€ŒåƒVueå’ŒAngularè¿™æ ·çš„æˆç†Ÿæ¡†æ¶éƒ½æ¨å‡ºäº†è‡ªå·±çš„webpackæ¡†æ¶ï¼Œæ¯”å¦‚vue-cliã€‚ä½†æ˜¯å¾ˆå¤šæƒ…å†µè¿˜æ˜¯éœ€è¦æˆ‘ä»¬æ‰‹åŠ¨æ›´æ”¹è¿™äº›é…ç½®å¥½çš„webpackæ¥é€‚ç”¨äºæˆ‘ä»¬çš„å…¬å¸é¡¹ç›®ï¼Œæ‰€ä»¥è¿™èŠ‚è¯¾çš„çŸ¥è¯†ä¹Ÿæ˜¯åœ¨å·¥ä½œä¸­ç»å¸¸ä½¿ç”¨çš„ï¼Œå¸Œæœ›å°ä¼™ä¼´ä»¬ä¸€å®šè¦é‡è§†å¹¶è¿›è¡Œç»ƒä¹ ã€‚</p>
<h3 id="æ‰“åŒ…å¤šä¸ªæ–‡ä»¶"><a href="#æ‰“åŒ…å¤šä¸ªæ–‡ä»¶" class="headerlink" title="æ‰“åŒ…å¤šä¸ªæ–‡ä»¶"></a>æ‰“åŒ…å¤šä¸ªæ–‡ä»¶</h3><p><strong>1.å¤šä¸ªjsæ–‡ä»¶ä¸åˆå¹¶æ‰“åŒ…(åˆ†åˆ«æ‰“åŒ…)</strong></p>
<p>é…ç½®æ–‡ä»¶./conf/webpack.dev.js</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">"path"</span>);</span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    mode: <span class="string">"development"</span>, <span class="comment">//æ‰“åŒ…ä¸ºå¼€å‘æ¨¡å¼</span></span><br><span class="line">    <span class="comment">// å…¥å£é…ç½®çš„å¯¹è±¡ä¸­ï¼Œå±æ€§ä¸ºè¾“å‡ºçš„jsæ–‡ä»¶åï¼Œå±æ€§å€¼ä¸ºå…¥å£æ–‡ä»¶</span></span><br><span class="line">    entry: &#123;</span><br><span class="line">    	main1:<span class="string">"./src/main1"</span>,</span><br><span class="line">    	main2:<span class="string">"./src/main2"</span></span><br><span class="line">    &#125;, <span class="comment">//å…¥å£æ–‡ä»¶,ä»é¡¹ç›®æ ¹ç›®å½•æŒ‡å®š</span></span><br><span class="line">    output: &#123; <span class="comment">//è¾“å‡ºè·¯å¾„å’Œæ–‡ä»¶åï¼Œä½¿ç”¨pathæ¨¡å—resolveæ–¹æ³•å°†è¾“å‡ºè·¯å¾„è§£æä¸ºç»å¯¹è·¯å¾„</span></span><br><span class="line">        path: path.resolve(__dirname, <span class="string">"../dist/js"</span>), <span class="comment">//å°†jsæ–‡ä»¶æ‰“åŒ…åˆ°dist/jsçš„ç›®å½•</span></span><br><span class="line">        filename: <span class="string">"[name].js"</span> <span class="comment">//ä½¿ç”¨[name]æ‰“åŒ…å‡ºæ¥çš„jsæ–‡ä»¶ä¼šåˆ†åˆ«æŒ‰ç…§å…¥å£æ–‡ä»¶é…ç½®çš„å±æ€§æ¥å‘½å</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ‰“åŒ…è¿‡ç¨‹ï¼š</p>
<p><img src="https://img-blog.csdn.net/20180719162034769?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl8zNjE4NTAyOA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="img"></p>
<p>æ‰“åŒ…ç»“æœï¼š</p>
<p><img src="https://img-blog.csdn.net/20180719162218590?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl8zNjE4NTAyOA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="img"></p>
<p><strong>2.å¤šä¸ªjsä¸­éƒ¨åˆ†åˆå¹¶æ‰“åŒ…æˆä¸€ä¸ªjsæ–‡ä»¶</strong></p>
<p>é…ç½®æ–‡ä»¶./conf/webpack.dev.js:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">"path"</span>);</span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    mode: <span class="string">"development"</span>, <span class="comment">//æ‰“åŒ…ä¸ºå¼€å‘æ¨¡å¼</span></span><br><span class="line">    <span class="comment">// å‡ºå£å¯¹è±¡ä¸­ï¼Œå±æ€§ä¸ºè¾“å‡ºçš„jsæ–‡ä»¶åï¼Œå±æ€§å€¼ä¸ºå…¥å£æ–‡ä»¶</span></span><br><span class="line">    entry: &#123;</span><br><span class="line">    	main1:<span class="string">"./src/main1"</span>,</span><br><span class="line">    	main:[<span class="string">"./src/main2"</span>,<span class="string">"./src/main3"</span>]</span><br><span class="line">    &#125;, <span class="comment">//å…¥å£æ–‡ä»¶,ä»é¡¹ç›®æ ¹ç›®å½•æŒ‡å®š</span></span><br><span class="line">    output: &#123; <span class="comment">//è¾“å‡ºè·¯å¾„å’Œæ–‡ä»¶åï¼Œä½¿ç”¨pathæ¨¡å—resolveæ–¹æ³•å°†è¾“å‡ºè·¯å¾„è§£æä¸ºç»å¯¹è·¯å¾„</span></span><br><span class="line">        path: path.resolve(__dirname, <span class="string">"../dist/js"</span>), <span class="comment">//å°†jsæ–‡ä»¶æ‰“åŒ…åˆ°dist/jsçš„ç›®å½•</span></span><br><span class="line">        filename: <span class="string">"[name].js"</span> <span class="comment">//ä½¿ç”¨[name]æ‰“åŒ…å‡ºæ¥çš„jsæ–‡ä»¶ä¼šåˆ†åˆ«æŒ‰ç…§å…¥å£æ–‡ä»¶é…ç½®çš„å±æ€§æ¥å‘½å</span></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p><strong>3.å¤šä¸ªjså…¨éƒ¨æ‰“åŒ…æˆä¸€ä¸ªjsæ–‡ä»¶</strong></p>
<p>é…ç½®æ–‡ä»¶./conf/webpack.dev.js:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">"path"</span>);</span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    mode: <span class="string">"development"</span>, <span class="comment">//æ‰“åŒ…ä¸ºå¼€å‘æ¨¡å¼</span></span><br><span class="line">    <span class="comment">// å‡ºå£å¯¹è±¡ä¸­ï¼Œå±æ€§ä¸ºè¾“å‡ºçš„jsæ–‡ä»¶åï¼Œå±æ€§å€¼ä¸ºå…¥å£æ–‡ä»¶</span></span><br><span class="line">    entry: [<span class="string">"./src/main1"</span>,<span class="string">"./src/main2"</span>,<span class="string">"./src/main3"</span>], <span class="comment">//å…¥å£æ–‡ä»¶,ä»é¡¹ç›®æ ¹ç›®å½•æŒ‡å®š</span></span><br><span class="line">    output: &#123; <span class="comment">//è¾“å‡ºè·¯å¾„å’Œæ–‡ä»¶åï¼Œä½¿ç”¨pathæ¨¡å—resolveæ–¹æ³•å°†è¾“å‡ºè·¯å¾„è§£æä¸ºç»å¯¹è·¯å¾„</span></span><br><span class="line">        path: path.resolve(__dirname, <span class="string">"../dist/js"</span>), <span class="comment">//å°†jsæ–‡ä»¶æ‰“åŒ…åˆ°dist/jsçš„ç›®å½•</span></span><br><span class="line">        filename: <span class="string">"main.js"</span> </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>webpack3</category>
      </categories>
      <tags>
        <tag>webpack3</tag>
      </tags>
  </entry>
  <entry>
    <title>webpackå¸¸è§loaderå’Œplugins</title>
    <url>/2020/09/22/webpack%E5%B8%B8%E8%A7%81loader%E5%92%8Cplugins/</url>
    <content><![CDATA[<h3 id="å¸¸ç”¨webpackæ’ä»¶"><a href="#å¸¸ç”¨webpackæ’ä»¶" class="headerlink" title="å¸¸ç”¨webpackæ’ä»¶"></a>å¸¸ç”¨webpackæ’ä»¶</h3><p><strong>æ³¨æ„ï¼šæ’ä»¶çš„å¼•å…¥éƒ½åœ¨webpack.config.jsä¸­</strong></p>
<h4 id="live-server-å¿…é¡»å…¨å±€å®‰è£…ï¼Œå‘½ä»¤ç›´æ¥ä½¿ç”¨"><a href="#live-server-å¿…é¡»å…¨å±€å®‰è£…ï¼Œå‘½ä»¤ç›´æ¥ä½¿ç”¨" class="headerlink" title="live-server (å¿…é¡»å…¨å±€å®‰è£…ï¼Œå‘½ä»¤ç›´æ¥ä½¿ç”¨)"></a>live-server (å¿…é¡»å…¨å±€å®‰è£…ï¼Œå‘½ä»¤ç›´æ¥ä½¿ç”¨)</h4><p>ä¸€æ¬¾npmå·¥å…·ï¼Œå…¨å±€npm i -g live-serveråï¼Œé¡¹ç›®ç›®å½•ä½¿ç”¨live-serverå‘½ä»¤è¡Œå‘½ä»¤ä¾¿å¯ç›´æ¥åœ¨æµè§ˆå™¨ä¸­é¢„è§ˆï¼ˆé»˜è®¤æ‰¾index.htmlï¼Œå…¶ä»–è¯·è‡ªè¡Œå¸¦ä¸Šæ–‡ä»¶åç©ºæ ¼åè·Ÿåœ¨åé¢ï¼‰ï¼Œå¹¶ä¸”è‡ªåŠ¨å…¨å±€ç›‘å¬å®æ—¶æ›´æ–°</p>
<p>1.æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼ˆæœ€å¥½è‹±æ–‡ï¼‰ï¼Œæ‰§è¡Œnpm initå‘½ä»¤ï¼›</p>
<p>2.ç”Ÿæˆpackage.jsonæ–‡ä»¶åï¼Œæ‰§è¡Œnpm install -g live-serverå‘½ä»¤ï¼›</p>
<p>3.å®‰è£…å®Œæˆåï¼Œå°±å¯ä»¥æ‰§è¡Œlive-serverå‘½ä»¤å¯åŠ¨ï¼›</p>
<p>è®¾ç½®å¿«æ·æ–¹å¼å¦‚ä¸‹ï¼š</p>
<p>1.æ‰¾åˆ°package.jsonæ–‡ä»¶ï¼Œç„¶åæ‰¾åˆ°â€scriptâ€ï¼Œå†™å…¥ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&quot;scripts&quot;: &#123;</span><br><span class="line">    &quot;server&quot;:&quot;live-server .&#x2F;port&#x3D;9090&quot;</span><br><span class="line"> &#125;,</span><br></pre></td></tr></table></figure>

<a id="more"></a>



<p><img src="https:////upload-images.jianshu.io/upload_images/15484248-5c9d169a4fcb77da.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/488/format/webp" alt="img"></p>
<p>2.å¯åŠ¨å¦‚ä¸‹ï¼šnpm run serverã€‚</p>
<h4 id="uglifyjs-webpack-pluginï¼ˆjså‹ç¼©æ’ä»¶ï¼‰"><a href="#uglifyjs-webpack-pluginï¼ˆjså‹ç¼©æ’ä»¶ï¼‰" class="headerlink" title="uglifyjs-webpack-pluginï¼ˆjså‹ç¼©æ’ä»¶ï¼‰"></a>uglifyjs-webpack-pluginï¼ˆjså‹ç¼©æ’ä»¶ï¼‰</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npmn  i -D uglifyjs-webpack-plugin</span><br><span class="line"></span><br><span class="line">const uglify &#x3D; &#96;require&#96;(&#39;uglifyjs-webpack-plugin&#39;);</span><br><span class="line">plugins:[</span><br><span class="line">        new uglify(&#123;</span><br><span class="line">            uglifyOptions: &#123;</span><br><span class="line">                compress: &#123;</span><br><span class="line">                    warnings: true,&#x2F;&#x2F;ç§»é™¤è­¦å‘Š</span><br><span class="line">                    drop_debugger: true,&#x2F;&#x2F;ç§»é™¤debugger</span><br><span class="line">                    drop_console: true,&#x2F;&#x2F;ç§»é™¤console</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            sourceMap: config.build.productionSourceMap,</span><br><span class="line">            test: &#x2F;\.js(\?.*)?$&#x2F;i,  &#x2F;&#x2F;æµ‹è¯•åŒ¹é…æ–‡ä»¶,</span><br><span class="line">            include: &#x2F;\&#x2F;includes&#x2F;, &#x2F;&#x2F;åŒ…å«å“ªäº›æ–‡ä»¶</span><br><span class="line">            excluce: &#x2F;\&#x2F;excludes&#x2F;, &#x2F;&#x2F;ä¸åŒ…å«å“ªäº›æ–‡ä»¶</span><br><span class="line">            &#x2F;&#x2F;å…è®¸è¿‡æ»¤å“ªäº›å—åº”è¯¥è¢«uglifiedï¼ˆé»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰€æœ‰å—éƒ½æ˜¯uglifiedï¼‰ã€‚ </span><br><span class="line">            &#x2F;&#x2F;è¿”å›trueä»¥uglifyå—ï¼Œå¦åˆ™è¿”å›falseã€‚</span><br><span class="line">            chunkFilter: (chunk) &#x3D;&gt; &#123;</span><br><span class="line">                &#x2F;&#x2F; &#96;vendor&#96; æ¨¡å—ä¸å‹ç¼©</span><br><span class="line">                if (chunk.name &#x3D;&#x3D;&#x3D; &#39;vendor&#39;) &#123;</span><br><span class="line">                  return false;</span><br><span class="line">                &#125;</span><br><span class="line">                return true;</span><br><span class="line">              &#125;</span><br><span class="line">            &#125;),</span><br><span class="line">            cache: false,   &#x2F;&#x2F;æ˜¯å¦å¯ç”¨æ–‡ä»¶ç¼“å­˜ï¼Œé»˜è®¤ç¼“å­˜åœ¨node_modules&#x2F;.cache&#x2F;uglifyjs-webpack-plugin.ç›®å½•</span><br><span class="line">        	parallel: true,  &#x2F;&#x2F;ä½¿ç”¨å¤šè¿›ç¨‹å¹¶è¡Œè¿è¡Œæ¥æé«˜æ„å»ºé€Ÿåº¦</span><br><span class="line">        &#125;)</span><br><span class="line">    ],</span><br></pre></td></tr></table></figure>



<h4 id="html-webpack-pluginï¼ˆæ‰“åŒ…HTMLæ–‡ä»¶ï¼‰"><a href="#html-webpack-pluginï¼ˆæ‰“åŒ…HTMLæ–‡ä»¶ï¼‰" class="headerlink" title="html-webpack-pluginï¼ˆæ‰“åŒ…HTMLæ–‡ä»¶ï¼‰"></a>html-webpack-pluginï¼ˆ<strong>æ‰“åŒ…HTMLæ–‡ä»¶</strong>ï¼‰</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install --save-dev html-webpack-plugin</span><br><span class="line"></span><br><span class="line">const htmlPlugin&#x3D; &#96;require&#96;(&#39;html-webpack-plugin&#39;);</span><br><span class="line">plugins:[</span><br><span class="line">         new htmlPlugin(&#123;</span><br><span class="line">            minify:&#123;</span><br><span class="line">                removeAttributeQuotes:true</span><br><span class="line">            &#125;,</span><br><span class="line">            hash:true,</span><br><span class="line">            template:&#39;.&#x2F;src&#x2F;index.html&#39;</span><br><span class="line"></span><br><span class="line">        &#125;)</span><br><span class="line">    ],</span><br><span class="line">&#x2F;&#x2F;æ‰“åŒ…ç»“æŸåç”Ÿæˆä¸€ä¸ªhtmlæ–‡ä»¶ï¼Œå¹¶ä¸”è‡ªåŠ¨å¼•å…¥æ‰“åŒ…çš„js</span><br></pre></td></tr></table></figure>



<h4 id="clean-webpack-pluginï¼ˆæ‰“åŒ…å‰åˆ é™¤distæ–‡ä»¶ï¼‰"><a href="#clean-webpack-pluginï¼ˆæ‰“åŒ…å‰åˆ é™¤distæ–‡ä»¶ï¼‰" class="headerlink" title="clean-webpack-pluginï¼ˆæ‰“åŒ…å‰åˆ é™¤distæ–‡ä»¶ï¼‰"></a>clean-webpack-pluginï¼ˆæ‰“åŒ…å‰åˆ é™¤distæ–‡ä»¶ï¼‰</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install --save-dev clean-webpack-plugin</span><br><span class="line"></span><br><span class="line">const CleanWebpackPlugin&#x3D; &#96;require&#96;(&#39;clean-webpack-plugin&#39;);</span><br><span class="line">plugins:[</span><br><span class="line">         new CleanWebpackPlugin()</span><br><span class="line">],</span><br></pre></td></tr></table></figure>



<h4 id="hot-module-replacement-çƒ­æ›´æ–°"><a href="#hot-module-replacement-çƒ­æ›´æ–°" class="headerlink" title="hot-module-replacement(çƒ­æ›´æ–°)"></a>hot-module-replacement(çƒ­æ›´æ–°)</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const webpack &#x3D; require(&#39;webpack&#39;)</span><br></pre></td></tr></table></figure>

<p>å¼€å¯çƒ­æ›´æ–°</p>
<p><img src="/2020/09/22/webpack%E5%B8%B8%E8%A7%81loader%E5%92%8Cplugins/image-20200924162419801.png" alt="image-20200924162419801"></p>
<p><img src="/2020/09/22/webpack%E5%B8%B8%E8%A7%81loader%E5%92%8Cplugins/image-20200924162037602.png" alt="image-20200924162037602"></p>
<p>åˆ¤æ–­å“ªä¸ªæ–‡ä»¶åšäº†ä¿®æ”¹ï¼Œé‡æ–°è°ƒç”¨</p>
<p><img src="/2020/09/22/webpack%E5%B8%B8%E8%A7%81loader%E5%92%8Cplugins/image-20200924162359826.png" alt="image-20200924162359826"></p>
<h4 id="extract-text-webpack-pluginï¼ˆåˆ†ç¦»cssæ’ä»¶ï¼‰"><a href="#extract-text-webpack-pluginï¼ˆåˆ†ç¦»cssæ’ä»¶ï¼‰" class="headerlink" title="extract-text-webpack-pluginï¼ˆåˆ†ç¦»cssæ’ä»¶ï¼‰"></a>extract-text-webpack-pluginï¼ˆåˆ†ç¦»cssæ’ä»¶ï¼‰</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install --save-dev extract-text-webpack-plugin</span><br><span class="line"></span><br><span class="line">const extractTextPlugin &#x3D; &#96;require&#96;(&quot;extract-text-webpack-plugin&quot;);</span><br><span class="line">plugins:[</span><br><span class="line">        new extractTextPlugin(&quot;&#x2F;css&#x2F;index.css&quot;)</span><br><span class="line">    ],</span><br></pre></td></tr></table></figure>



<h4 id="PurifyCSS-webpackï¼ˆæ¶ˆé™¤æœªä½¿ç”¨çš„cssï¼Œå¿…é¡»é…åˆextract-text-webpack-pluginæ’ä»¶ï¼‰"><a href="#PurifyCSS-webpackï¼ˆæ¶ˆé™¤æœªä½¿ç”¨çš„cssï¼Œå¿…é¡»é…åˆextract-text-webpack-pluginæ’ä»¶ï¼‰" class="headerlink" title="PurifyCSS-webpackï¼ˆæ¶ˆé™¤æœªä½¿ç”¨çš„cssï¼Œå¿…é¡»é…åˆextract-text-webpack-pluginæ’ä»¶ï¼‰"></a>PurifyCSS-webpackï¼ˆæ¶ˆé™¤æœªä½¿ç”¨çš„cssï¼Œå¿…é¡»é…åˆextract-text-webpack-pluginæ’ä»¶ï¼‰</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npmn  i -D purifycss-webpack purify-css</span><br><span class="line"></span><br><span class="line">webpack.config.js</span><br><span class="line">onst PurifyCSSPlugin &#x3D; require(&quot;purifycss-webpack&quot;);</span><br><span class="line">new PurifyCSSPlugin(&#123;</span><br><span class="line">        &#x2F;&#x2F; Give paths to parse for rules. These should be absolute!</span><br><span class="line">        paths: glob.sync(path.join(__dirname, &#39;src&#x2F;*.html&#39;)),</span><br><span class="line">        &#125;)</span><br></pre></td></tr></table></figure>



<p>éª¨æ¶å±çš„æ’ä»¶è§ï¼švue-skeleton-webpack-plugin.md</p>
<h3 id="å¸¸è§Loader"><a href="#å¸¸è§Loader" class="headerlink" title="å¸¸è§Loader"></a>å¸¸è§Loader</h3><ul>
<li>å¯ä»¥æŠŠSASSæ–‡ä»¶çš„å†™æ³•è½¬æ¢æˆCSSï¼Œè€Œä¸åœ¨ä½¿ç”¨å…¶ä»–è½¬æ¢å·¥å…·ã€‚</li>
<li>å¯ä»¥æŠŠES6æˆ–è€…ES7çš„ä»£ç ï¼Œè½¬æ¢æˆå¤§å¤šæµè§ˆå™¨å…¼å®¹çš„JSä»£ç ã€‚</li>
<li>å¯ä»¥æŠŠReactä¸­çš„JSXè½¬æ¢æˆJavaScriptä»£ç ã€‚</li>
</ul>
<p>æ³¨æ„ï¼šæ‰€æœ‰çš„Loaderséƒ½éœ€è¦åœ¨npmä¸­å•ç‹¬è¿›è¡Œå®‰è£…ï¼Œå¹¶åœ¨webpack.config.jsé‡Œè¿›è¡Œé…ç½®ã€‚ä¸‹é¢æˆ‘ä»¬å¯¹Loadersçš„é…ç½®å‹ç®€å•æ¢³ç†ä¸€ä¸‹ã€‚</p>
<ul>
<li>testï¼šç”¨äºåŒ¹é…å¤„ç†æ–‡ä»¶çš„æ‰©å±•åçš„è¡¨è¾¾å¼ï¼Œè¿™ä¸ªé€‰é¡¹æ˜¯å¿…é¡»è¿›è¡Œé…ç½®çš„ï¼›</li>
<li>useï¼šloaderåç§°ï¼Œå°±æ˜¯ä½ è¦ä½¿ç”¨æ¨¡å—çš„åç§°ï¼Œè¿™ä¸ªé€‰é¡¹ä¹Ÿå¿…é¡»è¿›è¡Œé…ç½®ï¼Œå¦åˆ™æŠ¥é”™ï¼›</li>
<li>include/exclude:æ‰‹åŠ¨æ·»åŠ å¿…é¡»å¤„ç†çš„æ–‡ä»¶ï¼ˆæ–‡ä»¶å¤¹ï¼‰æˆ–å±è”½ä¸éœ€è¦å¤„ç†çš„æ–‡ä»¶ï¼ˆæ–‡ä»¶å¤¹ï¼‰ï¼ˆå¯é€‰ï¼‰ï¼›</li>
<li>queryï¼šä¸ºloadersæä¾›é¢å¤–çš„è®¾ç½®é€‰é¡¹ï¼ˆå¯é€‰ï¼‰ã€‚</li>
</ul>
<h4 id="px2rem-loader-pxå•ä½è½¬æˆrem"><a href="#px2rem-loader-pxå•ä½è½¬æˆrem" class="headerlink" title="px2rem-loader(pxå•ä½è½¬æˆrem)"></a>px2rem-loader(pxå•ä½è½¬æˆrem)</h4><p>1.é¦–å…ˆä¸‹è½½ lib-flexible</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install lib-flexible --save</span><br></pre></td></tr></table></figure>

<p>2.åœ¨main.jsä¸­å¼•ç”¨ lib-flexible</p>
<p><img src="https://img2018.cnblogs.com/i-beta/1544063/201912/1544063-20191203165101027-1706123685.png" alt="img"></p>
<p> 3.å®‰è£…px2rem-loader(å°†pxè½¬æ¢æˆrem)</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install px2rem-loader</span><br></pre></td></tr></table></figure>

<p>4.é…ç½®px2rem</p>
<p>åœ¨build/utils.jsä¸­é…ç½®px2rem</p>
<p><img src="https://img2018.cnblogs.com/i-beta/1544063/201912/1544063-20191203165921076-1993510106.png" alt="img"></p>
<p> <img src="/2020/09/22/webpack%E5%B8%B8%E8%A7%81loader%E5%92%8Cplugins/image-20200927173555497.png" alt="image-20200927173555497"></p>
<p>æˆ‘è¿™è¾¹æ˜¯æ ¹æ® iphone6çš„è®¾è®¡å›¾å°ºå¯¸æ¥çš„ï¼Œæ‰€ä»¥ç”¨37.5èƒ½æ–¹ä¾¿æŠŠè®¾è®¡å›¾ä¸Šçš„pxç›´æ¥å†™åœ¨ä»£ç é‡Œé¢ã€‚</p>
<p>æœ€åé‡æ–° npm run dev å°±å¯ä»¥ä½¿ç”¨äº†</p>
<p>ã€€</p>
<h4 id="cssLoaderï¼ˆstyle-loaderå’Œcss-loaderï¼‰"><a href="#cssLoaderï¼ˆstyle-loaderå’Œcss-loaderï¼‰" class="headerlink" title="cssLoaderï¼ˆstyle-loaderå’Œcss-loaderï¼‰"></a>cssLoaderï¼ˆ<strong>style-loaderå’Œ</strong>css-loaderï¼‰</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install style-loader@0.13.1 css-loader@0.25.0 --save-dev</span><br><span class="line"></span><br><span class="line">webpack.config.js</span><br><span class="line">module:&#123;</span><br><span class="line">        rules: [</span><br><span class="line">            &#123;</span><br><span class="line">              test: &#x2F;\.css$&#x2F;,</span><br><span class="line">              use: [ &#39;style-loader&#39;, &#39;css-loader&#39; ]</span><br><span class="line">            &#125;</span><br><span class="line">          ]</span><br><span class="line">    &#125;,</span><br></pre></td></tr></table></figure>



<h4 id="å›¾ç‰‡Loaderï¼ˆfile-loaderå’Œurl-loaderï¼‰"><a href="#å›¾ç‰‡Loaderï¼ˆfile-loaderå’Œurl-loaderï¼‰" class="headerlink" title="å›¾ç‰‡Loaderï¼ˆfile-loaderå’Œurl-loaderï¼‰"></a>å›¾ç‰‡Loaderï¼ˆ<strong>file-loader</strong>å’Œ<strong>url-loader</strong>ï¼‰</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install --save-dev file-loader url-loader</span><br><span class="line"></span><br><span class="line">webpack.config.js</span><br><span class="line"> module:&#123;</span><br><span class="line">        rules: [</span><br><span class="line">            &#123;</span><br><span class="line">               test:&#x2F;\.(png|jpg|gif)&#x2F; ,</span><br><span class="line">               use:[&#123;</span><br><span class="line">                   loader:&#39;url-loader&#39;,</span><br><span class="line">                   options:&#123;</span><br><span class="line">                       limit:500000,</span><br><span class="line">                       outputPath:&#39;images&#x2F;&#39;,&#x2F;&#x2F;æ‰“åŒ…åçš„è·¯å¾„</span><br><span class="line">                   &#125;</span><br><span class="line">               &#125;]</span><br><span class="line">            &#125;</span><br><span class="line">          ]</span><br><span class="line">    &#125;,</span><br><span class="line">test:&#x2F;.(png|jpg|gif)&#x2F;æ˜¯åŒ¹é…å›¾ç‰‡æ–‡ä»¶åç¼€åç§°ã€‚</span><br><span class="line">useï¼šæ˜¯æŒ‡å®šä½¿ç”¨çš„loaderå’Œloaderçš„é…ç½®å‚æ•°ã€‚</span><br><span class="line">limitï¼šæ˜¯æŠŠå°äº500000Bçš„æ–‡ä»¶æ‰“æˆBase64çš„æ ¼å¼ï¼Œå†™å…¥JSã€‚</span><br><span class="line">url-loaderå’Œfile-loaderçš„åŒºåˆ«åœ¨äºurl-loaderæœ‰limitè¿™ä¸ªå‚æ•°</span><br></pre></td></tr></table></figure>



<h4 id="hmtlæ–‡ä»¶ä¸­å¼•å…¥å›¾ç‰‡æ ‡ç­¾çš„Loaderï¼ˆhtml-withimg-loaderï¼‰"><a href="#hmtlæ–‡ä»¶ä¸­å¼•å…¥å›¾ç‰‡æ ‡ç­¾çš„Loaderï¼ˆhtml-withimg-loaderï¼‰" class="headerlink" title="hmtlæ–‡ä»¶ä¸­å¼•å…¥å›¾ç‰‡æ ‡ç­¾çš„Loaderï¼ˆhtml-withimg-loaderï¼‰"></a>hmtlæ–‡ä»¶ä¸­å¼•å…¥å›¾ç‰‡æ ‡ç­¾çš„Loaderï¼ˆhtml-withimg-loaderï¼‰</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install html-withimg-loader --save</span><br><span class="line"></span><br><span class="line">webpack.config.js</span><br><span class="line">module:&#123;</span><br><span class="line">        rules: [</span><br><span class="line">            &#123;</span><br><span class="line">    test: &#x2F;\.(htm|html)$&#x2F;i,</span><br><span class="line">     use:[ &#39;html-withimg-loader&#39;] </span><br><span class="line">&#125;</span><br><span class="line">          ]</span><br><span class="line">    &#125;,</span><br></pre></td></tr></table></figure>



<h4 id="less-Loader"><a href="#less-Loader" class="headerlink" title="less-Loader"></a>less-Loader</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install --save-dev less</span><br><span class="line">npm n install --save-dev less-loader</span><br><span class="line"></span><br><span class="line">webpack.config.js</span><br><span class="line">module:&#123;</span><br><span class="line">       &#123;</span><br><span class="line">    test: &#x2F;\.less$&#x2F;,</span><br><span class="line">    use: [&#123;</span><br><span class="line">           loader: &quot;style-loader&quot; &#x2F;&#x2F; creates style nodes from JS strings</span><br><span class="line">        &#125;, &#123;</span><br><span class="line">            loader: &quot;css-loader&quot; &#x2F;&#x2F; translates CSS into CommonJS</span><br><span class="line">        , &#123;</span><br><span class="line">            loader: &quot;less-loader&quot; &#x2F;&#x2F; compiles Less to CSS</span><br><span class="line">        &#125;]</span><br><span class="line">&#125;</span><br><span class="line">    &#125;,</span><br><span class="line">ä½¿ç”¨extract-text-webpack-pluginæ’ä»¶åˆ†ç¦»</span><br><span class="line">module:&#123;</span><br><span class="line">&#123;</span><br><span class="line">            test: &#x2F;\.less$&#x2F;,</span><br><span class="line">            use: extractTextPlugin.extract(&#123;</span><br><span class="line">                use: [&#123;</span><br><span class="line">                    loader: &quot;css-loader&quot;</span><br><span class="line">                &#125;, &#123;</span><br><span class="line">                    loader: &quot;less-loader&quot;</span><br><span class="line">                &#125;],</span><br><span class="line">                &#x2F;&#x2F; use style-loader in development</span><br><span class="line">                fallback: &quot;style-loader&quot;</span><br><span class="line">            &#125;)</span><br><span class="line"> &#125;</span><br><span class="line">    &#125;,</span><br></pre></td></tr></table></figure>

<h4 id="SASS-Loader"><a href="#SASS-Loader" class="headerlink" title="SASS-Loader"></a>SASS-Loader</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cnpm n install --save-dev node-sass</span><br><span class="line">cnpm install --save-dev sass-loader</span><br><span class="line"></span><br><span class="line">webpack.config.js</span><br><span class="line">module:&#123;</span><br><span class="line">       &#123;</span><br><span class="line">                test: &#x2F;\.scss$&#x2F;,</span><br><span class="line">                use: [&#123;</span><br><span class="line">                    loader: &quot;style-loader&quot; &#x2F;&#x2F; creates style nodes from JS strings</span><br><span class="line">                &#125;, &#123;</span><br><span class="line">                    loader: &quot;css-loader&quot; &#x2F;&#x2F; translates CSS into CommonJS</span><br><span class="line">                &#125;, &#123;</span><br><span class="line">                    loader: &quot;sass-loader&quot; &#x2F;&#x2F; compiles Sass to CSS</span><br><span class="line">                &#125;]</span><br><span class="line">&#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    ä½¿ç”¨extract-text-webpack-pluginæ’ä»¶åˆ†ç¦»</span><br><span class="line">module:&#123;</span><br><span class="line">&#123;</span><br><span class="line">            test: &#x2F;\.less$&#x2F;,</span><br><span class="line">            use: extractTextPlugin.extract(&#123;</span><br><span class="line">                use: [&#123;</span><br><span class="line">                    loader: &quot;css-loader&quot;</span><br><span class="line">                &#125;, &#123;</span><br><span class="line">                    loader: &quot;sass-loader&quot;</span><br><span class="line">                &#125;],</span><br><span class="line">                &#x2F;&#x2F; use style-loader in development</span><br><span class="line">                fallback: &quot;style-loader&quot;</span><br><span class="line">            &#125;)</span><br><span class="line"> &#125;</span><br><span class="line">    &#125;,</span><br></pre></td></tr></table></figure>



<h4 id="css3å±æ€§å‰ç¼€postcss-loader"><a href="#css3å±æ€§å‰ç¼€postcss-loader" class="headerlink" title="css3å±æ€§å‰ç¼€postcss-loader"></a>css3å±æ€§å‰ç¼€postcss-loader</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install --save-dev postcss-loader autoprefixer</span><br><span class="line"></span><br><span class="line">å’Œwebpack.config.jsåŒçº§ï¼Œå»ºç«‹ä¸€ä¸ªpostcss.config.jsæ–‡ä»¶ã€‚</span><br><span class="line">postcss.config.js</span><br><span class="line">module.exports &#x3D; &#123;</span><br><span class="line">    plugins: &#123;  </span><br><span class="line">        &#39;autoprefixer&#39;: &#123;browsers: &#39;last 5 version&#39;&#125;  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">å¯¹postcss.config.jsé…ç½®å®Œæˆåï¼Œæˆ‘ä»¬è¿˜éœ€è¦ç¼–å†™æˆ‘ä»¬çš„loaderé…ç½®ã€‚</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">      test: &#x2F;\.css$&#x2F;,</span><br><span class="line">      use: [</span><br><span class="line">            &#123;</span><br><span class="line">              loader: &quot;style-loader&quot;</span><br><span class="line">            &#125;, &#123;</span><br><span class="line">              loader: &quot;css-loader&quot;,</span><br><span class="line">              options: &#123;</span><br><span class="line">                 modules: true</span><br><span class="line">              &#125;</span><br><span class="line">            &#125;, &#123;</span><br><span class="line">              loader: &quot;postcss-loader&quot;</span><br><span class="line">            &#125;</span><br><span class="line">      ]</span><br><span class="line">&#125;</span><br><span class="line">æå–CSS</span><br><span class="line">é…ç½®æå–CSSçš„loaderé…ç½®.</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    test: &#x2F;\.css$&#x2F;,</span><br><span class="line">    use: extractTextPlugin.extract(&#123;</span><br><span class="line">        fallback: &#39;style-loader&#39;,</span><br><span class="line">        use: [</span><br><span class="line">            &#123; </span><br><span class="line">            	loader: &#39;css-loader&#39;,</span><br><span class="line">            	options: &#123; </span><br><span class="line">            		importLoaders: 1 ,</span><br><span class="line">            		module:true</span><br><span class="line">            	&#125; </span><br><span class="line">            &#125;,</span><br><span class="line">            &#x2F;&#x2F;importLoaderï¼šåœ¨ä½¿ç”¨css-loaderä¹‹å‰å¿…é¡»å…ˆèµ°ä¸‹é¢çš„1ä¸ªloaderï¼ŒimportLoaders: 2ä½¿ç”¨css-loaderä¹‹å‰å¿…é¡»å…ˆèµ°ä¸‹é¢çš„2ä¸ªloaderï¼Œä»¥æ­¤ç±»æ¨</span><br><span class="line">            &#x2F;&#x2F;</span><br><span class="line">            &#39;postcss-loader&#39;</span><br><span class="line">        ]</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="css-loaderçš„æ¨¡å—åŒ–ä½¿ç”¨ï¼Œåªä½œç”¨äºå½“å‰æ–‡ä»¶"><a href="#css-loaderçš„æ¨¡å—åŒ–ä½¿ç”¨ï¼Œåªä½œç”¨äºå½“å‰æ–‡ä»¶" class="headerlink" title="css-loaderçš„æ¨¡å—åŒ–ä½¿ç”¨ï¼Œåªä½œç”¨äºå½“å‰æ–‡ä»¶"></a>css-loaderçš„æ¨¡å—åŒ–ä½¿ç”¨ï¼Œåªä½œç”¨äºå½“å‰æ–‡ä»¶</h4><p><img src="/2020/09/22/webpack%E5%B8%B8%E8%A7%81loader%E5%92%8Cplugins/image-20200924143827807.png" alt="image-20200924143827807"></p>
<h3 id="loaderçš„ä¸‰ç§å†™æ³•ï¼š"><a href="#loaderçš„ä¸‰ç§å†™æ³•ï¼š" class="headerlink" title="loaderçš„ä¸‰ç§å†™æ³•ï¼š"></a><strong>loaderçš„ä¸‰ç§å†™æ³•ï¼š</strong></h3><p>ä¸ŠèŠ‚è¯¾å­¦ä¹ äº†å¦‚ä½•æŠŠCSSæ–‡ä»¶è¿›è¡Œæ‰“åŒ…åˆ°JSå½“ä¸­å»ï¼Œæœ‰å°ä¼™ä¼´å°±æé—®ï¼Œæˆ‘çœ‹åˆ°åˆ«äººçš„CSSæ‰“åŒ…çš„å†™æ³•å’Œä½ çš„å†™æ³•ä¸å¤ªä¸€æ ·ï¼Œæ˜¯ä¸æ˜¯ä»–ä»¬å†™é”™äº†ï¼Œloaderè¿˜æœ‰å‡ ç§å†™æ³•ï¼Œè¿™é‡Œæˆ‘ä»¬å°±çœ‹ä¸¤ç§å¦å¤–çš„å†™æ³•ã€‚</p>
<p><strong>ç¬¬ä¸€ç§å†™æ³•ï¼šç›´æ¥ç”¨useã€‚</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">module:&#123;</span><br><span class="line">        rules:[</span><br><span class="line">            &#123;</span><br><span class="line">                test:&#x2F;\.css$&#x2F;,</span><br><span class="line">                use:[&#39;style-loader&#39;,&#39;css-loader&#39;]</span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br></pre></td></tr></table></figure>

<p><strong>ç¬¬äºŒç§å†™æ³•ï¼šæŠŠuseæ¢æˆloaderã€‚</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">module:&#123;</span><br><span class="line">        rules:[</span><br><span class="line">            &#123;</span><br><span class="line">                test:&#x2F;\.css$&#x2F;,</span><br><span class="line">                loader:[&#39;style-loader&#39;,&#39;css-loader&#39;]</span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br></pre></td></tr></table></figure>

<p>*<em>ç¬¬ä¸‰ç§å†™æ³•ï¼šç”¨use+loaderçš„å†™æ³•ï¼š *</em></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">module:&#123;</span><br><span class="line">        rules:[</span><br><span class="line">            &#123;</span><br><span class="line">                test:&#x2F;\.css$&#x2F;,</span><br><span class="line">                use: [</span><br><span class="line">                    &#123;</span><br><span class="line">                        loader: &quot;style-loader&quot;</span><br><span class="line">                    &#125;, &#123;</span><br><span class="line">                        loader: &quot;css-loader&quot;</span><br><span class="line">                    &#125;</span><br><span class="line">                ]</span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br></pre></td></tr></table></figure>

<p>ç”±æ­¤çœ‹å‡ºï¼Œwebpackçš„æ‰©å±•å’Œçµæ´»æ€§æ˜¯éå¸¸å¼ºçš„ï¼Œä½ ä¹ æƒ¯äºé‚£ç§å†™æ³•éƒ½å¯ä»¥ã€‚æœ€é‡è¦çš„æ˜¯ï¼Œä½ çœ‹è§åˆ«äººé¡¹ç›®çš„å…¶ä»–å†™æ³•ä¹Ÿä¸è¦æ…Œå¼ ï¼Œè‡ªå·±å»è¯•ä¸€è¯•ï¼Œæœ‰å¯èƒ½å°±å¯ä»¥Getåˆ°æ–°çŸ¥è¯†ã€‚</p>
<h3 id="Babelçš„å®‰è£…ä¸é…ç½®"><a href="#Babelçš„å®‰è£…ä¸é…ç½®" class="headerlink" title="Babelçš„å®‰è£…ä¸é…ç½®"></a>Babelçš„å®‰è£…ä¸é…ç½®</h3><p>Babelå…¶å®æ˜¯å‡ ä¸ªæ¨¡å—åŒ–çš„åŒ…ï¼Œå…¶æ ¸å¿ƒåŠŸèƒ½ä½äºç§°ä¸ºbabel-coreçš„npmåŒ…ä¸­ï¼Œwebpackå¯ä»¥æŠŠå…¶ä¸åŒçš„åŒ…æ•´åˆåœ¨ä¸€èµ·ä½¿ç”¨ï¼Œå¯¹äºæ¯ä¸€ä¸ªä½ éœ€è¦çš„åŠŸèƒ½æˆ–æ‹“å±•ï¼Œä½ éƒ½éœ€è¦å®‰è£…å•ç‹¬çš„åŒ…ï¼ˆç”¨å¾—æœ€å¤šçš„æ˜¯è§£æES6çš„babel-preset-es2015åŒ…å’Œè§£æJSXçš„babel-preset-reactåŒ…ï¼‰ã€‚</p>
<p>æˆ‘ä»¬å…ˆä¸€æ¬¡æ€§å®‰è£…è¿™äº›ä¾èµ–åŒ…</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cnpm c install --save-dev babel-core babel-loader babel-preset-es2015 babel-preset-react</span><br></pre></td></tr></table></figure>

<p>åœ¨webpackä¸­é…ç½®Babelçš„æ–¹æ³•å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    test:&#x2F;\.(jsx|js)$&#x2F;,</span><br><span class="line">    use:&#123;</span><br><span class="line">        loader:&#39;babel-loader&#39;,</span><br><span class="line">        options:&#123;</span><br><span class="line">            presets:[</span><br><span class="line">                &quot;es2015&quot;,&quot;react&quot;</span><br><span class="line">            ]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    exclude:&#x2F;node_modules&#x2F;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç°åœ¨ä½ å·²ç»å¯ä»¥ç”¨webapckè½¬æ¢ES6çš„è¯­æ³•å…¼å®¹å„ä¸ªæµè§ˆå™¨äº†ï¼Œæˆ‘ä»¬å¯ä»¥ä¿®æ”¹ä¸€ä¸‹entry.jsçš„ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import css from &#39;.&#x2F;css&#x2F;index.css&#39;;</span><br><span class="line">&#123;</span><br><span class="line">    let jspangString &#x3D; &#39;Hello Webpack&#39;</span><br><span class="line">    document.getElementById(&#39;title&#39;).innerHTML&#x3D;jspangString; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢çš„ä»£ç ä½¿ç”¨äº†ES6çš„letå£°æ˜æ–¹æ³•ã€‚å¦‚æœä½ ä¸ä½¿ç”¨Babelæ¥è¿›è¡Œè½¬æ¢ï¼Œä½ ä¼šå‘ç°æ‰“åŒ…å‡ºæ¥çš„jsä»£ç æ²¡æœ‰ä½œå…¼å®¹å¤„ç†ï¼Œä½¿ç”¨äº†Babelè½¬æ¢çš„ä»£ç æ˜¯è¿›è¡Œå¤„ç†è¿‡çš„ã€‚</p>
<p><strong>.babelrcé…ç½®</strong></p>
<p>è™½ç„¶Babelå¯ä»¥ç›´æ¥åœ¨webpack.config.jsä¸­è¿›è¡Œé…ç½®ï¼Œä½†æ˜¯è€ƒè™‘åˆ°babelå…·æœ‰éå¸¸å¤šçš„é…ç½®é€‰é¡¹ï¼Œå¦‚æœå¸è½½webapck.config.jsä¸­ä¼šéå¸¸çš„é›é•¿ä¸å¯é˜…è¯»ï¼Œæ‰€ä»¥æˆ‘ä»¬ç»å¸¸æŠŠé…ç½®å¸è½½.babelrcæ–‡ä»¶é‡Œã€‚</p>
<p>åœ¨é¡¹ç›®æ ¹ç›®å½•æ–°å»º.babelrcæ–‡ä»¶ï¼Œå¹¶æŠŠé…ç½®å†™åˆ°æ–‡ä»¶é‡Œã€‚</p>
<p>.babelrc</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;presets&quot;:[&quot;react&quot;,&quot;es2015&quot;]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>.webpack.config.jsé‡Œçš„loaderé…ç½®</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    test:&#x2F;\.(jsx|js)$&#x2F;,</span><br><span class="line">    use:&#123;</span><br><span class="line">        loader:&#39;babel-loader&#39;,</span><br><span class="line">    &#125;,</span><br><span class="line">    exclude:&#x2F;node_modules&#x2F;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>ENVï¼š</strong></p>
<p>ç°åœ¨ç½‘ç»œä¸Šå·²ç»ä¸æµè¡Œbabel-preset-es2015ï¼Œç°åœ¨å®˜æ–¹æ¨èä½¿ç”¨çš„æ˜¯babel-preset-env,é‚£æˆ‘ä»¬ä¸ºäº†ç´§è·Ÿæ½®æµï¼Œæˆ‘ä»¬åœ¨è®²ä¸€ä¸‹envçš„é…ç½®æ–¹æ³•ã€‚</p>
<p>é¦–å…ˆéœ€è¦ä¸‹è½½ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm n install --save-dev babel-preset-env</span><br></pre></td></tr></table></figure>

<p>ç„¶åä¿®æ”¹.babelrcé‡Œçš„é…ç½®æ–‡ä»¶ã€‚å…¶å®åªè¦æŠŠä¹‹å‰çš„es2015æ¢æˆenvå°±å¯ä»¥äº†ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;presets&quot;:[&quot;react&quot;,&quot;env&quot;]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>webpack</category>
      </categories>
      <tags>
        <tag>plugins</tag>
        <tag>loader</tag>
      </tags>
  </entry>
  <entry>
    <title>xshellä¹‹åˆè§</title>
    <url>/2020/10/30/xshell%E4%B9%8B%E5%88%9D%E8%A7%81/</url>
    <content><![CDATA[<h3 id="Xshellæ¦‚è¿°"><a href="#Xshellæ¦‚è¿°" class="headerlink" title="Xshellæ¦‚è¿°"></a>Xshellæ¦‚è¿°</h3><p>Xshellè½¯ä»¶çš„ä»‹ç»ç™¾åº¦ä¸Šå¤ªå¤šï¼Œä¹Ÿå‡¸æ˜¾ä¸å‡ºé‡ç‚¹ï¼Œå¤§å®¶ä¸èƒ½å¾ˆå¥½åœ°ç†è§£ï¼Œè¿™é‡Œç®€è¦æ¦‚å†µä¸€ä¸‹ã€‚</p>
<p>Xshellæ˜¯ä¸€ä¸ªå¼ºå¤§çš„å®‰å…¨ç»ˆç«¯æ¨¡æ‹Ÿè½¯ä»¶ï¼Œå¯ä»¥åœ¨Windowsç•Œé¢ä¸‹ç”¨æ¥è®¿é—®è¿œç«¯ä¸åŒç³»ç»Ÿä¸‹çš„æœåŠ¡å™¨ï¼Œä»è€Œæ¯”è¾ƒå¥½çš„è¾¾åˆ°è¿œç¨‹æ§åˆ¶ç»ˆç«¯çš„ç›®çš„ï¼Œæ¯”å¦‚è¯´ç”¨Xshellï¼ˆåœ°ç‚¹åœ¨ä¸Šæµ·ï¼‰è¿æ¥è¿œç¨‹LinuxæœåŠ¡å™¨ç³»ç»Ÿï¼ˆåœ°ç‚¹åœ¨åŒ—äº¬ï¼‰ï¼Œåªéœ€è¦åœ¨Xshellä¸­è¾“å…¥LinuxæœåŠ¡å™¨ç³»ç»Ÿçš„IPåœ°å€ï¼Œè¿™æ ·å°±å¯ä»¥å°†è¿œç¨‹ï¼ˆåŒ—äº¬ï¼‰çš„LinuxæœåŠ¡å™¨ç³»ç»Ÿè¿æ¥åˆ°Xshellï¼ˆä¸Šæµ·ï¼‰äº†ï¼Œå®ç°äº†è¿œç¨‹çš„æ¨¡æ‹Ÿæ§åˆ¶ã€‚ç›´ç™½ç‚¹è¯´ï¼Œå°±æ˜¯åœ¨ä¸Šæµ·çš„Xshellå¯ä»¥æ§åˆ¶è¿œåœ¨åŒ—äº¬çš„LinuxæœåŠ¡å™¨ç³»ç»Ÿï¼Œé€šè¿‡Linuxå‘½ä»¤å®ç°éœ€è¦å®Œæˆçš„åŠŸèƒ½ã€‚</p>
<a id="more"></a>

<h3 id="1-Xshellä¸‹è½½ä¸å®‰è£…"><a href="#1-Xshellä¸‹è½½ä¸å®‰è£…" class="headerlink" title="1.Xshellä¸‹è½½ä¸å®‰è£…"></a>1.Xshellä¸‹è½½ä¸å®‰è£…</h3><p>è¿›å…¥<a href="https://link.jianshu.com?t=https%3A%2F%2Fwww.netsarang.com%2Fdownload%2Fmain.html" target="_blank" rel="noopener">xshellå®˜ç½‘ä¸‹è½½é¡µé¢</a>ï¼Œæ‰¾åˆ°xshell5ï¼Œç‚¹å‡»åé¢çš„download</p>
<p><img src="https:////upload-images.jianshu.io/upload_images/7940255-ee15b04539696d40.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/688/format/webp" alt="img"></p>
<p>å®ƒä¼šè·³è½¬åˆ°å¦ä¸€ä¸ªé¡µé¢ï¼Œé€‰æ‹©Evaluation user / Home &amp; School userï¼Œ license typeè¦é€‰æ‹©home and school useï¼Œè¿™ç§æ˜¯å¯ä»¥å…è´¹ä½¿ç”¨çš„ï¼Œå…¶ä»–çš„æŒ‰è¦æ±‚å¡«å¥½å³å¯ã€‚å¡«å¥½ä¹‹åå†ç‚¹submit</p>
<p><img src="https:////upload-images.jianshu.io/upload_images/7940255-0c785451af551b83.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/607/format/webp" alt="img"></p>
<p>å‘é€æˆåŠŸåä¼šæœ‰æç¤º</p>
<p><img src="https:////upload-images.jianshu.io/upload_images/7940255-294c4b8a251cc988.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/681/format/webp" alt="img"></p>
<p>ç„¶åè¿›å…¥åˆ°ä½ çš„å‰æ–‡å¡«å†™çš„é‚®ç®±ï¼Œä¼šæ”¶åˆ°ä¸€ä¸ªé‚®ä»¶ï¼Œé‡Œé¢æœ‰ä¸€ä¸ªä¸‹è½½é“¾æ¥ï¼Œç›´æ¥ç‚¹å¼€å°±å¯ä»¥ä¸‹è½½XSHELLè½¯ä»¶äº†ã€‚</p>
<p>ä¸‹è½½å®Œä»¥åï¼Œç‚¹å‡»å®‰è£…ï¼Œä¸€ç›´ç‚¹ä¸‹ä¸€æ­¥å³å¯ï¼Œéœ€è¦æ³¨æ„è¿™ä¸€æ­¥è¦é€‰æ‹©å…è´¹ä¸ºå®¶åº­/å­¦æ ¡ã€‚</p>
<p><img src="https:////upload-images.jianshu.io/upload_images/7940255-5859bb07a65fff00.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/492/format/webp" alt="img"></p>
<h3 id="2-åœ¨xshellé‡Œæ·»åŠ ä¼šè¯"><a href="#2-åœ¨xshellé‡Œæ·»åŠ ä¼šè¯" class="headerlink" title="2. åœ¨xshellé‡Œæ·»åŠ ä¼šè¯"></a>2. åœ¨xshellé‡Œæ·»åŠ ä¼šè¯</h3><p>æ–°å®‰è£…çš„xshellä¼šè‡ªåŠ¨æç¤ºä½ éœ€è¦æ·»åŠ ä¸€ä¸ªä¼šè¯ï¼Œç‚¹å‡»æ–°å»º</p>
<p><img src="https:////upload-images.jianshu.io/upload_images/7940255-f2fe9a106583f6c3.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/625/format/webp" alt="img"></p>
<p>åœ¨å¼¹å‡ºçš„çª—å£ä¸­ä¾æ¬¡å¡«ä¸Šå¦‚ä¸‹æ•°æ®</p>
<p><img src="https:////upload-images.jianshu.io/upload_images/7940255-698e0fec8715d6da.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/573/format/webp" alt="img"></p>
<p><strong>åç§°</strong>ï¼šå°±æ˜¯ä¼šè¯çš„åå­—ï¼Œéšä¾¿å†™ï¼Œæ–¹ä¾¿è®°ä½å°±è¡Œ</p>
<p><strong>åè®®</strong>ï¼šé»˜è®¤å°±æ˜¯SSHï¼Œä¸ç”¨ç®¡å®ƒ</p>
<p><strong>ä¸»æœº</strong>ï¼šå°±æ˜¯ä½ çš„ç©ºé—´çš„IP</p>
<p><strong>ç«¯å£å·</strong>ï¼šå°±æ˜¯ä½ ç©ºé—´çš„ç«¯å£å·ssh port</p>
<p>å…¶ä»–ä¸å¡«ï¼Œç„¶åç‚¹å‡»ç¡®å®šï¼Œæ·»åŠ æˆåŠŸã€‚</p>
<p>å¦‚æœè¦æ·»åŠ å¤šä¸ªä¼šè¯ï¼Œå°±ç‚¹å‡»æ–‡ä»¶ - æ–°å»ºï¼Œå†å¡«ä¸Šç›¸åº”çš„å‚æ•°å³å¯</p>
<p><img src="https:////upload-images.jianshu.io/upload_images/7940255-9934c6a56b3ddbd0.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/237/format/webp" alt="img"></p>
<h3 id="3-é€šè¿‡xshellè¿æ¥ç©ºé—´æœåŠ¡å™¨"><a href="#3-é€šè¿‡xshellè¿æ¥ç©ºé—´æœåŠ¡å™¨" class="headerlink" title="3. é€šè¿‡xshellè¿æ¥ç©ºé—´æœåŠ¡å™¨"></a>3. é€šè¿‡xshellè¿æ¥ç©ºé—´æœåŠ¡å™¨</h3><p>ç‚¹å‡»æ–‡ä»¶-æ‰“å¼€ï¼Œåœ¨ä¼šè¯é¢æ¿ä¸­ï¼Œé€‰ä¸­ä½ è¦é“¾æ¥çš„ä¼šè¯ï¼Œç„¶åç‚¹å‡»è¿æ¥</p>
<p><img src="https:////upload-images.jianshu.io/upload_images/7940255-4c0a5c8f73e898c2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/547/format/webp" alt="img"></p>
<p>ç¬¬ä¸€æ¬¡è¿›å…¥çš„æ—¶å€™ï¼Œä¼šå‡ºç°ä»¥ä¸‹æç¤ºï¼Œç‚¹å‡»æ¥å—å¹¶ä¿å­˜</p>
<p><img src="https:////upload-images.jianshu.io/upload_images/7940255-6db92986719dd757.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/489/format/webp" alt="img"></p>
<p>æ¥ä¸‹æ¥ä¼šæç¤ºè¾“å…¥ssh ç”¨æˆ·åï¼Œç›´æ¥è¾“å…¥rootï¼Œè¿™ä¸ªæ˜¯ä»»ä½•VPSæˆ–ä¸»æœºé»˜è®¤çš„ç”¨æˆ·åï¼Œå¦‚æœæœ‰å…¶ä»–çš„ç”¨æˆ·åï¼Œå°±è¾“å…¥å…¶ä»–çš„ã€‚</p>
<p><img src="https:////upload-images.jianshu.io/upload_images/7940255-edf892e8763d2866.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/362/format/webp" alt="img"></p>
<p>ç„¶ååœ¨è®°ä½ç”¨æˆ·åå‰é¢æ‰“å‹¾ï¼Œå†ç‚¹å‡»ç¡®å®š</p>
<p>æ¥ä¸‹æ¥ä¼šæç¤ºè®©ä½ è¾“å…¥rootçš„å¯†ç ï¼Œå¤åˆ¶å¯†ç åï¼Œåœ¨æ¡†ä¸­-å³é”®-ç²˜è´´ä¸ºçº¯æ–‡æœ¬ï¼Œå¹¶å‹¾é€‰è®°ä½å¯†ç ï¼Œå†ç‚¹å‡»ç¡®å®šã€‚</p>
<p><img src="https:////upload-images.jianshu.io/upload_images/7940255-8e9254efc020c0ce.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/458/format/webp" alt="img"></p>
<p>å¦‚æœxshellé¢æ¿ä¸­å‡ºç°ä»¥ä¸‹æç¤ºï¼Œåˆ™è¡¨ç¤ºè¿æ¥æˆåŠŸã€‚å¦‚æœæç¤ºå¯†ç ä¸å¯¹ï¼Œå°±è¦æ£€æŸ¥å¯†ç ï¼Œå¿…è¦æ—¶æ‰‹åŠ¨è¾“å…¥å¯†ç ã€‚</p>
<p><img src="https:////upload-images.jianshu.io/upload_images/7940255-fa29bc736ab7f24f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/548/format/webp" alt="img"></p>
<h3 id="4-Xshellä¸ŠæŒ‡ä»¤æ“ä½œæ­¥éª¤"><a href="#4-Xshellä¸ŠæŒ‡ä»¤æ“ä½œæ­¥éª¤" class="headerlink" title="4. Xshellä¸ŠæŒ‡ä»¤æ“ä½œæ­¥éª¤"></a>4. Xshellä¸ŠæŒ‡ä»¤æ“ä½œæ­¥éª¤</h3><p>é¦–å…ˆè¦ä¿è¯XSHELLè·Ÿç©ºé—´æ˜¯è¿é€šçš„çŠ¶æ€ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå°±æ˜¯å·²ç»è¿æ¥ä¸Š</p>
<p><img src="https:////upload-images.jianshu.io/upload_images/7940255-e2d4ee8ecf3aee91.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/507/format/webp" alt="img"></p>
<p>å¦‚æœæ˜¯ä¸‹å›¾æ‰€ç¤ºè¿™ç§æƒ…å†µï¼Œå°±æ˜¯æ²¡æœ‰è¿æ¥ä¸Šï¼Œæˆ–è€…é€€å‡ºäº†ï¼Œä¸€å®šè¦é‡æ–°è¿æ¥æˆåŠŸæ‰èƒ½ç»§ç»­æ“ä½œã€‚</p>
<p><img src="https:////upload-images.jianshu.io/upload_images/7940255-a8389c4daa229bc0.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/474/format/webp" alt="img"></p>
<p>XSHELLä¸Šé¢è·Ÿè¿œç¨‹çš„VPSç©ºé—´é€šä¿¡æ˜¯ç”¨æŒ‡ä»¤æ¥å®Œæˆçš„ï¼Œä¸‹é¢æ˜¯åœ¨xshellä¸Šé¢è·Ÿlinuxé€šä¿¡æµç¨‹</p>
<p><strong>1ï¼‰è¾“å…¥æŒ‡ä»¤</strong>ï¼š å¤åˆ¶å¥½æŒ‡ä»¤ï¼Œåœ¨é¢æ¿ä¸Š-å³é”®-ç²˜è´´å³å¯è¾“å…¥ï¼Œä¹Ÿå¯ä»¥æ‰‹åŠ¨è¾“å…¥ã€‚æ³¨æ„åªæ”¯æŒè‹±æ–‡å­—ç¬¦åŠè§’</p>
<p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œæˆ‘ä»¬ä»¥nginx -tè¿™ä¸ªæŒ‡ä»¤æ¥æ¼”ç¤º</p>
<p><img src="https:////upload-images.jianshu.io/upload_images/7940255-917d296d6f0c80e7.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/459/format/webp" alt="img"></p>
<p><img src="https:////upload-images.jianshu.io/upload_images/7940255-62050f6ef3743c77.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/299/format/webp" alt="img"></p>
<p><strong>2ï¼‰å›è½¦</strong>ï¼šåœ¨ä¸Šä¸€æ­¥è¾“å…¥æŒ‡ä»¤åï¼Œç›´æ¥å›è½¦</p>
<p><img src="https:////upload-images.jianshu.io/upload_images/7940255-cd776ec8747a01ac.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/593/format/webp" alt="img"></p>
<p><strong>3ï¼‰æœåŠ¡å™¨æ‰§è¡ŒæŒ‡ä»¤</strong></p>
<p>æœ‰äº›æŒ‡ä»¤æ˜¯æœ‰åé¦ˆç»“æœçš„ï¼Œä¼šæç¤ºåšäº†å“ªäº›äº‹æƒ…ï¼ŒèŠ±äº†å¤šå°‘æ—¶é—´æˆ–è€…æ˜¯æç¤ºç»“æœç­‰ã€‚å¦‚ä¸Šå›¾ï¼Œnginx -tæ˜¯æµ‹è¯•nginxè½¯ä»¶æœåŠ¡å™¨çš„çŠ¶æ€çš„ï¼Œæ˜¾ç¤ºçŠ¶æ€OKï¼Œæœ‰ä¸¤æ¡ç»“æœã€‚</p>
<p>è€Œæœ‰äº›æŒ‡ä»¤åˆæ˜¯æ²¡æœ‰ç»“æœçš„ï¼Œåƒservice nginx restartï¼Œé‡å¯nginxæœåŠ¡å™¨ï¼Œæ˜¯æ²¡æœ‰ä»»ä½•ç»“æœæç¤ºçš„ã€‚æ— è®ºæŒ‡ä»¤æœ‰æ²¡æœ‰ç»“æœæç¤ºï¼Œæœ€åéƒ½ä¼šå›åˆ°æ–°çš„å‘½ä»¤æŒ‡ç¤ºç¬¦ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p>
<p><img src="https:////upload-images.jianshu.io/upload_images/7940255-63784f8ac598b076.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/445/format/webp" alt="img"></p>
<h3 id="5-å¸¸è§ubuntuæŒ‡ä»¤ç®€å•ä»‹ç»"><a href="#5-å¸¸è§ubuntuæŒ‡ä»¤ç®€å•ä»‹ç»" class="headerlink" title="5. å¸¸è§ubuntuæŒ‡ä»¤ç®€å•ä»‹ç»"></a>5. å¸¸è§ubuntuæŒ‡ä»¤ç®€å•ä»‹ç»</h3><p>nano æ–‡ä»¶ç¼–è¾‘å‘½ä»¤ï¼Œåé¢æ¥ä½ è¦ç¼–è¾‘çš„æ–‡ä»¶åå¸¦æ ¼å¼ ï¼Œå¦‚ nano  php.ini</p>
<p>cd è¿›å…¥ç›®å½•å‘½ä»¤ï¼Œåé¢æ¥ä½ è¦è¿›å…¥çš„ç›®å½•ï¼ˆå¯¹åº”ç”µè„‘ä¸Šçš„æ–‡ä»¶å¤¹ï¼‰ï¼Œå¦‚cd /etc/nginx/</p>
<p>cp å¤åˆ¶å‘½ä»¤ï¼Œåé¢æ¥ä½ è¦å¤åˆ¶çš„æºæ–‡ä»¶å’Œæ–°æ–‡ä»¶åï¼Œ å¦‚ cp php.ini new-php.ini</p>
<p>ls åˆ—å‡ºå½“å‰ç›®å½•ä¸‹æ‰€æœ‰çš„æ–‡ä»¶åŠæ–‡ä»¶å¤¹ ï¼Œls -a è¡¨ç¤ºåŠ ä¸Šéšè—æ–‡ä»¶å…¨éƒ¨åˆ—å‡º</p>
<p>wget ä¸‹è½½æ–‡ä»¶åˆ°å½“å‰ç›®å½•ï¼Œåé¢ä¸€èˆ¬æ¥æ–‡ä»¶çš„URLåœ°å€ï¼Œ å¦‚</p>
<p>wget â€“no-check-certificate <a href="http://wordpress.org/latest.tar.gz" target="_blank" rel="noopener">http://wordpress.org/latest.tar.gz</a> ä¸‹è½½wpæœ€æ–°ç‰ˆæœ¬æ–‡ä»¶çš„æ„æ€</p>
<p>mv ç§»åŠ¨å‘½ä»¤ï¼Œåé¢æ¥æºæ–‡ä»¶å’Œç›®çš„ç›®å½• ï¼Œ å¦‚ mv  wp-config.php  /var/www</p>
<p>rm åˆ é™¤å‘½åï¼Œåé¢æ¥æ–‡ä»¶åï¼Œ rm -r åˆ é™¤æ–‡ä»¶å¤¹çš„å‘½ä»¤</p>
<p><strong>å‘½ä»¤ä½¿ç”¨æ³¨æ„</strong>ï¼šæ‰§è¡Œå‘½ä»¤æ—¶ä¸€å®šè¦æ…é‡ï¼Œä¸€å®šè¦çŸ¥é“è‡ªå·±åœ¨åšä»€ä¹ˆï¼Œå¦åˆ™å°±æœ‰å¯èƒ½é€ æˆæ— æ³•æ¢å¤çš„trouble!</p>
<h3 id="6-Xshellä½¿ç”¨å¸¸è§é—®é¢˜"><a href="#6-Xshellä½¿ç”¨å¸¸è§é—®é¢˜" class="headerlink" title="6. Xshellä½¿ç”¨å¸¸è§é—®é¢˜"></a>6. Xshellä½¿ç”¨å¸¸è§é—®é¢˜</h3><p>1ï¼‰æœ€å¸¸è§çš„é—®é¢˜åº”è¯¥æ˜¯è¿æ¥ä¸ä¸Šçš„é—®é¢˜ï¼Œè¿™ä¸ªä¸»è¦å‡ºç°åœ¨è¿æ¥å›½å¤–ç©ºé—´çš„æ—¶å€™ï¼Œä¸»è¦åŸå› æ˜¯è¢«å¢™äº†ã€‚å¦‚ä¸‹å›¾æ‰€ç¤º</p>
<p><img src="https:////upload-images.jianshu.io/upload_images/7940255-02980fa7810c5aa8.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/586/format/webp" alt="img"></p>
<p>ä¸ç”¨æ‹…å¿ƒï¼Œå¯ä»¥ç”¨æ·»åŠ ä»£ç†çš„æ–¹å¼è§£å†³ï¼Œæ–¹æ³•å¦‚ä¸‹</p>
<p>1ï¼‰é¦–å…ˆä½ è¦æœ‰ä¸€ä¸ªèƒ½ä¸ŠGOOGLEçš„SSè´¦å·ï¼Œï¼ˆSSRåº”è¯¥ä¹Ÿå¯ä»¥ï¼‰ï¼Œå¦‚æœæ²¡æœ‰å¯ä»¥è‡ªå·±æ­å»ºä¸€ä¸ªï¼Œå‚è€ƒ<a href="https://link.jianshu.com?t=https%3A%2F%2Fwww.imhunk.com%2Fvisit-google-freely%2F" target="_blank" rel="noopener">è‡ªå·±åŠ¨æ‰‹æ­å»ºç§‘å­¦ä¸Šç½‘å·¥å…·ï¼ˆV+P+Nï¼‰</a></p>
<p>2ï¼‰ç„¶åç‚¹å‡» æ–‡ä»¶ -æ‰“å¼€ -é€‰æ‹©è¿ä¸ä¸Šçš„é‚£ä¸ªä¼šè¯ï¼Œç„¶åå³é”® -ç‚¹å‡»å±æ€§</p>
<p><img src="https:////upload-images.jianshu.io/upload_images/7940255-7dba8a32f5d9533f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/532/format/webp" alt="img"></p>
<p>ç‚¹å‡»å·¦ä¾§çš„ä»£ç†ï¼Œç„¶åç‚¹å‡»å³ä¾§ä»£ç†æœåŠ¡å™¨åé¢çš„æµè§ˆ</p>
<p><img src="https:////upload-images.jianshu.io/upload_images/7940255-d893db1510cc101c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/553/format/webp" alt="img"></p>
<p>åœ¨å¼¹å‡ºçš„çª—å£ä¸­ï¼Œç‚¹å‡»æ·»åŠ </p>
<p><img src="https:////upload-images.jianshu.io/upload_images/7940255-71d2e35bb6cd01f0.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/390/format/webp" alt="img"></p>
<p>ç„¶åä¾æ¬¡ä¸‹å›¾å¡«å†™ç›¸åº”çš„å€¼ï¼Œå¯†ç å¡«ä¸Šä½ çš„SSçš„å¯†ç ï¼Œå†ç‚¹å‡»ç¡®å®š</p>
<p><img src="https:////upload-images.jianshu.io/upload_images/7940255-e416369a916e2af5.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/341/format/webp" alt="img"></p>
<p>ç„¶ååœ¨æŠŠä»£ç†æœåŠ¡å™¨é€‰æ‹©ssï¼Œå†ç‚¹å‡»ç¡®å®š</p>
<p><img src="https:////upload-images.jianshu.io/upload_images/7940255-19168210f42717bf.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/526/format/webp" alt="img"></p>
<p>3ï¼‰å†é‡æ–°è¿æ¥å¯¹è¯ï¼Œå°±å¯ä»¥å‘ç°æˆåŠŸè¿ä¸Šäº†ï¼ YEAH!</p>
<p><img src="https:////upload-images.jianshu.io/upload_images/7940255-b72e646b718428e5.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/612/format/webp" alt="img"></p>
<p>2ï¼‰å¿«æ·é”®çš„é—®é¢˜</p>
<p>å¾ˆå¤šæˆ‘ä»¬æ—¥å¸¸ä½¿ç”¨çš„å¿«æ·é”®æ˜¯ä¸èƒ½ç”¨æˆ–è€…æ„æ€ä¸åŒï¼Œæ¯”å¦‚CTRL+Cï¼Œè¿™ä¸ªåœ¨XSHELLä¸­æ˜¯å¼ºåˆ¶é€€å‡ºè¿è¡Œç¨‹åºçš„æ„æ€ã€‚ä¸€å®šè¦æ³¨æ„ã€‚</p>
<p>å¦‚æœéœ€è¦å¤åˆ¶ï¼Œå°±å…ˆé€‰ä¸­ï¼Œç„¶åå³é”®-å¤åˆ¶ã€‚å¦‚æœéœ€è¦ç²˜è´´ï¼Œé‚£ä¹ˆå…ˆé€‰ä¸­ï¼Œç„¶åå³é”®-ç²˜è´´ã€‚</p>
<p>é“¾æ¥ï¼š<a href="https://www.jianshu.com/p/20f59a08158b" target="_blank" rel="noopener">https://www.jianshu.com/p/20f59a08158b</a></p>
]]></content>
      <categories>
        <category>Xshell</category>
      </categories>
      <tags>
        <tag>Xshell</tag>
      </tags>
  </entry>
  <entry>
    <title>å‰ç«¯é¢è¯•å¤ä¹ </title>
    <url>/2020/09/15/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%8D%E4%B9%A0/</url>
    <content><![CDATA[<p>å‚è€ƒï¼š<a href="https://mp.weixin.qq.com/s/QX0HL1tCAGU70zEb-HJQlQ" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/QX0HL1tCAGU70zEb-HJQlQ</a></p>
<p>æ‰‹å†™å‡½æ•°åˆé›†</p>
<p><a href="https://mp.weixin.qq.com/s/5mlf4yo6v4gRJnePAluqgg" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/5mlf4yo6v4gRJnePAluqgg</a></p>
<p>proxyä»£ç†ç®€ä»‹</p>
<p><a href="https://mp.weixin.qq.com/s/Nvp_N4Sj0PlBqXjTis7UCQ" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/Nvp_N4Sj0PlBqXjTis7UCQ</a></p>
<p>è¾“å…¥URLåˆ°æ¸²æŸ“å…¨é¢æ¢³ç†</p>
<p><a href="https://blog.csdn.net/qq_43430453/article/details/107421120" target="_blank" rel="noopener">https://blog.csdn.net/qq_43430453/article/details/107421120</a></p>
<p>å¸¸ç”¨çš„å‰ç«¯JavaScriptæ–¹æ³•å°è£…</p>
<p><a href="https://mp.weixin.qq.com/s/faO3jszPOezv-XVuV11SXQ" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/faO3jszPOezv-XVuV11SXQ</a></p>
<p>éå†AèŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ä¸‹çš„æ‰€æœ‰å­èŠ‚ç‚¹</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    var b&#x3D;document.getElementById(&quot;a&quot;).parentNode.children;</span><br><span class="line">    console.log(b)</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<p>targetã€currentTargetçš„åŒºåˆ«ï¼Ÿ</p>
<p>currentTargetå½“å‰æ‰€ç»‘å®šäº‹ä»¶çš„å…ƒç´ ï¼ˆæŒ‡å‘å‡ºå‘äº‹ä»¶çš„å‡½æ•°ï¼Œå§‹ç»ˆä¸å˜ï¼‰</p>
<p>targetå½“å‰è¢«ç‚¹å‡»çš„å…ƒç´ </p>
<p>åœ¨æµè§ˆå™¨åœ°å€æ ä¸­è¾“å…¥URLåå‘ç”Ÿäº†ä»€ä¹ˆ</p>
<h4 id="åŸºæœ¬æµç¨‹ï¼š"><a href="#åŸºæœ¬æµç¨‹ï¼š" class="headerlink" title="åŸºæœ¬æµç¨‹ï¼š"></a>åŸºæœ¬æµç¨‹ï¼š</h4><p>â‘ æŸ¥è¯¢ipåœ°å€</p>
<p>â‘¡å»ºç«‹tcpè¿æ¥ï¼Œæ¥å…¥æœåŠ¡å™¨</p>
<p>â‘¢æµè§ˆå™¨å‘èµ·httpè¯·æ±‚</p>
<p>â‘£æœåŠ¡å™¨åå°æ“ä½œå¹¶åšå‡ºhttpå“åº”</p>
<p>â‘¤ç½‘é¡µçš„è§£æä¸æ¸²æŸ“</p>
<p>ä¼˜åŒ–ï¼š</p>
<h5 id="ä»æ­¤å¯ä»¥å¾—å‡ºç½‘ç«™çš„ä¸€äº›ä¼˜åŒ–çš„æ–¹æ³•"><a href="#ä»æ­¤å¯ä»¥å¾—å‡ºç½‘ç«™çš„ä¸€äº›ä¼˜åŒ–çš„æ–¹æ³•" class="headerlink" title="ä»æ­¤å¯ä»¥å¾—å‡ºç½‘ç«™çš„ä¸€äº›ä¼˜åŒ–çš„æ–¹æ³•:"></a>ä»æ­¤å¯ä»¥å¾—å‡ºç½‘ç«™çš„ä¸€äº›ä¼˜åŒ–çš„æ–¹æ³•:</h5><p>â‘ å‡å°‘DNSæŸ¥è¯¢:å°†æœåŠ¡å™¨åŸŸåçš„ipä¿¡æ¯åŠ å…¥æœ¬åœ°hostæ–‡ä»¶ã€‚</p>
<p>â‘¡å‡å°‘httpè¯·æ±‚æ•°é‡ï¼Œå¯¹äºå›¾ç‰‡ä½¿ç”¨é›ªç¢§å›¾,å¯¹äºhtmlæ–‡ä»¶å’Œcssæ–‡ä»¶ï¼Œjsæ–‡ä»¶åˆ†åˆ«è¿›è¡Œåˆå¹¶æ“ä½œã€‚</p>
<p>â‘¢å‡å°‘ä¸‹è½½æ—¶é—´ï¼šå‹ç¼©å›¾ç‰‡ï¼Œä½¿ç”¨å‹ç¼©åº”ç”¨å‹ç¼©æ–‡æ¡£ä¸­çš„ç©ºæ ¼ï¼Œåˆ é™¤æ–‡ä»¶å¤šä½™çš„è¯­å¥å’Œæ³¨é‡Šï¼Œåˆ›é€ è‡ªå·±çš„jsç²¾ç®€åº“å’Œç²¾ç®€æ¡†æ¶,ä½¿ç”¨æœ¬åœ°æµè§ˆå™¨ç¼“å­˜ã€‚</p>
<p>â‘£æå‰æ¸²æŸ“å¼€å§‹æ—¶é—´ï¼šå°†cssé“¾æ¥æ”¾åœ¨htmlå¤´éƒ¨ã€‚</p>
<p>â‘¤å‡è½»è§£æå™¨çš„é˜»å¡ï¼šå°†jsé“¾æ¥æ”¾åœ¨bodyå°¾éƒ¨ã€‚</p>
<p>å‚è€ƒï¼š<a href="https://www.cnblogs.com/yanruizhe/p/11462462.html" target="_blank" rel="noopener">https://www.cnblogs.com/yanruizhe/p/11462462.html</a></p>
<p>é¡µé¢æ¸²æŸ“htmlçš„è¿‡ç¨‹ï¼Ÿ</p>
<blockquote>
<p>ä¸éœ€è¦æ­»è®°ç¡¬èƒŒï¼Œç†è§£æ•´ä¸ªè¿‡ç¨‹å³å¯</p>
</blockquote>
<p>æµè§ˆå™¨æ¸²æŸ“é¡µé¢çš„ä¸€èˆ¬è¿‡ç¨‹ï¼š</p>
<p>1.æµè§ˆå™¨è§£æhtmlæºç ï¼Œç„¶ååˆ›å»ºä¸€ä¸ª DOMæ ‘ã€‚å¹¶è¡Œè¯·æ±‚ css/image/jsåœ¨DOMæ ‘ä¸­ï¼Œæ¯ä¸€ä¸ªHTMLæ ‡ç­¾éƒ½æœ‰ä¸€ä¸ªå¯¹åº”çš„èŠ‚ç‚¹ï¼Œå¹¶ä¸”æ¯ä¸€ä¸ªæ–‡æœ¬ä¹Ÿéƒ½ä¼šæœ‰ä¸€ä¸ªå¯¹åº”çš„æ–‡æœ¬èŠ‚ç‚¹ã€‚DOMæ ‘çš„æ ¹èŠ‚ç‚¹å°±æ˜¯ documentElementï¼Œå¯¹åº”çš„æ˜¯htmlæ ‡ç­¾ã€‚</p>
<p>2.æµè§ˆå™¨è§£æCSSä»£ç ï¼Œè®¡ç®—å‡ºæœ€ç»ˆçš„æ ·å¼æ•°æ®ã€‚æ„å»ºCSSOMæ ‘ã€‚å¯¹CSSä»£ç ä¸­éæ³•çš„è¯­æ³•å®ƒä¼šç›´æ¥å¿½ç•¥æ‰ã€‚è§£æCSSçš„æ—¶å€™ä¼šæŒ‰ç…§å¦‚ä¸‹é¡ºåºæ¥å®šä¹‰ä¼˜å…ˆçº§ï¼šæµè§ˆå™¨é»˜è®¤è®¾ç½® &lt; ç”¨æˆ·è®¾ç½® &lt; å¤–é“¾æ ·å¼ &lt; å†…è”æ ·å¼ &lt; htmlä¸­çš„styleã€‚</p>
<p>3.DOM Tree + CSSOM â€“&gt; æ¸²æŸ“æ ‘ï¼ˆrendering treeï¼‰ã€‚æ¸²æŸ“æ ‘å’ŒDOMæ ‘æœ‰ç‚¹åƒï¼Œä½†æ˜¯æ˜¯æœ‰åŒºåˆ«çš„ã€‚</p>
<p>DOMæ ‘å®Œå…¨å’Œhtmlæ ‡ç­¾ä¸€ä¸€å¯¹åº”ï¼Œä½†æ˜¯æ¸²æŸ“æ ‘ä¼šå¿½ç•¥æ‰ä¸éœ€è¦æ¸²æŸ“çš„å…ƒç´ ï¼Œæ¯”å¦‚headã€display:noneçš„å…ƒç´ ç­‰ã€‚è€Œä¸”ä¸€å¤§æ®µæ–‡æœ¬ä¸­çš„æ¯ä¸€ä¸ªè¡Œåœ¨æ¸²æŸ“æ ‘ä¸­éƒ½æ˜¯ç‹¬ç«‹çš„ä¸€ä¸ªèŠ‚ç‚¹ã€‚æ¸²æŸ“æ ‘ä¸­çš„æ¯ä¸€ä¸ªèŠ‚ç‚¹éƒ½å­˜å‚¨æœ‰å¯¹åº”çš„csså±æ€§ã€‚</p>
<p>4.ä¸€æ—¦æ¸²æŸ“æ ‘åˆ›å»ºå¥½äº†ï¼Œæµè§ˆå™¨å°±å¯ä»¥æ ¹æ®æ¸²æŸ“æ ‘ç›´æ¥æŠŠé¡µé¢ç»˜åˆ¶åˆ°å±å¹•ä¸Šã€‚</p>
<p>ä»¥ä¸Šå››ä¸ªæ­¥éª¤å¹¶ä¸æ˜¯ä¸€æ¬¡æ€§é¡ºåºå®Œæˆçš„ã€‚å¦‚æœDOMæˆ–è€…CSSOMè¢«ä¿®æ”¹ï¼Œä»¥ä¸Šè¿‡ç¨‹ä¼šè¢«é‡å¤æ‰§è¡Œã€‚å®é™…ä¸Šï¼ŒCSSå’ŒJavaScriptå¾€å¾€ä¼šå¤šæ¬¡ä¿®æ”¹DOMæˆ–è€…CSSOMã€‚</p>
<p>è¯´ä¸€ä¸‹CORSï¼Ÿ</p>
<p>CORSæ˜¯ä¸€ç§æ–°æ ‡å‡†ï¼Œæ”¯æŒåŒæºé€šä¿¡ï¼Œä¹Ÿæ”¯æŒè·¨åŸŸé€šä¿¡ã€‚fetchæ˜¯å®ç°CORSé€šä¿¡çš„</p>
<p>å¦‚ä½•ä¸­æ–­ajaxè¯·æ±‚ï¼Ÿ</p>
<p>ä¸€ç§æ˜¯è®¾ç½®è¶…æ—¶æ—¶é—´è®©ajaxè‡ªåŠ¨æ–­å¼€ï¼Œå¦ä¸€ç§æ˜¯æ‰‹åŠ¨åœæ­¢ajaxè¯·æ±‚ï¼Œå…¶æ ¸å¿ƒæ˜¯è°ƒç”¨XMLå¯¹è±¡çš„abortæ–¹æ³•ï¼Œajax.abort()</p>
<p>ç”¨jsé€’å½’çš„æ–¹å¼å†™1åˆ°100æ±‚å’Œï¼Ÿ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function num(n)&#123;</span><br><span class="line">    if(n&#x3D;&#x3D;1) return 1;</span><br><span class="line">    return num(n-1)+n;</span><br><span class="line">&#125;</span><br><span class="line">num(100);    </span><br><span class="line">å»¶ç”³ï¼š</span><br><span class="line">var sum &#x3D; 0;</span><br><span class="line">for(var i &#x3D; 1 ; i &lt;&#x3D; 100; i++)&#123;</span><br><span class="line">    sum +&#x3D; i;</span><br><span class="line">&#125;</span><br><span class="line">document.writeln(&quot;1~100ä»¥å†…çš„å’Œä¸ºï¼š&quot;+ sum);</span><br></pre></td></tr></table></figure>



<p>æ•°ç»„å»é‡</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ç¬¬ä¸€ç§ï¼š</span><br><span class="line">var arr&#x3D;[&#39;12&#39;,&#39;32&#39;,&#39;89&#39;,&#39;12&#39;,&#39;12&#39;,&#39;78&#39;,&#39;12&#39;,&#39;32&#39;];</span><br><span class="line">    &#x2F;&#x2F; æœ€ç®€å•æ•°ç»„å»é‡æ³•</span><br><span class="line">    function unique1(array)&#123;</span><br><span class="line">        var n &#x3D; []; &#x2F;&#x2F;ä¸€ä¸ªæ–°çš„ä¸´æ—¶æ•°ç»„</span><br><span class="line">        for(var i &#x3D; 0; i &lt; array.length; i++)&#123; &#x2F;&#x2F;éå†å½“å‰æ•°ç»„</span><br><span class="line">            if (n.indexOf(array[i]) &#x3D;&#x3D; -1)</span><br><span class="line">                n.push(array[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        return n;</span><br><span class="line">    &#125;</span><br><span class="line">arr&#x3D;unique1(arr);</span><br><span class="line"></span><br><span class="line">ç¬¬äºŒç§</span><br><span class="line">es6æ–¹æ³•æ•°ç»„å»é‡</span><br><span class="line">arr&#x3D;[...new Set(arr)];</span><br><span class="line"></span><br><span class="line">ç¬¬ä¸‰ç§</span><br><span class="line">es6æ–¹æ³•æ•°ç»„å»é‡ï¼Œç¬¬äºŒç§æ–¹æ³•</span><br><span class="line">function dedupe(array) &#123;</span><br><span class="line">  return Array.from(new Set(array));       &#x2F;&#x2F;Array.from()èƒ½æŠŠsetç»“æ„è½¬æ¢ä¸ºæ•°ç»„</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>å˜é‡æå‡</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">console.log(a);  &#x2F;&#x2F;undefined</span><br><span class="line">var a &#x3D; 123;</span><br><span class="line"></span><br><span class="line">ç»å…¸æ¡ˆä¾‹</span><br><span class="line">console.log(v1);</span><br><span class="line">var v1 &#x3D; 100;</span><br><span class="line">function foo() &#123;</span><br><span class="line">    console.log(v1);</span><br><span class="line">    var v1 &#x3D; 200;</span><br><span class="line">    console.log(v1);</span><br><span class="line">&#125;</span><br><span class="line">foo();</span><br><span class="line">console.log(v1);</span><br><span class="line">&#x2F;&#x2F; undefined  undefined 200  100</span><br></pre></td></tr></table></figure>

<p>å‡½æ•°æå‡</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">å‡½æ•°å­—é¢é‡å¼</span><br><span class="line">bar()</span><br><span class="line">var bar &#x3D; function() &#123;</span><br><span class="line">  console.log(1);</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;&#x2F; æŠ¥é”™ï¼šTypeError: bar is not a function</span><br><span class="line"></span><br><span class="line">å‡½æ•°å£°æ˜å¼</span><br><span class="line">bar()</span><br><span class="line">function bar() &#123;</span><br><span class="line">  console.log(1);</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;&#x2F;è¾“å‡ºç»“æœ1</span><br></pre></td></tr></table></figure>



<p>è™šæ‹Ÿdomçš„äº§ç”Ÿ</p>
<p>æ”¹å˜é¡µé¢å±•ç¤ºçš„å†…å®¹åªèƒ½é€šè¿‡éå†æŸ¥è¯¢ dom æ ‘çš„æ–¹å¼æ‰¾åˆ°éœ€è¦ä¿®æ”¹çš„ dom ç„¶åä¿®æ”¹æ ·å¼è¡Œä¸ºæˆ–è€…ç»“æ„ï¼Œæ¥è¾¾åˆ°æ›´æ–° ui çš„ç›®çš„ã€‚è¿™ç§æ–¹å¼ç›¸å½“æ¶ˆè€—è®¡ç®—èµ„æºï¼Œå› ä¸ºæ¯æ¬¡æŸ¥è¯¢ dom å‡ ä¹éƒ½éœ€è¦éå†æ•´é¢— dom æ ‘ã€‚</p>
<p>å¦‚æœå»ºç«‹ä¸€ä¸ªä¸ dom æ ‘å¯¹åº”çš„è™šæ‹Ÿ dom å¯¹è±¡ï¼ˆ js å¯¹è±¡ï¼‰ï¼Œä»¥å¯¹è±¡åµŒå¥—çš„æ–¹å¼æ¥è¡¨ç¤º dom æ ‘ï¼Œé‚£ä¹ˆæ¯æ¬¡ dom çš„æ›´æ”¹å°±å˜æˆäº† js å¯¹è±¡çš„å±æ€§çš„æ›´æ”¹ï¼Œè¿™æ ·ä¸€æ¥å°±èƒ½æŸ¥æ‰¾ js å¯¹è±¡çš„å±æ€§å˜åŒ–è¦æ¯”æŸ¥è¯¢ dom æ ‘çš„æ€§èƒ½å¼€é”€å°</p>
<p>vue </p>
<p>é‡‡ç”¨çš„æ˜¯è™šæ‹Ÿ dom é€šè¿‡é‡å†™ setter ï¼Œ getter å®ç°è§‚å¯Ÿè€…ç›‘å¬ data å±æ€§çš„å˜åŒ–ç”Ÿæˆæ–°çš„è™šæ‹Ÿ dom é€šè¿‡ h å‡½æ•°åˆ›å»ºçœŸå® dom æ›¿æ¢æ‰domæ ‘ä¸Šå¯¹åº”çš„æ—§ domã€‚</p>
<p>react</p>
<p>react ä¹Ÿæ˜¯é€šè¿‡è™šæ‹Ÿ dom å’Œ setState æ›´æ”¹ data ç”Ÿæˆæ–°çš„è™šæ‹Ÿ dom ä»¥åŠ diff ç®—æ³•æ¥è®¡ç®—å’Œç”Ÿæˆéœ€è¦æ›¿æ¢çš„ dom åšåˆ°å±€éƒ¨æ›´æ–°çš„ã€‚</p>
]]></content>
      <categories>
        <category>é¢è¯•</category>
      </categories>
      <tags>
        <tag>é¢è¯•</tag>
      </tags>
  </entry>
  <entry>
    <title>å­—ç¬¦ä¸²æ–¹æ³•</title>
    <url>/2020/07/30/%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%96%B9%E6%B3%95/</url>
    <content><![CDATA[<h3 id="charAt-æ–¹æ³•"><a href="#charAt-æ–¹æ³•" class="headerlink" title="charAt()æ–¹æ³•"></a>charAt()æ–¹æ³•</h3><p>charAt()è¿”å›å­—ç¬¦ä¸²ä¸­xä½ç½®çš„å­—ç¬¦ï¼Œä¸‹æ ‡ä» 0 å¼€å§‹ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;script type&#x3D;&quot;text&#x2F;javascript&quot;&gt;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;charAt(x)è¿”å›å­—ç¬¦ä¸²ä¸­xä½ç½®çš„å­—ç¬¦ï¼Œä¸‹æ ‡ä» 0 å¼€å§‹ã€‚</span><br><span class="line"></span><br><span class="line">    var myString &#x3D; &#39;wangxiaoting&#39;;</span><br><span class="line"></span><br><span class="line">    console.log(myString.charAt(7)); &#x2F;&#x2F; o</span><br><span class="line"></span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<a id="more"></a>

<h3 id="concat-æ–¹æ³•"><a href="#concat-æ–¹æ³•" class="headerlink" title="concat() æ–¹æ³•"></a>concat() æ–¹æ³•</h3><p>concat() æ–¹æ³•ç”¨äºè¿æ¥ä¸¤ä¸ªæˆ–å¤šä¸ªå­—ç¬¦ä¸²ï¼Œæ­¤æ–¹æ³•ä¸æ”¹å˜ç°æœ‰çš„å­—ç¬¦ä¸²ï¼Œè¿”å›æ‹¼æ¥åçš„æ–°çš„å­—ç¬¦ä¸²ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;script type&#x3D;&quot;text&#x2F;javascript&quot;&gt;</span><br><span class="line"></span><br><span class="line">     var name&#x3D;&quot;wnagxiaoting&quot;</span><br><span class="line"></span><br><span class="line">     var singel &#x3D; name.concat(&quot; is a&quot;,&quot;beautiful  girls&quot;)</span><br><span class="line"></span><br><span class="line">     console.log(singel) &#x2F;&#x2F; wnagxiaoting is abeautiful  girls</span><br><span class="line"></span><br><span class="line">    &lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>



<h3 id="slice"><a href="#slice" class="headerlink" title="slice()"></a>slice()</h3><p>slice() æå–å­—ç¬¦ä¸²çš„ä¸€éƒ¨åˆ†ç‰‡æ®µï¼Œå¹¶è¿”å›ä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²</p>
<p>æ¥æ”¶èµ·å§‹ä½ç½®ä½†ä¸æ¥æ”¶æœ«å°¾ä½ç½®ï¼Œä¿—ç§°ç•™å¤´ä¸ç•™å°¾</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;script type&#x3D;&quot;text&#x2F;javascript&quot;&gt;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;slice() æ–¹æ³•å¯æå–å­—ç¬¦ä¸²çš„æŸä¸ªéƒ¨åˆ†ï¼Œè¿”å›ä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ã€‚</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;åŒ…æ‹¬å­—ç¬¦ä¸²ä» start å¼€å§‹ï¼ˆåŒ…æ‹¬ startï¼‰åˆ° end ç»“æŸï¼ˆä¸åŒ…æ‹¬ endï¼‰ä¸ºæ­¢çš„æ‰€æœ‰å­—ç¬¦ã€‚</span><br><span class="line">	&#x2F;&#x2F;startå’Œendéƒ½å¯ä»¥æ˜¯è´Ÿæ•°ï¼Œå¦‚æœæ˜¯è´Ÿæ•°ï¼Œå°±ä»å­—ç¬¦ä¸²çš„å°¾éƒ¨å¼€å§‹ç®—èµ·ï¼Œä¾‹å¦‚-1å°±æ˜¯æœ€åä¸€ä¸ªå­—ç¬¦ï¼Œ-2å°±æ˜¯å€’æ•°ç¬¬äºŒä¸ªå­—ç¬¦ï¼Œä¸€æ¬¡ç±»æ¨</span><br><span class="line">    &#x2F;&#x2F;å¦‚æœæœªæŒ‡å®šendå‚æ•°ï¼Œåˆ™æˆªå–ä» start åˆ°åŸå­—ç¬¦ä¸²ç»“å°¾çš„å­—ç¬¦ä¸²</span><br><span class="line">    </span><br><span class="line">    var myString&#x3D;&quot;wangxiaoting&quot;</span><br><span class="line"></span><br><span class="line">    console.log(myString.slice(0,5) ) &#x2F;&#x2F;æ‰“å°ç»“æœ &quot;wangx&quot;</span><br><span class="line"></span><br><span class="line">    console.log( myString.slice(1,6)) &#x2F;&#x2F;æ‰“å°ç»“æœ &quot;angxi&quot;</span><br><span class="line"></span><br><span class="line">	ä»åå‘å‰è·å–æ•°ç»„å…ƒç´ </span><br><span class="line">	var arr &#x3D; [1, 2, 3, 4]</span><br><span class="line">	console.log(arr.slice(-1)) &#x2F;&#x2F; [4]</span><br><span class="line">	console.log(arr.slice(-2)) &#x2F;&#x2F; [3, 4]</span><br><span class="line">	console.log(arr.slice(-3)) &#x2F;&#x2F; [2, 3, 4]</span><br><span class="line">	console.log(arr.slice(-4)) &#x2F;&#x2F; [1, 2, 3, 4]</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>





<h3 id="substring"><a href="#substring" class="headerlink" title="substring()"></a>substring()</h3><p>è¿”å›ä½äºStringå¯¹è±¡ä¸­æŒ‡å®šä½ç½®çš„å­å­—ç¬¦ä¸²ï¼Œä½œç”¨æ˜¯æå–å­—ç¬¦ä¸²çš„å­ä¸²ï¼Œå’Œsliceä¸€æ ·ä¹Ÿæ˜¯ç•™å¤´ä¸ç•™å°¾</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;script type&#x3D;&quot;text&#x2F;javascript&quot;&gt;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;substring() æ–¹æ³•ç”¨äºæå–å­—ç¬¦ä¸²ä¸­ä»‹äºä¸¤ä¸ªæŒ‡å®šä¸‹æ ‡ä¹‹é—´çš„å­—ç¬¦ï¼Œ</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;æ–¹è¿”å›çš„å­ä¸²åŒ…æ‹¬ start å¤„çš„å­—ç¬¦ï¼Œä½†ä¸åŒ…æ‹¬ stop å¤„çš„å­—ç¬¦ï¼Œto å¯é€‰ï¼Œå¦‚æœçœç•¥è¯¥å‚æ•°ï¼Œé‚£ä¹ˆè¿”å›çš„å­ä¸²ä¼šä¸€ç›´åˆ°å­—ç¬¦ä¸²çš„ç»“å°¾ã€‚</span><br><span class="line"></span><br><span class="line">    var myString &#x3D; &#39;wangxiaoting&#39;;</span><br><span class="line"></span><br><span class="line">    myString &#x3D; myString.substring(0,4);</span><br><span class="line"></span><br><span class="line">    console.log(myString)&#x2F;&#x2F;æ‰“å°ç»“æœ  wang</span><br><span class="line">    </span><br><span class="line">    æˆªå–å­—ç¬¦ä¸²æœ€åå‡ ä½</span><br><span class="line">    var test&#x3D;&#39;123456789&#39;</span><br><span class="line">    console.log(test.substring(test.length-4))</span><br><span class="line">    </span><br><span class="line">    æˆªå–åˆ°å­—ç¬¦å€’æ•°ç¬¬äºŒä¸ª</span><br><span class="line">	infoString &#x3D; infoString.substr(0, infoString.length - 1)</span><br><span class="line"></span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>



<h3 id="substr-æ–¹æ³•"><a href="#substr-æ–¹æ³•" class="headerlink" title="substr æ–¹æ³•"></a>substr æ–¹æ³•</h3><p>è¿”å›ä¸€ä¸ªä»æŒ‡å®šä½ç½®å¼€å§‹åˆ°æŒ‡å®šé•¿åº¦çš„å­—ç¬¦ä¸²</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;script type&#x3D;&quot;text&#x2F;javascript&quot;&gt;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;substring() æ–¹æ³•ç”¨äºæå–å­—ç¬¦ä¸²ä¸­ä»‹äºä¸¤ä¸ªæŒ‡å®šä¸‹æ ‡ä¹‹é—´çš„å­—ç¬¦ï¼Œ</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;æ–¹è¿”å›çš„å­ä¸²åŒ…æ‹¬ start å¤„çš„å­—ç¬¦ï¼Œä½†ä¸åŒ…æ‹¬ stop å¤„çš„å­—ç¬¦ï¼Œto å¯é€‰ï¼Œå¦‚æœçœç•¥è¯¥å‚æ•°ï¼Œé‚£ä¹ˆè¿”å›çš„å­ä¸²ä¼šä¸€ç›´åˆ°å­—ç¬¦ä¸²çš„ç»“å°¾ã€‚</span><br><span class="line"></span><br><span class="line">    var myString &#x3D; &#39;wangxiaoting&#39;;</span><br><span class="line"></span><br><span class="line">    myString &#x3D; myString.substr(0,4);</span><br><span class="line"></span><br><span class="line">    console.log(myString)&#x2F;&#x2F;æ‰“å°ç»“æœ  wang</span><br><span class="line"></span><br><span class="line">    &lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>



<h3 id="indexOf"><a href="#indexOf" class="headerlink" title="indexOf()"></a>indexOf()</h3><p>indexOf() æ–¹æ³•å¯è¿”å›æŸä¸ªæŒ‡å®šçš„å­—ç¬¦ä¸²å€¼åœ¨å­—ç¬¦ä¸²ä¸­é¦–æ¬¡å‡ºç°çš„ä½ç½®ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;script type&#x3D;&quot;text&#x2F;javascript&quot;&gt;</span><br><span class="line"></span><br><span class="line">       &#x2F;&#x2F;ä»0ä½ç½®å¼€å§‹æœç´¢ï¼Œè¿”å›ç¬¬ä¸€ä¸ªåŒ¹é…çš„å­—ç¬¦ä¸²çš„ä½ç½®;æœç´¢ä¸åˆ°è¿”å›-1</span><br><span class="line"></span><br><span class="line">       var str&#x3D;&quot;ab cd efg&quot;;</span><br><span class="line"></span><br><span class="line">       console.log(str.indexOf(&quot;cd&quot;)); &#x2F;&#x2F;3</span><br><span class="line"></span><br><span class="line">       var str1&#x3D;&quot;my name is wangxiaoting &quot;;</span><br><span class="line"></span><br><span class="line">       console.log(str1.indexOf(&quot;is&quot;)); &#x2F;&#x2F;8</span><br><span class="line"></span><br><span class="line">       &#x2F;&#x2F;indexOf(&quot;è¦æœç´¢çš„å­—ç¬¦ä¸²&quot;,å¼€å§‹æœç´¢çš„ä½ç½®);</span><br><span class="line"></span><br><span class="line">       var str2&#x3D;&quot;abcedfghighdckkccccc&quot;;</span><br><span class="line"></span><br><span class="line">       console.log(str2.indexOf(&quot;c&quot;,13)); &#x2F;&#x2F;15</span><br><span class="line">		&#x2F;&#x2F;ä»ä¸‹æ ‡æ˜¯15çš„ä½ç½®å¼€å§‹æœç´¢ï¼Œè¿”å›ç¬¬ä¸€ä¸ªåŒ¹é…çš„å­—ç¬¦ä¸²çš„ä½ç½®;æœç´¢ä¸åˆ°è¿”å›-1</span><br><span class="line"></span><br><span class="line">    &lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>





<h3 id="split-æ–¹æ³•"><a href="#split-æ–¹æ³•" class="headerlink" title="split æ–¹æ³•"></a>split æ–¹æ³•</h3><p>split() æ–¹æ³•ç”¨äºæŠŠä¸€ä¸ªå­—ç¬¦ä¸²åˆ†å‰²æˆå­—ç¬¦ä¸²æ•°ç»„ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;script type&#x3D;&quot;text&#x2F;javascript&quot;&gt;</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F;æŠŠä¸€ä¸ªå­—ç¬¦ä¸²åˆ†å‰²æˆå­—ç¬¦ä¸²æ•°ç»„ã€‚</span><br><span class="line"></span><br><span class="line">  var myString&#x3D;&quot;my name is wangxiaoting&quot;;</span><br><span class="line"></span><br><span class="line">  console.log(myString.split(&quot; &quot;));  &#x2F;&#x2F; [&quot;my&quot;, &quot;name&quot;, &quot;is&quot;, &quot;wangxiaoting&quot;]</span><br><span class="line"></span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>



<p><img src="/2020/07/30/%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%96%B9%E6%B3%95/file" alt="img"></p>
<h3 id="trim"><a href="#trim" class="headerlink" title="trim()"></a>trim()</h3><p>trim() æ–¹æ³•ä¼šä»ä¸€ä¸ªå­—ç¬¦ä¸²çš„ä¸¤ç«¯åˆ é™¤ç©ºç™½å­—ç¬¦ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;script type&#x3D;&quot;text&#x2F;javascript&quot;&gt;</span><br><span class="line"></span><br><span class="line">    var myString &#x3D; &quot;     wang  xiao  ting     &quot;;</span><br><span class="line"></span><br><span class="line">    console.log(myString.trim());</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;æ‰“å°ç»“æœ  wang  xiao  ting</span><br><span class="line"></span><br><span class="line">    &lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>



<h3 id="lastIndexOf-string"><a href="#lastIndexOf-string" class="headerlink" title="lastIndexOf(string)"></a>lastIndexOf(string)</h3><p>è¿”å›Stringå¯¹è±¡å†…æœ€åä¸€æ¬¡å‡ºç°å­å­—ç¬¦ä¸²ä½ç½®ã€‚å¦‚æœæ²¡æœ‰æ‰¾åˆ°å­å­—ç¬¦ä¸²ï¼Œåˆ™è¿”å›-1ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;script type&#x3D;&quot;text&#x2F;javascript&quot;&gt;</span><br><span class="line"></span><br><span class="line">        var myString &#x3D; &quot;wangxiaoting&quot;</span><br><span class="line"></span><br><span class="line">        console.log(myString.lastIndexOf(&quot;a&quot;)) &#x2F;&#x2F;6</span><br><span class="line"></span><br><span class="line">        console.log(myString.lastIndexOf(&quot;g&quot;)) &#x2F;&#x2F;11</span><br><span class="line"></span><br><span class="line">    &lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>



<h3 id="toUpperCaseæ–¹æ³•å’ŒtoLowerCaseæ–¹æ³•"><a href="#toUpperCaseæ–¹æ³•å’ŒtoLowerCaseæ–¹æ³•" class="headerlink" title="toUpperCaseæ–¹æ³•å’ŒtoLowerCaseæ–¹æ³•"></a>toUpperCaseæ–¹æ³•å’ŒtoLowerCaseæ–¹æ³•</h3><p>toUpperCaseæ–¹æ³•è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¯¥å­—ç¬¦ä¸²ä¸­çš„æ‰€æœ‰å­—æ¯éƒ½è¢«è½¬æ¢ä¸ºå¤§å†™å­—æ¯ã€‚</p>
<p>toLowerCase:æ–¹æ³•è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¯¥å­—ç¬¦ä¸²ä¸­çš„å­—æ¯è¢«è½¬æ¢æˆå°å†™ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;script type&#x3D;&quot;text&#x2F;javascript&quot;&gt;</span><br><span class="line"></span><br><span class="line">        var myString &#x3D; &quot;wangxiaoting&quot;</span><br><span class="line"></span><br><span class="line">        console.log(myString.toLowerCase());&#x2F;&#x2F;wangxiaoting</span><br><span class="line"></span><br><span class="line">        console.log(myString.toUpperCase());&#x2F;&#x2F;WANGXIAOTING</span><br><span class="line"></span><br><span class="line">    &lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>



<h3 id="æ¢è¡Œå­—ç¬¦ä¸²-n"><a href="#æ¢è¡Œå­—ç¬¦ä¸²-n" class="headerlink" title="æ¢è¡Œå­—ç¬¦ä¸²\n"></a>æ¢è¡Œå­—ç¬¦ä¸²\n</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#39;\r&#39; å›è½¦ï¼Œå›åˆ°å½“å‰è¡Œçš„è¡Œé¦–ï¼Œè€Œä¸ä¼šæ¢åˆ°ä¸‹ä¸€è¡Œï¼Œå¦‚æœæ¥ç€è¾“å‡ºçš„è¯ï¼Œæœ¬è¡Œä»¥å‰çš„å†…å®¹ä¼šè¢«é€ä¸€è¦†ç›–ï¼›</span><br><span class="line">&#39;\n&#39; æ¢è¡Œï¼Œæ¢åˆ°å½“å‰ä½ç½®çš„ä¸‹ä¸€è¡Œï¼Œè€Œä¸ä¼šå›åˆ°è¡Œé¦–ï¼›</span><br><span class="line"></span><br><span class="line">é¡µé¢æ›¿æ¢æ‰€æœ‰çš„â€˜&#x2F;â€™</span><br><span class="line">.replace(&#x2F;\|&#x2F;g,&#39; | &#39;)</span><br><span class="line">.replace(&#x2F;\n&#x2F;g,&#39;&lt;br&gt;&#39;)</span><br><span class="line"></span><br><span class="line">æ¢è¡Œç¬¦å·è½¬ä¹‰</span><br><span class="line">.split(&#39;\n&#39;)</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>å­—ç¬¦ä¸²</category>
      </categories>
      <tags>
        <tag>js</tag>
        <tag>å­—ç¬¦ä¸²</tag>
      </tags>
  </entry>
  <entry>
    <title>å°ç¨‹åºwxParseè§£æhtml</title>
    <url>/2020/07/24/%E5%B0%8F%E7%A8%8B%E5%BA%8FwxParse%E8%A7%A3%E6%9E%90html/</url>
    <content><![CDATA[<h3 id="wxParseè§£æhtml"><a href="#wxParseè§£æhtml" class="headerlink" title="wxParseè§£æhtml"></a>wxParseè§£æhtml</h3><p>æœ€è¿‘é¡¹ç›®ä¸Šé‡åˆ°åœ¨å¾®ä¿¡å°ç¨‹åºé‡Œéœ€è¦æ˜¾ç¤ºæ–°é—»å†…å®¹ï¼Œæ–°é—»å†…å®¹æ˜¯é€šè¿‡æ¥å£è¯»å–çš„æœåŠ¡å™¨ä¸­çš„å¯Œæ–‡æœ¬å†…å®¹ï¼Œæ˜¯htmlæ ¼å¼çš„ï¼Œå°ç¨‹åºé»˜è®¤æ˜¯ä¸æ”¯æŒhtmlæ ¼å¼çš„å†…å®¹æ˜¾ç¤ºçš„ï¼Œé‚£æˆ‘ä»¬éœ€è¦æ˜¾ç¤ºhtmlå†…å®¹çš„æ—¶å€™ï¼Œå°±å¯ä»¥é€šè¿‡wxParseæ¥å®ç°ã€‚<br>é¦–å…ˆæˆ‘ä»¬åœ¨githubä¸Šä¸‹è½½wxParse<br><a href="https://link.jianshu.com?t=https://github.com/icindy/wxParse" target="_blank" rel="noopener">https://github.com/icindy/wxParse</a></p>
<a id="more"></a>

<p><img src="http://upload-images.jianshu.io/upload_images/1749555-763e71fafa8b7d21.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1006/format/webp" alt="img"></p>
<p>wxParse</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1749555-607f09905e3f1ffb.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/603/format/webp" alt="img"></p>
<p>ä¸‹é¢æ˜¯å…·ä½“çš„ä½¿ç”¨æ­¥éª¤</p>
<blockquote>
<p>1.åœ¨app.wxsså…¨å±€æ ·å¼æ–‡ä»¶ä¸­ï¼Œéœ€è¦å¼•å…¥wxParseçš„æ ·å¼è¡¨</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">@import &quot;&#x2F;page&#x2F;wxParse&#x2F;wxParse.wxss&quot;;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>2.åœ¨éœ€è¦åŠ è½½htmlå†…å®¹çš„é¡µé¢å¯¹åº”çš„jsæ–‡ä»¶é‡Œå¼•å…¥wxParse</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var WxParse &#x3D; require(&#39;..&#x2F;..&#x2F;wxParse&#x2F;wxParse.js&#39;);</span><br></pre></td></tr></table></figure>

<blockquote>
<p>3.é€šè¿‡è°ƒç”¨WxParse.wxParseæ–¹æ³•æ¥è®¾ç½®htmlå†…å®¹</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;**</span><br><span class="line">* WxParse.wxParse(bindName , type, data, target,imagePadding)</span><br><span class="line">* 1.bindNameç»‘å®šçš„æ•°æ®å(å¿…å¡«)</span><br><span class="line">* 2.typeå¯ä»¥ä¸ºhtmlæˆ–è€…md(å¿…å¡«)</span><br><span class="line">* 3.dataä¸ºä¼ å…¥çš„å…·ä½“æ•°æ®(å¿…å¡«)</span><br><span class="line">* 4.targetä¸ºPageå¯¹è±¡,ä¸€èˆ¬ä¸ºthis(å¿…å¡«)</span><br><span class="line">* 5.imagePaddingä¸ºå½“å›¾ç‰‡è‡ªé€‚åº”æ˜¯å·¦å³çš„å•ä¸€padding(é»˜è®¤ä¸º0,å¯é€‰)</span><br><span class="line">*&#x2F;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Page(&#123;</span><br><span class="line">  data: &#123;</span><br><span class="line">  &#125;,</span><br><span class="line">  onLoad: function () &#123;</span><br><span class="line">    var that &#x3D; this;</span><br><span class="line">    wx.request(&#123;</span><br><span class="line">        url: &#39;&#39;, </span><br><span class="line">        method: &#39;POST&#39;,</span><br><span class="line">        data: &#123;</span><br><span class="line">            &#39;id&#39;:13</span><br><span class="line">        &#125;,</span><br><span class="line">        header: &#123;</span><br><span class="line">            &#39;content-type&#39;: &#39;application&#x2F;json&#39;</span><br><span class="line">        &#125;,</span><br><span class="line">        success: function(res) &#123;</span><br><span class="line">            var article &#x3D; res.data[0].post;</span><br><span class="line">            WxParse.wxParse(&#39;article&#39;, &#39;html&#39;, article, that,5);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>4.åœ¨é¡µé¢ä¸­å¼•ç”¨æ¨¡æ¿</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;import src&#x3D;&quot;..&#x2F;..&#x2F;wxParse&#x2F;wxParse.wxml&quot;&#x2F;&gt;</span><br><span class="line">&lt;template is&#x3D;&quot;wxParse&quot; data&#x3D;&quot;&#123;&#123;wxParseData:article.nodes&#125;&#125;&quot;&#x2F;&gt;</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·å°±å¯ä»¥åœ¨å¾®ä¿¡å°ç¨‹åºä¸­åµŒå…¥htmlå†…å®¹äº†</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1749555-fc2cdae17f35c2e4.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/463/format/webp" alt="img"></p>
]]></content>
      <categories>
        <category>soft</category>
      </categories>
      <tags>
        <tag>å°ç¨‹åº</tag>
        <tag>wxParse</tag>
      </tags>
  </entry>
  <entry>
    <title>å°ç¨‹åºä¸Šä¼ åˆ é™¤å›¾ç‰‡å°è£…</title>
    <url>/2020/07/24/%E5%B0%8F%E7%A8%8B%E5%BA%8F%E4%B8%8A%E4%BC%A0%E5%88%A0%E9%99%A4%E5%9B%BE%E7%89%87%E5%B0%81%E8%A3%85/</url>
    <content><![CDATA[<h3 id="wxml"><a href="#wxml" class="headerlink" title="wxml"></a>wxml</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"img-model"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"img-item"</span> <span class="attr">wx:for</span>=<span class="string">"&#123;&#123;uploaderList&#125;&#125;"</span> <span class="attr">wx:key</span>=<span class="string">"item"</span> <span class="attr">data-index</span>=<span class="string">"&#123;&#123;index&#125;&#125;"</span>&gt;</span></span><br><span class="line">  	<span class="tag">&lt;<span class="name">icon</span> <span class="attr">class</span>=<span class="string">'ui_uploader_item_icon'</span> <span class="attr">bindtap</span>=<span class="string">'clearImg'</span> <span class="attr">data-index</span>=<span class="string">"&#123;&#123;index&#125;&#125;"</span> <span class="attr">type</span>=<span class="string">"clear"</span> <span class="attr">size</span>=<span class="string">"20"</span> <span class="attr">color</span>=<span class="string">"red"</span> /&gt;</span></span><br><span class="line">  	<span class="tag">&lt;<span class="name">image</span> <span class="attr">id</span>=<span class="string">"seal"</span> <span class="attr">src</span>=<span class="string">"&#123;&#123;item.path&#125;&#125;"</span>  <span class="attr">bindtap</span>=<span class="string">"showImg"</span> <span class="attr">data-item</span>=<span class="string">"&#123;&#123;item&#125;&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">image</span>&gt;</span></span><br><span class="line">  	<span class="tag">&lt;<span class="name">text</span> <span class="attr">wx:if</span>=<span class="string">"&#123;&#123;item.upload_percent&gt;1&amp;&amp;item.upload_percent&lt;100&#125;&#125;"</span>&gt;</span>&#123;&#123;item.upload_percent&#125;&#125;%<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line">  	<span class="tag">&lt;<span class="name">text</span> <span class="attr">wx:elif</span>=<span class="string">"&#123;&#123;item.upload_percent==100&#125;&#125;"</span>&gt;</span>ä¸Šä¼ æˆåŠŸ<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line">  	<span class="tag">&lt;<span class="name">text</span> <span class="attr">wx:else</span>&gt;</span>ä¸Šä¼ å¤±è´¥<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"img-click"</span> <span class="attr">bindtap</span>=<span class="string">"goChooseImage"</span> <span class="attr">wx:if</span>=<span class="string">"&#123;&#123;showUpload&#125;&#125;"</span>&gt;</span></span><br><span class="line">  	<span class="tag">&lt;<span class="name">image</span> <span class="attr">id</span>=<span class="string">"seal"</span> <span class="attr">src</span>=<span class="string">"./img/seal.png"</span>&gt;</span><span class="tag">&lt;/<span class="name">image</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>

<a id="more"></a>

<h3 id="js"><a href="#js" class="headerlink" title="js"></a>js</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">data: &#123;</span><br><span class="line">    uploaderNum: <span class="number">0</span>,<span class="comment">//å·²ç»ä¸Šä¼ çš„æ•°é‡</span></span><br><span class="line">    uploaderList:[],</span><br><span class="line">    showUpload: <span class="literal">true</span>,</span><br><span class="line">    maxLength: <span class="number">4</span> <span class="comment">//å…è®¸ä¸Šä¼ çš„æœ€å¤§æ•°é‡</span></span><br><span class="line">  &#125;,</span><br><span class="line"><span class="comment">//é€‰æ‹©å›¾ç‰‡ </span></span><br><span class="line">  goChooseImage(e) &#123;</span><br><span class="line">    <span class="keyword">let</span> that = <span class="keyword">this</span>;</span><br><span class="line">    <span class="keyword">let</span> uploaderList = that.data.uploaderList;</span><br><span class="line">    <span class="keyword">let</span> maxSize = <span class="number">102</span> * <span class="number">1024</span>;</span><br><span class="line">    wx.chooseImage(&#123;</span><br><span class="line">      <span class="comment">//æ¯æ¬¡æœ€å¤šé€‰æ‹©çš„ä¸ªæ•°ï¼Œå¤šä½™è‡ªåŠ¨å»é™¤</span></span><br><span class="line">      count: that.data.maxLength - that.data.uploaderList.length,</span><br><span class="line">      sizeType: [<span class="string">'original'</span>, <span class="string">'compressed'</span>],</span><br><span class="line">      sourceType: [<span class="string">'album'</span>, <span class="string">'camera'</span>],</span><br><span class="line">      success(res) &#123;</span><br><span class="line">        wx.showToast(&#123;</span><br><span class="line">          title: <span class="string">'æ­£åœ¨ä¸Šä¼ ...'</span>,</span><br><span class="line">          icon: <span class="string">'loading'</span>,</span><br><span class="line">          mask: <span class="literal">true</span>,</span><br><span class="line">          duration: <span class="number">500</span></span><br><span class="line">        &#125;)</span><br><span class="line">        <span class="comment">//ä¸Šä¼ ä¸ªæ•°é™åˆ¶</span></span><br><span class="line">        <span class="keyword">if</span> ((res.tempFiles.length + that.data.uploaderList.length) &gt; that.data.maxLength) &#123;</span><br><span class="line">          wx.showModal(&#123;</span><br><span class="line">            content: <span class="string">'æœ€å¤šèƒ½ä¸Šä¼ '</span> + that.data.maxLength + <span class="string">'å¼ å›¾ç‰‡'</span>,</span><br><span class="line">            showCancel: <span class="literal">false</span></span><br><span class="line">          &#125;)</span><br><span class="line">          <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//åˆ¤æ–­å›¾ç‰‡å¤§å°</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; res.tempFiles.length; i++) &#123;</span><br><span class="line">          <span class="keyword">if</span> (res.tempFiles[i].size &gt; maxSize) &#123;</span><br><span class="line">            wx.showModal(&#123;</span><br><span class="line">              content: <span class="string">'å›¾ç‰‡å¤ªå¤§ï¼Œä¸å…è®¸ä¸Šä¼ '</span>,</span><br><span class="line">              showCancel: <span class="literal">false</span>,</span><br><span class="line">            &#125;);</span><br><span class="line">          &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            uploaderList = that.data.uploaderList.concat(res.tempFiles[i])</span><br><span class="line">            that.setData(&#123;</span><br><span class="line">              uploaderList,</span><br><span class="line">              uploaderNum: that.data.uploaderList.length</span><br><span class="line">            &#125;)</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//éšè—ç‚¹å‡»ä¸Šä¼ å›¾ç‰‡</span></span><br><span class="line">        <span class="keyword">if</span> (uploaderList.length == that.data.maxLength) &#123;</span><br><span class="line">          that.setData(&#123;</span><br><span class="line">            showUpload: <span class="literal">false</span></span><br><span class="line">          &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//ä¸Šä¼ å›¾ç‰‡</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; uploaderList.length; i++) &#123;</span><br><span class="line">          <span class="comment">//that.upLoadImg(uploaderList[i],i)</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// å›¾ç‰‡ä¸Šä¼ </span></span><br><span class="line">  upLoadImg(upImg,idx) &#123;</span><br><span class="line">    <span class="keyword">let</span> that = <span class="keyword">this</span>;</span><br><span class="line">    <span class="keyword">let</span> uploadTask = wx.uploadFile(&#123;</span><br><span class="line">      url: config.itravel_api + <span class="string">'TravelCard/tcUploadPicture.mini'</span>,</span><br><span class="line">      filePath: upImg.path,</span><br><span class="line">      header: &#123;</span><br><span class="line">        <span class="string">'content-type'</span>: <span class="string">'multipart/form-data'</span></span><br><span class="line">      &#125;, <span class="comment">// è®¾ç½®è¯·æ±‚çš„ header</span></span><br><span class="line">      name: <span class="string">'idCard'</span>,</span><br><span class="line">      success(res) &#123;</span><br><span class="line">        <span class="keyword">if</span> (idx === that.data.uploaderList.length<span class="number">-1</span>)&#123;</span><br><span class="line">          wx.showToast(&#123;</span><br><span class="line">            title: <span class="string">"ä¸Šä¼ æˆåŠŸ"</span>,</span><br><span class="line">            icon: <span class="string">'none'</span>,</span><br><span class="line">            mask: <span class="literal">true</span>,</span><br><span class="line">          &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      fail(res) &#123;</span><br><span class="line">        wx.showToast(&#123;</span><br><span class="line">          title: <span class="string">"ä¸Šä¼ å¤±è´¥"</span>,</span><br><span class="line">          icon: <span class="string">'none'</span>,</span><br><span class="line">          mask: <span class="literal">true</span>,</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">      <span class="comment">//è¿›åº¦æ¡å±æ€§ç½®ä¸º0æ˜¾ç¤ºä¸Šä¼ å¤±è´¥</span></span><br><span class="line">        upImg[<span class="string">'upload_percent'</span>] = <span class="number">0</span></span><br><span class="line">        that.setData(&#123;</span><br><span class="line">          uploaderList: that.data.uploaderList</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="comment">// ä¸Šä¼ è¿›åº¦æ¡</span></span><br><span class="line">    uploadTask &amp;&amp; uploadTask.onProgressUpdate(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">//å¢åŠ è¿›åº¦æ¡å±æ€§</span></span><br><span class="line">      upImg[<span class="string">'upload_percent'</span>] = res.progress</span><br><span class="line">      that.setData(&#123;</span><br><span class="line">        uploaderList: that.data.uploaderList</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">//å±•ç¤ºå›¾ç‰‡</span></span><br><span class="line">  showImg: <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> path = e.currentTarget.dataset.item.path</span><br><span class="line">    <span class="keyword">let</span> images = <span class="keyword">this</span>.data.uploaderList</span><br><span class="line">    <span class="keyword">let</span> allImages = [];</span><br><span class="line">    images.map(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">      allImages.push(item.path)</span><br><span class="line">    &#125;)</span><br><span class="line">    wx.previewImage(&#123;</span><br><span class="line">      urls: allImages,</span><br><span class="line">      current: path</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// åˆ é™¤å›¾ç‰‡</span></span><br><span class="line">  clearImg: <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> that = <span class="keyword">this</span></span><br><span class="line">    wx.showModal(&#123;</span><br><span class="line">      title: <span class="string">'æç¤º'</span>,</span><br><span class="line">      content: <span class="string">'ç¡®å®šåˆ é™¤å›¾ç‰‡å—ï¼Ÿ'</span>,</span><br><span class="line">      success(res) &#123;</span><br><span class="line">        <span class="keyword">if</span> (res.confirm) &#123;</span><br><span class="line">          <span class="comment">//åˆ é™¤start</span></span><br><span class="line">          <span class="keyword">let</span> uploaderList = that.data.uploaderList;<span class="comment">//åŸæ•°æ®</span></span><br><span class="line">          <span class="keyword">let</span> index = e.currentTarget.dataset.index;</span><br><span class="line">          uploaderList.splice(index, <span class="number">1</span>);</span><br><span class="line">          that.setData(&#123;</span><br><span class="line">            uploaderNum: that.data.uploaderNum - <span class="number">1</span>,</span><br><span class="line">            showUpload: <span class="literal">true</span>,</span><br><span class="line">            uploaderList: uploaderList,</span><br><span class="line">          &#125;)</span><br><span class="line">          <span class="comment">//åˆ é™¤end</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>soft</category>
      </categories>
      <tags>
        <tag>å°ç¨‹åº</tag>
      </tags>
  </entry>
  <entry>
    <title>å°ç¨‹åºä¹‹wx-requestå°è£…</title>
    <url>/2020/09/10/%E5%B0%8F%E7%A8%8B%E5%BA%8F%E4%B9%8Bwx-request%E5%B0%81%E8%A3%85/</url>
    <content><![CDATA[<h2 id="å¾®ä¿¡è¯·æ±‚-Promise-åŒ–"><a href="#å¾®ä¿¡è¯·æ±‚-Promise-åŒ–" class="headerlink" title="å¾®ä¿¡è¯·æ±‚ Promise åŒ–"></a>å¾®ä¿¡è¯·æ±‚ Promise åŒ–</h2><h3 id="2-1-ä½¿ç”¨ç°æˆçš„åº“"><a href="#2-1-ä½¿ç”¨ç°æˆçš„åº“" class="headerlink" title="2.1 ä½¿ç”¨ç°æˆçš„åº“"></a>2.1 ä½¿ç”¨ç°æˆçš„åº“</h3><a id="more"></a>

<p>å®‰è£… Promise åº“ wx-promise-proï¼Œè®°å¾—ä¸€å®šè¦å¸¦ <code>-s</code> æˆ– <code>--production</code>ï¼Œè¦ä¸ç„¶æ— æ³•æ„å»ºæˆåŠŸã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm i -S wx-promise-pro</span><br></pre></td></tr></table></figure>

<p>ç„¶ååœ¨ <code>app.js</code> ä¸­ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import &#123; promisifyAll &#125; from &#39;wx-promise-pro&#39;</span><br><span class="line"></span><br><span class="line">promisifyAll()  &#x2F;&#x2F; promisify all wx api</span><br><span class="line"></span><br><span class="line">App(&#123; ... &#125;)</span><br></pre></td></tr></table></figure>

<p>ä¹‹åå°±å¯ä»¥æ­£å¸¸ä½¿ç”¨äº†ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">wx.pro.showLoading(&#123;</span><br><span class="line">    title: &#39;åŠ è½½ä¸­&#39;,</span><br><span class="line">    mask: true</span><br><span class="line">&#125;)</span><br><span class="line">  .then(() &#x3D;&gt; console.log(&#39;in promise ~&#39;))</span><br></pre></td></tr></table></figure>

<h3 id="2-2-è‡ªå·±å®ç°"><a href="#2-2-è‡ªå·±å®ç°" class="headerlink" title="2.2 è‡ªå·±å®ç°"></a>2.2 è‡ªå·±å®ç°</h3><p>å…¶å®æˆ‘ä»¬å¯ä»¥è‡ªå·±æ¥å®ç°ä¸€ä¸ªè¿™æ ·çš„åº“ï¼ŒåŸç†å¾ˆç®€å•ï¼Œä»¥åŸç”Ÿ API çš„ wx.request ä¸ºä¾‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; åŸç”Ÿ API ä½¿ç”¨æ–¹å¼</span><br><span class="line">wx.request(&#123;</span><br><span class="line">    url: &#39;&#39;,     &#x2F;&#x2F; è¯·æ±‚çš„ url</span><br><span class="line">    data: &#123;&#125;,    &#x2F;&#x2F; å‚æ•°</span><br><span class="line">    method: &#39;&#39;,  &#x2F;&#x2F; postã€get</span><br><span class="line">    success: res &#x3D;&gt; &#123;</span><br><span class="line">        &#x2F;&#x2F; è¯·æ±‚æˆåŠŸå›è°ƒå‡½æ•°ï¼Œresä¸ºå›è°ƒå‚æ•°</span><br><span class="line">    &#125;,</span><br><span class="line">    fail: res &#x3D;&gt; &#123;</span><br><span class="line">        &#x2F;&#x2F; è¯·æ±‚å¤±è´¥å›è°ƒå‡½æ•°ï¼Œresä¸ºå›è°ƒå‚æ•°</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>å¦‚æœæˆ‘ä»¬å°†å…¶ Promise åŒ–ï¼Œåº”è¯¥çš„è°ƒç”¨æ–¹å¼å¸Œæœ›æ˜¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; Promise åŒ–åçš„æœŸæœ›ä½¿ç”¨æ–¹å¼</span><br><span class="line">wx.pro.request(&#123;</span><br><span class="line">    url: &#39;&#39;,     &#x2F;&#x2F; è¯·æ±‚çš„ url</span><br><span class="line">    data: &#123;&#125;,    &#x2F;&#x2F; å‚æ•°</span><br><span class="line">    method: &#39;&#39;   &#x2F;&#x2F; postã€get</span><br><span class="line">&#125;)</span><br><span class="line">  .then(res &#x3D;&gt; &#123;</span><br><span class="line">      &#x2F;&#x2F; è¯·æ±‚æˆåŠŸå›è°ƒå‡½æ•°ï¼Œresä¸ºå›è°ƒå‚æ•°</span><br><span class="line">  &#125;)</span><br><span class="line">  .catch(res &#x3D;&gt; &#123;</span><br><span class="line">      &#x2F;&#x2F; è¯·æ±‚å¤±è´¥å›è°ƒå‡½æ•°ï¼Œresä¸ºå›è°ƒå‚æ•°</span><br><span class="line">  &#125;)</span><br></pre></td></tr></table></figure>

<p>å¹¶ä¸” <code>then</code> å‡½æ•°è¿”å›çš„æ˜¯ä¸€ä¸ª Promise å¯¹è±¡ï¼Œè®©è¿™ä¸ªå‡½æ•°å¯ä»¥ä¸æ–­é“¾å¼è°ƒç”¨ä¸‹å»ï¼Œæ‰€ä»¥é¦–å…ˆéœ€è¦ <code>new</code> å‡ºæ¥ä¸€ä¸ª Promise å¯¹è±¡ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function request(opt) &#123;</span><br><span class="line">    return new Promise((resolve, reject) &#x3D;&gt; &#123;</span><br><span class="line">        wx.request(&#123;</span><br><span class="line">            ...opt,</span><br><span class="line">            success: res &#x3D;&gt; &#123; resolve(res)&#125;,</span><br><span class="line">            fail: res &#x3D;&gt; &#123;reject(res)&#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œä»£ç æˆ‘ä»¬å¯ä»¥è¿›ä¸€æ­¥æ”¹è¿›ï¼Œç”±äº <code>success</code>ã€<code>fail</code> è¿™é‡Œä¼ å…¥çš„å‚æ•°åªæ˜¯ç”±<code>resolve</code>ã€<code>reject</code> æ–¹æ³•æ‰§è¡Œäº†ä¸‹ï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥ä¼ å…¥ <code>resolve</code>ã€<code>reject</code> æ–¹æ³•å³å¯ã€‚</p>
<p>å¦å¤–ï¼Œç”±äºå…¶ä»–å°ç¨‹åºåŸç”Ÿ API æ ¼å¼ä¸€è‡´ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä½¿ç”¨æŸ¯é‡ŒåŒ–æ–¹æ³•ï¼Œæ¥å°†å…¶ä»–éœ€è¦è¿›è¡Œ Promise åŒ–çš„ API è¿›è¡Œå¤„ç†ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function promisify(api) &#123;</span><br><span class="line">    return (opt &#x3D; &#123;&#125;) &#x3D;&gt; &#123;</span><br><span class="line">        return new Promise((resolve, reject) &#x3D;&gt; &#123;</span><br><span class="line">            api(&#123;</span><br><span class="line">                ...opt,</span><br><span class="line">                fail: reject,</span><br><span class="line">                success: resolve</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç„¶åï¼Œå°†æŸ¯é‡ŒåŒ–æ–¹æ³•æ‰§è¡Œçš„ç»“æœä½œä¸ºæ–°çš„ Promise åŒ–çš„ API æŒ‚è½½åˆ° <code>wx.pro</code> å¯¹è±¡ä¸Šï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; å°†æŒ‡å®š API è¿›è¡Œ Promise åŒ–</span><br><span class="line">wx.pro.request &#x3D; promisify(wx.request)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; ä½¿ç”¨</span><br><span class="line">wx.pro.request(&#123;...&#125;)</span><br><span class="line">    .then(...)</span><br></pre></td></tr></table></figure>

<p>ç„¶åä¸ºäº†æ–¹ä¾¿æˆ‘ä»¬ä½¿ç”¨å…¶ä»–æ–¹æ³•ï¼Œå¯ä»¥å¾ªç¯å°† <code>wx</code> å¯¹è±¡ä¸Šå¯ä»¥è¢« Promise åŒ–çš„æ–¹æ³•æ¯”å¦‚ <code>request</code>ã€<code>scanCode</code>ã€<code>showToast</code>ã€<code>getUserInfo</code> ç­‰ä¸€ä¸€æŒ‚è½½åˆ° <code>wx.pro</code> å¯¹è±¡ä¸Šï¼Œä½¿ç”¨æ—¶å¯ä»¥ç›´æ¥<code>wx.pro.xx</code>ï¼Œç”±äºè¿™ä¸ªæ–¹æ³•æ‰§è¡Œè¿”å›çš„æ˜¯ä¸€ä¸ª Promise å¯¹è±¡ï¼Œå› æ­¤å¯ä»¥åƒå…¶å®ƒ Promise åŒ–çš„å¯¹è±¡é‚£æ ·ä½¿ç”¨ã€‚</p>
<p>äº‹å®ä¸Šï¼Œä¸çŸ¥ä¸è§‰ï¼Œæˆ‘ä»¬å°±è‡ªå·±å®ç°äº† <code>wx-promise-pro</code> çš„æºç ï¼Œè¿™ä¸ªåº“çš„æ ¸å¿ƒä»£ç ä¹Ÿå°±æ˜¯ä¸Šé¢é‚£è¿™å‡ è¡Œ ğŸ¥³</p>
<h3 id="2-3-åœ¨é¡¹ç›®ä¸­ä½¿ç”¨"><a href="#2-3-åœ¨é¡¹ç›®ä¸­ä½¿ç”¨" class="headerlink" title="2.3 åœ¨é¡¹ç›®ä¸­ä½¿ç”¨"></a>2.3 åœ¨é¡¹ç›®ä¸­ä½¿ç”¨</h3><p>æœ‰äº†ä¸Šé¢çš„å·¥å…·åï¼Œæˆ‘ä»¬å¯ä»¥å°†å…¶ä½¿ç”¨åœ¨é¡¹ç›®ä¸­ï¼Œä¸ºäº†ä¸åœ¨é¡¹ç›®ä¸­éå¸ƒ <code>wx.request</code> æˆ– <code>wx.pro.request</code> è¿™é‡Œå¯ä»¥ç®€å•è¿›è¡Œå°è£…ï¼Œæ–°å»ºä¸¤ä¸ªæ–‡ä»¶å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; utils&#x2F;api&#x2F;fetch.js å°è£…è¯·æ±‚æ–¹æ³•ã€è¯·æ±‚æ‹¦æˆªå™¨</span><br><span class="line"></span><br><span class="line">const app &#x3D; getApp()</span><br><span class="line"></span><br><span class="line">const BaseUrl &#x3D; &#39;http:&#x2F;&#x2F;172.0.0.1:7300&#x2F;mock&#39;</span><br><span class="line"></span><br><span class="line">const TokenWhiteList &#x3D; [</span><br><span class="line">    &#39;&#x2F;app&#x2F;user&#x2F;get-by-code&#39;     &#x2F;&#x2F; ä¸éœ€è¦é‰´æƒçš„apiæ‰‹åŠ¨æ·»åŠ åˆ°è¿™é‡Œ</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line">&#x2F;**</span><br><span class="line"> * è®¾ç½®è¯·æ±‚æ‹¦æˆªå™¨</span><br><span class="line"> * @param params è¯·æ±‚å‚æ•°</span><br><span class="line"> *&#x2F;</span><br><span class="line">const fetch &#x3D; (params &#x3D; &#123;&#125;) &#x3D;&gt; &#123;</span><br><span class="line">    &#x2F;&#x2F; æ‹¦æˆªå™¨é€»è¾‘</span><br><span class="line">    if (!TokenWhiteList.includes(params.url)) &#123;</span><br><span class="line">        params.header &#x3D; &#123;</span><br><span class="line">            &#39;content-type&#39;: &#39;application&#x2F;json&#39;,             &#x2F;&#x2F; é»˜è®¤å€¼</span><br><span class="line">            &#39;token&#39;: app.globalData.token || &#39;&#39;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    if (params.url.startsWith(&#39;&#x2F;&#39;)) &#123;    &#x2F;&#x2F; æ‹¼æ¥å®Œæ•´URL</span><br><span class="line">        params.url &#x3D; BaseUrl + params.url</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; è¿”å›promise</span><br><span class="line">    return wx.pro.request(&#123; ...params &#125;)</span><br><span class="line">      .then((&#123; data: &#123; code, message, data &#125; &#125;) &#x3D;&gt; &#123;</span><br><span class="line">          &#x2F;&#x2F; ... å„ç§å¼‚å¸¸æƒ…å†µçš„é€»è¾‘å¤„ç†</span><br><span class="line">          &#x2F;&#x2F; ä¸åç«¯çº¦å®š code 20000 æ—¶æ­£å¸¸è¿”å›</span><br><span class="line">          if (code &#x3D;&#x3D;&#x3D; 20000) return Promise.resolve(data)</span><br><span class="line">          return Promise.reject(message)</span><br><span class="line">      &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export &#123; fetch &#125;</span><br></pre></td></tr></table></figure>

<p>ç„¶åå†å°†æ‰€æœ‰ API å°è£…åˆ°å•ç‹¬çš„æ–‡ä»¶ä¸­é›†ä¸­ç®¡ç†ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; utils&#x2F;api&#x2F;apis.js å°è£…æ‰€æœ‰è¯·æ±‚ API</span><br><span class="line"></span><br><span class="line">import &#123; fetch &#125; from &#39;.&#x2F;fetch&#39;</span><br><span class="line"></span><br><span class="line">&#x2F;* æ ¹æ®å¾®ä¿¡codeè·å–ç”¨æˆ·ä¿¡æ¯ *&#x2F;</span><br><span class="line">const appUserGetByCode &#x3D; (&#123; code &#125; &#x3D; &#123;&#125;) &#x3D;&gt; fetch(&#123;</span><br><span class="line">    url: &#39;&#x2F;app&#x2F;user&#x2F;get-by-code&#39;,</span><br><span class="line">    data: &#123; code &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">&#x2F;* æ‰«ç ç™»å½• *&#x2F;</span><br><span class="line">const appUserQrLogin &#x3D; (&#123; qrCode &#125; &#x3D; &#123;&#125;) &#x3D;&gt; fetch(&#123;</span><br><span class="line">    method: &#39;POST&#39;,</span><br><span class="line">    url: &#39;&#x2F;app&#x2F;user&#x2F;qr-login&#39;,</span><br><span class="line">    data: &#123; qrCode &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">&#x2F;* ä¸ªäººä¿¡æ¯ *&#x2F;</span><br><span class="line">const appUserInfo &#x3D; () &#x3D;&gt; fetch(&#123;</span><br><span class="line">    url: &#39;&#x2F;app&#x2F;user&#x2F;info&#39;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">&#x2F;* ç³»ç»Ÿå‚æ•°è·å–ï¼Œæ•°æ®å­—å…¸ *&#x2F;</span><br><span class="line">const appSysParamListByParam &#x3D; () &#x3D;&gt; fetch(&#123;</span><br><span class="line">    url: &#39;&#x2F;app&#x2F;sys-param&#x2F;list-by-param&#39;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">&#x2F;* æ•°æ®å­—å…¸æ‰€æœ‰ *&#x2F;</span><br><span class="line">const appSysParamListAll &#x3D; () &#x3D;&gt; fetch(&#123;</span><br><span class="line">    url: &#39;&#x2F;app&#x2F;sys-param&#x2F;list-all&#39;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">export &#123;</span><br><span class="line">    appSysParamListAll,   &#x2F;&#x2F; æ•°æ®å­—å…¸æ‰€æœ‰</span><br><span class="line">    appSysParamListByParam,   &#x2F;&#x2F; ç³»ç»Ÿå‚æ•°è·å–ï¼Œæ•°æ®å­—å…¸</span><br><span class="line">    appUserGetByCode,   &#x2F;&#x2F; æ ¹æ®å¾®ä¿¡codeè·å–ç”¨æˆ·ä¿¡æ¯</span><br><span class="line">    appUserQrLogin,   &#x2F;&#x2F; æ‰«ç ç™»å½•</span><br><span class="line">    appUserInfo   &#x2F;&#x2F; ä¸ªäººä¿¡æ¯</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨è¦ä½¿ç”¨ API çš„åœ°æ–¹å°±å¯ä»¥è¿™æ ·å¼•å…¥ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import * as Api from &#39;..&#x2F;..&#x2F;utils&#x2F;api&#x2F;apis.js&#39;   &#x2F;&#x2F; ç›¸å¯¹è·¯å¾„</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; ä½¿ç”¨æ–¹å¼</span><br><span class="line">Api.appSysParamListAll()</span><br><span class="line">  .then((&#123; dataList &#125;) &#x3D;&gt; this.upData(&#123; sysParamList: dataList &#125;))</span><br><span class="line">  .then(() &#x3D;&gt; &#123;</span><br><span class="line">      const keyList &#x3D; this.data.sysParamList.map(T &#x3D;&gt; T.key)</span><br><span class="line">      this.upData(&#123;</span><br><span class="line">          keyList,</span><br><span class="line">          formData: &#123; keys: keyList &#125;</span><br><span class="line">      &#125;)</span><br><span class="line">  &#125;)</span><br></pre></td></tr></table></figure>

<p>å‚è€ƒé“¾æ¥ï¼š<a href="https://mp.weixin.qq.com/s/PqSlKWOaWXLdEJ7SvrIy0Q" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/PqSlKWOaWXLdEJ7SvrIy0Q</a></p>
]]></content>
  </entry>
  <entry>
    <title>å°ç¨‹åºä¹‹wx-upData</title>
    <url>/2020/09/10/%E5%B0%8F%E7%A8%8B%E5%BA%8F%E4%B9%8Bwx-upData/</url>
    <content><![CDATA[<p>é‰´äºåœ¨ä¸‹ä½¿ç”¨å¾®ä¿¡å°ç¨‹åºå¼€å‘æ—¶ä½¿ç”¨ <code>setData</code> çš„è¹©è„šä½“éªŒï¼Œå¼€å‘äº†ä¸ªåº“å‡½æ•° <code>wx-updata</code>ï¼Œé¡¹ç›®ä¸Šçº¿ä¹‹åï¼Œæˆ‘æŠŠè¿™ä¸ªè‡ªç”¨çš„åº“å‡½æ•°æ•´ç†æ”¾åˆ° Github ä¸Šå¼€æºå‡ºæ¥ wx-updataï¼Œè¿™ä¸ªåº“å‡½æ•°åœ¨å¼€å‘çš„æ—¶å€™å¯¹æˆ‘å¾ˆæœ‰å¸®åŠ©ï¼Œå¸Œæœ›ä¹Ÿå¯ä»¥å¸®åˆ°å¤§å®¶ ????</p>
<p>å¦‚æœå¤§å®¶åœ¨ä½¿ç”¨ä¸­é‡åˆ°äº†é—®é¢˜ï¼Œå¯ä»¥ç»™æˆ‘æ prï¼Œæ issueï¼Œä¸€èµ·æ¥æ”¹å–„å°ç¨‹åºå¼€å‘ä½“éªŒåŠ æ²¹ï½</p>
<ol>
<li><code>wx-updata</code> ç‰ˆæœ¬ 0.0.10</li>
<li>Github åœ°å€ï¼š<a href="https://github.com/SHERlocked93/wx-updata" target="_blank" rel="noopener">https://github.com/SHERlocked93/wx-updata</a></li>
<li>å°ç¨‹åºä»£ç ç‰‡æ®µé¢„è§ˆåœ°å€ï¼š<a href="https://developers.weixin.qq.com/s/CcXdO1mc73jD" target="_blank" rel="noopener">https://developers.weixin.qq.com/s/CcXdO1mc73jD</a></li>
<li>å°ç¨‹åºä»£ç ç‰‡æ®µä»£ç åœ°å€ï¼š<a href="https://github.com/SHERlocked93/wx-updata-demo" target="_blank" rel="noopener">https://github.com/SHERlocked93/wx-updata-demo</a></li>
</ol>
<h2 id="1-setData-ä¸æ–¹ä¾¿çš„åœ°æ–¹"><a href="#1-setData-ä¸æ–¹ä¾¿çš„åœ°æ–¹" class="headerlink" title="1. setData ä¸æ–¹ä¾¿çš„åœ°æ–¹"></a><strong>1. setData ä¸æ–¹ä¾¿çš„åœ°æ–¹</strong></h2><p>ä½ åœ¨ä½¿ç”¨ <code>setData</code> çš„æ—¶å€™ï¼Œæ˜¯ä¸æ˜¯æœ‰æ—¶å€™è§‰å¾—å¾ˆéš¾å—ï¼Œä¸¾ä¸ªç®€å•çš„ä¾‹å­ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ä½ çš„ data</span></span><br><span class="line">data: &#123;</span><br><span class="line">    name: <span class="string">'èœ¡ç¬”å°æ–°'</span>,</span><br><span class="line">    info: &#123; height: <span class="number">140</span>, color: <span class="string">'é»„è‰²'</span> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<a id="more"></a>

<p>å¦‚æœè¦ä¿®æ”¹ <code>info.height</code> ä¸º 155ï¼Œä½¿ç”¨ <code>setData</code> è¦æ€ä¹ˆåšå‘¢ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="comment">// è¿™æ ·ä¼šæŠŠ info é‡Œå…¶ä»–å±æ€§æ•´ä¸è§äº†</span></span><br><span class="line">this.setData(&#123; info: &#123; height: <span class="number">155</span> &#125; &#125;)</span><br><span class="line"><span class="comment">// ä½ éœ€è¦å–å‡º info å¯¹è±¡ï¼Œä¿®æ”¹åæ•´ä¸ª setData</span></span><br><span class="line"><span class="keyword">const</span> &#123; info &#125; = this.data</span><br><span class="line">info.height = <span class="number">155</span></span><br><span class="line">this.setData(&#123; info &#125;)</span><br></pre></td></tr></table></figure>

<p>ä¼¼ä¹å¹¶ä¸å¤ªå¤æ‚ï¼Œä½†å¦‚æœ <code>data</code> æ˜¯ä¸ªå¾ˆå¤§çš„å¯¹è±¡ï¼Œè¦æŠŠæ¯”è¾ƒæ·±ä¸”ä¸åŒçš„å¯¹è±¡ã€æ•°ç»„é¡¹æŒ¨ä¸ªæ”¹å˜ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">data: &#123;</span><br><span class="line">    name: <span class="string">'èœ¡ç¬”å°æ–°'</span>,</span><br><span class="line">    info: &#123;</span><br><span class="line">        height: <span class="number">140</span>, color: <span class="string">'é»„è‰²'</span>,</span><br><span class="line">        desc: [&#123; age: <span class="number">8</span> &#125;, <span class="string">'æœ€å–œæ¬¢å¤§è±¡ä¹‹æ­Œ'</span>, <span class="string">'é“ä»”'</span>, &#123; dog: <span class="string">'å°ç™½'</span>, color: <span class="string">'ç™½è‰²'</span> &#125;]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ¯”å¦‚æŸä¸ªéœ€æ±‚ï¼Œéœ€è¦æŠŠ <code>info.height</code> æ”¹ä¸º 155ï¼ŒåŒæ—¶æ”¹å˜ <code>info.desc</code> æ•°ç»„çš„ç¬¬ 0 é¡¹çš„ <code>age</code> ä¸º 12ï¼Œç¬¬ 3 é¡¹çš„ <code>color</code> ä¸ºç°è‰²å‘¢ï¼Ÿ</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å…ˆå–å‡ºè¦æ”¹å˜çš„å¯¹è±¡ï¼Œæ”¹å˜æ•°å­—å setData å›å»</span></span><br><span class="line"><span class="keyword">const</span> &#123; info &#125; = this.data</span><br><span class="line">info.height = <span class="number">155</span></span><br><span class="line">info.desc[<span class="number">0</span>].age = <span class="number">12</span></span><br><span class="line">info.desc[<span class="number">3</span>].color = <span class="string">'ç°è‰²'</span></span><br><span class="line">this.setData(&#123; info &#125;)</span><br><span class="line"><span class="comment">// æˆ–è€…åƒæŸäº›æ–‡ç« é‡Œä»‹ç»çš„ï¼Œè¿™æ ·å¯è¯»æ€§å·®ï¼Œä¹Ÿä¸å¤ªå®ç”¨</span></span><br><span class="line">this.setData(&#123;</span><br><span class="line">    <span class="string">'info.height'</span>: <span class="number">155</span>,</span><br><span class="line">    <span class="string">'info.desc[0].age'</span>: <span class="number">12</span>,</span><br><span class="line">    <span class="string">'info.desc[3].color'</span>: <span class="string">'ç°è‰²'</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢è¿™ä¸¤ç§æ–¹æ³•ï¼Œæ˜¯æˆ‘ä»¬å¹³å¸¸å°ç¨‹åºé‡Œç»å¸¸ç”¨çš„ï¼Œå’Œå…¶ä»– Web ç«¯çš„æ¡†æ¶ç›¸æ¯”ï¼Œå°±å¾ˆè¹©è„šï¼Œä¸€ç§æµ“æµ“çš„åŠæˆå“æ„Ÿæ‰‘é¢è€Œæ¥ï¼Œæœ‰æ²¡æœ‰è¿™æ ·ä¸€ä¸ªæ–¹æ³•ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">this.upData(&#123;</span><br><span class="line">    info: &#123;</span><br><span class="line">        height: <span class="number">155</span>,</span><br><span class="line">        desc: [&#123; age: <span class="number">12</span> &#125;, , , &#123; color: <span class="string">'ç°è‰²'</span> &#125;]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>è¿™ä¸ªæ–¹æ³•ä¼šå¸®æˆ‘ä»¬æ·±åº¦æ”¹å˜åµŒå¥—å¯¹è±¡é‡Œå¯¹åº”çš„å±æ€§å€¼ï¼Œè·³è¿‡æ•°ç»„é¡¹é‡Œä¸æƒ³æ”¹å˜çš„ï¼Œåªè®¾ç½®æˆ‘ä»¬æä¾›äº†çš„å±æ€§å€¼ã€æ•°ç»„é¡¹ï¼Œå²‚ä¸æ˜¯çœç•¥äº†ä¸€å¤§å †è¹©è„šçš„ä»£ç ï¼Œè€Œä¸”å¯è¯»æ€§ä¹Ÿæä½³å‘¢ã€‚</p>
<p>è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘åœ¨ä¸Šçº¿çš„é¡¹ç›®ä¸­ä½¿ç”¨ wx-updataï¼Œè€Œä¸æ˜¯ <code>setData</code></p>
<h2 id="2-wx-updata-çš„ä¼˜ç‚¹"><a href="#2-wx-updata-çš„ä¼˜ç‚¹" class="headerlink" title="2. wx-updata çš„ä¼˜ç‚¹"></a><strong>2. wx-updata çš„ä¼˜ç‚¹</strong></h2><ol>
<li>æ”¯æŒ <code>setData</code> å¯¹è±¡è‡ªåŠ¨åˆå¹¶ï¼Œä¸ç”¨å†™è¹©è„šçš„å¯¹è±¡è·¯å¾„äº† ????</li>
<li>æ”¯æŒå¯¹è±¡ä¸­åµŒå¥—æ•°ç»„ï¼Œæ•°ç»„ä¸­åµŒå¥—å¯¹è±¡ï¼›</li>
<li>å¦‚æœæ•°ç»„çš„æŸä¸ªå€¼ä½ ä¸å¸Œæœ›è¦†ç›–ï¼Œè¯·ä½¿ç”¨æ•°ç»„ç©ºä½æ¥è·³è¿‡è¿™ä¸ªæ•°ç»„é¡¹ï¼Œæ¯”å¦‚ <code>[1,,3]</code> è¿™ä¸ªæ•°ç»„ä¸­é—´å°±æ˜¯æ•°ç»„ç©ºä½ï¼›</li>
<li>å¦‚æœæ•°ç»„ç©ºä½ä½ çš„ <code>Eslint</code> æŠ¥é”™ï¼Œå¯ä»¥ä½¿ç”¨ <code>wx-updata</code> æä¾›çš„ Empty æ¥ä»£æ›¿ï¼š<code>[1, Empty, 3]</code></li>
</ol>
<h2 id="3-wx-updata-å®‰è£…"><a href="#3-wx-updata-å®‰è£…" class="headerlink" title="3. wx-updata å®‰è£…"></a><strong>3. wx-updata å®‰è£…</strong></h2><blockquote>
<p>ä½ ä¹Ÿå¯ä»¥ç›´æ¥æŠŠ <code>dist</code> ç›®å½•ä¸‹çš„ <code>wx-updata.js</code> æ‹·è´åˆ°é¡¹ç›®é‡Œä½¿ç”¨</p>
</blockquote>
<p>ä½¿ç”¨ <code>npm</code>ã€<code>yarn</code> å®‰è£…æ–¹å¼ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">$ npm i -S wx-updata</span><br><span class="line"># or</span><br><span class="line">$ yarn add wx-updata</span><br></pre></td></tr></table></figure>

<p>ç„¶åï¼š</p>
<ol>
<li>æŠŠå¾®ä¿¡å¼€å‘è€…å·¥å…·é¢æ¿å³ä¾§çš„ <code>è¯¦æƒ… - æœ¬åœ°è®¾ç½® - ä½¿ç”¨npmæ¨¡å—</code> æŒ‰é’®æ‰“å¼€ï¼›</li>
<li>ç‚¹å‡»å¾®ä¿¡å¼€å‘è€…å·¥å…·é¢æ¿å·¥å…·æ çš„ <code>å·¥å…· - æ„å»ºnpm</code>ï¼›</li>
</ol>
<p>æ„å»ºåæˆåŠŸç”Ÿæˆ <code>miniprogram_npm</code> æ–‡ä»¶å¤¹å°±å¯ä»¥æ­£å¸¸ä½¿ç”¨äº†</p>
<h2 id="4-wx-updata-ä½¿ç”¨æ–¹æ³•"><a href="#4-wx-updata-ä½¿ç”¨æ–¹æ³•" class="headerlink" title="4. wx-updata ä½¿ç”¨æ–¹æ³•"></a><strong>4. wx-updata ä½¿ç”¨æ–¹æ³•</strong></h2><h3 id="ä½¿ç”¨æ–¹å¼ä¸€"><a href="#ä½¿ç”¨æ–¹å¼ä¸€" class="headerlink" title="ä½¿ç”¨æ–¹å¼ä¸€"></a><strong>ä½¿ç”¨æ–¹å¼ä¸€</strong></h3><p>å¯ä»¥ä½¿ç”¨ç›´æ¥æŒ‚è½½åˆ° <code>Page</code> ä¸Šçš„æ–¹å¼ï¼Œè¿™æ ·å°±å¯ä»¥åœ¨ <code>Page</code> å®ä¾‹ä¸­åƒä½¿ç”¨ <code>setData</code> ä¸€æ ·ä½¿ç”¨ <code>upData</code> äº†</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="comment">// app.js</span></span><br><span class="line"><span class="keyword">import</span> &#123; updataInit &#125; from <span class="string">'./miniprogram_npm/wx-updata/index'</span>  <span class="comment">// ä½ çš„åº“æ–‡ä»¶è·¯å¾„</span></span><br><span class="line">App(&#123;</span><br><span class="line">    onLaunch() &#123;</span><br><span class="line">        Page = updataInit(Page, &#123; debug: <span class="literal">true</span> &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// é¡µé¢ä»£ç ä¸­</span></span><br><span class="line">this.upData(&#123;</span><br><span class="line">    info: &#123; height: <span class="number">155</span> &#125;,</span><br><span class="line">    desc: [&#123; age: <span class="number">13</span> &#125;, <span class="string">'å¸…å“¥'</span>],</span><br><span class="line">    family: [, , [, , , &#123; color: <span class="string">'ç°è‰²'</span> &#125;]]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="ä½¿ç”¨æ–¹å¼äºŒ"><a href="#ä½¿ç”¨æ–¹å¼äºŒ" class="headerlink" title="ä½¿ç”¨æ–¹å¼äºŒ"></a><strong>ä½¿ç”¨æ–¹å¼äºŒ</strong></h3><p>æœ‰çš„æ¡†æ¶å¯èƒ½åœ¨ <code>Page</code> å¯¹è±¡ä¸Šè¿›è¡Œäº†è¿›ä¸€æ­¥ä¿®æ”¹ï¼Œç›´æ¥æ›¿æ¢ <code>Page</code> çš„æ–¹å¼å¯èƒ½å°±ä¸å¤ªå¥½äº†ï¼Œ<code>wx-updata</code> åŒæ ·æš´éœ²äº†å·¥å…·æ–¹æ³•ï¼Œç”¨æˆ·å¯ä»¥åœ¨é¡µé¢ä»£ç ä¸­ç›´æ¥ä½¿ç”¨å·¥å…·æ–¹æ³•è¿›è¡Œå¤„ç†ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="comment">// é¡µé¢ä»£ç ä¸­</span></span><br><span class="line"><span class="keyword">import</span> &#123; objToPath &#125; from <span class="string">'./miniprogram_npm/wx-updata/index'</span>  <span class="comment">// ä½ çš„åº“æ–‡ä»¶è·¯å¾„</span></span><br><span class="line">Page(&#123;</span><br><span class="line">    data: &#123; a: &#123; b: <span class="number">2</span>&#125;, c: [<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]&#125;,</span><br><span class="line">    <span class="comment">// è‡ªå·±å°è£…ä¸€ä¸‹</span></span><br><span class="line">    upData(data) &#123;</span><br><span class="line">        <span class="keyword">return</span> this.setData(objToPath(data))</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// ä½ çš„æ–¹æ³•ä¸­æˆ–ç”Ÿå‘½å‘¨æœŸå‡½æ•°</span></span><br><span class="line">    yourMethod() &#123;</span><br><span class="line">        this.upData(&#123; a: &#123; b: <span class="number">7</span>&#125;, c: [<span class="number">8</span>,,<span class="number">9</span>]&#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="ä½¿ç”¨-Empty-ä»£æ›¿æ•°ç»„ç©ºä½"><a href="#ä½¿ç”¨-Empty-ä»£æ›¿æ•°ç»„ç©ºä½" class="headerlink" title="ä½¿ç”¨ Empty ä»£æ›¿æ•°ç»„ç©ºä½"></a><strong>ä½¿ç”¨ Empty ä»£æ›¿æ•°ç»„ç©ºä½</strong></h3><p>å¯ä»¥ä½¿ç”¨ <code>wx-updata</code> æä¾›çš„ Empty æ¥ä»£æ›¿æ•°ç»„ç©ºä½ï¼Œç”±äº Empty æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ª Symbolï¼Œæ‰€ä»¥åªèƒ½ä½¿ç”¨ <code>wx-updata</code> å¯¼å‡ºçš„ï¼Œè€Œä¸èƒ½è‡ªå·±æ–°å»ºã€‚</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="comment">// é¡µé¢ä»£ç ä¸­</span></span><br><span class="line"><span class="keyword">import</span> &#123; Empty &#125; from <span class="string">'./miniprogram_npm/wx-updata/index'</span></span><br><span class="line">this.upData(&#123;</span><br><span class="line">    info: &#123; height: <span class="number">155</span> &#125;,</span><br><span class="line">    desc: [&#123; age: <span class="number">13</span> &#125;, <span class="string">'å¸…å“¥'</span>],</span><br><span class="line">    family: [Empty, Empty, [Empty, Empty, Empty, &#123; color: <span class="string">'ç°è‰²'</span> &#125;]]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h2 id="5-wx-updata-ç›¸å…³-API"><a href="#5-wx-updata-ç›¸å…³-API" class="headerlink" title="5. wx-updata ç›¸å…³ API"></a><strong>5. wx-updata ç›¸å…³ API</strong></h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Page.prototype.upData(Object data, Function callback)</span><br></pre></td></tr></table></figure>

<ol>
<li><code>data</code>ï¼šä½ å¸Œæœ›è®¾ç½®çš„ data</li>
<li><code>callback</code>ï¼šè·Ÿ setData ç¬¬äºŒä¸ªå‚æ•°ä¸€æ ·ï¼Œå¼•èµ·ç•Œé¢æ›´æ–°æ¸²æŸ“å®Œæ¯•åçš„å›è°ƒå‡½æ•°</li>
</ol>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">updataInit(Page, config)</span><br></pre></td></tr></table></figure>

<ol>
<li><code>Page</code>ï¼šé¡µé¢å¯¹è±¡ï¼Œéœ€è¦åœ¨ <code>app.js</code> ä¸­è°ƒç”¨ï¼›</li>
<li><code>config</code>ï¼šè‹¥æä¾›é…ç½®å‚æ•° <code>{ debug: true }</code>ï¼Œä¼šå°†è·¯å¾„åŒ–åçš„ data æ‰“å°å‡ºæ¥ï¼Œå¸®åŠ©ç”¨æˆ·è¿›è¡Œè°ƒè¯•ï¼›</li>
</ol>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">objToPath(Object data)</span><br></pre></td></tr></table></figure>

<ol>
<li><code>data</code>ï¼šä½ å¸Œæœ›è®¾ç½®çš„ data å¯¹è±¡</li>
</ol>
]]></content>
      <categories>
        <category>soft</category>
      </categories>
      <tags>
        <tag>å°ç¨‹åº</tag>
        <tag>wx-updata</tag>
      </tags>
  </entry>
  <entry>
    <title>å°ç¨‹åºä¹‹éª¨æ¶å±çš„ä½¿ç”¨</title>
    <url>/2020/09/09/%E5%B0%8F%E7%A8%8B%E5%BA%8F%E4%B9%8B%E9%AA%A8%E6%9E%B6%E5%B1%8F%E7%9A%84%E4%BD%BF%E7%94%A8/</url>
    <content><![CDATA[<h3 id="è‡ªå®šä¹‰éª¨æ¶å±"><a href="#è‡ªå®šä¹‰éª¨æ¶å±" class="headerlink" title="è‡ªå®šä¹‰éª¨æ¶å±"></a>è‡ªå®šä¹‰éª¨æ¶å±</h3><p>index.wxml:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- ä½œä¸ºç»„ä»¶åœ¨é¡µé¢ä¸­ä½¿ç”¨ --&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">skeleton</span> <span class="attr">selector</span>=<span class="string">"skeleton"</span></span></span><br><span class="line"><span class="tag"></span></span><br><span class="line"><span class="tag"><span class="attr">loading</span>=<span class="string">"spin"</span></span></span><br><span class="line"><span class="tag"></span></span><br><span class="line"><span class="tag"><span class="attr">bgcolor</span>=<span class="string">"#FFF"</span></span></span><br><span class="line"><span class="tag"></span></span><br><span class="line"><span class="tag"><span class="attr">wx:if</span>=<span class="string">"&#123;&#123;showSkeleton&#125;&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">skeleton</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--index.wxml--&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- æ¸²æŸ“çš„æ ¹èŠ‚ç‚¹ï¼ŒåŠ ä¸Š .skeleton --&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"container skeleton"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"userinfo"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">block</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- è¦æ¸²æŸ“çš„åœ†å½¢èŠ‚ç‚¹ï¼ŒåŠ ä¸Š .skeleton-radius --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">image</span> <span class="attr">class</span>=<span class="string">"userinfo-avatar skeleton-radius"</span> <span class="attr">src</span>=<span class="string">"&#123;&#123;userInfo.avatarUrl&#125;&#125;"</span> <span class="attr">mode</span>=<span class="string">"cover"</span>&gt;</span><span class="tag">&lt;/<span class="name">image</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- è¦æ¸²æŸ“çš„çŸ©å½¢èŠ‚ç‚¹ï¼ŒåŠ ä¸Š .skeleton-rect --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">text</span> <span class="attr">class</span>=<span class="string">"userinfo-nickname skeleton-rect"</span>&gt;</span>&#123;&#123;userInfo.nickName&#125;&#125;<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">block</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">style</span>=<span class="string">"margin: 20px 0"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">view</span> <span class="attr">wx:for</span>=<span class="string">"&#123;&#123;lists&#125;&#125;"</span> <span class="attr">wx:key</span>=<span class="string">"&#123;&#123;index&#125;&#125;"</span> <span class="attr">class</span>=<span class="string">"lists"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">icon</span> <span class="attr">type</span>=<span class="string">"success"</span> <span class="attr">size</span>=<span class="string">"20"</span> <span class="attr">class</span>=<span class="string">"list skeleton-radius"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">text</span> <span class="attr">class</span>=<span class="string">"skeleton-rect"</span>&gt;</span>&#123;&#123;item&#125;&#125;<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"usermotto"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">text</span> <span class="attr">class</span>=<span class="string">"user-motto skeleton-rect"</span>&gt;</span>&#123;&#123;motto&#125;&#125;<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">style</span>=<span class="string">"margin-top: 200px;"</span>&gt;</span>aaaaaaaaaaa<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>

<a id="more"></a>

<p>index.json:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="comment">// å¼•å…¥éª¨æ¶å±ç»„ä»¶</span></span><br><span class="line">  <span class="string">"usingComponents"</span>: &#123;</span><br><span class="line">    <span class="string">"skeleton"</span>: <span class="string">"/component/skeleton/skeleton"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>æœ€åæ¥æ¢ç´¢ä¸€ä¸‹éª¨æ¶å±ç»„ä»¶çš„å®ç°</strong></p>
<p>skeleton.wxml:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- æœ€å¤–å±‚çš„viewç»‘å®šäº†jsä¸­å®šä¹‰çš„å®½ã€é«˜ä»¥åŠèƒŒæ™¯é¢œè‰² --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">style</span>=<span class="string">"width: &#123;systemInfo.width&#125;&#125;px; height: &#123;systemInfo.height&#125;&#125;px; background-color: &#123;bgcolor&#125;&#125;; position: absolute; left:0; top:0; z-index:9998; overflow: hidden;"</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- å¾ªç¯ï¼Œéå†ç»˜åˆ¶çŸ©å½¢èŠ‚ç‚¹ï¼Œå®½é«˜å‚ç…§jsè·å–åˆ°çš„èŠ‚ç‚¹å®½é«˜ï¼Œä»¥ç»å¯¹å®šä½çš„æ–¹å¼å®šä½ --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">wx:for</span>=<span class="string">"&#123;skeletonRectLists&#125;&#125;"</span> <span class="attr">wx:key</span>=<span class="string">"&#123;index&#125;&#125;"</span> <span class="attr">class</span>=<span class="string">"&#123;loading == 'chiaroscuro' ? 'chiaroscuro' : ''&#125;&#125;"</span> <span class="attr">style</span>=<span class="string">"width: &#123;item.width&#125;&#125;px; height: &#123;item.height&#125;&#125;px; background-color: rgb(194, 207, 214); position: absolute; left: &#123;item.left&#125;&#125;px; top: &#123;item.top&#125;&#125;px"</span>&gt;</span><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- å¾ªç¯ï¼Œéå†ç»˜åˆ¶çŸ©å½¢èŠ‚ç‚¹ï¼Œå®½é«˜å‚ç…§jsè·å–åˆ°çš„èŠ‚ç‚¹å®½é«˜ï¼Œä»¥ç»å¯¹å®šä½çš„æ–¹å¼å®šä½ --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">wx:for</span>=<span class="string">"&#123;skeletonCircleLists&#125;&#125;"</span> <span class="attr">wx:key</span>=<span class="string">"&#123;index&#125;&#125;"</span> <span class="attr">class</span>=<span class="string">"&#123;loading == 'chiaroscuro' ? 'chiaroscuro' : ''&#125;&#125;"</span> <span class="attr">style</span>=<span class="string">"width: &#123;item.width&#125;&#125;px; height: &#123;item.height&#125;&#125;px; background-color: rgb(194, 207, 214); border-radius: &#123;item.width&#125;&#125;px; position: absolute; left: &#123;item.left&#125;&#125;px; top: &#123;item.top&#125;&#125;px"</span>&gt;</span><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"spinbox"</span> <span class="attr">wx:if</span>=<span class="string">"&#123;loading == 'spin'&#125;&#125;"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"spin"</span>&gt;</span><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>skeleton.js:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">Component(&#123;</span><br><span class="line">  properties: &#123;</span><br><span class="line">    bgcolor: &#123;</span><br><span class="line">      type: <span class="built_in">String</span>,</span><br><span class="line">      value: <span class="string">'#fff'</span></span><br><span class="line">    &#125;,</span><br><span class="line">    selector: &#123;</span><br><span class="line">      type: <span class="built_in">String</span>,</span><br><span class="line">      value: <span class="string">'skeleton'</span></span><br><span class="line">    &#125;,</span><br><span class="line">    loading: &#123;</span><br><span class="line">      type: <span class="built_in">String</span>,</span><br><span class="line">      value: <span class="string">'spin'</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  data: &#123;</span><br><span class="line">    loadingAni: [<span class="string">'spin'</span>, <span class="string">'chiaroscuro'</span>],</span><br><span class="line">    systemInfo: &#123;&#125;,</span><br><span class="line">    skeletonRectLists: [],</span><br><span class="line">    skeletonCircleLists: []</span><br><span class="line">  &#125;,</span><br><span class="line">  attached: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">//é»˜è®¤çš„é¦–å±å®½é«˜ï¼Œé˜²æ­¢å†…å®¹é—ªç°</span></span><br><span class="line">    <span class="keyword">const</span> systemInfo = wx.getSystemInfoSync();</span><br><span class="line">    <span class="keyword">this</span>.setData(&#123;</span><br><span class="line">      systemInfo: &#123;</span><br><span class="line">        width: systemInfo.windowWidth,</span><br><span class="line">        height: systemInfo.windowHeight</span><br><span class="line">      &#125;,</span><br><span class="line">      loading: <span class="keyword">this</span>.data.loadingAni.includes(<span class="keyword">this</span>.data.loading) ? <span class="keyword">this</span>.data.loading : <span class="string">'spin'</span></span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">  ready: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> that = <span class="keyword">this</span>;</span><br><span class="line">    <span class="comment">//ç»˜åˆ¶èƒŒæ™¯</span></span><br><span class="line">    wx.createSelectorQuery().selectAll(<span class="string">`.<span class="subst">$&#123;<span class="keyword">this</span>.data.selector&#125;</span>`</span>).boundingClientRect().exec(<span class="function"><span class="keyword">function</span> (<span class="params">res</span>) </span>&#123;</span><br><span class="line">      that.setData(&#123;</span><br><span class="line">        <span class="string">'systemInfo.height'</span>: res[<span class="number">0</span>][<span class="number">0</span>].height + res[<span class="number">0</span>][<span class="number">0</span>].top</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="comment">//ç»˜åˆ¶çŸ©å½¢</span></span><br><span class="line">    <span class="keyword">this</span>.rectHandle();</span><br><span class="line">    <span class="comment">//ç»˜åˆ¶åœ†å½¢</span></span><br><span class="line">    <span class="keyword">this</span>.radiusHandle();</span><br><span class="line"></span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    rectHandle: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="keyword">const</span> that = <span class="keyword">this</span>;</span><br><span class="line">      <span class="comment">//ç»˜åˆ¶ä¸å¸¦æ ·å¼çš„èŠ‚ç‚¹</span></span><br><span class="line">      wx.createSelectorQuery().selectAll(<span class="string">`.<span class="subst">$&#123;<span class="keyword">this</span>.data.selector&#125;</span> &gt;&gt;&gt; .<span class="subst">$&#123;<span class="keyword">this</span>.data.selector&#125;</span>-rect`</span>).boundingClientRect().exec(<span class="function"><span class="keyword">function</span> (<span class="params">res</span>) </span>&#123;</span><br><span class="line">        that.setData(&#123;</span><br><span class="line">          skeletonRectLists: res[<span class="number">0</span>]</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;);</span><br><span class="line"></span><br><span class="line">    &#125;,</span><br><span class="line">    radiusHandle: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="keyword">const</span> that = <span class="keyword">this</span>;</span><br><span class="line">      wx.createSelectorQuery().selectAll(<span class="string">`.<span class="subst">$&#123;<span class="keyword">this</span>.data.selector&#125;</span> &gt;&gt;&gt; .<span class="subst">$&#123;<span class="keyword">this</span>.data.selector&#125;</span>-radius`</span>).boundingClientRect().exec(<span class="function"><span class="keyword">function</span> (<span class="params">res</span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(res);</span><br><span class="line">        that.setData(&#123;</span><br><span class="line">          skeletonCircleLists: res[<span class="number">0</span>]</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">å¤‡æ³¨ï¼šä¹Ÿå¯ä»¥ä½¿ç”¨ä¸‹é¢è¿™ç§æ–¹å¼æ¥é€‰æ‹©èŠ‚ç‚¹</span><br><span class="line">wx.createSelectorQuery().selectAll(<span class="string">`.<span class="subst">$&#123;<span class="keyword">this</span>.data.selector&#125;</span>-rect`</span>).boundingClientRect().exec...</span><br></pre></td></tr></table></figure>



<h3 id="ä½¿ç”¨npmåŒ…"><a href="#ä½¿ç”¨npmåŒ…" class="headerlink" title="ä½¿ç”¨npmåŒ…"></a>ä½¿ç”¨npmåŒ…</h3><p><a href="https://github.com/jayZOU/skeleton" target="_blank" rel="noopener">https://github.com/jayZOU/skeleton</a></p>
<h3 id="ä¸€ã€å®‰è£…å’Œå¼•å…¥"><a href="#ä¸€ã€å®‰è£…å’Œå¼•å…¥" class="headerlink" title="ä¸€ã€å®‰è£…å’Œå¼•å…¥"></a>ä¸€ã€å®‰è£…å’Œå¼•å…¥</h3><h4 id="1-å®‰è£…ç»„ä»¶ï¼š"><a href="#1-å®‰è£…ç»„ä»¶ï¼š" class="headerlink" title="1.å®‰è£…ç»„ä»¶ï¼š"></a>1.å®‰è£…ç»„ä»¶ï¼š</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install --save miniprogram-skeleton</span><br></pre></td></tr></table></figure>

<h4 id="2-å¼•å…¥skeletonè‡ªå®šä¹‰ç»„ä»¶"><a href="#2-å¼•å…¥skeletonè‡ªå®šä¹‰ç»„ä»¶" class="headerlink" title="2.å¼•å…¥skeletonè‡ªå®šä¹‰ç»„ä»¶"></a>2.å¼•å…¥skeletonè‡ªå®šä¹‰ç»„ä»¶</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;usingComponents&quot;: &#123;</span><br><span class="line">    &quot;skeleton&quot;: &quot;..&#x2F;miniprogram_npm&#x2F;miniprogram-skeleton&quot;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å°ç¨‹åºä¸­npmçš„é…ç½®åŠä½¿ç”¨ï¼š</strong></p>
<ul>
<li>åœ¨å¾®ä¿¡å¼€å‘è€…å·¥å…·ä¸­ï¼Œè®¾ç½® â€”&gt; é¡¹ç›®è®¾ç½®â€”&gt; å‹¾é€‰ä½¿ç”¨npmæ¨¡å—ã€‚</li>
<li>åœ¨å¾®ä¿¡å¼€å‘è€…å·¥å…·ä¸­ï¼Œå·¥å…· â€”&gt; æ„å»ºnpmï¼Œæ„å»ºå®Œæˆä¼šç”Ÿæˆ <code>miniprogram_npm</code> æ–‡ä»¶å¤¹ï¼Œé¡¹ç›®ç”¨åˆ°çš„npmåŒ…éƒ½åœ¨è¿™é‡Œã€‚</li>
<li>æŒ‰ç…§é¡µé¢çš„ä½¿ç”¨è·¯å¾„ï¼Œä» <code>miniprogram_npm</code> å¼•å…¥éœ€è¦çš„åŒ…ã€‚</li>
</ul>
<h4 id="äºŒã€ä½¿ç”¨æ–¹å¼ä¸è‡ªå®šä¹‰ä½¿ç”¨æ–¹å¼ä¸€æ ·"><a href="#äºŒã€ä½¿ç”¨æ–¹å¼ä¸è‡ªå®šä¹‰ä½¿ç”¨æ–¹å¼ä¸€æ ·" class="headerlink" title="äºŒã€ä½¿ç”¨æ–¹å¼ä¸è‡ªå®šä¹‰ä½¿ç”¨æ–¹å¼ä¸€æ ·"></a>äºŒã€ä½¿ç”¨æ–¹å¼ä¸è‡ªå®šä¹‰ä½¿ç”¨æ–¹å¼ä¸€æ ·</h4><p>ã€‚ã€‚ã€‚</p>
]]></content>
      <categories>
        <category>soft</category>
      </categories>
      <tags>
        <tag>å°ç¨‹åº</tag>
        <tag>éª¨æ¶å±</tag>
      </tags>
  </entry>
  <entry>
    <title>å°ç¨‹åºå¦‚ä½•ç”Ÿæˆæµ·æŠ¥åˆ†äº«æœ‹å‹åœˆ</title>
    <url>/2020/09/09/%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%A6%82%E4%BD%95%E7%94%9F%E6%88%90%E6%B5%B7%E6%8A%A5%E5%88%86%E4%BA%AB%E6%9C%8B%E5%8F%8B%E5%9C%88/</url>
    <content><![CDATA[<h3 id="éœ€æ±‚"><a href="#éœ€æ±‚" class="headerlink" title="éœ€æ±‚"></a>éœ€æ±‚</h3><p>åˆ©ç”¨å¾®ä¿¡å¼ºå¤§çš„ç¤¾äº¤èƒ½åŠ›é€šè¿‡å°ç¨‹åºè¾¾åˆ°è£‚å˜çš„ç›®çš„ï¼Œæ‹‰å–æ–°ç”¨æˆ·ã€‚<br>ç”Ÿæˆçš„æµ·æŠ¥å¦‚ä¸‹</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/1NOXMW586uvu1YtvSoiajLEyawsNz1JTxLpJb1T6GDwktsib3UBrOEz9KYatzRbhE9fIxjYGteosUh33C4Ysq2icw/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"></p>
<a id="more"></a>

<h3 id="éœ€æ±‚åˆ†æ"><a href="#éœ€æ±‚åˆ†æ" class="headerlink" title="éœ€æ±‚åˆ†æ"></a>éœ€æ±‚åˆ†æ</h3><p>1ã€åˆ©ç”¨å°ç¨‹åºå®˜æ–¹æä¾›çš„apiå¯ä»¥ç›´æ¥åˆ†äº«è½¬å‘åˆ°å¾®ä¿¡ç¾¤æ‰“å¼€å°ç¨‹åº<br>2ã€åˆ©ç”¨å°ç¨‹åºç”Ÿæˆæµ·æŠ¥ä¿å­˜å›¾ç‰‡åˆ°ç›¸å†Œåˆ†äº«åˆ°æœ‹å‹åœˆï¼Œç”¨æˆ·é•¿æŒ‰è¯†åˆ«äºŒç»´ç å…³æ³¨å…¬ä¼—å·æˆ–è€…æ‰“å¼€å°ç¨‹åºæ¥è¾¾åˆ°è£‚å˜çš„ç›®çš„</p>
<h3 id="å®ç°æ–¹æ¡ˆ"><a href="#å®ç°æ–¹æ¡ˆ" class="headerlink" title="å®ç°æ–¹æ¡ˆ"></a>å®ç°æ–¹æ¡ˆ</h3><h4 id="ä¸€ã€åˆ†æå¦‚ä½•å®ç°"><a href="#ä¸€ã€åˆ†æå¦‚ä½•å®ç°" class="headerlink" title="ä¸€ã€åˆ†æå¦‚ä½•å®ç°"></a>ä¸€ã€åˆ†æå¦‚ä½•å®ç°</h4><p>ç›¸ä¿¡å¤§å®¶åº”è¯¥éƒ½ä¼šæœ‰ç±»ä¼¼çš„è¿·æƒ‘ï¼Œå°±æ˜¯å¦‚ä½•æŒ‰ç…§äº§å“è®¾è®¡çš„é‚£æ ·ç»˜åˆ¶æˆæµ·æŠ¥ï¼Œå…¶å®å½“æ—¶æˆ‘ä¹Ÿæ˜¯ä¸çŸ¥é“å¦‚ä½•ä¸‹æ‰‹ï¼Œè®¤çœŸæƒ³äº†ä¸‹å¾—é€šè¿‡canvasç»˜åˆ¶æˆå›¾ç‰‡ï¼Œè¿™æ ·ç”¨æˆ·ä¿å­˜è¿™ä¸ªå›¾ç‰‡åˆ°ç›¸å†Œï¼Œå°±å¯ä»¥åˆ†äº«åˆ°æœ‹å‹åœˆäº†ã€‚ä½†æ˜¯è¦ç»˜åˆ¶çš„å›¾ç‰‡ä¸Šé¢ä¸ä»…æœ‰æ–‡å­—è¿˜æœ‰æ•°å­—ã€å›¾ç‰‡ã€äºŒç»´ç ç­‰ä¸”éƒ½æ˜¯æ´»çš„ï¼Œè¿™ä¸ªè¦æ€ä¹ˆåŠ¨æ€ç”Ÿæˆå‘¢ã€‚è®¤çœŸæƒ³äº†ä¸‹ï¼Œéœ€è¦ä¸€ç‚¹ä¸€ç‚¹çš„å°†æ–‡å­—å’Œæ•°å­—ï¼ŒèƒŒæ™¯å›¾ç»˜åˆ¶åˆ°ç”»å¸ƒä¸Šå»ï¼Œè¿™æ ·é€šè¿‡apiæœ€ç»ˆåˆæˆä¸€ä¸ªå›¾ç‰‡å¯¼å‡ºåˆ°æ‰‹æœºç›¸å†Œä¸­ã€‚</p>
<h4 id="äºŒã€éœ€è¦è§£å†³çš„é—®é¢˜"><a href="#äºŒã€éœ€è¦è§£å†³çš„é—®é¢˜" class="headerlink" title="äºŒã€éœ€è¦è§£å†³çš„é—®é¢˜"></a>äºŒã€éœ€è¦è§£å†³çš„é—®é¢˜</h4><p>1ã€äºŒç»´ç çš„åŠ¨æ€è·å–å’Œç»˜åˆ¶ï¼ˆåŒ…æ‹¬å¦‚ä½•ç”Ÿæˆå°ç¨‹åºäºŒç»´ç ã€å…¬ä¼—å·äºŒç»´ç ã€æ‰“å¼€ç½‘é¡µäºŒç»´ç ï¼‰<br>2ã€èƒŒæ™¯å›¾å¦‚ä½•ç»˜åˆ¶ï¼Œè·å–å›¾ç‰‡ä¿¡æ¯<br>3ã€å°†ç»˜åˆ¶å®Œæˆçš„å›¾ç‰‡ä¿å­˜åˆ°æœ¬åœ°ç›¸å†Œ<br>4ã€å¤„ç†ç”¨æˆ·æ˜¯å¦å–æ¶ˆæˆæƒä¿å­˜åˆ°ç›¸å†Œ</p>
<h4 id="ä¸‰ã€å®ç°æ­¥éª¤"><a href="#ä¸‰ã€å®ç°æ­¥éª¤" class="headerlink" title="ä¸‰ã€å®ç°æ­¥éª¤"></a>ä¸‰ã€å®ç°æ­¥éª¤</h4><p><strong>è¿™é‡Œæˆ‘å…·ä½“å†™ä¸‹å›´ç»•ä¸Šé¢æ‰€æå‡ºçš„é—®é¢˜ï¼Œæè¿°å¤§æ¦‚å®ç°çš„è¿‡ç¨‹</strong></p>
<p>â‘ é¦–å…ˆåˆ›å»ºcanvasç”»å¸ƒ,æˆ‘æŠŠç”»å¸ƒå®šä½è®¾æˆè´Ÿçš„,æ˜¯ä¸ºäº†ä¸è®©å®ƒæ˜¾ç¤ºåœ¨é¡µé¢ä¸Š,æ˜¯å› ä¸ºæˆ‘å°è¯•æŠŠcanvasé€šè¿‡åˆ¤æ–­æ¡ä»¶åŠ¨æ€çš„æ˜¾ç¤ºå’Œéšè—,åœ¨ç»˜åˆ¶çš„æ—¶å€™ä¼šå‡ºç°é—®é¢˜,æ‰€ä»¥é‡‡ç”¨äº†è¿™ç§æ–¹æ³•ï¼Œè¿™é‡Œè¿˜æœ‰ä¸€å®šè¦è®¾ç½®ç”»å¸ƒçš„å¤§å°ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;canvas canvas-id&#x3D;&quot;myCanvas&quot; style&#x3D;&quot;width: 690px;height:1085px;position: fixed;top: -10000px;&quot;&gt;&lt;&#x2F;canvas&gt;</span><br></pre></td></tr></table></figure>

<p>â‘¡åˆ›å»ºå¥½ç”»å¸ƒä¹‹åï¼Œå…ˆç»˜åˆ¶èƒŒæ™¯å›¾ï¼Œå› ä¸ºèƒŒæ™¯å›¾æˆ‘æ˜¯æ”¾åœ¨æœ¬åœ°ï¼Œæ‰€ä»¥è·å– <canvas> ç»„ä»¶ canvas-id å±æ€§ï¼Œé€šè¿‡createCanvasContextåˆ›å»ºcanvasçš„ç»˜å›¾ä¸Šä¸‹æ–‡ CanvasContext å¯¹è±¡ã€‚ä½¿ç”¨drawImageç»˜åˆ¶å›¾åƒåˆ°ç”»å¸ƒï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å›¾ç‰‡çš„æœ¬åœ°åœ°å€ï¼Œåé¢ä¸¤ä¸ªå‚æ•°æ˜¯å›¾åƒç›¸å¯¹ç”»å¸ƒå·¦ä¸Šè§’ä½ç½®çš„xè½´å’Œyè½´ï¼Œæœ€åä¸¤ä¸ªå‚æ•°æ˜¯è®¾ç½®å›¾åƒçš„å®½é«˜ã€‚</canvas></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const ctx &#x3D; wx.createCanvasContext(&#39;myCanvas&#39;)</span><br><span class="line"></span><br><span class="line">ctx.drawImage(&#39;&#x2F;img&#x2F;study&#x2F;shareimg.png&#39;, 0, 0, 690, 1085)</span><br></pre></td></tr></table></figure>

<p>â‘¢åˆ›å»ºå¥½èƒŒæ™¯å›¾åï¼Œåœ¨èƒŒæ™¯å›¾ä¸Šç»˜åˆ¶å¤´åƒï¼Œæ–‡å­—å’Œæ•°å­—ã€‚é€šè¿‡getImageInfoè·å–å¤´åƒçš„ä¿¡æ¯ï¼Œè¿™é‡Œéœ€è¦æ³¨æ„ä¸‹åœ¨è·å–çš„ç½‘ç»œå›¾ç‰‡è¦å…ˆé…ç½®downloadåŸŸåæ‰èƒ½ç”Ÿæ•ˆï¼Œå…·ä½“åœ¨å°ç¨‹åºåå°è®¾ç½®é‡Œé…ç½®ã€‚</p>
<p>è·å–å¤´åƒåœ°å€ï¼Œé¦–å…ˆé‡å–å¤´åƒåœ¨ç”»å¸ƒä¸­çš„å¤§å°ï¼Œå’Œxè½´Yè½´çš„åæ ‡ï¼Œè¿™é‡Œçš„result[0]æ˜¯æˆ‘ç”¨promiseå°è£…è¿”å›çš„ä¸€ä¸ªå›¾ç‰‡åœ°å€</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> headImg = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span> (<span class="params">resolve</span>) </span>&#123;</span><br><span class="line">        wx.getImageInfo(&#123;</span><br><span class="line">          src: <span class="string">`<span class="subst">$&#123;app.globalData.baseUrl2&#125;</span><span class="subst">$&#123;that.data.currentChildren.headImg&#125;</span>`</span>,</span><br><span class="line">          success: <span class="function"><span class="keyword">function</span> (<span class="params">res</span>) </span>&#123;</span><br><span class="line">            resolve(res.path)</span><br><span class="line">          &#125;,</span><br><span class="line">          fail: <span class="function"><span class="keyword">function</span> (<span class="params">err</span>) </span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(err)</span><br><span class="line">            wx.showToast(&#123;</span><br><span class="line">              title: <span class="string">'ç½‘ç»œé”™è¯¯è¯·é‡è¯•'</span>,</span><br><span class="line">              icon: <span class="string">'loading'</span></span><br><span class="line">            &#125;)</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;)</span><br><span class="line">      </span><br><span class="line"><span class="keyword">let</span> avatarurl_width = <span class="number">60</span>, <span class="comment">//ç»˜åˆ¶çš„å¤´åƒå®½åº¦</span></span><br><span class="line">    avatarurl_heigth = <span class="number">60</span>, <span class="comment">//ç»˜åˆ¶çš„å¤´åƒé«˜åº¦</span></span><br><span class="line">    avatarurl_x = <span class="number">28</span>, <span class="comment">//ç»˜åˆ¶çš„å¤´åƒåœ¨ç”»å¸ƒä¸Šçš„ä½ç½®</span></span><br><span class="line">    avatarurl_y = <span class="number">36</span>; <span class="comment">//ç»˜åˆ¶çš„å¤´åƒåœ¨ç”»å¸ƒä¸Šçš„ä½ç½®</span></span><br><span class="line">    </span><br><span class="line">    ctx.save(); <span class="comment">// å…ˆä¿å­˜çŠ¶æ€ å·²ä¾¿äºç”»å®Œåœ†å†ç”¨</span></span><br><span class="line">    ctx.beginPath(); <span class="comment">//å¼€å§‹ç»˜åˆ¶</span></span><br><span class="line">    <span class="comment">//å…ˆç”»ä¸ªåœ†   å‰ä¸¤ä¸ªå‚æ•°ç¡®å®šäº†åœ†å¿ƒ ï¼ˆx,yï¼‰ åæ ‡  ç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯åœ†çš„åŠå¾„  å››å‚æ•°æ˜¯ç»˜å›¾æ–¹å‘  é»˜è®¤æ˜¯falseï¼Œå³é¡ºæ—¶é’ˆ</span></span><br><span class="line">    ctx.arc(avatarurl_width / <span class="number">2</span> + avatarurl_x, avatarurl_heigth / <span class="number">2</span> + avatarurl_y, avatarurl_width / <span class="number">2</span>, <span class="number">0</span>, <span class="built_in">Math</span>.PI * <span class="number">2</span>, <span class="literal">false</span>);</span><br><span class="line">    ctx.clip(); <span class="comment">//ç”»äº†åœ† å†å‰ªåˆ‡  åŸå§‹ç”»å¸ƒä¸­å‰ªåˆ‡ä»»æ„å½¢çŠ¶å’Œå°ºå¯¸ã€‚ä¸€æ—¦å‰ªåˆ‡äº†æŸä¸ªåŒºåŸŸï¼Œåˆ™æ‰€æœ‰ä¹‹åçš„ç»˜å›¾éƒ½ä¼šè¢«é™åˆ¶åœ¨è¢«å‰ªåˆ‡çš„åŒºåŸŸå†…</span></span><br><span class="line">    ctx.drawImage(result[<span class="number">0</span>], avatarurl_x, avatarurl_y, avatarurl_width, avatarurl_heigth); <span class="comment">// æ¨è¿›å»å›¾ç‰‡</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>è¿™é‡Œä¸¾ä¸ªä¾‹å­è¯´ä¸‹å¦‚ä½•ç»˜åˆ¶æ–‡å­—ï¼Œæ¯”å¦‚æˆ‘è¦ç»˜åˆ¶å¦‚ä¸‹è¿™ä¸ªâ€œå­—â€ï¼Œéœ€è¦åŠ¨æ€è·å–å‰é¢å­—æ•°çš„æ€»å®½åº¦ï¼Œè¿™æ ·æ‰èƒ½è®¾ç½®â€œå­—â€çš„xè½´åæ ‡ï¼Œè¿™é‡Œæˆ‘æœ¬æ¥æ˜¯æƒ³é€šè¿‡measureTextæ¥æµ‹é‡å­—ä½“çš„å®½åº¦ï¼Œä½†æ˜¯åœ¨iOSç«¯ç¬¬ä¸€æ¬¡è·å–çš„å®½åº¦å€¼ä¸å¯¹ï¼Œå…³äºè¿™ä¸ªé—®é¢˜ï¼Œæˆ‘è¿˜åœ¨å¾®ä¿¡å¼€å‘è€…ç¤¾åŒºæäº†bugï¼Œæ‰€ä»¥æˆ‘æƒ³ç”¨å¦ä¸€ä¸ªæ–¹æ³•æ¥å®ç°ï¼Œå°±æ˜¯å…ˆè·å–æ­£å¸¸æƒ…å†µä¸‹ä¸€ä¸ªå­—çš„å®½åº¦å€¼ï¼Œç„¶åä¹˜ä»¥æ€»å­—æ•°å°±è·å¾—äº†æ€»å®½åº¦ï¼Œäº²è¯•æ˜¯å¯ä»¥çš„ã€‚</p>
</blockquote>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/1NOXMW586uvu1YtvSoiajLEyawsNz1JTxgNlzticcibNAObP0F6iaFVPAjbziauHKauUX5yQJFTXGO5HkMa2cIDOpqw/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let allReading &#x3D; 97 &#x2F; 6 &#x2F; app.globalData.ratio * wordNumber.toString().length + 325;</span><br><span class="line">ctx.font &#x3D; &#39;normal normal 30px sans-serif&#39;;</span><br><span class="line">ctx.setFillStyle(&#39;#ffffff&#39;)</span><br><span class="line">ctx.fillText(&#39;å­—&#39;, allReading, 150);</span><br></pre></td></tr></table></figure>

<p>â‘£ç»˜åˆ¶å…¬ä¼—å·äºŒç»´ç ï¼Œå’Œè·å–å¤´åƒæ˜¯ä¸€æ ·çš„ï¼Œä¹Ÿæ˜¯å…ˆé€šè¿‡æ¥å£è¿”å›å›¾ç‰‡ç½‘ç»œåœ°å€ï¼Œç„¶åå†é€šè¿‡getImageInfoè·å–å…¬ä¼—å·äºŒç»´ç å›¾ç‰‡ä¿¡æ¯</p>
<p>â‘¤å¦‚ä½•ç»˜åˆ¶å°ç¨‹åºç ï¼Œå…·ä½“å®˜ç½‘æ–‡æ¡£ä¹Ÿç»™å‡ºç”Ÿæˆæ— é™å°ç¨‹åºç æ¥å£ï¼Œé€šè¿‡ç”Ÿæˆçš„å°ç¨‹åºå¯ä»¥æ‰“å¼€ä»»æ„ä¸€ä¸ªå°ç¨‹åºé¡µé¢ï¼Œå¹¶ä¸”äºŒç»´ç æ°¸ä¹…æœ‰æ•ˆï¼Œå…·ä½“è°ƒç”¨å“ªä¸ªå°ç¨‹åºäºŒç»´ç æ¥å£æœ‰ä¸åŒçš„åº”ç”¨åœºæ™¯ï¼Œå…·ä½“å¯ä»¥çœ‹ä¸‹å®˜æ–¹æ–‡æ¡£æ€ä¹ˆè¯´çš„ï¼Œä¹Ÿå°±æ˜¯è¯´å‰ç«¯é€šè¿‡ä¼ é€’å‚æ•°è°ƒå–åç«¯æ¥å£è¿”å›çš„å°ç¨‹åºç ï¼Œç„¶åç»˜åˆ¶åœ¨ç”»å¸ƒä¸Šï¼ˆå’Œä¸Šé¢å†™çš„ç»˜åˆ¶å¤´åƒå’Œå…¬ä¼—å·äºŒç»´ç ä¸€æ ·çš„ï¼‰</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ctx.drawImage(&#39;å°ç¨‹åºç çš„æœ¬åœ°åœ°å€&#39;, xè½´, Yè½´, å®½, é«˜)</span><br></pre></td></tr></table></figure>

<p>â‘¥æœ€ç»ˆç»˜åˆ¶å®ŒæŠŠcanvasç”»å¸ƒè½¬æˆå›¾ç‰‡å¹¶è¿”å›å›¾ç‰‡åœ°å€</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">wx.canvasToTempFilePath(&#123;</span><br><span class="line">    canvasId: &#39;myCanvas&#39;,</span><br><span class="line">    success: function (res) &#123;</span><br><span class="line">      canvasToTempFilePath &#x3D; res.tempFilePath &#x2F;&#x2F; è¿”å›çš„å›¾ç‰‡åœ°å€ä¿å­˜åˆ°ä¸€ä¸ªå…¨å±€å˜é‡é‡Œ</span><br><span class="line">      that.setData(&#123;</span><br><span class="line">        showShareImg: true</span><br><span class="line">      &#125;)</span><br><span class="line">      wx.showToast(&#123;</span><br><span class="line">        title: &#39;ç»˜åˆ¶æˆåŠŸ&#39;,</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;,</span><br><span class="line">    fail: function () &#123;</span><br><span class="line">      wx.showToast(&#123;</span><br><span class="line">        title: &#39;ç»˜åˆ¶å¤±è´¥&#39;,</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;,</span><br><span class="line">    complete: function () &#123;</span><br><span class="line">      wx.hideLoading()</span><br><span class="line">      wx.hideToast()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br></pre></td></tr></table></figure>

<p>â‘¦ä¿å­˜åˆ°ç³»ç»Ÿç›¸å†Œï¼›å…ˆåˆ¤æ–­ç”¨æˆ·æ˜¯å¦å¼€å¯ç”¨æˆ·æˆæƒç›¸å†Œï¼Œå¤„ç†ä¸åŒæƒ…å†µä¸‹çš„ç»“æœã€‚æ¯”å¦‚ç”¨æˆ·å¦‚æœæŒ‰ç…§æ­£å¸¸é€»è¾‘æˆæƒæ˜¯æ²¡é—®é¢˜çš„ï¼Œä½†æ˜¯æœ‰çš„ç”¨æˆ·å¦‚æœç‚¹å‡»äº†å–æ¶ˆæˆæƒè¯¥å¦‚ä½•å¤„ç†ï¼Œå¦‚æœä¸å¤„ç†ä¼šå‡ºç°ä¸€å®šçš„é—®é¢˜ã€‚æ‰€ä»¥å½“ç”¨æˆ·ç‚¹å‡»å–æ¶ˆæˆæƒä¹‹åï¼Œæ¥ä¸ªå¼¹æ¡†æç¤ºï¼Œå½“å®ƒå†æ¬¡ç‚¹å‡»çš„æ—¶å€™ï¼Œä¸»åŠ¨è·³åˆ°è®¾ç½®å¼•å¯¼ç”¨æˆ·å»å¼€å¯æˆæƒï¼Œä»è€Œè¾¾åˆ°ä¿å­˜åˆ°ç›¸å†Œåˆ†äº«æœ‹å‹åœˆçš„ç›®çš„ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; è·å–ç”¨æˆ·æ˜¯å¦å¼€å¯ç”¨æˆ·æˆæƒç›¸å†Œ</span><br><span class="line">    if (!openStatus) &#123;</span><br><span class="line">      wx.openSetting(&#123;</span><br><span class="line">        success: (result) &#x3D;&gt; &#123;</span><br><span class="line">          if (result) &#123;</span><br><span class="line">            if (result.authSetting[&quot;scope.writePhotosAlbum&quot;] &#x3D;&#x3D;&#x3D; true) &#123;</span><br><span class="line">              openStatus &#x3D; true;</span><br><span class="line">              wx.saveImageToPhotosAlbum(&#123;</span><br><span class="line">                filePath: canvasToTempFilePath,</span><br><span class="line">                success() &#123;</span><br><span class="line">                  that.setData(&#123;</span><br><span class="line">                    showShareImg: false</span><br><span class="line">                  &#125;)</span><br><span class="line">                  wx.showToast(&#123;</span><br><span class="line">                    title: &#39;å›¾ç‰‡ä¿å­˜æˆåŠŸï¼Œå¿«å»åˆ†äº«åˆ°æœ‹å‹åœˆå§~&#39;,</span><br><span class="line">                    icon: &#39;none&#39;,</span><br><span class="line">                    duration: 2000</span><br><span class="line">                  &#125;)</span><br><span class="line">                &#125;,</span><br><span class="line">                fail() &#123;</span><br><span class="line">                  wx.showToast(&#123;</span><br><span class="line">                    title: &#39;ä¿å­˜å¤±è´¥&#39;,</span><br><span class="line">                    icon: &#39;none&#39;</span><br><span class="line">                  &#125;)</span><br><span class="line">                &#125;</span><br><span class="line">              &#125;)</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        fail: () &#x3D;&gt; &#123; &#125;,</span><br><span class="line">        complete: () &#x3D;&gt; &#123; &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">      wx.getSetting(&#123;</span><br><span class="line">        success(res) &#123;</span><br><span class="line">          &#x2F;&#x2F; å¦‚æœæ²¡æœ‰åˆ™è·å–æˆæƒ</span><br><span class="line">          if (!res.authSetting[&#39;scope.writePhotosAlbum&#39;]) &#123;</span><br><span class="line">            wx.authorize(&#123;</span><br><span class="line">              scope: &#39;scope.writePhotosAlbum&#39;,</span><br><span class="line">              success() &#123;</span><br><span class="line">                openStatus &#x3D; true</span><br><span class="line">                wx.saveImageToPhotosAlbum(&#123;</span><br><span class="line">                  filePath: canvasToTempFilePath,</span><br><span class="line">                  success() &#123;</span><br><span class="line">                    that.setData(&#123;</span><br><span class="line">                      showShareImg: false</span><br><span class="line">                    &#125;)</span><br><span class="line">                    wx.showToast(&#123;</span><br><span class="line">                      title: &#39;å›¾ç‰‡ä¿å­˜æˆåŠŸï¼Œå¿«å»åˆ†äº«åˆ°æœ‹å‹åœˆå§~&#39;,</span><br><span class="line">                      icon: &#39;none&#39;,</span><br><span class="line">                      duration: 2000</span><br><span class="line">                    &#125;)</span><br><span class="line">                  &#125;,</span><br><span class="line">                  fail() &#123;</span><br><span class="line">                    wx.showToast(&#123;</span><br><span class="line">                      title: &#39;ä¿å­˜å¤±è´¥&#39;,</span><br><span class="line">                      icon: &#39;none&#39;</span><br><span class="line">                    &#125;)</span><br><span class="line">                  &#125;</span><br><span class="line">                &#125;)</span><br><span class="line">              &#125;,</span><br><span class="line">              fail() &#123;</span><br><span class="line">                &#x2F;&#x2F; å¦‚æœç”¨æˆ·æ‹’ç»è¿‡æˆ–æ²¡æœ‰æˆæƒï¼Œåˆ™å†æ¬¡æ‰“å¼€æˆæƒçª—å£</span><br><span class="line">                openStatus &#x3D; false</span><br><span class="line">                console.log(&#39;è¯·è®¾ç½®å…è®¸è®¿é—®ç›¸å†Œ&#39;)</span><br><span class="line">                wx.showToast(&#123;</span><br><span class="line">                  title: &#39;è¯·è®¾ç½®å…è®¸è®¿é—®ç›¸å†Œ&#39;,</span><br><span class="line">                  icon: &#39;none&#39;</span><br><span class="line">                &#125;)</span><br><span class="line">              &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">          &#125; else &#123;</span><br><span class="line">            &#x2F;&#x2F; æœ‰åˆ™ç›´æ¥ä¿å­˜</span><br><span class="line">            openStatus &#x3D; true</span><br><span class="line">            wx.saveImageToPhotosAlbum(&#123;</span><br><span class="line">              filePath: canvasToTempFilePath,</span><br><span class="line">              success() &#123;</span><br><span class="line">                that.setData(&#123;</span><br><span class="line">                  showShareImg: false</span><br><span class="line">                &#125;)</span><br><span class="line">                wx.showToast(&#123;</span><br><span class="line">                  title: &#39;å›¾ç‰‡ä¿å­˜æˆåŠŸï¼Œå¿«å»åˆ†äº«åˆ°æœ‹å‹åœˆå§~&#39;,</span><br><span class="line">                  icon: &#39;none&#39;,</span><br><span class="line">                  duration: 2000</span><br><span class="line">                &#125;)</span><br><span class="line">              &#125;,</span><br><span class="line">              fail() &#123;</span><br><span class="line">                wx.showToast(&#123;</span><br><span class="line">                  title: &#39;ä¿å­˜å¤±è´¥&#39;,</span><br><span class="line">                  icon: &#39;none&#39;</span><br><span class="line">                &#125;)</span><br><span class="line">              &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        fail(err) &#123;</span><br><span class="line">          console.log(err)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>è‡³æ­¤æ‰€æœ‰çš„æ­¥éª¤éƒ½å·²å®ç°ï¼Œåœ¨ç»˜åˆ¶çš„æ—¶å€™ä¼šé‡åˆ°ä¸€äº›å¼‚æ­¥è¯·æ±‚åå°è¿”å›çš„æ•°æ®ï¼Œæ‰€ä»¥æˆ‘ç”¨promiseå’Œasyncå’Œawaitè¿›è¡Œäº†å°è£…ï¼Œç¡®ä¿å¯¼å‡ºçš„å›¾ç‰‡ä¿¡æ¯æ˜¯å®Œæ•´çš„ã€‚åœ¨ç»˜åˆ¶çš„è¿‡ç¨‹ç¡®å®é‡åˆ°ä¸€äº›å‘çš„åœ°æ–¹ã€‚æ¯”å¦‚åˆå¼€å§‹å¯¼å‡ºçš„å›¾ç‰‡æ¯”ä¾‹å¤§å°ä¸å¯¹ï¼Œè¿˜æœ‰ç”¨measureTextæµ‹é‡æ–‡å­—å®½åº¦ä¸å¯¹ï¼Œå¤šæ¬¡ç»˜åˆ¶ï¼ˆå¯èƒ½å—ç½‘ç»œåŸå› ï¼‰æœ‰æ—¶å¯¼å‡ºçš„å›¾ç‰‡ä¸Šçš„æ–‡å­—é¢œè‰²ä¼šæœ‰è¯¯å·®ç­‰ã€‚å¦‚æœä½ ä¹Ÿé‡åˆ°ä¸€äº›æ¯”è¾ƒå‘çš„åœ°æ–¹å¯ä»¥ä¸€èµ·æ¢è®¨ä¸‹åšä¸ªè®°å½•</p>
<p>å‚è€ƒé“¾æ¥ï¼š<a href="https://mp.weixin.qq.com/s/Dsc81YRD5WrI6V105ci4hg" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/Dsc81YRD5WrI6V105ci4hg</a></p>
]]></content>
      <categories>
        <category>soft</category>
      </categories>
      <tags>
        <tag>å°ç¨‹åº</tag>
        <tag>æµ·æŠ¥</tag>
        <tag>åˆ†äº«æœ‹å‹åœˆ</tag>
      </tags>
  </entry>
  <entry>
    <title>å°ç¨‹åºå¼€å‘ä¹‹ä¸‹è½½ä¿å­˜å›¾ç‰‡</title>
    <url>/2020/10/10/%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91%E4%B9%8B%E4%B8%8B%E8%BD%BD%E4%BF%9D%E5%AD%98%E5%9B%BE%E7%89%87/</url>
    <content><![CDATA[<h3 id="ä¸‹è½½pdf"><a href="#ä¸‹è½½pdf" class="headerlink" title="ä¸‹è½½pdf"></a>ä¸‹è½½pdf</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">downloadFile: function(e) &#123;</span><br><span class="line">    let url &#x3D; e.currentTarget.dataset.url;</span><br><span class="line">    wx.downloadFile(&#123;</span><br><span class="line">        url: url,</span><br><span class="line">        success: function(res) &#123;</span><br><span class="line">            var filePath &#x3D; res.tempFilePath;</span><br><span class="line">            wx.openDocument(&#123;</span><br><span class="line">                filePath: filePath,</span><br><span class="line">                fileType:&quot;pdf&quot;,&#x2F;&#x2F;å¿…å¡«</span><br><span class="line">                success: function(res) &#123;</span><br><span class="line">                    console.log(&#39;æ‰“å¼€æ–‡æ¡£æˆåŠŸ&#39;)</span><br><span class="line">                &#125;,</span><br><span class="line">                fail: function(res) &#123;</span><br><span class="line">                    console.log(res);</span><br><span class="line">                &#125;,</span><br><span class="line">                complete: function(res) &#123;</span><br><span class="line">                    console.log(res);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;,</span><br><span class="line">        fail: function(res) &#123;</span><br><span class="line">            console.log(&#39;æ–‡ä»¶ä¸‹è½½å¤±è´¥&#39;);</span><br><span class="line">        &#125;,</span><br><span class="line">        complete: function(res) &#123;&#125;,</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<a id="more"></a>

<h3 id="é•¿æŒ‰ä¿å­˜å›¾ç‰‡"><a href="#é•¿æŒ‰ä¿å­˜å›¾ç‰‡" class="headerlink" title="é•¿æŒ‰ä¿å­˜å›¾ç‰‡"></a>é•¿æŒ‰ä¿å­˜å›¾ç‰‡</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;image src&#x3D;&quot;&#123;&#123;url&#125;&#125;&quot; data-url&#x3D;&quot;&#123;&#123;url&#125;&#125;&quot; bindlongpress&#x3D;&quot;saveImage&quot;&gt;&lt;&#x2F;image&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Page(&#123;</span><br><span class="line"> data: &#123;</span><br><span class="line">   			     url:&quot;https:&#x2F;&#x2F;wechat.weixinzjit.com&#x2F;costa&#x2F;public&#x2F;uploads&#x2F;images&#x2F;20190109&#x2F;67b16149693920598435315fd0d5ab3e.jpg&quot;</span><br><span class="line"> &#125;,</span><br><span class="line"> &#x2F;&#x2F; é•¿æŒ‰ä¿å­˜å›¾ç‰‡</span><br><span class="line"> saveImg(e)&#123;</span><br><span class="line">  let url &#x3D; e.currentTarget.dataset.url;</span><br><span class="line">  &#x2F;&#x2F;ç”¨æˆ·éœ€è¦æˆæƒ</span><br><span class="line">  wx.getSetting(&#123;</span><br><span class="line">   success: (res) &#x3D;&gt; &#123;</span><br><span class="line">    if (!res.authSetting[&#39;scope.writePhotosAlbum&#39;]) &#123;</span><br><span class="line">     wx.authorize(&#123;</span><br><span class="line">      scope: &#39;scope.writePhotosAlbum&#39;,</span><br><span class="line">      success:()&#x3D;&gt; &#123;</span><br><span class="line">       &#x2F;&#x2F; åŒæ„æˆæƒ</span><br><span class="line">       this.saveImg1(url);</span><br><span class="line">      &#125;,</span><br><span class="line">      fail: (res) &#x3D;&gt;&#123;</span><br><span class="line">       console.log(res);</span><br><span class="line">      &#125;</span><br><span class="line">     &#125;)</span><br><span class="line">    &#125;else&#123;</span><br><span class="line">     &#x2F;&#x2F; å·²ç»æˆæƒäº†</span><br><span class="line">     this.saveImg1(url);</span><br><span class="line">    &#125;</span><br><span class="line">   &#125;,</span><br><span class="line">   fail: (res) &#x3D;&gt;&#123;</span><br><span class="line">    console.log(res);</span><br><span class="line">   &#125;</span><br><span class="line">  &#125;)  </span><br><span class="line"> &#125;,</span><br><span class="line"> saveImg1(url)&#123;</span><br><span class="line">  wx.getImageInfo(&#123;</span><br><span class="line">   src: url,</span><br><span class="line">   success:(res)&#x3D;&gt; &#123;</span><br><span class="line">    let path &#x3D; res.path;</span><br><span class="line">    wx.saveImageToPhotosAlbum(&#123;</span><br><span class="line">     filePath:path,</span><br><span class="line">     success:(res)&#x3D;&gt; &#123; </span><br><span class="line">      console.log(res);</span><br><span class="line">     &#125;,</span><br><span class="line">     fail:(res)&#x3D;&gt;&#123;</span><br><span class="line">      console.log(res);</span><br><span class="line">     &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">   &#125;,</span><br><span class="line">   fail:(res)&#x3D;&gt; &#123;</span><br><span class="line">    console.log(res);</span><br><span class="line">   &#125;</span><br><span class="line">  &#125;)</span><br><span class="line"> &#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>soft</category>
      </categories>
      <tags>
        <tag>å°ç¨‹åº</tag>
      </tags>
  </entry>
  <entry>
    <title>å°ç¨‹åºå¼€å‘ä¹‹äº’ç›¸è·³è½¬</title>
    <url>/2020/10/10/%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91%E4%B9%8B%E4%BA%92%E7%9B%B8%E8%B7%B3%E8%BD%AC/</url>
    <content><![CDATA[<p><a href="https://www.cnblogs.com/wangmaoling/p/11764651.html" target="_blank" rel="noopener">å¾®ä¿¡å°ç¨‹åºä¸å†…åµŒwebviewä¹‹é—´æ¥å›è·³è½¬çš„å‡ ç‚¹æ€»ç»“ï¼Œä»¥åŠäºŒç»´ç çš„ä½¿ç”¨</a></p>
<p>æˆªæ­¢åˆ°å‘ç¨¿å°ç¨‹åºæ”¯æŒçš„åŠŸèƒ½ï¼Œåç»­å¦‚æœå°ç¨‹åºæ›´æ–°åœ¨å®Œå–„æ–‡ç¨¿ã€‚</p>
<h3 id="å°ç¨‹åºå¯ä»¥å†…åµŒç»„ä»¶è·³è½¬åˆ°h5é¡µé¢"><a href="#å°ç¨‹åºå¯ä»¥å†…åµŒç»„ä»¶è·³è½¬åˆ°h5é¡µé¢" class="headerlink" title="å°ç¨‹åºå¯ä»¥å†…åµŒç»„ä»¶è·³è½¬åˆ°h5é¡µé¢"></a>å°ç¨‹åºå¯ä»¥å†…åµŒç»„ä»¶è·³è½¬åˆ°h5é¡µé¢</h3><p>\1. å°ç¨‹åºå¯ä»¥å†…åµŒç»„ä»¶è·³è½¬åˆ°h5é¡µé¢ï¼Œå‰ææ˜¯åœ¨å°ç¨‹åºåå°é…ç½®ç›¸åº”çš„ä¸šåŠ¡åŸŸåã€‚æ–°æ‰“å¼€çš„h5é¡µé¢ä¼šæ›¿ä»£å°ç¨‹åºç»„ä»¶å†…çš„å…¶å®ƒç»„ä»¶ï¼Œå³ä¸ºh5ä¸èƒ½ä¸å°ç¨‹åºç»„ä»¶å…±å­˜æ˜¾ç¤ºåœ¨å±å¹•ä¸Šã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;web-view src&#x3D;&quot;&#123;&#123;content&#125;&#125;&quot;&gt;&lt;&#x2F;web-view&gt;</span><br></pre></td></tr></table></figure>

<a id="more"></a>

<h3 id="æ‰“å¼€çš„h5é¡µé¢å¯ä»¥é€šè¿‡è§¦å‘æŸäº‹ä»¶å¯ä»¥è·³è½¬åˆ°æœ¬å°ç¨‹åº"><a href="#æ‰“å¼€çš„h5é¡µé¢å¯ä»¥é€šè¿‡è§¦å‘æŸäº‹ä»¶å¯ä»¥è·³è½¬åˆ°æœ¬å°ç¨‹åº" class="headerlink" title="æ‰“å¼€çš„h5é¡µé¢å¯ä»¥é€šè¿‡è§¦å‘æŸäº‹ä»¶å¯ä»¥è·³è½¬åˆ°æœ¬å°ç¨‹åº"></a>æ‰“å¼€çš„h5é¡µé¢å¯ä»¥é€šè¿‡è§¦å‘æŸäº‹ä»¶å¯ä»¥è·³è½¬åˆ°æœ¬å°ç¨‹åº</h3><p>\2. æ‰“å¼€çš„h5é¡µé¢å¯ä»¥é€šè¿‡è§¦å‘æŸäº‹ä»¶å¯ä»¥è·³è½¬åˆ°<strong>æœ¬å°ç¨‹åº(ä¸èƒ½æ˜¯å…¶å®ƒå°ç¨‹åº)</strong>çš„ä»»æ„é¡µé¢ï¼Œå¹¶ä¸”å¯ä»¥æºå¸¦å‚æ•°ã€‚å‰ææ˜¯åœ¨h5é¡µé¢å¼•å…¥ç›¸åº”jssdkã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang&#x3D;&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;title&gt;Document&lt;&#x2F;title&gt;</span><br><span class="line">    &lt;meta name&#x3D;&quot;viewport&quot; content&#x3D;&quot;user-scalable&#x3D;no, width&#x3D;device-width, initial-scale&#x3D;1, maximum-scale&#x3D;1&quot; &#x2F;&gt;</span><br><span class="line">    &lt;script src&#x3D;&quot;https:&#x2F;&#x2F;res.wx.qq.com&#x2F;open&#x2F;js&#x2F;jweixin-1.3.0.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;p id&#x3D;&quot;app&quot;&gt;ç‚¹æˆ‘è·³è½¬æ­¤å°ç¨‹åº&lt;&#x2F;p&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        var app &#x3D; document.getElementById(&#39;app&#39;);</span><br><span class="line">        app.onclick &#x3D; function () &#123;</span><br><span class="line">            wx.miniProgram.redirectTo(&#123;url:&#39;&#x2F;pages&#x2F;index&#x2F;index?id&#x3D;111&#39;&#125;);</span><br><span class="line">        &#125;;</span><br><span class="line">    &lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>



<h3 id="æœ¬å°ç¨‹åºå¯ä»¥è·³è½¬åˆ°å…¶å®ƒå°ç¨‹åº"><a href="#æœ¬å°ç¨‹åºå¯ä»¥è·³è½¬åˆ°å…¶å®ƒå°ç¨‹åº" class="headerlink" title="æœ¬å°ç¨‹åºå¯ä»¥è·³è½¬åˆ°å…¶å®ƒå°ç¨‹åº"></a>æœ¬å°ç¨‹åºå¯ä»¥è·³è½¬åˆ°å…¶å®ƒå°ç¨‹åº</h3><p>\3. æœ¬å°ç¨‹åºå¯ä»¥è·³è½¬åˆ°å…¶å®ƒå°ç¨‹åºï¼Œå‰æè¦çŸ¥é“å¯¹æ–¹APPIDã€‚å¹¶ä¸”è¦åœ¨app.jsonæ–‡ä»¶é…ç½®ä¸‹ï¼Œè¿™é‡Œä¹Ÿå¯ä»¥é€šè¿‡pathè·³è½¬åˆ°å…¶å®ƒå­é¡µé¢,ä¸å¡«é»˜è®¤ä¸»é¡µã€‚</p>
<p><img src="https://img2018.cnblogs.com/blog/1105103/201910/1105103-20191030135932605-1838988117.png" alt="img"></p>
<p>è¯¦æƒ…å‚è€ƒå°ç¨‹åºæ–‡æ¡£ï¼š<a href="https://developers.weixin.qq.com/miniprogram/dev/component/navigator.html" target="_blank" rel="noopener">https://developers.weixin.qq.com/miniprogram/dev/component/navigator.html</a></p>
<p><strong>è·³è½¬æ–¹æ³•ä¸€ï¼š</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">wx.navigateToMiniProgram(&#123;</span><br><span class="line">  appId: &#39;&#39;,&#x2F;&#x2F;è¦æ‰“å¼€çš„å°ç¨‹åº appId</span><br><span class="line">  path: &#39;page&#x2F;index&#x2F;index?id&#x3D;123&#39;,&#x2F;&#x2F;æ‰“å¼€çš„é¡µé¢è·¯å¾„ï¼Œå¦‚æœä¸ºç©ºåˆ™æ‰“å¼€é¦–é¡µ</span><br><span class="line">  extraData: &#123;</span><br><span class="line">    foo: &#39;bar&#39;&#x2F;&#x2F;éœ€è¦ä¼ é€’ç»™ç›®æ ‡å°ç¨‹åºçš„æ•°æ®ï¼Œç›®æ ‡å°ç¨‹åºå¯åœ¨ App.onLaunchï¼ŒApp.onShow ä¸­è·å–åˆ°è¿™ä»½æ•°æ®</span><br><span class="line">  &#125;,</span><br><span class="line">  envVersion: &#39;develop&#39;,&#x2F;&#x2F;è¦æ‰“å¼€çš„å°ç¨‹åºç‰ˆæœ¬ã€‚ä»…åœ¨å½“å‰å°ç¨‹åºä¸ºå¼€å‘ç‰ˆæˆ–ä½“éªŒç‰ˆæ—¶æ­¤å‚æ•°æœ‰æ•ˆã€‚å¦‚æœå½“å‰å°ç¨‹åºæ˜¯æ­£å¼ç‰ˆï¼Œåˆ™æ‰“å¼€çš„å°ç¨‹åºå¿…å®šæ˜¯æ­£å¼ç‰ˆã€‚</span><br><span class="line">  success(res) &#123;</span><br><span class="line">    &#x2F;&#x2F; æ‰“å¼€æˆåŠŸ</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p><strong>è·³è½¬æ–¹æ³•äºŒï¼š</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;å°ç¨‹åºä»£ç </span><br><span class="line">&lt;navigator target&#x3D;&quot;miniProgram&quot; open-type&#x3D;&quot;navigate&quot; app-id&#x3D;&quot;å¯¹æ–¹APPIDå¿…å¡«&quot; path&#x3D;&quot;&quot; extra-data&#x3D;&quot;&quot; version&#x3D;&quot;release&quot; hover-class&#x3D;&quot;none&quot;&gt;&lt;&#x2F;navigator&gt;</span><br></pre></td></tr></table></figure>

<p><strong>è¿”å›æœ¬å°ç¨‹åº</strong>ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">wx.navigateBackMiniProgram(&#123;</span><br><span class="line">    extraData: &#123;&#125;,</span><br><span class="line">    success(res) &#123;</span><br><span class="line">    &#x2F;&#x2F; è¿”å›æˆåŠŸ</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>



<h3 id="ä¸¤ä¸ªå°ç¨‹åºé—´çš„ç›¸äº’è·³è½¬ä¼ å‚"><a href="#ä¸¤ä¸ªå°ç¨‹åºé—´çš„ç›¸äº’è·³è½¬ä¼ å‚" class="headerlink" title="ä¸¤ä¸ªå°ç¨‹åºé—´çš„ç›¸äº’è·³è½¬ä¼ å‚"></a>ä¸¤ä¸ªå°ç¨‹åºé—´çš„ç›¸äº’è·³è½¬ä¼ å‚</h3><p>å°ç¨‹åºaä»£ç ï¼š è·³è½¬åˆ°å°ç¨‹åºbå¹¶ä¼ id</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">wx.navigateToMiniProgram(&#123;</span><br><span class="line">appId: &#39;&#39;,</span><br><span class="line">path: &#39;pages&#x2F;index&#x2F;index?id&#x3D;123&#39;,</span><br><span class="line">extraData: &#123;&#125;,</span><br><span class="line">envVersion: &#39;develop&#39;,</span><br><span class="line">success(res) &#123;</span><br><span class="line">&#x2F;&#x2F; æ‰“å¼€æˆåŠŸ</span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>å°ç¨‹åºbä»£ç ï¼š</p>
<p>//index.js æ¥æ”¶å¹¶æ‰“å°å°ç¨‹åºaä¼ é€’è¿‡æ¥çš„å‚æ•°</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Page(&#123;</span><br><span class="line">onLoad: function (options) &#123;</span><br><span class="line">console.log(options)</span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>



<h3 id="webviewå†…åµŒçš„h5é¡µé¢ï¼Œè·³è½¬åˆ°å…¶å®ƒå°ç¨‹åº"><a href="#webviewå†…åµŒçš„h5é¡µé¢ï¼Œè·³è½¬åˆ°å…¶å®ƒå°ç¨‹åº" class="headerlink" title="webviewå†…åµŒçš„h5é¡µé¢ï¼Œè·³è½¬åˆ°å…¶å®ƒå°ç¨‹åº"></a>webviewå†…åµŒçš„h5é¡µé¢ï¼Œè·³è½¬åˆ°å…¶å®ƒå°ç¨‹åº</h3><p>\4. å¦‚æœæƒ³è¦åœ¨webviewå†…åµŒçš„h5é¡µé¢ï¼Œè·³è½¬åˆ°å…¶å®ƒå°ç¨‹åºçš„å®ç°é€”å¾„ã€‚</p>
<p>ã€€ã€€a. å†…åµŒh5æ˜¯ä¸æ”¯æŒè·³è½¬åˆ°å…¶å®ƒå¤–éƒ¨å°ç¨‹åºï¼Œå³ä¾¿ç”¨ä¸Šé¢2é‡Œé¢çš„è§¦å‘äº‹ä»¶ä¹Ÿä¸èƒ½ã€‚</p>
<p>ã€€ã€€b. å®ç°æ–¹æ³•åªèƒ½æ˜¯åœ¨å†…åµŒçš„h5é¡µé¢é‡Œé¢æ’å…¥è¦è·³è½¬çš„å°ç¨‹åºçš„äºŒç»´ç ï¼Œå¯ä»¥é€šè¿‡é•¿æŒ‰è¯†åˆ«çš„æ–¹æ³•è·³è½¬è¿‡å»ã€‚ï¼ˆ</p>
<p>ã€€ã€€  <strong>å°ç¨‹åºåªè¯†åˆ«åµŒå…¥h5é‡Œé¢çš„å…¶å®ƒçš„å°ç¨‹åºçš„äºŒç»´ç ï¼Œä¸ä¼šè¯†åˆ«å…¶å®ƒäºŒç»´ç ï¼Œè¿™ä¸ªäºŒç»´å—è¿˜å¿…é¡»æ˜¯èŠèŠ±ç </strong>ï¼‰</p>
<p>ã€€ã€€c. èŠèŠ±äºŒç»´ç å¯ä»¥é€šè¿‡å¾®ä¿¡å°ç¨‹åºåå°ç”Ÿæˆï¼Œå¯ä»¥ç”Ÿæˆå­é¡µé¢çš„èŠèŠ±äºŒç»´ç ï¼Œä¹Ÿå¯ä»¥ç”¨å¤–éƒ¨å·¥å…·æ¥å®ç°è¿™ä¸ªèŠèŠ±äºŒç»´ç çš„ç”Ÿæˆã€‚</p>
<p>ã€€ã€€  è‰æ–™äºŒç»´ç å¯ä»¥å®ç°å®ç°èŠèŠ±äºŒç»´ç ï¼Œå¹¶ä¸”å¯ä»¥æœ‰å‚æ•°ï¼š<a href="https://cli.im/mina/home" target="_blank" rel="noopener">https://cli.im/mina/home</a></p>
<p>ã€€ã€€d. å°ç¨‹åºäºŒç»´ç åªèƒ½æœ‰ä¸€ä¸ªå‚æ•°ï¼Œå¦‚æœè®¾ç½®äº†å¤šä¸ªå‚æ•°å°±ä¼šè¢«æ‹¼æ¥ã€‚å¦‚æœæƒ³è¦ä¼ å¤šä¸ªå‚æ•°ï¼Œéœ€è¦è‡ªå®šä¹‰åˆ†å‰²ç¬¦ï¼Œä»¥åŠè·å–ã€‚</p>
<h3 id="appå’Œå°ç¨‹åºäº’ç›¸è·³è½¬"><a href="#appå’Œå°ç¨‹åºäº’ç›¸è·³è½¬" class="headerlink" title="appå’Œå°ç¨‹åºäº’ç›¸è·³è½¬"></a>appå’Œå°ç¨‹åºäº’ç›¸è·³è½¬</h3><p>appå’Œå°ç¨‹åºäº’ç›¸è·³è½¬ï¼š</p>
<p>1ã€Appä¸»åŠ¨å‘èµ·å°ç¨‹åºå¡ç‰‡åˆ†äº«åˆ°å¾®ä¿¡ï¼Œå¾®ä¿¡ç‚¹å‡»æ‰“å¼€å°ç¨‹åºï¼Œè¿™æ—¶çš„å°ç¨‹åºå¯ä»¥æ‰“å¼€App</p>
<p>2ã€Appä¸»åŠ¨å‘èµ·æ‰“å¼€å°ç¨‹åºï¼Œè¿™æ—¶çš„å°ç¨‹åºå¯ä»¥æ‰“å¼€App</p>
<p>ç›®å‰ä¸»è¦å°±è¿™ä¸¤ç§æ–¹å¼å§ï¼Œè¯´æ˜¯äº’ç›¸è·³è½¬å¥½åƒä¸å¤ªå¦¥å½“ï¼Œæ¯•ç«ŸAppæ‰æ˜¯ä¸»åŠ¨ä¸€æ–¹ï¼Œå°ç¨‹åºåªèƒ½è¢«åŠ¨è¿”å›ï¼Œç±»ä¼¼äºåˆ†äº«ï¼ŒAppå¦‚æœä¸å‘èµ·åˆ†äº«åˆ°å¾®ä¿¡ï¼Œå¾®ä¿¡æ˜¯ä¸èƒ½è¿”å›ä½ çš„Appçš„ã€‚è¯´åˆ°è¿™é‡Œå¤§å®¶åº”è¯¥éƒ½æœ‰ä¸€ä¸ªå°è±¡äº†å§ã€‚</p>
<p>è‡³äºä¸Šé¢ä¸¤ç§æ–¹å¼çš„å®ç°æ–¹æ³•ä¹Ÿç®€å•ï¼Œåªè¦æŠŠå¾®ä¿¡å®˜ç½‘çš„ä»£ç å¤åˆ¶è¿‡æ¥å°±èƒ½ç”¨äº†ã€‚</p>
<p>Appä¸»åŠ¨åˆ†äº«å°ç¨‹åºå¡ç‰‡ï¼ˆ<a href="https://open.weixin.qq.com/cgi-bin/showdocument?action=dir_list&t=resource/res_list&verify=1&id=open1419317340&token=ae4e632e7dcc175a183ce11346e0dfcd98399d82&lang=zh_CN" target="_blank" rel="noopener">å¾®ä¿¡å®˜ç½‘</a>ï¼‰ï¼šå°ç¨‹åºæµ‹è¯•ç‰ˆä¸èƒ½åˆ†äº«</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">WXMiniProgramObject miniProgramObj = <span class="keyword">new</span> WXMiniProgramObject();</span><br><span class="line">miniProgramObj.webpageUrl = <span class="string">"http://www.qq.com"</span>; <span class="comment">// å…¼å®¹ä½ç‰ˆæœ¬çš„ç½‘é¡µé“¾æ¥</span></span><br><span class="line">miniProgramObj.miniprogramType = WXMiniProgramObject.MINIPTOGRAM_TYPE_RELEASE;<span class="comment">// æ­£å¼ç‰ˆ:0ï¼Œæµ‹è¯•ç‰ˆ:1ï¼Œä½“éªŒç‰ˆ:2</span></span><br><span class="line">miniProgramObj.userName = <span class="string">"gh_d43f693ca31f"</span>;     <span class="comment">// å°ç¨‹åºåŸå§‹id</span></span><br><span class="line">miniProgramObj.path = <span class="string">"/pages/media"</span>;            <span class="comment">//å°ç¨‹åºé¡µé¢è·¯å¾„</span></span><br><span class="line">WXMediaMessage msg = <span class="keyword">new</span> WXMediaMessage(miniProgramObj);</span><br><span class="line">msg.title = <span class="string">"å°ç¨‹åºæ¶ˆæ¯Title"</span>;                    <span class="comment">// å°ç¨‹åºæ¶ˆæ¯title</span></span><br><span class="line">msg.description = <span class="string">"å°ç¨‹åºæ¶ˆæ¯Desc"</span>;               <span class="comment">// å°ç¨‹åºæ¶ˆæ¯desc</span></span><br><span class="line">msg.thumbData = getThumb();                      <span class="comment">// å°ç¨‹åºæ¶ˆæ¯å°é¢å›¾ç‰‡ï¼Œå°äº128k</span></span><br><span class="line"> </span><br><span class="line">SendMessageToWX.Req req = <span class="keyword">new</span> SendMessageToWX.Req();</span><br><span class="line">req.transaction = buildTransaction(<span class="string">"webpage"</span>);</span><br><span class="line">req.message = msg;</span><br><span class="line">req.scene = SendMessageToWX.Req.WXSceneSession;  <span class="comment">// ç›®å‰æ”¯æŒä¼šè¯</span></span><br><span class="line">api.sendReq(req);</span><br></pre></td></tr></table></figure>

<p>Appä¸»åŠ¨æ‰“å¼€å°ç¨‹åºï¼ˆ<a href="https://open.weixin.qq.com/cgi-bin/showdocument?action=dir_list&t=resource/res_list&verify=1&id=21526646437Y6nEC&token=ae4e632e7dcc175a183ce11346e0dfcd98399d82&lang=zh_CN" target="_blank" rel="noopener">å¾®ä¿¡å®˜ç½‘</a>ï¼‰ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">String appId = <span class="string">"wxd930ea5d5a258f4f"</span>; <span class="comment">// å¡«åº”ç”¨AppId</span></span><br><span class="line">IWXAPI api = WXAPIFactory.createWXAPI(context, appId);</span><br><span class="line">WXLaunchMiniProgram.Req req = <span class="keyword">new</span> WXLaunchMiniProgram.Req();</span><br><span class="line">req.userName = <span class="string">"gh_d43f693ca31f"</span>; <span class="comment">// å¡«å°ç¨‹åºåŸå§‹id</span></span><br><span class="line">req.path = path;                  <span class="comment">//æ‹‰èµ·å°ç¨‹åºé¡µé¢çš„å¯å¸¦å‚è·¯å¾„ï¼Œä¸å¡«é»˜è®¤æ‹‰èµ·å°ç¨‹åºé¦–é¡µ</span></span><br><span class="line">req.miniprogramType = WXLaunchMiniProgram.Req.MINIPTOGRAM_TYPE_RELEASE;<span class="comment">// å¯é€‰æ‰“å¼€ å¼€å‘ç‰ˆï¼Œä½“éªŒç‰ˆå’Œæ­£å¼ç‰ˆ</span></span><br><span class="line">api.sendReq(req);</span><br><span class="line"></span><br><span class="line">WXEntryActivityä¸­</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onResp</span><span class="params">(BaseResp resp)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (resp.getType() == ConstantsAPI.COMMAND_LAUNCH_WX_MINIPROGRAM) &#123;</span><br><span class="line">        WXLaunchMiniProgram.Resp launchMiniProResp = (WXLaunchMiniProgram.Resp) resp;</span><br><span class="line">        String extraData =launchMiniProResp.extMsg; <span class="comment">// å¯¹åº”JsApi navigateBackApplicationä¸­çš„extraDataå­—æ®µæ•°æ®</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å°ç¨‹åºè¿”å›Appå°±æ›´ç®€å•äº†ï¼ˆ<a href="https://developers.weixin.qq.com/miniprogram/dev/api/launchApp.html" target="_blank" rel="noopener">å¾®ä¿¡å®˜ç½‘</a>ï¼‰ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">open-type</span>=<span class="string">"launchApp"</span> <span class="attr">app-parameter</span>=<span class="string">"wechat"</span> <span class="attr">binderror</span>=<span class="string">"launchAppError"</span>&gt;</span>æ‰“å¼€APP<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>å¦é™„ï¼šå¾®ä¿¡åˆ†äº«æ‰“å¼€Appï¼šä½¿ç”¨é­”çª—SDKå®ç°ï¼Œå®é™…æ˜¯ç½‘é¡µæ‰“å¼€Appï¼Œè‹¹æœå€’æ˜¯å¯ä»¥ç›´æ¥æ‰“å¼€Appï¼Œå®‰å“åªèƒ½ç”¨ç½‘é¡µæ‰“å¼€åˆ†äº«å†æ‰“å¼€Appã€‚å…·ä½“å®ç°å¯ä»¥æŸ¥çœ‹<a href="http://www.magicwindow.cn/doc/" target="_blank" rel="noopener">å®˜ç½‘æ–‡æ¡£</a>ã€‚</p>
]]></content>
      <categories>
        <category>soft</category>
      </categories>
      <tags>
        <tag>å°ç¨‹åº</tag>
        <tag>webview</tag>
        <tag>è·³è½¬</tag>
      </tags>
  </entry>
  <entry>
    <title>å°ç¨‹åºå¼€å‘ä¹‹åˆ†äº«</title>
    <url>/2020/08/26/%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91%E4%B9%8B%E5%88%86%E4%BA%AB/</url>
    <content><![CDATA[<h3 id="å®ç°æ–¹å¼"><a href="#å®ç°æ–¹å¼" class="headerlink" title="å®ç°æ–¹å¼"></a>å®ç°æ–¹å¼</h3><p>åœ¨å°ç¨‹åºå¼€å‘APIä¸­ï¼Œå‘é€ç»™å¥½å‹/ç¾¤ï¼Œå¯ä»¥æœ‰ä¸¤ç§å®ç°æ–¹å¼ï¼š</p>
<p>1ï¼‰å…¥å£</p>
<p>a.å°ç¨‹åºå³ä¸Šè§’è‡ªå¸¦çš„åˆ†äº«åŠŸèƒ½ï¼ˆâ€¦ï¼‰ï¼š</p>
<p>å¦‚æœåœ¨å½“å‰é¡µé¢è°ƒç”¨wx.hideShareMenu()æ–¹æ³•ï¼Œé‚£ä¹ˆå³ä¸Šè§’çš„åˆ†äº«åŠŸèƒ½å°†è¢«éšè—ï¼Œå½“ç„¶ï¼Œéšè—æ–¹æ³•ä¸ç°å®æ–¹æ³•æ˜¯æˆå¯¹å‡ºç°çš„ï¼Œè°ƒç”¨wx.showShareMenu()æ–¹æ³•ï¼Œå¯ä»¥æ˜¾ç¤ºè¯¥åŠŸèƒ½ã€‚</p>
<p>b.è‡ªå®šä¹‰åˆ†äº«æŒ‰é’®ï¼š<butto n open-type="share">åˆ†äº«&lt;/butto n&gt;</butto></p>
<p>ä»¥ä¸Šä¸¤ç§æ–¹å¼å‡å¯å®ç°åˆ†äº«åŠŸèƒ½</p>
<a id="more"></a>

<p>2ï¼‰åˆ†äº«æ•°æ®ç±»å‹</p>
<p>ä¸ç®¡é‡‡ç”¨ä»¥ä¸Šä½•ç§æ–¹æ³•ï¼Œè½¬å‘ç»™å¥½å‹çš„æ•°æ®æ€»å½’æœ‰å®ƒçš„æ•°æ®æ¨¡å‹ï¼Œè¯¥æ•°æ®æ¨¡å‹æ˜¯é€šè¿‡onShareAppMessage(options)è¿”å›çš„ï¼Œä¹Ÿå°±æ˜¯returnä¸€ä¸ªobjectå³å¯ã€‚å…¶ä¸­ï¼Œoptions.fromå¯ä»¥ç”¨æ¥åˆ¤æ–­æ˜¯ä»è‡ªå®šä¹‰buttonæ‰“å¼€çš„è½¬å‘é¡µé¢ï¼Œè¿˜æ˜¯ä»å³ä¸Šè§’çš„æ‰“å¼€çš„è½¬å‘é¡µé¢ã€‚</p>
<p>ä»¥ä¸‹æ˜¯è¯¥objectçš„æ•°æ®æ¨¡å‹ï¼š</p>
<p><img src="https:////upload-images.jianshu.io/upload_images/6901201-5e4dd35c86bc518a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/873/format/webp" alt="img"></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;**</span><br><span class="line">   * ç”¨æˆ·ç‚¹å‡»å³ä¸Šè§’åˆ†äº«</span><br><span class="line">   *&#x2F;</span><br><span class="line">  onShareAppMessage: function () &#123;</span><br><span class="line">    let url &#x3D; encodeURIComponent(&#39;&#x2F;pages&#x2F;navMain&#39;); </span><br><span class="line">    return &#123;</span><br><span class="line">      title: &quot;çƒ­ç‚¹è¯¦æƒ…&quot;, &#x2F;&#x2F;è½¬å‘æ ‡é¢˜</span><br><span class="line">      path:&#96;&#x2F;pages&#x2F;test&#x2F;index&#96; , &#x2F;&#x2F;è½¬å‘è·¯å¾„</span><br><span class="line">      imageUrl:&#39;&#x2F;pages&#x2F;img&#x2F;header.jpg&#39; &#x2F;&#x2F;è‡ªå®šä¹‰åˆ†äº«å›¾ç‰‡è·¯å¾„</span><br><span class="line">    &#125;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>



<p>å¦‚ä¸Šæ‰€ç¤ºï¼Œå¦‚æœå¼€å‘äººå‘˜åœ¨onShareAppMessage(options)ä¸è¿›è¡Œä»»ä½•å¤„ç†ï¼Œé‚£ä¹ˆå¾®ä¿¡å°†ä¼šæœ‰ä¸€ä¸ªé»˜è®¤çš„æ•°æ®è½¬å‘å‡ºå»ï¼Œtitleä¸ºå½“å‰å°ç¨‹åºåç§°ï¼Œpathä¸ºå½“å‰é¡µé¢çš„è·¯å¾„ï¼ŒimageUrlä¸ºå½“å‰é¡µé¢çš„æˆªå›¾ã€‚æ ¹æ®imageUrlçš„å®šä¹‰ï¼Œå¼€å‘äººå‘˜å¯ä»¥ä¸Šä¼ è‡ªå®šä¹‰å›¾ç‰‡ã€‚</p>
<h3 id="å°è£…ä¸€ä¸ªåˆ†äº«çš„ç»„ä»¶"><a href="#å°è£…ä¸€ä¸ªåˆ†äº«çš„ç»„ä»¶" class="headerlink" title="å°è£…ä¸€ä¸ªåˆ†äº«çš„ç»„ä»¶"></a>å°è£…ä¸€ä¸ªåˆ†äº«çš„ç»„ä»¶</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;view class&#x3D;&#39;share&#39;&gt;</span><br><span class="line">   &lt;view class&#x3D;&#39;like&#39;&gt;</span><br><span class="line">      &lt;view class&#x3D;&#39;iconfont icon-aixin&#39;&gt;&lt;&#x2F;view&gt;</span><br><span class="line">   &lt;&#x2F;view&gt;</span><br><span class="line">   &lt;view class&#x3D;&#39;weixin&#39;&gt;</span><br><span class="line">       &lt;button open-type&#x3D;&quot;share&quot; class&#x3D;&#39;iconfont icon-weixin&#39;&gt;&lt;&#x2F;button&gt;</span><br><span class="line">   &lt;&#x2F;view&gt;</span><br><span class="line">&lt;&#x2F;view&gt;</span><br></pre></td></tr></table></figure>

<p>é¡µé¢æ•ˆæœå¦‚ä¸‹:</p>
<p>â€‹                      <img src="https://img-blog.csdnimg.cn/20190725150933355.png" alt="img"></p>
<p>è¯´æ˜:</p>
<p>  å¦‚æœæƒ³åœ¨é¡µé¢ä¸Šå®ç°ç‚¹å‡»æŒ‰é’®åˆ†äº«,é‚£ä¹ˆè¿™ä¸ªç‚¹å‡»çš„æŒ‰é’®å¿…é¡»ä½¿ç”¨buttonæ ‡ç­¾,å¹¶ä¸”open-typeç½®ä¸ºshare</p>
<p>2.åœ¨æƒ³è¦åˆ†äº«çš„é¡µé¢ä¸­å¼•å…¥ä¸Šé¢ç»„ä»¶,å¹¶åœ¨é¡µé¢çš„jsä¸­Pageæ‰€åŒ…å«çš„å¯¹è±¡é‡Œå¢åŠ ä¸€ä¸ªæ–¹æ³•onShareAppMessage</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">  &#x2F;**</span><br><span class="line">   * ç”¨æˆ·ç‚¹å‡»å³ä¸Šè§’åˆ†äº«</span><br><span class="line">   *&#x2F;</span><br><span class="line"></span><br><span class="line">  onShareAppMessage: function () &#123;</span><br><span class="line">    let url &#x3D; encodeURIComponent(&#39;&#x2F;packageNews&#x2F;pages&#x2F;news_detail&#x2F;news_detail?news_id&#x3D;&#39; + this.data.news_id);</span><br><span class="line">    return &#123;</span><br><span class="line">      title: &quot;çƒ­ç‚¹è¯¦æƒ…&quot;,</span><br><span class="line">      path:&#96;&#x2F;pages&#x2F;index&#x2F;index?url&#x3D;$&#123;url&#125;&#96; </span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p> è¯´æ˜:</p>
<p> å°†å½“å‰é¡µé¢çš„è·¯å¾„åŒ…æ‹¬å‚æ•°ä½¿ç”¨encodeURIComponentè¿›è¡Œç¼–ç å¹¶ä½œä¸ºurlçš„å‚æ•°,pathè®¾ç½®ä¸ºå°ç¨‹åºçš„é¦–é¡µ.å½“æˆ‘ä»¬å°†è¯¥é¡µé¢</p>
<p>åˆ†äº«ç»™å…¶ä»–äººæ—¶,ä»–ä»¬æ‰“å¼€çš„é¦–å…ˆæ˜¯é¦–é¡µ,ç„¶åè·³è½¬åˆ°æˆ‘ä»¬åˆ†äº«çš„è¿™ä¸ªé¡µé¢.</p>
<p>3.è¦æƒ³åˆ†äº«åçš„é¡µé¢æ‰“å¼€å…ˆè¿›å…¥é¦–é¡µå†è·³è½¬åˆ°åˆ†äº«çš„é¡µé¢,é¦–é¡µçš„jsè¦åšå¦‚ä¸‹è®¾ç½®</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;index.js</span><br><span class="line"></span><br><span class="line">Page(&#123;</span><br><span class="line">  data: &#123;</span><br><span class="line">  &#125;,</span><br><span class="line">  onLoad: function (options) &#123;</span><br><span class="line">    if(options.url)&#123;</span><br><span class="line">      let url &#x3D; decodeURIComponent(options.url);</span><br><span class="line">      wx.navigateTo(&#123;</span><br><span class="line">        url</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>soft</category>
      </categories>
      <tags>
        <tag>å°ç¨‹åº</tag>
      </tags>
  </entry>
  <entry>
    <title>å°ç¨‹åºå¼€å‘ä¹‹å®šä½</title>
    <url>/2020/08/26/%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91%E4%B9%8B%E5%AE%9A%E4%BD%8D/</url>
    <content><![CDATA[<h4 id="ç»“åˆè…¾è®¯åœ°å›¾sdk"><a href="#ç»“åˆè…¾è®¯åœ°å›¾sdk" class="headerlink" title="ç»“åˆè…¾è®¯åœ°å›¾sdk"></a>ç»“åˆè…¾è®¯åœ°å›¾sdk</h4><p>è…¾è®¯åœ°å›¾æä¾›äº†ä¾›å°ç¨‹åºä½¿ç”¨çš„SDKï¼Œå¯ç»“åˆåœ°å›¾ç»„ä»¶å’Œapiè¿›è¡Œå¿«é€Ÿè°ƒç”¨ã€‚é¦–æ¬¡ä½¿ç”¨éœ€è¦ç”³è¯·ç§˜é’¥ï¼Œä¸‹è½½sdkæ–‡ä»¶qqmap-wx-jssdk.jsã€‚éœ€è¦è®¾ç½®å®‰å…¨åŸŸå<a href="https://apis.map.qq.com" target="_blank" rel="noopener">https://apis.map.qq.com</a></p>
<p>sdkä½¿ç”¨æ–¹æ³•åŠjsé“¾æ¥ï¼š</p>
<p><a href="https://lbs.qq.com/miniProgram/jsSdk/jsSdkGuide/jsSdkOverview" target="_blank" rel="noopener">https://lbs.qq.com/miniProgram/jsSdk/jsSdkGuide/jsSdkOverview</a></p>
<p>æ ¸å¿ƒæ–¹æ³•ï¼š</p>
<p><a href="https://lbs.qq.com/miniProgram/jsSdk/jsSdkGuide/qqMapwx" target="_blank" rel="noopener">https://lbs.qq.com/miniProgram/jsSdk/jsSdkGuide/qqMapwx</a></p>
<a id="more"></a>

<p>å…·ä½“å®ç°å‚è€ƒï¼š</p>
<h4 id="app-json-ä¸çŸ¥é“å…·ä½“ä½ç½®å¯ä»¥çœ‹è¿™é‡Œ-è¿™é‡Œæœ‰æ•´ä¸ªapp-jsonçš„é…ç½®"><a href="#app-json-ä¸çŸ¥é“å…·ä½“ä½ç½®å¯ä»¥çœ‹è¿™é‡Œ-è¿™é‡Œæœ‰æ•´ä¸ªapp-jsonçš„é…ç½®" class="headerlink" title="app.json:  (ä¸çŸ¥é“å…·ä½“ä½ç½®å¯ä»¥çœ‹è¿™é‡Œ,è¿™é‡Œæœ‰æ•´ä¸ªapp.jsonçš„é…ç½®)"></a>app.json:  (<a href="https://blog.csdn.net/guochanof/article/details/89669839" target="_blank" rel="noopener">ä¸çŸ¥é“å…·ä½“ä½ç½®å¯ä»¥çœ‹è¿™é‡Œ,è¿™é‡Œæœ‰æ•´ä¸ªapp.jsonçš„é…ç½®</a>)</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&quot;permission&quot;: &#123;</span><br><span class="line">   &quot;scope.userLocation&quot;: &#123;</span><br><span class="line">     &quot;desc&quot;: &quot;ä½ çš„ä½ç½®ä¿¡æ¯å°†ç”¨äºå°ç¨‹åºä½ç½®æ¥å£çš„æ•ˆæœå±•ç¤º&quot;</span><br><span class="line">   &#125;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<h4 id="wxml"><a href="#wxml" class="headerlink" title="wxml:"></a>wxml:</h4><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--pages/map/map.wxml--&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- è¿™æ˜¯åœ°å›¾éƒ¨åˆ† --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"map_container"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">map</span> <span class="attr">class</span>=<span class="string">'map'</span> <span class="attr">longitude</span>=<span class="string">'&#123;&#123;longitude&#125;&#125;'</span> <span class="attr">latitude</span>=<span class="string">'&#123;&#123;latitude&#125;&#125;'</span> <span class="attr">scale</span>=<span class="string">'&#123;&#123;scale&#125;&#125;'</span> <span class="attr">markers</span>=<span class="string">'&#123;&#123;markers&#125;&#125;'</span> <span class="attr">controls</span>=<span class="string">"&#123;&#123;controls&#125;&#125;"</span> <span class="attr">bindcontroltap</span>=<span class="string">"bindcontroltap"</span> <span class="attr">polyline</span>=<span class="string">'&#123;&#123;polyline&#125;&#125;'</span> <span class="attr">circles</span>=<span class="string">"&#123;&#123;circles&#125;&#125;"</span> <span class="attr">bindmarkertap</span>=<span class="string">'bindmarkertap'</span> <span class="attr">bindcontroltap</span>=<span class="string">'bindcontroltap'</span></span></span><br><span class="line"><span class="tag">    <span class="attr">show-location</span>&gt;</span><span class="tag">&lt;/<span class="name">map</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- ä»¥ä¸‹æ˜¯å¯¼èˆªéƒ¨åˆ† --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">'list-guide'</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- è¿™é‡Œçš„åæ ‡æœ¬åº”è¯¥æ˜¯ä»æœåŠ¡å™¨è·å–æ•°æ®çš„,è¿™æ—¶ä¸ˆå…ˆå†™æ­»åœ¨é¡µé¢ä¸Šäº† --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">bindtap</span>=<span class="string">"onGuideTap"</span> <span class="attr">data-latitude</span>=<span class="string">'39.92392'</span> <span class="attr">data-longitude</span>=<span class="string">'116.411885'</span> <span class="attr">data-bankName</span>=<span class="string">'æœ€é«˜äººæ°‘æ£€å¯Ÿé™¢'</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">image</span> <span class="attr">src</span>=<span class="string">'/images/banklist/daohang.png'</span> <span class="attr">class</span>=<span class="string">'list-guide-imgae'</span>&gt;</span><span class="tag">&lt;/<span class="name">image</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">text</span> <span class="attr">class</span>=<span class="string">'list-guide-text'</span>&gt;</span>å¯¼èˆª<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">bindtap</span>=<span class="string">'onbankTap'</span> <span class="attr">data-bankId</span>=<span class="string">"&#123;&#123;item.BANK_ID&#125;&#125;"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">image</span> <span class="attr">src</span>=<span class="string">'/images/banklist/xiangqing.png'</span> <span class="attr">class</span>=<span class="string">'list-guide-imgae'</span>&gt;</span><span class="tag">&lt;/<span class="name">image</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">text</span> <span class="attr">class</span>=<span class="string">'list-guide-text'</span>&gt;</span>è¯¦æƒ…<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>å®½åº¦ä¸æ˜¯æ»¡å±,æ‰€ä»¥åŠ ä¸ªæ ·å¼</p>
<h4 id="wxss"><a href="#wxss" class="headerlink" title="wxss:"></a>wxss:</h4><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">/* pages/map/map.wxss */</span></span><br><span class="line"><span class="selector-class">.map_container</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">260px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="selector-class">.map</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="selector-class">.list-guide</span>&#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;  </span><br><span class="line">  <span class="attribute">flex-direction</span>: row; </span><br><span class="line">  <span class="attribute">justify-content</span>:space-around;</span><br><span class="line">  <span class="attribute">border-top</span>: <span class="number">1px</span> solid <span class="number">#ededed</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">80</span>rpx;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.list-guide-imgae</span>&#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">70</span>rpx;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">70</span>rpx;</span><br><span class="line">  <span class="attribute">margin-right</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">vertical-align</span>: middle;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.list-guide-text</span>&#123;</span><br><span class="line">  <span class="attribute">vertical-align</span>: middle;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">90</span>rpx;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">35</span>rpx;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢å°±æ˜¯æœ€é‡è¦çš„JSéƒ¨åˆ†äº†()</p>
<h4 id="JS"><a href="#JS" class="headerlink" title="JS:"></a>JS:</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// pages/map/map.js</span></span><br><span class="line">varQQMapWX= <span class="built_in">require</span>(<span class="string">'../libs/qqmap-wx-jssdk.js'</span>);</span><br><span class="line"><span class="keyword">var</span> qqmapsdk;</span><br><span class="line"></span><br><span class="line">Page(&#123;</span><br><span class="line"> </span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * é¡µé¢çš„åˆå§‹æ•°æ®</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  data: &#123;</span><br><span class="line">    addmissage: <span class="string">'é€‰çš„ä½ç½®'</span>,</span><br><span class="line">    <span class="comment">// markers	 Array	æ ‡è®°ç‚¹</span></span><br><span class="line">    stitle:<span class="string">'æ•…å®«'</span>,</span><br><span class="line">    latitude: <span class="string">""</span>,</span><br><span class="line">    longitude: <span class="string">""</span>,</span><br><span class="line">    scale: <span class="number">14</span>,</span><br><span class="line">    markers: [],</span><br><span class="line">    <span class="comment">//controlsæ§ä»¶ æ˜¯å·¦ä¸‹è§’åœ†åœˆå°å›¾æ ‡,ç”¨æˆ·æ— è®ºæ”¾å¤§å¤šå°‘,ç‚¹è¿™é‡Œå¯ä»¥ç«‹åˆ»å›åˆ°å½“å‰å®šä½(æ§ä»¶ï¼ˆæ›´æ–°ä¸€ä¸‹,å³å°†åºŸå¼ƒï¼Œå»ºè®®ä½¿ç”¨ cover-view ä»£æ›¿ï¼‰)</span></span><br><span class="line">    controls: [&#123;</span><br><span class="line">      id: <span class="number">1</span>,</span><br><span class="line">      iconPath: <span class="string">'../../images/img/controls.png'</span>,</span><br><span class="line">      position: &#123;</span><br><span class="line">        left: <span class="number">15</span>,</span><br><span class="line">        top: <span class="number">260</span> - <span class="number">50</span>,</span><br><span class="line">        width: <span class="number">40</span>,</span><br><span class="line">        height: <span class="number">40</span></span><br><span class="line">      &#125;,</span><br><span class="line">      clickable: <span class="literal">true</span></span><br><span class="line">    &#125;],</span><br><span class="line">    distanceArr: []</span><br><span class="line">  &#125;,</span><br><span class="line"> </span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * ç”Ÿå‘½å‘¨æœŸå‡½æ•°--ç›‘å¬é¡µé¢åŠ è½½</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  onLoad: <span class="function"><span class="keyword">function</span> (<span class="params">options</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> that = <span class="keyword">this</span></span><br><span class="line">    <span class="comment">//new åœ°å›¾å¯¹è±¡</span></span><br><span class="line">    qqmapsdk =<span class="keyword">new</span> QQMapWX(&#123;</span><br><span class="line">     key:<span class="string">'22VBZ-REEK5-WVSI7-QKCOP-QPM6E-W7BPO'</span></span><br><span class="line">   &#125;);</span><br><span class="line">    <span class="comment">//å°ç¨‹åºapiè·å–å½“å‰çš„åœ°ç†ä½ç½®ã€é€Ÿåº¦</span></span><br><span class="line">    wx.getLocation(&#123;</span><br><span class="line">      type: <span class="string">'wgs84'</span>, <span class="comment">// é»˜è®¤ä¸º wgs84 è¿”å› gps åæ ‡ï¼Œgcj02 è¿”å›å¯ç”¨äº wx.openLocation çš„åæ ‡</span></span><br><span class="line">      success: <span class="function"><span class="keyword">function</span> (<span class="params">res</span>) </span>&#123;</span><br><span class="line">        <span class="comment">//èµ‹å€¼ç»çº¬åº¦</span></span><br><span class="line">        that.setData(&#123;</span><br><span class="line">          latitude: res.latitude,</span><br><span class="line">          longitude: res.longitude,</span><br><span class="line"> </span><br><span class="line">        &#125;)</span><br><span class="line">        <span class="comment">//åœ¨è¿™é‡Œè°ƒç”¨äº†é€†åœ°ç†è§£æreverseGeocoderï¼Œå¯¹åœ°ç†è§£æç»“æœè¯»å–è·å–å½“å‰ä½ç½®ã€‚</span></span><br><span class="line">        qqmapsdk.reverseGeocoder(&#123;</span><br><span class="line">           location:&#123;</span><br><span class="line">             latitude: res.latitude1,</span><br><span class="line">             longitude: res.longitude1</span><br><span class="line">           &#125;,</span><br><span class="line">           success:<span class="function"><span class="keyword">function</span>(<span class="params">res</span>)</span>&#123;</span><br><span class="line">             <span class="built_in">console</span>.log(res);</span><br><span class="line">             <span class="keyword">var</span> add= res.result.address</span><br><span class="line">             that.setData(&#123;</span><br><span class="line">               wd: latitude1,</span><br><span class="line">               jd: longitude1,</span><br><span class="line">               address: add</span><br><span class="line">             &#125;)</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line"> </span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">//controlsæ§ä»¶çš„ç‚¹å‡»äº‹ä»¶</span></span><br><span class="line">  bindcontroltap(e) &#123;</span><br><span class="line">    <span class="keyword">var</span> that = <span class="keyword">this</span>;</span><br><span class="line">    <span class="keyword">if</span> (e.controlId == <span class="number">1</span>) &#123;</span><br><span class="line">      that.setData(&#123;</span><br><span class="line">        latitude: <span class="keyword">this</span>.data.latitude,</span><br><span class="line">        longitude: <span class="keyword">this</span>.data.longitude,</span><br><span class="line">        scale: <span class="number">14</span>,</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">//å¯¼èˆª</span></span><br><span class="line">  onGuideTap: <span class="function"><span class="keyword">function</span> (<span class="params">event</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> lat = <span class="built_in">Number</span>(event.currentTarget.dataset.latitude);</span><br><span class="line">    <span class="keyword">var</span> lon = <span class="built_in">Number</span>(event.currentTarget.dataset.longitude);</span><br><span class="line">    <span class="keyword">var</span> bankName = event.currentTarget.dataset.bankname;</span><br><span class="line">    <span class="built_in">console</span>.log(lat);</span><br><span class="line">    <span class="built_in">console</span>.log(lon);</span><br><span class="line">    wx.openLocation(&#123;</span><br><span class="line">      type: <span class="string">'gcj02'</span>,</span><br><span class="line">      latitude: lat,</span><br><span class="line">      longitude: lon,</span><br><span class="line">      name: bankName,</span><br><span class="line">      scale: <span class="number">28</span></span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line"> </span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h4 id="typeå‚æ•°"><a href="#typeå‚æ•°" class="headerlink" title="typeå‚æ•°"></a>typeå‚æ•°</h4><h5 id="WGS84ï¼ŒGCJ02ä¹‹é—´çš„åŒºåˆ«"><a href="#WGS84ï¼ŒGCJ02ä¹‹é—´çš„åŒºåˆ«" class="headerlink" title="WGS84ï¼ŒGCJ02ä¹‹é—´çš„åŒºåˆ«"></a>WGS84ï¼ŒGCJ02ä¹‹é—´çš„åŒºåˆ«</h5><p>84åæ ‡ç³»å¯ä»¥ç†è§£ä¸ºæ˜¯çœŸå®åæ ‡ç³»ï¼Œæ˜¯ä¸€ä¸ªåœ°ç‚¹çš„å®é™…åæ ‡å€¼ã€‚02åæ ‡ç³»æ˜¯åŠ å¯†åçš„åæ ‡ç³»ï¼Œæ˜¯ä¸ºäº†å›½å®¶å®‰å…¨è€ƒè™‘ã€‚å¯¹åº”çš„ä¸æ˜¯å®é™…çš„åæ ‡å€¼ï¼Œä½†æ˜¯åœ¨åŠ å¯†çš„åæ ‡ä¸‹ï¼Œè¿›è¡Œå¯¼èˆªã€å®šä½ç­‰æ“ä½œæ˜¯å®Œå…¨ä¸å—å½±å“çš„ï¼Œåªä¸è¿‡åæ ‡ä¸æ˜¯çœŸå®çš„åæ ‡è€Œå·²ã€‚æˆ‘å›½çš„å„ä¸ªåœ°å›¾è½¯ä»¶ï¼Œå‡ä½¿ç”¨02åæ ‡ç³»è¿›è¡Œè¡—æ™¯åœ°å›¾æµ‹ç»˜å’Œå«æ˜Ÿåœ°å›¾æµ‹ç»˜ï¼Œå› æ­¤å¯ä»¥çœ‹åˆ°æˆ‘å›½çš„åœ°å›¾åº”ç”¨ä¸Šå‡ä¸ä¼šæ ‡æ³¨ç»çº¬åæ ‡ä¿¡æ¯ã€‚</p>
<h5 id="ç±»å‹"><a href="#ç±»å‹" class="headerlink" title="ç±»å‹"></a>ç±»å‹</h5><p>wgs84ï¼šGPSåæ ‡ç³»<br>gcj02ï¼šç«æ˜Ÿåæ ‡ç³»ï¼Œå›½æµ‹å±€02å¹´å‘å¸ƒçš„åæ ‡ä½“ç³»ï¼Œé«˜å¾·ï¼Œè…¾è®¯ç­‰ä½¿ç”¨ï¼ˆ<em>ç«æ˜Ÿåæ ‡æŒ‡çš„å°±æ˜¯å®é™…åæ ‡ç»è¿‡GCJ02ç®—æ³•å¾—åˆ°çš„åæ ‡</em>ï¼‰ã€‚<br>BD-09ï¼šç™¾åº¦åæ ‡ç³»ï¼Œç™¾åº¦è‡ªç ”ï¼Œç™¾åº¦åœ°å›¾ä½¿ç”¨ï¼ˆ<em>ç™¾åº¦åæ ‡æŒ‡çš„å°±æ˜¯å®é™…åæ ‡ç»è¿‡BD-09ç®—æ³•å¾—åˆ°çš„åæ ‡</em>ï¼‰ã€‚</p>
<h4 id="sdkå’Œapi"><a href="#sdkå’Œapi" class="headerlink" title="sdkå’Œapi"></a>sdkå’Œapi</h4><h6 id="1-SDKæ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#1-SDKæ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="1.SDKæ˜¯ä»€ä¹ˆï¼Ÿ"></a>1.SDKæ˜¯ä»€ä¹ˆï¼Ÿ</h6><p>SDKï¼š<br>æ¦‚å¿µï¼šè½¯ä»¶å¼€å‘å·¥å…·åŒ…ï¼ˆSDKï¼Œå…¨ç§°ï¼šSoftware Development Kitï¼‰<br>ä¸€èˆ¬éƒ½æ˜¯ä¸€äº›è½¯ä»¶å·¥ç¨‹å¸ˆä¸ºç‰¹å®šçš„è½¯ä»¶åŒ…ã€è½¯ä»¶æ¡†æ¶ã€ç¡¬ä»¶å¹³å°ã€æ“ä½œç³»ç»Ÿç­‰å»ºç«‹åº”ç”¨è½¯ä»¶æ—¶çš„å¼€å‘å·¥å…·çš„é›†åˆã€‚</p>
<p>é€šä¿—ç‚¹æ˜¯æŒ‡ç”±ç¬¬ä¸‰æ–¹æœåŠ¡å•†æä¾›çš„å®ç°è½¯ä»¶äº§å“æŸé¡¹åŠŸèƒ½çš„å·¥å…·åŒ…ã€‚</p>
<p>å°±ç›¸å½“äºå¾ˆå¤šAPIå’Œå…¶ä»–æ–‡ä»¶çš„é›†åˆä½“ï¼Œä½ å¯ä»¥ç”¨è¿™ä¸ªå®ŒæˆæŸä¸€ä¸ªäº‹æƒ…ã€‚</p>
<p>ä¸¾ä¾‹å­ï¼š<br>æ•´ä¸ªè®¡ç®—å™¨äº§å“å¯ä»¥çœ‹åšæ˜¯ä¸€ä¸ªSDKï¼Œå®ƒé‡Œé¢æœ‰APIé›†åˆï¼ˆè®¡ç®—å™¨ï¼‰ï¼Œè¯´æ˜æ–‡æ¡£ï¼ˆè¯´æ˜ä¹¦ï¼‰ï¼Œä»¥åŠä¸€äº›å…¶ä»–æ–‡ä»¶ã€‚<br>è¿™ä¸ªSDKçš„åŠŸèƒ½å°±æ˜¯è®¡ç®—ï¼Œå¯èƒ½è¦ç®—ä»€ä¹ˆä¸ç¡®å®šï¼Œä½†æ˜¯ä½ å¯ä»¥é€šè¿‡è¿™ä¸ªSDKä¸­çš„æŸä¸ªæ–¹æ³•å®Œæˆï¼Œå®ç°ä½ çš„ç›®çš„ã€‚</p>
<h6 id="2-APIæ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#2-APIæ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="2.APIæ˜¯ä»€ä¹ˆï¼Ÿ"></a>2.APIæ˜¯ä»€ä¹ˆï¼Ÿ</h6><p>APIï¼š<br>æ¦‚å¿µï¼šAPIï¼ˆApplication Programming Interface,åº”ç”¨ç¨‹åºç¼–ç¨‹æ¥å£ï¼‰<br>ä¸€èˆ¬æ˜¯æŒ‡ä¸€äº›é¢„å…ˆå®šä¹‰çš„å‡½æ•°ï¼Œç›®çš„æ˜¯æä¾›åº”ç”¨ç¨‹åºä¸å¼€å‘äººå‘˜åŸºäºæŸè½¯ä»¶æˆ–ç¡¬ä»¶å¾—ä»¥è®¿é—®ä¸€ç»„ä¾‹ç¨‹çš„èƒ½åŠ›ï¼Œè€Œåˆæ— éœ€è®¿é—®æºç ï¼Œæˆ–ç†è§£å†…éƒ¨å·¥ä½œæœºåˆ¶çš„ç»†èŠ‚ã€‚</p>
<p>å…¶å®å°±æ˜¯åˆ«äººå·²ç»å†™å¥½çš„å¯ä»¥å®ç°ç‰¹å®šåŠŸèƒ½çš„å‡½æ•°ï¼Œè€Œä½ åªéœ€è¦æ ¹æ®ä»–æä¾›å¥½çš„æ¥å£ï¼Œä¹Ÿå°±æ˜¯è°ƒç”¨ä»–çš„æ–¹æ³•ï¼Œä¼ å…¥ä»–è§„å®šçš„å‚æ•°ï¼Œç„¶åè¿™ä¸ªå‡½æ•°å°±ä¼šå¸®ä½ å®ç°è¿™äº›åŠŸèƒ½ã€‚</p>
<p>ä¸¾ä¾‹å­ï¼š</p>
<p>æ¯”å¦‚åˆ«äººå†™å¥½äº†ä¸€ä¸ªæ•°å­—æ±‚å’Œçš„æ–¹æ³•sum(int a, int b)ã€‚<br>æä¾›ç»™ä½ ä¸€ä¸ªAPIæ¥å£â€”â€”ä½ åªéœ€è¦è°ƒç”¨å®ƒè¿™ä¸ªsum()å‡½æ•°ï¼Œç„¶åä¼ å…¥è¿™ä¸ªaï¼Œbçš„å€¼ï¼Œç„¶åå°±å¯ä»¥å¾—åˆ°è®¡ç®—çš„ç»“æœï¼Œä½ ä¸éœ€è¦çŸ¥é“è¿™ä¸ªæ–¹æ³•æ˜¯æ€ä¹ˆå®ç°çš„ï¼ŒçŸ¥é“è¯¥æ€ä¹ˆè°ƒç”¨å³å¯ã€‚</p>
<p>å¦‚æœåˆ«äººåˆå†™äº†ä¸€ä¸ªä¸¤æ•°ç›¸ä¹˜çš„æ–¹æ³•Mul(int a, int b)ï¼Œé‚£è¿™åˆç§°ä¸ºå¦ä¸€ä¸ªAPIã€‚</p>
<h6 id="3-SDKå’ŒAPIçš„åŒºåˆ«"><a href="#3-SDKå’ŒAPIçš„åŒºåˆ«" class="headerlink" title="3.SDKå’ŒAPIçš„åŒºåˆ«"></a>3.SDKå’ŒAPIçš„åŒºåˆ«</h6><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">1.APIæ˜¯ä¸€ä¸ªå…·ä½“çš„å‡½æ•°ï¼Œä¸€ä¸ªç¡®å®šçš„åŠŸèƒ½ï¼Œå·²ç»æ˜ç¡®äº†å®ƒçš„ä½œç”¨ï¼ˆæ¯”å¦‚åšåŠ æ³•ï¼‰ã€‚</span><br><span class="line"> </span><br><span class="line">2.SDKå°±åƒæ˜¯å¾ˆå¤šæ–¹æ³•çš„é›†åˆä½“ï¼Œæ˜¯ä¸€ä¸ªå·¥å…·åŒ…ã€‚</span><br><span class="line"></span><br><span class="line">3.SDKç›¸å½“äºå¼€å‘é›†æˆå·¥å…·ç¯å¢ƒï¼ŒAPIå°±æ˜¯æ•°æ®æ¥å£ã€‚åœ¨SDKç¯å¢ƒä¸‹è°ƒç”¨APIæ•°æ®ã€‚ï¼ˆè€Œè¿™ä¸ªSDKä½ å¯ä»¥è‡ªå·±é…ç½®æˆ–è€…ä¸‹è½½ç¬¬ä¸‰æ–¹æä¾›çš„ï¼‰</span><br><span class="line"> </span><br><span class="line">4.SDKé™¤äº†ä»–æä¾›çš„å®Œå–„çš„æ¥å£ï¼Œä»–è¿˜ä¼šç»™ä½ æä¾›ç›¸å…³çš„å¼€å‘ç¯å¢ƒï¼Œè€ŒAPIéœ€è¦çš„ç¯å¢ƒä½ å¾—è‡ªå·±æä¾›ï¼ˆæ¯”å¦‚ä¼ å‚ï¼‰</span><br></pre></td></tr></table></figure>



<p>å‚è€ƒé“¾æ¥ï¼š<a href="https://blog.csdn.net/guochanof/article/details/90130871" target="_blank" rel="noopener">https://blog.csdn.net/guochanof/article/details/90130871</a></p>
]]></content>
      <categories>
        <category>soft</category>
      </categories>
      <tags>
        <tag>å°ç¨‹åº</tag>
      </tags>
  </entry>
  <entry>
    <title>å°ç¨‹åºå¼€å‘ä¹‹é˜¿æ‹‰ä¸ç»Ÿè®¡å¹³å°</title>
    <url>/2020/10/09/%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91%E4%B9%8B%E9%98%BF%E6%8B%89%E4%B8%81%E7%BB%9F%E8%AE%A1%E5%B9%B3%E5%8F%B0/</url>
    <content><![CDATA[<h3 id="å…³é”®æ­¥éª¤ï¼š"><a href="#å…³é”®æ­¥éª¤ï¼š" class="headerlink" title="å…³é”®æ­¥éª¤ï¼š"></a><strong>å…³é”®æ­¥éª¤ï¼š</strong></h3><ul>
<li>æ³¨å†Œ/ç™»å½•ç»Ÿè®¡å¹³å°</li>
<li>åˆ›å»ºå°ç¨‹åº</li>
<li>æ¥å…¥SDK</li>
<li>æ£€æµ‹SDK</li>
<li>é›†æˆæˆåŠŸ</li>
</ul>
<a id="more"></a>

<h2 id="ç¬¬ä¸€æ­¥ï¼šæ³¨å†Œ-ç™»å½•-é˜¿æ‹‰ä¸ç»Ÿè®¡å¹³å°"><a href="#ç¬¬ä¸€æ­¥ï¼šæ³¨å†Œ-ç™»å½•-é˜¿æ‹‰ä¸ç»Ÿè®¡å¹³å°" class="headerlink" title="ç¬¬ä¸€æ­¥ï¼šæ³¨å†Œ/ç™»å½• é˜¿æ‹‰ä¸ç»Ÿè®¡å¹³å°"></a><strong>ç¬¬ä¸€æ­¥ï¼šæ³¨å†Œ/ç™»å½• é˜¿æ‹‰ä¸ç»Ÿè®¡å¹³å°</strong></h2><p>é˜¿æ‹‰ä¸ç»Ÿè®¡å¹³å°æ³¨å†Œå¯ä»¥é€šè¿‡ PC è®¿é—®ï¼š<a href="http://link.zhihu.com/?target=http%3A//tj.aldwx.com">tj.aldwx.com</a>ï¼Œé€šè¿‡ã€Œå¾®ä¿¡æ‰«ç +æ‰‹æœºå·ã€çš„æ–¹å¼å³å¯å®Œæˆæ³¨å†Œã€‚æ³¨å†Œæµç¨‹å¤§çº¦åªéœ€è¦ 19sã€‚</p>
<p><img src="https://pic2.zhimg.com/v2-9668fef89e4cd797290ec2c4c6c28898_b.jpg" alt="img">)<img src="https://pic2.zhimg.com/80/v2-9668fef89e4cd797290ec2c4c6c28898_720w.jpg" alt="img"></p>
<p>å¦‚æœæ‚¨å·²ç»æ³¨å†Œè¿‡é˜¿æ‹‰ä¸ç»Ÿè®¡å¹³å°ï¼Œå¯ä»¥ç›´æ¥é€šè¿‡å¾®ä¿¡æ‰«ç çš„æ–¹å¼ç™»å½•ï¼Œæ–¹ä¾¿å¿«æ·ã€‚</p>
<h2 id="ç¬¬äºŒæ­¥ï¼š-åˆ›å»ºé˜¿æ‹‰ä¸å°ç¨‹åº"><a href="#ç¬¬äºŒæ­¥ï¼š-åˆ›å»ºé˜¿æ‹‰ä¸å°ç¨‹åº" class="headerlink" title="ç¬¬äºŒæ­¥ï¼š åˆ›å»ºé˜¿æ‹‰ä¸å°ç¨‹åº"></a><strong>ç¬¬äºŒæ­¥ï¼š åˆ›å»ºé˜¿æ‹‰ä¸å°ç¨‹åº</strong></h2><p>ç™»å½•é˜¿æ‹‰ä¸ç»Ÿè®¡å¹³å°åï¼Œä¼šé»˜è®¤è·³è½¬åˆ°é˜¿æ‹‰ä¸ç»Ÿè®¡åå°çš„ä¸»é¡µã€‚æ–¹ä¾¿æ‚¨äº†è§£æ‰€æœ‰å°ç¨‹åºçš„æ•°æ®å˜åŒ–ã€‚</p>
<p><img src="https://pic2.zhimg.com/v2-3b07e92e7e9d502f8e794542369aeb97_b.jpg" alt="img">)<img src="https://pic2.zhimg.com/80/v2-3b07e92e7e9d502f8e794542369aeb97_720w.jpg" alt="img"></p>
<p>æˆ‘ä»¬é€šè¿‡å³ä¸Šè§’ã€Œåˆ›å»ºåº”ç”¨ã€å¯ä»¥è¿›å…¥å°ç¨‹åºçš„åˆ›å»ºé¡µé¢ï¼Œå¼€å§‹æˆ‘ä»¬å°ç¨‹åºçš„åˆ›å»ºå·¥ä½œã€‚</p>
<p><img src="https://pic3.zhimg.com/v2-0b62994983a194e435507e94d3ad2600_b.jpg" alt="img">)<img src="https://pic3.zhimg.com/80/v2-0b62994983a194e435507e94d3ad2600_720w.jpg" alt="img"></p>
<p>åˆ›å»ºå°ç¨‹åºéœ€è¦å¡«å†™ï¼š<strong>å°ç¨‹åºåç§°</strong>ï¼Œé€‰æ‹©<strong>å°ç¨‹åºçš„ç±»å‹</strong>ï¼ˆå°ç¨‹åºã€å°æ¸¸æˆï¼‰ï¼Œé€‰æ‹©<strong>å°ç¨‹åºçš„åˆ†ç±»</strong>ï¼ˆå°ç¨‹åºå¯¹åº”çš„æ˜¯å°ç¨‹åºç±»å‹ï¼Œå°æ¸¸æˆå¯¹åº”çš„æ˜¯å°æ¸¸æˆç±»å‹ï¼‰ã€‚</p>
<p>å¡«å†™ä¿¡æ¯åï¼Œæäº¤å°±å¯ä»¥è·å–AppKeyï¼Œç„¶åå°±å¼€å§‹SDKæ¥å…¥äº†ã€‚</p>
<h2 id="ç¬¬ä¸‰æ­¥ï¼šæ¥å…¥é˜¿æ‹‰ä¸ç»Ÿè®¡SDKï¼ˆé‡ç‚¹ï¼‰"><a href="#ç¬¬ä¸‰æ­¥ï¼šæ¥å…¥é˜¿æ‹‰ä¸ç»Ÿè®¡SDKï¼ˆé‡ç‚¹ï¼‰" class="headerlink" title="ç¬¬ä¸‰æ­¥ï¼šæ¥å…¥é˜¿æ‹‰ä¸ç»Ÿè®¡SDKï¼ˆé‡ç‚¹ï¼‰"></a><strong>ç¬¬ä¸‰æ­¥ï¼šæ¥å…¥é˜¿æ‹‰ä¸ç»Ÿè®¡SDKï¼ˆé‡ç‚¹ï¼‰</strong></h2><p>æ¥å…¥SDKä¸€ç›´ä»¥æ¥éƒ½æ˜¯å¤§å®¶æœ€å…³å¿ƒçš„éƒ¨åˆ†ï¼Œä¹Ÿæ˜¯æ¥å…¥é˜¿æ‹‰ä¸ç»Ÿè®¡æœ€é‡è¦çš„ä¸€ä¸ªæ­¥éª¤ã€‚æ‰€ä»¥è¿™éƒ¨åˆ†è¦è®¤çœŸçœ‹å“¦ã€‚æäº¤ä¿¡æ¯åå¯ä»¥çœ‹åˆ°ä¸‹é¢çš„æˆªå›¾ï¼š</p>
<p><img src="https://pic1.zhimg.com/v2-ed664367f737309b65ae3f58afbc4269_b.jpg" alt="img">)<img src="https://pic1.zhimg.com/80/v2-ed664367f737309b65ae3f58afbc4269_720w.jpg" alt="img"></p>
<blockquote>
<p>æ³¨ï¼šé˜…è¯»æ­¤éƒ¨åˆ†çš„å†…å®¹éœ€è¦å’Œå¼€å‘äººå‘˜ä¸€èµ·ï¼Œæ¬¢è¿åˆ†äº«ç»™è‡ªå·±æœ¬å…¬å¸çš„å°ç¨‹åºå¼€å‘äººå‘˜ã€‚</p>
</blockquote>
<p>é¦–å…ˆï¼Œè¿™ä¸ªéƒ¨åˆ†çš„æµç¨‹éœ€è¦å°ç¨‹åºçš„æŠ€æœ¯äººå‘˜ï¼ˆä¸€èˆ¬æ˜¯å‰ç«¯ï¼‰æ¥ååŠ©å®Œæˆã€‚åœ¨æ­¤è¿‡ç¨‹ä¸­éœ€è¦äº†è§£ é˜¿æ‹‰ä¸Keyã€ç»Ÿè®¡å¹³å°SDKã€å¸®åŠ©æ–‡æ¡£ä»¥åŠæ•°æ®æ£€æµ‹ã€‚</p>
<p>é˜¿æ‹‰ä¸Keyï¼ˆåˆç§°â€œAppKeyâ€ï¼‰æ˜¯æˆ‘ä»¬ä¸ºå¤§å®¶åˆ›å»ºå°ç¨‹åºåç”Ÿæˆçš„å”¯ä¸€å‡­è¯ï¼Œå¼€å‘è€…åœ¨é›†æˆSDKçš„æ—¶å€™éœ€è¦å°†å…¶å¡«å†™åˆ°ä»£ç ä¸­ï¼ˆå…·ä½“çš„æ“ä½œè§åæ–‡ï¼‰ã€‚</p>
<p>å…¶æ¬¡ï¼Œæˆ‘ä»¬åœ¨æ¥å…¥çš„æ—¶å€™éœ€è¦å……åˆ†äº†è§£è‡ªå·±çš„å°ç¨‹åºæ˜¯å¦é‡‡ç”¨äº†æ¡†æ¶ï¼ˆwepyã€mpvueã€Taroï¼‰æˆ–è€…æ’ä»¶ï¼ˆæœ€å¥½æ˜¯å’Œå°ç¨‹åºçš„å¼€å‘äººå‘˜æ²Ÿé€šç¡®è®¤ï¼‰ï¼Œå¦‚æœéƒ½æ²¡æœ‰çš„è¯å°±æ˜¯æ ‡å‡†çš„å°ç¨‹åºç±»å‹ã€‚</p>
<p>ä¸åŒçš„æ¡†æ¶ã€æ’ä»¶æ¥å…¥æµç¨‹ä¼šæœ‰ç»†å¾®çš„å˜åŒ–ï¼Œä½†æ˜¯é˜¿æ‹‰ä¸Keyå’Œé˜¿æ‹‰ä¸SDKæ˜¯ä¸€æ ·çš„ã€‚</p>
<p><a href="http://doc.aldwx.com/mini-program/join/wx-sdk/plugin" target="_blank" rel="noopener">é˜¿æ‹‰ä¸å¸®åŠ©æ–‡æ¡£</a></p>
<p><img src="https://pic4.zhimg.com/v2-346337e2cb6a71de0c5757415b3a38d8_b.jpg" alt="img">)<img src="https://pic4.zhimg.com/80/v2-346337e2cb6a71de0c5757415b3a38d8_720w.jpg" alt="img"></p>
<p>æ¥ç€ï¼Œæˆ‘ä»¬äº†è§£äº†é˜¿æ‹‰ä¸Keyå’Œå°ç¨‹åºç±»å‹åï¼Œæˆ‘ä»¬å¯ä»¥ä¸‹è½½SDKè¿›è¡Œä»£ç é›†æˆå·¥ä½œäº†ã€‚ç”±äºæœ¬æ–‡ç¯‡å¹…é—®é¢˜ï¼Œæœ¬æ–‡çš„é›†æˆæ¡ˆä¾‹ä»¥ã€Œ<strong>æ ‡å‡†ç‰ˆå°ç¨‹åº</strong>ã€æ¼”ç¤ºã€‚</p>
<h2 id="å®é™…æ“ä½œ"><a href="#å®é™…æ“ä½œ" class="headerlink" title="å®é™…æ“ä½œ"></a>å®é™…æ“ä½œ</h2><p>1ã€è®¾ç½®åŸŸå</p>
<p>ç™»å½•<a href="http://link.zhihu.com/?target=http%3A//mp.weixin.qq.com/">å¾®ä¿¡å…¬ä¼—å¹³å°</a>(mp.weixin.qq.com)ï¼Œåœ¨ <strong>å¼€å‘â†’å¼€å‘è®¾ç½®-&gt;æœåŠ¡å™¨åŸŸå</strong> æ‰¾åˆ°ã€Œ <strong>request åˆæ³•åŸŸå</strong>ã€ï¼Œç‚¹å‡»ã€Œä¿®æ”¹ã€ï¼Œå°†<strong><code>log.aldwx.com</code></strong> æ·»åŠ  <strong>request åˆæ³•åŸŸå</strong>ä¸­ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">log.aldwx.com</span><br></pre></td></tr></table></figure>

<p><img src="https://pic4.zhimg.com/v2-cd5e478a31d7facc7b7763dd524581d8_b.jpg" alt="img">)<img src="https://pic4.zhimg.com/80/v2-cd5e478a31d7facc7b7763dd524581d8_720w.jpg" alt="img"></p>
<p>2ã€é…ç½®SDK</p>
<p><strong><a href="http://link.zhihu.com/?target=http%3A//tongji.aldwx.com/tool/ald-stat.zip">ç‚¹å‡»ä¸‹è½½</a></strong> å¾®ä¿¡å°ç¨‹åºSDKï¼Œå¹¶å°†ä¸‹è½½çš„æ–‡ä»¶è§£å‹ï¼Œå°†è§£å‹åçš„æ–‡ä»¶ <strong>ald-stat.js</strong> å’Œ <strong>ald-stat-conf.js</strong> å¤åˆ¶åˆ°å°ç¨‹åºæ ¹ç›®å½•çš„ <strong>utils æ–‡ä»¶å¤¹</strong>ä¸­ã€‚</p>
<blockquote>
<p>å¦‚æœæ²¡æœ‰ <strong>utils</strong> æ–‡ä»¶å¤¹è¯·åœ¨å°ç¨‹åºé¡¹ç›®çš„æ ¹ç›®å½•ä¸‹åˆ›å»ºï¼›</p>
</blockquote>
<p><img src="https://pic1.zhimg.com/v2-d4cb4a63766df8d586e96509af489c14_b.jpg" alt="img">)<img src="https://pic1.zhimg.com/80/v2-d4cb4a63766df8d586e96509af489c14_720w.jpg" alt="img"></p>
<p>ä½¿ç”¨å¾®ä¿¡å¼€å‘è€…å·¥å…·æ‰“å¼€å°ç¨‹åºæ ¹ç›®å½• <strong>utils æ–‡ä»¶å¤¹</strong>ä¸‹çš„ <strong>ald-stat-conf.js</strong> æ–‡ä»¶ï¼Œåœ¨æµè§ˆå™¨<strong>ç™»å½•<a href="http://link.zhihu.com/?target=http%3A//tongji.aldwx.com/">é˜¿æ‹‰ä¸å°ç¨‹åºå¹³å°</a>-ç®¡ç†-å°ç¨‹åºåˆ—è¡¨-æ‰¾åˆ°éœ€è¦é›†æˆçš„å°ç¨‹åº</strong>ï¼Œå¤åˆ¶å¯¹åº”å°ç¨‹åºçš„ AppKey åˆ°  <code>exports.app_key = &quot;&quot;</code>çš„åŒå¼•å·ä¸­é—´ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">å¼•å·å‰åä¸èƒ½æœ‰ç©ºæ ¼ï¼›å…¶ä»–é…ç½®é¡¹è¯·å‹¿éšæ„æ›´æ”¹ã€‚</span><br></pre></td></tr></table></figure>

<p><img src="https://pic3.zhimg.com/v2-422b54fb7647447b1dac1da247c310a2_b.jpg" alt="img">)<img src="https://pic3.zhimg.com/80/v2-422b54fb7647447b1dac1da247c310a2_720w.jpg" alt="img"></p>
<p>ä½¿ç”¨å¾®ä¿¡å¼€å‘è€…å·¥å…·æ‰“å¼€å°ç¨‹åºæ ¹ç›®å½•ä¸‹çš„ <strong>app.js</strong> æ–‡ä»¶ï¼Œå¤åˆ¶ä¸‹æ®µä»£ç åˆ° <strong>app.js</strong> æ–‡ä»¶çš„ç¬¬ä¸€è¡Œç²˜è´´ï¼Œå®Œæˆåé€šè¿‡ <strong>èœå•æ -æ–‡ä»¶-ä¿å­˜</strong>ï¼ˆå¿«æ·é”® Ctrl+S ï¼‰ä¿®æ”¹çš„ä»£ç ï¼›</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F; app.js </span><br><span class="line">const ald &#x3D; require(&#39;.&#x2F;utils&#x2F;ald-stat.js&#39;)</span><br></pre></td></tr></table></figure>

<p><img src="https://pic3.zhimg.com/v2-84098f5dea9e38ef386963dfc4f68563_b.jpg" alt="img">)<img src="https://pic3.zhimg.com/80/v2-84098f5dea9e38ef386963dfc4f68563_720w.jpg" alt="img"></p>
<p>3ã€æ£€æµ‹ä¸ŠæŠ¥çŠ¶æ€</p>
<p>åœ¨å¾®ä¿¡å¼€å‘è€…å·¥å…·ä¸­ï¼ŒæŸ¥çœ‹æ§åˆ¶å°ä¸­çš„ Network æ˜¯å¦å­˜åœ¨ <strong>d.html</strong> å¼€å¤´çš„è¯·æ±‚ï¼Œç‚¹å‡»åå¯çœ‹åˆ° <strong><a href="http://link.zhihu.com/?target=http%3A//log.aldwx.com">http://log.aldwx.com</a></strong> çš„åŸŸåä¿¡æ¯ï¼Œä¸” <strong>status</strong> çŠ¶æ€ä¸º <strong>200</strong>ã€‚</p>
<p><img src="https://pic2.zhimg.com/v2-61ca010cd343e84a71c2ed0c55d76884_b.jpg" alt="img">)<img src="https://pic2.zhimg.com/80/v2-61ca010cd343e84a71c2ed0c55d76884_720w.jpg" alt="img"></p>
<p>éªŒè¯æˆåŠŸåï¼Œå°†æ‰€æœ‰ä»£ç æäº¤è‡³å¾®ä¿¡å®¡æ ¸ï¼Œå®¡æ ¸é€šè¿‡åéœ€<strong>å‘å¸ƒç‰ˆæœ¬</strong>ã€‚</p>
<p>ä»¥ä¸Šæµç¨‹å…¨éƒ¨é…ç½®å®Œæˆåäº†ï¼Œè¡¨ç¤ºå°ç¨‹åºå·²ç»æˆåŠŸæ¥å…¥äº†é˜¿æ‹‰ä¸ç»Ÿè®¡å¹³å°ã€‚</p>
<p>å¦‚æœé‡åˆ°é—®é¢˜å¯ä»¥å’¨è¯¢æ‚¨çš„åŒäº‹ï¼ˆå‰ç«¯æŠ€æœ¯äººå‘˜ï¼‰æˆ–è€…å’¨è¯¢é˜¿æ‹‰ä¸ç»Ÿè®¡å¹³å°å®¢æœï¼ˆå¾®ä¿¡IDï¼šalddandan)ã€‚</p>
<h2 id="å¢åŠ ç»Ÿè®¡åŸ‹ç‚¹"><a href="#å¢åŠ ç»Ÿè®¡åŸ‹ç‚¹" class="headerlink" title="å¢åŠ ç»Ÿè®¡åŸ‹ç‚¹"></a>å¢åŠ ç»Ÿè®¡åŸ‹ç‚¹</h2><h3 id="ä¸€ã€è‡ªå®šä¹‰äº‹ä»¶ä¸ŠæŠ¥æ–¹æ³•"><a href="#ä¸€ã€è‡ªå®šä¹‰äº‹ä»¶ä¸ŠæŠ¥æ–¹æ³•" class="headerlink" title="ä¸€ã€è‡ªå®šä¹‰äº‹ä»¶ä¸ŠæŠ¥æ–¹æ³•"></a>ä¸€ã€è‡ªå®šä¹‰äº‹ä»¶ä¸ŠæŠ¥æ–¹æ³•</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">wx.aldstat.sendEvent( key, value )</span><br></pre></td></tr></table></figure>

<p>å®šä¹‰ï¼šè¯¥æ–¹æ³•æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°keyä¸ºäº‹ä»¶åç§°ã€‚ç¬¬äºŒä¸ªå‚æ•°vauleä¸ºäº‹ä»¶æœ¬èº«çš„å‚æ•°ï¼Œè¯¥å‚æ•°å¯ä»¥ä¸ºä¸€ä¸ªå­—ç¬¦ä¸²( String )æˆ–è€…ä¸€ä¸ªJavaScriptå¯¹è±¡ ( Object )ã€‚</p>
<p>å‚æ•°ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">key ï¼š string</span><br><span class="line">valueï¼š &#123;  string | object &#125;</span><br></pre></td></tr></table></figure>

<p>è§„åˆ™ï¼š</p>
<table>
<thead>
<tr>
<th>å­—æ®µ</th>
<th>ç±»å‹</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td>äº‹ä»¶åç§°</td>
<td>string</td>
<td>æè¿°ç”¨æˆ·çš„åŠ¨ä½œåç§°ï¼Œä¸è¶…è¿‡255ä¸ªå­—ç¬¦ï¼Œæ”¯æŒç‰¹æ®Šå­—ç¬¦</td>
</tr>
<tr>
<td>å‚æ•°</td>
<td>string</td>
<td>åŠ¨ä½œçš„å‚æ•°ï¼Œä¸è¶…è¿‡255ä¸ªå­—ç¬¦ï¼Œæ”¯æŒç‰¹æ®Šå­—ç¬¦ä½†ä¸åŒ…æ‹¬ï¼ˆè‹±æ–‡é€—å· , è‹±æ–‡å†’å· : ç‚¹ .ï¼‰</td>
</tr>
<tr>
<td>å‚æ•°å€¼</td>
<td>string</td>
<td>åŠ¨ä½œçš„å‚æ•°å€¼ï¼Œä¸è¶…è¿‡255ä¸ªå­—ç¬¦ï¼Œæ”¯æŒç‰¹æ®Šå­—ç¬¦ä½†ä¸åŒ…æ‹¬ï¼ˆè‹±æ–‡é€—å· , è‹±æ–‡å†’å· : ç‚¹ .ï¼‰</td>
</tr>
</tbody></table>
<p>æ»¡è¶³ä¸Šè¿°è§„åˆ™æ—¶ï¼ŒSDKæ‰ä¼šä¸ŠæŠ¥äº‹ä»¶åŠå…¶å‚æ•°ã€‚å¦åˆ™SDK ä¸ä¼šä¸ŠæŠ¥ã€‚</p>
<h3 id="äºŒã€è‡ªå®šä¹‰äº‹ä»¶æˆåŠŸæ£€æµ‹"><a href="#äºŒã€è‡ªå®šä¹‰äº‹ä»¶æˆåŠŸæ£€æµ‹" class="headerlink" title="äºŒã€è‡ªå®šä¹‰äº‹ä»¶æˆåŠŸæ£€æµ‹"></a>äºŒã€è‡ªå®šä¹‰äº‹ä»¶æˆåŠŸæ£€æµ‹</h3><p>ä¾‹å¦‚ï¼Œä»¥<strong>è·å–ç”¨æˆ·æ˜µç§°</strong>ä¸ºä¾‹ï¼Œè¿›è¡Œäº‹ä»¶ä¸ŠæŠ¥ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">wx.aldstat.sendEvent(&#39;è·å–ç”¨æˆ·æ˜µç§°&#39;, &#123;</span><br><span class="line">        &quot;ç”¨æˆ·æ˜µç§°&quot;: &quot;DemoChen&quot;</span><br><span class="line"> &#125;)</span><br></pre></td></tr></table></figure>

<p>ä¸ŠæŠ¥æˆåŠŸåå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="https://aldpicsh-1252823355.cossh.myqcloud.com/ueditor/1578224507.jpg" alt="img"></p>
<p>åŸ‹ç‚¹éªŒè¯æˆåŠŸåï¼Œå°†æ‰€æœ‰ä»£ç æäº¤è‡³å¾®ä¿¡å®¡æ ¸ï¼Œå®¡æ ¸é€šè¿‡åéœ€<strong>å‘å¸ƒç‰ˆæœ¬</strong></p>
]]></content>
      <categories>
        <category>soft</category>
      </categories>
      <tags>
        <tag>å°ç¨‹åº</tag>
        <tag>é˜¿æ‹‰ä¸</tag>
      </tags>
  </entry>
  <entry>
    <title>å°ç¨‹åºå¼€å‘ä¹‹è‡ªå®šä¹‰å¯¼èˆªæ </title>
    <url>/2020/08/26/%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91%E4%B9%8B%E8%87%AA%E5%AE%9A%E4%B9%89%E5%AF%BC%E8%88%AA%E6%A0%8F/</url>
    <content><![CDATA[<h1 id="å¾®ä¿¡å°ç¨‹åº-è‡ªå®šä¹‰å¤´éƒ¨å¯¼èˆªæ -navigationStyle"><a href="#å¾®ä¿¡å°ç¨‹åº-è‡ªå®šä¹‰å¤´éƒ¨å¯¼èˆªæ -navigationStyle" class="headerlink" title="å¾®ä¿¡å°ç¨‹åº è‡ªå®šä¹‰å¤´éƒ¨å¯¼èˆªæ  navigationStyle"></a>å¾®ä¿¡å°ç¨‹åº è‡ªå®šä¹‰å¤´éƒ¨å¯¼èˆªæ  navigationStyle</h1><p><img src="https://upload-images.jianshu.io/upload_images/8198580-8401274f1a9f6607.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/389/format/webp" alt="img"></p>
<a id="more"></a>

<p>navigationStyle</p>
<p>è¦ç”¨è‡ªå®šä¹‰çš„å¯¼èˆªæ åªéœ€è¦åœ¨app.jsonä¸­é…ç½®</p>
<p><img src="https://upload-images.jianshu.io/upload_images/8198580-11a5485516f3abc9.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/422/format/webp" alt="img"></p>
<p>app.json</p>
<blockquote>
<p>ç›®å‰å¾®ä¿¡å°ç¨‹åºä¸æ”¯æŒå•ä¸ªé¡µé¢è®¾ç½®(ç°åœ¨æ”¯æŒäº†ï¼Œæœ¬æ–‡ç« ä»…ä¾›å‚è€ƒ)ï¼Œä¸€æ—¦åœ¨è¦å†³å®šä½¿ç”¨è‡ªå®šä¹‰å¯¼èˆªæ ï¼Œé‚£ä¹ˆæ¯ä¸ªé¡µé¢éƒ½éœ€è¦è®¾ç½®ï¼Œä¸ºäº†æ–¹ä¾¿æˆ‘å°±å°†å…¶å†™æˆäº†ä¸€ä¸ªç»„ä»¶ï¼š</p>
</blockquote>
<p>ç»„ä»¶ç›®å½•ï¼š</p>
<p><img src="https://upload-images.jianshu.io/upload_images/8198580-1e0091fc766021d1.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/269/format/webp" alt="img"></p>
<p>ç»„ä»¶ç›®å½•</p>
<p>index.wxmlæ–‡ä»¶ï¼š</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line">&lt;view <span class="class"><span class="keyword">class</span></span>=<span class="string">'nav-wrap'</span> style=<span class="string">'height: &#123;height*2 + 20&#125;px;'</span>&gt;</span><br><span class="line">    <span class="comment">// å¯¼èˆªæ  ä¸­é—´çš„æ ‡é¢˜</span></span><br><span class="line">  &lt;view <span class="class"><span class="keyword">class</span></span>=<span class="string">'nav-title'</span> style=<span class="string">'line-height: &#123;height*2 + 44&#125;px;'</span>&gt;&#123;&#123;navbarData.title&#125;&#125;&lt;<span class="regexp">/view&gt;</span></span><br><span class="line"><span class="regexp">  &lt;view style='display: flex; justify-content: space-around;flex-direction: column'&gt;</span></span><br><span class="line"><span class="regexp">      /</span><span class="regexp">/ å¯¼èˆªæ   å·¦ä¸Šè§’çš„è¿”å›æŒ‰é’® å’ŒhomeæŒ‰é’®</span></span><br><span class="line"><span class="regexp">      /</span><span class="regexp">/  å…¶ä¸­wx:if='&#123;navbarData.showCapsule&#125;' æ˜¯æ§åˆ¶å·¦ä¸Šè§’æŒ‰é’®çš„æ˜¾ç¤ºéšè—ï¼Œé¦–é¡µä¸æ˜¾ç¤º</span></span><br><span class="line"><span class="regexp">    &lt;view class='nav-capsule' style='height: &#123;height*2 + 44&#125;px;' wx:if='&#123;navbarData.showCapsule&#125;'&gt;</span></span><br><span class="line"><span class="regexp">       /</span><span class="regexp">/å·¦ä¸Šè§’çš„è¿”å›æŒ‰é’®ï¼Œwx:if='&#123;!share&#125;'ç©ºåˆ¶è¿”å›æŒ‰é’®æ˜¾ç¤º</span></span><br><span class="line"><span class="regexp">       /</span><span class="regexp">/ä»åˆ†äº«è¿›å…¥å°ç¨‹åºæ—¶ è¿”å›ä¸Šä¸€çº§æŒ‰é’®ä¸åº”è¯¥å­˜åœ¨</span></span><br><span class="line"><span class="regexp">      &lt;view bindtap='_navback' wx:if='&#123;!share&#125;'&gt;</span></span><br><span class="line"><span class="regexp">        &lt;image src='/img</span>s/back-pre.png<span class="string">' mode='</span>aspectFill<span class="string">' class='</span>back-pre<span class="string">'&gt;&lt;/image&gt;</span></span><br><span class="line"><span class="string">      &lt;/view&gt;</span></span><br><span class="line"><span class="string">      &lt;view class='</span>navbar-v-line<span class="string">' wx:if='</span>&#123;!share&#125;<span class="string">'&gt;&lt;/view&gt;</span></span><br><span class="line"><span class="string">      &lt;view bindtap='</span>_backhome<span class="string">'&gt;</span></span><br><span class="line"><span class="string">        &lt;image src='</span>/imgs/back-home.png<span class="string">' mode='</span>aspectFill<span class="string">' class='</span>back-home<span class="string">'&gt;&lt;/image&gt;</span></span><br><span class="line"><span class="string">      &lt;/view&gt;</span></span><br><span class="line"><span class="string">    &lt;/view&gt;</span></span><br><span class="line"><span class="string">  &lt;/view&gt;</span></span><br><span class="line"><span class="string">&lt;/view&gt;</span></span><br></pre></td></tr></table></figure>

<p>index.wxssæ–‡ä»¶ï¼š</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* é¡¶éƒ¨è¦å›ºå®šå®šä½   æ ‡é¢˜è¦å±…ä¸­   è‡ªå®šä¹‰æŒ‰é’®å’Œæ ‡é¢˜è¦å’Œå³è¾¹å¾®ä¿¡åŸç”Ÿçš„èƒ¶å›Šä¸Šä¸‹å¯¹é½ */</span></span><br><span class="line"><span class="selector-class">.nav-wrap</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: fixed;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#fff</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#000</span>;</span><br><span class="line">  <span class="attribute">z-index</span>: <span class="number">9999999</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* æ ‡é¢˜è¦å±…ä¸­ */</span></span><br><span class="line"><span class="selector-class">.nav-title</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  <span class="attribute">max-width</span>: <span class="number">400</span>rpx;</span><br><span class="line">  <span class="attribute">overflow</span>: hidden;</span><br><span class="line">  <span class="attribute">text-overflow</span>: ellipsis;</span><br><span class="line">  <span class="attribute">white-space</span>: nowrap;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">margin</span>: auto;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">36</span>rpx;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#2c2b2b</span>;</span><br><span class="line">  <span class="attribute">font-weight</span>: <span class="number">600</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.nav-capsule</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">align-items</span>: center;</span><br><span class="line">  <span class="attribute">margin-left</span>: <span class="number">30</span>rpx;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">140</span>rpx;</span><br><span class="line">  <span class="attribute">justify-content</span>: space-between;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.navbar-v-line</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">1px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">32</span>rpx;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#e5e5e5</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.back-pre</span>, <span class="selector-class">.back-home</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">32</span>rpx;</span><br><span class="line">   <span class="attribute">height</span>: <span class="number">36</span>rpx;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">4</span>rpx;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">10</span>rpx;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.nav-capsule</span> <span class="selector-class">.back-home</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">36</span>rpx;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">40</span>rpx;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">3</span>rpx;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>index.jsonæ–‡ä»¶ï¼ˆè‡ªå®šä¹‰ç»„ä»¶å¿…é¡»ï¼‰ï¼š</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"component"</span>: <span class="literal">true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>index.jsæ–‡ä»¶ï¼š</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> app = getApp()</span><br><span class="line">Component(&#123;</span><br><span class="line">  properties: &#123;</span><br><span class="line">    navbarData: &#123;   <span class="comment">//navbarData   ç”±çˆ¶é¡µé¢ä¼ é€’çš„æ•°æ®ï¼Œå˜é‡åå­—è‡ªå‘½å</span></span><br><span class="line">      type: <span class="built_in">Object</span>,</span><br><span class="line">      value: &#123;&#125;,</span><br><span class="line">      observer: <span class="function"><span class="keyword">function</span> (<span class="params">newVal, oldVal</span>) </span>&#123;&#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  data: &#123;</span><br><span class="line">    height: <span class="string">''</span>,</span><br><span class="line">    <span class="comment">//é»˜è®¤å€¼  é»˜è®¤æ˜¾ç¤ºå·¦ä¸Šè§’</span></span><br><span class="line">    navbarData: &#123;</span><br><span class="line">      showCapsule: <span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  attached: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// è·å–æ˜¯å¦æ˜¯é€šè¿‡åˆ†äº«è¿›å…¥çš„å°ç¨‹åº</span></span><br><span class="line">    <span class="keyword">this</span>.setData(&#123;</span><br><span class="line">      share: app.globalData.share</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="comment">// å®šä¹‰å¯¼èˆªæ çš„é«˜åº¦   æ–¹ä¾¿å¯¹é½</span></span><br><span class="line">    <span class="keyword">this</span>.setData(&#123;</span><br><span class="line">      height: app.globalData.height</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">  <span class="comment">// è¿”å›ä¸Šä¸€é¡µé¢</span></span><br><span class="line">    _navback() &#123;</span><br><span class="line">      wx.navigateBack()</span><br><span class="line">    &#125;,</span><br><span class="line">  <span class="comment">//è¿”å›åˆ°é¦–é¡µ</span></span><br><span class="line">    _backhome() &#123;</span><br><span class="line">      wx.switchTab(&#123;</span><br><span class="line">        url: <span class="string">'/pages/index/index'</span>,</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>app.js æ–‡ä»¶ï¼š</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="comment">//app.js</span></span><br><span class="line">App(&#123;</span><br><span class="line">  onLaunch: <span class="function"><span class="keyword">function</span> (<span class="params">options</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// åˆ¤æ–­æ˜¯å¦ç”±åˆ†äº«è¿›å…¥å°ç¨‹åº</span></span><br><span class="line">    <span class="keyword">if</span> (options.scene == <span class="number">1007</span> || options.scene == <span class="number">1008</span>) &#123;</span><br><span class="line">      <span class="keyword">this</span>.globalData.share = <span class="literal">true</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">this</span>.globalData.share = <span class="literal">false</span></span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="comment">//è·å–è®¾å¤‡é¡¶éƒ¨çª—å£çš„é«˜åº¦ï¼ˆä¸åŒè®¾å¤‡çª—å£é«˜åº¦ä¸ä¸€æ ·ï¼Œæ ¹æ®è¿™ä¸ªæ¥è®¾ç½®è‡ªå®šä¹‰å¯¼èˆªæ çš„é«˜åº¦ï¼‰</span></span><br><span class="line">    <span class="comment">//è¿™ä¸ªæœ€åˆæˆ‘æ˜¯åœ¨ç»„ä»¶ä¸­è·å–ï¼Œä½†æ˜¯å‡ºç°äº†ä¸€ä¸ªé—®é¢˜ï¼Œå½“ç¬¬ä¸€æ¬¡è¿›å…¥å°ç¨‹åºæ—¶å¯¼èˆªæ ä¼šæŠŠ</span></span><br><span class="line">    <span class="comment">//é¡µé¢å†…å®¹ç›–ä½ä¸€éƒ¨åˆ†,å½“æ‰“å¼€è°ƒè¯•é‡æ–°è¿›å…¥æ—¶å°±æ²¡æœ‰é—®é¢˜ï¼Œè¿™ä¸ªé—®é¢˜å¼„å¾—æˆ‘æ˜¯è«åå…¶å¦™</span></span><br><span class="line">    <span class="comment">//è™½ç„¶æœ€åè§£å†³äº†ï¼Œä½†æ˜¯èŠ±è´¹äº†ä¸å°‘æ—¶é—´</span></span><br><span class="line">    wx.getSystemInfo(&#123;</span><br><span class="line">      success: <span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">this</span>.globalData.height = res.statusBarHeight</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  globalData: &#123;</span><br><span class="line">    share: <span class="literal">false</span>,  <span class="comment">// åˆ†äº«é»˜è®¤ä¸ºfalse</span></span><br><span class="line">    height: <span class="number">0</span>,</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>app.wxssæ–‡ä»¶:</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**app.wxss**/</span></span><br><span class="line"><span class="selector-tag">pages</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">z-index</span>: <span class="number">9999998</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#fff</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¦‚ä½•ä½¿ç”¨è‡ªå®šä¹‰å¯¼èˆªæ ï¼š<br>æ–‡ä»¶ç›®å½•å›¾</p>
<p><img src="https://upload-images.jianshu.io/upload_images/8198580-e0ae0f716b3677e2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/300/format/webp" alt="img"></p>
<p>æ–‡ä»¶ç›®å½•å›¾</p>
<p>åœ¨å¾®ä¿¡å°ç¨‹åºé¡µé¢ä¸­ï¼š<br>pagesæ–‡ä»¶å¤¹index.wxmlæ–‡ä»¶ï¼š</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å¼•å…¥è‡ªå®šä¹‰ç»„ä»·ã€‚'navbar-data'ä¸­navbaræ˜¯è‡ªå®šä¹‰åå­—ï¼Œå†³å®šäº†ç»„ä»¶ä¸­'navbarData'çš„åå­—</span></span><br><span class="line">&lt;nav-bar navbar-data=<span class="string">'&#123;&#123;nvabarData&#125;&#125;'</span>&gt;&lt;<span class="regexp">/nav-bar&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">&lt;view class='home-page' style='margin-top: &#123;&#123;height&#125;&#125;px'&gt;</span></span><br><span class="line"><span class="regexp">  home page</span></span><br><span class="line"><span class="regexp">&lt;/</span>view&gt;</span><br></pre></td></tr></table></figure>

<p>pagesæ–‡ä»¶å¤¹index.jsonæ–‡ä»¶ä¸­(å£°æ˜ä½¿ç”¨çš„ç»„ä»¶ï¼Œå’Œç»„ä»¶çš„åœ°å€)ï¼š</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"usingComponents"</span>: &#123;</span><br><span class="line">    <span class="attr">"nav-bar"</span>: <span class="string">"/commpents/navbar/index"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>pagesæ–‡ä»¶å¤¹index.jsæ–‡ä»¶ï¼š</p>
<figure class="highlight kotlin"><table><tr><td class="code"><pre><span class="line"><span class="comment">//index.js</span></span><br><span class="line"><span class="comment">//è·å–åº”ç”¨å®ä¾‹</span></span><br><span class="line"><span class="keyword">const</span> app = getApp()</span><br><span class="line"></span><br><span class="line">Page(&#123;</span><br><span class="line">  <span class="keyword">data</span>: &#123;</span><br><span class="line">  <span class="comment">// ç»„ä»¶æ‰€éœ€çš„å‚æ•°</span></span><br><span class="line">    nvabarData: &#123;</span><br><span class="line">      showCapsule: <span class="number">1</span>, <span class="comment">//æ˜¯å¦æ˜¾ç¤ºå·¦ä¸Šè§’å›¾æ ‡   1è¡¨ç¤ºæ˜¾ç¤º    0è¡¨ç¤ºä¸æ˜¾ç¤º</span></span><br><span class="line">      title: <span class="string">'æˆ‘çš„ä¸»é¡µ'</span>, <span class="comment">//å¯¼èˆªæ  ä¸­é—´çš„æ ‡é¢˜</span></span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ­¤é¡µé¢ é¡µé¢å†…å®¹è·æœ€é¡¶éƒ¨çš„è·ç¦»</span></span><br><span class="line">    height: app.globalData.height * <span class="number">2</span> + <span class="number">20</span> ,   </span><br><span class="line">  &#125;,</span><br><span class="line">  onLoad() &#123;</span><br><span class="line">    console.log(<span class="keyword">this</span>.<span class="keyword">data</span>.height)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>pagesæ–‡ä»¶å¤¹index.wxssæ–‡ä»¶ï¼š</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**index.wxss**/</span></span><br><span class="line"><span class="selector-class">.home-page</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">160</span>rpx;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1</span>rpx solid red;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">60</span>rpx;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç”±è‡ªå®šä¹‰ç»„ä»¶å¼•å‘çš„ä¸€äº›é—®é¢˜ï¼Œ1.ä¸‹æ‹‰åˆ·æ–°ï¼šå½“é¡µé¢å†…å®¹é«˜åº¦ä¸å¤Ÿå±å¹•é«˜åº¦æ—¶ï¼Œiosçš„ä¸‹æ‹‰åˆ·æ–°å°†ä¼šå‡ºç°â€”-æ‹‰ä¸‹æ¥ï¼Œä¸Šä¸å»äº†ï¼Œä¹Ÿæ˜¯å¶å°”å‡ºç°ã€‚è§£å†³æ–¹æ³•å°±æ˜¯é¡µé¢è®¾ç½®ä¸ªæœ€å°é«˜åº¦ï¼Œç²¾å‡†ä¸€ç‚¹å°±æ˜¯é¡µé¢çš„é«˜åº¦ + ä¸‹æ‹‰åˆ·æ–°æ—¶é¡¶éƒ¨å†…å®¹è·ç¦»é¡¶éƒ¨çš„é«˜åº¦ã€‚</p>
<p>å‚è€ƒé“¾æ¥ï¼š<a href="https://www.jianshu.com/p/7393c800ba09" target="_blank" rel="noopener">https://www.jianshu.com/p/7393c800ba09</a></p>
]]></content>
      <categories>
        <category>soft</category>
      </categories>
      <tags>
        <tag>å°ç¨‹åº</tag>
      </tags>
  </entry>
  <entry>
    <title>å°ç¨‹åºå¼€å‘éšç¬”ï¼ˆä¸€ï¼‰</title>
    <url>/2020/07/24/%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91%E9%9A%8F%E7%AC%94%EF%BC%88%E4%B8%80%EF%BC%89/</url>
    <content><![CDATA[<h3 id="ç»å¯¹è·¯å¾„å’Œç›¸å¯¹è·¯å¾„"><a href="#ç»å¯¹è·¯å¾„å’Œç›¸å¯¹è·¯å¾„" class="headerlink" title="ç»å¯¹è·¯å¾„å’Œç›¸å¯¹è·¯å¾„"></a>ç»å¯¹è·¯å¾„å’Œç›¸å¯¹è·¯å¾„</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">â€œ..&#x2F;â€ä»£è¡¨å½“å‰æ–‡ä»¶æ‰€åœ¨ç›®å½•çš„ä¸Šä¸€çº§ç›®å½•ã€‚</span><br><span class="line"></span><br><span class="line">â€œ..&#x2F;..&#x2F;â€ä»£è¡¨å½“å‰æ–‡ä»¶æ‰€åœ¨ç›®å½•çš„ä¸Šä¸Šçº§ç›®å½•ã€‚</span><br><span class="line"></span><br><span class="line">â€œ..&#x2F;..&#x2F;..&#x2F;â€å¯ä»¥ä¾æ¬¡ç±»æ¨ã€‚</span><br><span class="line"></span><br><span class="line">â€œ&#x2F;â€ä»£è¡¨æ ¹ç›®å½•ã€‚</span><br><span class="line"></span><br><span class="line">â€œ.&#x2F;â€è¡¨ç¤ºå½“å‰ç›®å½•ï¼ŒHTMLä¸­ï¼Œå¯ä»¥çœç•¥ã€‚</span><br></pre></td></tr></table></figure>

<a id="more"></a>

<h3 id="ç»™å¯¹è±¡å±æ€§èµ‹å€¼ï¼Œå¢åŠ å±æ€§"><a href="#ç»™å¯¹è±¡å±æ€§èµ‹å€¼ï¼Œå¢åŠ å±æ€§" class="headerlink" title="ç»™å¯¹è±¡å±æ€§èµ‹å€¼ï¼Œå¢åŠ å±æ€§"></a>ç»™å¯¹è±¡å±æ€§èµ‹å€¼ï¼Œå¢åŠ å±æ€§</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">data: &#123;</span><br><span class="line">  tel: &#39;15184138787&#39;,</span><br><span class="line">  list: &#123;</span><br><span class="line">   title: &#39;æˆ‘æ˜¯æ ‡é¢˜å“¦&#39;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">éœ€æ±‚ï¼šæ›´æ”¹listé‡Œtitleçš„å€¼</span><br><span class="line"> let  value &#x3D; &#39;list.title&#39;; &#x2F;&#x2F; æ³¨æ„è¿™é‡Œå“ˆ</span><br><span class="line">  this.setData(&#123;</span><br><span class="line">    [value]: &#39;æˆ‘æ˜¯æ–°æ ‡é¢˜&#39;</span><br><span class="line"> &#125;)</span><br><span class="line"> </span><br><span class="line">éœ€æ±‚ï¼šlistæ–°å¢åŠ¨æ€å±æ€§å€¼</span><br><span class="line"> let  value &#x3D; &#96;list.$&#123;name&#125;&#96; &#x2F;&#x2F; è¿™é‡Œçš„nameæ˜¯åŠ¨æ€çš„å“ˆï¼Œå¯ä»¥æ˜¯1ï¼Œ2ï¼Œ3ï¼Œ4.... ä»»æ„å€¼</span><br><span class="line">  this.setData(&#123;</span><br><span class="line">    [value]: &#39;æˆ‘æ˜¯æ–°å±æ€§&#39;</span><br><span class="line"> &#125;)</span><br></pre></td></tr></table></figure>



<h3 id="é¡µé¢æ ˆï¼ˆå¸¦å‚æ•°è¿”å›ä¸Šä¸€ä¸ªé¡µé¢ï¼‰"><a href="#é¡µé¢æ ˆï¼ˆå¸¦å‚æ•°è¿”å›ä¸Šä¸€ä¸ªé¡µé¢ï¼‰" class="headerlink" title="é¡µé¢æ ˆï¼ˆå¸¦å‚æ•°è¿”å›ä¸Šä¸€ä¸ªé¡µé¢ï¼‰"></a>é¡µé¢æ ˆï¼ˆå¸¦å‚æ•°è¿”å›ä¸Šä¸€ä¸ªé¡µé¢ï¼‰</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">æ•°ç»„ä¸­ç¬¬ä¸€ä¸ªå…ƒç´ ä¸ºé¦–é¡µï¼Œæœ€åä¸€ä¸ªå…ƒç´ ä¸ºå½“å‰é¡µé¢ã€‚</span><br><span class="line"></span><br><span class="line">***æ³¨æ„ï¼š</span><br><span class="line">ä¸è¦å°è¯•ä¿®æ”¹é¡µé¢æ ˆï¼Œä¼šå¯¼è‡´è·¯ç”±ä»¥åŠé¡µé¢çŠ¶æ€é”™è¯¯ã€‚</span><br><span class="line">ä¸è¦åœ¨ App.onLaunch çš„æ—¶å€™è°ƒç”¨ getCurrentPages()ï¼Œæ­¤æ—¶ page è¿˜æ²¡æœ‰ç”Ÿæˆã€‚</span><br><span class="line"></span><br><span class="line">æŒ‰ç…§è¿™ä¸ªé€»è¾‘ pages[pages.length - 1] æˆ‘ä»¬æ‹¿åˆ°çš„å°±æ˜¯å½“å‰é¡µ</span><br><span class="line">pages[pages.length - 2] æˆ‘ä»¬æ‹¿åˆ°çš„æ˜¯ä¸Šä¸€é¡µ</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;è·å–ä¸Šä¸€ä¸ªé¡µé¢çš„this</span><br><span class="line">let pages &#x3D; getCurrentPages()</span><br><span class="line">var prevPage &#x3D; pages[pages.length - 2]</span><br><span class="line">&#x2F;&#x2F;ç»™ä¸Šä¸€ä¸ªçš„dataè®¾ç½®ä¸€ä¸ªæƒ³è¦ä¼ é€’çš„å‚æ•°</span><br><span class="line">prevPage.setData(&#123;</span><br><span class="line">xxxx: 1,</span><br><span class="line">&#125;);</span><br><span class="line">&#x2F;&#x2F;ç„¶åæˆ‘ä»¬åœ¨ä¸Šä¸€ä¸ªé¡µé¢çš„onshow é‡Œé¢å°±å¯ä»¥æ‹¿åˆ°è¿™ä¸ªå€¼</span><br></pre></td></tr></table></figure>





<h3 id="é€šè¿‡idç›´æ¥è°ƒç”¨ç»„ä»¶å†…éƒ¨æ–¹æ³•"><a href="#é€šè¿‡idç›´æ¥è°ƒç”¨ç»„ä»¶å†…éƒ¨æ–¹æ³•" class="headerlink" title="é€šè¿‡idç›´æ¥è°ƒç”¨ç»„ä»¶å†…éƒ¨æ–¹æ³•"></a>é€šè¿‡idç›´æ¥è°ƒç”¨ç»„ä»¶å†…éƒ¨æ–¹æ³•</h3><blockquote>
<p><img src="/2020/07/24/%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91%E9%9A%8F%E7%AC%94%EF%BC%88%E4%B8%80%EF%BC%89/Users/admin/AppData/Local/YNote/data/weixinobU7VjrjuSqZnu6-xPbfCXnjhBIM/4ac158cdc9c648f2951aba06d0452f20/816184259208.png" alt="img"></p>
<p>followUs-componentç»„ä»¶é‡Œçš„æ–¹æ³•</p>
<p><img src="/2020/07/24/%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91%E9%9A%8F%E7%AC%94%EF%BC%88%E4%B8%80%EF%BC%89/Users/admin/AppData/Local/YNote/data/weixinobU7VjrjuSqZnu6-xPbfCXnjhBIM/251ac7f7360748fe8f80002cfe80af9e/816184028689.png" alt="img"></p>
<p>é¡µé¢è°ƒç”¨ç»„ä»¶æ–¹æ³•</p>
<p><img src="/2020/07/24/%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91%E9%9A%8F%E7%AC%94%EF%BC%88%E4%B8%80%EF%BC%89/Users/admin/AppData/Local/YNote/data/weixinobU7VjrjuSqZnu6-xPbfCXnjhBIM/6c63b95b03214999a9f7a0bd92a2f6b9/081618435245.png" alt="img"></p>
</blockquote>
<h3 id="ç¦æ­¢ä¸‹æ‹‰-iosä¸‹æ‹‰ç©ºç™½"><a href="#ç¦æ­¢ä¸‹æ‹‰-iosä¸‹æ‹‰ç©ºç™½" class="headerlink" title="ç¦æ­¢ä¸‹æ‹‰(iosä¸‹æ‹‰ç©ºç™½)"></a>ç¦æ­¢ä¸‹æ‹‰(iosä¸‹æ‹‰ç©ºç™½)</h3><blockquote>
<p>åœ¨å¾®ä¿¡å°ç¨‹åºä¸­ï¼Œç”¨åŠ›å¾€ä¸‹æ‹‰åŠ¨ï¼Œé¡µé¢é¡¶éƒ¨ä¼šå‡ºç°ä¸€æ®µç©ºç™½çš„åœ°æ–¹ã€‚ äº§å“çš„éœ€æ±‚ä¸å¤ªå…è®¸è¿™ä¹ˆåšï¼Œä¼šå½±å“ç”¨æˆ·ä½“éªŒï¼ŒæŸ¥çœ‹æ–‡æ¡£å‘ç°å¯ä»¥ä½¿ç”¨enablePullDownRefreshè¿™å±æ€§æ¥å®ç°ï¼Œåœ¨page.jsoné‡Œé¢æ·»åŠ ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&quot;enablePullDownRefresh&quot;:false</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·å¯ä»¥ç¦ç”¨é¡µé¢ä¸‹æ‹‰æ»šåŠ¨ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ä¸å¯åœ¨å…¨å±€é…ç½® app.jsonä¸­é…ç½®ã€‚ç»æµ‹è¯•å‘ç°ï¼šè™½ç„¶ç¦æ­¢äº†ä¸‹æ‹‰åˆ·æ–°ï¼Œä½†æ˜¯åœ¨éƒ¨åˆ†iosç«¯ä»ç„¶å¯ä»¥ä¸‹æ‹‰å‡ºç°ç©ºç™½ã€‚é‚£ä¹ˆè¯¥å¦‚ä½•è§£å†³å‘¢ï¼Ÿæ–¹æ³•ï¼šå½“é¡µé¢æ»šåŠ¨çš„æ—¶å€™åˆ¤æ–­ä¸é¡¶éƒ¨çš„è·ç¦»ï¼Œå½“è¿™ä¸ªè·ç¦»å°äº0çš„æ—¶å€™ï¼Œå¼ºåˆ¶æ€§æ‹‰å›é¡¶éƒ¨å³å¯</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">onPageScroll:function(e)&#123;</span><br><span class="line">  if(e.scrollTop&lt;0)&#123;</span><br><span class="line">    wx.pageScrollTo(&#123;</span><br><span class="line">   	 scrollTop: 0</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</blockquote>
<h3 id="è‡ªå¸¦æ°´å¹³å’Œå‚ç›´æ»šåŠ¨äº‹ä»¶"><a href="#è‡ªå¸¦æ°´å¹³å’Œå‚ç›´æ»šåŠ¨äº‹ä»¶" class="headerlink" title="è‡ªå¸¦æ°´å¹³å’Œå‚ç›´æ»šåŠ¨äº‹ä»¶"></a>è‡ªå¸¦æ°´å¹³å’Œå‚ç›´æ»šåŠ¨äº‹ä»¶</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">scroll-view</span> <span class="attr">scroll-y</span>&gt;</span>111<span class="tag">&lt;/<span class="name">scroll-view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">scroll-view</span> <span class="attr">scroll-x</span>&gt;</span>222<span class="tag">&lt;/<span class="name">scroll-view</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h3 id="textå¥—textï¼Œå†…éƒ¨textç»‘å®šç‚¹å‡»äº‹ä»¶å¤±æ•ˆ"><a href="#textå¥—textï¼Œå†…éƒ¨textç»‘å®šç‚¹å‡»äº‹ä»¶å¤±æ•ˆ" class="headerlink" title="textå¥—textï¼Œå†…éƒ¨textç»‘å®šç‚¹å‡»äº‹ä»¶å¤±æ•ˆ"></a>textå¥—textï¼Œå†…éƒ¨textç»‘å®šç‚¹å‡»äº‹ä»¶å¤±æ•ˆ</h3><h3 id="hoveræ·»åŠ classäº‹ä»¶"><a href="#hoveræ·»åŠ classäº‹ä»¶" class="headerlink" title="hoveræ·»åŠ classäº‹ä»¶"></a>hoveræ·»åŠ classäº‹ä»¶</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">hover-class</span>=<span class="string">"none"</span>&gt;</span>è¿™æ˜¯ä¸€æ®µæ–‡å­—<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">hover-class</span>=<span class="string">"bg_red"</span>  <span class="attr">hover-stop-propagation</span>=<span class="string">"false"</span> <span class="attr">hover-start-time</span>=<span class="string">"50"</span> <span class="attr">hover-stay-time</span>=<span class="string">"400"</span> &gt;</span>è¿™æ˜¯ä¸€æ®µæ–‡å­—<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"></span><br><span class="line">hover-stop-propagationå±æ€§å¹¶ä¸æ˜¯è¯´å®Œå…¨é˜»æ­¢äº†ç¥–å…ˆèŠ‚ç‚¹çš„è¢«ç‚¹å‡»èƒ½åŠ›ï¼Œå®ƒåªæ˜¯ä»£è¡¨ç‚¹å‡»å½“å‰viewçš„æ—¶å€™ï¼Œå®ƒçš„ç¥–å…ˆèŠ‚ç‚¹ä¸ä¼šäº§ç”Ÿç‚¹å‡»æ•ˆæœ</span><br><span class="line">hover-start-timeæŒ‰ä½å¤šä¹…å‡ºç°ç‚¹å‡»æ€</span><br><span class="line">hover-stay-timeæ‰‹æŒ‡æ¾å¼€åä¿æŒç‚¹å‡»çš„çŠ¶æ€</span><br><span class="line">é€šå¸¸ï¼Œå½“ä¸€ä¸ª view ç»„ä»¶ä¸­åŒ…å« image ç­‰ä¸æ”¯æŒ hover-class çš„ç»„ä»¶ï¼Œä½†åˆéœ€è¦åœ¨è¯¥ç»„ä»¶ä¸Šä½¿ç”¨ hover-stop-propagation å±æ€§çš„ä½œç”¨æ—¶ï¼Œéœ€è¦å°†ä¸æ”¯æŒ hover-class çš„ç»„ä»¶ç”¨viewã€button æˆ– navigator åŒ…è£¹èµ·æ¥ã€‚</span><br></pre></td></tr></table></figure>



<h3 id="ä½¿ç”¨buttonæ ‡ç­¾çš„open-type-â€getUserInfoâ€å¼•å¯¼ç”¨æˆ·å»æˆæƒ"><a href="#ä½¿ç”¨buttonæ ‡ç­¾çš„open-type-â€getUserInfoâ€å¼•å¯¼ç”¨æˆ·å»æˆæƒ" class="headerlink" title="ä½¿ç”¨buttonæ ‡ç­¾çš„open-type=â€getUserInfoâ€å¼•å¯¼ç”¨æˆ·å»æˆæƒ]"></a>ä½¿ç”¨buttonæ ‡ç­¾çš„open-type=â€getUserInfoâ€å¼•å¯¼ç”¨æˆ·å»æˆæƒ]</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">index.wxml</span><br><span class="line">&lt;button</span><br><span class="line">    wx:<span class="keyword">if</span>=<span class="string">"&#123;&#123;canIUse&#125;&#125;"</span></span><br><span class="line">    open-type=<span class="string">"getUserInfo"</span></span><br><span class="line">    bindgetuserinfo=<span class="string">"bindGetUserInfo"</span></span><br><span class="line">&gt;æˆæƒç™»å½•&lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp">&lt;view wx:else&gt;è¯·å‡çº§å¾®ä¿¡ç‰ˆæœ¬&lt;/</span>view&gt;</span><br><span class="line">index.js</span><br><span class="line">Page(&#123;</span><br><span class="line">  data: &#123;</span><br><span class="line">     <span class="comment">//åˆ¤æ–­å°ç¨‹åºçš„APIï¼Œå›è°ƒï¼Œå‚æ•°ï¼Œç»„ä»¶ç­‰æ˜¯å¦åœ¨å½“å‰ç‰ˆæœ¬å¯ç”¨ã€‚</span></span><br><span class="line">    canIUse: wx.canIUse(<span class="string">'button.open-type.getUserInfo'</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">  onLoad: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// æŸ¥çœ‹æ˜¯å¦æˆæƒ</span></span><br><span class="line">    wx.getSetting(&#123;</span><br><span class="line">      success: <span class="function"><span class="keyword">function</span>(<span class="params">res</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (res.authSetting[<span class="string">'scope.userInfo'</span>]) &#123;</span><br><span class="line">          wx.getUserInfo(&#123;</span><br><span class="line">            success: <span class="function"><span class="keyword">function</span>(<span class="params">res</span>) </span>&#123;</span><br><span class="line">              <span class="built_in">console</span>.log(res.userInfo)</span><br><span class="line">              <span class="comment">//ç”¨æˆ·å·²ç»æˆæƒè¿‡</span></span><br><span class="line">            &#125;</span><br><span class="line">          &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">  bindGetUserInfo: <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(e.detail.userInfo)</span><br><span class="line">    <span class="keyword">if</span> (e.detail.userInfo)&#123;</span><br><span class="line">      <span class="comment">//ç”¨æˆ·æŒ‰äº†å…è®¸æˆæƒæŒ‰é’®</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="comment">//ç”¨æˆ·æŒ‰äº†æ‹’ç»æŒ‰é’®</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>



<h3 id="é¡µé¢è·³è½¬æ–¹æ³•æ€»ç»“"><a href="#é¡µé¢è·³è½¬æ–¹æ³•æ€»ç»“" class="headerlink" title="é¡µé¢è·³è½¬æ–¹æ³•æ€»ç»“"></a>é¡µé¢è·³è½¬æ–¹æ³•æ€»ç»“</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//wx.navigateBackè¿”å›ä¸Šä¸Šä¸ªé¡µé¢ã€‚</span></span><br><span class="line">wx.navigateBack(&#123;</span><br><span class="line">  delta: <span class="number">2</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//æºå¸¦å‚æ•°</span></span><br><span class="line"><span class="keyword">const</span> pages = getCurrentPages()</span><br><span class="line"><span class="keyword">const</span> prevPage = pages[pages.length<span class="number">-2</span>] <span class="comment">// ä¸Šä¸€é¡µ</span></span><br><span class="line"><span class="comment">// è°ƒç”¨ä¸Šä¸€ä¸ªé¡µé¢çš„setData æ–¹æ³•ï¼Œå°†æ•°æ®å­˜å‚¨</span></span><br><span class="line">prevPage.setData(&#123;</span><br><span class="line">    testdata: <span class="number">12456</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//ä¿ç•™å½“å‰é¡µé¢ï¼Œè·³è½¬åˆ°åº”ç”¨å†…çš„æŸä¸ªé¡µé¢ï¼Œä½¿ç”¨wx.navigateBackå¯ä»¥è¿”å›åˆ°åŸé¡µé¢ã€‚</span></span><br><span class="line"><span class="comment">// æ³¨æ„ï¼šè°ƒç”¨ navigateTo è·³è½¬æ—¶ï¼Œè°ƒç”¨è¯¥æ–¹æ³•çš„é¡µé¢ä¼šè¢«åŠ å…¥å †æ ˆ</span></span><br><span class="line">wx.navigateTo(&#123;</span><br><span class="line">  url: <span class="string">'page/detail/detail?product_id=222'</span>ã€€ã€€<span class="comment">// é¡µé¢ </span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// å…³é—­å½“å‰é¡µé¢ï¼Œè·³è½¬åˆ°åº”ç”¨å†…çš„æŸä¸ªé¡µé¢ã€‚</span></span><br><span class="line">wx.redirectTo(&#123;</span><br><span class="line">  url: <span class="string">'page/home/home?user_id=111'</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// è·³è½¬åˆ°tabBaré¡µé¢ï¼ˆåœ¨app.jsonä¸­æ³¨å†Œè¿‡çš„tabBaré¡µé¢ï¼‰ï¼ŒåŒæ—¶å…³é—­å…¶ä»–étabBaré¡µé¢ã€‚</span></span><br><span class="line">wx.switchTab(&#123;</span><br><span class="line">  url: <span class="string">'page/index/index'</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// å…³é—­æ‰€æœ‰é¡µé¢ï¼Œæ‰“å¼€åˆ°åº”ç”¨å†…çš„æŸä¸ªé¡µé¢ã€‚</span></span><br><span class="line">wx.reLanch(&#123;</span><br><span class="line">  url: <span class="string">'page/home/home?user_id=111'</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>



<h3 id="wxml-é¡µé¢ç»„ä»¶è·³è½¬ï¼ˆå¯ä»¥é€šè¿‡è®¾ç½®open-typeå±æ€§æŒ‡æ˜é¡µé¢è·³è½¬æ–¹å¼ï¼‰ï¼š"><a href="#wxml-é¡µé¢ç»„ä»¶è·³è½¬ï¼ˆå¯ä»¥é€šè¿‡è®¾ç½®open-typeå±æ€§æŒ‡æ˜é¡µé¢è·³è½¬æ–¹å¼ï¼‰ï¼š" class="headerlink" title="wxml é¡µé¢ç»„ä»¶è·³è½¬ï¼ˆå¯ä»¥é€šè¿‡è®¾ç½®open-typeå±æ€§æŒ‡æ˜é¡µé¢è·³è½¬æ–¹å¼ï¼‰ï¼š"></a>wxml é¡µé¢ç»„ä»¶è·³è½¬ï¼ˆå¯ä»¥é€šè¿‡è®¾ç½®open-typeå±æ€§æŒ‡æ˜é¡µé¢è·³è½¬æ–¹å¼ï¼‰ï¼š</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line">// navigator ç»„ä»¶é»˜è®¤çš„ open-type ä¸º navigate </span><br><span class="line"><span class="tag">&lt;<span class="name">navigator</span> <span class="attr">url</span>=<span class="string">"/page/navigate/navigate?title=navigate"</span> <span class="attr">hover-class</span>=<span class="string">"navigator-hover"</span>&gt;</span>è·³è½¬åˆ°æ–°é¡µé¢<span class="tag">&lt;/<span class="name">navigator</span>&gt;</span></span><br><span class="line"></span><br><span class="line">// redirect å¯¹åº” API ä¸­çš„ wx.redirect æ–¹æ³•</span><br><span class="line"><span class="tag">&lt;<span class="name">navigator</span> <span class="attr">url</span>=<span class="string">"../../redirect/redirect/redirect?title=redirect"</span> <span class="attr">open-type</span>=<span class="string">"redirect"</span> <span class="attr">hover-class</span>=<span class="string">"other-navigator-hover"</span>&gt;</span>åœ¨å½“å‰é¡µæ‰“å¼€<span class="tag">&lt;/<span class="name">navigator</span>&gt;</span></span><br><span class="line"></span><br><span class="line">// switchTab å¯¹åº” API ä¸­çš„ wx.switchTab æ–¹æ³•</span><br><span class="line"><span class="tag">&lt;<span class="name">navigator</span> <span class="attr">url</span>=<span class="string">"/page/index/index"</span> <span class="attr">open-type</span>=<span class="string">"switchTab"</span> <span class="attr">hover-class</span>=<span class="string">"other-navigator-hover"</span>&gt;</span>åˆ‡æ¢ Tab<span class="tag">&lt;/<span class="name">navigator</span>&gt;</span></span><br><span class="line"></span><br><span class="line">// reLanch å¯¹åº” API ä¸­çš„ wx.reLanch æ–¹æ³•</span><br><span class="line"><span class="tag">&lt;<span class="name">navigator</span> <span class="attr">url</span>=<span class="string">"../../redirect/redirect/redirect?title=redirect"</span> <span class="attr">open-type</span>=<span class="string">"redirect"</span> <span class="attr">hover-class</span>=<span class="string">"other-navigator-hover"</span>&gt;</span>å…³é—­æ‰€æœ‰é¡µé¢ï¼Œæ‰“å¼€åˆ°åº”ç”¨å†…çš„æŸä¸ªé¡µé¢<span class="tag">&lt;/<span class="name">navigator</span>&gt;</span></span><br><span class="line"></span><br><span class="line">// navigateBack å¯¹åº” API ä¸­çš„ wx.navigateBack æ–¹æ³•</span><br><span class="line"><span class="tag">&lt;<span class="name">navigator</span> <span class="attr">url</span>=<span class="string">"/page/index/index"</span> <span class="attr">open-type</span>=<span class="string">"navigateBack"</span> <span class="attr">hover-class</span>=<span class="string">"other-navigator-hover"</span>&gt;</span>å…³é—­å½“å‰é¡µé¢ï¼Œè¿”å›ä¸Šä¸€çº§é¡µé¢æˆ–å¤šçº§é¡µé¢<span class="tag">&lt;/<span class="name">navigator</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h3 id="ç¦»å¼€é¡µé¢æ¸…é™¤å®šæ—¶å™¨"><a href="#ç¦»å¼€é¡µé¢æ¸…é™¤å®šæ—¶å™¨" class="headerlink" title="ç¦»å¼€é¡µé¢æ¸…é™¤å®šæ—¶å™¨"></a>ç¦»å¼€é¡µé¢æ¸…é™¤å®šæ—¶å™¨</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//ç¦»å¼€é¡µé¢æ¸…é™¤</span></span><br><span class="line">onUnload: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  clearInterval(<span class="keyword">this</span>.data.start_timer);</span><br><span class="line">&#125;,</span><br><span class="line">onHide: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  clearInterval(<span class="keyword">this</span>.data.start_timer);</span><br><span class="line">&#125;,</span><br><span class="line"></span><br><span class="line"><span class="comment">//å€’è®¡æ—¶</span></span><br><span class="line">setCountDown: <span class="function"><span class="keyword">function</span> (<span class="params">Time = <span class="string">'2020-07-28 16:25:00'</span></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> Time = <span class="keyword">this</span>.data.paytime;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="keyword">this</span>.data.paytime,<span class="string">'paytime'</span>);</span><br><span class="line">  <span class="keyword">var</span> setTime = <span class="number">0.5</span> * <span class="number">3600</span> * <span class="number">1000</span>;<span class="comment">//åŠä¸ªå°æ—¶çš„æ¯«ç§’æ•°</span></span><br><span class="line">  <span class="keyword">var</span> nowTime = <span class="keyword">new</span> <span class="built_in">Date</span>().getTime();<span class="comment">//ç°åœ¨æ—¶é—´ï¼ˆæ—¶é—´æˆ³ï¼‰</span></span><br><span class="line">  <span class="keyword">var</span> endTime = <span class="keyword">new</span> <span class="built_in">Date</span>().setTime(<span class="keyword">new</span> <span class="built_in">Date</span>(Time).getTime() + setTime);<span class="comment">//è·ç¦»å‚æ•°åŠä¸ªå°æ—¶åçš„æ—¶é—´</span></span><br><span class="line">  <span class="keyword">var</span> intDiff = (endTime - nowTime) / <span class="number">1000</span>;<span class="comment">//æ¯«ç§’æ•°å·®</span></span><br><span class="line">  <span class="keyword">var</span> day = <span class="number">0</span>,</span><br><span class="line">    hour = <span class="number">24</span>,</span><br><span class="line">    minute = <span class="number">60</span>,</span><br><span class="line">    second = <span class="number">60</span>;<span class="comment">//æ—¶é—´é»˜è®¤å€¼</span></span><br><span class="line">  <span class="keyword">if</span> (intDiff &gt; <span class="number">0</span>) &#123;</span><br><span class="line">    day = <span class="built_in">Math</span>.floor(intDiff / (<span class="number">60</span> * <span class="number">60</span> * <span class="number">24</span>));</span><br><span class="line">    hour = <span class="built_in">Math</span>.floor(intDiff / (<span class="number">60</span> * <span class="number">60</span>)) - (day * <span class="number">24</span>);</span><br><span class="line">    minute = <span class="built_in">Math</span>.floor(intDiff / <span class="number">60</span>) - (day * <span class="number">24</span> * <span class="number">60</span>) - (hour * <span class="number">60</span>);</span><br><span class="line">    second = <span class="built_in">Math</span>.floor(intDiff) - (day * <span class="number">24</span> * <span class="number">60</span> * <span class="number">60</span>) - (hour * <span class="number">60</span> * <span class="number">60</span>) - (minute * <span class="number">60</span>);</span><br><span class="line">    <span class="keyword">if</span> (hour &lt;= <span class="number">9</span>) hour = <span class="string">'0'</span> + hour;</span><br><span class="line">    <span class="keyword">if</span> (minute &lt;= <span class="number">9</span>) minute = <span class="string">'0'</span> + minute;</span><br><span class="line">    <span class="keyword">if</span> (second &lt;= <span class="number">9</span>) second = <span class="string">'0'</span> + second;</span><br><span class="line">    <span class="keyword">this</span>.setData(&#123;</span><br><span class="line">      showTime: hour + <span class="string">':'</span> + minute + <span class="string">':'</span> + second</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.setData(&#123;</span><br><span class="line">      showTime: <span class="string">'00:00:00'</span></span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">//èµ‹å€¼</span></span><br><span class="line">  <span class="keyword">this</span>.setData(&#123;</span><br><span class="line">    start_timer: setTimeout(<span class="keyword">this</span>.setCountDown, <span class="number">1000</span>)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>



<h3 id="iosé¡µé¢å›å¼¹"><a href="#iosé¡µé¢å›å¼¹" class="headerlink" title="iosé¡µé¢å›å¼¹"></a>iosé¡µé¢å›å¼¹</h3><p>ç»™pageåŠ ä¸€ä¸ªborder-bottomå°±å¯ï¼Œä¹Ÿè¦ç»™ä¸€å®šçš„padding-bottom</p>
<h3 id="wx-ifå’Œhidden"><a href="#wx-ifå’Œhidden" class="headerlink" title="wx:ifå’Œhidden"></a>wx:ifå’Œhidden</h3><p>wx:ifæ¡ä»¶ä¸ºtrueæ˜¾ç¤ºï¼Œhiddenæ¡ä»¶ä¸ºfalseæ˜¾ç¤º</p>
<h3 id="å¾®ä¿¡å°ç¨‹åºâ€œå¯¹åº”çš„æœåŠ¡å™¨è¯ä¹¦æ— æ•ˆâ€"><a href="#å¾®ä¿¡å°ç¨‹åºâ€œå¯¹åº”çš„æœåŠ¡å™¨è¯ä¹¦æ— æ•ˆâ€" class="headerlink" title="å¾®ä¿¡å°ç¨‹åºâ€œå¯¹åº”çš„æœåŠ¡å™¨è¯ä¹¦æ— æ•ˆâ€"></a>å¾®ä¿¡å°ç¨‹åºâ€œå¯¹åº”çš„æœåŠ¡å™¨è¯ä¹¦æ— æ•ˆâ€</h3><p><img src="/2020/07/24/%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91%E9%9A%8F%E7%AC%94%EF%BC%88%E4%B8%80%EF%BC%89/image-20200927102756626.png" alt="image-20200927102756626"></p>
<p>åˆ°è…¾è®¯äº‘ä¸Šï¼ŒSSLè¯ä¹¦ç®¡ç†ï¼Œå¯ä»¥ç”³è¯·ä¸€ä¸ªå…è´¹çš„è¯ä¹¦ï¼Œç”³è¯·å¥½äº†æ”¾åˆ°nginxé…ç½®ä¸­ï¼ŒéªŒè¯å¯ä»¥é€šè¿‡ã€‚</p>
<h3 id="åˆ†åŒ…"><a href="#åˆ†åŒ…" class="headerlink" title="åˆ†åŒ…"></a>åˆ†åŒ…</h3><p>å¯¹äºç”¨æˆ·æ¥è¯´ï¼Œå°ç¨‹åºåŠ è½½æµç¨‹å˜æˆäº†ï¼š</p>
<p>1.é¦–æ¬¡å¯åŠ¨æ—¶ï¼Œå…ˆä¸‹è½½å°ç¨‹åºä¸»åŒ…ï¼Œæ˜¾ç¤ºä¸»åŒ…å†…çš„é¡µé¢ï¼›</p>
<p>2.å¦‚æœç”¨æˆ·è¿›å…¥äº†æŸä¸ªåˆ†åŒ…çš„é¡µé¢ï¼Œå†ä¸‹è½½è¿™ä¸ªå¯¹åº”åˆ†åŒ…ï¼Œä¸‹è½½å®Œæ¯•åï¼Œæ˜¾ç¤ºåˆ†åŒ…çš„é¡µé¢ã€‚</p>
<p>é‡‡ç”¨åˆ†åŒ…åŠ è½½ï¼Œå¯¹å¼€å‘è€…è€Œè¨€ï¼Œèƒ½ä½¿å°ç¨‹åºæœ‰æ›´å¤§çš„ä»£ç ä½“ç§¯ï¼Œæ‰¿è½½æ›´å¤šçš„åŠŸèƒ½ä¸æœåŠ¡ï¼›è€Œå¯¹ç”¨æˆ·è€Œè¨€ï¼Œå¯ä»¥æ›´å¿«åœ°æ‰“å¼€å°ç¨‹åºï¼ŒåŒæ—¶åœ¨ä¸å½±å“å¯åŠ¨é€Ÿåº¦å‰æä¸‹ä½¿ç”¨æ›´å¤šåŠŸèƒ½</p>
<p><strong>attentionï¼š</strong></p>
<p>1.æ— æ³•åœ¨é¦–é¡µé¢æˆ–tabbaré¡µé¢æ‰“å¼€åˆ†åŒ…ä¸­çš„é¡µé¢ï¼Œå¿…é¡»å…ˆé“¾æ¥åˆ°éé¦–é¡µé¢æˆ–tabbaré¡µé¢ï¼Œå†è¿›è¡Œè·³è½¬åˆ°åˆ†åŒ…ä¸­çš„é¡µé¢ã€‚</p>
<p>2.æ¯ä¸ªé¡µé¢çš„jsæ–‡ä»¶å¿…é¡»åˆå§‹åŒ–page({})ã€‚</p>
<p>3.é¿å…åˆ†åŒ…ä¸åˆ†åŒ…ä¹‹é—´å¼•ç”¨ä¸Šçš„è€¦åˆã€‚å› ä¸ºåˆ†åŒ…çš„åŠ è½½æ˜¯ç”±ç”¨æˆ·æ“ä½œè§¦å‘çš„ï¼Œå¹¶ä¸èƒ½ç¡®ä¿æŸåˆ†åŒ…åŠ è½½æ—¶ï¼Œå¦å¤–ä¸€ä¸ªåˆ†åŒ…å°±ä¸€å®šå­˜åœ¨ï¼Œè¿™ä¸ªæ—¶å€™å¯èƒ½ä¼šå¯¼è‡´ JS é€»è¾‘å¼‚å¸¸çš„æƒ…å†µï¼Œä¾‹å¦‚æŠ¥ã€Œâ€xxx.jsâ€ is not definedã€è¿™æ ·çš„é”™è¯¯ï¼›</p>
<p>4.ä¸€äº›å…¬å…±ç”¨åˆ°çš„è‡ªå®šä¹‰ç»„ä»¶ï¼Œéœ€è¦æ”¾åœ¨ä¸»åŒ…å†…ã€‚</p>
<p>5.æ•´ä¸ªå°ç¨‹åºæ‰€æœ‰åˆ†åŒ…å¤§å°ä¸è¶…è¿‡ 4M</p>
<p>6.å•ä¸ªåˆ†åŒ…/ä¸»åŒ…å¤§å°ä¸èƒ½è¶…è¿‡ 2M</p>
<p>7.å¾®ä¿¡ 6.6.0 ç‰ˆæœ¬å¼€å§‹æ”¯æŒåˆ†åŒ…åŠ è½½ï¼Œè€Œå¯¹äºä½äºè¿™ä¸ªç‰ˆæœ¬çš„å®¢æˆ·ç«¯ï¼Œæˆ‘ä»¬åšäº†å…¼å®¹å¤„ç†ï¼Œå¼€å‘è€…ä¸éœ€è¦å¯¹è€ç‰ˆæœ¬å¾®ä¿¡å®¢æˆ·ç«¯åšå…¼å®¹ã€‚</p>
<p>å¯¹äºè€ç‰ˆæœ¬çš„å®¢æˆ·ç«¯ï¼Œç¼–è¯‘åå°ä¼šå°†æ‰€æœ‰çš„åˆ†åŒ…æ‰“åŒ…æˆä¸€ä¸ªæ•´åŒ…ï¼Œè€ç‰ˆæœ¬çš„å®¢æˆ·ç«¯ä¾ç„¶æŒ‰ç…§æ•´åŒ…çš„æ–¹å¼è¿›è¡ŒåŠ è½½ã€‚</p>
<p><strong>how:</strong></p>
<p>å½“ç†æ¸…äº†åˆ†åŒ…çš„åˆ’åˆ†åï¼Œå°±å¯ä»¥è¿›è¡Œåˆ†åŒ…çš„é…ç½®äº†ï¼Œè¿™ä¸€æ­¥å¹¶ä¸å¤æ‚ã€‚</p>
<p>å‡è®¾æ”¯æŒåˆ†åŒ…çš„å°ç¨‹åºç›®å½•ç»“æ„å¦‚ä¸‹ï¼š</p>
<p><img src="https://img-blog.csdn.net/20180422115731135" alt="img"></p>
<p>å¼€å‘è€…é€šè¿‡åœ¨ app.json<code>subPackages</code>å­—æ®µå£°æ˜é¡¹ç›®åˆ†åŒ…ç»“æ„ï¼š</p>
<p><img src="https://img-blog.csdn.net/20180422115740142" alt="img"></p>
<h3 id="æ·»åŠ åˆ°æˆ‘çš„å°ç¨‹åº"><a href="#æ·»åŠ åˆ°æˆ‘çš„å°ç¨‹åº" class="headerlink" title="æ·»åŠ åˆ°æˆ‘çš„å°ç¨‹åº"></a>æ·»åŠ åˆ°æˆ‘çš„å°ç¨‹åº</h3><p>å½“ç”¨æˆ·è¿›å…¥å°ç¨‹åºåï¼Œ</p>
<p>èƒ½å¦åˆ¤æ–­ç”¨æˆ·æ˜¯å¦å°†å½“å‰å°ç¨‹åºæ·»åŠ åˆ°æˆ‘çš„å°ç¨‹åºä¸­-å¦</p>
<p>èƒ½å¦é€šè¿‡jsæ“ä½œå°†å½“å‰å°ç¨‹åºæ·»åŠ åˆ°æˆ‘çš„å°ç¨‹åºä¸­-å¦</p>
<h3 id="AppIDã€AppKeyã€AppSecret"><a href="#AppIDã€AppKeyã€AppSecret" class="headerlink" title="AppIDã€AppKeyã€AppSecret"></a>AppIDã€AppKeyã€AppSecret</h3><p>AppIDï¼šåº”ç”¨çš„å”¯ä¸€æ ‡è¯†ï¼ˆæ˜¯ç”¨æ¥æ ‡è®°ä½ çš„å¼€å‘è€…è´¦å·çš„ï¼‰<br>AppKeyï¼šå…¬åŒ™ï¼ˆç›¸å½“äºè´¦å·ï¼‰<br>AppSecretï¼šç§åŒ™ï¼ˆç›¸å½“äºå¯†ç ï¼‰</p>
<p>tokenï¼šä»¤ç‰Œï¼ˆè¿‡æœŸå¤±æ•ˆï¼‰</p>
<p>ä½¿ç”¨æ–¹æ³•</p>
<p>\1. å‘ç¬¬ä¸‰æ–¹æœåŠ¡å™¨è¯·æ±‚æˆæƒæ—¶ï¼Œå¸¦ä¸ŠAppKeyå’ŒAppSecretï¼ˆéœ€å­˜åœ¨æœåŠ¡å™¨ç«¯ï¼‰</p>
<p>\2. ç¬¬ä¸‰æ–¹æœåŠ¡å™¨éªŒè¯AppKeyå’ŒAppSecretåœ¨DBä¸­æœ‰æ— è®°å½•</p>
<p>\3. å¦‚æœæœ‰ï¼Œç”Ÿæˆä¸€ä¸²å”¯ä¸€çš„å­—ç¬¦ä¸²ï¼ˆtokenä»¤ç‰Œï¼‰ï¼Œè¿”å›ç»™æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨å†è¿”å›ç»™å®¢æˆ·ç«¯</p>
<p>\4. å®¢æˆ·ç«¯ä¸‹æ¬¡è¯·æ±‚æ•æ„Ÿæ•°æ®æ—¶å¸¦ä¸Šä»¤ç‰Œ</p>
<p>å…³äºç¬¬ä¸€ç‚¹ï¼Œå¯ä»¥é‡‡ç”¨ç­¾åçš„æ–¹å¼å‘é€ï¼Œå½“åº”ç”¨æœåŠ¡ç«¯å‘ç¬¬ä¸‰æ–¹æœåŠ¡ç«¯å‘è¯·æ±‚æ—¶ï¼Œå¸¦ä¸ŠAppKeyã€æ—¶é—´æˆ³ã€éšæœºæ•°ã€ç­¾åï¼Œç­¾åå¯ä»¥ä½¿ç”¨ AppSecret + æ—¶é—´æˆ³ + éšæœºæ•°ä½¿ç”¨sha1ç”Ÿæˆï¼Œç¬¬ä¸‰æ–¹æœåŠ¡ç«¯æ”¶åˆ°åï¼Œç”Ÿæˆæœ¬åœ°ç­¾åå’Œæ”¶åˆ°çš„ç­¾åæ¯”å¯¹ï¼Œå¦‚æœä¸€è‡´ï¼Œæ ¡éªŒæˆåŠŸ</p>
<h3 id="å¸¸è§open-type"><a href="#å¸¸è§open-type" class="headerlink" title="å¸¸è§open-type"></a>å¸¸è§open-type</h3><table>
<thead>
<tr>
<th align="left">å€¼</th>
<th align="left">è¯´æ˜</th>
<th align="left">æœ€ä½ç‰ˆæœ¬</th>
</tr>
</thead>
<tbody><tr>
<td align="left">contact</td>
<td align="left">æ‰“å¼€å®¢æœä¼šè¯ï¼Œå¦‚æœç”¨æˆ·åœ¨ä¼šè¯ä¸­ç‚¹å‡»æ¶ˆæ¯å¡ç‰‡åè¿”å›å°ç¨‹åºï¼Œå¯ä»¥ä» bindcontact å›è°ƒä¸­è·å¾—å…·ä½“ä¿¡æ¯ï¼Œ<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/open-ability/customer-message/customer-message.html" target="_blank" rel="noopener">å…·ä½“è¯´æ˜</a></td>
<td align="left"><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.1.0</a></td>
</tr>
<tr>
<td align="left">share</td>
<td align="left">è§¦å‘ç”¨æˆ·è½¬å‘ï¼Œä½¿ç”¨å‰å»ºè®®å…ˆé˜…è¯»<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/open-ability/share.html#ä½¿ç”¨æŒ‡å¼•" target="_blank" rel="noopener">ä½¿ç”¨æŒ‡å¼•</a></td>
<td align="left"><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.2.0</a></td>
</tr>
<tr>
<td align="left">getPhoneNumber</td>
<td align="left">è·å–ç”¨æˆ·æ‰‹æœºå·ï¼Œå¯ä»¥ä»bindgetphonenumberå›è°ƒä¸­è·å–åˆ°ç”¨æˆ·ä¿¡æ¯ï¼Œ<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/open-ability/getPhoneNumber.html" target="_blank" rel="noopener">å…·ä½“è¯´æ˜</a></td>
<td align="left"><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.2.0</a></td>
</tr>
<tr>
<td align="left">getUserInfo</td>
<td align="left">è·å–ç”¨æˆ·ä¿¡æ¯ï¼Œå¯ä»¥ä»bindgetuserinfoå›è°ƒä¸­è·å–åˆ°ç”¨æˆ·ä¿¡æ¯</td>
<td align="left"><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.3.0</a></td>
</tr>
<tr>
<td align="left">launchApp</td>
<td align="left">æ‰“å¼€APPï¼Œå¯ä»¥é€šè¿‡app-parameterå±æ€§è®¾å®šå‘APPä¼ çš„å‚æ•°<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/open-ability/launchApp.html" target="_blank" rel="noopener">å…·ä½“è¯´æ˜</a></td>
<td align="left"><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.9.5</a></td>
</tr>
<tr>
<td align="left">openSetting</td>
<td align="left">æ‰“å¼€æˆæƒè®¾ç½®é¡µ</td>
<td align="left"><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">2.0.7</a></td>
</tr>
<tr>
<td align="left">feedback</td>
<td align="left">æ‰“å¼€â€œæ„è§åé¦ˆâ€é¡µé¢ï¼Œç”¨æˆ·å¯æäº¤åé¦ˆå†…å®¹å¹¶ä¸Šä¼ <a href="https://developers.weixin.qq.com/miniprogram/dev/api/base/debug/wx.getLogManager.html" target="_blank" rel="noopener">æ—¥å¿—</a>ï¼Œå¼€å‘è€…å¯ä»¥ç™»å½•<a href="https://mp.weixin.qq.com/" target="_blank" rel="noopener">å°ç¨‹åºç®¡ç†åå°</a>åè¿›å…¥å·¦ä¾§èœå•â€œå®¢æœåé¦ˆâ€é¡µé¢è·å–åˆ°åé¦ˆå†…å®¹</td>
<td align="left"><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">2.1.0</a></td>
</tr>
</tbody></table>
<h3 id="å…¬ä¼—å·ç»„ä»¶official-account"><a href="#å…¬ä¼—å·ç»„ä»¶official-account" class="headerlink" title="å…¬ä¼—å·ç»„ä»¶official-account"></a>å…¬ä¼—å·ç»„ä»¶official-account</h3><p>tips:</p>
<ol>
<li>ä½¿ç”¨ç»„ä»¶å‰ï¼Œéœ€å‰å¾€å°ç¨‹åºåå°ï¼Œåœ¨â€œè®¾ç½®â€-&gt;â€œå…³æ³¨å…¬ä¼—å·â€ä¸­è®¾ç½®è¦å±•ç¤ºçš„å…¬ä¼—å·ã€‚<strong>æ³¨ï¼šè®¾ç½®çš„å…¬ä¼—å·éœ€ä¸å°ç¨‹åºä¸»ä½“ä¸€è‡´ã€‚</strong></li>
<li>åœ¨ä¸€ä¸ªå°ç¨‹åºçš„ç”Ÿå‘½å‘¨æœŸå†…ï¼Œåªæœ‰ä»ä»¥ä¸‹åœºæ™¯è¿›å…¥å°ç¨‹åºï¼Œæ‰å…·æœ‰å±•ç¤ºå¼•å¯¼å…³æ³¨å…¬ä¼—å·ç»„ä»¶çš„èƒ½åŠ›:<ul>
<li>å½“å°ç¨‹åºä»æ‰«å°ç¨‹åºç åœºæ™¯ï¼ˆåœºæ™¯å€¼1047ï¼Œåœºæ™¯å€¼1124ï¼‰æ‰“å¼€æ—¶</li>
<li>å½“å°ç¨‹åºä»èŠå¤©é¡¶éƒ¨åœºæ™¯ï¼ˆåœºæ™¯å€¼1089ï¼‰ä¸­çš„ã€Œæœ€è¿‘ä½¿ç”¨ã€å†…æ‰“å¼€æ—¶ï¼Œè‹¥å°ç¨‹åºä¹‹å‰æœªè¢«é”€æ¯ï¼Œåˆ™è¯¥ç»„ä»¶ä¿æŒä¸Šä¸€æ¬¡æ‰“å¼€å°ç¨‹åºæ—¶çš„çŠ¶æ€</li>
<li>å½“ä»å…¶ä»–å°ç¨‹åºè¿”å›å°ç¨‹åºï¼ˆåœºæ™¯å€¼1038ï¼‰æ—¶ï¼Œè‹¥å°ç¨‹åºä¹‹å‰æœªè¢«é”€æ¯ï¼Œåˆ™è¯¥ç»„ä»¶ä¿æŒä¸Šä¸€æ¬¡æ‰“å¼€å°ç¨‹åºæ—¶çš„çŠ¶æ€</li>
</ul>
</li>
<li>ä¸ºä¾¿äºå¼€å‘è€…è°ƒè¯•ï¼ŒåŸºç¡€åº“ <code>2.7.3</code> ç‰ˆæœ¬èµ·å¼€å‘ç‰ˆå°ç¨‹åºå¢åŠ ä»¥ä¸‹åœºæ™¯å±•ç¤ºå…¬ä¼—å·ç»„ä»¶ï¼š<ul>
<li>å¼€å‘ç‰ˆå°ç¨‹åºä»æ‰«äºŒç»´ç ï¼ˆåœºæ™¯å€¼ 1011ï¼‰æ‰“å¼€ â€” ä½“éªŒç‰ˆå°ç¨‹åºæ‰“å¼€</li>
</ul>
</li>
<li>ç»„ä»¶é™å®šæœ€å°å®½åº¦ä¸º300pxï¼Œé«˜åº¦ä¸ºå®šå€¼84pxã€‚</li>
<li>æ¯ä¸ªé¡µé¢åªèƒ½é…ç½®ä¸€ä¸ªè¯¥ç»„ä»¶ã€‚</li>
<li>å¯æ”¹å˜å®½åº¦</li>
</ol>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">official-account</span> <span class="attr">stlye</span>=<span class="string">"width:200px;"</span>&gt;</span><span class="tag">&lt;/<span class="name">official-account</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h3 id="è·å–unionId"><a href="#è·å–unionId" class="headerlink" title="è·å–unionId"></a>è·å–unionId</h3><p>ä¸€ä¸ªå¾®ä¿¡å¼€æ”¾å¹³å°ä¸‹çš„ç›¸åŒä¸»ä½“çš„Appã€å…¬ä¼—å·ã€å°ç¨‹åºçš„unionidæ˜¯ç›¸åŒçš„ï¼Œè¿™æ ·å°±å¯ä»¥é”å®šæ˜¯ä¸æ˜¯åŒä¸€ä¸ªç”¨æˆ·</p>
<p>å¾®ä¿¡é’ˆå¯¹ä¸åŒçš„ç”¨æˆ·åœ¨ä¸åŒçš„åº”ç”¨ä¸‹éƒ½æœ‰å”¯ä¸€çš„ä¸€ä¸ªopenId, ä½†æ˜¯è¦æƒ³ç¡®å®šç”¨æˆ·æ˜¯ä¸æ˜¯åŒä¸€ä¸ªç”¨æˆ·ï¼Œå°±éœ€è¦é unionidæ¥åŒºåˆ†</p>
<p>åŒä¸€ä¸ªå¾®ä¿¡å¼€æ”¾å¹³å°ä¸‹çš„ç›¸åŒä¸»ä½“çš„ Appã€å…¬ä¼—å·ã€å°ç¨‹åºï¼Œå¦‚æœç”¨æˆ·å·²ç»å…³æ³¨å…¬ä¼—å·ï¼Œæˆ–è€…æ›¾ç»ç™»å½•è¿‡Appæˆ–å…¬ä¼—å·ï¼Œåˆ™ç”¨æˆ·æ‰“å¼€å°ç¨‹åºæ—¶ï¼Œå¼€å‘è€…å¯ä»¥ç›´æ¥é€šè¿‡ wx.login è·å–åˆ°è¯¥ç”¨æˆ·UnionIDï¼Œæ— é¡»ç”¨æˆ·å†æ¬¡æˆæƒ<br> ï¼ˆè§£è¯»ï¼šç”¨æˆ·å¦‚æœæ²¡æœ‰ç™»å½•è¿‡appï¼Œä¹Ÿæ²¡æœ‰ç™»å½•è¿‡å…¬ä¼—å·ï¼Œä¹Ÿæ²¡æœ‰å…³æ³¨è¿‡å…¬ä¼—å·çš„æƒ…å†µä¸‹ï¼Œå°ç¨‹åºä¸­é€šè¿‡ wx.login æ˜¯è·å–ä¸åˆ° unionidçš„ï¼‰</p>
<p>UnionIDè·å–é€”å¾„</p>
<ul>
<li>è°ƒç”¨æ¥å£wx.getUserInfoï¼Œä»è§£å¯†æ•°æ®ä¸­è·å–UnionIDã€‚æ³¨æ„æœ¬æ¥å£éœ€è¦ç”¨æˆ·æˆæƒï¼Œè¯·å¼€å‘è€…å¦¥å–„å¤„ç†ç”¨æˆ·æ‹’ç»æˆæƒåçš„æƒ…å†µã€‚</li>
<li>å¦‚æœå¼€å‘è€…å¸å·ä¸‹å­˜åœ¨åŒä¸»ä½“çš„å…¬ä¼—å·æˆ–ç§»åŠ¨åº”ç”¨ï¼Œå¹¶ä¸”è¯¥ç”¨æˆ·å·²ç»æˆæƒç™»å½•è¿‡è¯¥å…¬ä¼—å·æˆ–ç§»åŠ¨åº”ç”¨ã€‚å¼€å‘è€…ä¹Ÿå¯ä»¥ç›´æ¥é€šè¿‡wx.loginè·å–åˆ°è¯¥ç”¨æˆ·UnionIDï¼Œæ— é¡»ç”¨æˆ·å†æ¬¡æˆæƒ</li>
</ul>
<p><strong>é‡ç‚¹</strong></p>
<p>æ‰€æœ‰å°±æœ‰ä¸¤ç§æƒ…å†µ:</p>
<ol>
<li><p>ä¸€èˆ¬æƒ…å†µï¼Œç”¨æˆ·ç™»å½•è¿‡å…³è”çš„å…¶ä»–å…¬ä¼—å·</p>
<p>ä½¿ç”¨ wx.login è·å–codeï¼Œä¼ åˆ°åç«¯ï¼Œcodeæ¢openidï¼ŒunionId</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="comment">//1.login</span></span><br><span class="line">wx.login(&#123;</span><br><span class="line">  success: <span class="function"><span class="keyword">function</span>(<span class="params">data</span>) </span>&#123;</span><br><span class="line">   </span><br><span class="line">    wx.request(&#123;</span><br><span class="line">      url: openIdUrl,<span class="comment">//åç«¯æ¥å£</span></span><br><span class="line">      data: &#123;</span><br><span class="line">        code: data.code</span><br><span class="line">      &#125;,</span><br><span class="line">      success: <span class="function"><span class="keyword">function</span>(<span class="params">res</span>) </span>&#123;</span><br><span class="line">        self.globalData.openid = res.data.openid</span><br><span class="line">      &#125;,</span><br><span class="line">      fail: <span class="function"><span class="keyword">function</span>(<span class="params">res</span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'æ‹‰å–ç”¨æˆ·openidå¤±è´¥ï¼Œå°†æ— æ³•æ­£å¸¸ä½¿ç”¨å¼€æ”¾æ¥å£ç­‰æœåŠ¡'</span>, res)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">   </span><br><span class="line">  &#125;,</span><br><span class="line">  fail: <span class="function"><span class="keyword">function</span>(<span class="params">err</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'wx.login æ¥å£è°ƒç”¨å¤±è´¥ï¼Œå°†æ— æ³•æ­£å¸¸ä½¿ç”¨å¼€æ”¾æ¥å£ç­‰æœåŠ¡'</span>, err)</span><br><span class="line">    callback(err)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>ç”¨æˆ·æ²¡æœ‰ç”¨è¿‡å…³è”çš„å…¬ä¼—å·ç­‰</p>
<p>è¿™æ—¶å€™ wx.login å°±è·å–ä¸åˆ° unionId äº†ã€‚éœ€è¦ä½¿ç”¨ wx.getUserInfo</p>
<p>è§£å†³æ€è·¯ï¼šé€šè¿‡å¸¦ç™»å½•æ€çš„ wx.getUserInfo è·å–åˆ°ç”¨æˆ·çš„åŠ å¯†æ•°æ® encryptedData å’ŒåŠ å¯†ç®—æ³•çš„åˆå§‹å‘é‡ivï¼Œç„¶åå°† encryptdataã€iv ä»¥åŠ codeä¼ ç»™åç«¯ï¼Œåç«¯å†å»é€šè¿‡æ¥æ”¶åˆ°çš„encryptedDataã€ivä»¥ã€code ä»¥åŠä¹‹å‰çš„ session_key è§£å¯†å‡ºç”¨æˆ·çš„ openidã€unionid ç­‰</p>
</li>
</ol>
   <figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line">wx.getUserInfo(&#123;</span><br><span class="line">  withCredentials:<span class="literal">false</span>,</span><br><span class="line">  success:<span class="function">(<span class="params">obj</span>)=&gt;</span>&#123;</span><br><span class="line">   </span><br><span class="line">      wx.request(&#123;</span><br><span class="line">          url: openIdUrl,<span class="comment">//åç«¯æ¥å£</span></span><br><span class="line">          data: &#123;</span><br><span class="line">              code: data.code,</span><br><span class="line">              encryptedData : obj.encryptedData,</span><br><span class="line">              iv : obj.iv,</span><br><span class="line">          &#125;,</span><br><span class="line">          success: <span class="function"><span class="keyword">function</span>(<span class="params">res</span>) </span>&#123;</span><br><span class="line">              self.globalData.openid = res.data.openid</span><br><span class="line">          &#125;,</span><br><span class="line">          fail: <span class="function"><span class="keyword">function</span>(<span class="params">res</span>) </span>&#123;</span><br><span class="line">              <span class="built_in">console</span>.log(<span class="string">'æ‹‰å–ç”¨æˆ·openidå¤±è´¥ï¼Œå°†æ— æ³•æ­£å¸¸ä½¿ç”¨å¼€æ”¾æ¥å£ç­‰æœåŠ¡'</span>, res)</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;)</span><br><span class="line">   </span><br><span class="line">   </span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>



<p>å®é™…é¡¹ç›®ä¸­ï¼Œéœ€è¦å°†ä¸¤ç§æƒ…å†µæ•´åˆä½¿ç”¨</p>
<p>ä¸¤ç§æ–¹æ¡ˆï¼š</p>
<p>ç¬¬ä¸€ç§ï¼šï¼ˆ å‰ç«¯åˆ¤æ–­æ˜¯å¦æœ‰ unionid ï¼‰wx.login å‘åç«¯ä¸Šä¼  code å¹¶ä¸”åç«¯è¿”å›æ•°æ®ä»¥åï¼Œå‰ç«¯åˆ¤æ–­è¿”å›å€¼ä¸­æ˜¯å¦æœ‰ unionid æˆ–è€… unionid æ˜¯å¦ä¸º nullï¼Œnull çš„æƒ…å†µä¸‹å»è°ƒç”¨å¸¦æœ‰ç”¨æˆ·ç™»å½•æ€çš„wx.getUserInfo()ï¼Œç„¶åå†å°†å¾®ä¿¡è¿”å›çš„  encryptedData å’Œ iv è¿”å›ç»™åç«¯ï¼Œåç«¯è§£å¯†å‡ºç›¸åº”çš„ä¿¡æ¯åå†è¿”å›ç»™å‰ç«¯ï¼›</p>
<p>ç¬¬äºŒç§ï¼šï¼ˆ åç«¯åˆ¤æ–­æ˜¯å¦æœ‰ unionid ï¼‰å‰ç«¯è°ƒç”¨ wx.login(), wx.getUserInfo() ,æŠŠ code,encryptedData å’Œ iv è¿”å›ç»™åç«¯ï¼Œåç«¯åœ¨æ‹¿åˆ°å‰ç«¯ code ä¹‹åå»è¯·æ±‚å¾®ä¿¡çš„æ¥å£æ‹¿ unionidï¼Œå¦‚æœè¿”å›çš„ unionid ä¸ºç©ºï¼Œå†ç”¨çš„ encryptedDataã€ivä»¥åŠä¹‹å‰çš„ session_key è§£å¯†å‡º unionidï¼Œåç«¯è§£å¯†å‡ºç›¸åº”çš„ä¿¡æ¯åå†è¿”å›ç»™å‰ç«¯</p>
]]></content>
      <categories>
        <category>soft</category>
      </categories>
      <tags>
        <tag>å°ç¨‹åº</tag>
      </tags>
  </entry>
  <entry>
    <title>å°ç¨‹åºæ–‡å­—å±•å¼€æ”¶èµ·</title>
    <url>/2020/08/20/%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%96%87%E5%AD%97%E5%B1%95%E5%BC%80%E6%94%B6%E8%B5%B7/</url>
    <content><![CDATA[<p>å¾®ä¿¡å°ç¨‹åºå¼€å‘ä¸­æƒ³è¦å¦‚h5ä¸€æ ·è·å–å…ƒç´ çš„å®½é«˜å€¼è¿›è¡Œä¸šåŠ¡çš„åŠŸèƒ½å®ç°ï¼Œä¸€å¼€å§‹ä¸çŸ¥é“æ€ä¹ˆå®ç°ï¼Œç¿»çœ‹æ–‡æ¡£å‘ç°ï¼Œå¾®ä¿¡å®˜æ–¹æä¾›äº†ä¸€ä¸ªéå¸¸å¥½çš„ä¸œè¥¿</p>
<h1 id="SelectorQuery"><a href="#SelectorQuery" class="headerlink" title="SelectorQuery"></a><a href="https://links.jianshu.com/go?to=https%3A%2F%2Fdevelopers.weixin.qq.com%2Fminiprogram%2Fdev%2Fapi%2Fwxml%2FSelectorQuery.html" target="_blank" rel="noopener">SelectorQuery</a></h1><h3 id="wx-createSelectorQuery"><a href="#wx-createSelectorQuery" class="headerlink" title="wx.createSelectorQuery()"></a>wx.createSelectorQuery()</h3><p>ç¤ºä¾‹ä»£ç </p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> query = wx.createSelectorQuery()</span><br><span class="line">query.select(<span class="string">'#the-id'</span>).boundingClientRect()</span><br><span class="line">query.selectViewport().scrollOffset()</span><br><span class="line">query.exec(<span class="function"><span class="keyword">function</span>(<span class="params">res</span>)</span>&#123;</span><br><span class="line">  res[<span class="number">0</span>].top       <span class="comment">// #the-idèŠ‚ç‚¹çš„ä¸Šè¾¹ç•Œåæ ‡</span></span><br><span class="line">  res[<span class="number">1</span>].scrollTop <span class="comment">// æ˜¾ç¤ºåŒºåŸŸçš„ç«–ç›´æ»šåŠ¨ä½ç½®</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<a id="more"></a>

<p>1.å¦‚æœé«˜åº¦è¦pxå•ä½çš„è¯ï¼š</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> query = wx.createSelectorQuery();</span><br><span class="line">query.select(<span class="string">'.content'</span>).boundingClientRect(<span class="function"><span class="params">rect</span>=&gt;</span>&#123;</span><br><span class="line">  <span class="keyword">let</span> height = rect.height;</span><br><span class="line">  <span class="built_in">console</span>.log(height);</span><br><span class="line">&#125;).exec();</span><br></pre></td></tr></table></figure>

<p>2.å¦‚æœé«˜åº¦è¦rpxå•ä½çš„è¯ï¼Œé‚£ä¹ˆå¯ä»¥ç”¨å®½é«˜æ¯”æ¢ç®—è·å¾—ï¼šï¼ˆä»¥ä¸‹çš„750æ˜¯è¯¥å…ƒç´ çš„å®½åº¦ï¼Œå•ä½æ˜¯rpxçš„ï¼‰</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> query = wx.createSelectorQuery();</span><br><span class="line">query.select(<span class="string">'.content'</span>).boundingClientRect(<span class="function"><span class="params">rect</span>=&gt;</span>&#123;</span><br><span class="line">  <span class="keyword">let</span> clientHeight = rect.height;</span><br><span class="line">  <span class="keyword">let</span> clientWidth = rect.width;</span><br><span class="line">  <span class="keyword">let</span> ratio = <span class="number">750</span> / clientWidth;</span><br><span class="line">  <span class="keyword">let</span> height = clientHeight * ratio;</span><br><span class="line">  <span class="built_in">console</span>.log(height);</span><br><span class="line">&#125;).exec();</span><br></pre></td></tr></table></figure>



<p>3.åœ¨é¡µé¢æ¸²æŸ“å®ŒæˆOnReadyå›è°ƒ è·å–å…ƒç´ é«˜åº¦æ—¶ï¼Œå¦‚æœä¸åŠ å®šæ—¶å™¨ï¼Œè·å–çš„å…ƒç´ çš„é«˜åº¦è¿˜æ˜¯æ²¡æ¸²æŸ“å®Œå¼‚æ­¥æ•°æ®å‰çš„é«˜åº¦ã€‚æ•…éœ€è¦åŠ å®šæ—¶å™¨</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line">onReady () &#123;</span><br><span class="line">    setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> query = wx.createSelectorQuery();</span><br><span class="line">    query.select(<span class="string">'.content'</span>).boundingClientRect(<span class="function"><span class="params">rect</span>=&gt;</span>&#123;</span><br><span class="line">        <span class="keyword">let</span> height = rect.height;</span><br><span class="line">        <span class="built_in">console</span>.log(height);</span><br><span class="line">        &#125;).exec();</span><br><span class="line">    &#125;, <span class="number">300</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>å®ä¾‹è®°å½•</p>
<p>1.WXML</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line">&lt;view <span class="keyword">class</span>=<span class="string">"container"</span>&gt;</span><br><span class="line">  &lt;view <span class="keyword">class</span>=<span class="string">'list-box'</span>&gt;</span><br><span class="line">    &lt;view <span class="keyword">class</span>=<span class="string">'list'</span> wx:<span class="keyword">for</span>=<span class="string">"&#123;list&#125;"</span> wx:key=<span class="string">"index"</span>&gt;</span><br><span class="line">        &lt;text <span class="keyword">class</span>=<span class="string">"text &#123;item.collapse?'text-collapse':''&#125;"</span>&gt;&#123;item.text&#125;&lt;/text&gt;</span><br><span class="line">        &lt;text bindtap=<span class="string">"changeCollapse"</span> data-index=<span class="string">"&#123;index&#125;"</span> wx:<span class="keyword">if</span>=<span class="string">"&#123;item.showCollapse&#125;"</span> <span class="keyword">class</span>=<span class="string">'coll-p'</span>&gt;&#123;item.collapse?<span class="string">'å…¨æ–‡'</span>:<span class="string">'æ”¶èµ·'</span>&#125;&lt;/text&gt;</span><br><span class="line">    &lt;/view&gt;</span><br><span class="line">  &lt;/view&gt;</span><br><span class="line">&lt;/view&gt;</span><br></pre></td></tr></table></figure>



<p>2.JS</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Page(&#123;</span><br><span class="line">    data: &#123;</span><br><span class="line">        list: [&#123;</span><br><span class="line">                text: &#39;æ–‡ç« æ–‡ç« æ–‡ç« æ–‡ç« æ–‡ç« æ–‡ç« æ–‡ç« æ–‡ç« æ–‡ç« æ–‡ç« æ–‡ç« æ–‡ç« æ–‡ç« æ–‡ç« æ–‡ç« æ–‡&#39;</span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                text: &#39;æ–‡ç« æ–‡ç« æ–‡ç« æ–‡ç« æ–‡ç« æ–‡ç« æ–‡ç« æ–‡ç« æ–‡ç« æ–‡ç« æ–‡ç« æ–‡ç« æ–‡ç« æ–‡ç« æ–‡ç« æ–‡ç« æ–‡ç« æ–‡ç« æ–‡ç« æ–‡ç« æ–‡ç« æ–‡ç« æ–‡ç« æ–‡ç« æ–‡ç« æ–‡ç« æ–‡ç« æ–‡ç« æ–‡ç« æ–‡ç« æ–‡ç« &#39;</span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                text: &#39;æ–‡ç« æ–‡ç« æ–‡ç« æ–‡ç« æ–‡ç« æ–‡ç« æ–‡ç« æ–‡ç« æ–‡ç« æ–‡ç« æ–‡ç« æ–‡ç« æ–‡ç« æ–‡ç« æ–‡ç« æ–‡ç« æ–‡ç« æ–‡ç« æ–‡ç« æ–‡ç« æ–‡ç« æ–‡ç« æ–‡ç« æ–‡ç« æ–‡ç« æ–‡ç« æ–‡ç« æ–‡ç« æ–‡ç« æ–‡ç« æ–‡ç« æ–‡ç« æ–‡ç« æ–‡ç« æ–‡ç« æ–‡ç« æ–‡ç« &#39;</span><br><span class="line">            &#125;</span><br><span class="line">        ],</span><br><span class="line">    &#125;,</span><br><span class="line">    onShow: function()&#123;</span><br><span class="line">        this.setCollapse()</span><br><span class="line">    &#125;,</span><br><span class="line">    &#x2F;&#x2F;åˆ¤æ–­å…¨æ–‡æ”¶èµ·æ˜¯å¦å±•ç¤º</span><br><span class="line">    setCollapse: function() &#123;</span><br><span class="line">        var query &#x3D; wx.createSelectorQuery();</span><br><span class="line">        var that &#x3D; this;</span><br><span class="line">        query.selectAll(&#39;.text&#39;).boundingClientRect(function (rect) &#123;</span><br><span class="line">            rect.forEach((v, i) &#x3D;&gt; &#123;</span><br><span class="line">                if (v.height &gt; 45) &#123;  &#x2F;&#x2F;åˆ¤æ–­é«˜åº¦,æ ¹æ®å„ç§é«˜åº¦å–æŠ˜ä¸­</span><br><span class="line">                    var set &#x3D; &quot;list[&quot; + i + &quot;].collapse&quot;;</span><br><span class="line">                    var set1 &#x3D; &quot;list[&quot; + i + &quot;].showCollapse&quot;;</span><br><span class="line">                    that.setData(&#123;</span><br><span class="line">                        [set]: true,</span><br><span class="line">                        [set1]: true,</span><br><span class="line">                    &#125;)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;).exec();</span><br><span class="line">    &#125;,</span><br><span class="line">    &#x2F;&#x2F;ç‚¹å‡»å…¨æ–‡æ”¶èµ·</span><br><span class="line">    changeCollapse: function(e)&#123;</span><br><span class="line">        var index &#x3D; e.currentTarget.dataset.index;</span><br><span class="line">        var set &#x3D; &quot;list[&quot; + index + &quot;].collapse&quot;;</span><br><span class="line">        this.setData(&#123;</span><br><span class="line">            [set]: !this.data.list[index].collapse</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>



<p>3.WXSS</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.list-box</span>&#123;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">30</span>rpx;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.list-box</span> <span class="selector-class">.list</span>&#123;</span><br><span class="line">    <span class="attribute">border-bottom</span>: <span class="number">1</span>rpx solid <span class="number">#e3e3e3</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">30</span>rpx <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.list-box</span> <span class="selector-class">.list</span> <span class="selector-tag">text</span>&#123;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">28</span>rpx;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">40</span>rpx;</span><br><span class="line">    <span class="attribute">display</span>: block;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.list-box</span> <span class="selector-class">.list</span> <span class="selector-tag">text</span><span class="selector-class">.text-collapse</span>&#123;</span><br><span class="line">    <span class="attribute">display</span>:-webkit-box;</span><br><span class="line">    <span class="attribute">-webkit-box-orient</span>:vertical; </span><br><span class="line">    <span class="attribute">-webkit-line-clamp</span>:<span class="number">2</span>;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">    <span class="attribute">text-overflow</span>: ellipsis;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.list-box</span> <span class="selector-class">.coll-p</span>&#123;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">30</span>rpx;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#5064A3</span>;</span><br><span class="line">    <span class="attribute">margin-top</span>: <span class="number">10</span>rpx;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>soft</category>
      </categories>
      <tags>
        <tag>å°ç¨‹åº</tag>
      </tags>
  </entry>
  <entry>
    <title>æœ¬åœ°æ–‡ä»¶å¤¹ä¸Šä¼ github</title>
    <url>/2020/09/22/%E6%9C%AC%E5%9C%B0%E6%96%87%E4%BB%B6%E5%A4%B9%E4%B8%8A%E4%BC%A0github/</url>
    <content><![CDATA[<p>é¦–å…ˆä½ éœ€è¦ä¸€ä¸ªgithubè´¦å·ï¼Œæ‰€æœ‰è¿˜æ²¡æœ‰çš„è¯å…ˆå»æ³¨å†Œå§ï¼</p>
<p><a href="https://github.com/" target="_blank" rel="noopener">https://github.com/</a></p>
<p>æˆ‘ä»¬ä½¿ç”¨gitéœ€è¦å…ˆå®‰è£…gitå·¥å…·ï¼Œè¿™é‡Œç»™å‡ºä¸‹è½½åœ°å€ï¼Œä¸‹è½½åä¸€è·¯ç›´æ¥å®‰è£…å³å¯ï¼š</p>
<p><a href="https://git-for-windows.github.io/" target="_blank" rel="noopener">https://git-for-windows.github.io/</a></p>
<p>1.è¿›å…¥Githubé¦–é¡µï¼Œç‚¹å‡»New repositoryæ–°å»ºä¸€ä¸ªé¡¹ç›®</p>
<p><img src="http://images2015.cnblogs.com/blog/913913/201608/913913-20160823164154526-418441991.png" alt="img"></p>
<a id="more"></a>

<p> 2.å¡«å†™ç›¸åº”ä¿¡æ¯åç‚¹å‡»createå³å¯ </p>
<p>Repository name: ä»“åº“åç§°</p>
<p>Description(å¯é€‰): ä»“åº“æè¿°ä»‹ç»</p>
<p>Public, Private : ä»“åº“æƒé™ï¼ˆå…¬å¼€å…±äº«ï¼Œç§æœ‰æˆ–æŒ‡å®šåˆä½œè€…ï¼‰</p>
<p>Initialize this repository with a README: æ·»åŠ ä¸€ä¸ªREADME.md</p>
<p>gitignore: ä¸éœ€è¦è¿›è¡Œç‰ˆæœ¬ç®¡ç†çš„ä»“åº“ç±»å‹ï¼Œå¯¹åº”ç”Ÿæˆæ–‡ä»¶.gitignore</p>
<p>license: è¯ä¹¦ç±»å‹ï¼Œå¯¹åº”ç”Ÿæˆæ–‡ä»¶LICENSE</p>
<p><img src="http://images2015.cnblogs.com/blog/913913/201608/913913-20160823165025370-49444506.png" alt="img"></p>
<p><img src="http://images2015.cnblogs.com/blog/913913/201608/913913-20160823165107308-439926006.png" alt="img"></p>
<p>4.ç‚¹å‡»Clone or dowloadä¼šå‡ºç°ä¸€ä¸ªåœ°å€ï¼Œcopyè¿™ä¸ªåœ°å€å¤‡ç”¨ã€‚</p>
<p><img src="http://images2015.cnblogs.com/blog/913913/201608/913913-20160823165450636-1167722003.png" alt="img"></p>
<p>5.æ¥ä¸‹æ¥å°±åˆ°æœ¬åœ°æ“ä½œäº†ï¼Œé¦–å…ˆå³é”®ä½ çš„é¡¹ç›®ï¼Œå¦‚æœä½ ä¹‹å‰å®‰è£…gitæˆåŠŸçš„è¯ï¼Œå³é”®ä¼šå‡ºç°ä¸¤ä¸ªæ–°é€‰é¡¹ï¼Œåˆ†åˆ«ä¸ºGit Gui Here,Git Bash Here,è¿™é‡Œæˆ‘ä»¬é€‰æ‹©Git Bash Hereï¼Œè¿›å…¥å¦‚ä¸‹ç•Œé¢ï¼ŒTest_Bluetoothå³ä¸ºæˆ‘çš„é¡¹ç›®åã€‚</p>
<p><img src="http://images2015.cnblogs.com/blog/913913/201608/913913-20160823171048308-194895299.png" alt="img"></p>
<p>6.æ¥ä¸‹æ¥è¾“å…¥å¦‚ä¸‹ä»£ç ï¼ˆå…³é”®æ­¥éª¤ï¼‰ï¼ŒæŠŠgithubä¸Šé¢çš„ä»“åº“å…‹éš†åˆ°æœ¬åœ°</p>
<p>git clone <a href="https://github.com/CKTim/BlueTooth.gitï¼ˆhttps://github.com/CKTim/BlueTooth.gitæ›¿æ¢æˆä½ ä¹‹å‰å¤åˆ¶çš„åœ°å€ï¼‰" target="_blank" rel="noopener">https://github.com/CKTim/BlueTooth.gitï¼ˆhttps://github.com/CKTim/BlueTooth.gitæ›¿æ¢æˆä½ ä¹‹å‰å¤åˆ¶çš„åœ°å€ï¼‰</a></p>
<p><img src="http://images2015.cnblogs.com/blog/913913/201608/913913-20160823171143980-741152042.png" alt="img"></p>
<p> 7.è¿™ä¸ªæ­¥éª¤ä»¥åä½ çš„æœ¬åœ°é¡¹ç›®æ–‡ä»¶å¤¹ä¸‹é¢å°±ä¼šå¤šå‡ºä¸ªæ–‡ä»¶å¤¹ï¼Œè¯¥æ–‡ä»¶å¤¹åå³ä¸ºä½ githubä¸Šé¢çš„é¡¹ç›®åï¼Œå¦‚å›¾æˆ‘å¤šå‡ºäº†ä¸ªTestæ–‡ä»¶å¤¹ï¼Œæˆ‘ä»¬æŠŠæœ¬åœ°é¡¹ç›®æ–‡ä»¶å¤¹ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ï¼ˆé™¤äº†æ–°å¤šå‡ºçš„é‚£ä¸ªæ–‡ä»¶å¤¹ä¸ç”¨ï¼‰ï¼Œå…¶ä½™éƒ½å¤åˆ¶åˆ°é‚£ä¸ªæ–°å¤šå‡ºçš„æ–‡ä»¶å¤¹ä¸‹ï¼Œ</p>
<p><img src="http://images2015.cnblogs.com/blog/913913/201608/913913-20160823171209730-2089496483.png" alt="img"></p>
<p>8.æ¥ç€ç»§ç»­è¾“å…¥å‘½ä»¤ cd Testï¼Œè¿›å…¥Testæ–‡ä»¶å¤¹</p>
<p><img src="http://images2015.cnblogs.com/blog/913913/201608/913913-20160823171454261-10363777.png" alt="img"></p>
<p>9.æ¥ä¸‹æ¥ä¾æ¬¡è¾“å…¥ä»¥ä¸‹ä»£ç å³å¯å®Œæˆå…¶ä»–å‰©ä½™æ“ä½œï¼š</p>
<p>git add .     ï¼ˆæ³¨ï¼šåˆ«å¿˜è®°åé¢çš„.ï¼Œç©ºæ ¼ä¹‹åå†è¾“å…¥.  æ­¤æ“ä½œæ˜¯æŠŠTestæ–‡ä»¶å¤¹ä¸‹é¢çš„æ–‡ä»¶éƒ½æ·»åŠ è¿›æ¥ï¼‰</p>
<p>git commit  -m  â€œæäº¤ä¿¡æ¯â€  ï¼ˆæ³¨ï¼šâ€œæäº¤ä¿¡æ¯â€é‡Œé¢æ¢æˆä½ éœ€è¦ï¼Œå¦‚â€œfirst commitâ€ï¼‰</p>
<p>git push -u origin master  ï¼ˆæ³¨ï¼šæ­¤æ“ä½œç›®çš„æ˜¯æŠŠæœ¬åœ°ä»“åº“pushåˆ°githubä¸Šé¢ï¼Œæ­¤æ­¥éª¤éœ€è¦ä½ è¾“å…¥å¸å·å’Œå¯†ç ï¼‰</p>
<p> <img src="http://images2015.cnblogs.com/blog/913913/201608/913913-20160823171557823-3863512.png" alt="img"></p>
<p><img src="http://images2015.cnblogs.com/blog/913913/201608/913913-20160823171651808-1225335136.png" alt="img"></p>
<p><img src="http://images2015.cnblogs.com/blog/913913/201608/913913-20160823171818933-1506815566.png" alt="img"></p>
<p>è¾“å…¥ä½ Githubçš„ç”¨æˆ·å å’Œå¯†ç ï¼š</p>
<p><img src="https://img-blog.csdn.net/20160118172619673?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt="img"></p>
<p><img src="https://img-blog.csdn.net/20160118172535690?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt="img"></p>
]]></content>
      <categories>
        <category>github</category>
      </categories>
      <tags>
        <tag>github</tag>
        <tag>ä¸Šä¼ æ–‡ä»¶å¤¹</tag>
      </tags>
  </entry>
  <entry>
    <title>å°ç¨‹åºç™»é™†</title>
    <url>/2020/07/24/%E5%B0%8F%E7%A8%8B%E5%BA%8F%E7%99%BB%E9%99%86/</url>
    <content><![CDATA[<h3 id="å°ç¨‹åºè·å–æˆæƒï¼Œå¾—åˆ°ç”¨æˆ·çš„æ˜µç§°å¤´åƒ"><a href="#å°ç¨‹åºè·å–æˆæƒï¼Œå¾—åˆ°ç”¨æˆ·çš„æ˜µç§°å¤´åƒ" class="headerlink" title="å°ç¨‹åºè·å–æˆæƒï¼Œå¾—åˆ°ç”¨æˆ·çš„æ˜µç§°å¤´åƒ"></a>å°ç¨‹åºè·å–æˆæƒï¼Œå¾—åˆ°ç”¨æˆ·çš„æ˜µç§°å¤´åƒ</h3><h5 id="ä½¿ç”¨buttonæ ‡ç­¾çš„open-type-â€getUserInfoâ€å¼•å¯¼ç”¨æˆ·å»æˆæƒ"><a href="#ä½¿ç”¨buttonæ ‡ç­¾çš„open-type-â€getUserInfoâ€å¼•å¯¼ç”¨æˆ·å»æˆæƒ" class="headerlink" title="ä½¿ç”¨buttonæ ‡ç­¾çš„open-type=â€getUserInfoâ€å¼•å¯¼ç”¨æˆ·å»æˆæƒ"></a>ä½¿ç”¨buttonæ ‡ç­¾çš„open-type=â€getUserInfoâ€å¼•å¯¼ç”¨æˆ·å»æˆæƒ</h5><h4 id="wxml"><a href="#wxml" class="headerlink" title="wxml"></a>wxml</h4><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"userinfo"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> <span class="attr">wx:if</span>=<span class="string">"&#123;!hasUserInfo &amp;&amp; canIUse&#125;"</span> <span class="attr">open-type</span>=<span class="string">"getUserInfo"</span> <span class="attr">bindgetuserinfo</span>=<span class="string">"getUserInfo"</span>&gt;</span> è·å–å¤´åƒæ˜µç§° <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">block</span> <span class="attr">wx:else</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">image</span> <span class="attr">bindtap</span>=<span class="string">"bindViewTap"</span> <span class="attr">class</span>=<span class="string">"userinfo-avatar"</span> <span class="attr">src</span>=<span class="string">"&#123;userInfo.avatarUrl&#125;"</span> <span class="attr">mode</span>=<span class="string">"cover"</span>&gt;</span><span class="tag">&lt;/<span class="name">image</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">text</span> <span class="attr">class</span>=<span class="string">"userinfo-nickname"</span>&gt;</span>&#123;userInfo.nickName&#125;<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">block</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>

<a id="more"></a>

<h4 id="js"><a href="#js" class="headerlink" title="js"></a>js</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//index.js</span></span><br><span class="line"><span class="comment">//è·å–åº”ç”¨å®ä¾‹</span></span><br><span class="line"><span class="keyword">const</span> app = getApp()</span><br><span class="line">Page(&#123;</span><br><span class="line">  data: &#123;</span><br><span class="line">    motto: <span class="string">'Hello World'</span>,</span><br><span class="line">    userInfo: &#123;&#125;,</span><br><span class="line">    hasUserInfo: <span class="literal">false</span>,</span><br><span class="line">    <span class="comment">//åˆ¤æ–­å°ç¨‹åºçš„APIï¼Œå›è°ƒï¼Œå‚æ•°ï¼Œç»„ä»¶ç­‰æ˜¯å¦åœ¨å½“å‰ç‰ˆæœ¬å¯ç”¨ã€‚</span></span><br><span class="line">    canIUse: wx.canIUse(<span class="string">'button.open-type.getUserInfo'</span>),</span><br><span class="line">    value: <span class="number">3.6</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">//äº‹ä»¶å¤„ç†å‡½æ•°</span></span><br><span class="line">  bindViewTap: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    wx.navigateTo(&#123;</span><br><span class="line">      url: <span class="string">'../logs/logs'</span></span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">  onLoad: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (app.globalData.userInfo) &#123;</span><br><span class="line">      <span class="keyword">this</span>.setData(&#123;</span><br><span class="line">        userInfo: app.globalData.userInfo,</span><br><span class="line">        hasUserInfo: <span class="literal">true</span></span><br><span class="line">      &#125;)</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">this</span>.data.canIUse)&#123;</span><br><span class="line">      <span class="comment">// ç”±äº getUserInfo æ˜¯ç½‘ç»œè¯·æ±‚ï¼Œå¯èƒ½ä¼šåœ¨ Page.onLoad ä¹‹åæ‰è¿”å›</span></span><br><span class="line">      <span class="comment">// æ‰€ä»¥æ­¤å¤„åŠ å…¥ callback ä»¥é˜²æ­¢è¿™ç§æƒ…å†µ</span></span><br><span class="line">      app.userInfoReadyCallback = <span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">this</span>.setData(&#123;</span><br><span class="line">          userInfo: res.userInfo,</span><br><span class="line">          hasUserInfo: <span class="literal">true</span></span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="comment">// åœ¨æ²¡æœ‰ open-type=getUserInfo ç‰ˆæœ¬çš„å…¼å®¹å¤„ç†</span></span><br><span class="line">      wx.getUserInfo(&#123;</span><br><span class="line">        success: <span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">          app.globalData.userInfo = res.userInfo</span><br><span class="line">          <span class="keyword">this</span>.setData(&#123;</span><br><span class="line">            userInfo: res.userInfo,</span><br><span class="line">            hasUserInfo: <span class="literal">true</span></span><br><span class="line">          &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  getUserInfo: <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(e)</span><br><span class="line">    app.globalData.userInfo = e.detail.userInfo</span><br><span class="line">    <span class="keyword">this</span>.setData(&#123;</span><br><span class="line">      userInfo: e.detail.userInfo,</span><br><span class="line">      hasUserInfo: <span class="literal">true</span></span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>soft</category>
      </categories>
      <tags>
        <tag>å°ç¨‹åº</tag>
      </tags>
  </entry>
  <entry>
    <title>æ­£åˆ™è¡¨è¾¾å¼åŸç†åˆ†æ</title>
    <url>/2020/07/29/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/</url>
    <content><![CDATA[<h3 id="ååˆ†é’Ÿå­¦ä¼šæ­£åˆ™"><a href="#ååˆ†é’Ÿå­¦ä¼šæ­£åˆ™" class="headerlink" title="ååˆ†é’Ÿå­¦ä¼šæ­£åˆ™"></a>ååˆ†é’Ÿå­¦ä¼šæ­£åˆ™</h3><h5 id="ä¸€-é™å®šç¬¦"><a href="#ä¸€-é™å®šç¬¦" class="headerlink" title="(ä¸€)é™å®šç¬¦"></a>(ä¸€)é™å®šç¬¦</h5><p>1ã€<code>?</code>:å®ƒå‰é¢çš„å­—ç¬¦éœ€è¦å‡ºç°0æ¬¡æˆ–1æ¬¡</p>
<blockquote>
<p>ä¾‹å¦‚ï¼š<code>used?</code>å¯ä»¥åŒ¹é…åˆ°<code>use</code>å’Œ<code>used</code></p>
</blockquote>
<p>2ã€<code>*</code>:å®ƒä¼šåŒ¹é…0ä¸ªæˆ–å¤šä¸ªå­—ç¬¦</p>
<blockquote>
<p>ä¾‹å¦‚ï¼š<code>ab*c</code>å¯ä»¥åŒ¹é…åˆ°<code>ac</code>,<code>abc</code>,<code>abbbbbbc</code></p>
</blockquote>
<p>3ã€<code>+</code>:å®ƒä¼šåŒ¹é…ä¸€æ¬¡åŠä»¥ä¸Šçš„å­—ç¬¦</p>
<blockquote>
<p>ä¾‹å¦‚ï¼š<code>ab+c</code>å¯ä»¥åŒ¹é…<code>abc</code>,<code>abbbc</code>,è€Œä¸ä¼šåŒ¹é…<code>ac</code></p>
</blockquote>
<p>4ã€<code>{}</code>:å¯ä»¥é™å®šåŒ¹é…çš„æ•°é‡</p>
<blockquote>
<p>ä¾‹å¦‚ï¼š<code>ab{6}c</code>,åˆ™åŒ¹é…åˆ°<code>abbbbbbc</code>,è€Œè¦é™å®š<code>b</code>çš„æ•°é‡åœ¨2åˆ°6ä¹‹é—´ï¼Œåˆ™æ˜¯<code>ab{2,6}c</code>ï¼Œå¦‚æœåªæ˜¯ä¸¤æ¬¡ä»¥ä¸Šï¼Œåˆ™çœç•¥æ‹¬å·é‡Œçš„6ï¼Œå†™æˆ<code>ab{2,}c</code></p>
</blockquote>
<h5 id="äºŒ-â€æˆ–â€è¿ç®—ç¬¦"><a href="#äºŒ-â€æˆ–â€è¿ç®—ç¬¦" class="headerlink" title="(äºŒ)â€æˆ–â€è¿ç®—ç¬¦"></a>(äºŒ)â€æˆ–â€è¿ç®—ç¬¦</h5><blockquote>
<p>ä¾‹å¦‚ï¼š<code>a (cat|dog)</code>åŒ¹é…çš„æ˜¯<code>a cat</code>å’Œ<code>a dog</code></p>
</blockquote>
<h5 id="ä¸‰-å­—ç¬¦ç±»"><a href="#ä¸‰-å­—ç¬¦ç±»" class="headerlink" title="(ä¸‰)å­—ç¬¦ç±»"></a>(ä¸‰)å­—ç¬¦ç±»</h5><p><code>[]</code>:è¡¨ç¤ºé‡Œé¢çš„å†…å®¹åªèƒ½å–è‡ªäºå®ƒä»¬</p>
<blockquote>
<p>ä¾‹å¦‚ï¼š<code>[a-z]</code>è¡¨ç¤ºæ‰€æœ‰å°å†™çš„è‹±æ–‡å­—æ¯ï¼Œ<code>[abc]</code>èƒ½åŒ¹é…åˆ°<code>abc</code>,<code>aabbcc</code>,<code>abcc</code>,<code>[a-zA-Z]</code>è¡¨ç¤ºæ‰€æœ‰çš„è‹±æ–‡å­—æ¯ï¼Œå¦‚æœåœ¨<code>[]</code>å‰åŠ ä¸Š<code>^</code>,è¡¨ç¤º<code>[]</code>ä¹‹å¤–çš„å­—ç¬¦</p>
</blockquote>
<h5 id="å››-å…ƒå­—ç¬¦"><a href="#å››-å…ƒå­—ç¬¦" class="headerlink" title="(å››)å…ƒå­—ç¬¦"></a>(å››)å…ƒå­—ç¬¦</h5><p><code>\d</code>:æ•°å­—å­—ç¬¦ï¼Œç­‰åŒäº<code>[0-9]</code><br><code>\w</code>:å•è¯å­—ç¬¦<br><code>\s</code>:ç©ºç™½ç¬¦ï¼ŒåŒ…å«Tabå’Œæ¢è¡Œç¬¦<br><code>\D</code>:éæ•°å­—å­—ç¬¦<br><code>\W</code>:éå•è¯å­—ç¬¦<br><code>\S</code>:éç©ºç™½ç¬¦<br><code>.</code>:ä»£è¡¨ä»»æ„å­—ç¬¦ï¼Œä¸åŒ…å«æ¢è¡Œç¬¦<br><code>^</code>:åŒ¹é…è¡Œé¦–</p>
<blockquote>
<p>ä¾‹å¦‚ï¼š<code>^a</code>åŒ¹é…<code>abv</code>,<code>acccn</code></p>
</blockquote>
<p><code>$</code>:åŒ¹é…è¡Œå°¾</p>
<blockquote>
<p>ä¾‹å¦‚ï¼š<code>a$</code>åŒ¹é…<code>tea</code>,<code>cba</code></p>
</blockquote>
<h5 id="äº”-è´ªå©ªä¸æ‡’æƒ°åŒ¹é…"><a href="#äº”-è´ªå©ªä¸æ‡’æƒ°åŒ¹é…" class="headerlink" title="(äº”)è´ªå©ªä¸æ‡’æƒ°åŒ¹é…"></a>(äº”)è´ªå©ªä¸æ‡’æƒ°åŒ¹é…</h5><blockquote>
<p><strong>è´ªå©ªåŒ¹é…ï¼š</strong>æ­£åˆ™è¡¨è¾¾å¼é€šå¸¸çš„è¡Œä¸ºæ˜¯åŒ¹é…å°½å¯èƒ½å¤šçš„å­—ç¬¦ï¼Œæ¯”å¦‚è¿™ä¸ªè¡¨è¾¾å¼ï¼š<code>a.*b</code>ï¼Œå®ƒå°†ä¼šåŒ¹é…æœ€é•¿çš„ä»¥<code>a</code>å¼€å§‹ï¼Œä»¥<code>b</code>ç»“æŸçš„å­—ç¬¦ä¸²ï¼Œå¦‚æœç”¨å®ƒæ¥æœç´¢<code>aabab</code>çš„è¯ï¼Œå®ƒä¼šåŒ¹é…æ•´ä¸ªå­—ç¬¦ä¸²<code>aabab</code></p>
</blockquote>
<blockquote>
<p><strong>æ‡’æƒ°åŒ¹é…ï¼š</strong>å°±æ˜¯åŒ¹é…å°½å¯èƒ½å°‘çš„å­—ç¬¦ï¼Œåœ¨èƒ½ä½¿æ•´ä¸ªåŒ¹é…æˆåŠŸçš„å‰æä¸‹ä½¿ç”¨æœ€å°‘çš„é‡å¤ï¼Œåªè¦åœ¨å®ƒåé¢åŠ ä¸Šä¸€ä¸ªé—®å·?å³å¯ï¼Œä¾‹å¦‚<code>a.*?b</code>åŒ¹é…æœ€çŸ­çš„ï¼Œä»¥<code>a</code>å¼€å§‹ï¼Œä»¥<code>b</code>ç»“æŸçš„å­—ç¬¦ä¸²ï¼Œå¦‚æœæŠŠå®ƒåº”ç”¨äº<code>aabab</code>çš„è¯ï¼Œå®ƒä¼šåŒ¹é…<code>aab</code>å’Œ<code>ab</code>ï¼Œä¸ºä»€ä¹ˆç¬¬ä¸€ä¸ªåŒ¹é…æ˜¯<code>aab</code>ï¼ˆç¬¬ä¸€åˆ°ç¬¬ä¸‰ä¸ªå­—ç¬¦ï¼‰è€Œä¸æ˜¯<code>ab</code>ï¼ˆç¬¬äºŒåˆ°ç¬¬ä¸‰ä¸ªå­—ç¬¦ï¼‰ï¼Ÿç®€å•åœ°è¯´ï¼Œå› ä¸ºæ­£åˆ™è¡¨è¾¾å¼æœ‰ä¸€æ¡æ¯”æ‡’æƒ°ï¼è´ªå©ªè§„åˆ™ä¼˜å…ˆçº§æ›´é«˜çš„è§„åˆ™ï¼Œå°±æ˜¯ï¼šæœ€å…ˆå¼€å§‹çš„åŒ¹é…æ‹¥æœ‰æœ€é«˜çš„ä¼˜å…ˆæƒ</p>
</blockquote>
<p>*åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­ï¼Œå¦‚æœç›´æ¥ç»™å‡ºå­—ç¬¦ï¼Œå°±æ˜¯ç²¾ç¡®åŒ¹é…ã€‚ç”¨\då¯ä»¥åŒ¹é…ä¸€ä¸ªæ•°å­—ï¼Œ\wå¯ä»¥åŒ¹é…ä¸€ä¸ªå­—æ¯æˆ–æ•°å­—ï¼Œæ‰€ä»¥ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">- &#39;00\d&#39;å¯ä»¥åŒ¹é…&#39;007&#39;ï¼Œä½†æ— æ³•åŒ¹é…&#39;00A&#39;ï¼›</span><br><span class="line"></span><br><span class="line">- &#39;\d\d\d&#39;å¯ä»¥åŒ¹é…&#39;010&#39;ï¼›</span><br><span class="line"></span><br><span class="line">- &#39;\w\w&#39;å¯ä»¥åŒ¹é…&#39;js&#39;ï¼›</span><br><span class="line"></span><br><span class="line">.å¯ä»¥åŒ¹é…ä»»æ„å­—ç¬¦ï¼Œæ‰€ä»¥ï¼š</span><br><span class="line"></span><br><span class="line">- &#39;js.&#39;å¯ä»¥åŒ¹é…&#39;jsp&#39;ã€&#39;jss&#39;ã€&#39;js!&#39;ç­‰ç­‰ã€‚</span><br></pre></td></tr></table></figure>

<a id="more"></a>

<p>è¦åŒ¹é…å˜é•¿çš„å­—ç¬¦ï¼Œåœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­ï¼Œç”¨*è¡¨ç¤ºä»»æ„ä¸ªå­—ç¬¦ï¼ˆåŒ…æ‹¬0ä¸ªï¼‰ï¼Œç”¨+è¡¨ç¤ºè‡³å°‘ä¸€ä¸ªå­—ç¬¦ï¼Œç”¨?è¡¨ç¤º0ä¸ªæˆ–1ä¸ªå­—ç¬¦ï¼Œç”¨{n}è¡¨ç¤ºnä¸ªå­—ç¬¦ï¼Œç”¨{n,m}è¡¨ç¤ºn-mä¸ªå­—ç¬¦ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">æ¥çœ‹ä¸€ä¸ªå¤æ‚çš„ä¾‹å­ï¼š\d&#123;3&#125;\s+\d&#123;3,8&#125;ã€‚</span><br><span class="line">æˆ‘ä»¬æ¥ä»å·¦åˆ°å³è§£è¯»ä¸€ä¸‹ï¼š</span><br><span class="line">1. \d&#123;3&#125;è¡¨ç¤ºåŒ¹é…3ä¸ªæ•°å­—ï¼Œä¾‹å¦‚&#39;010&#39;ï¼›</span><br><span class="line"></span><br><span class="line">2. \så¯ä»¥åŒ¹é…ä¸€ä¸ªç©ºæ ¼ï¼ˆä¹ŸåŒ…æ‹¬Tabç­‰ç©ºç™½ç¬¦ï¼‰ï¼Œæ‰€ä»¥\s+è¡¨ç¤ºè‡³å°‘æœ‰ä¸€ä¸ªç©ºæ ¼ï¼Œä¾‹å¦‚åŒ¹é…&#39; &#39;ï¼Œ&#39;\t\t&#39;ç­‰ï¼›</span><br><span class="line"></span><br><span class="line">3. \d&#123;3,8&#125;è¡¨ç¤º3-8ä¸ªæ•°å­—ï¼Œä¾‹å¦‚&#39;1234567&#39;ã€‚</span><br><span class="line"></span><br><span class="line">4. \d&#123;3&#125;\-\d&#123;3,8&#125; ä¾‹å¦‚&#39;010-12345&#39; ç”±äº&#39;-&#39;æ˜¯ç‰¹æ®Šå­—ç¬¦ï¼Œåœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­ï¼Œè¦ç”¨&#39;\&#39;è½¬ä¹‰</span><br></pre></td></tr></table></figure>



<p>ä½†æ˜¯ï¼Œä»ç„¶æ— æ³•åŒ¹é…â€™010 - 12345â€™ï¼Œå› ä¸ºå¸¦æœ‰ç©ºæ ¼ã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦æ›´å¤æ‚çš„åŒ¹é…æ–¹å¼ã€‚</p>
<p>è¿›é˜¶</p>
<p>è¦åšæ›´ç²¾ç¡®åœ°åŒ¹é…ï¼Œå¯ä»¥ç”¨[]è¡¨ç¤ºèŒƒå›´ï¼Œæ¯”å¦‚ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">- [0-9a-zA-Z\_]å¯ä»¥åŒ¹é…ä¸€ä¸ªæ•°å­—ã€å­—æ¯æˆ–è€…ä¸‹åˆ’çº¿ï¼›</span><br><span class="line"></span><br><span class="line">- [0-9a-zA-Z\_]+å¯ä»¥åŒ¹é…è‡³å°‘ç”±ä¸€ä¸ªæ•°å­—ã€å­—æ¯æˆ–è€…ä¸‹åˆ’çº¿ç»„æˆçš„å­—ç¬¦ä¸²ï¼Œæ¯”å¦‚&#39;a100&#39;ï¼Œ&#39;0_Z&#39;ï¼Œ&#39;js2015&#39;ç­‰ç­‰ï¼›</span><br><span class="line"></span><br><span class="line">- [a-zA-Z\_\$][0-9a-zA-Z\_\$]*å¯ä»¥åŒ¹é…ç”±å­—æ¯æˆ–ä¸‹åˆ’çº¿ã€$å¼€å¤´ï¼Œåæ¥ä»»æ„ä¸ªç”±ä¸€ä¸ªæ•°å­—ã€å­—æ¯æˆ–è€…ä¸‹åˆ’çº¿ã€$ç»„æˆçš„å­—ç¬¦ä¸²ï¼Œä¹Ÿå°±æ˜¯JavaScriptå…è®¸çš„å˜é‡åï¼›</span><br><span class="line"></span><br><span class="line">- [a-zA-Z\_\$][0-9a-zA-Z\_\$]&#123;0, 19&#125;æ›´ç²¾ç¡®åœ°é™åˆ¶äº†å˜é‡çš„é•¿åº¦æ˜¯1-20ä¸ªå­—ç¬¦ï¼ˆå‰é¢1ä¸ªå­—ç¬¦+åé¢æœ€å¤š19ä¸ªå­—ç¬¦ï¼‰ã€‚</span><br><span class="line"></span><br><span class="line">A|Bå¯ä»¥åŒ¹é…Aæˆ–Bï¼Œæ‰€ä»¥(J|j)ava(S|s)criptå¯ä»¥åŒ¹é…&#39;JavaScript&#39;ã€&#39;Javascript&#39;ã€&#39;javaScript&#39;æˆ–è€…&#39;javascript&#39;ã€‚</span><br><span class="line"></span><br><span class="line">^è¡¨ç¤ºè¡Œçš„å¼€å¤´ï¼Œ^\dè¡¨ç¤ºå¿…é¡»ä»¥æ•°å­—å¼€å¤´ã€‚</span><br><span class="line"></span><br><span class="line">$è¡¨ç¤ºè¡Œçš„ç»“æŸï¼Œ\d$è¡¨ç¤ºå¿…é¡»ä»¥æ•°å­—ç»“æŸã€‚</span><br><span class="line"></span><br><span class="line">ä½ å¯èƒ½æ³¨æ„åˆ°äº†ï¼Œjsä¹Ÿå¯ä»¥åŒ¹é…&#39;jsp&#39;ï¼Œä½†æ˜¯åŠ ä¸Š^js$å°±å˜æˆäº†æ•´è¡ŒåŒ¹é…ï¼Œå°±åªèƒ½åŒ¹é…&#39;js&#39;äº†ã€‚</span><br></pre></td></tr></table></figure>



<p>RegExp</p>
<p>JavaScriptæœ‰ä¸¤ç§æ–¹å¼åˆ›å»ºä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼ï¼š</p>
<p>ç¬¬ä¸€ç§æ–¹å¼æ˜¯ç›´æ¥é€šè¿‡/æ­£åˆ™è¡¨è¾¾å¼/å†™å‡ºæ¥ï¼Œç¬¬äºŒç§æ–¹å¼æ˜¯é€šè¿‡new RegExp(â€˜æ­£åˆ™è¡¨è¾¾å¼â€™)åˆ›å»ºä¸€ä¸ªRegExpå¯¹è±¡ã€‚</p>
<p>ä¸¤ç§å†™æ³•æ˜¯ä¸€æ ·çš„ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var re1 &#x3D; &#x2F;ABC\-001&#x2F;;</span><br><span class="line"></span><br><span class="line">var re2 &#x3D; new RegExp(&#39;ABC\\-001&#39;);</span><br><span class="line"></span><br><span class="line">re1; &#x2F;&#x2F; &#x2F;ABC\-001&#x2F;</span><br><span class="line"></span><br><span class="line">re2; &#x2F;&#x2F; &#x2F;ABC\-001&#x2F;</span><br></pre></td></tr></table></figure>



<p>æ³¨æ„ï¼Œå¦‚æœä½¿ç”¨ç¬¬äºŒç§å†™æ³•ï¼Œå› ä¸ºå­—ç¬¦ä¸²çš„è½¬ä¹‰é—®é¢˜ï¼Œå­—ç¬¦ä¸²çš„ä¸¤ä¸ª\å®é™…ä¸Šæ˜¯ä¸€ä¸ª\ã€‚</p>
<p>å…ˆçœ‹çœ‹å¦‚ä½•åˆ¤æ–­æ­£åˆ™è¡¨è¾¾å¼æ˜¯å¦åŒ¹é…ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var re &#x3D; &#x2F;^\d&#123;3&#125;\-\d&#123;3,8&#125;$&#x2F;;</span><br><span class="line"></span><br><span class="line">re.test(&#39;010-12345&#39;);</span><br><span class="line"></span><br><span class="line"> &#x2F;&#x2F; true</span><br><span class="line"></span><br><span class="line">re.test(&#39;010-1234x&#39;); </span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; false</span><br><span class="line"></span><br><span class="line">re.test(&#39;010 12345&#39;); </span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; false</span><br></pre></td></tr></table></figure>



<p>RegExpå¯¹è±¡çš„test()æ–¹æ³•ç”¨äºæµ‹è¯•ç»™å®šçš„å­—ç¬¦ä¸²æ˜¯å¦ç¬¦åˆæ¡ä»¶ã€‚</p>
<p>åˆ‡åˆ†å­—ç¬¦ä¸²</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ç”¨æ­£åˆ™è¡¨è¾¾å¼åˆ‡åˆ†å­—ç¬¦ä¸²æ¯”ç”¨å›ºå®šçš„å­—ç¬¦æ›´çµæ´»ï¼Œè¯·çœ‹æ­£å¸¸çš„åˆ‡åˆ†ä»£ç ï¼š</span><br><span class="line"></span><br><span class="line">&#39;a b   c&#39;.split(&#39; &#39;); &#x2F;&#x2F; [&#39;a&#39;, &#39;b&#39;, &#39;&#39;, &#39;&#39;, &#39;c&#39;]</span><br><span class="line"></span><br><span class="line">å—¯ï¼Œæ— æ³•è¯†åˆ«è¿ç»­çš„ç©ºæ ¼ï¼Œç”¨æ­£åˆ™è¡¨è¾¾å¼è¯•è¯•ï¼š</span><br><span class="line"></span><br><span class="line">&#39;a b   c&#39;.split(&#x2F;\s+&#x2F;); &#x2F;&#x2F; [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;]</span><br><span class="line"></span><br><span class="line">æ— è®ºå¤šå°‘ä¸ªç©ºæ ¼éƒ½å¯ä»¥æ­£å¸¸åˆ†å‰²ã€‚åŠ å…¥,è¯•è¯•ï¼š</span><br><span class="line"></span><br><span class="line">&#39;a,b, c  d&#39;.split(&#x2F;[\s\,]+&#x2F;); &#x2F;&#x2F; [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;]</span><br><span class="line"></span><br><span class="line">å†åŠ å…¥;è¯•è¯•ï¼š</span><br><span class="line"></span><br><span class="line">&#39;a,b;; c  d&#39;.split(&#x2F;[\s\,\;]+&#x2F;); &#x2F;&#x2F; [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;]</span><br></pre></td></tr></table></figure>



<p>åˆ†ç»„</p>
<p>é™¤äº†ç®€å•åœ°åˆ¤æ–­æ˜¯å¦åŒ¹é…ä¹‹å¤–ï¼Œæ­£åˆ™è¡¨è¾¾å¼è¿˜æœ‰æå–å­ä¸²çš„å¼ºå¤§åŠŸèƒ½ã€‚ç”¨()è¡¨ç¤ºçš„å°±æ˜¯è¦æå–çš„åˆ†ç»„ï¼ˆGroupï¼‰ã€‚æ¯”å¦‚ï¼š</p>
<p>^(\d{3})-(\d{3,8})$åˆ†åˆ«å®šä¹‰äº†ä¸¤ä¸ªç»„ï¼Œå¯ä»¥ç›´æ¥ä»åŒ¹é…çš„å­—ç¬¦ä¸²ä¸­æå–å‡ºåŒºå·å’Œæœ¬åœ°å·ç ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var re &#x3D; &#x2F;^(\d&#123;3&#125;)-(\d&#123;3,8&#125;)$&#x2F;;</span><br><span class="line"></span><br><span class="line">re.exec(&#39;010-12345&#39;);</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; [&#39;010-12345&#39;, &#39;010&#39;, &#39;12345&#39;]</span><br><span class="line"></span><br><span class="line">re.exec(&#39;010 12345&#39;); </span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; null</span><br></pre></td></tr></table></figure>



<p>å¦‚æœæ­£åˆ™è¡¨è¾¾å¼ä¸­å®šä¹‰äº†ç»„ï¼Œå°±å¯ä»¥åœ¨RegExpå¯¹è±¡ä¸Šç”¨exec()æ–¹æ³•æå–å‡ºå­ä¸²æ¥ã€‚</p>
<p>exec()æ–¹æ³•åœ¨åŒ¹é…æˆåŠŸåï¼Œä¼šè¿”å›ä¸€ä¸ªArrayï¼Œç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…åˆ°çš„æ•´ä¸ªå­—ç¬¦ä¸²ï¼Œåé¢çš„å­—ç¬¦ä¸²è¡¨ç¤ºåŒ¹é…æˆåŠŸçš„å­ä¸²ã€‚</p>
<p>exec()æ–¹æ³•åœ¨åŒ¹é…å¤±è´¥æ—¶è¿”å›nullã€‚</p>
<p>æå–å­ä¸²éå¸¸æœ‰ç”¨ã€‚æ¥çœ‹ä¸€ä¸ªæ›´å‡¶æ®‹çš„ä¾‹å­ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var re &#x3D; &#x2F;^(0[0-9]|1[0-9]|2[0-3]|[0-9])\:(0[0-9]|1[0-9]|2[0-9]|3[0-9]|4[0-9]|5[0-9]|[0-9])\:(0[0-9]|1[0-9]|2[0-9]|3[0-9]|4[0-9]|5[0-9]|[0-9])$&#x2F;;</span><br><span class="line"></span><br><span class="line">re.exec(&#39;19:05:30&#39;); </span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; [&#39;19:05:30&#39;, &#39;19&#39;, &#39;05&#39;, &#39;30&#39;]</span><br></pre></td></tr></table></figure>



<p>è¿™ä¸ªæ­£åˆ™è¡¨è¾¾å¼å¯ä»¥ç›´æ¥è¯†åˆ«åˆæ³•çš„æ—¶é—´ã€‚ä½†æ˜¯æœ‰äº›æ—¶å€™ï¼Œç”¨æ­£åˆ™è¡¨è¾¾å¼ä¹Ÿæ— æ³•åšåˆ°å®Œå…¨éªŒè¯ï¼Œæ¯”å¦‚è¯†åˆ«æ—¥æœŸï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var re &#x3D; &#x2F;^(0[1-9]|1[0-2]|[0-9])-(0[1-9]|1[0-9]|2[0-9]|3[0-1]|[0-9])$&#x2F;;</span><br></pre></td></tr></table></figure>



<p>å¯¹äºâ€™2-30â€™ï¼Œâ€™4-31â€™è¿™æ ·çš„éæ³•æ—¥æœŸï¼Œç”¨æ­£åˆ™è¿˜æ˜¯è¯†åˆ«ä¸äº†ï¼Œæˆ–è€…è¯´å†™å‡ºæ¥éå¸¸å›°éš¾ï¼Œè¿™æ—¶å°±éœ€è¦ç¨‹åºé…åˆè¯†åˆ«äº†ã€‚</p>
<p>è´ªå©ªåŒ¹é…</p>
<p>éœ€è¦ç‰¹åˆ«æŒ‡å‡ºçš„æ˜¯ï¼Œæ­£åˆ™åŒ¹é…é»˜è®¤æ˜¯è´ªå©ªåŒ¹é…ï¼Œä¹Ÿå°±æ˜¯åŒ¹é…å°½å¯èƒ½å¤šçš„å­—ç¬¦ã€‚ä¸¾ä¾‹å¦‚ä¸‹ï¼ŒåŒ¹é…å‡ºæ•°å­—åé¢çš„0ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var re &#x3D; &#x2F;^(\d+)(0*)$&#x2F;;</span><br><span class="line"></span><br><span class="line">re.exec(&#39;102300&#39;); </span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; [&#39;102300&#39;, &#39;102300&#39;, &#39;&#39;]</span><br></pre></td></tr></table></figure>



<p>ç”±äº\d+é‡‡ç”¨è´ªå©ªåŒ¹é…ï¼Œç›´æ¥æŠŠåé¢çš„0å…¨éƒ¨åŒ¹é…äº†ï¼Œç»“æœ0*åªèƒ½åŒ¹é…ç©ºå­—ç¬¦ä¸²äº†ã€‚</p>
<p>å¿…é¡»è®©\d+é‡‡ç”¨éè´ªå©ªåŒ¹é…ï¼ˆä¹Ÿå°±æ˜¯å°½å¯èƒ½å°‘åŒ¹é…ï¼‰ï¼Œæ‰èƒ½æŠŠåé¢çš„0åŒ¹é…å‡ºæ¥ï¼ŒåŠ ä¸ª?å°±å¯ä»¥è®©\d+é‡‡ç”¨éè´ªå©ªåŒ¹é…ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var re &#x3D; &#x2F;^(\d+?)(0*)$&#x2F;;</span><br><span class="line"></span><br><span class="line">re.exec(&#39;102300&#39;); </span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; [&#39;102300&#39;, &#39;1023&#39;, &#39;00&#39;]</span><br></pre></td></tr></table></figure>



<p>å…¨å±€æœç´¢</p>
<p>JavaScriptçš„æ­£åˆ™è¡¨è¾¾å¼è¿˜æœ‰å‡ ä¸ªç‰¹æ®Šçš„æ ‡å¿—ï¼Œæœ€å¸¸ç”¨çš„æ˜¯gï¼Œè¡¨ç¤ºå…¨å±€åŒ¹é…ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var r1 &#x3D; &#x2F;test&#x2F;g;</span><br><span class="line"></span><br><span class="line">&#x2F;ç­‰ä»·äº:var r2 &#x3D; new RegExp(&#39;test&#39;, &#39;g&#39;);</span><br></pre></td></tr></table></figure>



<p>å…¨å±€åŒ¹é…å¯ä»¥å¤šæ¬¡æ‰§è¡Œexec()æ–¹æ³•æ¥æœç´¢ä¸€ä¸ªåŒ¹é…çš„å­—ç¬¦ä¸²ã€‚å½“æˆ‘ä»¬æŒ‡å®šgæ ‡å¿—åï¼Œæ¯æ¬¡è¿è¡Œexec()ï¼Œæ­£åˆ™è¡¨è¾¾å¼æœ¬èº«ä¼šæ›´æ–°lastIndexå±æ€§ï¼Œè¡¨ç¤ºä¸Šæ¬¡åŒ¹é…åˆ°çš„æœ€åç´¢å¼•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var s &#x3D; &#39;JavaScript, VBScript, JScript and ECMAScript&#39;;</span><br><span class="line"></span><br><span class="line">var re&#x3D;&#x2F;[a-zA-Z]+Script&#x2F;g;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; ä½¿ç”¨å…¨å±€åŒ¹é…:re.exec(s); </span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; [&#39;JavaScript&#39;]</span><br><span class="line"></span><br><span class="line">re.lastIndex; </span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 10</span><br><span class="line"></span><br><span class="line">re.exec(s);</span><br><span class="line"></span><br><span class="line"> &#x2F;&#x2F; [&#39;VBScript&#39;]</span><br><span class="line"></span><br><span class="line">re.lastIndex; </span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 20</span><br><span class="line"></span><br><span class="line">re.exec(s); </span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; [&#39;JScript&#39;]</span><br><span class="line"></span><br><span class="line">re.lastIndex; </span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 29</span><br><span class="line"></span><br><span class="line">re.exec(s); </span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; [&#39;ECMAScript&#39;]</span><br><span class="line"></span><br><span class="line">re.lastIndex;</span><br><span class="line"></span><br><span class="line"> &#x2F;&#x2F; 44</span><br><span class="line"></span><br><span class="line">re.exec(s); </span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; nullï¼Œç›´åˆ°ç»“æŸä»æ²¡æœ‰åŒ¹é…åˆ°</span><br><span class="line"></span><br><span class="line">å…¨å±€åŒ¹é…ç±»ä¼¼æœç´¢ï¼Œå› æ­¤ä¸èƒ½ä½¿ç”¨&#x2F;^...$&#x2F;ï¼Œé‚£æ ·åªä¼šæœ€å¤šåŒ¹é…ä¸€æ¬¡ã€‚</span><br><span class="line"></span><br><span class="line">æ­£åˆ™è¡¨è¾¾å¼è¿˜å¯ä»¥æŒ‡å®šiæ ‡å¿—ï¼Œè¡¨ç¤ºå¿½ç•¥å¤§å°å†™ï¼Œmæ ‡å¿—ï¼Œè¡¨ç¤ºæ‰§è¡Œå¤šè¡ŒåŒ¹é…ã€‚</span><br></pre></td></tr></table></figure>



<p>å°ç»“</p>
<p>æ­£åˆ™è¡¨è¾¾å¼éå¸¸å¼ºå¤§ï¼Œè¦åœ¨çŸ­çŸ­çš„ä¸€èŠ‚é‡Œè®²å®Œæ˜¯ä¸å¯èƒ½çš„ã€‚è¦è®²æ¸…æ¥šæ­£åˆ™çš„æ‰€æœ‰å†…å®¹ï¼Œå¯ä»¥å†™ä¸€æœ¬åšåšçš„ä¹¦äº†ã€‚å¦‚æœä½ ç»å¸¸é‡åˆ°æ­£åˆ™è¡¨è¾¾å¼çš„é—®é¢˜ï¼Œä½ å¯èƒ½éœ€è¦ä¸€æœ¬æ­£åˆ™è¡¨è¾¾å¼çš„å‚è€ƒä¹¦ã€‚</p>
]]></content>
      <categories>
        <category>js</category>
      </categories>
      <tags>
        <tag>æ­£åˆ™è¡¨è¾¾å¼</tag>
      </tags>
  </entry>
  <entry>
    <title>æ­£åˆ™è¡¨è¾¾å¼æ–¹æ³•è®°å½•</title>
    <url>/2020/07/29/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E6%96%B9%E6%B3%95%E8%AE%B0%E5%BD%95/</url>
    <content><![CDATA[<h3 id="è®°å½•"><a href="#è®°å½•" class="headerlink" title="è®°å½•"></a>è®°å½•</h3><a id="more"></a>

<blockquote>
<ol>
<li><p>å¹´æœˆæ—¥</p>
<p>/^((?!0000)[0-9]{4}-((0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-8])|(0[13-9]|1[0-2])-(29|30)|(0[13578]|1[02])-31)|([0-9]{2}(0[48]|[2468][048]|[13579][26])|(0[48]|[2468][048]|[13579][26])00)-02-29)$/</p>
</li>
<li><p>æ—¶åˆ†ç§’</p>
<p>/[0-1][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9]/</p>
<p>/^([01]\d|2[0123]):([0-5]\d|59)$/</p>
</li>
<li><p>4-16ä½å­—æ¯æ•°å­—ç‰¹æ®Šå­—ç¬¦</p>
<p>/^(?![^\da-zA-Z]+$).{4,16}$/</p>
</li>
<li><p>å¯†ç 6-20ä½ï¼Œåªå…è®¸å­—æ¯ã€æ•°å­—ã€ç‰¹æ®Šå­—ç¬¦çš„å…¶ä¸­ä¸¤é¡¹åŠä»¥ä¸Š</p>
<ul>
<li><p>èƒ½åŒ¹é…çš„ç»„åˆä¸ºï¼šæ•°å­—+å­—æ¯ï¼Œæ•°å­—+ç‰¹æ®Šå­—ç¬¦ï¼Œå­—æ¯+ç‰¹æ®Šå­—ç¬¦ï¼Œæ•°å­—+å­—æ¯+ç‰¹æ®Šå­—ç¬¦ç»„åˆï¼Œè€Œä¸”ä¸èƒ½æ˜¯çº¯æ•°å­—ï¼Œçº¯å­—æ¯ï¼Œçº¯ç‰¹æ®Šå­—ç¬¦</p>
<p>^(?![\d]+$)(?![a-zA-Z]+$)(?![^\da-zA-Z]+$).{6,20}$</p>
</li>
<li><p>ä¸Šé¢çš„æ­£åˆ™é‡Œæ‰€è¯´çš„ç‰¹æ®Šå­—ç¬¦æ˜¯é™¤äº†æ•°å­—ï¼Œå­—æ¯ä¹‹å¤–çš„æ‰€æœ‰å­—ç¬¦ å¦‚æœè¦é™å®šç‰¹æ®Šå­—ç¬¦ï¼Œä¾‹å¦‚ï¼Œç‰¹æ®Šå­—ç¬¦çš„èŒƒå›´ä¸º !#$%^&amp;* ï¼Œé‚£ä¹ˆå¯ä»¥è¿™ä¹ˆæ”¹</p>
<p>^(?![\d]+$)(?![a-zA-Z]+$)(?![!#$%^&amp;<em>]+$)[\da-zA-Z!#$%^&amp;</em>]{6,20}$</p>
</li>
<li><p>ä¸‹é¢çš„æ˜¯åªåŒ…å«ä¸‹åˆ’çº¿çš„ç‰¹æ®Šå­—ç¬¦</p>
<p>^(?![\d]+$)(?![a-zA-Z]+$)(?![!_]+$)[\da-zA-Z!_]{6,20}$ </p>
</li>
</ul>
</li>
</ol>
</blockquote>
<ol>
<li>æ•°å­—ï¼š<code>^[0-9]*$</code></li>
<li>nä½çš„æ•°å­—ï¼š<code>^\d{n}$</code></li>
<li>è‡³å°‘nä½çš„æ•°å­—ï¼š<code>^\d{n,}$</code></li>
<li>m-nä½çš„æ•°å­—ï¼š<code>^\d{m,n}$</code></li>
<li>é›¶å’Œéé›¶å¼€å¤´çš„æ•°å­—ï¼š<code>^(0|[1-9][0-9]*)$</code></li>
<li>éé›¶å¼€å¤´çš„æœ€å¤šå¸¦ä¸¤ä½å°æ•°çš„æ•°å­—ï¼š<code>^([1-9][0-9]*)+(.[0-9]{1,2})?$</code></li>
<li>å¸¦1-2ä½å°æ•°çš„æ­£æ•°æˆ–è´Ÿæ•°ï¼š<code>^(\-)?\d+(\.\d{1,2})?$</code></li>
<li>æ­£æ•°ã€è´Ÿæ•°ã€å’Œå°æ•°ï¼š<code>^(\-|\+)?\d+(\.\d+)?$</code></li>
<li>æœ‰ä¸¤ä½å°æ•°çš„æ­£å®æ•°ï¼š<code>^[0-9]+(.[0-9]{2})?$</code></li>
<li>æœ‰1~3ä½å°æ•°çš„æ­£å®æ•°ï¼š<code>^[0-9]+(.[0-9]{1,3})?$</code></li>
<li>éé›¶çš„æ­£æ•´æ•°ï¼š<code>^[1-9]\d*$</code> æˆ– <code>^([1-9][0-9]*){1,3}$</code> æˆ– <code>^\+?[1-9][0-9]*$</code></li>
<li>éé›¶çš„è´Ÿæ•´æ•°ï¼š<code>^\-[1-9][]0-9&quot;*$</code> æˆ– <code>^-[1-9]\d*$</code></li>
<li>éè´Ÿæ•´æ•°ï¼š<code>^\d+$</code> æˆ– <code>^[1-9]\d*|0$</code></li>
<li>éæ­£æ•´æ•°ï¼š<code>^-[1-9]\d*|0$</code> æˆ– <code>^((-\d+)|(0+))$</code></li>
<li>éè´Ÿæµ®ç‚¹æ•°ï¼š<code>^\d+(\.\d+)?$</code> æˆ– <code>^[1-9]\d*\.\d*|0\.\d*[1-9]\d*|0?\.0+|0$</code></li>
<li>éæ­£æµ®ç‚¹æ•°ï¼š<code>^((-\d+(\.\d+)?)|(0+(\.0+)?))$</code> æˆ– <code>^(-([1-9]\d*\.\d*|0\.\d*[1-9]\d*))|0?\.0+|0$</code></li>
<li>æ­£æµ®ç‚¹æ•°ï¼š<code>^[1-9]\d*\.\d*|0\.\d*[1-9]\d*$</code> æˆ– <code>^(([0-9]+\.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*\.[0-9]+)|([0-9]*[1-9][0-9]*))$</code></li>
<li>è´Ÿæµ®ç‚¹æ•°ï¼š<code>^-([1-9]\d*\.\d*|0\.\d*[1-9]\d*)$</code> æˆ– <code>^(-(([0-9]+\.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*\.[0-9]+)|([0-9]*[1-9][0-9]*)))$</code></li>
<li>æµ®ç‚¹æ•°ï¼š<code>^(-?\d+)(\.\d+)?$</code> æˆ– <code>^-?([1-9]\d*\.\d*|0\.\d*[1-9]\d*|0?\.0+|0)$</code></li>
</ol>
<hr>
<ol>
<li>æ±‰å­—ï¼š<code>^[\u4e00-\u9fa5]{0,}$</code></li>
<li>è‹±æ–‡å’Œæ•°å­—ï¼š<code>^[A-Za-z0-9]+$</code> æˆ– <code>^[A-Za-z0-9]{4,40}$</code></li>
<li>é•¿åº¦ä¸º3-20çš„æ‰€æœ‰å­—ç¬¦ï¼š<code>^.{3,20}$</code></li>
<li>ç”±26ä¸ªè‹±æ–‡å­—æ¯ç»„æˆçš„å­—ç¬¦ä¸²ï¼š<code>^[A-Za-z]+$</code></li>
<li>ç”±26ä¸ªå¤§å†™è‹±æ–‡å­—æ¯ç»„æˆçš„å­—ç¬¦ä¸²ï¼š<code>^[A-Z]+$</code></li>
<li>ç”±26ä¸ªå°å†™è‹±æ–‡å­—æ¯ç»„æˆçš„å­—ç¬¦ä¸²ï¼š<code>^[a-z]+$</code></li>
<li>ç”±æ•°å­—å’Œ26ä¸ªè‹±æ–‡å­—æ¯ç»„æˆçš„å­—ç¬¦ä¸²ï¼š<code>^[A-Za-z0-9]+$</code></li>
<li>ç”±æ•°å­—ã€26ä¸ªè‹±æ–‡å­—æ¯æˆ–è€…ä¸‹åˆ’çº¿ç»„æˆçš„å­—ç¬¦ä¸²ï¼š<code>^\w+$</code> æˆ– <code>^\w{3,20}$</code></li>
<li>ä¸­æ–‡ã€è‹±æ–‡ã€æ•°å­—åŒ…æ‹¬ä¸‹åˆ’çº¿ï¼š<code>^[\u4E00-\u9FA5A-Za-z0-9_]+$</code></li>
<li>ä¸­æ–‡ã€è‹±æ–‡ã€æ•°å­—ä½†ä¸åŒ…æ‹¬ä¸‹åˆ’çº¿ç­‰ç¬¦å·ï¼š<code>^[\u4E00-\u9FA5A-Za-z0-9]+$</code> æˆ– <code>^[\u4E00-\u9FA5A-Za-z0-9]{2,20}$</code></li>
</ol>
<hr>
<ol>
<li>Emailåœ°å€ï¼š<code>^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$</code></li>
<li>åŸŸåï¼š<code>[a-zA-Z0-9][-a-zA-Z0-9]{0,62}(/.[a-zA-Z0-9][-a-zA-Z0-9]{0,62})+/.?</code></li>
<li>InternetURLï¼š<code>[a-zA-z]+://[^\s]*</code> æˆ– <code>^http://([\w-]+\.)+[\w-]+(/[\w-./?%&amp;=]*)?$</code></li>
<li>æ‰‹æœºå·ç ï¼š<code>^(13[0-9]|14[5|7]|15[0|1|2|3|5|6|7|8|9]|18[0|1|2|3|5|6|7|8|9])\d{8}$</code></li>
<li>ç”µè¯å·ç (â€œXXX-XXXXXXXâ€ã€â€XXXX-XXXXXXXXâ€ã€â€XXX-XXXXXXXâ€ã€â€XXX-XXXXXXXXâ€ã€â€XXXXXXXâ€å’Œâ€XXXXXXXX)ï¼š<code>^(\(\d{3,4}-)|\d{3.4}-)?\d{7,8}$</code></li>
<li>å›½å†…ç”µè¯å·ç (0511-4405222ã€021-87888822)ï¼š<code>\d{3}-\d{8}|\d{4}-\d{7}</code></li>
<li>èº«ä»½è¯å·(15ä½ã€18ä½æ•°å­—)ï¼š<code>^\d{15}|\d{18}$</code></li>
<li>çŸ­èº«ä»½è¯å·ç (æ•°å­—ã€å­—æ¯xç»“å°¾)ï¼š<code>^([0-9]){7,18}(x|X)?$</code> æˆ– <code>^\d{8,18}|[0-9x]{8,18}|[0-9X]{8,18}?$</code></li>
<li>å¸å·æ˜¯å¦åˆæ³•(å­—æ¯å¼€å¤´ï¼Œå…è®¸5-16å­—èŠ‚ï¼Œå…è®¸å­—æ¯æ•°å­—ä¸‹åˆ’çº¿)ï¼š<code>^[a-zA-Z][a-zA-Z0-9_]{4,15}$</code></li>
<li>å¯†ç (ä»¥å­—æ¯å¼€å¤´ï¼Œé•¿åº¦åœ¨6~18ä¹‹é—´ï¼Œåªèƒ½åŒ…å«å­—æ¯ã€æ•°å­—å’Œä¸‹åˆ’çº¿)ï¼š<code>^[a-zA-Z]\w{5,17}$</code></li>
<li>å¼ºå¯†ç (å¿…é¡»åŒ…å«å¤§å°å†™å­—æ¯å’Œæ•°å­—çš„ç»„åˆï¼Œä¸èƒ½ä½¿ç”¨ç‰¹æ®Šå­—ç¬¦ï¼Œé•¿åº¦åœ¨8-10ä¹‹é—´)ï¼š<code>^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,10}$</code></li>
<li>æ—¥æœŸæ ¼å¼ï¼š<code>^\d{4}-\d{1,2}-\d{1,2}</code></li>
<li>ä¸€å¹´çš„12ä¸ªæœˆ(01ï½09å’Œ1ï½12)ï¼š<code>^(0?[1-9]|1[0-2])$</code></li>
<li>ä¸€ä¸ªæœˆçš„31å¤©(01ï½09å’Œ1ï½31)ï¼š<code>^((0?[1-9])|((1|2)[0-9])|30|31)$</code></li>
<li>xmlæ–‡ä»¶ï¼š<code>^([a-zA-Z]+-?)+[a-zA-Z0-9]+\\.[x|X][m|M][l|L]$</code></li>
<li>ä¸­æ–‡å­—ç¬¦çš„æ­£åˆ™è¡¨è¾¾å¼ï¼š<code>[\u4e00-\u9fa5]</code></li>
<li>åŒå­—èŠ‚å­—ç¬¦ï¼š<code>[^\x00-\xff]</code> (åŒ…æ‹¬æ±‰å­—åœ¨å†…ï¼Œå¯ä»¥ç”¨æ¥è®¡ç®—å­—ç¬¦ä¸²çš„é•¿åº¦(ä¸€ä¸ªåŒå­—èŠ‚å­—ç¬¦é•¿åº¦è®¡2ï¼ŒASCIIå­—ç¬¦è®¡1))</li>
<li>ç©ºç™½è¡Œçš„æ­£åˆ™è¡¨è¾¾å¼ï¼š<code>\n\s*\r</code> (å¯ä»¥ç”¨æ¥åˆ é™¤ç©ºç™½è¡Œ)</li>
<li>é¦–å°¾ç©ºç™½å­—ç¬¦çš„æ­£åˆ™è¡¨è¾¾å¼ï¼š<code>^\s*|\s*$</code>æˆ–<code>(^\s*)|(\s*$)</code> (å¯ä»¥ç”¨æ¥åˆ é™¤è¡Œé¦–è¡Œå°¾çš„ç©ºç™½å­—ç¬¦(åŒ…æ‹¬ç©ºæ ¼ã€åˆ¶è¡¨ç¬¦ã€æ¢é¡µç¬¦ç­‰ç­‰)ï¼Œéå¸¸æœ‰ç”¨çš„è¡¨è¾¾å¼)</li>
<li>è…¾è®¯QQå·ï¼š<code>[1-9][0-9]{4,}</code> (è…¾è®¯QQå·ä»10000å¼€å§‹)</li>
<li>ä¸­å›½é‚®æ”¿ç¼–ç ï¼š<code>[1-9]\d{5}(?!\d)</code> (ä¸­å›½é‚®æ”¿ç¼–ç ä¸º6ä½æ•°å­—)</li>
<li>IPåœ°å€ï¼š<code>\d+\.\d+\.\d+\.\d+</code> (æå–IPåœ°å€æ—¶æœ‰ç”¨)</li>
<li>IPåœ°å€ï¼š<code>((?:(?:25[0-5]|2[0-4]\\d|[01]?\\d?\\d)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d?\\d))</code></li>
<li>IP-v4åœ°å€ï¼š<code>\\b(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\b</code> (æå–IPåœ°å€æ—¶æœ‰ç”¨)</li>
<li>å­ç½‘æ©ç ï¼š<code>((?:(?:25[0-5]|2[0-4]\\d|[01]?\\d?\\d)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d?\\d))</code></li>
<li>æ ¡éªŒæ—¥æœŸ:<code>^(?:(?!0000)[0-9]{4}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-8])|(?:0[13-9]|1[0-2])-(?:29|30)|(?:0[13578]|1[02])-31)|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)-02-29)$</code>(â€œyyyy-mm-ddâ€œ æ ¼å¼çš„æ—¥æœŸæ ¡éªŒï¼Œå·²è€ƒè™‘å¹³é—°å¹´ã€‚)</li>
<li>æŠ½å–æ³¨é‡Šï¼š<code>&lt;!--(.*?)--&gt;</code></li>
</ol>
]]></content>
      <categories>
        <category>js</category>
      </categories>
      <tags>
        <tag>æ­£åˆ™è¡¨è¾¾å¼</tag>
      </tags>
  </entry>
  <entry>
    <title>æµè§ˆå™¨çš„åƒåœ¾å›æ”¶</title>
    <url>/2021/02/01/%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9A%84%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6/</url>
    <content><![CDATA[<p>å‚è€ƒé“¾æ¥</p>
<p><a href="https://mp.weixin.qq.com/s/iZDB6RiQHB_KNvZK5jvz-Q" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/iZDB6RiQHB_KNvZK5jvz-Q</a></p>
<h1 id="é¢è¯•é¢˜1ï¼šæµè§ˆå™¨æ€ä¹ˆè¿›è¡Œåƒåœ¾å›æ”¶ï¼Ÿ"><a href="#é¢è¯•é¢˜1ï¼šæµè§ˆå™¨æ€ä¹ˆè¿›è¡Œåƒåœ¾å›æ”¶ï¼Ÿ" class="headerlink" title="é¢è¯•é¢˜1ï¼šæµè§ˆå™¨æ€ä¹ˆè¿›è¡Œåƒåœ¾å›æ”¶ï¼Ÿ"></a>é¢è¯•é¢˜1ï¼šæµè§ˆå™¨æ€ä¹ˆè¿›è¡Œåƒåœ¾å›æ”¶ï¼Ÿ</h1><p>ä»ä¸‰ä¸ªç‚¹æ¥å›ç­”ä»€ä¹ˆæ˜¯åƒåœ¾ã€å¦‚ä½•æ¡åƒåœ¾ã€ä»€ä¹ˆæ—¶å€™æ¡åƒåœ¾ã€‚</p>
<ol>
<li><p>ä»€ä¹ˆæ˜¯åƒåœ¾</p>
<p>ä¸å†éœ€è¦ï¼Œå³ä¸ºåƒåœ¾</p>
<p>å…¨å±€å˜é‡éšæ—¶å¯èƒ½ç”¨åˆ°ï¼Œæ‰€ä»¥ä¸€å®šä¸æ˜¯åƒåœ¾</p>
</li>
<li><p>å¦‚ä½•æ¡åƒåœ¾ï¼ˆéå†ç®—æ³•ï¼‰</p>
<p>æ ‡è®°ç©ºé—´ä¸­ã€Œå¯è¾¾ã€å€¼ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">- ä»æ ¹èŠ‚ç‚¹ï¼ˆRootï¼‰å‡ºå‘ï¼Œéå†æ‰€æœ‰çš„å¯¹è±¡ã€‚</span><br><span class="line">- å¯ä»¥éå†åˆ°çš„å¯¹è±¡ï¼Œæ˜¯å¯è¾¾çš„ï¼ˆreachableï¼‰ã€‚</span><br><span class="line">- æ²¡æœ‰è¢«éå†åˆ°çš„å¯¹è±¡ï¼Œä¸å¯è¾¾çš„ï¼ˆunreachableï¼‰</span><br></pre></td></tr></table></figure>

<p>å›æ”¶ã€Œä¸å¯è¾¾ã€çš„å€¼æ‰€å æ®çš„å†…å­˜ã€‚</p>
<p>åšå†…å­˜æ•´ç†ã€‚</p>
</li>
<li><p>ä»€ä¹ˆæ—¶å€™æ¡åƒåœ¾</p>
<p>å‰ç«¯æœ‰å…¶ç‰¹æ®Šæ€§ï¼Œåƒåœ¾å›æ”¶çš„æ—¶å€™ä¼šé€ æˆé¡µé¢å¡é¡¿ã€‚</p>
<p>åˆ†ä»£æ”¶é›†ã€å¢é‡æ”¶é›†ã€é—²æ—¶æ”¶é›†ã€‚</p>
</li>
</ol>
<a id="more"></a>

<h3 id="åˆ†ä»£æ”¶é›†"><a href="#åˆ†ä»£æ”¶é›†" class="headerlink" title="åˆ†ä»£æ”¶é›†"></a>åˆ†ä»£æ”¶é›†</h3><p>ä¸€å¥è¯æ€»ç»“åˆ†ä»£å›æ”¶å°±æ˜¯ï¼šå°†å †åˆ†ä¸ºæ–°ç”Ÿä»£ä¸è€ç”Ÿä»£ï¼Œå¤šå›æ”¶æ–°ç”Ÿä»£ï¼Œå°‘å›æ”¶è€ç”Ÿä»£ã€‚</p>
<p>è¿™æ ·å°±å‡å°‘äº†æ¯æ¬¡éœ€éå†çš„å¯¹è±¡ï¼Œä»è€Œå‡å°‘æ¯æ¬¡åƒåœ¾å›æ”¶çš„è€—æ—¶ã€‚<img src="https://mmbiz.qpic.cn/mmbiz_png/pfCCZhlbMQTY8gQFASeAbb9cJL8heWK1Qp9gKWVQEuLJ549IibDiarVdoouoiacUIib9c5MHqUh9QnwKib8eV1Nicw2A/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="å›¾ç‰‡"></p>
<h3 id="å¢é‡æ”¶é›†"><a href="#å¢é‡æ”¶é›†" class="headerlink" title="å¢é‡æ”¶é›†"></a>å¢é‡æ”¶é›†</h3><p>å¦‚æœè„šæœ¬ä¸­æœ‰è®¸å¤šå¯¹è±¡ï¼Œå¼•æ“ä¸€æ¬¡æ€§éå†æ•´ä¸ªå¯¹è±¡ï¼Œä¼šé€ æˆä¸€ä¸ªé•¿æ—¶é—´æš‚åœã€‚</p>
<p>æ‰€ä»¥å¼•æ“å°†åƒåœ¾æ”¶é›†å·¥ä½œåˆ†æˆæ›´å°çš„å—ï¼Œæ¯æ¬¡å¤„ç†ä¸€éƒ¨åˆ†ï¼Œå¤šæ¬¡å¤„ç†ã€‚</p>
<p>è¿™æ ·å°±è§£å†³äº†é•¿æ—¶é—´åœé¡¿çš„é—®é¢˜ã€‚<img src="https://mmbiz.qpic.cn/mmbiz_png/pfCCZhlbMQTY8gQFASeAbb9cJL8heWK1Lys8WTVdEnXkXpRB3YchY8zktWfOSricJRJpk7QY3oHicwuxp691o1NA/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="å›¾ç‰‡"></p>
<h3 id="é—²æ—¶æ”¶é›†"><a href="#é—²æ—¶æ”¶é›†" class="headerlink" title="é—²æ—¶æ”¶é›†"></a>é—²æ—¶æ”¶é›†</h3><p>åƒåœ¾æ”¶é›†å™¨åªä¼šåœ¨ CPU ç©ºé—²æ—¶å°è¯•è¿è¡Œï¼Œä»¥å‡å°‘å¯èƒ½å¯¹ä»£ç æ‰§è¡Œçš„å½±å“ã€‚</p>
<h1 id="é¢è¯•é¢˜2ï¼šæµè§ˆå™¨ä¸­ä¸åŒç±»å‹å˜é‡çš„å†…å­˜éƒ½æ˜¯ä½•æ—¶é‡Šæ”¾ï¼Ÿ"><a href="#é¢è¯•é¢˜2ï¼šæµè§ˆå™¨ä¸­ä¸åŒç±»å‹å˜é‡çš„å†…å­˜éƒ½æ˜¯ä½•æ—¶é‡Šæ”¾ï¼Ÿ" class="headerlink" title="é¢è¯•é¢˜2ï¼šæµè§ˆå™¨ä¸­ä¸åŒç±»å‹å˜é‡çš„å†…å­˜éƒ½æ˜¯ä½•æ—¶é‡Šæ”¾ï¼Ÿ"></a>é¢è¯•é¢˜2ï¼šæµè§ˆå™¨ä¸­ä¸åŒç±»å‹å˜é‡çš„å†…å­˜éƒ½æ˜¯ä½•æ—¶é‡Šæ”¾ï¼Ÿ</h1><p>Javascritp ä¸­ç±»å‹ï¼šå€¼ç±»å‹ï¼Œå¼•ç”¨ç±»å‹ã€‚</p>
<ul>
<li><p>å¼•ç”¨ç±»å‹</p>
</li>
<li><ul>
<li>åœ¨æ²¡æœ‰å¼•ç”¨ä¹‹åï¼Œé€šè¿‡ V8 è‡ªåŠ¨å›æ”¶ã€‚</li>
</ul>
</li>
<li><p>å€¼ç±»å‹</p>
</li>
<li><ul>
<li>å¦‚æœå¤„äºé—­åŒ…çš„æƒ…å†µä¸‹ï¼Œè¦ç­‰é—­åŒ…æ²¡æœ‰å¼•ç”¨æ‰ä¼šè¢« V8 å›æ”¶ã€‚</li>
<li>éé—­åŒ…çš„æƒ…å†µä¸‹ï¼Œç­‰å¾… V8 çš„æ–°ç”Ÿä»£åˆ‡æ¢çš„æ—¶å€™å›æ”¶ã€‚</li>
</ul>
</li>
</ul>
<h1 id="é¢è¯•é¢˜3ï¼šå“ªäº›æƒ…å†µä¼šå¯¼è‡´å†…å­˜æ³„éœ²ï¼Ÿå¦‚ä½•é¿å…ï¼Ÿ"><a href="#é¢è¯•é¢˜3ï¼šå“ªäº›æƒ…å†µä¼šå¯¼è‡´å†…å­˜æ³„éœ²ï¼Ÿå¦‚ä½•é¿å…ï¼Ÿ" class="headerlink" title="é¢è¯•é¢˜3ï¼šå“ªäº›æƒ…å†µä¼šå¯¼è‡´å†…å­˜æ³„éœ²ï¼Ÿå¦‚ä½•é¿å…ï¼Ÿ"></a>é¢è¯•é¢˜3ï¼šå“ªäº›æƒ…å†µä¼šå¯¼è‡´å†…å­˜æ³„éœ²ï¼Ÿå¦‚ä½•é¿å…ï¼Ÿ</h1><blockquote>
<p>å†…å­˜æ³„éœ²æ˜¯æŒ‡ä½ ã€Œç”¨ä¸åˆ°ã€ï¼ˆè®¿é—®ä¸åˆ°ï¼‰çš„å˜é‡ï¼Œä¾ç„¶å å±…ç€å†…å­˜ç©ºé—´ï¼Œä¸èƒ½è¢«å†æ¬¡åˆ©ç”¨èµ·æ¥ã€‚</p>
</blockquote>
<p>ä»¥ Vue ä¸ºä¾‹ï¼Œé€šå¸¸æœ‰è¿™äº›æƒ…å†µï¼š</p>
<ul>
<li>ç›‘å¬åœ¨ <code>window/body</code> ç­‰äº‹ä»¶æ²¡æœ‰è§£ç»‘</li>
<li>ç»‘åœ¨ <code>EventBus</code> çš„äº‹ä»¶æ²¡æœ‰è§£ç»‘</li>
<li><code>Vuex</code> çš„ <code>$store</code>ï¼Œ<code>watch</code> äº†ä¹‹åæ²¡æœ‰ <code>unwatch</code></li>
<li>ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“åˆ›å»ºï¼Œæ²¡æœ‰è°ƒç”¨æ­£ç¡®çš„é”€æ¯å‡½æ•°</li>
</ul>
<p>è§£å†³åŠæ³•ï¼š<code>beforeDestroy</code> ä¸­åŠæ—¶é”€æ¯</p>
<ul>
<li>ç»‘å®šäº† <code>DOM/BOM</code> å¯¹è±¡ä¸­çš„äº‹ä»¶ <code>addEventListener</code> ï¼Œ<code>removeEventListener</code>ã€‚</li>
<li>è§‚å¯Ÿè€…æ¨¡å¼ <code>$on</code>ï¼Œ<code>$off</code>å¤„ç†ã€‚</li>
<li>å¦‚æœç»„ä»¶ä¸­ä½¿ç”¨äº†å®šæ—¶å™¨ï¼Œåº”é”€æ¯å¤„ç†ã€‚</li>
<li>å¦‚æœåœ¨ <code>mounted/created</code> é’©å­ä¸­ä½¿ç”¨äº†ç¬¬ä¸‰æ–¹åº“åˆå§‹åŒ–ï¼Œå¯¹åº”çš„é”€æ¯ã€‚</li>
<li>ä½¿ç”¨å¼±å¼•ç”¨ <code>weakMap</code>ã€<code>weakSet</code>ã€‚</li>
</ul>
<h2 id="é—­åŒ…ä¼šå¯¼è‡´å†…å­˜æ³„éœ²å—ï¼Ÿ"><a href="#é—­åŒ…ä¼šå¯¼è‡´å†…å­˜æ³„éœ²å—ï¼Ÿ" class="headerlink" title="é—­åŒ…ä¼šå¯¼è‡´å†…å­˜æ³„éœ²å—ï¼Ÿ"></a>é—­åŒ…ä¼šå¯¼è‡´å†…å­˜æ³„éœ²å—ï¼Ÿ</h2><p>é—­åŒ…ä¼šå¯¼è‡´å†…å­˜æ³„éœ²å—ï¼Ÿæ­£ç¡®çš„ç­”æ¡ˆæ˜¯ä¸ä¼šã€‚</p>
<p>å†…å­˜æ³„éœ²æ˜¯æŒ‡ä½ ã€Œç”¨ä¸åˆ°ã€ï¼ˆè®¿é—®ä¸åˆ°ï¼‰çš„å˜é‡ï¼Œä¾ç„¶å å±…ç€å†…å­˜ç©ºé—´ï¼Œä¸èƒ½è¢«å†æ¬¡åˆ©ç”¨èµ·æ¥ã€‚</p>
<p>é—­åŒ…é‡Œé¢çš„å˜é‡å°±æ˜¯æˆ‘ä»¬éœ€è¦çš„å˜é‡ï¼Œä¸èƒ½è¯´æ˜¯å†…å­˜æ³„éœ²ã€‚</p>
<blockquote>
<p>è¿™ä¸ªè¯¯è§£æ˜¯å¦‚ä½•æ¥çš„ï¼Ÿå› ä¸º IEã€‚IE æœ‰ bugï¼ŒIE åœ¨æˆ‘ä»¬ä½¿ç”¨å®Œé—­åŒ…ä¹‹åï¼Œä¾ç„¶å›æ”¶ä¸äº†é—­åŒ…é‡Œé¢å¼•ç”¨çš„å˜é‡ã€‚è¿™æ˜¯ IE çš„é—®é¢˜ï¼Œä¸æ˜¯é—­åŒ…çš„é—®é¢˜ã€‚å‚è€ƒè¿™ç¯‡æ–‡ç« </p>
</blockquote>
<h1 id="é¢è¯•é¢˜4ï¼šweakMap-weakSet-å’Œ-Map-Set-æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"><a href="#é¢è¯•é¢˜4ï¼šweakMap-weakSet-å’Œ-Map-Set-æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ" class="headerlink" title="é¢è¯•é¢˜4ï¼šweakMap weakSet å’Œ Map Set æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"></a>é¢è¯•é¢˜4ï¼š<code>weakMap</code> <code>weakSet</code> å’Œ <code>Map</code> <code>Set</code> æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h1><p>åœ¨ ES6 ä¸­ä¸ºæˆ‘ä»¬æ–°å¢äº†ä¸¤ä¸ªæ•°æ®ç»“æ„ WeakMapã€WeakSetï¼Œå°±æ˜¯ä¸ºäº†è§£å†³å†…å­˜æ³„æ¼çš„é—®é¢˜ã€‚</p>
<p>å®ƒçš„é”®åæ‰€å¼•ç”¨çš„å¯¹è±¡éƒ½æ˜¯å¼±å¼•ç”¨ï¼Œå°±æ˜¯åƒåœ¾å›æ”¶æœºåˆ¶éå†çš„æ—¶å€™ä¸è€ƒè™‘è¯¥å¼•ç”¨ã€‚</p>
<p>åªè¦æ‰€å¼•ç”¨çš„å¯¹è±¡çš„å…¶ä»–å¼•ç”¨éƒ½è¢«æ¸…é™¤ï¼Œåƒåœ¾å›æ”¶æœºåˆ¶å°±ä¼šé‡Šæ”¾è¯¥å¯¹è±¡æ‰€å ç”¨çš„å†…å­˜ã€‚</p>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸€æ—¦ä¸å†éœ€è¦ï¼ŒWeakMap é‡Œé¢çš„é”®åå¯¹è±¡å’Œæ‰€å¯¹åº”çš„é”®å€¼å¯¹ä¼šè‡ªåŠ¨æ¶ˆå¤±ï¼Œä¸ç”¨æ‰‹åŠ¨åˆ é™¤å¼•ç”¨ã€‚</p>
<p>æ›´å…¨é¢çš„ä»‹ç»å¯ä»¥çœ‹è¿™é‡Œï¼šç¬¬ 4 é¢˜ï¼šä»‹ç»ä¸‹ Setã€Mapã€WeakSet å’Œ WeakMap çš„åŒºåˆ«</p>
]]></content>
      <categories>
        <category>æµè§ˆå™¨å›æ”¶åƒåœ¾</category>
      </categories>
      <tags>
        <tag>æµè§ˆå™¨å›æ”¶åƒåœ¾</tag>
      </tags>
  </entry>
  <entry>
    <title>æµè§ˆå™¨æ¸²æŸ“åŸºæœ¬åŸç†</title>
    <url>/2020/07/30/%E6%B5%8F%E8%A7%88%E5%99%A8%E6%B8%B2%E6%9F%93%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86/</url>
    <content><![CDATA[<p><a href="https://mp.weixin.qq.com/s/k9N4R779RPrE_zB8xmna4A" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/k9N4R779RPrE_zB8xmna4A</a></p>
<p><a href="https://wenku.baidu.com/view/43f6de6f846a561252d380eb6294dd88d1d23d06.html" target="_blank" rel="noopener">https://wenku.baidu.com/view/43f6de6f846a561252d380eb6294dd88d1d23d06.html</a></p>
<p><img src="http://note.youdao.com/yws/res/4277/AB6FE614A7284DA09E42D70C34CB2779" alt="img"></p>
<p><img src="http://note.youdao.com/yws/res/4276/0895E95CD6B94F388805B4003B303ECF" alt="img"></p>
<p><img src="http://note.youdao.com/yws/res/4255/EE222C21922A4A99AEF1FAEABBB44B30" alt="img"></p>
<p><img src="http://note.youdao.com/yws/res/4282/995D42C84F7A44ECB44BAE0D6D70B660" alt="img"></p>
<p><img src="http://note.youdao.com/yws/res/4268/C1BED60D28E5444EA00850BB2ED7E4B3" alt="img"></p>
<p><img src="http://note.youdao.com/yws/res/4275/AFCEE7C8A8CE4379AFC0A90500F5D7EC" alt="img"></p>
<p><img src="http://note.youdao.com/yws/res/4261/75DA24369E3C47EB9BB435A28C00BD4A" alt="img"></p>
<p><img src="http://note.youdao.com/yws/res/4270/960E57F755BE41D980B26965553FBE05" alt="img"></p>
<p><img src="http://note.youdao.com/yws/res/4271/7A5A0D1E6D514F90903FC2FC8B4889CF" alt="img"></p>
<p><img src="http://note.youdao.com/yws/res/4274/90F32D72F8154097A71448DB627058AE" alt="img"></p>
<p><img src="http://note.youdao.com/yws/res/4252/8CDAF1667E844A03943CCCDB8A8383D4" alt="img"></p>
<p><img src="http://note.youdao.com/yws/res/4281/1E90E3AE969641F998B15E076DEBAD81" alt="img"></p>
<p><img src="http://note.youdao.com/yws/res/4260/22EB87EF0AFA45A5AA9D792F6C918C68" alt="img"></p>
<p><img src="http://note.youdao.com/yws/res/4279/5BAAE640B2D845969886053DB2D7F44C" alt="img"></p>
<p><img src="http://note.youdao.com/yws/res/4283/D9F09BD217474E1A9F2D41FD70CBDDC2" alt="img"></p>
<p><img src="http://note.youdao.com/yws/res/4269/C2F8519F8FC041409A5DE68752133C42" alt="img"></p>
<p><img src="http://note.youdao.com/yws/res/4278/BF3A766456E04571815F922E763FA8C7" alt="img"></p>
<p><img src="http://note.youdao.com/yws/res/4284/234DB30344EF41AFA054D705F2836BD3" alt="img"></p>
<p><img src="http://note.youdao.com/yws/res/4280/A3BD42A40E534E36A96A733A5D9DFB77" alt="img"></p>
<p><img src="http://note.youdao.com/yws/res/4264/EB73BB8AE59948C88C564B6FFA89C2F8" alt="img"></p>
<p><img src="http://note.youdao.com/yws/res/4263/2D6AABD6340148AF93879F5CD66194F4" alt="img"></p>
<p><img src="http://note.youdao.com/yws/res/4265/04C3B07C45E1484B8D011C23E3C853BE" alt="img"></p>
<p><img src="http://note.youdao.com/yws/res/4257/F520A8FD508D431DA0863483527347B0" alt="img"></p>
<p><img src="http://note.youdao.com/yws/res/4258/B6A63060475542D2A12FE924DBCDB047" alt="img"></p>
<p><img src="http://note.youdao.com/yws/res/4272/8929B48A70304679A1476FA0A36FF402" alt="img"></p>
<p><img src="http://note.youdao.com/yws/res/4253/B0BCF84D012748B891CB75EF92917157" alt="img"></p>
<p><img src="http://note.youdao.com/yws/res/4273/A530722F60924E02AB99E64C65EFF057" alt="img"></p>
<p><img src="http://note.youdao.com/yws/res/4254/635131C32ED9491C896179DEC9038CD1" alt="img"></p>
<p><img src="http://note.youdao.com/yws/res/4262/7C8B2221AE1B4B1693B079614BBBDE29" alt="img"></p>
<p><img src="http://note.youdao.com/yws/res/4256/D1EBFEBA4F334306A7A7659743837626" alt="img"></p>
<p><img src="http://note.youdao.com/yws/res/4266/51CA35C897744305AEDEBBDEFDE5B0DB" alt="img"></p>
<p><img src="http://note.youdao.com/yws/res/4267/2522117618C54535A56381480FB2A4B6" alt="img"></p>
<p><img src="http://note.youdao.com/yws/res/4259/DDAC63C11C574212A0C600F2120CED6B" alt="img"></p>
<p>æ›´å¤š <a href="https://mp.weixin.qq.com/s/k9N4R779RPrE_zB8xmna4A" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/k9N4R779RPrE_zB8xmna4A</a></p>
<p>å‚è€ƒé“¾æ¥ <a href="https://wenku.baidu.com/view/43f6de6f846a561252d380eb6294dd88d1d23d06.html" target="_blank" rel="noopener">https://wenku.baidu.com/view/43f6de6f846a561252d380eb6294dd88d1d23d06.html</a></p>
]]></content>
      <categories>
        <category>æµè§ˆå™¨æ¸²æŸ“</category>
      </categories>
      <tags>
        <tag>æµè§ˆå™¨æ¸²æŸ“</tag>
      </tags>
  </entry>
  <entry>
    <title>åº”ç”¨æ€§èƒ½ä¼˜åŒ–å®è·µ</title>
    <url>/2021/02/02/%E7%88%B1%E5%A5%87%E8%89%BA%E5%89%8D%E7%AB%AF%E5%BA%94%E7%94%A8%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E5%AE%9E%E8%B7%B5/</url>
    <content><![CDATA[<p><strong>é—®é¢˜æ¢³ç†</strong></p>
<p>å‚è€ƒé“¾æ¥</p>
<p><a href="https://mp.weixin.qq.com/s/H88469QNdE-IChc8u-pBaQ" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/H88469QNdE-IChc8u-pBaQ</a></p>
<p>æˆ‘ä»¬å…ˆé€šè¿‡æé—®é¢˜çš„æ–¹å¼ï¼Œä»<strong>èµ„æºæ–‡ä»¶åŠ è½½ã€é¡µé¢æ¸²æŸ“æ€§èƒ½ã€æ¥å£å“åº”é€Ÿåº¦</strong>ç­‰ä¸‰ä¸ªæ–¹é¢åˆ†åˆ«åˆ—å‡ºäº†ä¸€äº›å¯èƒ½å­˜åœ¨æ€§èƒ½ç“¶é¢ˆçš„ç¯èŠ‚ã€‚</p>
<a id="more"></a>

<p><strong>èµ„æºåŠ è½½é—®é¢˜</strong></p>
<p>åœ¨ä¸€ä¸ªå¤æ‚çš„ Web åº”ç”¨ä¸­ï¼Œé€šå¸¸ä¼šä¾èµ–å¾ˆå¤š JS/CSS/Images ç­‰èµ„æºæ–‡ä»¶ã€‚å¦‚ä½•åœ¨æœ€çŸ­æ—¶é—´å†…è·å–é¡µé¢æ‰€éœ€çš„æœ€å°èµ„æºï¼Œæˆ‘ä»¬éœ€è¦è€ƒè™‘ä»¥ä¸‹å‡ ä¸ªé—®é¢˜ï¼š</p>
<ul>
<li><p>æºç ä¸­æœ‰æ— <strong>å†—ä½™çš„æ¨¡å—</strong>ï¼Ÿæ˜¯å¦è¿›è¡Œäº†<strong>å‹ç¼©ã€åˆå¹¶</strong>ç­‰æ“ä½œï¼Ÿ</p>
</li>
<li><p>æœåŠ¡å™¨å“åº”åŠç½‘ç»œä¼ è¾“é€Ÿåº¦æ˜¯å¦æ­£å¸¸ï¼Ÿæœ‰æ²¡æœ‰æœ€å¤§åŒ–åˆ©ç”¨æµè§ˆå™¨çš„å¹¶å‘è¯·æ±‚ï¼Ÿ</p>
</li>
<li><p>èµ„æºæ–‡ä»¶çš„ç¼“å­˜ç­–ç•¥æ˜¯å¦åˆç†ï¼Ÿæ˜¯å¦æ¯æ¬¡å‘å¸ƒä¸Šçº¿éƒ½éœ€è¦é‡æ–°è¯·æ±‚æ‰€æœ‰æ–‡ä»¶ï¼Ÿ</p>
</li>
<li><p>é¦–æ¬¡é¡µé¢æ¸²æŸ“æ˜¯å¦ä¸‹è½½äº†ä¸å¿…è¦çš„èµ„æºæ–‡ä»¶ï¼Ÿæ¯æ¬¡æ¸²æŸ“æ‰€éœ€çš„èµ„æºæ–‡ä»¶èƒ½ä¸èƒ½æå‰åŠ è½½ï¼Ÿ</p>
</li>
</ul>
<p><strong>é¡µé¢æ¸²æŸ“é—®é¢˜</strong></p>
<p>ç”±äº JS æ˜¯åœ¨å•çº¿ç¨‹ä¸­æ‰§è¡Œï¼Œè€Œ Vue.js æ¡†æ¶çš„å¤§éƒ¨åˆ†æ¸²æŸ“ä»»åŠ¡éƒ½åœ¨æµè§ˆå™¨ç«¯å®Œæˆã€‚ä¸ºäº†è§£å†³ç™½å±ã€å¡é¡¿ç­‰é—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦è€ƒè™‘ä»¥ä¸‹å‡ ä¸ªé—®é¢˜ï¼š</p>
<ul>
<li><p>æ˜¯å¦å¯ä»¥é€šè¿‡éª¨æ¶å±ç­‰æ–¹å¼æå‰æ¸²æŸ“æ ¸å¿ƒå¸ƒå±€ï¼Ÿ</p>
</li>
<li><p>ä¸»çº¿ç¨‹æ˜¯å¦å­˜åœ¨éå¸¸è€—æ—¶çš„é•¿ä»»åŠ¡ï¼Ÿæ˜¯å¦å¯ä»¥è¿›è¡Œä»»åŠ¡åˆ†ç‰‡ã€å»¶è¿Ÿæ¸²æŸ“ï¼Ÿ</p>
</li>
<li><p>æ˜¯å¦å­˜åœ¨æ—¶é—´å¤æ‚åº¦è¿‡é«˜çš„ç®—æ³•ï¼Ÿæ˜¯å¦å­˜åœ¨å¤§é‡é‡å¤è®¡ç®—ï¼Ÿ</p>
</li>
<li><p>æ˜¯å¦é‡å¤åˆå§‹åŒ–ç›¸åŒçš„å¯¹è±¡ï¼Ÿæ˜¯å¦å­˜åœ¨å†…å­˜æ³„éœ²ï¼Ÿ</p>
</li>
</ul>
<p><strong>æ¥å£é€Ÿåº¦é—®é¢˜</strong></p>
<p>åœ¨åˆ—è¡¨æŸ¥è¯¢ç­‰ä¾èµ–åå°æ•°æ®å±•ç¤ºçš„é¡µé¢ï¼Œæ¥å£çš„å“åº”é€Ÿåº¦ä¹Ÿè‡³å…³é‡è¦ã€‚ç”±äºæˆ‘ä»¬é€šè¿‡ Node.js æ­å»ºçš„ BFF æ¥æ•´åˆå¤šä¸ªæœåŠ¡æä¾›æ–¹çš„æ¥å£ï¼Œå› æ­¤å¯èƒ½å­˜åœ¨ä»¥ä¸‹å‡ ä¸ªé—®é¢˜ï¼š</p>
<ul>
<li><p>åç«¯æœåŠ¡æä¾›çš„æ¥å£é€Ÿåº¦æ˜¯å¦å“åº”æ…¢ï¼Ÿç½‘å…³ã€æ•°æ®åº“ã€ç´¢å¼•ç­‰æœåŠ¡æ˜¯å¦æ­£å¸¸ï¼Ÿ</p>
</li>
<li><p>é’ˆå¯¹å®æ—¶æ€§è¦æ±‚è¾ƒä½çš„æ•°æ®ï¼Œæ˜¯å¦å¯ä»¥åˆ©ç”¨ç¼“å­˜æœåŠ¡ï¼Ÿ</p>
</li>
<li><p>åŒæ—¶è°ƒç”¨å¤šæ–¹æ¥å£æ—¶ï¼Œæ˜¯å¦æœ€å¤§åŒ–è¿›è¡Œå¹¶å‘è¯·æ±‚ï¼Ÿéå¿…è¦æ¥å£æ˜¯å¦å¯ä»¥å•ç‹¬å‘èµ·è¯·æ±‚ï¼Ÿ</p>
</li>
<li><p>ä¸æµè§ˆå™¨è„šæœ¬ä¸€æ ·ï¼Œæ˜¯å¦å­˜åœ¨å¤æ‚ç®—æ³•ã€å†…å­˜æ³„éœ²ç­‰é—®é¢˜ä»£ç ï¼Ÿ</p>
</li>
</ul>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong></p>
<p>å¸¦ç€ä»¥ä¸Šçš„è¿™äº›é—®é¢˜ï¼Œæˆ‘ä»¬å¼€å§‹ç€æ‰‹å¯¹ç°æœ‰çš„åº”ç”¨è¿›è¡Œä¸€æ¬¡è¯¦ç»†çš„æ£€æŸ¥ï¼Œé€æ­¥å®šä½å½±å“æ€§èƒ½çš„å…³é”®é—®é¢˜å¹¶ä¸€ä¸€è¿›è¡Œè§£å†³ã€‚</p>
<p><strong>èµ„æºåŠ è½½ä¼˜åŒ–</strong></p>
<p>Webpack æ„å»ºé—®é¢˜åˆ†æ</p>
<p>ç”±äºæˆ‘ä»¬çš„é¡¹ç›®é€šè¿‡ Webpack 4.x æ„å»ºï¼Œå› æ­¤ä¸ºäº†åˆ†æèµ„æºæ–‡ä»¶çš„ä¸ªæ•°åŠå¤§å°ï¼Œé‡‡ç”¨äº† Webpack æ’ä»¶webpack-bundle-analyzerå¯¹äº§å‡ºçš„é™æ€èµ„æºæ–‡ä»¶è¿›è¡Œäº†ç»Ÿè®¡ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼ˆæˆªå–äº†å‡ ä¸ªä½“ç§¯è¾ƒå¤§çš„æ–‡ä»¶ï¼‰ã€‚</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/unymlvueOvtoF6a4RQzicPDXuV98FRlHo3ib1rbSPHaKNjVADB3qUg8kAJwOfl1HiaiaMWKAcwCtnPfV9pYNrf5AMg/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="å›¾ç‰‡"></p>
<p>æ ¹æ®ç»Ÿè®¡æˆ‘ä»¬å‘ç°äº†ä»¥ä¸‹å‡ ä¸ªä¸»è¦é—®é¢˜ï¼š</p>
<ul>
<li><p>ç¼“å­˜é—®é¢˜ã€‚æ¯æ¬¡æ”¹åŠ¨ä»»æ„ä»£ç ï¼Œæ‰€æœ‰ç”Ÿæˆçš„ JS/CSS ç­‰æ–‡ä»¶çš„ Hash å€¼éƒ½å‘ç”Ÿäº†å˜åŒ–ï¼Œè¿™æ„å‘³ç€æ¯æ¬¡å‘å¸ƒä¸Šçº¿ï¼Œæµè§ˆå™¨éƒ½éœ€è¦é‡æ–°è¯·æ±‚å…¨éƒ¨èµ„æºã€‚</p>
</li>
<li><p>æ–‡ä»¶å¤§å°ã€‚é€šè¿‡ node_modules ç”Ÿæˆçš„ chunk-vendor åŸå§‹å¤§å°è¶…è¿‡ 1.5 Mã€‚å…¶ä¸­ï¼Œä½“ç§¯æœ€å¤§çš„æ˜¯ ElementUIï¼Œè¶…è¿‡ 650Kï¼Œå…¶æ¬¡æ˜¯ moment.jsï¼Œä½“ç§¯è¶…è¿‡ 250Kã€‚å‰©ä½™éƒ¨åˆ†åˆ™ç”± Vue.jsã€Lodash ç­‰åŸºç¡€ç±»åº“ç»„æˆã€‚</p>
</li>
<li><p>é‡å¤æ‰“åŒ…ã€‚éƒ¨åˆ†ä¸šåŠ¡æ¨¡å—å¯¹åº”çš„ chunk æ–‡ä»¶åŸå§‹å¤§å°åœ¨ 500K å·¦å³ã€‚å…¶åŸå› æ˜¯ä½¿ç”¨åˆ°äº† d3ï¼Œecharts ç­‰ä¾èµ–çš„æ¨¡å—ï¼Œç›´æ¥å°†å®ƒä»¬æ‰“åŒ…åˆ°äº†å¯¹åº”æ¨¡å—ä¸­ã€‚è€Œè¿™äº›ç¬¬ä¸‰æ–¹åº“ï¼Œå æ•´ä¸ªæ–‡ä»¶å¤§å°çš„ 70% å·¦å³ã€‚</p>
</li>
<li><p>èµ„æºä¸ªæ•°ã€‚ç”± Webpack è‡ªåŠ¨ç”Ÿæˆäº†å¤šä¸ªæ¨¡å—é—´çš„å…¬å…± chunkï¼Œå¤§å°åœ¨å‡  K åˆ°ä¸€ç™¾å¤š K ä¸ç­‰ã€‚ä¾‹å¦‚æœ‰ä¸‰ä¸ªæ¨¡å— aï¼Œbï¼Œcï¼Œåˆ™è‡ªåŠ¨ç”Ÿæˆçš„ chunk åŒ…å«å¤šç§ä¸åŒçš„ç»„åˆ a<del>b.jsï¼Œa</del>c.jsï¼Œa<del>b</del>c.jsï¼Œè¯·æ±‚ a æ¨¡å—çš„æ—¶å€™ä¹Ÿä¼šåŒæ­¥åŠ è½½è¿™å‡ ä¸ªæ–‡ä»¶ã€‚éšç€æ¨¡å—æ•°é‡å¢åŠ ï¼Œç»„åˆä¹Ÿæ›´å¤æ‚ï¼Œæ— å½¢ä¸­ä¹Ÿå¢åŠ äº†è¯·æ±‚çš„æ•°é‡ã€‚</p>
</li>
</ul>
<p>æµè§ˆå™¨åŠ è½½é€Ÿåº¦åˆ†æ</p>
<p>é€šè¿‡æµè§ˆå™¨ Network å·¥å…·ï¼Œæˆ‘ä»¬å‘ç°æœåŠ¡å™¨ç¼“å­˜ã€ç½‘ç»œä¼ è¾“ç­‰å¯¹åŠ è½½é€Ÿåº¦å½±å“å¾ˆå°ï¼Œå¯¼è‡´æ…¢çš„å‡ ä¸ªä¸»è¦é—®é¢˜å¦‚ä¸‹ï¼š</p>
<ul>
<li><p>å¹¶å‘æ•°é‡ã€‚é€šè¿‡æ„å»ºå¾—åˆ°çš„é™æ€èµ„æºæ–‡ä»¶éƒ½éƒ¨ç½²åˆ°ä¸€ä¸ªé™æ€åŸŸåä¸‹é¢ï¼Œå¯¼è‡´éœ€è¦æ’é˜Ÿä¸‹è½½æ–‡ä»¶ã€‚</p>
</li>
<li><p>é¡ºåºé—®é¢˜ã€‚ä¸€äº›éé¦–æ¬¡æ¸²æŸ“æ‰€éœ€è¦çš„ JS æ–‡ä»¶ï¼ˆå¦‚æ’­æ”¾å™¨ SDK ã€æµç¨‹å›¾ SDK ç­‰ï¼‰åœ¨é¡µé¢æ‰“å¼€çš„æ—¶å€™å°±è¿›è¡Œäº†é˜»å¡åŠ è½½ã€‚</p>
</li>
</ul>
<p>èµ„æºæ„å»ºåŠéƒ¨ç½²ä¼˜åŒ–æ–¹æ¡ˆ</p>
<p>é’ˆå¯¹ä»¥ä¸Šé—®é¢˜ï¼Œæˆ‘ä»¬å¯¹ Webpack é…ç½®æ–¹å¼åšäº†ä»¥ä¸‹å‡ ç‚¹æ”¹è¿›ã€‚</p>
<ul>
<li><p>å•ç‹¬éƒ¨ç½²åŸºç¡€åº“è‡³ CDNã€‚ç”Ÿäº§ç¯å¢ƒå°† Vue.js + VueRouter + Vuex + VueCompositionAPI + ElementUI + Lodash ç­‰åŸºç¡€ç±»åº“é€šè¿‡ webpack.DllPlugin æå‰æ„å»ºä¸º library.dll.js å¹¶å•ç‹¬éƒ¨ç½²ï¼ŒåŒæ—¶æ•´ä¸ªç«™ç‚¹ä¸­é€šè¿‡ prefetch æå‰åŠ è½½ã€‚</p>
</li>
<li><p>å•ç‹¬éƒ¨ç½²æ ·å¼ä¸»é¢˜è‡³ CDNã€‚é¡¹ç›®ä¸­ç”¨åˆ°çš„ ElementUI ç»„ä»¶æ ·å¼åŠå›¢é˜Ÿå†…éƒ¨å¼€å‘çš„ MaterialTheme ä¸»é¢˜æ ·å¼æ”¾å¼ƒä» NPM å¼•å…¥ Sass æºç ã€‚è€Œæ˜¯æå‰æ„å»ºå¥½ 9 ç§ä¸åŒé¢œè‰²çš„ä¸»é¢˜ï¼Œæå‰éƒ¨ç½²è‡³ CDNï¼Œå¹¶é€šè¿‡ prefetch æå‰åŠ è½½ã€‚é¡¹ç›®ä¸­çš„è‡ªå®šä¹‰æ ·å¼åˆ™é€šè¿‡ Sass Mixin ç”Ÿæˆä¸åŒä¸»é¢˜çš„è§„åˆ™ã€‚</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;link</span><br><span class="line">  href&#x3D;&quot;&#x2F;&#x2F;static.iqiyi.com&#x2F;lego&#x2F;theme&#x2F;element-ui&#x2F;1.0.0&#x2F;css&#x2F;cyan.css&quot;</span><br><span class="line">  rel&#x3D;&quot;prefetch&quot;</span><br><span class="line">&#x2F;&gt;</span><br><span class="line">&lt;link</span><br><span class="line">  href&#x3D;&quot;&#x2F;&#x2F;static.iqiyi.com&#x2F;lego&#x2F;theme&#x2F;element-material&#x2F;2.0.0&#x2F;css&#x2F;cyan.css&quot;</span><br><span class="line">  rel&#x3D;&quot;prefetch&quot;</span><br><span class="line">&#x2F;&gt;</span><br></pre></td></tr></table></figure>



<ul>
<li><p>å°†ä¸šåŠ¡ä»£ç éƒ¨ç½²è‡³ä¸åŸºç¡€åº“ä¸åŒçš„åŸŸåã€‚æå‡æµè§ˆå™¨å¹¶å‘è¯·æ±‚çš„æ•°é‡ã€‚</p>
</li>
<li><p>å°†æ’­æ”¾å™¨ SDKã€æµç¨‹å›¾ SDK ç­‰éé¦–æ¬¡æ¸²æŸ“å¿…é¡»çš„ JS æ–‡ä»¶é€šè¿‡ defer ç­‰æ–¹å¼è¿›è¡Œå¼‚æ­¥åŠ è½½ï¼Œæˆ–æ”¹ä¸ºç»„ä»¶åˆå§‹åŒ–æ—¶åŠ¨æ€è¯·æ±‚ã€‚</p>
</li>
<li><p>åˆ é™¤ moment.js ç­‰éå¿…é¡»çš„ç¬¬ä¸‰æ–¹ç±»åº“ã€‚é€šè¿‡æŸ¥çœ‹é¡¹ç›®æºç ï¼Œå‘ç°ä»…å‡ ä¸ªåœ°æ–¹ç”¨åˆ°äº† moment.js çš„æ ¼å¼åŒ–åŠŸèƒ½ï¼Œå› æ­¤æˆ‘ä»¬é€‰æ‹©é€šè¿‡è‡ªå·±å®ç°ä¸€ä¸ªä»…å‡ åè¡Œçš„å·¥å…·å‡½æ•°æ¥æ›¿æ¢ã€‚æ­¤å¤–æ ¹æ®é¡¹ç›®å®é™…æƒ…å†µï¼Œä¹Ÿå¯ä»¥è€ƒè™‘åœ¨é¡¹ç›®ä¸­å¼•å…¥ä½“ç§¯æ›´å°çš„ç±»åº“ï¼Œä¾‹å¦‚ Day.js ç­‰ã€‚</p>
</li>
<li><p>ä¼˜åŒ– Webpack çš„ splitChunks ç­–ç•¥ã€‚å°† d3ï¼Œecharts ç­‰ä¾èµ–æŠ½å–ä¸ºå•ç‹¬çš„ chunkã€‚æ­¤å¤–ï¼Œè€ƒè™‘åˆ°ä¸åŒæ¨¡å—ä¹‹é—´è‡ªåŠ¨ç”Ÿæˆçš„å…¬å…± chunkï¼ˆç±»ä¼¼ a<del>b</del>c.jsï¼‰æ–‡ä»¶ä¸å¤§ï¼Œåè€Œå¢åŠ äº†è¯·æ±‚æ•°é‡ï¼Œå› æ­¤ç¦ç”¨äº†è¯¥é¡¹é…ç½®ã€‚åŒæ—¶ï¼Œæ˜¾ç¤ºåœ°å°†å„æ¨¡å—é—´å…¬å…±çš„éƒ¨åˆ†ï¼ˆé¡¹ç›®ä¸­ç»Ÿä¸€æ”¾åœ¨ src/common ç›®å½•ä¸‹ï¼‰æ‰“åŒ…è‡³ chunk-common æ–‡ä»¶ä¸­ã€‚</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; webpack config</span><br><span class="line">&#123;</span><br><span class="line">  optimization: &#123;</span><br><span class="line">    splitChunks: &#123;</span><br><span class="line">      cacheGroups: &#123;</span><br><span class="line">        &#x2F;&#x2F; ç¦ç”¨é»˜è®¤æ‹†åˆ†çš„ chunk</span><br><span class="line">        default: false,</span><br><span class="line">        &#x2F;&#x2F; æ˜¾ç¤ºæŠ½å–é¡¹ç›®å…¬å…± chunk</span><br><span class="line">        common: &#123;</span><br><span class="line">          name: &#39;chunk-common&#39;,</span><br><span class="line">          test: &#x2F;src[\\&#x2F;]common&#x2F;,</span><br><span class="line">          chunks: &#39;all&#39;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#x2F;&#x2F; æŠ½å– d3&#x2F;echarts ç­‰ç¬¬ä¸‰æ–¹ç±»åº“</span><br><span class="line">        d3: &#123;</span><br><span class="line">          name: &#39;chunk-d3&#39;,</span><br><span class="line">          test: &#x2F;[\\&#x2F;]node_modules[\\&#x2F;](d3|dagre|graphlib)&#x2F;,</span><br><span class="line">          priority: 100,</span><br><span class="line">          chunks: &#39;all&#39;</span><br><span class="line">        &#125;,</span><br><span class="line">        echarts: &#123;</span><br><span class="line">          name: &#39;chunk-echarts&#39;,</span><br><span class="line">          test: &#x2F;[\\&#x2F;]node_modules[\\&#x2F;](echarts|zrender)&#x2F;,</span><br><span class="line">          priority: 110,</span><br><span class="line">          chunks: &#39;all&#39;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<ul>
<li>ä¼˜åŒ–æ„å»ºåæ–‡ä»¶åä¸­çš„Hashã€‚åœ¨ç”Ÿäº§ç¯å¢ƒæ”¹ç”¨ contenthash æ¥å‘½åæ–‡ä»¶ï¼Œä»…å½“åŒ…å«çš„æ–‡ä»¶å†…å®¹å‘ç”Ÿæ”¹å˜æ—¶æ‰ä¼šé‡æ–°ç”Ÿæˆæ–°çš„æ–‡ä»¶åï¼Œæœ€å¤§åŒ–åˆ©ç”¨ç¼“å­˜ã€‚</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; webpack config</span><br><span class="line">&#123;</span><br><span class="line">  output: &#123;</span><br><span class="line">    filename: &#39;js&#x2F;[name].[contenthash].js&#39;,</span><br><span class="line">    chunkFilename: &#39;js&#x2F;[name].[contenthash].js&#39;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç»è¿‡ä»¥ä¸Šä¼˜åŒ–ï¼Œæœ€ç»ˆæ„å»ºçš„ chunk-vendor å¤§å°åœ¨ 500K å·¦å³ï¼Œä½“ç§¯å¤§çº¦å‡å° 2/3ï¼›æ–°æŠ½å–çš„é¡¹ç›®å…¬å…±æ–‡ä»¶ chunk-common å¤§å° 300K å·¦å³ï¼›å„ä¸ªæ¨¡å—æ‰“åŒ…çš„æ–‡ä»¶å¤§å°åˆ™åœ¨ 200K å·¦å³ï¼Œ ä½“ç§¯å¤§çº¦å‡å° 3/5ã€‚åŒæ—¶ï¼Œç»“åˆ CDN éƒ¨ç½²åŸºç¡€ç±»åº“ï¼Œprefetch é¢„åŠ è½½åŠ contenthash ç¼“å­˜æ§åˆ¶ç­‰ï¼Œèµ„æºåŠ è½½çš„é€Ÿåº¦å¤§å¹…åº¦æå‡ã€‚</p>
<p><strong>é¡µé¢æ¸²æŸ“ä¼˜åŒ–</strong></p>
<p>è€ƒè™‘åˆ°ä¸šåŠ¡åœºæ™¯åŠå¼€å‘æˆæœ¬ï¼Œæ–°ç‰ˆæœ¬çš„å‰ç«¯åº”ç”¨å¹¶æ²¡æœ‰å®ç°æœåŠ¡å™¨ç«¯æ¸²æŸ“ï¼Œå­˜åœ¨ç€è¾ƒé•¿çš„ç™½å±æ—¶é—´ã€‚è€Œè€ç‰ˆæœ¬åˆ™é€šè¿‡ Java + Velocity åœ¨æœåŠ¡å™¨ç«¯å®Œæˆæ¸²æŸ“ï¼Œä¸¤ç›¸å¯¹æ¯”ï¼Œç”¨æˆ·ä½“éªŒç›¸å·®ç”šå¤šã€‚</p>
<p>æµè§ˆå™¨æ¸²æŸ“æ€§èƒ½åˆ†æ</p>
<p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬é€šè¿‡ Chrome Performance å¯¹é¡µé¢çš„æ¸²æŸ“æ€§èƒ½è¿›è¡Œäº†å®Œæ•´çš„åˆ†æã€‚</p>
<p>ç”±äºç”Ÿäº§ç¯å¢ƒä»£ç å·²ç»å‹ç¼©ï¼Œè¿™é‡Œå»ºè®®åœ¨å¼€å‘ç¯å¢ƒå½•åˆ¶ Profileï¼Œå¯ä»¥ç›´æ¥å®šä½åˆ°ç›¸å…³æºç ã€‚å½•åˆ¶åçš„æ—¶é—´çº¿å±•ç¤ºå‚è§ä¸‹é¢æˆªå›¾ã€‚</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/unymlvueOvtoF6a4RQzicPDXuV98FRlHobdvGb2ITB0DEtaNibKictHjI2a7ByK4LGYhTHawIVkWoqZmFzQEI0Xlw/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="å›¾ç‰‡"></p>
<p>å…¶ä¸­æˆ‘ä»¬éœ€è¦é‡ç‚¹å…³æ³¨çš„å‡ ä¸ªç»´åº¦å¦‚ä¸‹ï¼š</p>
<ul>
<li><p>Framesï¼šæ¸²æŸ“çš„ FPS ä»¥åŠä¸åŒæ—¶é—´ç‚¹çš„æ¸²æŸ“ç»“æœã€‚</p>
</li>
<li><p>Mainï¼šæ¸²æŸ“ä¸»çº¿ç¨‹ï¼ŒåŒ…æ‹¬ HTML è§£æï¼ŒJavaScript æ‰§è¡Œç­‰ä»»åŠ¡ã€‚</p>
</li>
<li><p>Timingsï¼šåŒ…æ‹¬ FPã€DCLã€FCPã€LCP ç­‰æŒ‡æ ‡ï¼Œä»¥åŠé€šè¿‡ Performance API è®°å½•çš„è¿è¡Œæ—¶é—´ã€‚Vue.js 2.x ä¸­å¯ä»¥é€šè¿‡ Vue.config.performance = true; å¼€å¯ç»„ä»¶æ€§èƒ½è®°å½•ã€‚ä¸‹å›¾çš„æˆªå›¾å±•ç¤ºäº† Vue.js ç»„ä»¶çš„æ¸²æŸ“è€—æ—¶æƒ…å†µã€‚</p>
</li>
</ul>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/unymlvueOvtoF6a4RQzicPDXuV98FRlHodKRiaWXzP1szQX4owLNcjM1yvQbL4zSPNicBhUs4ibhdZckQKFib0lt8yw/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="å›¾ç‰‡"></p>
<p>ç»è¿‡åˆ†æï¼Œæˆ‘ä»¬å‘ç°ä»¥ä¸‹å‡ ä¸ªä¸»è¦é—®é¢˜ï¼š</p>
<ul>
<li><p>è·¯ç”±æ¿€æ´»åçš„é¦–æ¬¡æ¸²æŸ“ä»»åŠ¡è€—æ—¶ç‰¹åˆ«é•¿ï¼Œå·²ç»è¶…è¿‡äº† 2 ç§’ã€‚å…¶ä¸­ï¼Œç«™ç‚¹å¯¼èˆªã€ä¾§è¾¹æ ç­‰å°±å ç”¨äº†ä¸€åŠä»¥ä¸Šçš„æ—¶é—´ã€‚</p>
</li>
<li><p>å¯¼èˆªç»„ä»¶ä¸­ï¼Œç”¨äºåˆ¤æ–­é“¾æ¥æƒé™çš„ AuthService.hasURIAuth æ–¹æ³•å ç”¨äº† 80% çš„æ—¶é—´ã€‚</p>
</li>
<li><p>åœ¨é€šè¿‡é…ç½®æ¸²æŸ“çš„åŠ¨æ€è¡¨å•é¡µä¸­ï¼Œæ ¸å¿ƒç»„ä»¶ FormBuilder æ¸²æŸ“æ—¶é—´ä¹Ÿåœ¨ 2 ç§’å·¦å³ã€‚</p>
</li>
</ul>
<p>é¡µé¢æ¸²æŸ“æ•´ä½“ä¼˜åŒ–æ–¹æ¡ˆ</p>
<p>é’ˆå¯¹ä»¥ä¸Šé—®é¢˜ï¼Œæˆ‘ä»¬è¿›è¡Œäº†ä»¥ä¸‹å‡ ç‚¹æ”¹è¿›ï¼š</p>
<ul>
<li><p>é€šè¿‡æœåŠ¡å™¨ç«¯æ¸²æŸ“éª¨æ¶å±ï¼ŒåŒ…æ‹¬å¯¼èˆªç­‰é¡µé¢åŸºç¡€å¸ƒå±€ã€‚ä»è§†è§‰æ•ˆæœä¸Šå‡å°‘ç”¨æˆ·çš„å¿ƒç†ç­‰å¾…ã€‚</p>
</li>
<li><p>å‡å°‘é¦–å±æ¸²æŸ“çš„ç»„ä»¶æ•°é‡ã€‚å°†åˆå§‹ä¸ºéšè—çŠ¶æ€çš„å¯¼èˆªäºŒçº§èœå•ã€ç«™ç‚¹ä¾§è¾¹æ ã€åˆ—è¡¨é«˜çº§æœç´¢å¼¹çª—ç­‰ç»„ä»¶é€šè¿‡ webpack æå–è‡³å¼‚æ­¥ chunk ä¸­ï¼Œåœ¨ç”¨æˆ·äº¤äº’æ—¶å†å¼‚æ­¥æ¸²æŸ“ã€‚</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; AppLayout.vue</span><br><span class="line">&#123;</span><br><span class="line">  components: &#123;</span><br><span class="line">    AppDrawer: () &#x3D;&gt;</span><br><span class="line">      import(</span><br><span class="line">        &#x2F;* webpackChunkName: &#39;chunk-async-common&#39; *&#x2F;</span><br><span class="line">        &#39;.&#x2F;AppDrawer&#39;</span><br><span class="line">      ),</span><br><span class="line">    AppHeader</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<ul>
<li><p>ä¼˜åŒ–è€—æ—¶çš„ JavaScript å‡½æ•°ã€‚è¿™ä¸€æ­¥éœ€è¦ç»“åˆå®é™…ä»£ç å®ç°è¿›è¡Œä¼˜åŒ–ï¼Œä»¥ä¸Šé¢æåˆ°çš„æƒé™åˆ¤æ–­æ–¹æ³• AuthService.hasURIAuth ä¸ºä¾‹ï¼Œå…¶ä¸­æœ€çªå‡ºçš„é—®é¢˜å°±æ˜¯å¾ªç¯å†…å‡½æ•°é‡å¤æ‰§è¡Œä»¥åŠæ­£åˆ™è¡¨è¾¾å¼é‡å¤åˆ›å»ºã€‚æˆ‘ä»¬é€šè¿‡ Memoization çš„æ–¹å¼ä¸ºè€—æ—¶å‡½æ•°æ·»åŠ è®°å¿†åŒ–åŠŸèƒ½ï¼Œå½“å‚æ•°ç›¸åŒæ—¶ç›´æ¥è¿”å›è®°å¿†å€¼ï¼›é€šè¿‡ Cache å°†æ­£åˆ™è¡¨è¾¾å¼å®ä¾‹ç¼“å­˜èµ·æ¥ä»¥ä¾¿é‡å¤ä½¿ç”¨ã€‚</p>
</li>
<li><p>å°†æ ¹æ®é…ç½®è¿›è¡Œæ¸²æŸ“çš„åŠ¨æ€è¡¨å• FormBuilder æ‰‹åŠ¨æ‹†åˆ†ä¸ºå¤šä¸ªæ¸²æŸ“ä»»åŠ¡ã€‚ç”±äºä¸šåŠ¡åœºæ™¯çš„å¤æ‚æ€§ï¼Œé€šå¸¸ä¸€ä¸ªè¡¨å•æ‹¥æœ‰ 80 ä½™ä¸ªå­—æ®µã€‚è€Œåœ¨ Vue.js é‡Œé¢ï¼Œä¸€æ¬¡æ•°æ®å˜åŒ–è§¦å‘çš„æ¸²æŸ“ä»»åŠ¡æ˜¯æ— æ³•ç›´æ¥æ‹†åˆ†çš„ã€‚è¿™é‡Œæˆ‘ä»¬é‡‡å–äº†å¦ä¸€ç§æ–¹å¼ï¼Œå°†è¡¨å•é…ç½®æ‹†åˆ†ä¸ºå¤šæ®µï¼Œé¦–æ¬¡æ¸²æŸ“æ—¶ä»…ä¼ é€’ç¬¬ä¸€æ®µé…ç½®ï¼Œç„¶ååœ¨åç»­çš„æ¸²æŸ“å‘¨æœŸä¾æ¬¡å°†é…ç½®æ‹¼æ¥ä¸Šå»ã€‚</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;form-builder :config&#x3D;&quot;formConfig&quot;&gt;&lt;&#x2F;form-builder&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br></pre></td></tr></table></figure>



<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  created() &#123;</span><br><span class="line">    this.getFormConfig().then(() &#x3D;&gt; &#123;</span><br><span class="line">      this.startWork();</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    startWork() &#123;</span><br><span class="line">      const work &#x3D; () &#x3D;&gt; &#123;</span><br><span class="line">        &#x2F;&#x2F; ä»»åŠ¡è°ƒåº¦å™¨</span><br><span class="line">        return scheduler.next(() &#x3D;&gt; &#123;</span><br><span class="line">          &#x2F;&#x2F; é€æ­¥æ‹¼æ¥è¡¨å•é…ç½®</span><br><span class="line">          this.formConfig &#x3D; this.concatNextFormConfig();</span><br><span class="line"></span><br><span class="line">          if (!scheduler.done()) &#123;</span><br><span class="line">            &#x2F;&#x2F; å¾ªç¯æ‰§è¡Œä»»åŠ¡</span><br><span class="line">            work();</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;;</span><br><span class="line">      </span><br><span class="line">      &#x2F;&#x2F; å¯åŠ¨é¦–æ¬¡ä»»åŠ¡</span><br><span class="line">      work();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><strong>æ¥å£é€Ÿåº¦ä¼˜åŒ–</strong></p>
<p>BFF æ€§èƒ½åˆ†æ</p>
<p>ç”±äºä¸šåŠ¡æµç¨‹å¤æ‚ï¼Œå‰ç«¯ä¼šè°ƒç”¨å¤šä¸ªæœåŠ¡æ¥å£ï¼Œå¹¶å¯¹æ•°æ®è¿›è¡ŒäºŒæ¬¡å¤„ç†ï¼Œå› æ­¤ä¸€ç›´ç”±å‰ç«¯æ¥è´Ÿè´£Java Webå±‚(BFF)çš„å¼€å‘ã€‚æœ¬æ¬¡å‡çº§ä¸ºäº†å¼€å‘æ›´ç®€ä¾¿ï¼Œå¼•å…¥äº†åŸºäºTypeScriptçš„NestJSæ¡†æ¶æ›¿æ¢åŸæ¥Spring MVCï¼Œç”±NestJSå°è£…é¢å‘å‰ç«¯çš„æ¥å£ç»™ VueJSåº”ç”¨ã€‚ä¸ºäº†å®šä½å…¶ä¸­æ½œåœ¨çš„æ€§èƒ½é—®é¢˜ï¼Œæˆ‘ä»¬åšäº†ä¸€äº›é€šç”¨çš„æ‰©å±•ï¼š</p>
<ul>
<li><p>ä¸ºæ‰€æœ‰å°è£…çš„æ¥å£æ·»åŠ è‡ªå®šä¹‰ä¸­é—´ä»¶ TimeMiddlewareï¼Œç”¨äºç»Ÿè®¡æ¥å£çš„æ•´ä½“å“åº”é€Ÿåº¦ã€‚</p>
</li>
<li><p>ä¸º axios ç»Ÿä¸€æ·»åŠ  interceptorï¼Œç”¨äºç»Ÿè®¡ BFF è°ƒç”¨ç¬¬ä¸‰æ–¹æ¥å£çš„å“åº”é€Ÿåº¦ã€‚</p>
</li>
</ul>
<p>æœ€åï¼Œé€šè¿‡æ—¥å¿—ã€Apache JMeter ç­‰å·¥å…·å¯¹æ ¸å¿ƒæ¥å£è¿›è¡Œåˆ†æï¼Œæˆ‘ä»¬ä¸»è¦å‘ç°ä»¥ä¸‹å‡ ä¸ªé—®é¢˜ï¼š</p>
<ul>
<li><p>åœ¨å¯¹åƒä¸‡é‡çº§çš„ç´¢å¼•æ•°æ®è¿›è¡Œåˆ†é¡µæŸ¥è¯¢çš„æ¥å£ A ä¸­ï¼Œå½“å‰ ES çš„æŸ¥è¯¢é€Ÿåº¦ä¸ç†æƒ³ï¼Œå¹³å‡è€—æ—¶åœ¨ 2.6 ç§’å·¦å³ã€‚</p>
</li>
<li><p>åœ¨åŒæ—¶è°ƒç”¨å¤šæ–¹æœåŠ¡çš„æ¥å£ B ä¸­ï¼Œå­˜åœ¨ä¸å¿…è¦çš„ä¸²è¡Œã€‚æ­¤å¤–ï¼Œå…¶ä¸­ä¸€ä¸ªæ ‡ç­¾æŸ¥è¯¢æœåŠ¡å¹³å‡è€—æ—¶åœ¨ 700ms å·¦å³ï¼Œæˆä¸ºå½±å“é€Ÿåº¦çš„å…³é”®å› ç´ ã€‚</p>
</li>
<li><p>åœ¨è·å–ç”¨æˆ·ä¿¡æ¯çš„æ¥å£ C ä¸­ï¼Œæœ‰ 20% å·¦å³çš„è¯·æ±‚è€—æ—¶åœ¨ 600ms å·¦å³ï¼Œè€Œå…¶ä»–çš„è¯·æ±‚ä»…è€—æ—¶ 50msã€‚ç»è¿‡å®šä½å‘ç°æ˜¯æœåŠ¡é›†ç¾¤ä¸­æŸå°æœåŠ¡å™¨è·¨åœ°åŒºå¯¼è‡´ã€‚</p>
</li>
<li><p>å¤§éƒ¨åˆ†æ¥å£éƒ½ä¾èµ–äº†ä¸€ä¸ªè·å–é¢‘é“åˆ—è¡¨çš„åŸºç¡€æœåŠ¡ï¼Œå®æ—¶æ€§è¦æ±‚å¾ˆä½ï¼Œç„¶è€Œæ¯æ¬¡éƒ½æ˜¯é€šè¿‡æ¥å£å®æ—¶è·å–ï¼Œè€—æ—¶å¤§çº¦ 50 msã€‚</p>
</li>
<li><p>æ•´ä¸ªåº”ç”¨çš„æ—¥å¿—æœåŠ¡ç»§æ‰¿äº† NestJS çš„ logger.service ï¼Œå®ƒé»˜è®¤æ˜¯é€šè¿‡ process.stdout åŒæ­¥è¾“å‡ºçš„ã€‚å› æ­¤æ—¥å¿—å†…å®¹è¾ƒå¤šæ—¶åœ¨éƒ¨åˆ†æœºå™¨ä¸Šå¼€é”€ä¹Ÿå¾ˆå¤§ï¼Œå¹³å‡è€—æ—¶ 100ms å·¦å³ã€‚</p>
</li>
</ul>
<p>BFF æ•´ä½“ä¼˜åŒ–æ–¹æ¡ˆ</p>
<p>é’ˆå¯¹ä»¥ä¸Šé—®é¢˜ï¼Œæˆ‘ä»¬è¿›è¡Œäº†ä»¥ä¸‹å‡ ç‚¹æ”¹è¿›ï¼š</p>
<ul>
<li><p>åç«¯åŒå­¦ä¼˜åŒ– ES æŸ¥è¯¢æœåŠ¡ï¼Œæ–°å¢å¤šå°ç‰©ç†æœºè¿›è¡Œæ‰©å®¹ã€‚ä¼˜åŒ–åå¹³å‡è€—æ—¶å°äº 1 ç§’ï¼Œé€Ÿåº¦æå‡è¶…è¿‡ 60%ã€‚</p>
</li>
<li><p>åç«¯åŒå­¦ä¸ºæ ‡ç­¾æŸ¥è¯¢æœåŠ¡æ·»åŠ ç¼“å­˜æœºåˆ¶ï¼Œä¼˜åŒ–åå¹³å‡è€—æ—¶ 200ms å·¦å³ï¼Œæ•´ä½“æå‡è¶…è¿‡ 70%ã€‚</p>
</li>
<li><p>ç§»é™¤é›†ç¾¤ä¸­çš„è·¨åœ°åŒºæœåŠ¡å™¨ï¼Œä¿è¯å„æœåŠ¡ä¹‹é—´å°½é‡åœ¨åŒä¸€ä¸ªåœ°åŒºã€æœºæˆ¿ã€‚</p>
</li>
<li><p>å¤§åŒ–åœ°å¹¶è¡Œè¯·æ±‚ï¼Œå‡å°‘è¯·æ±‚è€—æ—¶çš„å…³é”®è·¯å¾„ã€‚ä»¥å…¶ä¸­ä¸€ä¸ªæ¥å£ä¸ºä¾‹ï¼Œä¼˜åŒ–å‰å¹³å‡è€—æ—¶ 1.3 ç§’ï¼Œä¼˜åŒ–åå¹³å‡è€—æ—¶ä»… 700msï¼Œæå‡ 45% å·¦å³ã€‚</p>
</li>
<li><p>å®æ—¶æ€§è¦æ±‚è¾ƒä½çš„æœåŠ¡é€šè¿‡ Redis ç¼“å­˜æŸ¥è¯¢ç»“æœï¼Œä¾‹å¦‚é¢‘é“æŸ¥è¯¢æœåŠ¡ï¼Œå¹³å‡è€—æ—¶ä» 50ms å‡å°‘è‡³ 15msï¼Œæå‡ 70% å·¦å³ã€‚</p>
</li>
<li><p>ç”Ÿäº§ç¯å¢ƒçš„æ—¥å¿—å–æ¶ˆè¾“å‡ºåˆ° process.stdoutï¼Œé€šè¿‡ winston ç­‰æ—¥å¿—æ¡†æ¶å°†å…¶å¼‚æ­¥å†™å…¥è‡³æŒ‡å®šæ–‡ä»¶ä¸­ã€‚</p>
</li>
</ul>
<p><strong>ä¼˜åŒ–åæ•´ä½“æ•ˆæœå±•ç¤º</strong></p>
<p>èµ„æºåŠ è½½é€Ÿåº¦å±•ç¤º</p>
<p>é€šè¿‡å‡å°‘æ–‡ä»¶å¤§å°åŠä¸ªæ•°ã€ç¼“å­˜ã€å¹¶å‘ã€é¢„åŠ è½½ã€æ‡’åŠ è½½ç­‰å„ç§ä¼˜åŒ–ï¼Œè·å–æ ¸å¿ƒèµ„æºæ•´ä½“è€—æ—¶æ§åˆ¶åœ¨ 200ms å·¦å³ã€‚</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/unymlvueOvtoF6a4RQzicPDXuV98FRlHoXlpCKz9mRuRtQJXYaPp0KXqkJe384kib3b9tIn7NHjtBibZTV9TtPk3Q/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="å›¾ç‰‡"></p>
<p>é¦–æ¬¡åŠ è½½ä¸»é¢˜æ ·å¼ä¸åˆ‡æ¢ä¸»é¢˜ç¤ºä¾‹ï¼ˆPrefetchï¼‰</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/unymlvueOvtoF6a4RQzicPDXuV98FRlHoEKXz9y6ZWTGYjMZLr78Obd4TcoITge2NfI7cAoXSU3JiaX5vvqHeZsg/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="å›¾ç‰‡"></p>
<p>å¼‚æ­¥åŠ è½½è·¯ç”±åŠç»„ä»¶ç¤ºä¾‹ï¼ˆPrefetchï¼‰</p>
<p>é¡µé¢æ¸²æŸ“é€Ÿåº¦å±•ç¤º</p>
<p>é€šè¿‡å¼‚æ­¥æ¸²æŸ“éšè—ç»„ä»¶ã€ä¼˜åŒ–è€—æ—¶å‡½æ•°ã€ä»»åŠ¡åˆ†ç‰‡ã€éª¨æ¶å±ç­‰æ–¹å¼ï¼Œè®©ç”¨æˆ·å°½æ—©çœ‹åˆ°å†…å®¹çš„åŒæ—¶ï¼Œå°†é¦–æ¬¡è·¯ç”±æ¸²æŸ“çš„æ—¶é—´æ§åˆ¶åœ¨ 1 ç§’ä»¥å†…ï¼Œç»“åˆæµè§ˆå™¨è‡ªèº«çš„ä¼˜åŒ–ï¼Œåœ¨ç”µè„‘ç½‘é€ŸåŠæ€§èƒ½æ­£å¸¸çš„æƒ…å†µä¸‹ï¼Œå·²ç»æ„ŸçŸ¥ä¸åˆ°ç™½å±çš„å­˜åœ¨ã€‚</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/unymlvueOvtoF6a4RQzicPDXuV98FRlHo3A53CavcXYjuYuDEav9zgqic1YE8uzC7P0Oz0HBShiacw8BOa5jIiaKqw/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="å›¾ç‰‡"></p>
<p>æ¥å£ç›¸åº”é€Ÿåº¦å±•ç¤º</p>
<p>é€šè¿‡æ‰©å®¹ã€ç¼“å­˜ã€å¹¶å‘ã€ä¼˜åŒ–è€—æ—¶å‡½æ•°ç­‰æ–¹å¼ï¼Œæˆ‘ä»¬å°†æ ¸å¿ƒçš„å‡ ä¸ªæŸ¥è¯¢æ¥å£çš„é€Ÿåº¦ä¹Ÿæ§åˆ¶åœ¨äº† 1 ç§’å·¦å³ã€‚</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/unymlvueOvtoF6a4RQzicPDXuV98FRlHoEd1LaTYJ3fP2Giabojt3B8Aop3QiaoOpD74RQ7XWfuvMYqfoVaPicibCCw/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="å›¾ç‰‡"></p>
<p>ä¼˜åŒ–å‰åæ ¸å¿ƒæ•°æ®å¯¹æ¯”</p>
<table>
<thead>
<tr>
<th>ä¼˜åŒ–ç¯èŠ‚</th>
<th>ä¼˜åŒ–å‰</th>
<th>ä¼˜åŒ–å</th>
</tr>
</thead>
<tbody><tr>
<td>é¦–æ¬¡ä¸‹è½½è„šæœ¬èµ„æº</td>
<td>å®é™…ä¸‹è½½ JS æ–‡ä»¶ 7 ä¸ªï¼Œæ•´ä½“å¤§å° 3.5M</td>
<td>å®é™…ä¸‹è½½ JS æ–‡ä»¶ 4 ä¸ªï¼Œæ•´ä½“å¤§å° 1.8M</td>
</tr>
<tr>
<td>è·¯ç”±é¦–æ¬¡æ¸²æŸ“æ—¶é—´</td>
<td>å¹³å‡ 2.66 ç§’</td>
<td>å¹³å‡ 790ms</td>
</tr>
<tr>
<td>ç´¢å¼•åˆ†é¡µæŸ¥è¯¢å“åº”æ—¶é—´</td>
<td>å¹³å‡ 2.60 ç§’</td>
<td>å¹³å‡ 1.03 ç§’</td>
</tr>
</tbody></table>
]]></content>
      <categories>
        <category>å‰ç«¯ä¼˜åŒ–æ–¹æ¡ˆ</category>
      </categories>
      <tags>
        <tag>å‰ç«¯ä¼˜åŒ–æ–¹æ¡ˆ</tag>
      </tags>
  </entry>
  <entry>
    <title>ç¯å¢ƒå˜é‡process.env</title>
    <url>/2020/07/30/%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8Fprocess-env/</url>
    <content><![CDATA[<p>æœ€è¿‘ç³»ç»Ÿæ¥å…¥äº†å…¬å¸çš„å•ç‚¹ç™»å½•ï¼Œä¸ºäº†ç™»é™†æˆåŠŸåå†è·³å›ç³»ç»Ÿçš„ä¸»é¡µé¢ï¼Œåˆç”³è¯·äº†æµ‹è¯•å’Œæ²™ç®±çš„åŸŸåï¼ˆä¹‹å‰éƒ½æ˜¯ç›´æ¥ç”¨IPç™»çš„ï¼‰ï¼Œæœ¬åœ°å¼€å‘æ˜¯é…ç½®çš„hostã€‚æ¥å…¥ä¹‹åå‘ç°äº†ä¸€ä¸ªéå¸¸éº»çƒ¦çš„ç‚¹å°±æ˜¯ç»™å•ç‚¹ç™»å½•ä¼ çš„è·³è½¬åœ°å€æ¯æ¬¡éƒ½è¦ä¿®æ”¹ï¼Œå¼€å‘çš„æ—¶å€™è¦å†™æˆå¼€å‘çš„åŸŸåï¼Œæµ‹è¯•çš„æ—¶å€™è¦æ”¹æˆæµ‹è¯•çš„åŸŸåï¼Œè¿›æ²™ç®±çš„æ—¶å€™è¦æ”¹æˆè·³è½¬æ²™ç®±çš„åŸŸåï¼Œä¸Šçº¿çš„æ—¶å€™åˆè¦æ”¹æˆçº¿ä¸Šçš„åŸŸåã€‚ç‰¹åˆ«æ˜¯åœ¨æµ‹è¯•é˜¶æ®µï¼Œå¼€å‘æµ‹è¯•æ¥å›åˆ‡æ¢ï¼Œä¸èƒœå…¶çƒ¦ã€‚<br>äºæ˜¯å°±æƒ³æŠŠå®ƒå†™æˆé…ç½®æ–‡ä»¶ï¼Œæ ¹æ®ä¸åŒç¯å¢ƒåŠ è½½ä¸åŒçš„é…ç½®ï¼Œè¿™æ ·å°±ä¸ç”¨æ¥å›æ”¹äº†ã€‚è¿™ä¸ªæ—¶å€™ï¼Œprocess.envå°±è·³å…¥äº†è„‘æµ·ï¼Œå«åš£ç€ï¼Œç»ˆäºè¯¥æˆ‘å‡ºåœºå•¦ï¼ï¼</p>
<h4 id="æ‰’ä¸€æ‰’process-env"><a href="#æ‰’ä¸€æ‰’process-env" class="headerlink" title="æ‰’ä¸€æ‰’process.env"></a>æ‰’ä¸€æ‰’process.env</h4><p>processå¯¹è±¡æ˜¯å…¨å±€å˜é‡ï¼Œå®ƒæä¾›å½“å‰node.jsçš„æœ‰å…³ä¿¡æ¯ï¼Œä»¥åŠæ§åˆ¶å½“å‰node.jsçš„æœ‰å…³è¿›ç¨‹ã€‚å› ä¸ºæ˜¯å…¨å±€å˜é‡ï¼Œå®ƒå¯¹äºnodeåº”ç”¨ç¨‹åºæ˜¯å§‹ç»ˆå¯ç”¨çš„ï¼Œæ— éœ€require()ã€‚<br>æ—¢ç„¶processéƒ½æ˜¯ä¸€ä¸ªå¯¹è±¡äº†ï¼Œenvè‡ªç„¶æ˜¯å®ƒçš„ä¸€ä¸ªå±æ€§ï¼Œè¿™ä¸ªå±æ€§è¿”å›åŒ…å«ç”¨æˆ·ç¯å¢ƒä¿¡æ¯çš„å¯¹è±¡ã€‚åœ¨ç»ˆç«¯è¾“å…¥nodeåï¼Œåœ¨è¾“å…¥process.envå¯ä»¥çœ‹åˆ°æ‰“å°å‡ºæ¥çš„ä¿¡æ¯ã€‚</p>
<a id="more"></a>

<h4 id="ä¸»è§’å‡ºåœº-process-env-NODE-ENV"><a href="#ä¸»è§’å‡ºåœº-process-env-NODE-ENV" class="headerlink" title="ä¸»è§’å‡ºåœº process.env.NODE_ENV"></a>ä¸»è§’å‡ºåœº process.env.NODE_ENV</h4><p>NODE_ENVä¸æ˜¯process.envå¯¹è±¡ä¸ŠåŸæœ‰çš„å±æ€§ï¼Œå®ƒæ˜¯æˆ‘ä»¬è‡ªå·±æ·»åŠ ä¸Šå»çš„ä¸€ä¸ªç¯å¢ƒå˜é‡ï¼Œç”¨æ¥ç¡®å®šå½“å‰æ‰€å¤„çš„å¼€å‘é˜¶æ®µã€‚ä¸€èˆ¬ç”Ÿäº§é˜¶æ®µè®¾ä¸ºproductionï¼Œå¼€å‘é˜¶æ®µè®¾ä¸ºdevelopï¼Œç„¶ååœ¨è„šæœ¬ä¸­è¯»å–process.env.NODE_ENVã€‚<br>è¿è¡Œè„šæœ¬æ—¶ï¼Œå¯ä»¥è¿™æ ·æ”¹å˜ç¯å¢ƒå˜é‡, åœ¨package.jsonæ–‡ä»¶çš„scriptsé‡Œé¢æ·»åŠ å‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">NODE_ENV&#x3D;production node build.js</span><br></pre></td></tr></table></figure>

<p>ä½†æ˜¯è¿™ä¸ªå‘½ä»¤ä½¿ç”¨Windowsçš„åŒå­¦æ‹‰ä¸‹ä»£ç åå°±æŠ¥é”™äº†ï¼Œå› ä¸ºWindowsä¸Šé¢è®¾ç½®çš„æ–¹å¼ä¸ä¸€æ ·ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">set NODE_ENV&#x3D;production node build.js</span><br></pre></td></tr></table></figure>

<p>ä½†æ˜¯ä¸åŒç”µè„‘ä¸Šä¸åŒçš„è®¾ç½®è‚¯å®šæ˜¯ä¸è¡Œçš„å‘€ï¼Œè¿™ä¸ªæ—¶å€™cross-envèµ¶æ¥æ•‘åœºäº†ã€‚<br>cross-envå¯ä»¥è·¨å¹³å°çš„è®¾ç½®å’Œä½¿ç”¨ç¯å¢ƒå˜é‡<br>å®‰è£…ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install --save-dev cross-env</span><br></pre></td></tr></table></figure>

<p>æ¥ä¸‹æ¥æˆ‘ä»¬å°±å¯ä»¥é€šè¿‡cross-envæ¥è®¾ç½®äº†</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cross-env NODE_ENV&#x3D;production node build.js</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·è®¾ç½®ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è„šæœ¬ä¸­ä½¿ç”¨process.env.NODE_ENVäº†ï¼Œä½†æ˜¯ä¸èƒ½åœ¨æ¨¡å—ä¸­ä½¿ç”¨ï¼Œè¦æƒ³åœ¨æ¨¡å—å½“ä¸­ç›´æ¥ä½¿ç”¨ï¼Œæˆ‘ä»¬è¿˜éœ€è¦ä¸€äº›é…ç½®</p>
<h5 id="DefinePlugin"><a href="#DefinePlugin" class="headerlink" title="DefinePlugin"></a>DefinePlugin</h5><p>DefinePluginå¯ä»¥å®šä¹‰ä¸€äº›å…¨å±€å˜é‡ï¼Œè®©æˆ‘ä»¬åœ¨æ¨¡å—å½“ä¸­ç›´æ¥ä½¿ç”¨ï¼Œä¸ç”¨åšä»»ä½•å£°æ˜ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const webpack &#x3D; require(&#39;webpack&#39;);</span><br><span class="line"></span><br><span class="line">module.exports &#x3D; &#123;</span><br><span class="line">    entry: &#123;</span><br><span class="line">        app: &#39;.&#x2F;src&#x2F;app&#39;</span><br><span class="line">    &#125;,</span><br><span class="line">    output: &#123;</span><br><span class="line">        path: &#39;dist&#39;,</span><br><span class="line">        filename: &#39;bundle.js&#39;</span><br><span class="line">    &#125;,</span><br><span class="line">    plugins: [</span><br><span class="line">        new webpack.DefinePlugin(&#123;</span><br><span class="line">           &#39;process.env.NODE_ENV&#39;:  &#39;production&#39;</span><br><span class="line">        &#125;)</span><br><span class="line">    ]</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>å½“æˆ‘ä»¬ç›´æ¥è¿™æ ·å®šä¹‰çš„æ—¶å€™ï¼Œç¼–è¯‘åæ˜¯è¿™ä¸ªæ ·å­çš„</p>
<p><img src="http://upload-images.jianshu.io/upload_images/5262488-8d77f226c73186e9.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/862/format/webp" alt="img"></p>
<p>bundle.png</p>
<p>DefinePluginç›´æ¥å°†å†…å®¹æ›¿æ¢äº†ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œæ‰€ä»¥æˆ‘ä»¬ç»å¸¸è¿™æ ·å®šä¹‰ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">new webpack.DefinePlugin(&#123;</span><br><span class="line">      &#39;process.env.NODE_ENV&#39;: JSON.stringify(process.env.NODE_ENV)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·å°±å¯ä»¥ç›´æ¥ä½¿ç”¨å•¦_<br>ç°åœ¨æˆ‘ä»¬è¦åœ¨æ¨¡å—ä¸­æ ¹æ®ç¯å¢ƒå˜é‡æ¥é…ç½®ä¸åŒçš„urläº†</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let url &#x3D; &#39;&#39;;</span><br><span class="line"> if (process.env.NODE_ENV &#x3D;&#x3D;&#x3D; &#39;testing&#39;) &#123;</span><br><span class="line">   url &#x3D; &#39;http:&#x2F;&#x2F;my.test.cn&#39;;</span><br><span class="line"> &#125; else if (process.env.alpord &#x3D;&#x3D;&#x3D; &#39;alpord&#39;) &#123;</span><br><span class="line">   url &#x3D; &#39;http:&#x2F;&#x2F;my.alpord.cn&#39;;</span><br><span class="line"> &#125; else if (process.env.NODE_ENV &#x3D;&#x3D;&#x3D; &#39;production&#39;) &#123;</span><br><span class="line">   url &#x3D; &#39;http:&#x2F;&#x2F;my.product.cn&#39;;</span><br><span class="line"> &#125; else &#123;</span><br><span class="line">   url &#x3D; &#39;http:&#x2F;&#x2F;my.develop.cn&#39;;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<p>è¿™åªæ˜¯ç®€å•åˆ—äº†ä¸€ä¸‹process.env.NODE_ENVçš„ç”¨æ³•ï¼Œå¤§å®¶çŸ¥é“æ€ä¹ˆç”¨å°±å¥½å•¦</p>
<p>å‚è€ƒé“¾æ¥ <a href="https://www.jianshu.com/p/c8f9c61c2f20" target="_blank" rel="noopener">https://www.jianshu.com/p/c8f9c61c2f20</a></p>
]]></content>
      <categories>
        <category>ç¯å¢ƒå˜é‡</category>
      </categories>
      <tags>
        <tag>ç¯å¢ƒå˜é‡</tag>
        <tag>process-env</tag>
      </tags>
  </entry>
  <entry>
    <title>ç¯å¢ƒæ­å»ºä»æ— åˆ°æœ‰</title>
    <url>/2020/08/18/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E4%BB%8E%E6%97%A0%E5%88%B0%E6%9C%89/</url>
    <content><![CDATA[<h2 id="å¼€å‘å·¥å…·"><a href="#å¼€å‘å·¥å…·" class="headerlink" title="å¼€å‘å·¥å…·"></a>å¼€å‘å·¥å…·</h2><h3 id="nodeJs"><a href="#nodeJs" class="headerlink" title="nodeJs"></a>nodeJs</h3><p><a href="https://nodejs.org/en/" target="_blank" rel="noopener">å®˜ç½‘åœ°å€</a></p>
<h3 id="git"><a href="#git" class="headerlink" title="git"></a>git</h3><p><a href="https://git-scm.com/" target="_blank" rel="noopener">å®˜ç½‘åœ°å€</a></p>
<a id="more"></a>

<h3 id="GitExtensions"><a href="#GitExtensions" class="headerlink" title="GitExtensions"></a>GitExtensions</h3><p><a href="https://sourceforge.net/projects/gitextensions/" target="_blank" rel="noopener">å®˜ç½‘åœ°å€</a></p>
<h3 id="Tortoisegit-å°ä¹Œé¾Ÿ"><a href="#Tortoisegit-å°ä¹Œé¾Ÿ" class="headerlink" title="Tortoisegit(å°ä¹Œé¾Ÿ)"></a>Tortoisegit(å°ä¹Œé¾Ÿ)</h3><p><a href="https://tortoisegit.org/download/" target="_blank" rel="noopener">å®˜ç½‘åœ°å€</a></p>
<h3 id="KDiff3ï¼ˆæ¯”è¾ƒå·¥å…·ä¸€ï¼‰"><a href="#KDiff3ï¼ˆæ¯”è¾ƒå·¥å…·ä¸€ï¼‰" class="headerlink" title="KDiff3ï¼ˆæ¯”è¾ƒå·¥å…·ä¸€ï¼‰"></a>KDiff3ï¼ˆæ¯”è¾ƒå·¥å…·ä¸€ï¼‰</h3><p><a href="https://sourceforge.net/projects/kdiff3/" target="_blank" rel="noopener">å®˜ç½‘åœ°å€</a></p>
<h3 id="beyond-compareï¼ˆæ¯”è¾ƒå·¥å…·äºŒï¼‰"><a href="#beyond-compareï¼ˆæ¯”è¾ƒå·¥å…·äºŒï¼‰" class="headerlink" title="beyond compareï¼ˆæ¯”è¾ƒå·¥å…·äºŒï¼‰"></a>beyond compareï¼ˆæ¯”è¾ƒå·¥å…·äºŒï¼‰</h3><p><a href="http://www.scootersoftware.com/" target="_blank" rel="noopener">å®˜ç½‘åœ°å€</a></p>
<h3 id="vså’Œæ’ä»¶"><a href="#vså’Œæ’ä»¶" class="headerlink" title="vså’Œæ’ä»¶"></a>vså’Œæ’ä»¶</h3><p><a href="https://marketplace.visualstudio.com/" target="_blank" rel="noopener">å®˜ç½‘åœ°å€</a></p>
<h3 id="vsCode"><a href="#vsCode" class="headerlink" title="vsCode"></a>vsCode</h3><p><a href="https://code.visualstudio.com/" target="_blank" rel="noopener">å®˜ç½‘åœ°å€</a></p>
<h3 id="å¾®ä¿¡å¼€å‘è€…å·¥å…·"><a href="#å¾®ä¿¡å¼€å‘è€…å·¥å…·" class="headerlink" title="å¾®ä¿¡å¼€å‘è€…å·¥å…·"></a>å¾®ä¿¡å¼€å‘è€…å·¥å…·</h3><p><a href="https://developers.weixin.qq.com/miniprogram/dev/devtools/download.html" target="_blank" rel="noopener">å®˜ç½‘åœ°å€</a></p>
<h3 id="Google"><a href="#Google" class="headerlink" title="Google"></a>Google</h3><p><a href="https://www.google.cn/chrome/" target="_blank" rel="noopener">å®˜ç½‘åœ°å€</a></p>
<h3 id="Snipasteæˆªå›¾å·¥å…·"><a href="#Snipasteæˆªå›¾å·¥å…·" class="headerlink" title="Snipasteæˆªå›¾å·¥å…·"></a>Snipasteæˆªå›¾å·¥å…·</h3><p><a href="https://www.snipaste.com/" target="_blank" rel="noopener">å®˜ç½‘åœ°å€</a></p>
<h3 id="å‘æ—¥è‘µè¿œç¨‹è¿æ¥å·¥å…·"><a href="#å‘æ—¥è‘µè¿œç¨‹è¿æ¥å·¥å…·" class="headerlink" title="å‘æ—¥è‘µè¿œç¨‹è¿æ¥å·¥å…·"></a>å‘æ—¥è‘µè¿œç¨‹è¿æ¥å·¥å…·</h3><p><a href="https://sunlogin.oray.com/" target="_blank" rel="noopener">å®˜ç½‘åœ°å€</a></p>
<h3 id="åŒç¨‹ç”µè„‘ç®¡å®¶"><a href="#åŒç¨‹ç”µè„‘ç®¡å®¶" class="headerlink" title="åŒç¨‹ç”µè„‘ç®¡å®¶"></a>åŒç¨‹ç”µè„‘ç®¡å®¶</h3><p><a href="http://guanjia.tcent.cn/" target="_blank" rel="noopener">å®˜ç½‘åœ°å€</a></p>
<h2 id="å‰ç«¯æµ‹è¯•å·¥å…·"><a href="#å‰ç«¯æµ‹è¯•å·¥å…·" class="headerlink" title="å‰ç«¯æµ‹è¯•å·¥å…·"></a>å‰ç«¯æµ‹è¯•å·¥å…·</h2><h3 id="charles-æŠ“åŒ…"><a href="#charles-æŠ“åŒ…" class="headerlink" title="charles(æŠ“åŒ…)"></a>charles(æŠ“åŒ…)</h3><p><a href="https://www.charlesproxy.com/" target="_blank" rel="noopener">å®˜ç½‘åœ°å€</a></p>
<h3 id="totalcontrolï¼ˆæ§åˆ¶æ‰‹æœºï¼‰"><a href="#totalcontrolï¼ˆæ§åˆ¶æ‰‹æœºï¼‰" class="headerlink" title="totalcontrolï¼ˆæ§åˆ¶æ‰‹æœºï¼‰"></a>totalcontrolï¼ˆæ§åˆ¶æ‰‹æœºï¼‰</h3><p><a href="http://tc.sigma-rt.com.cn/index.php" target="_blank" rel="noopener">å®˜ç½‘åœ°å€</a></p>
<h2 id="ä¹¦å†™å·¥å…·"><a href="#ä¹¦å†™å·¥å…·" class="headerlink" title="ä¹¦å†™å·¥å…·"></a>ä¹¦å†™å·¥å…·</h2><h3 id="typora"><a href="#typora" class="headerlink" title="typora"></a>typora</h3><p><a href="https://www.typora.io/" target="_blank" rel="noopener">å®˜ç½‘åœ°å€</a></p>
<h3 id="notepad"><a href="#notepad" class="headerlink" title="notepad"></a>notepad</h3><p><a href="https://notepad-plus-plus.org/" target="_blank" rel="noopener">å®˜ç½‘åœ°å€</a></p>
<h2 id="èŠå¤©å·¥å…·"><a href="#èŠå¤©å·¥å…·" class="headerlink" title="èŠå¤©å·¥å…·"></a>èŠå¤©å·¥å…·</h2><h3 id="WeChat"><a href="#WeChat" class="headerlink" title="WeChat"></a>WeChat</h3><p><a href="https://pc.weixin.qq.com/?t=win_weixin" target="_blank" rel="noopener">å®˜ç½‘åœ°å€</a></p>
<h3 id="DingTalk"><a href="#DingTalk" class="headerlink" title="DingTalk"></a>DingTalk</h3><p><a href="https://www.dingtalk.com/" target="_blank" rel="noopener">å®˜ç½‘åœ°å€</a></p>
<h2 id="å½•å±å·¥å…·"><a href="#å½•å±å·¥å…·" class="headerlink" title="å½•å±å·¥å…·"></a>å½•å±å·¥å…·</h2><h3 id="GifCam"><a href="#GifCam" class="headerlink" title="GifCam"></a>GifCam</h3><p><a href="http://blog.bahraniapps.com/gifcam/#download" target="_blank" rel="noopener">å®˜ç½‘åœ°å€</a></p>
<h3 id="ScreenToGif"><a href="#ScreenToGif" class="headerlink" title="ScreenToGif"></a>ScreenToGif</h3><p><a href="http://www.screentogif.com/" target="_blank" rel="noopener">å®˜ç½‘åœ°å€</a></p>
<h3 id="å¿«å‹"><a href="#å¿«å‹" class="headerlink" title="å¿«å‹"></a>å¿«å‹</h3><p><a href="http://www.kuaizip.com/" target="_blank" rel="noopener">å®˜ç½‘åœ°å€</a></p>
]]></content>
      <categories>
        <category>ç¯å¢ƒ</category>
      </categories>
      <tags>
        <tag>ç¯å¢ƒæ­å»º</tag>
        <tag>è½¯ä»¶å®˜ç½‘</tag>
      </tags>
  </entry>
  <entry>
    <title>çŸ¥è¯†ç‚¹é“¾æ¥</title>
    <url>/2020/09/08/%E7%9F%A5%E8%AF%86%E7%82%B9%E9%93%BE%E6%8E%A5/</url>
    <content><![CDATA[<p>vueç”Ÿå‘½å‘¨æœŸä»æºç çœ‹</p>
<p><a href="https://mp.weixin.qq.com/s/6-WDKTyyDnkbw224WOEpjw" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/6-WDKTyyDnkbw224WOEpjw</a></p>
<p>ä½œä¸ºä¸€ä½Vueå·¥ç¨‹å¸ˆï¼Œè¿™äº›å¼€å‘æŠ€å·§ä½ éƒ½ä¼šå—ï¼Ÿ</p>
<p><a href="https://mp.weixin.qq.com/s/QqMfogiIPLrsSBRUkN_WlQ" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/QqMfogiIPLrsSBRUkN_WlQ</a></p>
<a id="more"></a>

<p>Vueé¡¹ç›®ä»2.5Mä¼˜åŒ–åˆ°200kbçš„å…¨è¿‡ç¨‹</p>
<p><a href="https://mp.weixin.qq.com/s/FRay4O1VAJ9c1RDyvjkzpg" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/FRay4O1VAJ9c1RDyvjkzpg</a></p>
<p>å¾ˆå¤šäººä¸çŸ¥é“å¯ä»¥ä½¿ç”¨è¿™ç§ key çš„æ–¹å¼æ¥å¯¹ Vue ç»„ä»¶è¿›è¡Œé‡æ–°æ¸²æŸ“ï¼</p>
<p><a href="https://mp.weixin.qq.com/s/DA2X_aIqBolHSKlYt9aH5Q" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/DA2X_aIqBolHSKlYt9aH5Q</a></p>
<p>Vue.useä¸­éƒ½å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ</p>
<p><a href="https://mp.weixin.qq.com/s/LBaQiq4CVGYXSDC9GgGp4Q" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/LBaQiq4CVGYXSDC9GgGp4Q</a></p>
<p>Vue keep-aliveæ·±å…¥ç†è§£åŠå®è·µæ€»ç»“</p>
<p><a href="https://mp.weixin.qq.com/s/NgrrK_HC_ci_mOd2PiiWxA" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/NgrrK_HC_ci_mOd2PiiWxA</a></p>
<p>Vueä¸­mixinæ€ä¹ˆç†è§£ï¼Ÿ</p>
<p><a href="https://mp.weixin.qq.com/s/0tRYs-tlf8NaWoqu5qvYcw" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/0tRYs-tlf8NaWoqu5qvYcw</a></p>
<p>ä»Vueæºç è§’åº¦æ·±æŒ–Watchã€Computed</p>
<p><a href="https://mp.weixin.qq.com/s/ApYLgnuQ9cxvQrFekAU75w" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/ApYLgnuQ9cxvQrFekAU75w</a></p>
<p>ä»æºç è§£è¯» Vuex æ³¨å…¥ Vue ç”Ÿå‘½å‘¨æœŸçš„è¿‡ç¨‹</p>
<p><a href="https://mp.weixin.qq.com/s/15YA0baY5MGIjG3CkamDyA" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/15YA0baY5MGIjG3CkamDyA</a></p>
<p>ä¸€æ–‡çœ‹æ‡‚Vue3å‘¨è¾¹é…å¥—ç°çŠ¶</p>
<p><a href="https://mp.weixin.qq.com/s/Em_fOGXBzEtQ8UEA2_Bdew" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/Em_fOGXBzEtQ8UEA2_Bdew</a></p>
<p> ä¸ºä½ çš„ Vue.js å•é¡µåº”ç”¨æé€Ÿ</p>
<p><a href="https://mp.weixin.qq.com/s/5DAm7WvU9htzkdYGM5Tmkw" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/5DAm7WvU9htzkdYGM5Tmkw</a></p>
<p>Vueè¶…å¥½ç©çš„æ–°ç‰¹æ€§ï¼šåœ¨CSSä¸­ä½¿ç”¨JSå˜é‡</p>
<p><a href="https://mp.weixin.qq.com/s/DW_G5W3tz1CzbFz4aYDXcA" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/DW_G5W3tz1CzbFz4aYDXcA</a></p>
<p>å½»åº•ç†è§£ Cookieã€Sessionã€Tokenã€JWT</p>
<p><a href="https://mp.weixin.qq.com/s/Du9GIaV87BU3disvC2gtGQ" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/Du9GIaV87BU3disvC2gtGQ</a></p>
<p>10ä¸ªVueå¼€å‘æŠ€å·§åŠ©åŠ›æˆä¸ºæ›´å¥½çš„å·¥ç¨‹å¸ˆ</p>
<p><a href="https://mp.weixin.qq.com/s/_W-0JoGtaJPXDjF6Mx6u4Q" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/_W-0JoGtaJPXDjF6Mx6u4Q</a></p>
<p>Vue å¼€å‘å¿…é¡»çŸ¥é“çš„ 36 ä¸ªæŠ€å·§</p>
<p><a href="https://mp.weixin.qq.com/s/dr4c0HWmHsGrrw91l_mk-Q" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/dr4c0HWmHsGrrw91l_mk-Q</a></p>
<p>Vueæœ€å…¨çŸ¥è¯†ç‚¹ï¼ˆåŸºç¡€åˆ°è¿›é˜¶ï¼Œè¦†ç›–vue3.0ï¼ŒæŒç»­æ›´æ–°æ•´ç†ï¼Œæ¬¢è¿è¡¥å……è®¨è®ºï¼‰</p>
<p><a href="https://mp.weixin.qq.com/s/uat5Tt21ZU7-q4S3xMqTdg" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/uat5Tt21ZU7-q4S3xMqTdg</a></p>
<p>å‰ç«¯ä¸€é”®æ¢è‚¤çš„Nç§æ–¹æ¡ˆï¼Œè¯·æ”¶ä¸‹</p>
<p><a href="https://mp.weixin.qq.com/s/5rejEt5xvRYTNPFvhLyEoQ" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/5rejEt5xvRYTNPFvhLyEoQ</a></p>
<p>ä¸€ä»½å€¼å¾—æ”¶è—çš„ Git å¼‚å¸¸å¤„ç†æ¸…å•</p>
<p><a href="https://mp.weixin.qq.com/s/GKdhcb0ekirjg4jEwERizA" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/GKdhcb0ekirjg4jEwERizA</a></p>
<p>å‰ç«¯å·¥ç¨‹å¸ˆå¦‚ä½•å¤„ç†10ä¸‡æ¡æ•°æ®</p>
<p><a href="https://mp.weixin.qq.com/s/0duasKMCrIYjwWZvoZikrQ" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/0duasKMCrIYjwWZvoZikrQ</a></p>
<p>é‚£äº›ä¸å¸¸è§ï¼Œä½†å´éå¸¸å®ç”¨çš„csså±æ€§(æ•´ç†ä¸æ˜“)</p>
<p><a href="https://mp.weixin.qq.com/s/yt6dNfSxJZwtMTSrbprquQ" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/yt6dNfSxJZwtMTSrbprquQ</a></p>
<p>ä½ å¯èƒ½ä¸çŸ¥é“çš„15ä¸ªæœ‰ç”¨çš„GithubåŠŸèƒ½</p>
<p><a href="https://mp.weixin.qq.com/s/abeqBYe__mzZ3CVNxbaw5Q" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/abeqBYe__mzZ3CVNxbaw5Q</a></p>
<p>7ä¸ªå¿«é€Ÿå‘ç° bug ç¥ä»™è°ƒè¯•å·¥å…·</p>
<p><a href="https://mp.weixin.qq.com/s/BOJv26_ul3RidiKSECQ_uA" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/BOJv26_ul3RidiKSECQ_uA</a></p>
<p>9ä¸ªå¾ˆæ£’çš„CSSè¾¹æ¡†æŠ€å·§</p>
<p><a href="https://mp.weixin.qq.com/s/dbG4LzlRYNAxXzmvjEBtkw" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/dbG4LzlRYNAxXzmvjEBtkw</a></p>
<p>é€šè¿‡äº‹ä¾‹è®²è§£å¦‚æœåœ¨ Vue åˆ›å»ºåŠä½¿ç”¨è¿‡æ»¤å™¨</p>
<p><a href="https://mp.weixin.qq.com/s/Zyzb5f0cNVmcCp2dxcxP-w" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/Zyzb5f0cNVmcCp2dxcxP-w</a></p>
<p>åˆ†åˆ†é’Ÿæ•™ä¼šä½ æ­å»ºä¼ä¸šçº§çš„ npm ç§æœ‰ä»“åº“</p>
<p><a href="https://mp.weixin.qq.com/s/otSFSAmedqihFRMUvVHL0Q" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/otSFSAmedqihFRMUvVHL0Q</a></p>
<p>npxï¼Œ ä½ äº†è§£å—ï¼Ÿ</p>
<p><a href="https://mp.weixin.qq.com/s/2FkK_hANiCDhTpikAT7UxA" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/2FkK_hANiCDhTpikAT7UxA</a></p>
<p>5ä¸ªJavaScriptçš„å­—ç¬¦ä¸²å¤„ç†åº“</p>
<p><a href="https://mp.weixin.qq.com/s/1R3jRyH-y8hSVmCIVevKzw" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/1R3jRyH-y8hSVmCIVevKzw</a></p>
<p>JavaScripté—­åŒ…çš„æ·±å…¥ç†è§£</p>
<p><a href="https://mp.weixin.qq.com/s/5FbV4U4AyJAYdCtzgHM9bg" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/5FbV4U4AyJAYdCtzgHM9bg</a></p>
<p><a href="https://mp.weixin.qq.com/s/A9pLVDAIn-DGLbkkBgKmFA" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/A9pLVDAIn-DGLbkkBgKmFA</a></p>
<p>CSSä¸­çš„èƒŒæ™¯ç”¨æ³•å¤§å…¨</p>
<p><a href="https://mp.weixin.qq.com/s/P5BmWbWGjpVKQnttQXi5zQ" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/P5BmWbWGjpVKQnttQXi5zQ</a></p>
<p>107æ¡Javascriptçš„å¸¸ç”¨è¯­å¥</p>
<p><a href="https://mp.weixin.qq.com/s/eB6plUyXqGc1rwX9K9ZGKg" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/eB6plUyXqGc1rwX9K9ZGKg</a></p>
<p>displayçš„32ç§å†™æ³•</p>
<p><a href="https://mp.weixin.qq.com/s/Wk_1prutXU6bvt9gYxKQ2g" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/Wk_1prutXU6bvt9gYxKQ2g</a></p>
<p>60ä¸ªéå¸¸å®ç”¨çš„CSSä»£ç ç‰‡æ®µï¼Œåƒä¸‡è¦æ”¶è—å¥½äº†ï¼</p>
<p><a href="https://mp.weixin.qq.com/s/uOlu39yKWe8B076vEXVPZA" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/uOlu39yKWe8B076vEXVPZA</a></p>
<p>æµè§ˆå™¨ç¼“å­˜æœºåˆ¶</p>
<p><a href="https://mp.weixin.qq.com/s/o0B38SgXj-2tcpPIr-x7Bw" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/o0B38SgXj-2tcpPIr-x7Bw</a></p>
<p>ES6ä¸­å¸¸ç”¨çš„æ•°ç»„æ–¹æ³•æ€»ç»“</p>
<p><a href="https://mp.weixin.qq.com/s/oEwhydO00rx7YtBV1Vz0yA" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/oEwhydO00rx7YtBV1Vz0yA</a></p>
<p>ES6ä¸­å¸¸ç”¨çš„å¯¹è±¡æ–¹æ³•æ€»ç»“</p>
<p><a href="https://mp.weixin.qq.com/s/GbIDW9PnUVi6MGJWL3Y4UQ" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/GbIDW9PnUVi6MGJWL3Y4UQ</a></p>
<p>ES6ä¸­Promiseæ–¹æ³•æ€»ç»“</p>
<p><a href="https://mp.weixin.qq.com/s/1cbG6D1mWbLtUmwu2OIjQA" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/1cbG6D1mWbLtUmwu2OIjQA</a></p>
<p>ä¸€æ–‡ææ‡‚ES6ä¸­çš„æ¨¡å—åŒ–</p>
<p><a href="https://mp.weixin.qq.com/s/p24ZtSV8vGmdUm2lKu5ksg" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/p24ZtSV8vGmdUm2lKu5ksg</a></p>
<p>å†™ç»™åˆä¸­çº§å‰ç«¯çš„é«˜çº§è¿›é˜¶æŒ‡å—ï¼ˆä¸‡å­—é•¿æ–‡ï¼Œå»ºè®®æ”¶è—ï¼‰</p>
<p><a href="https://mp.weixin.qq.com/s/vaVd_laecfCVth0s6SCOfQ" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/vaVd_laecfCVth0s6SCOfQ</a></p>
<p>7ç§ä½ åº”è¯¥çŸ¥é“çš„JavaScriptå¸¸è§çš„é”™è¯¯</p>
<p><a href="https://mp.weixin.qq.com/s/FbMv8YH6AVHxCeBYE1NzRw" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/FbMv8YH6AVHxCeBYE1NzRw</a></p>
<p>JavaScriptçš„6ç§ç»§æ‰¿æ–¹å¼åŠå…¶ä¼˜ç¼ºç‚¹æ±‡æ€»</p>
<p><a href="https://mp.weixin.qq.com/s/CaT3-IeBuLx_ELo2BKMUcg" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/CaT3-IeBuLx_ELo2BKMUcg</a></p>
<p>èƒ½è§£å†³ 80% éœ€æ±‚çš„ 10ä¸ª CSSåŠ¨ç”»åº“</p>
<p><a href="https://mp.weixin.qq.com/s/s4A-KI1FepWcJjmevhJOsA" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/s4A-KI1FepWcJjmevhJOsA</a></p>
<p>CSS calc()å‡½æ•°çš„ç”¨æ³•</p>
<p><a href="https://mp.weixin.qq.com/s/YgRjhS7JX_pIf0oO2mb0zg" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/YgRjhS7JX_pIf0oO2mb0zg</a></p>
<p>10ä¸ªéå¸¸å®ç”¨çš„JSå·¥å…·å‡½æ•°</p>
<p><a href="https://mp.weixin.qq.com/s/FF_-Mi2ntESUCWsEo4BB1Q" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/FF_-Mi2ntESUCWsEo4BB1Q</a></p>
<p>æˆ‘å’Œå¤§ä½¬ä¹‹é—´å·®ä¸€ä¸ªJSå·¥å…·å‡½æ•°å¤§å…¨â€¦</p>
<p><a href="https://mp.weixin.qq.com/s/AdVQxNgj5gB5Z4CmfZX9-g" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/AdVQxNgj5gB5Z4CmfZX9-g</a></p>
<p>é€šè¿‡åˆ é™¤â€œ if-elseâ€è¯­å¥æ¥æ¸…ç†ä»£ç </p>
<p><a href="https://mp.weixin.qq.com/s/LOOU0LPFPQH_jv93mR9KMw" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/LOOU0LPFPQH_jv93mR9KMw</a></p>
<p>15æ¡å€¼å¾—æ”¶è—çš„é«˜æ•ˆJSæŠ€å·§</p>
<p><a href="https://mp.weixin.qq.com/s/EXAh91-qM4TmVm6D9Wxxig" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/EXAh91-qM4TmVm6D9Wxxig</a></p>
<p>JSON.stringify() çš„ 5 ä¸ªç§˜å¯†ç‰¹æ€§</p>
<p><a href="https://mp.weixin.qq.com/s/wVF2VX5BZWLP2TbDWhqVVA" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/wVF2VX5BZWLP2TbDWhqVVA</a></p>
<p>å¤„ç† JSä¸­ undefined çš„ 7 ä¸ªæŠ€å·§</p>
<p><a href="https://mp.weixin.qq.com/s/KZYfxG54WcPnAQhNhBvYsQ" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/KZYfxG54WcPnAQhNhBvYsQ</a></p>
<p>JavaScript é‡Œçš„å¥‡è‘©çŸ¥è¯†</p>
<p><a href="https://mp.weixin.qq.com/s/rQ3bFYxQYDNes1eJWl6zwg" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/rQ3bFYxQYDNes1eJWl6zwg</a></p>
<p>å¦‚ä½•ä¼˜é›…çš„å®ç°ä¸€ä¸ªä¹å®«æ ¼æŠ½å¥–</p>
<p><a href="https://mp.weixin.qq.com/s/z58BmufL_vwCvy4C6NNAjg" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/z58BmufL_vwCvy4C6NNAjg</a></p>
<p>JavaScriptåŸå‹ä¸ç»§æ‰¿çš„ç§˜å¯†</p>
<p><a href="https://mp.weixin.qq.com/s/Jvu48weJiAS1IejVd-QWYQ" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/Jvu48weJiAS1IejVd-QWYQ</a></p>
<p><a href="https://www.cnblogs.com/ayseeing/p/3990815.html" target="_blank" rel="noopener">windowçš„cmdçª—å£è¿è¡Œgit</a></p>
<p><a href="https://www.cnblogs.com/ayseeing/p/3990815.html" target="_blank" rel="noopener">https://www.cnblogs.com/ayseeing/p/3990815.html</a></p>
<p>jsåˆ¤æ–­è‹¹æœæœºå‹</p>
<p><a href="https://www.cnblogs.com/heroine/p/6710848.html" target="_blank" rel="noopener">https://www.cnblogs.com/heroine/p/6710848.html</a></p>
<p>ã€Œå‰ç«¯ç¼–ç¨‹å®æˆ˜ 57ã€HTML+CSS3å®ç°æ•ˆå“åº”ç›’æ¨¡å‹ç‰¹æ•ˆ</p>
<p><a href="https://mp.weixin.qq.com/s/8jDmr5wehAeWg1o1XJaXfQ" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/8jDmr5wehAeWg1o1XJaXfQ</a></p>
<p>æ‰‹æŠŠæ‰‹æ•™ä½ å¦‚ä½•å®ç°å¤§é‡å›¾ç‰‡çš„è‡ªé€‚åº”å›¾ç‰‡é¡µé¢çš„æ’åˆ—</p>
<p><a href="https://mp.weixin.qq.com/s/G95WTM2pNkjkA7Qn8BmArg" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/G95WTM2pNkjkA7Qn8BmArg</a></p>
<p>13 ä¸ª npm å¿«é€Ÿå¼€å‘æŠ€å·§</p>
<p><a href="https://mp.weixin.qq.com/s/tK5X23Osg197gWvE_q_AhA" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/tK5X23Osg197gWvE_q_AhA</a></p>
<p>15ä¸ªå‰ç«¯å¿…é¡»æ‡‚çš„linuxå‘½ä»¤</p>
<p><a href="https://mp.weixin.qq.com/s/-b9WxWtWwQMhXZkBMySjkA" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/-b9WxWtWwQMhXZkBMySjkA</a></p>
<p>jså‡½æ•°å¼ç¼–ç¨‹æœ¯è¯­æ€»ç»“</p>
<p><a href="https://mp.weixin.qq.com/s/WA00OYXKv73s7HWrVMOV1Q" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/WA00OYXKv73s7HWrVMOV1Q</a></p>
<p>node å†™çˆ¬è™«ï¼ŒåŸæ¥è¿™ä¹ˆç®€å•</p>
<p><a href="https://mp.weixin.qq.com/s/qfcfW4JXLrRjagTlIZl6mQ" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/qfcfW4JXLrRjagTlIZl6mQ</a></p>
<p>é‡ç£…ï¼šå°ç¨‹åºå¼€æ”¾â€œåˆ†äº«æœ‹å‹åœˆâ€åŠŸèƒ½</p>
<p><a href="https://mp.weixin.qq.com/s/EMULfoSjCf21MVJVhFK2Eg" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/EMULfoSjCf21MVJVhFK2Eg</a></p>
<p>å¼ºçƒˆæ¨ä»‹çš„å‡ ä¸ªå¾®ä¿¡å°ç¨‹åºå¼€å‘å°æŠ€å·§ï¼Œç®€å•åˆå®ç”¨</p>
<p><a href="https://mp.weixin.qq.com/s/CuX3p0hKRHlxDYXyJlJo3g" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/CuX3p0hKRHlxDYXyJlJo3g</a></p>
<p>å¾®ä¿¡æ”¯æŒH5è·³è½¬Appã€è·³è½¬å°ç¨‹åº</p>
<p><a href="https://mp.weixin.qq.com/s/KewfM91K5To1Jj_xMWqqPw" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/KewfM91K5To1Jj_xMWqqPw</a></p>
<p><strong>hookEvent</strong>,åŸæ¥å¯ä»¥è¿™æ ·ç›‘å¬ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ</p>
<p><a href="https://mp.weixin.qq.com/s/KL1jB5UYXNXOOF8gau0sFA" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/KL1jB5UYXNXOOF8gau0sFA</a></p>
<p>18æ¬¾Webpackæ’ä»¶ï¼Œæ€»ä¼šæœ‰ä½ æƒ³è¦çš„ï¼</p>
<p><a href="https://mp.weixin.qq.com/s/GGEmCQVr7ShMcP6_KsmaMQ" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/GGEmCQVr7ShMcP6_KsmaMQ</a></p>
<p>webpackåŸç†</p>
<p><a href="https://mp.weixin.qq.com/s/Arx6XIzPhlUaEPpH_wLMjg" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/Arx6XIzPhlUaEPpH_wLMjg</a></p>
]]></content>
      <categories>
        <category>çŸ¥è¯†ç‚¹</category>
      </categories>
      <tags>
        <tag>vue</tag>
        <tag>js</tag>
        <tag>çŸ¥è¯†ç‚¹</tag>
      </tags>
  </entry>
  <entry>
    <title>ç®—æ³•æ’åº</title>
    <url>/2020/07/30/%E7%AE%97%E6%B3%95%E6%8E%92%E5%BA%8F/</url>
    <content><![CDATA[<p>ç®€å•é€’å½’</p>
<p><img src="/2020/07/30/%E7%AE%97%E6%B3%95%E6%8E%92%E5%BA%8F/01.png" alt="01"></p>
<a id="more"></a>

<p>å†’æ³¡æ’åº</p>
<p><img src="/2020/07/30/%E7%AE%97%E6%B3%95%E6%8E%92%E5%BA%8F/02.png" alt="02"></p>
<p>æ’å…¥æ’åº</p>
<p><img src="/2020/07/30/%E7%AE%97%E6%B3%95%E6%8E%92%E5%BA%8F/03.png" alt="03"></p>
<p><img src="/2020/07/30/%E7%AE%97%E6%B3%95%E6%8E%92%E5%BA%8F/04.png" alt="04"></p>
<p>å¿«é€Ÿæ’åºï¼ˆ<a href="https://www.bilibili.com/video/BV1b441117Rn/?spm_id_from=trigger_reload" target="_blank" rel="noopener">https://www.bilibili.com/video/BV1b441117Rn/?spm_id_from=trigger_reload</a>ï¼‰</p>
<p>ç®€å•ç‰ˆ</p>
<p><img src="/2020/07/30/%E7%AE%97%E6%B3%95%E6%8E%92%E5%BA%8F/05.png" alt="05"></p>
<p>ç²¾ç®€ç‰ˆ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const quickSort &#x3D; function (arr) &#123;</span><br><span class="line">    if(arr.length &lt; 2) return arr;</span><br><span class="line">    &#x2F;&#x2F; éšæœºé€‰æ‹©0ï½arr.lengthä¹‹é—´é€‰ä¸€ä¸ªåŸºå‡†å€¼</span><br><span class="line">    const pivot &#x3D; Math.floor(Math.random() * arr.length)</span><br><span class="line">    &#x2F;&#x2F; å£°æ˜ä¸¤ä¸ªæ•°ç»„ï¼Œåˆ†åˆ«ç”¨äºå­˜æ”¾æ¯”åŸºå‡†å€¼å°çš„æ•°æ®å’Œæ¯”åŸºå‡†å€¼å¤§çš„æ•°æ®</span><br><span class="line">    let minArr &#x3D; [];</span><br><span class="line">    let maxArr &#x3D; [];</span><br><span class="line">    &#x2F;&#x2F; æ ¹æ®åŸºå‡†å€¼å¡«å……æ•°ç»„</span><br><span class="line">    for(let i &#x3D; 0; i &lt; arr.length; i++)&#123;</span><br><span class="line">        &#x2F;&#x2F; å¤§äºåŸºå‡†å€¼å°±æ”¾maxArré‡Œ</span><br><span class="line">        if(arr[i] &gt;&#x3D; arr[pivot] &amp;&amp; i !&#x3D;&#x3D; pivot)&#123;</span><br><span class="line">            maxArr.push(arr[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        &#x2F;&#x2F; å°äºåŸºå‡†å€¼å°±æ”¾minArré‡Œ</span><br><span class="line">        if(arr[i] &lt; arr[pivot] &amp;&amp; i !&#x3D;&#x3D; pivot)&#123;</span><br><span class="line">            minArr.push(arr[i])</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    &#x2F;&#x2F; åˆ†åˆ«å¯¹åŸºå‡†å€¼åˆ’åˆ†å‡ºæ¥çš„æ•°ç»„é€’å½’è°ƒç”¨å¿«é€Ÿæ’åºï¼Œç„¶ååˆå¹¶æ•°ç»„</span><br><span class="line">    return [...quickSort(minArr), arr[pivot], ...quickSort(maxArr)];</span><br><span class="line">&#125;</span><br><span class="line">æµ‹è¯•</span><br><span class="line">const dataArr &#x3D; [3,5,8,1,2,9,4,7,6];</span><br><span class="line">console.log(quickSort(dataArr))</span><br></pre></td></tr></table></figure>

<p>å¿«é€Ÿæ’åºä¼˜åŒ–</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;**</span><br><span class="line"> *</span><br><span class="line"> * @param arr éœ€è¦è¿›è¡Œä¸‰è·¯å¿«æ’çš„æ•°ç»„</span><br><span class="line"> * @param L æ•°ç»„çš„èµ·å§‹ä½ç½®</span><br><span class="line"> * @param R æ•°ç»„çš„æœ«å°¾ä½ç½®</span><br><span class="line"> *&#x2F;</span><br><span class="line">function partition(arr, L, R) &#123;</span><br><span class="line">  if(L&gt;&#x3D;R)return;</span><br><span class="line">  let left&#x3D;L,right&#x3D;R;</span><br><span class="line">  let pivot&#x3D;arr[left]</span><br><span class="line">  while(left&lt;right)&#123;</span><br><span class="line">    while(left&lt;right&amp;&amp;arr[right]&gt;&#x3D;pivot)&#123;</span><br><span class="line">      right--</span><br><span class="line">    &#125;</span><br><span class="line">    if(left&lt;right)&#123;</span><br><span class="line">      arr[left]&#x3D;arr[right]</span><br><span class="line">    &#125;</span><br><span class="line">    while (left &lt; right &amp;&amp; arr[left] &lt;&#x3D; pivot) &#123;</span><br><span class="line">      left++</span><br><span class="line">    &#125;</span><br><span class="line">    if (left &lt; right) &#123;</span><br><span class="line">      arr[right] &#x3D; arr[left]</span><br><span class="line">    &#125;</span><br><span class="line">    if(left&gt;&#x3D;right)&#123;</span><br><span class="line">      arr[left]&#x3D;pivot</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  partition(arr, L, right-1)</span><br><span class="line">  partition(arr, right+1, R)</span><br><span class="line">  return arr</span><br><span class="line">&#125;</span><br><span class="line">const dataArr &#x3D; [3, 5, 8, 1, 2, 9, 4, 7, 610, 0, -1];</span><br><span class="line">console.log(partition(dataArr, 0, dataArr.length - 1));</span><br><span class="line"></span><br><span class="line">æµ‹è¯•</span><br><span class="line">const dataArr &#x3D; [3,5,8,1,2,9,4,7,6];</span><br><span class="line">console.log(partition(dataArr,0,dataArr.length - 1));</span><br></pre></td></tr></table></figure>



<p>ç»™å¯¹è±¡æŒ‰ç…§æŸä¸€ä¸ªå±æ€§ä»å°åˆ°å¤§æ’åºï¼ˆå¯¹è±¡æ’åºï¼‰</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var compare &#x3D; function (prop) &#123;</span><br><span class="line">  return function (obj1, obj2) &#123;</span><br><span class="line">      var val1 &#x3D; obj1[prop];</span><br><span class="line">      var val2 &#x3D; obj2[prop];</span><br><span class="line">      if (!isNaN(Number(val1)) &amp;&amp; !isNaN(Number(val2))) &#123;</span><br><span class="line">          val1 &#x3D; Number(val1);</span><br><span class="line">          val2 &#x3D; Number(val2);</span><br><span class="line">      &#125;</span><br><span class="line">      if (val1 &lt; val2) &#123;</span><br><span class="line">          return -1;</span><br><span class="line">      &#125; else if (val1 &gt; val2) &#123;</span><br><span class="line">          return 1;</span><br><span class="line">      &#125; else &#123;</span><br><span class="line">          return 0;</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">var arr &#x3D; [&#123; name: &quot;zlw&quot;, age: 25 &#125;, &#123; name: &quot;wlz&quot;, age: 30 &#125;, &#123; name: &quot;wlz&quot;, age: 27 &#125;, &#123; name: &quot;wlz&quot;, age: 29 &#125;];</span><br><span class="line">console.log(arr.sort(compare(&quot;age&quot;)));</span><br></pre></td></tr></table></figure>



]]></content>
      <categories>
        <category>js</category>
      </categories>
      <tags>
        <tag>js</tag>
        <tag>æ’åº</tag>
      </tags>
  </entry>
  <entry>
    <title>è®¡ç®—æœºè®¾ç½®ç›¸å…³</title>
    <url>/2020/10/29/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%AE%BE%E7%BD%AE%E7%9B%B8%E5%85%B3/</url>
    <content><![CDATA[<h3 id="è®¾ç½®ä¸å…³é—­è‡ªå¯åŠ¨è½¯ä»¶"><a href="#è®¾ç½®ä¸å…³é—­è‡ªå¯åŠ¨è½¯ä»¶" class="headerlink" title="è®¾ç½®ä¸å…³é—­è‡ªå¯åŠ¨è½¯ä»¶"></a>è®¾ç½®ä¸å…³é—­è‡ªå¯åŠ¨è½¯ä»¶</h3><p>æ–¹æ³•ä¸€ï¼šå¼€æœºå¯åŠ¨æ–‡ä»¶å¤¹</p>
<p>1ã€æˆ‘ä»¬æ‰“å¼€æ–‡ä»¶å¤¹ï¼šC:\Usersï¼ˆç”¨æˆ·ï¼‰\Administratorï¼ˆå½“å‰ç”¨æˆ·åï¼‰\AppData\Roaming\Microsoft\Windows\Start Menu\Programsï¼ˆã€Œå¼€å§‹ã€èœå•ï¼‰\Programsï¼ˆç¨‹åºï¼‰\Startupï¼ˆå¯åŠ¨ ï¼‰å³å¯æ‰¾åˆ°å¯åŠ¨æ–‡ä»¶å¤¹ï¼Œå¦‚å›¾ï¼š</p>
<p>PSï¼šä¹Ÿå¯ä»¥åœ¨è¿è¡Œä¸­ç²˜è´´ä»¥ä¸‹è·¯å¾„å›è½¦æ‰“å¼€<br>%USERPROFILE%\AppData\Roaming\Microsoft\Windows\Start Menu\Programs\Startup  </p>
<p>2ã€ç„¶åæˆ‘ä»¬æŠŠè½¯ä»¶çš„å¿«æ·æ–¹å¼ï¼Œæˆ–æ˜¯æ–‡ä»¶æ”¾åˆ°è¯¥å¯åŠ¨æ–‡ä»¶å¤¹ä¸­ï¼ŒWin10å¼€æœºåå°±å¯ä»¥è‡ªåŠ¨è¿è¡Œäº†ã€‚</p>
<h3 id="å…³é—­å…è®¸è®¡ç®—æœºæ›´æ”¹æˆ‘çš„ç”µè„‘æç¤º"><a href="#å…³é—­å…è®¸è®¡ç®—æœºæ›´æ”¹æˆ‘çš„ç”µè„‘æç¤º" class="headerlink" title="å…³é—­å…è®¸è®¡ç®—æœºæ›´æ”¹æˆ‘çš„ç”µè„‘æç¤º"></a>å…³é—­å…è®¸è®¡ç®—æœºæ›´æ”¹æˆ‘çš„ç”µè„‘æç¤º</h3><p>å…³é—­æ˜¯å¦å…è®¸è®¡ç®—å™¨æ›´æ”¹æˆ‘çš„è®¾ç½®<br>æ§åˆ¶é¢æ¿\ç”¨æˆ·å¸æˆ·\æ›´æ”¹ç”¨æˆ·å¸æˆ·æ§åˆ¶è®¾ç½®ï¼Œå°†æ»‘å—æ‹‰åˆ°æœ€ä¸‹é¢æœ€åä¸€ä¸ªï¼Œå¦‚æœè¦è¿˜åŸï¼Œæ‹‰åˆ°ç¬¬äºŒä¸ª</p>
]]></content>
      <categories>
        <category>è®¡ç®—æœº</category>
      </categories>
      <tags>
        <tag>è®¡ç®—æœº</tag>
      </tags>
  </entry>
  <entry>
    <title>é…ç½®æœ¬åœ°iis</title>
    <url>/2020/08/18/%E9%85%8D%E7%BD%AE%E6%9C%AC%E5%9C%B0iis/</url>
    <content><![CDATA[<h3 id="å¼€å¯iis"><a href="#å¼€å¯iis" class="headerlink" title="å¼€å¯iis"></a>å¼€å¯iis</h3><p>æ§åˆ¶é¢æ¿-ç¨‹åº-å¯ç”¨æˆ–è€…å…³é—­windowsåŠŸèƒ½</p>
<a id="more"></a>

<p><img src="https://i.loli.net/2020/08/18/ubYlvzxaKsMFrNn.png" alt="iis.png"></p>
<p>æ–°å»ºåº”ç”¨ç¨‹åº</p>
<p><img src="https://i.loli.net/2020/08/18/nT59tOQ8RxPYlC4.png" alt="åº”ç”¨ç¨‹åº.png"></p>
<p>ç”Ÿæˆè§£å†³æ–¹æ¡ˆæ—¶ï¼Œéœ€è¦æ–°å¢NugetåŒ…æ‰èƒ½æˆåŠŸ</p>
<p>å·¥å…·-NugetåŒ…ç®¡ç†å™¨-ç¨‹åºåŒ…ç®¡ç†å™¨è®¾ç½®-ç¨‹åºåŒ…æº-æ–°å¢-æ›´æ–°-ç¡®å®š-ç”Ÿæˆè§£å†³æ–¹æ¡ˆ-ç¼–è¯‘æˆåŠŸ</p>
]]></content>
      <categories>
        <category>iis</category>
      </categories>
      <tags>
        <tag>iis</tag>
        <tag>localhost</tag>
      </tags>
  </entry>
  <entry>
    <title>vueä¹‹seekcyå¼€å‘å†ç¨‹è®°å½•1</title>
    <url>/2020/10/29/vue%E4%B9%8Bseekcy%E5%BC%80%E5%8F%91%E5%8E%86%E7%A8%8B%E8%AE%B0%E5%BD%951/</url>
    <content><![CDATA[<h2 id="Router"><a href="#Router" class="headerlink" title="Router"></a>Router</h2><h3 id="è§£å†³vueè·¯ç”±è·³è½¬æœªåŒ¹é…è·¯å¾„æ—¶å‡ºç°ç©ºç™½é¡µçš„é—®é¢˜"><a href="#è§£å†³vueè·¯ç”±è·³è½¬æœªåŒ¹é…è·¯å¾„æ—¶å‡ºç°ç©ºç™½é¡µçš„é—®é¢˜" class="headerlink" title="è§£å†³vueè·¯ç”±è·³è½¬æœªåŒ¹é…è·¯å¾„æ—¶å‡ºç°ç©ºç™½é¡µçš„é—®é¢˜"></a>è§£å†³vueè·¯ç”±è·³è½¬æœªåŒ¹é…è·¯å¾„æ—¶å‡ºç°ç©ºç™½é¡µçš„é—®é¢˜</h3><p>åˆ©ç”¨è¯¥ç‰¹æ€§ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„ä»£ç ç«¯è§£å†³æœªåŒ¹é…è·¯ç”±çš„é—®é¢˜ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">router.beforeEach(<span class="function">(<span class="params">to, <span class="keyword">from</span>, next</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (to.matched.length ===<span class="number">0</span>) &#123;  <span class="comment">//å¦‚æœæœªåŒ¹é…åˆ°è·¯ç”±</span></span><br><span class="line">    <span class="keyword">from</span>.path? next(&#123; <span class="attr">path</span>:<span class="keyword">from</span>.path&#125;) : next(<span class="string">'/'</span>);   <span class="comment">//å¦‚æœä¸Šçº§ä¹ŸæœªåŒ¹é…åˆ°è·¯ç”±åˆ™è·³è½¬ä¸»é¡µé¢ï¼Œå¦‚æœä¸Šçº§èƒ½åŒ¹é…åˆ°åˆ™è½¬ä¸Šçº§è·¯ç”±</span></span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    next();    <span class="comment">//å¦‚æœåŒ¹é…åˆ°æ­£ç¡®è·³è½¬</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<a id="more"></a> 

<p>2.åŒ¹é…æ‰€æœ‰è·¯ç”±</p>
<p>è·¯ç”±çš„åŒ¹é…è§„åˆ™æ˜¯æŒ‰ç…§ä¹¦å†™çš„é¡ºåºæ‰§è¡Œçš„ï¼Œç¬¬ä¸€æ¡åŒ¹é…æˆåŠŸåˆ™ä¸å»åŒ¹é…ä¸‹ä¸€æ¡ï¼Œåˆ©ç”¨è¿™ä¸€ç‰¹æ€§ï¼Œå¯ä»¥åœ¨æ‰€æœ‰åŒ¹é…è·¯ç”±çš„ä¸‹é¢æ‹¦æˆªåŒ¹é…æ‰€æœ‰è·¯ç”±ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//åˆ›å»ºè·¯ç”±å¯¹è±¡å¹¶é…ç½®è·¯ç”±è§„åˆ™</span></span><br><span class="line"><span class="keyword">let</span> router = <span class="keyword">new</span> VueRouter(&#123;</span><br><span class="line">    routes:[</span><br><span class="line">       &#123;<span class="attr">path</span>:<span class="string">'/'</span>,<span class="attr">redirect</span>:&#123;<span class="attr">name</span>:<span class="string">"home"</span>&#125;&#125;,  <span class="comment">// é‡å®šå‘åˆ°ä¸»é¡µ</span></span><br><span class="line">       &#123;<span class="attr">name</span>:<span class="string">'home'</span>,<span class="attr">path</span>:<span class="string">'/home'</span>,<span class="attr">component</span>:Home&#125;,</span><br><span class="line">       &#123;<span class="attr">name</span>:<span class="string">'login'</span>,<span class="attr">path</span>:<span class="string">'/login'</span>,<span class="attr">component</span>:Login&#125;,</span><br><span class="line">       &#123;<span class="attr">path</span>:<span class="string">'*'</span>,<span class="attr">component</span>:NotFound&#125;,<span class="comment">//å…¨ä¸åŒ¹é…çš„æƒ…å†µä¸‹ï¼ŒåŒ¹é…NotFoundç»„ä»¶ï¼Œè·¯ç”±æŒ‰é¡ºåºä»ä¸Šåˆ°ä¸‹ï¼Œä¾æ¬¡åŒ¹é…ã€‚æœ€åä¸€ä¸ª*èƒ½åŒ¹é…å…¨éƒ¨ï¼Œ</span></span><br><span class="line">    ]</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>3.é‡å®šå‘</p>
<p>åŸç†åŒæ–¹æ³•2ï¼Œåªä¸è¿‡åœ¨åŒ¹é…åˆ°*æ—¶ï¼Œé‡å®šå‘åˆ°æ ¹è·¯å¾„ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//åˆ›å»ºè·¯ç”±å¯¹è±¡å¹¶é…ç½®è·¯ç”±è§„åˆ™</span></span><br><span class="line"><span class="keyword">let</span> router = <span class="keyword">new</span> VueRouter(&#123;</span><br><span class="line">    routes:[</span><br><span class="line">       &#123;<span class="attr">path</span>:<span class="string">'/'</span>,<span class="attr">redirect</span>:&#123;<span class="attr">name</span>:<span class="string">"home"</span>&#125;&#125;,  <span class="comment">// é‡å®šå‘åˆ°ä¸»é¡µ</span></span><br><span class="line">       &#123;<span class="attr">name</span>:<span class="string">'home'</span>,<span class="attr">path</span>:<span class="string">'/home'</span>,<span class="attr">component</span>:Home&#125;,</span><br><span class="line">       &#123;<span class="attr">name</span>:<span class="string">'login'</span>,<span class="attr">path</span>:<span class="string">'/login'</span>,<span class="attr">component</span>:Login&#125;,</span><br><span class="line">       &#123;<span class="attr">path</span>:<span class="string">'*'</span>,<span class="attr">redirect</span>:<span class="string">'/'</span>&#125;,<span class="comment">//è·¯ç”±æŒ‰é¡ºåºä»ä¸Šåˆ°ä¸‹ï¼Œä¾æ¬¡åŒ¹é…ã€‚æœ€åä¸€ä¸ª*èƒ½åŒ¹é…å…¨éƒ¨ï¼Œç„¶åé‡å®šå‘åˆ°ä¸»é¡µé¢</span></span><br><span class="line">    ]</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>



<p>æŠ¥é”™</p>
<p><img src="https://img-blog.csdnimg.cn/2020082419134573.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NzA4NDI3NQ==,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<p><a href="mailto:vue-router@3.0">vue-router@3.0</a>ç‰ˆæœ¬åŠä»¥ä¸Šå›è°ƒå½¢å¼å·²ç»æ”¹æˆpromise apiçš„å½¢å¼äº†ï¼Œè¿”å›çš„æ˜¯ä¸€ä¸ªpromiseï¼Œå¦‚æœè·¯ç”±åœ°å€è·³è½¬ç›¸åŒï¼ˆ<code>é‡å¤è·¯ç”±è·³è½¬</code>ï¼‰, ä¸”æ²¡æœ‰æ•è·åˆ°é”™è¯¯ï¼Œæ§åˆ¶å°å§‹ç»ˆä¼šå‡ºç°å¦‚å›¾æ‰€ç¤ºçš„è­¦å‘Š ï¼ˆæ³¨ï¼š3.0ä»¥ä¸‹ç‰ˆæœ¬åˆ™ä¸ä¼šå‡ºç°ä»¥ä¸‹è­¦å‘Šï¼ï¼ï¼ï¼Œå› è·¯ç”±å›è°ƒé—®é¢˜â€¦ï¼Œå¯ä»¥ç›´æ¥é™åˆ°3.0ä¸€ä¸‹ç‰ˆæœ¬ï¼‰</p>
<p><img src="/2020/10/29/vue%E4%B9%8Bseekcy%E5%BC%80%E5%8F%91%E5%8E%86%E7%A8%8B%E8%AE%B0%E5%BD%951/image-20201102193540065.png" alt="image-20201102193540065"></p>
<p>é—®é¢˜å‡ºç°åŸå› ï¼š<code>é‡å¤è·¯ç”±è·³è½¬</code>ï¼Œæ¯”å¦‚è¯´å½“å‰è·¯ç”±æ˜¯å•†å“è¯¦æƒ…é¡µé¢/goodsDetailï¼Œä½†æ˜¯ç‚¹å‡»æŒ‰é’®è¿›è¡Œthis.$router.pushæ“ä½œï¼Œè¦è·³è½¬çš„è¿˜æ˜¯å•†å“è¯¦æƒ…é¡µé¢/goodsDetailã€‚</p>
<p>ç»¼åˆè§£å†³æ–¹æ¡ˆ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import Router from &#39;vue-router&#39;</span><br><span class="line"></span><br><span class="line">const originalPush &#x3D; Router.prototype.push</span><br><span class="line">Router.prototype.push &#x3D; function push(location) &#123;</span><br><span class="line">  return originalPush.call(this, location).catch(err &#x3D;&gt; err)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">æ³¨ï¼šå®˜æ–¹vue-router@3.0åŠä»¥ä¸Šæ–°ç‰ˆæœ¬è·¯ç”±é»˜è®¤å›è°ƒè¿”å›çš„éƒ½æ˜¯promiseï¼ŒåŸå…ˆæ—§ç‰ˆæœ¬çš„è·¯ç”±å›è°ƒå°†åºŸå¼ƒï¼ï¼ï¼ï¼</span><br></pre></td></tr></table></figure>



<h3 id="addRoutes"><a href="#addRoutes" class="headerlink" title="addRoutes"></a>addRoutes</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">this.$router.addRoutes(</span><br><span class="line">    routeData.concat([</span><br><span class="line">        &#123; path: &#39;&#x2F;404&#39;, component: NotFound &#125;,</span><br><span class="line">        &#123; path: &#39;*&#39;, redirect: &#39;&#x2F;404&#39; &#125;</span><br><span class="line">    ])</span><br><span class="line">);</span><br></pre></td></tr></table></figure>







<h2 id="æŒ‡ä»¤ï¼ˆdirectiveï¼‰"><a href="#æŒ‡ä»¤ï¼ˆdirectiveï¼‰" class="headerlink" title="æŒ‡ä»¤ï¼ˆdirectiveï¼‰"></a>æŒ‡ä»¤ï¼ˆdirectiveï¼‰</h2><p>å…¨å±€çš„è‡ªå®šä¹‰æŒ‡ä»¤éœ€è¦å†™åœ¨ <strong>new Vue()</strong> çš„å‰é¢</p>
<h3 id="v-focus-è‡ªå®šä¹‰æŒ‡ä»¤è§£å†³autofocuså¤±æ•ˆ"><a href="#v-focus-è‡ªå®šä¹‰æŒ‡ä»¤è§£å†³autofocuså¤±æ•ˆ" class="headerlink" title="v-focus(è‡ªå®šä¹‰æŒ‡ä»¤è§£å†³autofocuså¤±æ•ˆ)"></a>v-focus(è‡ªå®šä¹‰æŒ‡ä»¤è§£å†³autofocuså¤±æ•ˆ)</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">directives: &#123;</span><br><span class="line">    focus: &#123;</span><br><span class="line">      inserted: function(el) &#123;</span><br><span class="line">        el.querySelector(&quot;input&quot;).focus();</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>

<h3 id="åŠ¨æ€æŒ‡ä»¤å‚æ•°"><a href="#åŠ¨æ€æŒ‡ä»¤å‚æ•°" class="headerlink" title="åŠ¨æ€æŒ‡ä»¤å‚æ•°"></a>åŠ¨æ€æŒ‡ä»¤å‚æ•°</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;div @click&#x3D;&quot;link&quot; v-style:[mystyle]&#x3D;&quot;&#39;100px&#39;&quot;&gt;å¸¦å‚æ•°è·³è½¬&lt;&#x2F;div&gt;</span><br><span class="line">js</span><br><span class="line">data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">    	mystyle: &#39;margin&#39;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,</span><br><span class="line"></span><br><span class="line">main.js</span><br><span class="line">Vue.directive(&quot;style&quot;, function (el, binding, vnode) &#123;</span><br><span class="line">    el.style[binding.arg] &#x3D; binding.value </span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="é«˜ç²¾åº¦æƒé™æ§åˆ¶â€”è‡ªå®šä¹‰æŒ‡ä»¤directive"><a href="#é«˜ç²¾åº¦æƒé™æ§åˆ¶â€”è‡ªå®šä¹‰æŒ‡ä»¤directive" class="headerlink" title="é«˜ç²¾åº¦æƒé™æ§åˆ¶â€”è‡ªå®šä¹‰æŒ‡ä»¤directive"></a>é«˜ç²¾åº¦æƒé™æ§åˆ¶â€”è‡ªå®šä¹‰æŒ‡ä»¤directive</h3><p>æˆ‘ä»¬å…ˆåœ¨æ–°å»ºä¸ª array.js æ–‡ä»¶ï¼Œç”¨äºå­˜æ”¾ä¸æƒé™ç›¸å…³çš„å…¨å±€å‡½æ•°ï¼›</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; array.js</span><br><span class="line">export function checkArray (key) &#123;</span><br><span class="line">  let arr &#x3D; [&#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;4&#39;, &#39;demo&#39;]</span><br><span class="line">  let index &#x3D; arr.indexOf(key)</span><br><span class="line">  if (index &gt; -1) &#123;</span><br><span class="line">    return true &#x2F;&#x2F; æœ‰æƒé™</span><br><span class="line">  &#125; else &#123;</span><br><span class="line">    return false &#x2F;&#x2F; æ— æƒé™</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç„¶ååœ¨å°† array æ–‡ä»¶æŒ‚è½½åˆ°å…¨å±€ä¸­:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; main.js</span><br><span class="line">import &#123; checkArray &#125; from &quot;.&#x2F;common&#x2F;array&quot;;</span><br><span class="line">Vue.directive(&quot;permission&quot;, &#123;</span><br><span class="line">  inserted (el, binding) &#123;</span><br><span class="line">    let permission &#x3D; binding.value; &#x2F;&#x2F; è·å–åˆ° v-permissionçš„å€¼</span><br><span class="line">    if (permission) &#123;</span><br><span class="line">      let hasPermission &#x3D; checkArray(permission);</span><br><span class="line">      if (!hasPermission) &#123; &#x2F;&#x2F; æ²¡æœ‰æƒé™ ç§»é™¤Domå…ƒç´ </span><br><span class="line">        el.parentNode &amp;&amp; el.parentNode.removeChild(el);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>æœ€åæˆ‘ä»¬åœ¨é¡µé¢ä¸­å°±å¯ä»¥é€šè¿‡è‡ªå®šä¹‰æŒ‡ä»¤ v-permission æ¥åˆ¤æ–­ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;div class&#x3D;&quot;btns&quot;&gt;</span><br><span class="line">    &lt;button v-permission&#x3D;&quot;&#39;1&#39;&quot;&gt;æƒé™æŒ‰é’®1&lt;&#x2F;button&gt;  &#x2F;&#x2F; ä¼šæ˜¾ç¤º</span><br><span class="line">    &lt;button v-permission&#x3D;&quot;&#39;2&#39;&quot;&gt;æƒé™æŒ‰é’®2&lt;&#x2F;button&gt;  &#x2F;&#x2F; æ— æ˜¾ç¤º</span><br><span class="line">    &lt;button v-permission&#x3D;&quot;&#39;demo&#39;&quot;&gt;æƒé™æŒ‰é’®demo&lt;&#x2F;button&gt; &#x2F;&#x2F; ä¼šæ˜¾ç¤º</span><br><span class="line">&lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure>



<h2 id="ä¿®æ”¹devåœ°å€ä¸ºè‡ªåŠ¨è·å–æœ¬åœ°ip"><a href="#ä¿®æ”¹devåœ°å€ä¸ºè‡ªåŠ¨è·å–æœ¬åœ°ip" class="headerlink" title="ä¿®æ”¹devåœ°å€ä¸ºè‡ªåŠ¨è·å–æœ¬åœ°ip"></a>ä¿®æ”¹devåœ°å€ä¸ºè‡ªåŠ¨è·å–æœ¬åœ°ip</h2><p><img src="/2020/10/29/vue%E4%B9%8Bseekcy%E5%BC%80%E5%8F%91%E5%8E%86%E7%A8%8B%E8%AE%B0%E5%BD%951/image-20201103113345574.png" alt="image-20201103113345574"></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;* ä¿®æ”¹å¯åŠ¨æ—¶æµè§ˆå™¨åœ°å€localhostä¸ºè‡ªåŠ¨è·å–æœ¬åœ°ip,å¹¶ä»¥ipä¸ºåœ°å€ *&#x2F;</span><br><span class="line">const os &#x3D; require(&#39;os&#39;)</span><br><span class="line">let localhost &#x3D; &#39;&#39;</span><br><span class="line">try &#123;</span><br><span class="line">    const network &#x3D; os.networkInterfaces()</span><br><span class="line">    localhost &#x3D; network[Object.keys(network)[0]][1].address</span><br><span class="line">&#125; catch (e) &#123;</span><br><span class="line">    localhost &#x3D; &#39;localhost&#39;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">tips:ä¸Šè¿°ä»£ç æœ‰å¯èƒ½è·å–åˆ°127.0.0.1ï¼Œä¹Ÿæœ‰å¯èƒ½è·å–åˆ°ipï¼Œå»ºè®®ä½¿ç”¨ä¸‹é¢çš„æ–¹æ³•</span><br><span class="line">const os &#x3D; require(&#39;os&#39;).networkInterfaces()</span><br><span class="line">function getIP() &#123;</span><br><span class="line">  var interfaces &#x3D; os;</span><br><span class="line">  console.log(interfaces)</span><br><span class="line">  for (var devName in interfaces) &#123;</span><br><span class="line">    var iface &#x3D; interfaces[devName];</span><br><span class="line">    for (var i &#x3D; 0; i &lt; iface.length; i++) &#123;</span><br><span class="line">      var alias &#x3D; iface[i];</span><br><span class="line">      if (alias.family &#x3D;&#x3D;&#x3D; &#39;IPv4&#39; &amp;&amp; alias.address !&#x3D;&#x3D; &#39;127.0.0.1&#39; &amp;&amp; !alias.internal) &#123;</span><br><span class="line">        return alias.address;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">localhost &#x3D; getIP();</span><br></pre></td></tr></table></figure>



<h3 id="åœ¨npm-run-devä¹‹åï¼ŒVueéƒ½åšäº†å“ªäº›å·¥ä½œå‘¢"><a href="#åœ¨npm-run-devä¹‹åï¼ŒVueéƒ½åšäº†å“ªäº›å·¥ä½œå‘¢" class="headerlink" title="åœ¨npm run devä¹‹åï¼ŒVueéƒ½åšäº†å“ªäº›å·¥ä½œå‘¢"></a>åœ¨npm run devä¹‹åï¼ŒVueéƒ½åšäº†å“ªäº›å·¥ä½œå‘¢</h3><p><img src="https://mmbiz.qpic.cn/mmbiz_png/4MXV7svuTWI1DCpR2ibcNHRdddtrc6czxjKO7rwKyUgyZtBCrvxa365vxKamvibPGDEAoEqxdYicWdsCj4nib0siaEA/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="å›¾ç‰‡"></p>
<p>å…¶å®å¾ˆç®€å•ï¼ŒVueç±»é‡Œé¢å…¶å®å°±æ˜¯è°ƒç”¨äº†ä¸€ä¸ª_initæ–¹æ³•ï¼Œè¿™ä¸€æ®µä»£ç è°ƒç”¨äº†äº”ä¸ªæ–¹æ³•ï¼Œå¹¶ä¼ å…¥äº†Vueç±»ã€‚</p>
<p>initMixinï¼Œå®ƒçš„ä½œç”¨æ˜¯ç»™vueçš„åŸå‹é“¾é‡ŒåŠ å…¥Vueç±»é‡Œè°ƒç”¨çš„_initæ–¹æ³•</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/4MXV7svuTWI1DCpR2ibcNHRdddtrc6czxU3WA03eWNCEfpgJtdhXGjCINeTiadxbAMB7lFcd0CAOtX36wysuVTzQ/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="å›¾ç‰‡"></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">stateMixinä¹Ÿå’Œå‰é¢çš„initMixinç±»ä¼¼ï¼Œå…¶å®å°±æ˜¯å¾€Vueçš„åŸå‹é‡Œæ³¨å…¥äº†$data,$propså±æ€§ï¼Œä»¥åŠ$setã€$delete ä»¥åŠ $watchæ–¹æ³•ã€‚</span><br><span class="line"></span><br><span class="line">eventMixinå°±æ˜¯å¾€vueåŸå‹é“¾é‡Œæ³¨å…¥äº†äº‹ä»¶çš„ç›‘å¬ä¸è§¦å‘ï¼Œå³æˆ‘ä»¬å¸¸ç”¨çš„$emitï¼Œ$onã€‚</span><br><span class="line"></span><br><span class="line">lifecycleMixinï¼Œå°±æ˜¯æ³¨å…¥äº†ä¸€äº›ç”Ÿå‘½å‘¨æœŸå‡½æ•°ã€‚</span><br><span class="line"></span><br><span class="line">renderMixinå°±å’Œåé¢çš„å…·ä½“ç¼–è¯‘æœ‰å…³ã€‚</span><br></pre></td></tr></table></figure>



<h2 id="æ‰“åŒ…"><a href="#æ‰“åŒ…" class="headerlink" title="æ‰“åŒ…"></a>æ‰“åŒ…</h2><p>æŸ¥çœ‹ä¸‰éƒ¨æ›²ï¼š</p>
<ul>
<li>buildæ–‡ä»¶å¤¹ä¸‹çš„utils.js ä¸­ publicPathï¼šâ€ ../../â€œ</li>
<li>config ä¸­çš„ index.js ä¸­ assetsPublicPath: â€œ./â€œ</li>
<li>webpack.prod.conf.js ä¸­ outputæ¨¡å—ä¸­æ·»åŠ  publicPath: â€œ./â€œ</li>
</ul>
<p>æ€»ç»“ä¸€ä¸‹ï¼Œvueé‡Œé¢å¼•ç”¨å›¾ç‰‡åœ¨æ‰“åŒ…åä»èƒ½æ­£å¸¸ä½¿ç”¨çš„æ­£ç¡®å¼•ç”¨æ–¹å¼ï¼š</p>
<ul>
<li><p><strong>htmlå†…ï¼š</strong>img srcä»¥ç›¸å¯¹è·¯å¾„å¼•å…¥ï¼›</p>
</li>
<li><p><strong>cssï¼š</strong>styleä»¥backgroundå±æ€§ä½œä¸ºèƒŒæ™¯å›¾ç‰‡ä»¥ç›¸å¯¹è·¯å¾„å¼•å…¥ï¼Œéœ€ä»¥ç±»åæ–¹å¼å¼•å…¥ï¼Œè¡Œå†…æ ·å¼å¯èƒ½ä¼šä¸ç”Ÿæ•ˆï¼›</p>
</li>
<li><p><strong>jsï¼š</strong>ä»¥require(â€˜â€¦/urlâ€™)å¼•å…¥ï¼Œèµ‹äºˆå˜é‡ï¼›</p>
</li>
</ul>
<h3 id="js-cssæ‰¾ä¸åˆ°"><a href="#js-cssæ‰¾ä¸åˆ°" class="headerlink" title="js/cssæ‰¾ä¸åˆ°"></a>js/cssæ‰¾ä¸åˆ°</h3><p>å› ä¸ºé¡¹ç›®æ‰“åŒ…åçš„CSSå’ŒJSçš„å¼•ç”¨è·¯å¾„æ˜¯ç»å¯¹è·¯å¾„ï¼Œé¡¹ç›®éƒ¨ç½²åä¼šå°†é™æ€å½“æˆæ ¹ç›®å½•ï¼Œå°±é€ æˆäº†æ–‡ä»¶å¼•ç”¨è·¯å¾„çš„é”™è¯¯ï¼Œè§£å†³æ–¹æ³•æ˜¯é€šè¿‡ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œå°†ç»å¯¹è·¯å¾„æ”¹ä¸ºç›¸å¯¹è·¯å¾„ï¼Œä»è€Œè¾¾åˆ°èµ„æºçš„ç›¸å¯¹å¼•ç”¨ã€‚</p>
<p>ä¸€ã€‚<strong>â€˜/â€™æŒ‡çš„æ˜¯é¡¹ç›®çš„æ ¹ç›®å½• ï¼Œâ€™./â€™æŒ‡çš„æ˜¯å½“å‰ç›®å½•</strong></p>
<p>1.publicPath å¹¶ä¸ä¼šå¯¹ç”Ÿæˆæ–‡ä»¶çš„è·¯å¾„é€ æˆå½±å“ï¼Œä¸»è¦æ˜¯å¯¹ä½ çš„é¡µé¢é‡Œé¢å¼•å…¥çš„èµ„æºçš„è·¯å¾„åšå¯¹åº”çš„è¡¥å…¨ï¼Œå¸¸è§çš„å°±æ˜¯cssæ–‡ä»¶é‡Œé¢å¼•å…¥çš„å›¾ç‰‡</p>
<p>2.assetsPublicPathå±æ€§ä½œç”¨æ˜¯æŒ‡å®šç¼–è¯‘å‘å¸ƒçš„æ ¹ç›®å½•</p>
<p>å…·ä½“æ“ä½œå¦‚ä¸‹ï¼š</p>
<p>1.æ‰“å¼€webpack.prod.conf.jsï¼›</p>
<p>2.åœ¨outputæ¨¡å—ä¸­æ·»åŠ  publicPath: â€˜./â€˜ ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="https://img2018.cnblogs.com/blog/1149000/201901/1149000-20190108162846264-467114685.png" alt="img"></p>
<h3 id="èƒŒæ™¯å›¾ç‰‡æ‰¾ä¸åˆ°"><a href="#èƒŒæ™¯å›¾ç‰‡æ‰¾ä¸åˆ°" class="headerlink" title="èƒŒæ™¯å›¾ç‰‡æ‰¾ä¸åˆ°"></a>èƒŒæ™¯å›¾ç‰‡æ‰¾ä¸åˆ°</h3><p>ä¿®æ”¹æ‰“åŒ…åèƒŒæ™¯å›¾ç‰‡çš„å¼•ç”¨è·¯å¾„<br>èµ„æºå†…çš„å›¾ç‰‡æ˜¯é€šè¿‡cssåŠ è½½çš„ï¼ŒCSSä»£ç å¦‚ï¼šbackgroundï¼šurlï¼ˆ../ assets / img-bg / buttonbg.pngï¼‰no-repeat;</p>
<p>ä½†æ˜¯æ‰“åŒ…è¿‡åçš„CSSå˜æˆäº†èƒŒæ™¯ï¼šurlï¼ˆ../../ static / img / buttonbg.68979b3.pngï¼‰no-repeat;æˆ‘ä»¬éœ€è¦ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œæ˜¯çš„CSSä»£ç æ‰“åŒ…åï¼Œèµ„æºå¼•ç”¨è·¯å¾„è¿˜æ˜¯ç›¸å¯¹è·¯å¾„;</p>
<p>è§£å†³åŠæ³•ï¼š</p>
<p>1.æ‰“å¼€buildæ–‡ä»¶å¤¹ä¸‹çš„utils.js ;</p>
<p>2.åœ¨ä¸‹å›¾ä½ç½®æ·»åŠ  publicPathï¼šâ€ ../../</p>
<p> <img src="https://img2018.cnblogs.com/blog/1149000/201901/1149000-20190108162728713-1887350521.png" alt="img"></p>
<h3 id="router-viewä¸­çš„å†…å®¹æ˜¾ç¤ºä¸å‡ºæ¥ï¼ˆå…³é—­è·¯ç”±historyæ¨¡å¼ï¼‰"><a href="#router-viewä¸­çš„å†…å®¹æ˜¾ç¤ºä¸å‡ºæ¥ï¼ˆå…³é—­è·¯ç”±historyæ¨¡å¼ï¼‰" class="headerlink" title="router-viewä¸­çš„å†…å®¹æ˜¾ç¤ºä¸å‡ºæ¥ï¼ˆå…³é—­è·¯ç”±historyæ¨¡å¼ï¼‰"></a>router-viewä¸­çš„å†…å®¹æ˜¾ç¤ºä¸å‡ºæ¥ï¼ˆå…³é—­è·¯ç”±historyæ¨¡å¼ï¼‰</h3><p><strong>ç¬¬äºŒä¸ªé—®é¢˜ï¼šrouter-viewä¸­çš„å†…å®¹æ˜¾ç¤ºä¸å‡ºæ¥ã€‚</strong>è·¯ç”±historyæ¨¡å¼ã€‚</p>
<p>è¿™ä¸ªå‘æ˜¯å½“ä½ ä½¿ç”¨äº†è·¯ç”±ä¹‹åï¼Œ<strong>åœ¨æ²¡æœ‰åç«¯é…åˆçš„æƒ…å†µä¸‹å°±æ‰‹è´±æ‰“å¼€è·¯ç”±historyæ¨¡å¼çš„æ—¶å€™</strong>ï¼Œæ‰“åŒ…å‡ºæ¥çš„æ–‡ä»¶ä¹Ÿä¼šæ˜¯ä¸€ç‰‡ç©ºç™½çš„æƒ…å†µï¼Œ</p>
<p>å¾ˆå¤šäººè¸©è¿™ä¸ªå‘çš„æ—¶å€™èŠ±äº†å¾ˆå¤šæ—¶é—´ï¼Œç½‘ä¸Šçš„æ•™ç¨‹åŸºæœ¬ä¸Šéƒ½æ˜¯è¯´çš„ç¬¬ä¸€ä¸ªå‘ï¼Œè¿™ä¸ªå‘å¾ˆå°‘æœ‰äººæèµ·ã€‚</p>
<p><strong><img src="https://images2017.cnblogs.com/blog/1202246/201711/1202246-20171121095445961-1591205997.png" alt="img"></strong></p>
<p>è§£å†³ï¼š<code>// mode: &#39;history&#39;,//å°†è¿™ä¸ªæ¨¡å¼å…³é—­å°±å¥½</code></p>
<h3 id="æ‰“åŒ…å‡ºé”™æ˜¾ç¤ºç©ºç™½é¡µï¼Œæˆ–è€…Failed-to-load-resource-net-ERR-FILE-NOT-FOUND"><a href="#æ‰“åŒ…å‡ºé”™æ˜¾ç¤ºç©ºç™½é¡µï¼Œæˆ–è€…Failed-to-load-resource-net-ERR-FILE-NOT-FOUND" class="headerlink" title="æ‰“åŒ…å‡ºé”™æ˜¾ç¤ºç©ºç™½é¡µï¼Œæˆ–è€…Failed to load resource: net::ERR_FILE_NOT_FOUND"></a>æ‰“åŒ…å‡ºé”™æ˜¾ç¤ºç©ºç™½é¡µï¼Œæˆ–è€…Failed to load resource: net::ERR_FILE_NOT_FOUND</h3><p>è§£å†³åŠæ³•</p>
<p>â€‹        webpack.prod.conf.js ä¸­outputæ·»åŠ å‚æ•°publicPath:â€™./â€˜</p>
<p><img src="https://img-blog.csdnimg.cn/20191104102906668.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNjcxOTk2,size_16,color_FFFFFF,t_70" alt="img"></p>
<h3 id="Vue-elementUI-buildæ‰“åŒ…éƒ¨ç½²åå­—ä½“å›¾æ ‡ä¸¢å¤±ï¼Œæ§åˆ¶å°æ˜¾ç¤ºæ–‡ä»¶element-icons-woffå’Œelement-icons-ttfæ–‡ä»¶404"><a href="#Vue-elementUI-buildæ‰“åŒ…éƒ¨ç½²åå­—ä½“å›¾æ ‡ä¸¢å¤±ï¼Œæ§åˆ¶å°æ˜¾ç¤ºæ–‡ä»¶element-icons-woffå’Œelement-icons-ttfæ–‡ä»¶404" class="headerlink" title="Vue+elementUI  buildæ‰“åŒ…éƒ¨ç½²åå­—ä½“å›¾æ ‡ä¸¢å¤±ï¼Œæ§åˆ¶å°æ˜¾ç¤ºæ–‡ä»¶element-icons.woffå’Œelement-icons.ttfæ–‡ä»¶404"></a>Vue+elementUI  buildæ‰“åŒ…éƒ¨ç½²åå­—ä½“å›¾æ ‡ä¸¢å¤±ï¼Œæ§åˆ¶å°æ˜¾ç¤ºæ–‡ä»¶element-icons.woffå’Œelement-icons.ttfæ–‡ä»¶404</h3><p><img src="https://img2018.cnblogs.com/blog/935329/201905/935329-20190528164613052-25776252.png" alt="img"></p>
<p>è§£å†³åŠæ³•</p>
<p>webpack utils.js ä¿®æ”¹ï¼šï¼ˆbuildç›®å½•ä¸‹utils.jsï¼‰</p>
<p>æ·»åŠ   publicPath: â€˜../../â€˜</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">if (options.extract) &#123;</span><br><span class="line">    return ExtractTextPlugin.extract(&#123;</span><br><span class="line">        use: loaders,</span><br><span class="line">        fallback: &#39;vue-style-loader&#39;,</span><br><span class="line">        publicPath: &#39;..&#x2F;..&#x2F;&#39;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125; else &#123;</span><br><span class="line">	return [&#39;vue-style-loader&#39;].concat(loaders)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="Git"><a href="#Git" class="headerlink" title="Git"></a>Git</h2><blockquote>
<p>You have not concluded your merge (MERGE_HEAD exists). Please, commit your changes before you can merge.</p>
</blockquote>
<h4 id="æŠ¥é”™åŸå› "><a href="#æŠ¥é”™åŸå› " class="headerlink" title="æŠ¥é”™åŸå› "></a>æŠ¥é”™åŸå› </h4><p>ä¸Šä¸€æ¬¡pullçš„ä»£ç æœ‰å†²çªè‡ªåŠ¨åˆå¹¶å¤±è´¥ï¼Œåœ¨ä¸‹ä¸€æ¬¡pullä¹‹å‰ä½ æ²¡æœ‰å¾ˆå¥½çš„è§£å†³è¿™ä¸ªå†²çª</p>
<h4 id="è§£å†³æ–¹æ¡ˆ"><a href="#è§£å†³æ–¹æ¡ˆ" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h4><p>æ’¤é”€è¿™æ¬¡åˆå¹¶</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">1ã€git merge --abort</span><br><span class="line">2ã€git reset --merge</span><br></pre></td></tr></table></figure>
<p>3ã€è§£å†³å†²çª<br>4ã€<code>git add</code>å’Œ<code>git commit</code><br>5ã€ è¿™æ—¶å€™<code>git pull</code>åº”è¯¥å°±å¯ä»¥ä½¿ç”¨äº†</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">## js</span><br><span class="line"></span><br><span class="line">### é‡‡ç”¨å‡½æ•°å¼ç¼–ç¨‹çš„æ€æƒ³æ±‚æ•°ç»„å¯¹è±¡ä¸­æŸä¸ªå±æ€§çš„å€¼ä¹‹å’Œ</span><br></pre></td></tr></table></figure>
<p>const programmerOutput = [<br>  {<br>    name: â€˜Uncle Bobbyâ€™,<br>    linesOfCode: 500<br>  }, {<br>    name: â€˜Suzie Qâ€™,<br>    linesOfCode: 1500<br>  }, {<br>    name: â€˜Jimmy Goslingâ€™,<br>    linesOfCode: 150<br>  }, {<br>    name: â€˜Gracie Hopperâ€™,<br>    linesOfCode: 1000<br>  }<br>];</p>
<p>var totalOutput = programmerOutput<br>  .map((programmer) =&gt; programmer.linesOfCode)<br>  .reduce((acc, linesOfCode) =&gt; acc + linesOfCode, 0);</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### ä½¿ç”¨ Object.assign è®¾ç½®å‡½æ•°å‚æ•°çš„é»˜è®¤å¯¹è±¡</span><br><span class="line"></span><br><span class="line">&#96;Object.assign&#96;æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ç›®æ ‡å¯¹è±¡ï¼Œåé¢çš„å‚æ•°éƒ½æ˜¯æºå¯¹è±¡ã€‚</span><br><span class="line"></span><br><span class="line">&#96;Object.assign&#96;æ–¹æ³•ç”¨äºå¯¹è±¡çš„åˆå¹¶ï¼Œå°†æºå¯¹è±¡ï¼ˆsourceï¼‰çš„æ‰€æœ‰å¯æšä¸¾å±æ€§ï¼Œå¤åˆ¶åˆ°ç›®æ ‡å¯¹è±¡ï¼ˆtargetï¼‰ã€‚</span><br><span class="line"></span><br><span class="line">æ³¨æ„ï¼Œå¦‚æœç›®æ ‡å¯¹è±¡ä¸æºå¯¹è±¡æœ‰åŒåå±æ€§ï¼Œæˆ–å¤šä¸ªæºå¯¹è±¡æœ‰åŒåå±æ€§ï¼Œåˆ™åé¢çš„å±æ€§ä¼šè¦†ç›–å‰é¢çš„å±æ€§ã€‚</span><br></pre></td></tr></table></figure>
<p>var menuConfig = {<br>  title: null,<br>  body: â€˜Barâ€™,<br>  buttonText: null,<br>  cancellable: true<br>}</p>
<p>function createMenu(config) {<br>  config.title = config.title || â€˜Fooâ€™<br>  config.body = config.body || â€˜Barâ€™<br>  config.buttonText = config.buttonText || â€˜Bazâ€™<br>  config.cancellable = config.cancellable === undefined ? config.cancellable : true;</p>
<p>}</p>
<p>//ä½¿ç”¨Object.assign<br>var menuConfig = {<br>  title: â€˜Orderâ€™,<br>  // User did not include â€˜bodyâ€™ key<br>  buttonText: â€˜Sendâ€™,<br>  cancellable: true<br>}</p>
<p>function createMenu(config) {<br>  config = Object.assign({<br>    title: â€˜Fooâ€™,<br>    body: â€˜Barâ€™,<br>    buttonText: â€˜Bazâ€™,<br>    cancellable: true<br>  }, config);<br>}</p>
<p>createMenu(menuConfig);<br>//{ â€œtitleâ€: â€œOrderâ€, â€œbodyâ€: â€œBarâ€, â€œbuttonTextâ€: â€œSendâ€, â€œcancellableâ€: true}</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### åˆ¤æ–­æ•°ç»„å’Œæ•°ç»„å¯¹è±¡ä¸­æ˜¯å¦æœ‰é‡å¤å€¼</span><br><span class="line"></span><br><span class="line">æ•°ç»„ï¼š</span><br></pre></td></tr></table></figure>
<p>ç®€å•æ–¹å¼ä¸€<br>const elementsAreEqual = array =&gt; array.some(el =&gt; el === array[0]);<br>elementsAreEqual([9, 8, 7, 7, 5]); // true<br>å¤æ‚æ–¹å¼äºŒ<br>isRepeat(arr) {<br>            var hash = {};<br>            let that = this;<br>            for (var i in arr) {<br>                if (hash[arr[i]]){<br>                    that.repeatSn = arr[i];<br>                    return true;<br>                }<br>                hash[arr[i]] = true;<br>            }<br>            return false;<br>        },<br>true â€“ æœ‰é‡å¤å€¼</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">æ•°ç»„å¯¹è±¡</span><br></pre></td></tr></table></figure>
<p>isRepeat(arr) {<br>      for (var i = 0; i &lt; arr.length - 1; i++) {<br>        for (var j = i + 1; j &lt; arr.length; j++) {<br>          if (arr[i].sn === arr[j].sn) {<br>            this.repeatSn=arr[i].sn;<br>            return false;<br>          }<br>        }<br>      }<br>      return true;<br>    },<br>false â€“ æœ‰é‡å¤å€¼</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### è¿”å›æ•°å­—æ•°ç»„ä¸­çš„æœ€å¤§å€¼ï¼ˆä¸€ä¸ªæˆ–å¤šä¸ªï¼‰</span><br></pre></td></tr></table></figure>
<p>const maxElementsFromArray = (array, len = 1) =&gt; [â€¦array].sort((x, y) =&gt; y - x).slice(0, len);</p>
<p>maxElementsFromArray([1, 2, 3, 4, 5]); // [5]<br>maxElementsFromArray([7, 8, 9, 10, 10], 2); // [10, 10]</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### è®ºå¦‚ä½•ä¼˜é›…çš„å–éšæœºå­—ç¬¦ä¸²</span><br></pre></td></tr></table></figure>
<p>Math.random().toString(16).substring(2) // 13ä½<br>Math.random().toString(36).substring(2) // 11ä½</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### å¦‚ä½•ä¼˜é›…çš„å®ç°é‡‘é’±æ ¼å¼åŒ–</span><br><span class="line"></span><br><span class="line">ç”¨æ­£åˆ™é­”æ³•å®ç°ï¼š</span><br></pre></td></tr></table></figure>
<p>var test1 = â€˜1234567890â€™<br>var format = test1.replace(/\B(?=(\d{3})+(?!\d))/g, â€˜,â€™)<br>console.log(format) // 1,234,567,890</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">éæ­£åˆ™çš„ä¼˜é›…å®ç°ï¼š</span><br></pre></td></tr></table></figure>
<p> function formatCash(str) {<br>       return str.split(â€˜â€™).reverse().reduce((prev, next, index) =&gt; {<br>            return ((index % 3) ? next : (next + â€˜,â€™)) + prev<br>       })<br>}<br>console.log(formatCash(â€˜1234567890â€™)) // 1,234,567,890</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### è®ºå¦‚ä½•æœ€ä½³çš„è®©ä¸¤ä¸ªæ•´æ•°äº¤æ¢æ•°å€¼</span><br></pre></td></tr></table></figure>
<p>a ^= b;<br>b ^= a;<br>a ^= b;</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### ç”¨æœ€çŸ­çš„ä»£ç å®ç°ä¸€ä¸ªé•¿åº¦ä¸ºm(6)ä¸”å€¼éƒ½n(8)çš„æ•°ç»„</span><br></pre></td></tr></table></figure>
<p>Array(6).fill(8)</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### çŸ­è·¯è¡¨è¾¾å¼</span><br></pre></td></tr></table></figure>
<p>var a = b &amp;&amp; 1<br>    // ç›¸å½“äº<br>if (b) {<br>    a = 1<br>} else {<br>    a = b<br>}<br>var a = b || 1<br>    // ç›¸å½“äº<br>if (b) {<br>    a = b<br>} else {<br>    a = 1<br>}</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### jsæå–å­—ç¬¦ä¸²ä¸­çš„æ•°å­—</span><br></pre></td></tr></table></figure>
<p>1.å‰é¢å¸¦æ•°å­—,åé¢éæ•°å­—,å¯ä»¥ç›´æ¥ç”¨parseFloat()å‡½æ•°:<br>var num1 = parseFloat(â€œ2.89å…ƒâ€); //num1 : 2.89</p>
<p>2.åƒâ€ç”Ÿäº1999å¹´â€è¿™æ ·å­—ç¬¦ä¸²ä¸­åªå«æœ‰ä¸€ä¸ªæ•´å‹æ•°å€¼çš„å­—ç¬¦ä¸²,ç›´æ¥ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼å°†æ•°å­—çš„å­—ç¬¦åˆ é™¤æ‰å°±è¡Œ<br>var str1 = â€˜ç”Ÿäº1999å¹´â€™;<br>var num1 = str1.replace(/[^\d]/g,â€™ â€˜);</p>
<p>3.å¯¹äºå­—ç¬¦ä¸²ä¸­å«æœ‰å¤šæ•°å€¼,ä½¿ç”¨å­—ç¬¦ä¸²çš„matchæ–¹æ³•,é€šè¿‡æ­£åˆ™è¡¨è¾¾å¼æå–å­—ç¬¦ä¸²çš„æ‰€æœ‰æ•°å­—(åŒ…å«æ•´æ•°å’Œå°æ•°):<br>var str=â€1 plus 2 equal 3â€<br>var arr=str.match(/\d+/g)<br>// arr: [â€˜1â€™,â€™2â€™,â€™3â€™]</p>
<p>var str = â€˜å¤§ç±³:2.57æ–¤/å…ƒ,ç™½èœ:3.65å…ƒ/æ–¤â€™;<br>var arr = str.match(/\d+(.\d+)?/g);<br>// arr: [â€œ2.75â€,â€3.65â€]</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### ç±»å‹è½¬æ¢é‚£äº›äº‹</span><br></pre></td></tr></table></figure>
<p>Number(â€˜324abcâ€™) // NaN<br>åªè¦æœ‰ä¸€ä¸ªå­—ç¬¦æ— æ³•è½¬æˆæ•°å€¼ï¼Œæ•´ä¸ªå­—ç¬¦ä¸²å°±ä¼šè¢«è½¬ä¸ºNaN</p>
<p>parseInt(â€˜32a3â€™) //32<br>é€ä¸ªè§£æå­—ç¬¦ï¼Œé‡åˆ°ä¸èƒ½è½¬æ¢çš„å­—ç¬¦å°±åœä¸‹æ¥</p>
<p>//å¯¹è±¡<br>String({a: 1}) // â€œ[object Object]â€<br>String([1, 2, 3]) // â€œ1,2,3â€</p>
<p>Boolean(new Boolean(false)) //true</p>
<p>è‡ªåŠ¨è½¬æ¢ä¸ºå¸ƒå°”å€¼<br>åœ¨éœ€è¦å¸ƒå°”å€¼çš„åœ°æ–¹ï¼Œå°±ä¼šå°†éå¸ƒå°”å€¼çš„å‚æ•°è‡ªåŠ¨è½¬ä¸ºå¸ƒå°”å€¼ï¼Œç³»ç»Ÿå†…éƒ¨ä¼šè°ƒç”¨Booleanå‡½æ•°<br>å¯ä»¥å¾—å‡ºä¸ªå°ç»“ï¼š<br>undefined<br>null<br>false<br>+0<br>-0<br>NaN<br>â€œâ€<br>é™¤äº†ä¸Šé¢å‡ ç§ä¼šè¢«è½¬åŒ–æˆfalseï¼Œå…¶ä»–éƒ½æ¢è¢«è½¬åŒ–æˆtrue</p>
<p>è‡ªåŠ¨è½¬æ¢æˆå­—ç¬¦ä¸²<br>é‡åˆ°é¢„æœŸä¸ºå­—ç¬¦ä¸²çš„åœ°æ–¹ï¼Œå°±ä¼šå°†éå­—ç¬¦ä¸²çš„å€¼è‡ªåŠ¨è½¬ä¸ºå­—ç¬¦ä¸²<br>å…·ä½“è§„åˆ™æ˜¯ï¼šå…ˆå°†å¤åˆç±»å‹çš„å€¼è½¬ä¸ºåŸå§‹ç±»å‹çš„å€¼ï¼Œå†å°†åŸå§‹ç±»å‹çš„å€¼è½¬ä¸ºå­—ç¬¦ä¸²<br>å¸¸å‘ç”Ÿåœ¨+è¿ç®—ä¸­ï¼Œä¸€æ—¦å­˜åœ¨å­—ç¬¦ä¸²ï¼Œåˆ™ä¼šè¿›è¡Œå­—ç¬¦ä¸²æ‹¼æ¥æ“ä½œ<br>â€˜5â€™ + 1 // â€˜51â€™<br>â€˜5â€™ + true // â€œ5trueâ€<br>â€˜5â€™ + false // â€œ5falseâ€<br>â€˜5â€™ + {} // â€œ5[object Object]â€<br>â€˜5â€™ + [] // â€œ5â€<br>â€˜5â€™ + function (){} // â€œ5function (){}â€<br>â€˜5â€™ + undefined // â€œ5undefinedâ€<br>â€˜5â€™ + null // â€œ5nullâ€</p>
<p>è‡ªåŠ¨è½¬æ¢æˆæ•°å€¼<br>é™¤äº†+æœ‰å¯èƒ½æŠŠè¿ç®—å­è½¬ä¸ºå­—ç¬¦ä¸²ï¼Œå…¶ä»–è¿ç®—ç¬¦éƒ½ä¼šæŠŠè¿ç®—å­è‡ªåŠ¨è½¬æˆæ•°å€¼<br>â€˜5â€™ - â€˜2â€™ // 3<br>â€˜5â€™ * â€˜2â€™ // 10<br>true - 1  // 0<br>false - 1 // -1<br>â€˜1â€™ - 1   // 0<br>â€˜5â€™ * []    // 0<br>false / â€˜5â€™ // 0<br>â€˜abcâ€™ - 1   // NaN<br>null + 1 // 1<br>undefined + 1 // NaN<br>nullè½¬ä¸ºæ•°å€¼æ—¶ï¼Œå€¼ä¸º0 ã€‚undefinedè½¬ä¸ºæ•°å€¼æ—¶ï¼Œå€¼ä¸ºNaN</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### å¯¹äºå¦‚ä½•æ›¿æ¢JSå­—ç¬¦ä¸²ä¸­åŒ¹é…åˆ°å¤šå¤„ä¸­æŸä¸€æŒ‡å®šèŠ‚ç‚¹</span><br></pre></td></tr></table></figure>
<p>const str =â€è¿™æ˜¯ä¸»ä½“å†…å®¹ï¼Œæœ‰å¾ˆå¤šå†…å®¹ï¼Œå–œæ¬¢çœ‹è¿™ä¸ªå†…å®¹å°±å…³æ³¨å§â€;<br>const reg = new RegExp(â€˜å†…å®¹â€˜, â€˜gâ€˜);<br>let ret;<br>const arr=[];<br>while((ret = reg.exec(str))!==null) {<br>    arr.push({id:ret.index,content:ret.input})<br>}<br>const replaceStr = (strs, index, text,len) =&gt; {<br>    return strs.substring(0, index) + text + strs.substring(index + len);<br>};<br> // æ›¿æ¢æ–‡æœ¬çš„ç¬¬ä¸‰å¤„â€œå†…å®¹â€ä¸º â€œæ–‡ç« â€<br>const newVal= replaceStr(str, arr[2].id, â€˜æ–‡ç« â€˜,2);<br>console.log(newVal)  // è¿™æ˜¯ä¸»ä½“å†…å®¹ï¼Œæœ‰å¾ˆå¤šå†…å®¹ï¼Œå–œæ¬¢çœ‹è¿™ä¸ªæ–‡ç« å°±å…³æ³¨å§</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### æ‰“å­—æœºåŠ¨ç”»</span><br></pre></td></tr></table></figure>
<p>(function () {<br>  const container = document.getElementById(â€˜contentâ€™)<br>  const data = â€˜ä¸ setTimeout ç›¸æ¯”ï¼ŒrequestAnimationFrame æœ€å¤§çš„ä¼˜åŠ¿æ˜¯ ç”±ç³»ç»Ÿæ¥å†³å®šå›è°ƒå‡½æ•°çš„æ‰§è¡Œæ—¶æœºã€‚å…·ä½“ä¸€ç‚¹è®²å°±æ˜¯ï¼Œç³»ç»Ÿæ¯æ¬¡ç»˜åˆ¶ä¹‹å‰ä¼šä¸»åŠ¨è°ƒç”¨ requestAnimationFrame ä¸­çš„å›è°ƒå‡½æ•°ï¼Œå¦‚æœç³»ç»Ÿç»˜åˆ¶ç‡æ˜¯ 60Hzï¼Œé‚£ä¹ˆå›è°ƒå‡½æ•°å°±æ¯16.7ms è¢«æ‰§è¡Œä¸€æ¬¡ï¼Œå¦‚æœç»˜åˆ¶é¢‘ç‡æ˜¯75Hzï¼Œé‚£ä¹ˆè¿™ä¸ªé—´éš”æ—¶é—´å°±å˜æˆäº† 1000/75=13.3msã€‚æ¢å¥è¯è¯´å°±æ˜¯ï¼ŒrequestAnimationFrame çš„æ‰§è¡Œæ­¥ä¼è·Ÿç€ç³»ç»Ÿçš„ç»˜åˆ¶é¢‘ç‡èµ°ã€‚å®ƒèƒ½ä¿è¯å›è°ƒå‡½æ•°åœ¨å±å¹•æ¯ä¸€æ¬¡çš„ç»˜åˆ¶é—´éš”ä¸­åªè¢«æ‰§è¡Œä¸€æ¬¡ï¼Œè¿™æ ·å°±ä¸ä¼šå¼•èµ·ä¸¢å¸§ç°è±¡ï¼Œä¹Ÿä¸ä¼šå¯¼è‡´åŠ¨ç”»å‡ºç°å¡é¡¿çš„é—®é¢˜ã€‚â€™.split(â€˜â€™)<br>  let index = 0<br>  function writing() {<br>        if (index &lt; data.length) {<br>          container.innerHTML += data[index++]<br>          window.requestAnimationFrame(writing)<br>          //å‡æ…¢é€Ÿåº¦<br>          setTimeout(() =&gt; {<br>            window.requestAnimationFrame(writing)<br>          }, 200);<br>          //<br>      }<br>  }<br>      writing()<br>})();</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### å°æŠ€å·§</span><br></pre></td></tr></table></figure>
<ol>
<li><p>äº¤æ¢ä¸¤ä¸ªå˜é‡<br>[x, y] = [y, x];</p>
</li>
<li><p>å¤šæ¡ä»¶æ£€æŸ¥<br>if ([1, â€˜oneâ€™, 2, â€˜twoâ€™].indexOf(value) &gt;= 0) {<br> // Execute some code<br>}</p>
</li>
</ol>
<p>if ([1, â€˜oneâ€™, 2, â€˜twoâ€™].includes(value)) {<br>    // Execute some code<br>}</p>
<ol start="3">
<li><p>å¯¹è±¡å±æ€§å¤åˆ¶<br>let firstname = â€˜Amitavâ€™;<br>let lastname = â€˜Mishraâ€™;<br>let obj = {firstname, lastname};</p>
</li>
<li><p>é‡å¤ä¸€ä¸ªå­—ç¬¦ä¸²å¤šæ¬¡<br>â€˜sorry\nâ€™.repeat(100);</p>
</li>
<li><p>æŒ‡æ•°å¹‚<br>const power = 4**3</p>
</li>
<li><p>åŒéä½è¿ç®—ç¬¦ (<del>)<br>const floor = ~</del>6.8;</p>
</li>
</ol>
<p>7.æ‰¾å‡ºæ•°ç»„ä¸­çš„æœ€å¤§å’Œæœ€å°æ•°å­—<br>const arr = [2, 8, 15, 4];<br>Math.max(â€¦arr); // 15<br>Math.min(â€¦arr); // 2</p>
<p>8.æ·±æ‹·è´å¤šçº§å¯¹è±¡<br>let obj = {x: 20, y: {z: 30}};<br>//Longhand<br>const makeDeepClone = (obj) =&gt; {<br>  let newObject = {};<br>  Object.keys(obj).map(key =&gt; {<br>    if(typeof obj[key] === â€˜objectâ€™){<br>      newObject[key] = makeDeepClone(obj[key]);<br>    } else {<br>      newObject[key] = obj[key];<br>    }<br>  });<br> return newObject;<br>}<br>const cloneObj = makeDeepClone(obj);</p>
<p>//Shorthand<br>const cloneObj = JSON.parse(JSON.stringify(obj));</p>
<p>//Shorthand for single level object<br>let obj = {x: 20, y: â€˜helloâ€™};<br>const cloneObj = {â€¦obj};</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### !!</span><br></pre></td></tr></table></figure>
<p>å¦‚ä½•æŠŠä¸€ä¸ªä»»æ„ç±»å‹çš„å€¼è½¬æ¢ä¸ºå¸ƒå°”ç±»å‹ï¼Ÿ<br>ç”¨ï¼ï¼ ä¸€ä¸ªï¼æ˜¯å–é å†ä¸€ä¸ªï¼åˆå–é ç›¸å½“äºæŠŠè¿™ä¸ªæ•°æ®è½¬æ¢ä¸ºboolenç±»å‹äº†</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### æ•°é˜¶ä¹˜</span><br></pre></td></tr></table></figure>
<p>const factorialOfNumber = number =&gt;<br>  number &lt; 0<br>    ? (() =&gt; {<br>      throw new TypeError(â€˜No negative numbers pleaseâ€™);<br>    })()<br>    : number &lt;= 1<br>      ? 1<br>      : number * factorialOfNumber(number - 1);</p>
<p>factorialOfNumber(4); // 24</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### æ•´æ•°è½¬æ•°ç»„</span><br></pre></td></tr></table></figure>
<p>const convertToArray = number =&gt; [â€¦<code>${number}</code>].map(el =&gt; parseInt(el))</p>
<p>convertToArray(5678); // [5, 6, 7, 8]</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### æ£€æŸ¥æ˜¯å¦ä¸º2çš„å¹‚æ•°</span><br></pre></td></tr></table></figure>
<p>const isNumberPowerOfTwo = number =&gt; !!number &amp;&amp; (number &amp; (number - 1)) === 0;</p>
<p>isNumberPowerOfTwo(100); // false<br>isNumberPowerOfTwo(128); // true</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### ç”Ÿæˆä¸€ä¸ª0-999é¡ºåºçš„åˆ—è¡¨</span><br></pre></td></tr></table></figure>
<p>Array.from({ length: 1000 }, (v, i) =&gt; i)<br>// [0, 1, 2, 3, 4, 5, 6â€¦.999]</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### RGBâ†’è½¬æ¢ä¸ºåå…­è¿›åˆ¶</span><br></pre></td></tr></table></figure>
<p>var rgb2hex = (r, g, b) =&gt; {<br>    return â€˜#â€™+ ((1&lt;&lt;24)+(r&lt;&lt;16)+(g&lt;&lt;8)+b)<br>    .toString(16)//è½¬æˆ16è¿›åˆ¶ï¼Œè¿”å›å­—ç¬¦ä¸²<br>    .substr(1);//å»é™¤å­—ç¬¦ä¸²çš„æœ€é«˜ä½ï¼Œè¿”å›åé¢å…­ä¸ªå­—ç¬¦ä¸²<br>}<br>var rgb2hex = (r, g, b) =&gt; â€˜#â€™+ ((1&lt;&lt;24)+(r&lt;&lt;16)+(g&lt;&lt;8)+b).toString(16).substr(1);<br>rgb2hex(76, 11, 181);</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### è½¬æ¢åå…­è¿›åˆ¶â†’RGB</span><br></pre></td></tr></table></figure>
<p>const hex2rgb = hex =&gt; [1, 3, 5].map((h) =&gt; parseInt(hex.substring(h, h + 2), 16));</p>
<p>hex2rgb(â€œ#4c0bb5â€);<br>// [76, 11, 181]</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">## vueå…¨å±€é˜²æŠ–å’ŒèŠ‚æµ</span><br></pre></td></tr></table></figure>
<p>// é˜²æŠ–å¤„ç†-ç«‹å³æ‰§è¡Œ<br>const on = Vue.prototype.$on<br>Vue.prototype.$on = function (event, func) {<br>  let timer;<br>  let flag = true;<br>  let newFunc = func<br>  if (event == â€˜clickâ€™) {<br>    newFunc = function () {<br>      if(flag) {<br>        func.apply(this, arguments)<br>        flag = false<br>      }<br>      clearTimeout(timer)<br>      timer = setTimeout(function () {<br>        flag = true<br>      }, 500)<br>    }<br>  }<br>  on.call(this, event, newFunc)<br>}</p>
<p>// é˜²æŠ–å¤„ç† â€“ æœ€åæ‰§è¡Œ<br>const on = Vue.prototype.$on<br>Vue.prototype.$on = function (event, func) {<br>  let timer<br>  let newFunc = func<br>  if (event === â€˜clickâ€™) {<br>    newFunc = function () {<br>      clearTimeout(timer)<br>      timer = setTimeout(function () {<br>        func.apply(this, arguments)<br>      }, 500)<br>    }<br>  }<br>  on.call(this, event, newFunc)<br>}</p>
<p>// èŠ‚æµ<br>const on = Vue.prototype.$on<br>Vue.prototype.$on = function (event, func) {<br>  let previous = 0<br>  let newFunc = func<br>  if (event === â€˜clickâ€™) {<br>    newFunc = function () {<br>      const now = new Date().getTime()<br>      if (previous + 1000 &lt;= now) {<br>        func.apply(this, arguments)<br>        previous = now<br>      }<br>    }<br>  }<br>  on.call(this, event, newFunc)<br>}</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">## æ”¯æŒwebpæ ¼å¼å›¾ç‰‡</span><br><span class="line"></span><br><span class="line">npm install file-loader</span><br></pre></td></tr></table></figure>
<p>rulesä¸­æ–°å¢</p>
<p>{<br>                test: /.webp$/,<br>                use: [<br>                    {<br>                        loader: â€˜file-loaderâ€™,<br>                        query: {<br>                            limit: 10000,<br>                            name: utils.assetsPath(â€˜img/[name].[hash:7].[ext]â€™)<br>                        }<br>                    }<br>                ]<br>}</p>
<p>æœåŠ¡å™¨å¯èƒ½ä¸æ”¯æŒwebpæ ¼å¼å›¾ç‰‡ï¼Œåšäº†æ‹¦æˆª<br>åŸæ¥æ˜¯æœåŠ¡å™¨ä¸Šé¢ä¸èƒ½è§£æwebpï¼Œè‡ªå·±åœ¨ç™¾åº¦ä¸Šé¢ä¸Šæ‰¾åˆ°äº†æ–¹æ³•è§£å†³ï¼Œåœ¨iisçš„MIMEç±»å‹ä¸­ä¸­æ·»åŠ webp</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">## æ ‡ç­¾ä¸­srcå¾ªç¯å›¾ç‰‡</span><br></pre></td></tr></table></figure>
<img :src="require('../../../static/imgs/board/'+item.url+'.png')" style="width:36px">
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">## ç¦æ­¢è’™å±‚åº•éƒ¨é¡µé¢è·Ÿéšæ»šåŠ¨</span><br><span class="line"></span><br><span class="line">å°†é¡µé¢å›ºå®šè§†çª—åï¼Œå†…å®¹ä¼šå›å¤´æœ€é¡¶ç«¯ï¼Œè¿™é‡Œæˆ‘ä»¬éœ€è¦è®°å½•ä¸€ä¸‹ï¼ŒåŒæ­¥topå€¼ã€‚</span><br></pre></td></tr></table></figure>
let bodyEl = document.body
let top = 0
data() {
    return {
        isFixed: true
    }
},
watch: {
    isFixed() {
        this.stopBodyScroll();
    }
},

<p>function stopBodyScroll (isFixed) {<br>  if (this.isFixed) {<br>    top = window.scrollY<br>    bodyEl.style.position = â€˜fixedâ€™<br>    bodyEl.style.top = -top + â€˜pxâ€™<br>  } else {<br>    bodyEl.style.position = â€˜â€™<br>    bodyEl.style.top = â€˜â€™<br>    window.scrollTo(0, top) // å›åˆ°åŸå…ˆçš„top<br>  }<br>}</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">## css</span><br><span class="line"></span><br><span class="line">cssæ–‡å­—è¶…å‡ºæ˜¾ç¤ºçœç•¥å·</span><br><span class="line"></span><br><span class="line">### å•å·ï¼š</span><br></pre></td></tr></table></figure>
<p>white-space:nowrap;<br>overflow:hidden;<br>text-overflow:ellipsis;</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">### å¤šè¡Œï¼š</span><br></pre></td></tr></table></figure>
<p>word-break: break-all;<br>text-overflow: ellipsis;<br>overflow: hidden;<br>display: -webkit-box;<br>-webkit-line-clamp: 2;<br>-webkit-box-orient: vertical;</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### ç§»åŠ¨ç«¯0.5px</span><br></pre></td></tr></table></figure>
<p>/* åº•è¾¹æ¡† */<br>.b-border {<br>  position: relative;<br>}<br>.b-border:before {<br>  content: â€˜â€™;<br>  position: absolute;<br>  left: 0;<br>  bottom: 0;<br>  width: 100%;<br>  height: 1px;<br>  background: #d9d9d9;<br>  -webkit-transform: scaleY(0.5);<br>  transform: scaleY(0.5);<br>  -webkit-transform-origin: 0 0;<br>  transform-origin: 0 0;<br>}</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">### æ–‡å­—å’Œå›¾ç‰‡çš„æ¨¡ç³Šæ•ˆæœ</span><br></pre></td></tr></table></figure>
<p>æ–‡å­—<br>{<br>color: transparent;<br>text-shadow: #111 0 0 5px;<br>}</p>
<p>å›¾ç‰‡<br>{filter: blur(10px);}</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### å¤šé‡è¾¹æ¡†</span><br></pre></td></tr></table></figure>
<p>div {<br>    box-shadow: 0 0 0 6px rgba(0, 0, 0, 0.2), 0 0 0 12px rgba(0, 0, 0, 0.2), 0 0 0 18px rgba(0, 0, 0, 0.2), 0 0 0 24px rgba(0, 0, 0, 0.2);<br>    height: 200px;<br>    margin: 50px auto;<br>    width: 400px<br>}</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">![å›¾ç‰‡](https:&#x2F;&#x2F;mmbiz.qpic.cn&#x2F;mmbiz_png&#x2F;JIv7z1kbomC1q64N8lmP3G4pmFoVadU1pJSIJvFyqr5aGADc7ibWE0lKAibtUG9bicIMWSCBVd5icJyssbG2JiahpLQ&#x2F;640?wx_fmt&#x3D;png&amp;tp&#x3D;webp&amp;wxfrom&#x3D;5&amp;wx_lazy&#x3D;1&amp;wx_co&#x3D;1)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### ä¸ç”¨ä½¿ç”¨:last-child()&#123;border:none&#125;æŠ€å·§</span><br></pre></td></tr></table></figure>
<p>ul {<br>    width: 200px;<br>    margin: auto;<br>    list-style: none;<br>    padding: 0;<br>    border: 1px solid red;<br>    text-align: center;<br>}</p>
<p>li + li {<br>    border-top: 1px solid red;<br>}</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">![image-20210326143420979](vueä¹‹seekcyå¼€å‘å†ç¨‹è®°å½•1.assets&#x2F;image-20210326143420979.png)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### ç€‘å¸ƒæµå¸ƒå±€</span><br></pre></td></tr></table></figure>
<p>html<br><template><br>    <div class="waterfall"><br>        <div v-for="(item,index) in 20" :style="{height:heights[Math.floor(Math.random()*4)] + 'px',background:colors[Math.floor(Math.random()*12)]}" :key="index"><br>            <br>        </div><br>    </div><br></template></p>
<p>js<br>data() {<br>        return {<br>            //æ¨¡æ‹Ÿéšæœºé«˜åº¦<br>            heights: [200, 250, 150, 300],<br>            //é¢œè‰²å°½é‡éšæœº,åŒºåˆ«æ¯ä¸ªæ¨¡å—<br>            colors: [â€˜#eccf2câ€™, â€˜#b8232câ€™, â€˜#125d9eâ€™, â€˜#367945â€™, â€˜#fca91bâ€™, â€˜#26ada7â€™, â€˜#77bfbfâ€™, â€˜#ff5c87â€™,<br>                â€˜#f40â€™, â€˜#ee2061â€™, â€˜#feee39â€™, â€˜#f5a79aâ€™, â€˜#ec70d0â€™, â€˜#b4a1cfâ€™]<br>        }<br>}</p>
<p>css<br>.waterfall {<br>    width: 400px;<br>    margin: 0 auto;<br>    column-count: 3;<br>    column-gap: 10px;<br>}<br>.waterfall &gt; div {<br>    break-inside: avoid;<br>}</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### pointer-eventså±æ€§</span><br><span class="line"></span><br><span class="line">pointer-eventsæ˜¯css3çš„ä¸€ä¸ªå±æ€§ï¼ŒæŒ‡å®šåœ¨ä»€ä¹ˆæƒ…å†µä¸‹å…ƒç´ å¯ä»¥æˆä¸ºé¼ æ ‡äº‹ä»¶çš„targetï¼ˆåŒ…æ‹¬é¼ æ ‡çš„æ ·å¼ï¼‰</span><br><span class="line"></span><br><span class="line">å±æ€§å€¼ï¼š</span><br><span class="line"></span><br><span class="line">- autoâ€”â€”æ•ˆæœå’Œæ²¡æœ‰å®šä¹‰pointer-eventså±æ€§ç›¸åŒï¼Œé¼ æ ‡ä¸ä¼šç©¿é€å½“å‰å±‚ã€‚åœ¨SVGä¸­ï¼Œè¯¥å€¼å’ŒvisiblePaintedçš„æ•ˆæœç›¸åŒã€‚</span><br><span class="line">- noneâ€”â€”å…ƒç´ æ°¸è¿œä¸ä¼šæˆä¸ºé¼ æ ‡äº‹ä»¶çš„[target](https:&#x2F;&#x2F;developer.mozilla.org&#x2F;en-US&#x2F;docs&#x2F;Web&#x2F;API&#x2F;event.target)ï¼ˆç›®æ ‡ï¼‰ã€‚ä½†æ˜¯ï¼Œå½“å…¶åä»£å…ƒç´ çš„&#96;pointer-events&#96;å±æ€§æŒ‡å®šå…¶ä»–å€¼æ—¶ï¼Œé¼ æ ‡äº‹ä»¶å¯ä»¥æŒ‡å‘åä»£å…ƒç´ ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œé¼ æ ‡äº‹ä»¶å°†åœ¨æ•è·æˆ–å†’æ³¡é˜¶æ®µè§¦å‘çˆ¶å…ƒç´ çš„äº‹ä»¶ä¾¦å¬å™¨ã€‚å®é™…ä¸Šé»˜  è®¤å°±å¯ä»¥ç©¿é€å½“å‰å±‚ï¼Œå› ä¸ºpointer-eventsé»˜è®¤ä¸ºauto</span><br></pre></td></tr></table></figure>
<p>æ¡ˆä¾‹ä¸€ï¼šç¦ç”¨ a æ ‡ç­¾äº‹ä»¶æ•ˆæœ</p>
<p>åœ¨åš tab åˆ‡æ¢çš„æ—¶å€™ï¼Œå½“é€‰ä¸­å½“å‰é¡¹ï¼Œç¦ç”¨å½“å‰æ ‡ç­¾çš„äº‹ä»¶ï¼Œåªæœ‰åˆ‡æ¢å…¶ä»– tab çš„æ—¶å€™ï¼Œæ‰é‡æ–°è¯·æ±‚æ–°çš„æ•°æ®ã€‚</p>
 <!--CSS-->
 <style>
     .active{
         pointer-events: none;
     }
 </style>
 <!--HTML-->
 <ul>
     <li><a class="tab"></a></li>
     <li><a class="tab active"></a></li>
     <li><a class="tab"></a></li>
 </ul>å¤åˆ¶ä»£ç 


<p>æ¡ˆä¾‹äºŒï¼šåˆ‡æ¢å¼€/å…³æŒ‰é’®çŠ¶æ€</p>
<p>ç‚¹å‡»æäº¤æŒ‰é’®çš„æ—¶å€™ï¼Œä¸ºäº†é˜²æ­¢ç”¨æˆ·ä¸€ç›´ç‚¹å‡»æŒ‰é’®ï¼Œå‘é€è¯·æ±‚ï¼Œå½“è¯·æ±‚æœªè¿”å›ç»“æœä¹‹å‰ï¼Œç»™æŒ‰é’®å¢åŠ  pointer-events: noneï¼Œå¯ä»¥é˜²æ­¢è¿™ç§æƒ…å†µï¼Œè¿™ç§æƒ…å†µåœ¨ä¸šåŠ¡ä¸­ä¹Ÿååˆ†å¸¸è§ã€‚</p>
 <!--CSS-->
<p>.j-pro{ pointer-events: none; }</p>
<!--HTML-->
<p>&lt;button r-model={this.submit()} r-class={â€œj-proâ€: flag}&gt;æäº¤</p>
<!--JS-->
<p>submit: function(){<br>ã€€ã€€this.data.flag = true;<br>ã€€ã€€this.$request(url, {<br>ã€€ã€€ã€€ã€€// â€¦ onload: function(json){<br>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€if(json.retCode == 200){<br>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€this.data.flag = false;<br>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€} }.bind(this)<br>ã€€ã€€ã€€ã€€// â€¦<br>ã€€ã€€});<br>}<br>æ¡ˆä¾‹ä¸‰ï¼šé˜²æ­¢é€æ˜å…ƒç´ å’Œå¯ç‚¹å‡»å…ƒç´ é‡å ä¸èƒ½ç‚¹å‡»</p>
<p>ä¸€äº›å†…å®¹çš„å±•ç¤ºåŒºåŸŸï¼Œä¸ºäº†å®ç°ä¸€äº›å¥½çœ‹çš„ css æ•ˆæœï¼Œå½“å…ƒç´ ä¸Šæ–¹æœ‰å…¶ä»–å…ƒç´ é®ç›–ï¼Œä¸ºäº†ä¸å½±å“ä¸‹æ–¹å…ƒç´ çš„äº‹ä»¶ï¼Œç»™è¢«é®ç›–çš„å…ƒç´ å¢åŠ  pointer-events: none; å¯ä»¥è§£å†³ã€‚</p>
 <!--CSS-->
<p>.layer{ backround: linear-gradient(180deg, #fff, transparent); }<br>.j-pro{ poninter-events: none; }</p>
<!--HTML-->
<ul>
ã€€ã€€<li class="layer j-pro"></li>
ã€€ã€€<li class="item"></li>
ã€€ã€€<li class="item"></li>
ã€€ã€€<li class="item"></li>
</ul>
å‚è€ƒ
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### é€šè¿‡background:linear-gradientå†™çŸ©å½¢è¾¹è§’</span><br></pre></td></tr></table></figure>
.rect {
    position: absolute;
    width: 200px;
    height: 200px;
    background:
    linear-gradient(to left, red, red) left top no-repeat,
        linear-gradient(to bottom, red, red) left top no-repeat,
        linear-gradient(to left, red, red) right top no-repeat,
        linear-gradient(to bottom, red, red) right top no-repeat,
        linear-gradient(to left, red, red) left bottom no-repeat,
        linear-gradient(to bottom, red, red) left bottom no-repeat,
        linear-gradient(to left, red, red) right bottom no-repeat,
        linear-gradient(to left, red, red) right bottom no-repeat;
    background-size: 10px 40px, 40px 10px, 10px 40px, 40px 10px;
    background-color: #00ff00;
}

<p>scssçš„æ··åˆå®å°è£…<br>@mixin four-corner($color,$width,$height,$bgcolor){<br>    background: linear-gradient(to left, $color, $color) left top no-repeat,<br>        linear-gradient(to bottom, $color, $color) left top no-repeat,<br>        linear-gradient(to left, $color, $color) right top no-repeat,<br>        linear-gradient(to bottom, $color, $color) right top no-repeat,<br>        linear-gradient(to left, $color, $color) left bottom no-repeat,<br>        linear-gradient(to bottom, $color, $color) left bottom no-repeat,<br>        linear-gradient(to left, $color, $color) right bottom no-repeat,<br>        linear-gradient(to left, $color, $color) right bottom no-repeat;<br>    background-size: $height $width, $width $height, $height $width, $width $height;<br>    background-color: $bgcolor;<br>}<br>.rect {<br>     @include four-corner(red,40px,10px,#00ff00);<br>    position: absolute;<br>    width: 200px;<br>    height: 200px;<br>}</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### æ»šåŠ¨æ¡çš„æ ·å¼</span><br></pre></td></tr></table></figure>
<p>åœ¨app.vueä¸­</p>
<p>::-webkit-scrollbar {<br>    width: 20px;//ç«–ç›´æ–¹å‘çš„å®½åº¦ï¼Œé«˜åº¦è‡ªé€‚åº”<br>    height: 20px;//æ°´å¹³æ–¹å‘çš„é«˜åº¦ï¼Œå®½åº¦è‡ªé€‚åº”<br>}<br>::-webkit-scrollbar-thumb {<br>    border-radius: 20px;<br>    background:blue;<br>}<br>::-webkit-scrollbar-track {<br>    border-radius: 0;<br>    background:green;<br>}</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### transition(é€šè¿‡å®ƒç®€å•æ§åˆ¶csså±æ€§çš„åŠ¨ç”»æ•ˆæœ)</span><br><span class="line"></span><br><span class="line">transition: *property duration timing-function delay*;</span><br><span class="line"></span><br><span class="line">| å€¼                                                           |                    æè¿°                    |</span><br><span class="line">| :----------------------------------------------------------- | :----------------------------------------: |</span><br><span class="line">| *[transition-property](https:&#x2F;&#x2F;www.runoob.com&#x2F;cssref&#x2F;css3-pr-transition-property.html)* |     æŒ‡å®šCSSå±æ€§çš„nameï¼Œtransitionæ•ˆæœ      |</span><br><span class="line">| *[transition-duration](https:&#x2F;&#x2F;www.runoob.com&#x2F;cssref&#x2F;css3-pr-transition-duration.html)* | transitionæ•ˆæœéœ€è¦æŒ‡å®šå¤šå°‘ç§’æˆ–æ¯«ç§’æ‰èƒ½å®Œæˆ |</span><br><span class="line">| *[transition-timing-function](https:&#x2F;&#x2F;www.runoob.com&#x2F;cssref&#x2F;css3-pr-transition-timing-function.html)* |        æŒ‡å®štransitionæ•ˆæœçš„è½¬é€Ÿæ›²çº¿        |</span><br><span class="line">| *[transition-delay](https:&#x2F;&#x2F;www.runoob.com&#x2F;cssref&#x2F;css3-pr-transition-delay.html)* |        å®šä¹‰transitionæ•ˆæœå¼€å§‹çš„æ—¶å€™        |</span><br></pre></td></tr></table></figure>
<p>.search{<br>    width:80px;<br>    height:40px;<br>    border-radius:40px;<br>    border:2px solid lightblue;<br>    position: absolute;<br>    right:200px;<br>    outline:none;<br>    text-indent:12px;<br>    color:#666;<br>    font-size:16px;<br>    padding:0;<br>    -webkit-transition:width 5s;<br>    -webkit-transition:height 5s;<br>    -webkit-transition:background-color 5s;<br>    -webkit-transition:color 5s;<br>    -webkit-transition:opacity 5s;<br>}<br>.search:focus{<br>    width:200px;<br>    height: 100px;<br>    background: red;<br>    color:blue;<br>    opacity: 0;<br>}</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### ä¼ªå…ƒç´ å’Œä¼ªç±»</span><br><span class="line"></span><br><span class="line">å…¶ä¸­ä¼ªç±»å’Œä¼ªå…ƒç´ çš„æ ¹æœ¬åŒºåˆ«åœ¨äºï¼š**å®ƒä»¬æ˜¯å¦åˆ›é€ äº†æ–°çš„å…ƒç´ ã€‚**</span><br><span class="line"></span><br><span class="line">ä¼ªå…ƒç´ é€‰æ‹©ç¬¦</span><br><span class="line">![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https:&#x2F;&#x2F;img-blog.csdnimg.cn&#x2F;2019052717580919.png?x-oss-process&#x3D;image&#x2F;watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI3Njc0NDM5,size_16,color_FFFFFF,t_70)</span><br><span class="line">ä¼ªç±»ï¼šå­˜åœ¨DOMæ–‡æ¡£ä¸­ï¼Œé€»è¾‘ä¸Šå­˜åœ¨ä½†åœ¨æ–‡æ¡£æ ‘ä¸­å´æ— é¡»æ ‡è¯†çš„â€œå¹½çµâ€åˆ†ç±»ã€‚</span><br><span class="line"></span><br><span class="line">ä¼ªç±»é€‰æ‹©ç¬¦</span><br><span class="line"></span><br><span class="line">![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https:&#x2F;&#x2F;img-blog.csdnimg.cn&#x2F;20190527175840224.png?x-oss-process&#x3D;image&#x2F;watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI3Njc0NDM5,size_16,color_FFFFFF,t_70)</span><br><span class="line"></span><br><span class="line">### è¾“å…¥æ¡†å…‰æ ‡çš„é¢œè‰²</span><br></pre></td></tr></table></figure>
<p>caret-color: red;</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### max() &#x2F; min()</span><br></pre></td></tr></table></figure>
<p>width: max(50vw, 300px);<br>width: min(50vw, 300px);<br>font-size:min(50vw, 300px);</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### clamp() [åœ¨å®šä¹‰çš„ ä¸‰ä¸ªå€¼ä¹‹é—´ï¼Œå–å¤§å°åœ¨ä¸­é—´çš„é‚£ä¸ªå€¼]</span><br></pre></td></tr></table></figure>
<p>font-size: clamp(1px, 3px, 2px);    //ä¸­é—´å€¼ä¸º2px<br>width: clamp(200rem, 25vw, 150px); //åœ¨è¿™ä¸‰ä¸ªä¹‹é—´å–ä¸­é—´å€¼</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### å¡åˆ¸æ•ˆæœåˆ¶ä½œ</span><br><span class="line"></span><br><span class="line">![image-20210311153400216](vueä¹‹seekcyå¼€å‘å†ç¨‹è®°å½•1.assets&#x2F;image-20210311153400216.png)</span><br></pre></td></tr></table></figure>

<p class="coupon">
 <span>200</span>ä¼˜æƒ åˆ¸
</p>

<p>.coupon {<br> width: 300px;<br>  height: 100px;<br>  line-height: 100px;<br>  margin: 50px auto;<br>  text-align: center;<br>  position: relative;<br>  background: radial-gradient(circle at right bottom, transparent 10px, #ffffff 0) top right /50% 51px no-repeat,<br>  radial-gradient(circle at left bottom, transparent 10px, #ffffff 0) top left / 50% 51px no-repeat,<br>  radial-gradient(circle at right top, transparent 10px, #ffffff 0) bottom right / 50% 51px no-repeat,<br>  radial-gradient(circle at left top, transparent 10px, #ffffff 0) bottom left / 50% 51px no-repeat;<br>  filter: drop-shadow(2px 2px 2px rgba(0, 0, 0, .2));<br>}<br>.coupon span {<br>  display: inline-block;<br>  vertical-align: middle;<br>  margin-right: 10px;<br>  color: red;<br>  font-size: 50px;<br>  font-weight: 400;<br>}</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">![image-20210311154859537](vueä¹‹seekcyå¼€å‘å†ç¨‹è®°å½•1.assets&#x2F;image-20210311154859537.png)</span><br></pre></td></tr></table></figure>
 <div class="quan clear">
            <div class="quanLeft">
                <p class="money">Â¥ 10</p>
                <p class="tit">ç¾å‘³ç«‹äº«æŠ˜æ‰£åˆ¸</p>
                <p class="conts">æ— æ»¡é¢é™åˆ¶,ç«‹å‡æŠ˜æ‰£</p>
                <p class="dates">æœ‰æ•ˆæœŸ: 2018.8.12 - 2019.8.12</p>
            </div>
            <div class="quanRight">
                <p class="ft">æŠ˜æ‰£åˆ¸</p> 
                <p class="sd">å®˜ç½‘ä½¿ç”¨</p>
            </div>
</div>

<p> .quan{<br>            position: relative;<br>            width: 96%;<br>            margin: 5% auto;<br>            padding: 6px;<br>            padding-right:0;<br>            box-sizing: border-box;<br>            background-color: #ff6347;<br>            color: #fff;<br>            background-image: radial-gradient(#fff 35%,#ff6374 35%);<br>            background-size: 17px 17px;<br>            background-position: -9px 0;<br>            background-repeat: repeat-y<br>        }</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">## HTML</span><br><span class="line"></span><br><span class="line">### æµè§ˆå™¨åœ°å€æ è¿è¡ŒHTMLä»£ç </span><br></pre></td></tr></table></figure>
<p>data:text/html,</p><h1>Hello, everybody!</h1><p></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">![å›¾ç‰‡](https:&#x2F;&#x2F;mmbiz.qpic.cn&#x2F;mmbiz_png&#x2F;JIv7z1kbomC1q64N8lmP3G4pmFoVadU1tagUE9S7wlzyWOBQECxMjZnzia02PUfaMzFtMtLrOdqJcN5JcjZY6xQ&#x2F;640?wx_fmt&#x3D;png&amp;tp&#x3D;webp&amp;wxfrom&#x3D;5&amp;wx_lazy&#x3D;1&amp;wx_co&#x3D;1)</span><br><span class="line"></span><br><span class="line">### æµè§ˆå™¨ç§’å˜ç¼–è¾‘å™¨</span><br><span class="line"></span><br><span class="line">è¿™ä¸ªè¿˜æ˜¯åœ¨æµè§ˆå™¨åœ°å€æ ä¸Šé¢åšæ–‡ç« ï¼Œå°†ä»¥ä¸‹ä»£ç å¤åˆ¶ç²˜è´´åˆ°æµè§ˆå™¨åœ°å€æ ï¼Œè¿è¡Œåæµè§ˆå™¨å°±å˜æˆäº†ä¸€ä¸ªåŸå§‹ç®€å•çš„ç¼–è¾‘å™¨ï¼Œå’Œwindowè‡ªå¸¦çš„notepadå·®ä¸å¤šï¼Œé•¿è§è¯†äº†å§ï¼Œè¯ä¸å¤šè¯´ï¼Œæˆ‘ä»¬æ¥è¯•è¯•ã€‚</span><br></pre></td></tr></table></figure>
<p>data:text/html, <html contenteditable></html></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">![å›¾ç‰‡](https:&#x2F;&#x2F;mmbiz.qpic.cn&#x2F;mmbiz_gif&#x2F;JIv7z1kbomC1q64N8lmP3G4pmFoVadU1ZHrg2H3oiaF6Ffu76rlWyTSQwM8BHRyAZRy3o1fMpiaqnqibia5DEewxfQ&#x2F;640?wx_fmt&#x3D;gif&amp;tp&#x3D;webp&amp;wxfrom&#x3D;5&amp;wx_lazy&#x3D;1)</span><br><span class="line"></span><br><span class="line">&gt; å½’æ ¹ç»“åº•å¤šäºäº†HTML5ä¸­æ–°åŠ çš„&#96;contenteditable&#96;å±æ€§ï¼Œå½“å…ƒç´ æŒ‡å®šäº†è¯¥å±æ€§åï¼Œå…ƒç´ çš„å†…å®¹æˆä¸ºå¯ç¼–è¾‘çŠ¶æ€ã€‚</span><br><span class="line"></span><br><span class="line">### åœ¨æ§åˆ¶å°æ‰§è¡Œä»¥ä¸‹ä»£ç ï¼Œå°†æ•´ä¸ªé¡µé¢å˜å¾—å¯ä»¥ç¼–è¾‘ã€‚</span><br></pre></td></tr></table></figure>
<p>document.body.contentEditable=â€™trueâ€™;</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">![å›¾ç‰‡](https:&#x2F;&#x2F;mmbiz.qpic.cn&#x2F;mmbiz_gif&#x2F;JIv7z1kbomC1q64N8lmP3G4pmFoVadU11PG17MIGs0MCvicic605XN3OJ7zekILOKsKkg32UcomztFUKoWLZ9xnQ&#x2F;640?wx_fmt&#x3D;gif&amp;tp&#x3D;webp&amp;wxfrom&#x3D;5&amp;wx_lazy&#x3D;1)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">## watch</span><br><span class="line"></span><br><span class="line">#### echartsæ•°æ®æ›´æ–°é¡µé¢ä¸æ›´æ–°</span><br><span class="line"></span><br><span class="line">æ·±åº¦ç›‘å¬å¯¹è±¡æ•°ç»„</span><br></pre></td></tr></table></figure>
<p>watch: {<br>//ç›‘å¬å¯¹è±¡æ•°ç»„çš„å˜åŒ–<br>bet: {<br>ã€€ã€€ã€€ã€€handler(newValue, oldValue) {<br>ã€€ã€€ã€€ã€€ã€€ã€€console.log(newValue)<br>ã€€ã€€ã€€ã€€},<br>ã€€ã€€ã€€ã€€deep: true<br>ã€€ã€€},<br>//æ·±æ‹·è´<br>ã€€ã€€winChips: {<br>ã€€ã€€ã€€ã€€handler(newValue, oldValue) {<br>ã€€ã€€ã€€ã€€ã€€ã€€for (let i = 0; i &lt; newValue.length; i++) {<br>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€if (oldValue[i] != newValue[i]) {<br>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€console.log(newValue)<br>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€}<br>ã€€ã€€ã€€ã€€ã€€ã€€}<br>ã€€ã€€ã€€ã€€},<br>ã€€ã€€ã€€ã€€deep: true<br>ã€€ã€€}<br>}</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">## Promise(C ä¾èµ– B çš„ç»“æœï¼ŒD ä¾èµ– ABC çš„ç»“æœï¼Œæœ€ç»ˆè¾“å‡º D çš„ç»“æœ)</span><br></pre></td></tr></table></figure>
<p>function A() {<br>    return new Promise(r =&gt; {<br>        let timeObj = setTimeout(() =&gt; {<br>            console.log(â€˜AAAAAAAAAâ€™);<br>            clearTimeout(timeObj);<br>            r(â€œaâ€)<br>        }, 2000);<br>    })<br>}<br>function B() {<br>    return new Promise(r =&gt; {<br>        let timeObj = setTimeout(() =&gt; {<br>            console.log(â€˜BBBBBBBBBBBBâ€™);<br>            clearTimeout(timeObj)<br>            r(â€œbâ€)<br>        }, 2000);<br>    })<br>}<br>function C() {<br>    return new Promise(r =&gt; {<br>        let timeObj = setTimeout(() =&gt; {<br>            console.log(â€˜CCCCCCCCCCCCâ€™);<br>            clearTimeout(timeObj)<br>            r(â€œcâ€)<br>        }, 2000);<br>    })<br>}<br>function D() {<br>    return new Promise(r =&gt; {<br>        let timeObj = setTimeout(() =&gt; {<br>            console.log(â€˜DDDDDDDDDDDDDDâ€™);<br>            clearTimeout(timeObj)<br>            r(â€œd1321231â€)<br>        }, 2000);<br>    })<br>}<br>async function asyncBC() {<br>    const resb = await B();<br>    const resc = await C(resb);<br>    return {resb,resc}<br>}<br>async function asyncTask() {<br>    const [resa,{resb,resc}]=await Promise.all([A(),asyncBC()])<br>    const resd=await D(resa,resb,resc)<br>    return resd<br>}<br>asyncTask().then(resd=&gt;{<br>    console.log(â€˜this is D resultâ€™,resd);</p>
<p>})</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">## Axios</span><br><span class="line"></span><br><span class="line">Form Data å’Œ Request Payload åŒºåˆ«</span><br><span class="line"></span><br><span class="line">1. è®¾ç½®Content-Type: application&#x2F;x-www-form-urlencodedï¼Œé‚£ä¹ˆè¿™ä¸ªè¯·æ±‚è¢«è®¤ä¸ºæ˜¯è¡¨å•è¯·æ±‚ï¼Œå‚æ•°å‡ºç°åœ¨Form Dataé‡Œï¼Œæ ¼å¼ä¸ºkey&#x3D;value&amp;key&#x3D;value&amp;key&#x3D;valueâ€¦,è¯·æ±‚å‚æ•°åº”ä¸ºjsonå¯¹è±¡ã€‚</span><br><span class="line">2. è®¾ç½®Content-Type:application&#x2F;jsonï¼Œæˆ–è€…ä½¿ç”¨é»˜è®¤çš„è¯·æ±‚å¤´Content-Type:text&#x2F;plain;å‚æ•°ä¼šæ˜¾ç¤ºåœ¨Request payloadå—é‡Œæäº¤ã€‚è¯·æ±‚å‚æ•°åº”ä¸ºå­—ç¬¦ä¸²ã€‚</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">qs.stringifyå’Œjson.stringifyåŒºåˆ«</span><br></pre></td></tr></table></figure>
<p>var a = {name:â€™heheâ€™,age:10};<br> qs.stringify(a)<br>// â€˜name=hehe&amp;age=10â€™<br>JSON.stringify(a)<br>// â€˜{â€œnameâ€:â€heheâ€,â€ageâ€:10}â€™</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">qs.parse()</span><br></pre></td></tr></table></figure>
<p>let url = â€˜method=query_sql_dataset_data&amp;projectId=85&amp;appToken=7d22e38e-5717-11e7-907b-a6006ad3dba0â€™;<br>qs.parse(url);<br>{<br>method:query_sql_dataset_data,<br>projectId:85,<br>appToken:7d22e38e-5717-11e7-907b-a6006ad3dba0<br>}</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">## ç»“åˆaxisoï¼ŒelementUIå…¨å±€loadingï¼ˆéƒ¨åˆ†æ¥å£ä¸è¯·æ±‚é…ç½®ï¼‰</span><br></pre></td></tr></table></figure>

<p>import axios from â€˜axiosâ€™;<br>import { Message, Loading } from â€˜element-uiâ€™;</p>
<p>// import store from â€˜../storeâ€™;<br>import qs from â€˜qsâ€™;<br>import router from â€˜../routerâ€™</p>
<p>//å…¨å±€loadingåœ¨è¯·æ±‚æ¥å£æ—¶å‡ºç°ï¼Œç»“æŸæ—¶æ¶ˆå¤±<br>let loading;<br>let loadingNum = 0;<br>//å¼€å§‹loading<br>function startLoading() {<br>    if (loadingNum == 0) {<br>        loading = Loading.service({<br>            lock: true,<br>              text: â€˜Loadingâ€™,<br>              spinner: â€˜el-icon-loadingâ€™,<br>              background: â€˜rgba(0, 0, 0, 0.7)â€™,<br>              //target: document.querySelector(â€˜.div1â€™)<br>        })<br>    }<br>    loadingNum++;<br>}</p>
<p>//ç»“æŸloading<br>function endLoading() {<br>    loading.close()<br>}</p>
<p>function tryHideLoading() {<br>    if (loadingNum &lt;= 0) return<br>    loadingNumâ€“<br>    if (loadingNum === 0) {<br>        setInterval(() =&gt; {<br>            endLoading()<br>        }, 500);<br>    }<br>}</p>
<p>// åˆ›å»ºaxioså®ä¾‹<br>const http = axios.create({<br>    baseURL: â€˜/vital-signs/â€˜,<br>    timeout: 600000,                  // è¯·æ±‚è¶…æ—¶æ—¶é—´<br>    transformRequest: obj =&gt; qs.stringify(obj)<br>    // headers: { â€˜Content-Typeâ€™: â€˜application/jsonâ€™ }<br>});</p>
<p>// requestæ‹¦æˆªå™¨<br>http.interceptors.request.use(<br>    config =&gt; {<br>        if (config.headers.showLoading !== false) {<br>            startLoading();<br>        }<br>        if (!sessionStorage.getItem(â€˜tokenâ€™) &amp;&amp; config.url.indexOf(â€œloginâ€) == -1) {<br>            Message({<br>                message: â€œç™»å½•ä¿¡æ¯å¤±æ•ˆï¼Œè¯·é‡æ–°ç™»å½•â€,<br>                type: â€˜errorâ€™<br>            });<br>            if (config.url.indexOf(â€œloginAutoâ€)!=-1){<br>              return<br>          }<br>            setTimeout(() =&gt; {<br>                router.replace(â€˜/loginâ€™)<br>                location.reload()<br>            }, 2000);<br>        }<br>        config.headers.Authorization = â€œBearer â€œ + sessionStorage.getItem(â€˜tokenâ€™);<br>        config.headers.buildId = sessionStorage.getItem(â€œbuildIdâ€) || â€œ200036â€;<br>        config.headers.deptId = localStorage.getItem(â€œdepartmentIdâ€)<br>        return config;<br>    },<br>    error =&gt; {<br>        tryHideLoading();<br>        Promise.reject(error);<br>    }<br>)</p>
<p>// responeæ‹¦æˆªå™¨<br>http.interceptors.response.use(<br>    response =&gt; {<br>        tryHideLoading();<br>        if (response.data.code === 0) {<br>            // console.dir(response);<br>            return Promise.resolve(response);<br>        } else {<br>            Message({<br>                message: response.data.msg,<br>                type: â€˜errorâ€™,<br>            });<br>            return Promise.reject(response);<br>            // return Promise.resolve(response);<br>        }<br>    },<br>    error =&gt; {<br>        tryHideLoading();<br>        console.dir(error);// for debug<br>        if (error.response) {<br>            if (error.response.status == â€˜401â€™&amp;&amp;sessionStorage.getItem(â€˜tokenâ€™)) {<br>                Message({<br>                    message: error.response.data.msg,<br>                    type: â€˜errorâ€™<br>                });<br>                setTimeout(() =&gt; {<br>                    router.push({ path: â€œ/loginâ€ })<br>                }, 3000);</p>
<pre><code>            return;
        } else if (error.response.status == 500) {
            Message({
                message: error.response.data.error,
                type: &apos;error&apos;
            });
        }
    } else {
        let msg = &apos;æœåŠ¡å™¨è¯·æ±‚å‡ºé”™&apos;;
        if (error.message.indexOf(&apos;timeout&apos;) !== -1) {
            msg = &apos;è¯·æ±‚è¶…æ—¶&apos;;
        } else if (error.message.indexOf(&apos;Network Error&apos;) !== -1) {
            msg = &apos;ç½‘ç»œå‡ºé”™&apos;;
        }

    }
    return Promise.reject(error);
}</code></pre><p>)</p>
<p>http.postJson = (path, params) =&gt; http({</p>
<pre><code>url: path,
method: &apos;post&apos;,
data: addparams(params),
transformRequest: obj =&gt; JSON.stringify(obj),
headers: { &apos;Content-Type&apos;: &apos;application/json&apos; }</code></pre><p>})</p>
<p>http.put = (path, params) =&gt; http({<br>    url: path,<br>    method: â€˜putâ€™,<br>    data: addparams(params),<br>    transformRequest: obj =&gt; JSON.stringify(obj),<br>    headers: { â€˜Content-Typeâ€™: â€˜application/jsonâ€™ }<br>})</p>
<p>http.uploadFile = (path, params) =&gt; http({<br>    url: path,<br>    method: â€˜postâ€™,<br>    data: { file: params.file },<br>    transformRequest: (obj) =&gt; {</p>
<pre><code>},
headers: {
    &apos;Content-Type&apos;: &apos;application/x-www-form-urlencoded&apos;,
    &apos;Authorization&apos;: &quot;Bearer &quot; + sessionStorage.getItem(&apos;token&apos;),
    &apos;buildId&apos;: &quot;200036&quot;
}</code></pre><p>})</p>
<p>http.login = (path, params) =&gt; http({</p>
<pre><code>url: path,
method: &apos;post&apos;,
data: params,


transformRequest: obj =&gt; JSON.stringify(obj),
headers: { &apos;Content-Type&apos;: &apos;application/json&apos; }</code></pre><p>})</p>
<p>function addparams(params) {<br>    //æ•°ç»„ä¸è½¬æ¢<br>    if (params instanceof Array) {<br>        return params<br>    } else if (params instanceof Object){<br>        const pp = {<br>            // timestamp: Date.parse(new Date()) / 1000<br>        }<br>        return Object.assign(pp, params);<br>    }<br>}</p>
<p>/<em>å¤‡æ³¨ï¼šä½¿ç”¨createé‡ç½®è¿‡åæ— æ³•ä½¿ç”¨allã€spreadã€Cancelã€CancelTokenã€isCancelç­‰æ–¹æ³•/,åªéœ€è¦åŠ ä¸Šä¸€è¡Œä»£ç ï¼Œä½†ä»¥ä¸‹ä»£ç æ— æ³•åœ¨eslintæ¨¡å¼ä¸‹ä½¿ç”¨ï¼Œå› ä¸ºåœ¨eslinté‡Œæ˜¯ä¸å…è®¸å¯¹<strong>proto</strong>è¿›è¡Œé‡æ–°èµ‹å€¼çš„ã€‚</em>/</p>
<p>/* eslint-disable no-proto <em>/<br>http.<strong>proto</strong> = axios<br>/</em> eslint-enable */</p>
<p>export default http;</p>
<p>.vue<br>getè¯·æ±‚<br> this.$http.get(â€˜/alarm/getNumOfAlarm/â€˜,{headers:{showLoading:false},params:{id:id}})<br>                .then(res =&gt; {<br>                    this.remindCount = res.data.data;<br>                })<br> postè¯·æ±‚<br>this.$http.post(â€˜/alarm/getNumOfAlarm/â€˜,{id:id},{headers:{showLoading:false}})<br>                .then(res =&gt; {<br>                    this.remindCount = res.data.data;<br>                })</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">å‚è€ƒé“¾æ¥</span><br><span class="line"></span><br><span class="line">https:&#x2F;&#x2F;blog.csdn.net&#x2F;lianzhang861&#x2F;article&#x2F;details&#x2F;100019049</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">## åç«¯è¦æ±‚åªä¼ æ•°ç»„ï¼Œä¸éœ€è¦å‚æ•°åï¼Ÿ</span><br><span class="line"></span><br><span class="line">&#96;</span><br></pre></td></tr></table></figure>
<p>åœ¨å°è£…å¥½çš„axiosä¸­<br>function addparams(params) {<br>    //æ•°ç»„ä¸è½¬æ¢<br>    if (params instanceof Array) {<br>        return params<br>    } else if (params instanceof Object){<br>    //æ·»åŠ é»˜è®¤å‚æ•°<br>       const pp = {<br>            clientVersion: â€˜1.0â€™,<br>            sign: â€˜stringâ€™,<br>            signType: â€˜stringâ€™,<br>            timestamp: Date.parse(new Date()) / 1000<br>        }<br>        return Object.assign(pp, params);<br>    }<br>}</p>
<p>//ä½¿ç”¨<br>this.axios.postJson(â€˜/api/js/stream/streamBreath/â€˜,  [â€˜baby_care__11__@<strong>hik</strong>live__nullâ€™, â€˜baby_care__12__@<strong>dahua</strong>live__nullâ€™])<br>    .then(res =&gt; {</p>
<p>})</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">## å¢åŠ tokenå’Œé»˜è®¤å‚æ•°</span><br></pre></td></tr></table></figure>
<p>service.interceptors.request.use(<br>    config =&gt; {<br>        if (getToken()) {<br>            config.headers[â€˜X-Auth-Tokenâ€™] = getToken(); // è®©æ¯ä¸ªè¯·æ±‚æºå¸¦è‡ªå®šä¹‰token è¯·æ ¹æ®å®é™…æƒ…å†µè‡ªè¡Œä¿®æ”¹<br>        }</p>
<pre><code>    if (!config.noparams) {
        if (getBuildInfo()) {
            if (config.method === &apos;post&apos;) {
                console.log(config.data, &apos;postçš„config.data&apos;);
                config.data = {
                    username: getUserInfo() ? getUserInfo().username : &apos;&apos;,
                    buildId: getBuildInfo() ? getBuildInfo().buildid : &apos;&apos;,
                    ...config.data
                }
                config.params = {
                    username: getUserInfo() ? getUserInfo().username : &apos;&apos;,
                    buildId: getBuildInfo() ? getBuildInfo().buildid : &apos;&apos;
                }
            } else if (config.method === &apos;get&apos;) {
                config.params = {
                    username: getUserInfo() ? getUserInfo().username : &apos;&apos;,
                    buildId: getBuildInfo() ? getBuildInfo().buildid : &apos;&apos;,
                    ...config.params
                }
            }
        }
    }
    return config;
},
error =&gt; {
    // Do something with request error
    console.log(error); // for debug
    Promise.reject(error);
}</code></pre><p>)</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">## fetch.jsçš„ä½¿ç”¨ç®€è¿°</span><br><span class="line"></span><br><span class="line">### ä¸¤ä¸ªå‚æ•°</span><br><span class="line"></span><br><span class="line">1. ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ URL åœ°å€</span><br><span class="line">2. ç¬¬äºŒä¸ªå‚æ•°æ˜¯è¯·æ±‚çš„é…ç½®ä¿¡æ¯ï¼ŒåŒ…å«headersã€è¯·æ±‚ç±»å‹ï¼ˆGET&#x2F;POSTï¼‰ã€æ˜¯å¦è·¨åŸŸç­‰ä¿¡æ¯</span><br><span class="line"></span><br><span class="line">### å‚æ•°è¯´æ˜</span><br><span class="line"></span><br><span class="line">&#96;&#96;&#96;js</span><br><span class="line">fetch(url, &#123;</span><br><span class="line">	body: JSON.stringify(data), &#x2F;&#x2F; must match &#39;Content-Type&#39; header</span><br><span class="line">	cache: &quot;no-cache&quot;, &#x2F;&#x2F; *default, no-cache, reload, force-cache, only-if-cached</span><br><span class="line">	credentials: &quot;same-origin&quot;, &#x2F;&#x2F; include, same-origin, *omit</span><br><span class="line">	headers: &#123;</span><br><span class="line">		&quot;user-agent&quot;: &quot;Mozilla&#x2F;4.0 MDN Example&quot;,</span><br><span class="line">		&quot;content-type&quot;: &quot;application&#x2F;json&quot;</span><br><span class="line">	&#125;,</span><br><span class="line">	method: &quot;POST&quot;, &#x2F;&#x2F; *GET, POST, PUT, DELETE, etc.</span><br><span class="line">	mode: &quot;cors&quot;, &#x2F;&#x2F; no-cors, cors, *same-origin</span><br><span class="line">	redirect: &quot;follow&quot;, &#x2F;&#x2F; manual, *follow, error</span><br><span class="line">	referrer: &quot;no-referrer&quot; &#x2F;&#x2F; *client, no-referrer</span><br><span class="line">	&#125;)</span><br><span class="line">	.then(response &#x3D;&gt; response.json()) &#x2F;&#x2F; parses response to JSON</span><br><span class="line">	.then(function(myJson) &#123;</span><br><span class="line">		console.log(myJson);</span><br><span class="line">	&#125;);</span><br></pre></td></tr></table></figure>



<h2 id="è®¾ç½®elementUIçš„Messageçš„å…¨å±€é»˜è®¤å±æ€§"><a href="#è®¾ç½®elementUIçš„Messageçš„å…¨å±€é»˜è®¤å±æ€§" class="headerlink" title="è®¾ç½®elementUIçš„Messageçš„å…¨å±€é»˜è®¤å±æ€§"></a>è®¾ç½®elementUIçš„Messageçš„å…¨å±€é»˜è®¤å±æ€§</h2><p>main.js</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Vue.prototype.Message &#x3D; function (obj) &#123;</span><br><span class="line">    ElementUI.Message(&#123;</span><br><span class="line">        message: obj.message,</span><br><span class="line">        type:obj.type,</span><br><span class="line">        showClose: true</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>plus:æ¶ˆæ¯æ¡†å¤šæ¬¡å¼¹çª—è§£å†³</p>
<h2 id="å…¨å±€filters"><a href="#å…¨å±€filters" class="headerlink" title="å…¨å±€filters"></a>å…¨å±€filters</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">æ–°å»ºfilters&#x2F;index.js</span><br><span class="line"></span><br><span class="line">const isNullOrEmpty &#x3D; function(val) &#123;</span><br><span class="line">    if (val &#x3D;&#x3D; null || val &#x3D;&#x3D; &quot;&quot; || typeof(val) &#x3D;&#x3D; undefined) &#123;</span><br><span class="line">        return true;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        return false;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">const timeFormat &#x3D; (value, format) &#x3D;&gt; &#123;</span><br><span class="line">    let date &#x3D; new Date(value);</span><br><span class="line">    let y &#x3D; date.getFullYear();</span><br><span class="line">    let m &#x3D; date.getMonth() + 1;</span><br><span class="line">    let d &#x3D; date.getDate();</span><br><span class="line">    let h &#x3D; date.getHours();</span><br><span class="line">    let min &#x3D; date.getMinutes();</span><br><span class="line">    let s &#x3D; date.getSeconds();</span><br><span class="line">    let result &#x3D; &quot;&quot;;</span><br><span class="line">    if (format &#x3D;&#x3D; undefined) &#123;</span><br><span class="line">        result &#x3D; &#96;$&#123;y&#125;-$&#123;m &lt; 10 ? &quot;0&quot; + m : m&#125;-$&#123;d &lt; 10 ? &quot;0&quot; + d : d&#125; $&#123;</span><br><span class="line">        h &lt; 10 ? &quot;0&quot; + h : h</span><br><span class="line">      &#125;:$&#123;min &lt; 10 ? &quot;0&quot; + min : min&#125;:$&#123;s &lt; 10 ? &quot;0&quot; + s : s&#125;&#96;;</span><br><span class="line">    &#125;</span><br><span class="line">    if (format &#x3D;&#x3D; &quot;yyyy-mm-dd&quot;) &#123;</span><br><span class="line">        result &#x3D; &#96;$&#123;y&#125;-$&#123;m &lt; 10 ? &quot;0&quot; + m : m&#125;-$&#123;d &lt; 10 ? &quot;0&quot; + d : d&#125;&#96;;</span><br><span class="line">    &#125;</span><br><span class="line">    if (format &#x3D;&#x3D; &quot;yyyy-mm&quot;) &#123;</span><br><span class="line">        result &#x3D; &#96;$&#123;y&#125;-$&#123;m &lt; 10 ? &quot;0&quot; + m : m&#125;&#96;;</span><br><span class="line">    &#125;</span><br><span class="line">    if (format &#x3D;&#x3D; &quot;mm-dd&quot;) &#123;</span><br><span class="line">        result &#x3D; &#96; $&#123;mm &lt; 10 ? &quot;0&quot; + mm : mm&#125;:$&#123;ddmin &lt; 10 ? &quot;0&quot; + dd : dd&#125;&#96;;</span><br><span class="line">    &#125;</span><br><span class="line">    if (format &#x3D;&#x3D; &quot;hh:mm&quot;) &#123;</span><br><span class="line">        result &#x3D; &#96; $&#123;h &lt; 10 ? &quot;0&quot; + h : h&#125;:$&#123;min &lt; 10 ? &quot;0&quot; + min : min&#125;&#96;;</span><br><span class="line">    &#125;</span><br><span class="line">    if (format &#x3D;&#x3D; &quot;yyyy&quot;) &#123;</span><br><span class="line">        result &#x3D; &#96;$&#123;y&#125;&#96;;</span><br><span class="line">    &#125;</span><br><span class="line">    return result;</span><br><span class="line">&#125;;</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">export &#123;</span><br><span class="line">    isNullOrEmpty,</span><br><span class="line">    timeFormat</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨main.jsä¸­å¼•å…¥å’Œæ³¨å†Œå…¨å±€è¿‡æ»¤å™¨</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import * as filters from &#39;..&#x2F;filters&#x2F;index&#39;</span><br><span class="line">Object.keys(filters).forEach(key &#x3D;&gt; &#123;</span><br><span class="line">    Vue.filter(key, filters[key])</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>æ­¤æ—¶å°±å¯ä»¥åœ¨ä¸åŒçš„.vueä¸­ä½¿ç”¨å®šä¹‰çš„å…¨å±€è¿‡æ»¤å™¨äº†</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;span&gt;&#123;date|isNullOrEmpty&#125;æ˜¯å¦ä¸ºç©º&lt;&#x2F;span&gt;</span><br></pre></td></tr></table></figure>



<p>ç®€æ˜“ç‰ˆ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">main.js</span><br><span class="line">Vue.filter(&#39;tofixed&#39;, function (value,num&#x3D;2) &#123;</span><br><span class="line">  if (!value) return 0</span><br><span class="line">  return value.toFixed(num)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>





<h2 id="ä½¿ç”¨ç‰¹æ®Šå­—ä½“ï¼ˆdigitalç­‰ï¼‰"><a href="#ä½¿ç”¨ç‰¹æ®Šå­—ä½“ï¼ˆdigitalç­‰ï¼‰" class="headerlink" title="ä½¿ç”¨ç‰¹æ®Šå­—ä½“ï¼ˆdigitalç­‰ï¼‰"></a>ä½¿ç”¨ç‰¹æ®Šå­—ä½“ï¼ˆdigitalç­‰ï¼‰</h2><p>ä¸€ã€CDNå¼•å…¥</p>
<pre><code>&lt;style&gt;
@font-face{
    font-family:QingKe;
    src:url(&quot;https://g.alicdn.com/TSG/damo-static/2019.918.162009/damo/css/font/iozzkhwu.ttf&quot;)
    /* src: url-loader(&quot;@/assets/iozzkhwu.ttf&quot;);  è¿™ç§æ–¹å¼æ˜¯é”™è¯¯çš„*/
}
@font-face{
    font-family:SYHT;
    src: url(&apos;https://tuyu.hnbcdn.com/SHSCN-ELight.eot&apos;);
    src:url(https://tuyu.hnbcdn.com/SHSCN-ELight.eot);
    src:local(&apos;éˆ½ï¿½&apos;),url(https://tuyu.hnbcdn.com/SHSCN-ELight.woff) format(&apos;woff&apos;),url(https://tuyu.hnbcdn.com/SHSCN-ELight.ttf) format(&apos;truetype&apos;),url(https://tuyu.hnbcdn.com/SHSCN-ELight.svg) format(&apos;svg&apos;);font-weight:400;font-style:normal
}
.wenzi{
  font-family: SYHT;
      letter-spacing:3px;
      font-weight: 100;
}
&lt;/style&gt;</code></pre><p>äºŒã€assetsä¸­å¼•å…¥é™æ€æ–‡ä»¶</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">@font-face &#123;</span><br><span class="line"> font-family: &#39;SHIZHONGZITI&#39;;</span><br><span class="line"> src: url(.&#x2F;assets&#x2F;DIGITAL-7_MONO-WEBFONT.ttf);  </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.teshu &#123;</span><br><span class="line"> font-family: SHIZHONGZITI;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="sasså®‰è£…å¤±è´¥"><a href="#sasså®‰è£…å¤±è´¥" class="headerlink" title="sasså®‰è£…å¤±è´¥"></a>sasså®‰è£…å¤±è´¥</h2><p>å‘å››ï¼šå®‰è£…sasså¤±è´¥</p>
<p>ç”±äºsass-loaderä¾èµ–äºnode-sassï¼Œæ‰€ä»¥æŒ‰å¦‚ä¸‹é¡ºåºåˆ†åˆ«ä¸‹è½½ä¾èµ–ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install --save-dev node-sass</span><br><span class="line">npm install --save-dev sass-loader</span><br><span class="line"></span><br><span class="line">å¦‚æœæŠ¥é”™ï¼Œåˆ™å®‰è£…ä»¥ä¸‹ç‰ˆæœ¬</span><br><span class="line">&quot;node-sass&quot;: &quot;^4.7.2&quot;,</span><br><span class="line">&quot;sass-loader&quot;: &quot;^6.0.5&quot;,</span><br></pre></td></tr></table></figure>



<h2 id="éšæœºè·å–å¸ƒå°”å€¼ï¼ˆtrue-false"><a href="#éšæœºè·å–å¸ƒå°”å€¼ï¼ˆtrue-false" class="headerlink" title="éšæœºè·å–å¸ƒå°”å€¼ï¼ˆtrue/false"></a><strong>éšæœºè·å–å¸ƒå°”å€¼ï¼ˆtrue/false</strong></h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const randomBoolean &#x3D; () &#x3D;&gt; Math.random() &gt;&#x3D; 0.5;</span><br><span class="line">console.log(randomBoolean());</span><br></pre></td></tr></table></figure>



<h2 id="åˆ¤æ–­ç»™çš„æ—¥æœŸæ˜¯å¦ä¸ºå·¥ä½œæ—¥"><a href="#åˆ¤æ–­ç»™çš„æ—¥æœŸæ˜¯å¦ä¸ºå·¥ä½œæ—¥" class="headerlink" title="åˆ¤æ–­ç»™çš„æ—¥æœŸæ˜¯å¦ä¸ºå·¥ä½œæ—¥"></a><strong>åˆ¤æ–­ç»™çš„æ—¥æœŸæ˜¯å¦ä¸ºå·¥ä½œæ—¥</strong></h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const isWeekday &#x3D; (date) &#x3D;&gt; date.getDay() % 6 !&#x3D;&#x3D; 0;</span><br><span class="line">console.log(isWeekday(new Date(2021, 0, 11)));</span><br><span class="line">&#x2F;&#x2F; Result: true (Monday)  getDay()&#x3D;[0,1,2,3,4,5,6]</span><br></pre></td></tr></table></figure>



<h2 id="localstorageæ¸…é™¤ç‰¹å®šçš„ä¸€ç±»"><a href="#localstorageæ¸…é™¤ç‰¹å®šçš„ä¸€ç±»" class="headerlink" title="localstorageæ¸…é™¤ç‰¹å®šçš„ä¸€ç±»"></a>localstorageæ¸…é™¤ç‰¹å®šçš„ä¸€ç±»</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Object.keys(localStorage).forEach(item &#x3D;&gt; item.indexOf(&#39;mine&#39;) !&#x3D;&#x3D; -1 ? localStorage.removeItem(item) : &#39;&#39;);</span><br><span class="line"></span><br><span class="line">åˆ é™¤å¸¦mineå­—æ®µçš„ç¼“å­˜</span><br></pre></td></tr></table></figure>



<h2 id="å¸ƒç½²æœåŠ¡å™¨ååˆ·æ–°404"><a href="#å¸ƒç½²æœåŠ¡å™¨ååˆ·æ–°404" class="headerlink" title="å¸ƒç½²æœåŠ¡å™¨ååˆ·æ–°404"></a>å¸ƒç½²æœåŠ¡å™¨ååˆ·æ–°404</h2><p>å‚è€ƒé“¾æ¥ <a href="https://mp.weixin.qq.com/s/DqS4shzElGQUqwKGD5oweA" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/DqS4shzElGQUqwKGD5oweA</a></p>
<h3 id="ä¸ºä»€ä¹ˆhistoryæ¨¡å¼ä¸‹æœ‰é—®é¢˜"><a href="#ä¸ºä»€ä¹ˆhistoryæ¨¡å¼ä¸‹æœ‰é—®é¢˜" class="headerlink" title="ä¸ºä»€ä¹ˆhistoryæ¨¡å¼ä¸‹æœ‰é—®é¢˜"></a>ä¸ºä»€ä¹ˆhistoryæ¨¡å¼ä¸‹æœ‰é—®é¢˜</h3><p><code>Vue</code>æ˜¯å±äºå•é¡µåº”ç”¨ï¼ˆsingle-page applicationï¼‰</p>
<p>è€Œ<code>SPA</code>æ˜¯ä¸€ç§ç½‘ç»œåº”ç”¨ç¨‹åºæˆ–ç½‘ç«™çš„æ¨¡å‹ï¼Œæ‰€æœ‰ç”¨æˆ·äº¤äº’æ˜¯é€šè¿‡åŠ¨æ€é‡å†™å½“å‰é¡µé¢ï¼Œå‰é¢æˆ‘ä»¬ä¹Ÿçœ‹åˆ°äº†ï¼Œä¸ç®¡æˆ‘ä»¬åº”ç”¨æœ‰å¤šå°‘é¡µé¢ï¼Œæ„å»ºç‰©éƒ½åªä¼šäº§å‡ºä¸€ä¸ª<code>index.html</code></p>
<p>ç°åœ¨ï¼Œæˆ‘ä»¬å›å¤´æ¥çœ‹ä¸€ä¸‹æˆ‘ä»¬çš„<code>nginx</code>é…ç½®</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">server &#123;</span><br><span class="line">  listen  80;</span><br><span class="line">  server_name  www.xxx.com;</span><br><span class="line"></span><br><span class="line">  location &#x2F; &#123;</span><br><span class="line">    index  &#x2F;data&#x2F;dist&#x2F;index.html;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥æ ¹æ® <code>nginx</code> é…ç½®å¾—å‡ºï¼Œå½“æˆ‘ä»¬åœ¨åœ°å€æ è¾“å…¥ <code>www.xxx.com</code> æ—¶ï¼Œè¿™æ—¶ä¼šæ‰“å¼€æˆ‘ä»¬ <code>dist</code>ç›®å½•ä¸‹çš„ <code>index.html</code> æ–‡ä»¶ï¼Œç„¶åæˆ‘ä»¬åœ¨è·³è½¬è·¯ç”±è¿›å…¥åˆ° <code>www.xxx.com/login</code></p>
<p>å…³é”®åœ¨è¿™é‡Œï¼Œå½“æˆ‘ä»¬åœ¨ <code>website.com/login</code> é¡µæ‰§è¡Œåˆ·æ–°æ“ä½œï¼Œ<code>nginx location</code> æ˜¯æ²¡æœ‰ç›¸å…³é…ç½®çš„ï¼Œæ‰€ä»¥å°±ä¼šå‡ºç° 404 çš„æƒ…å†µ</p>
<h3 id="ä¸ºä»€ä¹ˆhashæ¨¡å¼ä¸‹æ²¡æœ‰é—®é¢˜"><a href="#ä¸ºä»€ä¹ˆhashæ¨¡å¼ä¸‹æ²¡æœ‰é—®é¢˜" class="headerlink" title="ä¸ºä»€ä¹ˆhashæ¨¡å¼ä¸‹æ²¡æœ‰é—®é¢˜"></a>ä¸ºä»€ä¹ˆhashæ¨¡å¼ä¸‹æ²¡æœ‰é—®é¢˜</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">router hash&#96; æ¨¡å¼æˆ‘ä»¬éƒ½çŸ¥é“æ˜¯ç”¨ç¬¦å·#è¡¨ç¤ºçš„ï¼Œå¦‚  &#96;website.com&#x2F;#&#x2F;login&#96;, &#96;hash&#96; çš„å€¼ä¸º&#96;#&#x2F;login</span><br></pre></td></tr></table></figure>

<p>å®ƒçš„ç‰¹ç‚¹åœ¨äºï¼š<code>hash</code> è™½ç„¶å‡ºç°åœ¨ <code>URL</code> ä¸­ï¼Œä½†ä¸ä¼šè¢«åŒ…æ‹¬åœ¨ <code>HTTP</code> è¯·æ±‚ä¸­ï¼Œå¯¹æœåŠ¡ç«¯å®Œå…¨æ²¡æœ‰å½±å“ï¼Œå› æ­¤æ”¹å˜ <code>hash</code> ä¸ä¼šé‡æ–°åŠ è½½é¡µé¢</p>
<p><code>hash</code> æ¨¡å¼ä¸‹ï¼Œä»… <code>hash</code> ç¬¦å·ä¹‹å‰çš„å†…å®¹ä¼šè¢«åŒ…å«åœ¨è¯·æ±‚ä¸­ï¼Œå¦‚ <code>website.com/#/login</code> åªæœ‰<code>website.com</code> ä¼šè¢«åŒ…å«åœ¨è¯·æ±‚ä¸­ ï¼Œå› æ­¤å¯¹äºæœåŠ¡ç«¯æ¥è¯´ï¼Œå³ä½¿æ²¡æœ‰é…ç½®<code>location</code>ï¼Œä¹Ÿä¸ä¼šè¿”å›404é”™è¯¯</p>
<h3 id="è§£å†³æ–¹æ¡ˆ-1"><a href="#è§£å†³æ–¹æ¡ˆ-1" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h3><p>çœ‹åˆ°è¿™é‡Œæˆ‘ç›¸ä¿¡å¤§éƒ¨åˆ†åŒå­¦éƒ½èƒ½æƒ³åˆ°æ€ä¹ˆè§£å†³é—®é¢˜äº†ï¼Œ</p>
<p>äº§ç”Ÿé—®é¢˜çš„æœ¬è´¨æ˜¯å› ä¸ºæˆ‘ä»¬çš„è·¯ç”±æ˜¯é€šè¿‡JSæ¥æ‰§è¡Œè§†å›¾åˆ‡æ¢çš„ï¼Œ</p>
<p>å½“æˆ‘ä»¬è¿›å…¥åˆ°å­è·¯ç”±æ—¶åˆ·æ–°é¡µé¢ï¼Œ<code>web</code>å®¹å™¨æ²¡æœ‰ç›¸å¯¹åº”çš„é¡µé¢æ­¤æ—¶ä¼šå‡ºç°404</p>
<p>æ‰€ä»¥æˆ‘ä»¬åªéœ€è¦é…ç½®å°†ä»»æ„é¡µé¢éƒ½é‡å®šå‘åˆ° <code>index.html</code>ï¼ŒæŠŠè·¯ç”±äº¤ç”±å‰ç«¯å¤„ç†</p>
<p>å¯¹<code>nginx</code>é…ç½®æ–‡ä»¶<code>.conf</code>ä¿®æ”¹ï¼Œæ·»åŠ <code>try_files $uri $uri/ /index.html;</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">  listen  80;</span><br><span class="line">  server_name  www.xxx.com;</span><br><span class="line"></span><br><span class="line">  location &#x2F; &#123;</span><br><span class="line">    index  &#x2F;data&#x2F;dist&#x2F;index.html;</span><br><span class="line">    try_files $uri $uri&#x2F; &#x2F;index.html;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¿®æ”¹å®Œé…ç½®æ–‡ä»¶åè®°å¾—é…ç½®çš„æ›´æ–°</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">nginx -s reload</span><br></pre></td></tr></table></figure>

<p>è¿™ä¹ˆåšä»¥åï¼Œä½ çš„æœåŠ¡å™¨å°±ä¸å†è¿”å› 404 é”™è¯¯é¡µé¢ï¼Œå› ä¸ºå¯¹äºæ‰€æœ‰è·¯å¾„éƒ½ä¼šè¿”å› <code>index.html</code>æ–‡ä»¶</p>
<p>ä¸ºäº†é¿å…è¿™ç§æƒ…å†µï¼Œä½ åº”è¯¥åœ¨ <code>Vue</code> åº”ç”¨é‡Œé¢è¦†ç›–æ‰€æœ‰çš„è·¯ç”±æƒ…å†µï¼Œç„¶ååœ¨ç»™å‡ºä¸€ä¸ª 404 é¡µé¢</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const router &#x3D; new VueRouter(&#123;</span><br><span class="line">  mode: &#39;history&#39;,</span><br><span class="line">  routes: [</span><br><span class="line">    &#123; path: &#39;*&#39;, component: NotFoundComponent &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>



<h2 id="ç›‘å¬é¡µé¢æˆ–è€…å…ƒç´ çš„æ»šåŠ¨-æ§åˆ¶å…ƒç´ çš„æ»šåŠ¨ï¼ˆjqueryï¼‰"><a href="#ç›‘å¬é¡µé¢æˆ–è€…å…ƒç´ çš„æ»šåŠ¨-æ§åˆ¶å…ƒç´ çš„æ»šåŠ¨ï¼ˆjqueryï¼‰" class="headerlink" title="ç›‘å¬é¡µé¢æˆ–è€…å…ƒç´ çš„æ»šåŠ¨/æ§åˆ¶å…ƒç´ çš„æ»šåŠ¨ï¼ˆjqueryï¼‰"></a>ç›‘å¬é¡µé¢æˆ–è€…å…ƒç´ çš„æ»šåŠ¨/æ§åˆ¶å…ƒç´ çš„æ»šåŠ¨ï¼ˆjqueryï¼‰</h2><ol>
<li>ç›‘å¬é¡µé¢æ»šåŠ¨</li>
</ol>
<p>åœ¨ç”Ÿå‘½å‘¨æœŸmountedä¸­è¿›è¡Œç›‘å¬æ»šåŠ¨ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">mounted () &#123;</span><br><span class="line">    window.addEventListener(&#39;scroll&#39;, this.scrollToTop)</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<p>åœ¨æ–¹æ³•ä¸­å®šä¹‰ç›‘å¬æ»šåŠ¨æ‰§è¡Œçš„æ–¹æ³•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">scrollToTop() &#123;</span><br><span class="line"> ã€€ã€€var scrollTop &#x3D; window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop;</span><br><span class="line"> ã€€ã€€console.log(scrollTop)</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>ç›‘å¬æŸå…ƒç´ æ»šåŠ¨</li>
</ol>
<p>tipsï¼šç›‘å¬çš„è¿™ä¸ªå…ƒç´ æ˜¯çˆ¶çº§å…ƒç´ ï¼Œå›ºå®šé«˜åº¦åoverflow:auto,</p>
<p>vueç»„ä»¶ä¸­ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;div id&#x3D;&quot;scrollcont&quot; style&#x3D;&quot;height:350px;overflow:auto;background:red;&quot; @scroll&#x3D;&quot;scrollEvent&quot;&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;read-con&quot; style&#x3D;&quot;height:1000px;margin:10px;background:pink;&quot;&gt;&lt;&#x2F;div&gt;           </span><br><span class="line">&lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure>

<p>åœ¨æ–¹æ³•ä¸­å®šä¹‰scrolldivï¼Œæ˜¯ç›‘å¬classä¸ºread-conæ»šåŠ¨ä»¥åéœ€è¦æ‰§è¡Œçš„æ–¹æ³•</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">scrollEvent () &#123;</span><br><span class="line">   let _this &#x3D; this</span><br><span class="line">   let scrollcont &#x3D; _this.$el.querySelector(&#39;#scrollcont&#39;)</span><br><span class="line">   console.log(scrollcont.scrollToTop)</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>vueä¸­æ§åˆ¶å…ƒç´ æ»šåŠ¨åˆ°åº•éƒ¨</li>
</ol>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">clickMe()&#123;</span><br><span class="line">  let _this &#x3D; this</span><br><span class="line">  let read &#x3D; _this.$el.querySelector(&#39;.test&#39;)  </span><br><span class="line">  &#x2F;&#x2F;è¿”å›ç¬¬ä¸€ä¸ªclassä¸ºtestå…ƒç´ ï¼Œthis.$el.querySelectorAll(&#39;.test&#39;)ï¼Œè¿”å›æ‰€æœ‰</span><br><span class="line">  read.scrollTop &#x3D; read.scrollHeight</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>



<ol start="4">
<li>jqueryæ§åˆ¶å…ƒç´ æ»šåŠ¨åˆ°åº•éƒ¨</li>
</ol>
<p>jqueryå– scrollHeight, $(â€œ#scrollTopContâ€).scrollHeight æ‹¿ä¸åˆ°<br>$(â€œ#scrollTopContâ€)[0].scrollHeight //å–å€¼scrollHeight</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">setTimeout(() &#x3D;&gt; &#123;</span><br><span class="line">   &#x2F;&#x2F; console.log($(&quot;#scrollTopCont&quot;)[0].scrollHeight, );</span><br><span class="line">   $(&quot;#scrollTopCont&quot;).scrollTop($(&quot;#scrollTopCont&quot;)[0].scrollHeight)</span><br><span class="line">&#125;, 100);</span><br></pre></td></tr></table></figure>



<h2 id="ä¸Šä¼ å›¾ç‰‡-excelæ–‡ä»¶åˆ°æ¥å£"><a href="#ä¸Šä¼ å›¾ç‰‡-excelæ–‡ä»¶åˆ°æ¥å£" class="headerlink" title="ä¸Šä¼ å›¾ç‰‡/excelæ–‡ä»¶åˆ°æ¥å£"></a>ä¸Šä¼ å›¾ç‰‡/excelæ–‡ä»¶åˆ°æ¥å£</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">submitData() &#123;</span><br><span class="line">    const that &#x3D; this;</span><br><span class="line">    const fd &#x3D; new FormData()&#x2F;&#x2F; FormData å¯¹è±¡</span><br><span class="line">    fd.append(&#39;file&#39;, this.fileObj)&#x2F;&#x2F; æ–‡ä»¶å¯¹è±¡  &#39;upload&#39;æ˜¯åå°æ¥æ”¶çš„å‚æ•°å</span><br><span class="line">    const config &#x3D; &#123;</span><br><span class="line">        headers: &#123;</span><br><span class="line">        &quot;Content-Type&quot;: &quot;application&#x2F;x-www-form-urlencoded&quot;,</span><br><span class="line">        &quot;Authorization&quot;: localStorage.getItem(&#39;token_IOT&#39;),</span><br><span class="line">        &quot;buildId&quot;: localStorage.getItem(&quot;buildId_IOT&quot;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    axios.post(axiosUrl, fd, config)</span><br><span class="line">    .then(function (response) &#123;</span><br><span class="line"></span><br><span class="line">    &#125;)</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>





<h2 id="preserveWhitespace-å»é™¤ç©ºæ ¼"><a href="#preserveWhitespace-å»é™¤ç©ºæ ¼" class="headerlink" title="preserveWhitespace(å»é™¤ç©ºæ ¼)"></a><strong>preserveWhitespace</strong>(å»é™¤ç©ºæ ¼)</h2><p>åœºæ™¯:å¼€å‘ vue ä»£ç ä¸€èˆ¬ä¼šæœ‰ç©ºæ ¼,è¿™ä¸ªæ—¶å€™æ‰“åŒ…å‹ç¼©å¦‚æœä¸å»æ‰ç©ºæ ¼ä¼šåŠ å¤§åŒ…çš„ä½“ç§¯<br>é…ç½®preserveWhitespaceå¯ä»¥å‡å°åŒ…çš„ä½“ç§¯</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">rules: [</span><br><span class="line">     &#123;</span><br><span class="line">       test: &#x2F;\.vue$&#x2F;,</span><br><span class="line">       loader: &#39;vue-loader&#39;,</span><br><span class="line">       options: &#123;</span><br><span class="line">         compilerOptions: &#123;</span><br><span class="line">           preserveWhitespace: false</span><br><span class="line">         &#125;</span><br><span class="line">       &#125;</span><br><span class="line">     &#125;,</span><br><span class="line">]</span><br></pre></td></tr></table></figure>



<h2 id="img-åŠ è½½å¤±è´¥"><a href="#img-åŠ è½½å¤±è´¥" class="headerlink" title="img åŠ è½½å¤±è´¥"></a><strong>img åŠ è½½å¤±è´¥</strong></h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; page ä»£ç </span><br><span class="line">&lt;img :src&#x3D;&quot;imgUrl&quot; @error&#x3D;&quot;handleError&quot; alt&#x3D;&quot;&quot;&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default&#123;</span><br><span class="line"> data()&#123;</span><br><span class="line">  return&#123;</span><br><span class="line">   imgUrl:&#39;&#39;</span><br><span class="line">  &#125;</span><br><span class="line"> &#125;,</span><br><span class="line"> methods:&#123;</span><br><span class="line">  handleError(e)&#123;</span><br><span class="line">   e.target.src&#x3D;reqiure(&#39;å›¾ç‰‡è·¯å¾„&#39;) </span><br><span class="line">  &#125;</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>



<h2 id="require-context"><a href="#require-context" class="headerlink" title="require.context()"></a><strong>require.context()</strong></h2><p>1.åœºæ™¯:å¦‚é¡µé¢éœ€è¦å¯¼å…¥å¤šä¸ªç»„ä»¶,åŸå§‹å†™æ³•:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import titleCom from &#39;@&#x2F;components&#x2F;home&#x2F;titleCom&#39;</span><br><span class="line">import bannerCom from &#39;@&#x2F;components&#x2F;home&#x2F;bannerCom&#39;</span><br><span class="line">import cellCom from &#39;@&#x2F;components&#x2F;home&#x2F;cellCom&#39;</span><br><span class="line">components:&#123;titleCom,bannerCom,cellCom&#125;</span><br></pre></td></tr></table></figure>

<p>2.è¿™æ ·å°±å†™äº†å¤§é‡é‡å¤çš„ä»£ç ,åˆ©ç”¨ require.context å¯ä»¥å†™æˆ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const path &#x3D; require(&#39;path&#39;)</span><br><span class="line">const files &#x3D; require.context(&#39;@&#x2F;components&#x2F;home&#39;, false, &#x2F;\.vue$&#x2F;)</span><br><span class="line">const modules &#x3D; &#123;&#125;</span><br><span class="line">files.keys().forEach(key &#x3D;&gt; &#123;</span><br><span class="line"> const name &#x3D; path.basename(key, &#39;.vue&#39;)</span><br><span class="line"> modules[name] &#x3D; files(key).default || files(key)</span><br><span class="line">&#125;)</span><br><span class="line">components:modules</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·ä¸ç®¡é¡µé¢å¼•å…¥å¤šå°‘ç»„ä»¶,éƒ½å¯ä»¥ä½¿ç”¨è¿™ä¸ªæ–¹æ³•</p>
<p>çŠ¶æ€ç®¡ç†çš„modulesä¹Ÿå¯ä»¥ä½¿ç”¨åŒæ ·çš„æ–¹æ³•</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const modulesFiles &#x3D; require.context(&#39;.&#x2F;modules&#39;, true, &#x2F;\.js$&#x2F;);</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; you do not need &#96;import app from &#39;.&#x2F;modules&#x2F;app&#39;&#96;</span><br><span class="line">&#x2F;&#x2F; it will auto require all vuex module from modules file</span><br><span class="line">const modules &#x3D; modulesFiles.keys().reduce((modules, modulePath) &#x3D;&gt; &#123;</span><br><span class="line">  &#x2F;&#x2F; set &#39;.&#x2F;app.js&#39; &#x3D;&gt; &#39;app&#39;</span><br><span class="line">  const moduleName &#x3D; modulePath.replace(&#x2F;^\.\&#x2F;(.*)\.\w+$&#x2F;, &#39;$1&#39;);</span><br><span class="line">  const value &#x3D; modulesFiles(modulePath);</span><br><span class="line">  modules[moduleName] &#x3D; value.default;</span><br><span class="line">  return modules;</span><br><span class="line">&#125;, &#123;&#125;);</span><br><span class="line">const store &#x3D; new Vuex.Store(&#123;</span><br><span class="line">  modules,</span><br><span class="line">  getters</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>





<p>3.API æ–¹æ³•</p>
<blockquote>
<p>å®é™…ä¸Šæ˜¯ webpack çš„æ–¹æ³•,vue å·¥ç¨‹ä¸€èˆ¬åŸºäº webpack,æ‰€ä»¥å¯ä»¥ä½¿ç”¨<br>require.context(directory,useSubdirectories,regExp)<br>æ¥æ”¶ä¸‰ä¸ªå‚æ•°:<br>directoryï¼šè¯´æ˜éœ€è¦æ£€ç´¢çš„ç›®å½•<br>useSubdirectoriesï¼šæ˜¯å¦æ£€ç´¢å­ç›®å½•<br>regExp: åŒ¹é…æ–‡ä»¶çš„æ­£åˆ™è¡¨è¾¾å¼,ä¸€èˆ¬æ˜¯æ–‡ä»¶å</p>
</blockquote>
<h2 id="åœ¨vueé¡¹ç›®ä¸­ç›‘å¬é”®ç›˜äº‹ä»¶çš„æ–¹æ³•"><a href="#åœ¨vueé¡¹ç›®ä¸­ç›‘å¬é”®ç›˜äº‹ä»¶çš„æ–¹æ³•" class="headerlink" title="åœ¨vueé¡¹ç›®ä¸­ç›‘å¬é”®ç›˜äº‹ä»¶çš„æ–¹æ³•"></a>åœ¨vueé¡¹ç›®ä¸­ç›‘å¬é”®ç›˜äº‹ä»¶çš„æ–¹æ³•</h2><p>1åœ¨main.jsæ–‡ä»¶ä¸­å†™å…¥ä»¥ä¸‹ä»£ç ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Vue.prototype.$keyBoard &#x3D; function (vm, methodName, code) &#123;</span><br><span class="line"></span><br><span class="line"> document.onkeydown &#x3D; function () &#123;</span><br><span class="line"></span><br><span class="line">  let key &#x3D; window.event.keyCode;</span><br><span class="line"></span><br><span class="line">  if (key &#x3D;&#x3D; code) &#123;</span><br><span class="line"></span><br><span class="line">   vm[methodName](code); &#x2F;&#x2F; è§¦å‘methodNameäº‹ä»¶</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"> &#125;;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>2åœ¨éœ€è¦ç›‘å¬é”®ç›˜äº‹ä»¶çš„ç»„ä»¶é‡Œçš„mounted ç”Ÿå‘½å‘¨æœŸå†…å†™å…¥ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">mounted () &#123;</span><br><span class="line"></span><br><span class="line">  this.$keyBoard(this, &#39;onClickEnter&#39;, 13) &#x2F;&#x2F; 13å°±æ˜¯å›è½¦é”®çš„keycode,è¿™æ ·ç‚¹å‡»å›è½¦å°±èƒ½è§¦å‘onClickEnterè¿™ä¸ªäº‹ä»¶äº†</span><br><span class="line"></span><br><span class="line"> &#125;,</span><br></pre></td></tr></table></figure>



<p>3åœ¨ç»„ä»¶ä¸­å®šä¹‰è¢«é”®ç›˜äº‹ä»¶è§¦å‘çš„æ–¹æ³•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">methods: &#123;</span><br><span class="line"></span><br><span class="line">  onClickEnter () &#123;</span><br><span class="line"></span><br><span class="line">   alert(&#39;å“ˆå“ˆ&#39;)</span><br><span class="line"></span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="ä½¿ç”¨æ’ä»¶vue-clipboard2å¤åˆ¶å†…å®¹è‡³å‰ªåˆ‡æ¿-ä¸¤ç§ä½¿ç”¨æ–¹æ³•"><a href="#ä½¿ç”¨æ’ä»¶vue-clipboard2å¤åˆ¶å†…å®¹è‡³å‰ªåˆ‡æ¿-ä¸¤ç§ä½¿ç”¨æ–¹æ³•" class="headerlink" title="ä½¿ç”¨æ’ä»¶vue-clipboard2å¤åˆ¶å†…å®¹è‡³å‰ªåˆ‡æ¿(ä¸¤ç§ä½¿ç”¨æ–¹æ³•)"></a>ä½¿ç”¨æ’ä»¶vue-clipboard2å¤åˆ¶å†…å®¹è‡³å‰ªåˆ‡æ¿(ä¸¤ç§ä½¿ç”¨æ–¹æ³•)</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install --save vue-clipboard2</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import Vue from &#39;vue&#39;</span><br><span class="line">import VueClipboard from &#39;vue-clipboard2&#39;</span><br><span class="line"> </span><br><span class="line">Vue.use(VueClipboard)</span><br></pre></td></tr></table></figure>

<h5 id="æ–¹å¼ä¸€"><a href="#æ–¹å¼ä¸€" class="headerlink" title="æ–¹å¼ä¸€"></a>æ–¹å¼ä¸€</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class&#x3D;&quot;container&quot;&gt;</span><br><span class="line">    &lt;input type&#x3D;&quot;text&quot; v-model&#x3D;&quot;message&quot;&gt;</span><br><span class="line">  &lt;button class&#x3D;&quot;fs12&quot;</span><br><span class="line">            v-clipboard:copy&#x3D;&quot;&#39;åœ°å€ï¼š&#39;+detail.address+&#39;\nå§“åï¼š&#39;+detail.name+&#39;\nç”µè¯ï¼š&#39;+detail.phone&quot;</span><br><span class="line">        v-clipboard:success&#x3D;&quot;onCopy&quot; </span><br><span class="line">        v-clipboard:error&#x3D;&quot;onError&quot;&gt;å¤åˆ¶&lt;&#x2F;button&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  export default &#123;</span><br><span class="line">    data() &#123;</span><br><span class="line">      return &#123;</span><br><span class="line">       detail:&#123;</span><br><span class="line">        address:&#39;åœ°å€&#39;,</span><br><span class="line">        name:&#39;åå­—&#39;,</span><br><span class="line">        phone:&#39;1234567&#39;</span><br><span class="line">           &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">      onCopy: function (e) &#123;</span><br><span class="line">        alert(&#39;You just copied: &#39; + e.text)</span><br><span class="line">      &#125;,</span><br><span class="line">      onError: function (e) &#123;</span><br><span class="line">        console.log(e)</span><br><span class="line">        alert(&#39;Failed to copy texts&#39;)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<h5 id="æ–¹å¼äºŒ"><a href="#æ–¹å¼äºŒ" class="headerlink" title="æ–¹å¼äºŒ"></a>æ–¹å¼äºŒ</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class&#x3D;&quot;container&quot;&gt;</span><br><span class="line">     &lt;button class&#x3D;&quot;fs12&quot; @click&#x3D;&quot;copyCode&quot;&gt;å¤åˆ¶&lt;&#x2F;button&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  export default &#123;</span><br><span class="line">    data() &#123;</span><br><span class="line">      return &#123;</span><br><span class="line">        detail:&#123;</span><br><span class="line">        address:&#39;åœ°å€&#39;,</span><br><span class="line">        name:&#39;åå­—&#39;,</span><br><span class="line">        phone:&#39;1234567&#39;</span><br><span class="line">           &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">    copyCode() &#123;</span><br><span class="line">	this.$copyText(&#96;åœ°å€ï¼š$&#123;this.detail.address&#125;\næ”¶ä»¶äººï¼š    $&#123;this.detail.name&#125;\nç”µè¯ï¼š$&#123;this.detail.phone&#125;&#96;).then(</span><br><span class="line">		        res &#x3D;&gt; &#123;</span><br><span class="line">		          console.log(res)</span><br><span class="line">		          this.$toast(&quot;å·²æˆåŠŸå¤åˆ¶ï¼Œå¯ç›´æ¥å»ç²˜è´´&quot;);</span><br><span class="line">		        &#125;,</span><br><span class="line">		        err &#x3D;&gt; &#123;</span><br><span class="line">		          this.$toast(&quot;å¤åˆ¶å¤±è´¥&quot;);</span><br><span class="line">		        &#125;</span><br><span class="line">		      )</span><br><span class="line">		    &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>



<h2 id="åœ¨vueä¸­ä½¿ç”¨vue-qriouslyç”ŸæˆäºŒç»´ç "><a href="#åœ¨vueä¸­ä½¿ç”¨vue-qriouslyç”ŸæˆäºŒç»´ç " class="headerlink" title="åœ¨vueä¸­ä½¿ç”¨vue-qriouslyç”ŸæˆäºŒç»´ç "></a>åœ¨vueä¸­ä½¿ç”¨vue-qriouslyç”ŸæˆäºŒç»´ç </h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">1ã€å®‰è£…</span><br><span class="line">npm i  vue-qriously -S</span><br><span class="line"></span><br><span class="line">2ã€å¼•å…¥</span><br><span class="line">&#x2F;&#x2F;main.js</span><br><span class="line">import Vue from &#39;vue&#39;</span><br><span class="line">import VueQriously from &#39;vue-qriously&#39;</span><br><span class="line">Vue.use(VueQriously)</span><br><span class="line"></span><br><span class="line">3ã€ä½¿ç”¨</span><br><span class="line">&#x2F;&#x2F;home.vue</span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;qriously :value&#x3D;&quot;qrcode&quot; :size&#x3D;&quot;200&quot; &#x2F;&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  export default &#123;</span><br><span class="line">    data() &#123;</span><br><span class="line">        return &#123;</span><br><span class="line">            qrcode: &#39;www.baidu.com&#39;</span><br><span class="line">         &#125;</span><br><span class="line">     &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>



<h2 id="ä½¿ç”¨html2canvasæˆªå–å›¾ç‰‡"><a href="#ä½¿ç”¨html2canvasæˆªå–å›¾ç‰‡" class="headerlink" title="ä½¿ç”¨html2canvasæˆªå–å›¾ç‰‡"></a>ä½¿ç”¨html2canvasæˆªå–å›¾ç‰‡</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">å…ˆå¼•å…¥æ’ä»¶</span><br><span class="line">npm install --save html2canvas</span><br><span class="line"></span><br><span class="line">ä¹‹ååœ¨ä½ æ‰€éœ€è¦ä½¿ç”¨çš„é¡µé¢å¼•å…¥</span><br><span class="line">import html2canvas from &quot;html2canvas&quot;</span><br><span class="line"></span><br><span class="line">html</span><br><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;about&quot;&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;imageWrapper&quot; ref&#x3D;&quot;imageWrapper&quot;&gt;</span><br><span class="line">            &lt;div class&#x3D;&quot;success&quot;&gt;</span><br><span class="line">                &lt;div class&#x3D;&quot;img&quot;&gt;</span><br><span class="line">                    &lt;img class&#x3D;&quot;img-icon&quot; src&#x3D;&quot;https:&#x2F;&#x2F;t10.baidu.com&#x2F;it&#x2F;u1&#x3D;1637861796&amp;u2&#x3D;2420578710&amp;fm&#x3D;76&quot;&#x2F;&gt;</span><br><span class="line">                    &lt;p style&#x3D;&quot;font-weight: 600; font-size: 18px&quot;&gt;æ”¯ä»˜æˆåŠŸ&lt;&#x2F;p&gt;</span><br><span class="line">                &lt;&#x2F;div&gt;</span><br><span class="line">            &lt;&#x2F;div&gt;</span><br><span class="line">            &lt;div class&#x3D;&quot;success-detail&quot;&gt;</span><br><span class="line">                &lt;el-row style&#x3D;&quot;margin-top: 10px;&quot;&gt;</span><br><span class="line">                    &lt;el-col :span&#x3D;&quot;5&quot; class&#x3D;&quot;col-left-suc&quot;&gt;æ”¶æ¬¾å•†å®¶&lt;&#x2F;el-col&gt;</span><br><span class="line">                    &lt;el-col :span&#x3D;&quot;16&quot; class&#x3D;&quot;col-right&quot;&gt;æ˜¯è°&lt;&#x2F;el-col&gt;</span><br><span class="line">                &lt;&#x2F;el-row&gt;</span><br><span class="line">                &lt;el-row style&#x3D;&quot;margin-top: 10px;&quot;&gt;</span><br><span class="line">                    &lt;el-col :span&#x3D;&quot;5&quot; class&#x3D;&quot;col-left-suc&quot;&gt;è´¹ç”¨åç§°&lt;&#x2F;el-col&gt;</span><br><span class="line">                    &lt;el-col :span&#x3D;&quot;16&quot; class&#x3D;&quot;col-right&quot;&gt;ä¿æŠ¤è´¹&lt;&#x2F;el-col&gt;</span><br><span class="line">                &lt;&#x2F;el-row&gt;</span><br><span class="line">                &lt;el-row style&#x3D;&quot;margin-top: 10px;&quot;&gt;</span><br><span class="line">                    &lt;el-col :span&#x3D;&quot;5&quot; class&#x3D;&quot;col-left-suc&quot;&gt;ç¼´è´¹é‡‘é¢&lt;&#x2F;el-col&gt;</span><br><span class="line">                    &lt;el-col :span&#x3D;&quot;16&quot; class&#x3D;&quot;col-right&quot;&gt;200å…ƒ&lt;&#x2F;el-col&gt;</span><br><span class="line">                &lt;&#x2F;el-row&gt;</span><br><span class="line">            &lt;&#x2F;div&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;button&quot;&gt;</span><br><span class="line">            &lt;el-button style&#x3D;&quot;width: 70%;&quot; type&#x3D;&quot;success&quot; size&#x3D;&quot;small&quot; @click&#x3D;&quot;toImage&quot;&gt;ç”Ÿæˆæˆªå›¾&lt;&#x2F;el-button&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">        &lt;hr&gt;</span><br><span class="line">        &lt;hr&gt;</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">            &lt;img class&#x3D;&quot;real_pic&quot; :src&#x3D;&quot;dataURL&quot; &#x2F;&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">js</span><br><span class="line">&lt;script&gt;</span><br><span class="line">import html2canvas from &#39;html2canvas&#39;</span><br><span class="line">export default &#123;</span><br><span class="line">    data() &#123;</span><br><span class="line">        return &#123;</span><br><span class="line">            dataURL: &#39;&#39;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">        toImage() &#123;</span><br><span class="line">            html2canvas(this.$refs.imageWrapper, &#123;</span><br><span class="line">                backgroundColor: null,&#x2F;&#x2F;è®¾ç½®èƒŒæ™¯é¢œè‰²ä¸ºnull</span><br><span class="line">                useCORS:true &#x2F;&#x2F;å…è®¸ä½¿ç”¨è·¨åŸŸèµ„æºçš„å›¾ç‰‡</span><br><span class="line">            &#125;).then((canvas) &#x3D;&gt; &#123;</span><br><span class="line">                let dataURL &#x3D; canvas.toDataURL(&quot;image&#x2F;png&quot;);</span><br><span class="line">                this.dataURL &#x3D; dataURL;</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">å±æ€§é“¾æ¥</span><br><span class="line">https:&#x2F;&#x2F;html2canvas.hertzen.com&#x2F;configuration</span><br></pre></td></tr></table></figure>



<h2 id="documentæ–‡æ¡£åŠ è½½è¿‡ç¨‹åˆ†æ"><a href="#documentæ–‡æ¡£åŠ è½½è¿‡ç¨‹åˆ†æ" class="headerlink" title="documentæ–‡æ¡£åŠ è½½è¿‡ç¨‹åˆ†æ"></a>documentæ–‡æ¡£åŠ è½½è¿‡ç¨‹åˆ†æ</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    document.addEventListener(&quot;DOMContentLoaded&quot;, function (event) &#123;</span><br><span class="line">    	console.log(&quot;åˆå§‹DOM åŠ è½½å¹¶è§£æ&quot;);</span><br><span class="line">    &#125;);</span><br><span class="line">    window.addEventListener(&quot;load&quot;, function (event) &#123;</span><br><span class="line">    	console.log(&quot;window æ‰€æœ‰èµ„æºåŠ è½½å®Œæˆ&quot;);</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    document.onreadystatechange &#x3D; function () &#123;</span><br><span class="line">    	console.log(document.readyState)</span><br><span class="line">   		if (document.readyState &#x3D;&#x3D;&#x3D; &quot;complete&quot;) &#123;</span><br><span class="line">    		console.log(&#39;åˆå§‹DOM,åŠ è½½è§£æå®Œæˆ&#39;)</span><br><span class="line">    	&#125;</span><br><span class="line">    &#125;</span><br><span class="line">    window.addEventListener(&quot;beforeunload&quot;, function (event) &#123;</span><br><span class="line">    	console.log(&#39;å³å°†å…³é—­1&#39;)</span><br><span class="line">    	event.returnValue &#x3D; &quot;\o&#x2F;&quot;;</span><br><span class="line">    &#125;);</span><br><span class="line">    window.addEventListener(&#39;unload&#39;, function (event) &#123;</span><br><span class="line">    	console.log(&#39;å³å°†å…³é—­2&#39;);</span><br><span class="line">    &#125;);</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line">console.log</span><br><span class="line">interactive &#x2F;&#x2F;(index):15</span><br><span class="line">åˆå§‹DOM åŠ è½½å¹¶è§£æ &#x2F;&#x2F;(index):8</span><br><span class="line">complet&#x2F;&#x2F;(index):15 </span><br><span class="line">åˆå§‹DOM,åŠ è½½è§£æå®Œæˆ&#x2F;&#x2F;(index):17 </span><br><span class="line">window æ‰€æœ‰èµ„æºåŠ è½½å®Œæˆ&#x2F;&#x2F;(index):11 </span><br><span class="line">&#x2F;&#x2F;ç‚¹å‡»å…³é—­æŒ‰é’®</span><br><span class="line">å³å°†å…³é—­1</span><br><span class="line">å³å°†å…³é—­2</span><br></pre></td></tr></table></figure>



<h2 id="Object-defineProperty-å’ŒProxy"><a href="#Object-defineProperty-å’ŒProxy" class="headerlink" title="Object.defineProperty,å’ŒProxy"></a>Object.defineProperty,å’ŒProxy</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ç›¸æ¯”äºObject.defineProperty, Proxyåˆ°åº•æœ‰å“ªäº›ä¼˜åŠ¿ã€‚</span><br><span class="line">ç¬¬ä¸€ç‚¹</span><br><span class="line">Object.definePropertyåªèƒ½ç›‘å¬åˆ°å¯¹è±¡å±æ€§çš„è¯»å–æˆ–è€…æ˜¯å†™å…¥</span><br><span class="line">Proxyé™¤è¯»å†™å¤–è¿˜å¯ä»¥ç›‘å¬å¯¹è±¡ä¸­å±æ€§çš„åˆ é™¤ï¼Œå¯¹å¯¹è±¡å½“ä¸­æ–¹æ³•çš„è°ƒç”¨ç­‰ç­‰ã€‚</span><br><span class="line">ç¬¬äºŒç‚¹</span><br><span class="line">å¯¹äºæ•°ç»„å¯¹è±¡è¿›è¡Œç›‘è§†ï¼Œé€šå¸¸æˆ‘ä»¬æƒ³è¦ç›‘è§†æ•°ç»„çš„å˜åŒ–ï¼ŒåŸºæœ¬è¦ä¾é é‡å†™æ•°ç»„æ–¹æ³•ï¼Œè¿™ä¹Ÿæ˜¯Vueçš„å®ç°æ–¹å¼ï¼Œproxyå¯ä»¥ç›´æ¥ç›‘è§†æ•°ç»„çš„å˜åŒ–ã€‚ä»¥å¾€æˆ‘ä»¬æƒ³è¦é€šè¿‡Object.definePropertyå»ç›‘è§†æ•°ç»„çš„æ“ä½œæœ€å¸¸è§çš„æ–¹å¼æ˜¯é‡å†™æ•°ç»„çš„æ“ä½œæ–¹æ³•ï¼Œè¿™ä¹Ÿæ˜¯Vue.jsä¸­æ‰€ä½¿ç”¨çš„æ–¹å¼ï¼Œå¤§ä½“çš„æ–¹å¼å°±æ˜¯é€šè¿‡è‡ªå®šä¹‰çš„æ–¹æ³•å»è¦†ç›–æ‰æ•°ç»„åŸå‹å¯¹è±¡ä¸Šçš„pushï¼Œshiftä¹‹ç±»çš„æ–¹æ³•ï¼Œä»¥æ­¤æ¥åŠ«æŒå¯¹åº”çš„æ–¹æ³•è°ƒç”¨çš„è¿‡ç¨‹ã€‚</span><br></pre></td></tr></table></figure>



<h2 id="Vue-jsä½¿ç”¨Blobçš„æ–¹å¼å®ç°excelè¡¨æ ¼çš„ä¸‹è½½-æµæ–‡ä»¶ä¸‹è½½"><a href="#Vue-jsä½¿ç”¨Blobçš„æ–¹å¼å®ç°excelè¡¨æ ¼çš„ä¸‹è½½-æµæ–‡ä»¶ä¸‹è½½" class="headerlink" title="Vue.jsä½¿ç”¨Blobçš„æ–¹å¼å®ç°excelè¡¨æ ¼çš„ä¸‹è½½(æµæ–‡ä»¶ä¸‹è½½)"></a>Vue.jsä½¿ç”¨Blobçš„æ–¹å¼å®ç°excelè¡¨æ ¼çš„ä¸‹è½½(æµæ–‡ä»¶ä¸‹è½½)</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">	&lt;el-button @click&#x3D;&quot;downloadUrl&quot;&gt;å¯¼å‡ºExcel&lt;&#x2F;el-button&gt;        </span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">import api from &quot;..&#x2F;..&#x2F;api&#x2F;api.js&quot;;</span><br><span class="line">import axios from &quot;axios&quot;;</span><br><span class="line">export default &#123;</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">		pageSize:30,</span><br><span class="line">	&#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  created() &#123;&#125;,</span><br><span class="line">  computed: &#123;&#125;,</span><br><span class="line">  mounted() &#123;&#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    downloadUrl() &#123;</span><br><span class="line">      &#x2F;&#x2F; console.log(api.serverUrl);</span><br><span class="line">      let params &#x3D; &#123;</span><br><span class="line">        pageNum: &quot;1&quot;,</span><br><span class="line">        pageSize: this.pageSize,</span><br><span class="line">        companyId: JSON.parse(sessionStorage.getItem(&quot;companyId&quot;))</span><br><span class="line">      &#125;;</span><br><span class="line">      this.download_accountsDetails_info(params);</span><br><span class="line">    &#125;,</span><br><span class="line">    download_accountsDetails_info(params) &#123;</span><br><span class="line">      return new Promise((resolve, reject) &#x3D;&gt; &#123;</span><br><span class="line">        axios</span><br><span class="line">          .get(api.serverUrl + &quot;&#x2F;order&#x2F;exportOrder&quot;, &#123;</span><br><span class="line">            params: params,</span><br><span class="line">            responseType: &quot;blob&quot; &#x2F;&#x2F; 1.é¦–å…ˆè®¾ç½®responseTypeå¯¹è±¡æ ¼å¼ä¸º blob:</span><br><span class="line">          &#125;)</span><br><span class="line">          .then(</span><br><span class="line">            res &#x3D;&gt; &#123;</span><br><span class="line">              &#x2F;&#x2F;resolve(res)</span><br><span class="line">              let blob &#x3D; new Blob([res.data], &#123;</span><br><span class="line">                type: &quot;application&#x2F;vnd.ms-excel&quot;</span><br><span class="line">              &#125;); &#x2F;&#x2F; 2.è·å–è¯·æ±‚è¿”å›çš„responseå¯¹è±¡ä¸­çš„blob è®¾ç½®æ–‡ä»¶ç±»å‹ï¼Œè¿™é‡Œä»¥excelä¸ºä¾‹</span><br><span class="line">              let url &#x3D; window.URL.createObjectURL(blob); &#x2F;&#x2F; 3.åˆ›å»ºä¸€ä¸ªä¸´æ—¶çš„urlæŒ‡å‘blobå¯¹è±¡</span><br><span class="line"></span><br><span class="line">              &#x2F;&#x2F; 4.åˆ›å»ºurlä¹‹åå¯ä»¥æ¨¡æ‹Ÿå¯¹æ­¤æ–‡ä»¶å¯¹è±¡çš„ä¸€ç³»åˆ—æ“ä½œï¼Œä¾‹å¦‚ï¼šé¢„è§ˆã€ä¸‹è½½</span><br><span class="line">              let a &#x3D; document.createElement(&quot;a&quot;);</span><br><span class="line">              a.href &#x3D; url;</span><br><span class="line">              a.download &#x3D; &quot;å¯¼å‡ºè¡¨æ ¼.xlsx&quot;;</span><br><span class="line">              a.click();</span><br><span class="line">              &#x2F;&#x2F; 5.é‡Šæ”¾è¿™ä¸ªä¸´æ—¶çš„å¯¹è±¡url</span><br><span class="line">              window.URL.revokeObjectURL(url);</span><br><span class="line">            &#125;,</span><br><span class="line">            err &#x3D;&gt; &#123;</span><br><span class="line">              resolve(err.response);</span><br><span class="line">            &#125;</span><br><span class="line">          )</span><br><span class="line">          .catch(error &#x3D;&gt; &#123;</span><br><span class="line">            reject(error);</span><br><span class="line">          &#125;);</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>



<h2 id="vue-echartså…¥é—¨ä½¿ç”¨"><a href="#vue-echartså…¥é—¨ä½¿ç”¨" class="headerlink" title="vue-echartså…¥é—¨ä½¿ç”¨"></a>vue-echartså…¥é—¨ä½¿ç”¨</h2><p>1ã€ä¸‹è½½(éœ€è¦åŒæ—¶ä¸‹è½½echartså’Œvue-echarts)</p>
<p>npm</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install echarts vue-echarts</span><br></pre></td></tr></table></figure>

<p>cdn</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;script src&#x3D;â€œhttps:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;npm&#x2F;echarts@4.1.0&#x2F;dist&#x2F;echarts.jsâ€&gt;</span><br><span class="line">&lt;script src&#x3D;â€œhttps:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;npm&#x2F;vue-echarts@4.0.2â€&gt;</span><br></pre></td></tr></table></figure>




<p>2ã€æ–‡ä»¶å†…å¼•å…¥ä½¿ç”¨</p>
<p>*æ³¨ï¼šè¿™ç§æ–¹å¼å†™çš„æ—¶å€™éœ€è¦tooltipsæˆ–è€…legendè¿™ç±»çš„æ—¶å€™ï¼Œéƒ½éœ€è¦import â€˜echarts/lib/component/legendâ€™;è¿™æ ·å¼•å…¥ä¸€ä¸‹ï¼Œä¸ç„¶ä¸ä¼šæ˜¾ç¤ºå‡ºæ¥</p>
<p>// å±€éƒ¨å¼•å…¥vue-echarts</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import &#39;echarts&#x2F;lib&#x2F;chart&#x2F;line&#39;;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;import ECharts from &#39;vue-echarts&#39;;</span><br><span class="line">import ECharts from &#39;vue-echarts&#x2F;components&#x2F;ECharts.vue&#39;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; æ‰‹åŠ¨å¼•å…¥ ECharts å„æ¨¡å—æ¥å‡å°æ‰“åŒ…ä½“ç§¯</span><br><span class="line">import &#39;echarts&#x2F;lib&#x2F;chart&#x2F;bar&#39;</span><br><span class="line">import &#39;echarts&#x2F;lib&#x2F;chart&#x2F;pie&#39;</span><br><span class="line">import &#39;echarts&#x2F;lib&#x2F;chart&#x2F;line&#39;;</span><br><span class="line"></span><br><span class="line">import &#39;echarts&#x2F;lib&#x2F;component&#x2F;tooltip&#39;</span><br><span class="line">import &#39;echarts&#x2F;lib&#x2F;component&#x2F;polar&#39;</span><br><span class="line">import &#39;echarts&#x2F;lib&#x2F;component&#x2F;legend&#39;</span><br><span class="line">import &#39;echarts&#x2F;lib&#x2F;component&#x2F;title.js&#39;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; æ³¨å†Œç»„ä»¶åå³å¯ä½¿ç”¨</span><br><span class="line">Vue.component(&#39;v-chart&#39;, ECharts)</span><br><span class="line">Vue.prototype.$echarts &#x3D; ECharts</span><br></pre></td></tr></table></figure>



<p>3ã€htmléƒ¨åˆ†</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=<span class="string">"charts"</span>&gt;</span><br><span class="line">    &lt;v-chart</span><br><span class="line">      :options=<span class="string">"options"</span></span><br><span class="line">      auto-resize</span><br><span class="line">      style=<span class="string">"width:100%;height:300px;"</span></span><br><span class="line">      /&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>

<p>4ã€csséƒ¨åˆ†</p>
<p>æ ·å¼ä¸­å¿…é¡»æœ‰.echartså®½é«˜çš„å®šä¹‰ï¼Œä¸ç„¶ä¼šä¸æ˜¾ç¤º</p>
<style scoped>
.charts{
  width: 100%;
  height: 100%;
}
.echarts {
  width: 100%;
  height: 100%;
}
</style>
<p>5ã€é…ç½®é¡¹éƒ¨åˆ†</p>
<p>ç¯å½¢å›¾</p>
<pre><code>options: { // echartsé…ç½®é¡¹
    tooltip: { show: false }, // æç¤ºæ¡†ç»„ä»¶ï¼Œç¯å½¢å›¾å¯ä»¥ä¸ç”¨è¿™ä¸ªç”¨å…¶ä»–çš„
    series: [ // ç³»åˆ—åˆ—è¡¨
      {
        name: &apos;&apos;, // ç³»åˆ—åç§°
        type: &apos;pie&apos;, // ç±»å‹
        data: [3, 12, 4], // æ•°æ®ï¼Œæ­¤å¤„å¯ä»¥é€šè¿‡æ¥å£è·å–ï¼Œä½¿ç”¨this.options.series[0].data = æ¥å£è¿”å›æ•°æ®å³å¯
        radius: [&apos;60%&apos;, &apos;81%&apos;], // [å†…åŠå¾„ï¼Œ å¤–åŠå¾„], å¯ä»¥æ˜¯ç™¾åˆ†æ•°ï¼Œä¹Ÿå¯ä»¥ç›´æ¥æ˜¯æ•°å€¼ï¼Œä¸ç”¨æ•°ç»„åªå†™å•ä¸ªç™¾åˆ†æ•°æˆ–æ•°å€¼å°±æ˜¯æ­£å¸¸çš„é¥¼å›¾
        center: [&apos;50%&apos;, &apos;50%&apos;], // åœ†å¿ƒä½ç½®[æ¨ªåæ ‡ï¼Œçºµåæ ‡]
        label: { // é¥¼å›¾å›¾å½¢ä¸Šçš„æ–‡æœ¬æ ‡ç­¾
          show: false,
          lineHeight: 20,
          padding: [0, -100],
          color: &apos;auto&apos;
        },
        labelLine: { // è§†è§‰å¼•å¯¼çº¿çš„é•¿åº¦
          length: 25,
          length2: 100
        },
        itemStyle: {
          // é¥¼å›¾é¢œè‰²é‡‡ç”¨æ¸å˜è‰²
          color: (params) =&gt; {
            // è‰²å€¼æ•°ç»„ï¼Œä»æµ…è‰²åˆ°æ·±è‰²
            const colorList = [
              [&apos;#A5ABFF&apos;, &apos;#6C73FF&apos;],
                 [&apos;#64BAFF&apos;, &apos;#4487FF&apos;],
              [&apos;#53E7C9&apos;, &apos;#29CB98&apos;]
            ];

            let index = params.dataIndex;

            // æŸ±å­ä¸ªæ•°è¶…è¿‡colorListè®¾ç½®çš„ä¸ªæ•°ï¼Œå¾ªç¯ä½¿ç”¨
            if (index &gt;= colorList.length) {
              index -= colorList.length;
            }

            // è¿™é‡Œçš„this.$echartsæ˜¯é¡¹ç›®ä¸­çš„echartsç¤ºä¾‹ï¼Œæ”¹æˆå¯¹åº”çš„åå­—å°±å¥½
            return new this.$echarts.graphic.LinearGradient(0, 0, 0, 1, [{
              offset: 0,
              color: colorList[index][0]
            }, {
              offset: 1,
              color: colorList[index][1]
            }]);
          }
        },
        emphasis: { // é¥¼å›¾è§†è§‰å¼•å¯¼çº¿æ ·å¼
          label: {
            show: true,
            verticalAlign: &apos;bottom&apos;, // æ–‡å­—ä¸è§†è§‰å¼•å¯¼çº¿çš„åº•éƒ¨å¯¹é½
            lineHeight: 20,
            // ä¿è¯å¼•å¯¼çº¿ä¸Šçš„æ–‡å­—æ°´å¹³ä½ç½®æ­£ç¡®
            padding: [0, -100],
            formatter: &apos;{b} {gray|{d}%} {gray|{c}}&apos;, // æ­¤å¤„å¯ä»¥å‚è€ƒæ–‡æ¡£
            rich: {
              gray: {
                color: &apos;#5B6479&apos;
              }
            }
          },
          labelLine: {
            show: true,
            lineStyle: {
              shadowBlur: { // å¼•å¯¼çº¿é˜´å½±
                shadowColor: &apos;rgba(58, 120, 214, 0.14)&apos;,
                shadowBlur: 12
              }
            }
          }
        }
      }
    ]
  }</code></pre><h2 id="vueä½¿ç”¨é¼ æ ‡ä¸­é”®ï¼Œå·¦é”®ï¼Œå³é”®äº‹ä»¶"><a href="#vueä½¿ç”¨é¼ æ ‡ä¸­é”®ï¼Œå·¦é”®ï¼Œå³é”®äº‹ä»¶" class="headerlink" title="vueä½¿ç”¨é¼ æ ‡ä¸­é”®ï¼Œå·¦é”®ï¼Œå³é”®äº‹ä»¶"></a>vueä½¿ç”¨é¼ æ ‡ä¸­é”®ï¼Œå·¦é”®ï¼Œå³é”®äº‹ä»¶</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;div @click&#x3D;&quot;test(params,$event)&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">test(id,e)&#123;</span><br><span class="line">    if (e.button &#x3D;&#x3D;&#x3D; 0) &#123;</span><br><span class="line">   	    console.log(&#39;å·¦é”®&#39;)</span><br><span class="line">    &#125;</span><br><span class="line">    if (e.button &#x3D;&#x3D;&#x3D; 1) &#123;</span><br><span class="line">    	console.log(&#39;ä¸­é”®&#39;)</span><br><span class="line">    &#125;</span><br><span class="line">    if (e.button &#x3D;&#x3D;&#x3D; 2) &#123;</span><br><span class="line">    	console.log(&#39;å³é”®&#39;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="animateåŠ¨ç”»åº“çš„æ•°å­—å¢é•¿åŠ¨ç”»ç»„ä»¶"><a href="#animateåŠ¨ç”»åº“çš„æ•°å­—å¢é•¿åŠ¨ç”»ç»„ä»¶" class="headerlink" title="animateåŠ¨ç”»åº“çš„æ•°å­—å¢é•¿åŠ¨ç”»ç»„ä»¶"></a>animateåŠ¨ç”»åº“çš„æ•°å­—å¢é•¿åŠ¨ç”»ç»„ä»¶</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install --save animated-number-vue</span><br><span class="line"></span><br><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;animated-number </span><br><span class="line">    :value&#x3D;&quot;value&quot; </span><br><span class="line">    :formatValue&#x3D;&quot;formatToPrice&quot; </span><br><span class="line">    :duration&#x3D;&quot;300&quot;</span><br><span class="line">    &gt;&lt;&#x2F;animated-number&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">import AnimatedNumber from &quot;animated-number-vue&quot;;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  components: &#123;</span><br><span class="line">    AnimatedNumber</span><br><span class="line">  &#125;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      value: 1000</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    formatToPrice(value) &#123;</span><br><span class="line">      return &#96;$ $&#123;value.toFixed(2)&#125;&#96;;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>



<h2 id="vueä½¿ç”¨åˆ®åˆ®ä¹ç»„ä»¶"><a href="#vueä½¿ç”¨åˆ®åˆ®ä¹ç»„ä»¶" class="headerlink" title="vueä½¿ç”¨åˆ®åˆ®ä¹ç»„ä»¶"></a>vueä½¿ç”¨åˆ®åˆ®ä¹ç»„ä»¶</h2><p>å‚è€ƒé“¾æ¥ï¼š<a href="https://blog.csdn.net/until_you0311/article/details/106276527" target="_blank" rel="noopener">https://blog.csdn.net/until_you0311/article/details/106276527</a></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">1.ä½¿ç”¨npmä¸‹è½½å®‰è£…</span><br><span class="line">npm install lzy-scratch-card --save</span><br><span class="line"></span><br><span class="line">2.vueé¡¹ç›®çš„å¼•ç”¨</span><br><span class="line">import scratchCard from &#39;lzy-scratch-card&#39;</span><br><span class="line"></span><br><span class="line">3.vueé¡¹ç›®ä¸­ä½¿ç”¨</span><br><span class="line">&lt;scratch-card</span><br><span class="line">        elementId&#x3D;&quot;scratch&quot;</span><br><span class="line">        width&#x3D;&quot;600px&quot;</span><br><span class="line">        height&#x3D;&quot;300px&quot;</span><br><span class="line">        :moveRadius&#x3D;&quot;15&quot;</span><br><span class="line">        :ratio&#x3D;&quot;0.5&quot;</span><br><span class="line">        :startCallback&#x3D;&quot;startCallback&quot;</span><br><span class="line">        :clearCallback&#x3D;&quot;clearCallbackUp&quot;</span><br><span class="line">        coverColor&#x3D;&quot;#222222&quot;</span><br><span class="line">        coverImg&#x3D;&quot;https:&#x2F;&#x2F;liquid-games.oss-cn-beijing.aliyuncs.com&#x2F;single_game_images&#x2F;entertainment&#x2F;scratch_card_mask_up.png&quot;</span><br><span class="line">        :result&#x3D;&quot;result&quot;</span><br><span class="line">      &gt;</span><br><span class="line">&lt;&#x2F;scratch-card&gt;</span><br></pre></td></tr></table></figure>

<p><img src="/2020/10/29/vue%E4%B9%8Bseekcy%E5%BC%80%E5%8F%91%E5%8E%86%E7%A8%8B%E8%AE%B0%E5%BD%951/image-20210311173714259.png" alt="image-20210311173714259"></p>
<h2 id="vueä½¿ç”¨æ»‘å—éªŒè¯ç»„ä»¶"><a href="#vueä½¿ç”¨æ»‘å—éªŒè¯ç»„ä»¶" class="headerlink" title="vueä½¿ç”¨æ»‘å—éªŒè¯ç»„ä»¶"></a>vueä½¿ç”¨æ»‘å—éªŒè¯ç»„ä»¶</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">å®‰è£…</span><br><span class="line">npm install vue-drag-verify --save</span><br><span class="line">npm install font-awesome --save</span><br><span class="line"></span><br><span class="line">html</span><br><span class="line">    &lt;drag-verify </span><br><span class="line">    :width&#x3D;&quot;width&quot; </span><br><span class="line">    :height&#x3D;&quot;height&quot; </span><br><span class="line">    :text&#x3D;&quot;text&quot; </span><br><span class="line">    :success-text&#x3D;&quot;successText&quot; </span><br><span class="line">    :background&#x3D;&quot;background&quot; </span><br><span class="line">    :progress-bar-bg&#x3D;&quot;progressBarBg&quot; </span><br><span class="line">    :completed-bg&#x3D;&quot;completedBg&quot; </span><br><span class="line">    :handler-bg&#x3D;&quot;handlerBg&quot; </span><br><span class="line">    :handler-icon&#x3D;&quot;handlerIcon&quot; </span><br><span class="line">    :text-size&#x3D;&quot;textSize&quot; </span><br><span class="line">    :success-icon&#x3D;&quot;successIcon&quot;</span><br><span class="line">    ref&#x3D;&quot;Verify&quot;</span><br><span class="line">    &gt;</span><br><span class="line">&lt;&#x2F;drag-verify&gt;</span><br><span class="line"></span><br><span class="line">js</span><br><span class="line">import Vue from &#39;vue&#39;</span><br><span class="line">import &#39;font-awesome&#x2F;css&#x2F;font-awesome.min.css&#39;</span><br><span class="line">import dragVerify from &#39;vue-drag-verify&#39;</span><br><span class="line"> </span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;app&#39;,</span><br><span class="line">  components:&#123;</span><br><span class="line">    dragVerify</span><br><span class="line">  &#125;,</span><br><span class="line"> data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      handlerIcon: &quot;fa fa-angle-double-right&quot;,</span><br><span class="line">      successIcon: &quot;fa fa-check&quot;,</span><br><span class="line">      background: &quot;#cccccc&quot;,</span><br><span class="line">      progressBarBg: &quot;#4b0&quot;,</span><br><span class="line">      completedBg: &quot;#66cc66&quot;,</span><br><span class="line">      handlerBg: &quot;#fff&quot;,</span><br><span class="line">      text: &quot;è¯·å°†æ»‘å—æ‹–åŠ¨åˆ°å³ä¾§&quot;,</span><br><span class="line">      successText: &quot;éªŒè¯æˆåŠŸ&quot;,</span><br><span class="line">      width: 320,</span><br><span class="line">      height: 42,</span><br><span class="line">      textSize: &quot;18px&quot;,</span><br><span class="line">      isCircle:&#39;true&#39;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">éªŒè¯</span><br><span class="line"> console.log(this.$refs.Verify.isMoving)</span><br><span class="line"> console.log(this.$refs.Verify.isPassing)</span><br><span class="line"> console.log(this.$refs.Verify.handlerIconClass)</span><br><span class="line">ç»“æœ</span><br><span class="line">&#x2F;&#x2F;æœªæ»‘åŠ¨å®Œæ‰“å°</span><br><span class="line"> false</span><br><span class="line"> false</span><br><span class="line"> fa fa-check</span><br><span class="line">&#x2F;&#x2F;æ»‘åŠ¨å®Œæˆæ‰“å°</span><br><span class="line"> false</span><br><span class="line"> true</span><br><span class="line"> fa fa-angle-double-right</span><br><span class="line"></span><br><span class="line">æ’ä»¶çš„å„å‚æ•°</span><br><span class="line">åç§° | ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜</span><br><span class="line">--- | --- | --- | ---</span><br><span class="line">width | Number | 200 | ç»„ä»¶çš„å®½åº¦</span><br><span class="line">height | Number | 60 | ç»„ä»¶çš„é«˜åº¦</span><br><span class="line">text | String | swiping to the right side | æç¤ºä¿¡æ¯æ–‡å­—</span><br><span class="line">successText | String | success | éªŒè¯é€šè¿‡æ—¶çš„æç¤ºä¿¡æ¯æ–‡å­—</span><br><span class="line">background | String | #ccc | ç»„ä»¶èƒŒæ™¯è‰²</span><br><span class="line">color | String | #ffffff | ç»„ä»¶æ–‡å­—é¢œè‰²</span><br><span class="line">progressBarBg | String | #FFFF99 | æ‹–æ‹½è¿‡ç¨‹ä¸­çš„èƒŒæ™¯é¢œè‰²</span><br><span class="line">completedBg | String | #66cc66 | éªŒè¯æˆåŠŸçš„èƒŒæ™¯é¢œè‰²</span><br><span class="line">circle | Boolean | true | è®¾ä¸ºtrue,ç»„ä»¶ä¸ºåœ†å½¢æŒ‰é’®ï¼Œå¦åˆ™ä¸ºé•¿æ–¹å½¢</span><br><span class="line">handlerIcon | String | - | æ‹–æ‹½æŒ‰é’®çš„icon</span><br><span class="line">successIcon | String | - | éªŒè¯é€šè¿‡æ—¶æ‹–æ‹½æŒ‰é’®çš„icon</span><br><span class="line">handlerBg | String | #fff | æ‹–æ‹½æŒ‰é’®çš„èƒŒæ™¯è‰²</span><br><span class="line">textSize | String | 20px | ç»„ä»¶çš„æ–‡å­—å¤§å°</span><br></pre></td></tr></table></figure>



<h2 id="vueä½¿ç”¨Print-js"><a href="#vueä½¿ç”¨Print-js" class="headerlink" title="vueä½¿ç”¨Print.js"></a>vueä½¿ç”¨Print.js</h2><p>ä¸€ã€vueå®‰è£…å‘½ä»¤ï¼š<br>npm install print-js â€“save</p>
<p>äºŒã€å¼•å…¥<br>è¿™ä¸ªå¼•å…¥ä¸éœ€è¦åœ¨main.jsä¸­ï¼Œç›´æ¥åœ¨ä½¿ç”¨çš„.vueä¸­å¼•å…¥å³å¯</p>
<p><img src="https://img-blog.csdnimg.cn/20200724183357229.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl8zNjk2NTA3Mg==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<p>è¿™é‡Œé¢œè‰²è™½ç„¶æ˜¯ç°è‰²ï¼Œä½†æ˜¯ä¹Ÿè¦æ·»åŠ ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚</p>
<p>ä¸‰ã€ç¼–ç <br>æˆ‘è¿™é‡Œè¦æ‰“å° html ä¸­çš„div ï¼Œè°ƒç”¨å‡½æ•°æ‰¾åˆ° div çš„ idã€‚</p>
<p><img src="https://img-blog.csdnimg.cn/20200724183448993.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl8zNjk2NTA3Mg==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">methods: &#123;</span><br><span class="line">		goPrint()&#123;</span><br><span class="line">                console.log(&#39;æ‰“å°&#39;)</span><br><span class="line">                printJS(&#123;</span><br><span class="line">                    printable: &#39;printCons&#39;,</span><br><span class="line">                    type: &#39;html&#39;,</span><br><span class="line">                    &#x2F;&#x2F;properties: [</span><br><span class="line">                    &#x2F;&#x2F;    &#123; field: &#39;name&#39;, displayName: &#39;å§“å&#39;, columnSize:&#96;50%&#96;&#125;,</span><br><span class="line">                    &#x2F;&#x2F;    &#123; field: &#39;sex&#39;, displayName: &#39;æ€§åˆ«&#39;,columnSize:&#96;50%&#96;&#125;,</span><br><span class="line">                    &#x2F;&#x2F;],</span><br><span class="line">                    &#x2F;&#x2F; header: &#96;&lt;p class&#x3D;&quot;custom-p&quot;&gt; åå• &lt;&#x2F;p&gt;&#96;,</span><br><span class="line">                    &#x2F;&#x2F; style: &#39;#printCons &#123;width: 600px;&#125; .no-print&#123;width: 0px&#125; .itemText1 &#123; width: 200px &#125; .itemText2 &#123; width: 200px &#125; .itemText3 &#123; width: 200px &#125; .itemText4 &#123; width: 200px &#125;&#39;,</span><br><span class="line">                    &#x2F;&#x2F; gridHeaderStyle:&#39;font-size:12px; padding:3px; border:1px solid; font-weight: 100; text-align:left;&#39;,</span><br><span class="line">                    &#x2F;&#x2F; gridStyle:&#39;font-size:12px; padding:3px; border:1px solid; text-align:left;&#39;,</span><br><span class="line">                    &#x2F;&#x2F; repeatTableHeader: true,</span><br><span class="line">                    &#x2F;&#x2F; scanStyles:true,</span><br><span class="line">                    targetStyles: [&#39;*&#39;],</span><br><span class="line">                    ignoreElements:[&#39;no-print&#39;,&#39;bc&#39;,&#39;gb&#39;]</span><br><span class="line">                &#125;)</span><br><span class="line">            &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">printable:è¦æ‰“å°çš„idã€‚</span><br><span class="line">type:å¯ä»¥æ˜¯ html ã€pdfã€ json ç­‰ã€‚</span><br><span class="line">properties:æ˜¯æ‰“å°jsonæ—¶æ‰€éœ€è¦çš„æ•°æ®å±æ€§ã€‚</span><br><span class="line">gridHeaderStyleå’ŒgridStyleéƒ½æ˜¯æ‰“å°jsonæ—¶å¯é€‰çš„æ ·å¼ã€‚</span><br><span class="line">repeatTableHeader:åœ¨æ‰“å°JSONæ•°æ®æ—¶ä½¿ç”¨ã€‚è®¾ç½®ä¸ºæ—¶falseï¼Œæ•°æ®è¡¨æ ‡é¢˜å°†ä»…åœ¨ç¬¬ä¸€é¡µæ˜¾ç¤ºã€‚</span><br><span class="line">scanStyles:è®¾ç½®ä¸ºfalseæ—¶ï¼Œåº“å°†ä¸å¤„ç†åº”ç”¨äºæ­£åœ¨æ‰“å°çš„htmlçš„æ ·å¼ã€‚ä½¿ç”¨csså‚æ•°æ—¶å¾ˆæœ‰ç”¨ã€‚</span><br><span class="line">targetStyles: [â€™*â€™],è¿™æ ·è®¾ç½®ç»§æ‰¿äº†é¡µé¢è¦æ‰“å°å…ƒç´ åŸæœ‰çš„csså±æ€§ã€‚</span><br><span class="line">style:ä¼ å…¥è‡ªå®šä¹‰æ ·å¼çš„å­—ç¬¦ä¸²ï¼Œä½¿ç”¨åœ¨è¦æ‰“å°çš„htmlé¡µé¢ ä¹Ÿå°±æ˜¯çº¸ä¸Šçš„æ ·å­ã€‚</span><br><span class="line">ignoreElementsï¼šä¼ å…¥è¦æ‰“å°çš„divä¸­çš„å­å…ƒç´ idï¼Œä½¿å…¶ä¸æ‰“å°ã€‚éå¸¸å¥½ç”¨</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">tipsï¼šéœ€è¦å¼ºåˆ¶åˆ†é¡µï¼ŒåŠ ä¸€ä¸ªè¿™æ ·çš„styleå³å¯</span><br><span class="line">page-break-after:always</span><br><span class="line">ç¤ºä¾‹</span><br><span class="line">&lt;div style&#x3D;&quot;page-break-after:always&quot;&gt;æˆ‘æ˜¯å°é¢&lt;&#x2F;div&gt;</span><br><span class="line">&lt;div style&#x3D;&quot;page-break-after:always&quot;&gt;æˆ‘æ˜¯ç›®å½•ï¼Œä½ ä¸çŸ¥é“æˆ‘çš„å†…å®¹æœ‰å¤šé•¿&lt;&#x2F;div&gt;</span><br><span class="line">&lt;div&gt;æˆ‘æ˜¯æ­£æ–‡ï¼Œæˆ‘éœ€è¦ä»ä¸€ä¸ªæ–°é¡µé¢å¼€å§‹å±•ç¤º&lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure>



<h2 id="vueä¸‹åˆ’çº¿è·Ÿéšçš„ä¸¤ç§æ–¹å¼"><a href="#vueä¸‹åˆ’çº¿è·Ÿéšçš„ä¸¤ç§æ–¹å¼" class="headerlink" title="vueä¸‹åˆ’çº¿è·Ÿéšçš„ä¸¤ç§æ–¹å¼"></a>vueä¸‹åˆ’çº¿è·Ÿéšçš„ä¸¤ç§æ–¹å¼</h2><h3 id="çº¯cssæ–¹å¼"><a href="#çº¯cssæ–¹å¼" class="headerlink" title="çº¯cssæ–¹å¼"></a>çº¯cssæ–¹å¼</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">html</span><br><span class="line">&lt;div class&#x3D;&quot;main&quot;&gt;</span><br><span class="line">    &lt;div v-for&#x3D;&quot;(nav,index) in navs&quot; :key&#x3D;&quot;index&quot; class&#x3D;&quot;nav&quot;&gt;</span><br><span class="line">    	&lt;div&gt;&#123;&#123;nav.name&#125;&#125;&lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line"></span><br><span class="line">js</span><br><span class="line">navs: [&#123; name: &quot;åŒ—äº¬&quot; &#125;, &#123; name: &quot;å“ˆå°”æ»¨é»‘é¾™æ±Ÿ&quot; &#125;, &#123; name: &quot;ä¸Šæµ·&quot; &#125;, &#123; name: &quot;ä¸‰ä¸ªäºº&quot; &#125;,],</span><br><span class="line"></span><br><span class="line">css</span><br><span class="line">.main &#123;</span><br><span class="line">    position: relative;</span><br><span class="line">    width: fit-content;</span><br><span class="line">    margin: 0 auto;</span><br><span class="line">    text-align: center;</span><br><span class="line">    display: flex;</span><br><span class="line">&#125;</span><br><span class="line">.nav &#123;</span><br><span class="line">    position: relative;</span><br><span class="line">    overflow: hidden;</span><br><span class="line">    padding: 10px;</span><br><span class="line">&#125;</span><br><span class="line">.nav::after &#123;</span><br><span class="line">    content: &quot;&quot;;</span><br><span class="line">    position: absolute;</span><br><span class="line">    bottom: 0;</span><br><span class="line">    left: 100%;</span><br><span class="line">    width: 0;</span><br><span class="line">    height: 2px;</span><br><span class="line">    background-color: #000;</span><br><span class="line">    transition: all 0.3s ease-out;</span><br><span class="line">&#125;</span><br><span class="line">.nav &#123;</span><br><span class="line">  &amp;:hover &#123;</span><br><span class="line">    &amp;::after &#123;</span><br><span class="line">      width: 100%;</span><br><span class="line">      left: 0;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &amp; + .nav::after &#123;</span><br><span class="line">      left: 0;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="jsäº‹ä»¶æ–¹å¼ï¼ˆé«˜é˜¶ç”¨æ³•ï¼‰"><a href="#jsäº‹ä»¶æ–¹å¼ï¼ˆé«˜é˜¶ç”¨æ³•ï¼‰" class="headerlink" title="jsäº‹ä»¶æ–¹å¼ï¼ˆé«˜é˜¶ç”¨æ³•ï¼‰"></a>jsäº‹ä»¶æ–¹å¼ï¼ˆé«˜é˜¶ç”¨æ³•ï¼‰</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">html</span><br><span class="line">&lt;div class&#x3D;&quot;main&quot; ref&#x3D;&quot;MainHeader&quot;&gt;</span><br><span class="line">            &lt;div v-for&#x3D;&quot;(nav,index) in navs&quot; :key&#x3D;&quot;index&quot; :class&#x3D;&quot;&#123;nav:true,active:index&#x3D;&#x3D;activeNav&#125;&quot;</span><br><span class="line">                @mouseenter&#x3D;&quot;setCurrentNav(index)&quot; @click&#x3D;&quot;setActiveNav(index)&quot; @mouseleave&#x3D;&quot;handleLeaveMainHeader &quot;&gt;</span><br><span class="line">                &lt;div class&#x3D;&quot;nav-title&quot;&gt;&#123;&#123;nav.name&#125;&#125;&lt;&#x2F;div&gt;</span><br><span class="line">            &lt;&#x2F;div&gt;</span><br><span class="line">            &lt;i class&#x3D;&quot;nav-underline&quot; :style&#x3D;&quot;navLineStyle&quot;&gt;&lt;&#x2F;i&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">        </span><br><span class="line">js</span><br><span class="line">data() &#123;</span><br><span class="line">        return &#123;</span><br><span class="line">            activeNav: 0,</span><br><span class="line">            activeNavStyle:&#123;width:0,left:0&#125;,</span><br><span class="line">            currentNav: 0,</span><br><span class="line">            currentNavStyle:&#123;width:0,left:0&#125;,</span><br><span class="line">            navs: [&#123; name: &quot;åŒ—äº¬&quot; &#125;, &#123; name: &quot;å“ˆå°”æ»¨é»‘é¾™æ±Ÿ&quot; &#125;, &#123; name: &quot;ä¸Šæµ·&quot; &#125;, &#123; name: &quot;ä¸‰ä¸ªäºº&quot; &#125;,],</span><br><span class="line">    &#125;,</span><br><span class="line">    computed: &#123;</span><br><span class="line">        navLineStyle() &#123;</span><br><span class="line">            let style &#x3D; this.currentNavStyle || this.activeNavStyle;</span><br><span class="line">            return &#123; width: &#96;$&#123;style.width&#125;px&#96;, left: &#96;$&#123;style.left&#125;px&#96; &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">        handleLeaveMainHeader() &#123;</span><br><span class="line">            &#x2F;&#x2F; é¼ æ ‡ç¦»å¼€å¯¼èˆªæ æ—¶ï¼Œé‡ç½®ä¸‹åˆ’çº¿çŠ¶æ€</span><br><span class="line">            this.currentNavStyle &#x3D; null</span><br><span class="line">        &#125;,</span><br><span class="line">        setActiveNav(index) &#123;</span><br><span class="line">            &#x2F;&#x2F; ç‚¹å‡»å¯¼èˆªæ—¶ï¼Œè®¾ç½®æ¿€æ´»æ ·å¼</span><br><span class="line">            this.activeNav &#x3D; index</span><br><span class="line">            this.activeNavStyle &#x3D; this.getNavStyle(index)</span><br><span class="line">        &#125;,</span><br><span class="line">        setCurrentNav(index) &#123;</span><br><span class="line">            &#x2F;&#x2F; é¼ æ ‡ç§»åŠ¨åˆ°å¯¼èˆªæ—¶ï¼Œè®°å½•ä¸´æ—¶çŠ¶æ€</span><br><span class="line">            this.currentNav &#x3D; index</span><br><span class="line">            this.currentNavStyle &#x3D; this.getNavStyle(index)</span><br><span class="line">        &#125;,</span><br><span class="line">        getNavStyle(index) &#123; &#x2F;&#x2F; æ ¹æ®å¯¼èˆªçš„ index ç§»åŠ¨ä¸‹åˆ’çº¿</span><br><span class="line">            let childNodes &#x3D; this.$refs.MainHeader.childNodes</span><br><span class="line">            &#x2F;&#x2F; æ ¹æ®å½“å‰å¯¼èˆªçš„å®½åº¦ï¼Œè®¾ç½®ä¸‹åˆ’çº¿çš„å®½åº¦</span><br><span class="line">            let width &#x3D; childNodes[index].clientWidth</span><br><span class="line">            &#x2F;&#x2F; è®¾ç½®ä¸‹åˆ’çº¿çš„é»˜è®¤ä½ç½®</span><br><span class="line">            let left &#x3D; 0</span><br><span class="line">            if (index &gt; 0) &#123;</span><br><span class="line">                &#x2F;&#x2F; è®¡ç®—å·¦è¾¹å¯¼èˆªçš„æ€»å®½åº¦ï¼Œè®¾ç½®ä¸ºä¸‹åˆ’çº¿çš„å·¦ç§»è·ç¦»</span><br><span class="line">                for (let i &#x3D; 0; i &lt; index; i++) &#123;</span><br><span class="line">                    left +&#x3D; childNodes[i].clientWidth</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            return &#123; width, left &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>vue</category>
      </categories>
      <tags>
        <tag>vue</tag>
      </tags>
  </entry>
</search>
