<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />





  <link rel="alternate" href="/atom.xml" title="DaliBlogs" type="application/atom+xml" />






<meta property="og:type" content="website">
<meta property="og:title" content="DaliBlogs">
<meta property="og:url" content="http://yoursite.com/page/2/index.html">
<meta property="og:site_name" content="DaliBlogs">
<meta property="article:author" content="Dali">
<meta name="twitter:card" content="summary">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/page/2/"/>





  <title>DaliBlogs</title>
  








<meta name="generator" content="Hexo 4.2.1"></head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">DaliBlogs</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            归档
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="搜索..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2022/08/19/vue%E4%B9%8B%E8%AF%A6%E8%A7%A3%E4%BF%AE%E9%A5%B0%E7%AC%A6/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Dali">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/header.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DaliBlogs">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2022/08/19/vue%E4%B9%8B%E8%AF%A6%E8%A7%A3%E4%BF%AE%E9%A5%B0%E7%AC%A6/" itemprop="url">vue之详解修饰符</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2022-08-19T10:00:53+08:00">
                2022-08-19
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><blockquote>
<p>vue简洁好用体现在很多个地方，比如其内置了32+修饰符，可以很方便我们阻止冒泡、阻止默认事件、鼠标事件处理、系统键盘事件等等，让我们可以快速搞定业务，简直不要太方便噢！！！</p>
</blockquote>
<p>耽误您15分钟您可以收获：</p>
<ol>
<li>32+修饰符（包括事件修饰符、鼠标修饰符、表单修饰符、系统修饰符等等）的含义和使用</li>
<li>如何利用webpack动态注册vue路由，再也不手写路由配置啦！</li>
</ol>
<p>文章中例子都放在了<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fqianlongo%2Fvue-demos">github源码</a>上，也可以点击<a href="https://link.juejin.cn?target=https%3A%2F%2Fqianlongo.github.io%2Fvue-demos%2Fdist%2Findex.html%23%2Fhome">直接看例子</a></p>
<h1 id="如何动态注册路由？"><a href="#如何动态注册路由？" class="headerlink" title="如何动态注册路由？"></a>如何动态注册路由？</h1><blockquote>
<p>文中的每个修饰符例子都由一个页面承载，聪明的你肯定不想手动引入几十个.vue文件并配置路由.</p>
</blockquote>
<blockquote>
<p>有什么办法可以帮我们自动完成路由注册呢？</p>
</blockquote>
<h2 id="1-文件目录结构"><a href="#1-文件目录结构" class="headerlink" title="1. 文件目录结构"></a>1. 文件目录结构</h2><blockquote>
<p>目录结构（已去除其他文件目录）大概如下</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">├── package.json</span><br><span class="line">└── src</span><br><span class="line">    ├── App.vue</span><br><span class="line">    ├── main.js</span><br><span class="line">    ├── router.js</span><br><span class="line">    └── views</span><br><span class="line">        ├── About.vue</span><br><span class="line">        ├── Home.vue</span><br><span class="line">        └── modifiers</span><br><span class="line">            ├── capture.vue</span><br><span class="line">            ├── once.vue</span><br><span class="line">            ├── order.vue</span><br><span class="line">            ├── passive.vue</span><br><span class="line">            ├── prevent.vue</span><br><span class="line">            ├── self.vue</span><br><span class="line">            └── stop.vue</span><br><span class="line">            └── ...</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h2 id="2-期望的路由配置"><a href="#2-期望的路由配置" class="headerlink" title="2. 期望的路由配置"></a>2. 期望的路由配置</h2><blockquote>
<p>最终给到<code>vue-router</code>的配置大概长下面这个样子，每个配置最重要的部分分别是<code>path</code>、<code>name</code>和<code>component</code></p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="string">"path"</span>: <span class="string">"/home"</span>,</span><br><span class="line">    <span class="string">"name"</span>: <span class="string">"home"</span>,</span><br><span class="line">    <span class="string">"component"</span>: &#123;</span><br><span class="line">      <span class="string">"name"</span>: <span class="string">"Home"</span>,</span><br><span class="line">      <span class="string">"methods"</span>: &#123;&#125;,</span><br><span class="line">      <span class="string">"staticRenderFns"</span>: [],</span><br><span class="line">      <span class="string">"_compiled"</span>: <span class="literal">true</span>,</span><br><span class="line">      <span class="string">"_scopeId"</span>: <span class="string">"data-v-fae5bece"</span>,</span><br><span class="line">      <span class="string">"beforeCreate"</span>: [</span><br><span class="line">        <span class="literal">null</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="string">"beforeDestroy"</span>: [</span><br><span class="line">        <span class="literal">null</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="string">"__file"</span>: <span class="string">"src/views/Home.vue"</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="string">"path"</span>: <span class="string">"/modifiers/capture"</span>,</span><br><span class="line">    <span class="string">"name"</span>: <span class="string">"modifiersCapture"</span>,</span><br><span class="line">    <span class="string">"component"</span>: &#123;</span><br><span class="line">      <span class="string">"name"</span>: <span class="string">"capture"</span>,</span><br><span class="line">      <span class="string">"methods"</span>: &#123;&#125;,</span><br><span class="line">      <span class="string">"staticRenderFns"</span>: [],</span><br><span class="line">      <span class="string">"_compiled"</span>: <span class="literal">true</span>,</span><br><span class="line">      <span class="string">"_scopeId"</span>: <span class="string">"data-v-63b4eeee"</span>,</span><br><span class="line">      <span class="string">"beforeCreate"</span>: [</span><br><span class="line">        <span class="literal">null</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="string">"beforeDestroy"</span>: [</span><br><span class="line">        <span class="literal">null</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="string">"__file"</span>: <span class="string">"src/views/modifiers/capture.vue"</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  ... <span class="comment">// 其他路由配置</span></span><br><span class="line">]</span><br><span class="line"></span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h2 id="3-require-context实现动态注册路由"><a href="#3-require-context实现动态注册路由" class="headerlink" title="3. require.context实现动态注册路由"></a>3. require.context实现动态注册路由</h2><blockquote>
<p>借助<a href="https://link.juejin.cn?target=https%3A%2F%2Fwebpack.docschina.org%2Fguides%2Fdependency-management%2F">webpack require.context </a>的能力，可以非常方便地实现上面目录到路由配置的映射工作，源码如下</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> registerRoutes = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> contextInfo = <span class="built_in">require</span>.context(<span class="string">'./views'</span>, <span class="literal">true</span>, /.vue$/)</span><br><span class="line">  <span class="keyword">const</span> routes = contextInfo.keys().map(<span class="function">(<span class="params">filePath</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// filePath 形如 ./Home.vue、./modifiers/capture.vue</span></span><br><span class="line">    <span class="comment">// path我们希望是/home、/modifiers/capture</span></span><br><span class="line">    <span class="comment">// 所以需要把开头的./和.vue都替换为空</span></span><br><span class="line">    <span class="keyword">const</span> path = filePath.toLowerCase().replace(<span class="regexp">/^\.|\.vue/g</span>, <span class="string">''</span>)</span><br><span class="line">    <span class="comment">// name的话将/home、/modifiers/capture转成小驼峰即可</span></span><br><span class="line">    <span class="comment">// 把开头的/先替换掉，再把第一个/后的单词变成大写就可以了</span></span><br><span class="line">    <span class="keyword">const</span> name = path.replace(<span class="regexp">/^\//</span>, <span class="string">''</span>).replace(<span class="regexp">/\/(\w)/</span>, ($<span class="number">0</span>, $<span class="number">1</span>) =&gt; $<span class="number">1.</span>toUpperCase())</span><br><span class="line">    <span class="comment">// 通过require去读取.vue文件内容</span></span><br><span class="line">    <span class="keyword">const</span> component = <span class="built_in">require</span>(<span class="string">`./views<span class="subst">$&#123;filePath.replace(<span class="regexp">/^\./</span>, <span class="string">''</span>)&#125;</span>`</span>).default</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      path,</span><br><span class="line">      name,</span><br><span class="line">      component</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> routes</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p><strong>效果</strong></p>
<blockquote>
<p>经过上面的简单处理，动态注册路由就完成啦！您也可以点击<a href="https://link.juejin.cn?target=https%3A%2F%2Fqianlongo.github.io%2Fvue-demos%2Fdist%2Findex.html%23%2Fhome">vue-demos</a>查看效果</p>
</blockquote>
<p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8bf9f3a07bf044f5881e196fd7730933~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp?" alt="dynamic-router.gif"></p>
<h1 id="事件修饰符"><a href="#事件修饰符" class="headerlink" title="事件修饰符"></a>事件修饰符</h1><h2 id="1-阻止冒泡的两种方式"><a href="#1-阻止冒泡的两种方式" class="headerlink" title="1. 阻止冒泡的两种方式"></a>1. 阻止冒泡的两种方式</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"parent"</span> @click=<span class="string">"onClickParent"</span>&gt;</span><br><span class="line">    我是爸爸</span><br><span class="line">    &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"child"</span> @click=<span class="string">"onClickChild"</span>&gt;</span><br><span class="line">      我是儿子</span><br><span class="line">    &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">  &lt;/</span>div&gt; </span><br><span class="line">&lt;<span class="regexp">/template&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">export default &#123;</span></span><br><span class="line"><span class="regexp">  name: 'stop',</span></span><br><span class="line"><span class="regexp">  methods: &#123;</span></span><br><span class="line"><span class="regexp">    onClickParent () &#123;</span></span><br><span class="line"><span class="regexp">      console.log('我是爸爸')</span></span><br><span class="line"><span class="regexp">    &#125;,</span></span><br><span class="line"><span class="regexp">    onClickChild () &#123;</span></span><br><span class="line"><span class="regexp">      console.log('我是儿子')</span></span><br><span class="line"><span class="regexp">    &#125;</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp">复制代码</span></span><br></pre></td></tr></table></figure>

<p>点<strong>击子节点</strong>的时候因为事件冒泡的缘故不仅会打印出<code>我是儿子</code>还会打印<code>我是爸爸</code>。有什么办法可以阻止子节点的<strong>事件冒泡</strong>呢？</p>
<p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9ff757d8a0904f4da77b1051dc8031cc~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp?" alt="stop2.gif"></p>
<h3 id="1-stop"><a href="#1-stop" class="headerlink" title="1 .stop"></a>1 .stop</h3><blockquote>
<p>只要加.stop修饰符即可，阻止事件冒泡的及简方式，很方便是不是。</p>
</blockquote>
<p>当添加上<code>.stop</code>修饰符时，只会出现<code>我是儿子</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"parent"</span> @click=<span class="string">"onClickParent"</span>&gt;</span><br><span class="line">    我是爸爸</span><br><span class="line">    &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"child"</span> @click.stop=<span class="string">"onClickChild"</span>&gt;</span><br><span class="line">      我是儿子</span><br><span class="line">    &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">  &lt;/</span>div&gt; </span><br><span class="line">&lt;<span class="regexp">/template&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">复制代码</span></span><br></pre></td></tr></table></figure>

<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0579937404114ec980e61572d3a531d5~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp?" alt="stop.gif"></p>
<h3 id="2-event-stopPropagation"><a href="#2-event-stopPropagation" class="headerlink" title="2. event.stopPropagation"></a>2. event.stopPropagation</h3><blockquote>
<p>当然了，我们也可以通过调用<code>event.stopPropagation</code>来阻止冒泡。不过更加推荐修饰符的做法，这样你的函数会更加专注在逻辑处理上，而不用关心DOM事件细节</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  name: <span class="string">'stop'</span>,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    onClickChild (event) &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'我是儿子'</span>)</span><br><span class="line">      event.stopPropagation()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0579937404114ec980e61572d3a531d5~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp?" alt="stop.gif"></p>
<h2 id="2-阻止默认事件的两种方式"><a href="#2-阻止默认事件的两种方式" class="headerlink" title="2. 阻止默认事件的两种方式"></a>2. 阻止默认事件的两种方式</h2><blockquote>
<p>vue中阻止冒泡有两种方式，那阻止默认事件呢？</p>
</blockquote>
<h3 id="1-prevent"><a href="#1-prevent" class="headerlink" title="1 .prevent"></a>1 .prevent</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"prevent"</span>&gt;</span><br><span class="line">    &lt;a href=<span class="string">"https://juejin.cn/"</span> @click=<span class="string">"onNoPrevent"</span>&gt;点击跳转掘金&lt;<span class="regexp">/a&gt;</span></span><br><span class="line"><span class="regexp">    &lt;br /</span>&gt;</span><br><span class="line">    &lt;br /&gt;</span><br><span class="line">    &lt;a href=<span class="string">"https://juejin.cn/"</span> @click.prevent=<span class="string">"onPrevent"</span>&gt;阻止默认事件，无法跳转掘金&lt;<span class="regexp">/a&gt;</span></span><br><span class="line"><span class="regexp">  &lt;/</span>div&gt;</span><br><span class="line">&lt;<span class="regexp">/template&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">export default &#123;</span></span><br><span class="line"><span class="regexp">  name: 'prevent',</span></span><br><span class="line"><span class="regexp">  methods: &#123;</span></span><br><span class="line"><span class="regexp">    onNoPrevent () &#123;</span></span><br><span class="line"><span class="regexp">      console.log('未阻止默认事件')</span></span><br><span class="line"><span class="regexp">    &#125;,</span></span><br><span class="line"><span class="regexp">    onPrevent () &#123;</span></span><br><span class="line"><span class="regexp">      console.log('阻止默认事件')</span></span><br><span class="line"><span class="regexp">    &#125;</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">复制代码</span></span><br></pre></td></tr></table></figure>

<p>只要添加<code>.prevent</code>轻松实现阻止默认事件</p>
<p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/28fb4c8aa950422cb2f511f20476a579~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp?" alt="prevent.gif"></p>
<h3 id="2-event-preventDefault"><a href="#2-event-preventDefault" class="headerlink" title="2.event.preventDefault()"></a>2.event.preventDefault()</h3><blockquote>
<p>和阻止冒泡一样，我们也可以通过调用事件对象的<code>preventDefault</code>方法来阻止默认事件</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  name: <span class="string">'prevent'</span>,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    onPrevent (event) &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'阻止默认事件'</span>)</span><br><span class="line">      event.preventDefault()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h2 id="3-capture"><a href="#3-capture" class="headerlink" title="3 .capture"></a>3 .capture</h2><blockquote>
<p>默认情况下，事件流是以<code>冒泡</code>(由里向外)的形式传递的，如果想以<code>捕获（由外向里）</code>的形式应该怎么办呢？</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"capture parent"</span> @click.capture=<span class="string">"onClickParent"</span>&gt;</span><br><span class="line">    父节点</span><br><span class="line">    &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"child"</span> @click.capture=<span class="string">"onClickChild"</span>&gt;自节点&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">  &lt;/</span>div&gt;</span><br><span class="line">&lt;<span class="regexp">/template&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">export default &#123;</span></span><br><span class="line"><span class="regexp">  name: 'capture',</span></span><br><span class="line"><span class="regexp">  methods: &#123;</span></span><br><span class="line"><span class="regexp">    onClickParent () &#123;</span></span><br><span class="line"><span class="regexp">      console.log('我是父节点')</span></span><br><span class="line"><span class="regexp">    &#125;,</span></span><br><span class="line"><span class="regexp">    onClickChild () &#123;</span></span><br><span class="line"><span class="regexp">      console.log('我是子节点')</span></span><br><span class="line"><span class="regexp">    &#125;</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">复制代码</span></span><br></pre></td></tr></table></figure>

<p>不加<code>catpture</code>修饰符，点击<strong>子节点</strong>会陆续打印我是父节点以及我是子节点，加了之后，则是反过来了</p>
<p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7dea152299474fc88099267b0f7b15a5~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp?" alt="capture.gif"></p>
<h2 id="4-self"><a href="#4-self" class="headerlink" title="4 .self"></a>4 .self</h2><blockquote>
<p>只有当<code>event.target</code>是当前元素自身时才会触发事件回调函数</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"self"</span> @click.self=<span class="string">"onClickSelf"</span>&gt;</span><br><span class="line">    &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"inner"</span> @click=<span class="string">"onClickInner"</span>&gt;&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">  &lt;/</span>div&gt;</span><br><span class="line">&lt;<span class="regexp">/template&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">export default &#123;</span></span><br><span class="line"><span class="regexp">  name: 'self',</span></span><br><span class="line"><span class="regexp">  methods: &#123;</span></span><br><span class="line"><span class="regexp">    onClickSelf () &#123;</span></span><br><span class="line"><span class="regexp">      console.log('我是self节点')</span></span><br><span class="line"><span class="regexp">    &#125;,</span></span><br><span class="line"><span class="regexp">    onClickInner () &#123;</span></span><br><span class="line"><span class="regexp">      console.log('我是inner节点')</span></span><br><span class="line"><span class="regexp">    &#125;</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">复制代码</span></span><br></pre></td></tr></table></figure>

<p>不加<code>self</code>修饰符的话，点击<code>inner</code>节点也会触发<code>self</code>的事件，加了之后只有触发事件的元素本身是<code>self</code>，才会打印出<code>我是self节点</code></p>
<p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/61c3bf9555d641b29114dc0e10eb1785~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp?" alt="self.gif"></p>
<h2 id="暂停一下：修饰符的顺序如何理解？"><a href="#暂停一下：修饰符的顺序如何理解？" class="headerlink" title="暂停一下：修饰符的顺序如何理解？"></a>暂停一下：修饰符的顺序如何理解？</h2><blockquote>
<p>已经回顾了4个修饰符，单独使用的时候很容易理解，但是注意官网有这么一句话</p>
</blockquote>
<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c8de542cfc0144f39dbf8a24fd4831b1~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp?" alt="image.png"></p>
<p><strong>怎么理解呢？我们来看两个栗子</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"order"</span>&gt;</span><br><span class="line">    &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"order-0"</span>&gt;</span><br><span class="line">      &lt;a href=<span class="string">"https://juejin.cn/"</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">"order-parent"</span> @click.self.prevent=<span class="string">"onClickParent"</span>&gt;</span><br><span class="line">        我是父节点，会跳转掘金</span><br><span class="line">        &lt;br /&gt;</span><br><span class="line">        &lt;span <span class="class"><span class="keyword">class</span></span>=<span class="string">"order-child"</span> @click=<span class="string">"onClickChild"</span>&gt;</span><br><span class="line">          我是子节点</span><br><span class="line">        &lt;<span class="regexp">/span&gt;</span></span><br><span class="line"><span class="regexp">      &lt;/</span>a&gt;</span><br><span class="line">      &lt;hr /&gt;</span><br><span class="line">    &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">    &lt;div class="order-2"&gt;</span></span><br><span class="line"><span class="regexp">      &lt;a href="https:/</span><span class="regexp">/juejin.cn/</span><span class="string">" class="</span>order-parent<span class="string">" @click.prevent.self="</span>onClickParent<span class="string">"&gt;</span></span><br><span class="line"><span class="string">        我是父节点，无法跳转掘金</span></span><br><span class="line"><span class="string">        &lt;br /&gt;</span></span><br><span class="line"><span class="string">        &lt;span class="</span>order-child<span class="string">" @click="</span>onClickChild<span class="string">"&gt;</span></span><br><span class="line"><span class="string">          我是子节点</span></span><br><span class="line"><span class="string">        &lt;/span&gt;</span></span><br><span class="line"><span class="string">      &lt;/a&gt;</span></span><br><span class="line"><span class="string">    &lt;/div&gt;</span></span><br><span class="line"><span class="string">  &lt;/div&gt; </span></span><br><span class="line"><span class="string">&lt;/template&gt;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">export default &#123;</span></span><br><span class="line"><span class="string">  name: 'order',</span></span><br><span class="line"><span class="string">  methods: &#123;</span></span><br><span class="line"><span class="string">    onClickParent () &#123;</span></span><br><span class="line"><span class="string">      console.log('我是父节点')</span></span><br><span class="line"><span class="string">    &#125;,</span></span><br><span class="line"><span class="string">    onClickChild () &#123;</span></span><br><span class="line"><span class="string">      console.log('我是子节点')</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string">复制代码</span></span><br></pre></td></tr></table></figure>

<p>您可以猜一下，上面的代码会发生什么，以下三点是可以明确的？</p>
<ol>
<li>首先可以明确的是点击上面和下面的子节点都不会触发父节点的点击事件</li>
<li>点击下面的父节点会打印出<strong>我是父节点</strong>，但是<strong>不会跳转掘金</strong></li>
<li>点击上面的父节点<strong>会</strong>打印出<strong>我是父节点</strong>,<strong>也不会跳转掘金</strong></li>
</ol>
<p>但是点击上面的子节点，父节点会不会跳转至掘金呢？答案是<strong>会</strong></p>
<p><strong>为什么？</strong></p>
<p><code>a@click.self.prevent=&quot;onClickParent&quot;</code>的意思是当点击的元素是a元素本身时，会阻止默认事件（可以解释3，不会发生跳转），并且执行<code>onClickParent</code>回调。</p>
<p>而点击span元素时，由于冒泡的缘故，点击事件会传递给a，但是此时a会判断出该事件不是由自身触发的也就<code>不会阻止默认事件</code>(此时也就发生跳转了)，当然也不会触发<code>onClickParent</code>回调</p>
<p>同理来我们分析一下<code>a@click.prevent.self=&quot;onClickParent&quot;</code></p>
<p>不管是子节点还是自身点击，都是先阻止默认事件，只有当触发点击事件是a元素本身时才会执行<code>onClickParent</code>回调函数。</p>
<p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/717d4ff341384f8ab33416ff8f0d76c0~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp?" alt="order.gif"></p>
<p><strong>回过头看，你理解事件的顺序含义了吗？</strong></p>
<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c8de542cfc0144f39dbf8a24fd4831b1~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp?" alt="image.png"></p>
<h2 id="5-once"><a href="#5-once" class="headerlink" title="5. once"></a>5. once</h2><blockquote>
<p>顾名思义，事件只会触发一次</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"once"</span> @click.once=<span class="string">"onClickOnce"</span>&gt;</span><br><span class="line">    只触发一次</span><br><span class="line">  &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>template&gt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  name: <span class="string">'once'</span>,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    onClickOnce () &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'once，我只会触发一次点击事件回调'</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>触发一次点击之后，任我再怎么点，回调怎也不会触发了。</p>
<p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a6d99f414f654945ab9043abcd054cba~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp?" alt="once.gif"></p>
<h2 id="6-native"><a href="#6-native" class="headerlink" title="6 .native"></a>6 .native</h2><blockquote>
<p>我们知道在自定义组件上，只能监听自定义事件，一些原生事件（比如click）是没有办法直接触发的，但是使用<code>.native</code>修饰符可以帮我们办到这点</p>
</blockquote>
<p><strong>native.vue</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"native-custom"</span>&gt;</span><br><span class="line">    &lt;input type=<span class="string">"text"</span> @keydown=<span class="string">"onKeydown"</span>&gt;</span><br><span class="line">  &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>template&gt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  name: <span class="string">'nativeCustom'</span>,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    onKeydown () &#123;</span><br><span class="line">      <span class="keyword">this</span>.$emit(<span class="string">'onKeydown'</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p><strong>custom.vue</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"native"</span>&gt;</span><br><span class="line">    &lt;!-- 加上.native之后原生事件才得以监听成功 --&gt;</span><br><span class="line">    &lt;NativeCustom @onKeydown=<span class="string">"onKeydown"</span> @click.native=<span class="string">"onClick"</span> /&gt;</span><br><span class="line">  &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>template&gt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> NativeCustom <span class="keyword">from</span> <span class="string">'../../components/native.vue'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  name: <span class="string">'native'</span>,</span><br><span class="line">  components: &#123;</span><br><span class="line">    NativeCustom</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    onKeydown () &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'onKeydown'</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    onClick () &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'onClick'</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d01328f0b77f4e3aa1692ed16b9bd152~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp?" alt="native.gif"></p>
<h2 id="7-passive"><a href="#7-passive" class="headerlink" title="7 .passive"></a>7 .passive</h2><blockquote>
<p>vue对应 <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FAPI%2FEventTarget%2FaddEventListener%23Parameters"><code>addEventListener</code> 中的 <code>passive</code> 选项</a>提供了 <code>.passive</code> 修饰符</p>
</blockquote>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 滚动事件的默认行为 (即滚动行为) 将会立即触发 --&gt;</span> </span><br><span class="line"><span class="comment">&lt;!-- 而不会等待 `onScroll` 完成 --&gt;</span> </span><br><span class="line"><span class="comment">&lt;!-- 这其中包含 `event.preventDefault()` 的情况 --&gt;</span> </span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-on:scroll.passive</span>=<span class="string">"onScroll"</span>&gt;</span>...<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p><strong>这个修饰符对于滚动性能的提升，一直没找到合适的例子，跪求广大掘友有例子啊</strong></p>
<p><strong>这个修饰符对于滚动性能的提升，一直没找到合适的例子，跪求广大掘友有例子啊</strong></p>
<p><strong>这个修饰符对于滚动性能的提升，一直没找到合适的例子，跪求广大掘友有例子啊</strong></p>
<h1 id="v-bind修饰符"><a href="#v-bind修饰符" class="headerlink" title="v-bind修饰符"></a>v-bind修饰符</h1><h2 id="8-sync"><a href="#8-sync" class="headerlink" title="8 .sync"></a>8 .sync</h2><blockquote>
<p>当我们想要在<code>父组件</code>和<code>子组件</code>之间对某个属性值进行双向绑定时,有什么便捷的方式？是的只要<code>.sync</code>修饰符即可办到</p>
</blockquote>
<p><strong>父组件</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"sync-parent"</span>&gt;</span><br><span class="line">    我是父组件: &#123;&#123; text &#125;&#125;</span><br><span class="line">    &lt;Child :text.sync=<span class="string">"text"</span> /&gt;</span><br><span class="line">  &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>template&gt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> Child <span class="keyword">from</span> <span class="string">'./child.vue'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  name: <span class="string">'SyncParent'</span>,</span><br><span class="line">  data () &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      text: <span class="string">'parent'</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    Child,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p><strong>子组件</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"child"</span>&gt;</span><br><span class="line">    我是子组件: </span><br><span class="line">    &lt;input type=<span class="string">"text"</span> v-model=<span class="string">"value"</span> @input=<span class="string">"onInput"</span>&gt;</span><br><span class="line">  &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>template&gt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  name: <span class="string">'child'</span>,</span><br><span class="line">  props: &#123;</span><br><span class="line">    text: &#123;</span><br><span class="line">      type: <span class="built_in">String</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  data () &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      value: <span class="keyword">this</span>.text</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    onInput () &#123;</span><br><span class="line">      <span class="comment">// 注意这里，必须是update:xxx的形式xxx即属性prop</span></span><br><span class="line">      <span class="keyword">this</span>.$emit(<span class="string">'update:text'</span>, <span class="keyword">this</span>.value)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d1de2e0c2b314a56b4b55dba7dadfdb8~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp?" alt="sync.gif"></p>
<h2 id="9-camel"><a href="#9-camel" class="headerlink" title="9 .camel"></a>9 .camel</h2><blockquote>
<p><code>.camel</code> 修饰符允许在使用 DOM 模板时将 <code>v-bind</code> property 名称驼峰化，例如 SVG 的 <code>viewBox</code> property：</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;svg :view-box.camel=<span class="string">"viewBox"</span>&gt;&lt;<span class="regexp">/svg&gt;</span></span><br><span class="line"><span class="regexp">复制代码</span></span><br></pre></td></tr></table></figure>

<h2 id="10-prop"><a href="#10-prop" class="headerlink" title="10 .prop"></a>10 .prop</h2><blockquote>
<p>关于.prop修饰符官网只有这句话 <code>.prop</code> 作为一个 DOM property 绑定而不是作为 attribute 绑定。`。</p>
</blockquote>
<p><strong>有啥作用？</strong></p>
<ol>
<li>通过自定义属性存储变量，避免暴露数据</li>
<li>防止污染 HTML 结构</li>
</ol>
<p>比如有以下代码</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"prop"</span>&gt;</span><br><span class="line">    &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"prop-item"</span> :my-name=<span class="string">"prop"</span>&gt;&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">    /</span><span class="regexp">/ 最终变成了 &lt;div my-name="hello prop" class="prop-item"&gt;&lt;/</span>div&gt;</span><br><span class="line">    &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"prop-item"</span> :my-name.prop=<span class="string">"prop2"</span>&gt;&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">    /</span><span class="regexp">/ 最终变成了&lt;div class="prop-item"&gt;&lt;/</span>div&gt;</span><br><span class="line">    &lt;button @click=<span class="string">"onGetResult"</span>&gt;获取结果&lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp">  &lt;/</span>div&gt;</span><br><span class="line">&lt;<span class="regexp">/template&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">export default &#123;</span></span><br><span class="line"><span class="regexp">  name: 'prop',</span></span><br><span class="line"><span class="regexp">  data () &#123;</span></span><br><span class="line"><span class="regexp">    return &#123;</span></span><br><span class="line"><span class="regexp">      prop: 'hello prop',</span></span><br><span class="line"><span class="regexp">      prop2: 'hello prop2'</span></span><br><span class="line"><span class="regexp">    &#125;</span></span><br><span class="line"><span class="regexp">  &#125;,</span></span><br><span class="line"><span class="regexp">  methods: &#123;</span></span><br><span class="line"><span class="regexp">    onGetResult () &#123;</span></span><br><span class="line"><span class="regexp">      const $refProp = this.$refs.prop</span></span><br><span class="line"><span class="regexp">      const $refProp2 = this.$refs.prop2</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">      console.log($refProp.getAttribute('my-name')) /</span><span class="regexp">/ hello prop</span></span><br><span class="line"><span class="regexp">      console.log($refProp2.getAttribute('my-name')) /</span><span class="regexp">/ null</span></span><br><span class="line"><span class="regexp">    &#125;</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">复制代码</span></span><br></pre></td></tr></table></figure>

<p>从示例上可以看出未使用<code>.prop</code>修饰符的<code>my-name</code>属性会绑定到dom节点的attribute，从而出现暴露的情况。</p>
<p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2150bffbed4645b394cd73107561b127~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp?" alt="prop.gif"></p>
<h1 id="鼠标修饰符"><a href="#鼠标修饰符" class="headerlink" title="鼠标修饰符"></a>鼠标修饰符</h1><blockquote>
<p>当咱们想监听用户点击了<code>左键</code>、<code>右键</code>或者<code>中键</code>时也有修饰符可以快捷使用，分别是<code>.left</code>、<code>.right</code>、<code>middle</code>，来看个例子试试</p>
</blockquote>
<p>根据<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fzh-CN%2Fdocs%2FWeb%2FAPI%2FMouseEvent%2Fbutton">MDN MouseEvent.button</a>，介绍。</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7dce732756c448aca45849780f94b15d~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp?" alt="image.png"></p>
<p>在最外层<code>div.mouse</code>监听<code>mousedown</code>事件，看下用户点击的是鼠标哪个键，三个<code>button</code>分别用三个修饰符快捷方式监听<code>左键</code>、<code>中键</code>、<code>右键</code>并打印出<code>left</code>、<code>middle</code>、<code>right</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"mouse"</span> @mousedown=<span class="string">"onMousedown"</span>&gt;</span><br><span class="line">    &lt;button @click.left=<span class="string">"onClickBtn('left')"</span>&gt;left&lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp">    &lt;button @click.middle="onClickBtn('middle')"&gt;middle&lt;/</span>button&gt;</span><br><span class="line">    &lt;button @click.right=<span class="string">"onClickBtn('right')"</span>&gt;right&lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp">  &lt;/</span>div&gt;</span><br><span class="line">&lt;<span class="regexp">/template&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">export default &#123;</span></span><br><span class="line"><span class="regexp">  name: 'mouse',</span></span><br><span class="line"><span class="regexp">  mounted () &#123;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">  &#125;,</span></span><br><span class="line"><span class="regexp">  methods: &#123;</span></span><br><span class="line"><span class="regexp">    onClickBtn (msg) &#123;</span></span><br><span class="line"><span class="regexp">      console.log(msg)</span></span><br><span class="line"><span class="regexp">    &#125;,</span></span><br><span class="line"><span class="regexp">    onMousedown (event) &#123;</span></span><br><span class="line"><span class="regexp">      const mosueMsgMap = &#123;</span></span><br><span class="line"><span class="regexp">        0: '鼠标左键',</span></span><br><span class="line"><span class="regexp">        1: '鼠标中键',</span></span><br><span class="line"><span class="regexp">        2: '鼠标右键'</span></span><br><span class="line"><span class="regexp">      &#125;</span></span><br><span class="line"><span class="regexp">      console.log('点击了', mosueMsgMap[event.button])</span></span><br><span class="line"><span class="regexp">    &#125;</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp">复制代码</span></span><br></pre></td></tr></table></figure>

<p><strong>没有带鼠标回来，中键点击暂时不能演示，后续会补上</strong></p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b9f9b0c4660e41bca611a709ce33ac58~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp?" alt="mouse.gif"></p>
<h2 id="11-left"><a href="#11-left" class="headerlink" title="11 .left"></a>11 .left</h2><blockquote>
<p>同上例子，监听鼠标左键点击</p>
</blockquote>
<h2 id="12-right"><a href="#12-right" class="headerlink" title="12 .right"></a>12 .right</h2><blockquote>
<p>同上例子，监听鼠标右键点击</p>
</blockquote>
<h2 id="13-middle"><a href="#13-middle" class="headerlink" title="13 .middle"></a>13 .middle</h2><blockquote>
<p>同上例子，监听鼠标中键点击</p>
</blockquote>
<h1 id="表单相关修饰符"><a href="#表单相关修饰符" class="headerlink" title="表单相关修饰符"></a>表单相关修饰符</h1><h2 id="14-trim"><a href="#14-trim" class="headerlink" title="14 .trim"></a>14 .trim</h2><blockquote>
<p>对于输入的内容，希望可以<code>过滤首尾空格</code>应该怎么做呢？</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"trim"</span>&gt;</span><br><span class="line">    &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"trim-item"</span>&gt;</span><br><span class="line">      &lt;input type=<span class="string">"text"</span> v-model=<span class="string">"name"</span>&gt;</span><br><span class="line">      &lt;p&gt;用户名：&lt;span&gt;&#123;&#123; name &#125;&#125;&lt;<span class="regexp">/span&gt;&lt;/</span>p&gt;</span><br><span class="line">    &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">    &lt;div class="trim-item"&gt;</span></span><br><span class="line"><span class="regexp">      &lt;input type="text" v-model.trim="name2"&gt;</span></span><br><span class="line"><span class="regexp">      &lt;p&gt;用户名2：&lt;span&gt;&#123;&#123; name2 &#125;&#125;&lt;/</span>span&gt;&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>div&gt;</span><br><span class="line">  &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>template&gt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  name: <span class="string">'trim'</span>,</span><br><span class="line">  data () &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      name: <span class="string">''</span>,</span><br><span class="line">      name2: <span class="string">''</span>,</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  watch: &#123;</span><br><span class="line">    name (newVal) &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">`'----<span class="subst">$&#123;newVal&#125;</span>----'`</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    name2 (newVal) &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">`'----<span class="subst">$&#123;newVal&#125;</span>----'`</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p><strong>.trim修饰符可以很方便做到</strong></p>
<p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d466428966a048d7a05694c1c35c88e4~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp?" alt="trim.gif"></p>
<h2 id="15-lazy"><a href="#15-lazy" class="headerlink" title="15 .lazy"></a>15 .lazy</h2><blockquote>
<p><code>v-model</code>大家都很熟悉，默认情况下，每次<code>input事件</code>触发的时候都会将输入框的值与其绑定的数据进行实时同步。但是如果想要实现光标离开的时候再更新数据如何实现呢？</p>
</blockquote>
<p><strong>思路1：</strong> 绑定change事件，在事件回调中手动获取target的值</p>
<p><strong>思路2：</strong> 直接使用<code>.lazy</code>修饰符即可达到效果</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"lazy"</span>&gt;</span><br><span class="line">    &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"lazy-item"</span>&gt;</span><br><span class="line">      &lt;input type=<span class="string">"text"</span> v-model=<span class="string">"text"</span>&gt;</span><br><span class="line">      &lt;p&gt;无.lazy: &#123;&#123; text &#125;&#125;&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>div&gt;</span><br><span class="line"></span><br><span class="line">    &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"lazy-item"</span>&gt;</span><br><span class="line">      &lt;input type=<span class="string">"text"</span> v-model.lazy=<span class="string">"text2"</span>&gt;</span><br><span class="line">      &lt;p&gt;.lazy: &#123;&#123; text2 &#125;&#125;&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>div&gt;</span><br><span class="line">  &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>template&gt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  name: <span class="string">'lazy'</span>,</span><br><span class="line">  data () &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      text: <span class="string">''</span>,</span><br><span class="line">      text2: <span class="string">''</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>可以看到添加了.lazy修饰符之后，第二个输入框输入的值不会实时反应在下面，而是光标离开实，<code>text2</code>的数据才更新了</p>
<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/24f12d21b93b4b66abb85dea2af7df06~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp?" alt="lazy.gif"></p>
<h2 id="16-number"><a href="#16-number" class="headerlink" title="16 .number"></a>16 .number</h2><blockquote>
<p>我们知道<code>input</code>输入框的<code>type</code>哪怕是<code>number</code>得到的值的类型也是<code>string</code>，如果我们想直接拿到<code>number</code>类型的数据，有不想麻烦的手动转换应该怎么办呢？</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"number"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"number-item"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>无.number <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"number"</span> <span class="attr">v-model</span>=<span class="string">"number"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"number-item"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>type:text .number <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">v-model.number</span>=<span class="string">"number1"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"number-item"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>type:number .number <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"number"</span> <span class="attr">v-model.number</span>=<span class="string">"number2"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  name: 'lazy',</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      number: 0,</span><br><span class="line">      number1: '',</span><br><span class="line">      number2: '',</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  watch: &#123;</span><br><span class="line">    number (newVal) &#123;</span><br><span class="line">      console.log(typeof newVal, newVal)</span><br><span class="line">    &#125;,</span><br><span class="line">    number1 (newVal) &#123;</span><br><span class="line">      console.log(typeof newVal, newVal)</span><br><span class="line">    &#125;,</span><br><span class="line">    number2 (newVal) &#123;</span><br><span class="line">      console.log(typeof newVal, newVal)</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<ol>
<li>第一个输入框的类型是number，但是得到的值是string</li>
<li>第二个输入框的类型是text,但是添加了number修饰符，得到的值可以是number（如果这个值无法被 <code>parseFloat()</code> 解析，则会返回原始的值。）</li>
<li>第三个输入框的类型是number，最后得到的值也是number</li>
</ol>
<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a643f046b61e48df888a58896530ac83~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp?" alt="number.gif"></p>
<h1 id="系统修饰符"><a href="#系统修饰符" class="headerlink" title="系统修饰符"></a>系统修饰符</h1><blockquote>
<p>当点击事件或者键盘事件需要系统键同时按下才触发时<code>.ctrl</code>、<code>.alt</code>、<code>.shift</code>、<code>.meta</code>可以帮大忙噢！</p>
</blockquote>
<p><strong>如下代码</strong></p>
<ol>
<li>全局监听keydown事件，尝试看<code>.ctrl</code>、<code>.alt</code>、<code>.shift</code>、<code>.meta</code>是否被按下</li>
<li>分别给四个按钮加上 <code>.ctrl</code>、<code>.alt</code>、<code>.shift</code>、<code>.meta</code>修饰符并配合点击事件，验证是否同时按下指定按键，再点击才会生效</li>
</ol>
<p><strong>注明：电脑ctrl键 + 点击估计和浏览器快捷配置冲突了，导致没触发</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"system"</span>&gt;</span><br><span class="line">    &lt;p&gt;&#123;&#123; msg &#125;&#125;&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">    &lt;div class="buttons"&gt;</span></span><br><span class="line"><span class="regexp">      &lt;button @click.ctrl="onClickButon('ctrl')"&gt;ctrl&lt;/</span>button&gt;</span><br><span class="line">      &lt;button @click.alt=<span class="string">"onClickButon('alt')"</span>&gt;alt&lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp">      &lt;button @click.shift="onClickButon('shift')"&gt;shift&lt;/</span>button&gt;</span><br><span class="line">      &lt;button @click.meta=<span class="string">"onClickButon('meta')"</span>&gt;meta&lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>div&gt;</span><br><span class="line">  &lt;<span class="regexp">/div&gt;  </span></span><br><span class="line"><span class="regexp">&lt;/</span>template&gt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  name: <span class="string">'system'</span>,</span><br><span class="line">  data () &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      msg: <span class="string">''</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  mounted () &#123;</span><br><span class="line">    <span class="keyword">this</span>.onListenSystemKeyDown()</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    onListenSystemKeyDown () &#123;</span><br><span class="line">      <span class="built_in">document</span>.addEventListener(<span class="string">'keydown'</span>, (event) =&gt; &#123;</span><br><span class="line">        <span class="keyword">let</span> msg = <span class="string">'按下了'</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (event.ctrlKey) &#123;</span><br><span class="line">          msg += <span class="string">'ctrl键'</span></span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (event.altKey) &#123;</span><br><span class="line">          msg += <span class="string">'alt键'</span></span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (event.shiftKey) &#123;</span><br><span class="line">          msg += <span class="string">'shift键'</span></span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (event.metaKey) &#123;</span><br><span class="line">          msg += <span class="string">'meta键'</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          msg += <span class="string">'其他键'</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">this</span>.msg = msg</span><br><span class="line">      &#125;, <span class="literal">false</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    onClickButon (key) &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">`只有同时按下<span class="subst">$&#123;key&#125;</span>键，点击事件才会发生`</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4c0ac271083645fd85f9ffc374237852~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp?" alt="system.gif"></p>
<h2 id="17-ctrl"><a href="#17-ctrl" class="headerlink" title="17 .ctrl"></a>17 .ctrl</h2><blockquote>
<p>仅在按下ctrl按键时才触发鼠标或键盘事件的监听器，详细例子请看上面</p>
</blockquote>
<h2 id="18-alt"><a href="#18-alt" class="headerlink" title="18 .alt"></a>18 .alt</h2><blockquote>
<p>仅在按下alt按键时才触发鼠标或键盘事件的监听器，详细例子请看上面</p>
</blockquote>
<h2 id="19-shift"><a href="#19-shift" class="headerlink" title="19 .shift"></a>19 .shift</h2><blockquote>
<p>仅在按下shift按键时才触发鼠标或键盘事件的监听器，详细例子请看上面</p>
</blockquote>
<h2 id="20-meta"><a href="#20-meta" class="headerlink" title="20 .meta"></a>20 .meta</h2><blockquote>
<p>仅在按下meta按键时才触发鼠标或键盘事件的监听器，详细例子请看上面</p>
</blockquote>
<h2 id="21-exact"><a href="#21-exact" class="headerlink" title="21 .exact"></a>21 .exact</h2><blockquote>
<p>严格来说这<code>.exact</code>不属于系统修饰符，只是上面例子的写法有一个现象，同时按下几个系统修饰键（例如alt和shift）既可以触发<code>.alt</code>也可以触发<code>.shift</code>。</p>
</blockquote>
<p>还是用上面的例子，看一下下面的gif, 此时我同时按下了alt和shift，对应的两个事件都可以触发</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3d3bae674a03413e98f298a40409115f~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp?" alt="system2.gif"></p>
<ol>
<li><strong>只想某个系统修饰键按下时才触发点击</strong></li>
<li><strong>没有任何系统修饰符被按下的时候才触发点击</strong></li>
</ol>
<p>要实现上面的需求<code>.exact</code>就派上用场了，用上面的例子稍作改造</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"extra"</span>&gt;</span><br><span class="line">    &lt;p&gt;&#123;&#123; msg &#125;&#125;&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">    &lt;div class="buttons"&gt;</span></span><br><span class="line"><span class="regexp">      &lt;button @click.ctrl.exact="onClickButon('ctrl')"&gt;ctrl&lt;/</span>button&gt;</span><br><span class="line">      &lt;button @click.alt.exact=<span class="string">"onClickButon('alt')"</span>&gt;alt&lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp">      &lt;button @click.shift.exact="onClickButon('shift')"&gt;shift&lt;/</span>button&gt;</span><br><span class="line">      &lt;button @click.meta.exact=<span class="string">"onClickButon('meta')"</span>&gt;meta&lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp">      &lt;button @click.exact="onClickButon('非系统键')"&gt;非系统键&lt;/</span>button&gt;</span><br><span class="line">    &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">  &lt;/</span>div&gt;  </span><br><span class="line">&lt;<span class="regexp">/template&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">export default &#123;</span></span><br><span class="line"><span class="regexp">  name: 'extra',</span></span><br><span class="line"><span class="regexp">  data () &#123;</span></span><br><span class="line"><span class="regexp">    return &#123;</span></span><br><span class="line"><span class="regexp">      msg: ''</span></span><br><span class="line"><span class="regexp">    &#125;</span></span><br><span class="line"><span class="regexp">  &#125;,</span></span><br><span class="line"><span class="regexp">  mounted () &#123;</span></span><br><span class="line"><span class="regexp">    this.onListenSystemKeyDown()</span></span><br><span class="line"><span class="regexp">  &#125;,</span></span><br><span class="line"><span class="regexp">  methods: &#123;</span></span><br><span class="line"><span class="regexp">    onListenSystemKeyDown () &#123;</span></span><br><span class="line"><span class="regexp">      document.addEventListener('keydown', (event) =&gt; &#123;</span></span><br><span class="line"><span class="regexp">        let msg = '按下了'</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">        if (event.ctrlKey) &#123;</span></span><br><span class="line"><span class="regexp">          msg += 'ctrl键'</span></span><br><span class="line"><span class="regexp">        &#125; else if (event.altKey) &#123;</span></span><br><span class="line"><span class="regexp">          msg += 'alt键'</span></span><br><span class="line"><span class="regexp">        &#125; else if (event.shiftKey) &#123;</span></span><br><span class="line"><span class="regexp">          msg += 'shift键'</span></span><br><span class="line"><span class="regexp">        &#125; else if (event.metaKey) &#123;</span></span><br><span class="line"><span class="regexp">          msg += 'meta键'</span></span><br><span class="line"><span class="regexp">        &#125; else &#123;</span></span><br><span class="line"><span class="regexp">          msg += '其他键'</span></span><br><span class="line"><span class="regexp">        &#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">        this.msg = msg</span></span><br><span class="line"><span class="regexp">      &#125;, false)</span></span><br><span class="line"><span class="regexp">    &#125;,</span></span><br><span class="line"><span class="regexp">    onClickButon (key) &#123;</span></span><br><span class="line"><span class="regexp">      console.log(`只有同时按下$&#123;key&#125;键，点击事件才会发生`)</span></span><br><span class="line"><span class="regexp">    &#125;</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">复制代码</span></span><br></pre></td></tr></table></figure>

<p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0e3d35fcece64eebb3ba9d2950516aef~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp?" alt="extra.gif"></p>
<h1 id="按键修饰符"><a href="#按键修饰符" class="headerlink" title="按键修饰符"></a>按键修饰符</h1><blockquote>
<p>在监听键盘事件时，我们经常需要检查详细的按键再执行对应的逻辑，vue也为我们内置了至少11+的按键修饰符。</p>
</blockquote>
<p>如下代码，我们分别给<code>enter</code>、<code>tab</code>、<code>delete</code>等按键指定了<code>keydown</code>事件，当在指定的输入框中按下指定的键盘，会打印出<code>enter</code>、<code>tab</code>、<code>delete</code>等，其他按键在输入框中无法触发该console</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"key-modifiers"</span>&gt;</span><br><span class="line">    &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"key-modifiers-item"</span>&gt;</span><br><span class="line">      enter:</span><br><span class="line">      &lt;input type=<span class="string">"text"</span> @keydown.enter=<span class="string">"onKeydown('enter')"</span>&gt;</span><br><span class="line">    &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">    &lt;div class="key-modifiers-item"&gt;</span></span><br><span class="line"><span class="regexp">      tab:</span></span><br><span class="line"><span class="regexp">      &lt;input type="text" @keydown.tab="onKeydown('tab')"&gt;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>div&gt;  </span><br><span class="line">    &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"key-modifiers-item"</span>&gt;</span><br><span class="line">      <span class="keyword">delete</span>:</span><br><span class="line">      &lt;input type=<span class="string">"text"</span> @keydown.delete=<span class="string">"onKeydown('delete')"</span>&gt;</span><br><span class="line">    &lt;<span class="regexp">/div&gt;  </span></span><br><span class="line"><span class="regexp">    &lt;div class="key-modifiers-item"&gt;</span></span><br><span class="line"><span class="regexp">      esc:</span></span><br><span class="line"><span class="regexp">      &lt;input type="text" @keydown.esc="onKeydown('esc')"&gt;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>div&gt;  </span><br><span class="line">    &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"key-modifiers-item"</span>&gt;</span><br><span class="line">      space:</span><br><span class="line">      &lt;input type=<span class="string">"text"</span> @keydown.space=<span class="string">"onKeydown('space')"</span>&gt;</span><br><span class="line">    &lt;<span class="regexp">/div&gt; </span></span><br><span class="line"><span class="regexp">    &lt;div class="key-modifiers-item"&gt;</span></span><br><span class="line"><span class="regexp">      up:</span></span><br><span class="line"><span class="regexp">      &lt;input type="text" @keydown.up="onKeydown('up')"&gt;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>div&gt;  </span><br><span class="line">    &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"key-modifiers-item"</span>&gt;</span><br><span class="line">      down:</span><br><span class="line">      &lt;input type=<span class="string">"text"</span> @keydown.down=<span class="string">"onKeydown('down')"</span>&gt;</span><br><span class="line">    &lt;<span class="regexp">/div&gt; </span></span><br><span class="line"><span class="regexp">    &lt;div class="key-modifiers-item"&gt;</span></span><br><span class="line"><span class="regexp">      left:</span></span><br><span class="line"><span class="regexp">      &lt;input type="text" @keydown.left="onKeydown('left')"&gt;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>div&gt;  </span><br><span class="line">    &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"key-modifiers-item"</span>&gt;</span><br><span class="line">      right:</span><br><span class="line">      &lt;input type=<span class="string">"text"</span> @keydown.right=<span class="string">"onKeydown('right')"</span>&gt;</span><br><span class="line">    &lt;<span class="regexp">/div&gt;  </span></span><br><span class="line"><span class="regexp">    </span></span><br><span class="line"><span class="regexp">    &lt;div class="key-modifiers-item"&gt;</span></span><br><span class="line"><span class="regexp">      page-down:</span></span><br><span class="line"><span class="regexp">      &lt;input type="text" @keydown.page-down="onKeydown('page-down')"&gt;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>div&gt;  </span><br><span class="line">    &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"key-modifiers-item"</span>&gt;</span><br><span class="line">      page-up:</span><br><span class="line">      &lt;input type=<span class="string">"text"</span> @keydown.page-up=<span class="string">"onKeydown('page-up')"</span>&gt;</span><br><span class="line">    &lt;<span class="regexp">/div&gt;  </span></span><br><span class="line"><span class="regexp">  &lt;/</span>div&gt;</span><br><span class="line">&lt;<span class="regexp">/template&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">export default &#123;</span></span><br><span class="line"><span class="regexp">  name: 'keyModifiers',</span></span><br><span class="line"><span class="regexp">  methods: &#123;</span></span><br><span class="line"><span class="regexp">    onKeydown (keyName) &#123;</span></span><br><span class="line"><span class="regexp">      console.log(keyName)</span></span><br><span class="line"><span class="regexp">    &#125;</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">复制代码</span></span><br></pre></td></tr></table></figure>

<p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f1efec75b8744eb3b5eac560609b0850~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp?" alt="key-modifiers.gif"></p>
<h2 id="22-enter"><a href="#22-enter" class="headerlink" title="22 .enter"></a>22 .enter</h2><blockquote>
<p>在按下enter按键时才触发鼠标或键盘事件的监听器，详细例子请看上面</p>
</blockquote>
<h2 id="23-tab"><a href="#23-tab" class="headerlink" title="23 .tab"></a>23 .tab</h2><blockquote>
<p>在按下tab按键时才触发鼠标或键盘事件的监听器，详细例子请看上面</p>
</blockquote>
<h2 id="24-delete"><a href="#24-delete" class="headerlink" title="24 .delete"></a>24 .delete</h2><blockquote>
<p>在按下delete按键时才触发鼠标或键盘事件的监听器，详细例子请看上面</p>
</blockquote>
<h2 id="25-esc"><a href="#25-esc" class="headerlink" title="25 .esc"></a>25 .esc</h2><blockquote>
<p>在按下esc按键时才触发鼠标或键盘事件的监听器，详细例子请看上面</p>
</blockquote>
<h2 id="26-space"><a href="#26-space" class="headerlink" title="26 .space"></a>26 .space</h2><blockquote>
<p>在按下space按键时才触发鼠标或键盘事件的监听器，详细例子请看上面</p>
</blockquote>
<h2 id="27-up"><a href="#27-up" class="headerlink" title="27 .up"></a>27 .up</h2><blockquote>
<p>在按下up按键时才触发鼠标或键盘事件的监听器，详细例子请看上面</p>
</blockquote>
<h2 id="28-down"><a href="#28-down" class="headerlink" title="28 .down"></a>28 .down</h2><blockquote>
<p>在按下down按键时才触发鼠标或键盘事件的监听器，详细例子请看上面</p>
</blockquote>
<h2 id="29-left"><a href="#29-left" class="headerlink" title="29 .left"></a>29 .left</h2><blockquote>
<p>在按下left按键时才触发鼠标或键盘事件的监听器，详细例子请看上面</p>
</blockquote>
<h2 id="30-right"><a href="#30-right" class="headerlink" title="30 .right"></a>30 .right</h2><blockquote>
<p>在按下right按键时才触发鼠标或键盘事件的监听器，详细例子请看上面</p>
</blockquote>
<h2 id="31-page-down"><a href="#31-page-down" class="headerlink" title="31 .page-down"></a>31 .page-down</h2><blockquote>
<p>在按下(fn + down)按键时才触发鼠标或键盘事件的监听器，详细例子请看上面</p>
</blockquote>
<h2 id="32-page-up"><a href="#32-page-up" class="headerlink" title="32 .page-up"></a>32 .page-up</h2><blockquote>
<p>在按下(fn + up)按键时才触发鼠标或键盘事件的监听器，详细例子请看上面</p>
</blockquote>
<h1 id="如何自定义按键修饰符"><a href="#如何自定义按键修饰符" class="headerlink" title="如何自定义按键修饰符"></a>如何自定义按键修饰符</h1><blockquote>
<p>vue本身给我们内置了很多实用的按键修饰符，大部分情况下可以满足我们的日常需求了，那么有没有办法可以自定义按键修饰符呢？</p>
</blockquote>
<p>通过以下配置即可定义一个属于我们自己的按键修饰符, 比如我们定义q为按下q的快捷键。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">Vue.config.keyCodes = &#123;</span><br><span class="line">  q: <span class="number">81</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"custom"</span>&gt;</span><br><span class="line">  &lt;input type=<span class="string">"text"</span> @keydown.q=<span class="string">"f1Keydown"</span>&gt;</span><br><span class="line">&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">export default &#123;</span></span><br><span class="line"><span class="regexp">  name: 'custom',</span></span><br><span class="line"><span class="regexp">  methods: &#123;</span></span><br><span class="line"><span class="regexp">    f1Keydown () &#123;</span></span><br><span class="line"><span class="regexp">      console.log('按下了q')</span></span><br><span class="line"><span class="regexp">    &#125;</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp">复制代码</span></span><br></pre></td></tr></table></figure>

<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/dcef40ea05a24c47b8d7b3ae43794e6d~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp?" alt="custom.gif"></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2022/08/15/vue-config-js%E8%AF%A6%E8%A7%A3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Dali">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/header.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DaliBlogs">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2022/08/15/vue-config-js%E8%AF%A6%E8%A7%A3/" itemprop="url">vue.config.js详解</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2022-08-15T10:13:31+08:00">
                2022-08-15
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>链接：<a href="https://www.cnblogs.com/ypSharing/p/vue-webpack.html#%E4%B8%80vueconfigjs%E4%B8%AD%E5%B8%B8%E7%94%A8%E7%9A%84%E9%85%8D%E7%BD%AE" target="_blank" rel="noopener">https://www.cnblogs.com/ypSharing/p/vue-webpack.html#%E4%B8%80vueconfigjs%E4%B8%AD%E5%B8%B8%E7%94%A8%E7%9A%84%E9%85%8D%E7%BD%AE</a></p>
<p><strong><a href="https://cli.vuejs.org/zh/config/#publicpath" target="_blank" rel="noopener">官方文档</a></strong></p>
<p><strong>vue-cli3以下版本中，关于webpack的一些配置都在config目录文件中，可是vue-cli3以上版本中，没有了config目录，那该怎么配置webpack呢？</strong><br>3.x初始化项目后没有了build和config文件，如果你想对webpack相关内容进行配置，需要自己在根目录下(与package.json同级)创建一个vue.config.js文件，这个文件一旦存在，那么它会被 @vue/cli-service 自动加载。(但需要我们自己手动创建哦vue.config.js，跟package.json同级)</p>
<h2 id="一、vue-config-js中常用的配置"><a href="#一、vue-config-js中常用的配置" class="headerlink" title="一、vue.config.js中常用的配置"></a>一、vue.config.js中常用的配置</h2><p>在配置中绝大多数都是（可选项）</p>
<h3 id="1、导出模块"><a href="#1、导出模块" class="headerlink" title="1、导出模块"></a>1、导出模块</h3><p>常规操作还是用到了commjs语法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span>.<span class="keyword">exports</span> = &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2、publicPath-部署应用包的基本Url"><a href="#2、publicPath-部署应用包的基本Url" class="headerlink" title="2、publicPath 部署应用包的基本Url"></a>2、publicPath 部署应用包的基本Url</h3><p>部署应用包的基本Url，默认/, 可以设置为相对路径./,这样打出来的包，可以部署到任意路径上</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> developmentPath=<span class="string">'./'</span>;<span class="comment">//开发环境-npm run serve时引用文件路径</span></span><br><span class="line"><span class="keyword">let</span> productionPath=<span class="string">'./'</span>;<span class="comment">//生产环境-npm run build打包后引用文件路径</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    publicPath: process.env.NODE_ENV === <span class="string">'production'</span> ? productionPath: developmentPath, <span class="comment">// 基本路径-引用文件的路</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3、outputDir-输出文件目录"><a href="#3、outputDir-输出文件目录" class="headerlink" title="3、outputDir 输出文件目录"></a>3、outputDir 输出文件目录</h3><p>输出文件目录（打包后生成的目录，默认dist）</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span>.<span class="keyword">exports</span> = &#123;</span><br><span class="line">  outputDir: __dirname + <span class="string">'/server/dist'</span>, <span class="comment">//build之后静态文件输出路径</span></span><br><span class="line">  <span class="comment">//outputDir: 'dist',</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="4、assetsDir-打包后生成的静态资源目录"><a href="#4、assetsDir-打包后生成的静态资源目录" class="headerlink" title="4、assetsDir 打包后生成的静态资源目录"></a>4、assetsDir 打包后生成的静态资源目录</h3><p>打包后生成的静态资源目录，默认“ ” ，也就是我们打包后的css，js等存放的位置</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span>.<span class="keyword">exports</span> = &#123;</span><br><span class="line"> assetsDir: <span class="string">'static'</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="5、lintOnSave"><a href="#5、lintOnSave" class="headerlink" title="5、lintOnSave"></a>5、lintOnSave</h3><p>是否在保存的时候检查</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span>.<span class="keyword">exports</span> = &#123;</span><br><span class="line">    lintOnSave: process.env.NODE_ENV !== <span class="string">'production'</span>,<span class="comment">// eslint-loader </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="6、productionSourceMap-生产环境的-source-map"><a href="#6、productionSourceMap-生产环境的-source-map" class="headerlink" title="6、productionSourceMap 生产环境的 source map"></a>6、productionSourceMap 生产环境的 source map</h3><p>生产环境的 source map，可以将其设置为 false 以加速生产环境构建，默认值是true</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span>.<span class="keyword">exports</span> = &#123;</span><br><span class="line">    productionSourceMap: <span class="keyword">false</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="7、devServer"><a href="#7、devServer" class="headerlink" title="7、devServer"></a>7、devServer</h3><p>可通过 devServer.proxy解决前后端跨域问题（反向代理）</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span>.<span class="keyword">exports</span> = &#123;</span><br><span class="line"><span class="comment">// 反向代理</span></span><br><span class="line">  devServer: &#123;</span><br><span class="line">    index: <span class="string">'/login.html'</span>,   <span class="comment">//默认打开文件</span></span><br><span class="line">    open: <span class="keyword">true</span>,             <span class="comment">//自动打开浏览器</span></span><br><span class="line">    host: <span class="string">'localhost'</span>,      <span class="comment">//默认打开域名</span></span><br><span class="line">    port: <span class="number">8080</span>,             <span class="comment">//默认打开端口号</span></span><br><span class="line">    https: <span class="keyword">false</span>,           <span class="comment">//开启关闭https请求</span></span><br><span class="line">    hotOnly: <span class="keyword">false</span>,         <span class="comment">//热更</span></span><br><span class="line"></span><br><span class="line">    proxy: &#123;</span><br><span class="line">      <span class="comment">// 配置跨域</span></span><br><span class="line">      <span class="string">'/api'</span>: &#123;</span><br><span class="line">        target: <span class="string">'http://dev.aabb.cn:8082/'</span>, <span class="comment">//代理地址，这里设置的地址会代替axios中设置的baseURL</span></span><br><span class="line">        ws: <span class="keyword">true</span>,   <span class="comment">//// proxy websockets</span></span><br><span class="line">        changeOrigin: <span class="keyword">true</span>,<span class="comment">// 如果接口跨域，需要进行这个参数配置</span></span><br><span class="line">        pathRewrite: &#123;                <span class="comment">//pathRewrite方法重写url</span></span><br><span class="line">          <span class="string">'^/api'</span>: <span class="string">'/'</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>扩展： hot 和 hotOnly 的区别是在某些模块不支持热更新的情况下，前者会自动刷新页面，后者不会刷新页面，而是在控制台输出热更新失败</p>
<h3 id="8、-chainWebpack-webpack配置"><a href="#8、-chainWebpack-webpack配置" class="headerlink" title="8、 chainWebpack webpack配置"></a>8、 chainWebpack webpack配置</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  chainWebpack: <span class="function">(<span class="params">config</span>) =&gt;</span> &#123;</span><br><span class="line">    config.plugins.delete(<span class="string">'preload'</span>)</span><br><span class="line">    config.plugins.delete(<span class="string">'prefetch'</span>)</span><br><span class="line"></span><br><span class="line">    config.module</span><br><span class="line">      .rule(<span class="string">'svg'</span>)</span><br><span class="line">      .exclude.add(resolve(<span class="string">'src/assets/icons'</span>))</span><br><span class="line">      .end()</span><br><span class="line"></span><br><span class="line">    config.module</span><br><span class="line">      .rule(<span class="string">'icons'</span>)</span><br><span class="line">      .test(<span class="regexp">/\.svg$/</span>)</span><br><span class="line">      .include.add(resolve(<span class="string">'src/assets/icons'</span>))</span><br><span class="line">      .end()</span><br><span class="line">      .use(<span class="string">'svg-sprite-loader'</span>)</span><br><span class="line">      .loader(<span class="string">'svg-sprite-loader'</span>)</span><br><span class="line">      .options(&#123;</span><br><span class="line">        symbolId: <span class="string">'icon-[name]'</span>,</span><br><span class="line">      &#125;)</span><br><span class="line">      .end()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> imagesRule = config.module.rule(<span class="string">'images'</span>)</span><br><span class="line">    imagesRule.uses.clear() <span class="comment">//清除原本的images loader配置</span></span><br><span class="line">    imagesRule</span><br><span class="line">      .test(<span class="regexp">/\.(jpg|gif|png|svg)$/</span>)</span><br><span class="line">      .exclude.add(path.join(__dirname, <span class="string">'../node_modules'</span>)) <span class="comment">//不对node_modules里的图片转base64</span></span><br><span class="line">      .end()</span><br><span class="line">      .use(<span class="string">'url-loader'</span>)</span><br><span class="line">      .loader(<span class="string">'url-loader'</span>)</span><br><span class="line">      .options(&#123; <span class="attr">name</span>: <span class="string">'img/[name].[hash:8].[ext]'</span>, <span class="attr">limit</span>: <span class="number">6000000</span> &#125;)</span><br><span class="line"></span><br><span class="line">    config.optimization.splitChunks(&#123;</span><br><span class="line">      cacheGroups: &#123;</span><br><span class="line"></span><br><span class="line">        vendors: &#123;</span><br><span class="line">          name: <span class="string">'chunk-vendors'</span>,</span><br><span class="line">          minChunks: pageNum,</span><br><span class="line">          test: <span class="regexp">/node_modules/</span>,</span><br><span class="line">          priority: <span class="number">-10</span>,</span><br><span class="line">          chunks: <span class="string">'initial'</span>,</span><br><span class="line">        &#125;,</span><br><span class="line"></span><br><span class="line">        elementUI: &#123;</span><br><span class="line">          name: <span class="string">'chunk-elementUI'</span>, <span class="comment">// split elementUI into a single package</span></span><br><span class="line">          priority: <span class="number">20</span>, <span class="comment">// the weight needs to be larger than libs and app or it will be packaged into libs or app</span></span><br><span class="line">          test: <span class="regexp">/[\\/]node_modules[\\/]_?element-ui(.*)/</span>, <span class="comment">// in order to adapt to cnpm</span></span><br><span class="line">        &#125;,</span><br><span class="line"></span><br><span class="line">        commons: &#123;</span><br><span class="line">          name: <span class="string">'chunk-commons'</span>,</span><br><span class="line">          test: resolve(<span class="string">'src/components'</span>), <span class="comment">// can customize your rules</span></span><br><span class="line">          minChunks: <span class="number">3</span>, <span class="comment">//  minimum common number</span></span><br><span class="line">          priority: <span class="number">5</span>,</span><br><span class="line">          reuseExistingChunk: <span class="literal">true</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>扩展：<br>Preload： 用于标记页面加载后即将用到的资源，浏览器将在主体渲染前加载preload标记文件。Vue CLI 应用会为所有初始化渲染需要的文件自动生成 preload 提示；</p>
<p>Prefetch: 用于标记浏览器在页面加载完成后，利用空闲时间预加载的内容。Vue CLI 应用默认为所有作为 async chunk 生成的 JavaScript 文件 (通过动态 import() 按需 code splitting 的产物) 自动生成prefetch提示。</p>
<h3 id="9、configureWebpack-webpack配置"><a href="#9、configureWebpack-webpack配置" class="headerlink" title="9、configureWebpack webpack配置"></a>9、configureWebpack webpack配置</h3><p>webpack配置</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> UglifyJsPlugin = <span class="built_in">require</span>(<span class="string">'uglifyjs-webpack-plugin'</span>)</span><br><span class="line"><span class="keyword">const</span> CompressionWebpackPlugin = <span class="built_in">require</span>(<span class="string">'compression-webpack-plugin'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> productionGzipExtensions = [<span class="string">'js'</span>, <span class="string">'css'</span>]</span><br><span class="line"><span class="keyword">const</span> Version = <span class="string">'V6.1'</span></span><br><span class="line"><span class="keyword">const</span> Timestamp = <span class="keyword">new</span> <span class="built_in">Date</span>().getTime()</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    webpack配置</span><br><span class="line">    configureWebpack: <span class="function">(<span class="params">config</span>) =&gt;</span> &#123;</span><br><span class="line">          <span class="comment">// 为生产环境修改配置</span></span><br><span class="line">        <span class="keyword">if</span> (process.env.NODE_ENV === <span class="string">'production'</span>) &#123;</span><br><span class="line">      </span><br><span class="line">            config.plugins.push(</span><br><span class="line">                <span class="keyword">new</span> UglifyJsPlugin(&#123;</span><br><span class="line">                    uglifyOptions: &#123;</span><br><span class="line">                        compress: &#123;</span><br><span class="line">                            drop_debugger: <span class="literal">true</span>,<span class="comment">//生产环境自动删除debugger</span></span><br><span class="line">                            drop_console: <span class="literal">true</span>, <span class="comment">//生产环境自动删除console</span></span><br><span class="line">                        &#125;,</span><br><span class="line">                        warnings: <span class="literal">false</span>,</span><br><span class="line">                    &#125;,</span><br><span class="line">                    sourceMap: <span class="literal">false</span>,   <span class="comment">//关掉sourcemap 会生成对于调试的完整的.map文件，但同时也会减慢打包速度</span></span><br><span class="line">                    parallel: <span class="literal">true</span>, <span class="comment">//使用多进程并行运行来提高构建速度。默认并发运行数：os.cpus().length - 1。</span></span><br><span class="line">                &#125;),</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">                <span class="keyword">new</span> CompressionWebpackPlugin(&#123;</span><br><span class="line">                    filename: <span class="string">'[path].gz[query]'</span>,</span><br><span class="line">                    algorithm: <span class="string">'gzip'</span>,</span><br><span class="line">                    test: <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">'\\.('</span> + productionGzipExtensions.join(<span class="string">'|'</span>) + <span class="string">')$'</span>),</span><br><span class="line">                    threshold: <span class="number">10240</span>,</span><br><span class="line">                    minRatio: <span class="number">0.8</span>,</span><br><span class="line">                &#125;)</span><br><span class="line">            )</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 在这里配置后，减少了压缩的包内容，需要在public/index.html通过cdn方式再引入,注意对应的版本</span></span><br><span class="line">        config.externals = &#123; </span><br><span class="line">            vue: <span class="string">'Vue'</span>,</span><br><span class="line">            <span class="string">'vue-router'</span>: <span class="string">'VueRouter'</span>,</span><br><span class="line">            vuex: <span class="string">'Vuex'</span>,</span><br><span class="line">            axios: <span class="string">'axios'</span>,</span><br><span class="line">            jquery: <span class="string">'$'</span>,</span><br><span class="line">            moment: <span class="string">'moment'</span>,</span><br><span class="line">            <span class="string">'mint-ui'</span>: <span class="string">'MINT'</span></span><br><span class="line">        &#125;,</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">         <span class="comment">// 别名配置</span></span><br><span class="line">        <span class="built_in">Object</span>.assign(config, &#123;</span><br><span class="line">            <span class="comment">// 开发生产共同配置</span></span><br><span class="line">            resolve: &#123;</span><br><span class="line">                alias: &#123;</span><br><span class="line">                <span class="string">'@'</span>: path.resolve(__dirname, <span class="string">'./src'</span>),</span><br><span class="line">                <span class="string">'@c'</span>: path.resolve(__dirname, <span class="string">'./src/components'</span>),</span><br><span class="line">                <span class="string">'@p'</span>: path.resolve(__dirname, <span class="string">'./src/pages'</span>)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;),</span><br><span class="line"></span><br><span class="line">        config.output.filename = <span class="string">`[name].<span class="subst">$&#123;Version&#125;</span>.<span class="subst">$&#123;Timestamp&#125;</span>.js`</span>  <span class="comment">//打包生成的文件</span></span><br><span class="line">        config.output.chunkFilename = <span class="string">`[name].<span class="subst">$&#123;Version&#125;</span>.<span class="subst">$&#123;Timestamp&#125;</span>.js`</span></span><br><span class="line">    &#125;,</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<p>扩展:</p>
<ol>
<li>UglifyJS Webpack:<br>Plugin插件用来缩小（压缩优化）js文件，至少需要Node v6.9.0和Webpack v4.0.0版本。</li>
<li>compression-webpack-plugin<br>Vue配置compression-webpack-plugin实现Gzip压缩</li>
<li>chunkFilename<br>和webpack.optimize.CommonsChunkPlugin插件的作用差不多，都是用来将公共模块提取出来，但是用法不一样</li>
</ol>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">entry:&#123;</span><br><span class="line">    main:__dirname + <span class="string">'/app/main.js'</span>,</span><br><span class="line">    index:__dirname + <span class="string">'/app/index.js'</span>      </span><br><span class="line">&#125;,</span><br><span class="line"><span class="built_in">output</span>:&#123;</span><br><span class="line">    <span class="built_in">path</span>:__dirname + <span class="string">'/public'</span>, //通过HtmlWebpackPlugin插件生成的html文件存放在这个目录下面</span><br><span class="line">    filename:<span class="string">'/js/[name].js'</span>, //编译生成的js文件存放到根目录下面的js目录下面,如果js目录不存在则自动创建</span><br><span class="line">    /*</span><br><span class="line">     * chunkFilename用来打包<span class="built_in">require</span>.ensure方法中引入的模块,如果该方法中没有引入任何模块则不会生成任何chunk块文件</span><br><span class="line">     * 比如在main.js文件中,<span class="built_in">require</span>.ensure([],<span class="function"><span class="keyword">function</span><span class="params">(require)</span></span>&#123;alert(<span class="number">11</span>);&#125;),这样不会打包块文件</span><br><span class="line">     * 只有这样才会打包生成块文件<span class="built_in">require</span>.ensure([],<span class="function"><span class="keyword">function</span><span class="params">(require)</span></span>&#123;alert(<span class="number">11</span>);<span class="built_in">require</span>(<span class="string">'./greeter'</span>)&#125;)</span><br><span class="line">     * 或者这样<span class="built_in">require</span>.ensure([<span class="string">'./greeter'</span>],<span class="function"><span class="keyword">function</span><span class="params">(require)</span></span>&#123;alert(<span class="number">11</span>);&#125;)</span><br><span class="line">     * chunk的hash值只有在<span class="built_in">require</span>.ensure中引入的模块发生变化,hash值才会改变</span><br><span class="line">     * 注意:对于不是在ensure方法中引入的模块,此属性不会生效,只能用CommonsChunkPlugin插件来提取</span><br><span class="line">     * */</span><br><span class="line">    chunkFilename:<span class="string">'js/[chunkhash:8].chunk.js'</span></span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<h4 id="configureWebpack和chainWebpack区别"><a href="#configureWebpack和chainWebpack区别" class="headerlink" title="configureWebpack和chainWebpack区别"></a>configureWebpack和chainWebpack区别</h4><p>在这里configureWebpack和chainWebpack的作用相同，唯一的区别就是他们修改webpack配置的方式不同：</p>
<ol>
<li>chainWebpack通过链式编程的形式，来修改默认的webpack配置</li>
<li>configureWebpack通过操作对象的形式，来修改默认的webpack配置<br><strong>如果对一个loader或plugin修改的配置如果是一项的话推荐 chainWebpack、如果是多项的话用configureWebpack直接覆写</strong></li>
</ol>
<h3 id="10、css相关配置"><a href="#10、css相关配置" class="headerlink" title="10、css相关配置"></a>10、css相关配置</h3><p>这里配置了全局sass 需要安装的依赖 sass-loader less-loader</p>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">css: &#123;</span><br><span class="line">       loaderOptions: &#123;</span><br><span class="line">           scss: &#123;</span><br><span class="line">               additionalData: `@import <span class="string">"@/assets/css/reset.scss"</span>;<span class="keyword">@import</span> <span class="string">"@/assets/css/globle.scss"</span>;`  <span class="comment">//注意配置的键名</span></span><br><span class="line">           &#125;,</span><br><span class="line">           postcss: &#123;</span><br><span class="line">               plugins: [</span><br><span class="line">                   //remUnit这个配置项的数值是多少呢？？？ 通常我们是根据设计图来定这个值，原因很简单，便于开发。</span><br><span class="line">                   //假如设计图给的宽度是<span class="number">750</span>，我们通常就会把remUnit设置为<span class="number">75</span>，这样我们写样式时，可以直接按照设计图标注的宽高来<span class="number">1</span>:<span class="number">1</span>还原开发。</span><br><span class="line">                   require(<span class="string">'postcss-px2rem'</span>)(&#123;</span><br><span class="line">                       remUnit: <span class="number">37.5</span></span><br><span class="line">                   &#125;)</span><br><span class="line">               ]</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;,</span><br></pre></td></tr></table></figure>

<p>由于 sass-loader 版本不同，loaderOptions 中的 additionalData 的键名也不同</p>
<ul>
<li>sass-loader loader v8-， 这个选项名是 “data”，</li>
<li>sass-loader loader v8中， 这个选项名是 “prependData”，</li>
<li>sass-loader loader v10+， 这个选项名是 “additionalData”，</li>
</ul>
<h3 id="11、pages"><a href="#11、pages" class="headerlink" title="11、pages"></a>11、pages</h3><p>vue-cli3中的webpack与vue多页面应用开发<br>相关参数:</p>
<ul>
<li>entry：page 的入口</li>
<li>template：模板来源</li>
<li>filename：在 dist/index.html 的输出</li>
<li>title：template 中的 title 标签需要是</li>
<li>chunks：在这个页面中包含的块，默认情况下会包含</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span>.exports = &#123;</span><br><span class="line">   pages:&#123;</span><br><span class="line">       main: &#123;</span><br><span class="line">           <span class="comment">// page 的入口</span></span><br><span class="line">           entry: <span class="string">"src/pages/main/main.js"</span>,</span><br><span class="line">           <span class="comment">// 模板来源</span></span><br><span class="line">           <span class="keyword">template</span>: <span class="string">"public/index.html"</span>,</span><br><span class="line">           <span class="comment">// 在 dist/index.html 的输出</span></span><br><span class="line">           filename: <span class="string">"main.html"</span>,</span><br><span class="line">           <span class="comment">// 当使用 title 选项时，</span></span><br><span class="line">           <span class="comment">// template 中的 title 标签需要是 &lt;title&gt;&lt;%= htmlWebpackPlugin.options.title %&gt;&lt;/title&gt;</span></span><br><span class="line">           title: <span class="string">"Index Page"</span>,</span><br><span class="line">           <span class="comment">// 在这个页面中包含的块，默认情况下会包含</span></span><br><span class="line">           <span class="comment">// 提取出来的通用 chunk 和 vendor chunk。</span></span><br><span class="line">           chunks: [<span class="string">"chunk-vendors"</span>, <span class="string">"chunk-common"</span>, <span class="string">"main"</span>]</span><br><span class="line">       &#125;,</span><br><span class="line">       hh: &#123;</span><br><span class="line">           <span class="comment">// page 的入口</span></span><br><span class="line">           entry: <span class="string">"src/pages/login/main.js"</span>,</span><br><span class="line">           <span class="comment">// 模板来源</span></span><br><span class="line">           <span class="keyword">template</span>: <span class="string">"public/index.html"</span>,</span><br><span class="line">           <span class="comment">// 在 dist/index.html 的输出</span></span><br><span class="line">           filename: <span class="string">"login.html"</span>,</span><br><span class="line">           <span class="comment">// 当使用 title 选项时，</span></span><br><span class="line">           <span class="comment">// template 中的 title 标签需要是 &lt;title&gt;&lt;%= htmlWebpackPlugin.options.title %&gt;&lt;/title&gt;</span></span><br><span class="line">           title: <span class="string">"Index Page"</span>,</span><br><span class="line">           <span class="comment">// 在这个页面中包含的块，默认情况下会包含</span></span><br><span class="line">           <span class="comment">// 提取出来的通用 chunk 和 vendor chunk。</span></span><br><span class="line">           chunks: [<span class="string">"chunk-vendors"</span>, <span class="string">"chunk-common"</span>, <span class="string">"hh"</span>]</span><br><span class="line">       &#125;,</span><br><span class="line">       <span class="comment">// 当使用只有入口的字符串格式时，</span></span><br><span class="line">       <span class="comment">// 模板会被推导为 `public/subpage.html`</span></span><br><span class="line">       <span class="comment">// 并且如果找不到的话，就回退到 `public/index.html`。</span></span><br><span class="line">       <span class="comment">// 输出文件名会被推导为 `subpage.html`。</span></span><br><span class="line">       subpage: <span class="string">"src/subpage/main.js"</span></span><br><span class="line">   &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>封装</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> glob = <span class="built_in">require</span>(<span class="string">'glob'</span>) <span class="comment">// 引入glob模块,用于扫描全部src/pages/**/main.js（返回的是一个数组）</span></span><br><span class="line"><span class="comment">// 打包多入口文件基本配置</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getPagesInfo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> pages = &#123;&#125;</span><br><span class="line"></span><br><span class="line">    glob.sync(<span class="string">'src/pages/**/main.js'</span>).forEach(<span class="function">(<span class="params">entry, i</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> name = entry.slice(<span class="number">10</span>, <span class="number">-8</span>)</span><br><span class="line">        pages[name] = &#123;</span><br><span class="line">            entry: entry,</span><br><span class="line">            template: <span class="string">'public.index.html'</span>,</span><br><span class="line">            filename: name + <span class="string">'.html'</span>,</span><br><span class="line">            title: <span class="string">''</span>,</span><br><span class="line">            chunks: [<span class="string">"chunk-vendors"</span>, <span class="string">"chunk-common"</span>, name]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">return</span> pages</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    pages: getPagesInfo(),</span><br><span class="line">    publicPath: <span class="string">'./kk'</span>,</span><br><span class="line">    assetsDir: <span class="string">'static'</span>,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h3 id="12、其他"><a href="#12、其他" class="headerlink" title="12、其他"></a>12、其他</h3><ul>
<li>parallel: require(‘os’).cpus().length &gt; 1, // 是否为 Babel 或 TypeScript 使用 thread-loader。该选项在系统的 CPU 有多于一个内核时自动启用，仅作用于生产构建。</li>
<li>pwa: {}, // PWA 插件相关配置</li>
<li>pluginOptions: {} // 第三方插件配置</li>
</ul>
<p><a href="https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-pwa" target="_blank" rel="noopener">很好的pwa插件相关配置</a><br><a href="https://www.cnblogs.com/ypSharing/p/PWA.html" target="_blank" rel="noopener">pwa介绍及使用</a></p>
<h2 id="二、优化"><a href="#二、优化" class="headerlink" title="二、优化"></a>二、优化</h2><h3 id="1、优化打包chunk-vendors-js"><a href="#1、优化打包chunk-vendors-js" class="headerlink" title="1、优化打包chunk-vendors.js"></a>1、优化打包chunk-vendors.js</h3><p>当运行项目并且打包的时候，会发现chunk-vendors.js这个文件非常大，那是因为webpack将所有的依赖全都压缩到了这个文件里面，这时我们可以将其拆分，将所有的依赖都打包成单独的js;</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">利用splitChunks将每个依赖包单独打包，在生产环境下配置，代码如下</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line">configureWebpack: <span class="function">(<span class="params">config</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (process.env.NODE_ENV === <span class="string">'production'</span>) &#123;</span><br><span class="line">      <span class="comment">// 为生产环境修改配置...</span></span><br><span class="line">      config.mode = <span class="string">'production'</span></span><br><span class="line">      <span class="comment">// 将每个依赖包打包成单独的js文件</span></span><br><span class="line">      <span class="keyword">let</span> optimization = &#123;</span><br><span class="line">        runtimeChunk: <span class="string">'single'</span>,</span><br><span class="line">        splitChunks: &#123;</span><br><span class="line">          chunks: <span class="string">'all'</span>,</span><br><span class="line">          maxInitialRequests: <span class="literal">Infinity</span>,</span><br><span class="line">          minSize: <span class="number">20000</span>, <span class="comment">// 依赖包超过20000bit将被单独打包</span></span><br><span class="line">          cacheGroups: &#123;</span><br><span class="line">            vendor: &#123;</span><br><span class="line">              test: <span class="regexp">/[\\/]node_modules[\\/]/</span>,</span><br><span class="line">              name (<span class="built_in">module</span>) &#123;</span><br><span class="line">                <span class="comment">// get the name. E.g. node_modules/packageName/not/this/part.js</span></span><br><span class="line">                <span class="comment">// or node_modules/packageName</span></span><br><span class="line">                <span class="keyword">const</span> packageName = <span class="built_in">module</span>.context.match(<span class="regexp">/[\\/]node_modules[\\/](.*?)([\\/]|$)/</span>)[<span class="number">1</span>]</span><br><span class="line">                <span class="comment">// npm package names are URL-safe, but some servers don't like @ symbols</span></span><br><span class="line">                <span class="keyword">return</span> <span class="string">`npm.<span class="subst">$&#123;packageName.replace(<span class="string">'@'</span>, <span class="string">''</span>)&#125;</span>`</span></span><br><span class="line">              &#125;</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="built_in">Object</span>.assign(config, &#123;</span><br><span class="line">        optimization</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125; </span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<h3 id="2、打包时去除打印信息"><a href="#2、打包时去除打印信息" class="headerlink" title="2、打包时去除打印信息"></a>2、打包时去除打印信息</h3><p>上面已经提到过去掉打印的操作（console、debug）这里详细讲解一下</p>
<ol>
<li><p>首先下载相关插件 uglifyjs-webpack-plugin</p>
<blockquote>
<p>npm i -D uglifyjs-webpack-plugin</p>
</blockquote>
</li>
<li><p>在vue.config.js文件中引入，并在configureWebpack的optimization中添加如下代码</p>
</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> UglifyPlugin = <span class="built_in">require</span>(<span class="string">'uglifyjs-webpack-plugin'</span>)</span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    </span><br><span class="line"> configureWebpack: <span class="function">(<span class="params">config</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (process.env.NODE_ENV === <span class="string">'production'</span>) &#123;</span><br><span class="line">      <span class="comment">// 为生产环境修改配置...</span></span><br><span class="line">      config.mode = <span class="string">'production'</span></span><br><span class="line">      <span class="comment">// 将每个依赖包打包成单独的js文件</span></span><br><span class="line">      <span class="keyword">let</span> optimization = &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/*以下代码适用于uglifyjs-webpack-plugin 2.1.1及以前的版本*/</span></span><br><span class="line">        minimizer: [<span class="keyword">new</span> UglifyPlugin(&#123;</span><br><span class="line">          uglifyOptions: &#123;</span><br><span class="line">            compress: &#123;</span><br><span class="line">              warnings: <span class="literal">false</span>,</span><br><span class="line">              drop_console: <span class="literal">true</span>, <span class="comment">// console</span></span><br><span class="line">              drop_debugger: <span class="literal">false</span>,</span><br><span class="line">              pure_funcs: [<span class="string">'console.log'</span>] <span class="comment">// 移除console</span></span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;)]</span><br><span class="line">        </span><br><span class="line">      &#125;</span><br><span class="line">      <span class="built_in">Object</span>.assign(config, &#123;</span><br><span class="line">        optimization</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">   </span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>新版uglifyjs-webpack-plugin需写成以下方式</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">minimizer:</span> <span class="string">[new</span> <span class="string">UglifyPlugin(&#123;</span></span><br><span class="line">    <span class="attr">uglifyOptions:</span> <span class="string">&#123;</span></span><br><span class="line">        <span class="attr">warnings:</span> <span class="literal">false</span><span class="string">,</span></span><br><span class="line">        <span class="attr">compress:</span> <span class="string">&#123;</span></span><br><span class="line">            <span class="attr">drop_console:</span> <span class="literal">false</span><span class="string">,</span> <span class="string">//</span> <span class="string">console</span></span><br><span class="line">            <span class="attr">drop_debugger:</span> <span class="literal">false</span><span class="string">,</span></span><br><span class="line">            <span class="attr">pure_funcs:</span> <span class="string">['console.log']</span> <span class="string">//</span> <span class="string">移除console</span></span><br><span class="line">        <span class="string">&#125;</span></span><br><span class="line">    <span class="string">&#125;</span></span><br><span class="line"><span class="string">&#125;)]</span></span><br></pre></td></tr></table></figure>

<h3 id="3、开启gizp压缩"><a href="#3、开启gizp压缩" class="headerlink" title="3、开启gizp压缩"></a>3、开启gizp压缩</h3><p>gizp压缩是一种http请求优化方式，通过减少文件体积来提高加载速度。html、js、css文件甚至json数据都可以用它压缩，可以减小60%以上的体积。webpack在打包时可以借助 compression webpack plugin 实现gzip压缩。</p>
<ol>
<li><p>下载 compression webpack plugin</p>
<blockquote>
<p>npm i -D compression-webpack-plugin</p>
</blockquote>
</li>
<li><p>vue.config.js配置</p>
</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> CompressionPlugin = <span class="built_in">require</span>(<span class="string">"compression-webpack-plugin"</span>);</span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line"></span><br><span class="line">  configureWebpack: <span class="function">(<span class="params">config</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (process.env.NODE_ENV === <span class="string">'production'</span>) &#123;</span><br><span class="line">      <span class="comment">// 为生产环境修改配置...</span></span><br><span class="line">      config.mode = <span class="string">'production'</span>;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span>(openGzip)&#123;</span><br><span class="line">        config.plugins = [</span><br><span class="line">          ...config.plugins,</span><br><span class="line">          <span class="keyword">new</span> CompressionPlugin(&#123;</span><br><span class="line">            test:<span class="regexp">/\.js$|\.html$|.\css/</span>, <span class="comment">//匹配文件名</span></span><br><span class="line">            threshold: <span class="number">10240</span>,<span class="comment">//对超过10k的数据压缩</span></span><br><span class="line">            deleteOriginalAssets: <span class="literal">false</span> <span class="comment">//不删除源文件</span></span><br><span class="line">          &#125;)</span><br><span class="line">        ]</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="comment">// 为开发环境修改配置...</span></span><br><span class="line">      config.mode = <span class="string">'development'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol>
<li>package.js 配置</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">"name"</span>: <span class="string">"demo-cli3"</span>,</span><br><span class="line">  <span class="string">"version"</span>: <span class="string">"1.0.0"</span>,</span><br><span class="line">  <span class="string">"openGizp"</span>: <span class="literal">false</span>,</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="4、vue-cli3-图片压缩【image-webpack-loader】使用"><a href="#4、vue-cli3-图片压缩【image-webpack-loader】使用" class="headerlink" title="4、vue-cli3 图片压缩【image-webpack-loader】使用"></a>4、vue-cli3 图片压缩【image-webpack-loader】使用</h3><ol>
<li><p>下载image-webpack-loader</p>
<blockquote>
<p>npm install –save-dev image-webpack-loader</p>
</blockquote>
</li>
<li><p>在vue.config.js中修改相关配置<br>4M的图片使用默认设置压缩成1.4M，自定义的设置可以更小</p>
</li>
</ol>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">module.exports</span> <span class="string">=</span> <span class="string">&#123;</span></span><br><span class="line">  <span class="string">...</span></span><br><span class="line">  <span class="string">//</span> <span class="string">默认设置</span></span><br><span class="line">  <span class="string">const</span> <span class="string">defaultOptions</span> <span class="string">=</span> <span class="string">&#123;</span></span><br><span class="line">      <span class="attr">bypassOnDebug:</span> <span class="literal">true</span></span><br><span class="line">  <span class="string">&#125;</span></span><br><span class="line"> <span class="string">//</span>  <span class="string">自定义设置</span></span><br><span class="line">  <span class="string">const</span> <span class="string">customOptions</span> <span class="string">=</span> <span class="string">&#123;</span></span><br><span class="line">      <span class="attr">mozjpeg:</span> <span class="string">&#123;</span></span><br><span class="line">        <span class="attr">progressive:</span> <span class="literal">true</span><span class="string">,</span></span><br><span class="line">        <span class="attr">quality:</span> <span class="number">50</span></span><br><span class="line">      <span class="string">&#125;,</span></span><br><span class="line">      <span class="attr">optipng:</span> <span class="string">&#123;</span></span><br><span class="line">        <span class="attr">enabled:</span> <span class="literal">true</span><span class="string">,</span></span><br><span class="line">      <span class="string">&#125;,</span></span><br><span class="line">      <span class="attr">pngquant:</span> <span class="string">&#123;</span></span><br><span class="line">        <span class="attr">quality:</span> <span class="string">[0.5,</span> <span class="number">0.65</span><span class="string">],</span></span><br><span class="line">        <span class="attr">speed:</span> <span class="number">4</span></span><br><span class="line">      <span class="string">&#125;,</span></span><br><span class="line">      <span class="attr">gifsicle:</span> <span class="string">&#123;</span></span><br><span class="line">        <span class="attr">interlaced:</span> <span class="literal">false</span><span class="string">,</span></span><br><span class="line">      <span class="string">&#125;,</span></span><br><span class="line">      <span class="string">//</span> <span class="string">不支持WEBP就不要写这一项</span></span><br><span class="line">      <span class="attr">webp:</span> <span class="string">&#123;</span></span><br><span class="line">        <span class="attr">quality:</span> <span class="number">75</span></span><br><span class="line">      <span class="string">&#125;</span></span><br><span class="line">  <span class="string">&#125;</span></span><br><span class="line">  <span class="attr">chainWebpack:</span> <span class="string">config</span> <span class="string">=&gt;</span> <span class="string">&#123;</span></span><br><span class="line"></span><br><span class="line">    <span class="string">config.module.rule('images')</span> </span><br><span class="line">        <span class="string">.test(/\.(gif|png|jpe?g|svg)$/i)</span></span><br><span class="line">        <span class="string">.use('image-webpack-loader')</span></span><br><span class="line">        <span class="string">.loader('image-webpack-loader')</span></span><br><span class="line">        <span class="string">.options(customOptions)</span></span><br><span class="line">        <span class="string">.end()</span> </span><br><span class="line"></span><br><span class="line">  <span class="string">&#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure>

<h3 id="5、移动端-px2rem-响应样式"><a href="#5、移动端-px2rem-响应样式" class="headerlink" title="5、移动端.px2rem 响应样式"></a>5、移动端.px2rem 响应样式</h3><ol>
<li>安装</li>
</ol>
<blockquote>
<p>npm i -S lib-flexible postcss-px2rem</p>
</blockquote>
<ol>
<li>引入 lib-flexible</li>
</ol>
<blockquote>
<p>在项目入口中main.js 中引入lib-flexible</p>
</blockquote>
<figure class="highlight delphi"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">import <span class="string">'lib-flexible'</span> </span><br><span class="line"></span><br><span class="line"># 注意事项: 由于flexible会动态给页面header中添加&lt;meta <span class="keyword">name</span>=<span class="string">'viewport'</span> &gt;标签，所以务必请把目录 <span class="keyword">public</span>/<span class="keyword">index</span>.html 中的这个标签删除！！</span><br></pre></td></tr></table></figure>

<ol>
<li>配置postcss-px2rem</li>
</ol>
<blockquote>
<p>项目中vue.config.js中进行如下的配置</p>
</blockquote>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">module.exports</span> <span class="string">=</span> <span class="string">&#123;</span> </span><br><span class="line">    <span class="attr">css:</span> <span class="string">&#123;</span></span><br><span class="line">        <span class="attr">loaderOptions:</span> <span class="string">&#123;</span> </span><br><span class="line">            <span class="attr">css:</span> <span class="string">&#123;&#125;,</span> </span><br><span class="line">            <span class="attr">postcss:</span> <span class="string">&#123;</span> </span><br><span class="line">                <span class="attr">plugins:</span> <span class="string">[</span> <span class="string">require('postcss-px2rem')(&#123;</span> <span class="attr">remUnit:</span> <span class="number">37.5</span> <span class="string">&#125;)</span> </span><br><span class="line">                <span class="string">]</span> </span><br><span class="line">            <span class="string">&#125;</span> </span><br><span class="line">        <span class="string">&#125;</span> </span><br><span class="line">    <span class="string">&#125;</span> </span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure>

<h2 id="三、多页面应用开发与配置"><a href="#三、多页面应用开发与配置" class="headerlink" title="三、多页面应用开发与配置"></a>三、多页面应用开发与配置</h2><h3 id="搭建项目"><a href="#搭建项目" class="headerlink" title="搭建项目"></a>搭建项目</h3><h4 id="1-创建项目"><a href="#1-创建项目" class="headerlink" title="1. 创建项目"></a>1. 创建项目</h4><p>和我们正常创建项目相同，这里通过vue-cli3脚手架进行创建</p>
<blockquote>
<p>vue create 项目name<br>选择自己需要的依赖并进行下一步</p>
</blockquote>
<h4 id="2-搭建文件结构"><a href="#2-搭建文件结构" class="headerlink" title="2. 搭建文件结构"></a>2. 搭建文件结构</h4><ul>
<li>新建pages存放每个页面相关内容</li>
<li>pages—下创建相关页面存放文件</li>
<li>页面文件内放入main.js 与 router.js</li>
</ul>
<h4 id="3-配置路由"><a href="#3-配置路由" class="headerlink" title="3. 配置路由"></a>3. 配置路由</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></span><br><span class="line"><span class="keyword">import</span> VueRouter <span class="keyword">from</span> <span class="string">'vue-router'</span></span><br><span class="line">Vue.use(VueRouter)</span><br><span class="line"></span><br><span class="line"><span class="comment">// const originalPush = VueRouter.prototype.push</span></span><br><span class="line"><span class="comment">// VueRouter.prototype.push = function push(location) &#123;</span></span><br><span class="line"><span class="comment">//   return originalPush.call(this, location).catch((err) =&gt; err)</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="keyword">const</span> routes = [</span><br><span class="line">    &#123;</span><br><span class="line">        path: <span class="string">'/login'</span>,</span><br><span class="line">        name: <span class="string">'login'</span>,</span><br><span class="line">        component: <span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">import</span>(<span class="string">'./views/index.vue'</span>),</span><br><span class="line">        <span class="comment">// component:()=&gt;import('./reset.vue'),</span></span><br><span class="line">        meta: &#123;</span><br><span class="line">            title: <span class="string">'这里是动态title'</span></span><br><span class="line">        &#125;,</span><br><span class="line">        children: [</span><br><span class="line"></span><br><span class="line">            <span class="comment">/*  </span></span><br><span class="line"><span class="comment">            单页面应用的写法     </span></span><br><span class="line"><span class="comment">            &#123;</span></span><br><span class="line"><span class="comment">                path: 'reset',</span></span><br><span class="line"><span class="comment">                name: 'reset',</span></span><br><span class="line"><span class="comment">                component: () =&gt; import('./reset.vue')</span></span><br><span class="line"><span class="comment">            </span></span><br><span class="line"><span class="comment">            &#125;,</span></span><br><span class="line"><span class="comment">            */</span></span><br><span class="line">           </span><br><span class="line">            <span class="comment">//  ***多页面的写法</span></span><br><span class="line">            &#123;</span><br><span class="line">                path: <span class="string">'editJobs'</span>,</span><br><span class="line">                components: &#123;</span><br><span class="line">                    <span class="string">'editJobs'</span>: <span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">import</span>(<span class="string">'./views/reset.vue'</span>),</span><br><span class="line">                &#125;,</span><br><span class="line">            &#125;,],</span><br><span class="line"></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// &#123;</span></span><br><span class="line">    <span class="comment">//     path: '/',</span></span><br><span class="line">    <span class="comment">//     redirect: '/'</span></span><br><span class="line">    <span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line">]</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> VueRouter(&#123;</span><br><span class="line">    mode: <span class="string">'hash'</span>,</span><br><span class="line">    base: process.env.BASE_URL,</span><br><span class="line">    routes</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h4 id="4-配置vue-config-js"><a href="#4-配置vue-config-js" class="headerlink" title="4. 配置vue.config.js"></a>4. 配置vue.config.js</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 打包多入口文件基本配置</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getPagesInfo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> pages = &#123;&#125;</span><br><span class="line">    <span class="keyword">const</span> glob = <span class="built_in">require</span>(<span class="string">'glob'</span>) <span class="comment">// 引入glob模块,用于扫描全部src/pages/**/main.js（返回的是一个数组）</span></span><br><span class="line">    glob.sync(<span class="string">'src/pages/**/main.js'</span>).forEach(<span class="function">(<span class="params">entry, i</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> name = entry.slice(<span class="number">10</span>, <span class="number">-8</span>)</span><br><span class="line">        pages[name] = &#123;</span><br><span class="line">            entry: entry,</span><br><span class="line">            template: <span class="string">'public.index.html'</span>,</span><br><span class="line">            filename: name + <span class="string">'.html'</span>,</span><br><span class="line">            title: <span class="string">''</span>,</span><br><span class="line">            chunks: [<span class="string">"chunk-vendors"</span>, <span class="string">"chunk-common"</span>, name]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">return</span> pages</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    pages: getPagesInfo(),</span><br><span class="line">    publicPath: <span class="string">'./kk'</span>,</span><br><span class="line">    assetsDir: <span class="string">'static'</span>,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h3 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h3><ul>
<li>必须为hash的</li>
<li>path 路径为/</li>
<li>或者访问路径上加上path<br>例如:<br><a href="http://localhost:8080/login.html#/" target="_blank" rel="noopener">http://localhost:8080/login.html#/</a><br><a href="http://localhost:8080/login.html#/login/" target="_blank" rel="noopener">http://localhost:8080/login.html#/login/</a></li>
</ul>
<h3 id="设置页面动态标题"><a href="#设置页面动态标题" class="headerlink" title="设置页面动态标题"></a>设置页面动态标题</h3><ol>
<li>下载 vue-wechat-title</li>
</ol>
<blockquote>
<p>npm i -S vue-wechat-title</p>
</blockquote>
<ol>
<li>main.js中全局引入</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> VueWechatTitle <span class="keyword">from</span> <span class="string">'vue-wechat-title'</span></span><br><span class="line">Vue.use(VueWechatTitle)</span><br></pre></td></tr></table></figure>

<ol>
<li>App.vue中设置</li>
</ol>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 动态设置title --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span> <span class="attr">v-wechat-title</span>=<span class="string">'$route.meta.title'</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">router-view</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="路由子模块设置"><a href="#路由子模块设置" class="headerlink" title="路由子模块设置"></a>路由子模块设置</h3><ol>
<li>路由配置方法</li>
</ol>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> routes = [</span><br><span class="line">    &#123;</span><br><span class="line">        path: <span class="string">'/login'</span>,</span><br><span class="line">        name: <span class="string">'login'</span>,</span><br><span class="line">        component: () =&gt; <span class="keyword">import</span>(<span class="string">'./views/index.vue'</span>),</span><br><span class="line">        meta: &#123;</span><br><span class="line">            title: <span class="string">'这里是动态title'</span></span><br><span class="line">        &#125;,</span><br><span class="line">        children: [</span><br><span class="line">           </span><br><span class="line">            <span class="comment">//  ***多页面的写法</span></span><br><span class="line">            &#123;</span><br><span class="line">                path: <span class="string">'editJobs'</span>,</span><br><span class="line">                components: &#123;</span><br><span class="line">                    <span class="string">'editJobs'</span>: () =&gt; <span class="keyword">import</span>(<span class="string">'./views/reset.vue'</span>),</span><br><span class="line">                &#125;,</span><br><span class="line">            &#125;,],</span><br><span class="line"></span><br><span class="line">    &#125;,</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<ol>
<li>页面中渲染写法</li>
</ol>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    login</span><br><span class="line">    <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">:to</span>=<span class="string">"&#123; name: 'reset' &#125;"</span> <span class="attr">tag</span>=<span class="string">"li"</span>&gt;</span>我的收藏<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line">    这里的name对应的是route配置里的名字(别忘了地址连里面的path)</span><br><span class="line">    <span class="tag">&lt;<span class="name">router-view</span> <span class="attr">name</span>=<span class="string">"editJobs"</span>&gt;</span>待完善信息<span class="tag">&lt;/<span class="name">router-view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="四、vue-config-js完整代码"><a href="#四、vue-config-js完整代码" class="headerlink" title="四、vue.config.js完整代码"></a>四、vue.config.js完整代码</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 打包多入口文件基本配置</span></span><br><span class="line"><span class="keyword">let</span> developmentPath = <span class="string">'./'</span>;<span class="comment">//开发环境-npm run serve时引用文件路径</span></span><br><span class="line"><span class="keyword">let</span> productionPath = <span class="string">'./'</span>;<span class="comment">//生产环境-npm run build打包后引用文件路径</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> UglifyJsPlugin = <span class="built_in">require</span>(<span class="string">'uglifyjs-webpack-plugin'</span>)<span class="comment">//生产环境取消打印</span></span><br><span class="line"><span class="keyword">const</span> CompressionWebpackPlugin = <span class="built_in">require</span>(<span class="string">'compression-webpack-plugin'</span>)<span class="comment">//gzip压缩</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> productionGzipExtensions = [<span class="string">'js'</span>, <span class="string">'css'</span>]</span><br><span class="line"><span class="keyword">const</span> Version = <span class="string">'V6.1'</span></span><br><span class="line"><span class="keyword">const</span> Timestamp = <span class="keyword">new</span> <span class="built_in">Date</span>().getTime()</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getPagesInfo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> pages = &#123;&#125;</span><br><span class="line">    <span class="keyword">const</span> glob = <span class="built_in">require</span>(<span class="string">'glob'</span>) <span class="comment">// 引入glob模块,用于扫描全部src/pages/**/main.js（返回的是一个数组）</span></span><br><span class="line">    glob.sync(<span class="string">'src/pages/**/main.js'</span>).forEach(<span class="function">(<span class="params">entry, i</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> name = entry.slice(<span class="number">10</span>, <span class="number">-8</span>)</span><br><span class="line">        pages[name] = &#123;</span><br><span class="line">            entry: entry,</span><br><span class="line">            template: <span class="string">'public.index.html'</span>,</span><br><span class="line">            filename: name + <span class="string">'.html'</span>,</span><br><span class="line">            title: <span class="string">''</span>,</span><br><span class="line">            chunks: [<span class="string">"chunk-vendors"</span>, <span class="string">"chunk-common"</span>, name]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">return</span> pages</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 打包相关</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    pages: getPagesInfo(),<span class="comment">//多页面应用配置</span></span><br><span class="line">    publicPath: process.env.NODE_ENV === <span class="string">'production'</span> ? productionPath : developmentPath, <span class="comment">// 基本路径-引用文件的路 __dirname + '/server/dist', //build之后静态文件输出路径</span></span><br><span class="line">    assetsDir: <span class="string">'static'</span>,<span class="comment">//静态资源大包位置</span></span><br><span class="line">    outputDir: __dirname + <span class="string">'/server/dist'</span>, <span class="comment">//build之后静态文件输出路径</span></span><br><span class="line">    lintOnSave: process.env.NODE_ENV !== <span class="string">'production'</span>,<span class="comment">// 打包的时候eslint-loader检查 </span></span><br><span class="line">    productionSourceMap: <span class="literal">false</span>,<span class="comment">//source map 检查</span></span><br><span class="line">    <span class="comment">// 启动服务器</span></span><br><span class="line">    devServer: &#123;</span><br><span class="line">        index: <span class="string">'/login.html'</span>,   <span class="comment">//默认打开文件</span></span><br><span class="line">        open: <span class="literal">true</span>,             <span class="comment">//自动打开浏览器</span></span><br><span class="line">        host: <span class="string">'localhost'</span>,      <span class="comment">//默认打开域名</span></span><br><span class="line">        port: <span class="number">8080</span>,             <span class="comment">//默认打开端口号</span></span><br><span class="line">        https: <span class="literal">false</span>,           <span class="comment">//开启关闭https请求</span></span><br><span class="line">        hotOnly: <span class="literal">false</span>,         <span class="comment">//热更</span></span><br><span class="line">        <span class="comment">// 反向代理</span></span><br><span class="line">        proxy: &#123;</span><br><span class="line">            <span class="comment">// 配置跨域</span></span><br><span class="line">            <span class="string">'/api'</span>: &#123;</span><br><span class="line">                target: <span class="string">'http://dev.aabb.cn:8082/'</span>, <span class="comment">//代理地址，这里设置的地址会代替axios中设置的baseURL</span></span><br><span class="line">                ws: <span class="literal">true</span>,   <span class="comment">//// proxy websockets</span></span><br><span class="line">                changeOrigin: <span class="literal">true</span>,<span class="comment">// 如果接口跨域，需要进行这个参数配置</span></span><br><span class="line">                pathRewrite: &#123;                <span class="comment">//pathRewrite方法重写url</span></span><br><span class="line">                    <span class="string">'^/api'</span>: <span class="string">'/'</span>,</span><br><span class="line">                &#125;,</span><br><span class="line">            &#125;,</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// webpack配置  链式</span></span><br><span class="line">    chainWebpack: <span class="function">(<span class="params">config</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="comment">// 1、取消预加载增加加载速度</span></span><br><span class="line">        config.plugins.delete(<span class="string">'preload'</span>)</span><br><span class="line">        config.plugins.delete(<span class="string">'prefetch'</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2、vue中使用SVG图标，并且想批量导入，然后需要使用的时候直接添加就可以</span></span><br><span class="line">        config.module</span><br><span class="line">            .rule(<span class="string">'svg'</span>)</span><br><span class="line">            .exclude.add(resolve(<span class="string">'src/assets/icons'</span>))</span><br><span class="line">            .end()</span><br><span class="line">        config.module</span><br><span class="line">            .rule(<span class="string">'icons'</span>)</span><br><span class="line">            .test(<span class="regexp">/\.svg$/</span>)</span><br><span class="line">            .include.add(resolve(<span class="string">'src/assets/icons'</span>))</span><br><span class="line">            .end()</span><br><span class="line">            .use(<span class="string">'svg-sprite-loader'</span>)</span><br><span class="line">            .loader(<span class="string">'svg-sprite-loader'</span>)</span><br><span class="line">            .options(&#123;</span><br><span class="line">                symbolId: <span class="string">'icon-[name]'</span>,</span><br><span class="line">            &#125;)</span><br><span class="line">            .end()</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3、图片处理</span></span><br><span class="line">        <span class="keyword">const</span> imagesRule = config.module.rule(<span class="string">'images'</span>)</span><br><span class="line">        imagesRule.uses.clear() <span class="comment">//清除原本的images loader配置</span></span><br><span class="line">        imagesRule</span><br><span class="line">            .test(<span class="regexp">/\.(jpg|gif|png|svg)$/</span>)</span><br><span class="line">            .exclude.add(path.join(__dirname, <span class="string">'../node_modules'</span>)) <span class="comment">//不对node_modules里的图片转base64</span></span><br><span class="line">            .end()</span><br><span class="line">            .use(<span class="string">'url-loader'</span>)</span><br><span class="line">            .loader(<span class="string">'url-loader'</span>)</span><br><span class="line">            .options(&#123; <span class="attr">name</span>: <span class="string">'img/[name].[hash:8].[ext]'</span>, <span class="attr">limit</span>: <span class="number">6000000</span> &#125;)</span><br><span class="line"></span><br><span class="line">        config.optimization.splitChunks(&#123;</span><br><span class="line">            cacheGroups: &#123;</span><br><span class="line"></span><br><span class="line">                vendors: &#123;</span><br><span class="line">                    name: <span class="string">'chunk-vendors'</span>,</span><br><span class="line">                    minChunks: pageNum,</span><br><span class="line">                    test: <span class="regexp">/node_modules/</span>,</span><br><span class="line">                    priority: <span class="number">-10</span>,</span><br><span class="line">                    chunks: <span class="string">'initial'</span>,</span><br><span class="line">                &#125;,</span><br><span class="line"></span><br><span class="line">                elementUI: &#123;</span><br><span class="line">                    name: <span class="string">'chunk-elementUI'</span>, <span class="comment">// split elementUI into a single package</span></span><br><span class="line">                    priority: <span class="number">20</span>, <span class="comment">// the weight needs to be larger than libs and app or it will be packaged into libs or app</span></span><br><span class="line">                    test: <span class="regexp">/[\\/]node_modules[\\/]_?element-ui(.*)/</span>, <span class="comment">// in order to adapt to cnpm</span></span><br><span class="line">                &#125;,</span><br><span class="line"></span><br><span class="line">                commons: &#123;</span><br><span class="line">                    name: <span class="string">'chunk-commons'</span>,</span><br><span class="line">                    test: resolve(<span class="string">'src/components'</span>), <span class="comment">// can customize your rules</span></span><br><span class="line">                    minChunks: <span class="number">3</span>, <span class="comment">//  minimum common number</span></span><br><span class="line">                    priority: <span class="number">5</span>,</span><br><span class="line">                    reuseExistingChunk: <span class="literal">true</span>,</span><br><span class="line">                &#125;,</span><br><span class="line">            &#125;,</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// webpack配置</span></span><br><span class="line">    configureWebpack: <span class="function">(<span class="params">config</span>) =&gt;</span> &#123;</span><br><span class="line">          <span class="comment">// 为生产环境修改配置</span></span><br><span class="line">        <span class="keyword">if</span> (process.env.NODE_ENV === <span class="string">'production'</span>) &#123;</span><br><span class="line">      </span><br><span class="line">            config.plugins.push(</span><br><span class="line">                  <span class="comment">// 1、取消打印</span></span><br><span class="line">                <span class="keyword">new</span> UglifyJsPlugin(&#123;</span><br><span class="line">                    uglifyOptions: &#123;</span><br><span class="line">                        compress: &#123;</span><br><span class="line">                            drop_debugger: <span class="literal">true</span>,<span class="comment">//生产环境自动删除debugger</span></span><br><span class="line">                            drop_console: <span class="literal">true</span>, <span class="comment">//生产环境自动删除console</span></span><br><span class="line">                        &#125;,</span><br><span class="line">                        warnings: <span class="literal">false</span>,</span><br><span class="line">                    &#125;,</span><br><span class="line">                    sourceMap: <span class="literal">false</span>,   <span class="comment">//关掉sourcemap 会生成对于调试的完整的.map文件，但同时也会减慢打包速度</span></span><br><span class="line">                    parallel: <span class="literal">true</span>, <span class="comment">//使用多进程并行运行来提高构建速度。默认并发运行数：os.cpus().length - 1。</span></span><br><span class="line">                &#125;),</span><br><span class="line"></span><br><span class="line">                <span class="comment">// 2、gzip压缩</span></span><br><span class="line">                <span class="keyword">new</span> CompressionWebpackPlugin(&#123;</span><br><span class="line">                    filename: <span class="string">'[path].gz[query]'</span>,</span><br><span class="line">                    algorithm: <span class="string">'gzip'</span>,</span><br><span class="line">                    test: <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">'\\.('</span> + productionGzipExtensions.join(<span class="string">'|'</span>) + <span class="string">')$'</span>),</span><br><span class="line">                    threshold: <span class="number">10240</span>,</span><br><span class="line">                    minRatio: <span class="number">0.8</span>,</span><br><span class="line">                &#125;)</span><br><span class="line">            )</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 在这里配置后，减少了压缩的包内容，需要在public/index.html通过cdn方式再引入,注意对应的版本</span></span><br><span class="line">        config.externals = &#123; </span><br><span class="line">            vue: <span class="string">'Vue'</span>,</span><br><span class="line">            <span class="string">'vue-router'</span>: <span class="string">'VueRouter'</span>,</span><br><span class="line">            vuex: <span class="string">'Vuex'</span>,</span><br><span class="line">            axios: <span class="string">'axios'</span>,</span><br><span class="line">            jquery: <span class="string">'$'</span>,</span><br><span class="line">            moment: <span class="string">'moment'</span>,</span><br><span class="line">            <span class="string">'mint-ui'</span>: <span class="string">'MINT'</span></span><br><span class="line">        &#125;,</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">         <span class="comment">// 别名配置</span></span><br><span class="line">        <span class="built_in">Object</span>.assign(config, &#123;</span><br><span class="line">            <span class="comment">// 开发生产共同配置</span></span><br><span class="line">            resolve: &#123;</span><br><span class="line">                alias: &#123;</span><br><span class="line">                <span class="string">'@'</span>: path.resolve(__dirname, <span class="string">'./src'</span>),</span><br><span class="line">                <span class="string">'@c'</span>: path.resolve(__dirname, <span class="string">'./src/components'</span>),</span><br><span class="line">                <span class="string">'@p'</span>: path.resolve(__dirname, <span class="string">'./src/pages'</span>)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;),</span><br><span class="line"></span><br><span class="line">        config.output.filename = <span class="string">`[name].<span class="subst">$&#123;Version&#125;</span>.<span class="subst">$&#123;Timestamp&#125;</span>.js`</span>  <span class="comment">//打包生成的文件</span></span><br><span class="line">        config.output.chunkFilename = <span class="string">`[name].<span class="subst">$&#123;Version&#125;</span>.<span class="subst">$&#123;Timestamp&#125;</span>.js`</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// css相关</span></span><br><span class="line">    css: &#123;</span><br><span class="line">        loaderOptions: &#123;</span><br><span class="line">            <span class="comment">// 配置全局sass</span></span><br><span class="line">            scss: &#123;</span><br><span class="line">                additionalData: <span class="string">`@import "@/assets/css/reset.scss";@import "@/assets/css/globle.scss";`</span>  <span class="comment">//注意配置的键名</span></span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="comment">// lib-flexible</span></span><br><span class="line">            postcss: &#123;</span><br><span class="line">                plugins: [</span><br><span class="line">                    <span class="comment">//remUnit这个配置项的数值是多少呢？？？ 通常我们是根据设计图来定这个值，原因很简单，便于开发。</span></span><br><span class="line">                    <span class="comment">//假如设计图给的宽度是750，我们通常就会把remUnit设置为75，这样我们写样式时，可以直接按照设计图标注的宽高来1:1还原开发。</span></span><br><span class="line">                    <span class="built_in">require</span>(<span class="string">'postcss-px2rem'</span>)(&#123;</span><br><span class="line">                        remUnit: <span class="number">37.5</span></span><br><span class="line">                    &#125;)</span><br><span class="line">                ]</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    parallel: <span class="built_in">require</span>(<span class="string">'os'</span>).cpus().length &gt; <span class="number">1</span>, <span class="comment">// 是否为 Babel 或 TypeScript 使用 thread-loader。该选项在系统的 CPU 有多于一个内核时自动启用，仅作用于生产构建。</span></span><br><span class="line">    pwa: &#123;&#125;, <span class="comment">// PWA 插件相关配置 </span></span><br><span class="line">    pluginOptions: &#123;&#125;,  <span class="comment">// 第三方插件配置</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2022/08/04/el-table%E8%AF%A6%E8%A7%A3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Dali">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/header.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DaliBlogs">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2022/08/04/el-table%E8%AF%A6%E8%A7%A3/" itemprop="url">el-table详解</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2022-08-04T10:15:29+08:00">
                2022-08-04
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>数据源</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">tableData: [&#123;</span><br><span class="line">        date: &#39;2016-05-02&#39;,</span><br><span class="line">        name: &#39;王小虎&#39;,</span><br><span class="line">        address: &#39;上海市普陀区金沙江路 1518 弄&#39;</span><br><span class="line">    &#125;, &#123;</span><br><span class="line">        date: &#39;2016-05-04&#39;,</span><br><span class="line">        name: &#39;王小虎&#39;,</span><br><span class="line">        address: &#39;上海市普陀区金沙江路 1517 弄&#39;</span><br><span class="line">    &#125;, &#123;</span><br><span class="line">        date: &#39;2016-05-01&#39;,</span><br><span class="line">        name: &#39;王小虎&#39;,</span><br><span class="line">        address: &#39;上海市普陀区金沙江路 1519 弄&#39;</span><br><span class="line">    &#125;, &#123;</span><br><span class="line">        date: &#39;2016-05-03&#39;,</span><br><span class="line">        name: &#39;王小虎&#39;,</span><br><span class="line">        address: &#39;上海市普陀区金沙江路 1516 弄&#39;</span><br><span class="line">&#125;]</span><br></pre></td></tr></table></figure>

<h2 id="最基础版表格"><a href="#最基础版表格" class="headerlink" title="最基础版表格"></a>最基础版表格</h2><p>prop：接口字段</p>
<p>label：列名称</p>
<p>width：列宽</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-table :data&#x3D;&quot;tableData&quot; style&#x3D;&quot;width: 100%&quot;&gt;</span><br><span class="line">    &lt;el-table-column prop&#x3D;&quot;date&quot; label&#x3D;&quot;日期&quot; width&#x3D;&quot;180&quot;&gt;</span><br><span class="line">    &lt;&#x2F;el-table-column&gt;</span><br><span class="line">    &lt;el-table-column prop&#x3D;&quot;name&quot; label&#x3D;&quot;姓名&quot; width&#x3D;&quot;180&quot;&gt;</span><br><span class="line">    &lt;&#x2F;el-table-column&gt;</span><br><span class="line">    &lt;el-table-column prop&#x3D;&quot;address&quot; label&#x3D;&quot;地址&quot;&gt;</span><br><span class="line">    &lt;&#x2F;el-table-column&gt;</span><br><span class="line">&lt;&#x2F;el-table&gt;</span><br></pre></td></tr></table></figure>

<h2 id="样式处理"><a href="#样式处理" class="headerlink" title="样式处理"></a>样式处理</h2><h3 id="居中"><a href="#居中" class="headerlink" title="居中"></a>居中</h3><h4 id="统一设置所有表头居中"><a href="#统一设置所有表头居中" class="headerlink" title="统一设置所有表头居中"></a>统一设置所有表头居中</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-table :header-cell-style&#x3D;&quot;&#123;&#39;text-align&#39;:&#39;center&#39;&#125;&quot;&gt;</span><br></pre></td></tr></table></figure>

<h4 id="某一列的表头居中"><a href="#某一列的表头居中" class="headerlink" title="某一列的表头居中"></a>某一列的表头居中</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-table-column label&#x3D;&quot;Date&quot; prop&#x3D;&quot;date&quot; header-align&#x3D;&quot;center&quot;&gt;&lt;&#x2F;el-table-column&gt;</span><br></pre></td></tr></table></figure>

<h4 id="某一列除表头以外的内容都居中"><a href="#某一列除表头以外的内容都居中" class="headerlink" title="某一列除表头以外的内容都居中"></a>某一列除表头以外的内容都居中</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-table-column label&#x3D;&quot;Date&quot; prop&#x3D;&quot;date&quot; align&#x3D;&quot;center&quot;&gt;&lt;&#x2F;el-table-column&gt;</span><br></pre></td></tr></table></figure>

<h3 id="斑马纹-stripe"><a href="#斑马纹-stripe" class="headerlink" title="斑马纹(stripe)"></a>斑马纹(stripe)</h3><p><code>stripe</code>属性可以创建带斑马纹的表格。它接受一个<code>Boolean</code>，默认为<code>false</code>，设置为<code>true</code>即为启用。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-table :data&#x3D;&quot;tableData&quot; stripe style&#x3D;&quot;width: 100%&quot;&gt; 或</span><br><span class="line">&lt;el-table :data&#x3D;&quot;tableData&quot; :stripe&#x3D;&quot;true&quot; style&#x3D;&quot;width: 100%&quot;&gt;</span><br></pre></td></tr></table></figure>

<h3 id="带边框-border"><a href="#带边框-border" class="headerlink" title="带边框(border)"></a>带边框(border)</h3><p>默认情况下，Table 组件是不具有竖直方向的边框的，如果需要，可以使用<code>border</code>属性，它接受一个<code>Boolean</code>，设置为<code>true</code>即可启用。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-table :data&#x3D;&quot;tableData&quot; border style&#x3D;&quot;width: 100%&quot;&gt; 或</span><br><span class="line">&lt;el-table :data&#x3D;&quot;tableData&quot; :border&#x3D;&quot;true&quot; style&#x3D;&quot;width: 100%&quot;&gt;</span><br></pre></td></tr></table></figure>

<h3 id="每一行带不同状态表格-row-class-name-gt-success-warning"><a href="#每一行带不同状态表格-row-class-name-gt-success-warning" class="headerlink" title="每一行带不同状态表格(row-class-name =&gt; success,warning)"></a>每一行带不同状态表格(row-class-name =&gt; success,warning)</h3><p>解释：可将表格内容 highlight 显示，方便区分「成功、信息、警告、危险」等内容。</p>
<p>方法：可以通过指定 Table 组件的 <code>row-class-name</code> 属性来为 Table 中的某一行添加 class，表明该行处于某种状态。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-table :data&#x3D;&quot;tableData&quot; :row-class-name&#x3D;&quot;tableRowClassName&quot; style&#x3D;&quot;width: 100%&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">  .el-table .warning-row &#123;</span><br><span class="line">    background: oldlace;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  .el-table .success-row &#123;</span><br><span class="line">    background: #f0f9eb;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br><span class="line"></span><br><span class="line">methods: &#123;</span><br><span class="line">    tableRowClassName(&#123;row, rowIndex&#125;) &#123;</span><br><span class="line">    if (rowIndex &#x3D;&#x3D;&#x3D; 1) &#123;</span><br><span class="line">    	return &#39;warning-row&#39;;</span><br><span class="line">    &#125; else if (rowIndex &#x3D;&#x3D;&#x3D; 3) &#123;</span><br><span class="line">    	return &#39;success-row&#39;;</span><br><span class="line">    &#125;</span><br><span class="line">    return &#39;&#39;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<h3 id="修改某一个列表头的颜色-label-class-name"><a href="#修改某一个列表头的颜色-label-class-name" class="headerlink" title="修改某一个列表头的颜色(label-class-name)"></a>修改某一个列表头的颜色(label-class-name)</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-table-column</span><br><span class="line">  prop&#x3D;&quot;name&quot;</span><br><span class="line">  label&#x3D;&quot;姓名&quot;</span><br><span class="line">  width&#x3D;&quot;180&quot;</span><br><span class="line">  header-align&#x3D;&quot;center&quot;</span><br><span class="line">  align&#x3D;&quot;center&quot;</span><br><span class="line">  label-class-name&#x3D;&quot;changeLabelClass&quot;</span><br><span class="line">&gt;&lt;&#x2F;el-table-column&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang&#x3D;&quot;scss&quot;&gt;</span><br><span class="line">.table-row-report &#123;</span><br><span class="line">  height: 80px;</span><br><span class="line">  color: #000;</span><br><span class="line">  font-weight: 600;</span><br><span class="line">  th &#123;</span><br><span class="line">    background-color: #fff !important;</span><br><span class="line">    &amp;:nth-child(2n) &#123;</span><br><span class="line">      background-color: #ddd !important;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  th.changeLabelClass &#123;</span><br><span class="line">    background: cadetblue !important;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<p><img src="https://img-blog.csdnimg.cn/8415d4ee6d354330894dc68eb84bb568.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA54mb5YWI5qOu5a6255qE54mb5aW2,size_19,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
<h2 id="功能处理"><a href="#功能处理" class="headerlink" title="功能处理"></a>功能处理</h2><h3 id="对后端返回数据额外处理的两种方式-formatter-template"><a href="#对后端返回数据额外处理的两种方式-formatter-template" class="headerlink" title="对后端返回数据额外处理的两种方式(formatter/template)"></a>对后端返回数据额外处理的两种方式(formatter/template)</h3><h4 id="formatter"><a href="#formatter" class="headerlink" title="formatter"></a>formatter</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-table-column prop&#x3D;&quot;address&quot; label&#x3D;&quot;地址&quot; :formatter&#x3D;&quot;formatter&quot;&gt;&lt;&#x2F;el-table-column&gt;</span><br><span class="line">        </span><br><span class="line"> methods: &#123;</span><br><span class="line">        formatter(row, column) &#123;</span><br><span class="line">            return row.address + &#39;12121&#39;;</span><br><span class="line">        &#125;,</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<h4 id="template"><a href="#template" class="headerlink" title="template"></a>template</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-table-column prop&#x3D;&quot;address&quot; label&#x3D;&quot;地址&quot;&gt;</span><br><span class="line">    &lt;template slot-scope&#x3D;&quot;scope&quot;&gt;</span><br><span class="line">    	&#123;&#123;scope.row.address + &#39;12121&#39;&#125;&#125;</span><br><span class="line">    &lt;&#x2F;template&gt;</span><br><span class="line">&lt;&#x2F;el-table-column&gt;</span><br></pre></td></tr></table></figure>



<h3 id="show-overflow-tooltip和tooltip-effect"><a href="#show-overflow-tooltip和tooltip-effect" class="headerlink" title="show-overflow-tooltip和tooltip-effect"></a>show-overflow-tooltip和tooltip-effect</h3><p>默认情况下若内容过多会折行显示，若需要单行显示可以使用<code>show-overflow-tooltip</code>属性，它接受一个<code>Boolean</code>，为<code>true</code>时多余的内容会在 hover 时以 tooltip 的形式显示出来</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-table-column prop&#x3D;&quot;address&quot; label&#x3D;&quot;地址&quot; show-overflow-tooltip&gt;&lt;&#x2F;el-table-column&gt;</span><br></pre></td></tr></table></figure>

<p>tooltip-effect有dark/light两个值，控制tooltip背景与字体的颜色</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-table :data&#x3D;&quot;tableData&quot; tooltip-effect&#x3D;&quot;dark&quot; tyle&#x3D;&quot;width: 100%&quot;&gt;</span><br></pre></td></tr></table></figure>

<h3 id="增加索引列-type-”index”-默认从1开始"><a href="#增加索引列-type-”index”-默认从1开始" class="headerlink" title="增加索引列(type=”index”,默认从1开始)"></a>增加索引列(type=”index”,默认从1开始)</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-table-column type&#x3D;&quot;index&quot; width&#x3D;&quot;150&quot;&gt;&lt;&#x2F;el-table-column&gt;</span><br></pre></td></tr></table></figure>

<p>通过给 <code>type=index</code> 的列传入 <code>index</code> 属性，可以自定义索引。该属性传入数字时，将作为索引的起始值。也可以传入一个方法，它提供当前行的行号（从 <code>0</code> 开始）作为参数，返回值将作为索引展示。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-table-column type&#x3D;&quot;index&quot; :index&#x3D;&quot;indexMethod&quot;&gt;&lt;&#x2F;el-table-column&gt;</span><br><span class="line"></span><br><span class="line">methods: &#123;</span><br><span class="line">      indexMethod(index) &#123;</span><br><span class="line">        return index * 2;</span><br><span class="line">      &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="固定表头-height"><a href="#固定表头-height" class="headerlink" title="固定表头(height)"></a>固定表头(height)</h3><p>只要在<code>el-table</code>元素中定义了<code>height</code>属性，即可实现固定表头的表格，而不需要额外的代码。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-table :data&#x3D;&quot;tableData&quot; height&#x3D;&quot;250&quot; style&#x3D;&quot;width: 100%&quot;&gt;</span><br></pre></td></tr></table></figure>

<h3 id="固定列-fixed"><a href="#固定列-fixed" class="headerlink" title="固定列(fixed)"></a>固定列(<code>fixed</code>)</h3><p>横向内容过多时，可选择固定列。固定列需要使用<code>fixed</code>属性，它接受 Boolean 值或者<code>left``right</code>，表示左边固定还是右边固定。</p>
<p>fixed为默认值是true的时候用的是left值</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-table :data&#x3D;&quot;tableData&quot; style&#x3D;&quot;width: 100%&quot;&gt;</span><br><span class="line">    &lt;el-table-column fixed prop&#x3D;&quot;date&quot; label&#x3D;&quot;日期&quot; width&#x3D;&quot;150&quot;&gt;</span><br><span class="line">    &lt;&#x2F;el-table-column&gt;</span><br><span class="line">    &lt;el-table-column prop&#x3D;&quot;name&quot; label&#x3D;&quot;姓名&quot; width&#x3D;&quot;120&quot;&gt;</span><br><span class="line">    &lt;&#x2F;el-table-column&gt;</span><br><span class="line">    &lt;el-table-column fixed&#x3D;&quot;right&quot; prop&#x3D;&quot;province&quot; label&#x3D;&quot;省份&quot; width&#x3D;&quot;120&quot;&gt;</span><br><span class="line">    &lt;&#x2F;el-table-column&gt;</span><br><span class="line">&lt;&#x2F;el-table&gt;</span><br></pre></td></tr></table></figure>

<h3 id="多级表头-嵌套el-table-column"><a href="#多级表头-嵌套el-table-column" class="headerlink" title="多级表头(嵌套el-table-column)"></a>多级表头(嵌套el-table-column)</h3><p>只需要在 el-table-column 里面嵌套 el-table-column，就可以实现多级表头。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-table :data&#x3D;&quot;tableData&quot; style&#x3D;&quot;width: 100%&quot;&gt;</span><br><span class="line">        &lt;el-table-column prop&#x3D;&quot;date&quot; label&#x3D;&quot;日期&quot; width&#x3D;&quot;150&quot;&gt;</span><br><span class="line">        &lt;&#x2F;el-table-column&gt;</span><br><span class="line">        &lt;el-table-column label&#x3D;&quot;配送信息&quot;&gt;</span><br><span class="line">            &lt;el-table-column prop&#x3D;&quot;name&quot; label&#x3D;&quot;姓名&quot; width&#x3D;&quot;120&quot;&gt;</span><br><span class="line">            &lt;&#x2F;el-table-column&gt;</span><br><span class="line">            &lt;el-table-column label&#x3D;&quot;地址&quot;&gt;</span><br><span class="line">                &lt;el-table-column prop&#x3D;&quot;province&quot; label&#x3D;&quot;省份&quot; width&#x3D;&quot;120&quot;&gt;</span><br><span class="line">                &lt;&#x2F;el-table-column&gt;</span><br><span class="line">                &lt;el-table-column prop&#x3D;&quot;city&quot; label&#x3D;&quot;市区&quot; width&#x3D;&quot;120&quot;&gt;</span><br><span class="line">                &lt;&#x2F;el-table-column&gt;</span><br><span class="line">                &lt;el-table-column prop&#x3D;&quot;address&quot; label&#x3D;&quot;地址&quot; width&#x3D;&quot;300&quot;&gt;</span><br><span class="line">                &lt;&#x2F;el-table-column&gt;</span><br><span class="line">                &lt;el-table-column prop&#x3D;&quot;zip&quot; label&#x3D;&quot;邮编&quot; width&#x3D;&quot;120&quot;&gt;</span><br><span class="line">                &lt;&#x2F;el-table-column&gt;</span><br><span class="line">            &lt;&#x2F;el-table-column&gt;</span><br><span class="line">        &lt;&#x2F;el-table-column&gt;</span><br><span class="line">&lt;&#x2F;el-table&gt;</span><br></pre></td></tr></table></figure>

<h3 id="单选-选中某一行，取消选择某一行"><a href="#单选-选中某一行，取消选择某一行" class="headerlink" title="单选,选中某一行，取消选择某一行"></a>单选,选中某一行，取消选择某一行</h3><p>Table 组件提供了单选的支持，只需要配置<code>highlight-current-row</code>属性即可实现单选。之后由<code>current-change</code>事件来管理选中时触发的事件，它会传入<code>currentRow</code>，<code>oldCurrentRow</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-table</span><br><span class="line">    ref&#x3D;&quot;singleTable&quot;</span><br><span class="line">    :data&#x3D;&quot;tableData&quot;</span><br><span class="line">    highlight-current-row</span><br><span class="line">    @current-change&#x3D;&quot;handleCurrentChange&quot;</span><br><span class="line">    style&#x3D;&quot;width: 100%&quot;&gt;</span><br><span class="line">&lt;&#x2F;el-table&gt;</span><br><span class="line"></span><br><span class="line">&lt;div style&#x3D;&quot;margin-top: 20px&quot;&gt;</span><br><span class="line">    &lt;el-button @click&#x3D;&quot;setCurrent(tableData[1])&quot;&gt;选中第二行&lt;&#x2F;el-button&gt;</span><br><span class="line">    &lt;el-button @click&#x3D;&quot;setCurrent()&quot;&gt;取消选择&lt;&#x2F;el-button&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">methods: &#123;</span><br><span class="line">      setCurrent(row) &#123;</span><br><span class="line">        this.$refs.singleTable.setCurrentRow(row);</span><br><span class="line">      &#125;,</span><br><span class="line">      handleCurrentChange(val) &#123;</span><br><span class="line">        this.currentRow &#x3D; val;</span><br><span class="line">      &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="多选-选中某些行，取消选择某些行-选择多行数据时使用-Checkbox"><a href="#多选-选中某些行，取消选择某些行-选择多行数据时使用-Checkbox" class="headerlink" title="多选,选中某些行，取消选择某些行(选择多行数据时使用 Checkbox)"></a>多选,选中某些行，取消选择某些行(选择多行数据时使用 Checkbox)</h3><p>实现多选非常简单: 手动添加一个<code>el-table-column</code>，设<code>type</code>属性为<code>selection</code>即可，之后由<code>selection-change</code>事件来管理选中时触发的事件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"> &lt;el-table</span><br><span class="line">    ref&#x3D;&quot;multipleTable&quot;</span><br><span class="line">    :data&#x3D;&quot;tableData&quot;</span><br><span class="line">    tooltip-effect&#x3D;&quot;dark&quot;</span><br><span class="line">    style&#x3D;&quot;width: 100%&quot;</span><br><span class="line">    @selection-change&#x3D;&quot;handleSelectionChange&quot;&gt;</span><br><span class="line">	&lt;el-table-column type&#x3D;&quot;selection&quot; width&#x3D;&quot;55&quot;&gt;&lt;&#x2F;el-table-column&gt;</span><br><span class="line">&lt;&#x2F;el-table&gt;</span><br><span class="line">&lt;div style&#x3D;&quot;margin-top: 20px&quot;&gt;</span><br><span class="line">    &lt;el-button @click&#x3D;&quot;toggleSelection([tableData[1], tableData[2]])&quot;&gt;切换第二、第三行的选中状态&lt;&#x2F;el-button&gt;</span><br><span class="line">    &lt;el-button @click&#x3D;&quot;toggleSelection()&quot;&gt;取消选择&lt;&#x2F;el-button&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line"></span><br><span class="line"> methods: &#123;</span><br><span class="line">      toggleSelection(rows) &#123;</span><br><span class="line">        if (rows) &#123;</span><br><span class="line">          rows.forEach(row &#x3D;&gt; &#123;</span><br><span class="line">            this.$refs.multipleTable.toggleRowSelection(row);</span><br><span class="line">          &#125;);</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">          this.$refs.multipleTable.clearSelection();</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      handleSelectionChange(val) &#123;</span><br><span class="line">        this.multipleSelection &#x3D; val;</span><br><span class="line">      &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="排序-根据表格的日期，中文姓名排序"><a href="#排序-根据表格的日期，中文姓名排序" class="headerlink" title="排序(根据表格的日期，中文姓名排序)"></a>排序(根据表格的日期，中文姓名排序)</h3><p>对表格进行排序，可快速查找或对比数据</p>
<p>在列中设置<code>sortable</code>属性即可实现以该列为基准的排序，接受一个<code>Boolean</code>，默认为<code>false</code>。可以通过 Table 的<code>default-sort</code>属性设置默认的排序列和排序顺序。可以使用<code>sort-method</code>或者<code>sort-by</code>使用自定义的排序规则。如果需要后端排序，需将<code>sortable</code>设置为<code>custom</code>，同时在 Table 上监听<code>sort-change</code>事件，在事件回调中可以获取当前排序的字段名和排序顺序，从而向接口请求排序后的表格数据。</p>
<p><code>default-sort</code>=&gt; 默认的排序列的 prop 和顺序。它的<code>prop</code>属性指定默认的排序的列，<code>order</code>指定默认排序的顺序</p>
<p><code>order</code>有两个值，ascending=&gt;升序, descending=&gt;降序</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-table</span><br><span class="line">    :data&#x3D;&quot;tableData&quot;</span><br><span class="line">    style&#x3D;&quot;width: 100%&quot;</span><br><span class="line">    :default-sort &#x3D; &quot;&#123;prop: &#39;date&#39;, order: &#39;descending&#39;&#125;&quot;</span><br><span class="line">    &gt;</span><br><span class="line">    &lt;el-table-column</span><br><span class="line">      prop&#x3D;&quot;date&quot;</span><br><span class="line">      label&#x3D;&quot;日期&quot;</span><br><span class="line">      sortable</span><br><span class="line">      width&#x3D;&quot;180&quot;&gt;</span><br><span class="line">    &lt;&#x2F;el-table-column&gt;</span><br><span class="line">  &lt;&#x2F;el-table&gt;</span><br></pre></td></tr></table></figure>

<h3 id="筛选"><a href="#筛选" class="headerlink" title="筛选"></a>筛选</h3><p>对表格进行筛选，可快速查找到自己想看的数据。</p>
<p>在列中设置<code>filters``filter-method</code>属性即可开启该列的筛选，filters 是一个数组，<code>filter-method</code>是一个方法，它用于决定某些数据是否显示，会传入三个参数：<code>value</code>, <code>row</code> 和 <code>column</code>。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-button @click&#x3D;&quot;resetDateFilter&quot;&gt;清除日期过滤器&lt;&#x2F;el-button&gt;</span><br><span class="line">  &lt;el-button @click&#x3D;&quot;clearFilter&quot;&gt;清除所有过滤器&lt;&#x2F;el-button&gt;</span><br><span class="line">  &lt;el-table</span><br><span class="line">    ref&#x3D;&quot;filterTable&quot;</span><br><span class="line">    :data&#x3D;&quot;tableData&quot;</span><br><span class="line">    style&#x3D;&quot;width: 100%&quot;&gt;</span><br><span class="line">    &lt;el-table-column</span><br><span class="line">      prop&#x3D;&quot;date&quot;</span><br><span class="line">      label&#x3D;&quot;日期&quot;</span><br><span class="line">      sortable</span><br><span class="line">      width&#x3D;&quot;180&quot;</span><br><span class="line">      column-key&#x3D;&quot;date&quot;</span><br><span class="line">      :filters&#x3D;&quot;[&#123;text: &#39;2016-05-01&#39;, value: &#39;2016-05-01&#39;&#125;, &#123;text: &#39;2016-05-02&#39;, value: &#39;2016-05-02&#39;&#125;, &#123;text: &#39;2016-05-03&#39;, value: &#39;2016-05-03&#39;&#125;, &#123;text: &#39;2016-05-04&#39;, value: &#39;2016-05-04&#39;&#125;]&quot;</span><br><span class="line">      :filter-method&#x3D;&quot;filterHandler&quot;</span><br><span class="line">    &gt;</span><br><span class="line">    &lt;&#x2F;el-table-column&gt;</span><br><span class="line">    &lt;el-table-column</span><br><span class="line">      prop&#x3D;&quot;name&quot;</span><br><span class="line">      label&#x3D;&quot;姓名&quot;</span><br><span class="line">      width&#x3D;&quot;180&quot;&gt;</span><br><span class="line">    &lt;&#x2F;el-table-column&gt;</span><br><span class="line">    &lt;el-table-column</span><br><span class="line">      prop&#x3D;&quot;address&quot;</span><br><span class="line">      label&#x3D;&quot;地址&quot;</span><br><span class="line">      :formatter&#x3D;&quot;formatter&quot;&gt;</span><br><span class="line">    &lt;&#x2F;el-table-column&gt;</span><br><span class="line">    &lt;el-table-column</span><br><span class="line">      prop&#x3D;&quot;tag&quot;</span><br><span class="line">      label&#x3D;&quot;标签&quot;</span><br><span class="line">      width&#x3D;&quot;100&quot;</span><br><span class="line">      :filters&#x3D;&quot;[&#123; text: &#39;家&#39;, value: &#39;家&#39; &#125;, &#123; text: &#39;公司&#39;, value: &#39;公司&#39; &#125;]&quot;</span><br><span class="line">      :filter-method&#x3D;&quot;filterTag&quot;</span><br><span class="line">      filter-placement&#x3D;&quot;bottom-end&quot;&gt;</span><br><span class="line">      &lt;template slot-scope&#x3D;&quot;scope&quot;&gt;</span><br><span class="line">        &lt;el-tag</span><br><span class="line">          :type&#x3D;&quot;scope.row.tag &#x3D;&#x3D;&#x3D; &#39;家&#39; ? &#39;primary&#39; : &#39;success&#39;&quot;</span><br><span class="line">          disable-transitions&gt;&#123;&#123;scope.row.tag&#125;&#125;&lt;&#x2F;el-tag&gt;</span><br><span class="line">      &lt;&#x2F;template&gt;</span><br><span class="line">    &lt;&#x2F;el-table-column&gt;</span><br><span class="line">  &lt;&#x2F;el-table&gt;</span><br><span class="line">  </span><br><span class="line">  methods: &#123;</span><br><span class="line">      resetDateFilter() &#123;</span><br><span class="line">        this.$refs.filterTable.clearFilter(&#39;date&#39;);</span><br><span class="line">      &#125;,</span><br><span class="line">      clearFilter() &#123;</span><br><span class="line">        this.$refs.filterTable.clearFilter();</span><br><span class="line">      &#125;,</span><br><span class="line">      formatter(row, column) &#123;</span><br><span class="line">        return row.address;</span><br><span class="line">      &#125;,</span><br><span class="line">      filterTag(value, row) &#123;</span><br><span class="line">        return row.tag &#x3D;&#x3D;&#x3D; value;</span><br><span class="line">      &#125;,</span><br><span class="line">      filterHandler(value, row, column) &#123;</span><br><span class="line">        const property &#x3D; column[&#39;property&#39;];</span><br><span class="line">        return row[property] &#x3D;&#x3D;&#x3D; value;</span><br><span class="line">      &#125;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<h3 id="展开行"><a href="#展开行" class="headerlink" title="展开行"></a>展开行</h3><p>当行内容过多并且不想显示横向滚动条时，可以使用 Table 展开行功能</p>
<p>通过设置 type=”expand” 和 <code>Scoped slot</code> 可以开启展开行功能，<code>el-table-column</code> 的模板会被渲染成为展开行的内容，展开行可访问的属性与使用自定义列模板时的 <code>Scoped slot</code> 相同。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-table</span><br><span class="line">    :data&#x3D;&quot;tableData&quot;</span><br><span class="line">    style&#x3D;&quot;width: 100%&quot;&gt;</span><br><span class="line">    &lt;el-table-column type&#x3D;&quot;expand&quot;&gt;</span><br><span class="line">      &lt;template slot-scope&#x3D;&quot;props&quot;&gt;</span><br><span class="line">        &lt;el-form label-position&#x3D;&quot;left&quot; inline class&#x3D;&quot;demo-table-expand&quot;&gt;</span><br><span class="line">          &lt;el-form-item label&#x3D;&quot;商品名称&quot;&gt;</span><br><span class="line">            &lt;span&gt;&#123;&#123; props.row.name &#125;&#125;&lt;&#x2F;span&gt;</span><br><span class="line">          &lt;&#x2F;el-form-item&gt;</span><br><span class="line">          &lt;el-form-item label&#x3D;&quot;所属店铺&quot;&gt;</span><br><span class="line">            &lt;span&gt;&#123;&#123; props.row.shop &#125;&#125;&lt;&#x2F;span&gt;</span><br><span class="line">          &lt;&#x2F;el-form-item&gt;</span><br><span class="line">          &lt;el-form-item label&#x3D;&quot;商品 ID&quot;&gt;</span><br><span class="line">            &lt;span&gt;&#123;&#123; props.row.id &#125;&#125;&lt;&#x2F;span&gt;</span><br><span class="line">          &lt;&#x2F;el-form-item&gt;</span><br><span class="line">          &lt;el-form-item label&#x3D;&quot;店铺 ID&quot;&gt;</span><br><span class="line">            &lt;span&gt;&#123;&#123; props.row.shopId &#125;&#125;&lt;&#x2F;span&gt;</span><br><span class="line">          &lt;&#x2F;el-form-item&gt;</span><br><span class="line">          &lt;el-form-item label&#x3D;&quot;商品分类&quot;&gt;</span><br><span class="line">            &lt;span&gt;&#123;&#123; props.row.category &#125;&#125;&lt;&#x2F;span&gt;</span><br><span class="line">          &lt;&#x2F;el-form-item&gt;</span><br><span class="line">          &lt;el-form-item label&#x3D;&quot;店铺地址&quot;&gt;</span><br><span class="line">            &lt;span&gt;&#123;&#123; props.row.address &#125;&#125;&lt;&#x2F;span&gt;</span><br><span class="line">          &lt;&#x2F;el-form-item&gt;</span><br><span class="line">          &lt;el-form-item label&#x3D;&quot;商品描述&quot;&gt;</span><br><span class="line">            &lt;span&gt;&#123;&#123; props.row.desc &#125;&#125;&lt;&#x2F;span&gt;</span><br><span class="line">          &lt;&#x2F;el-form-item&gt;</span><br><span class="line">        &lt;&#x2F;el-form&gt;</span><br><span class="line">      &lt;&#x2F;template&gt;</span><br><span class="line">    &lt;&#x2F;el-table-column&gt;</span><br><span class="line">    &lt;el-table-column</span><br><span class="line">      label&#x3D;&quot;商品 ID&quot;</span><br><span class="line">      prop&#x3D;&quot;id&quot;&gt;</span><br><span class="line">    &lt;&#x2F;el-table-column&gt;</span><br><span class="line">    &lt;el-table-column</span><br><span class="line">      label&#x3D;&quot;商品名称&quot;</span><br><span class="line">      prop&#x3D;&quot;name&quot;&gt;</span><br><span class="line">    &lt;&#x2F;el-table-column&gt;</span><br><span class="line">    &lt;el-table-column</span><br><span class="line">      label&#x3D;&quot;描述&quot;</span><br><span class="line">      prop&#x3D;&quot;desc&quot;&gt;</span><br><span class="line">    &lt;&#x2F;el-table-column&gt;</span><br><span class="line">  &lt;&#x2F;el-table&gt;</span><br></pre></td></tr></table></figure>

<h3 id="树形数据与懒加载"><a href="#树形数据与懒加载" class="headerlink" title="树形数据与懒加载"></a>树形数据与懒加载</h3><p>支持树类型的数据的显示。当 row 中包含 <code>children</code> 字段时，被视为树形数据。渲染树形数据时，必须要指定 <code>row-key</code>。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-table</span><br><span class="line">    :data&#x3D;&quot;tableData&quot;</span><br><span class="line">    style&#x3D;&quot;width: 100%;margin-bottom: 20px;&quot;</span><br><span class="line">    row-key&#x3D;&quot;id&quot;</span><br><span class="line">    border</span><br><span class="line">    default-expand-all  &#x2F;&#x2F;默认展开所有</span><br><span class="line">    :tree-props&#x3D;&quot;&#123;children: &#39;children&#39;&#125;&quot;&gt;</span><br><span class="line">    &lt;el-table-column</span><br><span class="line">      prop&#x3D;&quot;date&quot;</span><br><span class="line">      label&#x3D;&quot;日期&quot;</span><br><span class="line">      sortable</span><br><span class="line">      width&#x3D;&quot;180&quot;&gt;</span><br><span class="line">    &lt;&#x2F;el-table-column&gt;</span><br><span class="line">    &lt;el-table-column</span><br><span class="line">      prop&#x3D;&quot;name&quot;</span><br><span class="line">      label&#x3D;&quot;姓名&quot;</span><br><span class="line">      sortable</span><br><span class="line">      width&#x3D;&quot;180&quot;&gt;</span><br><span class="line">    &lt;&#x2F;el-table-column&gt;</span><br><span class="line">    &lt;el-table-column</span><br><span class="line">      prop&#x3D;&quot;address&quot;</span><br><span class="line">      label&#x3D;&quot;地址&quot;&gt;</span><br><span class="line">    &lt;&#x2F;el-table-column&gt;</span><br><span class="line">  &lt;&#x2F;el-table&gt;</span><br></pre></td></tr></table></figure>

<p>支持子节点数据异步加载。设置 Table 的 <code>lazy</code> 属性为 true 与加载函数 <code>load</code> 。通过指定 row 中的 <code>hasChildren</code> 字段来指定哪些行是包含子节点。<code>children</code> 与 <code>hasChildren</code> 都可以通过 <code>tree-props</code> 配置。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-table</span><br><span class="line">    :data&#x3D;&quot;tableData1&quot;</span><br><span class="line">    style&#x3D;&quot;width: 100%&quot;</span><br><span class="line">    row-key&#x3D;&quot;id&quot;</span><br><span class="line">    border</span><br><span class="line">    lazy</span><br><span class="line">    :load&#x3D;&quot;load&quot;</span><br><span class="line">    :tree-props&#x3D;&quot;&#123;children: &#39;children&#39;, hasChildren: &#39;hasChildren&#39;&#125;&quot;&gt;</span><br><span class="line">    &lt;el-table-column</span><br><span class="line">      prop&#x3D;&quot;date&quot;</span><br><span class="line">      label&#x3D;&quot;日期&quot;</span><br><span class="line">      width&#x3D;&quot;180&quot;&gt;</span><br><span class="line">    &lt;&#x2F;el-table-column&gt;</span><br><span class="line">    &lt;el-table-column</span><br><span class="line">      prop&#x3D;&quot;name&quot;</span><br><span class="line">      label&#x3D;&quot;姓名&quot;</span><br><span class="line">      width&#x3D;&quot;180&quot;&gt;</span><br><span class="line">    &lt;&#x2F;el-table-column&gt;</span><br><span class="line">    &lt;el-table-column</span><br><span class="line">      prop&#x3D;&quot;address&quot;</span><br><span class="line">      label&#x3D;&quot;地址&quot;&gt;</span><br><span class="line">    &lt;&#x2F;el-table-column&gt;</span><br><span class="line">  &lt;&#x2F;el-table&gt;</span><br><span class="line">  </span><br><span class="line">  tableData1: [&#123;</span><br><span class="line">          id: 1,</span><br><span class="line">          date: &#39;2016-05-02&#39;,</span><br><span class="line">          name: &#39;王小虎&#39;,</span><br><span class="line">          address: &#39;上海市普陀区金沙江路 1518 弄&#39;</span><br><span class="line">        &#125;, &#123;</span><br><span class="line">          id: 2,</span><br><span class="line">          date: &#39;2016-05-04&#39;,</span><br><span class="line">          name: &#39;王小虎&#39;,</span><br><span class="line">          address: &#39;上海市普陀区金沙江路 1517 弄&#39;</span><br><span class="line">        &#125;, &#123;</span><br><span class="line">          id: 3,</span><br><span class="line">          date: &#39;2016-05-01&#39;,</span><br><span class="line">          name: &#39;王小虎&#39;,</span><br><span class="line">          address: &#39;上海市普陀区金沙江路 1519 弄&#39;,</span><br><span class="line">          hasChildren: true</span><br><span class="line">        &#125;, &#123;</span><br><span class="line">          id: 4,</span><br><span class="line">          date: &#39;2016-05-03&#39;,</span><br><span class="line">          name: &#39;王小虎&#39;,</span><br><span class="line">          address: &#39;上海市普陀区金沙江路 1516 弄&#39;</span><br><span class="line">&#125;]</span><br><span class="line"></span><br><span class="line">methods: &#123;</span><br><span class="line">      load(tree, treeNode, resolve) &#123;</span><br><span class="line">        setTimeout(() &#x3D;&gt; &#123;</span><br><span class="line">          resolve([</span><br><span class="line">            &#123;</span><br><span class="line">              id: 31,</span><br><span class="line">              date: &#39;2016-05-01&#39;,</span><br><span class="line">              name: &#39;王小虎&#39;,</span><br><span class="line">              address: &#39;上海市普陀区金沙江路 1519 弄&#39;</span><br><span class="line">            &#125;, &#123;</span><br><span class="line">              id: 32,</span><br><span class="line">              date: &#39;2016-05-01&#39;,</span><br><span class="line">              name: &#39;王小虎&#39;,</span><br><span class="line">              address: &#39;上海市普陀区金沙江路 1519 弄&#39;</span><br><span class="line">            &#125;</span><br><span class="line">          ])</span><br><span class="line">        &#125;, 1000)</span><br><span class="line">      &#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<h3 id="自定义表头及搜索表格内容"><a href="#自定义表头及搜索表格内容" class="headerlink" title="自定义表头及搜索表格内容"></a>自定义表头及搜索表格内容</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-table</span><br><span class="line">	&#x2F;&#x2F;过滤表格的数据</span><br><span class="line">    :data&#x3D;&quot;tableData.filter(data &#x3D;&gt; !search || data.name.toLowerCase().includes(search.toLowerCase()))&quot;</span><br><span class="line">    style&#x3D;&quot;width: 100%&quot;&gt;</span><br><span class="line">    &lt;el-table-column</span><br><span class="line">      label&#x3D;&quot;Date&quot;</span><br><span class="line">      prop&#x3D;&quot;date&quot;&gt;</span><br><span class="line">    &lt;&#x2F;el-table-column&gt;</span><br><span class="line">    &lt;el-table-column</span><br><span class="line">      label&#x3D;&quot;Name&quot;</span><br><span class="line">      prop&#x3D;&quot;name&quot;&gt;</span><br><span class="line">    &lt;&#x2F;el-table-column&gt;</span><br><span class="line">    &lt;el-table-column</span><br><span class="line">      align&#x3D;&quot;right&quot;&gt;</span><br><span class="line">      &#x2F;&#x2F;自定义表头部分</span><br><span class="line">      &lt;template slot&#x3D;&quot;header&quot; slot-scope&#x3D;&quot;scope&quot;&gt;</span><br><span class="line">        &lt;el-input</span><br><span class="line">          v-model&#x3D;&quot;search&quot;</span><br><span class="line">          size&#x3D;&quot;mini&quot;</span><br><span class="line">          placeholder&#x3D;&quot;输入关键字搜索&quot;&#x2F;&gt;</span><br><span class="line">      &lt;&#x2F;template&gt;</span><br><span class="line">      &#x2F;&#x2F;单元格内容部分</span><br><span class="line">      &lt;template slot-scope&#x3D;&quot;scope&quot;&gt;</span><br><span class="line">        &lt;el-button</span><br><span class="line">          size&#x3D;&quot;mini&quot;</span><br><span class="line">          @click&#x3D;&quot;handleEdit(scope.$index, scope.row)&quot;&gt;Edit&lt;&#x2F;el-button&gt;</span><br><span class="line">        &lt;el-button</span><br><span class="line">          size&#x3D;&quot;mini&quot;</span><br><span class="line">          type&#x3D;&quot;danger&quot;</span><br><span class="line">          @click&#x3D;&quot;handleDelete(scope.$index, scope.row)&quot;&gt;Delete&lt;&#x2F;el-button&gt;</span><br><span class="line">      &lt;&#x2F;template&gt;</span><br><span class="line">    &lt;&#x2F;el-table-column&gt;</span><br><span class="line">  &lt;&#x2F;el-table&gt;</span><br></pre></td></tr></table></figure>



<h3 id="表尾合计行-在最后一行显示统计数据"><a href="#表尾合计行-在最后一行显示统计数据" class="headerlink" title="表尾合计行(在最后一行显示统计数据)"></a>表尾合计行(在最后一行显示统计数据)</h3><p>将<code>show-summary</code>设置为<code>true</code>就会在表格尾部展示合计行。默认情况下，对于合计行，第一列不进行数据求合操作，而是显示「合计」二字（可通过<code>sum-text</code>配置），其余列会将本列所有数值进行求合操作，并显示出来。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-table</span><br><span class="line">    :data&#x3D;&quot;tableData&quot;</span><br><span class="line">    border</span><br><span class="line">    show-summary</span><br><span class="line">    style&#x3D;&quot;width: 100%&quot;&gt;</span><br><span class="line">    &lt;el-table-column</span><br><span class="line">      prop&#x3D;&quot;id&quot;</span><br><span class="line">      label&#x3D;&quot;ID&quot;</span><br><span class="line">      width&#x3D;&quot;180&quot;&gt;</span><br><span class="line">    &lt;&#x2F;el-table-column&gt;</span><br><span class="line">    &lt;el-table-column</span><br><span class="line">      prop&#x3D;&quot;name&quot;</span><br><span class="line">      label&#x3D;&quot;姓名&quot;&gt;</span><br><span class="line">    &lt;&#x2F;el-table-column&gt;</span><br><span class="line">    &lt;el-table-column</span><br><span class="line">      prop&#x3D;&quot;amount1&quot;</span><br><span class="line">      sortable</span><br><span class="line">      label&#x3D;&quot;数值 1&quot;&gt;</span><br><span class="line">    &lt;&#x2F;el-table-column&gt;</span><br><span class="line">    &lt;el-table-column</span><br><span class="line">      prop&#x3D;&quot;amount2&quot;</span><br><span class="line">      sortable</span><br><span class="line">      label&#x3D;&quot;数值 2&quot;&gt;</span><br><span class="line">    &lt;&#x2F;el-table-column&gt;</span><br><span class="line">    &lt;el-table-column</span><br><span class="line">      prop&#x3D;&quot;amount3&quot;</span><br><span class="line">      sortable</span><br><span class="line">      label&#x3D;&quot;数值 3&quot;&gt;</span><br><span class="line">    &lt;&#x2F;el-table-column&gt;</span><br><span class="line">  &lt;&#x2F;el-table&gt;</span><br></pre></td></tr></table></figure>

<p>当然，你也可以定义自己的合计逻辑。使用<code>summary-method</code>并传入一个方法，返回一个数组，这个数组中的各项就会显示在合计行的各列中。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-table</span><br><span class="line">    :data&#x3D;&quot;tableData&quot;</span><br><span class="line">    border</span><br><span class="line">    height&#x3D;&quot;200&quot;</span><br><span class="line">    :summary-method&#x3D;&quot;getSummaries&quot;</span><br><span class="line">    show-summary</span><br><span class="line">    style&#x3D;&quot;width: 100%; margin-top: 20px&quot;&gt;</span><br><span class="line">    &lt;el-table-column</span><br><span class="line">      prop&#x3D;&quot;id&quot;</span><br><span class="line">      label&#x3D;&quot;ID&quot;</span><br><span class="line">      width&#x3D;&quot;180&quot;&gt;</span><br><span class="line">    &lt;&#x2F;el-table-column&gt;</span><br><span class="line">    &lt;el-table-column</span><br><span class="line">      prop&#x3D;&quot;name&quot;</span><br><span class="line">      label&#x3D;&quot;姓名&quot;&gt;</span><br><span class="line">    &lt;&#x2F;el-table-column&gt;</span><br><span class="line">    &lt;el-table-column</span><br><span class="line">      prop&#x3D;&quot;amount1&quot;</span><br><span class="line">      label&#x3D;&quot;数值 1（元）&quot;&gt;</span><br><span class="line">    &lt;&#x2F;el-table-column&gt;</span><br><span class="line">    &lt;el-table-column</span><br><span class="line">      prop&#x3D;&quot;amount2&quot;</span><br><span class="line">      label&#x3D;&quot;数值 2（元）&quot;&gt;</span><br><span class="line">    &lt;&#x2F;el-table-column&gt;</span><br><span class="line">    &lt;el-table-column</span><br><span class="line">      prop&#x3D;&quot;amount3&quot;</span><br><span class="line">      label&#x3D;&quot;数值 3（元）&quot;&gt;</span><br><span class="line">    &lt;&#x2F;el-table-column&gt;</span><br><span class="line">  &lt;&#x2F;el-table&gt;</span><br><span class="line">  </span><br><span class="line">  methods: &#123;</span><br><span class="line">      getSummaries(param) &#123;</span><br><span class="line">        const &#123; columns, data &#125; &#x3D; param;</span><br><span class="line">        const sums &#x3D; [];</span><br><span class="line">        columns.forEach((column, index) &#x3D;&gt; &#123;</span><br><span class="line">          if (index &#x3D;&#x3D;&#x3D; 0) &#123;</span><br><span class="line">            sums[index] &#x3D; &#39;总价&#39;;</span><br><span class="line">            return;</span><br><span class="line">          &#125;</span><br><span class="line">          const values &#x3D; data.map(item &#x3D;&gt; Number(item[column.property]));</span><br><span class="line">          if (!values.every(value &#x3D;&gt; isNaN(value))) &#123;</span><br><span class="line">            sums[index] &#x3D; values.reduce((prev, curr) &#x3D;&gt; &#123;</span><br><span class="line">              const value &#x3D; Number(curr);</span><br><span class="line">              if (!isNaN(value)) &#123;</span><br><span class="line">                return prev + curr;</span><br><span class="line">              &#125; else &#123;</span><br><span class="line">                return prev;</span><br><span class="line">              &#125;</span><br><span class="line">            &#125;, 0);</span><br><span class="line">            sums[index] +&#x3D; &#39; 元&#39;;</span><br><span class="line">          &#125; else &#123;</span><br><span class="line">            sums[index] &#x3D; &#39;N&#x2F;A&#39;;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        return sums;</span><br><span class="line">      &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="合并行或列"><a href="#合并行或列" class="headerlink" title="合并行或列"></a>合并行或列</h3><p>多行或多列共用一个数据时，可以合并行或列。</p>
<p>通过给<code>table</code>传入<code>span-method</code>方法可以实现合并行或列，方法的参数是一个对象，里面包含当前行<code>row</code>、当前列<code>column</code>、当前行号<code>rowIndex</code>、当前列号<code>columnIndex</code>四个属性。该函数可以返回一个包含两个元素的数组，第一个元素代表<code>rowspan</code>，第二个元素代表<code>colspan</code>。 也可以返回一个键名为<code>rowspan</code>和<code>colspan</code>的对象。</p>
<p>数据源</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">tableData: [&#123;</span><br><span class="line">          id: &#39;12987122&#39;,</span><br><span class="line">          name: &#39;王小虎&#39;,</span><br><span class="line">          amount1: &#39;234&#39;,</span><br><span class="line">          amount2: &#39;3.2&#39;,</span><br><span class="line">          amount3: 10</span><br><span class="line">        &#125;, &#123;</span><br><span class="line">          id: &#39;12987123&#39;,</span><br><span class="line">          name: &#39;王小虎&#39;,</span><br><span class="line">          amount1: &#39;165&#39;,</span><br><span class="line">          amount2: &#39;4.43&#39;,</span><br><span class="line">          amount3: 12</span><br><span class="line">        &#125;, &#123;</span><br><span class="line">          id: &#39;12987124&#39;,</span><br><span class="line">          name: &#39;王小虎&#39;,</span><br><span class="line">          amount1: &#39;324&#39;,</span><br><span class="line">          amount2: &#39;1.9&#39;,</span><br><span class="line">          amount3: 9</span><br><span class="line">        &#125;, &#123;</span><br><span class="line">          id: &#39;12987125&#39;,</span><br><span class="line">          name: &#39;王小虎&#39;,</span><br><span class="line">          amount1: &#39;621&#39;,</span><br><span class="line">          amount2: &#39;2.2&#39;,</span><br><span class="line">          amount3: 17</span><br><span class="line">        &#125;, &#123;</span><br><span class="line">          id: &#39;12987126&#39;,</span><br><span class="line">          name: &#39;王小虎&#39;,</span><br><span class="line">          amount1: &#39;539&#39;,</span><br><span class="line">          amount2: &#39;4.1&#39;,</span><br><span class="line">          amount3: 15</span><br><span class="line">        &#125;]</span><br></pre></td></tr></table></figure>

<h4 id="合并列"><a href="#合并列" class="headerlink" title="合并列"></a>合并列</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-table</span><br><span class="line">      :data&#x3D;&quot;tableData&quot;</span><br><span class="line">      :span-method&#x3D;&quot;arraySpanMethod&quot;</span><br><span class="line">      border</span><br><span class="line">      style&#x3D;&quot;width: 100%&quot;&gt;</span><br><span class="line">      &lt;el-table-column</span><br><span class="line">        prop&#x3D;&quot;id&quot;</span><br><span class="line">        label&#x3D;&quot;ID&quot;</span><br><span class="line">        width&#x3D;&quot;180&quot;&gt;</span><br><span class="line">      &lt;&#x2F;el-table-column&gt;</span><br><span class="line">      &lt;el-table-column</span><br><span class="line">        prop&#x3D;&quot;name&quot;</span><br><span class="line">        label&#x3D;&quot;姓名&quot;&gt;</span><br><span class="line">      &lt;&#x2F;el-table-column&gt;</span><br><span class="line">      &lt;el-table-column</span><br><span class="line">        prop&#x3D;&quot;amount1&quot;</span><br><span class="line">        sortable</span><br><span class="line">        label&#x3D;&quot;数值 1&quot;&gt;</span><br><span class="line">      &lt;&#x2F;el-table-column&gt;</span><br><span class="line">      &lt;el-table-column</span><br><span class="line">        prop&#x3D;&quot;amount2&quot;</span><br><span class="line">        sortable</span><br><span class="line">        label&#x3D;&quot;数值 2&quot;&gt;</span><br><span class="line">      &lt;&#x2F;el-table-column&gt;</span><br><span class="line">      &lt;el-table-column</span><br><span class="line">        prop&#x3D;&quot;amount3&quot;</span><br><span class="line">        sortable</span><br><span class="line">        label&#x3D;&quot;数值 3&quot;&gt;</span><br><span class="line">      &lt;&#x2F;el-table-column&gt;</span><br><span class="line">&lt;&#x2F;el-table&gt;</span><br><span class="line"></span><br><span class="line">methods: &#123;</span><br><span class="line">      arraySpanMethod(&#123; row, column, rowIndex, columnIndex &#125;) &#123;</span><br><span class="line">      &#x2F;&#x2F;索引从0开发，所以以下操作是针对奇数行</span><br><span class="line">        if (rowIndex % 2 &#x3D;&#x3D;&#x3D; 0) &#123;</span><br><span class="line">        &#x2F;&#x2F;第一列占据一行两列</span><br><span class="line">          if (columnIndex &#x3D;&#x3D;&#x3D; 0) &#123;</span><br><span class="line">            return [1, 2];</span><br><span class="line">          &#125; else if (columnIndex &#x3D;&#x3D;&#x3D; 1) &#123;</span><br><span class="line">         &#x2F;&#x2F;第二列占据0行0列，消失</span><br><span class="line">            return [0, 0];</span><br><span class="line">          &#125;</span><br><span class="line">         &#x2F;&#x2F;合并列成功</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="合并行"><a href="#合并行" class="headerlink" title="合并行"></a>合并行</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-table</span><br><span class="line">      :data&#x3D;&quot;tableData&quot;</span><br><span class="line">      :span-method&#x3D;&quot;objectSpanMethod&quot;</span><br><span class="line">      border</span><br><span class="line">      style&#x3D;&quot;width: 100%; margin-top: 20px&quot;&gt;</span><br><span class="line">      &lt;el-table-column</span><br><span class="line">        prop&#x3D;&quot;id&quot;</span><br><span class="line">        label&#x3D;&quot;ID&quot;</span><br><span class="line">        width&#x3D;&quot;180&quot;&gt;</span><br><span class="line">      &lt;&#x2F;el-table-column&gt;</span><br><span class="line">      &lt;el-table-column</span><br><span class="line">        prop&#x3D;&quot;name&quot;</span><br><span class="line">        label&#x3D;&quot;姓名&quot;&gt;</span><br><span class="line">      &lt;&#x2F;el-table-column&gt;</span><br><span class="line">      &lt;el-table-column</span><br><span class="line">        prop&#x3D;&quot;amount1&quot;</span><br><span class="line">        label&#x3D;&quot;数值 1（元）&quot;&gt;</span><br><span class="line">      &lt;&#x2F;el-table-column&gt;</span><br><span class="line">      &lt;el-table-column</span><br><span class="line">        prop&#x3D;&quot;amount2&quot;</span><br><span class="line">        label&#x3D;&quot;数值 2（元）&quot;&gt;</span><br><span class="line">      &lt;&#x2F;el-table-column&gt;</span><br><span class="line">      &lt;el-table-column</span><br><span class="line">        prop&#x3D;&quot;amount3&quot;</span><br><span class="line">        label&#x3D;&quot;数值 3（元）&quot;&gt;</span><br><span class="line">      &lt;&#x2F;el-table-column&gt;</span><br><span class="line">&lt;&#x2F;el-table&gt;</span><br><span class="line"></span><br><span class="line">methods: &#123;</span><br><span class="line">      objectSpanMethod(&#123; row, column, rowIndex, columnIndex &#125;) &#123;</span><br><span class="line">      &#x2F;&#x2F;只针对第一列</span><br><span class="line">        if (columnIndex &#x3D;&#x3D;&#x3D; 0) &#123;</span><br><span class="line">        &#x2F;&#x2F;奇数行</span><br><span class="line">          if (rowIndex % 2 &#x3D;&#x3D;&#x3D; 0) &#123;</span><br><span class="line">            return &#123;</span><br><span class="line">              rowspan: 2,</span><br><span class="line">              colspan: 1</span><br><span class="line">            &#125;;</span><br><span class="line">          &#125; else &#123;</span><br><span class="line">            return &#123;</span><br><span class="line">              rowspan: 0,</span><br><span class="line">              colspan: 0</span><br><span class="line">            &#125;;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><h3 id="Table属性"><a href="#Table属性" class="headerlink" title="Table属性"></a><strong>Table属性</strong></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">[1]data：显示的数据</span><br><span class="line">[2]height：Table的高度，默认为自动高度。如果height为number类型，单位px；如果height为string类型，则这个高度会设置为Table的style.height的值，Table的高度会受控于外部样式</span><br><span class="line">[3]max-height：Table的最大高度。合法的值为数字或者单位为px的高度</span><br><span class="line">[4]stripe：是否为斑马纹table</span><br><span class="line">[5]border：是否带有纵向边框</span><br><span class="line">[6]size：Table的尺寸</span><br><span class="line">[7]fit：列的宽度是否自撑开</span><br><span class="line">[8]show-header：是否显示表头</span><br><span class="line">[9]highlight-current-row：是否要高亮当前行</span><br><span class="line">[10]current-row-key：当前行的key，只写属性</span><br><span class="line">[11]row-class-name：行的className的回调方法，也可以使用字符串为所有行设置一个固定的className。</span><br><span class="line">[12]row-style：行的style的回调方法，也可以使用一个固定的Object为所有行设置一样的Style。</span><br><span class="line">[13]cell-class-name：单元格的className的回调方法，也可以使用字符串为所有单元格设置一个固定的className。</span><br><span class="line">[14]cell-style：单元格的style的回调方法，也可以使用一个固定的Object为所有单元格设置一样的Style。</span><br><span class="line">[15]header-row-class-name：表头行的className的回调方法，也可以使用字符串为所有表头行设置一个固定的className。</span><br><span class="line">[16]header-row-style：表头行的style的回调方法，也可以使用一个固定的Object为所有表头行设置一样的Style。</span><br><span class="line">[17]header-cell-class-name：表头单元格的className的回调方法，也可以使用字符串为所有表头单元格设置一个固定的className。</span><br><span class="line">[18]header-cell-style：表头单元格的style的回调方法，也可以使用一个固定的Object为所有表头单元格设置一样的Style。</span><br><span class="line">[19]row-key：行数据的Key，用来优化Table的渲染；在使用reserve-selection功能与显示树形数据时，该属性是必填的。类型为String时，支持多层访问：user.info.id，但不支持user.info[0].id，此种情况请使用Function。</span><br><span class="line">[20]empty-text：空数据时显示的文本内容，也可以通过slot&#x3D;&quot;empty&quot;设置</span><br><span class="line">[21]default-expand-all：是否默认展开所有行，当Table包含展开行存在或者为树形表格时有效</span><br><span class="line">[22]expand-row-keys：可以通过该属性设置Table目前的展开行，需要设置row-key属性才能使用，该属性为展开行的keys数组。</span><br><span class="line">[23]default-sort：默认的排序列的prop和顺序。它的prop属性指定默认的排序的列，order指定默认排序的顺序</span><br><span class="line">[24]tooltip-effect：tooltipeffect属性</span><br><span class="line">[25]show-summary：是否在表尾显示合计行</span><br><span class="line">[26]sum-text：合计行第一列的文本</span><br><span class="line">[27]summary-method：自定义的合计计算方法</span><br><span class="line">[28]span-method：合并行或列的计算方法</span><br><span class="line">[29]select-on-indeterminate：在多选表格中，当仅有部分行被选中时，点击表头的多选框时的行为。若为true，则选中所有行；若为false，则取消选择所有行</span><br><span class="line">[30]indent：展示树形数据时，树节点的缩进</span><br><span class="line">[31]lazy：是否懒加载子节点数据</span><br><span class="line">[32]load：加载子节点数据的函数，lazy为true时生效，函数第二个参数包含了节点的层级信息</span><br><span class="line">[33]tree-props：渲染嵌套数据的配置选项</span><br></pre></td></tr></table></figure>

<h3 id="Table事件"><a href="#Table事件" class="headerlink" title="Table事件"></a><strong>Table事件</strong></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">[1]select：当用户手动勾选数据行的Checkbox时触发的事件</span><br><span class="line">[2]select-all：当用户手动勾选全选Checkbox时触发的事件</span><br><span class="line">[3]selection-change：当选择项发生变化时会触发该事件</span><br><span class="line">[4]cell-mouse-enter：当单元格hover进入时会触发该事件</span><br><span class="line">[5]cell-mouse-leave：当单元格hover退出时会触发该事件</span><br><span class="line">[6]cell-click：当某个单元格被点击时会触发该事件</span><br><span class="line">[7]cell-dblclick：当某个单元格被双击击时会触发该事件</span><br><span class="line">[8]row-click：当某一行被点击时会触发该事件</span><br><span class="line">[9]row-contextmenu：当某一行被鼠标右键点击时会触发该事件</span><br><span class="line">[10]row-dblclick：当某一行被双击时会触发该事件</span><br><span class="line">[11]row-click：当某一行被点击时会触发该事件</span><br><span class="line">[12]row-contextmenu：当某一行被鼠标右键点击时会触发该事件</span><br><span class="line">[13]row-dblclick：当某一行被双击时会触发该事件</span><br><span class="line">[14]header-click：当某一列的表头被点击时会触发该事件</span><br><span class="line">[15]header-contextmenu：当某一列的表头被鼠标右键点击时触发该事件</span><br><span class="line">[16]sort-change：当表格的排序条件发生变化的时候会触发该事件</span><br><span class="line">[17]filter-change：当表格的筛选条件发生变化的时候会触发该事件，参数的值是一个对象，对象的key是column的columnKey，对应的value为用户选择的筛选条件的数组。</span><br><span class="line">[18]current-change：当表格的当前行发生变化的时候会触发该事件，如果要高亮当前行，请打开表格的highlight-current-row属性</span><br><span class="line">[19]header-dragend：当拖动表头改变了列的宽度的时候会触发该事件</span><br><span class="line">[20]expand-change：当用户对某一行展开或者关闭的时候会触发该事件[展开行时，回调的第二个参数为expandedRows；树形表格时第二参数为expanded]</span><br></pre></td></tr></table></figure>

<h3 id="Table方法"><a href="#Table方法" class="headerlink" title="Table方法"></a><strong>Table方法</strong></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[1]clearSelection：用于多选表格，清空用户的选择</span><br><span class="line">[2]toggleRowSelection：用于多选表格，切换某一行的选中状态，如果使用了第二个参数，则是设置这一行选中与否[selected为true则选中]</span><br><span class="line">[3]toggleAllSelection：用于多选表格，切换所有行的选中状态</span><br><span class="line">[4]toggleRowExpansion：用于可展开表格与树形表格，切换某一行的展开状态，如果使用了第二个参数，则是设置这一行展开与否[expanded为true则展开]</span><br><span class="line">[5]setCurrentRow：用于单选表格，设定某一行为选中行，如果调用时不加参数，则会取消目前高亮行的选中状态</span><br><span class="line">[6]clearSort：用于清空排序条件，数据会恢复成未排序的状态</span><br><span class="line">[7]clearFilter：不传入参数时用于清空所有过滤条件，数据会恢复成未过滤的状态，也可传入由columnKey组成的数组以清除指定列的过滤条件</span><br><span class="line">[8]doLayout：对Table进行重新布局。当Table或其祖先元素由隐藏切换为显示时，可能需要调用此方法</span><br><span class="line">[9]sort：手动对Table进行排序。参数prop属性指定排序列，order指定排序顺序</span><br></pre></td></tr></table></figure>

<h2 id="与form表单一起用"><a href="#与form表单一起用" class="headerlink" title="与form表单一起用"></a>与form表单一起用</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;el-form class&#x3D;&quot;form&quot; :model&#x3D;&quot;bindForm&quot; ref&#x3D;&quot;ruleForm&quot;&gt;</span><br><span class="line">            &lt;el-table height&#x3D;&quot;500&quot; ref&#x3D;&quot;multipleTable&quot; :data&#x3D;&quot;bindForm.bindList&quot; tooltip-effect&#x3D;&quot;dark&quot; style&#x3D;&quot;width: 99%&quot; empty-text&#x3D;&quot;暂无绑定用户&quot;&gt;</span><br><span class="line">                &lt;el-table-column :render-header&#x3D;&quot;(h, obj) &#x3D;&gt; renderHeader(h, obj, &#39;姓名&#39;)&quot; min-width&#x3D;&quot;100&quot;&gt;</span><br><span class="line">                    &lt;template slot-scope&#x3D;&quot;scope&quot;&gt;</span><br><span class="line">                        &lt;el-form-item :prop&#x3D;&quot;&#96;bindList[$&#123;scope.$index&#125;].nickName&#96;&quot; :rules&#x3D;&quot;rules.nickName&quot;&gt;</span><br><span class="line">                            &lt;el-input v-model&#x3D;&quot;scope.row.nickName&quot; placeholder&#x3D;&quot;请输入内容&quot;&gt;&lt;&#x2F;el-input&gt;</span><br><span class="line">                        &lt;&#x2F;el-form-item&gt;</span><br><span class="line">                    &lt;&#x2F;template&gt;</span><br><span class="line">                &lt;&#x2F;el-table-column&gt;</span><br><span class="line">                &lt;el-table-column :render-header&#x3D;&quot;(h, obj) &#x3D;&gt; renderHeader(h, obj, &#39;职务&#39;)&quot; min-width&#x3D;&quot;130&quot;&gt;</span><br><span class="line">                    &lt;template slot-scope&#x3D;&quot;scope&quot;&gt;</span><br><span class="line">                        &lt;el-form-item :prop&#x3D;&quot;&#96;bindList[$&#123;scope.$index&#125;].paymentScenes&#96;&quot; :rules&#x3D;&quot;rules.paymentScenes&quot;&gt;</span><br><span class="line">                            &lt;el-select v-model&#x3D;&quot;scope.row.paymentScenes&quot; multiple collapse-tags placeholder&#x3D;&quot;请选择支付场景&quot;&gt;</span><br><span class="line">                                &lt;el-option v-for&#x3D;&quot;item in paymentSceneList&quot; :key&#x3D;&quot;item.value&quot; :label&#x3D;&quot;item.label&quot; :value&#x3D;&quot;item.value&quot;&gt;</span><br><span class="line">                                &lt;&#x2F;el-option&gt;</span><br><span class="line">                            &lt;&#x2F;el-select&gt;</span><br><span class="line">                        &lt;&#x2F;el-form-item&gt;</span><br><span class="line">                    &lt;&#x2F;template&gt;</span><br><span class="line">                &lt;&#x2F;el-table-column&gt;</span><br><span class="line">                &lt;el-table-column&gt;</span><br><span class="line">                    &lt;template slot-scope&#x3D;&quot;scope&quot;&gt;</span><br><span class="line">                        &lt;el-form-item :prop&#x3D;&quot;&#96;bindList[$&#123;scope.$index&#125;].sex&#96;&quot;&gt;</span><br><span class="line">                            &lt;el-input v-model&#x3D;&quot;scope.row.sex&quot; placeholder&#x3D;&quot;请输入性别&quot;&gt;&lt;&#x2F;el-input&gt;</span><br><span class="line">                        &lt;&#x2F;el-form-item&gt;</span><br><span class="line">                    &lt;&#x2F;template&gt;</span><br><span class="line">                &lt;&#x2F;el-table-column&gt;</span><br><span class="line">                &lt;el-table-column label&#x3D;&quot;操作&quot; min-width&#x3D;&quot;80&quot;&gt;</span><br><span class="line">                    &lt;template slot-scope&#x3D;&quot;scope&quot;&gt;</span><br><span class="line">                        &lt;el-form-item&gt;</span><br><span class="line">                            &lt;el-button @click&#x3D;&quot;add&quot;&gt;新增&lt;&#x2F;el-button&gt;</span><br><span class="line">                            &lt;el-button @click&#x3D;&quot;sub(scope.$index)&quot;&gt;删除&lt;&#x2F;el-button&gt;</span><br><span class="line">                        &lt;&#x2F;el-form-item&gt;</span><br><span class="line">                    &lt;&#x2F;template&gt;</span><br><span class="line">                &lt;&#x2F;el-table-column&gt;</span><br><span class="line">            &lt;&#x2F;el-table&gt;</span><br><span class="line">            &lt;div class&#x3D;&quot;save&quot;&gt;</span><br><span class="line">                &lt;el-button type&#x3D;&quot;primary&quot; @click&#x3D;&quot;save&quot;&gt;保存&lt;&#x2F;el-button&gt;</span><br><span class="line">            &lt;&#x2F;div&gt;</span><br><span class="line">        &lt;&#x2F;el-form&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    data() &#123;</span><br><span class="line">        return &#123;</span><br><span class="line">            &#x2F;&#x2F; 支付场景数据</span><br><span class="line">            paymentSceneList: [</span><br><span class="line">                &#123; label: &#39;图书管理员&#39;, value: 1 &#125;,</span><br><span class="line">                &#123; label: &#39;物业管理员&#39;, value: 2 &#125;,</span><br><span class="line">                &#123; label: &#39;宿舍管理员&#39;, value: 3 &#125;,</span><br><span class="line">                &#123; label: &#39;教室管理员&#39;, value: 4 &#125;</span><br><span class="line">            ],</span><br><span class="line">            &#x2F;&#x2F; 此处必须是这样的数据类型，才能够校验成功</span><br><span class="line">            bindForm: &#123;</span><br><span class="line">                bindList: []</span><br><span class="line">            &#125;,</span><br><span class="line">            &#x2F;&#x2F; 支付场景是否开启的状态值</span><br><span class="line">            STATUS: &#123;</span><br><span class="line">                OPEN: 1, &#x2F;&#x2F; 开启</span><br><span class="line">                CLOSE: 0 &#x2F;&#x2F; 不开启</span><br><span class="line">            &#125;,</span><br><span class="line">            rules: &#123;</span><br><span class="line">                nickName: [</span><br><span class="line">                    &#123;</span><br><span class="line">                        required: true,</span><br><span class="line">                        message: &#39;姓名不可为空&#39;,</span><br><span class="line">                        trigger: [&#39;blur&#39;, &#39;change&#39;]</span><br><span class="line">                    &#125;</span><br><span class="line">                ],</span><br><span class="line">                paymentScenes: [</span><br><span class="line">                    &#123;</span><br><span class="line">                        type: &#39;array&#39;,</span><br><span class="line">                        required: true,</span><br><span class="line">                        trigger: [&#39;blur&#39;, &#39;change&#39;],</span><br><span class="line">                        message: &#39;职务不可为空&#39;</span><br><span class="line">                    &#125;</span><br><span class="line">                ]</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;,</span><br><span class="line">    mounted() &#123;</span><br><span class="line">        this.bindForm.bindList.push(&#123;</span><br><span class="line">            nickName: &#39;&#39;,</span><br><span class="line">            sex: &#39;&#39;,</span><br><span class="line">            paymentScenes: []</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">        &#x2F;**</span><br><span class="line">         * 渲染表头 表头增加必填项*</span><br><span class="line">         * str自定义传入参数 为表头名称</span><br><span class="line">        *&#x2F;</span><br><span class="line">        &#x2F;&#x2F; eslint-disable-next-line</span><br><span class="line">        renderHeader(h, &#123; column, $index &#125;, str) &#123;</span><br><span class="line">            return h(&#39;span&#39;, [</span><br><span class="line">                h(&#39;span&#39;, &#123; style: &#123; color: &#39;#f56c6c&#39; &#125; &#125;, [&#39;*&#39;]),</span><br><span class="line">                h(&#39;span&#39;, &#123;&#125;, [str])</span><br><span class="line">            ]);</span><br><span class="line">        &#125;,</span><br><span class="line">        add() &#123;</span><br><span class="line">            this.bindForm.bindList.push(&#123;</span><br><span class="line">                nickName: &#39;&#39;,</span><br><span class="line">                sex: &#39;&#39;,</span><br><span class="line">                paymentScenes: []</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;,</span><br><span class="line">        sub(index) &#123;</span><br><span class="line">            this.bindForm.bindList.splice(index, 1);</span><br><span class="line">        &#125;,</span><br><span class="line">        save() &#123;</span><br><span class="line">            this.$refs.ruleForm.validate((valid) &#x3D;&gt; &#123;</span><br><span class="line">                if (valid) &#123;</span><br><span class="line">                    &#x2F;&#x2F; 通过校验时</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>


          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2022/02/25/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91%E8%A7%84%E8%8C%83%E6%96%87%E6%A1%A3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Dali">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/header.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DaliBlogs">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2022/02/25/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91%E8%A7%84%E8%8C%83%E6%96%87%E6%A1%A3/" itemprop="url">前端开发规范文档</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2022-02-25T18:10:23+08:00">
                2022-02-25
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="（一）前言及简介"><a href="#（一）前言及简介" class="headerlink" title="（一）前言及简介"></a>（一）前言及简介</h1><p>没有规矩，不成方圆，对于团队来说，有一套完整的开发规范可以减少团队协作成本和维护成本，让代码阅读起来更容易。</p>
<h1 id="（二）环境搭建"><a href="#（二）环境搭建" class="headerlink" title="（二）环境搭建"></a>（二）环境搭建</h1><h2 id="2-1-安装依赖"><a href="#2-1-安装依赖" class="headerlink" title="2.1 安装依赖"></a>2.1 安装依赖</h2><p>项目中所需要的依赖都会在<code>package.json</code>文件中展示。</p>
<p>安装依赖需要使用<code>npm</code>命令，可去<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.npmjs.cn%2Fgetting-started%2Finstalling-node%2F">npm官方文档</a>使用及学习。</p>
<h3 id="2-1-1-生产环境依赖"><a href="#2-1-1-生产环境依赖" class="headerlink" title="2.1.1 生产环境依赖"></a>2.1.1 生产环境依赖</h3><p>生产环境需要的依赖安装在属性<code>dependencies</code>之下。</p>
<p>可以使用命令：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install xxxx --save </span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<blockquote>
<p>不可安装生产环境无需用到的依赖。</p>
</blockquote>
<h3 id="2-1-2-开发环境依赖"><a href="#2-1-2-开发环境依赖" class="headerlink" title="2.1.2 开发环境依赖"></a>2.1.2 开发环境依赖</h3><p>开发环境需要的依赖安装在属性<code>devDependencies</code>之下。</p>
<p>可以使用命令：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install xxxx --save-dev </span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h2 id="2-2-webpack配置"><a href="#2-2-webpack配置" class="headerlink" title="2.2 webpack配置"></a>2.2 webpack配置</h2><h3 id="2-2-1-运行端口"><a href="#2-2-1-运行端口" class="headerlink" title="2.2.1 运行端口"></a>2.2.1 运行端口</h3><p>项目开发环境下的运行端口为：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">port: 8082</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h3 id="2-2-2-代理"><a href="#2-2-2-代理" class="headerlink" title="2.2.2 代理"></a>2.2.2 代理</h3><p>如果项目中需要使用其他系统请求，涉及跨域问题，可按照如下修改代理配置。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">proxy: &#123;</span><br><span class="line">      &#39;&#x2F;api&#39;: &#123;</span><br><span class="line">        target: &#39;http:&#x2F;&#x2F;xxxx&#39;,</span><br><span class="line">        pathRewrite: &#123;&#39;^&#x2F;api&#39; : &#39;&#39;&#125;,&#x2F;&#x2F; 是否重写</span><br><span class="line">        changeOrigin: true,     &#x2F;&#x2F; target是域名的话，需要这个参数，</span><br><span class="line">        secure: false,          &#x2F;&#x2F; 设置支持https协议的代理</span><br><span class="line">      &#125;,</span><br><span class="line">&#125;,</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h1 id="（三）项目规范"><a href="#（三）项目规范" class="headerlink" title="（三）项目规范"></a>（三）项目规范</h1><h2 id="3-1-项目技术构成"><a href="#3-1-项目技术构成" class="headerlink" title="3.1 项目技术构成"></a>3.1 项目技术构成</h2><p>本项目由vue.js技术框架搭建，配合webpack打包。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 技术版本</span><br><span class="line">vue:4.1.2</span><br><span class="line">webpack:4.0.0</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2F">vue.js官方文档</a> 学习及使用。</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.webpackjs.com%2F">webpack官方文档</a> 学习及使用。</p>
<h2 id="3-2-项目结构规范"><a href="#3-2-项目结构规范" class="headerlink" title="3.2 项目结构规范"></a>3.2 项目结构规范</h2><h3 id="3-2-1-项目结构的核心思想"><a href="#3-2-1-项目结构的核心思想" class="headerlink" title="3.2.1 项目结构的核心思想"></a>3.2.1 项目结构的核心思想</h3><ul>
<li>业务功能模块的相关代码都集中在一块，方便移动和删除</li>
<li>实现关注点分离，方便开发、调试、维护、编写、查阅、理解代码</li>
</ul>
<h3 id="3-2-2-项目目录"><a href="#3-2-2-项目目录" class="headerlink" title="3.2.2 项目目录"></a>3.2.2 项目目录</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">├── vue.config.js&#x2F;                      # webpack 配置文件；</span><br><span class="line">├── config&#x2F;                     # 与项目构建相关的常用的配置选项；</span><br><span class="line">│   ├── index.js                # 主配置文件</span><br><span class="line">│   ├── dev.env.js              # 开发环境变量</span><br><span class="line">│   ├── prod.env.js             # 生产环境变量</span><br><span class="line">│   └── test.env.js             # 测试环境变量</span><br><span class="line">│</span><br><span class="line">├── src&#x2F;</span><br><span class="line">│   ├── main.js                 # webpack 的入口文件；</span><br><span class="line">│   ├── assets&#x2F;                 # 共用的代码以外的资源，如：图片、图标、视频 等；</span><br><span class="line">│   ├── api&#x2F;                    # 网络模块，如：接口；</span><br><span class="line">│   ├── router&#x2F;                 # 路由模块</span><br><span class="line">│   ├── I18n&#x2F;                   # 国际化模块</span><br><span class="line">│   ├── pages&#x2F;                  # 单页页面</span><br><span class="line">│   ├── vuex&#x2F;                   # 组件共享状态</span><br><span class="line">│   ├── components&#x2F;             # 共用的组件；； 这里的存放的组件应该都是展示组件</span><br><span class="line">│   │   ├── base&#x2F;               # 基本组件，如：共用的弹窗组件，loading加载组件，提示组件。</span><br><span class="line">│   │   ├── common&#x2F;             # 共用的全局组件，封装的导航条，底部组件等等</span><br><span class="line">│   │   ├── temp&#x2F;               # 模板组件，如：相同的页面封装成一个组件。</span><br><span class="line">│   │   ├── UItemp&#x2F;             # UI组件，如：项目中特定的按钮，消息数字，等等一些样式可以封装成组件的。</span><br><span class="line">│   ├── common&#x2F;                 # 共用的资源，如：常用的图片、图标，共用的组件、模块、样式，常量文件等等；</span><br><span class="line">│   │   ├── compatible&#x2F;         # 兼容模块，如：适合App和微信各种接口的模块；</span><br><span class="line">│   │   ├── extension&#x2F;          # 已有类的扩展模块，如：对 Array 类型进行扩展的模块；</span><br><span class="line">│   │   ├── libraries&#x2F;          # 存放自己封装的或者引用的库；</span><br><span class="line">│   │   ├── tools&#x2F;              # 自己封装的一些工具</span><br><span class="line">│   │   ├── constant.js         # 存放js的常量；</span><br><span class="line">│   │   ├── constant.scss       # 存放scss的常量；</span><br><span class="line">│   │   └── ...</span><br><span class="line">│   └── app&#x2F;                    # 存放项目业务代码；</span><br><span class="line">│       ├── App.vue             # app 的根组件；</span><br><span class="line">├── public&#x2F;                     # 纯静态资源，该目录下的文件不会被webpack处理，该目录会被拷贝到输出目录下；</span><br><span class="line">├── .babelrc                    # babel 的配置文件</span><br><span class="line">├── .editorconfig               # 编辑器的配置文件；可配置如缩进、空格、制表类似的参数；</span><br><span class="line">├── .eslintrc.js                # eslint 的配置文件</span><br><span class="line">├── .eslintignore               # eslint 的忽略规则</span><br><span class="line">├── .gitignore                  # git的忽略配置文件</span><br><span class="line">├── .postcssrc.js               # postcss 的配置文件</span><br><span class="line">├── CHAGNELOG.md                # 版本更新变更release</span><br><span class="line">├── index.html                  # HTML模板</span><br><span class="line">├── package.json                # npm包配置文件，里面定义了项目的npm脚本，依赖包等信息</span><br><span class="line">└── README.md                   # 项目信息文档</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h2 id="3-3-资源命名"><a href="#3-3-资源命名" class="headerlink" title="3.3 资源命名"></a>3.3 资源命名</h2><h3 id="3-3-1-目录命名"><a href="#3-3-1-目录命名" class="headerlink" title="3.3.1 目录命名"></a>3.3.1 <strong>目录命名</strong></h3><ul>
<li>能直观的感受当前目录文件的作用</li>
<li>以小驼峰方式命名</li>
<li>特殊缩写名称可大写开头</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">│   ├── pages&#x2F;                 </span><br><span class="line">│   ├── components&#x2F;</span><br><span class="line">│   │   ├── UItemp&#x2F;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h3 id="3-3-2-页面命名"><a href="#3-3-2-页面命名" class="headerlink" title="3.3.2 页面命名"></a>3.3.2 <strong>页面命名</strong></h3><ul>
<li>能直观的感受当前文件的作用</li>
<li>以小驼峰方式命名</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">│   │   │   ├── login.vue       # 登录页面</span><br><span class="line">│   │   │   ├── changePhone.vue # 用户中心-修改电话号码页面</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h3 id="3-3-3-组件命名"><a href="#3-3-3-组件命名" class="headerlink" title="3.3.3 组件命名"></a>3.3.3 <strong>组件命名</strong></h3><ul>
<li>能直观的感受当前组件的用途</li>
<li>组件命名始终是多个单词的，避免跟html元素或标签冲突</li>
<li>要么大写开头，要么始终用横线链接（这里项目大写开头）</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 反例</span><br><span class="line">components&#x2F;</span><br><span class="line">|- MyButton.vue</span><br><span class="line">|- VueTable.vue</span><br><span class="line">|- Icon.vue</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 好例子</span><br><span class="line">components&#x2F;</span><br><span class="line">|- BaseButton.vue</span><br><span class="line">|- BaseTable.vue</span><br><span class="line">|- BaseIcon.vue</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h3 id="3-3-4-图片命名"><a href="#3-3-4-图片命名" class="headerlink" title="3.3.4 图片命名"></a>3.3.4 <strong>图片命名</strong></h3><ul>
<li>图片文件夹一般遵从页面或者模块命名,如：<code>login/</code>）</li>
<li>图片不可随意命名，且严禁使用0，1，等数字直接命名图片。</li>
<li>图片命名可遵循：用途+描述，多个单词用下划线隔开，如：<code>login_icon.png</code>,<code>pwd_icon.png</code></li>
<li>10k以下图片建议放置<code>assets/img</code>下（webpack打包时直接转为base64嵌入）</li>
<li>大图且不常更换的图片放置<code>public/img</code>下</li>
<li>可用css编写的样式严禁使用图片</li>
<li>国际化图片，后缀使用简体<code>-cn</code>,英文<code>-en</code>,繁体<code>-tw</code></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">│   ├── assets&#x2F;               </span><br><span class="line">│   │   ├── img&#x2F;                          # 图片</span><br><span class="line">│   │   │    ├── common&#x2F;                  # 公共图片</span><br><span class="line">│   │   │    │    ├── default_avatar.png  # 默认头像</span><br><span class="line">│   │   │    ├── login&#x2F;                   # 登录模块</span><br><span class="line">│   │   │    │    ├── login1.png          # 登录模块图片</span><br><span class="line">│   │   │    │    ├── login_icon-en.png      </span><br><span class="line">│   │   │    │    ├── login_icon-cn.png     </span><br><span class="line">│   │   │    │    ├── login_icon-tw.png      </span><br><span class="line">│   │   │    ├── userInfo&#x2F;                   # 用户中心模块的图片</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h2 id="3-4-资源使用"><a href="#3-4-资源使用" class="headerlink" title="3.4 资源使用"></a>3.4 资源使用</h2><h3 id="3-4-1-组件使用规范"><a href="#3-4-1-组件使用规范" class="headerlink" title="3.4.1 组件使用规范"></a>3.4.1 <strong>组件使用规范</strong></h3><ul>
<li>使用时以<code>v-</code>开头</li>
<li>命名遵循组件命名规范</li>
<li>推荐使用单标签闭合</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;v-BaseButton :data&#x3D;&quot;data&quot;&#x2F;&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line"> export default&#123;</span><br><span class="line">     components:&#123;</span><br><span class="line">         &quot;v-BaseButton&quot;:BaseButton</span><br><span class="line">     &#125;</span><br><span class="line"> &#125;</span><br><span class="line">&lt;&#x2F;srcipt</span><br><span class="line"></span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h3 id="3-4-2-图片使用规范"><a href="#3-4-2-图片使用规范" class="headerlink" title="3.4.2 图片使用规范"></a>3.4.2 <strong>图片使用规范</strong></h3><p>项目下有两个文件夹放置图片地址<code>src/assets/img</code>,<code>public/img</code></p>
<p>webpack打包时会直接copy<code>public/img</code>下的图片，所以，当你的图片放置<code>public/img</code>下时，为防止图片打包重复，需要遵从以下写法：</p>
<ul>
<li><strong><code>public/img</code>下的图片调用时禁止使用require</strong></li>
</ul>
<blockquote>
<p>因为通过require调用的图片会经过webpack打包，生成hash后缀，同<code>public/img</code>下图片重复</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">let img1 &#x3D; require(&#39;..&#x2F;public&#x2F;img&#x2F;xxxx&#39;)&#x2F;&#x2F;错误写法</span><br><span class="line">let img2 &#x3D;&#39;..&#x2F;public&#x2F;img&#x2F;xxxx&#39;&#x2F;&#x2F;正确写法</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<ul>
<li><strong><code>public/img</code>下的图片不可直接嵌入img的src中</strong></li>
</ul>
<blockquote>
<p>因为img标签src中的图片也会经过webpack打包</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--错误写法--&gt;</span><br><span class="line">&lt;img src&#x3D;&quot;..&#x2F;public&#x2F;img&#x2F;xxx&quot;&gt;</span><br><span class="line">&lt;!--正确写法--&gt;</span><br><span class="line">&lt;img :src&#x3D;&quot;&#96;..&#x2F;public&#x2F;img&#x2F;xxx&#96;&quot;&gt;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<ul>
<li><strong><code>src/assets/img</code>下的图片必须使用require写法，否则会报错找不到图片</strong></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--正确写法--&gt;</span><br><span class="line">&lt;img src&#x3D;&quot;..&#x2F;asset&#x2F;img&#x2F;xxx&quot;&gt;</span><br><span class="line">&lt;!--错误写法--&gt;</span><br><span class="line">&lt;img :src&#x3D;&quot;&#96;..&#x2F;asset&#x2F;img&#x2F;xxx&#96;&quot;&gt;</span><br><span class="line">复制代码</span><br><span class="line">let img1 &#x3D; require(&#39;..&#x2F;asset&#x2F;img&#x2F;xxxx&#39;)&#x2F;&#x2F;正确写法</span><br><span class="line">let img2 &#x3D;&#39;..&#x2F;asset&#x2F;img&#x2F;xxxx&#39;&#x2F;&#x2F;错误写法</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<blockquote>
<p>图片这样区分，防止图片重复打包，增加项目体积</p>
</blockquote>
<h2 id="3-5-项目路由"><a href="#3-5-项目路由" class="headerlink" title="3.5 项目路由"></a>3.5 项目路由</h2><h3 id="3-5-1-路由命名"><a href="#3-5-1-路由命名" class="headerlink" title="3.5.1 路由命名"></a>3.5.1 路由命名</h3><ul>
<li>普通路由(非动态多级)命名，可以直接使用页面组件的命名。</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    path: &#39;&#x2F;login&#39;,</span><br><span class="line">    name: &#39;login&#39;,</span><br><span class="line">    component(resolve) &#123;</span><br><span class="line">        require.ensure([&#39;..&#x2F;pages&#x2F;login&#x2F;login.vue&#39;], () &#x3D;&gt; &#123;</span><br><span class="line">            resolve(require(&#39;..&#x2F;pages&#x2F;login&#x2F;login.vue&#39;));</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<ul>
<li>动态多级路由，遵循：用途或作用或功能。</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;user&#x2F;personal&#x2F;infomaition  用户中心 -&gt; 个人中心 -&gt; 个人信息</span><br><span class="line">&#x2F;user&#x2F;company&#x2F;infomaition  用户中心 -&gt; 企业中心 -&gt; 企业信息</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h3 id="3-5-3-多级路由"><a href="#3-5-3-多级路由" class="headerlink" title="3.5.3 多级路由"></a>3.5.3 多级路由</h3><ul>
<li>嵌套不可超过三层。</li>
</ul>
<h3 id="3-5-4-路由权限"><a href="#3-5-4-路由权限" class="headerlink" title="3.5.4 路由权限"></a>3.5.4 路由权限</h3><h4 id="3-5-4-1-登录权限"><a href="#3-5-4-1-登录权限" class="headerlink" title="3.5.4.1 登录权限"></a>3.5.4.1 <strong>登录权限</strong></h4><p>一般页面无需登录可查看，重要页面需要登录权限。</p>
<p>登录权限字段在路由meta标签中确定。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">meta: &#123;</span><br><span class="line">    requireAuth: true &#x2F;&#x2F; 为true则是需要登录权限</span><br><span class="line">&#125;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h4 id="3-5-4-2-管理员权限"><a href="#3-5-4-2-管理员权限" class="headerlink" title="3.5.4.2 管理员权限"></a>3.5.4.2 管理员权限</h4><p>管理员拥有的权限：</p>
<ul>
<li>显示管理入口，进入后台管理。</li>
<li>导航结构展示不一样。</li>
<li>与普通用户相同的路径，会展示不一样的内容。</li>
</ul>
<p>根据不同的权限，渲染不同的组件或页面。</p>
<h1 id="（四）编码规范"><a href="#（四）编码规范" class="headerlink" title="（四）编码规范"></a>（四）编码规范</h1><h2 id="4-1-HTML规范"><a href="#4-1-HTML规范" class="headerlink" title="4.1 HTML规范"></a>4.1 HTML规范</h2><h3 id="4-1-1-文件编码"><a href="#4-1-1-文件编码" class="headerlink" title="4.1.1 文件编码"></a>4.1.1 <strong>文件编码</strong></h3><ul>
<li>开头声明文档类型</li>
<li>使用语言属性<ul>
<li>中文：”zh-Hans”</li>
<li>简体中文：”zh-cmn-Hans”</li>
<li>繁体中文：”zh-cmn-Hant”</li>
<li>英文：”en”</li>
</ul>
</li>
<li>使用不带BOM的UTF-8编码</li>
<li>在HTML中指定编码<code>&lt;meta charset=&quot;utf-8&quot;&gt;</code></li>
<li>SEO优化</li>
<li>viewport是否可缩放(为移动设备优化)</li>
<li>favicon：如果未指定，大多数浏览器会请求根目录下的favicon，为避免404错误，两种解决方法，一是在根目录放置favicon.ico文件，二是使用link指定favicon文件</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang&#x3D;&quot;en&quot;&gt;</span><br><span class="line">  &lt;head&gt;</span><br><span class="line">    &lt;meta charset&#x3D;&quot;utf-8&quot;&gt;</span><br><span class="line">    &lt;meta http-equiv&#x3D;&quot;X-UA-Compatible&quot; content&#x3D;&quot;IE&#x3D;edge,chrome&#x3D;1&quot;&gt;</span><br><span class="line">    &lt;!-- SEO --&gt;</span><br><span class="line">    &lt;title&gt;Style Guide&lt;&#x2F;title&gt;</span><br><span class="line">    &lt;meta name&#x3D;&quot;keywords&quot; content&#x3D;&quot;your keywords&quot;&gt;</span><br><span class="line">    &lt;meta name&#x3D;&quot;description&quot; content&#x3D;&quot;your description&quot;&gt;</span><br><span class="line">    &lt;meta name&#x3D;&quot;author&quot; content&#x3D;&quot;author,email address&quot;&gt;</span><br><span class="line">    &lt;meta name&#x3D;&quot;viewport&quot; content&#x3D;&quot;width&#x3D;device-width, initial-scale&#x3D;1.0&quot;&gt;</span><br><span class="line">    &lt;link rel&#x3D;&quot;shortcut icon&quot; href&#x3D;&quot;path&#x2F;to&#x2F;favicon.ico&quot;&gt;</span><br><span class="line">  &lt;&#x2F;head&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h3 id="4-1-2-外链资源URL协议"><a href="#4-1-2-外链资源URL协议" class="headerlink" title="4.1.2 外链资源URL协议"></a>4.1.2 <strong>外链资源URL协议</strong></h3><p>省略外链资源（图片及其它媒体资源）URL 中的 http / https 协议，使 URL 成为相对地址，避免Mixed Content 问题，减小文件字节数。</p>
<blockquote>
<p>Mixed Content：http和https混用造成的问题。</p>
</blockquote>
<blockquote>
<p>其它协议（ftp 等）的 URL 不省略。</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 推荐 --&gt;</span><br><span class="line">&lt;script src&#x3D;&quot;&#x2F;&#x2F;www.xxx.cn&#x2F;statics&#x2F;js&#x2F;autotrack.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- 不推荐 --&gt;</span><br><span class="line">&lt;script src&#x3D;&quot;http:&#x2F;&#x2F;www.xxx.cn&#x2F;statics&#x2F;js&#x2F;autotrack.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">复制代码</span><br><span class="line">&#x2F;* 推荐 *&#x2F;</span><br><span class="line">.example &#123;</span><br><span class="line">  background: url(&#x2F;&#x2F;www.google.com&#x2F;images&#x2F;example);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;* 不推荐 *&#x2F;</span><br><span class="line">.example &#123;</span><br><span class="line">  background: url(http:&#x2F;&#x2F;www.google.com&#x2F;images&#x2F;example);</span><br><span class="line">&#125;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h3 id="4-1-3-标签中的属性顺序"><a href="#4-1-3-标签中的属性顺序" class="headerlink" title="4.1.3 标签中的属性顺序"></a>4.1.3 <strong>标签中的属性顺序</strong></h3><ul>
<li><code>class</code>(<code>class</code> 是最高的复用设计，应该放在最前)</li>
<li><code>id name</code>(<code>id</code> 应尽量少用)</li>
<li><code>data-\\*</code> 自定义属性（属性名称全小写用<code>-</code>做连接）</li>
<li><code>src</code> (资源文件)</li>
<li><code>placeholder</code> <code>title</code> <code>alt</code> (提示)</li>
<li><code>required</code> <code>readonly</code> <code>disable</code>(辅助)</li>
</ul>
<h3 id="4-1-4-语义化"><a href="#4-1-4-语义化" class="headerlink" title="4.1.4 语义化"></a>4.1.4 <strong>语义化</strong></h3><p>语义的HTML结构，有助于机器搜索，保证代码可读性。</p>
<p>常见的标签语义</p>
<table>
<thead>
<tr>
<th>标签</th>
<th>语义</th>
</tr>
</thead>
<tbody><tr>
<td><code>&lt;p&gt;</code></td>
<td>段落</td>
</tr>
<tr>
<td><code>&lt;h1,2,3&gt;</code></td>
<td>标题</td>
</tr>
<tr>
<td><code>&lt;ul&gt;</code></td>
<td>无序列表</td>
</tr>
<tr>
<td><code>&lt;ol&gt;</code></td>
<td>有序列表</td>
</tr>
<tr>
<td><code>&lt;blockquote&gt;</code></td>
<td>大段引用</td>
</tr>
<tr>
<td><code>&lt;cite&gt;</code></td>
<td>一般引用</td>
</tr>
<tr>
<td><code>&lt;b&gt;</code></td>
<td>为样式加粗</td>
</tr>
<tr>
<td><code>&lt;strong&gt;</code></td>
<td>为强调加粗</td>
</tr>
<tr>
<td><code>&lt;i&gt;</code></td>
<td>为样式倾斜</td>
</tr>
<tr>
<td><code>&lt;em&gt;</code></td>
<td>为强调倾斜</td>
</tr>
<tr>
<td><code>&lt;code&gt;</code></td>
<td>代码标识</td>
</tr>
<tr>
<td>……</td>
<td>……</td>
</tr>
</tbody></table>
<p>例如：</p>
<ul>
<li>h1 大标题，一般用于banner背景，一个页面有且只有一个</li>
<li>h2 章节标题，可以有多个</li>
<li>h3 章节内的文章标题</li>
<li>h4,h5,h6 小标题/副标题</li>
<li>p 段落</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">├── h1---文章大标题</span><br><span class="line">│   ├── h2--- 这里是一个节点</span><br><span class="line">│   │   ├──h3--- 节点内的文章标题</span><br><span class="line">│   │   │   ├── h4,h5,h6--- 副标题&#x2F;作者等信息</span><br><span class="line">│   │   │   ├── p---段落</span><br><span class="line">│   ├── h2--- 这里是一个节点</span><br><span class="line">│   │   ├──h3--- 节点内的文章标题</span><br><span class="line">│   │   │   ├── h4,h5,h6--- 副标题&#x2F;作者等信息</span><br><span class="line">│   │   │   ├── p---段落    </span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h3 id="4-1-5-引号规范"><a href="#4-1-5-引号规范" class="headerlink" title="4.1.5 引号规范"></a>4.1.5 <strong>引号规范</strong></h3><ul>
<li>属性值使用双引号包裹</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;div :data&#x3D;&quot;data&quot; data-src&#x3D;&quot;some&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h3 id="4-1-6-注释规范"><a href="#4-1-6-注释规范" class="headerlink" title="4.1.6 注释规范"></a>4.1.6 <strong>注释规范</strong></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 头部 --&gt;</span><br><span class="line">&lt;view class&#x3D;&quot;header&quot;&gt;</span><br><span class="line">  &lt;!-- LOGO --&gt;</span><br><span class="line">  &lt;image class&#x3D;&quot;logo&quot;&gt;&lt;&#x2F;image&gt;</span><br><span class="line">  &lt;!-- &#x2F;LOGO --&gt;</span><br><span class="line">  &lt;!-- 详情 --&gt;</span><br><span class="line">  &lt;view class&#x3D;&quot;detail&quot;&gt; &lt;&#x2F;view&gt;</span><br><span class="line">  &lt;!-- &#x2F;详情 --&gt;</span><br><span class="line">&lt;&#x2F;view&gt;</span><br><span class="line">&lt;!-- &#x2F;头部 --&gt;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h2 id="4-2-CSS规范"><a href="#4-2-CSS规范" class="headerlink" title="4.2 CSS规范"></a>4.2 CSS规范</h2><h3 id="4-2-1-css初始化及公用样式"><a href="#4-2-1-css初始化及公用样式" class="headerlink" title="4.2.1 css初始化及公用样式"></a>4.2.1 <strong>css初始化及公用样式</strong></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;* &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;</span><br><span class="line">   css 初始化</span><br><span class="line"> &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; *&#x2F;</span><br><span class="line"> </span><br><span class="line"> &#x2F;* margin padding 初始化为0 *&#x2F;</span><br><span class="line"> body, h1, h2, h3, h4, h5, h6, hr, p, blockquote, dl, dt, dd, ul, ol, li, pre, form, fieldset, legend, button, input, textarea, th, td &#123;</span><br><span class="line">	margin: 0;</span><br><span class="line">	padding: 0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">body, button, input, select, textarea &#123;</span><br><span class="line">	font: 12px&#x2F;1.5tahoma, arial, \5b8b\4f53;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">h1, h2, h3, h4, h5, h6 &#123;	font-size: 100%;&#125;</span><br><span class="line">address, cite, dfn, em, var &#123;	font-style: normal;&#125;</span><br><span class="line"></span><br><span class="line">code, kbd, pre, samp &#123;font-family: couriernew, courier, monospace;&#125;</span><br><span class="line"></span><br><span class="line">small &#123;font-size: 12px;&#125;</span><br><span class="line"></span><br><span class="line">ul, ol &#123;list-style: none;&#125;</span><br><span class="line"></span><br><span class="line">a &#123;text-decoration: none;&#125;</span><br><span class="line"></span><br><span class="line">a:hover &#123;text-decoration: none;&#125;</span><br><span class="line"></span><br><span class="line">sup &#123;vertical-align: text-top;&#125;</span><br><span class="line"></span><br><span class="line">sub &#123;vertical-align: text-bottom;&#125;</span><br><span class="line"></span><br><span class="line">legend &#123;color: #000;&#125;</span><br><span class="line"></span><br><span class="line">fieldset, img &#123;border: 0;&#125;</span><br><span class="line"></span><br><span class="line">button, input, select, textarea &#123;font-size: 100%;&#125;</span><br><span class="line"></span><br><span class="line">table &#123;</span><br><span class="line">	border-collapse: collapse;</span><br><span class="line">	border-spacing: 0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">html, body &#123;font-size: 10px !important;&#125;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>flex布局共用样式类，字体大小样式类，margin,padding类：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;* flex布局共用样式类，字体大小样式类，margin,padding</span><br><span class="line">(如有需求，可自行添加)</span><br><span class="line"> &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; *&#x2F;</span><br><span class="line">.yl-flex&#123;</span><br><span class="line">    dispaly:flex;</span><br><span class="line"> &#125;</span><br><span class="line"> </span><br><span class="line">.flex-center-center&#123;</span><br><span class="line">    justify-content: center;</span><br><span class="line">    justify-items: center;</span><br><span class="line">    align-items: center</span><br><span class="line"> &#125;</span><br><span class="line"> </span><br><span class="line">.flex-start-center&#123;</span><br><span class="line">    justify-content: start;</span><br><span class="line">    justify-items: center;</span><br><span class="line">    align-items: center</span><br><span class="line"> &#125;</span><br><span class="line"> </span><br><span class="line">.flex-end-center&#123;</span><br><span class="line">    justify-content: end;</span><br><span class="line">    justify-items: center;</span><br><span class="line">    align-items: center</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line">.flex-wrap&#123;</span><br><span class="line">  flex-wrap: wrap;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.flex-column&#123;</span><br><span class="line">  flex-direction:column;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.flex-space-around&#123;</span><br><span class="line">  justify-content: space-around;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;* 文本 *&#x2F;</span><br><span class="line">.tl &#123;text-align: left;&#125;</span><br><span class="line"></span><br><span class="line">.tr &#123;	text-align: right;&#125;</span><br><span class="line"></span><br><span class="line">.tc &#123;	text-align: center;&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;* 按钮 *&#x2F;</span><br><span class="line">.btn &#123;</span><br><span class="line">    display: inline-block;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.btn-success &#123;</span><br><span class="line">    background: @success;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.btn-error &#123;</span><br><span class="line">    background: @error;</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;* 按钮禁用 *&#x2F;</span><br><span class="line">.disabled &#123;</span><br><span class="line">	outline: 0 none;</span><br><span class="line">	cursor: default !important;</span><br><span class="line">	opacity: .4;</span><br><span class="line">	filter: alpha(opacity&#x3D;40);</span><br><span class="line">	-ms-pointer-events: none;</span><br><span class="line">	pointer-events: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;* 浮动与清除浮动 *&#x2F;</span><br><span class="line">.fl &#123;</span><br><span class="line">	float: left;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.fr &#123;</span><br><span class="line">	float: right;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.fix &#123;</span><br><span class="line">	*zoom: 1;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.fix:after &#123;</span><br><span class="line">	display: table;</span><br><span class="line">	content: &#39;&#39;;</span><br><span class="line">	clear: both;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;* 显示 *&#x2F; </span><br><span class="line">.dn &#123;</span><br><span class="line">	display: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.di &#123;</span><br><span class="line">	display: inline;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.db &#123;</span><br><span class="line">	display: block;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.dib &#123;</span><br><span class="line">	display: inline-block;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.dt &#123;</span><br><span class="line">	display: table;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;* 定位 *&#x2F; </span><br><span class="line">.pr &#123;</span><br><span class="line">	position: relative;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.pa &#123;</span><br><span class="line">	position: absolute;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.pf &#123;</span><br><span class="line">	position: fixed;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.ml20 &#123;</span><br><span class="line">	margin-left: 20px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.ml10 &#123;</span><br><span class="line">	margin-left: 10px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.mr20 &#123;</span><br><span class="line">	margin-right: 20px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.mr10 &#123;</span><br><span class="line">	margin-right: 10px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.mt20 &#123;</span><br><span class="line">	margin-top: 20px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.mt10 &#123;</span><br><span class="line">	margin-top: 10px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.mb20 &#123;</span><br><span class="line">	margin-bottom: 20px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.mb10 &#123;</span><br><span class="line">	margin-bottom:10px;</span><br><span class="line">&#125;</span><br><span class="line">.ml5&#123;</span><br><span class="line">	margin-left:5px;</span><br><span class="line">&#125;</span><br><span class="line">.m10&#123;</span><br><span class="line">	margin:10px;</span><br><span class="line">&#125;</span><br><span class="line">.m20&#123;</span><br><span class="line">	margin:20px;</span><br><span class="line">&#125;</span><br><span class="line">.p10&#123;</span><br><span class="line">	padding:10px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.p20&#123;</span><br><span class="line">	padding:20px;</span><br><span class="line">&#125;</span><br><span class="line">.pb20&#123;</span><br><span class="line">	padding-bottom:20px;</span><br><span class="line">&#125;</span><br><span class="line">.pb10&#123;</span><br><span class="line">	padding-bottom:20px;</span><br><span class="line">&#125;</span><br><span class="line">.pt20&#123;</span><br><span class="line">	padding-top:20px;</span><br><span class="line">&#125;</span><br><span class="line">.pt10&#123;</span><br><span class="line">	padding-top:10px;</span><br><span class="line">&#125;</span><br><span class="line">.pl20&#123;</span><br><span class="line">	padding-left:20px;</span><br><span class="line">&#125;</span><br><span class="line">.pl10&#123;</span><br><span class="line">	padding-left:10px;</span><br><span class="line">&#125;</span><br><span class="line">.pr20&#123;</span><br><span class="line">	padding-right:20px;</span><br><span class="line">&#125;</span><br><span class="line">.pr10&#123;</span><br><span class="line">	padding-right:10px;</span><br><span class="line">&#125;</span><br><span class="line">.rotate90&#123;</span><br><span class="line">	transform: rotate(90deg);</span><br><span class="line">&#125;</span><br><span class="line">.rotate180&#123;</span><br><span class="line">	transform: rotate(180deg);</span><br><span class="line">&#125;</span><br><span class="line">.rotate270&#123;</span><br><span class="line">	transform: rotate(270deg);</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;* 图片居中 *&#x2F;</span><br><span class="line">.img-middle&#123;</span><br><span class="line">	object-fit: contain;</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;* 文本超出隐藏 *&#x2F;</span><br><span class="line">.txt-ellipsis&#123;</span><br><span class="line">	overflow: hidden;</span><br><span class="line">	text-overflow:ellipsis;</span><br><span class="line">	white-space: nowrap;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.min-h100&#123;</span><br><span class="line">	min-height:100%;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.show &#123;</span><br><span class="line">	display: block;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.hide &#123;</span><br><span class="line">	display: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;* 字体 *&#x2F;</span><br><span class="line"></span><br><span class="line">.f12 &#123;</span><br><span class="line">	font-size: 12px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.f14 &#123;</span><br><span class="line">	font-size: 14px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.f15 &#123;</span><br><span class="line">	font-size: 15px;</span><br><span class="line">&#125;</span><br><span class="line">.f16 &#123;</span><br><span class="line">	font-size: 16px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.f18 &#123;</span><br><span class="line">	font-size: 18px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.f20 &#123;</span><br><span class="line">	font-size: 20px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.f24 &#123;</span><br><span class="line">	font-size: 24px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.f36 &#123;</span><br><span class="line">	font-size: 36px;</span><br><span class="line">&#125;</span><br><span class="line">.f48 &#123;</span><br><span class="line">	font-size: 48px;</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;* 滚动条优化 *&#x2F;</span><br><span class="line">.scroll-style::-webkit-scrollbar &#123;</span><br><span class="line">	width: 5px;</span><br><span class="line">	height: 5px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.scroll-style::-webkit-scrollbar-thumb &#123;</span><br><span class="line">	border-radius: 3px;</span><br><span class="line">	background: #ccc;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.scroll-style::-webkit-scrollbar-track &#123;</span><br><span class="line">	width: 7px;</span><br><span class="line">	background: #ebebeb;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h3 id="4-2-2-id-class命名规则"><a href="#4-2-2-id-class命名规则" class="headerlink" title="4.2.2 id class命名规则"></a>4.2.2 <strong><code>id class</code>命名规则</strong></h3><ul>
<li>首先根据内容命名，如：<code>nav</code>,<code>header</code></li>
<li>内容中的子元素使用<code>-</code>链接，名称一律小写，如：<code>card-item</code></li>
<li>修饰类（易变的）使用<code>--</code>链接，如：<code>card-item--warning</code></li>
<li>若无内容，结合行为进行辅助，如：<code>box-shawder</code></li>
<li>不影响语义的情况下，可缩写，如：<code>img-box</code>,<code>btn</code></li>
<li>避免广告拦截词汇：<code>ad</code>,<code>gg</code>,<code>banner</code>,<code>guagngao</code></li>
</ul>
<h3 id="4-2-3-属性"><a href="#4-2-3-属性" class="headerlink" title="4.2.3 属性"></a>4.2.3 <strong>属性</strong></h3><p><strong>属性顺序</strong></p>
<ul>
<li>位置属性(<code>position</code>,<code>top</code>,<code>right</code>,<code>z-index</code>,<code>display</code>,<code>flaot</code>)</li>
<li>大小(<code>width</code>,<code>height</code>,<code>padding</code>,<code>margin</code>)</li>
<li>文字(<code>font</code>,<code>line-height</code>,<code>letter-spacing</code>, <code>color</code>)</li>
<li>背景 (<code>background</code>,<code>border</code>)</li>
<li>其他(<code>animation</code>,<code>transition</code>)</li>
</ul>
<p><strong>属性简写</strong></p>
<p>属性简写需要你非常清楚属性值的正确顺序，而且在大多数情况下并不需要设置属性简写中包含的所有值，所以建议尽量分开声明会更加清晰；</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;* not good *&#x2F;</span><br><span class="line">.element &#123;</span><br><span class="line">    transition: opacity 1s linear 2s;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">&#x2F;* good *&#x2F;</span><br><span class="line">.element &#123;</span><br><span class="line">    transition-delay: 2s;</span><br><span class="line">    transition-timing-function: linear;</span><br><span class="line">    transition-duration: 1s;</span><br><span class="line">    transition-property: opacity;</span><br><span class="line">&#125;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>margin 和 padding 相反，需要使用简写；margin 和 padding 相反，需要使用简写；</p>
<h3 id="4-2-4-媒体查询"><a href="#4-2-4-媒体查询" class="headerlink" title="4.2.4 媒体查询"></a>4.2.4 <strong>媒体查询</strong></h3><p>尽量将媒体查询的规则靠近与他们相关的规则，不要将他们一起放到一个独立的样式文件中，或者丢在文档的最底部，这样做只会让大家以后更容易忘记他们。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">.element-selected &#123; ... &#125;</span><br><span class="line"></span><br><span class="line">@media (max-width: 768px) &#123;</span><br><span class="line">  .element-selected &#123; ... &#125;</span><br><span class="line">&#125;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h3 id="4-2-5-注释规范"><a href="#4-2-5-注释规范" class="headerlink" title="4.2.5 注释规范"></a>4.2.5 <strong>注释规范</strong></h3><ul>
<li>组件块和子组件之间的注释</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;* &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;</span><br><span class="line">   组件块</span><br><span class="line"> &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; *&#x2F;</span><br><span class="line"></span><br><span class="line">&#x2F;* 子组件块</span><br><span class="line"> &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; *&#x2F;</span><br><span class="line">.selector &#123;</span><br><span class="line">  padding: 15px;</span><br><span class="line">  margin-bottom: 15px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;* 子组件块</span><br><span class="line"> &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; *&#x2F;</span><br><span class="line">.selector-secondary &#123;</span><br><span class="line">  display: block; &#x2F;* 注释*&#x2F;</span><br><span class="line">&#125;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<ul>
<li>单行注释<code>/*</code>后跟空格</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;* xxx *&#x2F;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h3 id="4-2-6-less规范"><a href="#4-2-6-less规范" class="headerlink" title="4.2.6 less规范"></a>4.2.6 <strong>less规范</strong></h3><ul>
<li>组织顺序<ul>
<li>@import</li>
<li>变量声明</li>
<li>样式声明</li>
</ul>
</li>
<li>避免嵌套过多，将嵌套深度限制在3级，超过需重新评估</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">@import &quot;mixins&#x2F;size.less&quot;;</span><br><span class="line"></span><br><span class="line">@default-text-color: #333;</span><br><span class="line"></span><br><span class="line">.page &#123;</span><br><span class="line">  width: 960px;</span><br><span class="line">  margin: 0 auto;</span><br><span class="line">&#125;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h3 id="4-2-7-其他规范"><a href="#4-2-7-其他规范" class="headerlink" title="4.2.7 其他规范"></a>4.2.7 <strong>其他规范</strong></h3><ul>
<li>去掉小数点后面的0，如：rgba(0,0,0,0.5)=&gt;rgba(0,0,0,.5)</li>
<li>颜色代码尽量简写，如：#fff</li>
<li>尽量少用元素选择器，元素选择器和 ID、Class 混合使用也违反关注分离原则。如果HTML标签修改了，就要再去修改 CSS 代码，不利于后期维护。</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;* 不推荐 *&#x2F;</span><br><span class="line">.red &#123;&#125;</span><br><span class="line">.box_green &#123;&#125;</span><br><span class="line">.page .header .login #username input &#123;&#125;</span><br><span class="line">ul#example &#123;&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;* 推荐 *&#x2F;</span><br><span class="line">#nav &#123;&#125;</span><br><span class="line">.box-video &#123;&#125;</span><br><span class="line">#username input &#123;&#125;</span><br><span class="line">#example &#123;&#125;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h2 id="4-3-JavaScript编码规范"><a href="#4-3-JavaScript编码规范" class="headerlink" title="4.3 JavaScript编码规范"></a>4.3 JavaScript编码规范</h2><h3 id="4-3-1-缩进"><a href="#4-3-1-缩进" class="headerlink" title="4.3.1 缩进"></a>4.3.1 <strong>缩进</strong></h3><p>html,css,js缩进一致，使用4个空格。</p>
<h3 id="4-3-2-空格"><a href="#4-3-2-空格" class="headerlink" title="4.3.2 空格"></a>4.3.2 <strong>空格</strong></h3><ul>
<li>二元运算符前后</li>
<li>三元运算符前后</li>
<li>代码块<code>{</code>前</li>
<li>关键字前：else, while, catch, finally</li>
<li>关键字后：if, else, for, while, do, switch, case, catch, finally, with, return</li>
<li>单行注释<code>//</code>后，多行注释<code>/*</code>后</li>
<li>对象的属性值前</li>
<li>for 循环</li>
<li>函数的参数之间</li>
<li>运算符前后</li>
<li>函数声明，函数表达式<code>(</code>前不要空格，<code>)</code>后空格</li>
</ul>
<h3 id="4-3-3-空行"><a href="#4-3-3-空行" class="headerlink" title="4.3.3 空行"></a>4.3.3 <strong>空行</strong></h3><ul>
<li>变量声明后</li>
<li>注释前</li>
<li>代码块后</li>
<li>文件最后保留一个空行</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">let string &#x3D; &#39;my&#39;</span><br><span class="line"></span><br><span class="line">let obj &#x3D; &#123;</span><br><span class="line">    &#39;name&#39;: &#39;yang&#39;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    &#x2F;&#x2F; do something</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;* zheli *&#x2F;</span><br><span class="line">if &#123;</span><br><span class="line">    </span><br><span class="line">&#125; else &#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h3 id="4-3-4-引号"><a href="#4-3-4-引号" class="headerlink" title="4.3.4 引号"></a>4.3.4 <strong>引号</strong></h3><ul>
<li>最外层统一使用单引号。</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">let str &#x3D; &#39;my name is&#39;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h3 id="4-3-5-模板字符串"><a href="#4-3-5-模板字符串" class="headerlink" title="4.3.5 模板字符串"></a>4.3.5 <strong>模板字符串</strong></h3><ul>
<li>需要拼接，尽量少用<code>+</code>，多使用模板字符串</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">let str1 &#x3D; &#39;yang&#39;</span><br><span class="line"></span><br><span class="line">let string &#x3D; &#96;hello $&#123;str1&#125;&#96;</span><br><span class="line"></span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h3 id="4-3-6-命名规范"><a href="#4-3-6-命名规范" class="headerlink" title="4.3.6 命名规范"></a>4.3.6 <strong>命名规范</strong></h3><ul>
<li>变量命名：小驼峰命名</li>
<li>参数名：小驼峰命名</li>
<li>函数名：小驼峰命名</li>
<li>方法/属性名：小驼峰命名</li>
<li>类名开头大写</li>
<li>私有属性、变量和方法以下划线 _ 开头。</li>
<li>常量名：全部使用大写+下划线</li>
<li>由多个单词组成的缩写词，在命名中，根据当前命名法和出现的位置，所有字母的大小写与首字母的大小写保持一致。</li>
<li>语义<ul>
<li>变量应当使用名词，尽量符合当时语义</li>
<li>boolean类型应当使用 is , has 等开头</li>
<li>点击事件命名方式：tap + onClick()</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">let loadingModules &#x3D; &#123;&#125;;</span><br><span class="line"></span><br><span class="line">const HTML_ENTITY &#x3D; &#123;&#125;;</span><br><span class="line"></span><br><span class="line">function stringFormat(theBells) &#123;&#125;</span><br><span class="line"></span><br><span class="line">function insertHTML(element, html) &#123;&#125;</span><br><span class="line"></span><br><span class="line">function Engine(options) &#123;&#125;</span><br><span class="line"></span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h3 id="4-3-7-二元三元操作符"><a href="#4-3-7-二元三元操作符" class="headerlink" title="4.3.7 二元三元操作符"></a>4.3.7 <strong>二元三元操作符</strong></h3><ul>
<li>可用于简单的if替代</li>
<li>操作符始终写在前一行，避免产生预想不到的问题</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 不推荐 </span><br><span class="line">var x &#x3D; a ? b : c;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 推荐 </span><br><span class="line">var y &#x3D; a ?</span><br><span class="line">    longButSimpleOperandB : longButSimpleOperandC;</span><br><span class="line"></span><br><span class="line">var z &#x3D; a ?</span><br><span class="line">        moreComplicatedB :</span><br><span class="line">        moreComplicatedC;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h3 id="4-3-8-amp-amp-和"><a href="#4-3-8-amp-amp-和" class="headerlink" title="4.3.8 &amp;&amp; 和 ||"></a>4.3.8 <strong>&amp;&amp; 和 ||</strong></h3><p>二元布尔操作符是可短路的, 只有在必要时才会计算到最后一项。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 不推荐</span><br><span class="line">function foo(opt_win) &#123;</span><br><span class="line">  var win;</span><br><span class="line">  if (opt_win) &#123;</span><br><span class="line">    win &#x3D; opt_win;</span><br><span class="line">  &#125; else &#123;</span><br><span class="line">    win &#x3D; window;</span><br><span class="line">  &#125;</span><br><span class="line">  &#x2F;&#x2F; ...</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">if (node) &#123;</span><br><span class="line">  if (node.kids) &#123;</span><br><span class="line">    if (node.kids[index]) &#123;</span><br><span class="line">      foo(node.kids[index]);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 推荐</span><br><span class="line">function foo(opt_win) &#123;</span><br><span class="line">  var win &#x3D; opt_win || window;</span><br><span class="line">  &#x2F;&#x2F; ...</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var kid &#x3D; node &amp;&amp; node.kids &amp;&amp; node.kids[index];</span><br><span class="line">if (kid) &#123;</span><br><span class="line">  foo(kid);</span><br><span class="line">&#125;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h3 id="4-3-9-声明规范"><a href="#4-3-9-声明规范" class="headerlink" title="4.3.9 声明规范"></a>4.3.9 <strong>声明规范</strong></h3><ul>
<li>尽量使用 let 声明变量，少用 var 。</li>
</ul>
<h3 id="4-3-10-分号"><a href="#4-3-10-分号" class="headerlink" title="4.3.10 分号"></a>4.3.10 <strong>分号</strong></h3><p>以下情况需要加分号</p>
<ul>
<li>表达式</li>
<li>return</li>
<li>throw</li>
<li>break</li>
<li>continue</li>
<li>do-while</li>
</ul>
<h3 id="4-3-11-注释规范"><a href="#4-3-11-注释规范" class="headerlink" title="4.3.11 注释规范"></a>4.3.11 <strong>注释规范</strong></h3><ul>
<li>单行注释，独占一行，<code>//</code>后跟空格</li>
<li>多行注释，<code>/*</code>后跟空格</li>
<li>函数/方法注释<ul>
<li>注释必须包含函数声明，有参数和返回值时必须注释标识</li>
<li>参数和返回类型必须包含类型信息和说明</li>
<li>当函数是内部函数，外部不可访问时，可使用@inner标识</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 注释</span><br><span class="line"></span><br><span class="line">&#x2F;* xxxx</span><br><span class="line"> xxxx</span><br><span class="line"> xxxxx</span><br><span class="line">&#x2F;*</span><br><span class="line"></span><br><span class="line">&#x2F;** </span><br><span class="line"> * 函数描述</span><br><span class="line"> * @param &#123;string&#125; p1 参数说明</span><br><span class="line"> * @param &#123;string&#125; p2 参数2的说明，比较长</span><br><span class="line"> *     那就换行了.</span><br><span class="line"> * @param &#123;number&#x3D;&#125; p3 参数3的说明（可选）</span><br><span class="line"> * @return &#123;Object&#125; 返回值描述</span><br><span class="line">&#x2F;*</span><br><span class="line">function foo(p1, p2, p3) &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">        p1: p1,</span><br><span class="line">        p2: p2</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h2 id="4-4-ESlint语法检测"><a href="#4-4-ESlint语法检测" class="headerlink" title="4.4 ESlint语法检测"></a>4.4 ESlint语法检测</h2><p>语法检测可以帮我们确定部分语法是否准确。</p>
<h1 id="（五）-代码提交规范"><a href="#（五）-代码提交规范" class="headerlink" title="（五） 代码提交规范"></a>（五） 代码提交规范</h1><p><a href="https://juejin.cn/post/6844904147892830221" target="_blank" rel="noopener">代码提交规范及版本管理</a></p>
<h1 id="（六）版本管理"><a href="#（六）版本管理" class="headerlink" title="（六）版本管理"></a>（六）版本管理</h1><p><a href="https://juejin.cn/post/6844904147892830221" target="_blank" rel="noopener">代码提交规范及版本管理</a></p>
<h1 id="（七）部署"><a href="#（七）部署" class="headerlink" title="（七）部署"></a>（七）部署</h1>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2021/09/27/%E4%BD%BF%E7%94%A8vue%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E9%A1%B9%E7%9B%AE/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Dali">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/header.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DaliBlogs">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2021/09/27/%E4%BD%BF%E7%94%A8vue%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E9%A1%B9%E7%9B%AE/" itemprop="url">使用vue从零搭建项目</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2021-09-27T09:20:48+08:00">
                2021-09-27
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="1-下载vue-cli"><a href="#1-下载vue-cli" class="headerlink" title="1.下载vue-cli"></a>1.下载vue-cli</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g @vue/cli</span><br></pre></td></tr></table></figure>

<h3 id="2-初始化项目"><a href="#2-初始化项目" class="headerlink" title="2.初始化项目"></a>2.初始化项目</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vue init webpack vue-elementui（项目名称）</span><br></pre></td></tr></table></figure>

<p><img src="https://img2018.cnblogs.com/blog/1048550/201812/1048550-20181214102121337-857425036.png" alt="img"></p>
<p><img src="https://img2018.cnblogs.com/blog/1048550/201812/1048550-20181214102529986-17374974.png" alt="img"></p>
<h3 id="3-按需引入element-ui"><a href="#3-按需引入element-ui" class="headerlink" title="3.按需引入element-ui"></a>3.按需引入element-ui</h3><p>安装element-ui </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i element-ui -S</span><br></pre></td></tr></table></figure>

<p>安装 babel-plugin-component：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install babel-plugin-component -D</span><br></pre></td></tr></table></figure>

<p>然后，将 .babelrc 修改为：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"plugins"</span>: [</span><br><span class="line">    [</span><br><span class="line">      <span class="string">"component"</span>,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">"libraryName"</span>: <span class="string">"element-ui"</span>,</span><br><span class="line">        <span class="attr">"styleLibraryName"</span>: <span class="string">"theme-chalk"</span></span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>接下来，如果你只希望引入部分组件，比如 Button 和 Select，那么需要在 main.js 中写入以下内容：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; Button, Select &#125; <span class="keyword">from</span> <span class="string">'element-ui'</span>;</span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">'./App.vue'</span>;</span><br><span class="line"></span><br><span class="line">Vue.component(Button.name, Button);</span><br><span class="line">Vue.component(Select.name, Select);</span><br><span class="line"><span class="comment">/* 或写为</span></span><br><span class="line"><span class="comment"> * Vue.use(Button)</span></span><br><span class="line"><span class="comment"> * Vue.use(Select)</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  el: <span class="string">'#app'</span>,</span><br><span class="line">  render: <span class="function"><span class="params">h</span> =&gt;</span> h(App)</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>修改默认配置</p>
<p>在引入 Element 时，可以传入一个全局配置对象。该对象目前支持 <code>size</code> 与 <code>zIndex</code> 字段。<code>size</code> 用于改变组件的默认尺寸，<code>zIndex</code> 设置弹框的初始 z-index（默认值：2000）。按照引入 Element 的方式，具体操作如下：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; Button &#125; <span class="keyword">from</span> <span class="string">'element-ui'</span>;</span><br><span class="line"></span><br><span class="line">Vue.prototype.$ELEMENT = &#123; <span class="attr">size</span>: <span class="string">'small'</span>, <span class="attr">zIndex</span>: <span class="number">3000</span> &#125;;</span><br></pre></td></tr></table></figure>


          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2021/06/10/%E5%89%8D%E5%90%8E%E7%AB%AF%E5%88%86%E7%A6%BB%E6%98%AF%E5%92%8B%E4%B8%AA%E6%84%8F%E6%80%9D/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Dali">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/header.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DaliBlogs">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2021/06/10/%E5%89%8D%E5%90%8E%E7%AB%AF%E5%88%86%E7%A6%BB%E6%98%AF%E5%92%8B%E4%B8%AA%E6%84%8F%E6%80%9D/" itemprop="url">前后端分离是咋个意思</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2021-06-10T10:20:06+08:00">
                2021-06-10
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="前后端分离的概念"><a href="#前后端分离的概念" class="headerlink" title="前后端分离的概念"></a><a href="https://www.cnblogs.com/yanggb/p/10828830.html" target="_blank" rel="noopener">前后端分离的概念</a></h1><p>前后端分离已成为互联网项目开发的业界标准使用方式，通过Nginx+Tomcat的方式（也可以中间加一个NodeJS）有效地对前端和后端的开发进行解耦。并且前后端分离会为以后的大型分布式架构、弹性计算架构、微服务架构、多端化服务（各种客户端，比如浏览器、车载终端、安卓、IOS等）打下坚实的基础。前后端分离的核心思想就是前端HTML页面通过AJAX调用后端的RESTFUL API接口，并通过JSON数据进行交互。</p>
<p><strong>前端的开发与后端的开发分离</strong></p>
<p>以前的JavaWeb项目，大多数都是Java程序员又搞前端，又搞后端。而随着时代的发展，渐渐的许多大中小公司开始把前后端的界限分得越来越明确，即前端工程师只管前端的开发，后端工程师只管后端的开发。</p>
<p>前端追求的是页面的表现、速度的流畅、兼容性和用户的体验等。因此对于前端开发工程师来说，需要把精力放在HTML5、CSS3、JavaScript、jQuery、AngularJS、BootStrap、ReactJS、VueJS、Webpack、Less/Sass、Gulp、NodeJS、Google V8引擎、JS多线程、JS模块化、JS面向切面编程、设计模式、浏览器兼容性、性能优化等上。</p>
<p>后端追求的是三高（高并发、高可用、高性能）、安全、存储、业务等。因此对于后端开发工程师来说，需要把精力放在Java基础、设计模式、JVM原理、Spring全家桶的原理及源码、Linux、关系型数据库事务隔离和锁机制、MongoDB、HTTP/TCP、多线程、分布式架构、弹性计算架构、微服务架构、Java性能优化、数据库性能优化以及相关的项目管理等等。</p>
<p><strong>前后端分离解决的耦合问题</strong></p>
<p>曾几何时，我们的JavaWeb项目都是使用了若干个后台框架，比如Spring MVC、Structs、Spring Boot、Spring JDBC、Hibernate、MyBatis等。大多数项目在Java后端都是分了三层，即控制层（Controller）、业务层（Service）和持久层（Dao）。控制层负责接收参数，调用相关业务层，封装数据，以及路由和渲染到JSP页面（或模板页面，如Freemarker）。然后JSP页面上使用各种标签或者手写Java表达式将后台的数据展现出来，玩的就是MVC那套思路。</p>
<p>我们先看这种情况：我们开发一个网站，需求定完了，代码写完了，测试跑完了，用Maven或IDE等工具把代码打成一个war包完了，把war包发布到生产环境下的WEB容器完了，启动WEB容器完了，域名、DNS配置完了，网站就可以访问了。这时候，我们的前后端代码全都在那个war包里了，包括JS、CSS、图片等各种静态资源文件。</p>
<p>接下来，我们在浏览器中输入网站域名（<a href="http://www.xxx.com），浏览器在通过域名和DNS服务器找到我们的服务器外网IP，将HTTP请求发送到你的服务器，在TCP三次握手之后（HTTP下面是TCP/IP），通过TCP协议开始传输数据，我们的服务器得到请求后，开始提供服务，接收参数，之后返回我们的应答给浏览器，浏览器再通过Content-type来解析返回的内容，呈现给用户。" target="_blank" rel="noopener">www.xxx.com），浏览器在通过域名和DNS服务器找到我们的服务器外网IP，将HTTP请求发送到你的服务器，在TCP三次握手之后（HTTP下面是TCP/IP），通过TCP协议开始传输数据，我们的服务器得到请求后，开始提供服务，接收参数，之后返回我们的应答给浏览器，浏览器再通过Content-type来解析返回的内容，呈现给用户。</a></p>
<p>这里我们假设我们的首页中有100张图片，那么当用户访问首页的时候，就需要建立100个HTTP请求，我们的服务器接收这些请求，都需要耗费内存去创建Socket来玩TCP传输（消耗服务器上的计算资源）。重点来了，这样的话，我们的服务器的压力就会非常大，因为页面中的所有请求都是只请求到我们的这台服务器上，如果一个人还好，如果是有10000个人并发访问呢（这里先不说服务器集群，就说单实例服务器），那么我们的服务器恐怕扛不住（TCP连接、带宽、内存、硬盘、IO、WEB服务器的内存等方面），恐怕会宕机。</p>
<p>这就是为什么大中型的WEB应用要解耦的原因。理论上我们是可以把数据库、应用服务、消息队列、缓存、用户上传的文件、日志等都丢在一台服务器上，也不用玩什么服务治理，也不用做什么性能监测，什么报警机制等，爱宕机就宕机好了（佛系青年）。可是现实不允许我们宕机啊，当某个子应用因为内存不稳定而导致整个服务器内存溢出，再而导致我们的网站挂掉的时候，我们就糟糕了。比如我们公司的业务如果这时候正好处于井喷式发展的高峰期的时候，服务器挂掉了，业务就被技术卡住了，那么就可能会导致大量用户的流失，后果不堪设想。</p>
<p>另外的，当你的应用全都耦合在一起，就相当于一块巨石，当服务器负载能力不足时，一般会使用负载均衡的方式，将服务器做成集群。这样其实你是在水平扩展一块块巨石，性能加速度会越来越低。要知道，本身负载就低的功能或模块是没有必要水平扩展的，水平扩展要针对性能瓶颈去扩展才对。在这里的例子中，性能瓶颈跟前端没有关系，没有必要去水平扩展前端。同时，发版部署的时候，如果只是改了后端的代码，却要前端代码也跟着重新发布，显然也降低了效率。</p>
<p>正因为这样，正常的互联网架构都是把WEB服务器集群、应用服务器集群、文件服务器集群、数据库服务器集群、消息队列集群、缓存集群等集群拆分开的。</p>
<p><strong>前后端耦合的缺点（以JSP为例）</strong></p>
<p>以前的JavaWeb项目大多数使用JSP作为页面层展示数据给用户，因为流量不高，因此也没有那么苛刻的性能要求，但现在是大数据时代，对于互联网项目的性能要求是越来越高，因此原始的前后端耦合在一起的架构模式已经逐渐不能满足我们，因此我们需要找到一种解耦的方式，以大幅提升我们的负载能力。前后端耦合主要有以下的缺点（以JSP为例）：</p>
<p>1.动态资源和静态资源全部耦合在一起，服务器压力大，因为服务器会收到各种HTTP请求，例如CSS的HTTP请求，JS的，图片的等等。一旦服务器出现状况，前后台一起完犊子，用户体验极差。如果前后端分离，你后端的服务器挂了，前端服务器没挂，用户仍然可以看到界面，虽然请求不到数据，嘿嘿。</p>
<p>2.UI出好设计图之后，前端开发工程师只负责将设计图切成HTML，需要由Java开发工程师来将HTML套成JSP页面，出错率较高（因为页面中经常会出现大量的JS代码），修改问题的时候需要双方协同开发，效率低下。</p>
<p>3.JSP页面必须要在支持Java的WEB服务器上运行（如Tomcat、Jetty、Resin等），无法使用Nginx等（官方宣称单实例HTTP并发高达5W），性能提升不上来。</p>
<p>4.第一次请求JSP，必须要在WEB服务器中编译成Servlet，第一次运行会较慢。然后之后的每次请求JSP都是访问Servlet再用输出流输出的HTML页面，效率没有直接使用HTML高（注意是每次噢）。</p>
<p>5.JSP内有较多内置的专属标签和表达式，前端开发工程师在修改页面时往往会挠头挠到秃头。</p>
<p>6.如果JSP中的内容很多，页面响应会很慢，因为是同步加载，一次输出所有内容。</p>
<p>7.修改JSP页面需要前端开发工程师使用Java的IDE以及配置各种后端的开发环境，对前端开发工程师极不友好。</p>
<p><strong>前后端分离的优点</strong></p>
<p>1.前后端分离可以真正地实现前后端解耦，前端服务器使用Nginx。前端/WEB服务器放的是CSS、JS和图片等一系列静态资源（甚至可以把这些静态资源放到特定的文件服务器，如阿里云的OSS，并使用CDN加速）。前端服务器负责控制页面引用、跳转和路由，前端页面通过AJAX异步调用后端的接口，后端/应用服务器使用Tomcat（把风花雪月交给前端，只提供数据），加快整体响应数据。（这里需要使用一些前端工程化的框架，如NodeJS、React、Router、Reudx、Webpack等）</p>
<p>2.前后端分离的模式下，如果发现Bug，可以快速定位是谁的问题，不会出现互相踢皮球的现象。如果是页面逻辑、跳转错误、浏览器兼容性问题、脚本错误、页面样式等问题，通通是前端开发工程师的锅。如果是接口数据出错、数据提交失败、应答超时等问题，则后端开发工程师应该挺身接锅。双方职责分明，就不会打架。</p>
<p>3.前后端分离在大并发的情况下，我们可以同时水平扩展前后端服务器。要知道淘宝的一个首页就需要2000+台前端服务器做集群来抗住日均多少亿的日均PV。（阿里的技术峰会说到他们的WEB容器都是自己写的，就算单实例抗10万HTTP并发，2000台是2亿HTTP并发，并且他们还可以根据预知洪峰来无限扩展，好恐怖啊，就一个首页。。）</p>
<p>4.前后端分离可以减少后端服务器的并发/负载压力。除了接口以外的其他所有HTTP请求全部转移到前端Nginx上，接口的请求则转发调用Tomcat。且除了第一次页面请求外，浏览器会大量调用本地缓存去缓存页面。</p>
<p>5.前后端分离的模式下，即使后端服务器暂时超时或宕机了，前端页面也会正常访问，只不过数据刷不出来而已。</p>
<p>6.前后端分离的模式下，后台的接口可以复用。比如需要做微信相关的轻应用，接口就完全可以共用，再比如说APP相关的服务，也可以只通过一些代码重构，就可以大量复用接口，提升开发效率。（多端应用）</p>
<p>7.页面显示再多的内容也不怕了，因为从同步加载改成了异步加载。</p>
<p>8.Nginx支持页面的热部署，不用重启服务器，前端升级更无缝。</p>
<p>9.增加代码的维护性和易读性，提高开发效率（前后端代码耦合在一起很难读，比如JSP页面）。</p>
<p>10.前后端可以并行开发，提高开发效率。</p>
<p>11.在Nginx中部署证书，外网使用HTTPS访问，并且只开放443和80端口，其他端口一律关闭（防止黑客端口扫描），内网使用HTTP，性能和安全都有保障。</p>
<p><strong>前后端分离的注意事项</strong></p>
<p>1.在开需求会议的时候，前后端工程师必须全部参加，并且需要制定好接口文档，后端工程师要写好测试用例（2个维度），不要让前端工程师充当你的专职测试。</p>
<p>2.上述的接口并不是Java里的Interface，说白了调用接口就是调用你Controller里面的方法。</p>
<p>3.我们需要一些前端的框架来解决类似于页面嵌套，分页，页面跳转控制等功能。</p>
<p>4.小项目的话，比如单纯的内网项目，就没有必要前后端分离了，复杂架构反而会拖累性能。但是如果是大型外网项目，前后端分离就非常必要了。</p>
<p>5.以前还有人用类似于Velocity/Freemarker等框架模板生成静态页面，个人觉得和使用JSP其实也相差不远，也就是性能好一点，没有实现真正的前后端分离。</p>
<p>6.前后端分离会加重前端团队的工作量，减轻后端团队的工作量，提高了性能和可扩展性。</p>
<p>7.如果页面上有一些权限等等相关的校验，这些相关的和数据也可以通过AJAX从接口里拿。</p>
<p>8.对于既可以前端做又可以后端做的逻辑，建议放在前端，因为逻辑计算时需要计算资源的，如果放到后端去运行逻辑，则会消耗带宽、内存和CPU等等计算资源。你要记住一点就是服务端的计算资源是有限的，而如果放到前端，使用的是客户端的计算资源，这样你的服务端负载就会下降（高并发场景）。类似于数据校验这种，前后端都需要做。</p>
<p>9.前端需要有机制应对后端请求超时以及后端服务宕机的情况，友好地展示给客户。</p>
<p><strong>前后端分离的扩展阅读</strong></p>
<p>1.对于JS、CSS、图片这类静态资源可以考虑放到类似于阿里云的OSS这类文件服务器上（如果是普通的服务器和操作系统，存储在到达PB级（1000TB）的文件后，或者单个文件夹内的文件数量达到3-5万，IO会有很严重的性能问题），再在OSS上配CDN（全国子节点加速），这样你页面打开的速度像飞一样，无论你在全国的哪个地方，并且你的Nginx的负载会进一步降低。</p>
<p>2.如果你要玩轻量级微服务架构，要使用NodeJS做网关，用NodeJS的好处还有利于SEO优化，因为Nginx只是向浏览器返回页面静态资源，而国内的搜索引擎爬虫只会抓取静态数据，不会解析页面中的JS，这使得应用得不到良好的搜索引擎支持。同时因为Nginx不会进行页面的组装渲染，需要把静态页面返回到浏览器，然后完成渲染工作，加重了浏览器的渲染负担。浏览器发起的请求经过Nginx进行分发，URL请求统一分发到NodeJS，在NodeJS中进行页面组装渲染；API请求则直接发送到后端服务器，完成响应。</p>
<p>3.如果遇到跨域问题，Spring4的CORS可以完美解决。但一般使用Nginx做反向代理的都不会有跨域问题，除非你把前端服务和后端服务分成两个域名。JSONP的方式也被淘汰掉了。</p>
<p>4.如果想玩多端应用，主要要去掉Tomcat原生的session机制。要使用token机制，使用缓存（因为是分布式系统），做单点。关于token机制的安全性问题，可以了解下JWT（JSON Web Token）。</p>
<p>5.前端项目中可以加入mock测试（构造虚拟测试对象来模拟后端，可以独立开发和测试），后端则需要有详细的测试用例，保证服务的可用性和稳定性。</p>
<p><strong>总结</strong></p>
<p>前后端分离并非仅仅是一种开发模式，而是一种架构模式（前后端分离架构）。千万不要以为只有在写代码的时候把前端和后端分开就是前后端分离了，这样的理解太片面了。前后端分离是需要区分前后端项目的，即前端项目和后端项目是两个项目，放在两个不同的服务器，需要独立部署，两个不同的工程，两个不同的代码库，两组不同的开发人员。前后端开发工程师需要约定交互的接口，实现并行开发。而在开发结束之后，前端项目和后端项目都需要进行独立部署，前端通过AJAX来调用HTTP请求，调用后端的RESTFUL API。前端只需要关注页面的样式与动态数据的解析和渲染，不用关心数据是怎么产生的；后端则专注于具体的业务逻辑，返回前端展现所需要的业务数据即可。</p>
<p>转载自：<a href="https://www.cnblogs.com/yanggb/p/10828830.html" target="_blank" rel="noopener">https://www.cnblogs.com/yanggb/p/10828830.html</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2021/06/10/js%E4%B9%8B%E5%A3%B0%E6%98%8E%E5%8F%98%E9%87%8Fval-let-const/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Dali">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/header.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DaliBlogs">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2021/06/10/js%E4%B9%8B%E5%A3%B0%E6%98%8E%E5%8F%98%E9%87%8Fval-let-const/" itemprop="url">js之声明变量val/let/const</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2021-06-10T09:35:38+08:00">
                2021-06-10
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/js/" itemprop="url" rel="index">
                    <span itemprop="name">js</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h2 id="三者区别"><a href="#三者区别" class="headerlink" title="三者区别"></a>三者区别</h2><p><code>var</code>、<code>let</code>、<code>const</code>三者区别可以围绕下面五点展开：</p>
<ul>
<li>变量提升</li>
<li>暂时性死区</li>
<li>块级作用域</li>
<li>重复声明</li>
<li>修改声明的变量</li>
<li>使用</li>
</ul>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2021/06/10/js%E4%B9%8B%E5%A3%B0%E6%98%8E%E5%8F%98%E9%87%8Fval-let-const/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2021/06/09/%E6%B5%8F%E8%A7%88%E5%99%A8%E7%BC%93%E5%AD%98%E9%82%A3%E4%BA%9B%E4%BA%8B%E5%84%BF/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Dali">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/header.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DaliBlogs">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2021/06/09/%E6%B5%8F%E8%A7%88%E5%99%A8%E7%BC%93%E5%AD%98%E9%82%A3%E4%BA%9B%E4%BA%8B%E5%84%BF/" itemprop="url">浏览器缓存那些事儿</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2021-06-09T18:02:12+08:00">
                2021-06-09
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%B5%8F%E8%A7%88%E5%99%A8%E7%BC%93%E5%AD%98/" itemprop="url" rel="index">
                    <span itemprop="name">浏览器缓存</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>在前端性能优化的方式中，最重要的当然是缓存了，使用好了缓存，对项目有很大的帮助。比如我们访问网页时，使用网页后退功能，会发现加载的非常快，体验感很好，这就是缓存的力量。</p>
<p><strong>什么是缓存呢？</strong></p>
<p>当我们第一次访问网站的时候，比如 juejin.cn，电脑会把网站上的图片和数据下载到电脑上，当我们再次访问该网站的时候，网站就会从电脑中直接加载出来，这就是缓存。</p>
<p><strong>缓存有哪些好处？</strong></p>
<p>\1. 缓解服务器压力，不用每次都去请求某些数据了。</p>
<p>2.提升性能，打开本地资源肯定会比请求服务器来的快。</p>
<p>3.减少带宽消耗，当我们使用缓存时，只会产生很小的网络消耗，至于为什么打开本地资源也会产生网络消耗，下面会有说明。</p>
<p><strong>Web缓存种类：</strong> 数据库缓存，CDN缓存，代理服务器缓存，浏览器缓存。（<em>CDN</em>的全称是Content Delivery Network，即内容分发网络。）</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/pfCCZhlbMQTa3jqibNjSs3IyOFcZc7w4GRA41cQkiaUBowbibeKCicEyXmDOibd4obBg0YibnhOG1TyLS1XCibbNgXpwA/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="图片"></p>
<p>所谓浏览器缓存其实就是指在本地使用的计算机中开辟一个内存区，同时也开辟一个硬盘区作为数据传输的缓冲区，然后用这个缓冲区来暂时保存用户以前访问过的信息。</p>
<p><strong>浏览器缓存过程：</strong> 强缓存，协商缓存。</p>
<p><strong>浏览器缓存位置一般分为四类：</strong> Service Worker–&gt;Memory Cache–&gt;Disk Cache–&gt;Push Cache。</p>
<h2 id="1-强缓存"><a href="#1-强缓存" class="headerlink" title="1. 强缓存"></a>1. 强缓存</h2><p>强缓存是当我们访问URL的时候，不会向服务器发送请求，直接从缓存中读取资源，但是会返回200的状态码。</p>
<p><strong>如何设置强缓存？</strong></p>
<p>我们第一次进入页面，请求服务器，然后服务器进行应答，浏览器会根据response Header来判断是否对资源进行缓存，如果响应头中expires、pragma或者cache-control字段，代表这是强缓存，浏览器就会把资源缓存在memory cache 或 disk cache中。</p>
<p>第二次请求时，浏览器判断请求参数，如果符合强缓存条件就直接返回状态码200，从本地缓存中拿数据。否则把响应参数存在request header请求头中，看是否符合协商缓存，符合则返回状态码304，不符合则服务器会返回全新资源。</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_jpg/pfCCZhlbMQTa3jqibNjSs3IyOFcZc7w4Ge2M4gZBlxdVaIBeM1nZTKEWJb0lZCIM7OblA90FKXdiaCKYNXB3rV6w/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="图片"></p>
<h3 id="expires"><a href="#expires" class="headerlink" title="expires"></a>expires</h3><p>是HTTP1.0控制网页缓存的字段，值为一个时间戳，准确来讲是格林尼治时间，服务器返回该请求结果缓存的到期时间，意思是，再次发送请求时，如果未超过过期时间，直接使用该缓存，如果过期了则重新请求。</p>
<p>有个缺点，就是它判断是否过期是用本地时间来判断的，本地时间是可以自己修改的。</p>
<h3 id="Cache-Control"><a href="#Cache-Control" class="headerlink" title="Cache-Control"></a>Cache-Control</h3><p>是HTTP1.1中控制网页缓存的字段，当Cache-Control都存在时，Cache-Control优先级更高，主要取值为：</p>
<p>public：资源客户端和服务器都可以缓存。</p>
<p>privite：资源只有客户端可以缓存。</p>
<p>no-cache：客户端缓存资源，但是是否缓存需要经过协商缓存来验证。</p>
<p>no-store：不使用缓存。</p>
<p>max-age：缓存保质期。</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz/pfCCZhlbMQTa3jqibNjSs3IyOFcZc7w4GBicZrW6HHJGOdmHPhxFibaog60ufRBbIXwN3USoEncTxpaBhPoYiaHZrQ/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="图片"></p>
<p>Cache-Control使用了max-age相对时间，解决了expires的问题。</p>
<h3 id="pragma"><a href="#pragma" class="headerlink" title="pragma"></a>pragma</h3><p>这个是HTTP1.0中禁用网页缓存的字段，其取值为no-cache，和Cache-Control的no-cache效果一样。</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/pfCCZhlbMQTa3jqibNjSs3IyOFcZc7w4GD80NuS66ZINhYHTwHdF20nwMboibG50j5dSOzwuzHHlyicoeOSvXiaXLg/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="图片"></p>
<h2 id="2-缓存位置"><a href="#2-缓存位置" class="headerlink" title="2. 缓存位置"></a>2. 缓存位置</h2><p>上面我们说，强缓存我们会把资源房放到memory cache 和 disk cache中，那什么资源放在memory cache，什么资源放在disk cache中？</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz/pfCCZhlbMQTa3jqibNjSs3IyOFcZc7w4GKjyyCnwZaHUpfzHqNLpG5uNKZGeRRDtLt7r6icyKdHGBiadPnkTFibhKw/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="图片"></p>
<p>存存储图像和网页等资源主要缓存在disk cache，操作系统缓存文件等资源大部分都会缓存在memory cache中。具体操作浏览器自动分配，看谁的资源利用率不高就分给谁。</p>
<p>可以看到memory cache请求时间都是0ms，这个是不是太神奇了，这方面我来梳理下。</p>
<p>查找浏览器缓存时会按顺序查找: Service Worker–&gt;Memory Cache–&gt;Disk Cache–&gt;Push Cache。</p>
<h3 id="1-Service-Worker"><a href="#1-Service-Worker" class="headerlink" title="1. Service Worker"></a>1. Service Worker</h3><p>是运行在浏览器背后的独立线程，一般可以用来实现缓存功能。使用 Service Worker的话，传输协议必须为 HTTPS。因为 Service Worker 中涉及到请求拦截，所以必须使用 HTTPS 协议来保障安全。Service Worker 的缓存与浏览器其他内建的缓存机制不同，它可以让我们自由控制缓存哪些文件、如何匹配缓存、如何读取缓存，并且缓存是持续性的。</p>
<h3 id="2-Memory-Cache"><a href="#2-Memory-Cache" class="headerlink" title="2. Memory Cache"></a>2. Memory Cache</h3><p>内存中的缓存，主要包含的是当前中页面中已经抓取到的资源，例如页面上已经下载的样式、脚本、图片等。读取内存中的数据肯定比磁盘快，内存缓存虽然读取高效，可是缓存持续性很短，会随着进程的释放而释放。一旦我们关闭 Tab 页面，内存中的缓存也就被释放了。</p>
<h3 id="3-Disk-Cache"><a href="#3-Disk-Cache" class="headerlink" title="3. Disk Cache"></a>3. Disk Cache</h3><p>存储在硬盘中的缓存，读取速度慢点，但是什么都能存储到磁盘中，比之 Memory Cache 胜在容量和存储时效性上。</p>
<p>在所有浏览器缓存中，Disk Cache 覆盖面基本是最大的。它会根据 HTTP Herder 中的字段判断哪些资源需要缓存，哪些资源可以不请求直接使用，哪些资源已经过期需要重新请求。并且即使在跨站点的情况下，相同地址的资源一旦被硬盘缓存下来，就不会再次去请求数据。绝大部分的缓存都来自 Disk Cache。</p>
<p>memory cache 要比 disk cache 快的多。举个例子：从远程 web 服务器直接提取访问文件可能需要500毫秒(半秒)，那么磁盘访问可能需要10-20毫秒，而内存访问只需要100纳秒，更高级的还有 L1缓存访问(最快和最小的 CPU 缓存)只需要0.5纳秒。</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/pfCCZhlbMQTa3jqibNjSs3IyOFcZc7w4GULShqbbJp7kswIj1OnPub7ib0CZZZ2j2hPdNmXXdNYw4WwI1ZVca2wA/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="图片"></p>
<p>很神奇的，我们又看到了一个prefetch cache，这个又是什么呢?</p>
<p><strong>prefetch cache(预取缓存)</strong></p>
<p>link标签上带了prefetch，再次加载会出现。</p>
<p>prefetch是预加载的一种方式，被标记为prefetch的资源，将会被浏览器在空闲时间加载。</p>
<h3 id="4-Push-Cache"><a href="#4-Push-Cache" class="headerlink" title="4. Push Cache"></a>4. Push Cache</h3><p>Push Cache（推送缓存）是 HTTP/2 中的内容，当以上三种缓存都没有命中时，它才会被使用。它只在会话（Session）中存在，一旦会话结束就被释放，并且缓存时间也很短暂，在Chrome浏览器中只有5分钟左右，同时它也并非严格执行HTTP头中的缓存指令。</p>
<h3 id="5-CPU、内存、硬盘"><a href="#5-CPU、内存、硬盘" class="headerlink" title="5. CPU、内存、硬盘"></a>5. CPU、内存、硬盘</h3><p>这里提到了硬盘，内存，可能有些小伙伴对硬盘，内存没什么直观的概念。</p>
<p>CPU、内存、硬盘都是计算机的主要组成部分。</p>
<p>CPU：中央处理单元(CntralPocessingUit)的缩写，也叫处理器，是计算机的运算核心和控制核心。电脑靠CPU来运算、控制。让电脑的各个部件顺利工作，起到协调和控制作用。</p>
<p>硬盘：存储资料和软件等数据的设备，有容量大，断电数据不丢失的特点。</p>
<p>内存：负责硬盘等硬件上的数据与CPU之间数据交换处理。特点是体积小，速度快，有电可存，无电清空，即电脑在开机状态时内存中可存储数据，关机后将自动清空其中的所有数据。</p>
<h2 id="3-协商缓存"><a href="#3-协商缓存" class="headerlink" title="3. 协商缓存"></a>3. 协商缓存</h2><p>协商缓存就是强缓存失效后，浏览器携带缓存标识向服务器发送请求，由服务器根据缓存标识来决定是否使用缓存的过程。</p>
<p>主要有以下两种情况：</p>
<p>协商缓存生效，返回304</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz/pfCCZhlbMQTa3jqibNjSs3IyOFcZc7w4GuV1eDTshH4Bw4tpOdUKORwYFjw2AqkvyDnibvYVcboDug5AfhDWEMzw/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="图片"></p>
<p>协商缓存失效，返回200和请求结果</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz/pfCCZhlbMQTa3jqibNjSs3IyOFcZc7w4Gd8150SYO5nnlOW2BP96KGiaINxaI0yNu4yZ4bpYOIrNb6nyp7URI4ZQ/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="图片"></p>
<p><strong>如何设置协商缓存？</strong></p>
<h3 id="Last-Modified-If-Modified-Since"><a href="#Last-Modified-If-Modified-Since" class="headerlink" title="Last-Modified / If-Modified-Since"></a>Last-Modified / If-Modified-Since</h3><p>Last-Modified是服务器响应请求时，返回该资源文件在服务器最后被修改的时间。</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz/pfCCZhlbMQTa3jqibNjSs3IyOFcZc7w4G1597usLPNrtgrr3S1xYYILDpDOgYJaVYicAn2AWoU5vPfseeYRv6ofg/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="图片"></p>
<p>If-Modified-Since则是客户端再次发起该请求时，携带上次请求返回的Last-Modified值，通过此字段值告诉服务器该资源上次请求返回的最后被修改时间。服务器收到该请求，发现请求头含有If-Modified-Since字段，则会根据If-Modified-Since的字段值与该资源在服务器的最后被修改时间做对比，若服务器的资源最后被修改时间大于If-Modified-Since的字段值，则重新返回资源，状态码为200；否则则返回304，代表资源无更新，可继续使用缓存文件。</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz/pfCCZhlbMQTa3jqibNjSs3IyOFcZc7w4GjbpvNGAZ2NFxL0kYIVBT2oIJnsLyClDUlFliapJiafJuEUNVpwZ5ZOyQ/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="图片"></p>
<h3 id="Etag-If-None-Match"><a href="#Etag-If-None-Match" class="headerlink" title="Etag / If-None-Match"></a>Etag / If-None-Match</h3><p>Etag是服务器响应请求时，返回当前资源文件的一个唯一标识(由服务器生成)。</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz/pfCCZhlbMQTa3jqibNjSs3IyOFcZc7w4GuDq5Hyv08JaVkWE0yftzQtPPnbLEliaz4ibhZzGBIewuIZ3dDicTA7lWg/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="图片"></p>
<p>If-None-Match是客户端再次发起该请求时，携带上次请求返回的唯一标识Etag值，通过此字段值告诉服务器该资源上次请求返回的唯一标识值。服务器收到该请求后，发现该请求头中含有If-None-Match，则会根据If-None-Match的字段值与该资源在服务器的Etag值做对比，一致则返回304，代表资源无更新，继续使用缓存文件；不一致则重新返回资源文件，状态码为200。</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz/pfCCZhlbMQTa3jqibNjSs3IyOFcZc7w4Gjejic7ibMqZabLpcECpjSWH81c4iacIyN6JlK1yf8fgVxJHObGHaN70Mw/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="图片"></p>
<blockquote>
<p>Etag / If-None-Match优先级高于Last-Modified / If-Modified-Since，同时存在则只有Etag / If-None-Match生效。</p>
</blockquote>
<h2 id="4-缓存方案"><a href="#4-缓存方案" class="headerlink" title="4. 缓存方案"></a>4. 缓存方案</h2><p>目前的项目大多使用这种缓存方案的：</p>
<ul>
<li>HTML: 协商缓存；</li>
<li>css、js、图片：强缓存，文件名带上hash。</li>
</ul>
<h2 id="5-强缓存与协商缓存的区别"><a href="#5-强缓存与协商缓存的区别" class="headerlink" title="5. 强缓存与协商缓存的区别"></a>5. 强缓存与协商缓存的区别</h2><p>\1. 强缓存不发请求到服务器，所以有时候资源更新了浏览器还不知道，但是协商缓存会发请求到服务器，所以资源是否更新，服务器肯定知道。</p>
<p>\2. 大部分web服务器都默认开启协商缓存。</p>
<h2 id="6-刷新对于强缓存和协商缓存的影响"><a href="#6-刷新对于强缓存和协商缓存的影响" class="headerlink" title="6. 刷新对于强缓存和协商缓存的影响"></a>6. 刷新对于强缓存和协商缓存的影响</h2><p>\1. 当ctrl+f5强制刷新网页时，直接从服务器加载，跳过强缓存和协商缓存。</p>
<p>\2. 当f5刷新网页时，跳过强缓存，但是会检查协商缓存。</p>
<p>\3. 浏览器地址栏中写入URL，回车 浏览器发现缓存中有这个文件了，不用继续请求了，直接去缓存拿。（最快）</p>
<p>转载自：<a href="https://mp.weixin.qq.com/s/C5XHTdLxSe9mo94yUaxFjA" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/C5XHTdLxSe9mo94yUaxFjA</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2021/05/31/nginx%E5%92%8Cjenkins%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AA%E7%81%B0%E5%BA%A6%E6%B5%8B%E8%AF%95%E7%8E%AF%E5%A2%83/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Dali">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/header.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DaliBlogs">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2021/05/31/nginx%E5%92%8Cjenkins%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AA%E7%81%B0%E5%BA%A6%E6%B5%8B%E8%AF%95%E7%8E%AF%E5%A2%83/" itemprop="url">nginx和jenkins搭建一个灰度测试环境</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2021-05-31T11:06:12+08:00">
                2021-05-31
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%81%B0%E5%BA%A6%E6%B5%8B%E8%AF%95/" itemprop="url" rel="index">
                    <span itemprop="name">灰度测试</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h1 id="引言"><a href="#引言" class="headerlink" title="引言"></a>引言</h1><p>灰度发布，又称金丝雀发布。</p>
<blockquote>
<p>金丝雀发布这一术语源于煤矿工人把笼养的金丝雀带入矿井的传统。矿工通过金丝雀来了解矿井中一氧化碳的浓度，如果一氧化碳的浓度过高，金丝雀就会中毒，从而使矿工知道应该立刻撤离。——《DevOps实践指南》</p>
</blockquote>
<p>对应到软件开中，则是指在发布新的产品特性时通过少量的用户试点确认新特性没有问题，确保无误后推广到更大的用户使用群体。</p>
<p>集成灰度发布的流水线在DevOps中是一个非常重要的工具和高效的实践，然而笔者在入职以前对流水线和灰度发布知之甚少。在了解一个新东西时，先从逻辑上打通所有的关键环节，然后再完成一个最简单的Demo，对于我们来说是比较有意思的学习路径，因此便有了这篇文章。</p>
<p>本文理论内容较少，主要是从零到一的搭建流程实践，适合对工程化感兴趣的初级前端开发者。</p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2021/05/31/nginx%E5%92%8Cjenkins%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AA%E7%81%B0%E5%BA%A6%E6%B5%8B%E8%AF%95%E7%8E%AF%E5%A2%83/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2021/05/31/nginx%E6%98%AF%E5%95%A5%E8%83%BD%E5%B9%B2%E5%95%A5/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Dali">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/header.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DaliBlogs">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2021/05/31/nginx%E6%98%AF%E5%95%A5%E8%83%BD%E5%B9%B2%E5%95%A5/" itemprop="url">nginx是啥能干啥</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2021-05-31T11:00:06+08:00">
                2021-05-31
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Nginx/" itemprop="url" rel="index">
                    <span itemprop="name">Nginx</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h2 id="Nginx的产生"><a href="#Nginx的产生" class="headerlink" title="Nginx的产生"></a><strong>Nginx的产生</strong></h2><p>Nginx 同 Apache 一样都是一种 Web 服务器。基于 REST 架构风格，以统一资源描述符（Uniform Resources Identifier）URI 或者统一资源定位符（Uniform Resources Locator）URL 作为沟通依据，通过 HTTP 协议提供各种网络服务。</p>
<p>然而，这些服务器在设计之初受到当时环境的局限，例如当时的用户规模，网络带宽，产品特点等局限并且各自的定位和发展都不尽相同。这也使得各个 Web 服务器有着各自鲜明的特点。</p>
<p>Apache 的发展时期很长，而且是毫无争议的世界第一大服务器。它有着很多优点：稳定、开源、跨平台等等。</p>
<p>它出现的时间太长了，它兴起的年代，互联网产业远远比不上现在。所以它被设计为一个重量级的。</p>
<p>它不支持高并发的服务器。在 Apache 上运行数以万计的并发访问，会导致服务器消耗大量内存。</p>
<p>操作系统对其进行进程或线程间的切换也消耗了大量的 CPU 资源，导致 HTTP 请求的平均响应速度降低。</p>
<p>这些都决定了 Apache 不可能成为高性能 Web 服务器，轻量级高并发服务器 Nginx 就应运而生了。</p>
<p>俄罗斯的工程师 Igor Sysoev，他在为 Rambler Media 工作期间，使用 C 语言开发了 Nginx。</p>
<p>Nginx 作为 Web 服务器一直为 Rambler Media 提供出色而又稳定的服务。然后呢，Igor Sysoev 将 Nginx 代码开源，并且赋予自由软件许可证。</p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2021/05/31/nginx%E6%98%AF%E5%95%A5%E8%83%BD%E5%B9%B2%E5%95%A5/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/">&lt;i class&#x3D;&quot;fa fa-angle-left&quot;&gt;&lt;&#x2F;i&gt;</a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/18/">18</a><a class="extend next" rel="next" href="/page/3/">&lt;i class&#x3D;&quot;fa fa-angle-right&quot;&gt;&lt;&#x2F;i&gt;</a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/header.jpg"
                alt="Dali" />
            
              <p class="site-author-name" itemprop="name">Dali</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">175</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">76</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">163</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Dali</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Gemini</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  
  

  

  

  

</body>
</html>
